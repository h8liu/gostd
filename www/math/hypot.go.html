<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2011352">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2011407">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2011461">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2011512">package</span>&nbsp;<span class="ident" id="2011520">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2011526">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspHypot&nbsp;--&nbsp;sqrt(p*p&nbsp;+&nbsp;q*q),&nbsp;but&nbsp;overflows&nbsp;only&nbsp;if&nbsp;the&nbsp;result&nbsp;does.<br>
<span class="lineno"></span>*/</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2011599">//&nbsp;Hypot&nbsp;returns&nbsp;Sqrt(p*p&nbsp;+&nbsp;q*q),&nbsp;taking&nbsp;care&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span><span class="comment" id="2011654">//&nbsp;unnecessary&nbsp;overflow&nbsp;and&nbsp;underflow.</span><br>
<span class="lineno"></span><span class="comment" id="2011693">//</span><br>
<span class="lineno"></span><span class="comment" id="2011696">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno">15</span><span class="comment" id="2011718">//&nbsp;&nbsp;&nbsp;&nbspHypot(±Inf,&nbsp;q)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno"></span><span class="comment" id="2011744">//&nbsp;&nbsp;&nbsp;&nbspHypot(p,&nbsp;±Inf)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno"></span><span class="comment" id="2011770">//&nbsp;&nbsp;&nbsp;&nbspHypot(NaN,&nbsp;q)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2011793">//&nbsp;&nbsp;&nbsp;&nbspHypot(p,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="2011816">func</span>&nbsp;<span class="ident" id="2011821">Hypot</span><span class="op" id="2011826">(</span><span class="ident" id="2011827">p</span><span class="op" id="2011828">,</span>&nbsp;<span class="ident" id="2011830">q</span>&nbsp;<span class="builtintype" id="2011832">float64</span><span class="op" id="2011839">)</span>&nbsp;<span class="builtintype" id="2011841">float64</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="2011850">func</span>&nbsp;<span class="ident" id="2011855">hypot</span><span class="op" id="2011860">(</span><span class="ident" id="2011861">p</span><span class="op" id="2011862">,</span>&nbsp;<span class="ident" id="2011864">q</span>&nbsp;<span class="builtintype" id="2011866">float64</span><span class="op" id="2011873">)</span>&nbsp;<span class="builtintype" id="2011875">float64</span>&nbsp;<span class="op" id="2011883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2011886">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011904">switch</span>&nbsp;<span class="op" id="2011911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011914">case</span>&nbsp;<span class="ident" id="2011919">IsInf</span><span class="op" id="2011924">(</span><span class="ident" id="2011925">p</span><span class="op" id="2011926">,</span>&nbsp;<span class="num" id="2011928">0</span><span class="op" id="2011929">)</span>&nbsp;<span class="op" id="2011931">||</span>&nbsp;<span class="ident" id="2011934">IsInf</span><span class="op" id="2011939">(</span><span class="ident" id="2011940">q</span><span class="op" id="2011941">,</span>&nbsp;<span class="num" id="2011943">0</span><span class="op" id="2011944">)</span><span class="op" id="2011945">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011949">return</span>&nbsp;<span class="ident" id="2011956">Inf</span><span class="op" id="2011959">(</span><span class="num" id="2011960">1</span><span class="op" id="2011961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011964">case</span>&nbsp;<span class="ident" id="2011969">IsNaN</span><span class="op" id="2011974">(</span><span class="ident" id="2011975">p</span><span class="op" id="2011976">)</span>&nbsp;<span class="op" id="2011978">||</span>&nbsp;<span class="ident" id="2011981">IsNaN</span><span class="op" id="2011986">(</span><span class="ident" id="2011987">q</span><span class="op" id="2011988">)</span><span class="op" id="2011989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011993">return</span>&nbsp;<span class="ident" id="2012000">NaN</span><span class="op" id="2012003">(</span><span class="op" id="2012004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2012007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2012010">if</span>&nbsp;<span class="ident" id="2012013">p</span>&nbsp;<span class="op" id="2012015">&lt;</span>&nbsp;<span class="num" id="2012017">0</span>&nbsp;<span class="op" id="2012019">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2012023">p</span>&nbsp;<span class="op" id="2012025">=</span>&nbsp;<span class="op" id="2012027">-</span><span class="ident" id="2012028">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2012031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2012034">if</span>&nbsp;<span class="ident" id="2012037">q</span>&nbsp;<span class="op" id="2012039">&lt;</span>&nbsp;<span class="num" id="2012041">0</span>&nbsp;<span class="op" id="2012043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2012047">q</span>&nbsp;<span class="op" id="2012049">=</span>&nbsp;<span class="op" id="2012051">-</span><span class="ident" id="2012052">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2012055">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2012058">if</span>&nbsp;<span class="ident" id="2012061">p</span>&nbsp;<span class="op" id="2012063">&lt;</span>&nbsp;<span class="ident" id="2012065">q</span>&nbsp;<span class="op" id="2012067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2012071">p</span><span class="op" id="2012072">,</span>&nbsp;<span class="ident" id="2012074">q</span>&nbsp;<span class="op" id="2012076">=</span>&nbsp;<span class="ident" id="2012078">q</span><span class="op" id="2012079">,</span>&nbsp;<span class="ident" id="2012081">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2012084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2012087">if</span>&nbsp;<span class="ident" id="2012090">p</span>&nbsp;<span class="op" id="2012092">==</span>&nbsp;<span class="num" id="2012095">0</span>&nbsp;<span class="op" id="2012097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2012101">return</span>&nbsp;<span class="num" id="2012108">0</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2012111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2012114">q</span>&nbsp;<span class="op" id="2012116">=</span>&nbsp;<span class="ident" id="2012118">q</span>&nbsp;<span class="op" id="2012120">/</span>&nbsp;<span class="ident" id="2012122">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2012125">return</span>&nbsp;<span class="ident" id="2012132">p</span>&nbsp;<span class="op" id="2012134">*</span>&nbsp;<span class="ident" id="2012136">Sqrt</span><span class="op" id="2012140">(</span><span class="num" id="2012141">1</span><span class="op" id="2012142">+</span><span class="ident" id="2012143">q</span><span class="op" id="2012144">*</span><span class="ident" id="2012145">q</span><span class="op" id="2012146">)</span><br>
<span class="lineno"></span><span class="op" id="2012148">}</span>
</div>
</body>
</html>
