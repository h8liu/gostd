<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strconv</h2>
<ul>
<li><a href="/gostd/strconv/atob.go.html">atob.go</a></li>
<li><a href="/gostd/strconv/atob_test.go.html">atob_test.go</a></li>
<li><a href="/gostd/strconv/atof.go.html" class="current">atof.go</a></li>
<li><a href="/gostd/strconv/atof_test.go.html">atof_test.go</a></li>
<li><a href="/gostd/strconv/atoi.go.html">atoi.go</a></li>
<li><a href="/gostd/strconv/atoi_test.go.html">atoi_test.go</a></li>
<li><a href="/gostd/strconv/decimal.go.html">decimal.go</a></li>
<li><a href="/gostd/strconv/decimal_test.go.html">decimal_test.go</a></li>
<li><a href="/gostd/strconv/extfloat.go.html">extfloat.go</a></li>
<li><a href="/gostd/strconv/fp_test.go.html">fp_test.go</a></li>
<li><a href="/gostd/strconv/ftoa.go.html">ftoa.go</a></li>
<li><a href="/gostd/strconv/ftoa_test.go.html">ftoa_test.go</a></li>
<li><a href="/gostd/strconv/internal_test.go.html">internal_test.go</a></li>
<li><a href="/gostd/strconv/isprint.go.html">isprint.go</a></li>
<li><a href="/gostd/strconv/itoa.go.html">itoa.go</a></li>
<li><a href="/gostd/strconv/itoa_test.go.html">itoa_test.go</a></li>
<li><a href="/gostd/strconv/quote.go.html">quote.go</a></li>
<li><a href="/gostd/strconv/quote_example_test.go.html">quote_example_test.go</a></li>
<li><a href="/gostd/strconv/quote_test.go.html">quote_test.go</a></li>
<li><a href="/gostd/strconv/strconv_test.go.html">strconv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2341309">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2341364">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2341418">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2341469">//&nbsp;Package&nbsp;strconv&nbsp;implements&nbsp;conversions&nbsp;to&nbsp;and&nbsp;from&nbsp;string&nbsp;representations</span><br>
<span class="lineno"></span><span class="comment" id="2341546">//&nbsp;of&nbsp;basic&nbsp;data&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2341570">package</span>&nbsp;<span class="ident" id="2341578">strconv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2341587">//&nbsp;decimal&nbsp;to&nbsp;binary&nbsp;floating&nbsp;point&nbsp;conversion.</span><br>
<span class="lineno">10</span><span class="comment" id="2341635">//&nbsp;Algorithm:</span><br>
<span class="lineno"></span><span class="comment" id="2341649">//&nbsp;&nbsp;&nbsp;1)&nbsp;Store&nbsp;input&nbsp;in&nbsp;multiprecision&nbsp;decimal.</span><br>
<span class="lineno"></span><span class="comment" id="2341696">//&nbsp;&nbsp;&nbsp;2)&nbsp;Multiply/divide&nbsp;decimal&nbsp;by&nbsp;powers&nbsp;of&nbsp;two&nbsp;until&nbsp;in&nbsp;range&nbsp;[0.5,&nbsp;1)</span><br>
<span class="lineno"></span><span class="comment" id="2341769">//&nbsp;&nbsp;&nbsp;3)&nbsp;Multiply&nbsp;by&nbsp;2^precision&nbsp;and&nbsp;round&nbsp;to&nbsp;get&nbsp;mantissa.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="2341829">import</span>&nbsp;<span class="string" id="2341836">&#34;math&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2341844">var</span>&nbsp;<span class="ident" id="2341848">optimize</span>&nbsp;<span class="op" id="2341857">=</span>&nbsp;<span class="builtintype" id="2341859">true</span>&nbsp;<span class="comment" id="2341864">//&nbsp;can&nbsp;change&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2341891">func</span>&nbsp;<span class="ident" id="2341896">equalIgnoreCase</span><span class="op" id="2341911">(</span><span class="ident" id="2341912">s1</span><span class="op" id="2341914">,</span>&nbsp;<span class="ident" id="2341916">s2</span>&nbsp;<span class="builtintype" id="2341919">string</span><span class="op" id="2341925">)</span>&nbsp;<span class="builtintype" id="2341927">bool</span>&nbsp;<span class="op" id="2341932">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2341935">if</span>&nbsp;<span class="builtinfunc" id="2341938">len</span><span class="op" id="2341941">(</span><span class="ident" id="2341942"><a href="/gostd/strconv/atof.go.html#2341912">s1</a></span><span class="op" id="2341944">)</span>&nbsp;<span class="op" id="2341946">!=</span>&nbsp;<span class="builtinfunc" id="2341949">len</span><span class="op" id="2341952">(</span><span class="ident" id="2341953"><a href="/gostd/strconv/atof.go.html#2341916">s2</a></span><span class="op" id="2341955">)</span>&nbsp;<span class="op" id="2341957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2341961">return</span>&nbsp;<span class="builtintype" id="2341968">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2341975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2341978">for</span>&nbsp;<span class="ident" id="2341982">i</span>&nbsp;<span class="op" id="2341984">:=</span>&nbsp;<span class="num" id="2341987">0</span><span class="op" id="2341988">;</span>&nbsp;<span class="ident" id="2341990"><a href="/gostd/strconv/atof.go.html#2341982">i</a></span>&nbsp;<span class="op" id="2341992">&lt;</span>&nbsp;<span class="builtinfunc" id="2341994">len</span><span class="op" id="2341997">(</span><span class="ident" id="2341998"><a href="/gostd/strconv/atof.go.html#2341912">s1</a></span><span class="op" id="2342000">)</span><span class="op" id="2342001">;</span>&nbsp;<span class="ident" id="2342003"><a href="/gostd/strconv/atof.go.html#2341982">i</a></span><span class="op" id="2342004">++</span>&nbsp;<span class="op" id="2342007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342011">c1</span>&nbsp;<span class="op" id="2342014">:=</span>&nbsp;<span class="ident" id="2342017"><a href="/gostd/strconv/atof.go.html#2341912">s1</a></span><span class="op" id="2342019">[</span><span class="ident" id="2342020"><a href="/gostd/strconv/atof.go.html#2341982">i</a></span><span class="op" id="2342021">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342025">if</span>&nbsp;<span class="string" id="2342028">&#39;A&#39;</span>&nbsp;<span class="op" id="2342032">&lt;=</span>&nbsp;<span class="ident" id="2342035"><a href="/gostd/strconv/atof.go.html#2342011">c1</a></span>&nbsp;<span class="op" id="2342038">&amp;&amp;</span>&nbsp;<span class="ident" id="2342041"><a href="/gostd/strconv/atof.go.html#2342011">c1</a></span>&nbsp;<span class="op" id="2342044">&lt;=</span>&nbsp;<span class="string" id="2342047">&#39;Z&#39;</span>&nbsp;<span class="op" id="2342051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342056"><a href="/gostd/strconv/atof.go.html#2342011">c1</a></span>&nbsp;<span class="op" id="2342059">+=</span>&nbsp;<span class="string" id="2342062">&#39;a&#39;</span>&nbsp;<span class="op" id="2342066">-</span>&nbsp;<span class="string" id="2342068">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342078">c2</span>&nbsp;<span class="op" id="2342081">:=</span>&nbsp;<span class="ident" id="2342084"><a href="/gostd/strconv/atof.go.html#2341916">s2</a></span><span class="op" id="2342086">[</span><span class="ident" id="2342087"><a href="/gostd/strconv/atof.go.html#2341982">i</a></span><span class="op" id="2342088">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342092">if</span>&nbsp;<span class="string" id="2342095">&#39;A&#39;</span>&nbsp;<span class="op" id="2342099">&lt;=</span>&nbsp;<span class="ident" id="2342102"><a href="/gostd/strconv/atof.go.html#2342078">c2</a></span>&nbsp;<span class="op" id="2342105">&amp;&amp;</span>&nbsp;<span class="ident" id="2342108"><a href="/gostd/strconv/atof.go.html#2342078">c2</a></span>&nbsp;<span class="op" id="2342111">&lt;=</span>&nbsp;<span class="string" id="2342114">&#39;Z&#39;</span>&nbsp;<span class="op" id="2342118">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342123"><a href="/gostd/strconv/atof.go.html#2342078">c2</a></span>&nbsp;<span class="op" id="2342126">+=</span>&nbsp;<span class="string" id="2342129">&#39;a&#39;</span>&nbsp;<span class="op" id="2342133">-</span>&nbsp;<span class="string" id="2342135">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342145">if</span>&nbsp;<span class="ident" id="2342148"><a href="/gostd/strconv/atof.go.html#2342011">c1</a></span>&nbsp;<span class="op" id="2342151">!=</span>&nbsp;<span class="ident" id="2342154"><a href="/gostd/strconv/atof.go.html#2342078">c2</a></span>&nbsp;<span class="op" id="2342157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342162">return</span>&nbsp;<span class="builtintype" id="2342169">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342177">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342183">return</span>&nbsp;<span class="builtintype" id="2342190">true</span><br>
<span class="lineno"></span><span class="op" id="2342195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2342198">func</span>&nbsp;<span class="ident" id="2342203">special</span><span class="op" id="2342210">(</span><span class="ident" id="2342211">s</span>&nbsp;<span class="builtintype" id="2342213">string</span><span class="op" id="2342219">)</span>&nbsp;<span class="op" id="2342221">(</span><span class="ident" id="2342222">f</span>&nbsp;<span class="builtintype" id="2342224">float64</span><span class="op" id="2342231">,</span>&nbsp;<span class="ident" id="2342233">ok</span>&nbsp;<span class="builtintype" id="2342236">bool</span><span class="op" id="2342240">)</span>&nbsp;<span class="op" id="2342242">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342245">if</span>&nbsp;<span class="builtinfunc" id="2342248">len</span><span class="op" id="2342251">(</span><span class="ident" id="2342252"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342253">)</span>&nbsp;<span class="op" id="2342255">==</span>&nbsp;<span class="num" id="2342258">0</span>&nbsp;<span class="op" id="2342260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342264">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342275">switch</span>&nbsp;<span class="ident" id="2342282"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342283">[</span><span class="num" id="2342284">0</span><span class="op" id="2342285">]</span>&nbsp;<span class="op" id="2342287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342290">default</span><span class="op" id="2342297">:</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342301">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342309">case</span>&nbsp;<span class="string" id="2342314">&#39;+&#39;</span><span class="op" id="2342317">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342321">if</span>&nbsp;<span class="ident" id="2342324"><a href="/gostd/strconv/atof.go.html#2341896">equalIgnoreCase</a></span><span class="op" id="2342339">(</span><span class="ident" id="2342340"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342341">,</span>&nbsp;<span class="string" id="2342343">&#34;+inf&#34;</span><span class="op" id="2342349">)</span>&nbsp;<span class="op" id="2342351">||</span>&nbsp;<span class="ident" id="2342354"><a href="/gostd/strconv/atof.go.html#2341896">equalIgnoreCase</a></span><span class="op" id="2342369">(</span><span class="ident" id="2342370"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342371">,</span>&nbsp;<span class="string" id="2342373">&#34;+infinity&#34;</span><span class="op" id="2342384">)</span>&nbsp;<span class="op" id="2342386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342391">return</span>&nbsp;<span class="ident" id="2342398"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2342402">.</span><span class="ident" id="2342403"><a href="/gostd/math/bits.go.html#2211123">Inf</a></span><span class="op" id="2342406">(</span><span class="num" id="2342407">1</span><span class="op" id="2342408">)</span><span class="op" id="2342409">,</span>&nbsp;<span class="builtintype" id="2342411">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342418">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342421">case</span>&nbsp;<span class="string" id="2342426">&#39;-&#39;</span><span class="op" id="2342429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342433">if</span>&nbsp;<span class="ident" id="2342436"><a href="/gostd/strconv/atof.go.html#2341896">equalIgnoreCase</a></span><span class="op" id="2342451">(</span><span class="ident" id="2342452"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342453">,</span>&nbsp;<span class="string" id="2342455">&#34;-inf&#34;</span><span class="op" id="2342461">)</span>&nbsp;<span class="op" id="2342463">||</span>&nbsp;<span class="ident" id="2342466"><a href="/gostd/strconv/atof.go.html#2341896">equalIgnoreCase</a></span><span class="op" id="2342481">(</span><span class="ident" id="2342482"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342483">,</span>&nbsp;<span class="string" id="2342485">&#34;-infinity&#34;</span><span class="op" id="2342496">)</span>&nbsp;<span class="op" id="2342498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342503">return</span>&nbsp;<span class="ident" id="2342510"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2342514">.</span><span class="ident" id="2342515"><a href="/gostd/math/bits.go.html#2211123">Inf</a></span><span class="op" id="2342518">(</span><span class="op" id="2342519">-</span><span class="num" id="2342520">1</span><span class="op" id="2342521">)</span><span class="op" id="2342522">,</span>&nbsp;<span class="builtintype" id="2342524">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342534">case</span>&nbsp;<span class="string" id="2342539">&#39;n&#39;</span><span class="op" id="2342542">,</span>&nbsp;<span class="string" id="2342544">&#39;N&#39;</span><span class="op" id="2342547">:</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342551">if</span>&nbsp;<span class="ident" id="2342554"><a href="/gostd/strconv/atof.go.html#2341896">equalIgnoreCase</a></span><span class="op" id="2342569">(</span><span class="ident" id="2342570"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342571">,</span>&nbsp;<span class="string" id="2342573">&#34;nan&#34;</span><span class="op" id="2342578">)</span>&nbsp;<span class="op" id="2342580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342585">return</span>&nbsp;<span class="ident" id="2342592"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2342596">.</span><span class="ident" id="2342597"><a href="/gostd/math/bits.go.html#2211303">NaN</a></span><span class="op" id="2342600">(</span><span class="op" id="2342601">)</span><span class="op" id="2342602">,</span>&nbsp;<span class="builtintype" id="2342604">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342614">case</span>&nbsp;<span class="string" id="2342619">&#39;i&#39;</span><span class="op" id="2342622">,</span>&nbsp;<span class="string" id="2342624">&#39;I&#39;</span><span class="op" id="2342627">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342631">if</span>&nbsp;<span class="ident" id="2342634"><a href="/gostd/strconv/atof.go.html#2341896">equalIgnoreCase</a></span><span class="op" id="2342649">(</span><span class="ident" id="2342650"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342651">,</span>&nbsp;<span class="string" id="2342653">&#34;inf&#34;</span><span class="op" id="2342658">)</span>&nbsp;<span class="op" id="2342660">||</span>&nbsp;<span class="ident" id="2342663"><a href="/gostd/strconv/atof.go.html#2341896">equalIgnoreCase</a></span><span class="op" id="2342678">(</span><span class="ident" id="2342679"><a href="/gostd/strconv/atof.go.html#2342211">s</a></span><span class="op" id="2342680">,</span>&nbsp;<span class="string" id="2342682">&#34;infinity&#34;</span><span class="op" id="2342692">)</span>&nbsp;<span class="op" id="2342694">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342699">return</span>&nbsp;<span class="ident" id="2342706"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2342710">.</span><span class="ident" id="2342711"><a href="/gostd/math/bits.go.html#2211123">Inf</a></span><span class="op" id="2342714">(</span><span class="num" id="2342715">1</span><span class="op" id="2342716">)</span><span class="op" id="2342717">,</span>&nbsp;<span class="builtintype" id="2342719">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342732">return</span><br>
<span class="lineno"></span><span class="op" id="2342739">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="2342742">func</span>&nbsp;<span class="op" id="2342747">(</span><span class="ident" id="2342748">b</span>&nbsp;<span class="op" id="2342750">*</span><span class="ident" id="2342751"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2342758">)</span>&nbsp;<span class="ident" id="2342760">set</span><span class="op" id="2342763">(</span><span class="ident" id="2342764">s</span>&nbsp;<span class="builtintype" id="2342766">string</span><span class="op" id="2342772">)</span>&nbsp;<span class="op" id="2342774">(</span><span class="ident" id="2342775">ok</span>&nbsp;<span class="builtintype" id="2342778">bool</span><span class="op" id="2342782">)</span>&nbsp;<span class="op" id="2342784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342787">i</span>&nbsp;<span class="op" id="2342789">:=</span>&nbsp;<span class="num" id="2342792">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342795"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2342796">.</span><span class="ident" id="2342797"><a href="/gostd/strconv/decimal.go.html#2357750">neg</a></span>&nbsp;<span class="op" id="2342801">=</span>&nbsp;<span class="builtintype" id="2342803">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342810"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2342811">.</span><span class="ident" id="2342812"><a href="/gostd/strconv/decimal.go.html#2357762">trunc</a></span>&nbsp;<span class="op" id="2342818">=</span>&nbsp;<span class="builtintype" id="2342820">false</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2342828">//&nbsp;optional&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342846">if</span>&nbsp;<span class="ident" id="2342849"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span>&nbsp;<span class="op" id="2342851">&gt;=</span>&nbsp;<span class="builtinfunc" id="2342854">len</span><span class="op" id="2342857">(</span><span class="ident" id="2342858"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2342859">)</span>&nbsp;<span class="op" id="2342861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342865">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342873">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342876">switch</span>&nbsp;<span class="op" id="2342883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342886">case</span>&nbsp;<span class="ident" id="2342891"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2342892">[</span><span class="ident" id="2342893"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2342894">]</span>&nbsp;<span class="op" id="2342896">==</span>&nbsp;<span class="string" id="2342899">&#39;+&#39;</span><span class="op" id="2342902">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342906"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2342907">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2342911">case</span>&nbsp;<span class="ident" id="2342916"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2342917">[</span><span class="ident" id="2342918"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2342919">]</span>&nbsp;<span class="op" id="2342921">==</span>&nbsp;<span class="string" id="2342924">&#39;-&#39;</span><span class="op" id="2342927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342931"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2342932">.</span><span class="ident" id="2342933"><a href="/gostd/strconv/decimal.go.html#2357750">neg</a></span>&nbsp;<span class="op" id="2342937">=</span>&nbsp;<span class="builtintype" id="2342939">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342946"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2342947">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2342951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2342955">//&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342966">sawdot</span>&nbsp;<span class="op" id="2342973">:=</span>&nbsp;<span class="builtintype" id="2342976">false</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2342983">sawdigits</span>&nbsp;<span class="op" id="2342993">:=</span>&nbsp;<span class="builtintype" id="2342996">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343003">for</span>&nbsp;<span class="op" id="2343007">;</span>&nbsp;<span class="ident" id="2343009"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span>&nbsp;<span class="op" id="2343011">&lt;</span>&nbsp;<span class="builtinfunc" id="2343013">len</span><span class="op" id="2343016">(</span><span class="ident" id="2343017"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343018">)</span><span class="op" id="2343019">;</span>&nbsp;<span class="ident" id="2343021"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343022">++</span>&nbsp;<span class="op" id="2343025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343029">switch</span>&nbsp;<span class="op" id="2343036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343040">case</span>&nbsp;<span class="ident" id="2343045"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343046">[</span><span class="ident" id="2343047"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343048">]</span>&nbsp;<span class="op" id="2343050">==</span>&nbsp;<span class="string" id="2343053">&#39;.&#39;</span><span class="op" id="2343056">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343061">if</span>&nbsp;<span class="ident" id="2343064"><a href="/gostd/strconv/atof.go.html#2342966">sawdot</a></span>&nbsp;<span class="op" id="2343071">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343077">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343092"><a href="/gostd/strconv/atof.go.html#2342966">sawdot</a></span>&nbsp;<span class="op" id="2343099">=</span>&nbsp;<span class="builtintype" id="2343101">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343109"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343110">.</span><span class="ident" id="2343111"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2343114">=</span>&nbsp;<span class="ident" id="2343116"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343117">.</span><span class="ident" id="2343118"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343124">continue</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343136">case</span>&nbsp;<span class="string" id="2343141">&#39;0&#39;</span>&nbsp;<span class="op" id="2343145">&lt;=</span>&nbsp;<span class="ident" id="2343148"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343149">[</span><span class="ident" id="2343150"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343151">]</span>&nbsp;<span class="op" id="2343153">&amp;&amp;</span>&nbsp;<span class="ident" id="2343156"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343157">[</span><span class="ident" id="2343158"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343159">]</span>&nbsp;<span class="op" id="2343161">&lt;=</span>&nbsp;<span class="string" id="2343164">&#39;9&#39;</span><span class="op" id="2343167">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343172"><a href="/gostd/strconv/atof.go.html#2342983">sawdigits</a></span>&nbsp;<span class="op" id="2343182">=</span>&nbsp;<span class="builtintype" id="2343184">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343192">if</span>&nbsp;<span class="ident" id="2343195"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343196">[</span><span class="ident" id="2343197"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343198">]</span>&nbsp;<span class="op" id="2343200">==</span>&nbsp;<span class="string" id="2343203">&#39;0&#39;</span>&nbsp;<span class="op" id="2343207">&amp;&amp;</span>&nbsp;<span class="ident" id="2343210"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343211">.</span><span class="ident" id="2343212"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2343215">==</span>&nbsp;<span class="num" id="2343218">0</span>&nbsp;<span class="op" id="2343220">{</span>&nbsp;<span class="comment" id="2343222">//&nbsp;ignore&nbsp;leading&nbsp;zeros</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343250"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343251">.</span><span class="ident" id="2343252"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2343254">--</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343261">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343278">if</span>&nbsp;<span class="ident" id="2343281"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343282">.</span><span class="ident" id="2343283"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2343286">&lt;</span>&nbsp;<span class="builtinfunc" id="2343288">len</span><span class="op" id="2343291">(</span><span class="ident" id="2343292"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343293">.</span><span class="ident" id="2343294"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2343295">)</span>&nbsp;<span class="op" id="2343297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343303"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343304">.</span><span class="ident" id="2343305"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2343306">[</span><span class="ident" id="2343307"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343308">.</span><span class="ident" id="2343309"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2343311">]</span>&nbsp;<span class="op" id="2343313">=</span>&nbsp;<span class="ident" id="2343315"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343316">[</span><span class="ident" id="2343317"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343318">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343324"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343325">.</span><span class="ident" id="2343326"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><span class="op" id="2343328">++</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343334">}</span>&nbsp;<span class="keyword" id="2343336">else</span>&nbsp;<span class="keyword" id="2343341">if</span>&nbsp;<span class="ident" id="2343344"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343345">[</span><span class="ident" id="2343346"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343347">]</span>&nbsp;<span class="op" id="2343349">!=</span>&nbsp;<span class="string" id="2343352">&#39;0&#39;</span>&nbsp;<span class="op" id="2343356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343362"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343363">.</span><span class="ident" id="2343364"><a href="/gostd/strconv/decimal.go.html#2357762">trunc</a></span>&nbsp;<span class="op" id="2343370">=</span>&nbsp;<span class="builtintype" id="2343372">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343385">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343396">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343400">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343410">if</span>&nbsp;<span class="op" id="2343413">!</span><span class="ident" id="2343414"><a href="/gostd/strconv/atof.go.html#2342983">sawdigits</a></span>&nbsp;<span class="op" id="2343424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343428">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343436">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343439">if</span>&nbsp;<span class="op" id="2343442">!</span><span class="ident" id="2343443"><a href="/gostd/strconv/atof.go.html#2342966">sawdot</a></span>&nbsp;<span class="op" id="2343450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343454"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343455">.</span><span class="ident" id="2343456"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2343459">=</span>&nbsp;<span class="ident" id="2343461"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2343462">.</span><span class="ident" id="2343463"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2343471">//&nbsp;optional&nbsp;exponent&nbsp;moves&nbsp;decimal&nbsp;point.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2343514">//&nbsp;if&nbsp;we&nbsp;read&nbsp;a&nbsp;very&nbsp;large,&nbsp;very&nbsp;long&nbsp;number,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2343561">//&nbsp;just&nbsp;be&nbsp;sure&nbsp;to&nbsp;move&nbsp;the&nbsp;decimal&nbsp;point&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2343607">//&nbsp;a&nbsp;lot&nbsp;(say,&nbsp;100000).&nbsp;&nbsp;it&nbsp;doesn&#39;t&nbsp;matter&nbsp;if&nbsp;it&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2343659">//&nbsp;not&nbsp;the&nbsp;exact&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343685">if</span>&nbsp;<span class="ident" id="2343688"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span>&nbsp;<span class="op" id="2343690">&lt;</span>&nbsp;<span class="builtinfunc" id="2343692">len</span><span class="op" id="2343695">(</span><span class="ident" id="2343696"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343697">)</span>&nbsp;<span class="op" id="2343699">&amp;&amp;</span>&nbsp;<span class="op" id="2343702">(</span><span class="ident" id="2343703"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343704">[</span><span class="ident" id="2343705"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343706">]</span>&nbsp;<span class="op" id="2343708">==</span>&nbsp;<span class="string" id="2343711">&#39;e&#39;</span>&nbsp;<span class="op" id="2343715">||</span>&nbsp;<span class="ident" id="2343718"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343719">[</span><span class="ident" id="2343720"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343721">]</span>&nbsp;<span class="op" id="2343723">==</span>&nbsp;<span class="string" id="2343726">&#39;E&#39;</span><span class="op" id="2343729">)</span>&nbsp;<span class="op" id="2343731">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343735"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343736">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343741">if</span>&nbsp;<span class="ident" id="2343744"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span>&nbsp;<span class="op" id="2343746">&gt;=</span>&nbsp;<span class="builtinfunc" id="2343749">len</span><span class="op" id="2343752">(</span><span class="ident" id="2343753"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343754">)</span>&nbsp;<span class="op" id="2343756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343761">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343774">esign</span>&nbsp;<span class="op" id="2343780">:=</span>&nbsp;<span class="num" id="2343783">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343787">if</span>&nbsp;<span class="ident" id="2343790"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343791">[</span><span class="ident" id="2343792"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343793">]</span>&nbsp;<span class="op" id="2343795">==</span>&nbsp;<span class="string" id="2343798">&#39;+&#39;</span>&nbsp;<span class="op" id="2343802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343807"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343808">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343813">}</span>&nbsp;<span class="keyword" id="2343815">else</span>&nbsp;<span class="keyword" id="2343820">if</span>&nbsp;<span class="ident" id="2343823"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343824">[</span><span class="ident" id="2343825"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343826">]</span>&nbsp;<span class="op" id="2343828">==</span>&nbsp;<span class="string" id="2343831">&#39;-&#39;</span>&nbsp;<span class="op" id="2343835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343840"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343841">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343847"><a href="/gostd/strconv/atof.go.html#2343774">esign</a></span>&nbsp;<span class="op" id="2343853">=</span>&nbsp;<span class="op" id="2343855">-</span><span class="num" id="2343856">1</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343864">if</span>&nbsp;<span class="ident" id="2343867"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span>&nbsp;<span class="op" id="2343869">&gt;=</span>&nbsp;<span class="builtinfunc" id="2343872">len</span><span class="op" id="2343875">(</span><span class="ident" id="2343876"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343877">)</span>&nbsp;<span class="op" id="2343879">||</span>&nbsp;<span class="ident" id="2343882"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343883">[</span><span class="ident" id="2343884"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343885">]</span>&nbsp;<span class="op" id="2343887">&lt;</span>&nbsp;<span class="string" id="2343889">&#39;0&#39;</span>&nbsp;<span class="op" id="2343893">||</span>&nbsp;<span class="ident" id="2343896"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343897">[</span><span class="ident" id="2343898"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343899">]</span>&nbsp;<span class="op" id="2343901">&gt;</span>&nbsp;<span class="string" id="2343903">&#39;9&#39;</span>&nbsp;<span class="op" id="2343907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343912">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2343921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2343925">e</span>&nbsp;<span class="op" id="2343927">:=</span>&nbsp;<span class="num" id="2343930">0</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343934">for</span>&nbsp;<span class="op" id="2343938">;</span>&nbsp;<span class="ident" id="2343940"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span>&nbsp;<span class="op" id="2343942">&lt;</span>&nbsp;<span class="builtinfunc" id="2343944">len</span><span class="op" id="2343947">(</span><span class="ident" id="2343948"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343949">)</span>&nbsp;<span class="op" id="2343951">&amp;&amp;</span>&nbsp;<span class="string" id="2343954">&#39;0&#39;</span>&nbsp;<span class="op" id="2343958">&lt;=</span>&nbsp;<span class="ident" id="2343961"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343962">[</span><span class="ident" id="2343963"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343964">]</span>&nbsp;<span class="op" id="2343966">&amp;&amp;</span>&nbsp;<span class="ident" id="2343969"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2343970">[</span><span class="ident" id="2343971"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343972">]</span>&nbsp;<span class="op" id="2343974">&lt;=</span>&nbsp;<span class="string" id="2343977">&#39;9&#39;</span><span class="op" id="2343980">;</span>&nbsp;<span class="ident" id="2343982"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2343983">++</span>&nbsp;<span class="op" id="2343986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2343991">if</span>&nbsp;<span class="ident" id="2343994"><a href="/gostd/strconv/atof.go.html#2343925">e</a></span>&nbsp;<span class="op" id="2343996">&lt;</span>&nbsp;<span class="num" id="2343998">10000</span>&nbsp;<span class="op" id="2344004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344010"><a href="/gostd/strconv/atof.go.html#2343925">e</a></span>&nbsp;<span class="op" id="2344012">=</span>&nbsp;<span class="ident" id="2344014"><a href="/gostd/strconv/atof.go.html#2343925">e</a></span><span class="op" id="2344015">*</span><span class="num" id="2344016">10</span>&nbsp;<span class="op" id="2344019">+</span>&nbsp;<span class="builtintype" id="2344021">int</span><span class="op" id="2344024">(</span><span class="ident" id="2344025"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2344026">[</span><span class="ident" id="2344027"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span><span class="op" id="2344028">]</span><span class="op" id="2344029">)</span>&nbsp;<span class="op" id="2344031">-</span>&nbsp;<span class="string" id="2344033">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344044">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344048"><a href="/gostd/strconv/atof.go.html#2342748">b</a></span><span class="op" id="2344049">.</span><span class="ident" id="2344050"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2344053">+=</span>&nbsp;<span class="ident" id="2344056"><a href="/gostd/strconv/atof.go.html#2343925">e</a></span>&nbsp;<span class="op" id="2344058">*</span>&nbsp;<span class="ident" id="2344060"><a href="/gostd/strconv/atof.go.html#2343774">esign</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344071">if</span>&nbsp;<span class="ident" id="2344074"><a href="/gostd/strconv/atof.go.html#2342787">i</a></span>&nbsp;<span class="op" id="2344076">!=</span>&nbsp;<span class="builtinfunc" id="2344079">len</span><span class="op" id="2344082">(</span><span class="ident" id="2344083"><a href="/gostd/strconv/atof.go.html#2342764">s</a></span><span class="op" id="2344084">)</span>&nbsp;<span class="op" id="2344086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344090">return</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344102"><a href="/gostd/strconv/atof.go.html#2342775">ok</a></span>&nbsp;<span class="op" id="2344105">=</span>&nbsp;<span class="builtintype" id="2344107">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344113">return</span><br>
<span class="lineno"></span><span class="op" id="2344120">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="2344123">//&nbsp;readFloat&nbsp;reads&nbsp;a&nbsp;decimal&nbsp;mantissa&nbsp;and&nbsp;exponent&nbsp;from&nbsp;a&nbsp;float</span><br>
<span class="lineno"></span><span class="comment" id="2344187">//&nbsp;string&nbsp;representation.&nbsp;It&nbsp;sets&nbsp;ok&nbsp;to&nbsp;false&nbsp;if&nbsp;the&nbsp;number&nbsp;could</span><br>
<span class="lineno"></span><span class="comment" id="2344253">//&nbsp;not&nbsp;fit&nbsp;return&nbsp;types&nbsp;or&nbsp;is&nbsp;invalid.</span><br>
<span class="lineno"></span><span class="keyword" id="2344292">func</span>&nbsp;<span class="ident" id="2344297">readFloat</span><span class="op" id="2344306">(</span><span class="ident" id="2344307">s</span>&nbsp;<span class="builtintype" id="2344309">string</span><span class="op" id="2344315">)</span>&nbsp;<span class="op" id="2344317">(</span><span class="ident" id="2344318">mantissa</span>&nbsp;<span class="builtintype" id="2344327">uint64</span><span class="op" id="2344333">,</span>&nbsp;<span class="ident" id="2344335">exp</span>&nbsp;<span class="builtintype" id="2344339">int</span><span class="op" id="2344342">,</span>&nbsp;<span class="ident" id="2344344">neg</span><span class="op" id="2344347">,</span>&nbsp;<span class="ident" id="2344349">trunc</span><span class="op" id="2344354">,</span>&nbsp;<span class="ident" id="2344356">ok</span>&nbsp;<span class="builtintype" id="2344359">bool</span><span class="op" id="2344363">)</span>&nbsp;<span class="op" id="2344365">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344368">const</span>&nbsp;<span class="ident" id="2344374">uint64digits</span>&nbsp;<span class="op" id="2344387">=</span>&nbsp;<span class="num" id="2344389">19</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344393">i</span>&nbsp;<span class="op" id="2344395">:=</span>&nbsp;<span class="num" id="2344398">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2344402">//&nbsp;optional&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344420">if</span>&nbsp;<span class="ident" id="2344423"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span>&nbsp;<span class="op" id="2344425">&gt;=</span>&nbsp;<span class="builtinfunc" id="2344428">len</span><span class="op" id="2344431">(</span><span class="ident" id="2344432"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2344433">)</span>&nbsp;<span class="op" id="2344435">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344439">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344450">switch</span>&nbsp;<span class="op" id="2344457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344460">case</span>&nbsp;<span class="ident" id="2344465"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2344466">[</span><span class="ident" id="2344467"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2344468">]</span>&nbsp;<span class="op" id="2344470">==</span>&nbsp;<span class="string" id="2344473">&#39;+&#39;</span><span class="op" id="2344476">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344480"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2344481">++</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344485">case</span>&nbsp;<span class="ident" id="2344490"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2344491">[</span><span class="ident" id="2344492"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2344493">]</span>&nbsp;<span class="op" id="2344495">==</span>&nbsp;<span class="string" id="2344498">&#39;-&#39;</span><span class="op" id="2344501">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344505"><a href="/gostd/strconv/atof.go.html#2344344">neg</a></span>&nbsp;<span class="op" id="2344509">=</span>&nbsp;<span class="builtintype" id="2344511">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344518"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2344519">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2344527">//&nbsp;digits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344538">sawdot</span>&nbsp;<span class="op" id="2344545">:=</span>&nbsp;<span class="builtintype" id="2344548">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344555">sawdigits</span>&nbsp;<span class="op" id="2344565">:=</span>&nbsp;<span class="builtintype" id="2344568">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344575">nd</span>&nbsp;<span class="op" id="2344578">:=</span>&nbsp;<span class="num" id="2344581">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344584">ndMant</span>&nbsp;<span class="op" id="2344591">:=</span>&nbsp;<span class="num" id="2344594">0</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344597">dp</span>&nbsp;<span class="op" id="2344600">:=</span>&nbsp;<span class="num" id="2344603">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344606">for</span>&nbsp;<span class="op" id="2344610">;</span>&nbsp;<span class="ident" id="2344612"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span>&nbsp;<span class="op" id="2344614">&lt;</span>&nbsp;<span class="builtinfunc" id="2344616">len</span><span class="op" id="2344619">(</span><span class="ident" id="2344620"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2344621">)</span><span class="op" id="2344622">;</span>&nbsp;<span class="ident" id="2344624"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2344625">++</span>&nbsp;<span class="op" id="2344628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344632">switch</span>&nbsp;<span class="ident" id="2344639">c</span>&nbsp;<span class="op" id="2344641">:=</span>&nbsp;<span class="ident" id="2344644"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2344645">[</span><span class="ident" id="2344646"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2344647">]</span><span class="op" id="2344648">;</span>&nbsp;<span class="builtintype" id="2344650">true</span>&nbsp;<span class="op" id="2344655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344659">case</span>&nbsp;<span class="ident" id="2344664"><a href="/gostd/strconv/atof.go.html#2344639">c</a></span>&nbsp;<span class="op" id="2344666">==</span>&nbsp;<span class="string" id="2344669">&#39;.&#39;</span><span class="op" id="2344672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344677">if</span>&nbsp;<span class="ident" id="2344680"><a href="/gostd/strconv/atof.go.html#2344538">sawdot</a></span>&nbsp;<span class="op" id="2344687">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344693">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344708"><a href="/gostd/strconv/atof.go.html#2344538">sawdot</a></span>&nbsp;<span class="op" id="2344715">=</span>&nbsp;<span class="builtintype" id="2344717">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344725"><a href="/gostd/strconv/atof.go.html#2344597">dp</a></span>&nbsp;<span class="op" id="2344728">=</span>&nbsp;<span class="ident" id="2344730"><a href="/gostd/strconv/atof.go.html#2344575">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344736">continue</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344748">case</span>&nbsp;<span class="string" id="2344753">&#39;0&#39;</span>&nbsp;<span class="op" id="2344757">&lt;=</span>&nbsp;<span class="ident" id="2344760"><a href="/gostd/strconv/atof.go.html#2344639">c</a></span>&nbsp;<span class="op" id="2344762">&amp;&amp;</span>&nbsp;<span class="ident" id="2344765"><a href="/gostd/strconv/atof.go.html#2344639">c</a></span>&nbsp;<span class="op" id="2344767">&lt;=</span>&nbsp;<span class="string" id="2344770">&#39;9&#39;</span><span class="op" id="2344773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344778"><a href="/gostd/strconv/atof.go.html#2344555">sawdigits</a></span>&nbsp;<span class="op" id="2344788">=</span>&nbsp;<span class="builtintype" id="2344790">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344798">if</span>&nbsp;<span class="ident" id="2344801"><a href="/gostd/strconv/atof.go.html#2344639">c</a></span>&nbsp;<span class="op" id="2344803">==</span>&nbsp;<span class="string" id="2344806">&#39;0&#39;</span>&nbsp;<span class="op" id="2344810">&amp;&amp;</span>&nbsp;<span class="ident" id="2344813"><a href="/gostd/strconv/atof.go.html#2344575">nd</a></span>&nbsp;<span class="op" id="2344816">==</span>&nbsp;<span class="num" id="2344819">0</span>&nbsp;<span class="op" id="2344821">{</span>&nbsp;<span class="comment" id="2344823">//&nbsp;ignore&nbsp;leading&nbsp;zeros</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344851"><a href="/gostd/strconv/atof.go.html#2344597">dp</a></span><span class="op" id="2344853">--</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344860">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344877"><a href="/gostd/strconv/atof.go.html#2344575">nd</a></span><span class="op" id="2344879">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2344885">if</span>&nbsp;<span class="ident" id="2344888"><a href="/gostd/strconv/atof.go.html#2344584">ndMant</a></span>&nbsp;<span class="op" id="2344895">&lt;</span>&nbsp;<span class="ident" id="2344897"><a href="/gostd/strconv/atof.go.html#2344374">uint64digits</a></span>&nbsp;<span class="op" id="2344910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344916"><a href="/gostd/strconv/atof.go.html#2344318">mantissa</a></span>&nbsp;<span class="op" id="2344925">*=</span>&nbsp;<span class="num" id="2344928">10</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344935"><a href="/gostd/strconv/atof.go.html#2344318">mantissa</a></span>&nbsp;<span class="op" id="2344944">+=</span>&nbsp;<span class="builtintype" id="2344947">uint64</span><span class="op" id="2344953">(</span><span class="ident" id="2344954"><a href="/gostd/strconv/atof.go.html#2344639">c</a></span>&nbsp;<span class="op" id="2344956">-</span>&nbsp;<span class="string" id="2344958">&#39;0&#39;</span><span class="op" id="2344961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2344967"><a href="/gostd/strconv/atof.go.html#2344584">ndMant</a></span><span class="op" id="2344973">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2344979">}</span>&nbsp;<span class="keyword" id="2344981">else</span>&nbsp;<span class="keyword" id="2344986">if</span>&nbsp;<span class="ident" id="2344989"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2344990">[</span><span class="ident" id="2344991"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2344992">]</span>&nbsp;<span class="op" id="2344994">!=</span>&nbsp;<span class="string" id="2344997">&#39;0&#39;</span>&nbsp;<span class="op" id="2345001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345007"><a href="/gostd/strconv/atof.go.html#2344349">trunc</a></span>&nbsp;<span class="op" id="2345013">=</span>&nbsp;<span class="builtintype" id="2345015">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345023">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345028">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345043">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345053">if</span>&nbsp;<span class="op" id="2345056">!</span><span class="ident" id="2345057"><a href="/gostd/strconv/atof.go.html#2344555">sawdigits</a></span>&nbsp;<span class="op" id="2345067">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345071">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345082">if</span>&nbsp;<span class="op" id="2345085">!</span><span class="ident" id="2345086"><a href="/gostd/strconv/atof.go.html#2344538">sawdot</a></span>&nbsp;<span class="op" id="2345093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345097"><a href="/gostd/strconv/atof.go.html#2344597">dp</a></span>&nbsp;<span class="op" id="2345100">=</span>&nbsp;<span class="ident" id="2345102"><a href="/gostd/strconv/atof.go.html#2344575">nd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345106">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2345110">//&nbsp;optional&nbsp;exponent&nbsp;moves&nbsp;decimal&nbsp;point.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2345153">//&nbsp;if&nbsp;we&nbsp;read&nbsp;a&nbsp;very&nbsp;large,&nbsp;very&nbsp;long&nbsp;number,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2345200">//&nbsp;just&nbsp;be&nbsp;sure&nbsp;to&nbsp;move&nbsp;the&nbsp;decimal&nbsp;point&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2345246">//&nbsp;a&nbsp;lot&nbsp;(say,&nbsp;100000).&nbsp;&nbsp;it&nbsp;doesn&#39;t&nbsp;matter&nbsp;if&nbsp;it&#39;s</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2345298">//&nbsp;not&nbsp;the&nbsp;exact&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345324">if</span>&nbsp;<span class="ident" id="2345327"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span>&nbsp;<span class="op" id="2345329">&lt;</span>&nbsp;<span class="builtinfunc" id="2345331">len</span><span class="op" id="2345334">(</span><span class="ident" id="2345335"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345336">)</span>&nbsp;<span class="op" id="2345338">&amp;&amp;</span>&nbsp;<span class="op" id="2345341">(</span><span class="ident" id="2345342"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345343">[</span><span class="ident" id="2345344"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345345">]</span>&nbsp;<span class="op" id="2345347">==</span>&nbsp;<span class="string" id="2345350">&#39;e&#39;</span>&nbsp;<span class="op" id="2345354">||</span>&nbsp;<span class="ident" id="2345357"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345358">[</span><span class="ident" id="2345359"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345360">]</span>&nbsp;<span class="op" id="2345362">==</span>&nbsp;<span class="string" id="2345365">&#39;E&#39;</span><span class="op" id="2345368">)</span>&nbsp;<span class="op" id="2345370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345374"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345375">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345380">if</span>&nbsp;<span class="ident" id="2345383"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span>&nbsp;<span class="op" id="2345385">&gt;=</span>&nbsp;<span class="builtinfunc" id="2345388">len</span><span class="op" id="2345391">(</span><span class="ident" id="2345392"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345393">)</span>&nbsp;<span class="op" id="2345395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345400">return</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345413">esign</span>&nbsp;<span class="op" id="2345419">:=</span>&nbsp;<span class="num" id="2345422">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345426">if</span>&nbsp;<span class="ident" id="2345429"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345430">[</span><span class="ident" id="2345431"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345432">]</span>&nbsp;<span class="op" id="2345434">==</span>&nbsp;<span class="string" id="2345437">&#39;+&#39;</span>&nbsp;<span class="op" id="2345441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345446"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345447">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345452">}</span>&nbsp;<span class="keyword" id="2345454">else</span>&nbsp;<span class="keyword" id="2345459">if</span>&nbsp;<span class="ident" id="2345462"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345463">[</span><span class="ident" id="2345464"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345465">]</span>&nbsp;<span class="op" id="2345467">==</span>&nbsp;<span class="string" id="2345470">&#39;-&#39;</span>&nbsp;<span class="op" id="2345474">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345479"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345480">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345486"><a href="/gostd/strconv/atof.go.html#2345413">esign</a></span>&nbsp;<span class="op" id="2345492">=</span>&nbsp;<span class="op" id="2345494">-</span><span class="num" id="2345495">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345503">if</span>&nbsp;<span class="ident" id="2345506"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span>&nbsp;<span class="op" id="2345508">&gt;=</span>&nbsp;<span class="builtinfunc" id="2345511">len</span><span class="op" id="2345514">(</span><span class="ident" id="2345515"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345516">)</span>&nbsp;<span class="op" id="2345518">||</span>&nbsp;<span class="ident" id="2345521"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345522">[</span><span class="ident" id="2345523"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345524">]</span>&nbsp;<span class="op" id="2345526">&lt;</span>&nbsp;<span class="string" id="2345528">&#39;0&#39;</span>&nbsp;<span class="op" id="2345532">||</span>&nbsp;<span class="ident" id="2345535"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345536">[</span><span class="ident" id="2345537"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345538">]</span>&nbsp;<span class="op" id="2345540">&gt;</span>&nbsp;<span class="string" id="2345542">&#39;9&#39;</span>&nbsp;<span class="op" id="2345546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345551">return</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345564">e</span>&nbsp;<span class="op" id="2345566">:=</span>&nbsp;<span class="num" id="2345569">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345573">for</span>&nbsp;<span class="op" id="2345577">;</span>&nbsp;<span class="ident" id="2345579"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span>&nbsp;<span class="op" id="2345581">&lt;</span>&nbsp;<span class="builtinfunc" id="2345583">len</span><span class="op" id="2345586">(</span><span class="ident" id="2345587"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345588">)</span>&nbsp;<span class="op" id="2345590">&amp;&amp;</span>&nbsp;<span class="string" id="2345593">&#39;0&#39;</span>&nbsp;<span class="op" id="2345597">&lt;=</span>&nbsp;<span class="ident" id="2345600"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345601">[</span><span class="ident" id="2345602"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345603">]</span>&nbsp;<span class="op" id="2345605">&amp;&amp;</span>&nbsp;<span class="ident" id="2345608"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345609">[</span><span class="ident" id="2345610"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345611">]</span>&nbsp;<span class="op" id="2345613">&lt;=</span>&nbsp;<span class="string" id="2345616">&#39;9&#39;</span><span class="op" id="2345619">;</span>&nbsp;<span class="ident" id="2345621"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345622">++</span>&nbsp;<span class="op" id="2345625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345630">if</span>&nbsp;<span class="ident" id="2345633"><a href="/gostd/strconv/atof.go.html#2345564">e</a></span>&nbsp;<span class="op" id="2345635">&lt;</span>&nbsp;<span class="num" id="2345637">10000</span>&nbsp;<span class="op" id="2345643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345649"><a href="/gostd/strconv/atof.go.html#2345564">e</a></span>&nbsp;<span class="op" id="2345651">=</span>&nbsp;<span class="ident" id="2345653"><a href="/gostd/strconv/atof.go.html#2345564">e</a></span><span class="op" id="2345654">*</span><span class="num" id="2345655">10</span>&nbsp;<span class="op" id="2345658">+</span>&nbsp;<span class="builtintype" id="2345660">int</span><span class="op" id="2345663">(</span><span class="ident" id="2345664"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345665">[</span><span class="ident" id="2345666"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span><span class="op" id="2345667">]</span><span class="op" id="2345668">)</span>&nbsp;<span class="op" id="2345670">-</span>&nbsp;<span class="string" id="2345672">&#39;0&#39;</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345687"><a href="/gostd/strconv/atof.go.html#2344597">dp</a></span>&nbsp;<span class="op" id="2345690">+=</span>&nbsp;<span class="ident" id="2345693"><a href="/gostd/strconv/atof.go.html#2345564">e</a></span>&nbsp;<span class="op" id="2345695">*</span>&nbsp;<span class="ident" id="2345697"><a href="/gostd/strconv/atof.go.html#2345413">esign</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345708">if</span>&nbsp;<span class="ident" id="2345711"><a href="/gostd/strconv/atof.go.html#2344393">i</a></span>&nbsp;<span class="op" id="2345713">!=</span>&nbsp;<span class="builtinfunc" id="2345716">len</span><span class="op" id="2345719">(</span><span class="ident" id="2345720"><a href="/gostd/strconv/atof.go.html#2344307">s</a></span><span class="op" id="2345721">)</span>&nbsp;<span class="op" id="2345723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345727">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2345735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345739"><a href="/gostd/strconv/atof.go.html#2344335">exp</a></span>&nbsp;<span class="op" id="2345743">=</span>&nbsp;<span class="ident" id="2345745"><a href="/gostd/strconv/atof.go.html#2344597">dp</a></span>&nbsp;<span class="op" id="2345748">-</span>&nbsp;<span class="ident" id="2345750"><a href="/gostd/strconv/atof.go.html#2344584">ndMant</a></span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2345758"><a href="/gostd/strconv/atof.go.html#2344356">ok</a></span>&nbsp;<span class="op" id="2345761">=</span>&nbsp;<span class="builtintype" id="2345763">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345769">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="op" id="2345777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="2345780">//&nbsp;decimal&nbsp;power&nbsp;of&nbsp;ten&nbsp;to&nbsp;binary&nbsp;power&nbsp;of&nbsp;two.</span><br>
<span class="lineno"></span><span class="keyword" id="2345828">var</span>&nbsp;<span class="ident" id="2345832">powtab</span>&nbsp;<span class="op" id="2345839">=</span>&nbsp;<span class="op" id="2345841">[</span><span class="op" id="2345842">]</span><span class="builtintype" id="2345843">int</span><span class="op" id="2345846">{</span><span class="num" id="2345847">1</span><span class="op" id="2345848">,</span>&nbsp;<span class="num" id="2345850">3</span><span class="op" id="2345851">,</span>&nbsp;<span class="num" id="2345853">6</span><span class="op" id="2345854">,</span>&nbsp;<span class="num" id="2345856">9</span><span class="op" id="2345857">,</span>&nbsp;<span class="num" id="2345859">13</span><span class="op" id="2345861">,</span>&nbsp;<span class="num" id="2345863">16</span><span class="op" id="2345865">,</span>&nbsp;<span class="num" id="2345867">19</span><span class="op" id="2345869">,</span>&nbsp;<span class="num" id="2345871">23</span><span class="op" id="2345873">,</span>&nbsp;<span class="num" id="2345875">26</span><span class="op" id="2345877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2345880">func</span>&nbsp;<span class="op" id="2345885">(</span><span class="ident" id="2345886">d</span>&nbsp;<span class="op" id="2345888">*</span><span class="ident" id="2345889"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><span class="op" id="2345896">)</span>&nbsp;<span class="ident" id="2345898">floatBits</span><span class="op" id="2345907">(</span><span class="ident" id="2345908">flt</span>&nbsp;<span class="op" id="2345912">*</span><span class="ident" id="2345913"><a href="/gostd/strconv/ftoa.go.html#2385845">floatInfo</a></span><span class="op" id="2345922">)</span>&nbsp;<span class="op" id="2345924">(</span><span class="ident" id="2345925">b</span>&nbsp;<span class="builtintype" id="2345927">uint64</span><span class="op" id="2345933">,</span>&nbsp;<span class="ident" id="2345935">overflow</span>&nbsp;<span class="builtintype" id="2345944">bool</span><span class="op" id="2345948">)</span>&nbsp;<span class="op" id="2345950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345953">var</span>&nbsp;<span class="ident" id="2345957">exp</span>&nbsp;<span class="builtintype" id="2345961">int</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2345966">var</span>&nbsp;<span class="ident" id="2345970">mant</span>&nbsp;<span class="builtintype" id="2345975">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2345984">//&nbsp;Zero&nbsp;is&nbsp;always&nbsp;a&nbsp;special&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346019">if</span>&nbsp;<span class="ident" id="2346022"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346023">.</span><span class="ident" id="2346024"><a href="/gostd/strconv/decimal.go.html#2357674">nd</a></span>&nbsp;<span class="op" id="2346027">==</span>&nbsp;<span class="num" id="2346030">0</span>&nbsp;<span class="op" id="2346032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346036"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span>&nbsp;<span class="op" id="2346041">=</span>&nbsp;<span class="num" id="2346043">0</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346047"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2346051">=</span>&nbsp;<span class="ident" id="2346053"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2346056">.</span><span class="ident" id="2346057"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346064">goto</span>&nbsp;<span class="ident" id="2346069"><a href="/gostd/strconv/atof.go.html#2347434">out</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346078">//&nbsp;Obvious&nbsp;overflow/underflow.</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346110">//&nbsp;These&nbsp;bounds&nbsp;are&nbsp;for&nbsp;64-bit&nbsp;floats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346150">//&nbsp;Will&nbsp;have&nbsp;to&nbsp;change&nbsp;if&nbsp;we&nbsp;want&nbsp;to&nbsp;support&nbsp;80-bit&nbsp;floats&nbsp;in&nbsp;the&nbsp;future.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346225">if</span>&nbsp;<span class="ident" id="2346228"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346229">.</span><span class="ident" id="2346230"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2346233">&gt;</span>&nbsp;<span class="num" id="2346235">310</span>&nbsp;<span class="op" id="2346239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346243">goto</span>&nbsp;<span class="ident" id="2346248"><a href="/gostd/strconv/atof.go.html#2347349">overflow</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346258">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346261">if</span>&nbsp;<span class="ident" id="2346264"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346265">.</span><span class="ident" id="2346266"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2346269">&lt;</span>&nbsp;<span class="op" id="2346271">-</span><span class="num" id="2346272">330</span>&nbsp;<span class="op" id="2346276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346280">//&nbsp;zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346290"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span>&nbsp;<span class="op" id="2346295">=</span>&nbsp;<span class="num" id="2346297">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346301"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2346305">=</span>&nbsp;<span class="ident" id="2346307"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2346310">.</span><span class="ident" id="2346311"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346318">goto</span>&nbsp;<span class="ident" id="2346323"><a href="/gostd/strconv/atof.go.html#2347434">out</a></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346332">//&nbsp;Scale&nbsp;by&nbsp;powers&nbsp;of&nbsp;two&nbsp;until&nbsp;in&nbsp;range&nbsp;[0.5,&nbsp;1.0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346385"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2346389">=</span>&nbsp;<span class="num" id="2346391">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346394">for</span>&nbsp;<span class="ident" id="2346398"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346399">.</span><span class="ident" id="2346400"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2346403">&gt;</span>&nbsp;<span class="num" id="2346405">0</span>&nbsp;<span class="op" id="2346407">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346411">var</span>&nbsp;<span class="ident" id="2346415">n</span>&nbsp;<span class="builtintype" id="2346417">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346423">if</span>&nbsp;<span class="ident" id="2346426"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346427">.</span><span class="ident" id="2346428"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2346431">&gt;=</span>&nbsp;<span class="builtinfunc" id="2346434">len</span><span class="op" id="2346437">(</span><span class="ident" id="2346438"><a href="/gostd/strconv/atof.go.html#2345832">powtab</a></span><span class="op" id="2346444">)</span>&nbsp;<span class="op" id="2346446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346451"><a href="/gostd/strconv/atof.go.html#2346415">n</a></span>&nbsp;<span class="op" id="2346453">=</span>&nbsp;<span class="num" id="2346455">27</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346460">}</span>&nbsp;<span class="keyword" id="2346462">else</span>&nbsp;<span class="op" id="2346467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346472"><a href="/gostd/strconv/atof.go.html#2346415">n</a></span>&nbsp;<span class="op" id="2346474">=</span>&nbsp;<span class="ident" id="2346476"><a href="/gostd/strconv/atof.go.html#2345832">powtab</a></span><span class="op" id="2346482">[</span><span class="ident" id="2346483"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346484">.</span><span class="ident" id="2346485"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2346487">]</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346495"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346496">.</span><span class="ident" id="2346497"><a href="/gostd/strconv/decimal.go.html#2363312">Shift</a></span><span class="op" id="2346502">(</span><span class="op" id="2346503">-</span><span class="ident" id="2346504"><a href="/gostd/strconv/atof.go.html#2346415">n</a></span><span class="op" id="2346505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346509"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2346513">+=</span>&nbsp;<span class="ident" id="2346516"><a href="/gostd/strconv/atof.go.html#2346415">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346522">for</span>&nbsp;<span class="ident" id="2346526"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346527">.</span><span class="ident" id="2346528"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2346531">&lt;</span>&nbsp;<span class="num" id="2346533">0</span>&nbsp;<span class="op" id="2346535">||</span>&nbsp;<span class="ident" id="2346538"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346539">.</span><span class="ident" id="2346540"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2346543">==</span>&nbsp;<span class="num" id="2346546">0</span>&nbsp;<span class="op" id="2346548">&amp;&amp;</span>&nbsp;<span class="ident" id="2346551"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346552">.</span><span class="ident" id="2346553"><a href="/gostd/strconv/decimal.go.html#2357647">d</a></span><span class="op" id="2346554">[</span><span class="num" id="2346555">0</span><span class="op" id="2346556">]</span>&nbsp;<span class="op" id="2346558">&lt;</span>&nbsp;<span class="string" id="2346560">&#39;5&#39;</span>&nbsp;<span class="op" id="2346564">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346568">var</span>&nbsp;<span class="ident" id="2346572">n</span>&nbsp;<span class="builtintype" id="2346574">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346580">if</span>&nbsp;<span class="op" id="2346583">-</span><span class="ident" id="2346584"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346585">.</span><span class="ident" id="2346586"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span>&nbsp;<span class="op" id="2346589">&gt;=</span>&nbsp;<span class="builtinfunc" id="2346592">len</span><span class="op" id="2346595">(</span><span class="ident" id="2346596"><a href="/gostd/strconv/atof.go.html#2345832">powtab</a></span><span class="op" id="2346602">)</span>&nbsp;<span class="op" id="2346604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346609"><a href="/gostd/strconv/atof.go.html#2346572">n</a></span>&nbsp;<span class="op" id="2346611">=</span>&nbsp;<span class="num" id="2346613">27</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346618">}</span>&nbsp;<span class="keyword" id="2346620">else</span>&nbsp;<span class="op" id="2346625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346630"><a href="/gostd/strconv/atof.go.html#2346572">n</a></span>&nbsp;<span class="op" id="2346632">=</span>&nbsp;<span class="ident" id="2346634"><a href="/gostd/strconv/atof.go.html#2345832">powtab</a></span><span class="op" id="2346640">[</span><span class="op" id="2346641">-</span><span class="ident" id="2346642"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346643">.</span><span class="ident" id="2346644"><a href="/gostd/strconv/decimal.go.html#2357716">dp</a></span><span class="op" id="2346646">]</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346654"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346655">.</span><span class="ident" id="2346656"><a href="/gostd/strconv/decimal.go.html#2363312">Shift</a></span><span class="op" id="2346661">(</span><span class="ident" id="2346662"><a href="/gostd/strconv/atof.go.html#2346572">n</a></span><span class="op" id="2346663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346667"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2346671">-=</span>&nbsp;<span class="ident" id="2346674"><a href="/gostd/strconv/atof.go.html#2346572">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346681">//&nbsp;Our&nbsp;range&nbsp;is&nbsp;[0.5,1)&nbsp;but&nbsp;floating&nbsp;point&nbsp;range&nbsp;is&nbsp;[1,2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346741"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span><span class="op" id="2346744">--</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346749">//&nbsp;Minimum&nbsp;representable&nbsp;exponent&nbsp;is&nbsp;flt.bias+1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346799">//&nbsp;If&nbsp;the&nbsp;exponent&nbsp;is&nbsp;smaller,&nbsp;move&nbsp;it&nbsp;up&nbsp;and</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2346846">//&nbsp;adjust&nbsp;d&nbsp;accordingly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346872">if</span>&nbsp;<span class="ident" id="2346875"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2346879">&lt;</span>&nbsp;<span class="ident" id="2346881"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2346884">.</span><span class="ident" id="2346885"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><span class="op" id="2346889">+</span><span class="num" id="2346890">1</span>&nbsp;<span class="op" id="2346892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346896">n</span>&nbsp;<span class="op" id="2346898">:=</span>&nbsp;<span class="ident" id="2346901"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2346904">.</span><span class="ident" id="2346905"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span>&nbsp;<span class="op" id="2346910">+</span>&nbsp;<span class="num" id="2346912">1</span>&nbsp;<span class="op" id="2346914">-</span>&nbsp;<span class="ident" id="2346916"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346922"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2346923">.</span><span class="ident" id="2346924"><a href="/gostd/strconv/decimal.go.html#2363312">Shift</a></span><span class="op" id="2346929">(</span><span class="op" id="2346930">-</span><span class="ident" id="2346931"><a href="/gostd/strconv/atof.go.html#2346896">n</a></span><span class="op" id="2346932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2346936"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2346940">+=</span>&nbsp;<span class="ident" id="2346943"><a href="/gostd/strconv/atof.go.html#2346896">n</a></span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2346946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346950">if</span>&nbsp;<span class="ident" id="2346953"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span><span class="op" id="2346956">-</span><span class="ident" id="2346957"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2346960">.</span><span class="ident" id="2346961"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span>&nbsp;<span class="op" id="2346966">&gt;=</span>&nbsp;<span class="num" id="2346969">1</span><span class="op" id="2346970">&lt;&lt;</span><span class="ident" id="2346972"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2346975">.</span><span class="ident" id="2346976"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span><span class="op" id="2346983">-</span><span class="num" id="2346984">1</span>&nbsp;<span class="op" id="2346986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2346990">goto</span>&nbsp;<span class="ident" id="2346995"><a href="/gostd/strconv/atof.go.html#2347349">overflow</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2347005">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2347009">//&nbsp;Extract&nbsp;1+flt.mantbits&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347042"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2347043">.</span><span class="ident" id="2347044"><a href="/gostd/strconv/decimal.go.html#2363312">Shift</a></span><span class="op" id="2347049">(</span><span class="builtintype" id="2347050">int</span><span class="op" id="2347053">(</span><span class="num" id="2347054">1</span>&nbsp;<span class="op" id="2347056">+</span>&nbsp;<span class="ident" id="2347058"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347061">.</span><span class="ident" id="2347062"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><span class="op" id="2347070">)</span><span class="op" id="2347071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347074"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span>&nbsp;<span class="op" id="2347079">=</span>&nbsp;<span class="ident" id="2347081"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2347082">.</span><span class="ident" id="2347083"><a href="/gostd/strconv/decimal.go.html#2364928">RoundedInteger</a></span><span class="op" id="2347097">(</span><span class="op" id="2347098">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2347102">//&nbsp;Rounding&nbsp;might&nbsp;have&nbsp;added&nbsp;a&nbsp;bit;&nbsp;shift&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2347151">if</span>&nbsp;<span class="ident" id="2347154"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span>&nbsp;<span class="op" id="2347159">==</span>&nbsp;<span class="num" id="2347162">2</span><span class="op" id="2347163">&lt;&lt;</span><span class="ident" id="2347165"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347168">.</span><span class="ident" id="2347169"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2347178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347182"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span>&nbsp;<span class="op" id="2347187">&gt;&gt;=</span>&nbsp;<span class="num" id="2347191">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347195"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span><span class="op" id="2347198">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2347203">if</span>&nbsp;<span class="ident" id="2347206"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span><span class="op" id="2347209">-</span><span class="ident" id="2347210"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347213">.</span><span class="ident" id="2347214"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span>&nbsp;<span class="op" id="2347219">&gt;=</span>&nbsp;<span class="num" id="2347222">1</span><span class="op" id="2347223">&lt;&lt;</span><span class="ident" id="2347225"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347228">.</span><span class="ident" id="2347229"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span><span class="op" id="2347236">-</span><span class="num" id="2347237">1</span>&nbsp;<span class="op" id="2347239">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2347244">goto</span>&nbsp;<span class="ident" id="2347249"><a href="/gostd/strconv/atof.go.html#2347349">overflow</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2347260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2347263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2347267">//&nbsp;Denormalized?</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2347285">if</span>&nbsp;<span class="ident" id="2347288"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span><span class="op" id="2347292">&amp;</span><span class="op" id="2347293">(</span><span class="num" id="2347294">1</span><span class="op" id="2347295">&lt;&lt;</span><span class="ident" id="2347297"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347300">.</span><span class="ident" id="2347301"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><span class="op" id="2347309">)</span>&nbsp;<span class="op" id="2347311">==</span>&nbsp;<span class="num" id="2347314">0</span>&nbsp;<span class="op" id="2347316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347320"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2347324">=</span>&nbsp;<span class="ident" id="2347326"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347329">.</span><span class="ident" id="2347330"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2347336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2347339">goto</span>&nbsp;<span class="ident" id="2347344"><a href="/gostd/strconv/atof.go.html#2347434">out</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span><span class="ident" id="2347349">overflow</span><span class="op" id="2347357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2347360">//&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347370"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span>&nbsp;<span class="op" id="2347375">=</span>&nbsp;<span class="num" id="2347377">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347380"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span>&nbsp;<span class="op" id="2347384">=</span>&nbsp;<span class="num" id="2347386">1</span><span class="op" id="2347387">&lt;&lt;</span><span class="ident" id="2347389"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347392">.</span><span class="ident" id="2347393"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span>&nbsp;<span class="op" id="2347401">-</span>&nbsp;<span class="num" id="2347403">1</span>&nbsp;<span class="op" id="2347405">+</span>&nbsp;<span class="ident" id="2347407"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347410">.</span><span class="ident" id="2347411"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347417"><a href="/gostd/strconv/atof.go.html#2345935">overflow</a></span>&nbsp;<span class="op" id="2347426">=</span>&nbsp;<span class="builtintype" id="2347428">true</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="ident" id="2347434">out</span><span class="op" id="2347437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2347440">//&nbsp;Assemble&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347459">bits</span>&nbsp;<span class="op" id="2347464">:=</span>&nbsp;<span class="ident" id="2347467"><a href="/gostd/strconv/atof.go.html#2345970">mant</a></span>&nbsp;<span class="op" id="2347472">&amp;</span>&nbsp;<span class="op" id="2347474">(</span><span class="builtintype" id="2347475">uint64</span><span class="op" id="2347481">(</span><span class="num" id="2347482">1</span><span class="op" id="2347483">)</span><span class="op" id="2347484">&lt;&lt;</span><span class="ident" id="2347486"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347489">.</span><span class="ident" id="2347490"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2347499">-</span>&nbsp;<span class="num" id="2347501">1</span><span class="op" id="2347502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347505"><a href="/gostd/strconv/atof.go.html#2347459">bits</a></span>&nbsp;<span class="op" id="2347510">|=</span>&nbsp;<span class="builtintype" id="2347513">uint64</span><span class="op" id="2347519">(</span><span class="op" id="2347520">(</span><span class="ident" id="2347521"><a href="/gostd/strconv/atof.go.html#2345957">exp</a></span><span class="op" id="2347524">-</span><span class="ident" id="2347525"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347528">.</span><span class="ident" id="2347529"><a href="/gostd/strconv/ftoa.go.html#2385895">bias</a></span><span class="op" id="2347533">)</span><span class="op" id="2347534">&amp;</span><span class="op" id="2347535">(</span><span class="num" id="2347536">1</span><span class="op" id="2347537">&lt;&lt;</span><span class="ident" id="2347539"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347542">.</span><span class="ident" id="2347543"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span><span class="op" id="2347550">-</span><span class="num" id="2347551">1</span><span class="op" id="2347552">)</span><span class="op" id="2347553">)</span>&nbsp;<span class="op" id="2347555">&lt;&lt;</span>&nbsp;<span class="ident" id="2347558"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347561">.</span><span class="ident" id="2347562"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2347572">if</span>&nbsp;<span class="ident" id="2347575"><a href="/gostd/strconv/atof.go.html#2345886">d</a></span><span class="op" id="2347576">.</span><span class="ident" id="2347577"><a href="/gostd/strconv/decimal.go.html#2357750">neg</a></span>&nbsp;<span class="op" id="2347581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2347585"><a href="/gostd/strconv/atof.go.html#2347459">bits</a></span>&nbsp;<span class="op" id="2347590">|=</span>&nbsp;<span class="num" id="2347593">1</span>&nbsp;<span class="op" id="2347595">&lt;&lt;</span>&nbsp;<span class="ident" id="2347598"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347601">.</span><span class="ident" id="2347602"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2347611">&lt;&lt;</span>&nbsp;<span class="ident" id="2347614"><a href="/gostd/strconv/atof.go.html#2345908">flt</a></span><span class="op" id="2347617">.</span><span class="ident" id="2347618"><a href="/gostd/strconv/ftoa.go.html#2385880">expbits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2347627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2347630">return</span>&nbsp;<span class="ident" id="2347637"><a href="/gostd/strconv/atof.go.html#2347459">bits</a></span><span class="op" id="2347641">,</span>&nbsp;<span class="ident" id="2347643"><a href="/gostd/strconv/atof.go.html#2345935">overflow</a></span><br>
<span class="lineno"></span><span class="op" id="2347652">}</span><br>
<span class="lineno">355</span><br>
<span class="lineno"></span><span class="comment" id="2347655">//&nbsp;Exact&nbsp;powers&nbsp;of&nbsp;10.</span><br>
<span class="lineno"></span><span class="keyword" id="2347678">var</span>&nbsp;<span class="ident" id="2347682">float64pow10</span>&nbsp;<span class="op" id="2347695">=</span>&nbsp;<span class="op" id="2347697">[</span><span class="op" id="2347698">]</span><span class="builtintype" id="2347699">float64</span><span class="op" id="2347706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="2347709">1e0</span><span class="op" id="2347712">,</span>&nbsp;<span class="num" id="2347714">1e1</span><span class="op" id="2347717">,</span>&nbsp;<span class="num" id="2347719">1e2</span><span class="op" id="2347722">,</span>&nbsp;<span class="num" id="2347724">1e3</span><span class="op" id="2347727">,</span>&nbsp;<span class="num" id="2347729">1e4</span><span class="op" id="2347732">,</span>&nbsp;<span class="num" id="2347734">1e5</span><span class="op" id="2347737">,</span>&nbsp;<span class="num" id="2347739">1e6</span><span class="op" id="2347742">,</span>&nbsp;<span class="num" id="2347744">1e7</span><span class="op" id="2347747">,</span>&nbsp;<span class="num" id="2347749">1e8</span><span class="op" id="2347752">,</span>&nbsp;<span class="num" id="2347754">1e9</span><span class="op" id="2347757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="2347760">1e10</span><span class="op" id="2347764">,</span>&nbsp;<span class="num" id="2347766">1e11</span><span class="op" id="2347770">,</span>&nbsp;<span class="num" id="2347772">1e12</span><span class="op" id="2347776">,</span>&nbsp;<span class="num" id="2347778">1e13</span><span class="op" id="2347782">,</span>&nbsp;<span class="num" id="2347784">1e14</span><span class="op" id="2347788">,</span>&nbsp;<span class="num" id="2347790">1e15</span><span class="op" id="2347794">,</span>&nbsp;<span class="num" id="2347796">1e16</span><span class="op" id="2347800">,</span>&nbsp;<span class="num" id="2347802">1e17</span><span class="op" id="2347806">,</span>&nbsp;<span class="num" id="2347808">1e18</span><span class="op" id="2347812">,</span>&nbsp;<span class="num" id="2347814">1e19</span><span class="op" id="2347818">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="2347821">1e20</span><span class="op" id="2347825">,</span>&nbsp;<span class="num" id="2347827">1e21</span><span class="op" id="2347831">,</span>&nbsp;<span class="num" id="2347833">1e22</span><span class="op" id="2347837">,</span><br>
<span class="lineno"></span><span class="op" id="2347839">}</span><br>
<span class="lineno"></span><span class="keyword" id="2347841">var</span>&nbsp;<span class="ident" id="2347845">float32pow10</span>&nbsp;<span class="op" id="2347858">=</span>&nbsp;<span class="op" id="2347860">[</span><span class="op" id="2347861">]</span><span class="builtintype" id="2347862">float32</span><span class="op" id="2347869">{</span><span class="num" id="2347870">1e0</span><span class="op" id="2347873">,</span>&nbsp;<span class="num" id="2347875">1e1</span><span class="op" id="2347878">,</span>&nbsp;<span class="num" id="2347880">1e2</span><span class="op" id="2347883">,</span>&nbsp;<span class="num" id="2347885">1e3</span><span class="op" id="2347888">,</span>&nbsp;<span class="num" id="2347890">1e4</span><span class="op" id="2347893">,</span>&nbsp;<span class="num" id="2347895">1e5</span><span class="op" id="2347898">,</span>&nbsp;<span class="num" id="2347900">1e6</span><span class="op" id="2347903">,</span>&nbsp;<span class="num" id="2347905">1e7</span><span class="op" id="2347908">,</span>&nbsp;<span class="num" id="2347910">1e8</span><span class="op" id="2347913">,</span>&nbsp;<span class="num" id="2347915">1e9</span><span class="op" id="2347918">,</span>&nbsp;<span class="num" id="2347920">1e10</span><span class="op" id="2347924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2347927">//&nbsp;If&nbsp;possible&nbsp;to&nbsp;convert&nbsp;decimal&nbsp;representation&nbsp;to&nbsp;64-bit&nbsp;float&nbsp;f&nbsp;exactly,</span><br>
<span class="lineno">365</span><span class="comment" id="2348003">//&nbsp;entirely&nbsp;in&nbsp;floating-point&nbsp;math,&nbsp;do&nbsp;so,&nbsp;avoiding&nbsp;the&nbsp;expense&nbsp;of&nbsp;decimalToFloatBits.</span><br>
<span class="lineno"></span><span class="comment" id="2348090">//&nbsp;Three&nbsp;common&nbsp;cases:</span><br>
<span class="lineno"></span><span class="comment" id="2348113">//&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;exact&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="2348139">//&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;exact&nbsp;integer&nbsp;*&nbsp;exact&nbsp;power&nbsp;of&nbsp;ten</span><br>
<span class="lineno"></span><span class="comment" id="2348186">//&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;is&nbsp;exact&nbsp;integer&nbsp;/&nbsp;exact&nbsp;power&nbsp;of&nbsp;ten</span><br>
<span class="lineno">370</span><span class="comment" id="2348233">//&nbsp;These&nbsp;all&nbsp;produce&nbsp;potentially&nbsp;inexact&nbsp;but&nbsp;correctly&nbsp;rounded&nbsp;answers.</span><br>
<span class="lineno"></span><span class="keyword" id="2348305">func</span>&nbsp;<span class="ident" id="2348310">atof64exact</span><span class="op" id="2348321">(</span><span class="ident" id="2348322">mantissa</span>&nbsp;<span class="builtintype" id="2348331">uint64</span><span class="op" id="2348337">,</span>&nbsp;<span class="ident" id="2348339">exp</span>&nbsp;<span class="builtintype" id="2348343">int</span><span class="op" id="2348346">,</span>&nbsp;<span class="ident" id="2348348">neg</span>&nbsp;<span class="builtintype" id="2348352">bool</span><span class="op" id="2348356">)</span>&nbsp;<span class="op" id="2348358">(</span><span class="ident" id="2348359">f</span>&nbsp;<span class="builtintype" id="2348361">float64</span><span class="op" id="2348368">,</span>&nbsp;<span class="ident" id="2348370">ok</span>&nbsp;<span class="builtintype" id="2348373">bool</span><span class="op" id="2348377">)</span>&nbsp;<span class="op" id="2348379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348382">if</span>&nbsp;<span class="ident" id="2348385"><a href="/gostd/strconv/atof.go.html#2348322">mantissa</a></span><span class="op" id="2348393">&gt;&gt;</span><span class="ident" id="2348395"><a href="/gostd/strconv/ftoa.go.html#2385956">float64info</a></span><span class="op" id="2348406">.</span><span class="ident" id="2348407"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2348416">!=</span>&nbsp;<span class="num" id="2348419">0</span>&nbsp;<span class="op" id="2348421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348425">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2348433">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2348436"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span>&nbsp;<span class="op" id="2348438">=</span>&nbsp;<span class="builtintype" id="2348440">float64</span><span class="op" id="2348447">(</span><span class="ident" id="2348448"><a href="/gostd/strconv/atof.go.html#2348322">mantissa</a></span><span class="op" id="2348456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348459">if</span>&nbsp;<span class="ident" id="2348462"><a href="/gostd/strconv/atof.go.html#2348348">neg</a></span>&nbsp;<span class="op" id="2348466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2348470"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span>&nbsp;<span class="op" id="2348472">=</span>&nbsp;<span class="op" id="2348474">-</span><span class="ident" id="2348475"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2348478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348481">switch</span>&nbsp;<span class="op" id="2348488">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348491">case</span>&nbsp;<span class="ident" id="2348496"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span>&nbsp;<span class="op" id="2348500">==</span>&nbsp;<span class="num" id="2348503">0</span><span class="op" id="2348504">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2348508">//&nbsp;an&nbsp;integer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348525">return</span>&nbsp;<span class="ident" id="2348532"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span><span class="op" id="2348533">,</span>&nbsp;<span class="builtintype" id="2348535">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2348541">//&nbsp;Exact&nbsp;integers&nbsp;are&nbsp;&lt;=&nbsp;10^15.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2348574">//&nbsp;Exact&nbsp;powers&nbsp;of&nbsp;ten&nbsp;are&nbsp;&lt;=&nbsp;10^22.</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348612">case</span>&nbsp;<span class="ident" id="2348617"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span>&nbsp;<span class="op" id="2348621">&gt;</span>&nbsp;<span class="num" id="2348623">0</span>&nbsp;<span class="op" id="2348625">&amp;&amp;</span>&nbsp;<span class="ident" id="2348628"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span>&nbsp;<span class="op" id="2348632">&lt;=</span>&nbsp;<span class="num" id="2348635">15</span><span class="op" id="2348637">+</span><span class="num" id="2348638">22</span><span class="op" id="2348640">:</span>&nbsp;<span class="comment" id="2348642">//&nbsp;int&nbsp;*&nbsp;10^k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2348658">//&nbsp;If&nbsp;exponent&nbsp;is&nbsp;big&nbsp;but&nbsp;number&nbsp;of&nbsp;digits&nbsp;is&nbsp;not,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2348711">//&nbsp;can&nbsp;move&nbsp;a&nbsp;few&nbsp;zeros&nbsp;into&nbsp;the&nbsp;integer&nbsp;part.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348760">if</span>&nbsp;<span class="ident" id="2348763"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span>&nbsp;<span class="op" id="2348767">&gt;</span>&nbsp;<span class="num" id="2348769">22</span>&nbsp;<span class="op" id="2348772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2348777"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span>&nbsp;<span class="op" id="2348779">*=</span>&nbsp;<span class="ident" id="2348782"><a href="/gostd/strconv/atof.go.html#2347682">float64pow10</a></span><span class="op" id="2348794">[</span><span class="ident" id="2348795"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span><span class="op" id="2348798">-</span><span class="num" id="2348799">22</span><span class="op" id="2348801">]</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2348806"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span>&nbsp;<span class="op" id="2348810">=</span>&nbsp;<span class="num" id="2348812">22</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2348817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348821">if</span>&nbsp;<span class="ident" id="2348824"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span>&nbsp;<span class="op" id="2348826">&gt;</span>&nbsp;<span class="num" id="2348828">1e15</span>&nbsp;<span class="op" id="2348833">||</span>&nbsp;<span class="ident" id="2348836"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span>&nbsp;<span class="op" id="2348838">&lt;</span>&nbsp;<span class="op" id="2348840">-</span><span class="num" id="2348841">1e15</span>&nbsp;<span class="op" id="2348846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2348851">//&nbsp;the&nbsp;exponent&nbsp;was&nbsp;really&nbsp;too&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348892">return</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2348901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348905">return</span>&nbsp;<span class="ident" id="2348912"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span>&nbsp;<span class="op" id="2348914">*</span>&nbsp;<span class="ident" id="2348916"><a href="/gostd/strconv/atof.go.html#2347682">float64pow10</a></span><span class="op" id="2348928">[</span><span class="ident" id="2348929"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span><span class="op" id="2348932">]</span><span class="op" id="2348933">,</span>&nbsp;<span class="builtintype" id="2348935">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348941">case</span>&nbsp;<span class="ident" id="2348946"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span>&nbsp;<span class="op" id="2348950">&lt;</span>&nbsp;<span class="num" id="2348952">0</span>&nbsp;<span class="op" id="2348954">&amp;&amp;</span>&nbsp;<span class="ident" id="2348957"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span>&nbsp;<span class="op" id="2348961">&gt;=</span>&nbsp;<span class="op" id="2348964">-</span><span class="num" id="2348965">22</span><span class="op" id="2348967">:</span>&nbsp;<span class="comment" id="2348969">//&nbsp;int&nbsp;/&nbsp;10^k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2348985">return</span>&nbsp;<span class="ident" id="2348992"><a href="/gostd/strconv/atof.go.html#2348359">f</a></span>&nbsp;<span class="op" id="2348994">/</span>&nbsp;<span class="ident" id="2348996"><a href="/gostd/strconv/atof.go.html#2347682">float64pow10</a></span><span class="op" id="2349008">[</span><span class="op" id="2349009">-</span><span class="ident" id="2349010"><a href="/gostd/strconv/atof.go.html#2348339">exp</a></span><span class="op" id="2349013">]</span><span class="op" id="2349014">,</span>&nbsp;<span class="builtintype" id="2349016">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2349022">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349025">return</span><br>
<span class="lineno"></span><span class="op" id="2349032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2349035">//&nbsp;If&nbsp;possible&nbsp;to&nbsp;compute&nbsp;mantissa*10^exp&nbsp;to&nbsp;32-bit&nbsp;float&nbsp;f&nbsp;exactly,</span><br>
<span class="lineno"></span><span class="comment" id="2349104">//&nbsp;entirely&nbsp;in&nbsp;floating-point&nbsp;math,&nbsp;do&nbsp;so,&nbsp;avoiding&nbsp;the&nbsp;machinery&nbsp;above.</span><br>
<span class="lineno">405</span><span class="keyword" id="2349177">func</span>&nbsp;<span class="ident" id="2349182">atof32exact</span><span class="op" id="2349193">(</span><span class="ident" id="2349194">mantissa</span>&nbsp;<span class="builtintype" id="2349203">uint64</span><span class="op" id="2349209">,</span>&nbsp;<span class="ident" id="2349211">exp</span>&nbsp;<span class="builtintype" id="2349215">int</span><span class="op" id="2349218">,</span>&nbsp;<span class="ident" id="2349220">neg</span>&nbsp;<span class="builtintype" id="2349224">bool</span><span class="op" id="2349228">)</span>&nbsp;<span class="op" id="2349230">(</span><span class="ident" id="2349231">f</span>&nbsp;<span class="builtintype" id="2349233">float32</span><span class="op" id="2349240">,</span>&nbsp;<span class="ident" id="2349242">ok</span>&nbsp;<span class="builtintype" id="2349245">bool</span><span class="op" id="2349249">)</span>&nbsp;<span class="op" id="2349251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349254">if</span>&nbsp;<span class="ident" id="2349257"><a href="/gostd/strconv/atof.go.html#2349194">mantissa</a></span><span class="op" id="2349265">&gt;&gt;</span><span class="ident" id="2349267"><a href="/gostd/strconv/ftoa.go.html#2385915">float32info</a></span><span class="op" id="2349278">.</span><span class="ident" id="2349279"><a href="/gostd/strconv/ftoa.go.html#2385865">mantbits</a></span>&nbsp;<span class="op" id="2349288">!=</span>&nbsp;<span class="num" id="2349291">0</span>&nbsp;<span class="op" id="2349293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349297">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2349305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2349308"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span>&nbsp;<span class="op" id="2349310">=</span>&nbsp;<span class="builtintype" id="2349312">float32</span><span class="op" id="2349319">(</span><span class="ident" id="2349320"><a href="/gostd/strconv/atof.go.html#2349194">mantissa</a></span><span class="op" id="2349328">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349331">if</span>&nbsp;<span class="ident" id="2349334"><a href="/gostd/strconv/atof.go.html#2349220">neg</a></span>&nbsp;<span class="op" id="2349338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2349342"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span>&nbsp;<span class="op" id="2349344">=</span>&nbsp;<span class="op" id="2349346">-</span><span class="ident" id="2349347"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2349350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349353">switch</span>&nbsp;<span class="op" id="2349360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349363">case</span>&nbsp;<span class="ident" id="2349368"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span>&nbsp;<span class="op" id="2349372">==</span>&nbsp;<span class="num" id="2349375">0</span><span class="op" id="2349376">:</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349380">return</span>&nbsp;<span class="ident" id="2349387"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span><span class="op" id="2349388">,</span>&nbsp;<span class="builtintype" id="2349390">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2349396">//&nbsp;Exact&nbsp;integers&nbsp;are&nbsp;&lt;=&nbsp;10^7.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2349428">//&nbsp;Exact&nbsp;powers&nbsp;of&nbsp;ten&nbsp;are&nbsp;&lt;=&nbsp;10^10.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349466">case</span>&nbsp;<span class="ident" id="2349471"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span>&nbsp;<span class="op" id="2349475">&gt;</span>&nbsp;<span class="num" id="2349477">0</span>&nbsp;<span class="op" id="2349479">&amp;&amp;</span>&nbsp;<span class="ident" id="2349482"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span>&nbsp;<span class="op" id="2349486">&lt;=</span>&nbsp;<span class="num" id="2349489">7</span><span class="op" id="2349490">+</span><span class="num" id="2349491">10</span><span class="op" id="2349493">:</span>&nbsp;<span class="comment" id="2349495">//&nbsp;int&nbsp;*&nbsp;10^k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2349511">//&nbsp;If&nbsp;exponent&nbsp;is&nbsp;big&nbsp;but&nbsp;number&nbsp;of&nbsp;digits&nbsp;is&nbsp;not,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2349564">//&nbsp;can&nbsp;move&nbsp;a&nbsp;few&nbsp;zeros&nbsp;into&nbsp;the&nbsp;integer&nbsp;part.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349613">if</span>&nbsp;<span class="ident" id="2349616"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span>&nbsp;<span class="op" id="2349620">&gt;</span>&nbsp;<span class="num" id="2349622">10</span>&nbsp;<span class="op" id="2349625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2349630"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span>&nbsp;<span class="op" id="2349632">*=</span>&nbsp;<span class="ident" id="2349635"><a href="/gostd/strconv/atof.go.html#2347845">float32pow10</a></span><span class="op" id="2349647">[</span><span class="ident" id="2349648"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span><span class="op" id="2349651">-</span><span class="num" id="2349652">10</span><span class="op" id="2349654">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2349659"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span>&nbsp;<span class="op" id="2349663">=</span>&nbsp;<span class="num" id="2349665">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2349670">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349674">if</span>&nbsp;<span class="ident" id="2349677"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span>&nbsp;<span class="op" id="2349679">&gt;</span>&nbsp;<span class="num" id="2349681">1e7</span>&nbsp;<span class="op" id="2349685">||</span>&nbsp;<span class="ident" id="2349688"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span>&nbsp;<span class="op" id="2349690">&lt;</span>&nbsp;<span class="op" id="2349692">-</span><span class="num" id="2349693">1e7</span>&nbsp;<span class="op" id="2349697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2349702">//&nbsp;the&nbsp;exponent&nbsp;was&nbsp;really&nbsp;too&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349743">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2349752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349756">return</span>&nbsp;<span class="ident" id="2349763"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span>&nbsp;<span class="op" id="2349765">*</span>&nbsp;<span class="ident" id="2349767"><a href="/gostd/strconv/atof.go.html#2347845">float32pow10</a></span><span class="op" id="2349779">[</span><span class="ident" id="2349780"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span><span class="op" id="2349783">]</span><span class="op" id="2349784">,</span>&nbsp;<span class="builtintype" id="2349786">true</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349792">case</span>&nbsp;<span class="ident" id="2349797"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span>&nbsp;<span class="op" id="2349801">&lt;</span>&nbsp;<span class="num" id="2349803">0</span>&nbsp;<span class="op" id="2349805">&amp;&amp;</span>&nbsp;<span class="ident" id="2349808"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span>&nbsp;<span class="op" id="2349812">&gt;=</span>&nbsp;<span class="op" id="2349815">-</span><span class="num" id="2349816">10</span><span class="op" id="2349818">:</span>&nbsp;<span class="comment" id="2349820">//&nbsp;int&nbsp;/&nbsp;10^k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349836">return</span>&nbsp;<span class="ident" id="2349843"><a href="/gostd/strconv/atof.go.html#2349231">f</a></span>&nbsp;<span class="op" id="2349845">/</span>&nbsp;<span class="ident" id="2349847"><a href="/gostd/strconv/atof.go.html#2347845">float32pow10</a></span><span class="op" id="2349859">[</span><span class="op" id="2349860">-</span><span class="ident" id="2349861"><a href="/gostd/strconv/atof.go.html#2349211">exp</a></span><span class="op" id="2349864">]</span><span class="op" id="2349865">,</span>&nbsp;<span class="builtintype" id="2349867">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2349873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349876">return</span><br>
<span class="lineno"></span><span class="op" id="2349883">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="keyword" id="2349886">const</span>&nbsp;<span class="ident" id="2349892">fnParseFloat</span>&nbsp;<span class="op" id="2349905">=</span>&nbsp;<span class="string" id="2349907">&#34;ParseFloat&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2349921">func</span>&nbsp;<span class="ident" id="2349926">atof32</span><span class="op" id="2349932">(</span><span class="ident" id="2349933">s</span>&nbsp;<span class="builtintype" id="2349935">string</span><span class="op" id="2349941">)</span>&nbsp;<span class="op" id="2349943">(</span><span class="ident" id="2349944">f</span>&nbsp;<span class="builtintype" id="2349946">float32</span><span class="op" id="2349953">,</span>&nbsp;<span class="ident" id="2349955">err</span>&nbsp;<span class="builtintype" id="2349959">error</span><span class="op" id="2349964">)</span>&nbsp;<span class="op" id="2349966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2349969">if</span>&nbsp;<span class="ident" id="2349972">val</span><span class="op" id="2349975">,</span>&nbsp;<span class="ident" id="2349977">ok</span>&nbsp;<span class="op" id="2349980">:=</span>&nbsp;<span class="ident" id="2349983"><a href="/gostd/strconv/atof.go.html#2342203">special</a></span><span class="op" id="2349990">(</span><span class="ident" id="2349991"><a href="/gostd/strconv/atof.go.html#2349933">s</a></span><span class="op" id="2349992">)</span><span class="op" id="2349993">;</span>&nbsp;<span class="ident" id="2349995"><a href="/gostd/strconv/atof.go.html#2349977">ok</a></span>&nbsp;<span class="op" id="2349998">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350002">return</span>&nbsp;<span class="builtintype" id="2350009">float32</span><span class="op" id="2350016">(</span><span class="ident" id="2350017"><a href="/gostd/strconv/atof.go.html#2349972">val</a></span><span class="op" id="2350020">)</span><span class="op" id="2350021">,</span>&nbsp;<span class="builtintype" id="2350023">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350032">if</span>&nbsp;<span class="ident" id="2350035"><a href="/gostd/strconv/atof.go.html#2341848">optimize</a></span>&nbsp;<span class="op" id="2350044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2350048">//&nbsp;Parse&nbsp;mantissa&nbsp;and&nbsp;exponent.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350082">mantissa</span><span class="op" id="2350090">,</span>&nbsp;<span class="ident" id="2350092">exp</span><span class="op" id="2350095">,</span>&nbsp;<span class="ident" id="2350097">neg</span><span class="op" id="2350100">,</span>&nbsp;<span class="ident" id="2350102">trunc</span><span class="op" id="2350107">,</span>&nbsp;<span class="ident" id="2350109">ok</span>&nbsp;<span class="op" id="2350112">:=</span>&nbsp;<span class="ident" id="2350115"><a href="/gostd/strconv/atof.go.html#2344297">readFloat</a></span><span class="op" id="2350124">(</span><span class="ident" id="2350125"><a href="/gostd/strconv/atof.go.html#2349933">s</a></span><span class="op" id="2350126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350130">if</span>&nbsp;<span class="ident" id="2350133"><a href="/gostd/strconv/atof.go.html#2350109">ok</a></span>&nbsp;<span class="op" id="2350136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2350141">//&nbsp;Try&nbsp;pure&nbsp;floating-point&nbsp;arithmetic&nbsp;conversion.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350194">if</span>&nbsp;<span class="op" id="2350197">!</span><span class="ident" id="2350198"><a href="/gostd/strconv/atof.go.html#2350102">trunc</a></span>&nbsp;<span class="op" id="2350204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350210">if</span>&nbsp;<span class="ident" id="2350213">f</span><span class="op" id="2350214">,</span>&nbsp;<span class="ident" id="2350216">ok</span>&nbsp;<span class="op" id="2350219">:=</span>&nbsp;<span class="ident" id="2350222"><a href="/gostd/strconv/atof.go.html#2349182">atof32exact</a></span><span class="op" id="2350233">(</span><span class="ident" id="2350234"><a href="/gostd/strconv/atof.go.html#2350082">mantissa</a></span><span class="op" id="2350242">,</span>&nbsp;<span class="ident" id="2350244"><a href="/gostd/strconv/atof.go.html#2350092">exp</a></span><span class="op" id="2350247">,</span>&nbsp;<span class="ident" id="2350249"><a href="/gostd/strconv/atof.go.html#2350097">neg</a></span><span class="op" id="2350252">)</span><span class="op" id="2350253">;</span>&nbsp;<span class="ident" id="2350255"><a href="/gostd/strconv/atof.go.html#2350216">ok</a></span>&nbsp;<span class="op" id="2350258">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350265">return</span>&nbsp;<span class="ident" id="2350272"><a href="/gostd/strconv/atof.go.html#2350213">f</a></span><span class="op" id="2350273">,</span>&nbsp;<span class="builtintype" id="2350275">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350283">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2350293">//&nbsp;Try&nbsp;another&nbsp;fast&nbsp;path.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350322">ext</span>&nbsp;<span class="op" id="2350326">:=</span>&nbsp;<span class="builtinfunc" id="2350329">new</span><span class="op" id="2350332">(</span><span class="ident" id="2350333"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2350341">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350346">if</span>&nbsp;<span class="ident" id="2350349">ok</span>&nbsp;<span class="op" id="2350352">:=</span>&nbsp;<span class="ident" id="2350355"><a href="/gostd/strconv/atof.go.html#2350322">ext</a></span><span class="op" id="2350358">.</span><span class="ident" id="2350359"><a href="/gostd/strconv/extfloat.go.html#2373842">AssignDecimal</a></span><span class="op" id="2350372">(</span><span class="ident" id="2350373"><a href="/gostd/strconv/atof.go.html#2350082">mantissa</a></span><span class="op" id="2350381">,</span>&nbsp;<span class="ident" id="2350383"><a href="/gostd/strconv/atof.go.html#2350092">exp</a></span><span class="op" id="2350386">,</span>&nbsp;<span class="ident" id="2350388"><a href="/gostd/strconv/atof.go.html#2350097">neg</a></span><span class="op" id="2350391">,</span>&nbsp;<span class="ident" id="2350393"><a href="/gostd/strconv/atof.go.html#2350102">trunc</a></span><span class="op" id="2350398">,</span>&nbsp;<span class="op" id="2350400">&amp;</span><span class="ident" id="2350401"><a href="/gostd/strconv/ftoa.go.html#2385915">float32info</a></span><span class="op" id="2350412">)</span><span class="op" id="2350413">;</span>&nbsp;<span class="ident" id="2350415"><a href="/gostd/strconv/atof.go.html#2350349">ok</a></span>&nbsp;<span class="op" id="2350418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350424">b</span><span class="op" id="2350425">,</span>&nbsp;<span class="ident" id="2350427">ovf</span>&nbsp;<span class="op" id="2350431">:=</span>&nbsp;<span class="ident" id="2350434"><a href="/gostd/strconv/atof.go.html#2350322">ext</a></span><span class="op" id="2350437">.</span><span class="ident" id="2350438"><a href="/gostd/strconv/extfloat.go.html#2370486">floatBits</a></span><span class="op" id="2350447">(</span><span class="op" id="2350448">&amp;</span><span class="ident" id="2350449"><a href="/gostd/strconv/ftoa.go.html#2385915">float32info</a></span><span class="op" id="2350460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350466"><a href="/gostd/strconv/atof.go.html#2349944">f</a></span>&nbsp;<span class="op" id="2350468">=</span>&nbsp;<span class="ident" id="2350470"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2350474">.</span><span class="ident" id="2350475"><a href="/gostd/math/unsafe.go.html#2339914">Float32frombits</a></span><span class="op" id="2350490">(</span><span class="builtintype" id="2350491">uint32</span><span class="op" id="2350497">(</span><span class="ident" id="2350498"><a href="/gostd/strconv/atof.go.html#2350424">b</a></span><span class="op" id="2350499">)</span><span class="op" id="2350500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350506">if</span>&nbsp;<span class="ident" id="2350509"><a href="/gostd/strconv/atof.go.html#2350427">ovf</a></span>&nbsp;<span class="op" id="2350513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350520"><a href="/gostd/strconv/atof.go.html#2349955">err</a></span>&nbsp;<span class="op" id="2350524">=</span>&nbsp;<span class="ident" id="2350526"><a href="/gostd/strconv/atoi.go.html#2353559">rangeError</a></span><span class="op" id="2350536">(</span><span class="ident" id="2350537"><a href="/gostd/strconv/atof.go.html#2349892">fnParseFloat</a></span><span class="op" id="2350549">,</span>&nbsp;<span class="ident" id="2350551"><a href="/gostd/strconv/atof.go.html#2349933">s</a></span><span class="op" id="2350552">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350564">return</span>&nbsp;<span class="ident" id="2350571"><a href="/gostd/strconv/atof.go.html#2349944">f</a></span><span class="op" id="2350572">,</span>&nbsp;<span class="ident" id="2350574"><a href="/gostd/strconv/atof.go.html#2349955">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350588">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350591">var</span>&nbsp;<span class="ident" id="2350595">d</span>&nbsp;<span class="ident" id="2350597"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350606">if</span>&nbsp;<span class="op" id="2350609">!</span><span class="ident" id="2350610"><a href="/gostd/strconv/atof.go.html#2350595">d</a></span><span class="op" id="2350611">.</span><span class="ident" id="2350612"><a href="/gostd/strconv/atof.go.html#2342760">set</a></span><span class="op" id="2350615">(</span><span class="ident" id="2350616"><a href="/gostd/strconv/atof.go.html#2349933">s</a></span><span class="op" id="2350617">)</span>&nbsp;<span class="op" id="2350619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350623">return</span>&nbsp;<span class="num" id="2350630">0</span><span class="op" id="2350631">,</span>&nbsp;<span class="ident" id="2350633"><a href="/gostd/strconv/atoi.go.html#2353473">syntaxError</a></span><span class="op" id="2350644">(</span><span class="ident" id="2350645"><a href="/gostd/strconv/atof.go.html#2349892">fnParseFloat</a></span><span class="op" id="2350657">,</span>&nbsp;<span class="ident" id="2350659"><a href="/gostd/strconv/atof.go.html#2349933">s</a></span><span class="op" id="2350660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350666">b</span><span class="op" id="2350667">,</span>&nbsp;<span class="ident" id="2350669">ovf</span>&nbsp;<span class="op" id="2350673">:=</span>&nbsp;<span class="ident" id="2350676"><a href="/gostd/strconv/atof.go.html#2350595">d</a></span><span class="op" id="2350677">.</span><span class="ident" id="2350678"><a href="/gostd/strconv/atof.go.html#2345898">floatBits</a></span><span class="op" id="2350687">(</span><span class="op" id="2350688">&amp;</span><span class="ident" id="2350689"><a href="/gostd/strconv/ftoa.go.html#2385915">float32info</a></span><span class="op" id="2350700">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350703"><a href="/gostd/strconv/atof.go.html#2349944">f</a></span>&nbsp;<span class="op" id="2350705">=</span>&nbsp;<span class="ident" id="2350707"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2350711">.</span><span class="ident" id="2350712"><a href="/gostd/math/unsafe.go.html#2339914">Float32frombits</a></span><span class="op" id="2350727">(</span><span class="builtintype" id="2350728">uint32</span><span class="op" id="2350734">(</span><span class="ident" id="2350735"><a href="/gostd/strconv/atof.go.html#2350666">b</a></span><span class="op" id="2350736">)</span><span class="op" id="2350737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350740">if</span>&nbsp;<span class="ident" id="2350743"><a href="/gostd/strconv/atof.go.html#2350669">ovf</a></span>&nbsp;<span class="op" id="2350747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350751"><a href="/gostd/strconv/atof.go.html#2349955">err</a></span>&nbsp;<span class="op" id="2350755">=</span>&nbsp;<span class="ident" id="2350757"><a href="/gostd/strconv/atoi.go.html#2353559">rangeError</a></span><span class="op" id="2350767">(</span><span class="ident" id="2350768"><a href="/gostd/strconv/atof.go.html#2349892">fnParseFloat</a></span><span class="op" id="2350780">,</span>&nbsp;<span class="ident" id="2350782"><a href="/gostd/strconv/atof.go.html#2349933">s</a></span><span class="op" id="2350783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350789">return</span>&nbsp;<span class="ident" id="2350796"><a href="/gostd/strconv/atof.go.html#2349944">f</a></span><span class="op" id="2350797">,</span>&nbsp;<span class="ident" id="2350799"><a href="/gostd/strconv/atof.go.html#2349955">err</a></span><br>
<span class="lineno">475</span><span class="op" id="2350803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2350806">func</span>&nbsp;<span class="ident" id="2350811">atof64</span><span class="op" id="2350817">(</span><span class="ident" id="2350818">s</span>&nbsp;<span class="builtintype" id="2350820">string</span><span class="op" id="2350826">)</span>&nbsp;<span class="op" id="2350828">(</span><span class="ident" id="2350829">f</span>&nbsp;<span class="builtintype" id="2350831">float64</span><span class="op" id="2350838">,</span>&nbsp;<span class="ident" id="2350840">err</span>&nbsp;<span class="builtintype" id="2350844">error</span><span class="op" id="2350849">)</span>&nbsp;<span class="op" id="2350851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350854">if</span>&nbsp;<span class="ident" id="2350857">val</span><span class="op" id="2350860">,</span>&nbsp;<span class="ident" id="2350862">ok</span>&nbsp;<span class="op" id="2350865">:=</span>&nbsp;<span class="ident" id="2350868"><a href="/gostd/strconv/atof.go.html#2342203">special</a></span><span class="op" id="2350875">(</span><span class="ident" id="2350876"><a href="/gostd/strconv/atof.go.html#2350818">s</a></span><span class="op" id="2350877">)</span><span class="op" id="2350878">;</span>&nbsp;<span class="ident" id="2350880"><a href="/gostd/strconv/atof.go.html#2350862">ok</a></span>&nbsp;<span class="op" id="2350883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350887">return</span>&nbsp;<span class="ident" id="2350894"><a href="/gostd/strconv/atof.go.html#2350857">val</a></span><span class="op" id="2350897">,</span>&nbsp;<span class="builtintype" id="2350899">nil</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2350904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2350908">if</span>&nbsp;<span class="ident" id="2350911"><a href="/gostd/strconv/atof.go.html#2341848">optimize</a></span>&nbsp;<span class="op" id="2350920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2350924">//&nbsp;Parse&nbsp;mantissa&nbsp;and&nbsp;exponent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2350958">mantissa</span><span class="op" id="2350966">,</span>&nbsp;<span class="ident" id="2350968">exp</span><span class="op" id="2350971">,</span>&nbsp;<span class="ident" id="2350973">neg</span><span class="op" id="2350976">,</span>&nbsp;<span class="ident" id="2350978">trunc</span><span class="op" id="2350983">,</span>&nbsp;<span class="ident" id="2350985">ok</span>&nbsp;<span class="op" id="2350988">:=</span>&nbsp;<span class="ident" id="2350991"><a href="/gostd/strconv/atof.go.html#2344297">readFloat</a></span><span class="op" id="2351000">(</span><span class="ident" id="2351001"><a href="/gostd/strconv/atof.go.html#2350818">s</a></span><span class="op" id="2351002">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351006">if</span>&nbsp;<span class="ident" id="2351009"><a href="/gostd/strconv/atof.go.html#2350985">ok</a></span>&nbsp;<span class="op" id="2351012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2351017">//&nbsp;Try&nbsp;pure&nbsp;floating-point&nbsp;arithmetic&nbsp;conversion.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351070">if</span>&nbsp;<span class="op" id="2351073">!</span><span class="ident" id="2351074"><a href="/gostd/strconv/atof.go.html#2350978">trunc</a></span>&nbsp;<span class="op" id="2351080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351086">if</span>&nbsp;<span class="ident" id="2351089">f</span><span class="op" id="2351090">,</span>&nbsp;<span class="ident" id="2351092">ok</span>&nbsp;<span class="op" id="2351095">:=</span>&nbsp;<span class="ident" id="2351098"><a href="/gostd/strconv/atof.go.html#2348310">atof64exact</a></span><span class="op" id="2351109">(</span><span class="ident" id="2351110"><a href="/gostd/strconv/atof.go.html#2350958">mantissa</a></span><span class="op" id="2351118">,</span>&nbsp;<span class="ident" id="2351120"><a href="/gostd/strconv/atof.go.html#2350968">exp</a></span><span class="op" id="2351123">,</span>&nbsp;<span class="ident" id="2351125"><a href="/gostd/strconv/atof.go.html#2350973">neg</a></span><span class="op" id="2351128">)</span><span class="op" id="2351129">;</span>&nbsp;<span class="ident" id="2351131"><a href="/gostd/strconv/atof.go.html#2351092">ok</a></span>&nbsp;<span class="op" id="2351134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351141">return</span>&nbsp;<span class="ident" id="2351148"><a href="/gostd/strconv/atof.go.html#2351089">f</a></span><span class="op" id="2351149">,</span>&nbsp;<span class="builtintype" id="2351151">nil</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2351169">//&nbsp;Try&nbsp;another&nbsp;fast&nbsp;path.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351198">ext</span>&nbsp;<span class="op" id="2351202">:=</span>&nbsp;<span class="builtinfunc" id="2351205">new</span><span class="op" id="2351208">(</span><span class="ident" id="2351209"><a href="/gostd/strconv/extfloat.go.html#2365602">extFloat</a></span><span class="op" id="2351217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351222">if</span>&nbsp;<span class="ident" id="2351225">ok</span>&nbsp;<span class="op" id="2351228">:=</span>&nbsp;<span class="ident" id="2351231"><a href="/gostd/strconv/atof.go.html#2351198">ext</a></span><span class="op" id="2351234">.</span><span class="ident" id="2351235"><a href="/gostd/strconv/extfloat.go.html#2373842">AssignDecimal</a></span><span class="op" id="2351248">(</span><span class="ident" id="2351249"><a href="/gostd/strconv/atof.go.html#2350958">mantissa</a></span><span class="op" id="2351257">,</span>&nbsp;<span class="ident" id="2351259"><a href="/gostd/strconv/atof.go.html#2350968">exp</a></span><span class="op" id="2351262">,</span>&nbsp;<span class="ident" id="2351264"><a href="/gostd/strconv/atof.go.html#2350973">neg</a></span><span class="op" id="2351267">,</span>&nbsp;<span class="ident" id="2351269"><a href="/gostd/strconv/atof.go.html#2350978">trunc</a></span><span class="op" id="2351274">,</span>&nbsp;<span class="op" id="2351276">&amp;</span><span class="ident" id="2351277"><a href="/gostd/strconv/ftoa.go.html#2385956">float64info</a></span><span class="op" id="2351288">)</span><span class="op" id="2351289">;</span>&nbsp;<span class="ident" id="2351291"><a href="/gostd/strconv/atof.go.html#2351225">ok</a></span>&nbsp;<span class="op" id="2351294">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351300">b</span><span class="op" id="2351301">,</span>&nbsp;<span class="ident" id="2351303">ovf</span>&nbsp;<span class="op" id="2351307">:=</span>&nbsp;<span class="ident" id="2351310"><a href="/gostd/strconv/atof.go.html#2351198">ext</a></span><span class="op" id="2351313">.</span><span class="ident" id="2351314"><a href="/gostd/strconv/extfloat.go.html#2370486">floatBits</a></span><span class="op" id="2351323">(</span><span class="op" id="2351324">&amp;</span><span class="ident" id="2351325"><a href="/gostd/strconv/ftoa.go.html#2385956">float64info</a></span><span class="op" id="2351336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351342"><a href="/gostd/strconv/atof.go.html#2350829">f</a></span>&nbsp;<span class="op" id="2351344">=</span>&nbsp;<span class="ident" id="2351346"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2351350">.</span><span class="ident" id="2351351"><a href="/gostd/math/unsafe.go.html#2340247">Float64frombits</a></span><span class="op" id="2351366">(</span><span class="ident" id="2351367"><a href="/gostd/strconv/atof.go.html#2351300">b</a></span><span class="op" id="2351368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351374">if</span>&nbsp;<span class="ident" id="2351377"><a href="/gostd/strconv/atof.go.html#2351303">ovf</a></span>&nbsp;<span class="op" id="2351381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351388"><a href="/gostd/strconv/atof.go.html#2350840">err</a></span>&nbsp;<span class="op" id="2351392">=</span>&nbsp;<span class="ident" id="2351394"><a href="/gostd/strconv/atoi.go.html#2353559">rangeError</a></span><span class="op" id="2351404">(</span><span class="ident" id="2351405"><a href="/gostd/strconv/atof.go.html#2349892">fnParseFloat</a></span><span class="op" id="2351417">,</span>&nbsp;<span class="ident" id="2351419"><a href="/gostd/strconv/atof.go.html#2350818">s</a></span><span class="op" id="2351420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351426">}</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351432">return</span>&nbsp;<span class="ident" id="2351439"><a href="/gostd/strconv/atof.go.html#2350829">f</a></span><span class="op" id="2351440">,</span>&nbsp;<span class="ident" id="2351442"><a href="/gostd/strconv/atof.go.html#2350840">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351459">var</span>&nbsp;<span class="ident" id="2351463">d</span>&nbsp;<span class="ident" id="2351465"><a href="/gostd/strconv/decimal.go.html#2357629">decimal</a></span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351474">if</span>&nbsp;<span class="op" id="2351477">!</span><span class="ident" id="2351478"><a href="/gostd/strconv/atof.go.html#2351463">d</a></span><span class="op" id="2351479">.</span><span class="ident" id="2351480"><a href="/gostd/strconv/atof.go.html#2342760">set</a></span><span class="op" id="2351483">(</span><span class="ident" id="2351484"><a href="/gostd/strconv/atof.go.html#2350818">s</a></span><span class="op" id="2351485">)</span>&nbsp;<span class="op" id="2351487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351491">return</span>&nbsp;<span class="num" id="2351498">0</span><span class="op" id="2351499">,</span>&nbsp;<span class="ident" id="2351501"><a href="/gostd/strconv/atoi.go.html#2353473">syntaxError</a></span><span class="op" id="2351512">(</span><span class="ident" id="2351513"><a href="/gostd/strconv/atof.go.html#2349892">fnParseFloat</a></span><span class="op" id="2351525">,</span>&nbsp;<span class="ident" id="2351527"><a href="/gostd/strconv/atof.go.html#2350818">s</a></span><span class="op" id="2351528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351534">b</span><span class="op" id="2351535">,</span>&nbsp;<span class="ident" id="2351537">ovf</span>&nbsp;<span class="op" id="2351541">:=</span>&nbsp;<span class="ident" id="2351544"><a href="/gostd/strconv/atof.go.html#2351463">d</a></span><span class="op" id="2351545">.</span><span class="ident" id="2351546"><a href="/gostd/strconv/atof.go.html#2345898">floatBits</a></span><span class="op" id="2351555">(</span><span class="op" id="2351556">&amp;</span><span class="ident" id="2351557"><a href="/gostd/strconv/ftoa.go.html#2385956">float64info</a></span><span class="op" id="2351568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351571"><a href="/gostd/strconv/atof.go.html#2350829">f</a></span>&nbsp;<span class="op" id="2351573">=</span>&nbsp;<span class="ident" id="2351575"><a href="/gostd/strconv/atof.go.html#2341836">math</a></span><span class="op" id="2351579">.</span><span class="ident" id="2351580"><a href="/gostd/math/unsafe.go.html#2340247">Float64frombits</a></span><span class="op" id="2351595">(</span><span class="ident" id="2351596"><a href="/gostd/strconv/atof.go.html#2351534">b</a></span><span class="op" id="2351597">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351600">if</span>&nbsp;<span class="ident" id="2351603"><a href="/gostd/strconv/atof.go.html#2351537">ovf</a></span>&nbsp;<span class="op" id="2351607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2351611"><a href="/gostd/strconv/atof.go.html#2350840">err</a></span>&nbsp;<span class="op" id="2351615">=</span>&nbsp;<span class="ident" id="2351617"><a href="/gostd/strconv/atoi.go.html#2353559">rangeError</a></span><span class="op" id="2351627">(</span><span class="ident" id="2351628"><a href="/gostd/strconv/atof.go.html#2349892">fnParseFloat</a></span><span class="op" id="2351640">,</span>&nbsp;<span class="ident" id="2351642"><a href="/gostd/strconv/atof.go.html#2350818">s</a></span><span class="op" id="2351643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2351646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2351649">return</span>&nbsp;<span class="ident" id="2351656"><a href="/gostd/strconv/atof.go.html#2350829">f</a></span><span class="op" id="2351657">,</span>&nbsp;<span class="ident" id="2351659"><a href="/gostd/strconv/atof.go.html#2350840">err</a></span><br>
<span class="lineno"></span><span class="op" id="2351663">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="comment" id="2351666">//&nbsp;ParseFloat&nbsp;converts&nbsp;the&nbsp;string&nbsp;s&nbsp;to&nbsp;a&nbsp;floating-point&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="2351729">//&nbsp;with&nbsp;the&nbsp;precision&nbsp;specified&nbsp;by&nbsp;bitSize:&nbsp;32&nbsp;for&nbsp;float32,&nbsp;or&nbsp;64&nbsp;for&nbsp;float64.</span><br>
<span class="lineno"></span><span class="comment" id="2351808">//&nbsp;When&nbsp;bitSize=32,&nbsp;the&nbsp;result&nbsp;still&nbsp;has&nbsp;type&nbsp;float64,&nbsp;but&nbsp;it&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2351878">//&nbsp;convertible&nbsp;to&nbsp;float32&nbsp;without&nbsp;changing&nbsp;its&nbsp;value.</span><br>
<span class="lineno">520</span><span class="comment" id="2351932">//</span><br>
<span class="lineno"></span><span class="comment" id="2351935">//&nbsp;If&nbsp;s&nbsp;is&nbsp;well-formed&nbsp;and&nbsp;near&nbsp;a&nbsp;valid&nbsp;floating&nbsp;point&nbsp;number,</span><br>
<span class="lineno"></span><span class="comment" id="2351998">//&nbsp;ParseFloat&nbsp;returns&nbsp;the&nbsp;nearest&nbsp;floating&nbsp;point&nbsp;number&nbsp;rounded</span><br>
<span class="lineno"></span><span class="comment" id="2352062">//&nbsp;using&nbsp;IEEE754&nbsp;unbiased&nbsp;rounding.</span><br>
<span class="lineno"></span><span class="comment" id="2352098">//</span><br>
<span class="lineno">525</span><span class="comment" id="2352101">//&nbsp;The&nbsp;errors&nbsp;that&nbsp;ParseFloat&nbsp;returns&nbsp;have&nbsp;concrete&nbsp;type&nbsp;*NumError</span><br>
<span class="lineno"></span><span class="comment" id="2352168">//&nbsp;and&nbsp;include&nbsp;err.Num&nbsp;=&nbsp;s.</span><br>
<span class="lineno"></span><span class="comment" id="2352196">//</span><br>
<span class="lineno"></span><span class="comment" id="2352199">//&nbsp;If&nbsp;s&nbsp;is&nbsp;not&nbsp;syntactically&nbsp;well-formed,&nbsp;ParseFloat&nbsp;returns&nbsp;err.Err&nbsp;=&nbsp;ErrSyntax.</span><br>
<span class="lineno"></span><span class="comment" id="2352281">//</span><br>
<span class="lineno">530</span><span class="comment" id="2352284">//&nbsp;If&nbsp;s&nbsp;is&nbsp;syntactically&nbsp;well-formed&nbsp;but&nbsp;is&nbsp;more&nbsp;than&nbsp;1/2&nbsp;ULP</span><br>
<span class="lineno"></span><span class="comment" id="2352346">//&nbsp;away&nbsp;from&nbsp;the&nbsp;largest&nbsp;floating&nbsp;point&nbsp;number&nbsp;of&nbsp;the&nbsp;given&nbsp;size,</span><br>
<span class="lineno"></span><span class="comment" id="2352412">//&nbsp;ParseFloat&nbsp;returns&nbsp;f&nbsp;=&nbsp;±Inf,&nbsp;err.Err&nbsp;=&nbsp;ErrRange.</span><br>
<span class="lineno"></span><span class="keyword" id="2352465">func</span>&nbsp;<span class="ident" id="2352470">ParseFloat</span><span class="op" id="2352480">(</span><span class="ident" id="2352481">s</span>&nbsp;<span class="builtintype" id="2352483">string</span><span class="op" id="2352489">,</span>&nbsp;<span class="ident" id="2352491">bitSize</span>&nbsp;<span class="builtintype" id="2352499">int</span><span class="op" id="2352502">)</span>&nbsp;<span class="op" id="2352504">(</span><span class="ident" id="2352505">f</span>&nbsp;<span class="builtintype" id="2352507">float64</span><span class="op" id="2352514">,</span>&nbsp;<span class="ident" id="2352516">err</span>&nbsp;<span class="builtintype" id="2352520">error</span><span class="op" id="2352525">)</span>&nbsp;<span class="op" id="2352527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2352530">if</span>&nbsp;<span class="ident" id="2352533"><a href="/gostd/strconv/atof.go.html#2352491">bitSize</a></span>&nbsp;<span class="op" id="2352541">==</span>&nbsp;<span class="num" id="2352544">32</span>&nbsp;<span class="op" id="2352547">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352551">f1</span><span class="op" id="2352553">,</span>&nbsp;<span class="ident" id="2352555">err1</span>&nbsp;<span class="op" id="2352560">:=</span>&nbsp;<span class="ident" id="2352563"><a href="/gostd/strconv/atof.go.html#2349926">atof32</a></span><span class="op" id="2352569">(</span><span class="ident" id="2352570"><a href="/gostd/strconv/atof.go.html#2352481">s</a></span><span class="op" id="2352571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2352575">return</span>&nbsp;<span class="builtintype" id="2352582">float64</span><span class="op" id="2352589">(</span><span class="ident" id="2352590"><a href="/gostd/strconv/atof.go.html#2352551">f1</a></span><span class="op" id="2352592">)</span><span class="op" id="2352593">,</span>&nbsp;<span class="ident" id="2352595"><a href="/gostd/strconv/atof.go.html#2352555">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2352601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2352604">f1</span><span class="op" id="2352606">,</span>&nbsp;<span class="ident" id="2352608">err1</span>&nbsp;<span class="op" id="2352613">:=</span>&nbsp;<span class="ident" id="2352616"><a href="/gostd/strconv/atof.go.html#2350811">atof64</a></span><span class="op" id="2352622">(</span><span class="ident" id="2352623"><a href="/gostd/strconv/atof.go.html#2352481">s</a></span><span class="op" id="2352624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2352627">return</span>&nbsp;<span class="ident" id="2352634"><a href="/gostd/strconv/atof.go.html#2352604">f1</a></span><span class="op" id="2352636">,</span>&nbsp;<span class="ident" id="2352638"><a href="/gostd/strconv/atof.go.html#2352608">err1</a></span><br>
<span class="lineno">540</span><span class="op" id="2352643">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
