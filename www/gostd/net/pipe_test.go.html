<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6670963">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6671019">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6671073">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6671124">package</span>&nbsp;<span class="ident" id="6671132">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671137">import</span>&nbsp;<span class="op" id="6671144">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671147">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671156">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671162">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6671172">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671175">func</span>&nbsp;<span class="ident" id="6671180">checkWrite</span><span class="op" id="6671190">(</span><span class="ident" id="6671191">t</span>&nbsp;<span class="op" id="6671193">*</span><span class="ident" id="6671194">testing</span><span class="op" id="6671201">.</span><span class="ident" id="6671202">T</span><span class="op" id="6671203">,</span>&nbsp;<span class="ident" id="6671205">w</span>&nbsp;<span class="ident" id="6671207">io</span><span class="op" id="6671209">.</span><span class="ident" id="6671210">Writer</span><span class="op" id="6671216">,</span>&nbsp;<span class="ident" id="6671218">data</span>&nbsp;<span class="op" id="6671223">[</span><span class="op" id="6671224">]</span><span class="builtintype" id="6671225">byte</span><span class="op" id="6671229">,</span>&nbsp;<span class="ident" id="6671231">c</span>&nbsp;<span class="keyword" id="6671233">chan</span>&nbsp;<span class="builtintype" id="6671238">int</span><span class="op" id="6671241">)</span>&nbsp;<span class="op" id="6671243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671246">n</span><span class="op" id="6671247">,</span>&nbsp;<span class="ident" id="6671249">err</span>&nbsp;<span class="op" id="6671253">:=</span>&nbsp;<span class="ident" id="6671256">w</span><span class="op" id="6671257">.</span><span class="ident" id="6671258">Write</span><span class="op" id="6671263">(</span><span class="ident" id="6671264">data</span><span class="op" id="6671268">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671271">if</span>&nbsp;<span class="ident" id="6671274">err</span>&nbsp;<span class="op" id="6671278">!=</span>&nbsp;<span class="ident" id="6671281">nil</span>&nbsp;<span class="op" id="6671285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671289">t</span><span class="op" id="6671290">.</span><span class="ident" id="6671291">Errorf</span><span class="op" id="6671297">(</span><span class="string" id="6671298">&#34;write:&nbsp;%v&#34;</span><span class="op" id="6671309">,</span>&nbsp;<span class="ident" id="6671311">err</span><span class="op" id="6671314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671320">if</span>&nbsp;<span class="ident" id="6671323">n</span>&nbsp;<span class="op" id="6671325">!=</span>&nbsp;<span class="builtinfunc" id="6671328">len</span><span class="op" id="6671331">(</span><span class="ident" id="6671332">data</span><span class="op" id="6671336">)</span>&nbsp;<span class="op" id="6671338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671342">t</span><span class="op" id="6671343">.</span><span class="ident" id="6671344">Errorf</span><span class="op" id="6671350">(</span><span class="string" id="6671351">&#34;short&nbsp;write:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="6671374">,</span>&nbsp;<span class="ident" id="6671376">n</span><span class="op" id="6671377">,</span>&nbsp;<span class="builtinfunc" id="6671379">len</span><span class="op" id="6671382">(</span><span class="ident" id="6671383">data</span><span class="op" id="6671387">)</span><span class="op" id="6671388">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671394">c</span>&nbsp;<span class="op" id="6671396">&lt;-</span>&nbsp;<span class="num" id="6671399">0</span><br>
<span class="lineno"></span><span class="op" id="6671401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671404">func</span>&nbsp;<span class="ident" id="6671409">checkRead</span><span class="op" id="6671418">(</span><span class="ident" id="6671419">t</span>&nbsp;<span class="op" id="6671421">*</span><span class="ident" id="6671422">testing</span><span class="op" id="6671429">.</span><span class="ident" id="6671430">T</span><span class="op" id="6671431">,</span>&nbsp;<span class="ident" id="6671433">r</span>&nbsp;<span class="ident" id="6671435">io</span><span class="op" id="6671437">.</span><span class="ident" id="6671438">Reader</span><span class="op" id="6671444">,</span>&nbsp;<span class="ident" id="6671446">data</span>&nbsp;<span class="op" id="6671451">[</span><span class="op" id="6671452">]</span><span class="builtintype" id="6671453">byte</span><span class="op" id="6671457">,</span>&nbsp;<span class="ident" id="6671459">wantErr</span>&nbsp;<span class="builtintype" id="6671467">error</span><span class="op" id="6671472">)</span>&nbsp;<span class="op" id="6671474">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671477">buf</span>&nbsp;<span class="op" id="6671481">:=</span>&nbsp;<span class="builtinfunc" id="6671484">make</span><span class="op" id="6671488">(</span><span class="op" id="6671489">[</span><span class="op" id="6671490">]</span><span class="builtintype" id="6671491">byte</span><span class="op" id="6671495">,</span>&nbsp;<span class="builtinfunc" id="6671497">len</span><span class="op" id="6671500">(</span><span class="ident" id="6671501">data</span><span class="op" id="6671505">)</span><span class="op" id="6671506">+</span><span class="num" id="6671507">10</span><span class="op" id="6671509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671512">n</span><span class="op" id="6671513">,</span>&nbsp;<span class="ident" id="6671515">err</span>&nbsp;<span class="op" id="6671519">:=</span>&nbsp;<span class="ident" id="6671522">r</span><span class="op" id="6671523">.</span><span class="ident" id="6671524">Read</span><span class="op" id="6671528">(</span><span class="ident" id="6671529">buf</span><span class="op" id="6671532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671535">if</span>&nbsp;<span class="ident" id="6671538">err</span>&nbsp;<span class="op" id="6671542">!=</span>&nbsp;<span class="ident" id="6671545">wantErr</span>&nbsp;<span class="op" id="6671553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671557">t</span><span class="op" id="6671558">.</span><span class="ident" id="6671559">Errorf</span><span class="op" id="6671565">(</span><span class="string" id="6671566">&#34;read:&nbsp;%v&#34;</span><span class="op" id="6671576">,</span>&nbsp;<span class="ident" id="6671578">err</span><span class="op" id="6671581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671585">return</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671596">if</span>&nbsp;<span class="ident" id="6671599">n</span>&nbsp;<span class="op" id="6671601">!=</span>&nbsp;<span class="builtinfunc" id="6671604">len</span><span class="op" id="6671607">(</span><span class="ident" id="6671608">data</span><span class="op" id="6671612">)</span>&nbsp;<span class="op" id="6671614">||</span>&nbsp;<span class="op" id="6671617">!</span><span class="ident" id="6671618">bytes</span><span class="op" id="6671623">.</span><span class="ident" id="6671624">Equal</span><span class="op" id="6671629">(</span><span class="ident" id="6671630">buf</span><span class="op" id="6671633">[</span><span class="num" id="6671634">0</span><span class="op" id="6671635">:</span><span class="ident" id="6671636">n</span><span class="op" id="6671637">]</span><span class="op" id="6671638">,</span>&nbsp;<span class="ident" id="6671640">data</span><span class="op" id="6671644">)</span>&nbsp;<span class="op" id="6671646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671650">t</span><span class="op" id="6671651">.</span><span class="ident" id="6671652">Errorf</span><span class="op" id="6671658">(</span><span class="string" id="6671659">&#34;bad&nbsp;read:&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6671677">,</span>&nbsp;<span class="ident" id="6671679">buf</span><span class="op" id="6671682">[</span><span class="num" id="6671683">0</span><span class="op" id="6671684">:</span><span class="ident" id="6671685">n</span><span class="op" id="6671686">]</span><span class="op" id="6671687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671691">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671699">}</span><br>
<span class="lineno">35</span><span class="op" id="6671701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6671704">//&nbsp;Test&nbsp;a&nbsp;simple&nbsp;read/write/close&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="6671748">//&nbsp;Assumes&nbsp;that&nbsp;the&nbsp;underlying&nbsp;io.Pipe&nbsp;implementation</span><br>
<span class="lineno"></span><span class="comment" id="6671802">//&nbsp;is&nbsp;solid&nbsp;and&nbsp;we&#39;re&nbsp;just&nbsp;testing&nbsp;the&nbsp;net&nbsp;wrapping.</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="6671856">func</span>&nbsp;<span class="ident" id="6671861">TestPipe</span><span class="op" id="6671869">(</span><span class="ident" id="6671870">t</span>&nbsp;<span class="op" id="6671872">*</span><span class="ident" id="6671873">testing</span><span class="op" id="6671880">.</span><span class="ident" id="6671881">T</span><span class="op" id="6671882">)</span>&nbsp;<span class="op" id="6671884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671887">c</span>&nbsp;<span class="op" id="6671889">:=</span>&nbsp;<span class="builtinfunc" id="6671892">make</span><span class="op" id="6671896">(</span><span class="keyword" id="6671897">chan</span>&nbsp;<span class="builtintype" id="6671902">int</span><span class="op" id="6671905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671908">cli</span><span class="op" id="6671911">,</span>&nbsp;<span class="ident" id="6671913">srv</span>&nbsp;<span class="op" id="6671917">:=</span>&nbsp;<span class="ident" id="6671920">Pipe</span><span class="op" id="6671924">(</span><span class="op" id="6671925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671928">go</span>&nbsp;<span class="ident" id="6671931">checkWrite</span><span class="op" id="6671941">(</span><span class="ident" id="6671942">t</span><span class="op" id="6671943">,</span>&nbsp;<span class="ident" id="6671945">cli</span><span class="op" id="6671948">,</span>&nbsp;<span class="op" id="6671950">[</span><span class="op" id="6671951">]</span><span class="builtintype" id="6671952">byte</span><span class="op" id="6671956">(</span><span class="string" id="6671957">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6671971">)</span><span class="op" id="6671972">,</span>&nbsp;<span class="ident" id="6671974">c</span><span class="op" id="6671975">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671978">checkRead</span><span class="op" id="6671987">(</span><span class="ident" id="6671988">t</span><span class="op" id="6671989">,</span>&nbsp;<span class="ident" id="6671991">srv</span><span class="op" id="6671994">,</span>&nbsp;<span class="op" id="6671996">[</span><span class="op" id="6671997">]</span><span class="builtintype" id="6671998">byte</span><span class="op" id="6672002">(</span><span class="string" id="6672003">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6672017">)</span><span class="op" id="6672018">,</span>&nbsp;<span class="ident" id="6672020">nil</span><span class="op" id="6672023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672026">&lt;-</span><span class="ident" id="6672028">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672031">go</span>&nbsp;<span class="ident" id="6672034">checkWrite</span><span class="op" id="6672044">(</span><span class="ident" id="6672045">t</span><span class="op" id="6672046">,</span>&nbsp;<span class="ident" id="6672048">srv</span><span class="op" id="6672051">,</span>&nbsp;<span class="op" id="6672053">[</span><span class="op" id="6672054">]</span><span class="builtintype" id="6672055">byte</span><span class="op" id="6672059">(</span><span class="string" id="6672060">&#34;line&nbsp;2&#34;</span><span class="op" id="6672068">)</span><span class="op" id="6672069">,</span>&nbsp;<span class="ident" id="6672071">c</span><span class="op" id="6672072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672075">checkRead</span><span class="op" id="6672084">(</span><span class="ident" id="6672085">t</span><span class="op" id="6672086">,</span>&nbsp;<span class="ident" id="6672088">cli</span><span class="op" id="6672091">,</span>&nbsp;<span class="op" id="6672093">[</span><span class="op" id="6672094">]</span><span class="builtintype" id="6672095">byte</span><span class="op" id="6672099">(</span><span class="string" id="6672100">&#34;line&nbsp;2&#34;</span><span class="op" id="6672108">)</span><span class="op" id="6672109">,</span>&nbsp;<span class="ident" id="6672111">nil</span><span class="op" id="6672114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672117">&lt;-</span><span class="ident" id="6672119">c</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672122">go</span>&nbsp;<span class="ident" id="6672125">checkWrite</span><span class="op" id="6672135">(</span><span class="ident" id="6672136">t</span><span class="op" id="6672137">,</span>&nbsp;<span class="ident" id="6672139">cli</span><span class="op" id="6672142">,</span>&nbsp;<span class="op" id="6672144">[</span><span class="op" id="6672145">]</span><span class="builtintype" id="6672146">byte</span><span class="op" id="6672150">(</span><span class="string" id="6672151">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6672165">)</span><span class="op" id="6672166">,</span>&nbsp;<span class="ident" id="6672168">c</span><span class="op" id="6672169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672172">checkRead</span><span class="op" id="6672181">(</span><span class="ident" id="6672182">t</span><span class="op" id="6672183">,</span>&nbsp;<span class="ident" id="6672185">srv</span><span class="op" id="6672188">,</span>&nbsp;<span class="op" id="6672190">[</span><span class="op" id="6672191">]</span><span class="builtintype" id="6672192">byte</span><span class="op" id="6672196">(</span><span class="string" id="6672197">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6672211">)</span><span class="op" id="6672212">,</span>&nbsp;<span class="ident" id="6672214">nil</span><span class="op" id="6672217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672220">&lt;-</span><span class="ident" id="6672222">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672225">go</span>&nbsp;<span class="ident" id="6672228">srv</span><span class="op" id="6672231">.</span><span class="ident" id="6672232">Close</span><span class="op" id="6672237">(</span><span class="op" id="6672238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672241">checkRead</span><span class="op" id="6672250">(</span><span class="ident" id="6672251">t</span><span class="op" id="6672252">,</span>&nbsp;<span class="ident" id="6672254">cli</span><span class="op" id="6672257">,</span>&nbsp;<span class="ident" id="6672259">nil</span><span class="op" id="6672262">,</span>&nbsp;<span class="ident" id="6672264">io</span><span class="op" id="6672266">.</span><span class="ident" id="6672267">EOF</span><span class="op" id="6672270">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672273">cli</span><span class="op" id="6672276">.</span><span class="ident" id="6672277">Close</span><span class="op" id="6672282">(</span><span class="op" id="6672283">)</span><br>
<span class="lineno"></span><span class="op" id="6672285">}</span>
</div>
</body>
</html>
