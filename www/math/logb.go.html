<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2349488">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2349543">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2349597">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2349648">package</span>&nbsp;<span class="ident" id="2349656">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2349662">//&nbsp;Logb&nbsp;returns&nbsp;the&nbsp;binary&nbsp;exponent&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="2349704">//</span><br>
<span class="lineno"></span><span class="comment" id="2349707">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno">10</span><span class="comment" id="2349729">//&nbsp;&nbsp;&nbsp;&nbspLogb(±Inf)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno"></span><span class="comment" id="2349751">//&nbsp;&nbsp;&nbsp;&nbspLogb(0)&nbsp;=&nbsp;-Inf</span><br>
<span class="lineno"></span><span class="comment" id="2349769">//&nbsp;&nbsp;&nbsp;&nbspLogb(NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="2349788">func</span>&nbsp;<span class="ident" id="2349793">Logb</span><span class="op" id="2349797">(</span><span class="ident" id="2349798">x</span>&nbsp;<span class="builtintype" id="2349800">float64</span><span class="op" id="2349807">)</span>&nbsp;<span class="builtintype" id="2349809">float64</span>&nbsp;<span class="op" id="2349817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2349820">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349838">switch</span>&nbsp;<span class="op" id="2349845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349848">case</span>&nbsp;<span class="ident" id="2349853"><a href="/math/logb.go.html#2349798">x</a></span>&nbsp;<span class="op" id="2349855">==</span>&nbsp;<span class="num" id="2349858">0</span><span class="op" id="2349859">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349863">return</span>&nbsp;<span class="ident" id="2349870"><a href="/math/bits.go.html#2251765">Inf</a></span><span class="op" id="2349873">(</span><span class="op" id="2349874">-</span><span class="num" id="2349875">1</span><span class="op" id="2349876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349879">case</span>&nbsp;<span class="ident" id="2349884"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2349889">(</span><span class="ident" id="2349890"><a href="/math/logb.go.html#2349798">x</a></span><span class="op" id="2349891">,</span>&nbsp;<span class="num" id="2349893">0</span><span class="op" id="2349894">)</span><span class="op" id="2349895">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349899">return</span>&nbsp;<span class="ident" id="2349906"><a href="/math/bits.go.html#2251765">Inf</a></span><span class="op" id="2349909">(</span><span class="num" id="2349910">1</span><span class="op" id="2349911">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349914">case</span>&nbsp;<span class="ident" id="2349919"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2349924">(</span><span class="ident" id="2349925"><a href="/math/logb.go.html#2349798">x</a></span><span class="op" id="2349926">)</span><span class="op" id="2349927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349931">return</span>&nbsp;<span class="ident" id="2349938"><a href="/math/logb.go.html#2349798">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2349941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2349944">return</span>&nbsp;<span class="builtintype" id="2349951">float64</span><span class="op" id="2349958">(</span><span class="ident" id="2349959"><a href="/math/logb.go.html#2350398">ilogb</a></span><span class="op" id="2349964">(</span><span class="ident" id="2349965"><a href="/math/logb.go.html#2349798">x</a></span><span class="op" id="2349966">)</span><span class="op" id="2349967">)</span><br>
<span class="lineno"></span><span class="op" id="2349969">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="2349972">//&nbsp;Ilogb&nbsp;returns&nbsp;the&nbsp;binary&nbsp;exponent&nbsp;of&nbsp;x&nbsp;as&nbsp;an&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="2350029">//</span><br>
<span class="lineno"></span><span class="comment" id="2350032">//&nbsp;Special&nbsp;cases&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="2350054">//&nbsp;&nbsp;&nbsp;&nbspIlogb(±Inf)&nbsp;=&nbsp;MaxInt32</span><br>
<span class="lineno">30</span><span class="comment" id="2350081">//&nbsp;&nbsp;&nbsp;&nbspIlogb(0)&nbsp;=&nbsp;MinInt32</span><br>
<span class="lineno"></span><span class="comment" id="2350104">//&nbsp;&nbsp;&nbsp;&nbspIlogb(NaN)&nbsp;=&nbsp;MaxInt32</span><br>
<span class="lineno"></span><span class="keyword" id="2350129">func</span>&nbsp;<span class="ident" id="2350134">Ilogb</span><span class="op" id="2350139">(</span><span class="ident" id="2350140">x</span>&nbsp;<span class="builtintype" id="2350142">float64</span><span class="op" id="2350149">)</span>&nbsp;<span class="builtintype" id="2350151">int</span>&nbsp;<span class="op" id="2350155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2350158">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350176">switch</span>&nbsp;<span class="op" id="2350183">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350186">case</span>&nbsp;<span class="ident" id="2350191"><a href="/math/logb.go.html#2350140">x</a></span>&nbsp;<span class="op" id="2350193">==</span>&nbsp;<span class="num" id="2350196">0</span><span class="op" id="2350197">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350201">return</span>&nbsp;<span class="ident" id="2350208"><a href="/math/const.go.html#2256695">MinInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350218">case</span>&nbsp;<span class="ident" id="2350223"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2350228">(</span><span class="ident" id="2350229"><a href="/math/logb.go.html#2350140">x</a></span><span class="op" id="2350230">)</span><span class="op" id="2350231">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350235">return</span>&nbsp;<span class="ident" id="2350242"><a href="/math/const.go.html#2256672">MaxInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350252">case</span>&nbsp;<span class="ident" id="2350257"><a href="/math/bits.go.html#2252563">IsInf</a></span><span class="op" id="2350262">(</span><span class="ident" id="2350263"><a href="/math/logb.go.html#2350140">x</a></span><span class="op" id="2350264">,</span>&nbsp;<span class="num" id="2350266">0</span><span class="op" id="2350267">)</span><span class="op" id="2350268">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350272">return</span>&nbsp;<span class="ident" id="2350279"><a href="/math/const.go.html#2256672">MaxInt32</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2350289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350292">return</span>&nbsp;<span class="ident" id="2350299"><a href="/math/logb.go.html#2350398">ilogb</a></span><span class="op" id="2350304">(</span><span class="ident" id="2350305"><a href="/math/logb.go.html#2350140">x</a></span><span class="op" id="2350306">)</span><br>
<span class="lineno"></span><span class="op" id="2350308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="2350311">//&nbsp;logb&nbsp;returns&nbsp;the&nbsp;binary&nbsp;exponent&nbsp;of&nbsp;x.&nbsp;It&nbsp;assumes&nbsp;x&nbsp;is&nbsp;finite&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2350380">//&nbsp;non-zero.</span><br>
<span class="lineno"></span><span class="keyword" id="2350393">func</span>&nbsp;<span class="ident" id="2350398">ilogb</span><span class="op" id="2350403">(</span><span class="ident" id="2350404">x</span>&nbsp;<span class="builtintype" id="2350406">float64</span><span class="op" id="2350413">)</span>&nbsp;<span class="builtintype" id="2350415">int</span>&nbsp;<span class="op" id="2350419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2350422"><a href="/math/logb.go.html#2350404">x</a></span><span class="op" id="2350423">,</span>&nbsp;<span class="ident" id="2350425">exp</span>&nbsp;<span class="op" id="2350429">:=</span>&nbsp;<span class="ident" id="2350432"><a href="/math/bits.go.html#2253000">normalize</a></span><span class="op" id="2350441">(</span><span class="ident" id="2350442"><a href="/math/logb.go.html#2350404">x</a></span><span class="op" id="2350443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2350446">return</span>&nbsp;<span class="builtintype" id="2350453">int</span><span class="op" id="2350456">(</span><span class="op" id="2350457">(</span><span class="ident" id="2350458"><a href="/math/unsafe.go.html#2380703">Float64bits</a></span><span class="op" id="2350469">(</span><span class="ident" id="2350470"><a href="/math/logb.go.html#2350404">x</a></span><span class="op" id="2350471">)</span><span class="op" id="2350472">&gt;&gt;</span><span class="ident" id="2350474"><a href="/math/bits.go.html#2251639">shift</a></span><span class="op" id="2350479">)</span><span class="op" id="2350480">&amp;</span><span class="ident" id="2350481"><a href="/math/bits.go.html#2251621">mask</a></span><span class="op" id="2350485">)</span>&nbsp;<span class="op" id="2350487">-</span>&nbsp;<span class="ident" id="2350489"><a href="/math/bits.go.html#2251663">bias</a></span>&nbsp;<span class="op" id="2350494">+</span>&nbsp;<span class="ident" id="2350496"><a href="/math/logb.go.html#2350425">exp</a></span><br>
<span class="lineno">50</span><span class="op" id="2350500">}</span>
</div>
</body>
</html>
