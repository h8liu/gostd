<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/rand</h2>
<ul>
<li><a href="/gostd/math/rand/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/rand/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/rand/normal.go.html">normal.go</a></li>
<li><a href="/gostd/math/rand/rand.go.html">rand.go</a></li>
<li><a href="/gostd/math/rand/rand_test.go.html">rand_test.go</a></li>
<li><a href="/gostd/math/rand/regress_test.go.html">regress_test.go</a></li>
<li><a href="/gostd/math/rand/rng.go.html">rng.go</a></li>
<li><a href="/gostd/math/rand/zipf.go.html">zipf.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3784522">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3784577">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3784631">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3784682">//&nbsp;Package&nbsp;rand&nbsp;implements&nbsp;pseudo-random&nbsp;number&nbsp;generators.</span><br>
<span class="lineno"></span><span class="comment" id="3784742">//</span><br>
<span class="lineno"></span><span class="comment" id="3784745">//&nbsp;Random&nbsp;numbers&nbsp;are&nbsp;generated&nbsp;by&nbsp;a&nbsp;Source.&nbsp;Top-level&nbsp;functions,&nbsp;such&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3784819">//&nbsp;Float64&nbsp;and&nbsp;Int,&nbsp;use&nbsp;a&nbsp;default&nbsp;shared&nbsp;Source&nbsp;that&nbsp;produces&nbsp;a&nbsp;deterministic</span><br>
<span class="lineno"></span><span class="comment" id="3784897">//&nbsp;sequence&nbsp;of&nbsp;values&nbsp;each&nbsp;time&nbsp;a&nbsp;program&nbsp;is&nbsp;run.&nbsp;Use&nbsp;the&nbsp;Seed&nbsp;function&nbsp;to</span><br>
<span class="lineno">10</span><span class="comment" id="3784972">//&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;if&nbsp;different&nbsp;behavior&nbsp;is&nbsp;required&nbsp;for&nbsp;each&nbsp;run.</span><br>
<span class="lineno"></span><span class="comment" id="3785053">//&nbsp;The&nbsp;default&nbsp;Source&nbsp;is&nbsp;safe&nbsp;for&nbsp;concurrent&nbsp;use&nbsp;by&nbsp;multiple&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="keyword" id="3785126">package</span>&nbsp;<span class="ident" id="3785134">rand</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3785140">import</span>&nbsp;<span class="string" id="3785147">&#34;sync&#34;</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3785155">//&nbsp;A&nbsp;Source&nbsp;represents&nbsp;a&nbsp;source&nbsp;of&nbsp;uniformly-distributed</span><br>
<span class="lineno"></span><span class="comment" id="3785212">//&nbsp;pseudo-random&nbsp;int64&nbsp;values&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;1&lt;&lt;63).</span><br>
<span class="lineno"></span><span class="keyword" id="3785267">type</span>&nbsp;<span class="ident" id="3785272">Source</span>&nbsp;<span class="keyword" id="3785279">interface</span>&nbsp;<span class="op" id="3785289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3785292">Int63</span><span class="op" id="3785297">(</span><span class="op" id="3785298">)</span>&nbsp;<span class="ident" id="3785300">int64</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3785307">Seed</span><span class="op" id="3785311">(</span><span class="ident" id="3785312">seed</span>&nbsp;<span class="ident" id="3785317">int64</span><span class="op" id="3785322">)</span><br>
<span class="lineno"></span><span class="op" id="3785324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3785327">//&nbsp;NewSource&nbsp;returns&nbsp;a&nbsp;new&nbsp;pseudo-random&nbsp;Source&nbsp;seeded&nbsp;with&nbsp;the&nbsp;given&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="3785404">func</span>&nbsp;<span class="ident" id="3785409">NewSource</span><span class="op" id="3785418">(</span><span class="ident" id="3785419">seed</span>&nbsp;<span class="ident" id="3785424">int64</span><span class="op" id="3785429">)</span>&nbsp;<span class="ident" id="3785431">Source</span>&nbsp;<span class="op" id="3785438">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3785441">var</span>&nbsp;<span class="ident" id="3785445">rng</span>&nbsp;<span class="ident" id="3785449">rngSource</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3785460">rng</span><span class="op" id="3785463">.</span><span class="ident" id="3785464">Seed</span><span class="op" id="3785468">(</span><span class="ident" id="3785469">seed</span><span class="op" id="3785473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3785476">return</span>&nbsp;<span class="op" id="3785483">&amp;</span><span class="ident" id="3785484">rng</span><br>
<span class="lineno"></span><span class="op" id="3785488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="3785491">//&nbsp;A&nbsp;Rand&nbsp;is&nbsp;a&nbsp;source&nbsp;of&nbsp;random&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="keyword" id="3785532">type</span>&nbsp;<span class="ident" id="3785537">Rand</span>&nbsp;<span class="keyword" id="3785542">struct</span>&nbsp;<span class="op" id="3785549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3785552">src</span>&nbsp;<span class="ident" id="3785556">Source</span><br>
<span class="lineno"></span><span class="op" id="3785563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="3785566">//&nbsp;New&nbsp;returns&nbsp;a&nbsp;new&nbsp;Rand&nbsp;that&nbsp;uses&nbsp;random&nbsp;values&nbsp;from&nbsp;src</span><br>
<span class="lineno"></span><span class="comment" id="3785625">//&nbsp;to&nbsp;generate&nbsp;other&nbsp;random&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="3785661">func</span>&nbsp;<span class="ident" id="3785666">New</span><span class="op" id="3785669">(</span><span class="ident" id="3785670">src</span>&nbsp;<span class="ident" id="3785674">Source</span><span class="op" id="3785680">)</span>&nbsp;<span class="op" id="3785682">*</span><span class="ident" id="3785683">Rand</span>&nbsp;<span class="op" id="3785688">{</span>&nbsp;<span class="keyword" id="3785690">return</span>&nbsp;<span class="op" id="3785697">&amp;</span><span class="ident" id="3785698">Rand</span><span class="op" id="3785702">{</span><span class="ident" id="3785703">src</span><span class="op" id="3785706">}</span>&nbsp;<span class="op" id="3785708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3785711">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;generator&nbsp;to&nbsp;a&nbsp;deterministic&nbsp;state.</span><br>
<span class="lineno">40</span><span class="keyword" id="3785802">func</span>&nbsp;<span class="op" id="3785807">(</span><span class="ident" id="3785808">r</span>&nbsp;<span class="op" id="3785810">*</span><span class="ident" id="3785811">Rand</span><span class="op" id="3785815">)</span>&nbsp;<span class="ident" id="3785817">Seed</span><span class="op" id="3785821">(</span><span class="ident" id="3785822">seed</span>&nbsp;<span class="ident" id="3785827">int64</span><span class="op" id="3785832">)</span>&nbsp;<span class="op" id="3785834">{</span>&nbsp;<span class="ident" id="3785836">r</span><span class="op" id="3785837">.</span><span class="ident" id="3785838">src</span><span class="op" id="3785841">.</span><span class="ident" id="3785842">Seed</span><span class="op" id="3785846">(</span><span class="ident" id="3785847">seed</span><span class="op" id="3785851">)</span>&nbsp;<span class="op" id="3785853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3785856">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64.</span><br>
<span class="lineno"></span><span class="keyword" id="3785930">func</span>&nbsp;<span class="op" id="3785935">(</span><span class="ident" id="3785936">r</span>&nbsp;<span class="op" id="3785938">*</span><span class="ident" id="3785939">Rand</span><span class="op" id="3785943">)</span>&nbsp;<span class="ident" id="3785945">Int63</span><span class="op" id="3785950">(</span><span class="op" id="3785951">)</span>&nbsp;<span class="ident" id="3785953">int64</span>&nbsp;<span class="op" id="3785959">{</span>&nbsp;<span class="keyword" id="3785961">return</span>&nbsp;<span class="ident" id="3785968">r</span><span class="op" id="3785969">.</span><span class="ident" id="3785970">src</span><span class="op" id="3785973">.</span><span class="ident" id="3785974">Int63</span><span class="op" id="3785979">(</span><span class="op" id="3785980">)</span>&nbsp;<span class="op" id="3785982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="3785985">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32.</span><br>
<span class="lineno"></span><span class="keyword" id="3786045">func</span>&nbsp;<span class="op" id="3786050">(</span><span class="ident" id="3786051">r</span>&nbsp;<span class="op" id="3786053">*</span><span class="ident" id="3786054">Rand</span><span class="op" id="3786058">)</span>&nbsp;<span class="ident" id="3786060">Uint32</span><span class="op" id="3786066">(</span><span class="op" id="3786067">)</span>&nbsp;<span class="builtintype" id="3786069">uint32</span>&nbsp;<span class="op" id="3786076">{</span>&nbsp;<span class="keyword" id="3786078">return</span>&nbsp;<span class="builtintype" id="3786085">uint32</span><span class="op" id="3786091">(</span><span class="ident" id="3786092">r</span><span class="op" id="3786093">.</span><span class="ident" id="3786094">Int63</span><span class="op" id="3786099">(</span><span class="op" id="3786100">)</span>&nbsp;<span class="op" id="3786102">&gt;&gt;</span>&nbsp;<span class="num" id="3786105">31</span><span class="op" id="3786107">)</span>&nbsp;<span class="op" id="3786109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3786112">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32.</span><br>
<span class="lineno"></span><span class="keyword" id="3786186">func</span>&nbsp;<span class="op" id="3786191">(</span><span class="ident" id="3786192">r</span>&nbsp;<span class="op" id="3786194">*</span><span class="ident" id="3786195">Rand</span><span class="op" id="3786199">)</span>&nbsp;<span class="ident" id="3786201">Int31</span><span class="op" id="3786206">(</span><span class="op" id="3786207">)</span>&nbsp;<span class="builtintype" id="3786209">int32</span>&nbsp;<span class="op" id="3786215">{</span>&nbsp;<span class="keyword" id="3786217">return</span>&nbsp;<span class="builtintype" id="3786224">int32</span><span class="op" id="3786229">(</span><span class="ident" id="3786230">r</span><span class="op" id="3786231">.</span><span class="ident" id="3786232">Int63</span><span class="op" id="3786237">(</span><span class="op" id="3786238">)</span>&nbsp;<span class="op" id="3786240">&gt;&gt;</span>&nbsp;<span class="num" id="3786243">32</span><span class="op" id="3786245">)</span>&nbsp;<span class="op" id="3786247">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="3786250">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="3786299">func</span>&nbsp;<span class="op" id="3786304">(</span><span class="ident" id="3786305">r</span>&nbsp;<span class="op" id="3786307">*</span><span class="ident" id="3786308">Rand</span><span class="op" id="3786312">)</span>&nbsp;<span class="ident" id="3786314">Int</span><span class="op" id="3786317">(</span><span class="op" id="3786318">)</span>&nbsp;<span class="builtintype" id="3786320">int</span>&nbsp;<span class="op" id="3786324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3786327">u</span>&nbsp;<span class="op" id="3786329">:=</span>&nbsp;<span class="builtintype" id="3786332">uint</span><span class="op" id="3786336">(</span><span class="ident" id="3786337">r</span><span class="op" id="3786338">.</span><span class="ident" id="3786339">Int63</span><span class="op" id="3786344">(</span><span class="op" id="3786345">)</span><span class="op" id="3786346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786349">return</span>&nbsp;<span class="builtintype" id="3786356">int</span><span class="op" id="3786359">(</span><span class="ident" id="3786360">u</span>&nbsp;<span class="op" id="3786362">&lt;&lt;</span>&nbsp;<span class="num" id="3786365">1</span>&nbsp;<span class="op" id="3786367">&gt;&gt;</span>&nbsp;<span class="num" id="3786370">1</span><span class="op" id="3786371">)</span>&nbsp;<span class="comment" id="3786373">//&nbsp;clear&nbsp;sign&nbsp;bit&nbsp;if&nbsp;int&nbsp;==&nbsp;int32</span><br>
<span class="lineno">55</span><span class="op" id="3786407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3786410">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3786488">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3786512">func</span>&nbsp;<span class="op" id="3786517">(</span><span class="ident" id="3786518">r</span>&nbsp;<span class="op" id="3786520">*</span><span class="ident" id="3786521">Rand</span><span class="op" id="3786525">)</span>&nbsp;<span class="ident" id="3786527">Int63n</span><span class="op" id="3786533">(</span><span class="ident" id="3786534">n</span>&nbsp;<span class="ident" id="3786536">int64</span><span class="op" id="3786541">)</span>&nbsp;<span class="ident" id="3786543">int64</span>&nbsp;<span class="op" id="3786549">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786552">if</span>&nbsp;<span class="ident" id="3786555">n</span>&nbsp;<span class="op" id="3786557">&lt;=</span>&nbsp;<span class="num" id="3786560">0</span>&nbsp;<span class="op" id="3786562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3786566">panic</span><span class="op" id="3786571">(</span><span class="string" id="3786572">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int63n&#34;</span><span class="op" id="3786600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3786603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786606">if</span>&nbsp;<span class="ident" id="3786609">n</span><span class="op" id="3786610">&amp;</span><span class="op" id="3786611">(</span><span class="ident" id="3786612">n</span><span class="op" id="3786613">-</span><span class="num" id="3786614">1</span><span class="op" id="3786615">)</span>&nbsp;<span class="op" id="3786617">==</span>&nbsp;<span class="num" id="3786620">0</span>&nbsp;<span class="op" id="3786622">{</span>&nbsp;<span class="comment" id="3786624">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786657">return</span>&nbsp;<span class="ident" id="3786664">r</span><span class="op" id="3786665">.</span><span class="ident" id="3786666">Int63</span><span class="op" id="3786671">(</span><span class="op" id="3786672">)</span>&nbsp;<span class="op" id="3786674">&amp;</span>&nbsp;<span class="op" id="3786676">(</span><span class="ident" id="3786677">n</span>&nbsp;<span class="op" id="3786679">-</span>&nbsp;<span class="num" id="3786681">1</span><span class="op" id="3786682">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3786685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3786688">max</span>&nbsp;<span class="op" id="3786692">:=</span>&nbsp;<span class="ident" id="3786695">int64</span><span class="op" id="3786700">(</span><span class="op" id="3786701">(</span><span class="num" id="3786702">1</span>&nbsp;<span class="op" id="3786704">&lt;&lt;</span>&nbsp;<span class="num" id="3786707">63</span><span class="op" id="3786709">)</span>&nbsp;<span class="op" id="3786711">-</span>&nbsp;<span class="num" id="3786713">1</span>&nbsp;<span class="op" id="3786715">-</span>&nbsp;<span class="op" id="3786717">(</span><span class="num" id="3786718">1</span><span class="op" id="3786719">&lt;&lt;</span><span class="num" id="3786721">63</span><span class="op" id="3786723">)</span><span class="op" id="3786724">%</span><span class="ident" id="3786725">uint64</span><span class="op" id="3786731">(</span><span class="ident" id="3786732">n</span><span class="op" id="3786733">)</span><span class="op" id="3786734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3786737">v</span>&nbsp;<span class="op" id="3786739">:=</span>&nbsp;<span class="ident" id="3786742">r</span><span class="op" id="3786743">.</span><span class="ident" id="3786744">Int63</span><span class="op" id="3786749">(</span><span class="op" id="3786750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786753">for</span>&nbsp;<span class="ident" id="3786757">v</span>&nbsp;<span class="op" id="3786759">&gt;</span>&nbsp;<span class="ident" id="3786761">max</span>&nbsp;<span class="op" id="3786765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3786769">v</span>&nbsp;<span class="op" id="3786771">=</span>&nbsp;<span class="ident" id="3786773">r</span><span class="op" id="3786774">.</span><span class="ident" id="3786775">Int63</span><span class="op" id="3786780">(</span><span class="op" id="3786781">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3786784">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786787">return</span>&nbsp;<span class="ident" id="3786794">v</span>&nbsp;<span class="op" id="3786796">%</span>&nbsp;<span class="ident" id="3786798">n</span><br>
<span class="lineno"></span><span class="op" id="3786800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3786803">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno">75</span><span class="comment" id="3786881">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3786905">func</span>&nbsp;<span class="op" id="3786910">(</span><span class="ident" id="3786911">r</span>&nbsp;<span class="op" id="3786913">*</span><span class="ident" id="3786914">Rand</span><span class="op" id="3786918">)</span>&nbsp;<span class="ident" id="3786920">Int31n</span><span class="op" id="3786926">(</span><span class="ident" id="3786927">n</span>&nbsp;<span class="builtintype" id="3786929">int32</span><span class="op" id="3786934">)</span>&nbsp;<span class="builtintype" id="3786936">int32</span>&nbsp;<span class="op" id="3786942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786945">if</span>&nbsp;<span class="ident" id="3786948">n</span>&nbsp;<span class="op" id="3786950">&lt;=</span>&nbsp;<span class="num" id="3786953">0</span>&nbsp;<span class="op" id="3786955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3786959">panic</span><span class="op" id="3786964">(</span><span class="string" id="3786965">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Int31n&#34;</span><span class="op" id="3786993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3786996">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3786999">if</span>&nbsp;<span class="ident" id="3787002">n</span><span class="op" id="3787003">&amp;</span><span class="op" id="3787004">(</span><span class="ident" id="3787005">n</span><span class="op" id="3787006">-</span><span class="num" id="3787007">1</span><span class="op" id="3787008">)</span>&nbsp;<span class="op" id="3787010">==</span>&nbsp;<span class="num" id="3787013">0</span>&nbsp;<span class="op" id="3787015">{</span>&nbsp;<span class="comment" id="3787017">//&nbsp;n&nbsp;is&nbsp;power&nbsp;of&nbsp;two,&nbsp;can&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3787050">return</span>&nbsp;<span class="ident" id="3787057">r</span><span class="op" id="3787058">.</span><span class="ident" id="3787059">Int31</span><span class="op" id="3787064">(</span><span class="op" id="3787065">)</span>&nbsp;<span class="op" id="3787067">&amp;</span>&nbsp;<span class="op" id="3787069">(</span><span class="ident" id="3787070">n</span>&nbsp;<span class="op" id="3787072">-</span>&nbsp;<span class="num" id="3787074">1</span><span class="op" id="3787075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3787078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3787081">max</span>&nbsp;<span class="op" id="3787085">:=</span>&nbsp;<span class="builtintype" id="3787088">int32</span><span class="op" id="3787093">(</span><span class="op" id="3787094">(</span><span class="num" id="3787095">1</span>&nbsp;<span class="op" id="3787097">&lt;&lt;</span>&nbsp;<span class="num" id="3787100">31</span><span class="op" id="3787102">)</span>&nbsp;<span class="op" id="3787104">-</span>&nbsp;<span class="num" id="3787106">1</span>&nbsp;<span class="op" id="3787108">-</span>&nbsp;<span class="op" id="3787110">(</span><span class="num" id="3787111">1</span><span class="op" id="3787112">&lt;&lt;</span><span class="num" id="3787114">31</span><span class="op" id="3787116">)</span><span class="op" id="3787117">%</span><span class="builtintype" id="3787118">uint32</span><span class="op" id="3787124">(</span><span class="ident" id="3787125">n</span><span class="op" id="3787126">)</span><span class="op" id="3787127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3787130">v</span>&nbsp;<span class="op" id="3787132">:=</span>&nbsp;<span class="ident" id="3787135">r</span><span class="op" id="3787136">.</span><span class="ident" id="3787137">Int31</span><span class="op" id="3787142">(</span><span class="op" id="3787143">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3787146">for</span>&nbsp;<span class="ident" id="3787150">v</span>&nbsp;<span class="op" id="3787152">&gt;</span>&nbsp;<span class="ident" id="3787154">max</span>&nbsp;<span class="op" id="3787158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3787162">v</span>&nbsp;<span class="op" id="3787164">=</span>&nbsp;<span class="ident" id="3787166">r</span><span class="op" id="3787167">.</span><span class="ident" id="3787168">Int31</span><span class="op" id="3787173">(</span><span class="op" id="3787174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3787177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3787180">return</span>&nbsp;<span class="ident" id="3787187">v</span>&nbsp;<span class="op" id="3787189">%</span>&nbsp;<span class="ident" id="3787191">n</span><br>
<span class="lineno"></span><span class="op" id="3787193">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="3787196">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="comment" id="3787270">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3787294">func</span>&nbsp;<span class="op" id="3787299">(</span><span class="ident" id="3787300">r</span>&nbsp;<span class="op" id="3787302">*</span><span class="ident" id="3787303">Rand</span><span class="op" id="3787307">)</span>&nbsp;<span class="ident" id="3787309">Intn</span><span class="op" id="3787313">(</span><span class="ident" id="3787314">n</span>&nbsp;<span class="builtintype" id="3787316">int</span><span class="op" id="3787319">)</span>&nbsp;<span class="builtintype" id="3787321">int</span>&nbsp;<span class="op" id="3787325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3787328">if</span>&nbsp;<span class="ident" id="3787331">n</span>&nbsp;<span class="op" id="3787333">&lt;=</span>&nbsp;<span class="num" id="3787336">0</span>&nbsp;<span class="op" id="3787338">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3787342">panic</span><span class="op" id="3787347">(</span><span class="string" id="3787348">&#34;invalid&nbsp;argument&nbsp;to&nbsp;Intn&#34;</span><span class="op" id="3787374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3787377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3787380">if</span>&nbsp;<span class="ident" id="3787383">n</span>&nbsp;<span class="op" id="3787385">&lt;=</span>&nbsp;<span class="num" id="3787388">1</span><span class="op" id="3787389">&lt;&lt;</span><span class="num" id="3787391">31</span><span class="op" id="3787393">-</span><span class="num" id="3787394">1</span>&nbsp;<span class="op" id="3787396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3787400">return</span>&nbsp;<span class="builtintype" id="3787407">int</span><span class="op" id="3787410">(</span><span class="ident" id="3787411">r</span><span class="op" id="3787412">.</span><span class="ident" id="3787413">Int31n</span><span class="op" id="3787419">(</span><span class="builtintype" id="3787420">int32</span><span class="op" id="3787425">(</span><span class="ident" id="3787426">n</span><span class="op" id="3787427">)</span><span class="op" id="3787428">)</span><span class="op" id="3787429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3787432">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3787435">return</span>&nbsp;<span class="builtintype" id="3787442">int</span><span class="op" id="3787445">(</span><span class="ident" id="3787446">r</span><span class="op" id="3787447">.</span><span class="ident" id="3787448">Int63n</span><span class="op" id="3787454">(</span><span class="ident" id="3787455">int64</span><span class="op" id="3787460">(</span><span class="ident" id="3787461">n</span><span class="op" id="3787462">)</span><span class="op" id="3787463">)</span><span class="op" id="3787464">)</span><br>
<span class="lineno"></span><span class="op" id="3787466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3787469">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3787540">func</span>&nbsp;<span class="op" id="3787545">(</span><span class="ident" id="3787546">r</span>&nbsp;<span class="op" id="3787548">*</span><span class="ident" id="3787549">Rand</span><span class="op" id="3787553">)</span>&nbsp;<span class="ident" id="3787555">Float64</span><span class="op" id="3787562">(</span><span class="op" id="3787563">)</span>&nbsp;<span class="builtintype" id="3787565">float64</span>&nbsp;<span class="op" id="3787573">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787576">//&nbsp;A&nbsp;clearer,&nbsp;simpler&nbsp;implementation&nbsp;would&nbsp;be:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787624">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63n(1&lt;&lt;53))&nbsp;/&nbsp;(1&lt;&lt;53)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787670">//&nbsp;However,&nbsp;Go&nbsp;1&nbsp;shipped&nbsp;with</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787701">//&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;float64(r.Int63())&nbsp;/&nbsp;(1&nbsp;&lt;&lt;&nbsp;63)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787743">//&nbsp;and&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;that&nbsp;value&nbsp;stream.</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787790">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787794">//&nbsp;There&nbsp;is&nbsp;one&nbsp;bug&nbsp;in&nbsp;the&nbsp;value&nbsp;stream:&nbsp;r.Int63()&nbsp;may&nbsp;be&nbsp;so&nbsp;close</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787862">//&nbsp;to&nbsp;1&lt;&lt;63&nbsp;that&nbsp;the&nbsp;division&nbsp;rounds&nbsp;up&nbsp;to&nbsp;1.0,&nbsp;and&nbsp;we&#39;ve&nbsp;guaranteed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3787932">//&nbsp;that&nbsp;the&nbsp;result&nbsp;is&nbsp;always&nbsp;less&nbsp;than&nbsp;1.0.&nbsp;To&nbsp;fix&nbsp;that,&nbsp;we&nbsp;treat&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788003">//&nbsp;range&nbsp;as&nbsp;cyclic&nbsp;and&nbsp;map&nbsp;1&nbsp;back&nbsp;to&nbsp;0.&nbsp;This&nbsp;is&nbsp;justified&nbsp;by&nbsp;observing</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788075">//&nbsp;that&nbsp;while&nbsp;some&nbsp;of&nbsp;the&nbsp;values&nbsp;rounded&nbsp;down&nbsp;to&nbsp;0,&nbsp;nothing&nbsp;was</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788140">//&nbsp;rounding&nbsp;up&nbsp;to&nbsp;0,&nbsp;so&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;in&nbsp;the&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788204">//&nbsp;Mapping&nbsp;1&nbsp;back&nbsp;to&nbsp;zero&nbsp;restores&nbsp;some&nbsp;balance.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788254">//&nbsp;(The&nbsp;balance&nbsp;is&nbsp;not&nbsp;perfect&nbsp;because&nbsp;the&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788313">//&nbsp;returns&nbsp;denormalized&nbsp;numbers&nbsp;for&nbsp;very&nbsp;small&nbsp;r.Int63(),</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788372">//&nbsp;and&nbsp;those&nbsp;steal&nbsp;from&nbsp;what&nbsp;would&nbsp;normally&nbsp;be&nbsp;0&nbsp;results.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788432">//&nbsp;The&nbsp;remapping&nbsp;only&nbsp;happens&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time,&nbsp;so&nbsp;most&nbsp;clients</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788501">//&nbsp;will&nbsp;not&nbsp;observe&nbsp;it&nbsp;anyway.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3788533">f</span>&nbsp;<span class="op" id="3788535">:=</span>&nbsp;<span class="builtintype" id="3788538">float64</span><span class="op" id="3788545">(</span><span class="ident" id="3788546">r</span><span class="op" id="3788547">.</span><span class="ident" id="3788548">Int63</span><span class="op" id="3788553">(</span><span class="op" id="3788554">)</span><span class="op" id="3788555">)</span>&nbsp;<span class="op" id="3788557">/</span>&nbsp;<span class="op" id="3788559">(</span><span class="num" id="3788560">1</span>&nbsp;<span class="op" id="3788562">&lt;&lt;</span>&nbsp;<span class="num" id="3788565">63</span><span class="op" id="3788567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3788570">if</span>&nbsp;<span class="ident" id="3788573">f</span>&nbsp;<span class="op" id="3788575">==</span>&nbsp;<span class="num" id="3788578">1</span>&nbsp;<span class="op" id="3788580">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3788584">f</span>&nbsp;<span class="op" id="3788586">=</span>&nbsp;<span class="num" id="3788588">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3788591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3788594">return</span>&nbsp;<span class="ident" id="3788601">f</span><br>
<span class="lineno"></span><span class="op" id="3788603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3788606">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0).</span><br>
<span class="lineno"></span><span class="keyword" id="3788677">func</span>&nbsp;<span class="op" id="3788682">(</span><span class="ident" id="3788683">r</span>&nbsp;<span class="op" id="3788685">*</span><span class="ident" id="3788686">Rand</span><span class="op" id="3788690">)</span>&nbsp;<span class="ident" id="3788692">Float32</span><span class="op" id="3788699">(</span><span class="op" id="3788700">)</span>&nbsp;<span class="builtintype" id="3788702">float32</span>&nbsp;<span class="op" id="3788710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788713">//&nbsp;Same&nbsp;rationale&nbsp;as&nbsp;in&nbsp;Float64:&nbsp;we&nbsp;want&nbsp;to&nbsp;preserve&nbsp;the&nbsp;Go&nbsp;1&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788782">//&nbsp;stream&nbsp;except&nbsp;we&nbsp;want&nbsp;to&nbsp;fix&nbsp;it&nbsp;not&nbsp;to&nbsp;return&nbsp;1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788836">//&nbsp;There&nbsp;is&nbsp;a&nbsp;double&nbsp;rounding&nbsp;going&nbsp;on&nbsp;here,&nbsp;but&nbsp;the&nbsp;argument&nbsp;for</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788903">//&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;still&nbsp;applies:&nbsp;0&nbsp;was&nbsp;underrepresented&nbsp;before,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3788968">//&nbsp;so&nbsp;mapping&nbsp;1&nbsp;to&nbsp;0&nbsp;doesn&#39;t&nbsp;cause&nbsp;too&nbsp;many&nbsp;0s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3789017">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;1/2²⁴&nbsp;of&nbsp;the&nbsp;time&nbsp;(plus&nbsp;the&nbsp;1/2⁵³&nbsp;of&nbsp;the&nbsp;time&nbsp;in&nbsp;Float64).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3789104">f</span>&nbsp;<span class="op" id="3789106">:=</span>&nbsp;<span class="builtintype" id="3789109">float32</span><span class="op" id="3789116">(</span><span class="ident" id="3789117">r</span><span class="op" id="3789118">.</span><span class="ident" id="3789119">Float64</span><span class="op" id="3789126">(</span><span class="op" id="3789127">)</span><span class="op" id="3789128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3789131">if</span>&nbsp;<span class="ident" id="3789134">f</span>&nbsp;<span class="op" id="3789136">==</span>&nbsp;<span class="num" id="3789139">1</span>&nbsp;<span class="op" id="3789141">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3789145">f</span>&nbsp;<span class="op" id="3789147">=</span>&nbsp;<span class="num" id="3789149">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3789152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3789155">return</span>&nbsp;<span class="ident" id="3789162">f</span><br>
<span class="lineno"></span><span class="op" id="3789164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="comment" id="3789167">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n).</span><br>
<span class="lineno"></span><span class="keyword" id="3789257">func</span>&nbsp;<span class="op" id="3789262">(</span><span class="ident" id="3789263">r</span>&nbsp;<span class="op" id="3789265">*</span><span class="ident" id="3789266">Rand</span><span class="op" id="3789270">)</span>&nbsp;<span class="ident" id="3789272">Perm</span><span class="op" id="3789276">(</span><span class="ident" id="3789277">n</span>&nbsp;<span class="builtintype" id="3789279">int</span><span class="op" id="3789282">)</span>&nbsp;<span class="op" id="3789284">[</span><span class="op" id="3789285">]</span><span class="builtintype" id="3789286">int</span>&nbsp;<span class="op" id="3789290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3789293">m</span>&nbsp;<span class="op" id="3789295">:=</span>&nbsp;<span class="builtinfunc" id="3789298">make</span><span class="op" id="3789302">(</span><span class="op" id="3789303">[</span><span class="op" id="3789304">]</span><span class="builtintype" id="3789305">int</span><span class="op" id="3789308">,</span>&nbsp;<span class="ident" id="3789310">n</span><span class="op" id="3789311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3789314">for</span>&nbsp;<span class="ident" id="3789318">i</span>&nbsp;<span class="op" id="3789320">:=</span>&nbsp;<span class="num" id="3789323">0</span><span class="op" id="3789324">;</span>&nbsp;<span class="ident" id="3789326">i</span>&nbsp;<span class="op" id="3789328">&lt;</span>&nbsp;<span class="ident" id="3789330">n</span><span class="op" id="3789331">;</span>&nbsp;<span class="ident" id="3789333">i</span><span class="op" id="3789334">++</span>&nbsp;<span class="op" id="3789337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3789341">j</span>&nbsp;<span class="op" id="3789343">:=</span>&nbsp;<span class="ident" id="3789346">r</span><span class="op" id="3789347">.</span><span class="ident" id="3789348">Intn</span><span class="op" id="3789352">(</span><span class="ident" id="3789353">i</span>&nbsp;<span class="op" id="3789355">+</span>&nbsp;<span class="num" id="3789357">1</span><span class="op" id="3789358">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3789362">m</span><span class="op" id="3789363">[</span><span class="ident" id="3789364">i</span><span class="op" id="3789365">]</span>&nbsp;<span class="op" id="3789367">=</span>&nbsp;<span class="ident" id="3789369">m</span><span class="op" id="3789370">[</span><span class="ident" id="3789371">j</span><span class="op" id="3789372">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3789376">m</span><span class="op" id="3789377">[</span><span class="ident" id="3789378">j</span><span class="op" id="3789379">]</span>&nbsp;<span class="op" id="3789381">=</span>&nbsp;<span class="ident" id="3789383">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3789386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3789389">return</span>&nbsp;<span class="ident" id="3789396">m</span><br>
<span class="lineno"></span><span class="op" id="3789398">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="3789401">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Top-level&nbsp;convenience&nbsp;functions<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="3789444">var</span>&nbsp;<span class="ident" id="3789448">globalRand</span>&nbsp;<span class="op" id="3789459">=</span>&nbsp;<span class="ident" id="3789461">New</span><span class="op" id="3789464">(</span><span class="op" id="3789465">&amp;</span><span class="ident" id="3789466">lockedSource</span><span class="op" id="3789478">{</span><span class="ident" id="3789479">src</span><span class="op" id="3789482">:</span>&nbsp;<span class="ident" id="3789484">NewSource</span><span class="op" id="3789493">(</span><span class="num" id="3789494">1</span><span class="op" id="3789495">)</span><span class="op" id="3789496">}</span><span class="op" id="3789497">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3789500">//&nbsp;Seed&nbsp;uses&nbsp;the&nbsp;provided&nbsp;seed&nbsp;value&nbsp;to&nbsp;initialize&nbsp;the&nbsp;default&nbsp;Source&nbsp;to&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3789575">//&nbsp;deterministic&nbsp;state.&nbsp;If&nbsp;Seed&nbsp;is&nbsp;not&nbsp;called,&nbsp;the&nbsp;generator&nbsp;behaves&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="3789647">//&nbsp;if&nbsp;seeded&nbsp;by&nbsp;Seed(1).</span><br>
<span class="lineno">165</span><span class="keyword" id="3789672">func</span>&nbsp;<span class="ident" id="3789677">Seed</span><span class="op" id="3789681">(</span><span class="ident" id="3789682">seed</span>&nbsp;<span class="ident" id="3789687">int64</span><span class="op" id="3789692">)</span>&nbsp;<span class="op" id="3789694">{</span>&nbsp;<span class="ident" id="3789696">globalRand</span><span class="op" id="3789706">.</span><span class="ident" id="3789707">Seed</span><span class="op" id="3789711">(</span><span class="ident" id="3789712">seed</span><span class="op" id="3789716">)</span>&nbsp;<span class="op" id="3789718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3789721">//&nbsp;Int63&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;63-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int64</span><br>
<span class="lineno"></span><span class="comment" id="3789794">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3789822">func</span>&nbsp;<span class="ident" id="3789827">Int63</span><span class="op" id="3789832">(</span><span class="op" id="3789833">)</span>&nbsp;<span class="ident" id="3789835">int64</span>&nbsp;<span class="op" id="3789841">{</span>&nbsp;<span class="keyword" id="3789843">return</span>&nbsp;<span class="ident" id="3789850">globalRand</span><span class="op" id="3789860">.</span><span class="ident" id="3789861">Int63</span><span class="op" id="3789866">(</span><span class="op" id="3789867">)</span>&nbsp;<span class="op" id="3789869">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="comment" id="3789872">//&nbsp;Uint32&nbsp;returns&nbsp;a&nbsp;pseudo-random&nbsp;32-bit&nbsp;value&nbsp;as&nbsp;a&nbsp;uint32</span><br>
<span class="lineno"></span><span class="comment" id="3789931">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3789959">func</span>&nbsp;<span class="ident" id="3789964">Uint32</span><span class="op" id="3789970">(</span><span class="op" id="3789971">)</span>&nbsp;<span class="builtintype" id="3789973">uint32</span>&nbsp;<span class="op" id="3789980">{</span>&nbsp;<span class="keyword" id="3789982">return</span>&nbsp;<span class="ident" id="3789989">globalRand</span><span class="op" id="3789999">.</span><span class="ident" id="3790000">Uint32</span><span class="op" id="3790006">(</span><span class="op" id="3790007">)</span>&nbsp;<span class="op" id="3790009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="3790012">//&nbsp;Int31&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;31-bit&nbsp;integer&nbsp;as&nbsp;an&nbsp;int32</span><br>
<span class="lineno"></span><span class="comment" id="3790085">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3790113">func</span>&nbsp;<span class="ident" id="3790118">Int31</span><span class="op" id="3790123">(</span><span class="op" id="3790124">)</span>&nbsp;<span class="builtintype" id="3790126">int32</span>&nbsp;<span class="op" id="3790132">{</span>&nbsp;<span class="keyword" id="3790134">return</span>&nbsp;<span class="ident" id="3790141">globalRand</span><span class="op" id="3790151">.</span><span class="ident" id="3790152">Int31</span><span class="op" id="3790157">(</span><span class="op" id="3790158">)</span>&nbsp;<span class="op" id="3790160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3790163">//&nbsp;Int&nbsp;returns&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;int&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno">180</span><span class="keyword" id="3790236">func</span>&nbsp;<span class="ident" id="3790241">Int</span><span class="op" id="3790244">(</span><span class="op" id="3790245">)</span>&nbsp;<span class="builtintype" id="3790247">int</span>&nbsp;<span class="op" id="3790251">{</span>&nbsp;<span class="keyword" id="3790253">return</span>&nbsp;<span class="ident" id="3790260">globalRand</span><span class="op" id="3790270">.</span><span class="ident" id="3790271">Int</span><span class="op" id="3790274">(</span><span class="op" id="3790275">)</span>&nbsp;<span class="op" id="3790277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3790280">//&nbsp;Int63n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int64,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3790357">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3790385">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">185</span><span class="keyword" id="3790409">func</span>&nbsp;<span class="ident" id="3790414">Int63n</span><span class="op" id="3790420">(</span><span class="ident" id="3790421">n</span>&nbsp;<span class="ident" id="3790423">int64</span><span class="op" id="3790428">)</span>&nbsp;<span class="ident" id="3790430">int64</span>&nbsp;<span class="op" id="3790436">{</span>&nbsp;<span class="keyword" id="3790438">return</span>&nbsp;<span class="ident" id="3790445">globalRand</span><span class="op" id="3790455">.</span><span class="ident" id="3790456">Int63n</span><span class="op" id="3790462">(</span><span class="ident" id="3790463">n</span><span class="op" id="3790464">)</span>&nbsp;<span class="op" id="3790466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3790469">//&nbsp;Int31n&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int32,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3790546">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3790574">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">190</span><span class="keyword" id="3790598">func</span>&nbsp;<span class="ident" id="3790603">Int31n</span><span class="op" id="3790609">(</span><span class="ident" id="3790610">n</span>&nbsp;<span class="builtintype" id="3790612">int32</span><span class="op" id="3790617">)</span>&nbsp;<span class="builtintype" id="3790619">int32</span>&nbsp;<span class="op" id="3790625">{</span>&nbsp;<span class="keyword" id="3790627">return</span>&nbsp;<span class="ident" id="3790634">globalRand</span><span class="op" id="3790644">.</span><span class="ident" id="3790645">Int31n</span><span class="op" id="3790651">(</span><span class="ident" id="3790652">n</span><span class="op" id="3790653">)</span>&nbsp;<span class="op" id="3790655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3790658">//&nbsp;Intn&nbsp;returns,&nbsp;as&nbsp;an&nbsp;int,&nbsp;a&nbsp;non-negative&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3790731">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3790759">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;n&nbsp;&lt;=&nbsp;0.</span><br>
<span class="lineno">195</span><span class="keyword" id="3790783">func</span>&nbsp;<span class="ident" id="3790788">Intn</span><span class="op" id="3790792">(</span><span class="ident" id="3790793">n</span>&nbsp;<span class="builtintype" id="3790795">int</span><span class="op" id="3790798">)</span>&nbsp;<span class="builtintype" id="3790800">int</span>&nbsp;<span class="op" id="3790804">{</span>&nbsp;<span class="keyword" id="3790806">return</span>&nbsp;<span class="ident" id="3790813">globalRand</span><span class="op" id="3790823">.</span><span class="ident" id="3790824">Intn</span><span class="op" id="3790828">(</span><span class="ident" id="3790829">n</span><span class="op" id="3790830">)</span>&nbsp;<span class="op" id="3790832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3790835">//&nbsp;Float64&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float64,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3790905">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3790933">func</span>&nbsp;<span class="ident" id="3790938">Float64</span><span class="op" id="3790945">(</span><span class="op" id="3790946">)</span>&nbsp;<span class="builtintype" id="3790948">float64</span>&nbsp;<span class="op" id="3790956">{</span>&nbsp;<span class="keyword" id="3790958">return</span>&nbsp;<span class="ident" id="3790965">globalRand</span><span class="op" id="3790975">.</span><span class="ident" id="3790976">Float64</span><span class="op" id="3790983">(</span><span class="op" id="3790984">)</span>&nbsp;<span class="op" id="3790986">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="comment" id="3790989">//&nbsp;Float32&nbsp;returns,&nbsp;as&nbsp;a&nbsp;float32,&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0.0,1.0)</span><br>
<span class="lineno"></span><span class="comment" id="3791059">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3791087">func</span>&nbsp;<span class="ident" id="3791092">Float32</span><span class="op" id="3791099">(</span><span class="op" id="3791100">)</span>&nbsp;<span class="builtintype" id="3791102">float32</span>&nbsp;<span class="op" id="3791110">{</span>&nbsp;<span class="keyword" id="3791112">return</span>&nbsp;<span class="ident" id="3791119">globalRand</span><span class="op" id="3791129">.</span><span class="ident" id="3791130">Float32</span><span class="op" id="3791137">(</span><span class="op" id="3791138">)</span>&nbsp;<span class="op" id="3791140">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="comment" id="3791143">//&nbsp;Perm&nbsp;returns,&nbsp;as&nbsp;a&nbsp;slice&nbsp;of&nbsp;n&nbsp;ints,&nbsp;a&nbsp;pseudo-random&nbsp;permutation&nbsp;of&nbsp;the&nbsp;integers&nbsp;[0,n)</span><br>
<span class="lineno"></span><span class="comment" id="3791232">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="keyword" id="3791260">func</span>&nbsp;<span class="ident" id="3791265">Perm</span><span class="op" id="3791269">(</span><span class="ident" id="3791270">n</span>&nbsp;<span class="builtintype" id="3791272">int</span><span class="op" id="3791275">)</span>&nbsp;<span class="op" id="3791277">[</span><span class="op" id="3791278">]</span><span class="builtintype" id="3791279">int</span>&nbsp;<span class="op" id="3791283">{</span>&nbsp;<span class="keyword" id="3791285">return</span>&nbsp;<span class="ident" id="3791292">globalRand</span><span class="op" id="3791302">.</span><span class="ident" id="3791303">Perm</span><span class="op" id="3791307">(</span><span class="ident" id="3791308">n</span><span class="op" id="3791309">)</span>&nbsp;<span class="op" id="3791311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3791314">//&nbsp;NormFloat64&nbsp;returns&nbsp;a&nbsp;normally&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno">210</span><span class="comment" id="3791381">//&nbsp;[-math.MaxFloat64,&nbsp;+math.MaxFloat64]&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="3791426">//&nbsp;standard&nbsp;normal&nbsp;distribution&nbsp;(mean&nbsp;=&nbsp;0,&nbsp;stddev&nbsp;=&nbsp;1)</span><br>
<span class="lineno"></span><span class="comment" id="3791481">//&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3791509">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;different&nbsp;normal&nbsp;distribution,&nbsp;callers&nbsp;can</span><br>
<span class="lineno"></span><span class="comment" id="3791568">//&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">215</span><span class="comment" id="3791596">//</span><br>
<span class="lineno"></span><span class="comment" id="3791599">//&nbsp;&nbsp;sample&nbsp;=&nbsp;NormFloat64()&nbsp;*&nbsp;desiredStdDev&nbsp;+&nbsp;desiredMean</span><br>
<span class="lineno"></span><span class="comment" id="3791656">//</span><br>
<span class="lineno"></span><span class="keyword" id="3791659">func</span>&nbsp;<span class="ident" id="3791664">NormFloat64</span><span class="op" id="3791675">(</span><span class="op" id="3791676">)</span>&nbsp;<span class="builtintype" id="3791678">float64</span>&nbsp;<span class="op" id="3791686">{</span>&nbsp;<span class="keyword" id="3791688">return</span>&nbsp;<span class="ident" id="3791695">globalRand</span><span class="op" id="3791705">.</span><span class="ident" id="3791706">NormFloat64</span><span class="op" id="3791717">(</span><span class="op" id="3791718">)</span>&nbsp;<span class="op" id="3791720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="3791723">//&nbsp;ExpFloat64&nbsp;returns&nbsp;an&nbsp;exponentially&nbsp;distributed&nbsp;float64&nbsp;in&nbsp;the&nbsp;range</span><br>
<span class="lineno"></span><span class="comment" id="3791795">//&nbsp;(0,&nbsp;+math.MaxFloat64]&nbsp;with&nbsp;an&nbsp;exponential&nbsp;distribution&nbsp;whose&nbsp;rate&nbsp;parameter</span><br>
<span class="lineno"></span><span class="comment" id="3791874">//&nbsp;(lambda)&nbsp;is&nbsp;1&nbsp;and&nbsp;whose&nbsp;mean&nbsp;is&nbsp;1/lambda&nbsp;(1)&nbsp;from&nbsp;the&nbsp;default&nbsp;Source.</span><br>
<span class="lineno"></span><span class="comment" id="3791947">//&nbsp;To&nbsp;produce&nbsp;a&nbsp;distribution&nbsp;with&nbsp;a&nbsp;different&nbsp;rate&nbsp;parameter,</span><br>
<span class="lineno"></span><span class="comment" id="3792009">//&nbsp;callers&nbsp;can&nbsp;adjust&nbsp;the&nbsp;output&nbsp;using:</span><br>
<span class="lineno">225</span><span class="comment" id="3792049">//</span><br>
<span class="lineno"></span><span class="comment" id="3792052">//&nbsp;&nbsp;sample&nbsp;=&nbsp;ExpFloat64()&nbsp;/&nbsp;desiredRateParameter</span><br>
<span class="lineno"></span><span class="comment" id="3792101">//</span><br>
<span class="lineno"></span><span class="keyword" id="3792104">func</span>&nbsp;<span class="ident" id="3792109">ExpFloat64</span><span class="op" id="3792119">(</span><span class="op" id="3792120">)</span>&nbsp;<span class="builtintype" id="3792122">float64</span>&nbsp;<span class="op" id="3792130">{</span>&nbsp;<span class="keyword" id="3792132">return</span>&nbsp;<span class="ident" id="3792139">globalRand</span><span class="op" id="3792149">.</span><span class="ident" id="3792150">ExpFloat64</span><span class="op" id="3792160">(</span><span class="op" id="3792161">)</span>&nbsp;<span class="op" id="3792163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">230</span><span class="keyword" id="3792166">type</span>&nbsp;<span class="ident" id="3792171">lockedSource</span>&nbsp;<span class="keyword" id="3792184">struct</span>&nbsp;<span class="op" id="3792191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792194">lk</span>&nbsp;&nbsp;<span class="ident" id="3792198">sync</span><span class="op" id="3792202">.</span><span class="ident" id="3792203">Mutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792210">src</span>&nbsp;<span class="ident" id="3792214">Source</span><br>
<span class="lineno"></span><span class="op" id="3792221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="3792224">func</span>&nbsp;<span class="op" id="3792229">(</span><span class="ident" id="3792230">r</span>&nbsp;<span class="op" id="3792232">*</span><span class="ident" id="3792233">lockedSource</span><span class="op" id="3792245">)</span>&nbsp;<span class="ident" id="3792247">Int63</span><span class="op" id="3792252">(</span><span class="op" id="3792253">)</span>&nbsp;<span class="op" id="3792255">(</span><span class="ident" id="3792256">n</span>&nbsp;<span class="ident" id="3792258">int64</span><span class="op" id="3792263">)</span>&nbsp;<span class="op" id="3792265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792268">r</span><span class="op" id="3792269">.</span><span class="ident" id="3792270">lk</span><span class="op" id="3792272">.</span><span class="ident" id="3792273">Lock</span><span class="op" id="3792277">(</span><span class="op" id="3792278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792281">n</span>&nbsp;<span class="op" id="3792283">=</span>&nbsp;<span class="ident" id="3792285">r</span><span class="op" id="3792286">.</span><span class="ident" id="3792287">src</span><span class="op" id="3792290">.</span><span class="ident" id="3792291">Int63</span><span class="op" id="3792296">(</span><span class="op" id="3792297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792300">r</span><span class="op" id="3792301">.</span><span class="ident" id="3792302">lk</span><span class="op" id="3792304">.</span><span class="ident" id="3792305">Unlock</span><span class="op" id="3792311">(</span><span class="op" id="3792312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3792315">return</span><br>
<span class="lineno">240</span><span class="op" id="3792322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3792325">func</span>&nbsp;<span class="op" id="3792330">(</span><span class="ident" id="3792331">r</span>&nbsp;<span class="op" id="3792333">*</span><span class="ident" id="3792334">lockedSource</span><span class="op" id="3792346">)</span>&nbsp;<span class="ident" id="3792348">Seed</span><span class="op" id="3792352">(</span><span class="ident" id="3792353">seed</span>&nbsp;<span class="ident" id="3792358">int64</span><span class="op" id="3792363">)</span>&nbsp;<span class="op" id="3792365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792368">r</span><span class="op" id="3792369">.</span><span class="ident" id="3792370">lk</span><span class="op" id="3792372">.</span><span class="ident" id="3792373">Lock</span><span class="op" id="3792377">(</span><span class="op" id="3792378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792381">r</span><span class="op" id="3792382">.</span><span class="ident" id="3792383">src</span><span class="op" id="3792386">.</span><span class="ident" id="3792387">Seed</span><span class="op" id="3792391">(</span><span class="ident" id="3792392">seed</span><span class="op" id="3792396">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3792399">r</span><span class="op" id="3792400">.</span><span class="ident" id="3792401">lk</span><span class="op" id="3792403">.</span><span class="ident" id="3792404">Unlock</span><span class="op" id="3792410">(</span><span class="op" id="3792411">)</span><br>
<span class="lineno"></span><span class="op" id="3792413">}</span>
</div>
</body>
</html>
