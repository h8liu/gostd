<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html" class="current">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6794570">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6794626">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6794680">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6794731">package</span>&nbsp;<span class="ident" id="6794739">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6794744">import</span>&nbsp;<span class="op" id="6794751">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6794754">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6794765">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6794776">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6794787">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6794798">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6794805">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6794808">func</span>&nbsp;<span class="ident" id="6794813">TestResolveUDPAddr</span><span class="op" id="6794831">(</span><span class="ident" id="6794832">t</span>&nbsp;<span class="op" id="6794834">*</span><span class="ident" id="6794835"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6794842">.</span><span class="ident" id="6794843"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6794844">)</span>&nbsp;<span class="op" id="6794846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6794849">for</span>&nbsp;<span class="ident" id="6794853">_</span><span class="op" id="6794854">,</span>&nbsp;<span class="ident" id="6794856">tt</span>&nbsp;<span class="op" id="6794859">:=</span>&nbsp;<span class="keyword" id="6794862">range</span>&nbsp;<span class="ident" id="6794868"><a href="/gostd/net/tcp_test.go.html#6769145">resolveTCPAddrTests</a></span>&nbsp;<span class="op" id="6794888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6794892">net</span>&nbsp;<span class="op" id="6794896">:=</span>&nbsp;<span class="ident" id="6794899"><a href="/gostd/net/udp_test.go.html#6794776">strings</a></span><span class="op" id="6794906">.</span><span class="ident" id="6794907"><a href="/gostd/strings/strings.go.html#2983409">Replace</a></span><span class="op" id="6794914">(</span><span class="ident" id="6794915"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6794917">.</span><span class="ident" id="6794918"><a href="/gostd/net/tcp_test.go.html#6769050">net</a></span><span class="op" id="6794921">,</span>&nbsp;<span class="string" id="6794923">&#34;tcp&#34;</span><span class="op" id="6794928">,</span>&nbsp;<span class="string" id="6794930">&#34;udp&#34;</span><span class="op" id="6794935">,</span>&nbsp;<span class="op" id="6794937">-</span><span class="num" id="6794938">1</span><span class="op" id="6794939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6794943">addr</span><span class="op" id="6794947">,</span>&nbsp;<span class="ident" id="6794949">err</span>&nbsp;<span class="op" id="6794953">:=</span>&nbsp;<span class="ident" id="6794956"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6794970">(</span><span class="ident" id="6794971"><a href="/gostd/net/udp_test.go.html#6794892">net</a></span><span class="op" id="6794974">,</span>&nbsp;<span class="ident" id="6794976"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6794978">.</span><span class="ident" id="6794979"><a href="/gostd/net/tcp_test.go.html#6769072">litAddrOrName</a></span><span class="op" id="6794992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6794996">if</span>&nbsp;<span class="ident" id="6794999"><a href="/gostd/net/udp_test.go.html#6794949">err</a></span>&nbsp;<span class="op" id="6795003">!=</span>&nbsp;<span class="ident" id="6795006"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6795008">.</span><span class="ident" id="6795009"><a href="/gostd/net/tcp_test.go.html#6769118">err</a></span>&nbsp;<span class="op" id="6795013">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795018"><a href="/gostd/net/udp_test.go.html#6794832">t</a></span><span class="op" id="6795019">.</span><span class="ident" id="6795020"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6795026">(</span><span class="string" id="6795027">&#34;ResolveUDPAddr(%q,&nbsp;%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6795062">,</span>&nbsp;<span class="ident" id="6795064"><a href="/gostd/net/udp_test.go.html#6794892">net</a></span><span class="op" id="6795067">,</span>&nbsp;<span class="ident" id="6795069"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6795071">.</span><span class="ident" id="6795072"><a href="/gostd/net/tcp_test.go.html#6769072">litAddrOrName</a></span><span class="op" id="6795085">,</span>&nbsp;<span class="ident" id="6795087"><a href="/gostd/net/udp_test.go.html#6794949">err</a></span><span class="op" id="6795090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795098">if</span>&nbsp;<span class="op" id="6795101">!</span><span class="ident" id="6795102"><a href="/gostd/net/udp_test.go.html#6794754">reflect</a></span><span class="op" id="6795109">.</span><span class="ident" id="6795110"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="6795119">(</span><span class="ident" id="6795120"><a href="/gostd/net/udp_test.go.html#6794943">addr</a></span><span class="op" id="6795124">,</span>&nbsp;<span class="op" id="6795126">(</span><span class="op" id="6795127">*</span><span class="ident" id="6795128"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6795135">)</span><span class="op" id="6795136">(</span><span class="ident" id="6795137"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6795139">.</span><span class="ident" id="6795140"><a href="/gostd/net/tcp_test.go.html#6769094">addr</a></span><span class="op" id="6795144">)</span><span class="op" id="6795145">)</span>&nbsp;<span class="op" id="6795147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795152"><a href="/gostd/net/udp_test.go.html#6794832">t</a></span><span class="op" id="6795153">.</span><span class="ident" id="6795154"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6795160">(</span><span class="string" id="6795161">&#34;ResolveUDPAddr(%q,&nbsp;%q)&nbsp;=&nbsp;%#v,&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6795201">,</span>&nbsp;<span class="ident" id="6795203"><a href="/gostd/net/udp_test.go.html#6794892">net</a></span><span class="op" id="6795206">,</span>&nbsp;<span class="ident" id="6795208"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6795210">.</span><span class="ident" id="6795211"><a href="/gostd/net/tcp_test.go.html#6769072">litAddrOrName</a></span><span class="op" id="6795224">,</span>&nbsp;<span class="ident" id="6795226"><a href="/gostd/net/udp_test.go.html#6794943">addr</a></span><span class="op" id="6795230">,</span>&nbsp;<span class="ident" id="6795232"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6795234">.</span><span class="ident" id="6795235"><a href="/gostd/net/tcp_test.go.html#6769094">addr</a></span><span class="op" id="6795239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795243">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795247">if</span>&nbsp;<span class="ident" id="6795250"><a href="/gostd/net/udp_test.go.html#6794949">err</a></span>&nbsp;<span class="op" id="6795254">==</span>&nbsp;<span class="builtintype" id="6795257">nil</span>&nbsp;<span class="op" id="6795261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795266">str</span>&nbsp;<span class="op" id="6795270">:=</span>&nbsp;<span class="ident" id="6795273"><a href="/gostd/net/udp_test.go.html#6794943">addr</a></span><span class="op" id="6795277">.</span><span class="ident" id="6795278"><a href="/gostd/net/udpsock.go.html#3386050">String</a></span><span class="op" id="6795284">(</span><span class="op" id="6795285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795290">addr1</span><span class="op" id="6795295">,</span>&nbsp;<span class="ident" id="6795297">err</span>&nbsp;<span class="op" id="6795301">:=</span>&nbsp;<span class="ident" id="6795304"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6795318">(</span><span class="ident" id="6795319"><a href="/gostd/net/udp_test.go.html#6794892">net</a></span><span class="op" id="6795322">,</span>&nbsp;<span class="ident" id="6795324"><a href="/gostd/net/udp_test.go.html#6795266">str</a></span><span class="op" id="6795327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795332">if</span>&nbsp;<span class="ident" id="6795335"><a href="/gostd/net/udp_test.go.html#6795297">err</a></span>&nbsp;<span class="op" id="6795339">!=</span>&nbsp;<span class="builtintype" id="6795342">nil</span>&nbsp;<span class="op" id="6795346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795352"><a href="/gostd/net/udp_test.go.html#6794832">t</a></span><span class="op" id="6795353">.</span><span class="ident" id="6795354"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6795360">(</span><span class="string" id="6795361">&#34;ResolveUDPAddr(%q,&nbsp;%q)&nbsp;[from&nbsp;%q]:&nbsp;%v&#34;</span><span class="op" id="6795399">,</span>&nbsp;<span class="ident" id="6795401"><a href="/gostd/net/udp_test.go.html#6794892">net</a></span><span class="op" id="6795404">,</span>&nbsp;<span class="ident" id="6795406"><a href="/gostd/net/udp_test.go.html#6795266">str</a></span><span class="op" id="6795409">,</span>&nbsp;<span class="ident" id="6795411"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6795413">.</span><span class="ident" id="6795414"><a href="/gostd/net/tcp_test.go.html#6769072">litAddrOrName</a></span><span class="op" id="6795427">,</span>&nbsp;<span class="ident" id="6795429"><a href="/gostd/net/udp_test.go.html#6795297">err</a></span><span class="op" id="6795432">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795442">if</span>&nbsp;<span class="op" id="6795445">!</span><span class="ident" id="6795446"><a href="/gostd/net/udp_test.go.html#6794754">reflect</a></span><span class="op" id="6795453">.</span><span class="ident" id="6795454"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="6795463">(</span><span class="ident" id="6795464"><a href="/gostd/net/udp_test.go.html#6795290">addr1</a></span><span class="op" id="6795469">,</span>&nbsp;<span class="ident" id="6795471"><a href="/gostd/net/udp_test.go.html#6794943">addr</a></span><span class="op" id="6795475">)</span>&nbsp;<span class="op" id="6795477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795483"><a href="/gostd/net/udp_test.go.html#6794832">t</a></span><span class="op" id="6795484">.</span><span class="ident" id="6795485"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6795491">(</span><span class="string" id="6795492">&#34;ResolveUDPAddr(%q,&nbsp;%q)&nbsp;[from&nbsp;%q]&nbsp;=&nbsp;%#v,&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="6795542">,</span>&nbsp;<span class="ident" id="6795544"><a href="/gostd/net/udp_test.go.html#6794892">net</a></span><span class="op" id="6795547">,</span>&nbsp;<span class="ident" id="6795549"><a href="/gostd/net/udp_test.go.html#6795266">str</a></span><span class="op" id="6795552">,</span>&nbsp;<span class="ident" id="6795554"><a href="/gostd/net/udp_test.go.html#6794856">tt</a></span><span class="op" id="6795556">.</span><span class="ident" id="6795557"><a href="/gostd/net/tcp_test.go.html#6769072">litAddrOrName</a></span><span class="op" id="6795570">,</span>&nbsp;<span class="ident" id="6795572"><a href="/gostd/net/udp_test.go.html#6795290">addr1</a></span><span class="op" id="6795577">,</span>&nbsp;<span class="ident" id="6795579"><a href="/gostd/net/udp_test.go.html#6794943">addr</a></span><span class="op" id="6795583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795592">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795595">}</span><br>
<span class="lineno"></span><span class="op" id="6795597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6795600">func</span>&nbsp;<span class="ident" id="6795605">TestReadFromUDP</span><span class="op" id="6795620">(</span><span class="ident" id="6795621">t</span>&nbsp;<span class="op" id="6795623">*</span><span class="ident" id="6795624"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6795631">.</span><span class="ident" id="6795632"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6795633">)</span>&nbsp;<span class="op" id="6795635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795638">switch</span>&nbsp;<span class="ident" id="6795645"><a href="/gostd/net/udp_test.go.html#6794765">runtime</a></span><span class="op" id="6795652">.</span><span class="ident" id="6795653"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6795658">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795661">case</span>&nbsp;<span class="string" id="6795666">&#34;nacl&#34;</span><span class="op" id="6795672">,</span>&nbsp;<span class="string" id="6795674">&#34;plan9&#34;</span><span class="op" id="6795681">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795685"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6795686">.</span><span class="ident" id="6795687"><a href="/gostd/testing/testing.go.html#5480718">Skipf</a></span><span class="op" id="6795692">(</span><span class="string" id="6795693">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q,&nbsp;see&nbsp;issue&nbsp;8916&#34;</span><span class="op" id="6795730">,</span>&nbsp;<span class="ident" id="6795732"><a href="/gostd/net/udp_test.go.html#6794765">runtime</a></span><span class="op" id="6795739">.</span><span class="ident" id="6795740"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span><span class="op" id="6795744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795751">ra</span><span class="op" id="6795753">,</span>&nbsp;<span class="ident" id="6795755">err</span>&nbsp;<span class="op" id="6795759">:=</span>&nbsp;<span class="ident" id="6795762"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6795776">(</span><span class="string" id="6795777">&#34;udp&#34;</span><span class="op" id="6795782">,</span>&nbsp;<span class="string" id="6795784">&#34;127.0.0.1:7&#34;</span><span class="op" id="6795797">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795800">if</span>&nbsp;<span class="ident" id="6795803"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6795807">!=</span>&nbsp;<span class="builtintype" id="6795810">nil</span>&nbsp;<span class="op" id="6795814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795818"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6795819">.</span><span class="ident" id="6795820"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6795825">(</span><span class="ident" id="6795826"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span><span class="op" id="6795829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795836">la</span><span class="op" id="6795838">,</span>&nbsp;<span class="ident" id="6795840"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6795844">:=</span>&nbsp;<span class="ident" id="6795847"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6795861">(</span><span class="string" id="6795862">&#34;udp&#34;</span><span class="op" id="6795867">,</span>&nbsp;<span class="string" id="6795869">&#34;127.0.0.1:0&#34;</span><span class="op" id="6795882">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795885">if</span>&nbsp;<span class="ident" id="6795888"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6795892">!=</span>&nbsp;<span class="builtintype" id="6795895">nil</span>&nbsp;<span class="op" id="6795899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795903"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6795904">.</span><span class="ident" id="6795905"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6795910">(</span><span class="ident" id="6795911"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span><span class="op" id="6795914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795921">c</span><span class="op" id="6795922">,</span>&nbsp;<span class="ident" id="6795924"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6795928">:=</span>&nbsp;<span class="ident" id="6795931"><a href="/gostd/net/udpsock_posix.go.html#3392935">ListenUDP</a></span><span class="op" id="6795940">(</span><span class="string" id="6795941">&#34;udp&#34;</span><span class="op" id="6795946">,</span>&nbsp;<span class="ident" id="6795948"><a href="/gostd/net/udp_test.go.html#6795836">la</a></span><span class="op" id="6795950">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795953">if</span>&nbsp;<span class="ident" id="6795956"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6795960">!=</span>&nbsp;<span class="builtintype" id="6795963">nil</span>&nbsp;<span class="op" id="6795967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6795971"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6795972">.</span><span class="ident" id="6795973"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6795978">(</span><span class="ident" id="6795979"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span><span class="op" id="6795982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6795985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6795988">defer</span>&nbsp;<span class="ident" id="6795994"><a href="/gostd/net/udp_test.go.html#6795921">c</a></span><span class="op" id="6795995">.</span><span class="ident" id="6795996"><a href="/gostd/net/net.go.html#3336674">Close</a></span><span class="op" id="6796001">(</span><span class="op" id="6796002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796006">_</span><span class="op" id="6796007">,</span>&nbsp;<span class="ident" id="6796009"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6796013">=</span>&nbsp;<span class="ident" id="6796015"><a href="/gostd/net/udp_test.go.html#6795921">c</a></span><span class="op" id="6796016">.</span><span class="ident" id="6796017"><a href="/gostd/net/udpsock_posix.go.html#3390265">WriteToUDP</a></span><span class="op" id="6796027">(</span><span class="op" id="6796028">[</span><span class="op" id="6796029">]</span><span class="builtintype" id="6796030">byte</span><span class="op" id="6796034">(</span><span class="string" id="6796035">&#34;a&#34;</span><span class="op" id="6796038">)</span><span class="op" id="6796039">,</span>&nbsp;<span class="ident" id="6796041"><a href="/gostd/net/udp_test.go.html#6795751">ra</a></span><span class="op" id="6796043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796046">if</span>&nbsp;<span class="ident" id="6796049"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6796053">!=</span>&nbsp;<span class="builtintype" id="6796056">nil</span>&nbsp;<span class="op" id="6796060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796064"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6796065">.</span><span class="ident" id="6796066"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6796071">(</span><span class="ident" id="6796072"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span><span class="op" id="6796075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796082"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6796086">=</span>&nbsp;<span class="ident" id="6796088"><a href="/gostd/net/udp_test.go.html#6795921">c</a></span><span class="op" id="6796089">.</span><span class="ident" id="6796090"><a href="/gostd/net/net.go.html#3337096">SetDeadline</a></span><span class="op" id="6796101">(</span><span class="ident" id="6796102"><a href="/gostd/net/udp_test.go.html#6794798">time</a></span><span class="op" id="6796106">.</span><span class="ident" id="6796107"><a href="/gostd/time/time.go.html#2743088">Now</a></span><span class="op" id="6796110">(</span><span class="op" id="6796111">)</span><span class="op" id="6796112">.</span><span class="ident" id="6796113"><a href="/gostd/time/time.go.html#2738615">Add</a></span><span class="op" id="6796116">(</span><span class="num" id="6796117">100</span>&nbsp;<span class="op" id="6796121">*</span>&nbsp;<span class="ident" id="6796123"><a href="/gostd/net/udp_test.go.html#6794798">time</a></span><span class="op" id="6796127">.</span><span class="ident" id="6796128"><a href="/gostd/time/time.go.html#2734819">Millisecond</a></span><span class="op" id="6796139">)</span><span class="op" id="6796140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796143">if</span>&nbsp;<span class="ident" id="6796146"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6796150">!=</span>&nbsp;<span class="builtintype" id="6796153">nil</span>&nbsp;<span class="op" id="6796157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796161"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6796162">.</span><span class="ident" id="6796163"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6796168">(</span><span class="ident" id="6796169"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span><span class="op" id="6796172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796178">b</span>&nbsp;<span class="op" id="6796180">:=</span>&nbsp;<span class="builtinfunc" id="6796183">make</span><span class="op" id="6796187">(</span><span class="op" id="6796188">[</span><span class="op" id="6796189">]</span><span class="builtintype" id="6796190">byte</span><span class="op" id="6796194">,</span>&nbsp;<span class="num" id="6796196">1</span><span class="op" id="6796197">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796200">_</span><span class="op" id="6796201">,</span>&nbsp;<span class="ident" id="6796203">_</span><span class="op" id="6796204">,</span>&nbsp;<span class="ident" id="6796206"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6796210">=</span>&nbsp;<span class="ident" id="6796212"><a href="/gostd/net/udp_test.go.html#6795921">c</a></span><span class="op" id="6796213">.</span><span class="ident" id="6796214"><a href="/gostd/net/udpsock_posix.go.html#3388609">ReadFromUDP</a></span><span class="op" id="6796225">(</span><span class="ident" id="6796226"><a href="/gostd/net/udp_test.go.html#6796178">b</a></span><span class="op" id="6796227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796230">if</span>&nbsp;<span class="ident" id="6796233"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span>&nbsp;<span class="op" id="6796237">==</span>&nbsp;<span class="builtintype" id="6796240">nil</span>&nbsp;<span class="op" id="6796244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796248"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6796249">.</span><span class="ident" id="6796250"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6796255">(</span><span class="string" id="6796256">&#34;ReadFromUDP&nbsp;should&nbsp;fail&#34;</span><span class="op" id="6796281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796284">}</span>&nbsp;<span class="keyword" id="6796286">else</span>&nbsp;<span class="keyword" id="6796291">if</span>&nbsp;<span class="op" id="6796294">!</span><span class="ident" id="6796295"><a href="/gostd/net/timeout_test.go.html#6777597">isTimeout</a></span><span class="op" id="6796304">(</span><span class="ident" id="6796305"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span><span class="op" id="6796308">)</span>&nbsp;<span class="op" id="6796310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796314"><a href="/gostd/net/udp_test.go.html#6795621">t</a></span><span class="op" id="6796315">.</span><span class="ident" id="6796316"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6796321">(</span><span class="ident" id="6796322"><a href="/gostd/net/udp_test.go.html#6795755">err</a></span><span class="op" id="6796325">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796328">}</span><br>
<span class="lineno"></span><span class="op" id="6796330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6796333">func</span>&nbsp;<span class="ident" id="6796338">TestWriteToUDP</span><span class="op" id="6796352">(</span><span class="ident" id="6796353">t</span>&nbsp;<span class="op" id="6796355">*</span><span class="ident" id="6796356"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6796363">.</span><span class="ident" id="6796364"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6796365">)</span>&nbsp;<span class="op" id="6796367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796370">switch</span>&nbsp;<span class="ident" id="6796377"><a href="/gostd/net/udp_test.go.html#6794765">runtime</a></span><span class="op" id="6796384">.</span><span class="ident" id="6796385"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6796390">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796393">case</span>&nbsp;<span class="string" id="6796398">&#34;plan9&#34;</span><span class="op" id="6796405">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796409"><a href="/gostd/net/udp_test.go.html#6796353">t</a></span><span class="op" id="6796410">.</span><span class="ident" id="6796411"><a href="/gostd/testing/testing.go.html#5480718">Skipf</a></span><span class="op" id="6796416">(</span><span class="string" id="6796417">&#34;skipping&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6796438">,</span>&nbsp;<span class="ident" id="6796440"><a href="/gostd/net/udp_test.go.html#6794765">runtime</a></span><span class="op" id="6796447">.</span><span class="ident" id="6796448"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span><span class="op" id="6796452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796459">l</span><span class="op" id="6796460">,</span>&nbsp;<span class="ident" id="6796462">err</span>&nbsp;<span class="op" id="6796466">:=</span>&nbsp;<span class="ident" id="6796469"><a href="/gostd/net/dial.go.html#3207909">ListenPacket</a></span><span class="op" id="6796481">(</span><span class="string" id="6796482">&#34;udp&#34;</span><span class="op" id="6796487">,</span>&nbsp;<span class="string" id="6796489">&#34;127.0.0.1:0&#34;</span><span class="op" id="6796502">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796505">if</span>&nbsp;<span class="ident" id="6796508"><a href="/gostd/net/udp_test.go.html#6796462">err</a></span>&nbsp;<span class="op" id="6796512">!=</span>&nbsp;<span class="builtintype" id="6796515">nil</span>&nbsp;<span class="op" id="6796519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796523"><a href="/gostd/net/udp_test.go.html#6796353">t</a></span><span class="op" id="6796524">.</span><span class="ident" id="6796525"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6796531">(</span><span class="string" id="6796532">&#34;Listen&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6796551">,</span>&nbsp;<span class="ident" id="6796553"><a href="/gostd/net/udp_test.go.html#6796462">err</a></span><span class="op" id="6796556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796562">defer</span>&nbsp;<span class="ident" id="6796568"><a href="/gostd/net/udp_test.go.html#6796459">l</a></span><span class="op" id="6796569">.</span><span class="ident" id="6796570"><a href="/gostd/net/net.go.html#3339672">Close</a></span><span class="op" id="6796575">(</span><span class="op" id="6796576">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796580"><a href="/gostd/net/udp_test.go.html#6796681">testWriteToConn</a></span><span class="op" id="6796595">(</span><span class="ident" id="6796596"><a href="/gostd/net/udp_test.go.html#6796353">t</a></span><span class="op" id="6796597">,</span>&nbsp;<span class="ident" id="6796599"><a href="/gostd/net/udp_test.go.html#6796459">l</a></span><span class="op" id="6796600">.</span><span class="ident" id="6796601"><a href="/gostd/net/net.go.html#3339737">LocalAddr</a></span><span class="op" id="6796610">(</span><span class="op" id="6796611">)</span><span class="op" id="6796612">.</span><span class="ident" id="6796613"><a href="/gostd/net/net.go.html#3334238">String</a></span><span class="op" id="6796619">(</span><span class="op" id="6796620">)</span><span class="op" id="6796621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796624"><a href="/gostd/net/udp_test.go.html#6797597">testWriteToPacketConn</a></span><span class="op" id="6796645">(</span><span class="ident" id="6796646"><a href="/gostd/net/udp_test.go.html#6796353">t</a></span><span class="op" id="6796647">,</span>&nbsp;<span class="ident" id="6796649"><a href="/gostd/net/udp_test.go.html#6796459">l</a></span><span class="op" id="6796650">.</span><span class="ident" id="6796651"><a href="/gostd/net/net.go.html#3339737">LocalAddr</a></span><span class="op" id="6796660">(</span><span class="op" id="6796661">)</span><span class="op" id="6796662">.</span><span class="ident" id="6796663"><a href="/gostd/net/net.go.html#3334238">String</a></span><span class="op" id="6796669">(</span><span class="op" id="6796670">)</span><span class="op" id="6796671">)</span><br>
<span class="lineno"></span><span class="op" id="6796673">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6796676">func</span>&nbsp;<span class="ident" id="6796681">testWriteToConn</span><span class="op" id="6796696">(</span><span class="ident" id="6796697">t</span>&nbsp;<span class="op" id="6796699">*</span><span class="ident" id="6796700"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6796707">.</span><span class="ident" id="6796708"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6796709">,</span>&nbsp;<span class="ident" id="6796711">raddr</span>&nbsp;<span class="builtintype" id="6796717">string</span><span class="op" id="6796723">)</span>&nbsp;<span class="op" id="6796725">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796728">c</span><span class="op" id="6796729">,</span>&nbsp;<span class="ident" id="6796731">err</span>&nbsp;<span class="op" id="6796735">:=</span>&nbsp;<span class="ident" id="6796738"><a href="/gostd/net/dial.go.html#3203459">Dial</a></span><span class="op" id="6796742">(</span><span class="string" id="6796743">&#34;udp&#34;</span><span class="op" id="6796748">,</span>&nbsp;<span class="ident" id="6796750"><a href="/gostd/net/udp_test.go.html#6796711">raddr</a></span><span class="op" id="6796755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796758">if</span>&nbsp;<span class="ident" id="6796761"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6796765">!=</span>&nbsp;<span class="builtintype" id="6796768">nil</span>&nbsp;<span class="op" id="6796772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796776"><a href="/gostd/net/udp_test.go.html#6796697">t</a></span><span class="op" id="6796777">.</span><span class="ident" id="6796778"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6796784">(</span><span class="string" id="6796785">&#34;Dial&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6796802">,</span>&nbsp;<span class="ident" id="6796804"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span><span class="op" id="6796807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796813">defer</span>&nbsp;<span class="ident" id="6796819"><a href="/gostd/net/udp_test.go.html#6796728">c</a></span><span class="op" id="6796820">.</span><span class="ident" id="6796821"><a href="/gostd/net/net.go.html#3334987">Close</a></span><span class="op" id="6796826">(</span><span class="op" id="6796827">)</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796831">ra</span><span class="op" id="6796833">,</span>&nbsp;<span class="ident" id="6796835"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6796839">:=</span>&nbsp;<span class="ident" id="6796842"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6796856">(</span><span class="string" id="6796857">&#34;udp&#34;</span><span class="op" id="6796862">,</span>&nbsp;<span class="ident" id="6796864"><a href="/gostd/net/udp_test.go.html#6796711">raddr</a></span><span class="op" id="6796869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6796872">if</span>&nbsp;<span class="ident" id="6796875"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6796879">!=</span>&nbsp;<span class="builtintype" id="6796882">nil</span>&nbsp;<span class="op" id="6796886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796890"><a href="/gostd/net/udp_test.go.html#6796697">t</a></span><span class="op" id="6796891">.</span><span class="ident" id="6796892"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6796898">(</span><span class="string" id="6796899">&#34;ResolveUDPAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6796926">,</span>&nbsp;<span class="ident" id="6796928"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span><span class="op" id="6796931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6796934">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6796938">_</span><span class="op" id="6796939">,</span>&nbsp;<span class="ident" id="6796941"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6796945">=</span>&nbsp;<span class="ident" id="6796947"><a href="/gostd/net/udp_test.go.html#6796728">c</a></span><span class="op" id="6796948">.</span><span class="op" id="6796949">(</span><span class="op" id="6796950">*</span><span class="ident" id="6796951"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6796958">)</span><span class="op" id="6796959">.</span><span class="ident" id="6796960"><a href="/gostd/net/udpsock_posix.go.html#3390265">WriteToUDP</a></span><span class="op" id="6796970">(</span><span class="op" id="6796971">[</span><span class="op" id="6796972">]</span><span class="builtintype" id="6796973">byte</span><span class="op" id="6796977">(</span><span class="string" id="6796978">&#34;Connection-oriented&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="6797011">)</span><span class="op" id="6797012">,</span>&nbsp;<span class="ident" id="6797014"><a href="/gostd/net/udp_test.go.html#6796831">ra</a></span><span class="op" id="6797016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797019">if</span>&nbsp;<span class="ident" id="6797022"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6797026">==</span>&nbsp;<span class="builtintype" id="6797029">nil</span>&nbsp;<span class="op" id="6797033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797037"><a href="/gostd/net/udp_test.go.html#6796697">t</a></span><span class="op" id="6797038">.</span><span class="ident" id="6797039"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6797044">(</span><span class="string" id="6797045">&#34;WriteToUDP&nbsp;should&nbsp;fail&#34;</span><span class="op" id="6797069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6797072">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797075">if</span>&nbsp;<span class="ident" id="6797078"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6797082">!=</span>&nbsp;<span class="builtintype" id="6797085">nil</span>&nbsp;<span class="op" id="6797089">&amp;&amp;</span>&nbsp;<span class="ident" id="6797092"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span><span class="op" id="6797095">.</span><span class="op" id="6797096">(</span><span class="op" id="6797097">*</span><span class="ident" id="6797098"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="6797105">)</span><span class="op" id="6797106">.</span><span class="ident" id="6797107"><a href="/gostd/net/net.go.html#3341902">Err</a></span>&nbsp;<span class="op" id="6797111">!=</span>&nbsp;<span class="ident" id="6797114"><a href="/gostd/net/net.go.html#3341315">ErrWriteToConnected</a></span>&nbsp;<span class="op" id="6797134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797138"><a href="/gostd/net/udp_test.go.html#6796697">t</a></span><span class="op" id="6797139">.</span><span class="ident" id="6797140"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6797146">(</span><span class="string" id="6797147">&#34;WriteToUDP&nbsp;should&nbsp;fail&nbsp;as&nbsp;ErrWriteToConnected:&nbsp;%v&#34;</span><span class="op" id="6797198">,</span>&nbsp;<span class="ident" id="6797200"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span><span class="op" id="6797203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6797206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797210">_</span><span class="op" id="6797211">,</span>&nbsp;<span class="ident" id="6797213"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6797217">=</span>&nbsp;<span class="ident" id="6797219"><a href="/gostd/net/udp_test.go.html#6796728">c</a></span><span class="op" id="6797220">.</span><span class="op" id="6797221">(</span><span class="op" id="6797222">*</span><span class="ident" id="6797223"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6797230">)</span><span class="op" id="6797231">.</span><span class="ident" id="6797232"><a href="/gostd/net/udpsock_posix.go.html#3390770">WriteTo</a></span><span class="op" id="6797239">(</span><span class="op" id="6797240">[</span><span class="op" id="6797241">]</span><span class="builtintype" id="6797242">byte</span><span class="op" id="6797246">(</span><span class="string" id="6797247">&#34;Connection-oriented&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="6797280">)</span><span class="op" id="6797281">,</span>&nbsp;<span class="ident" id="6797283"><a href="/gostd/net/udp_test.go.html#6796831">ra</a></span><span class="op" id="6797285">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797288">if</span>&nbsp;<span class="ident" id="6797291"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6797295">==</span>&nbsp;<span class="builtintype" id="6797298">nil</span>&nbsp;<span class="op" id="6797302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797306"><a href="/gostd/net/udp_test.go.html#6796697">t</a></span><span class="op" id="6797307">.</span><span class="ident" id="6797308"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6797313">(</span><span class="string" id="6797314">&#34;WriteTo&nbsp;should&nbsp;fail&#34;</span><span class="op" id="6797335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6797338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797341">if</span>&nbsp;<span class="ident" id="6797344"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6797348">!=</span>&nbsp;<span class="builtintype" id="6797351">nil</span>&nbsp;<span class="op" id="6797355">&amp;&amp;</span>&nbsp;<span class="ident" id="6797358"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span><span class="op" id="6797361">.</span><span class="op" id="6797362">(</span><span class="op" id="6797363">*</span><span class="ident" id="6797364"><a href="/gostd/net/net.go.html#3341562">OpError</a></span><span class="op" id="6797371">)</span><span class="op" id="6797372">.</span><span class="ident" id="6797373"><a href="/gostd/net/net.go.html#3341902">Err</a></span>&nbsp;<span class="op" id="6797377">!=</span>&nbsp;<span class="ident" id="6797380"><a href="/gostd/net/net.go.html#3341315">ErrWriteToConnected</a></span>&nbsp;<span class="op" id="6797400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797404"><a href="/gostd/net/udp_test.go.html#6796697">t</a></span><span class="op" id="6797405">.</span><span class="ident" id="6797406"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6797412">(</span><span class="string" id="6797413">&#34;WriteTo&nbsp;should&nbsp;fail&nbsp;as&nbsp;ErrWriteToConnected:&nbsp;%v&#34;</span><span class="op" id="6797461">,</span>&nbsp;<span class="ident" id="6797463"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span><span class="op" id="6797466">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6797469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797473">_</span><span class="op" id="6797474">,</span>&nbsp;<span class="ident" id="6797476"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6797480">=</span>&nbsp;<span class="ident" id="6797482"><a href="/gostd/net/udp_test.go.html#6796728">c</a></span><span class="op" id="6797483">.</span><span class="ident" id="6797484"><a href="/gostd/net/net.go.html#3334839">Write</a></span><span class="op" id="6797489">(</span><span class="op" id="6797490">[</span><span class="op" id="6797491">]</span><span class="builtintype" id="6797492">byte</span><span class="op" id="6797496">(</span><span class="string" id="6797497">&#34;Connection-oriented&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="6797530">)</span><span class="op" id="6797531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797534">if</span>&nbsp;<span class="ident" id="6797537"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span>&nbsp;<span class="op" id="6797541">!=</span>&nbsp;<span class="builtintype" id="6797544">nil</span>&nbsp;<span class="op" id="6797548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797552"><a href="/gostd/net/udp_test.go.html#6796697">t</a></span><span class="op" id="6797553">.</span><span class="ident" id="6797554"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6797560">(</span><span class="string" id="6797561">&#34;Write&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6797579">,</span>&nbsp;<span class="ident" id="6797581"><a href="/gostd/net/udp_test.go.html#6796731">err</a></span><span class="op" id="6797584">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6797587">}</span><br>
<span class="lineno"></span><span class="op" id="6797589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6797592">func</span>&nbsp;<span class="ident" id="6797597">testWriteToPacketConn</span><span class="op" id="6797618">(</span><span class="ident" id="6797619">t</span>&nbsp;<span class="op" id="6797621">*</span><span class="ident" id="6797622"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6797629">.</span><span class="ident" id="6797630"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6797631">,</span>&nbsp;<span class="ident" id="6797633">raddr</span>&nbsp;<span class="builtintype" id="6797639">string</span><span class="op" id="6797645">)</span>&nbsp;<span class="op" id="6797647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797650">c</span><span class="op" id="6797651">,</span>&nbsp;<span class="ident" id="6797653">err</span>&nbsp;<span class="op" id="6797657">:=</span>&nbsp;<span class="ident" id="6797660"><a href="/gostd/net/dial.go.html#3207909">ListenPacket</a></span><span class="op" id="6797672">(</span><span class="string" id="6797673">&#34;udp&#34;</span><span class="op" id="6797678">,</span>&nbsp;<span class="string" id="6797680">&#34;127.0.0.1:0&#34;</span><span class="op" id="6797693">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797696">if</span>&nbsp;<span class="ident" id="6797699"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6797703">!=</span>&nbsp;<span class="builtintype" id="6797706">nil</span>&nbsp;<span class="op" id="6797710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797714"><a href="/gostd/net/udp_test.go.html#6797619">t</a></span><span class="op" id="6797715">.</span><span class="ident" id="6797716"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6797722">(</span><span class="string" id="6797723">&#34;ListenPacket&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6797748">,</span>&nbsp;<span class="ident" id="6797750"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span><span class="op" id="6797753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6797756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797759">defer</span>&nbsp;<span class="ident" id="6797765"><a href="/gostd/net/udp_test.go.html#6797650">c</a></span><span class="op" id="6797766">.</span><span class="ident" id="6797767"><a href="/gostd/net/net.go.html#3339672">Close</a></span><span class="op" id="6797772">(</span><span class="op" id="6797773">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797777">ra</span><span class="op" id="6797779">,</span>&nbsp;<span class="ident" id="6797781"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6797785">:=</span>&nbsp;<span class="ident" id="6797788"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6797802">(</span><span class="string" id="6797803">&#34;udp&#34;</span><span class="op" id="6797808">,</span>&nbsp;<span class="ident" id="6797810"><a href="/gostd/net/udp_test.go.html#6797633">raddr</a></span><span class="op" id="6797815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797818">if</span>&nbsp;<span class="ident" id="6797821"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6797825">!=</span>&nbsp;<span class="builtintype" id="6797828">nil</span>&nbsp;<span class="op" id="6797832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797836"><a href="/gostd/net/udp_test.go.html#6797619">t</a></span><span class="op" id="6797837">.</span><span class="ident" id="6797838"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6797844">(</span><span class="string" id="6797845">&#34;ResolveUDPAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6797872">,</span>&nbsp;<span class="ident" id="6797874"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span><span class="op" id="6797877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6797880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797884">_</span><span class="op" id="6797885">,</span>&nbsp;<span class="ident" id="6797887"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6797891">=</span>&nbsp;<span class="ident" id="6797893"><a href="/gostd/net/udp_test.go.html#6797650">c</a></span><span class="op" id="6797894">.</span><span class="op" id="6797895">(</span><span class="op" id="6797896">*</span><span class="ident" id="6797897"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6797904">)</span><span class="op" id="6797905">.</span><span class="ident" id="6797906"><a href="/gostd/net/udpsock_posix.go.html#3390265">WriteToUDP</a></span><span class="op" id="6797916">(</span><span class="op" id="6797917">[</span><span class="op" id="6797918">]</span><span class="builtintype" id="6797919">byte</span><span class="op" id="6797923">(</span><span class="string" id="6797924">&#34;Connection-less&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="6797953">)</span><span class="op" id="6797954">,</span>&nbsp;<span class="ident" id="6797956"><a href="/gostd/net/udp_test.go.html#6797777">ra</a></span><span class="op" id="6797958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6797961">if</span>&nbsp;<span class="ident" id="6797964"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6797968">!=</span>&nbsp;<span class="builtintype" id="6797971">nil</span>&nbsp;<span class="op" id="6797975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6797979"><a href="/gostd/net/udp_test.go.html#6797619">t</a></span><span class="op" id="6797980">.</span><span class="ident" id="6797981"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6797987">(</span><span class="string" id="6797988">&#34;WriteToUDP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6798011">,</span>&nbsp;<span class="ident" id="6798013"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span><span class="op" id="6798016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798023">_</span><span class="op" id="6798024">,</span>&nbsp;<span class="ident" id="6798026"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6798030">=</span>&nbsp;<span class="ident" id="6798032"><a href="/gostd/net/udp_test.go.html#6797650">c</a></span><span class="op" id="6798033">.</span><span class="ident" id="6798034"><a href="/gostd/net/net.go.html#3339505">WriteTo</a></span><span class="op" id="6798041">(</span><span class="op" id="6798042">[</span><span class="op" id="6798043">]</span><span class="builtintype" id="6798044">byte</span><span class="op" id="6798048">(</span><span class="string" id="6798049">&#34;Connection-less&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="6798078">)</span><span class="op" id="6798079">,</span>&nbsp;<span class="ident" id="6798081"><a href="/gostd/net/udp_test.go.html#6797777">ra</a></span><span class="op" id="6798083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798086">if</span>&nbsp;<span class="ident" id="6798089"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6798093">!=</span>&nbsp;<span class="builtintype" id="6798096">nil</span>&nbsp;<span class="op" id="6798100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798104"><a href="/gostd/net/udp_test.go.html#6797619">t</a></span><span class="op" id="6798105">.</span><span class="ident" id="6798106"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6798112">(</span><span class="string" id="6798113">&#34;WriteTo&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6798133">,</span>&nbsp;<span class="ident" id="6798135"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span><span class="op" id="6798138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798141">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798145">_</span><span class="op" id="6798146">,</span>&nbsp;<span class="ident" id="6798148"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6798152">=</span>&nbsp;<span class="ident" id="6798154"><a href="/gostd/net/udp_test.go.html#6797650">c</a></span><span class="op" id="6798155">.</span><span class="op" id="6798156">(</span><span class="op" id="6798157">*</span><span class="ident" id="6798158"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6798165">)</span><span class="op" id="6798166">.</span><span class="ident" id="6798167"><a href="/gostd/net/net.go.html#3336527">Write</a></span><span class="op" id="6798172">(</span><span class="op" id="6798173">[</span><span class="op" id="6798174">]</span><span class="builtintype" id="6798175">byte</span><span class="op" id="6798179">(</span><span class="string" id="6798180">&#34;Connection-less&nbsp;mode&nbsp;socket&#34;</span><span class="op" id="6798209">)</span><span class="op" id="6798210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798213">if</span>&nbsp;<span class="ident" id="6798216"><a href="/gostd/net/udp_test.go.html#6797653">err</a></span>&nbsp;<span class="op" id="6798220">==</span>&nbsp;<span class="builtintype" id="6798223">nil</span>&nbsp;<span class="op" id="6798227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798231"><a href="/gostd/net/udp_test.go.html#6797619">t</a></span><span class="op" id="6798232">.</span><span class="ident" id="6798233"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6798238">(</span><span class="string" id="6798239">&#34;Write&nbsp;should&nbsp;fail&#34;</span><span class="op" id="6798258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798261">}</span><br>
<span class="lineno"></span><span class="op" id="6798263">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="6798266">var</span>&nbsp;<span class="ident" id="6798270">udpConnLocalNameTests</span>&nbsp;<span class="op" id="6798292">=</span>&nbsp;<span class="op" id="6798294">[</span><span class="op" id="6798295">]</span><span class="keyword" id="6798296">struct</span>&nbsp;<span class="op" id="6798303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798306">net</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6798312">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798320">laddr</span>&nbsp;<span class="op" id="6798326">*</span><span class="ident" id="6798327"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><br>
<span class="lineno"></span><span class="op" id="6798335">}</span><span class="op" id="6798336">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798339">{</span><span class="string" id="6798340">&#34;udp4&#34;</span><span class="op" id="6798346">,</span>&nbsp;<span class="op" id="6798348">&amp;</span><span class="ident" id="6798349"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6798356">{</span><span class="ident" id="6798357"><a href="/gostd/net/udpsock.go.html#3385860">IP</a></span><span class="op" id="6798359">:</span>&nbsp;<span class="ident" id="6798361"><a href="/gostd/net/ip.go.html#3286541">IPv4</a></span><span class="op" id="6798365">(</span><span class="num" id="6798366">127</span><span class="op" id="6798369">,</span>&nbsp;<span class="num" id="6798371">0</span><span class="op" id="6798372">,</span>&nbsp;<span class="num" id="6798374">0</span><span class="op" id="6798375">,</span>&nbsp;<span class="num" id="6798377">1</span><span class="op" id="6798378">)</span><span class="op" id="6798379">}</span><span class="op" id="6798380">}</span><span class="op" id="6798381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798384">{</span><span class="string" id="6798385">&#34;udp4&#34;</span><span class="op" id="6798391">,</span>&nbsp;<span class="op" id="6798393">&amp;</span><span class="ident" id="6798394"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6798401">{</span><span class="op" id="6798402">}</span><span class="op" id="6798403">}</span><span class="op" id="6798404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798407">{</span><span class="string" id="6798408">&#34;udp4&#34;</span><span class="op" id="6798414">,</span>&nbsp;<span class="builtintype" id="6798416">nil</span><span class="op" id="6798419">}</span><span class="op" id="6798420">,</span><br>
<span class="lineno"></span><span class="op" id="6798422">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="6798425">func</span>&nbsp;<span class="ident" id="6798430">TestUDPConnLocalName</span><span class="op" id="6798450">(</span><span class="ident" id="6798451">t</span>&nbsp;<span class="op" id="6798453">*</span><span class="ident" id="6798454"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6798461">.</span><span class="ident" id="6798462"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6798463">)</span>&nbsp;<span class="op" id="6798465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798468">if</span>&nbsp;<span class="ident" id="6798471"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6798478">.</span><span class="ident" id="6798479"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6798484">(</span><span class="op" id="6798485">)</span>&nbsp;<span class="op" id="6798487">||</span>&nbsp;<span class="op" id="6798490">!</span><span class="op" id="6798491">*</span><span class="ident" id="6798492"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6798505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798509"><a href="/gostd/net/udp_test.go.html#6798451">t</a></span><span class="op" id="6798510">.</span><span class="ident" id="6798511"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6798515">(</span><span class="string" id="6798516">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6798557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798564">for</span>&nbsp;<span class="ident" id="6798568">_</span><span class="op" id="6798569">,</span>&nbsp;<span class="ident" id="6798571">tt</span>&nbsp;<span class="op" id="6798574">:=</span>&nbsp;<span class="keyword" id="6798577">range</span>&nbsp;<span class="ident" id="6798583"><a href="/gostd/net/udp_test.go.html#6798270">udpConnLocalNameTests</a></span>&nbsp;<span class="op" id="6798605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798609">c</span><span class="op" id="6798610">,</span>&nbsp;<span class="ident" id="6798612">err</span>&nbsp;<span class="op" id="6798616">:=</span>&nbsp;<span class="ident" id="6798619"><a href="/gostd/net/udpsock_posix.go.html#3392935">ListenUDP</a></span><span class="op" id="6798628">(</span><span class="ident" id="6798629"><a href="/gostd/net/udp_test.go.html#6798571">tt</a></span><span class="op" id="6798631">.</span><span class="ident" id="6798632"><a href="/gostd/net/udp_test.go.html#6798306">net</a></span><span class="op" id="6798635">,</span>&nbsp;<span class="ident" id="6798637"><a href="/gostd/net/udp_test.go.html#6798571">tt</a></span><span class="op" id="6798639">.</span><span class="ident" id="6798640"><a href="/gostd/net/udp_test.go.html#6798320">laddr</a></span><span class="op" id="6798645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798649">if</span>&nbsp;<span class="ident" id="6798652"><a href="/gostd/net/udp_test.go.html#6798612">err</a></span>&nbsp;<span class="op" id="6798656">!=</span>&nbsp;<span class="builtintype" id="6798659">nil</span>&nbsp;<span class="op" id="6798663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798668"><a href="/gostd/net/udp_test.go.html#6798451">t</a></span><span class="op" id="6798669">.</span><span class="ident" id="6798670"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6798676">(</span><span class="string" id="6798677">&#34;ListenUDP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6798699">,</span>&nbsp;<span class="ident" id="6798701"><a href="/gostd/net/udp_test.go.html#6798612">err</a></span><span class="op" id="6798704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798708">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798712">defer</span>&nbsp;<span class="ident" id="6798718"><a href="/gostd/net/udp_test.go.html#6798609">c</a></span><span class="op" id="6798719">.</span><span class="ident" id="6798720"><a href="/gostd/net/net.go.html#3336674">Close</a></span><span class="op" id="6798725">(</span><span class="op" id="6798726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798730">la</span>&nbsp;<span class="op" id="6798733">:=</span>&nbsp;<span class="ident" id="6798736"><a href="/gostd/net/udp_test.go.html#6798609">c</a></span><span class="op" id="6798737">.</span><span class="ident" id="6798738"><a href="/gostd/net/net.go.html#3336818">LocalAddr</a></span><span class="op" id="6798747">(</span><span class="op" id="6798748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798752">if</span>&nbsp;<span class="ident" id="6798755">a</span><span class="op" id="6798756">,</span>&nbsp;<span class="ident" id="6798758">ok</span>&nbsp;<span class="op" id="6798761">:=</span>&nbsp;<span class="ident" id="6798764"><a href="/gostd/net/udp_test.go.html#6798730">la</a></span><span class="op" id="6798766">.</span><span class="op" id="6798767">(</span><span class="op" id="6798768">*</span><span class="ident" id="6798769"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6798776">)</span><span class="op" id="6798777">;</span>&nbsp;<span class="op" id="6798779">!</span><span class="ident" id="6798780"><a href="/gostd/net/udp_test.go.html#6798758">ok</a></span>&nbsp;<span class="op" id="6798783">||</span>&nbsp;<span class="ident" id="6798786"><a href="/gostd/net/udp_test.go.html#6798755">a</a></span><span class="op" id="6798787">.</span><span class="ident" id="6798788"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span>&nbsp;<span class="op" id="6798793">==</span>&nbsp;<span class="num" id="6798796">0</span>&nbsp;<span class="op" id="6798798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798803"><a href="/gostd/net/udp_test.go.html#6798451">t</a></span><span class="op" id="6798804">.</span><span class="ident" id="6798805"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6798811">(</span><span class="string" id="6798812">&#34;got&nbsp;%v;&nbsp;expected&nbsp;a&nbsp;proper&nbsp;address&nbsp;with&nbsp;non-zero&nbsp;port&nbsp;number&#34;</span><span class="op" id="6798873">,</span>&nbsp;<span class="ident" id="6798875"><a href="/gostd/net/udp_test.go.html#6798730">la</a></span><span class="op" id="6798877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798881">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6798884">}</span><br>
<span class="lineno"></span><span class="op" id="6798886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6798889">func</span>&nbsp;<span class="ident" id="6798894">TestUDPConnLocalAndRemoteNames</span><span class="op" id="6798924">(</span><span class="ident" id="6798925">t</span>&nbsp;<span class="op" id="6798927">*</span><span class="ident" id="6798928"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6798935">.</span><span class="ident" id="6798936"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6798937">)</span>&nbsp;<span class="op" id="6798939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6798942">for</span>&nbsp;<span class="ident" id="6798946">_</span><span class="op" id="6798947">,</span>&nbsp;<span class="ident" id="6798949">laddr</span>&nbsp;<span class="op" id="6798955">:=</span>&nbsp;<span class="keyword" id="6798958">range</span>&nbsp;<span class="op" id="6798964">[</span><span class="op" id="6798965">]</span><span class="builtintype" id="6798966">string</span><span class="op" id="6798972">{</span><span class="string" id="6798973">&#34;&#34;</span><span class="op" id="6798975">,</span>&nbsp;<span class="string" id="6798977">&#34;127.0.0.1:0&#34;</span><span class="op" id="6798990">}</span>&nbsp;<span class="op" id="6798992">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6798996">c1</span><span class="op" id="6798998">,</span>&nbsp;<span class="ident" id="6799000">err</span>&nbsp;<span class="op" id="6799004">:=</span>&nbsp;<span class="ident" id="6799007"><a href="/gostd/net/dial.go.html#3207909">ListenPacket</a></span><span class="op" id="6799019">(</span><span class="string" id="6799020">&#34;udp&#34;</span><span class="op" id="6799025">,</span>&nbsp;<span class="string" id="6799027">&#34;127.0.0.1:0&#34;</span><span class="op" id="6799040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799044">if</span>&nbsp;<span class="ident" id="6799047"><a href="/gostd/net/udp_test.go.html#6799000">err</a></span>&nbsp;<span class="op" id="6799051">!=</span>&nbsp;<span class="builtintype" id="6799054">nil</span>&nbsp;<span class="op" id="6799058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799063"><a href="/gostd/net/udp_test.go.html#6798925">t</a></span><span class="op" id="6799064">.</span><span class="ident" id="6799065"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6799071">(</span><span class="string" id="6799072">&#34;ListenUDP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6799094">,</span>&nbsp;<span class="ident" id="6799096"><a href="/gostd/net/udp_test.go.html#6799000">err</a></span><span class="op" id="6799099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799107">defer</span>&nbsp;<span class="ident" id="6799113"><a href="/gostd/net/udp_test.go.html#6798996">c1</a></span><span class="op" id="6799115">.</span><span class="ident" id="6799116"><a href="/gostd/net/net.go.html#3339672">Close</a></span><span class="op" id="6799121">(</span><span class="op" id="6799122">)</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799127">var</span>&nbsp;<span class="ident" id="6799131">la</span>&nbsp;<span class="op" id="6799134">*</span><span class="ident" id="6799135"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799145">if</span>&nbsp;<span class="ident" id="6799148"><a href="/gostd/net/udp_test.go.html#6798949">laddr</a></span>&nbsp;<span class="op" id="6799154">!=</span>&nbsp;<span class="string" id="6799157">&#34;&#34;</span>&nbsp;<span class="op" id="6799160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799165">var</span>&nbsp;<span class="ident" id="6799169">err</span>&nbsp;<span class="builtintype" id="6799173">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799182">if</span>&nbsp;<span class="ident" id="6799185"><a href="/gostd/net/udp_test.go.html#6799131">la</a></span><span class="op" id="6799187">,</span>&nbsp;<span class="ident" id="6799189"><a href="/gostd/net/udp_test.go.html#6799169">err</a></span>&nbsp;<span class="op" id="6799193">=</span>&nbsp;<span class="ident" id="6799195"><a href="/gostd/net/udpsock.go.html#3386690">ResolveUDPAddr</a></span><span class="op" id="6799209">(</span><span class="string" id="6799210">&#34;udp&#34;</span><span class="op" id="6799215">,</span>&nbsp;<span class="ident" id="6799217"><a href="/gostd/net/udp_test.go.html#6798949">laddr</a></span><span class="op" id="6799222">)</span><span class="op" id="6799223">;</span>&nbsp;<span class="ident" id="6799225"><a href="/gostd/net/udp_test.go.html#6799169">err</a></span>&nbsp;<span class="op" id="6799229">!=</span>&nbsp;<span class="builtintype" id="6799232">nil</span>&nbsp;<span class="op" id="6799236">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799242"><a href="/gostd/net/udp_test.go.html#6798925">t</a></span><span class="op" id="6799243">.</span><span class="ident" id="6799244"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6799250">(</span><span class="string" id="6799251">&#34;ResolveUDPAddr&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6799278">,</span>&nbsp;<span class="ident" id="6799280"><a href="/gostd/net/udp_test.go.html#6799169">err</a></span><span class="op" id="6799283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799296">c2</span><span class="op" id="6799298">,</span>&nbsp;<span class="ident" id="6799300"><a href="/gostd/net/udp_test.go.html#6799000">err</a></span>&nbsp;<span class="op" id="6799304">:=</span>&nbsp;<span class="ident" id="6799307"><a href="/gostd/net/udpsock_posix.go.html#3391860">DialUDP</a></span><span class="op" id="6799314">(</span><span class="string" id="6799315">&#34;udp&#34;</span><span class="op" id="6799320">,</span>&nbsp;<span class="ident" id="6799322"><a href="/gostd/net/udp_test.go.html#6799131">la</a></span><span class="op" id="6799324">,</span>&nbsp;<span class="ident" id="6799326"><a href="/gostd/net/udp_test.go.html#6798996">c1</a></span><span class="op" id="6799328">.</span><span class="ident" id="6799329"><a href="/gostd/net/net.go.html#3339737">LocalAddr</a></span><span class="op" id="6799338">(</span><span class="op" id="6799339">)</span><span class="op" id="6799340">.</span><span class="op" id="6799341">(</span><span class="op" id="6799342">*</span><span class="ident" id="6799343"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6799350">)</span><span class="op" id="6799351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799355">if</span>&nbsp;<span class="ident" id="6799358"><a href="/gostd/net/udp_test.go.html#6799000">err</a></span>&nbsp;<span class="op" id="6799362">!=</span>&nbsp;<span class="builtintype" id="6799365">nil</span>&nbsp;<span class="op" id="6799369">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799374"><a href="/gostd/net/udp_test.go.html#6798925">t</a></span><span class="op" id="6799375">.</span><span class="ident" id="6799376"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6799382">(</span><span class="string" id="6799383">&#34;DialUDP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6799403">,</span>&nbsp;<span class="ident" id="6799405"><a href="/gostd/net/udp_test.go.html#6799000">err</a></span><span class="op" id="6799408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799416">defer</span>&nbsp;<span class="ident" id="6799422"><a href="/gostd/net/udp_test.go.html#6799296">c2</a></span><span class="op" id="6799424">.</span><span class="ident" id="6799425"><a href="/gostd/net/net.go.html#3336674">Close</a></span><span class="op" id="6799430">(</span><span class="op" id="6799431">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799436">var</span>&nbsp;<span class="ident" id="6799440">connAddrs</span>&nbsp;<span class="op" id="6799450">=</span>&nbsp;<span class="op" id="6799452">[</span><span class="num" id="6799453">4</span><span class="op" id="6799454">]</span><span class="keyword" id="6799455">struct</span>&nbsp;<span class="op" id="6799462">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799467">got</span>&nbsp;<span class="ident" id="6799471"><a href="/gostd/net/net.go.html#3334179">Addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799479">ok</span>&nbsp;&nbsp;<span class="builtintype" id="6799483">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799490">}</span><span class="op" id="6799491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799496">{</span><span class="ident" id="6799497"><a href="/gostd/net/udp_test.go.html#6798996">c1</a></span><span class="op" id="6799499">.</span><span class="ident" id="6799500"><a href="/gostd/net/net.go.html#3339737">LocalAddr</a></span><span class="op" id="6799509">(</span><span class="op" id="6799510">)</span><span class="op" id="6799511">,</span>&nbsp;<span class="builtintype" id="6799513">true</span><span class="op" id="6799517">}</span><span class="op" id="6799518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799523">{</span><span class="ident" id="6799524"><a href="/gostd/net/udp_test.go.html#6798996">c1</a></span><span class="op" id="6799526">.</span><span class="op" id="6799527">(</span><span class="op" id="6799528">*</span><span class="ident" id="6799529"><a href="/gostd/net/udpsock_posix.go.html#3388176">UDPConn</a></span><span class="op" id="6799536">)</span><span class="op" id="6799537">.</span><span class="ident" id="6799538"><a href="/gostd/net/net.go.html#3336954">RemoteAddr</a></span><span class="op" id="6799548">(</span><span class="op" id="6799549">)</span><span class="op" id="6799550">,</span>&nbsp;<span class="builtintype" id="6799552">false</span><span class="op" id="6799557">}</span><span class="op" id="6799558">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799563">{</span><span class="ident" id="6799564"><a href="/gostd/net/udp_test.go.html#6799296">c2</a></span><span class="op" id="6799566">.</span><span class="ident" id="6799567"><a href="/gostd/net/net.go.html#3336818">LocalAddr</a></span><span class="op" id="6799576">(</span><span class="op" id="6799577">)</span><span class="op" id="6799578">,</span>&nbsp;<span class="builtintype" id="6799580">true</span><span class="op" id="6799584">}</span><span class="op" id="6799585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799590">{</span><span class="ident" id="6799591"><a href="/gostd/net/udp_test.go.html#6799296">c2</a></span><span class="op" id="6799593">.</span><span class="ident" id="6799594"><a href="/gostd/net/net.go.html#3336954">RemoteAddr</a></span><span class="op" id="6799604">(</span><span class="op" id="6799605">)</span><span class="op" id="6799606">,</span>&nbsp;<span class="builtintype" id="6799608">true</span><span class="op" id="6799612">}</span><span class="op" id="6799613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799621">for</span>&nbsp;<span class="ident" id="6799625">_</span><span class="op" id="6799626">,</span>&nbsp;<span class="ident" id="6799628">ca</span>&nbsp;<span class="op" id="6799631">:=</span>&nbsp;<span class="keyword" id="6799634">range</span>&nbsp;<span class="ident" id="6799640"><a href="/gostd/net/udp_test.go.html#6799440">connAddrs</a></span>&nbsp;<span class="op" id="6799650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799655">if</span>&nbsp;<span class="ident" id="6799658">a</span><span class="op" id="6799659">,</span>&nbsp;<span class="ident" id="6799661">ok</span>&nbsp;<span class="op" id="6799664">:=</span>&nbsp;<span class="ident" id="6799667"><a href="/gostd/net/udp_test.go.html#6799628">ca</a></span><span class="op" id="6799669">.</span><span class="ident" id="6799670"><a href="/gostd/net/udp_test.go.html#6799467">got</a></span><span class="op" id="6799673">.</span><span class="op" id="6799674">(</span><span class="op" id="6799675">*</span><span class="ident" id="6799676"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6799683">)</span><span class="op" id="6799684">;</span>&nbsp;<span class="ident" id="6799686"><a href="/gostd/net/udp_test.go.html#6799661">ok</a></span>&nbsp;<span class="op" id="6799689">!=</span>&nbsp;<span class="ident" id="6799692"><a href="/gostd/net/udp_test.go.html#6799628">ca</a></span><span class="op" id="6799694">.</span><span class="ident" id="6799695"><a href="/gostd/net/udp_test.go.html#6799479">ok</a></span>&nbsp;<span class="op" id="6799698">||</span>&nbsp;<span class="ident" id="6799701"><a href="/gostd/net/udp_test.go.html#6799661">ok</a></span>&nbsp;<span class="op" id="6799704">&amp;&amp;</span>&nbsp;<span class="ident" id="6799707"><a href="/gostd/net/udp_test.go.html#6799658">a</a></span><span class="op" id="6799708">.</span><span class="ident" id="6799709"><a href="/gostd/net/udpsock.go.html#3385869">Port</a></span>&nbsp;<span class="op" id="6799714">==</span>&nbsp;<span class="num" id="6799717">0</span>&nbsp;<span class="op" id="6799719">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799725"><a href="/gostd/net/udp_test.go.html#6798925">t</a></span><span class="op" id="6799726">.</span><span class="ident" id="6799727"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6799733">(</span><span class="string" id="6799734">&#34;got&nbsp;%v;&nbsp;expected&nbsp;a&nbsp;proper&nbsp;address&nbsp;with&nbsp;non-zero&nbsp;port&nbsp;number&#34;</span><span class="op" id="6799795">,</span>&nbsp;<span class="ident" id="6799797"><a href="/gostd/net/udp_test.go.html#6799628">ca</a></span><span class="op" id="6799799">.</span><span class="ident" id="6799800"><a href="/gostd/net/udp_test.go.html#6799467">got</a></span><span class="op" id="6799803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799815">}</span><br>
<span class="lineno"></span><span class="op" id="6799817">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="6799820">func</span>&nbsp;<span class="ident" id="6799825">TestIPv6LinkLocalUnicastUDP</span><span class="op" id="6799852">(</span><span class="ident" id="6799853">t</span>&nbsp;<span class="op" id="6799855">*</span><span class="ident" id="6799856"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6799863">.</span><span class="ident" id="6799864"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6799865">)</span>&nbsp;<span class="op" id="6799867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799870">if</span>&nbsp;<span class="ident" id="6799873"><a href="/gostd/net/udp_test.go.html#6794787">testing</a></span><span class="op" id="6799880">.</span><span class="ident" id="6799881"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6799886">(</span><span class="op" id="6799887">)</span>&nbsp;<span class="op" id="6799889">||</span>&nbsp;<span class="op" id="6799892">!</span><span class="op" id="6799893">*</span><span class="ident" id="6799894"><a href="/gostd/net/lookup_test.go.html#6707430">testExternal</a></span>&nbsp;<span class="op" id="6799907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799911"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6799912">.</span><span class="ident" id="6799913"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6799917">(</span><span class="string" id="6799918">&#34;skipping&nbsp;test&nbsp;to&nbsp;avoid&nbsp;external&nbsp;network&#34;</span><span class="op" id="6799959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6799962">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6799965">if</span>&nbsp;<span class="op" id="6799968">!</span><span class="ident" id="6799969"><a href="/gostd/net/ipsock.go.html#3309710">supportsIPv6</a></span>&nbsp;<span class="op" id="6799982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6799986"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6799987">.</span><span class="ident" id="6799988"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6799992">(</span><span class="string" id="6799993">&#34;ipv6&nbsp;is&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6800016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800019">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800022">ifi</span>&nbsp;<span class="op" id="6800026">:=</span>&nbsp;<span class="ident" id="6800029"><a href="/gostd/net/interface_test.go.html#6670502">loopbackInterface</a></span><span class="op" id="6800046">(</span><span class="op" id="6800047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800050">if</span>&nbsp;<span class="ident" id="6800053"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span>&nbsp;<span class="op" id="6800057">==</span>&nbsp;<span class="builtintype" id="6800060">nil</span>&nbsp;<span class="op" id="6800064">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800068"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6800069">.</span><span class="ident" id="6800070"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6800074">(</span><span class="string" id="6800075">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="6800105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800111">laddr</span>&nbsp;<span class="op" id="6800117">:=</span>&nbsp;<span class="ident" id="6800120"><a href="/gostd/net/interface_test.go.html#6670889">ipv6LinkLocalUnicastAddr</a></span><span class="op" id="6800144">(</span><span class="ident" id="6800145"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span><span class="op" id="6800148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800151">if</span>&nbsp;<span class="ident" id="6800154"><a href="/gostd/net/udp_test.go.html#6800111">laddr</a></span>&nbsp;<span class="op" id="6800160">==</span>&nbsp;<span class="string" id="6800163">&#34;&#34;</span>&nbsp;<span class="op" id="6800166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800170"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6800171">.</span><span class="ident" id="6800172"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6800176">(</span><span class="string" id="6800177">&#34;ipv6&nbsp;unicast&nbsp;address&nbsp;on&nbsp;loopback&nbsp;not&nbsp;found&#34;</span><span class="op" id="6800221">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800228">type</span>&nbsp;<span class="ident" id="6800233">test</span>&nbsp;<span class="keyword" id="6800238">struct</span>&nbsp;<span class="op" id="6800245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800249">net</span><span class="op" id="6800252">,</span>&nbsp;<span class="ident" id="6800254">addr</span>&nbsp;&nbsp;<span class="builtintype" id="6800260">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800269">nameLookup</span>&nbsp;<span class="builtintype" id="6800280">bool</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800289">var</span>&nbsp;<span class="ident" id="6800293">tests</span>&nbsp;<span class="op" id="6800299">=</span>&nbsp;<span class="op" id="6800301">[</span><span class="op" id="6800302">]</span><span class="ident" id="6800303"><a href="/gostd/net/udp_test.go.html#6800233">test</a></span><span class="op" id="6800307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800311">{</span><span class="string" id="6800312">&#34;udp&#34;</span><span class="op" id="6800317">,</span>&nbsp;<span class="string" id="6800319">&#34;[&#34;</span>&nbsp;<span class="op" id="6800323">+</span>&nbsp;<span class="ident" id="6800325"><a href="/gostd/net/udp_test.go.html#6800111">laddr</a></span>&nbsp;<span class="op" id="6800331">+</span>&nbsp;<span class="string" id="6800333">&#34;%&#34;</span>&nbsp;<span class="op" id="6800337">+</span>&nbsp;<span class="ident" id="6800339"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span><span class="op" id="6800342">.</span><span class="ident" id="6800343"><a href="/gostd/net/interface.go.html#3275627">Name</a></span>&nbsp;<span class="op" id="6800348">+</span>&nbsp;<span class="string" id="6800350">&#34;]:0&#34;</span><span class="op" id="6800355">,</span>&nbsp;<span class="builtintype" id="6800357">false</span><span class="op" id="6800362">}</span><span class="op" id="6800363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800367">{</span><span class="string" id="6800368">&#34;udp6&#34;</span><span class="op" id="6800374">,</span>&nbsp;<span class="string" id="6800376">&#34;[&#34;</span>&nbsp;<span class="op" id="6800380">+</span>&nbsp;<span class="ident" id="6800382"><a href="/gostd/net/udp_test.go.html#6800111">laddr</a></span>&nbsp;<span class="op" id="6800388">+</span>&nbsp;<span class="string" id="6800390">&#34;%&#34;</span>&nbsp;<span class="op" id="6800394">+</span>&nbsp;<span class="ident" id="6800396"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span><span class="op" id="6800399">.</span><span class="ident" id="6800400"><a href="/gostd/net/interface.go.html#3275627">Name</a></span>&nbsp;<span class="op" id="6800405">+</span>&nbsp;<span class="string" id="6800407">&#34;]:0&#34;</span><span class="op" id="6800412">,</span>&nbsp;<span class="builtintype" id="6800414">false</span><span class="op" id="6800419">}</span><span class="op" id="6800420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800423">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6800426">//&nbsp;The&nbsp;first&nbsp;udp&nbsp;test&nbsp;fails&nbsp;on&nbsp;DragonFly&nbsp;-&nbsp;see&nbsp;issue&nbsp;7473.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800486">if</span>&nbsp;<span class="ident" id="6800489"><a href="/gostd/net/udp_test.go.html#6794765">runtime</a></span><span class="op" id="6800496">.</span><span class="ident" id="6800497"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6800502">==</span>&nbsp;<span class="string" id="6800505">&#34;dragonfly&#34;</span>&nbsp;<span class="op" id="6800517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800521"><a href="/gostd/net/udp_test.go.html#6800293">tests</a></span>&nbsp;<span class="op" id="6800527">=</span>&nbsp;<span class="ident" id="6800529"><a href="/gostd/net/udp_test.go.html#6800293">tests</a></span><span class="op" id="6800534">[</span><span class="num" id="6800535">1</span><span class="op" id="6800536">:</span><span class="op" id="6800537">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800543">switch</span>&nbsp;<span class="ident" id="6800550"><a href="/gostd/net/udp_test.go.html#6794765">runtime</a></span><span class="op" id="6800557">.</span><span class="ident" id="6800558"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="6800563">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800566">case</span>&nbsp;<span class="string" id="6800571">&#34;darwin&#34;</span><span class="op" id="6800579">,</span>&nbsp;<span class="string" id="6800581">&#34;dragonfly&#34;</span><span class="op" id="6800592">,</span>&nbsp;<span class="string" id="6800594">&#34;freebsd&#34;</span><span class="op" id="6800603">,</span>&nbsp;<span class="string" id="6800605">&#34;openbsd&#34;</span><span class="op" id="6800614">,</span>&nbsp;<span class="string" id="6800616">&#34;netbsd&#34;</span><span class="op" id="6800624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800628"><a href="/gostd/net/udp_test.go.html#6800293">tests</a></span>&nbsp;<span class="op" id="6800634">=</span>&nbsp;<span class="builtinfunc" id="6800636">append</span><span class="op" id="6800642">(</span><span class="ident" id="6800643"><a href="/gostd/net/udp_test.go.html#6800293">tests</a></span><span class="op" id="6800648">,</span>&nbsp;<span class="op" id="6800650">[</span><span class="op" id="6800651">]</span><span class="ident" id="6800652"><a href="/gostd/net/udp_test.go.html#6800233">test</a></span><span class="op" id="6800656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800661">{</span><span class="string" id="6800662">&#34;udp&#34;</span><span class="op" id="6800667">,</span>&nbsp;<span class="string" id="6800669">&#34;[localhost%&#34;</span>&nbsp;<span class="op" id="6800683">+</span>&nbsp;<span class="ident" id="6800685"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span><span class="op" id="6800688">.</span><span class="ident" id="6800689"><a href="/gostd/net/interface.go.html#3275627">Name</a></span>&nbsp;<span class="op" id="6800694">+</span>&nbsp;<span class="string" id="6800696">&#34;]:0&#34;</span><span class="op" id="6800701">,</span>&nbsp;<span class="builtintype" id="6800703">true</span><span class="op" id="6800707">}</span><span class="op" id="6800708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800713">{</span><span class="string" id="6800714">&#34;udp6&#34;</span><span class="op" id="6800720">,</span>&nbsp;<span class="string" id="6800722">&#34;[localhost%&#34;</span>&nbsp;<span class="op" id="6800736">+</span>&nbsp;<span class="ident" id="6800738"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span><span class="op" id="6800741">.</span><span class="ident" id="6800742"><a href="/gostd/net/interface.go.html#3275627">Name</a></span>&nbsp;<span class="op" id="6800747">+</span>&nbsp;<span class="string" id="6800749">&#34;]:0&#34;</span><span class="op" id="6800754">,</span>&nbsp;<span class="builtintype" id="6800756">true</span><span class="op" id="6800760">}</span><span class="op" id="6800761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800765">}</span><span class="op" id="6800766">...</span><span class="op" id="6800769">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800772">case</span>&nbsp;<span class="string" id="6800777">&#34;linux&#34;</span><span class="op" id="6800784">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800788"><a href="/gostd/net/udp_test.go.html#6800293">tests</a></span>&nbsp;<span class="op" id="6800794">=</span>&nbsp;<span class="builtinfunc" id="6800796">append</span><span class="op" id="6800802">(</span><span class="ident" id="6800803"><a href="/gostd/net/udp_test.go.html#6800293">tests</a></span><span class="op" id="6800808">,</span>&nbsp;<span class="op" id="6800810">[</span><span class="op" id="6800811">]</span><span class="ident" id="6800812"><a href="/gostd/net/udp_test.go.html#6800233">test</a></span><span class="op" id="6800816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800821">{</span><span class="string" id="6800822">&#34;udp&#34;</span><span class="op" id="6800827">,</span>&nbsp;<span class="string" id="6800829">&#34;[ip6-localhost%&#34;</span>&nbsp;<span class="op" id="6800847">+</span>&nbsp;<span class="ident" id="6800849"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span><span class="op" id="6800852">.</span><span class="ident" id="6800853"><a href="/gostd/net/interface.go.html#3275627">Name</a></span>&nbsp;<span class="op" id="6800858">+</span>&nbsp;<span class="string" id="6800860">&#34;]:0&#34;</span><span class="op" id="6800865">,</span>&nbsp;<span class="builtintype" id="6800867">true</span><span class="op" id="6800871">}</span><span class="op" id="6800872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800877">{</span><span class="string" id="6800878">&#34;udp6&#34;</span><span class="op" id="6800884">,</span>&nbsp;<span class="string" id="6800886">&#34;[ip6-localhost%&#34;</span>&nbsp;<span class="op" id="6800904">+</span>&nbsp;<span class="ident" id="6800906"><a href="/gostd/net/udp_test.go.html#6800022">ifi</a></span><span class="op" id="6800909">.</span><span class="ident" id="6800910"><a href="/gostd/net/interface.go.html#3275627">Name</a></span>&nbsp;<span class="op" id="6800915">+</span>&nbsp;<span class="string" id="6800917">&#34;]:0&#34;</span><span class="op" id="6800922">,</span>&nbsp;<span class="builtintype" id="6800924">true</span><span class="op" id="6800928">}</span><span class="op" id="6800929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800933">}</span><span class="op" id="6800934">...</span><span class="op" id="6800937">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6800940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6800943">for</span>&nbsp;<span class="ident" id="6800947">_</span><span class="op" id="6800948">,</span>&nbsp;<span class="ident" id="6800950">tt</span>&nbsp;<span class="op" id="6800953">:=</span>&nbsp;<span class="keyword" id="6800956">range</span>&nbsp;<span class="ident" id="6800962"><a href="/gostd/net/udp_test.go.html#6800293">tests</a></span>&nbsp;<span class="op" id="6800968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6800972">c1</span><span class="op" id="6800974">,</span>&nbsp;<span class="ident" id="6800976">err</span>&nbsp;<span class="op" id="6800980">:=</span>&nbsp;<span class="ident" id="6800983"><a href="/gostd/net/dial.go.html#3207909">ListenPacket</a></span><span class="op" id="6800995">(</span><span class="ident" id="6800996"><a href="/gostd/net/udp_test.go.html#6800950">tt</a></span><span class="op" id="6800998">.</span><span class="ident" id="6800999"><a href="/gostd/net/udp_test.go.html#6800249">net</a></span><span class="op" id="6801002">,</span>&nbsp;<span class="ident" id="6801004"><a href="/gostd/net/udp_test.go.html#6800950">tt</a></span><span class="op" id="6801006">.</span><span class="ident" id="6801007"><a href="/gostd/net/udp_test.go.html#6800254">addr</a></span><span class="op" id="6801011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801015">if</span>&nbsp;<span class="ident" id="6801018"><a href="/gostd/net/udp_test.go.html#6800976">err</a></span>&nbsp;<span class="op" id="6801022">!=</span>&nbsp;<span class="builtintype" id="6801025">nil</span>&nbsp;<span class="op" id="6801029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6801034">//&nbsp;It&nbsp;might&nbsp;return&nbsp;&#34;LookupHost&nbsp;returned&nbsp;no</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6801080">//&nbsp;suitable&nbsp;address&#34;&nbsp;error&nbsp;on&nbsp;some&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801129"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6801130">.</span><span class="ident" id="6801131"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6801135">(</span><span class="string" id="6801136">&#34;ListenPacket&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6801161">,</span>&nbsp;<span class="ident" id="6801163"><a href="/gostd/net/udp_test.go.html#6800976">err</a></span><span class="op" id="6801166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801171">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6801182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801186">defer</span>&nbsp;<span class="ident" id="6801192"><a href="/gostd/net/udp_test.go.html#6800972">c1</a></span><span class="op" id="6801194">.</span><span class="ident" id="6801195"><a href="/gostd/net/net.go.html#3339672">Close</a></span><span class="op" id="6801200">(</span><span class="op" id="6801201">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801205">if</span>&nbsp;<span class="ident" id="6801208">la</span><span class="op" id="6801210">,</span>&nbsp;<span class="ident" id="6801212">ok</span>&nbsp;<span class="op" id="6801215">:=</span>&nbsp;<span class="ident" id="6801218"><a href="/gostd/net/udp_test.go.html#6800972">c1</a></span><span class="op" id="6801220">.</span><span class="ident" id="6801221"><a href="/gostd/net/net.go.html#3339737">LocalAddr</a></span><span class="op" id="6801230">(</span><span class="op" id="6801231">)</span><span class="op" id="6801232">.</span><span class="op" id="6801233">(</span><span class="op" id="6801234">*</span><span class="ident" id="6801235"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6801242">)</span><span class="op" id="6801243">;</span>&nbsp;<span class="op" id="6801245">!</span><span class="ident" id="6801246"><a href="/gostd/net/udp_test.go.html#6801212">ok</a></span>&nbsp;<span class="op" id="6801249">||</span>&nbsp;<span class="op" id="6801252">!</span><span class="ident" id="6801253"><a href="/gostd/net/udp_test.go.html#6800950">tt</a></span><span class="op" id="6801255">.</span><span class="ident" id="6801256"><a href="/gostd/net/udp_test.go.html#6800269">nameLookup</a></span>&nbsp;<span class="op" id="6801267">&amp;&amp;</span>&nbsp;<span class="ident" id="6801270"><a href="/gostd/net/udp_test.go.html#6801208">la</a></span><span class="op" id="6801272">.</span><span class="ident" id="6801273"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span>&nbsp;<span class="op" id="6801278">==</span>&nbsp;<span class="string" id="6801281">&#34;&#34;</span>&nbsp;<span class="op" id="6801284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801289"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6801290">.</span><span class="ident" id="6801291"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6801297">(</span><span class="string" id="6801298">&#34;got&nbsp;%v;&nbsp;expected&nbsp;a&nbsp;proper&nbsp;address&nbsp;with&nbsp;zone&nbsp;identifier&#34;</span><span class="op" id="6801354">,</span>&nbsp;<span class="ident" id="6801356"><a href="/gostd/net/udp_test.go.html#6801208">la</a></span><span class="op" id="6801358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6801362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801367">c2</span><span class="op" id="6801369">,</span>&nbsp;<span class="ident" id="6801371"><a href="/gostd/net/udp_test.go.html#6800976">err</a></span>&nbsp;<span class="op" id="6801375">:=</span>&nbsp;<span class="ident" id="6801378"><a href="/gostd/net/dial.go.html#3203459">Dial</a></span><span class="op" id="6801382">(</span><span class="ident" id="6801383"><a href="/gostd/net/udp_test.go.html#6800950">tt</a></span><span class="op" id="6801385">.</span><span class="ident" id="6801386"><a href="/gostd/net/udp_test.go.html#6800249">net</a></span><span class="op" id="6801389">,</span>&nbsp;<span class="ident" id="6801391"><a href="/gostd/net/udp_test.go.html#6800972">c1</a></span><span class="op" id="6801393">.</span><span class="ident" id="6801394"><a href="/gostd/net/net.go.html#3339737">LocalAddr</a></span><span class="op" id="6801403">(</span><span class="op" id="6801404">)</span><span class="op" id="6801405">.</span><span class="ident" id="6801406"><a href="/gostd/net/net.go.html#3334238">String</a></span><span class="op" id="6801412">(</span><span class="op" id="6801413">)</span><span class="op" id="6801414">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801418">if</span>&nbsp;<span class="ident" id="6801421"><a href="/gostd/net/udp_test.go.html#6800976">err</a></span>&nbsp;<span class="op" id="6801425">!=</span>&nbsp;<span class="builtintype" id="6801428">nil</span>&nbsp;<span class="op" id="6801432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801437"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6801438">.</span><span class="ident" id="6801439"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6801445">(</span><span class="string" id="6801446">&#34;Dial&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6801463">,</span>&nbsp;<span class="ident" id="6801465"><a href="/gostd/net/udp_test.go.html#6800976">err</a></span><span class="op" id="6801468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6801472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801476">defer</span>&nbsp;<span class="ident" id="6801482"><a href="/gostd/net/udp_test.go.html#6801367">c2</a></span><span class="op" id="6801484">.</span><span class="ident" id="6801485"><a href="/gostd/net/net.go.html#3334987">Close</a></span><span class="op" id="6801490">(</span><span class="op" id="6801491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801495">if</span>&nbsp;<span class="ident" id="6801498">la</span><span class="op" id="6801500">,</span>&nbsp;<span class="ident" id="6801502">ok</span>&nbsp;<span class="op" id="6801505">:=</span>&nbsp;<span class="ident" id="6801508"><a href="/gostd/net/udp_test.go.html#6801367">c2</a></span><span class="op" id="6801510">.</span><span class="ident" id="6801511"><a href="/gostd/net/net.go.html#3335052">LocalAddr</a></span><span class="op" id="6801520">(</span><span class="op" id="6801521">)</span><span class="op" id="6801522">.</span><span class="op" id="6801523">(</span><span class="op" id="6801524">*</span><span class="ident" id="6801525"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6801532">)</span><span class="op" id="6801533">;</span>&nbsp;<span class="op" id="6801535">!</span><span class="ident" id="6801536"><a href="/gostd/net/udp_test.go.html#6801502">ok</a></span>&nbsp;<span class="op" id="6801539">||</span>&nbsp;<span class="op" id="6801542">!</span><span class="ident" id="6801543"><a href="/gostd/net/udp_test.go.html#6800950">tt</a></span><span class="op" id="6801545">.</span><span class="ident" id="6801546"><a href="/gostd/net/udp_test.go.html#6800269">nameLookup</a></span>&nbsp;<span class="op" id="6801557">&amp;&amp;</span>&nbsp;<span class="ident" id="6801560"><a href="/gostd/net/udp_test.go.html#6801498">la</a></span><span class="op" id="6801562">.</span><span class="ident" id="6801563"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span>&nbsp;<span class="op" id="6801568">==</span>&nbsp;<span class="string" id="6801571">&#34;&#34;</span>&nbsp;<span class="op" id="6801574">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801579"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6801580">.</span><span class="ident" id="6801581"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6801587">(</span><span class="string" id="6801588">&#34;got&nbsp;%v;&nbsp;expected&nbsp;a&nbsp;proper&nbsp;address&nbsp;with&nbsp;zone&nbsp;identifier&#34;</span><span class="op" id="6801644">,</span>&nbsp;<span class="ident" id="6801646"><a href="/gostd/net/udp_test.go.html#6801498">la</a></span><span class="op" id="6801648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6801652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801656">if</span>&nbsp;<span class="ident" id="6801659">ra</span><span class="op" id="6801661">,</span>&nbsp;<span class="ident" id="6801663">ok</span>&nbsp;<span class="op" id="6801666">:=</span>&nbsp;<span class="ident" id="6801669"><a href="/gostd/net/udp_test.go.html#6801367">c2</a></span><span class="op" id="6801671">.</span><span class="ident" id="6801672"><a href="/gostd/net/net.go.html#3335122">RemoteAddr</a></span><span class="op" id="6801682">(</span><span class="op" id="6801683">)</span><span class="op" id="6801684">.</span><span class="op" id="6801685">(</span><span class="op" id="6801686">*</span><span class="ident" id="6801687"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6801694">)</span><span class="op" id="6801695">;</span>&nbsp;<span class="op" id="6801697">!</span><span class="ident" id="6801698"><a href="/gostd/net/udp_test.go.html#6801663">ok</a></span>&nbsp;<span class="op" id="6801701">||</span>&nbsp;<span class="op" id="6801704">!</span><span class="ident" id="6801705"><a href="/gostd/net/udp_test.go.html#6800950">tt</a></span><span class="op" id="6801707">.</span><span class="ident" id="6801708"><a href="/gostd/net/udp_test.go.html#6800269">nameLookup</a></span>&nbsp;<span class="op" id="6801719">&amp;&amp;</span>&nbsp;<span class="ident" id="6801722"><a href="/gostd/net/udp_test.go.html#6801659">ra</a></span><span class="op" id="6801724">.</span><span class="ident" id="6801725"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span>&nbsp;<span class="op" id="6801730">==</span>&nbsp;<span class="string" id="6801733">&#34;&#34;</span>&nbsp;<span class="op" id="6801736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801741"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6801742">.</span><span class="ident" id="6801743"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6801749">(</span><span class="string" id="6801750">&#34;got&nbsp;%v;&nbsp;expected&nbsp;a&nbsp;proper&nbsp;address&nbsp;with&nbsp;zone&nbsp;identifier&#34;</span><span class="op" id="6801806">,</span>&nbsp;<span class="ident" id="6801808"><a href="/gostd/net/udp_test.go.html#6801659">ra</a></span><span class="op" id="6801810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6801814">}</span><br>
<span class="lineno">285</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801819">if</span>&nbsp;<span class="ident" id="6801822">_</span><span class="op" id="6801823">,</span>&nbsp;<span class="ident" id="6801825">err</span>&nbsp;<span class="op" id="6801829">:=</span>&nbsp;<span class="ident" id="6801832"><a href="/gostd/net/udp_test.go.html#6801367">c2</a></span><span class="op" id="6801834">.</span><span class="ident" id="6801835"><a href="/gostd/net/net.go.html#3334839">Write</a></span><span class="op" id="6801840">(</span><span class="op" id="6801841">[</span><span class="op" id="6801842">]</span><span class="builtintype" id="6801843">byte</span><span class="op" id="6801847">(</span><span class="string" id="6801848">&#34;UDP&nbsp;OVER&nbsp;IPV6&nbsp;LINKLOCAL&nbsp;TEST&#34;</span><span class="op" id="6801878">)</span><span class="op" id="6801879">)</span><span class="op" id="6801880">;</span>&nbsp;<span class="ident" id="6801882"><a href="/gostd/net/udp_test.go.html#6801825">err</a></span>&nbsp;<span class="op" id="6801886">!=</span>&nbsp;<span class="builtintype" id="6801889">nil</span>&nbsp;<span class="op" id="6801893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801898"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6801899">.</span><span class="ident" id="6801900"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6801906">(</span><span class="string" id="6801907">&#34;Conn.Write&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6801930">,</span>&nbsp;<span class="ident" id="6801932"><a href="/gostd/net/udp_test.go.html#6801825">err</a></span><span class="op" id="6801935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6801939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6801943">b</span>&nbsp;<span class="op" id="6801945">:=</span>&nbsp;<span class="builtinfunc" id="6801948">make</span><span class="op" id="6801952">(</span><span class="op" id="6801953">[</span><span class="op" id="6801954">]</span><span class="builtintype" id="6801955">byte</span><span class="op" id="6801959">,</span>&nbsp;<span class="num" id="6801961">32</span><span class="op" id="6801963">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6801967">if</span>&nbsp;<span class="ident" id="6801970">_</span><span class="op" id="6801971">,</span>&nbsp;<span class="ident" id="6801973">from</span><span class="op" id="6801977">,</span>&nbsp;<span class="ident" id="6801979">err</span>&nbsp;<span class="op" id="6801983">:=</span>&nbsp;<span class="ident" id="6801986"><a href="/gostd/net/udp_test.go.html#6800972">c1</a></span><span class="op" id="6801988">.</span><span class="ident" id="6801989"><a href="/gostd/net/net.go.html#3339190">ReadFrom</a></span><span class="op" id="6801997">(</span><span class="ident" id="6801998"><a href="/gostd/net/udp_test.go.html#6801943">b</a></span><span class="op" id="6801999">)</span><span class="op" id="6802000">;</span>&nbsp;<span class="ident" id="6802002"><a href="/gostd/net/udp_test.go.html#6801979">err</a></span>&nbsp;<span class="op" id="6802006">!=</span>&nbsp;<span class="builtintype" id="6802009">nil</span>&nbsp;<span class="op" id="6802013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6802018"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6802019">.</span><span class="ident" id="6802020"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6802026">(</span><span class="string" id="6802027">&#34;PacketConn.ReadFrom&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6802059">,</span>&nbsp;<span class="ident" id="6802061"><a href="/gostd/net/udp_test.go.html#6801979">err</a></span><span class="op" id="6802064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6802068">}</span>&nbsp;<span class="keyword" id="6802070">else</span>&nbsp;<span class="op" id="6802075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6802080">if</span>&nbsp;<span class="ident" id="6802083">ra</span><span class="op" id="6802085">,</span>&nbsp;<span class="ident" id="6802087">ok</span>&nbsp;<span class="op" id="6802090">:=</span>&nbsp;<span class="ident" id="6802093"><a href="/gostd/net/udp_test.go.html#6801973">from</a></span><span class="op" id="6802097">.</span><span class="op" id="6802098">(</span><span class="op" id="6802099">*</span><span class="ident" id="6802100"><a href="/gostd/net/udpsock.go.html#3385842">UDPAddr</a></span><span class="op" id="6802107">)</span><span class="op" id="6802108">;</span>&nbsp;<span class="op" id="6802110">!</span><span class="ident" id="6802111"><a href="/gostd/net/udp_test.go.html#6802087">ok</a></span>&nbsp;<span class="op" id="6802114">||</span>&nbsp;<span class="op" id="6802117">!</span><span class="ident" id="6802118"><a href="/gostd/net/udp_test.go.html#6800950">tt</a></span><span class="op" id="6802120">.</span><span class="ident" id="6802121"><a href="/gostd/net/udp_test.go.html#6800269">nameLookup</a></span>&nbsp;<span class="op" id="6802132">&amp;&amp;</span>&nbsp;<span class="ident" id="6802135"><a href="/gostd/net/udp_test.go.html#6802083">ra</a></span><span class="op" id="6802137">.</span><span class="ident" id="6802138"><a href="/gostd/net/udpsock.go.html#3385879">Zone</a></span>&nbsp;<span class="op" id="6802143">==</span>&nbsp;<span class="string" id="6802146">&#34;&#34;</span>&nbsp;<span class="op" id="6802149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6802155"><a href="/gostd/net/udp_test.go.html#6799853">t</a></span><span class="op" id="6802156">.</span><span class="ident" id="6802157"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6802163">(</span><span class="string" id="6802164">&#34;got&nbsp;%v;&nbsp;expected&nbsp;a&nbsp;proper&nbsp;address&nbsp;with&nbsp;zone&nbsp;identifier&#34;</span><span class="op" id="6802220">,</span>&nbsp;<span class="ident" id="6802222"><a href="/gostd/net/udp_test.go.html#6802083">ra</a></span><span class="op" id="6802224">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6802229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6802233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6802236">}</span><br>
<span class="lineno"></span><span class="op" id="6802238">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
