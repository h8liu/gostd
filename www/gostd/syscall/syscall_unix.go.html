<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>syscall</h2>
<ul>
<li><a href="/gostd/syscall/creds_test.go.html">creds_test.go</a></li>
<li><a href="/gostd/syscall/env_unix.go.html">env_unix.go</a></li>
<li><a href="/gostd/syscall/exec_linux.go.html">exec_linux.go</a></li>
<li><a href="/gostd/syscall/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/syscall/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/syscall/flock.go.html">flock.go</a></li>
<li><a href="/gostd/syscall/lsf_linux.go.html">lsf_linux.go</a></li>
<li><a href="/gostd/syscall/mmap_unix_test.go.html">mmap_unix_test.go</a></li>
<li><a href="/gostd/syscall/netlink_linux.go.html">netlink_linux.go</a></li>
<li><a href="/gostd/syscall/race0.go.html">race0.go</a></li>
<li><a href="/gostd/syscall/sockcmsg_linux.go.html">sockcmsg_linux.go</a></li>
<li><a href="/gostd/syscall/sockcmsg_unix.go.html">sockcmsg_unix.go</a></li>
<li><a href="/gostd/syscall/str.go.html">str.go</a></li>
<li><a href="/gostd/syscall/syscall.go.html">syscall.go</a></li>
<li><a href="/gostd/syscall/syscall_linux.go.html">syscall_linux.go</a></li>
<li><a href="/gostd/syscall/syscall_linux_amd64.go.html">syscall_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/syscall_test.go.html">syscall_test.go</a></li>
<li><a href="/gostd/syscall/syscall_unix.go.html" class="current">syscall_unix.go</a></li>
<li><a href="/gostd/syscall/syscall_unix_test.go.html">syscall_unix_test.go</a></li>
<li><a href="/gostd/syscall/zerrors_linux_amd64.go.html">zerrors_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/zsyscall_linux_amd64.go.html">zsyscall_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/zsysnum_linux_amd64.go.html">zsysnum_linux_amd64.go</a></li>
<li><a href="/gostd/syscall/ztypes_linux_amd64.go.html">ztypes_linux_amd64.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2543332">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2543387">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2543441">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2543492">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2543557">package</span>&nbsp;<span class="ident" id="2543565">syscall</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2543574">import</span>&nbsp;<span class="op" id="2543581">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2543584">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2543595">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2543603">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="2543612">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="2543615">var</span>&nbsp;<span class="op" id="2543619">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2543622">Stdin</span>&nbsp;&nbsp;<span class="op" id="2543629">=</span>&nbsp;<span class="num" id="2543631">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2543634">Stdout</span>&nbsp;<span class="op" id="2543641">=</span>&nbsp;<span class="num" id="2543643">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2543646">Stderr</span>&nbsp;<span class="op" id="2543653">=</span>&nbsp;<span class="num" id="2543655">2</span><br>
<span class="lineno"></span><span class="op" id="2543657">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="2543660">const</span>&nbsp;<span class="op" id="2543666">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2543669">darwin64Bit</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2543684">=</span>&nbsp;<span class="ident" id="2543686"><a href="/gostd/syscall/syscall_unix.go.html#2543584">runtime</a></span><span class="op" id="2543693">.</span><span class="ident" id="2543694"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="2543699">==</span>&nbsp;<span class="string" id="2543702">&#34;darwin&#34;</span>&nbsp;<span class="op" id="2543711">&amp;&amp;</span>&nbsp;<span class="ident" id="2543714"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2666275">sizeofPtr</a></span>&nbsp;<span class="op" id="2543724">==</span>&nbsp;<span class="num" id="2543727">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2543730">dragonfly64Bit</span>&nbsp;<span class="op" id="2543745">=</span>&nbsp;<span class="ident" id="2543747"><a href="/gostd/syscall/syscall_unix.go.html#2543584">runtime</a></span><span class="op" id="2543754">.</span><span class="ident" id="2543755"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="2543760">==</span>&nbsp;<span class="string" id="2543763">&#34;dragonfly&#34;</span>&nbsp;<span class="op" id="2543775">&amp;&amp;</span>&nbsp;<span class="ident" id="2543778"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2666275">sizeofPtr</a></span>&nbsp;<span class="op" id="2543788">==</span>&nbsp;<span class="num" id="2543791">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2543794">netbsd32Bit</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2543809">=</span>&nbsp;<span class="ident" id="2543811"><a href="/gostd/syscall/syscall_unix.go.html#2543584">runtime</a></span><span class="op" id="2543818">.</span><span class="ident" id="2543819"><a href="/gostd/runtime/extern.go.html#1533673">GOOS</a></span>&nbsp;<span class="op" id="2543824">==</span>&nbsp;<span class="string" id="2543827">&#34;netbsd&#34;</span>&nbsp;<span class="op" id="2543836">&amp;&amp;</span>&nbsp;<span class="ident" id="2543839"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2666275">sizeofPtr</a></span>&nbsp;<span class="op" id="2543849">==</span>&nbsp;<span class="num" id="2543852">4</span><br>
<span class="lineno">25</span><span class="op" id="2543854">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2543857">func</span>&nbsp;<span class="ident" id="2543862">Syscall</span><span class="op" id="2543869">(</span><span class="ident" id="2543870">trap</span><span class="op" id="2543874">,</span>&nbsp;<span class="ident" id="2543876">a1</span><span class="op" id="2543878">,</span>&nbsp;<span class="ident" id="2543880">a2</span><span class="op" id="2543882">,</span>&nbsp;<span class="ident" id="2543884">a3</span>&nbsp;<span class="builtintype" id="2543887">uintptr</span><span class="op" id="2543894">)</span>&nbsp;<span class="op" id="2543896">(</span><span class="ident" id="2543897">r1</span><span class="op" id="2543899">,</span>&nbsp;<span class="ident" id="2543901">r2</span>&nbsp;<span class="builtintype" id="2543904">uintptr</span><span class="op" id="2543911">,</span>&nbsp;<span class="ident" id="2543913">err</span>&nbsp;<span class="ident" id="2543917"><a href="/gostd/syscall/syscall_unix.go.html#2545791">Errno</a></span><span class="op" id="2543922">)</span><br>
<span class="lineno"></span><span class="keyword" id="2543924">func</span>&nbsp;<span class="ident" id="2543929">Syscall6</span><span class="op" id="2543937">(</span><span class="ident" id="2543938">trap</span><span class="op" id="2543942">,</span>&nbsp;<span class="ident" id="2543944">a1</span><span class="op" id="2543946">,</span>&nbsp;<span class="ident" id="2543948">a2</span><span class="op" id="2543950">,</span>&nbsp;<span class="ident" id="2543952">a3</span><span class="op" id="2543954">,</span>&nbsp;<span class="ident" id="2543956">a4</span><span class="op" id="2543958">,</span>&nbsp;<span class="ident" id="2543960">a5</span><span class="op" id="2543962">,</span>&nbsp;<span class="ident" id="2543964">a6</span>&nbsp;<span class="builtintype" id="2543967">uintptr</span><span class="op" id="2543974">)</span>&nbsp;<span class="op" id="2543976">(</span><span class="ident" id="2543977">r1</span><span class="op" id="2543979">,</span>&nbsp;<span class="ident" id="2543981">r2</span>&nbsp;<span class="builtintype" id="2543984">uintptr</span><span class="op" id="2543991">,</span>&nbsp;<span class="ident" id="2543993">err</span>&nbsp;<span class="ident" id="2543997"><a href="/gostd/syscall/syscall_unix.go.html#2545791">Errno</a></span><span class="op" id="2544002">)</span><br>
<span class="lineno"></span><span class="keyword" id="2544004">func</span>&nbsp;<span class="ident" id="2544009">RawSyscall</span><span class="op" id="2544019">(</span><span class="ident" id="2544020">trap</span><span class="op" id="2544024">,</span>&nbsp;<span class="ident" id="2544026">a1</span><span class="op" id="2544028">,</span>&nbsp;<span class="ident" id="2544030">a2</span><span class="op" id="2544032">,</span>&nbsp;<span class="ident" id="2544034">a3</span>&nbsp;<span class="builtintype" id="2544037">uintptr</span><span class="op" id="2544044">)</span>&nbsp;<span class="op" id="2544046">(</span><span class="ident" id="2544047">r1</span><span class="op" id="2544049">,</span>&nbsp;<span class="ident" id="2544051">r2</span>&nbsp;<span class="builtintype" id="2544054">uintptr</span><span class="op" id="2544061">,</span>&nbsp;<span class="ident" id="2544063">err</span>&nbsp;<span class="ident" id="2544067"><a href="/gostd/syscall/syscall_unix.go.html#2545791">Errno</a></span><span class="op" id="2544072">)</span><br>
<span class="lineno">30</span><span class="keyword" id="2544074">func</span>&nbsp;<span class="ident" id="2544079">RawSyscall6</span><span class="op" id="2544090">(</span><span class="ident" id="2544091">trap</span><span class="op" id="2544095">,</span>&nbsp;<span class="ident" id="2544097">a1</span><span class="op" id="2544099">,</span>&nbsp;<span class="ident" id="2544101">a2</span><span class="op" id="2544103">,</span>&nbsp;<span class="ident" id="2544105">a3</span><span class="op" id="2544107">,</span>&nbsp;<span class="ident" id="2544109">a4</span><span class="op" id="2544111">,</span>&nbsp;<span class="ident" id="2544113">a5</span><span class="op" id="2544115">,</span>&nbsp;<span class="ident" id="2544117">a6</span>&nbsp;<span class="builtintype" id="2544120">uintptr</span><span class="op" id="2544127">)</span>&nbsp;<span class="op" id="2544129">(</span><span class="ident" id="2544130">r1</span><span class="op" id="2544132">,</span>&nbsp;<span class="ident" id="2544134">r2</span>&nbsp;<span class="builtintype" id="2544137">uintptr</span><span class="op" id="2544144">,</span>&nbsp;<span class="ident" id="2544146">err</span>&nbsp;<span class="ident" id="2544150"><a href="/gostd/syscall/syscall_unix.go.html#2545791">Errno</a></span><span class="op" id="2544155">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2544158">//&nbsp;Mmap&nbsp;manager,&nbsp;for&nbsp;use&nbsp;by&nbsp;operating&nbsp;system-specific&nbsp;implementations.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2544230">type</span>&nbsp;<span class="ident" id="2544235">mmapper</span>&nbsp;<span class="keyword" id="2544243">struct</span>&nbsp;<span class="op" id="2544250">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544253"><a href="/gostd/syscall/syscall_unix.go.html#2543595">sync</a></span><span class="op" id="2544257">.</span><span class="ident" id="2544258"><a href="/gostd/sync/mutex.go.html#1443974">Mutex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544265">active</span>&nbsp;<span class="keyword" id="2544272">map</span><span class="op" id="2544275">[</span><span class="op" id="2544276">*</span><span class="builtintype" id="2544277">byte</span><span class="op" id="2544281">]</span><span class="op" id="2544282">[</span><span class="op" id="2544283">]</span><span class="builtintype" id="2544284">byte</span>&nbsp;<span class="comment" id="2544289">//&nbsp;active&nbsp;mappings;&nbsp;key&nbsp;is&nbsp;last&nbsp;byte&nbsp;in&nbsp;mapping</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544338">mmap</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="2544345">func</span><span class="op" id="2544349">(</span><span class="ident" id="2544350">addr</span><span class="op" id="2544354">,</span>&nbsp;<span class="ident" id="2544356">length</span>&nbsp;<span class="builtintype" id="2544363">uintptr</span><span class="op" id="2544370">,</span>&nbsp;<span class="ident" id="2544372">prot</span><span class="op" id="2544376">,</span>&nbsp;<span class="ident" id="2544378">flags</span><span class="op" id="2544383">,</span>&nbsp;<span class="ident" id="2544385">fd</span>&nbsp;<span class="builtintype" id="2544388">int</span><span class="op" id="2544391">,</span>&nbsp;<span class="ident" id="2544393">offset</span>&nbsp;<span class="builtintype" id="2544400">int64</span><span class="op" id="2544405">)</span>&nbsp;<span class="op" id="2544407">(</span><span class="builtintype" id="2544408">uintptr</span><span class="op" id="2544415">,</span>&nbsp;<span class="builtintype" id="2544417">error</span><span class="op" id="2544422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544425">munmap</span>&nbsp;<span class="keyword" id="2544432">func</span><span class="op" id="2544436">(</span><span class="ident" id="2544437">addr</span>&nbsp;<span class="builtintype" id="2544442">uintptr</span><span class="op" id="2544449">,</span>&nbsp;<span class="ident" id="2544451">length</span>&nbsp;<span class="builtintype" id="2544458">uintptr</span><span class="op" id="2544465">)</span>&nbsp;<span class="builtintype" id="2544467">error</span><br>
<span class="lineno"></span><span class="op" id="2544473">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="2544476">func</span>&nbsp;<span class="op" id="2544481">(</span><span class="ident" id="2544482">m</span>&nbsp;<span class="op" id="2544484">*</span><span class="ident" id="2544485"><a href="/gostd/syscall/syscall_unix.go.html#2544235">mmapper</a></span><span class="op" id="2544492">)</span>&nbsp;<span class="ident" id="2544494">Mmap</span><span class="op" id="2544498">(</span><span class="ident" id="2544499">fd</span>&nbsp;<span class="builtintype" id="2544502">int</span><span class="op" id="2544505">,</span>&nbsp;<span class="ident" id="2544507">offset</span>&nbsp;<span class="builtintype" id="2544514">int64</span><span class="op" id="2544519">,</span>&nbsp;<span class="ident" id="2544521">length</span>&nbsp;<span class="builtintype" id="2544528">int</span><span class="op" id="2544531">,</span>&nbsp;<span class="ident" id="2544533">prot</span>&nbsp;<span class="builtintype" id="2544538">int</span><span class="op" id="2544541">,</span>&nbsp;<span class="ident" id="2544543">flags</span>&nbsp;<span class="builtintype" id="2544549">int</span><span class="op" id="2544552">)</span>&nbsp;<span class="op" id="2544554">(</span><span class="ident" id="2544555">data</span>&nbsp;<span class="op" id="2544560">[</span><span class="op" id="2544561">]</span><span class="builtintype" id="2544562">byte</span><span class="op" id="2544566">,</span>&nbsp;<span class="ident" id="2544568">err</span>&nbsp;<span class="builtintype" id="2544572">error</span><span class="op" id="2544577">)</span>&nbsp;<span class="op" id="2544579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2544582">if</span>&nbsp;<span class="ident" id="2544585"><a href="/gostd/syscall/syscall_unix.go.html#2544521">length</a></span>&nbsp;<span class="op" id="2544592">&lt;=</span>&nbsp;<span class="num" id="2544595">0</span>&nbsp;<span class="op" id="2544597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2544601">return</span>&nbsp;<span class="builtintype" id="2544608">nil</span><span class="op" id="2544611">,</span>&nbsp;<span class="ident" id="2544613"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2544621">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2544625">//&nbsp;Map&nbsp;the&nbsp;requested&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544655">addr</span><span class="op" id="2544659">,</span>&nbsp;<span class="ident" id="2544661">errno</span>&nbsp;<span class="op" id="2544667">:=</span>&nbsp;<span class="ident" id="2544670"><a href="/gostd/syscall/syscall_unix.go.html#2544482">m</a></span><span class="op" id="2544671">.</span><span class="ident" id="2544672"><a href="/gostd/syscall/syscall_unix.go.html#2544338">mmap</a></span><span class="op" id="2544676">(</span><span class="num" id="2544677">0</span><span class="op" id="2544678">,</span>&nbsp;<span class="builtintype" id="2544680">uintptr</span><span class="op" id="2544687">(</span><span class="ident" id="2544688"><a href="/gostd/syscall/syscall_unix.go.html#2544521">length</a></span><span class="op" id="2544694">)</span><span class="op" id="2544695">,</span>&nbsp;<span class="ident" id="2544697"><a href="/gostd/syscall/syscall_unix.go.html#2544533">prot</a></span><span class="op" id="2544701">,</span>&nbsp;<span class="ident" id="2544703"><a href="/gostd/syscall/syscall_unix.go.html#2544543">flags</a></span><span class="op" id="2544708">,</span>&nbsp;<span class="ident" id="2544710"><a href="/gostd/syscall/syscall_unix.go.html#2544499">fd</a></span><span class="op" id="2544712">,</span>&nbsp;<span class="ident" id="2544714"><a href="/gostd/syscall/syscall_unix.go.html#2544507">offset</a></span><span class="op" id="2544720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2544723">if</span>&nbsp;<span class="ident" id="2544726"><a href="/gostd/syscall/syscall_unix.go.html#2544661">errno</a></span>&nbsp;<span class="op" id="2544732">!=</span>&nbsp;<span class="builtintype" id="2544735">nil</span>&nbsp;<span class="op" id="2544739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2544743">return</span>&nbsp;<span class="builtintype" id="2544750">nil</span><span class="op" id="2544753">,</span>&nbsp;<span class="ident" id="2544755"><a href="/gostd/syscall/syscall_unix.go.html#2544661">errno</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2544762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2544766">//&nbsp;Slice&nbsp;memory&nbsp;layout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2544790">var</span>&nbsp;<span class="ident" id="2544794">sl</span>&nbsp;<span class="op" id="2544797">=</span>&nbsp;<span class="keyword" id="2544799">struct</span>&nbsp;<span class="op" id="2544806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544810">addr</span>&nbsp;<span class="builtintype" id="2544815">uintptr</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2544825">len</span>&nbsp;&nbsp;<span class="builtintype" id="2544830">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2544836">cap</span>&nbsp;&nbsp;<span class="builtintype" id="2544841">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2544846">}</span><span class="op" id="2544847">{</span><span class="ident" id="2544848"><a href="/gostd/syscall/syscall_unix.go.html#2544655">addr</a></span><span class="op" id="2544852">,</span>&nbsp;<span class="ident" id="2544854"><a href="/gostd/syscall/syscall_unix.go.html#2544521">length</a></span><span class="op" id="2544860">,</span>&nbsp;<span class="ident" id="2544862"><a href="/gostd/syscall/syscall_unix.go.html#2544521">length</a></span><span class="op" id="2544868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2544872">//&nbsp;Use&nbsp;unsafe&nbsp;to&nbsp;turn&nbsp;sl&nbsp;into&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544913">b</span>&nbsp;<span class="op" id="2544915">:=</span>&nbsp;<span class="op" id="2544918">*</span><span class="op" id="2544919">(</span><span class="op" id="2544920">*</span><span class="op" id="2544921">[</span><span class="op" id="2544922">]</span><span class="builtintype" id="2544923">byte</span><span class="op" id="2544927">)</span><span class="op" id="2544928">(</span><span class="ident" id="2544929"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2544935">.</span><span class="ident" id="2544936">Pointer</span><span class="op" id="2544943">(</span><span class="op" id="2544944">&amp;</span><span class="ident" id="2544945"><a href="/gostd/syscall/syscall_unix.go.html#2544794">sl</a></span><span class="op" id="2544947">)</span><span class="op" id="2544948">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2544952">//&nbsp;Register&nbsp;mapping&nbsp;in&nbsp;m&nbsp;and&nbsp;return&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2544993">p</span>&nbsp;<span class="op" id="2544995">:=</span>&nbsp;<span class="op" id="2544998">&amp;</span><span class="ident" id="2544999"><a href="/gostd/syscall/syscall_unix.go.html#2544913">b</a></span><span class="op" id="2545000">[</span><span class="builtinfunc" id="2545001">cap</span><span class="op" id="2545004">(</span><span class="ident" id="2545005"><a href="/gostd/syscall/syscall_unix.go.html#2544913">b</a></span><span class="op" id="2545006">)</span><span class="op" id="2545007">-</span><span class="num" id="2545008">1</span><span class="op" id="2545009">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2545012"><a href="/gostd/syscall/syscall_unix.go.html#2544482">m</a></span><span class="op" id="2545013">.</span><span class="ident" id="2545014"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="2545018">(</span><span class="op" id="2545019">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545022">defer</span>&nbsp;<span class="ident" id="2545028"><a href="/gostd/syscall/syscall_unix.go.html#2544482">m</a></span><span class="op" id="2545029">.</span><span class="ident" id="2545030"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="2545036">(</span><span class="op" id="2545037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2545040"><a href="/gostd/syscall/syscall_unix.go.html#2544482">m</a></span><span class="op" id="2545041">.</span><span class="ident" id="2545042"><a href="/gostd/syscall/syscall_unix.go.html#2544265">active</a></span><span class="op" id="2545048">[</span><span class="ident" id="2545049"><a href="/gostd/syscall/syscall_unix.go.html#2544993">p</a></span><span class="op" id="2545050">]</span>&nbsp;<span class="op" id="2545052">=</span>&nbsp;<span class="ident" id="2545054"><a href="/gostd/syscall/syscall_unix.go.html#2544913">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545057">return</span>&nbsp;<span class="ident" id="2545064"><a href="/gostd/syscall/syscall_unix.go.html#2544913">b</a></span><span class="op" id="2545065">,</span>&nbsp;<span class="builtintype" id="2545067">nil</span><br>
<span class="lineno"></span><span class="op" id="2545071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="2545074">func</span>&nbsp;<span class="op" id="2545079">(</span><span class="ident" id="2545080">m</span>&nbsp;<span class="op" id="2545082">*</span><span class="ident" id="2545083"><a href="/gostd/syscall/syscall_unix.go.html#2544235">mmapper</a></span><span class="op" id="2545090">)</span>&nbsp;<span class="ident" id="2545092">Munmap</span><span class="op" id="2545098">(</span><span class="ident" id="2545099">data</span>&nbsp;<span class="op" id="2545104">[</span><span class="op" id="2545105">]</span><span class="builtintype" id="2545106">byte</span><span class="op" id="2545110">)</span>&nbsp;<span class="op" id="2545112">(</span><span class="ident" id="2545113">err</span>&nbsp;<span class="builtintype" id="2545117">error</span><span class="op" id="2545122">)</span>&nbsp;<span class="op" id="2545124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545127">if</span>&nbsp;<span class="builtinfunc" id="2545130">len</span><span class="op" id="2545133">(</span><span class="ident" id="2545134"><a href="/gostd/syscall/syscall_unix.go.html#2545099">data</a></span><span class="op" id="2545138">)</span>&nbsp;<span class="op" id="2545140">==</span>&nbsp;<span class="num" id="2545143">0</span>&nbsp;<span class="op" id="2545145">||</span>&nbsp;<span class="builtinfunc" id="2545148">len</span><span class="op" id="2545151">(</span><span class="ident" id="2545152"><a href="/gostd/syscall/syscall_unix.go.html#2545099">data</a></span><span class="op" id="2545156">)</span>&nbsp;<span class="op" id="2545158">!=</span>&nbsp;<span class="builtinfunc" id="2545161">cap</span><span class="op" id="2545164">(</span><span class="ident" id="2545165"><a href="/gostd/syscall/syscall_unix.go.html#2545099">data</a></span><span class="op" id="2545169">)</span>&nbsp;<span class="op" id="2545171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545175">return</span>&nbsp;<span class="ident" id="2545182"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2545190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2545194">//&nbsp;Find&nbsp;the&nbsp;base&nbsp;of&nbsp;the&nbsp;mapping.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2545228">p</span>&nbsp;<span class="op" id="2545230">:=</span>&nbsp;<span class="op" id="2545233">&amp;</span><span class="ident" id="2545234"><a href="/gostd/syscall/syscall_unix.go.html#2545099">data</a></span><span class="op" id="2545238">[</span><span class="builtinfunc" id="2545239">cap</span><span class="op" id="2545242">(</span><span class="ident" id="2545243"><a href="/gostd/syscall/syscall_unix.go.html#2545099">data</a></span><span class="op" id="2545247">)</span><span class="op" id="2545248">-</span><span class="num" id="2545249">1</span><span class="op" id="2545250">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2545253"><a href="/gostd/syscall/syscall_unix.go.html#2545080">m</a></span><span class="op" id="2545254">.</span><span class="ident" id="2545255"><a href="/gostd/sync/mutex.go.html#1444351">Lock</a></span><span class="op" id="2545259">(</span><span class="op" id="2545260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545263">defer</span>&nbsp;<span class="ident" id="2545269"><a href="/gostd/syscall/syscall_unix.go.html#2545080">m</a></span><span class="op" id="2545270">.</span><span class="ident" id="2545271"><a href="/gostd/sync/mutex.go.html#1445283">Unlock</a></span><span class="op" id="2545277">(</span><span class="op" id="2545278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2545281">b</span>&nbsp;<span class="op" id="2545283">:=</span>&nbsp;<span class="ident" id="2545286"><a href="/gostd/syscall/syscall_unix.go.html#2545080">m</a></span><span class="op" id="2545287">.</span><span class="ident" id="2545288"><a href="/gostd/syscall/syscall_unix.go.html#2544265">active</a></span><span class="op" id="2545294">[</span><span class="ident" id="2545295"><a href="/gostd/syscall/syscall_unix.go.html#2545228">p</a></span><span class="op" id="2545296">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545299">if</span>&nbsp;<span class="ident" id="2545302"><a href="/gostd/syscall/syscall_unix.go.html#2545281">b</a></span>&nbsp;<span class="op" id="2545304">==</span>&nbsp;<span class="builtintype" id="2545307">nil</span>&nbsp;<span class="op" id="2545311">||</span>&nbsp;<span class="op" id="2545314">&amp;</span><span class="ident" id="2545315"><a href="/gostd/syscall/syscall_unix.go.html#2545281">b</a></span><span class="op" id="2545316">[</span><span class="num" id="2545317">0</span><span class="op" id="2545318">]</span>&nbsp;<span class="op" id="2545320">!=</span>&nbsp;<span class="op" id="2545323">&amp;</span><span class="ident" id="2545324"><a href="/gostd/syscall/syscall_unix.go.html#2545099">data</a></span><span class="op" id="2545328">[</span><span class="num" id="2545329">0</span><span class="op" id="2545330">]</span>&nbsp;<span class="op" id="2545332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545336">return</span>&nbsp;<span class="ident" id="2545343"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601331">EINVAL</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2545351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2545355">//&nbsp;Unmap&nbsp;the&nbsp;memory&nbsp;and&nbsp;update&nbsp;m.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545390">if</span>&nbsp;<span class="ident" id="2545393">errno</span>&nbsp;<span class="op" id="2545399">:=</span>&nbsp;<span class="ident" id="2545402"><a href="/gostd/syscall/syscall_unix.go.html#2545080">m</a></span><span class="op" id="2545403">.</span><span class="ident" id="2545404"><a href="/gostd/syscall/syscall_unix.go.html#2544425">munmap</a></span><span class="op" id="2545410">(</span><span class="builtintype" id="2545411">uintptr</span><span class="op" id="2545418">(</span><span class="ident" id="2545419"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2545425">.</span><span class="ident" id="2545426">Pointer</span><span class="op" id="2545433">(</span><span class="op" id="2545434">&amp;</span><span class="ident" id="2545435"><a href="/gostd/syscall/syscall_unix.go.html#2545281">b</a></span><span class="op" id="2545436">[</span><span class="num" id="2545437">0</span><span class="op" id="2545438">]</span><span class="op" id="2545439">)</span><span class="op" id="2545440">)</span><span class="op" id="2545441">,</span>&nbsp;<span class="builtintype" id="2545443">uintptr</span><span class="op" id="2545450">(</span><span class="builtinfunc" id="2545451">len</span><span class="op" id="2545454">(</span><span class="ident" id="2545455"><a href="/gostd/syscall/syscall_unix.go.html#2545281">b</a></span><span class="op" id="2545456">)</span><span class="op" id="2545457">)</span><span class="op" id="2545458">)</span><span class="op" id="2545459">;</span>&nbsp;<span class="ident" id="2545461"><a href="/gostd/syscall/syscall_unix.go.html#2545393">errno</a></span>&nbsp;<span class="op" id="2545467">!=</span>&nbsp;<span class="builtintype" id="2545470">nil</span>&nbsp;<span class="op" id="2545474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545478">return</span>&nbsp;<span class="ident" id="2545485"><a href="/gostd/syscall/syscall_unix.go.html#2545393">errno</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2545492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2545495">delete</span><span class="op" id="2545501">(</span><span class="ident" id="2545502"><a href="/gostd/syscall/syscall_unix.go.html#2545080">m</a></span><span class="op" id="2545503">.</span><span class="ident" id="2545504"><a href="/gostd/syscall/syscall_unix.go.html#2544265">active</a></span><span class="op" id="2545510">,</span>&nbsp;<span class="ident" id="2545512"><a href="/gostd/syscall/syscall_unix.go.html#2545228">p</a></span><span class="op" id="2545513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545516">return</span>&nbsp;<span class="builtintype" id="2545523">nil</span><br>
<span class="lineno">90</span><span class="op" id="2545527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2545530">//&nbsp;An&nbsp;Errno&nbsp;is&nbsp;an&nbsp;unsigned&nbsp;number&nbsp;describing&nbsp;an&nbsp;error&nbsp;condition.</span><br>
<span class="lineno"></span><span class="comment" id="2545595">//&nbsp;It&nbsp;implements&nbsp;the&nbsp;error&nbsp;interface.&nbsp;&nbsp;The&nbsp;zero&nbsp;Errno&nbsp;is&nbsp;by&nbsp;convention</span><br>
<span class="lineno"></span><span class="comment" id="2545666">//&nbsp;a&nbsp;non-error,&nbsp;so&nbsp;code&nbsp;to&nbsp;convert&nbsp;from&nbsp;Errno&nbsp;to&nbsp;error&nbsp;should&nbsp;use:</span><br>
<span class="lineno">95</span><span class="comment" id="2545733">//&nbsp;&nbsp;&nbsp;&nbsp;err&nbsp;=&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="2545746">//&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;errno&nbsp;!=&nbsp;0&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="2545765">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;err&nbsp;=&nbsp;errno</span><br>
<span class="lineno"></span><span class="comment" id="2545781">//&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno"></span><span class="keyword" id="2545786">type</span>&nbsp;<span class="ident" id="2545791">Errno</span>&nbsp;<span class="builtintype" id="2545797">uintptr</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="2545806">func</span>&nbsp;<span class="op" id="2545811">(</span><span class="ident" id="2545812">e</span>&nbsp;<span class="ident" id="2545814"><a href="/gostd/syscall/syscall_unix.go.html#2545791">Errno</a></span><span class="op" id="2545819">)</span>&nbsp;<span class="ident" id="2545821">Error</span><span class="op" id="2545826">(</span><span class="op" id="2545827">)</span>&nbsp;<span class="builtintype" id="2545829">string</span>&nbsp;<span class="op" id="2545836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545839">if</span>&nbsp;<span class="num" id="2545842">0</span>&nbsp;<span class="op" id="2545844">&lt;=</span>&nbsp;<span class="builtintype" id="2545847">int</span><span class="op" id="2545850">(</span><span class="ident" id="2545851"><a href="/gostd/syscall/syscall_unix.go.html#2545812">e</a></span><span class="op" id="2545852">)</span>&nbsp;<span class="op" id="2545854">&amp;&amp;</span>&nbsp;<span class="builtintype" id="2545857">int</span><span class="op" id="2545860">(</span><span class="ident" id="2545861"><a href="/gostd/syscall/syscall_unix.go.html#2545812">e</a></span><span class="op" id="2545862">)</span>&nbsp;<span class="op" id="2545864">&lt;</span>&nbsp;<span class="builtinfunc" id="2545866">len</span><span class="op" id="2545869">(</span><span class="ident" id="2545870"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2605173">errors</a></span><span class="op" id="2545876">)</span>&nbsp;<span class="op" id="2545878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2545882">s</span>&nbsp;<span class="op" id="2545884">:=</span>&nbsp;<span class="ident" id="2545887"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2605173">errors</a></span><span class="op" id="2545893">[</span><span class="ident" id="2545894"><a href="/gostd/syscall/syscall_unix.go.html#2545812">e</a></span><span class="op" id="2545895">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545899">if</span>&nbsp;<span class="ident" id="2545902"><a href="/gostd/syscall/syscall_unix.go.html#2545882">s</a></span>&nbsp;<span class="op" id="2545904">!=</span>&nbsp;<span class="string" id="2545907">&#34;&#34;</span>&nbsp;<span class="op" id="2545910">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545915">return</span>&nbsp;<span class="ident" id="2545922"><a href="/gostd/syscall/syscall_unix.go.html#2545882">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2545926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2545929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2545932">return</span>&nbsp;<span class="string" id="2545939">&#34;errno&nbsp;&#34;</span>&nbsp;<span class="op" id="2545948">+</span>&nbsp;<span class="ident" id="2545950"><a href="/gostd/syscall/str.go.html#2508324">itoa</a></span><span class="op" id="2545954">(</span><span class="builtintype" id="2545955">int</span><span class="op" id="2545958">(</span><span class="ident" id="2545959"><a href="/gostd/syscall/syscall_unix.go.html#2545812">e</a></span><span class="op" id="2545960">)</span><span class="op" id="2545961">)</span><br>
<span class="lineno"></span><span class="op" id="2545963">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="2545966">func</span>&nbsp;<span class="op" id="2545971">(</span><span class="ident" id="2545972">e</span>&nbsp;<span class="ident" id="2545974"><a href="/gostd/syscall/syscall_unix.go.html#2545791">Errno</a></span><span class="op" id="2545979">)</span>&nbsp;<span class="ident" id="2545981">Temporary</span><span class="op" id="2545990">(</span><span class="op" id="2545991">)</span>&nbsp;<span class="builtintype" id="2545993">bool</span>&nbsp;<span class="op" id="2545998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546001">return</span>&nbsp;<span class="ident" id="2546008"><a href="/gostd/syscall/syscall_unix.go.html#2545972">e</a></span>&nbsp;<span class="op" id="2546010">==</span>&nbsp;<span class="ident" id="2546013"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601301">EINTR</a></span>&nbsp;<span class="op" id="2546019">||</span>&nbsp;<span class="ident" id="2546022"><a href="/gostd/syscall/syscall_unix.go.html#2545972">e</a></span>&nbsp;<span class="op" id="2546024">==</span>&nbsp;<span class="ident" id="2546027"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2601950">EMFILE</a></span>&nbsp;<span class="op" id="2546034">||</span>&nbsp;<span class="ident" id="2546037"><a href="/gostd/syscall/syscall_unix.go.html#2545972">e</a></span>&nbsp;<span class="op" id="2546039">==</span>&nbsp;<span class="ident" id="2546042"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2600837">ECONNRESET</a></span>&nbsp;<span class="op" id="2546053">||</span>&nbsp;<span class="ident" id="2546056"><a href="/gostd/syscall/syscall_unix.go.html#2545972">e</a></span>&nbsp;<span class="op" id="2546058">==</span>&nbsp;<span class="ident" id="2546061"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2600775">ECONNABORTED</a></span>&nbsp;<span class="op" id="2546074">||</span>&nbsp;<span class="ident" id="2546077"><a href="/gostd/syscall/syscall_unix.go.html#2545972">e</a></span><span class="op" id="2546078">.</span><span class="ident" id="2546079"><a href="/gostd/syscall/syscall_unix.go.html#2546107">Timeout</a></span><span class="op" id="2546086">(</span><span class="op" id="2546087">)</span><br>
<span class="lineno"></span><span class="op" id="2546089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="2546092">func</span>&nbsp;<span class="op" id="2546097">(</span><span class="ident" id="2546098">e</span>&nbsp;<span class="ident" id="2546100"><a href="/gostd/syscall/syscall_unix.go.html#2545791">Errno</a></span><span class="op" id="2546105">)</span>&nbsp;<span class="ident" id="2546107">Timeout</span><span class="op" id="2546114">(</span><span class="op" id="2546115">)</span>&nbsp;<span class="builtintype" id="2546117">bool</span>&nbsp;<span class="op" id="2546122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546125">return</span>&nbsp;<span class="ident" id="2546132"><a href="/gostd/syscall/syscall_unix.go.html#2546098">e</a></span>&nbsp;<span class="op" id="2546134">==</span>&nbsp;<span class="ident" id="2546137"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2600313">EAGAIN</a></span>&nbsp;<span class="op" id="2546144">||</span>&nbsp;<span class="ident" id="2546147"><a href="/gostd/syscall/syscall_unix.go.html#2546098">e</a></span>&nbsp;<span class="op" id="2546149">==</span>&nbsp;<span class="ident" id="2546152"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2604144">EWOULDBLOCK</a></span>&nbsp;<span class="op" id="2546164">||</span>&nbsp;<span class="ident" id="2546167"><a href="/gostd/syscall/syscall_unix.go.html#2546098">e</a></span>&nbsp;<span class="op" id="2546169">==</span>&nbsp;<span class="ident" id="2546172"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2603958">ETIMEDOUT</a></span><br>
<span class="lineno"></span><span class="op" id="2546182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2546185">//&nbsp;A&nbsp;Signal&nbsp;is&nbsp;a&nbsp;number&nbsp;describing&nbsp;a&nbsp;process&nbsp;signal.</span><br>
<span class="lineno">120</span><span class="comment" id="2546238">//&nbsp;It&nbsp;implements&nbsp;the&nbsp;os.Signal&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="2546280">type</span>&nbsp;<span class="ident" id="2546285">Signal</span>&nbsp;<span class="builtintype" id="2546292">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2546297">func</span>&nbsp;<span class="op" id="2546302">(</span><span class="ident" id="2546303">s</span>&nbsp;<span class="ident" id="2546305"><a href="/gostd/syscall/syscall_unix.go.html#2546285">Signal</a></span><span class="op" id="2546311">)</span>&nbsp;<span class="ident" id="2546313">Signal</span><span class="op" id="2546319">(</span><span class="op" id="2546320">)</span>&nbsp;<span class="op" id="2546322">{</span><span class="op" id="2546323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="2546326">func</span>&nbsp;<span class="op" id="2546331">(</span><span class="ident" id="2546332">s</span>&nbsp;<span class="ident" id="2546334"><a href="/gostd/syscall/syscall_unix.go.html#2546285">Signal</a></span><span class="op" id="2546340">)</span>&nbsp;<span class="ident" id="2546342">String</span><span class="op" id="2546348">(</span><span class="op" id="2546349">)</span>&nbsp;<span class="builtintype" id="2546351">string</span>&nbsp;<span class="op" id="2546358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546361">if</span>&nbsp;<span class="num" id="2546364">0</span>&nbsp;<span class="op" id="2546366">&lt;=</span>&nbsp;<span class="ident" id="2546369"><a href="/gostd/syscall/syscall_unix.go.html#2546332">s</a></span>&nbsp;<span class="op" id="2546371">&amp;&amp;</span>&nbsp;<span class="builtintype" id="2546374">int</span><span class="op" id="2546377">(</span><span class="ident" id="2546378"><a href="/gostd/syscall/syscall_unix.go.html#2546332">s</a></span><span class="op" id="2546379">)</span>&nbsp;<span class="op" id="2546381">&lt;</span>&nbsp;<span class="builtinfunc" id="2546383">len</span><span class="op" id="2546386">(</span><span class="ident" id="2546387"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2609466">signals</a></span><span class="op" id="2546394">)</span>&nbsp;<span class="op" id="2546396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2546400">str</span>&nbsp;<span class="op" id="2546404">:=</span>&nbsp;<span class="ident" id="2546407"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2609466">signals</a></span><span class="op" id="2546414">[</span><span class="ident" id="2546415"><a href="/gostd/syscall/syscall_unix.go.html#2546332">s</a></span><span class="op" id="2546416">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546420">if</span>&nbsp;<span class="ident" id="2546423"><a href="/gostd/syscall/syscall_unix.go.html#2546400">str</a></span>&nbsp;<span class="op" id="2546427">!=</span>&nbsp;<span class="string" id="2546430">&#34;&#34;</span>&nbsp;<span class="op" id="2546433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546438">return</span>&nbsp;<span class="ident" id="2546445"><a href="/gostd/syscall/syscall_unix.go.html#2546400">str</a></span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2546451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2546454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546457">return</span>&nbsp;<span class="string" id="2546464">&#34;signal&nbsp;&#34;</span>&nbsp;<span class="op" id="2546474">+</span>&nbsp;<span class="ident" id="2546476"><a href="/gostd/syscall/str.go.html#2508324">itoa</a></span><span class="op" id="2546480">(</span><span class="builtintype" id="2546481">int</span><span class="op" id="2546484">(</span><span class="ident" id="2546485"><a href="/gostd/syscall/syscall_unix.go.html#2546332">s</a></span><span class="op" id="2546486">)</span><span class="op" id="2546487">)</span><br>
<span class="lineno"></span><span class="op" id="2546489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="2546492">func</span>&nbsp;<span class="ident" id="2546497">Read</span><span class="op" id="2546501">(</span><span class="ident" id="2546502">fd</span>&nbsp;<span class="builtintype" id="2546505">int</span><span class="op" id="2546508">,</span>&nbsp;<span class="ident" id="2546510">p</span>&nbsp;<span class="op" id="2546512">[</span><span class="op" id="2546513">]</span><span class="builtintype" id="2546514">byte</span><span class="op" id="2546518">)</span>&nbsp;<span class="op" id="2546520">(</span><span class="ident" id="2546521">n</span>&nbsp;<span class="builtintype" id="2546523">int</span><span class="op" id="2546526">,</span>&nbsp;<span class="ident" id="2546528">err</span>&nbsp;<span class="builtintype" id="2546532">error</span><span class="op" id="2546537">)</span>&nbsp;<span class="op" id="2546539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2546542"><a href="/gostd/syscall/syscall_unix.go.html#2546521">n</a></span><span class="op" id="2546543">,</span>&nbsp;<span class="ident" id="2546545"><a href="/gostd/syscall/syscall_unix.go.html#2546528">err</a></span>&nbsp;<span class="op" id="2546549">=</span>&nbsp;<span class="ident" id="2546551"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2629951">read</a></span><span class="op" id="2546555">(</span><span class="ident" id="2546556"><a href="/gostd/syscall/syscall_unix.go.html#2546502">fd</a></span><span class="op" id="2546558">,</span>&nbsp;<span class="ident" id="2546560"><a href="/gostd/syscall/syscall_unix.go.html#2546510">p</a></span><span class="op" id="2546561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546564">if</span>&nbsp;<span class="ident" id="2546567"><a href="/gostd/syscall/race0.go.html#2503882">raceenabled</a></span>&nbsp;<span class="op" id="2546579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546583">if</span>&nbsp;<span class="ident" id="2546586"><a href="/gostd/syscall/syscall_unix.go.html#2546521">n</a></span>&nbsp;<span class="op" id="2546588">&gt;</span>&nbsp;<span class="num" id="2546590">0</span>&nbsp;<span class="op" id="2546592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2546597"><a href="/gostd/syscall/race0.go.html#2504053">raceWriteRange</a></span><span class="op" id="2546611">(</span><span class="ident" id="2546612"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2546618">.</span><span class="ident" id="2546619">Pointer</span><span class="op" id="2546626">(</span><span class="op" id="2546627">&amp;</span><span class="ident" id="2546628"><a href="/gostd/syscall/syscall_unix.go.html#2546510">p</a></span><span class="op" id="2546629">[</span><span class="num" id="2546630">0</span><span class="op" id="2546631">]</span><span class="op" id="2546632">)</span><span class="op" id="2546633">,</span>&nbsp;<span class="ident" id="2546635"><a href="/gostd/syscall/syscall_unix.go.html#2546521">n</a></span><span class="op" id="2546636">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2546640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546644">if</span>&nbsp;<span class="ident" id="2546647"><a href="/gostd/syscall/syscall_unix.go.html#2546528">err</a></span>&nbsp;<span class="op" id="2546651">==</span>&nbsp;<span class="builtintype" id="2546654">nil</span>&nbsp;<span class="op" id="2546658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2546663"><a href="/gostd/syscall/race0.go.html#2503908">raceAcquire</a></span><span class="op" id="2546674">(</span><span class="ident" id="2546675"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2546681">.</span><span class="ident" id="2546682">Pointer</span><span class="op" id="2546689">(</span><span class="op" id="2546690">&amp;</span><span class="ident" id="2546691"><a href="/gostd/syscall/syscall_unix.go.html#2550486">ioSync</a></span><span class="op" id="2546697">)</span><span class="op" id="2546698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2546702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2546705">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546708">return</span><br>
<span class="lineno"></span><span class="op" id="2546715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2546718">func</span>&nbsp;<span class="ident" id="2546723">Write</span><span class="op" id="2546728">(</span><span class="ident" id="2546729">fd</span>&nbsp;<span class="builtintype" id="2546732">int</span><span class="op" id="2546735">,</span>&nbsp;<span class="ident" id="2546737">p</span>&nbsp;<span class="op" id="2546739">[</span><span class="op" id="2546740">]</span><span class="builtintype" id="2546741">byte</span><span class="op" id="2546745">)</span>&nbsp;<span class="op" id="2546747">(</span><span class="ident" id="2546748">n</span>&nbsp;<span class="builtintype" id="2546750">int</span><span class="op" id="2546753">,</span>&nbsp;<span class="ident" id="2546755">err</span>&nbsp;<span class="builtintype" id="2546759">error</span><span class="op" id="2546764">)</span>&nbsp;<span class="op" id="2546766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546769">if</span>&nbsp;<span class="ident" id="2546772"><a href="/gostd/syscall/race0.go.html#2503882">raceenabled</a></span>&nbsp;<span class="op" id="2546784">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2546788"><a href="/gostd/syscall/race0.go.html#2503951">raceReleaseMerge</a></span><span class="op" id="2546804">(</span><span class="ident" id="2546805"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2546811">.</span><span class="ident" id="2546812">Pointer</span><span class="op" id="2546819">(</span><span class="op" id="2546820">&amp;</span><span class="ident" id="2546821"><a href="/gostd/syscall/syscall_unix.go.html#2550486">ioSync</a></span><span class="op" id="2546827">)</span><span class="op" id="2546828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2546831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2546834"><a href="/gostd/syscall/syscall_unix.go.html#2546748">n</a></span><span class="op" id="2546835">,</span>&nbsp;<span class="ident" id="2546837"><a href="/gostd/syscall/syscall_unix.go.html#2546755">err</a></span>&nbsp;<span class="op" id="2546841">=</span>&nbsp;<span class="ident" id="2546843"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2638671">write</a></span><span class="op" id="2546848">(</span><span class="ident" id="2546849"><a href="/gostd/syscall/syscall_unix.go.html#2546729">fd</a></span><span class="op" id="2546851">,</span>&nbsp;<span class="ident" id="2546853"><a href="/gostd/syscall/syscall_unix.go.html#2546737">p</a></span><span class="op" id="2546854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546857">if</span>&nbsp;<span class="ident" id="2546860"><a href="/gostd/syscall/race0.go.html#2503882">raceenabled</a></span>&nbsp;<span class="op" id="2546872">&amp;&amp;</span>&nbsp;<span class="ident" id="2546875"><a href="/gostd/syscall/syscall_unix.go.html#2546748">n</a></span>&nbsp;<span class="op" id="2546877">&gt;</span>&nbsp;<span class="num" id="2546879">0</span>&nbsp;<span class="op" id="2546881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2546885"><a href="/gostd/syscall/race0.go.html#2503999">raceReadRange</a></span><span class="op" id="2546898">(</span><span class="ident" id="2546899"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2546905">.</span><span class="ident" id="2546906">Pointer</span><span class="op" id="2546913">(</span><span class="op" id="2546914">&amp;</span><span class="ident" id="2546915"><a href="/gostd/syscall/syscall_unix.go.html#2546737">p</a></span><span class="op" id="2546916">[</span><span class="num" id="2546917">0</span><span class="op" id="2546918">]</span><span class="op" id="2546919">)</span><span class="op" id="2546920">,</span>&nbsp;<span class="ident" id="2546922"><a href="/gostd/syscall/syscall_unix.go.html#2546748">n</a></span><span class="op" id="2546923">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2546926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2546929">return</span><br>
<span class="lineno"></span><span class="op" id="2546936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2546939">//&nbsp;For&nbsp;testing:&nbsp;clients&nbsp;can&nbsp;set&nbsp;this&nbsp;flag&nbsp;to&nbsp;force</span><br>
<span class="lineno">160</span><span class="comment" id="2546990">//&nbsp;creation&nbsp;of&nbsp;IPv6&nbsp;sockets&nbsp;to&nbsp;return&nbsp;EAFNOSUPPORT.</span><br>
<span class="lineno"></span><span class="keyword" id="2547042">var</span>&nbsp;<span class="ident" id="2547046">SocketDisableIPv6</span>&nbsp;<span class="builtintype" id="2547064">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2547070">type</span>&nbsp;<span class="ident" id="2547075">Sockaddr</span>&nbsp;<span class="keyword" id="2547084">interface</span>&nbsp;<span class="op" id="2547094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547097">sockaddr</span><span class="op" id="2547105">(</span><span class="op" id="2547106">)</span>&nbsp;<span class="op" id="2547108">(</span><span class="ident" id="2547109">ptr</span>&nbsp;<span class="ident" id="2547113"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2547119">.</span><span class="ident" id="2547120">Pointer</span><span class="op" id="2547127">,</span>&nbsp;<span class="builtinfunc" id="2547129">len</span>&nbsp;<span class="ident" id="2547133"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669075">_Socklen</a></span><span class="op" id="2547141">,</span>&nbsp;<span class="ident" id="2547143">err</span>&nbsp;<span class="builtintype" id="2547147">error</span><span class="op" id="2547152">)</span>&nbsp;<span class="comment" id="2547154">//&nbsp;lowercase;&nbsp;only&nbsp;we&nbsp;can&nbsp;define&nbsp;Sockaddrs</span><br>
<span class="lineno">165</span><span class="op" id="2547197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2547200">type</span>&nbsp;<span class="ident" id="2547205">SockaddrInet4</span>&nbsp;<span class="keyword" id="2547219">struct</span>&nbsp;<span class="op" id="2547226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547229">Port</span>&nbsp;<span class="builtintype" id="2547234">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547239">Addr</span>&nbsp;<span class="op" id="2547244">[</span><span class="num" id="2547245">4</span><span class="op" id="2547246">]</span><span class="builtintype" id="2547247">byte</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547253">raw</span>&nbsp;&nbsp;<span class="ident" id="2547258"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2668384">RawSockaddrInet4</a></span><br>
<span class="lineno"></span><span class="op" id="2547275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2547278">type</span>&nbsp;<span class="ident" id="2547283">SockaddrInet6</span>&nbsp;<span class="keyword" id="2547297">struct</span>&nbsp;<span class="op" id="2547304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547307">Port</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2547314">int</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547319">ZoneId</span>&nbsp;<span class="builtintype" id="2547326">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547334">Addr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2547341">[</span><span class="num" id="2547342">16</span><span class="op" id="2547344">]</span><span class="builtintype" id="2547345">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547351">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547358"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2668495">RawSockaddrInet6</a></span><br>
<span class="lineno"></span><span class="op" id="2547375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="2547378">type</span>&nbsp;<span class="ident" id="2547383">SockaddrUnix</span>&nbsp;<span class="keyword" id="2547396">struct</span>&nbsp;<span class="op" id="2547403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547406">Name</span>&nbsp;<span class="builtintype" id="2547411">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547419">raw</span>&nbsp;&nbsp;<span class="ident" id="2547424"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2668631">RawSockaddrUnix</a></span><br>
<span class="lineno"></span><span class="op" id="2547440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="2547443">func</span>&nbsp;<span class="ident" id="2547448">Bind</span><span class="op" id="2547452">(</span><span class="ident" id="2547453">fd</span>&nbsp;<span class="builtintype" id="2547456">int</span><span class="op" id="2547459">,</span>&nbsp;<span class="ident" id="2547461">sa</span>&nbsp;<span class="ident" id="2547464"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="2547472">)</span>&nbsp;<span class="op" id="2547474">(</span><span class="ident" id="2547475">err</span>&nbsp;<span class="builtintype" id="2547479">error</span><span class="op" id="2547484">)</span>&nbsp;<span class="op" id="2547486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547489">ptr</span><span class="op" id="2547492">,</span>&nbsp;<span class="ident" id="2547494">n</span><span class="op" id="2547495">,</span>&nbsp;<span class="ident" id="2547497"><a href="/gostd/syscall/syscall_unix.go.html#2547475">err</a></span>&nbsp;<span class="op" id="2547501">:=</span>&nbsp;<span class="ident" id="2547504"><a href="/gostd/syscall/syscall_unix.go.html#2547461">sa</a></span><span class="op" id="2547506">.</span><span class="ident" id="2547507"><a href="/gostd/syscall/syscall_unix.go.html#2547097">sockaddr</a></span><span class="op" id="2547515">(</span><span class="op" id="2547516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547519">if</span>&nbsp;<span class="ident" id="2547522"><a href="/gostd/syscall/syscall_unix.go.html#2547475">err</a></span>&nbsp;<span class="op" id="2547526">!=</span>&nbsp;<span class="builtintype" id="2547529">nil</span>&nbsp;<span class="op" id="2547533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547537">return</span>&nbsp;<span class="ident" id="2547544"><a href="/gostd/syscall/syscall_unix.go.html#2547475">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2547549">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547552">return</span>&nbsp;<span class="ident" id="2547559"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2651230">bind</a></span><span class="op" id="2547563">(</span><span class="ident" id="2547564"><a href="/gostd/syscall/syscall_unix.go.html#2547453">fd</a></span><span class="op" id="2547566">,</span>&nbsp;<span class="ident" id="2547568"><a href="/gostd/syscall/syscall_unix.go.html#2547489">ptr</a></span><span class="op" id="2547571">,</span>&nbsp;<span class="ident" id="2547573"><a href="/gostd/syscall/syscall_unix.go.html#2547494">n</a></span><span class="op" id="2547574">)</span><br>
<span class="lineno"></span><span class="op" id="2547576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2547579">func</span>&nbsp;<span class="ident" id="2547584">Connect</span><span class="op" id="2547591">(</span><span class="ident" id="2547592">fd</span>&nbsp;<span class="builtintype" id="2547595">int</span><span class="op" id="2547598">,</span>&nbsp;<span class="ident" id="2547600">sa</span>&nbsp;<span class="ident" id="2547603"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="2547611">)</span>&nbsp;<span class="op" id="2547613">(</span><span class="ident" id="2547614">err</span>&nbsp;<span class="builtintype" id="2547618">error</span><span class="op" id="2547623">)</span>&nbsp;<span class="op" id="2547625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2547628">ptr</span><span class="op" id="2547631">,</span>&nbsp;<span class="ident" id="2547633">n</span><span class="op" id="2547634">,</span>&nbsp;<span class="ident" id="2547636"><a href="/gostd/syscall/syscall_unix.go.html#2547614">err</a></span>&nbsp;<span class="op" id="2547640">:=</span>&nbsp;<span class="ident" id="2547643"><a href="/gostd/syscall/syscall_unix.go.html#2547600">sa</a></span><span class="op" id="2547645">.</span><span class="ident" id="2547646"><a href="/gostd/syscall/syscall_unix.go.html#2547097">sockaddr</a></span><span class="op" id="2547654">(</span><span class="op" id="2547655">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547658">if</span>&nbsp;<span class="ident" id="2547661"><a href="/gostd/syscall/syscall_unix.go.html#2547614">err</a></span>&nbsp;<span class="op" id="2547665">!=</span>&nbsp;<span class="builtintype" id="2547668">nil</span>&nbsp;<span class="op" id="2547672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547676">return</span>&nbsp;<span class="ident" id="2547683"><a href="/gostd/syscall/syscall_unix.go.html#2547614">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2547688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547691">return</span>&nbsp;<span class="ident" id="2547698"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2651481">connect</a></span><span class="op" id="2547705">(</span><span class="ident" id="2547706"><a href="/gostd/syscall/syscall_unix.go.html#2547592">fd</a></span><span class="op" id="2547708">,</span>&nbsp;<span class="ident" id="2547710"><a href="/gostd/syscall/syscall_unix.go.html#2547628">ptr</a></span><span class="op" id="2547713">,</span>&nbsp;<span class="ident" id="2547715"><a href="/gostd/syscall/syscall_unix.go.html#2547633">n</a></span><span class="op" id="2547716">)</span><br>
<span class="lineno"></span><span class="op" id="2547718">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="2547721">func</span>&nbsp;<span class="ident" id="2547726">Getpeername</span><span class="op" id="2547737">(</span><span class="ident" id="2547738">fd</span>&nbsp;<span class="builtintype" id="2547741">int</span><span class="op" id="2547744">)</span>&nbsp;<span class="op" id="2547746">(</span><span class="ident" id="2547747">sa</span>&nbsp;<span class="ident" id="2547750"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="2547758">,</span>&nbsp;<span class="ident" id="2547760">err</span>&nbsp;<span class="builtintype" id="2547764">error</span><span class="op" id="2547769">)</span>&nbsp;<span class="op" id="2547771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547774">var</span>&nbsp;<span class="ident" id="2547778">rsa</span>&nbsp;<span class="ident" id="2547782"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669010">RawSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547798">var</span>&nbsp;<span class="builtinfunc" id="2547802">len</span>&nbsp;<span class="ident" id="2547806"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669075">_Socklen</a></span>&nbsp;<span class="op" id="2547815">=</span>&nbsp;<span class="ident" id="2547817"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2670936">SizeofSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547836">if</span>&nbsp;<span class="ident" id="2547839"><a href="/gostd/syscall/syscall_unix.go.html#2547760">err</a></span>&nbsp;<span class="op" id="2547843">=</span>&nbsp;<span class="ident" id="2547845"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2653460">getpeername</a></span><span class="op" id="2547856">(</span><span class="ident" id="2547857"><a href="/gostd/syscall/syscall_unix.go.html#2547738">fd</a></span><span class="op" id="2547859">,</span>&nbsp;<span class="op" id="2547861">&amp;</span><span class="ident" id="2547862"><a href="/gostd/syscall/syscall_unix.go.html#2547778">rsa</a></span><span class="op" id="2547865">,</span>&nbsp;<span class="op" id="2547867">&amp;</span><span class="builtinfunc" id="2547868"><a href="/gostd/syscall/syscall_unix.go.html#2547802">len</a></span><span class="op" id="2547871">)</span><span class="op" id="2547872">;</span>&nbsp;<span class="ident" id="2547874"><a href="/gostd/syscall/syscall_unix.go.html#2547760">err</a></span>&nbsp;<span class="op" id="2547878">!=</span>&nbsp;<span class="builtintype" id="2547881">nil</span>&nbsp;<span class="op" id="2547885">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547889">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2547897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547900">return</span>&nbsp;<span class="ident" id="2547907"><a href="/gostd/syscall/syscall_linux.go.html#2519716">anyToSockaddr</a></span><span class="op" id="2547920">(</span><span class="op" id="2547921">&amp;</span><span class="ident" id="2547922"><a href="/gostd/syscall/syscall_unix.go.html#2547778">rsa</a></span><span class="op" id="2547925">)</span><br>
<span class="lineno"></span><span class="op" id="2547927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="2547930">func</span>&nbsp;<span class="ident" id="2547935">GetsockoptInt</span><span class="op" id="2547948">(</span><span class="ident" id="2547949">fd</span><span class="op" id="2547951">,</span>&nbsp;<span class="ident" id="2547953">level</span><span class="op" id="2547958">,</span>&nbsp;<span class="ident" id="2547960">opt</span>&nbsp;<span class="builtintype" id="2547964">int</span><span class="op" id="2547967">)</span>&nbsp;<span class="op" id="2547969">(</span><span class="ident" id="2547970">value</span>&nbsp;<span class="builtintype" id="2547976">int</span><span class="op" id="2547979">,</span>&nbsp;<span class="ident" id="2547981">err</span>&nbsp;<span class="builtintype" id="2547985">error</span><span class="op" id="2547990">)</span>&nbsp;<span class="op" id="2547992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2547995">var</span>&nbsp;<span class="ident" id="2547999">n</span>&nbsp;<span class="builtintype" id="2548001">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2548008">vallen</span>&nbsp;<span class="op" id="2548015">:=</span>&nbsp;<span class="ident" id="2548018"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669075">_Socklen</a></span><span class="op" id="2548026">(</span><span class="num" id="2548027">4</span><span class="op" id="2548028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2548031"><a href="/gostd/syscall/syscall_unix.go.html#2547981">err</a></span>&nbsp;<span class="op" id="2548035">=</span>&nbsp;<span class="ident" id="2548037"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652241">getsockopt</a></span><span class="op" id="2548047">(</span><span class="ident" id="2548048"><a href="/gostd/syscall/syscall_unix.go.html#2547949">fd</a></span><span class="op" id="2548050">,</span>&nbsp;<span class="ident" id="2548052"><a href="/gostd/syscall/syscall_unix.go.html#2547953">level</a></span><span class="op" id="2548057">,</span>&nbsp;<span class="ident" id="2548059"><a href="/gostd/syscall/syscall_unix.go.html#2547960">opt</a></span><span class="op" id="2548062">,</span>&nbsp;<span class="ident" id="2548064"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2548070">.</span><span class="ident" id="2548071">Pointer</span><span class="op" id="2548078">(</span><span class="op" id="2548079">&amp;</span><span class="ident" id="2548080"><a href="/gostd/syscall/syscall_unix.go.html#2547999">n</a></span><span class="op" id="2548081">)</span><span class="op" id="2548082">,</span>&nbsp;<span class="op" id="2548084">&amp;</span><span class="ident" id="2548085"><a href="/gostd/syscall/syscall_unix.go.html#2548008">vallen</a></span><span class="op" id="2548091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548094">return</span>&nbsp;<span class="builtintype" id="2548101">int</span><span class="op" id="2548104">(</span><span class="ident" id="2548105"><a href="/gostd/syscall/syscall_unix.go.html#2547999">n</a></span><span class="op" id="2548106">)</span><span class="op" id="2548107">,</span>&nbsp;<span class="ident" id="2548109"><a href="/gostd/syscall/syscall_unix.go.html#2547981">err</a></span><br>
<span class="lineno">215</span><span class="op" id="2548113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2548116">func</span>&nbsp;<span class="ident" id="2548121">Recvfrom</span><span class="op" id="2548129">(</span><span class="ident" id="2548130">fd</span>&nbsp;<span class="builtintype" id="2548133">int</span><span class="op" id="2548136">,</span>&nbsp;<span class="ident" id="2548138">p</span>&nbsp;<span class="op" id="2548140">[</span><span class="op" id="2548141">]</span><span class="builtintype" id="2548142">byte</span><span class="op" id="2548146">,</span>&nbsp;<span class="ident" id="2548148">flags</span>&nbsp;<span class="builtintype" id="2548154">int</span><span class="op" id="2548157">)</span>&nbsp;<span class="op" id="2548159">(</span><span class="ident" id="2548160">n</span>&nbsp;<span class="builtintype" id="2548162">int</span><span class="op" id="2548165">,</span>&nbsp;<span class="ident" id="2548167">from</span>&nbsp;<span class="ident" id="2548172"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="2548180">,</span>&nbsp;<span class="ident" id="2548182">err</span>&nbsp;<span class="builtintype" id="2548186">error</span><span class="op" id="2548191">)</span>&nbsp;<span class="op" id="2548193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548196">var</span>&nbsp;<span class="ident" id="2548200">rsa</span>&nbsp;<span class="ident" id="2548204"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669010">RawSockaddrAny</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548220">var</span>&nbsp;<span class="builtinfunc" id="2548224">len</span>&nbsp;<span class="ident" id="2548228"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669075">_Socklen</a></span>&nbsp;<span class="op" id="2548237">=</span>&nbsp;<span class="ident" id="2548239"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2670936">SizeofSockaddrAny</a></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548258">if</span>&nbsp;<span class="ident" id="2548261"><a href="/gostd/syscall/syscall_unix.go.html#2548160">n</a></span><span class="op" id="2548262">,</span>&nbsp;<span class="ident" id="2548264"><a href="/gostd/syscall/syscall_unix.go.html#2548182">err</a></span>&nbsp;<span class="op" id="2548268">=</span>&nbsp;<span class="ident" id="2548270"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2654064">recvfrom</a></span><span class="op" id="2548278">(</span><span class="ident" id="2548279"><a href="/gostd/syscall/syscall_unix.go.html#2548130">fd</a></span><span class="op" id="2548281">,</span>&nbsp;<span class="ident" id="2548283"><a href="/gostd/syscall/syscall_unix.go.html#2548138">p</a></span><span class="op" id="2548284">,</span>&nbsp;<span class="ident" id="2548286"><a href="/gostd/syscall/syscall_unix.go.html#2548148">flags</a></span><span class="op" id="2548291">,</span>&nbsp;<span class="op" id="2548293">&amp;</span><span class="ident" id="2548294"><a href="/gostd/syscall/syscall_unix.go.html#2548200">rsa</a></span><span class="op" id="2548297">,</span>&nbsp;<span class="op" id="2548299">&amp;</span><span class="builtinfunc" id="2548300"><a href="/gostd/syscall/syscall_unix.go.html#2548224">len</a></span><span class="op" id="2548303">)</span><span class="op" id="2548304">;</span>&nbsp;<span class="ident" id="2548306"><a href="/gostd/syscall/syscall_unix.go.html#2548182">err</a></span>&nbsp;<span class="op" id="2548310">!=</span>&nbsp;<span class="builtintype" id="2548313">nil</span>&nbsp;<span class="op" id="2548317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548321">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2548329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548332">if</span>&nbsp;<span class="ident" id="2548335"><a href="/gostd/syscall/syscall_unix.go.html#2548200">rsa</a></span><span class="op" id="2548338">.</span><span class="ident" id="2548339"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669035">Addr</a></span><span class="op" id="2548343">.</span><span class="ident" id="2548344"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2668971">Family</a></span>&nbsp;<span class="op" id="2548351">!=</span>&nbsp;<span class="ident" id="2548354"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2552218">AF_UNSPEC</a></span>&nbsp;<span class="op" id="2548364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2548368"><a href="/gostd/syscall/syscall_unix.go.html#2548167">from</a></span><span class="op" id="2548372">,</span>&nbsp;<span class="ident" id="2548374"><a href="/gostd/syscall/syscall_unix.go.html#2548182">err</a></span>&nbsp;<span class="op" id="2548378">=</span>&nbsp;<span class="ident" id="2548380"><a href="/gostd/syscall/syscall_linux.go.html#2519716">anyToSockaddr</a></span><span class="op" id="2548393">(</span><span class="op" id="2548394">&amp;</span><span class="ident" id="2548395"><a href="/gostd/syscall/syscall_unix.go.html#2548200">rsa</a></span><span class="op" id="2548398">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2548401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548404">return</span><br>
<span class="lineno"></span><span class="op" id="2548411">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2548414">func</span>&nbsp;<span class="ident" id="2548419">Sendto</span><span class="op" id="2548425">(</span><span class="ident" id="2548426">fd</span>&nbsp;<span class="builtintype" id="2548429">int</span><span class="op" id="2548432">,</span>&nbsp;<span class="ident" id="2548434">p</span>&nbsp;<span class="op" id="2548436">[</span><span class="op" id="2548437">]</span><span class="builtintype" id="2548438">byte</span><span class="op" id="2548442">,</span>&nbsp;<span class="ident" id="2548444">flags</span>&nbsp;<span class="builtintype" id="2548450">int</span><span class="op" id="2548453">,</span>&nbsp;<span class="ident" id="2548455">to</span>&nbsp;<span class="ident" id="2548458"><a href="/gostd/syscall/syscall_unix.go.html#2547075">Sockaddr</a></span><span class="op" id="2548466">)</span>&nbsp;<span class="op" id="2548468">(</span><span class="ident" id="2548469">err</span>&nbsp;<span class="builtintype" id="2548473">error</span><span class="op" id="2548478">)</span>&nbsp;<span class="op" id="2548480">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2548483">ptr</span><span class="op" id="2548486">,</span>&nbsp;<span class="ident" id="2548488">n</span><span class="op" id="2548489">,</span>&nbsp;<span class="ident" id="2548491"><a href="/gostd/syscall/syscall_unix.go.html#2548469">err</a></span>&nbsp;<span class="op" id="2548495">:=</span>&nbsp;<span class="ident" id="2548498"><a href="/gostd/syscall/syscall_unix.go.html#2548455">to</a></span><span class="op" id="2548500">.</span><span class="ident" id="2548501"><a href="/gostd/syscall/syscall_unix.go.html#2547097">sockaddr</a></span><span class="op" id="2548509">(</span><span class="op" id="2548510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548513">if</span>&nbsp;<span class="ident" id="2548516"><a href="/gostd/syscall/syscall_unix.go.html#2548469">err</a></span>&nbsp;<span class="op" id="2548520">!=</span>&nbsp;<span class="builtintype" id="2548523">nil</span>&nbsp;<span class="op" id="2548527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548531">return</span>&nbsp;<span class="ident" id="2548538"><a href="/gostd/syscall/syscall_unix.go.html#2548469">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2548543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548546">return</span>&nbsp;<span class="ident" id="2548553"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2654564">sendto</a></span><span class="op" id="2548559">(</span><span class="ident" id="2548560"><a href="/gostd/syscall/syscall_unix.go.html#2548426">fd</a></span><span class="op" id="2548562">,</span>&nbsp;<span class="ident" id="2548564"><a href="/gostd/syscall/syscall_unix.go.html#2548434">p</a></span><span class="op" id="2548565">,</span>&nbsp;<span class="ident" id="2548567"><a href="/gostd/syscall/syscall_unix.go.html#2548444">flags</a></span><span class="op" id="2548572">,</span>&nbsp;<span class="ident" id="2548574"><a href="/gostd/syscall/syscall_unix.go.html#2548483">ptr</a></span><span class="op" id="2548577">,</span>&nbsp;<span class="ident" id="2548579"><a href="/gostd/syscall/syscall_unix.go.html#2548488">n</a></span><span class="op" id="2548580">)</span><br>
<span class="lineno">235</span><span class="op" id="2548582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2548585">func</span>&nbsp;<span class="ident" id="2548590">SetsockoptByte</span><span class="op" id="2548604">(</span><span class="ident" id="2548605">fd</span><span class="op" id="2548607">,</span>&nbsp;<span class="ident" id="2548609">level</span><span class="op" id="2548614">,</span>&nbsp;<span class="ident" id="2548616">opt</span>&nbsp;<span class="builtintype" id="2548620">int</span><span class="op" id="2548623">,</span>&nbsp;<span class="ident" id="2548625">value</span>&nbsp;<span class="builtintype" id="2548631">byte</span><span class="op" id="2548635">)</span>&nbsp;<span class="op" id="2548637">(</span><span class="ident" id="2548638">err</span>&nbsp;<span class="builtintype" id="2548642">error</span><span class="op" id="2548647">)</span>&nbsp;<span class="op" id="2548649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548652">return</span>&nbsp;<span class="ident" id="2548659"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2548669">(</span><span class="ident" id="2548670"><a href="/gostd/syscall/syscall_unix.go.html#2548605">fd</a></span><span class="op" id="2548672">,</span>&nbsp;<span class="ident" id="2548674"><a href="/gostd/syscall/syscall_unix.go.html#2548609">level</a></span><span class="op" id="2548679">,</span>&nbsp;<span class="ident" id="2548681"><a href="/gostd/syscall/syscall_unix.go.html#2548616">opt</a></span><span class="op" id="2548684">,</span>&nbsp;<span class="ident" id="2548686"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2548692">.</span><span class="ident" id="2548693">Pointer</span><span class="op" id="2548700">(</span><span class="op" id="2548701">&amp;</span><span class="ident" id="2548702"><a href="/gostd/syscall/syscall_unix.go.html#2548625">value</a></span><span class="op" id="2548707">)</span><span class="op" id="2548708">,</span>&nbsp;<span class="num" id="2548710">1</span><span class="op" id="2548711">)</span><br>
<span class="lineno"></span><span class="op" id="2548713">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="2548716">func</span>&nbsp;<span class="ident" id="2548721">SetsockoptInt</span><span class="op" id="2548734">(</span><span class="ident" id="2548735">fd</span><span class="op" id="2548737">,</span>&nbsp;<span class="ident" id="2548739">level</span><span class="op" id="2548744">,</span>&nbsp;<span class="ident" id="2548746">opt</span>&nbsp;<span class="builtintype" id="2548750">int</span><span class="op" id="2548753">,</span>&nbsp;<span class="ident" id="2548755">value</span>&nbsp;<span class="builtintype" id="2548761">int</span><span class="op" id="2548764">)</span>&nbsp;<span class="op" id="2548766">(</span><span class="ident" id="2548767">err</span>&nbsp;<span class="builtintype" id="2548771">error</span><span class="op" id="2548776">)</span>&nbsp;<span class="op" id="2548778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548781">var</span>&nbsp;<span class="ident" id="2548785">n</span>&nbsp;<span class="op" id="2548787">=</span>&nbsp;<span class="builtintype" id="2548789">int32</span><span class="op" id="2548794">(</span><span class="ident" id="2548795"><a href="/gostd/syscall/syscall_unix.go.html#2548755">value</a></span><span class="op" id="2548800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548803">return</span>&nbsp;<span class="ident" id="2548810"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2548820">(</span><span class="ident" id="2548821"><a href="/gostd/syscall/syscall_unix.go.html#2548735">fd</a></span><span class="op" id="2548823">,</span>&nbsp;<span class="ident" id="2548825"><a href="/gostd/syscall/syscall_unix.go.html#2548739">level</a></span><span class="op" id="2548830">,</span>&nbsp;<span class="ident" id="2548832"><a href="/gostd/syscall/syscall_unix.go.html#2548746">opt</a></span><span class="op" id="2548835">,</span>&nbsp;<span class="ident" id="2548837"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2548843">.</span><span class="ident" id="2548844">Pointer</span><span class="op" id="2548851">(</span><span class="op" id="2548852">&amp;</span><span class="ident" id="2548853"><a href="/gostd/syscall/syscall_unix.go.html#2548785">n</a></span><span class="op" id="2548854">)</span><span class="op" id="2548855">,</span>&nbsp;<span class="num" id="2548857">4</span><span class="op" id="2548858">)</span><br>
<span class="lineno"></span><span class="op" id="2548860">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="2548863">func</span>&nbsp;<span class="ident" id="2548868">SetsockoptInet4Addr</span><span class="op" id="2548887">(</span><span class="ident" id="2548888">fd</span><span class="op" id="2548890">,</span>&nbsp;<span class="ident" id="2548892">level</span><span class="op" id="2548897">,</span>&nbsp;<span class="ident" id="2548899">opt</span>&nbsp;<span class="builtintype" id="2548903">int</span><span class="op" id="2548906">,</span>&nbsp;<span class="ident" id="2548908">value</span>&nbsp;<span class="op" id="2548914">[</span><span class="num" id="2548915">4</span><span class="op" id="2548916">]</span><span class="builtintype" id="2548917">byte</span><span class="op" id="2548921">)</span>&nbsp;<span class="op" id="2548923">(</span><span class="ident" id="2548924">err</span>&nbsp;<span class="builtintype" id="2548928">error</span><span class="op" id="2548933">)</span>&nbsp;<span class="op" id="2548935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2548938">return</span>&nbsp;<span class="ident" id="2548945"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2548955">(</span><span class="ident" id="2548956"><a href="/gostd/syscall/syscall_unix.go.html#2548888">fd</a></span><span class="op" id="2548958">,</span>&nbsp;<span class="ident" id="2548960"><a href="/gostd/syscall/syscall_unix.go.html#2548892">level</a></span><span class="op" id="2548965">,</span>&nbsp;<span class="ident" id="2548967"><a href="/gostd/syscall/syscall_unix.go.html#2548899">opt</a></span><span class="op" id="2548970">,</span>&nbsp;<span class="ident" id="2548972"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2548978">.</span><span class="ident" id="2548979">Pointer</span><span class="op" id="2548986">(</span><span class="op" id="2548987">&amp;</span><span class="ident" id="2548988"><a href="/gostd/syscall/syscall_unix.go.html#2548908">value</a></span><span class="op" id="2548993">[</span><span class="num" id="2548994">0</span><span class="op" id="2548995">]</span><span class="op" id="2548996">)</span><span class="op" id="2548997">,</span>&nbsp;<span class="num" id="2548999">4</span><span class="op" id="2549000">)</span><br>
<span class="lineno"></span><span class="op" id="2549002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="2549005">func</span>&nbsp;<span class="ident" id="2549010">SetsockoptIPMreq</span><span class="op" id="2549026">(</span><span class="ident" id="2549027">fd</span><span class="op" id="2549029">,</span>&nbsp;<span class="ident" id="2549031">level</span><span class="op" id="2549036">,</span>&nbsp;<span class="ident" id="2549038">opt</span>&nbsp;<span class="builtintype" id="2549042">int</span><span class="op" id="2549045">,</span>&nbsp;<span class="ident" id="2549047">mreq</span>&nbsp;<span class="op" id="2549052">*</span><span class="ident" id="2549053"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669197">IPMreq</a></span><span class="op" id="2549059">)</span>&nbsp;<span class="op" id="2549061">(</span><span class="ident" id="2549062">err</span>&nbsp;<span class="builtintype" id="2549066">error</span><span class="op" id="2549071">)</span>&nbsp;<span class="op" id="2549073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2549076">return</span>&nbsp;<span class="ident" id="2549083"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2549093">(</span><span class="ident" id="2549094"><a href="/gostd/syscall/syscall_unix.go.html#2549027">fd</a></span><span class="op" id="2549096">,</span>&nbsp;<span class="ident" id="2549098"><a href="/gostd/syscall/syscall_unix.go.html#2549031">level</a></span><span class="op" id="2549103">,</span>&nbsp;<span class="ident" id="2549105"><a href="/gostd/syscall/syscall_unix.go.html#2549038">opt</a></span><span class="op" id="2549108">,</span>&nbsp;<span class="ident" id="2549110"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2549116">.</span><span class="ident" id="2549117">Pointer</span><span class="op" id="2549124">(</span><span class="ident" id="2549125"><a href="/gostd/syscall/syscall_unix.go.html#2549047">mreq</a></span><span class="op" id="2549129">)</span><span class="op" id="2549130">,</span>&nbsp;<span class="ident" id="2549132"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2671094">SizeofIPMreq</a></span><span class="op" id="2549144">)</span><br>
<span class="lineno"></span><span class="op" id="2549146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2549149">func</span>&nbsp;<span class="ident" id="2549154">SetsockoptIPv6Mreq</span><span class="op" id="2549172">(</span><span class="ident" id="2549173">fd</span><span class="op" id="2549175">,</span>&nbsp;<span class="ident" id="2549177">level</span><span class="op" id="2549182">,</span>&nbsp;<span class="ident" id="2549184">opt</span>&nbsp;<span class="builtintype" id="2549188">int</span><span class="op" id="2549191">,</span>&nbsp;<span class="ident" id="2549193">mreq</span>&nbsp;<span class="op" id="2549198">*</span><span class="ident" id="2549199"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669395">IPv6Mreq</a></span><span class="op" id="2549207">)</span>&nbsp;<span class="op" id="2549209">(</span><span class="ident" id="2549210">err</span>&nbsp;<span class="builtintype" id="2549214">error</span><span class="op" id="2549219">)</span>&nbsp;<span class="op" id="2549221">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2549224">return</span>&nbsp;<span class="ident" id="2549231"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2549241">(</span><span class="ident" id="2549242"><a href="/gostd/syscall/syscall_unix.go.html#2549173">fd</a></span><span class="op" id="2549244">,</span>&nbsp;<span class="ident" id="2549246"><a href="/gostd/syscall/syscall_unix.go.html#2549177">level</a></span><span class="op" id="2549251">,</span>&nbsp;<span class="ident" id="2549253"><a href="/gostd/syscall/syscall_unix.go.html#2549184">opt</a></span><span class="op" id="2549256">,</span>&nbsp;<span class="ident" id="2549258"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2549264">.</span><span class="ident" id="2549265">Pointer</span><span class="op" id="2549272">(</span><span class="ident" id="2549273"><a href="/gostd/syscall/syscall_unix.go.html#2549193">mreq</a></span><span class="op" id="2549277">)</span><span class="op" id="2549278">,</span>&nbsp;<span class="ident" id="2549280"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2671156">SizeofIPv6Mreq</a></span><span class="op" id="2549294">)</span><br>
<span class="lineno"></span><span class="op" id="2549296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2549299">func</span>&nbsp;<span class="ident" id="2549304">SetsockoptICMPv6Filter</span><span class="op" id="2549326">(</span><span class="ident" id="2549327">fd</span><span class="op" id="2549329">,</span>&nbsp;<span class="ident" id="2549331">level</span><span class="op" id="2549336">,</span>&nbsp;<span class="ident" id="2549338">opt</span>&nbsp;<span class="builtintype" id="2549342">int</span><span class="op" id="2549345">,</span>&nbsp;<span class="ident" id="2549347">filter</span>&nbsp;<span class="op" id="2549354">*</span><span class="ident" id="2549355"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2670031">ICMPv6Filter</a></span><span class="op" id="2549367">)</span>&nbsp;<span class="builtintype" id="2549369">error</span>&nbsp;<span class="op" id="2549375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2549378">return</span>&nbsp;<span class="ident" id="2549385"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2549395">(</span><span class="ident" id="2549396"><a href="/gostd/syscall/syscall_unix.go.html#2549327">fd</a></span><span class="op" id="2549398">,</span>&nbsp;<span class="ident" id="2549400"><a href="/gostd/syscall/syscall_unix.go.html#2549331">level</a></span><span class="op" id="2549405">,</span>&nbsp;<span class="ident" id="2549407"><a href="/gostd/syscall/syscall_unix.go.html#2549338">opt</a></span><span class="op" id="2549410">,</span>&nbsp;<span class="ident" id="2549412"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2549418">.</span><span class="ident" id="2549419">Pointer</span><span class="op" id="2549426">(</span><span class="ident" id="2549427"><a href="/gostd/syscall/syscall_unix.go.html#2549347">filter</a></span><span class="op" id="2549433">)</span><span class="op" id="2549434">,</span>&nbsp;<span class="ident" id="2549436"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2671347">SizeofICMPv6Filter</a></span><span class="op" id="2549454">)</span><br>
<span class="lineno">260</span><span class="op" id="2549456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2549459">func</span>&nbsp;<span class="ident" id="2549464">SetsockoptLinger</span><span class="op" id="2549480">(</span><span class="ident" id="2549481">fd</span><span class="op" id="2549483">,</span>&nbsp;<span class="ident" id="2549485">level</span><span class="op" id="2549490">,</span>&nbsp;<span class="ident" id="2549492">opt</span>&nbsp;<span class="builtintype" id="2549496">int</span><span class="op" id="2549499">,</span>&nbsp;<span class="ident" id="2549501">l</span>&nbsp;<span class="op" id="2549503">*</span><span class="ident" id="2549504"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2669097">Linger</a></span><span class="op" id="2549510">)</span>&nbsp;<span class="op" id="2549512">(</span><span class="ident" id="2549513">err</span>&nbsp;<span class="builtintype" id="2549517">error</span><span class="op" id="2549522">)</span>&nbsp;<span class="op" id="2549524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2549527">return</span>&nbsp;<span class="ident" id="2549534"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2549544">(</span><span class="ident" id="2549545"><a href="/gostd/syscall/syscall_unix.go.html#2549481">fd</a></span><span class="op" id="2549547">,</span>&nbsp;<span class="ident" id="2549549"><a href="/gostd/syscall/syscall_unix.go.html#2549485">level</a></span><span class="op" id="2549554">,</span>&nbsp;<span class="ident" id="2549556"><a href="/gostd/syscall/syscall_unix.go.html#2549492">opt</a></span><span class="op" id="2549559">,</span>&nbsp;<span class="ident" id="2549561"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2549567">.</span><span class="ident" id="2549568">Pointer</span><span class="op" id="2549575">(</span><span class="ident" id="2549576"><a href="/gostd/syscall/syscall_unix.go.html#2549501">l</a></span><span class="op" id="2549577">)</span><span class="op" id="2549578">,</span>&nbsp;<span class="ident" id="2549580"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2671063">SizeofLinger</a></span><span class="op" id="2549592">)</span><br>
<span class="lineno"></span><span class="op" id="2549594">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="2549597">func</span>&nbsp;<span class="ident" id="2549602">SetsockoptString</span><span class="op" id="2549618">(</span><span class="ident" id="2549619">fd</span><span class="op" id="2549621">,</span>&nbsp;<span class="ident" id="2549623">level</span><span class="op" id="2549628">,</span>&nbsp;<span class="ident" id="2549630">opt</span>&nbsp;<span class="builtintype" id="2549634">int</span><span class="op" id="2549637">,</span>&nbsp;<span class="ident" id="2549639">s</span>&nbsp;<span class="builtintype" id="2549641">string</span><span class="op" id="2549647">)</span>&nbsp;<span class="op" id="2549649">(</span><span class="ident" id="2549650">err</span>&nbsp;<span class="builtintype" id="2549654">error</span><span class="op" id="2549659">)</span>&nbsp;<span class="op" id="2549661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2549664">return</span>&nbsp;<span class="ident" id="2549671"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2549681">(</span><span class="ident" id="2549682"><a href="/gostd/syscall/syscall_unix.go.html#2549619">fd</a></span><span class="op" id="2549684">,</span>&nbsp;<span class="ident" id="2549686"><a href="/gostd/syscall/syscall_unix.go.html#2549623">level</a></span><span class="op" id="2549691">,</span>&nbsp;<span class="ident" id="2549693"><a href="/gostd/syscall/syscall_unix.go.html#2549630">opt</a></span><span class="op" id="2549696">,</span>&nbsp;<span class="ident" id="2549698"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2549704">.</span><span class="ident" id="2549705">Pointer</span><span class="op" id="2549712">(</span><span class="op" id="2549713">&amp;</span><span class="op" id="2549714">[</span><span class="op" id="2549715">]</span><span class="builtintype" id="2549716">byte</span><span class="op" id="2549720">(</span><span class="ident" id="2549721"><a href="/gostd/syscall/syscall_unix.go.html#2549639">s</a></span><span class="op" id="2549722">)</span><span class="op" id="2549723">[</span><span class="num" id="2549724">0</span><span class="op" id="2549725">]</span><span class="op" id="2549726">)</span><span class="op" id="2549727">,</span>&nbsp;<span class="builtintype" id="2549729">uintptr</span><span class="op" id="2549736">(</span><span class="builtinfunc" id="2549737">len</span><span class="op" id="2549740">(</span><span class="ident" id="2549741"><a href="/gostd/syscall/syscall_unix.go.html#2549639">s</a></span><span class="op" id="2549742">)</span><span class="op" id="2549743">)</span><span class="op" id="2549744">)</span><br>
<span class="lineno"></span><span class="op" id="2549746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="2549749">func</span>&nbsp;<span class="ident" id="2549754">SetsockoptTimeval</span><span class="op" id="2549771">(</span><span class="ident" id="2549772">fd</span><span class="op" id="2549774">,</span>&nbsp;<span class="ident" id="2549776">level</span><span class="op" id="2549781">,</span>&nbsp;<span class="ident" id="2549783">opt</span>&nbsp;<span class="builtintype" id="2549787">int</span><span class="op" id="2549790">,</span>&nbsp;<span class="ident" id="2549792">tv</span>&nbsp;<span class="op" id="2549795">*</span><span class="ident" id="2549796"><a href="/gostd/syscall/ztypes_linux_amd64.go.html#2666557">Timeval</a></span><span class="op" id="2549803">)</span>&nbsp;<span class="op" id="2549805">(</span><span class="ident" id="2549806">err</span>&nbsp;<span class="builtintype" id="2549810">error</span><span class="op" id="2549815">)</span>&nbsp;<span class="op" id="2549817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2549820">return</span>&nbsp;<span class="ident" id="2549827"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652573">setsockopt</a></span><span class="op" id="2549837">(</span><span class="ident" id="2549838"><a href="/gostd/syscall/syscall_unix.go.html#2549772">fd</a></span><span class="op" id="2549840">,</span>&nbsp;<span class="ident" id="2549842"><a href="/gostd/syscall/syscall_unix.go.html#2549776">level</a></span><span class="op" id="2549847">,</span>&nbsp;<span class="ident" id="2549849"><a href="/gostd/syscall/syscall_unix.go.html#2549783">opt</a></span><span class="op" id="2549852">,</span>&nbsp;<span class="ident" id="2549854"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2549860">.</span><span class="ident" id="2549861">Pointer</span><span class="op" id="2549868">(</span><span class="ident" id="2549869"><a href="/gostd/syscall/syscall_unix.go.html#2549792">tv</a></span><span class="op" id="2549871">)</span><span class="op" id="2549872">,</span>&nbsp;<span class="ident" id="2549874"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2549880">.</span><span class="ident" id="2549881">Sizeof</span><span class="op" id="2549887">(</span><span class="op" id="2549888">*</span><span class="ident" id="2549889"><a href="/gostd/syscall/syscall_unix.go.html#2549792">tv</a></span><span class="op" id="2549891">)</span><span class="op" id="2549892">)</span><br>
<span class="lineno"></span><span class="op" id="2549894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2549897">func</span>&nbsp;<span class="ident" id="2549902">Socket</span><span class="op" id="2549908">(</span><span class="ident" id="2549909">domain</span><span class="op" id="2549915">,</span>&nbsp;<span class="ident" id="2549917">typ</span><span class="op" id="2549920">,</span>&nbsp;<span class="ident" id="2549922">proto</span>&nbsp;<span class="builtintype" id="2549928">int</span><span class="op" id="2549931">)</span>&nbsp;<span class="op" id="2549933">(</span><span class="ident" id="2549934">fd</span>&nbsp;<span class="builtintype" id="2549937">int</span><span class="op" id="2549940">,</span>&nbsp;<span class="ident" id="2549942">err</span>&nbsp;<span class="builtintype" id="2549946">error</span><span class="op" id="2549951">)</span>&nbsp;<span class="op" id="2549953">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2549956">if</span>&nbsp;<span class="ident" id="2549959"><a href="/gostd/syscall/syscall_unix.go.html#2549909">domain</a></span>&nbsp;<span class="op" id="2549966">==</span>&nbsp;<span class="ident" id="2549969"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2551284">AF_INET6</a></span>&nbsp;<span class="op" id="2549978">&amp;&amp;</span>&nbsp;<span class="ident" id="2549981"><a href="/gostd/syscall/syscall_unix.go.html#2547046">SocketDisableIPv6</a></span>&nbsp;<span class="op" id="2549999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2550003">return</span>&nbsp;<span class="op" id="2550010">-</span><span class="num" id="2550011">1</span><span class="op" id="2550012">,</span>&nbsp;<span class="ident" id="2550014"><a href="/gostd/syscall/zerrors_linux_amd64.go.html#2600282">EAFNOSUPPORT</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2550028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2550031"><a href="/gostd/syscall/syscall_unix.go.html#2549934">fd</a></span><span class="op" id="2550033">,</span>&nbsp;<span class="ident" id="2550035"><a href="/gostd/syscall/syscall_unix.go.html#2549942">err</a></span>&nbsp;<span class="op" id="2550039">=</span>&nbsp;<span class="ident" id="2550041"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2652887">socket</a></span><span class="op" id="2550047">(</span><span class="ident" id="2550048"><a href="/gostd/syscall/syscall_unix.go.html#2549909">domain</a></span><span class="op" id="2550054">,</span>&nbsp;<span class="ident" id="2550056"><a href="/gostd/syscall/syscall_unix.go.html#2549917">typ</a></span><span class="op" id="2550059">,</span>&nbsp;<span class="ident" id="2550061"><a href="/gostd/syscall/syscall_unix.go.html#2549922">proto</a></span><span class="op" id="2550066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2550069">return</span><br>
<span class="lineno">280</span><span class="op" id="2550076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2550079">func</span>&nbsp;<span class="ident" id="2550084">Socketpair</span><span class="op" id="2550094">(</span><span class="ident" id="2550095">domain</span><span class="op" id="2550101">,</span>&nbsp;<span class="ident" id="2550103">typ</span><span class="op" id="2550106">,</span>&nbsp;<span class="ident" id="2550108">proto</span>&nbsp;<span class="builtintype" id="2550114">int</span><span class="op" id="2550117">)</span>&nbsp;<span class="op" id="2550119">(</span><span class="ident" id="2550120">fd</span>&nbsp;<span class="op" id="2550123">[</span><span class="num" id="2550124">2</span><span class="op" id="2550125">]</span><span class="builtintype" id="2550126">int</span><span class="op" id="2550129">,</span>&nbsp;<span class="ident" id="2550131">err</span>&nbsp;<span class="builtintype" id="2550135">error</span><span class="op" id="2550140">)</span>&nbsp;<span class="op" id="2550142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2550145">var</span>&nbsp;<span class="ident" id="2550149">fdx</span>&nbsp;<span class="op" id="2550153">[</span><span class="num" id="2550154">2</span><span class="op" id="2550155">]</span><span class="builtintype" id="2550156">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2550163"><a href="/gostd/syscall/syscall_unix.go.html#2550131">err</a></span>&nbsp;<span class="op" id="2550167">=</span>&nbsp;<span class="ident" id="2550169"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2653156">socketpair</a></span><span class="op" id="2550179">(</span><span class="ident" id="2550180"><a href="/gostd/syscall/syscall_unix.go.html#2550095">domain</a></span><span class="op" id="2550186">,</span>&nbsp;<span class="ident" id="2550188"><a href="/gostd/syscall/syscall_unix.go.html#2550103">typ</a></span><span class="op" id="2550191">,</span>&nbsp;<span class="ident" id="2550193"><a href="/gostd/syscall/syscall_unix.go.html#2550108">proto</a></span><span class="op" id="2550198">,</span>&nbsp;<span class="op" id="2550200">&amp;</span><span class="ident" id="2550201"><a href="/gostd/syscall/syscall_unix.go.html#2550149">fdx</a></span><span class="op" id="2550204">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2550207">if</span>&nbsp;<span class="ident" id="2550210"><a href="/gostd/syscall/syscall_unix.go.html#2550131">err</a></span>&nbsp;<span class="op" id="2550214">==</span>&nbsp;<span class="builtintype" id="2550217">nil</span>&nbsp;<span class="op" id="2550221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2550225"><a href="/gostd/syscall/syscall_unix.go.html#2550120">fd</a></span><span class="op" id="2550227">[</span><span class="num" id="2550228">0</span><span class="op" id="2550229">]</span>&nbsp;<span class="op" id="2550231">=</span>&nbsp;<span class="builtintype" id="2550233">int</span><span class="op" id="2550236">(</span><span class="ident" id="2550237"><a href="/gostd/syscall/syscall_unix.go.html#2550149">fdx</a></span><span class="op" id="2550240">[</span><span class="num" id="2550241">0</span><span class="op" id="2550242">]</span><span class="op" id="2550243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2550247"><a href="/gostd/syscall/syscall_unix.go.html#2550120">fd</a></span><span class="op" id="2550249">[</span><span class="num" id="2550250">1</span><span class="op" id="2550251">]</span>&nbsp;<span class="op" id="2550253">=</span>&nbsp;<span class="builtintype" id="2550255">int</span><span class="op" id="2550258">(</span><span class="ident" id="2550259"><a href="/gostd/syscall/syscall_unix.go.html#2550149">fdx</a></span><span class="op" id="2550262">[</span><span class="num" id="2550263">1</span><span class="op" id="2550264">]</span><span class="op" id="2550265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2550268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2550271">return</span><br>
<span class="lineno">290</span><span class="op" id="2550278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2550281">func</span>&nbsp;<span class="ident" id="2550286">Sendfile</span><span class="op" id="2550294">(</span><span class="ident" id="2550295">outfd</span>&nbsp;<span class="builtintype" id="2550301">int</span><span class="op" id="2550304">,</span>&nbsp;<span class="ident" id="2550306">infd</span>&nbsp;<span class="builtintype" id="2550311">int</span><span class="op" id="2550314">,</span>&nbsp;<span class="ident" id="2550316">offset</span>&nbsp;<span class="op" id="2550323">*</span><span class="builtintype" id="2550324">int64</span><span class="op" id="2550329">,</span>&nbsp;<span class="ident" id="2550331">count</span>&nbsp;<span class="builtintype" id="2550337">int</span><span class="op" id="2550340">)</span>&nbsp;<span class="op" id="2550342">(</span><span class="ident" id="2550343">written</span>&nbsp;<span class="builtintype" id="2550351">int</span><span class="op" id="2550354">,</span>&nbsp;<span class="ident" id="2550356">err</span>&nbsp;<span class="builtintype" id="2550360">error</span><span class="op" id="2550365">)</span>&nbsp;<span class="op" id="2550367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2550370">if</span>&nbsp;<span class="ident" id="2550373"><a href="/gostd/syscall/race0.go.html#2503882">raceenabled</a></span>&nbsp;<span class="op" id="2550385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2550389"><a href="/gostd/syscall/race0.go.html#2503951">raceReleaseMerge</a></span><span class="op" id="2550405">(</span><span class="ident" id="2550406"><a href="/gostd/syscall/syscall_unix.go.html#2543603">unsafe</a></span><span class="op" id="2550412">.</span><span class="ident" id="2550413">Pointer</span><span class="op" id="2550420">(</span><span class="op" id="2550421">&amp;</span><span class="ident" id="2550422"><a href="/gostd/syscall/syscall_unix.go.html#2550486">ioSync</a></span><span class="op" id="2550428">)</span><span class="op" id="2550429">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2550432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2550435">return</span>&nbsp;<span class="ident" id="2550442"><a href="/gostd/syscall/zsyscall_linux_amd64.go.html#2646708">sendfile</a></span><span class="op" id="2550450">(</span><span class="ident" id="2550451"><a href="/gostd/syscall/syscall_unix.go.html#2550295">outfd</a></span><span class="op" id="2550456">,</span>&nbsp;<span class="ident" id="2550458"><a href="/gostd/syscall/syscall_unix.go.html#2550306">infd</a></span><span class="op" id="2550462">,</span>&nbsp;<span class="ident" id="2550464"><a href="/gostd/syscall/syscall_unix.go.html#2550316">offset</a></span><span class="op" id="2550470">,</span>&nbsp;<span class="ident" id="2550472"><a href="/gostd/syscall/syscall_unix.go.html#2550331">count</a></span><span class="op" id="2550477">)</span><br>
<span class="lineno"></span><span class="op" id="2550479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2550482">var</span>&nbsp;<span class="ident" id="2550486">ioSync</span>&nbsp;<span class="builtintype" id="2550493">int64</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
