<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6508943">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6508998">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6509052">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6509103">package</span>&nbsp;<span class="ident" id="6509111">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6509117">import</span>&nbsp;<span class="op" id="6509124">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6509127">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6509138">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6509148">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6509151">type</span>&nbsp;<span class="ident" id="6509156">PathTest</span>&nbsp;<span class="keyword" id="6509165">struct</span>&nbsp;<span class="op" id="6509172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6509175">path</span><span class="op" id="6509179">,</span>&nbsp;<span class="ident" id="6509181">result</span>&nbsp;<span class="builtintype" id="6509188">string</span><br>
<span class="lineno"></span><span class="op" id="6509195">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6509198">var</span>&nbsp;<span class="ident" id="6509202">cleantests</span>&nbsp;<span class="op" id="6509213">=</span>&nbsp;<span class="op" id="6509215">[</span><span class="op" id="6509216">]</span><span class="ident" id="6509217">PathTest</span><span class="op" id="6509225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6509228">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509246">{</span><span class="string" id="6509247">&#34;&#34;</span><span class="op" id="6509249">,</span>&nbsp;<span class="string" id="6509251">&#34;.&#34;</span><span class="op" id="6509254">}</span><span class="op" id="6509255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509258">{</span><span class="string" id="6509259">&#34;abc&#34;</span><span class="op" id="6509264">,</span>&nbsp;<span class="string" id="6509266">&#34;abc&#34;</span><span class="op" id="6509271">}</span><span class="op" id="6509272">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509275">{</span><span class="string" id="6509276">&#34;abc/def&#34;</span><span class="op" id="6509285">,</span>&nbsp;<span class="string" id="6509287">&#34;abc/def&#34;</span><span class="op" id="6509296">}</span><span class="op" id="6509297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509300">{</span><span class="string" id="6509301">&#34;a/b/c&#34;</span><span class="op" id="6509308">,</span>&nbsp;<span class="string" id="6509310">&#34;a/b/c&#34;</span><span class="op" id="6509317">}</span><span class="op" id="6509318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509321">{</span><span class="string" id="6509322">&#34;.&#34;</span><span class="op" id="6509325">,</span>&nbsp;<span class="string" id="6509327">&#34;.&#34;</span><span class="op" id="6509330">}</span><span class="op" id="6509331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509334">{</span><span class="string" id="6509335">&#34;..&#34;</span><span class="op" id="6509339">,</span>&nbsp;<span class="string" id="6509341">&#34;..&#34;</span><span class="op" id="6509345">}</span><span class="op" id="6509346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509349">{</span><span class="string" id="6509350">&#34;../..&#34;</span><span class="op" id="6509357">,</span>&nbsp;<span class="string" id="6509359">&#34;../..&#34;</span><span class="op" id="6509366">}</span><span class="op" id="6509367">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509370">{</span><span class="string" id="6509371">&#34;../../abc&#34;</span><span class="op" id="6509382">,</span>&nbsp;<span class="string" id="6509384">&#34;../../abc&#34;</span><span class="op" id="6509395">}</span><span class="op" id="6509396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509399">{</span><span class="string" id="6509400">&#34;/abc&#34;</span><span class="op" id="6509406">,</span>&nbsp;<span class="string" id="6509408">&#34;/abc&#34;</span><span class="op" id="6509414">}</span><span class="op" id="6509415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509418">{</span><span class="string" id="6509419">&#34;/&#34;</span><span class="op" id="6509422">,</span>&nbsp;<span class="string" id="6509424">&#34;/&#34;</span><span class="op" id="6509427">}</span><span class="op" id="6509428">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6509432">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509458">{</span><span class="string" id="6509459">&#34;abc/&#34;</span><span class="op" id="6509465">,</span>&nbsp;<span class="string" id="6509467">&#34;abc&#34;</span><span class="op" id="6509472">}</span><span class="op" id="6509473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509476">{</span><span class="string" id="6509477">&#34;abc/def/&#34;</span><span class="op" id="6509487">,</span>&nbsp;<span class="string" id="6509489">&#34;abc/def&#34;</span><span class="op" id="6509498">}</span><span class="op" id="6509499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509502">{</span><span class="string" id="6509503">&#34;a/b/c/&#34;</span><span class="op" id="6509511">,</span>&nbsp;<span class="string" id="6509513">&#34;a/b/c&#34;</span><span class="op" id="6509520">}</span><span class="op" id="6509521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509524">{</span><span class="string" id="6509525">&#34;./&#34;</span><span class="op" id="6509529">,</span>&nbsp;<span class="string" id="6509531">&#34;.&#34;</span><span class="op" id="6509534">}</span><span class="op" id="6509535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509538">{</span><span class="string" id="6509539">&#34;../&#34;</span><span class="op" id="6509544">,</span>&nbsp;<span class="string" id="6509546">&#34;..&#34;</span><span class="op" id="6509550">}</span><span class="op" id="6509551">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509554">{</span><span class="string" id="6509555">&#34;../../&#34;</span><span class="op" id="6509563">,</span>&nbsp;<span class="string" id="6509565">&#34;../..&#34;</span><span class="op" id="6509572">}</span><span class="op" id="6509573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509576">{</span><span class="string" id="6509577">&#34;/abc/&#34;</span><span class="op" id="6509584">,</span>&nbsp;<span class="string" id="6509586">&#34;/abc&#34;</span><span class="op" id="6509592">}</span><span class="op" id="6509593">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6509597">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509622">{</span><span class="string" id="6509623">&#34;abc//def//ghi&#34;</span><span class="op" id="6509638">,</span>&nbsp;<span class="string" id="6509640">&#34;abc/def/ghi&#34;</span><span class="op" id="6509653">}</span><span class="op" id="6509654">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509657">{</span><span class="string" id="6509658">&#34;//abc&#34;</span><span class="op" id="6509665">,</span>&nbsp;<span class="string" id="6509667">&#34;/abc&#34;</span><span class="op" id="6509673">}</span><span class="op" id="6509674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509677">{</span><span class="string" id="6509678">&#34;///abc&#34;</span><span class="op" id="6509686">,</span>&nbsp;<span class="string" id="6509688">&#34;/abc&#34;</span><span class="op" id="6509694">}</span><span class="op" id="6509695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509698">{</span><span class="string" id="6509699">&#34;//abc//&#34;</span><span class="op" id="6509708">,</span>&nbsp;<span class="string" id="6509710">&#34;/abc&#34;</span><span class="op" id="6509716">}</span><span class="op" id="6509717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509720">{</span><span class="string" id="6509721">&#34;abc//&#34;</span><span class="op" id="6509728">,</span>&nbsp;<span class="string" id="6509730">&#34;abc&#34;</span><span class="op" id="6509735">}</span><span class="op" id="6509736">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6509740">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509762">{</span><span class="string" id="6509763">&#34;abc/./def&#34;</span><span class="op" id="6509774">,</span>&nbsp;<span class="string" id="6509776">&#34;abc/def&#34;</span><span class="op" id="6509785">}</span><span class="op" id="6509786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509789">{</span><span class="string" id="6509790">&#34;/./abc/def&#34;</span><span class="op" id="6509802">,</span>&nbsp;<span class="string" id="6509804">&#34;/abc/def&#34;</span><span class="op" id="6509814">}</span><span class="op" id="6509815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509818">{</span><span class="string" id="6509819">&#34;abc/.&#34;</span><span class="op" id="6509826">,</span>&nbsp;<span class="string" id="6509828">&#34;abc&#34;</span><span class="op" id="6509833">}</span><span class="op" id="6509834">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6509838">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509861">{</span><span class="string" id="6509862">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="6509882">,</span>&nbsp;<span class="string" id="6509884">&#34;abc/def/jkl&#34;</span><span class="op" id="6509897">}</span><span class="op" id="6509898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509901">{</span><span class="string" id="6509902">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="6509925">,</span>&nbsp;<span class="string" id="6509927">&#34;abc/jkl&#34;</span><span class="op" id="6509936">}</span><span class="op" id="6509937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509940">{</span><span class="string" id="6509941">&#34;abc/def/..&#34;</span><span class="op" id="6509953">,</span>&nbsp;<span class="string" id="6509955">&#34;abc&#34;</span><span class="op" id="6509960">}</span><span class="op" id="6509961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509964">{</span><span class="string" id="6509965">&#34;abc/def/../..&#34;</span><span class="op" id="6509980">,</span>&nbsp;<span class="string" id="6509982">&#34;.&#34;</span><span class="op" id="6509985">}</span><span class="op" id="6509986">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6509989">{</span><span class="string" id="6509990">&#34;/abc/def/../..&#34;</span><span class="op" id="6510006">,</span>&nbsp;<span class="string" id="6510008">&#34;/&#34;</span><span class="op" id="6510011">}</span><span class="op" id="6510012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510015">{</span><span class="string" id="6510016">&#34;abc/def/../../..&#34;</span><span class="op" id="6510034">,</span>&nbsp;<span class="string" id="6510036">&#34;..&#34;</span><span class="op" id="6510040">}</span><span class="op" id="6510041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510044">{</span><span class="string" id="6510045">&#34;/abc/def/../../..&#34;</span><span class="op" id="6510064">,</span>&nbsp;<span class="string" id="6510066">&#34;/&#34;</span><span class="op" id="6510069">}</span><span class="op" id="6510070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510073">{</span><span class="string" id="6510074">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="6510113">,</span>&nbsp;<span class="string" id="6510115">&#34;../../mno&#34;</span><span class="op" id="6510126">}</span><span class="op" id="6510127">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6510131">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510148">{</span><span class="string" id="6510149">&#34;abc/./../def&#34;</span><span class="op" id="6510163">,</span>&nbsp;<span class="string" id="6510165">&#34;def&#34;</span><span class="op" id="6510170">}</span><span class="op" id="6510171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510174">{</span><span class="string" id="6510175">&#34;abc//./../def&#34;</span><span class="op" id="6510190">,</span>&nbsp;<span class="string" id="6510192">&#34;def&#34;</span><span class="op" id="6510197">}</span><span class="op" id="6510198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510201">{</span><span class="string" id="6510202">&#34;abc/../../././../def&#34;</span><span class="op" id="6510224">,</span>&nbsp;<span class="string" id="6510226">&#34;../../def&#34;</span><span class="op" id="6510237">}</span><span class="op" id="6510238">,</span><br>
<span class="lineno"></span><span class="op" id="6510240">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6510243">func</span>&nbsp;<span class="ident" id="6510248">TestClean</span><span class="op" id="6510257">(</span><span class="ident" id="6510258">t</span>&nbsp;<span class="op" id="6510260">*</span><span class="ident" id="6510261">testing</span><span class="op" id="6510268">.</span><span class="ident" id="6510269">T</span><span class="op" id="6510270">)</span>&nbsp;<span class="op" id="6510272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510275">for</span>&nbsp;<span class="ident" id="6510279">_</span><span class="op" id="6510280">,</span>&nbsp;<span class="ident" id="6510282">test</span>&nbsp;<span class="op" id="6510287">:=</span>&nbsp;<span class="keyword" id="6510290">range</span>&nbsp;<span class="ident" id="6510296">cleantests</span>&nbsp;<span class="op" id="6510307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510311">if</span>&nbsp;<span class="ident" id="6510314">s</span>&nbsp;<span class="op" id="6510316">:=</span>&nbsp;<span class="ident" id="6510319">Clean</span><span class="op" id="6510324">(</span><span class="ident" id="6510325">test</span><span class="op" id="6510329">.</span><span class="ident" id="6510330">path</span><span class="op" id="6510334">)</span><span class="op" id="6510335">;</span>&nbsp;<span class="ident" id="6510337">s</span>&nbsp;<span class="op" id="6510339">!=</span>&nbsp;<span class="ident" id="6510342">test</span><span class="op" id="6510346">.</span><span class="ident" id="6510347">result</span>&nbsp;<span class="op" id="6510354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510359">t</span><span class="op" id="6510360">.</span><span class="ident" id="6510361">Errorf</span><span class="op" id="6510367">(</span><span class="string" id="6510368">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6510393">,</span>&nbsp;<span class="ident" id="6510395">test</span><span class="op" id="6510399">.</span><span class="ident" id="6510400">path</span><span class="op" id="6510404">,</span>&nbsp;<span class="ident" id="6510406">s</span><span class="op" id="6510407">,</span>&nbsp;<span class="ident" id="6510409">test</span><span class="op" id="6510413">.</span><span class="ident" id="6510414">result</span><span class="op" id="6510420">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510428">if</span>&nbsp;<span class="ident" id="6510431">s</span>&nbsp;<span class="op" id="6510433">:=</span>&nbsp;<span class="ident" id="6510436">Clean</span><span class="op" id="6510441">(</span><span class="ident" id="6510442">test</span><span class="op" id="6510446">.</span><span class="ident" id="6510447">result</span><span class="op" id="6510453">)</span><span class="op" id="6510454">;</span>&nbsp;<span class="ident" id="6510456">s</span>&nbsp;<span class="op" id="6510458">!=</span>&nbsp;<span class="ident" id="6510461">test</span><span class="op" id="6510465">.</span><span class="ident" id="6510466">result</span>&nbsp;<span class="op" id="6510473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510478">t</span><span class="op" id="6510479">.</span><span class="ident" id="6510480">Errorf</span><span class="op" id="6510486">(</span><span class="string" id="6510487">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6510512">,</span>&nbsp;<span class="ident" id="6510514">test</span><span class="op" id="6510518">.</span><span class="ident" id="6510519">result</span><span class="op" id="6510525">,</span>&nbsp;<span class="ident" id="6510527">s</span><span class="op" id="6510528">,</span>&nbsp;<span class="ident" id="6510530">test</span><span class="op" id="6510534">.</span><span class="ident" id="6510535">result</span><span class="op" id="6510541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510548">}</span><br>
<span class="lineno">75</span><span class="op" id="6510550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6510553">func</span>&nbsp;<span class="ident" id="6510558">TestCleanMallocs</span><span class="op" id="6510574">(</span><span class="ident" id="6510575">t</span>&nbsp;<span class="op" id="6510577">*</span><span class="ident" id="6510578">testing</span><span class="op" id="6510585">.</span><span class="ident" id="6510586">T</span><span class="op" id="6510587">)</span>&nbsp;<span class="op" id="6510589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510592">if</span>&nbsp;<span class="ident" id="6510595">testing</span><span class="op" id="6510602">.</span><span class="ident" id="6510603">Short</span><span class="op" id="6510608">(</span><span class="op" id="6510609">)</span>&nbsp;<span class="op" id="6510611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510615">t</span><span class="op" id="6510616">.</span><span class="ident" id="6510617">Skip</span><span class="op" id="6510621">(</span><span class="string" id="6510622">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6510659">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510665">if</span>&nbsp;<span class="ident" id="6510668">runtime</span><span class="op" id="6510675">.</span><span class="ident" id="6510676">GOMAXPROCS</span><span class="op" id="6510686">(</span><span class="num" id="6510687">0</span><span class="op" id="6510688">)</span>&nbsp;<span class="op" id="6510690">&gt;</span>&nbsp;<span class="num" id="6510692">1</span>&nbsp;<span class="op" id="6510694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510698">t</span><span class="op" id="6510699">.</span><span class="ident" id="6510700">Log</span><span class="op" id="6510703">(</span><span class="string" id="6510704">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="6510748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510752">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510760">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510764">for</span>&nbsp;<span class="ident" id="6510768">_</span><span class="op" id="6510769">,</span>&nbsp;<span class="ident" id="6510771">test</span>&nbsp;<span class="op" id="6510776">:=</span>&nbsp;<span class="keyword" id="6510779">range</span>&nbsp;<span class="ident" id="6510785">cleantests</span>&nbsp;<span class="op" id="6510796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510800">allocs</span>&nbsp;<span class="op" id="6510807">:=</span>&nbsp;<span class="ident" id="6510810">testing</span><span class="op" id="6510817">.</span><span class="ident" id="6510818">AllocsPerRun</span><span class="op" id="6510830">(</span><span class="num" id="6510831">100</span><span class="op" id="6510834">,</span>&nbsp;<span class="keyword" id="6510836">func</span><span class="op" id="6510840">(</span><span class="op" id="6510841">)</span>&nbsp;<span class="op" id="6510843">{</span>&nbsp;<span class="ident" id="6510845">Clean</span><span class="op" id="6510850">(</span><span class="ident" id="6510851">test</span><span class="op" id="6510855">.</span><span class="ident" id="6510856">result</span><span class="op" id="6510862">)</span>&nbsp;<span class="op" id="6510864">}</span><span class="op" id="6510865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6510869">if</span>&nbsp;<span class="ident" id="6510872">allocs</span>&nbsp;<span class="op" id="6510879">&gt;</span>&nbsp;<span class="num" id="6510881">0</span>&nbsp;<span class="op" id="6510883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510888">t</span><span class="op" id="6510889">.</span><span class="ident" id="6510890">Errorf</span><span class="op" id="6510896">(</span><span class="string" id="6510897">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="6510930">,</span>&nbsp;<span class="ident" id="6510932">test</span><span class="op" id="6510936">.</span><span class="ident" id="6510937">result</span><span class="op" id="6510943">,</span>&nbsp;<span class="ident" id="6510945">allocs</span><span class="op" id="6510951">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6510958">}</span><br>
<span class="lineno"></span><span class="op" id="6510960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6510963">type</span>&nbsp;<span class="ident" id="6510968">SplitTest</span>&nbsp;<span class="keyword" id="6510978">struct</span>&nbsp;<span class="op" id="6510985">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6510988">path</span><span class="op" id="6510992">,</span>&nbsp;<span class="ident" id="6510994">dir</span><span class="op" id="6510997">,</span>&nbsp;<span class="ident" id="6510999">file</span>&nbsp;<span class="builtintype" id="6511004">string</span><br>
<span class="lineno"></span><span class="op" id="6511011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6511014">var</span>&nbsp;<span class="ident" id="6511018">splittests</span>&nbsp;<span class="op" id="6511029">=</span>&nbsp;<span class="op" id="6511031">[</span><span class="op" id="6511032">]</span><span class="ident" id="6511033">SplitTest</span><span class="op" id="6511042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511045">{</span><span class="string" id="6511046">&#34;a/b&#34;</span><span class="op" id="6511051">,</span>&nbsp;<span class="string" id="6511053">&#34;a/&#34;</span><span class="op" id="6511057">,</span>&nbsp;<span class="string" id="6511059">&#34;b&#34;</span><span class="op" id="6511062">}</span><span class="op" id="6511063">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511066">{</span><span class="string" id="6511067">&#34;a/b/&#34;</span><span class="op" id="6511073">,</span>&nbsp;<span class="string" id="6511075">&#34;a/b/&#34;</span><span class="op" id="6511081">,</span>&nbsp;<span class="string" id="6511083">&#34;&#34;</span><span class="op" id="6511085">}</span><span class="op" id="6511086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511089">{</span><span class="string" id="6511090">&#34;a/&#34;</span><span class="op" id="6511094">,</span>&nbsp;<span class="string" id="6511096">&#34;a/&#34;</span><span class="op" id="6511100">,</span>&nbsp;<span class="string" id="6511102">&#34;&#34;</span><span class="op" id="6511104">}</span><span class="op" id="6511105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511108">{</span><span class="string" id="6511109">&#34;a&#34;</span><span class="op" id="6511112">,</span>&nbsp;<span class="string" id="6511114">&#34;&#34;</span><span class="op" id="6511116">,</span>&nbsp;<span class="string" id="6511118">&#34;a&#34;</span><span class="op" id="6511121">}</span><span class="op" id="6511122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511125">{</span><span class="string" id="6511126">&#34;/&#34;</span><span class="op" id="6511129">,</span>&nbsp;<span class="string" id="6511131">&#34;/&#34;</span><span class="op" id="6511134">,</span>&nbsp;<span class="string" id="6511136">&#34;&#34;</span><span class="op" id="6511138">}</span><span class="op" id="6511139">,</span><br>
<span class="lineno"></span><span class="op" id="6511141">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="6511144">func</span>&nbsp;<span class="ident" id="6511149">TestSplit</span><span class="op" id="6511158">(</span><span class="ident" id="6511159">t</span>&nbsp;<span class="op" id="6511161">*</span><span class="ident" id="6511162">testing</span><span class="op" id="6511169">.</span><span class="ident" id="6511170">T</span><span class="op" id="6511171">)</span>&nbsp;<span class="op" id="6511173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6511176">for</span>&nbsp;<span class="ident" id="6511180">_</span><span class="op" id="6511181">,</span>&nbsp;<span class="ident" id="6511183">test</span>&nbsp;<span class="op" id="6511188">:=</span>&nbsp;<span class="keyword" id="6511191">range</span>&nbsp;<span class="ident" id="6511197">splittests</span>&nbsp;<span class="op" id="6511208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6511212">if</span>&nbsp;<span class="ident" id="6511215">d</span><span class="op" id="6511216">,</span>&nbsp;<span class="ident" id="6511218">f</span>&nbsp;<span class="op" id="6511220">:=</span>&nbsp;<span class="ident" id="6511223">Split</span><span class="op" id="6511228">(</span><span class="ident" id="6511229">test</span><span class="op" id="6511233">.</span><span class="ident" id="6511234">path</span><span class="op" id="6511238">)</span><span class="op" id="6511239">;</span>&nbsp;<span class="ident" id="6511241">d</span>&nbsp;<span class="op" id="6511243">!=</span>&nbsp;<span class="ident" id="6511246">test</span><span class="op" id="6511250">.</span><span class="ident" id="6511251">dir</span>&nbsp;<span class="op" id="6511255">||</span>&nbsp;<span class="ident" id="6511258">f</span>&nbsp;<span class="op" id="6511260">!=</span>&nbsp;<span class="ident" id="6511263">test</span><span class="op" id="6511267">.</span><span class="ident" id="6511268">file</span>&nbsp;<span class="op" id="6511273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6511278">t</span><span class="op" id="6511279">.</span><span class="ident" id="6511280">Errorf</span><span class="op" id="6511286">(</span><span class="string" id="6511287">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="6511320">,</span>&nbsp;<span class="ident" id="6511322">test</span><span class="op" id="6511326">.</span><span class="ident" id="6511327">path</span><span class="op" id="6511331">,</span>&nbsp;<span class="ident" id="6511333">d</span><span class="op" id="6511334">,</span>&nbsp;<span class="ident" id="6511336">f</span><span class="op" id="6511337">,</span>&nbsp;<span class="ident" id="6511339">test</span><span class="op" id="6511343">.</span><span class="ident" id="6511344">dir</span><span class="op" id="6511347">,</span>&nbsp;<span class="ident" id="6511349">test</span><span class="op" id="6511353">.</span><span class="ident" id="6511354">file</span><span class="op" id="6511358">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511365">}</span><br>
<span class="lineno"></span><span class="op" id="6511367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6511370">type</span>&nbsp;<span class="ident" id="6511375">JoinTest</span>&nbsp;<span class="keyword" id="6511384">struct</span>&nbsp;<span class="op" id="6511391">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6511394">elem</span>&nbsp;<span class="op" id="6511399">[</span><span class="op" id="6511400">]</span><span class="builtintype" id="6511401">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6511409">path</span>&nbsp;<span class="builtintype" id="6511414">string</span><br>
<span class="lineno"></span><span class="op" id="6511421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6511424">var</span>&nbsp;<span class="ident" id="6511428">jointests</span>&nbsp;<span class="op" id="6511438">=</span>&nbsp;<span class="op" id="6511440">[</span><span class="op" id="6511441">]</span><span class="ident" id="6511442">JoinTest</span><span class="op" id="6511450">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6511453">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511473">{</span><span class="op" id="6511474">[</span><span class="op" id="6511475">]</span><span class="builtintype" id="6511476">string</span><span class="op" id="6511482">{</span><span class="op" id="6511483">}</span><span class="op" id="6511484">,</span>&nbsp;<span class="string" id="6511486">&#34;&#34;</span><span class="op" id="6511488">}</span><span class="op" id="6511489">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6511493">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511511">{</span><span class="op" id="6511512">[</span><span class="op" id="6511513">]</span><span class="builtintype" id="6511514">string</span><span class="op" id="6511520">{</span><span class="string" id="6511521">&#34;&#34;</span><span class="op" id="6511523">}</span><span class="op" id="6511524">,</span>&nbsp;<span class="string" id="6511526">&#34;&#34;</span><span class="op" id="6511528">}</span><span class="op" id="6511529">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511532">{</span><span class="op" id="6511533">[</span><span class="op" id="6511534">]</span><span class="builtintype" id="6511535">string</span><span class="op" id="6511541">{</span><span class="string" id="6511542">&#34;a&#34;</span><span class="op" id="6511545">}</span><span class="op" id="6511546">,</span>&nbsp;<span class="string" id="6511548">&#34;a&#34;</span><span class="op" id="6511551">}</span><span class="op" id="6511552">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6511556">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511575">{</span><span class="op" id="6511576">[</span><span class="op" id="6511577">]</span><span class="builtintype" id="6511578">string</span><span class="op" id="6511584">{</span><span class="string" id="6511585">&#34;a&#34;</span><span class="op" id="6511588">,</span>&nbsp;<span class="string" id="6511590">&#34;b&#34;</span><span class="op" id="6511593">}</span><span class="op" id="6511594">,</span>&nbsp;<span class="string" id="6511596">&#34;a/b&#34;</span><span class="op" id="6511601">}</span><span class="op" id="6511602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511605">{</span><span class="op" id="6511606">[</span><span class="op" id="6511607">]</span><span class="builtintype" id="6511608">string</span><span class="op" id="6511614">{</span><span class="string" id="6511615">&#34;a&#34;</span><span class="op" id="6511618">,</span>&nbsp;<span class="string" id="6511620">&#34;&#34;</span><span class="op" id="6511622">}</span><span class="op" id="6511623">,</span>&nbsp;<span class="string" id="6511625">&#34;a&#34;</span><span class="op" id="6511628">}</span><span class="op" id="6511629">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511632">{</span><span class="op" id="6511633">[</span><span class="op" id="6511634">]</span><span class="builtintype" id="6511635">string</span><span class="op" id="6511641">{</span><span class="string" id="6511642">&#34;&#34;</span><span class="op" id="6511644">,</span>&nbsp;<span class="string" id="6511646">&#34;b&#34;</span><span class="op" id="6511649">}</span><span class="op" id="6511650">,</span>&nbsp;<span class="string" id="6511652">&#34;b&#34;</span><span class="op" id="6511655">}</span><span class="op" id="6511656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511659">{</span><span class="op" id="6511660">[</span><span class="op" id="6511661">]</span><span class="builtintype" id="6511662">string</span><span class="op" id="6511668">{</span><span class="string" id="6511669">&#34;/&#34;</span><span class="op" id="6511672">,</span>&nbsp;<span class="string" id="6511674">&#34;a&#34;</span><span class="op" id="6511677">}</span><span class="op" id="6511678">,</span>&nbsp;<span class="string" id="6511680">&#34;/a&#34;</span><span class="op" id="6511684">}</span><span class="op" id="6511685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511688">{</span><span class="op" id="6511689">[</span><span class="op" id="6511690">]</span><span class="builtintype" id="6511691">string</span><span class="op" id="6511697">{</span><span class="string" id="6511698">&#34;/&#34;</span><span class="op" id="6511701">,</span>&nbsp;<span class="string" id="6511703">&#34;&#34;</span><span class="op" id="6511705">}</span><span class="op" id="6511706">,</span>&nbsp;<span class="string" id="6511708">&#34;/&#34;</span><span class="op" id="6511711">}</span><span class="op" id="6511712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511715">{</span><span class="op" id="6511716">[</span><span class="op" id="6511717">]</span><span class="builtintype" id="6511718">string</span><span class="op" id="6511724">{</span><span class="string" id="6511725">&#34;a/&#34;</span><span class="op" id="6511729">,</span>&nbsp;<span class="string" id="6511731">&#34;b&#34;</span><span class="op" id="6511734">}</span><span class="op" id="6511735">,</span>&nbsp;<span class="string" id="6511737">&#34;a/b&#34;</span><span class="op" id="6511742">}</span><span class="op" id="6511743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511746">{</span><span class="op" id="6511747">[</span><span class="op" id="6511748">]</span><span class="builtintype" id="6511749">string</span><span class="op" id="6511755">{</span><span class="string" id="6511756">&#34;a/&#34;</span><span class="op" id="6511760">,</span>&nbsp;<span class="string" id="6511762">&#34;&#34;</span><span class="op" id="6511764">}</span><span class="op" id="6511765">,</span>&nbsp;<span class="string" id="6511767">&#34;a&#34;</span><span class="op" id="6511770">}</span><span class="op" id="6511771">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6511774">{</span><span class="op" id="6511775">[</span><span class="op" id="6511776">]</span><span class="builtintype" id="6511777">string</span><span class="op" id="6511783">{</span><span class="string" id="6511784">&#34;&#34;</span><span class="op" id="6511786">,</span>&nbsp;<span class="string" id="6511788">&#34;&#34;</span><span class="op" id="6511790">}</span><span class="op" id="6511791">,</span>&nbsp;<span class="string" id="6511793">&#34;&#34;</span><span class="op" id="6511795">}</span><span class="op" id="6511796">,</span><br>
<span class="lineno"></span><span class="op" id="6511798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6511801">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="6511849">func</span>&nbsp;<span class="ident" id="6511854">join</span><span class="op" id="6511858">(</span><span class="ident" id="6511859">elem</span>&nbsp;<span class="op" id="6511864">[</span><span class="op" id="6511865">]</span><span class="builtintype" id="6511866">string</span><span class="op" id="6511872">,</span>&nbsp;<span class="ident" id="6511874">args</span>&nbsp;<span class="op" id="6511879">...</span><span class="builtintype" id="6511882">string</span><span class="op" id="6511888">)</span>&nbsp;<span class="builtintype" id="6511890">string</span>&nbsp;<span class="op" id="6511897">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6511900">args</span>&nbsp;<span class="op" id="6511905">=</span>&nbsp;<span class="ident" id="6511907">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6511913">return</span>&nbsp;<span class="ident" id="6511920">Join</span><span class="op" id="6511924">(</span><span class="ident" id="6511925">args</span><span class="op" id="6511929">...</span><span class="op" id="6511932">)</span><br>
<span class="lineno"></span><span class="op" id="6511934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6511937">func</span>&nbsp;<span class="ident" id="6511942">TestJoin</span><span class="op" id="6511950">(</span><span class="ident" id="6511951">t</span>&nbsp;<span class="op" id="6511953">*</span><span class="ident" id="6511954">testing</span><span class="op" id="6511961">.</span><span class="ident" id="6511962">T</span><span class="op" id="6511963">)</span>&nbsp;<span class="op" id="6511965">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6511968">for</span>&nbsp;<span class="ident" id="6511972">_</span><span class="op" id="6511973">,</span>&nbsp;<span class="ident" id="6511975">test</span>&nbsp;<span class="op" id="6511980">:=</span>&nbsp;<span class="keyword" id="6511983">range</span>&nbsp;<span class="ident" id="6511989">jointests</span>&nbsp;<span class="op" id="6511999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6512003">if</span>&nbsp;<span class="ident" id="6512006">p</span>&nbsp;<span class="op" id="6512008">:=</span>&nbsp;<span class="ident" id="6512011">join</span><span class="op" id="6512015">(</span><span class="ident" id="6512016">test</span><span class="op" id="6512020">.</span><span class="ident" id="6512021">elem</span><span class="op" id="6512025">)</span><span class="op" id="6512026">;</span>&nbsp;<span class="ident" id="6512028">p</span>&nbsp;<span class="op" id="6512030">!=</span>&nbsp;<span class="ident" id="6512033">test</span><span class="op" id="6512037">.</span><span class="ident" id="6512038">path</span>&nbsp;<span class="op" id="6512043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6512048">t</span><span class="op" id="6512049">.</span><span class="ident" id="6512050">Errorf</span><span class="op" id="6512056">(</span><span class="string" id="6512057">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6512081">,</span>&nbsp;<span class="ident" id="6512083">test</span><span class="op" id="6512087">.</span><span class="ident" id="6512088">elem</span><span class="op" id="6512092">,</span>&nbsp;<span class="ident" id="6512094">p</span><span class="op" id="6512095">,</span>&nbsp;<span class="ident" id="6512097">test</span><span class="op" id="6512101">.</span><span class="ident" id="6512102">path</span><span class="op" id="6512106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512113">}</span><br>
<span class="lineno">150</span><span class="op" id="6512115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6512118">type</span>&nbsp;<span class="ident" id="6512123">ExtTest</span>&nbsp;<span class="keyword" id="6512131">struct</span>&nbsp;<span class="op" id="6512138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6512141">path</span><span class="op" id="6512145">,</span>&nbsp;<span class="ident" id="6512147">ext</span>&nbsp;<span class="builtintype" id="6512151">string</span><br>
<span class="lineno"></span><span class="op" id="6512158">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="6512161">var</span>&nbsp;<span class="ident" id="6512165">exttests</span>&nbsp;<span class="op" id="6512174">=</span>&nbsp;<span class="op" id="6512176">[</span><span class="op" id="6512177">]</span><span class="ident" id="6512178">ExtTest</span><span class="op" id="6512185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512188">{</span><span class="string" id="6512189">&#34;path.go&#34;</span><span class="op" id="6512198">,</span>&nbsp;<span class="string" id="6512200">&#34;.go&#34;</span><span class="op" id="6512205">}</span><span class="op" id="6512206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512209">{</span><span class="string" id="6512210">&#34;path.pb.go&#34;</span><span class="op" id="6512222">,</span>&nbsp;<span class="string" id="6512224">&#34;.go&#34;</span><span class="op" id="6512229">}</span><span class="op" id="6512230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512233">{</span><span class="string" id="6512234">&#34;a.dir/b&#34;</span><span class="op" id="6512243">,</span>&nbsp;<span class="string" id="6512245">&#34;&#34;</span><span class="op" id="6512247">}</span><span class="op" id="6512248">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512251">{</span><span class="string" id="6512252">&#34;a.dir/b.go&#34;</span><span class="op" id="6512264">,</span>&nbsp;<span class="string" id="6512266">&#34;.go&#34;</span><span class="op" id="6512271">}</span><span class="op" id="6512272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512275">{</span><span class="string" id="6512276">&#34;a.dir/&#34;</span><span class="op" id="6512284">,</span>&nbsp;<span class="string" id="6512286">&#34;&#34;</span><span class="op" id="6512288">}</span><span class="op" id="6512289">,</span><br>
<span class="lineno"></span><span class="op" id="6512291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6512294">func</span>&nbsp;<span class="ident" id="6512299">TestExt</span><span class="op" id="6512306">(</span><span class="ident" id="6512307">t</span>&nbsp;<span class="op" id="6512309">*</span><span class="ident" id="6512310">testing</span><span class="op" id="6512317">.</span><span class="ident" id="6512318">T</span><span class="op" id="6512319">)</span>&nbsp;<span class="op" id="6512321">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6512324">for</span>&nbsp;<span class="ident" id="6512328">_</span><span class="op" id="6512329">,</span>&nbsp;<span class="ident" id="6512331">test</span>&nbsp;<span class="op" id="6512336">:=</span>&nbsp;<span class="keyword" id="6512339">range</span>&nbsp;<span class="ident" id="6512345">exttests</span>&nbsp;<span class="op" id="6512354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6512358">if</span>&nbsp;<span class="ident" id="6512361">x</span>&nbsp;<span class="op" id="6512363">:=</span>&nbsp;<span class="ident" id="6512366">Ext</span><span class="op" id="6512369">(</span><span class="ident" id="6512370">test</span><span class="op" id="6512374">.</span><span class="ident" id="6512375">path</span><span class="op" id="6512379">)</span><span class="op" id="6512380">;</span>&nbsp;<span class="ident" id="6512382">x</span>&nbsp;<span class="op" id="6512384">!=</span>&nbsp;<span class="ident" id="6512387">test</span><span class="op" id="6512391">.</span><span class="ident" id="6512392">ext</span>&nbsp;<span class="op" id="6512396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6512401">t</span><span class="op" id="6512402">.</span><span class="ident" id="6512403">Errorf</span><span class="op" id="6512409">(</span><span class="string" id="6512410">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6512433">,</span>&nbsp;<span class="ident" id="6512435">test</span><span class="op" id="6512439">.</span><span class="ident" id="6512440">path</span><span class="op" id="6512444">,</span>&nbsp;<span class="ident" id="6512446">x</span><span class="op" id="6512447">,</span>&nbsp;<span class="ident" id="6512449">test</span><span class="op" id="6512453">.</span><span class="ident" id="6512454">ext</span><span class="op" id="6512457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512464">}</span><br>
<span class="lineno">170</span><span class="op" id="6512466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6512469">var</span>&nbsp;<span class="ident" id="6512473">basetests</span>&nbsp;<span class="op" id="6512483">=</span>&nbsp;<span class="op" id="6512485">[</span><span class="op" id="6512486">]</span><span class="ident" id="6512487">PathTest</span><span class="op" id="6512495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6512498">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512516">{</span><span class="string" id="6512517">&#34;&#34;</span><span class="op" id="6512519">,</span>&nbsp;<span class="string" id="6512521">&#34;.&#34;</span><span class="op" id="6512524">}</span><span class="op" id="6512525">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512528">{</span><span class="string" id="6512529">&#34;.&#34;</span><span class="op" id="6512532">,</span>&nbsp;<span class="string" id="6512534">&#34;.&#34;</span><span class="op" id="6512537">}</span><span class="op" id="6512538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512541">{</span><span class="string" id="6512542">&#34;/.&#34;</span><span class="op" id="6512546">,</span>&nbsp;<span class="string" id="6512548">&#34;.&#34;</span><span class="op" id="6512551">}</span><span class="op" id="6512552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512555">{</span><span class="string" id="6512556">&#34;/&#34;</span><span class="op" id="6512559">,</span>&nbsp;<span class="string" id="6512561">&#34;/&#34;</span><span class="op" id="6512564">}</span><span class="op" id="6512565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512568">{</span><span class="string" id="6512569">&#34;////&#34;</span><span class="op" id="6512575">,</span>&nbsp;<span class="string" id="6512577">&#34;/&#34;</span><span class="op" id="6512580">}</span><span class="op" id="6512581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512584">{</span><span class="string" id="6512585">&#34;x/&#34;</span><span class="op" id="6512589">,</span>&nbsp;<span class="string" id="6512591">&#34;x&#34;</span><span class="op" id="6512594">}</span><span class="op" id="6512595">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512598">{</span><span class="string" id="6512599">&#34;abc&#34;</span><span class="op" id="6512604">,</span>&nbsp;<span class="string" id="6512606">&#34;abc&#34;</span><span class="op" id="6512611">}</span><span class="op" id="6512612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512615">{</span><span class="string" id="6512616">&#34;abc/def&#34;</span><span class="op" id="6512625">,</span>&nbsp;<span class="string" id="6512627">&#34;def&#34;</span><span class="op" id="6512632">}</span><span class="op" id="6512633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512636">{</span><span class="string" id="6512637">&#34;a/b/.x&#34;</span><span class="op" id="6512645">,</span>&nbsp;<span class="string" id="6512647">&#34;.x&#34;</span><span class="op" id="6512651">}</span><span class="op" id="6512652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512655">{</span><span class="string" id="6512656">&#34;a/b/c.&#34;</span><span class="op" id="6512664">,</span>&nbsp;<span class="string" id="6512666">&#34;c.&#34;</span><span class="op" id="6512670">}</span><span class="op" id="6512671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512674">{</span><span class="string" id="6512675">&#34;a/b/c.x&#34;</span><span class="op" id="6512684">,</span>&nbsp;<span class="string" id="6512686">&#34;c.x&#34;</span><span class="op" id="6512691">}</span><span class="op" id="6512692">,</span><br>
<span class="lineno">185</span><span class="op" id="6512694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6512697">func</span>&nbsp;<span class="ident" id="6512702">TestBase</span><span class="op" id="6512710">(</span><span class="ident" id="6512711">t</span>&nbsp;<span class="op" id="6512713">*</span><span class="ident" id="6512714">testing</span><span class="op" id="6512721">.</span><span class="ident" id="6512722">T</span><span class="op" id="6512723">)</span>&nbsp;<span class="op" id="6512725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6512728">for</span>&nbsp;<span class="ident" id="6512732">_</span><span class="op" id="6512733">,</span>&nbsp;<span class="ident" id="6512735">test</span>&nbsp;<span class="op" id="6512740">:=</span>&nbsp;<span class="keyword" id="6512743">range</span>&nbsp;<span class="ident" id="6512749">basetests</span>&nbsp;<span class="op" id="6512759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6512763">if</span>&nbsp;<span class="ident" id="6512766">s</span>&nbsp;<span class="op" id="6512768">:=</span>&nbsp;<span class="ident" id="6512771">Base</span><span class="op" id="6512775">(</span><span class="ident" id="6512776">test</span><span class="op" id="6512780">.</span><span class="ident" id="6512781">path</span><span class="op" id="6512785">)</span><span class="op" id="6512786">;</span>&nbsp;<span class="ident" id="6512788">s</span>&nbsp;<span class="op" id="6512790">!=</span>&nbsp;<span class="ident" id="6512793">test</span><span class="op" id="6512797">.</span><span class="ident" id="6512798">result</span>&nbsp;<span class="op" id="6512805">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6512810">t</span><span class="op" id="6512811">.</span><span class="ident" id="6512812">Errorf</span><span class="op" id="6512818">(</span><span class="string" id="6512819">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6512843">,</span>&nbsp;<span class="ident" id="6512845">test</span><span class="op" id="6512849">.</span><span class="ident" id="6512850">path</span><span class="op" id="6512854">,</span>&nbsp;<span class="ident" id="6512856">s</span><span class="op" id="6512857">,</span>&nbsp;<span class="ident" id="6512859">test</span><span class="op" id="6512863">.</span><span class="ident" id="6512864">result</span><span class="op" id="6512870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512877">}</span><br>
<span class="lineno"></span><span class="op" id="6512879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="6512882">var</span>&nbsp;<span class="ident" id="6512886">dirtests</span>&nbsp;<span class="op" id="6512895">=</span>&nbsp;<span class="op" id="6512897">[</span><span class="op" id="6512898">]</span><span class="ident" id="6512899">PathTest</span><span class="op" id="6512907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512910">{</span><span class="string" id="6512911">&#34;&#34;</span><span class="op" id="6512913">,</span>&nbsp;<span class="string" id="6512915">&#34;.&#34;</span><span class="op" id="6512918">}</span><span class="op" id="6512919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512922">{</span><span class="string" id="6512923">&#34;.&#34;</span><span class="op" id="6512926">,</span>&nbsp;<span class="string" id="6512928">&#34;.&#34;</span><span class="op" id="6512931">}</span><span class="op" id="6512932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512935">{</span><span class="string" id="6512936">&#34;/.&#34;</span><span class="op" id="6512940">,</span>&nbsp;<span class="string" id="6512942">&#34;/&#34;</span><span class="op" id="6512945">}</span><span class="op" id="6512946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512949">{</span><span class="string" id="6512950">&#34;/&#34;</span><span class="op" id="6512953">,</span>&nbsp;<span class="string" id="6512955">&#34;/&#34;</span><span class="op" id="6512958">}</span><span class="op" id="6512959">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512962">{</span><span class="string" id="6512963">&#34;////&#34;</span><span class="op" id="6512969">,</span>&nbsp;<span class="string" id="6512971">&#34;/&#34;</span><span class="op" id="6512974">}</span><span class="op" id="6512975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512978">{</span><span class="string" id="6512979">&#34;/foo&#34;</span><span class="op" id="6512985">,</span>&nbsp;<span class="string" id="6512987">&#34;/&#34;</span><span class="op" id="6512990">}</span><span class="op" id="6512991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6512994">{</span><span class="string" id="6512995">&#34;x/&#34;</span><span class="op" id="6512999">,</span>&nbsp;<span class="string" id="6513001">&#34;x&#34;</span><span class="op" id="6513004">}</span><span class="op" id="6513005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513008">{</span><span class="string" id="6513009">&#34;abc&#34;</span><span class="op" id="6513014">,</span>&nbsp;<span class="string" id="6513016">&#34;.&#34;</span><span class="op" id="6513019">}</span><span class="op" id="6513020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513023">{</span><span class="string" id="6513024">&#34;abc/def&#34;</span><span class="op" id="6513033">,</span>&nbsp;<span class="string" id="6513035">&#34;abc&#34;</span><span class="op" id="6513040">}</span><span class="op" id="6513041">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513044">{</span><span class="string" id="6513045">&#34;abc////def&#34;</span><span class="op" id="6513057">,</span>&nbsp;<span class="string" id="6513059">&#34;abc&#34;</span><span class="op" id="6513064">}</span><span class="op" id="6513065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513068">{</span><span class="string" id="6513069">&#34;a/b/.x&#34;</span><span class="op" id="6513077">,</span>&nbsp;<span class="string" id="6513079">&#34;a/b&#34;</span><span class="op" id="6513084">}</span><span class="op" id="6513085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513088">{</span><span class="string" id="6513089">&#34;a/b/c.&#34;</span><span class="op" id="6513097">,</span>&nbsp;<span class="string" id="6513099">&#34;a/b&#34;</span><span class="op" id="6513104">}</span><span class="op" id="6513105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513108">{</span><span class="string" id="6513109">&#34;a/b/c.x&#34;</span><span class="op" id="6513118">,</span>&nbsp;<span class="string" id="6513120">&#34;a/b&#34;</span><span class="op" id="6513125">}</span><span class="op" id="6513126">,</span><br>
<span class="lineno"></span><span class="op" id="6513128">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="6513131">func</span>&nbsp;<span class="ident" id="6513136">TestDir</span><span class="op" id="6513143">(</span><span class="ident" id="6513144">t</span>&nbsp;<span class="op" id="6513146">*</span><span class="ident" id="6513147">testing</span><span class="op" id="6513154">.</span><span class="ident" id="6513155">T</span><span class="op" id="6513156">)</span>&nbsp;<span class="op" id="6513158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6513161">for</span>&nbsp;<span class="ident" id="6513165">_</span><span class="op" id="6513166">,</span>&nbsp;<span class="ident" id="6513168">test</span>&nbsp;<span class="op" id="6513173">:=</span>&nbsp;<span class="keyword" id="6513176">range</span>&nbsp;<span class="ident" id="6513182">dirtests</span>&nbsp;<span class="op" id="6513191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6513195">if</span>&nbsp;<span class="ident" id="6513198">s</span>&nbsp;<span class="op" id="6513200">:=</span>&nbsp;<span class="ident" id="6513203">Dir</span><span class="op" id="6513206">(</span><span class="ident" id="6513207">test</span><span class="op" id="6513211">.</span><span class="ident" id="6513212">path</span><span class="op" id="6513216">)</span><span class="op" id="6513217">;</span>&nbsp;<span class="ident" id="6513219">s</span>&nbsp;<span class="op" id="6513221">!=</span>&nbsp;<span class="ident" id="6513224">test</span><span class="op" id="6513228">.</span><span class="ident" id="6513229">result</span>&nbsp;<span class="op" id="6513236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6513241">t</span><span class="op" id="6513242">.</span><span class="ident" id="6513243">Errorf</span><span class="op" id="6513249">(</span><span class="string" id="6513250">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6513273">,</span>&nbsp;<span class="ident" id="6513275">test</span><span class="op" id="6513279">.</span><span class="ident" id="6513280">path</span><span class="op" id="6513284">,</span>&nbsp;<span class="ident" id="6513286">s</span><span class="op" id="6513287">,</span>&nbsp;<span class="ident" id="6513289">test</span><span class="op" id="6513293">.</span><span class="ident" id="6513294">result</span><span class="op" id="6513300">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513307">}</span><br>
<span class="lineno"></span><span class="op" id="6513309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6513312">type</span>&nbsp;<span class="ident" id="6513317">IsAbsTest</span>&nbsp;<span class="keyword" id="6513327">struct</span>&nbsp;<span class="op" id="6513334">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6513337">path</span>&nbsp;&nbsp;<span class="builtintype" id="6513343">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6513351">isAbs</span>&nbsp;<span class="builtintype" id="6513357">bool</span><br>
<span class="lineno"></span><span class="op" id="6513362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6513365">var</span>&nbsp;<span class="ident" id="6513369">isAbsTests</span>&nbsp;<span class="op" id="6513380">=</span>&nbsp;<span class="op" id="6513382">[</span><span class="op" id="6513383">]</span><span class="ident" id="6513384">IsAbsTest</span><span class="op" id="6513393">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513396">{</span><span class="string" id="6513397">&#34;&#34;</span><span class="op" id="6513399">,</span>&nbsp;<span class="builtintype" id="6513401">false</span><span class="op" id="6513406">}</span><span class="op" id="6513407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513410">{</span><span class="string" id="6513411">&#34;/&#34;</span><span class="op" id="6513414">,</span>&nbsp;<span class="builtintype" id="6513416">true</span><span class="op" id="6513420">}</span><span class="op" id="6513421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513424">{</span><span class="string" id="6513425">&#34;/usr/bin/gcc&#34;</span><span class="op" id="6513439">,</span>&nbsp;<span class="builtintype" id="6513441">true</span><span class="op" id="6513445">}</span><span class="op" id="6513446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513449">{</span><span class="string" id="6513450">&#34;..&#34;</span><span class="op" id="6513454">,</span>&nbsp;<span class="builtintype" id="6513456">false</span><span class="op" id="6513461">}</span><span class="op" id="6513462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513465">{</span><span class="string" id="6513466">&#34;/a/../bb&#34;</span><span class="op" id="6513476">,</span>&nbsp;<span class="builtintype" id="6513478">true</span><span class="op" id="6513482">}</span><span class="op" id="6513483">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513486">{</span><span class="string" id="6513487">&#34;.&#34;</span><span class="op" id="6513490">,</span>&nbsp;<span class="builtintype" id="6513492">false</span><span class="op" id="6513497">}</span><span class="op" id="6513498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513501">{</span><span class="string" id="6513502">&#34;./&#34;</span><span class="op" id="6513506">,</span>&nbsp;<span class="builtintype" id="6513508">false</span><span class="op" id="6513513">}</span><span class="op" id="6513514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513517">{</span><span class="string" id="6513518">&#34;lala&#34;</span><span class="op" id="6513524">,</span>&nbsp;<span class="builtintype" id="6513526">false</span><span class="op" id="6513531">}</span><span class="op" id="6513532">,</span><br>
<span class="lineno"></span><span class="op" id="6513534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="6513537">func</span>&nbsp;<span class="ident" id="6513542">TestIsAbs</span><span class="op" id="6513551">(</span><span class="ident" id="6513552">t</span>&nbsp;<span class="op" id="6513554">*</span><span class="ident" id="6513555">testing</span><span class="op" id="6513562">.</span><span class="ident" id="6513563">T</span><span class="op" id="6513564">)</span>&nbsp;<span class="op" id="6513566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6513569">for</span>&nbsp;<span class="ident" id="6513573">_</span><span class="op" id="6513574">,</span>&nbsp;<span class="ident" id="6513576">test</span>&nbsp;<span class="op" id="6513581">:=</span>&nbsp;<span class="keyword" id="6513584">range</span>&nbsp;<span class="ident" id="6513590">isAbsTests</span>&nbsp;<span class="op" id="6513601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6513605">if</span>&nbsp;<span class="ident" id="6513608">r</span>&nbsp;<span class="op" id="6513610">:=</span>&nbsp;<span class="ident" id="6513613">IsAbs</span><span class="op" id="6513618">(</span><span class="ident" id="6513619">test</span><span class="op" id="6513623">.</span><span class="ident" id="6513624">path</span><span class="op" id="6513628">)</span><span class="op" id="6513629">;</span>&nbsp;<span class="ident" id="6513631">r</span>&nbsp;<span class="op" id="6513633">!=</span>&nbsp;<span class="ident" id="6513636">test</span><span class="op" id="6513640">.</span><span class="ident" id="6513641">isAbs</span>&nbsp;<span class="op" id="6513647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6513652">t</span><span class="op" id="6513653">.</span><span class="ident" id="6513654">Errorf</span><span class="op" id="6513660">(</span><span class="string" id="6513661">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6513686">,</span>&nbsp;<span class="ident" id="6513688">test</span><span class="op" id="6513692">.</span><span class="ident" id="6513693">path</span><span class="op" id="6513697">,</span>&nbsp;<span class="ident" id="6513699">r</span><span class="op" id="6513700">,</span>&nbsp;<span class="ident" id="6513702">test</span><span class="op" id="6513706">.</span><span class="ident" id="6513707">isAbs</span><span class="op" id="6513712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513716">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6513719">}</span><br>
<span class="lineno"></span><span class="op" id="6513721">}</span>
</div>
</body>
</html>
