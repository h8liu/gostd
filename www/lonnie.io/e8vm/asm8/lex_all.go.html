<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6045809">package</span>&nbsp;<span class="ident" id="6045817">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6045823">import</span>&nbsp;<span class="op" id="6045830">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6045833">&#34;io&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6045840">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6045862">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6045865">func</span>&nbsp;<span class="ident" id="6045870">lexAsm8</span><span class="op" id="6045877">(</span><span class="ident" id="6045878">x</span>&nbsp;<span class="op" id="6045880">*</span><span class="ident" id="6045881"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6045885">.</span><span class="ident" id="6045886">Lexer</span><span class="op" id="6045891">)</span>&nbsp;<span class="op" id="6045893">*</span><span class="ident" id="6045894"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6045898">.</span><span class="ident" id="6045899">Token</span>&nbsp;<span class="op" id="6045905">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6045908">r</span>&nbsp;<span class="op" id="6045910">:=</span>&nbsp;<span class="ident" id="6045913"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6045914">.</span><span class="ident" id="6045915">Rune</span><span class="op" id="6045919">(</span><span class="op" id="6045920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6045923">if</span>&nbsp;<span class="ident" id="6045926"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6045927">.</span><span class="ident" id="6045928">IsWhite</span><span class="op" id="6045935">(</span><span class="ident" id="6045936"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045908">r</a></span><span class="op" id="6045937">)</span>&nbsp;<span class="op" id="6045939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6045943">panic</span><span class="op" id="6045948">(</span><span class="string" id="6045949">&#34;incorrect&nbsp;token&nbsp;start&#34;</span><span class="op" id="6045972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6045975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6045979">switch</span>&nbsp;<span class="ident" id="6045986"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045908">r</a></span>&nbsp;<span class="op" id="6045988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6045991">case</span>&nbsp;<span class="string" id="6045996">&#39;\n&#39;</span><span class="op" id="6046000">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046004"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046005">.</span><span class="ident" id="6046006">Next</span><span class="op" id="6046010">(</span><span class="op" id="6046011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046015">return</span>&nbsp;<span class="ident" id="6046022"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046023">.</span><span class="ident" id="6046024">MakeToken</span><span class="op" id="6046033">(</span><span class="ident" id="6046034"><a href="/lonnie.io/e8vm/asm8/token.go.html#6066854">Endl</a></span><span class="op" id="6046038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046041">case</span>&nbsp;<span class="string" id="6046046">&#39;{&#39;</span><span class="op" id="6046049">:</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046053"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046054">.</span><span class="ident" id="6046055">Next</span><span class="op" id="6046059">(</span><span class="op" id="6046060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046064">return</span>&nbsp;<span class="ident" id="6046071"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046072">.</span><span class="ident" id="6046073">MakeToken</span><span class="op" id="6046082">(</span><span class="ident" id="6046083"><a href="/lonnie.io/e8vm/asm8/token.go.html#6066838">Lbrace</a></span><span class="op" id="6046089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046092">case</span>&nbsp;<span class="string" id="6046097">&#39;}&#39;</span><span class="op" id="6046100">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046104"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046105">.</span><span class="ident" id="6046106">Next</span><span class="op" id="6046110">(</span><span class="op" id="6046111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046115">return</span>&nbsp;<span class="ident" id="6046122"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046123">.</span><span class="ident" id="6046124">MakeToken</span><span class="op" id="6046133">(</span><span class="ident" id="6046134"><a href="/lonnie.io/e8vm/asm8/token.go.html#6066846">Rbrace</a></span><span class="op" id="6046140">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046143">case</span>&nbsp;<span class="string" id="6046148">&#39;/&#39;</span><span class="op" id="6046151">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046155">return</span>&nbsp;<span class="ident" id="6046162"><a href="/lonnie.io/e8vm/asm8/lex_comment.go.html#6046898">lexComment</a></span><span class="op" id="6046172">(</span><span class="ident" id="6046173"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046177">case</span>&nbsp;<span class="string" id="6046182">&#39;&#34;&#39;</span><span class="op" id="6046185">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046189">return</span>&nbsp;<span class="ident" id="6046196"><a href="/lonnie.io/e8vm/asm8/lex_string.go.html#6049607">lexString</a></span><span class="op" id="6046205">(</span><span class="ident" id="6046206"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6046210">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046214">if</span>&nbsp;<span class="ident" id="6046217"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#6047696">isOperandChar</a></span><span class="op" id="6046230">(</span><span class="ident" id="6046231"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045908">r</a></span><span class="op" id="6046232">)</span>&nbsp;<span class="op" id="6046234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046238">return</span>&nbsp;<span class="ident" id="6046245"><a href="/lonnie.io/e8vm/asm8/lex_operand.go.html#6048092">lexOperand</a></span><span class="op" id="6046255">(</span><span class="ident" id="6046256"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6046260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046264"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046265">.</span><span class="ident" id="6046266">Err</span><span class="op" id="6046269">(</span><span class="string" id="6046270">&#34;illegal&nbsp;char&nbsp;%q&#34;</span><span class="op" id="6046287">,</span>&nbsp;<span class="ident" id="6046289"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045908">r</a></span><span class="op" id="6046290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046293"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046294">.</span><span class="ident" id="6046295">Next</span><span class="op" id="6046299">(</span><span class="op" id="6046300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046303">return</span>&nbsp;<span class="ident" id="6046310"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045878">x</a></span><span class="op" id="6046311">.</span><span class="ident" id="6046312">MakeToken</span><span class="op" id="6046321">(</span><span class="ident" id="6046322"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6046326">.</span><span class="ident" id="6046327">Illegal</span><span class="op" id="6046334">)</span><br>
<span class="lineno"></span><span class="op" id="6046336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="6046339">//&nbsp;NewLexer&nbsp;creates&nbsp;a&nbsp;new&nbsp;lexer&nbsp;of&nbsp;a&nbsp;file&nbsp;stream.</span><br>
<span class="lineno"></span><span class="keyword" id="6046389">func</span>&nbsp;<span class="ident" id="6046394">newLexer</span><span class="op" id="6046402">(</span><span class="ident" id="6046403">file</span>&nbsp;<span class="builtintype" id="6046408">string</span><span class="op" id="6046414">,</span>&nbsp;<span class="ident" id="6046416">r</span>&nbsp;<span class="ident" id="6046418"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045833">io</a></span><span class="op" id="6046420">.</span><span class="ident" id="6046421">ReadCloser</span><span class="op" id="6046431">)</span>&nbsp;<span class="op" id="6046433">*</span><span class="ident" id="6046434"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6046438">.</span><span class="ident" id="6046439">Lexer</span>&nbsp;<span class="op" id="6046445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046448">ret</span>&nbsp;<span class="op" id="6046452">:=</span>&nbsp;<span class="ident" id="6046455"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6046459">.</span><span class="ident" id="6046460">NewLexer</span><span class="op" id="6046468">(</span><span class="ident" id="6046469"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046403">file</a></span><span class="op" id="6046473">,</span>&nbsp;<span class="ident" id="6046475"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046416">r</a></span><span class="op" id="6046476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046479"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046448">ret</a></span><span class="op" id="6046482">.</span><span class="ident" id="6046483">LexFunc</span>&nbsp;<span class="op" id="6046491">=</span>&nbsp;<span class="ident" id="6046493"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045870">lexAsm8</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046502">return</span>&nbsp;<span class="ident" id="6046509"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046448">ret</a></span><br>
<span class="lineno">45</span><span class="op" id="6046513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6046516">//&nbsp;Tokens&nbsp;parses&nbsp;a&nbsp;file&nbsp;in&nbsp;a&nbsp;token&nbsp;array</span><br>
<span class="lineno"></span><span class="keyword" id="6046557">func</span>&nbsp;<span class="ident" id="6046562">Tokens</span><span class="op" id="6046568">(</span><span class="ident" id="6046569">f</span>&nbsp;<span class="builtintype" id="6046571">string</span><span class="op" id="6046577">,</span>&nbsp;<span class="ident" id="6046579">r</span>&nbsp;<span class="ident" id="6046581"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045833">io</a></span><span class="op" id="6046583">.</span><span class="ident" id="6046584">ReadCloser</span><span class="op" id="6046594">)</span>&nbsp;<span class="op" id="6046596">(</span><span class="op" id="6046597">[</span><span class="op" id="6046598">]</span><span class="op" id="6046599">*</span><span class="ident" id="6046600"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6046604">.</span><span class="ident" id="6046605">Token</span><span class="op" id="6046610">,</span>&nbsp;<span class="op" id="6046612">[</span><span class="op" id="6046613">]</span><span class="op" id="6046614">*</span><span class="ident" id="6046615"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6046619">.</span><span class="ident" id="6046620">Error</span><span class="op" id="6046625">)</span>&nbsp;<span class="op" id="6046627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046630">x</span>&nbsp;<span class="op" id="6046632">:=</span>&nbsp;<span class="ident" id="6046635"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046394">newLexer</a></span><span class="op" id="6046643">(</span><span class="ident" id="6046644"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046569">f</a></span><span class="op" id="6046645">,</span>&nbsp;<span class="ident" id="6046647"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046579">r</a></span><span class="op" id="6046648">)</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046652">var</span>&nbsp;<span class="ident" id="6046656">ret</span>&nbsp;<span class="op" id="6046660">[</span><span class="op" id="6046661">]</span><span class="op" id="6046662">*</span><span class="ident" id="6046663"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6046667">.</span><span class="ident" id="6046668">Token</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046676">for</span>&nbsp;<span class="op" id="6046680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046684">t</span>&nbsp;<span class="op" id="6046686">:=</span>&nbsp;<span class="ident" id="6046689"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046630">x</a></span><span class="op" id="6046690">.</span><span class="ident" id="6046691">Token</span><span class="op" id="6046696">(</span><span class="op" id="6046697">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046701"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046656">ret</a></span>&nbsp;<span class="op" id="6046705">=</span>&nbsp;<span class="builtinfunc" id="6046707">append</span><span class="op" id="6046713">(</span><span class="ident" id="6046714"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046656">ret</a></span><span class="op" id="6046717">,</span>&nbsp;<span class="ident" id="6046719"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046684">t</a></span><span class="op" id="6046720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046724">if</span>&nbsp;<span class="ident" id="6046727"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046684">t</a></span><span class="op" id="6046728">.</span><span class="ident" id="6046729">Type</span>&nbsp;<span class="op" id="6046734">==</span>&nbsp;<span class="ident" id="6046737"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6045840">lex8</a></span><span class="op" id="6046741">.</span><span class="ident" id="6046742">EOF</span>&nbsp;<span class="op" id="6046746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046751">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6046759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6046762">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6046766">errs</span>&nbsp;<span class="op" id="6046771">:=</span>&nbsp;<span class="ident" id="6046774"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046630">x</a></span><span class="op" id="6046775">.</span><span class="ident" id="6046776">Errs</span><span class="op" id="6046780">(</span><span class="op" id="6046781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046784">if</span>&nbsp;<span class="ident" id="6046787"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046766">errs</a></span>&nbsp;<span class="op" id="6046792">!=</span>&nbsp;<span class="ident" id="6046795">nil</span>&nbsp;<span class="op" id="6046799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046803">return</span>&nbsp;<span class="ident" id="6046810">nil</span><span class="op" id="6046813">,</span>&nbsp;<span class="ident" id="6046815"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046766">errs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6046821">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6046825">return</span>&nbsp;<span class="ident" id="6046832"><a href="/lonnie.io/e8vm/asm8/lex_all.go.html#6046656">ret</a></span><span class="op" id="6046835">,</span>&nbsp;<span class="ident" id="6046837">nil</span><br>
<span class="lineno"></span><span class="op" id="6046841">}</span>
</div>
</body>
</html>
