<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html" class="current">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8286641">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8286696">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8286750">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8286801">package</span>&nbsp;<span class="ident" id="8286809">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8286819">//&nbsp;Tests&nbsp;for&nbsp;mulitple-template&nbsp;parsing&nbsp;and&nbsp;execution.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286874">import</span>&nbsp;<span class="op" id="8286881">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8286884">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8286893">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8286900">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8286911">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8286922">&#34;text/template/parse&#34;</span><br>
<span class="lineno">15</span><span class="op" id="8286944">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286947">const</span>&nbsp;<span class="op" id="8286953">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8286956">noError</span>&nbsp;&nbsp;<span class="op" id="8286965">=</span>&nbsp;<span class="builtintype" id="8286967">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8286973">hasError</span>&nbsp;<span class="op" id="8286982">=</span>&nbsp;<span class="builtintype" id="8286984">false</span><br>
<span class="lineno">20</span><span class="op" id="8286990">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8286993">type</span>&nbsp;<span class="ident" id="8286998">multiParseTest</span>&nbsp;<span class="keyword" id="8287013">struct</span>&nbsp;<span class="op" id="8287020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287023">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287031">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287039">input</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287047">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287055">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287063">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287069">names</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8287077">[</span><span class="op" id="8287078">]</span><span class="builtintype" id="8287079">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287087">results</span>&nbsp;<span class="op" id="8287095">[</span><span class="op" id="8287096">]</span><span class="builtintype" id="8287097">string</span><br>
<span class="lineno"></span><span class="op" id="8287104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="8287107">var</span>&nbsp;<span class="ident" id="8287111">multiParseTests</span>&nbsp;<span class="op" id="8287127">=</span>&nbsp;<span class="op" id="8287129">[</span><span class="op" id="8287130">]</span><span class="ident" id="8287131"><a href="/gostd/text/template/multi_test.go.html#8286998">multiParseTest</a></span><span class="op" id="8287145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287148">{</span><span class="string" id="8287149">&#34;empty&#34;</span><span class="op" id="8287156">,</span>&nbsp;<span class="string" id="8287158">&#34;&#34;</span><span class="op" id="8287160">,</span>&nbsp;<span class="ident" id="8287162"><a href="/gostd/text/template/multi_test.go.html#8286956">noError</a></span><span class="op" id="8287169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287173">nil</span><span class="op" id="8287176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287180">nil</span><span class="op" id="8287183">}</span><span class="op" id="8287184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287187">{</span><span class="string" id="8287188">&#34;one&#34;</span><span class="op" id="8287193">,</span>&nbsp;<span class="string" id="8287195">`{{define&nbsp;&#34;foo&#34;}}&nbsp;FOO&nbsp;{{end}}`</span><span class="op" id="8287225">,</span>&nbsp;<span class="ident" id="8287227"><a href="/gostd/text/template/multi_test.go.html#8286956">noError</a></span><span class="op" id="8287234">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287238">[</span><span class="op" id="8287239">]</span><span class="builtintype" id="8287240">string</span><span class="op" id="8287246">{</span><span class="string" id="8287247">&#34;foo&#34;</span><span class="op" id="8287252">}</span><span class="op" id="8287253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287257">[</span><span class="op" id="8287258">]</span><span class="builtintype" id="8287259">string</span><span class="op" id="8287265">{</span><span class="string" id="8287266">&#34;&nbsp;FOO&nbsp;&#34;</span><span class="op" id="8287273">}</span><span class="op" id="8287274">}</span><span class="op" id="8287275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287278">{</span><span class="string" id="8287279">&#34;two&#34;</span><span class="op" id="8287284">,</span>&nbsp;<span class="string" id="8287286">`{{define&nbsp;&#34;foo&#34;}}&nbsp;FOO&nbsp;{{end}}{{define&nbsp;&#34;bar&#34;}}&nbsp;BAR&nbsp;{{end}}`</span><span class="op" id="8287344">,</span>&nbsp;<span class="ident" id="8287346"><a href="/gostd/text/template/multi_test.go.html#8286956">noError</a></span><span class="op" id="8287353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287357">[</span><span class="op" id="8287358">]</span><span class="builtintype" id="8287359">string</span><span class="op" id="8287365">{</span><span class="string" id="8287366">&#34;foo&#34;</span><span class="op" id="8287371">,</span>&nbsp;<span class="string" id="8287373">&#34;bar&#34;</span><span class="op" id="8287378">}</span><span class="op" id="8287379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287383">[</span><span class="op" id="8287384">]</span><span class="builtintype" id="8287385">string</span><span class="op" id="8287391">{</span><span class="string" id="8287392">&#34;&nbsp;FOO&nbsp;&#34;</span><span class="op" id="8287399">,</span>&nbsp;<span class="string" id="8287401">&#34;&nbsp;BAR&nbsp;&#34;</span><span class="op" id="8287408">}</span><span class="op" id="8287409">}</span><span class="op" id="8287410">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8287413">//&nbsp;errors</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287424">{</span><span class="string" id="8287425">&#34;missing&nbsp;end&#34;</span><span class="op" id="8287438">,</span>&nbsp;<span class="string" id="8287440">`{{define&nbsp;&#34;foo&#34;}}&nbsp;FOO&nbsp;`</span><span class="op" id="8287463">,</span>&nbsp;<span class="ident" id="8287465"><a href="/gostd/text/template/multi_test.go.html#8286973">hasError</a></span><span class="op" id="8287473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287477">nil</span><span class="op" id="8287480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287484">nil</span><span class="op" id="8287487">}</span><span class="op" id="8287488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8287491">{</span><span class="string" id="8287492">&#34;malformed&nbsp;name&#34;</span><span class="op" id="8287508">,</span>&nbsp;<span class="string" id="8287510">`{{define&nbsp;&#34;foo}}&nbsp;FOO&nbsp;`</span><span class="op" id="8287532">,</span>&nbsp;<span class="ident" id="8287534"><a href="/gostd/text/template/multi_test.go.html#8286973">hasError</a></span><span class="op" id="8287542">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287546">nil</span><span class="op" id="8287549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8287553">nil</span><span class="op" id="8287556">}</span><span class="op" id="8287557">,</span><br>
<span class="lineno"></span><span class="op" id="8287559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8287562">func</span>&nbsp;<span class="ident" id="8287567">TestMultiParse</span><span class="op" id="8287581">(</span><span class="ident" id="8287582">t</span>&nbsp;<span class="op" id="8287584">*</span><span class="ident" id="8287585"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8287592">.</span><span class="ident" id="8287593"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8287594">)</span>&nbsp;<span class="op" id="8287596">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287599">for</span>&nbsp;<span class="ident" id="8287603">_</span><span class="op" id="8287604">,</span>&nbsp;<span class="ident" id="8287606">test</span>&nbsp;<span class="op" id="8287611">:=</span>&nbsp;<span class="keyword" id="8287614">range</span>&nbsp;<span class="ident" id="8287620"><a href="/gostd/text/template/multi_test.go.html#8287111">multiParseTests</a></span>&nbsp;<span class="op" id="8287636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287640">template</span><span class="op" id="8287648">,</span>&nbsp;<span class="ident" id="8287650">err</span>&nbsp;<span class="op" id="8287654">:=</span>&nbsp;<span class="ident" id="8287657"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8287660">(</span><span class="string" id="8287661">&#34;root&#34;</span><span class="op" id="8287667">)</span><span class="op" id="8287668">.</span><span class="ident" id="8287669"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8287674">(</span><span class="ident" id="8287675"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8287679">.</span><span class="ident" id="8287680"><a href="/gostd/text/template/multi_test.go.html#8287039">input</a></span><span class="op" id="8287685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287689">switch</span>&nbsp;<span class="op" id="8287696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287700">case</span>&nbsp;<span class="ident" id="8287705"><a href="/gostd/text/template/multi_test.go.html#8287650">err</a></span>&nbsp;<span class="op" id="8287709">==</span>&nbsp;<span class="builtintype" id="8287712">nil</span>&nbsp;<span class="op" id="8287716">&amp;&amp;</span>&nbsp;<span class="op" id="8287719">!</span><span class="ident" id="8287720"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8287724">.</span><span class="ident" id="8287725"><a href="/gostd/text/template/multi_test.go.html#8287055">ok</a></span><span class="op" id="8287727">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287732"><a href="/gostd/text/template/multi_test.go.html#8287582">t</a></span><span class="op" id="8287733">.</span><span class="ident" id="8287734"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8287740">(</span><span class="string" id="8287741">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8287771">,</span>&nbsp;<span class="ident" id="8287773"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8287777">.</span><span class="ident" id="8287778"><a href="/gostd/text/template/multi_test.go.html#8287023">name</a></span><span class="op" id="8287782">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287787">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287798">case</span>&nbsp;<span class="ident" id="8287803"><a href="/gostd/text/template/multi_test.go.html#8287650">err</a></span>&nbsp;<span class="op" id="8287807">!=</span>&nbsp;<span class="builtintype" id="8287810">nil</span>&nbsp;<span class="op" id="8287814">&amp;&amp;</span>&nbsp;<span class="ident" id="8287817"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8287821">.</span><span class="ident" id="8287822"><a href="/gostd/text/template/multi_test.go.html#8287055">ok</a></span><span class="op" id="8287824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287829"><a href="/gostd/text/template/multi_test.go.html#8287582">t</a></span><span class="op" id="8287830">.</span><span class="ident" id="8287831"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8287837">(</span><span class="string" id="8287838">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8287864">,</span>&nbsp;<span class="ident" id="8287866"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8287870">.</span><span class="ident" id="8287871"><a href="/gostd/text/template/multi_test.go.html#8287023">name</a></span><span class="op" id="8287875">,</span>&nbsp;<span class="ident" id="8287877"><a href="/gostd/text/template/multi_test.go.html#8287650">err</a></span><span class="op" id="8287880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287885">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287896">case</span>&nbsp;<span class="ident" id="8287901"><a href="/gostd/text/template/multi_test.go.html#8287650">err</a></span>&nbsp;<span class="op" id="8287905">!=</span>&nbsp;<span class="builtintype" id="8287908">nil</span>&nbsp;<span class="op" id="8287912">&amp;&amp;</span>&nbsp;<span class="op" id="8287915">!</span><span class="ident" id="8287916"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8287920">.</span><span class="ident" id="8287921"><a href="/gostd/text/template/multi_test.go.html#8287055">ok</a></span><span class="op" id="8287923">:</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8287928">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8287958">if</span>&nbsp;<span class="op" id="8287961">*</span><span class="ident" id="8287962"><a href="/gostd/text/template/exec_test.go.html#8252648">debug</a></span>&nbsp;<span class="op" id="8287968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8287974"><a href="/gostd/text/template/multi_test.go.html#8286893">fmt</a></span><span class="op" id="8287977">.</span><span class="ident" id="8287978"><a href="/gostd/fmt/print.go.html#2143442">Printf</a></span><span class="op" id="8287984">(</span><span class="string" id="8287985">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="8288001">,</span>&nbsp;<span class="ident" id="8288003"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288007">.</span><span class="ident" id="8288008"><a href="/gostd/text/template/multi_test.go.html#8287023">name</a></span><span class="op" id="8288012">,</span>&nbsp;<span class="ident" id="8288014"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288018">.</span><span class="ident" id="8288019"><a href="/gostd/text/template/multi_test.go.html#8287039">input</a></span><span class="op" id="8288024">,</span>&nbsp;<span class="ident" id="8288026"><a href="/gostd/text/template/multi_test.go.html#8287650">err</a></span><span class="op" id="8288029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288039">continue</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288054">if</span>&nbsp;<span class="ident" id="8288057"><a href="/gostd/text/template/multi_test.go.html#8287640">template</a></span>&nbsp;<span class="op" id="8288066">==</span>&nbsp;<span class="builtintype" id="8288069">nil</span>&nbsp;<span class="op" id="8288073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288078">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288093">if</span>&nbsp;<span class="builtinfunc" id="8288096">len</span><span class="op" id="8288099">(</span><span class="ident" id="8288100"><a href="/gostd/text/template/multi_test.go.html#8287640">template</a></span><span class="op" id="8288108">.</span><span class="ident" id="8288109"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="8288113">)</span>&nbsp;<span class="op" id="8288115">!=</span>&nbsp;<span class="builtinfunc" id="8288118">len</span><span class="op" id="8288121">(</span><span class="ident" id="8288122"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288126">.</span><span class="ident" id="8288127"><a href="/gostd/text/template/multi_test.go.html#8287069">names</a></span><span class="op" id="8288132">)</span><span class="op" id="8288133">+</span><span class="num" id="8288134">1</span>&nbsp;<span class="op" id="8288136">{</span>&nbsp;<span class="comment" id="8288138">//&nbsp;+1&nbsp;for&nbsp;root</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8288156"><a href="/gostd/text/template/multi_test.go.html#8287582">t</a></span><span class="op" id="8288157">.</span><span class="ident" id="8288158"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8288164">(</span><span class="string" id="8288165">&#34;%s:&nbsp;wrong&nbsp;number&nbsp;of&nbsp;templates;&nbsp;wanted&nbsp;%d&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8288214">,</span>&nbsp;<span class="ident" id="8288216"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288220">.</span><span class="ident" id="8288221"><a href="/gostd/text/template/multi_test.go.html#8287023">name</a></span><span class="op" id="8288225">,</span>&nbsp;<span class="builtinfunc" id="8288227">len</span><span class="op" id="8288230">(</span><span class="ident" id="8288231"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288235">.</span><span class="ident" id="8288236"><a href="/gostd/text/template/multi_test.go.html#8287069">names</a></span><span class="op" id="8288241">)</span><span class="op" id="8288242">,</span>&nbsp;<span class="builtinfunc" id="8288244">len</span><span class="op" id="8288247">(</span><span class="ident" id="8288248"><a href="/gostd/text/template/multi_test.go.html#8287640">template</a></span><span class="op" id="8288256">.</span><span class="ident" id="8288257"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="8288261">)</span><span class="op" id="8288262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288267">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288282">for</span>&nbsp;<span class="ident" id="8288286">i</span><span class="op" id="8288287">,</span>&nbsp;<span class="ident" id="8288289">name</span>&nbsp;<span class="op" id="8288294">:=</span>&nbsp;<span class="keyword" id="8288297">range</span>&nbsp;<span class="ident" id="8288303"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288307">.</span><span class="ident" id="8288308"><a href="/gostd/text/template/multi_test.go.html#8287069">names</a></span>&nbsp;<span class="op" id="8288314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8288319">tmpl</span><span class="op" id="8288323">,</span>&nbsp;<span class="ident" id="8288325">ok</span>&nbsp;<span class="op" id="8288328">:=</span>&nbsp;<span class="ident" id="8288331"><a href="/gostd/text/template/multi_test.go.html#8287640">template</a></span><span class="op" id="8288339">.</span><span class="ident" id="8288340"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="8288344">[</span><span class="ident" id="8288345"><a href="/gostd/text/template/multi_test.go.html#8288289">name</a></span><span class="op" id="8288349">]</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288354">if</span>&nbsp;<span class="op" id="8288357">!</span><span class="ident" id="8288358"><a href="/gostd/text/template/multi_test.go.html#8288325">ok</a></span>&nbsp;<span class="op" id="8288361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8288367"><a href="/gostd/text/template/multi_test.go.html#8287582">t</a></span><span class="op" id="8288368">.</span><span class="ident" id="8288369"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8288375">(</span><span class="string" id="8288376">&#34;%s:&nbsp;can&#39;t&nbsp;find&nbsp;template&nbsp;%q&#34;</span><span class="op" id="8288404">,</span>&nbsp;<span class="ident" id="8288406"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288410">.</span><span class="ident" id="8288411"><a href="/gostd/text/template/multi_test.go.html#8287023">name</a></span><span class="op" id="8288415">,</span>&nbsp;<span class="ident" id="8288417"><a href="/gostd/text/template/multi_test.go.html#8288289">name</a></span><span class="op" id="8288421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288427">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8288444">result</span>&nbsp;<span class="op" id="8288451">:=</span>&nbsp;<span class="ident" id="8288454"><a href="/gostd/text/template/multi_test.go.html#8288319">tmpl</a></span><span class="op" id="8288458">.</span><span class="ident" id="8288459"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="8288463">.</span><span class="ident" id="8288464"><a href="/gostd/text/template/parse/node.go.html#3162977">String</a></span><span class="op" id="8288470">(</span><span class="op" id="8288471">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8288476">if</span>&nbsp;<span class="ident" id="8288479"><a href="/gostd/text/template/multi_test.go.html#8288444">result</a></span>&nbsp;<span class="op" id="8288486">!=</span>&nbsp;<span class="ident" id="8288489"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288493">.</span><span class="ident" id="8288494"><a href="/gostd/text/template/multi_test.go.html#8287087">results</a></span><span class="op" id="8288501">[</span><span class="ident" id="8288502"><a href="/gostd/text/template/multi_test.go.html#8288286">i</a></span><span class="op" id="8288503">]</span>&nbsp;<span class="op" id="8288505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8288511"><a href="/gostd/text/template/multi_test.go.html#8287582">t</a></span><span class="op" id="8288512">.</span><span class="ident" id="8288513"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8288519">(</span><span class="string" id="8288520">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="8288556">,</span>&nbsp;<span class="ident" id="8288558"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288562">.</span><span class="ident" id="8288563"><a href="/gostd/text/template/multi_test.go.html#8287023">name</a></span><span class="op" id="8288567">,</span>&nbsp;<span class="ident" id="8288569"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288573">.</span><span class="ident" id="8288574"><a href="/gostd/text/template/multi_test.go.html#8287039">input</a></span><span class="op" id="8288579">,</span>&nbsp;<span class="ident" id="8288581"><a href="/gostd/text/template/multi_test.go.html#8288444">result</a></span><span class="op" id="8288587">,</span>&nbsp;<span class="ident" id="8288589"><a href="/gostd/text/template/multi_test.go.html#8287606">test</a></span><span class="op" id="8288593">.</span><span class="ident" id="8288594"><a href="/gostd/text/template/multi_test.go.html#8287087">results</a></span><span class="op" id="8288601">[</span><span class="ident" id="8288602"><a href="/gostd/text/template/multi_test.go.html#8288286">i</a></span><span class="op" id="8288603">]</span><span class="op" id="8288604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288616">}</span><br>
<span class="lineno">85</span><span class="op" id="8288618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8288621">var</span>&nbsp;<span class="ident" id="8288625">multiExecTests</span>&nbsp;<span class="op" id="8288640">=</span>&nbsp;<span class="op" id="8288642">[</span><span class="op" id="8288643">]</span><span class="ident" id="8288644"><a href="/gostd/text/template/exec_test.go.html#8256906">execTest</a></span><span class="op" id="8288652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288655">{</span><span class="string" id="8288656">&#34;empty&#34;</span><span class="op" id="8288663">,</span>&nbsp;<span class="string" id="8288665">&#34;&#34;</span><span class="op" id="8288667">,</span>&nbsp;<span class="string" id="8288669">&#34;&#34;</span><span class="op" id="8288671">,</span>&nbsp;<span class="builtintype" id="8288673">nil</span><span class="op" id="8288676">,</span>&nbsp;<span class="builtintype" id="8288678">true</span><span class="op" id="8288682">}</span><span class="op" id="8288683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288686">{</span><span class="string" id="8288687">&#34;text&#34;</span><span class="op" id="8288693">,</span>&nbsp;<span class="string" id="8288695">&#34;some&nbsp;text&#34;</span><span class="op" id="8288706">,</span>&nbsp;<span class="string" id="8288708">&#34;some&nbsp;text&#34;</span><span class="op" id="8288719">,</span>&nbsp;<span class="builtintype" id="8288721">nil</span><span class="op" id="8288724">,</span>&nbsp;<span class="builtintype" id="8288726">true</span><span class="op" id="8288730">}</span><span class="op" id="8288731">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288734">{</span><span class="string" id="8288735">&#34;invoke&nbsp;x&#34;</span><span class="op" id="8288745">,</span>&nbsp;<span class="string" id="8288747">`{{template&nbsp;&#34;x&#34;&nbsp;.SI}}`</span><span class="op" id="8288769">,</span>&nbsp;<span class="string" id="8288771">&#34;TEXT&#34;</span><span class="op" id="8288777">,</span>&nbsp;<span class="ident" id="8288779"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8288783">,</span>&nbsp;<span class="builtintype" id="8288785">true</span><span class="op" id="8288789">}</span><span class="op" id="8288790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288793">{</span><span class="string" id="8288794">&#34;invoke&nbsp;x&nbsp;no&nbsp;args&#34;</span><span class="op" id="8288812">,</span>&nbsp;<span class="string" id="8288814">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="8288832">,</span>&nbsp;<span class="string" id="8288834">&#34;TEXT&#34;</span><span class="op" id="8288840">,</span>&nbsp;<span class="ident" id="8288842"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8288846">,</span>&nbsp;<span class="builtintype" id="8288848">true</span><span class="op" id="8288852">}</span><span class="op" id="8288853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288856">{</span><span class="string" id="8288857">&#34;invoke&nbsp;dot&nbsp;int&#34;</span><span class="op" id="8288873">,</span>&nbsp;<span class="string" id="8288875">`{{template&nbsp;&#34;dot&#34;&nbsp;.I}}`</span><span class="op" id="8288898">,</span>&nbsp;<span class="string" id="8288900">&#34;17&#34;</span><span class="op" id="8288904">,</span>&nbsp;<span class="ident" id="8288906"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8288910">,</span>&nbsp;<span class="builtintype" id="8288912">true</span><span class="op" id="8288916">}</span><span class="op" id="8288917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288920">{</span><span class="string" id="8288921">&#34;invoke&nbsp;dot&nbsp;[]int&#34;</span><span class="op" id="8288939">,</span>&nbsp;<span class="string" id="8288941">`{{template&nbsp;&#34;dot&#34;&nbsp;.SI}}`</span><span class="op" id="8288965">,</span>&nbsp;<span class="string" id="8288967">&#34;[3&nbsp;4&nbsp;5]&#34;</span><span class="op" id="8288976">,</span>&nbsp;<span class="ident" id="8288978"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8288982">,</span>&nbsp;<span class="builtintype" id="8288984">true</span><span class="op" id="8288988">}</span><span class="op" id="8288989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8288992">{</span><span class="string" id="8288993">&#34;invoke&nbsp;dotV&#34;</span><span class="op" id="8289006">,</span>&nbsp;<span class="string" id="8289008">`{{template&nbsp;&#34;dotV&#34;&nbsp;.U}}`</span><span class="op" id="8289032">,</span>&nbsp;<span class="string" id="8289034">&#34;v&#34;</span><span class="op" id="8289037">,</span>&nbsp;<span class="ident" id="8289039"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8289043">,</span>&nbsp;<span class="builtintype" id="8289045">true</span><span class="op" id="8289049">}</span><span class="op" id="8289050">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289053">{</span><span class="string" id="8289054">&#34;invoke&nbsp;nested&nbsp;int&#34;</span><span class="op" id="8289073">,</span>&nbsp;<span class="string" id="8289075">`{{template&nbsp;&#34;nested&#34;&nbsp;.I}}`</span><span class="op" id="8289101">,</span>&nbsp;<span class="string" id="8289103">&#34;17&#34;</span><span class="op" id="8289107">,</span>&nbsp;<span class="ident" id="8289109"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8289113">,</span>&nbsp;<span class="builtintype" id="8289115">true</span><span class="op" id="8289119">}</span><span class="op" id="8289120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289123">{</span><span class="string" id="8289124">&#34;variable&nbsp;declared&nbsp;by&nbsp;template&#34;</span><span class="op" id="8289155">,</span>&nbsp;<span class="string" id="8289157">`{{template&nbsp;&#34;nested&#34;&nbsp;$x:=.SI}},{{index&nbsp;$x&nbsp;1}}`</span><span class="op" id="8289203">,</span>&nbsp;<span class="string" id="8289205">&#34;[3&nbsp;4&nbsp;5],4&#34;</span><span class="op" id="8289216">,</span>&nbsp;<span class="ident" id="8289218"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8289222">,</span>&nbsp;<span class="builtintype" id="8289224">true</span><span class="op" id="8289228">}</span><span class="op" id="8289229">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8289233">//&nbsp;User-defined&nbsp;function:&nbsp;test&nbsp;argument&nbsp;evaluator.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289285">{</span><span class="string" id="8289286">&#34;testFunc&nbsp;literal&#34;</span><span class="op" id="8289304">,</span>&nbsp;<span class="string" id="8289306">`{{oneArg&nbsp;&#34;joe&#34;}}`</span><span class="op" id="8289324">,</span>&nbsp;<span class="string" id="8289326">&#34;oneArg=joe&#34;</span><span class="op" id="8289338">,</span>&nbsp;<span class="ident" id="8289340"><a href="/gostd/text/template/exec_test.go.html#8254285">tVal</a></span><span class="op" id="8289344">,</span>&nbsp;<span class="builtintype" id="8289346">true</span><span class="op" id="8289350">}</span><span class="op" id="8289351">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289354">{</span><span class="string" id="8289355">&#34;testFunc&nbsp;.&#34;</span><span class="op" id="8289367">,</span>&nbsp;<span class="string" id="8289369">`{{oneArg&nbsp;.}}`</span><span class="op" id="8289383">,</span>&nbsp;<span class="string" id="8289385">&#34;oneArg=joe&#34;</span><span class="op" id="8289397">,</span>&nbsp;<span class="string" id="8289399">&#34;joe&#34;</span><span class="op" id="8289404">,</span>&nbsp;<span class="builtintype" id="8289406">true</span><span class="op" id="8289410">}</span><span class="op" id="8289411">,</span><br>
<span class="lineno"></span><span class="op" id="8289413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8289416">//&nbsp;These&nbsp;strings&nbsp;are&nbsp;also&nbsp;in&nbsp;testdata/*.</span><br>
<span class="lineno"></span><span class="keyword" id="8289457">const</span>&nbsp;<span class="ident" id="8289463">multiText1</span>&nbsp;<span class="op" id="8289474">=</span>&nbsp;<span class="string" id="8289476">`<br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;x&#34;}}TEXT{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;dotV&#34;}}{{.V}}{{end}}<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8289540">const</span>&nbsp;<span class="ident" id="8289546">multiText2</span>&nbsp;<span class="op" id="8289557">=</span>&nbsp;<span class="string" id="8289559">`<br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;dot&#34;}}{{.}}{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;{{define&nbsp;&#34;nested&#34;}}{{template&nbsp;&#34;dot&#34;&nbsp;.}}{{end}}<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8289642">func</span>&nbsp;<span class="ident" id="8289647">TestMultiExecute</span><span class="op" id="8289663">(</span><span class="ident" id="8289664">t</span>&nbsp;<span class="op" id="8289666">*</span><span class="ident" id="8289667"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8289674">.</span><span class="ident" id="8289675"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8289676">)</span>&nbsp;<span class="op" id="8289678">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8289681">//&nbsp;Declare&nbsp;a&nbsp;couple&nbsp;of&nbsp;templates&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289722">template</span><span class="op" id="8289730">,</span>&nbsp;<span class="ident" id="8289732">err</span>&nbsp;<span class="op" id="8289736">:=</span>&nbsp;<span class="ident" id="8289739"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8289742">(</span><span class="string" id="8289743">&#34;root&#34;</span><span class="op" id="8289749">)</span><span class="op" id="8289750">.</span><span class="ident" id="8289751"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8289756">(</span><span class="ident" id="8289757"><a href="/gostd/text/template/multi_test.go.html#8289463">multiText1</a></span><span class="op" id="8289767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8289770">if</span>&nbsp;<span class="ident" id="8289773"><a href="/gostd/text/template/multi_test.go.html#8289732">err</a></span>&nbsp;<span class="op" id="8289777">!=</span>&nbsp;<span class="builtintype" id="8289780">nil</span>&nbsp;<span class="op" id="8289784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289788"><a href="/gostd/text/template/multi_test.go.html#8289664">t</a></span><span class="op" id="8289789">.</span><span class="ident" id="8289790"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8289796">(</span><span class="string" id="8289797">&#34;parse&nbsp;error&nbsp;for&nbsp;1:&nbsp;%s&#34;</span><span class="op" id="8289820">,</span>&nbsp;<span class="ident" id="8289822"><a href="/gostd/text/template/multi_test.go.html#8289732">err</a></span><span class="op" id="8289825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289828">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289831">_</span><span class="op" id="8289832">,</span>&nbsp;<span class="ident" id="8289834"><a href="/gostd/text/template/multi_test.go.html#8289732">err</a></span>&nbsp;<span class="op" id="8289838">=</span>&nbsp;<span class="ident" id="8289840"><a href="/gostd/text/template/multi_test.go.html#8289722">template</a></span><span class="op" id="8289848">.</span><span class="ident" id="8289849"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8289854">(</span><span class="ident" id="8289855"><a href="/gostd/text/template/multi_test.go.html#8289546">multiText2</a></span><span class="op" id="8289865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8289868">if</span>&nbsp;<span class="ident" id="8289871"><a href="/gostd/text/template/multi_test.go.html#8289732">err</a></span>&nbsp;<span class="op" id="8289875">!=</span>&nbsp;<span class="builtintype" id="8289878">nil</span>&nbsp;<span class="op" id="8289882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289886"><a href="/gostd/text/template/multi_test.go.html#8289664">t</a></span><span class="op" id="8289887">.</span><span class="ident" id="8289888"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8289894">(</span><span class="string" id="8289895">&#34;parse&nbsp;error&nbsp;for&nbsp;2:&nbsp;%s&#34;</span><span class="op" id="8289918">,</span>&nbsp;<span class="ident" id="8289920"><a href="/gostd/text/template/multi_test.go.html#8289732">err</a></span><span class="op" id="8289923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8289926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8289929"><a href="/gostd/text/template/exec_test.go.html#8275152">testExecute</a></span><span class="op" id="8289940">(</span><span class="ident" id="8289941"><a href="/gostd/text/template/multi_test.go.html#8288625">multiExecTests</a></span><span class="op" id="8289955">,</span>&nbsp;<span class="ident" id="8289957"><a href="/gostd/text/template/multi_test.go.html#8289722">template</a></span><span class="op" id="8289965">,</span>&nbsp;<span class="ident" id="8289967"><a href="/gostd/text/template/multi_test.go.html#8289664">t</a></span><span class="op" id="8289968">)</span><br>
<span class="lineno">125</span><span class="op" id="8289970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8289973">func</span>&nbsp;<span class="ident" id="8289978">TestParseFiles</span><span class="op" id="8289992">(</span><span class="ident" id="8289993">t</span>&nbsp;<span class="op" id="8289995">*</span><span class="ident" id="8289996"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8290003">.</span><span class="ident" id="8290004"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8290005">)</span>&nbsp;<span class="op" id="8290007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290010">_</span><span class="op" id="8290011">,</span>&nbsp;<span class="ident" id="8290013">err</span>&nbsp;<span class="op" id="8290017">:=</span>&nbsp;<span class="ident" id="8290020"><a href="/gostd/text/template/helper.go.html#3736208">ParseFiles</a></span><span class="op" id="8290030">(</span><span class="string" id="8290031">&#34;DOES&nbsp;NOT&nbsp;EXIST&#34;</span><span class="op" id="8290047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290050">if</span>&nbsp;<span class="ident" id="8290053"><a href="/gostd/text/template/multi_test.go.html#8290013">err</a></span>&nbsp;<span class="op" id="8290057">==</span>&nbsp;<span class="builtintype" id="8290060">nil</span>&nbsp;<span class="op" id="8290064">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290068"><a href="/gostd/text/template/multi_test.go.html#8289993">t</a></span><span class="op" id="8290069">.</span><span class="ident" id="8290070"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8290075">(</span><span class="string" id="8290076">&#34;expected&nbsp;error&nbsp;for&nbsp;non-existent&nbsp;file;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8290124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290130">template</span>&nbsp;<span class="op" id="8290139">:=</span>&nbsp;<span class="ident" id="8290142"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8290145">(</span><span class="string" id="8290146">&#34;root&#34;</span><span class="op" id="8290152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290155">_</span><span class="op" id="8290156">,</span>&nbsp;<span class="ident" id="8290158"><a href="/gostd/text/template/multi_test.go.html#8290013">err</a></span>&nbsp;<span class="op" id="8290162">=</span>&nbsp;<span class="ident" id="8290164"><a href="/gostd/text/template/multi_test.go.html#8290130">template</a></span><span class="op" id="8290172">.</span><span class="ident" id="8290173"><a href="/gostd/text/template/helper.go.html#3736531">ParseFiles</a></span><span class="op" id="8290183">(</span><span class="string" id="8290184">&#34;testdata/file1.tmpl&#34;</span><span class="op" id="8290205">,</span>&nbsp;<span class="string" id="8290207">&#34;testdata/file2.tmpl&#34;</span><span class="op" id="8290228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290231">if</span>&nbsp;<span class="ident" id="8290234"><a href="/gostd/text/template/multi_test.go.html#8290013">err</a></span>&nbsp;<span class="op" id="8290238">!=</span>&nbsp;<span class="builtintype" id="8290241">nil</span>&nbsp;<span class="op" id="8290245">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290249"><a href="/gostd/text/template/multi_test.go.html#8289993">t</a></span><span class="op" id="8290250">.</span><span class="ident" id="8290251"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8290257">(</span><span class="string" id="8290258">&#34;error&nbsp;parsing&nbsp;files:&nbsp;%v&#34;</span><span class="op" id="8290283">,</span>&nbsp;<span class="ident" id="8290285"><a href="/gostd/text/template/multi_test.go.html#8290013">err</a></span><span class="op" id="8290288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290294"><a href="/gostd/text/template/exec_test.go.html#8275152">testExecute</a></span><span class="op" id="8290305">(</span><span class="ident" id="8290306"><a href="/gostd/text/template/multi_test.go.html#8288625">multiExecTests</a></span><span class="op" id="8290320">,</span>&nbsp;<span class="ident" id="8290322"><a href="/gostd/text/template/multi_test.go.html#8290130">template</a></span><span class="op" id="8290330">,</span>&nbsp;<span class="ident" id="8290332"><a href="/gostd/text/template/multi_test.go.html#8289993">t</a></span><span class="op" id="8290333">)</span><br>
<span class="lineno"></span><span class="op" id="8290335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8290338">func</span>&nbsp;<span class="ident" id="8290343">TestParseGlob</span><span class="op" id="8290356">(</span><span class="ident" id="8290357">t</span>&nbsp;<span class="op" id="8290359">*</span><span class="ident" id="8290360"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8290367">.</span><span class="ident" id="8290368"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8290369">)</span>&nbsp;<span class="op" id="8290371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290374">_</span><span class="op" id="8290375">,</span>&nbsp;<span class="ident" id="8290377">err</span>&nbsp;<span class="op" id="8290381">:=</span>&nbsp;<span class="ident" id="8290384"><a href="/gostd/text/template/helper.go.html#3738099">ParseGlob</a></span><span class="op" id="8290393">(</span><span class="string" id="8290394">&#34;DOES&nbsp;NOT&nbsp;EXIST&#34;</span><span class="op" id="8290410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290413">if</span>&nbsp;<span class="ident" id="8290416"><a href="/gostd/text/template/multi_test.go.html#8290377">err</a></span>&nbsp;<span class="op" id="8290420">==</span>&nbsp;<span class="builtintype" id="8290423">nil</span>&nbsp;<span class="op" id="8290427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290431"><a href="/gostd/text/template/multi_test.go.html#8290357">t</a></span><span class="op" id="8290432">.</span><span class="ident" id="8290433"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8290438">(</span><span class="string" id="8290439">&#34;expected&nbsp;error&nbsp;for&nbsp;non-existent&nbsp;file;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8290487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290490">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290493">_</span><span class="op" id="8290494">,</span>&nbsp;<span class="ident" id="8290496"><a href="/gostd/text/template/multi_test.go.html#8290377">err</a></span>&nbsp;<span class="op" id="8290500">=</span>&nbsp;<span class="ident" id="8290502"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8290505">(</span><span class="string" id="8290506">&#34;error&#34;</span><span class="op" id="8290513">)</span><span class="op" id="8290514">.</span><span class="ident" id="8290515"><a href="/gostd/text/template/helper.go.html#3738514">ParseGlob</a></span><span class="op" id="8290524">(</span><span class="string" id="8290525">&#34;[x&#34;</span><span class="op" id="8290529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290532">if</span>&nbsp;<span class="ident" id="8290535"><a href="/gostd/text/template/multi_test.go.html#8290377">err</a></span>&nbsp;<span class="op" id="8290539">==</span>&nbsp;<span class="builtintype" id="8290542">nil</span>&nbsp;<span class="op" id="8290546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290550"><a href="/gostd/text/template/multi_test.go.html#8290357">t</a></span><span class="op" id="8290551">.</span><span class="ident" id="8290552"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8290557">(</span><span class="string" id="8290558">&#34;expected&nbsp;error&nbsp;for&nbsp;bad&nbsp;pattern;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8290600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290603">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290606">template</span>&nbsp;<span class="op" id="8290615">:=</span>&nbsp;<span class="ident" id="8290618"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8290621">(</span><span class="string" id="8290622">&#34;root&#34;</span><span class="op" id="8290628">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290631">_</span><span class="op" id="8290632">,</span>&nbsp;<span class="ident" id="8290634"><a href="/gostd/text/template/multi_test.go.html#8290377">err</a></span>&nbsp;<span class="op" id="8290638">=</span>&nbsp;<span class="ident" id="8290640"><a href="/gostd/text/template/multi_test.go.html#8290606">template</a></span><span class="op" id="8290648">.</span><span class="ident" id="8290649"><a href="/gostd/text/template/helper.go.html#3738514">ParseGlob</a></span><span class="op" id="8290658">(</span><span class="string" id="8290659">&#34;testdata/file*.tmpl&#34;</span><span class="op" id="8290680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8290683">if</span>&nbsp;<span class="ident" id="8290686"><a href="/gostd/text/template/multi_test.go.html#8290377">err</a></span>&nbsp;<span class="op" id="8290690">!=</span>&nbsp;<span class="builtintype" id="8290693">nil</span>&nbsp;<span class="op" id="8290697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290701"><a href="/gostd/text/template/multi_test.go.html#8290357">t</a></span><span class="op" id="8290702">.</span><span class="ident" id="8290703"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8290709">(</span><span class="string" id="8290710">&#34;error&nbsp;parsing&nbsp;files:&nbsp;%v&#34;</span><span class="op" id="8290735">,</span>&nbsp;<span class="ident" id="8290737"><a href="/gostd/text/template/multi_test.go.html#8290377">err</a></span><span class="op" id="8290740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8290746"><a href="/gostd/text/template/exec_test.go.html#8275152">testExecute</a></span><span class="op" id="8290757">(</span><span class="ident" id="8290758"><a href="/gostd/text/template/multi_test.go.html#8288625">multiExecTests</a></span><span class="op" id="8290772">,</span>&nbsp;<span class="ident" id="8290774"><a href="/gostd/text/template/multi_test.go.html#8290606">template</a></span><span class="op" id="8290782">,</span>&nbsp;<span class="ident" id="8290784"><a href="/gostd/text/template/multi_test.go.html#8290357">t</a></span><span class="op" id="8290785">)</span><br>
<span class="lineno">155</span><span class="op" id="8290787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8290790">//&nbsp;In&nbsp;these&nbsp;tests,&nbsp;actual&nbsp;content&nbsp;(not&nbsp;just&nbsp;template&nbsp;definitions)&nbsp;comes&nbsp;from&nbsp;the&nbsp;parsed&nbsp;files.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8290886">var</span>&nbsp;<span class="ident" id="8290890">templateFileExecTests</span>&nbsp;<span class="op" id="8290912">=</span>&nbsp;<span class="op" id="8290914">[</span><span class="op" id="8290915">]</span><span class="ident" id="8290916"><a href="/gostd/text/template/exec_test.go.html#8256906">execTest</a></span><span class="op" id="8290924">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8290927">{</span><span class="string" id="8290928">&#34;test&#34;</span><span class="op" id="8290934">,</span>&nbsp;<span class="string" id="8290936">`{{template&nbsp;&#34;tmpl1.tmpl&#34;}}{{template&nbsp;&#34;tmpl2.tmpl&#34;}}`</span><span class="op" id="8290988">,</span>&nbsp;<span class="string" id="8290990">&#34;template1\n\ny\ntemplate2\n\nx\n&#34;</span><span class="op" id="8291024">,</span>&nbsp;<span class="num" id="8291026">0</span><span class="op" id="8291027">,</span>&nbsp;<span class="builtintype" id="8291029">true</span><span class="op" id="8291033">}</span><span class="op" id="8291034">,</span><br>
<span class="lineno"></span><span class="op" id="8291036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8291039">func</span>&nbsp;<span class="ident" id="8291044">TestParseFilesWithData</span><span class="op" id="8291066">(</span><span class="ident" id="8291067">t</span>&nbsp;<span class="op" id="8291069">*</span><span class="ident" id="8291070"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8291077">.</span><span class="ident" id="8291078"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8291079">)</span>&nbsp;<span class="op" id="8291081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291084">template</span><span class="op" id="8291092">,</span>&nbsp;<span class="ident" id="8291094">err</span>&nbsp;<span class="op" id="8291098">:=</span>&nbsp;<span class="ident" id="8291101"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8291104">(</span><span class="string" id="8291105">&#34;root&#34;</span><span class="op" id="8291111">)</span><span class="op" id="8291112">.</span><span class="ident" id="8291113"><a href="/gostd/text/template/helper.go.html#3736531">ParseFiles</a></span><span class="op" id="8291123">(</span><span class="string" id="8291124">&#34;testdata/tmpl1.tmpl&#34;</span><span class="op" id="8291145">,</span>&nbsp;<span class="string" id="8291147">&#34;testdata/tmpl2.tmpl&#34;</span><span class="op" id="8291168">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291171">if</span>&nbsp;<span class="ident" id="8291174"><a href="/gostd/text/template/multi_test.go.html#8291094">err</a></span>&nbsp;<span class="op" id="8291178">!=</span>&nbsp;<span class="builtintype" id="8291181">nil</span>&nbsp;<span class="op" id="8291185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291189"><a href="/gostd/text/template/multi_test.go.html#8291067">t</a></span><span class="op" id="8291190">.</span><span class="ident" id="8291191"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8291197">(</span><span class="string" id="8291198">&#34;error&nbsp;parsing&nbsp;files:&nbsp;%v&#34;</span><span class="op" id="8291223">,</span>&nbsp;<span class="ident" id="8291225"><a href="/gostd/text/template/multi_test.go.html#8291094">err</a></span><span class="op" id="8291228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291234"><a href="/gostd/text/template/exec_test.go.html#8275152">testExecute</a></span><span class="op" id="8291245">(</span><span class="ident" id="8291246"><a href="/gostd/text/template/multi_test.go.html#8290890">templateFileExecTests</a></span><span class="op" id="8291267">,</span>&nbsp;<span class="ident" id="8291269"><a href="/gostd/text/template/multi_test.go.html#8291084">template</a></span><span class="op" id="8291277">,</span>&nbsp;<span class="ident" id="8291279"><a href="/gostd/text/template/multi_test.go.html#8291067">t</a></span><span class="op" id="8291280">)</span><br>
<span class="lineno"></span><span class="op" id="8291282">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="8291285">func</span>&nbsp;<span class="ident" id="8291290">TestParseGlobWithData</span><span class="op" id="8291311">(</span><span class="ident" id="8291312">t</span>&nbsp;<span class="op" id="8291314">*</span><span class="ident" id="8291315"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8291322">.</span><span class="ident" id="8291323"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8291324">)</span>&nbsp;<span class="op" id="8291326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291329">template</span><span class="op" id="8291337">,</span>&nbsp;<span class="ident" id="8291339">err</span>&nbsp;<span class="op" id="8291343">:=</span>&nbsp;<span class="ident" id="8291346"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8291349">(</span><span class="string" id="8291350">&#34;root&#34;</span><span class="op" id="8291356">)</span><span class="op" id="8291357">.</span><span class="ident" id="8291358"><a href="/gostd/text/template/helper.go.html#3738514">ParseGlob</a></span><span class="op" id="8291367">(</span><span class="string" id="8291368">&#34;testdata/tmpl*.tmpl&#34;</span><span class="op" id="8291389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291392">if</span>&nbsp;<span class="ident" id="8291395"><a href="/gostd/text/template/multi_test.go.html#8291339">err</a></span>&nbsp;<span class="op" id="8291399">!=</span>&nbsp;<span class="builtintype" id="8291402">nil</span>&nbsp;<span class="op" id="8291406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291410"><a href="/gostd/text/template/multi_test.go.html#8291312">t</a></span><span class="op" id="8291411">.</span><span class="ident" id="8291412"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8291418">(</span><span class="string" id="8291419">&#34;error&nbsp;parsing&nbsp;files:&nbsp;%v&#34;</span><span class="op" id="8291444">,</span>&nbsp;<span class="ident" id="8291446"><a href="/gostd/text/template/multi_test.go.html#8291339">err</a></span><span class="op" id="8291449">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291455"><a href="/gostd/text/template/exec_test.go.html#8275152">testExecute</a></span><span class="op" id="8291466">(</span><span class="ident" id="8291467"><a href="/gostd/text/template/multi_test.go.html#8290890">templateFileExecTests</a></span><span class="op" id="8291488">,</span>&nbsp;<span class="ident" id="8291490"><a href="/gostd/text/template/multi_test.go.html#8291329">template</a></span><span class="op" id="8291498">,</span>&nbsp;<span class="ident" id="8291500"><a href="/gostd/text/template/multi_test.go.html#8291312">t</a></span><span class="op" id="8291501">)</span><br>
<span class="lineno"></span><span class="op" id="8291503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8291506">const</span>&nbsp;<span class="op" id="8291512">(</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291515">cloneText1</span>&nbsp;<span class="op" id="8291526">=</span>&nbsp;<span class="string" id="8291528">`{{define&nbsp;&#34;a&#34;}}{{template&nbsp;&#34;b&#34;}}{{template&nbsp;&#34;c&#34;}}{{end}}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291585">cloneText2</span>&nbsp;<span class="op" id="8291596">=</span>&nbsp;<span class="string" id="8291598">`{{define&nbsp;&#34;b&#34;}}b{{end}}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291624">cloneText3</span>&nbsp;<span class="op" id="8291635">=</span>&nbsp;<span class="string" id="8291637">`{{define&nbsp;&#34;c&#34;}}root{{end}}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291666">cloneText4</span>&nbsp;<span class="op" id="8291677">=</span>&nbsp;<span class="string" id="8291679">`{{define&nbsp;&#34;c&#34;}}clone{{end}}`</span><br>
<span class="lineno"></span><span class="op" id="8291708">)</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8291711">func</span>&nbsp;<span class="ident" id="8291716">TestClone</span><span class="op" id="8291725">(</span><span class="ident" id="8291726">t</span>&nbsp;<span class="op" id="8291728">*</span><span class="ident" id="8291729"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8291736">.</span><span class="ident" id="8291737"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8291738">)</span>&nbsp;<span class="op" id="8291740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8291743">//&nbsp;Create&nbsp;some&nbsp;templates&nbsp;and&nbsp;clone&nbsp;the&nbsp;root.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291789">root</span><span class="op" id="8291793">,</span>&nbsp;<span class="ident" id="8291795">err</span>&nbsp;<span class="op" id="8291799">:=</span>&nbsp;<span class="ident" id="8291802"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8291805">(</span><span class="string" id="8291806">&#34;root&#34;</span><span class="op" id="8291812">)</span><span class="op" id="8291813">.</span><span class="ident" id="8291814"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8291819">(</span><span class="ident" id="8291820"><a href="/gostd/text/template/multi_test.go.html#8291515">cloneText1</a></span><span class="op" id="8291830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291833">if</span>&nbsp;<span class="ident" id="8291836"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8291840">!=</span>&nbsp;<span class="builtintype" id="8291843">nil</span>&nbsp;<span class="op" id="8291847">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291851"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8291852">.</span><span class="ident" id="8291853"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8291858">(</span><span class="ident" id="8291859"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span><span class="op" id="8291862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291868">_</span><span class="op" id="8291869">,</span>&nbsp;<span class="ident" id="8291871"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8291875">=</span>&nbsp;<span class="ident" id="8291877"><a href="/gostd/text/template/multi_test.go.html#8291789">root</a></span><span class="op" id="8291881">.</span><span class="ident" id="8291882"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8291887">(</span><span class="ident" id="8291888"><a href="/gostd/text/template/multi_test.go.html#8291585">cloneText2</a></span><span class="op" id="8291898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8291901">if</span>&nbsp;<span class="ident" id="8291904"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8291908">!=</span>&nbsp;<span class="builtintype" id="8291911">nil</span>&nbsp;<span class="op" id="8291915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291919"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8291920">.</span><span class="ident" id="8291921"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8291926">(</span><span class="ident" id="8291927"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span><span class="op" id="8291930">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8291933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291936">clone</span>&nbsp;<span class="op" id="8291942">:=</span>&nbsp;<span class="ident" id="8291945"><a href="/gostd/text/template/helper.go.html#3735814">Must</a></span><span class="op" id="8291949">(</span><span class="ident" id="8291950"><a href="/gostd/text/template/multi_test.go.html#8291789">root</a></span><span class="op" id="8291954">.</span><span class="ident" id="8291955"><a href="/gostd/text/template/template.go.html#3741048">Clone</a></span><span class="op" id="8291960">(</span><span class="op" id="8291961">)</span><span class="op" id="8291962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8291965">//&nbsp;Add&nbsp;variants&nbsp;to&nbsp;both.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8291991">_</span><span class="op" id="8291992">,</span>&nbsp;<span class="ident" id="8291994"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8291998">=</span>&nbsp;<span class="ident" id="8292000"><a href="/gostd/text/template/multi_test.go.html#8291789">root</a></span><span class="op" id="8292004">.</span><span class="ident" id="8292005"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8292010">(</span><span class="ident" id="8292011"><a href="/gostd/text/template/multi_test.go.html#8291624">cloneText3</a></span><span class="op" id="8292021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292024">if</span>&nbsp;<span class="ident" id="8292027"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8292031">!=</span>&nbsp;<span class="builtintype" id="8292034">nil</span>&nbsp;<span class="op" id="8292038">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292042"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292043">.</span><span class="ident" id="8292044"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8292049">(</span><span class="ident" id="8292050"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span><span class="op" id="8292053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292059">_</span><span class="op" id="8292060">,</span>&nbsp;<span class="ident" id="8292062"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8292066">=</span>&nbsp;<span class="ident" id="8292068"><a href="/gostd/text/template/multi_test.go.html#8291936">clone</a></span><span class="op" id="8292073">.</span><span class="ident" id="8292074"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8292079">(</span><span class="ident" id="8292080"><a href="/gostd/text/template/multi_test.go.html#8291666">cloneText4</a></span><span class="op" id="8292090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292093">if</span>&nbsp;<span class="ident" id="8292096"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8292100">!=</span>&nbsp;<span class="builtintype" id="8292103">nil</span>&nbsp;<span class="op" id="8292107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292111"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292112">.</span><span class="ident" id="8292113"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8292118">(</span><span class="ident" id="8292119"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span><span class="op" id="8292122">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8292128">//&nbsp;Verify&nbsp;that&nbsp;the&nbsp;clone&nbsp;is&nbsp;self-consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292174">for</span>&nbsp;<span class="ident" id="8292178">k</span><span class="op" id="8292179">,</span>&nbsp;<span class="ident" id="8292181">v</span>&nbsp;<span class="op" id="8292183">:=</span>&nbsp;<span class="keyword" id="8292186">range</span>&nbsp;<span class="ident" id="8292192"><a href="/gostd/text/template/multi_test.go.html#8291936">clone</a></span><span class="op" id="8292197">.</span><span class="ident" id="8292198"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span>&nbsp;<span class="op" id="8292203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292207">if</span>&nbsp;<span class="ident" id="8292210"><a href="/gostd/text/template/multi_test.go.html#8292178">k</a></span>&nbsp;<span class="op" id="8292212">==</span>&nbsp;<span class="ident" id="8292215"><a href="/gostd/text/template/multi_test.go.html#8291936">clone</a></span><span class="op" id="8292220">.</span><span class="ident" id="8292221"><a href="/gostd/text/template/template.go.html#3739721">name</a></span>&nbsp;<span class="op" id="8292226">&amp;&amp;</span>&nbsp;<span class="ident" id="8292229"><a href="/gostd/text/template/multi_test.go.html#8292181">v</a></span><span class="op" id="8292230">.</span><span class="ident" id="8292231"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="8292235">[</span><span class="ident" id="8292236"><a href="/gostd/text/template/multi_test.go.html#8292178">k</a></span><span class="op" id="8292237">]</span>&nbsp;<span class="op" id="8292239">!=</span>&nbsp;<span class="ident" id="8292242"><a href="/gostd/text/template/multi_test.go.html#8291936">clone</a></span>&nbsp;<span class="op" id="8292248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292253"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292254">.</span><span class="ident" id="8292255"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="8292260">(</span><span class="string" id="8292261">&#34;clone&nbsp;does&nbsp;not&nbsp;contain&nbsp;root&#34;</span><span class="op" id="8292290">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292298">if</span>&nbsp;<span class="ident" id="8292301"><a href="/gostd/text/template/multi_test.go.html#8292181">v</a></span>&nbsp;<span class="op" id="8292303">!=</span>&nbsp;<span class="ident" id="8292306"><a href="/gostd/text/template/multi_test.go.html#8292181">v</a></span><span class="op" id="8292307">.</span><span class="ident" id="8292308"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="8292312">[</span><span class="ident" id="8292313"><a href="/gostd/text/template/multi_test.go.html#8292181">v</a></span><span class="op" id="8292314">.</span><span class="ident" id="8292315"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><span class="op" id="8292319">]</span>&nbsp;<span class="op" id="8292321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292326"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292327">.</span><span class="ident" id="8292328"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8292334">(</span><span class="string" id="8292335">&#34;clone&nbsp;does&nbsp;not&nbsp;contain&nbsp;self&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8292371">,</span>&nbsp;<span class="ident" id="8292373"><a href="/gostd/text/template/multi_test.go.html#8292178">k</a></span><span class="op" id="8292374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292381">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8292384">//&nbsp;Execute&nbsp;root.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292402">var</span>&nbsp;<span class="ident" id="8292406">b</span>&nbsp;<span class="ident" id="8292408"><a href="/gostd/text/template/multi_test.go.html#8286884">bytes</a></span><span class="op" id="8292413">.</span><span class="ident" id="8292414"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292422"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8292426">=</span>&nbsp;<span class="ident" id="8292428"><a href="/gostd/text/template/multi_test.go.html#8291789">root</a></span><span class="op" id="8292432">.</span><span class="ident" id="8292433"><a href="/gostd/text/template/exec.go.html#3697014">ExecuteTemplate</a></span><span class="op" id="8292448">(</span><span class="op" id="8292449">&amp;</span><span class="ident" id="8292450"><a href="/gostd/text/template/multi_test.go.html#8292406">b</a></span><span class="op" id="8292451">,</span>&nbsp;<span class="string" id="8292453">&#34;a&#34;</span><span class="op" id="8292456">,</span>&nbsp;<span class="num" id="8292458">0</span><span class="op" id="8292459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292462">if</span>&nbsp;<span class="ident" id="8292465"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8292469">!=</span>&nbsp;<span class="builtintype" id="8292472">nil</span>&nbsp;<span class="op" id="8292476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292480"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292481">.</span><span class="ident" id="8292482"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8292487">(</span><span class="ident" id="8292488"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span><span class="op" id="8292491">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292497">if</span>&nbsp;<span class="ident" id="8292500"><a href="/gostd/text/template/multi_test.go.html#8292406">b</a></span><span class="op" id="8292501">.</span><span class="ident" id="8292502"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8292508">(</span><span class="op" id="8292509">)</span>&nbsp;<span class="op" id="8292511">!=</span>&nbsp;<span class="string" id="8292514">&#34;broot&#34;</span>&nbsp;<span class="op" id="8292522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292526"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292527">.</span><span class="ident" id="8292528"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8292534">(</span><span class="string" id="8292535">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8292555">,</span>&nbsp;<span class="string" id="8292557">&#34;broot&#34;</span><span class="op" id="8292564">,</span>&nbsp;<span class="ident" id="8292566"><a href="/gostd/text/template/multi_test.go.html#8292406">b</a></span><span class="op" id="8292567">.</span><span class="ident" id="8292568"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8292574">(</span><span class="op" id="8292575">)</span><span class="op" id="8292576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8292582">//&nbsp;Execute&nbsp;copy.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292600"><a href="/gostd/text/template/multi_test.go.html#8292406">b</a></span><span class="op" id="8292601">.</span><span class="ident" id="8292602"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="8292607">(</span><span class="op" id="8292608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292611"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8292615">=</span>&nbsp;<span class="ident" id="8292617"><a href="/gostd/text/template/multi_test.go.html#8291936">clone</a></span><span class="op" id="8292622">.</span><span class="ident" id="8292623"><a href="/gostd/text/template/exec.go.html#3697014">ExecuteTemplate</a></span><span class="op" id="8292638">(</span><span class="op" id="8292639">&amp;</span><span class="ident" id="8292640"><a href="/gostd/text/template/multi_test.go.html#8292406">b</a></span><span class="op" id="8292641">,</span>&nbsp;<span class="string" id="8292643">&#34;a&#34;</span><span class="op" id="8292646">,</span>&nbsp;<span class="num" id="8292648">0</span><span class="op" id="8292649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292652">if</span>&nbsp;<span class="ident" id="8292655"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span>&nbsp;<span class="op" id="8292659">!=</span>&nbsp;<span class="builtintype" id="8292662">nil</span>&nbsp;<span class="op" id="8292666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292670"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292671">.</span><span class="ident" id="8292672"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8292677">(</span><span class="ident" id="8292678"><a href="/gostd/text/template/multi_test.go.html#8291795">err</a></span><span class="op" id="8292681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292684">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292687">if</span>&nbsp;<span class="ident" id="8292690"><a href="/gostd/text/template/multi_test.go.html#8292406">b</a></span><span class="op" id="8292691">.</span><span class="ident" id="8292692"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8292698">(</span><span class="op" id="8292699">)</span>&nbsp;<span class="op" id="8292701">!=</span>&nbsp;<span class="string" id="8292704">&#34;bclone&#34;</span>&nbsp;<span class="op" id="8292713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292717"><a href="/gostd/text/template/multi_test.go.html#8291726">t</a></span><span class="op" id="8292718">.</span><span class="ident" id="8292719"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8292725">(</span><span class="string" id="8292726">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8292746">,</span>&nbsp;<span class="string" id="8292748">&#34;bclone&#34;</span><span class="op" id="8292756">,</span>&nbsp;<span class="ident" id="8292758"><a href="/gostd/text/template/multi_test.go.html#8292406">b</a></span><span class="op" id="8292759">.</span><span class="ident" id="8292760"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8292766">(</span><span class="op" id="8292767">)</span><span class="op" id="8292768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292771">}</span><br>
<span class="lineno"></span><span class="op" id="8292773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8292776">func</span>&nbsp;<span class="ident" id="8292781">TestAddParseTree</span><span class="op" id="8292797">(</span><span class="ident" id="8292798">t</span>&nbsp;<span class="op" id="8292800">*</span><span class="ident" id="8292801"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8292808">.</span><span class="ident" id="8292809"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8292810">)</span>&nbsp;<span class="op" id="8292812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8292815">//&nbsp;Create&nbsp;some&nbsp;templates.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292842">root</span><span class="op" id="8292846">,</span>&nbsp;<span class="ident" id="8292848">err</span>&nbsp;<span class="op" id="8292852">:=</span>&nbsp;<span class="ident" id="8292855"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8292858">(</span><span class="string" id="8292859">&#34;root&#34;</span><span class="op" id="8292865">)</span><span class="op" id="8292866">.</span><span class="ident" id="8292867"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8292872">(</span><span class="ident" id="8292873"><a href="/gostd/text/template/multi_test.go.html#8291515">cloneText1</a></span><span class="op" id="8292883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292886">if</span>&nbsp;<span class="ident" id="8292889"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8292893">!=</span>&nbsp;<span class="builtintype" id="8292896">nil</span>&nbsp;<span class="op" id="8292900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292904"><a href="/gostd/text/template/multi_test.go.html#8292798">t</a></span><span class="op" id="8292905">.</span><span class="ident" id="8292906"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8292911">(</span><span class="ident" id="8292912"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span><span class="op" id="8292915">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292921">_</span><span class="op" id="8292922">,</span>&nbsp;<span class="ident" id="8292924"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8292928">=</span>&nbsp;<span class="ident" id="8292930"><a href="/gostd/text/template/multi_test.go.html#8292842">root</a></span><span class="op" id="8292934">.</span><span class="ident" id="8292935"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8292940">(</span><span class="ident" id="8292941"><a href="/gostd/text/template/multi_test.go.html#8291585">cloneText2</a></span><span class="op" id="8292951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8292954">if</span>&nbsp;<span class="ident" id="8292957"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8292961">!=</span>&nbsp;<span class="builtintype" id="8292964">nil</span>&nbsp;<span class="op" id="8292968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8292972"><a href="/gostd/text/template/multi_test.go.html#8292798">t</a></span><span class="op" id="8292973">.</span><span class="ident" id="8292974"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8292979">(</span><span class="ident" id="8292980"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span><span class="op" id="8292983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8292986">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8292989">//&nbsp;Add&nbsp;a&nbsp;new&nbsp;parse&nbsp;tree.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293015">tree</span><span class="op" id="8293019">,</span>&nbsp;<span class="ident" id="8293021"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8293025">:=</span>&nbsp;<span class="ident" id="8293028"><a href="/gostd/text/template/multi_test.go.html#8286922">parse</a></span><span class="op" id="8293033">.</span><span class="ident" id="8293034"><a href="/gostd/text/template/parse/parse.go.html#3182198">Parse</a></span><span class="op" id="8293039">(</span><span class="string" id="8293040">&#34;cloneText3&#34;</span><span class="op" id="8293052">,</span>&nbsp;<span class="ident" id="8293054"><a href="/gostd/text/template/multi_test.go.html#8291624">cloneText3</a></span><span class="op" id="8293064">,</span>&nbsp;<span class="string" id="8293066">&#34;&#34;</span><span class="op" id="8293068">,</span>&nbsp;<span class="string" id="8293070">&#34;&#34;</span><span class="op" id="8293072">,</span>&nbsp;<span class="builtintype" id="8293074">nil</span><span class="op" id="8293077">,</span>&nbsp;<span class="ident" id="8293079"><a href="/gostd/text/template/funcs.go.html#3721009">builtins</a></span><span class="op" id="8293087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293090">if</span>&nbsp;<span class="ident" id="8293093"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8293097">!=</span>&nbsp;<span class="builtintype" id="8293100">nil</span>&nbsp;<span class="op" id="8293104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293108"><a href="/gostd/text/template/multi_test.go.html#8292798">t</a></span><span class="op" id="8293109">.</span><span class="ident" id="8293110"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8293115">(</span><span class="ident" id="8293116"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span><span class="op" id="8293119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293122">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293125">added</span><span class="op" id="8293130">,</span>&nbsp;<span class="ident" id="8293132"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8293136">:=</span>&nbsp;<span class="ident" id="8293139"><a href="/gostd/text/template/multi_test.go.html#8292842">root</a></span><span class="op" id="8293143">.</span><span class="ident" id="8293144"><a href="/gostd/text/template/template.go.html#3741818">AddParseTree</a></span><span class="op" id="8293156">(</span><span class="string" id="8293157">&#34;c&#34;</span><span class="op" id="8293160">,</span>&nbsp;<span class="ident" id="8293162"><a href="/gostd/text/template/multi_test.go.html#8293015">tree</a></span><span class="op" id="8293166">[</span><span class="string" id="8293167">&#34;c&#34;</span><span class="op" id="8293170">]</span><span class="op" id="8293171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8293174">//&nbsp;Execute.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293187">var</span>&nbsp;<span class="ident" id="8293191">b</span>&nbsp;<span class="ident" id="8293193"><a href="/gostd/text/template/multi_test.go.html#8286884">bytes</a></span><span class="op" id="8293198">.</span><span class="ident" id="8293199"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293207"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8293211">=</span>&nbsp;<span class="ident" id="8293213"><a href="/gostd/text/template/multi_test.go.html#8293125">added</a></span><span class="op" id="8293218">.</span><span class="ident" id="8293219"><a href="/gostd/text/template/exec.go.html#3697014">ExecuteTemplate</a></span><span class="op" id="8293234">(</span><span class="op" id="8293235">&amp;</span><span class="ident" id="8293236"><a href="/gostd/text/template/multi_test.go.html#8293191">b</a></span><span class="op" id="8293237">,</span>&nbsp;<span class="string" id="8293239">&#34;a&#34;</span><span class="op" id="8293242">,</span>&nbsp;<span class="num" id="8293244">0</span><span class="op" id="8293245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293248">if</span>&nbsp;<span class="ident" id="8293251"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span>&nbsp;<span class="op" id="8293255">!=</span>&nbsp;<span class="builtintype" id="8293258">nil</span>&nbsp;<span class="op" id="8293262">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293266"><a href="/gostd/text/template/multi_test.go.html#8292798">t</a></span><span class="op" id="8293267">.</span><span class="ident" id="8293268"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8293273">(</span><span class="ident" id="8293274"><a href="/gostd/text/template/multi_test.go.html#8292848">err</a></span><span class="op" id="8293277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293283">if</span>&nbsp;<span class="ident" id="8293286"><a href="/gostd/text/template/multi_test.go.html#8293191">b</a></span><span class="op" id="8293287">.</span><span class="ident" id="8293288"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8293294">(</span><span class="op" id="8293295">)</span>&nbsp;<span class="op" id="8293297">!=</span>&nbsp;<span class="string" id="8293300">&#34;broot&#34;</span>&nbsp;<span class="op" id="8293308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293312"><a href="/gostd/text/template/multi_test.go.html#8292798">t</a></span><span class="op" id="8293313">.</span><span class="ident" id="8293314"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8293320">(</span><span class="string" id="8293321">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8293341">,</span>&nbsp;<span class="string" id="8293343">&#34;broot&#34;</span><span class="op" id="8293350">,</span>&nbsp;<span class="ident" id="8293352"><a href="/gostd/text/template/multi_test.go.html#8293191">b</a></span><span class="op" id="8293353">.</span><span class="ident" id="8293354"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="8293360">(</span><span class="op" id="8293361">)</span><span class="op" id="8293362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293365">}</span><br>
<span class="lineno">260</span><span class="op" id="8293367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8293370">//&nbsp;Issue&nbsp;7032</span><br>
<span class="lineno"></span><span class="keyword" id="8293384">func</span>&nbsp;<span class="ident" id="8293389">TestAddParseTreeToUnparsedTemplate</span><span class="op" id="8293423">(</span><span class="ident" id="8293424">t</span>&nbsp;<span class="op" id="8293426">*</span><span class="ident" id="8293427"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8293434">.</span><span class="ident" id="8293435"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8293436">)</span>&nbsp;<span class="op" id="8293438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293441">master</span>&nbsp;<span class="op" id="8293448">:=</span>&nbsp;<span class="string" id="8293451">&#34;{{define&nbsp;\&#34;master\&#34;}}{{end}}&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293483">tmpl</span>&nbsp;<span class="op" id="8293488">:=</span>&nbsp;<span class="ident" id="8293491"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8293494">(</span><span class="string" id="8293495">&#34;master&#34;</span><span class="op" id="8293503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293506">tree</span><span class="op" id="8293510">,</span>&nbsp;<span class="ident" id="8293512">err</span>&nbsp;<span class="op" id="8293516">:=</span>&nbsp;<span class="ident" id="8293519"><a href="/gostd/text/template/multi_test.go.html#8286922">parse</a></span><span class="op" id="8293524">.</span><span class="ident" id="8293525"><a href="/gostd/text/template/parse/parse.go.html#3182198">Parse</a></span><span class="op" id="8293530">(</span><span class="string" id="8293531">&#34;master&#34;</span><span class="op" id="8293539">,</span>&nbsp;<span class="ident" id="8293541"><a href="/gostd/text/template/multi_test.go.html#8293441">master</a></span><span class="op" id="8293547">,</span>&nbsp;<span class="string" id="8293549">&#34;&#34;</span><span class="op" id="8293551">,</span>&nbsp;<span class="string" id="8293553">&#34;&#34;</span><span class="op" id="8293555">,</span>&nbsp;<span class="builtintype" id="8293557">nil</span><span class="op" id="8293560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293563">if</span>&nbsp;<span class="ident" id="8293566"><a href="/gostd/text/template/multi_test.go.html#8293512">err</a></span>&nbsp;<span class="op" id="8293570">!=</span>&nbsp;<span class="builtintype" id="8293573">nil</span>&nbsp;<span class="op" id="8293577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293581"><a href="/gostd/text/template/multi_test.go.html#8293424">t</a></span><span class="op" id="8293582">.</span><span class="ident" id="8293583"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8293589">(</span><span class="string" id="8293590">&#34;unexpected&nbsp;parse&nbsp;err:&nbsp;%v&#34;</span><span class="op" id="8293616">,</span>&nbsp;<span class="ident" id="8293618"><a href="/gostd/text/template/multi_test.go.html#8293512">err</a></span><span class="op" id="8293621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293624">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293627">masterTree</span>&nbsp;<span class="op" id="8293638">:=</span>&nbsp;<span class="ident" id="8293641"><a href="/gostd/text/template/multi_test.go.html#8293506">tree</a></span><span class="op" id="8293645">[</span><span class="string" id="8293646">&#34;master&#34;</span><span class="op" id="8293654">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293657"><a href="/gostd/text/template/multi_test.go.html#8293483">tmpl</a></span><span class="op" id="8293661">.</span><span class="ident" id="8293662"><a href="/gostd/text/template/template.go.html#3741818">AddParseTree</a></span><span class="op" id="8293674">(</span><span class="string" id="8293675">&#34;master&#34;</span><span class="op" id="8293683">,</span>&nbsp;<span class="ident" id="8293685"><a href="/gostd/text/template/multi_test.go.html#8293627">masterTree</a></span><span class="op" id="8293695">)</span>&nbsp;<span class="comment" id="8293697">//&nbsp;used&nbsp;to&nbsp;panic</span><br>
<span class="lineno"></span><span class="op" id="8293714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8293717">func</span>&nbsp;<span class="ident" id="8293722">TestRedefinition</span><span class="op" id="8293738">(</span><span class="ident" id="8293739">t</span>&nbsp;<span class="op" id="8293741">*</span><span class="ident" id="8293742"><a href="/gostd/text/template/multi_test.go.html#8286911">testing</a></span><span class="op" id="8293749">.</span><span class="ident" id="8293750"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8293751">)</span>&nbsp;<span class="op" id="8293753">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293756">var</span>&nbsp;<span class="ident" id="8293760">tmpl</span>&nbsp;<span class="op" id="8293765">*</span><span class="ident" id="8293766"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293776">var</span>&nbsp;<span class="ident" id="8293780">err</span>&nbsp;<span class="builtintype" id="8293784">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293791">if</span>&nbsp;<span class="ident" id="8293794"><a href="/gostd/text/template/multi_test.go.html#8293760">tmpl</a></span><span class="op" id="8293798">,</span>&nbsp;<span class="ident" id="8293800"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span>&nbsp;<span class="op" id="8293804">=</span>&nbsp;<span class="ident" id="8293806"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="8293809">(</span><span class="string" id="8293810">&#34;tmpl1&#34;</span><span class="op" id="8293817">)</span><span class="op" id="8293818">.</span><span class="ident" id="8293819"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8293824">(</span><span class="string" id="8293825">`{{define&nbsp;&#34;test&#34;}}foo{{end}}`</span><span class="op" id="8293854">)</span><span class="op" id="8293855">;</span>&nbsp;<span class="ident" id="8293857"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span>&nbsp;<span class="op" id="8293861">!=</span>&nbsp;<span class="builtintype" id="8293864">nil</span>&nbsp;<span class="op" id="8293868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293872"><a href="/gostd/text/template/multi_test.go.html#8293739">t</a></span><span class="op" id="8293873">.</span><span class="ident" id="8293874"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8293880">(</span><span class="string" id="8293881">&#34;parse&nbsp;1:&nbsp;%v&#34;</span><span class="op" id="8293894">,</span>&nbsp;<span class="ident" id="8293896"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span><span class="op" id="8293899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8293902">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8293905">if</span>&nbsp;<span class="ident" id="8293908">_</span><span class="op" id="8293909">,</span>&nbsp;<span class="ident" id="8293911"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span>&nbsp;<span class="op" id="8293915">=</span>&nbsp;<span class="ident" id="8293917"><a href="/gostd/text/template/multi_test.go.html#8293760">tmpl</a></span><span class="op" id="8293921">.</span><span class="ident" id="8293922"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8293927">(</span><span class="string" id="8293928">`{{define&nbsp;&#34;test&#34;}}bar{{end}}`</span><span class="op" id="8293957">)</span><span class="op" id="8293958">;</span>&nbsp;<span class="ident" id="8293960"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span>&nbsp;<span class="op" id="8293964">==</span>&nbsp;<span class="builtintype" id="8293967">nil</span>&nbsp;<span class="op" id="8293971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8293975"><a href="/gostd/text/template/multi_test.go.html#8293739">t</a></span><span class="op" id="8293976">.</span><span class="ident" id="8293977"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8293982">(</span><span class="string" id="8293983">&#34;expected&nbsp;error&#34;</span><span class="op" id="8293999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294005">if</span>&nbsp;<span class="op" id="8294008">!</span><span class="ident" id="8294009"><a href="/gostd/text/template/multi_test.go.html#8286900">strings</a></span><span class="op" id="8294016">.</span><span class="ident" id="8294017"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="8294025">(</span><span class="ident" id="8294026"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span><span class="op" id="8294029">.</span><span class="ident" id="8294030">Error</span><span class="op" id="8294035">(</span><span class="op" id="8294036">)</span><span class="op" id="8294037">,</span>&nbsp;<span class="string" id="8294039">&#34;redefinition&#34;</span><span class="op" id="8294053">)</span>&nbsp;<span class="op" id="8294055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294059"><a href="/gostd/text/template/multi_test.go.html#8293739">t</a></span><span class="op" id="8294060">.</span><span class="ident" id="8294061"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8294067">(</span><span class="string" id="8294068">&#34;expected&nbsp;redefinition&nbsp;error;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8294105">,</span>&nbsp;<span class="ident" id="8294107"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span><span class="op" id="8294110">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294116">if</span>&nbsp;<span class="ident" id="8294119">_</span><span class="op" id="8294120">,</span>&nbsp;<span class="ident" id="8294122"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span>&nbsp;<span class="op" id="8294126">=</span>&nbsp;<span class="ident" id="8294128"><a href="/gostd/text/template/multi_test.go.html#8293760">tmpl</a></span><span class="op" id="8294132">.</span><span class="ident" id="8294133"><a href="/gostd/text/template/template.go.html#3740238">New</a></span><span class="op" id="8294136">(</span><span class="string" id="8294137">&#34;tmpl2&#34;</span><span class="op" id="8294144">)</span><span class="op" id="8294145">.</span><span class="ident" id="8294146"><a href="/gostd/text/template/template.go.html#3744049">Parse</a></span><span class="op" id="8294151">(</span><span class="string" id="8294152">`{{define&nbsp;&#34;test&#34;}}bar{{end}}`</span><span class="op" id="8294181">)</span><span class="op" id="8294182">;</span>&nbsp;<span class="ident" id="8294184"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span>&nbsp;<span class="op" id="8294188">==</span>&nbsp;<span class="builtintype" id="8294191">nil</span>&nbsp;<span class="op" id="8294195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294199"><a href="/gostd/text/template/multi_test.go.html#8293739">t</a></span><span class="op" id="8294200">.</span><span class="ident" id="8294201"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="8294206">(</span><span class="string" id="8294207">&#34;expected&nbsp;error&#34;</span><span class="op" id="8294223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8294229">if</span>&nbsp;<span class="op" id="8294232">!</span><span class="ident" id="8294233"><a href="/gostd/text/template/multi_test.go.html#8286900">strings</a></span><span class="op" id="8294240">.</span><span class="ident" id="8294241"><a href="/gostd/strings/strings.go.html#2968416">Contains</a></span><span class="op" id="8294249">(</span><span class="ident" id="8294250"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span><span class="op" id="8294253">.</span><span class="ident" id="8294254">Error</span><span class="op" id="8294259">(</span><span class="op" id="8294260">)</span><span class="op" id="8294261">,</span>&nbsp;<span class="string" id="8294263">&#34;redefinition&#34;</span><span class="op" id="8294277">)</span>&nbsp;<span class="op" id="8294279">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8294283"><a href="/gostd/text/template/multi_test.go.html#8293739">t</a></span><span class="op" id="8294284">.</span><span class="ident" id="8294285"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="8294291">(</span><span class="string" id="8294292">&#34;expected&nbsp;redefinition&nbsp;error;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8294329">,</span>&nbsp;<span class="ident" id="8294331"><a href="/gostd/text/template/multi_test.go.html#8293780">err</a></span><span class="op" id="8294334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8294337">}</span><br>
<span class="lineno"></span><span class="op" id="8294339">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
