<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8053349">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8053404">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8053458">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8053509">package</span>&nbsp;<span class="ident" id="8053517">crc32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8053524">import</span>&nbsp;<span class="op" id="8053531">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8053534">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8053540">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8053550">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8053553">type</span>&nbsp;<span class="ident" id="8053558">test</span>&nbsp;<span class="keyword" id="8053563">struct</span>&nbsp;<span class="op" id="8053570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053573">ieee</span><span class="op" id="8053577">,</span>&nbsp;<span class="ident" id="8053579">castagnoli</span>&nbsp;<span class="builtintype" id="8053590">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8053598">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8053615">string</span><br>
<span class="lineno">15</span><span class="op" id="8053622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8053625">var</span>&nbsp;<span class="ident" id="8053629">golden</span>&nbsp;<span class="op" id="8053636">=</span>&nbsp;<span class="op" id="8053638">[</span><span class="op" id="8053639">]</span><span class="ident" id="8053640"><a href="/hash/crc32/crc32_test.go.html#8053558">test</a></span><span class="op" id="8053644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053647">{</span><span class="num" id="8053648">0x0</span><span class="op" id="8053651">,</span>&nbsp;<span class="num" id="8053653">0x0</span><span class="op" id="8053656">,</span>&nbsp;<span class="string" id="8053658">&#34;&#34;</span><span class="op" id="8053660">}</span><span class="op" id="8053661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053664">{</span><span class="num" id="8053665">0xe8b7be43</span><span class="op" id="8053675">,</span>&nbsp;<span class="num" id="8053677">0xc1d04330</span><span class="op" id="8053687">,</span>&nbsp;<span class="string" id="8053689">&#34;a&#34;</span><span class="op" id="8053692">}</span><span class="op" id="8053693">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053696">{</span><span class="num" id="8053697">0x9e83486d</span><span class="op" id="8053707">,</span>&nbsp;<span class="num" id="8053709">0xe2a22936</span><span class="op" id="8053719">,</span>&nbsp;<span class="string" id="8053721">&#34;ab&#34;</span><span class="op" id="8053725">}</span><span class="op" id="8053726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053729">{</span><span class="num" id="8053730">0x352441c2</span><span class="op" id="8053740">,</span>&nbsp;<span class="num" id="8053742">0x364b3fb7</span><span class="op" id="8053752">,</span>&nbsp;<span class="string" id="8053754">&#34;abc&#34;</span><span class="op" id="8053759">}</span><span class="op" id="8053760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053763">{</span><span class="num" id="8053764">0xed82cd11</span><span class="op" id="8053774">,</span>&nbsp;<span class="num" id="8053776">0x92c80a31</span><span class="op" id="8053786">,</span>&nbsp;<span class="string" id="8053788">&#34;abcd&#34;</span><span class="op" id="8053794">}</span><span class="op" id="8053795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053798">{</span><span class="num" id="8053799">0x8587d865</span><span class="op" id="8053809">,</span>&nbsp;<span class="num" id="8053811">0xc450d697</span><span class="op" id="8053821">,</span>&nbsp;<span class="string" id="8053823">&#34;abcde&#34;</span><span class="op" id="8053830">}</span><span class="op" id="8053831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053834">{</span><span class="num" id="8053835">0x4b8e39ef</span><span class="op" id="8053845">,</span>&nbsp;<span class="num" id="8053847">0x53bceff1</span><span class="op" id="8053857">,</span>&nbsp;<span class="string" id="8053859">&#34;abcdef&#34;</span><span class="op" id="8053867">}</span><span class="op" id="8053868">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053871">{</span><span class="num" id="8053872">0x312a6aa6</span><span class="op" id="8053882">,</span>&nbsp;<span class="num" id="8053884">0xe627f441</span><span class="op" id="8053894">,</span>&nbsp;<span class="string" id="8053896">&#34;abcdefg&#34;</span><span class="op" id="8053905">}</span><span class="op" id="8053906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053909">{</span><span class="num" id="8053910">0xaeef2a50</span><span class="op" id="8053920">,</span>&nbsp;<span class="num" id="8053922">0xa9421b7</span><span class="op" id="8053931">,</span>&nbsp;<span class="string" id="8053933">&#34;abcdefgh&#34;</span><span class="op" id="8053943">}</span><span class="op" id="8053944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053947">{</span><span class="num" id="8053948">0x8da988af</span><span class="op" id="8053958">,</span>&nbsp;<span class="num" id="8053960">0x2ddc99fc</span><span class="op" id="8053970">,</span>&nbsp;<span class="string" id="8053972">&#34;abcdefghi&#34;</span><span class="op" id="8053983">}</span><span class="op" id="8053984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8053987">{</span><span class="num" id="8053988">0x3981703a</span><span class="op" id="8053998">,</span>&nbsp;<span class="num" id="8054000">0xe6599437</span><span class="op" id="8054010">,</span>&nbsp;<span class="string" id="8054012">&#34;abcdefghij&#34;</span><span class="op" id="8054024">}</span><span class="op" id="8054025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054028">{</span><span class="num" id="8054029">0x6b9cdfe7</span><span class="op" id="8054039">,</span>&nbsp;<span class="num" id="8054041">0xb2cc01fe</span><span class="op" id="8054051">,</span>&nbsp;<span class="string" id="8054053">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="8054096">}</span><span class="op" id="8054097">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054100">{</span><span class="num" id="8054101">0xc90ef73f</span><span class="op" id="8054111">,</span>&nbsp;<span class="num" id="8054113">0xe28207f</span><span class="op" id="8054122">,</span>&nbsp;<span class="string" id="8054124">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="8054183">}</span><span class="op" id="8054184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054187">{</span><span class="num" id="8054188">0xb902341f</span><span class="op" id="8054198">,</span>&nbsp;<span class="num" id="8054200">0xbe93f964</span><span class="op" id="8054210">,</span>&nbsp;<span class="string" id="8054212">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="8054256">}</span><span class="op" id="8054257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054260">{</span><span class="num" id="8054261">0x42080e8</span><span class="op" id="8054270">,</span>&nbsp;<span class="num" id="8054272">0x9e3be0c3</span><span class="op" id="8054282">,</span>&nbsp;<span class="string" id="8054284">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="8054343">}</span><span class="op" id="8054344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054347">{</span><span class="num" id="8054348">0x154c6d11</span><span class="op" id="8054358">,</span>&nbsp;<span class="num" id="8054360">0xf505ef04</span><span class="op" id="8054370">,</span>&nbsp;<span class="string" id="8054372">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="8054432">}</span><span class="op" id="8054433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054436">{</span><span class="num" id="8054437">0x4c418325</span><span class="op" id="8054447">,</span>&nbsp;<span class="num" id="8054449">0x85d3dc82</span><span class="op" id="8054459">,</span>&nbsp;<span class="string" id="8054461">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="8054490">}</span><span class="op" id="8054491">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054494">{</span><span class="num" id="8054495">0x33955150</span><span class="op" id="8054505">,</span>&nbsp;<span class="num" id="8054507">0xc5142380</span><span class="op" id="8054517">,</span>&nbsp;<span class="string" id="8054519">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="8054588">}</span><span class="op" id="8054589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054592">{</span><span class="num" id="8054593">0x26216a4b</span><span class="op" id="8054603">,</span>&nbsp;<span class="num" id="8054605">0x75eb77dd</span><span class="op" id="8054615">,</span>&nbsp;<span class="string" id="8054617">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="8054676">}</span><span class="op" id="8054677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054680">{</span><span class="num" id="8054681">0x1abbe45e</span><span class="op" id="8054691">,</span>&nbsp;<span class="num" id="8054693">0x91ebe9f7</span><span class="op" id="8054703">,</span>&nbsp;<span class="string" id="8054705">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="8054795">}</span><span class="op" id="8054796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054799">{</span><span class="num" id="8054800">0xc89a94f7</span><span class="op" id="8054810">,</span>&nbsp;<span class="num" id="8054812">0xf0b1168e</span><span class="op" id="8054822">,</span>&nbsp;<span class="string" id="8054824">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="8054901">}</span><span class="op" id="8054902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054905">{</span><span class="num" id="8054906">0xab3abe14</span><span class="op" id="8054916">,</span>&nbsp;<span class="num" id="8054918">0x572b74e2</span><span class="op" id="8054928">,</span>&nbsp;<span class="string" id="8054930">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="8054956">}</span><span class="op" id="8054957">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8054960">{</span><span class="num" id="8054961">0xbab102b6</span><span class="op" id="8054971">,</span>&nbsp;<span class="num" id="8054973">0x8a58a6d5</span><span class="op" id="8054983">,</span>&nbsp;<span class="string" id="8054985">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="8055036">}</span><span class="op" id="8055037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055040">{</span><span class="num" id="8055041">0x999149d7</span><span class="op" id="8055051">,</span>&nbsp;<span class="num" id="8055053">0x9c426c50</span><span class="op" id="8055063">,</span>&nbsp;<span class="string" id="8055065">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="8055139">}</span><span class="op" id="8055140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055143">{</span><span class="num" id="8055144">0x6d52a33c</span><span class="op" id="8055154">,</span>&nbsp;<span class="num" id="8055156">0x735400a4</span><span class="op" id="8055166">,</span>&nbsp;<span class="string" id="8055168">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="8055216">}</span><span class="op" id="8055217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055220">{</span><span class="num" id="8055221">0x90631e8d</span><span class="op" id="8055231">,</span>&nbsp;<span class="num" id="8055233">0xbec49c95</span><span class="op" id="8055243">,</span>&nbsp;<span class="string" id="8055245">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="8055317">}</span><span class="op" id="8055318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055321">{</span><span class="num" id="8055322">0x78309130</span><span class="op" id="8055332">,</span>&nbsp;<span class="num" id="8055334">0xa95a2079</span><span class="op" id="8055344">,</span>&nbsp;<span class="string" id="8055346">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="8055416">}</span><span class="op" id="8055417">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055420">{</span><span class="num" id="8055421">0x7d0a377f</span><span class="op" id="8055431">,</span>&nbsp;<span class="num" id="8055433">0xde2e65c5</span><span class="op" id="8055443">,</span>&nbsp;<span class="string" id="8055445">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="8055479">}</span><span class="op" id="8055480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055483">{</span><span class="num" id="8055484">0x8c79fd79</span><span class="op" id="8055494">,</span>&nbsp;<span class="num" id="8055496">0x297a88ed</span><span class="op" id="8055506">,</span>&nbsp;<span class="string" id="8055508">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="8055598">}</span><span class="op" id="8055599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055602">{</span><span class="num" id="8055603">0xa20b7167</span><span class="op" id="8055613">,</span>&nbsp;<span class="num" id="8055615">0x66ed1d8b</span><span class="op" id="8055625">,</span>&nbsp;<span class="string" id="8055627">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="8055761">}</span><span class="op" id="8055762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8055765">{</span><span class="num" id="8055766">0x8e0bb443</span><span class="op" id="8055776">,</span>&nbsp;<span class="num" id="8055778">0xdcded527</span><span class="op" id="8055788">,</span>&nbsp;<span class="string" id="8055790">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="8055848">}</span><span class="op" id="8055849">,</span><br>
<span class="lineno"></span><span class="op" id="8055851">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="8055854">func</span>&nbsp;<span class="ident" id="8055859">TestGolden</span><span class="op" id="8055869">(</span><span class="ident" id="8055870">t</span>&nbsp;<span class="op" id="8055872">*</span><span class="ident" id="8055873"><a href="/hash/crc32/crc32_test.go.html#8053540">testing</a></span><span class="op" id="8055880">.</span><span class="ident" id="8055881">T</span><span class="op" id="8055882">)</span>&nbsp;<span class="op" id="8055884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055887">castagnoliTab</span>&nbsp;<span class="op" id="8055901">:=</span>&nbsp;<span class="ident" id="8055904"><a href="/hash/crc32/crc32.go.html#3113821">MakeTable</a></span><span class="op" id="8055913">(</span><span class="ident" id="8055914"><a href="/hash/crc32/crc32.go.html#3112987">Castagnoli</a></span><span class="op" id="8055924">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8055928">for</span>&nbsp;<span class="ident" id="8055932">_</span><span class="op" id="8055933">,</span>&nbsp;<span class="ident" id="8055935">g</span>&nbsp;<span class="op" id="8055937">:=</span>&nbsp;<span class="keyword" id="8055940">range</span>&nbsp;<span class="ident" id="8055946"><a href="/hash/crc32/crc32_test.go.html#8053629">golden</a></span>&nbsp;<span class="op" id="8055953">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055957">ieee</span>&nbsp;<span class="op" id="8055962">:=</span>&nbsp;<span class="ident" id="8055965"><a href="/hash/crc32/crc32.go.html#3114704">NewIEEE</a></span><span class="op" id="8055972">(</span><span class="op" id="8055973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8055977"><a href="/hash/crc32/crc32_test.go.html#8053534">io</a></span><span class="op" id="8055979">.</span><span class="ident" id="8055980">WriteString</span><span class="op" id="8055991">(</span><span class="ident" id="8055992"><a href="/hash/crc32/crc32_test.go.html#8055957">ieee</a></span><span class="op" id="8055996">,</span>&nbsp;<span class="ident" id="8055998"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8055999">.</span><span class="ident" id="8056000">in</span><span class="op" id="8056002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056006">s</span>&nbsp;<span class="op" id="8056008">:=</span>&nbsp;<span class="ident" id="8056011"><a href="/hash/crc32/crc32_test.go.html#8055957">ieee</a></span><span class="op" id="8056015">.</span><span class="ident" id="8056016">Sum32</span><span class="op" id="8056021">(</span><span class="op" id="8056022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056026">if</span>&nbsp;<span class="ident" id="8056029"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span>&nbsp;<span class="op" id="8056031">!=</span>&nbsp;<span class="ident" id="8056034"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056035">.</span><span class="ident" id="8056036">ieee</span>&nbsp;<span class="op" id="8056041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056046"><a href="/hash/crc32/crc32_test.go.html#8055870">t</a></span><span class="op" id="8056047">.</span><span class="ident" id="8056048">Errorf</span><span class="op" id="8056054">(</span><span class="string" id="8056055">&#34;IEEE(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8056082">,</span>&nbsp;<span class="ident" id="8056084"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056085">.</span><span class="ident" id="8056086">in</span><span class="op" id="8056088">,</span>&nbsp;<span class="ident" id="8056090"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span><span class="op" id="8056091">,</span>&nbsp;<span class="ident" id="8056093"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056094">.</span><span class="ident" id="8056095">ieee</span><span class="op" id="8056099">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056108">castagnoli</span>&nbsp;<span class="op" id="8056119">:=</span>&nbsp;<span class="ident" id="8056122"><a href="/hash/crc32/crc32.go.html#3114546">New</a></span><span class="op" id="8056125">(</span><span class="ident" id="8056126"><a href="/hash/crc32/crc32_test.go.html#8055887">castagnoliTab</a></span><span class="op" id="8056139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056143"><a href="/hash/crc32/crc32_test.go.html#8053534">io</a></span><span class="op" id="8056145">.</span><span class="ident" id="8056146">WriteString</span><span class="op" id="8056157">(</span><span class="ident" id="8056158"><a href="/hash/crc32/crc32_test.go.html#8056108">castagnoli</a></span><span class="op" id="8056168">,</span>&nbsp;<span class="ident" id="8056170"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056171">.</span><span class="ident" id="8056172">in</span><span class="op" id="8056174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056178"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span>&nbsp;<span class="op" id="8056180">=</span>&nbsp;<span class="ident" id="8056182"><a href="/hash/crc32/crc32_test.go.html#8056108">castagnoli</a></span><span class="op" id="8056192">.</span><span class="ident" id="8056193">Sum32</span><span class="op" id="8056198">(</span><span class="op" id="8056199">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056203">if</span>&nbsp;<span class="ident" id="8056206"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span>&nbsp;<span class="op" id="8056208">!=</span>&nbsp;<span class="ident" id="8056211"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056212">.</span><span class="ident" id="8056213">castagnoli</span>&nbsp;<span class="op" id="8056224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056229"><a href="/hash/crc32/crc32_test.go.html#8055870">t</a></span><span class="op" id="8056230">.</span><span class="ident" id="8056231">Errorf</span><span class="op" id="8056237">(</span><span class="string" id="8056238">&#34;Castagnoli(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8056271">,</span>&nbsp;<span class="ident" id="8056273"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056274">.</span><span class="ident" id="8056275">in</span><span class="op" id="8056277">,</span>&nbsp;<span class="ident" id="8056279"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span><span class="op" id="8056280">,</span>&nbsp;<span class="ident" id="8056282"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056283">.</span><span class="ident" id="8056284">castagnoli</span><span class="op" id="8056294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056303">if</span>&nbsp;<span class="builtinfunc" id="8056306">len</span><span class="op" id="8056309">(</span><span class="ident" id="8056310"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056311">.</span><span class="ident" id="8056312">in</span><span class="op" id="8056314">)</span>&nbsp;<span class="op" id="8056316">&gt;</span>&nbsp;<span class="num" id="8056318">0</span>&nbsp;<span class="op" id="8056320">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8056325">//&nbsp;The&nbsp;SSE4.2&nbsp;implementation&nbsp;of&nbsp;this&nbsp;has&nbsp;code&nbsp;to&nbsp;deal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8056382">//&nbsp;with&nbsp;misaligned&nbsp;data&nbsp;so&nbsp;we&nbsp;ensure&nbsp;that&nbsp;we&nbsp;test&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8056440">//&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056451"><a href="/hash/crc32/crc32_test.go.html#8056108">castagnoli</a></span>&nbsp;<span class="op" id="8056462">=</span>&nbsp;<span class="ident" id="8056464"><a href="/hash/crc32/crc32.go.html#3114546">New</a></span><span class="op" id="8056467">(</span><span class="ident" id="8056468"><a href="/hash/crc32/crc32_test.go.html#8055887">castagnoliTab</a></span><span class="op" id="8056481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056486"><a href="/hash/crc32/crc32_test.go.html#8053534">io</a></span><span class="op" id="8056488">.</span><span class="ident" id="8056489">WriteString</span><span class="op" id="8056500">(</span><span class="ident" id="8056501"><a href="/hash/crc32/crc32_test.go.html#8056108">castagnoli</a></span><span class="op" id="8056511">,</span>&nbsp;<span class="ident" id="8056513"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056514">.</span><span class="ident" id="8056515">in</span><span class="op" id="8056517">[</span><span class="op" id="8056518">:</span><span class="num" id="8056519">1</span><span class="op" id="8056520">]</span><span class="op" id="8056521">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056526"><a href="/hash/crc32/crc32_test.go.html#8053534">io</a></span><span class="op" id="8056528">.</span><span class="ident" id="8056529">WriteString</span><span class="op" id="8056540">(</span><span class="ident" id="8056541"><a href="/hash/crc32/crc32_test.go.html#8056108">castagnoli</a></span><span class="op" id="8056551">,</span>&nbsp;<span class="ident" id="8056553"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056554">.</span><span class="ident" id="8056555">in</span><span class="op" id="8056557">[</span><span class="num" id="8056558">1</span><span class="op" id="8056559">:</span><span class="op" id="8056560">]</span><span class="op" id="8056561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056566"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span>&nbsp;<span class="op" id="8056568">=</span>&nbsp;<span class="ident" id="8056570"><a href="/hash/crc32/crc32_test.go.html#8056108">castagnoli</a></span><span class="op" id="8056580">.</span><span class="ident" id="8056581">Sum32</span><span class="op" id="8056586">(</span><span class="op" id="8056587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056592">if</span>&nbsp;<span class="ident" id="8056595"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span>&nbsp;<span class="op" id="8056597">!=</span>&nbsp;<span class="ident" id="8056600"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056601">.</span><span class="ident" id="8056602">castagnoli</span>&nbsp;<span class="op" id="8056613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056619"><a href="/hash/crc32/crc32_test.go.html#8055870">t</a></span><span class="op" id="8056620">.</span><span class="ident" id="8056621">Errorf</span><span class="op" id="8056627">(</span><span class="string" id="8056628">&#34;Castagnoli[misaligned](%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="8056673">,</span>&nbsp;<span class="ident" id="8056675"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056676">.</span><span class="ident" id="8056677">in</span><span class="op" id="8056679">,</span>&nbsp;<span class="ident" id="8056681"><a href="/hash/crc32/crc32_test.go.html#8056006">s</a></span><span class="op" id="8056682">,</span>&nbsp;<span class="ident" id="8056684"><a href="/hash/crc32/crc32_test.go.html#8055935">g</a></span><span class="op" id="8056685">.</span><span class="ident" id="8056686">castagnoli</span><span class="op" id="8056696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056701">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056708">}</span><br>
<span class="lineno"></span><span class="op" id="8056710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8056713">func</span>&nbsp;<span class="ident" id="8056718">BenchmarkCrc32KB</span><span class="op" id="8056734">(</span><span class="ident" id="8056735">b</span>&nbsp;<span class="op" id="8056737">*</span><span class="ident" id="8056738"><a href="/hash/crc32/crc32_test.go.html#8053540">testing</a></span><span class="op" id="8056745">.</span><span class="ident" id="8056746">B</span><span class="op" id="8056747">)</span>&nbsp;<span class="op" id="8056749">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056752"><a href="/hash/crc32/crc32_test.go.html#8056735">b</a></span><span class="op" id="8056753">.</span><span class="ident" id="8056754">SetBytes</span><span class="op" id="8056762">(</span><span class="num" id="8056763">1024</span><span class="op" id="8056767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056770">data</span>&nbsp;<span class="op" id="8056775">:=</span>&nbsp;<span class="builtinfunc" id="8056778">make</span><span class="op" id="8056782">(</span><span class="op" id="8056783">[</span><span class="op" id="8056784">]</span><span class="builtintype" id="8056785">byte</span><span class="op" id="8056789">,</span>&nbsp;<span class="num" id="8056791">1024</span><span class="op" id="8056795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056798">for</span>&nbsp;<span class="ident" id="8056802">i</span>&nbsp;<span class="op" id="8056804">:=</span>&nbsp;<span class="keyword" id="8056807">range</span>&nbsp;<span class="ident" id="8056813"><a href="/hash/crc32/crc32_test.go.html#8056770">data</a></span>&nbsp;<span class="op" id="8056818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056822"><a href="/hash/crc32/crc32_test.go.html#8056770">data</a></span><span class="op" id="8056826">[</span><span class="ident" id="8056827"><a href="/hash/crc32/crc32_test.go.html#8056802">i</a></span><span class="op" id="8056828">]</span>&nbsp;<span class="op" id="8056830">=</span>&nbsp;<span class="builtintype" id="8056832">byte</span><span class="op" id="8056836">(</span><span class="ident" id="8056837"><a href="/hash/crc32/crc32_test.go.html#8056802">i</a></span><span class="op" id="8056838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056841">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056844">h</span>&nbsp;<span class="op" id="8056846">:=</span>&nbsp;<span class="ident" id="8056849"><a href="/hash/crc32/crc32.go.html#3114704">NewIEEE</a></span><span class="op" id="8056856">(</span><span class="op" id="8056857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056860">in</span>&nbsp;<span class="op" id="8056863">:=</span>&nbsp;<span class="builtinfunc" id="8056866">make</span><span class="op" id="8056870">(</span><span class="op" id="8056871">[</span><span class="op" id="8056872">]</span><span class="builtintype" id="8056873">byte</span><span class="op" id="8056877">,</span>&nbsp;<span class="num" id="8056879">0</span><span class="op" id="8056880">,</span>&nbsp;<span class="ident" id="8056882"><a href="/hash/crc32/crc32_test.go.html#8056844">h</a></span><span class="op" id="8056883">.</span><span class="ident" id="8056884">Size</span><span class="op" id="8056888">(</span><span class="op" id="8056889">)</span><span class="op" id="8056890">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056894"><a href="/hash/crc32/crc32_test.go.html#8056735">b</a></span><span class="op" id="8056895">.</span><span class="ident" id="8056896">ResetTimer</span><span class="op" id="8056906">(</span><span class="op" id="8056907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8056910">for</span>&nbsp;<span class="ident" id="8056914">i</span>&nbsp;<span class="op" id="8056916">:=</span>&nbsp;<span class="num" id="8056919">0</span><span class="op" id="8056920">;</span>&nbsp;<span class="ident" id="8056922"><a href="/hash/crc32/crc32_test.go.html#8056914">i</a></span>&nbsp;<span class="op" id="8056924">&lt;</span>&nbsp;<span class="ident" id="8056926"><a href="/hash/crc32/crc32_test.go.html#8056735">b</a></span><span class="op" id="8056927">.</span><span class="ident" id="8056928">N</span><span class="op" id="8056929">;</span>&nbsp;<span class="ident" id="8056931"><a href="/hash/crc32/crc32_test.go.html#8056914">i</a></span><span class="op" id="8056932">++</span>&nbsp;<span class="op" id="8056935">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056939"><a href="/hash/crc32/crc32_test.go.html#8056844">h</a></span><span class="op" id="8056940">.</span><span class="ident" id="8056941">Reset</span><span class="op" id="8056946">(</span><span class="op" id="8056947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056951"><a href="/hash/crc32/crc32_test.go.html#8056844">h</a></span><span class="op" id="8056952">.</span><span class="ident" id="8056953">Write</span><span class="op" id="8056958">(</span><span class="ident" id="8056959"><a href="/hash/crc32/crc32_test.go.html#8056770">data</a></span><span class="op" id="8056963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8056967"><a href="/hash/crc32/crc32_test.go.html#8056844">h</a></span><span class="op" id="8056968">.</span><span class="ident" id="8056969">Sum</span><span class="op" id="8056972">(</span><span class="ident" id="8056973"><a href="/hash/crc32/crc32_test.go.html#8056860">in</a></span><span class="op" id="8056975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8056978">}</span><br>
<span class="lineno"></span><span class="op" id="8056980">}</span>
</div>
</body>
</html>
