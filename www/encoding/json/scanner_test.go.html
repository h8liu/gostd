<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6715238">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6715294">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6715348">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6715399">package</span>&nbsp;<span class="ident" id="6715407">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6715413">import</span>&nbsp;<span class="op" id="6715420">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6715423">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6715432">&#34;math&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6715440">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6715453">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6715464">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6715474">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6715477">//&nbsp;Tests&nbsp;of&nbsp;simple&nbsp;examples.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6715507">type</span>&nbsp;<span class="ident" id="6715512">example</span>&nbsp;<span class="keyword" id="6715520">struct</span>&nbsp;<span class="op" id="6715527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715530">compact</span>&nbsp;<span class="builtintype" id="6715538">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715546">indent</span>&nbsp;&nbsp;<span class="builtintype" id="6715554">string</span><br>
<span class="lineno">20</span><span class="op" id="6715561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6715564">var</span>&nbsp;<span class="ident" id="6715568">examples</span>&nbsp;<span class="op" id="6715577">=</span>&nbsp;<span class="op" id="6715579">[</span><span class="op" id="6715580">]</span><span class="ident" id="6715581"><a href="/encoding/json/scanner_test.go.html#6715512">example</a></span><span class="op" id="6715588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715591">{</span><span class="string" id="6715592">`1`</span><span class="op" id="6715595">,</span>&nbsp;<span class="string" id="6715597">`1`</span><span class="op" id="6715600">}</span><span class="op" id="6715601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715604">{</span><span class="string" id="6715605">`{}`</span><span class="op" id="6715609">,</span>&nbsp;<span class="string" id="6715611">`{}`</span><span class="op" id="6715615">}</span><span class="op" id="6715616">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715619">{</span><span class="string" id="6715620">`[]`</span><span class="op" id="6715624">,</span>&nbsp;<span class="string" id="6715626">`[]`</span><span class="op" id="6715630">}</span><span class="op" id="6715631">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715634">{</span><span class="string" id="6715635">`{&#34;&#34;:2}`</span><span class="op" id="6715643">,</span>&nbsp;<span class="string" id="6715645">&#34;{\n\t\&#34;\&#34;:&nbsp;2\n}&#34;</span><span class="op" id="6715662">}</span><span class="op" id="6715663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715666">{</span><span class="string" id="6715667">`[3]`</span><span class="op" id="6715672">,</span>&nbsp;<span class="string" id="6715674">&#34;[\n\t3\n]&#34;</span><span class="op" id="6715685">}</span><span class="op" id="6715686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715689">{</span><span class="string" id="6715690">`[1,2,3]`</span><span class="op" id="6715699">,</span>&nbsp;<span class="string" id="6715701">&#34;[\n\t1,\n\t2,\n\t3\n]&#34;</span><span class="op" id="6715724">}</span><span class="op" id="6715725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715728">{</span><span class="string" id="6715729">`{&#34;x&#34;:1}`</span><span class="op" id="6715738">,</span>&nbsp;<span class="string" id="6715740">&#34;{\n\t\&#34;x\&#34;:&nbsp;1\n}&#34;</span><span class="op" id="6715758">}</span><span class="op" id="6715759">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6715762">{</span><span class="ident" id="6715763"><a href="/encoding/json/scanner_test.go.html#6715782">ex1</a></span><span class="op" id="6715766">,</span>&nbsp;<span class="ident" id="6715768"><a href="/encoding/json/scanner_test.go.html#6715831">ex1i</a></span><span class="op" id="6715772">}</span><span class="op" id="6715773">,</span><br>
<span class="lineno"></span><span class="op" id="6715775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6715778">var</span>&nbsp;<span class="ident" id="6715782">ex1</span>&nbsp;<span class="op" id="6715786">=</span>&nbsp;<span class="string" id="6715788">`[true,false,null,&#34;x&#34;,1,1.5,0,-5e+2]`</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="6715827">var</span>&nbsp;<span class="ident" id="6715831">ex1i</span>&nbsp;<span class="op" id="6715836">=</span>&nbsp;<span class="string" id="6715838">`[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsptrue,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspfalse,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspnull,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;,<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp1.5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp-5e+2<br>
<span class="lineno"></span>]`</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="6715894">func</span>&nbsp;<span class="ident" id="6715899">TestCompact</span><span class="op" id="6715910">(</span><span class="ident" id="6715911">t</span>&nbsp;<span class="op" id="6715913">*</span><span class="ident" id="6715914"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6715921">.</span><span class="ident" id="6715922">T</span><span class="op" id="6715923">)</span>&nbsp;<span class="op" id="6715925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715928">var</span>&nbsp;<span class="ident" id="6715932">buf</span>&nbsp;<span class="ident" id="6715936"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6715941">.</span><span class="ident" id="6715942">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715950">for</span>&nbsp;<span class="ident" id="6715954">_</span><span class="op" id="6715955">,</span>&nbsp;<span class="ident" id="6715957">tt</span>&nbsp;<span class="op" id="6715960">:=</span>&nbsp;<span class="keyword" id="6715963">range</span>&nbsp;<span class="ident" id="6715969"><a href="/encoding/json/scanner_test.go.html#6715568">examples</a></span>&nbsp;<span class="op" id="6715978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6715982"><a href="/encoding/json/scanner_test.go.html#6715932">buf</a></span><span class="op" id="6715985">.</span><span class="ident" id="6715986">Reset</span><span class="op" id="6715991">(</span><span class="op" id="6715992">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6715996">if</span>&nbsp;<span class="ident" id="6715999">err</span>&nbsp;<span class="op" id="6716003">:=</span>&nbsp;<span class="ident" id="6716006"><a href="/encoding/json/indent.go.html#4782774">Compact</a></span><span class="op" id="6716013">(</span><span class="op" id="6716014">&amp;</span><span class="ident" id="6716015"><a href="/encoding/json/scanner_test.go.html#6715932">buf</a></span><span class="op" id="6716018">,</span>&nbsp;<span class="op" id="6716020">[</span><span class="op" id="6716021">]</span><span class="builtintype" id="6716022">byte</span><span class="op" id="6716026">(</span><span class="ident" id="6716027"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716029">.</span><span class="ident" id="6716030">compact</span><span class="op" id="6716037">)</span><span class="op" id="6716038">)</span><span class="op" id="6716039">;</span>&nbsp;<span class="ident" id="6716041"><a href="/encoding/json/scanner_test.go.html#6715999">err</a></span>&nbsp;<span class="op" id="6716045">!=</span>&nbsp;<span class="ident" id="6716048">nil</span>&nbsp;<span class="op" id="6716052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716057"><a href="/encoding/json/scanner_test.go.html#6715911">t</a></span><span class="op" id="6716058">.</span><span class="ident" id="6716059">Errorf</span><span class="op" id="6716065">(</span><span class="string" id="6716066">&#34;Compact(%#q):&nbsp;%v&#34;</span><span class="op" id="6716084">,</span>&nbsp;<span class="ident" id="6716086"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716088">.</span><span class="ident" id="6716089">compact</span><span class="op" id="6716096">,</span>&nbsp;<span class="ident" id="6716098"><a href="/encoding/json/scanner_test.go.html#6715999">err</a></span><span class="op" id="6716101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716105">}</span>&nbsp;<span class="keyword" id="6716107">else</span>&nbsp;<span class="keyword" id="6716112">if</span>&nbsp;<span class="ident" id="6716115">s</span>&nbsp;<span class="op" id="6716117">:=</span>&nbsp;<span class="ident" id="6716120"><a href="/encoding/json/scanner_test.go.html#6715932">buf</a></span><span class="op" id="6716123">.</span><span class="ident" id="6716124">String</span><span class="op" id="6716130">(</span><span class="op" id="6716131">)</span><span class="op" id="6716132">;</span>&nbsp;<span class="ident" id="6716134"><a href="/encoding/json/scanner_test.go.html#6716115">s</a></span>&nbsp;<span class="op" id="6716136">!=</span>&nbsp;<span class="ident" id="6716139"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716141">.</span><span class="ident" id="6716142">compact</span>&nbsp;<span class="op" id="6716150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716155"><a href="/encoding/json/scanner_test.go.html#6715911">t</a></span><span class="op" id="6716156">.</span><span class="ident" id="6716157">Errorf</span><span class="op" id="6716163">(</span><span class="string" id="6716164">&#34;Compact(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;original&#34;</span><span class="op" id="6716199">,</span>&nbsp;<span class="ident" id="6716201"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716203">.</span><span class="ident" id="6716204">compact</span><span class="op" id="6716211">,</span>&nbsp;<span class="ident" id="6716213"><a href="/encoding/json/scanner_test.go.html#6716115">s</a></span><span class="op" id="6716214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716218">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716223"><a href="/encoding/json/scanner_test.go.html#6715932">buf</a></span><span class="op" id="6716226">.</span><span class="ident" id="6716227">Reset</span><span class="op" id="6716232">(</span><span class="op" id="6716233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716237">if</span>&nbsp;<span class="ident" id="6716240">err</span>&nbsp;<span class="op" id="6716244">:=</span>&nbsp;<span class="ident" id="6716247"><a href="/encoding/json/indent.go.html#4782774">Compact</a></span><span class="op" id="6716254">(</span><span class="op" id="6716255">&amp;</span><span class="ident" id="6716256"><a href="/encoding/json/scanner_test.go.html#6715932">buf</a></span><span class="op" id="6716259">,</span>&nbsp;<span class="op" id="6716261">[</span><span class="op" id="6716262">]</span><span class="builtintype" id="6716263">byte</span><span class="op" id="6716267">(</span><span class="ident" id="6716268"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716270">.</span><span class="ident" id="6716271">indent</span><span class="op" id="6716277">)</span><span class="op" id="6716278">)</span><span class="op" id="6716279">;</span>&nbsp;<span class="ident" id="6716281"><a href="/encoding/json/scanner_test.go.html#6716240">err</a></span>&nbsp;<span class="op" id="6716285">!=</span>&nbsp;<span class="ident" id="6716288">nil</span>&nbsp;<span class="op" id="6716292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716297"><a href="/encoding/json/scanner_test.go.html#6715911">t</a></span><span class="op" id="6716298">.</span><span class="ident" id="6716299">Errorf</span><span class="op" id="6716305">(</span><span class="string" id="6716306">&#34;Compact(%#q):&nbsp;%v&#34;</span><span class="op" id="6716324">,</span>&nbsp;<span class="ident" id="6716326"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716328">.</span><span class="ident" id="6716329">indent</span><span class="op" id="6716335">,</span>&nbsp;<span class="ident" id="6716337"><a href="/encoding/json/scanner_test.go.html#6716240">err</a></span><span class="op" id="6716340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716345">continue</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716356">}</span>&nbsp;<span class="keyword" id="6716358">else</span>&nbsp;<span class="keyword" id="6716363">if</span>&nbsp;<span class="ident" id="6716366">s</span>&nbsp;<span class="op" id="6716368">:=</span>&nbsp;<span class="ident" id="6716371"><a href="/encoding/json/scanner_test.go.html#6715932">buf</a></span><span class="op" id="6716374">.</span><span class="ident" id="6716375">String</span><span class="op" id="6716381">(</span><span class="op" id="6716382">)</span><span class="op" id="6716383">;</span>&nbsp;<span class="ident" id="6716385"><a href="/encoding/json/scanner_test.go.html#6716366">s</a></span>&nbsp;<span class="op" id="6716387">!=</span>&nbsp;<span class="ident" id="6716390"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716392">.</span><span class="ident" id="6716393">compact</span>&nbsp;<span class="op" id="6716401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716406"><a href="/encoding/json/scanner_test.go.html#6715911">t</a></span><span class="op" id="6716407">.</span><span class="ident" id="6716408">Errorf</span><span class="op" id="6716414">(</span><span class="string" id="6716415">&#34;Compact(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6716445">,</span>&nbsp;<span class="ident" id="6716447"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716449">.</span><span class="ident" id="6716450">indent</span><span class="op" id="6716456">,</span>&nbsp;<span class="ident" id="6716458"><a href="/encoding/json/scanner_test.go.html#6716366">s</a></span><span class="op" id="6716459">,</span>&nbsp;<span class="ident" id="6716461"><a href="/encoding/json/scanner_test.go.html#6715957">tt</a></span><span class="op" id="6716463">.</span><span class="ident" id="6716464">compact</span><span class="op" id="6716471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716478">}</span><br>
<span class="lineno"></span><span class="op" id="6716480">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6716483">func</span>&nbsp;<span class="ident" id="6716488">TestCompactSeparators</span><span class="op" id="6716509">(</span><span class="ident" id="6716510">t</span>&nbsp;<span class="op" id="6716512">*</span><span class="ident" id="6716513"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6716520">.</span><span class="ident" id="6716521">T</span><span class="op" id="6716522">)</span>&nbsp;<span class="op" id="6716524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6716527">//&nbsp;U+2028&nbsp;and&nbsp;U+2029&nbsp;should&nbsp;be&nbsp;escaped&nbsp;inside&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6716583">//&nbsp;They&nbsp;should&nbsp;not&nbsp;appear&nbsp;outside&nbsp;strings.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716627">tests</span>&nbsp;<span class="op" id="6716633">:=</span>&nbsp;<span class="op" id="6716636">[</span><span class="op" id="6716637">]</span><span class="keyword" id="6716638">struct</span>&nbsp;<span class="op" id="6716645">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716649">in</span><span class="op" id="6716651">,</span>&nbsp;<span class="ident" id="6716653">compact</span>&nbsp;<span class="builtintype" id="6716661">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716669">}</span><span class="op" id="6716670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716674">{</span><span class="string" id="6716675">&#34;{\&#34;\u2028\&#34;:&nbsp;1}&#34;</span><span class="op" id="6716692">,</span>&nbsp;<span class="string" id="6716694">`{&#34;\u2028&#34;:1}`</span><span class="op" id="6716708">}</span><span class="op" id="6716709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716713">{</span><span class="string" id="6716714">&#34;{\&#34;\u2029\&#34;&nbsp;:2}&#34;</span><span class="op" id="6716731">,</span>&nbsp;<span class="string" id="6716733">`{&#34;\u2029&#34;:2}`</span><span class="op" id="6716747">}</span><span class="op" id="6716748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716751">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716754">for</span>&nbsp;<span class="ident" id="6716758">_</span><span class="op" id="6716759">,</span>&nbsp;<span class="ident" id="6716761">tt</span>&nbsp;<span class="op" id="6716764">:=</span>&nbsp;<span class="keyword" id="6716767">range</span>&nbsp;<span class="ident" id="6716773"><a href="/encoding/json/scanner_test.go.html#6716627">tests</a></span>&nbsp;<span class="op" id="6716779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716783">var</span>&nbsp;<span class="ident" id="6716787">buf</span>&nbsp;<span class="ident" id="6716791"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6716796">.</span><span class="ident" id="6716797">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6716806">if</span>&nbsp;<span class="ident" id="6716809">err</span>&nbsp;<span class="op" id="6716813">:=</span>&nbsp;<span class="ident" id="6716816"><a href="/encoding/json/indent.go.html#4782774">Compact</a></span><span class="op" id="6716823">(</span><span class="op" id="6716824">&amp;</span><span class="ident" id="6716825"><a href="/encoding/json/scanner_test.go.html#6716787">buf</a></span><span class="op" id="6716828">,</span>&nbsp;<span class="op" id="6716830">[</span><span class="op" id="6716831">]</span><span class="builtintype" id="6716832">byte</span><span class="op" id="6716836">(</span><span class="ident" id="6716837"><a href="/encoding/json/scanner_test.go.html#6716761">tt</a></span><span class="op" id="6716839">.</span><span class="ident" id="6716840">in</span><span class="op" id="6716842">)</span><span class="op" id="6716843">)</span><span class="op" id="6716844">;</span>&nbsp;<span class="ident" id="6716846"><a href="/encoding/json/scanner_test.go.html#6716809">err</a></span>&nbsp;<span class="op" id="6716850">!=</span>&nbsp;<span class="ident" id="6716853">nil</span>&nbsp;<span class="op" id="6716857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716862"><a href="/encoding/json/scanner_test.go.html#6716510">t</a></span><span class="op" id="6716863">.</span><span class="ident" id="6716864">Errorf</span><span class="op" id="6716870">(</span><span class="string" id="6716871">&#34;Compact(%q):&nbsp;%v&#34;</span><span class="op" id="6716888">,</span>&nbsp;<span class="ident" id="6716890"><a href="/encoding/json/scanner_test.go.html#6716761">tt</a></span><span class="op" id="6716892">.</span><span class="ident" id="6716893">in</span><span class="op" id="6716895">,</span>&nbsp;<span class="ident" id="6716897"><a href="/encoding/json/scanner_test.go.html#6716809">err</a></span><span class="op" id="6716900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6716904">}</span>&nbsp;<span class="keyword" id="6716906">else</span>&nbsp;<span class="keyword" id="6716911">if</span>&nbsp;<span class="ident" id="6716914">s</span>&nbsp;<span class="op" id="6716916">:=</span>&nbsp;<span class="ident" id="6716919"><a href="/encoding/json/scanner_test.go.html#6716787">buf</a></span><span class="op" id="6716922">.</span><span class="ident" id="6716923">String</span><span class="op" id="6716929">(</span><span class="op" id="6716930">)</span><span class="op" id="6716931">;</span>&nbsp;<span class="ident" id="6716933"><a href="/encoding/json/scanner_test.go.html#6716914">s</a></span>&nbsp;<span class="op" id="6716935">!=</span>&nbsp;<span class="ident" id="6716938"><a href="/encoding/json/scanner_test.go.html#6716761">tt</a></span><span class="op" id="6716940">.</span><span class="ident" id="6716941">compact</span>&nbsp;<span class="op" id="6716949">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6716954"><a href="/encoding/json/scanner_test.go.html#6716510">t</a></span><span class="op" id="6716955">.</span><span class="ident" id="6716956">Errorf</span><span class="op" id="6716962">(</span><span class="string" id="6716963">&#34;Compact(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6716990">,</span>&nbsp;<span class="ident" id="6716992"><a href="/encoding/json/scanner_test.go.html#6716761">tt</a></span><span class="op" id="6716994">.</span><span class="ident" id="6716995">in</span><span class="op" id="6716997">,</span>&nbsp;<span class="ident" id="6716999"><a href="/encoding/json/scanner_test.go.html#6716914">s</a></span><span class="op" id="6717000">,</span>&nbsp;<span class="ident" id="6717002"><a href="/encoding/json/scanner_test.go.html#6716761">tt</a></span><span class="op" id="6717004">.</span><span class="ident" id="6717005">compact</span><span class="op" id="6717012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717019">}</span><br>
<span class="lineno"></span><span class="op" id="6717021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="6717024">func</span>&nbsp;<span class="ident" id="6717029">TestIndent</span><span class="op" id="6717039">(</span><span class="ident" id="6717040">t</span>&nbsp;<span class="op" id="6717042">*</span><span class="ident" id="6717043"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6717050">.</span><span class="ident" id="6717051">T</span><span class="op" id="6717052">)</span>&nbsp;<span class="op" id="6717054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717057">var</span>&nbsp;<span class="ident" id="6717061">buf</span>&nbsp;<span class="ident" id="6717065"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6717070">.</span><span class="ident" id="6717071">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717079">for</span>&nbsp;<span class="ident" id="6717083">_</span><span class="op" id="6717084">,</span>&nbsp;<span class="ident" id="6717086">tt</span>&nbsp;<span class="op" id="6717089">:=</span>&nbsp;<span class="keyword" id="6717092">range</span>&nbsp;<span class="ident" id="6717098"><a href="/encoding/json/scanner_test.go.html#6715568">examples</a></span>&nbsp;<span class="op" id="6717107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717111"><a href="/encoding/json/scanner_test.go.html#6717061">buf</a></span><span class="op" id="6717114">.</span><span class="ident" id="6717115">Reset</span><span class="op" id="6717120">(</span><span class="op" id="6717121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717125">if</span>&nbsp;<span class="ident" id="6717128">err</span>&nbsp;<span class="op" id="6717132">:=</span>&nbsp;<span class="ident" id="6717135"><a href="/encoding/json/indent.go.html#4784407">Indent</a></span><span class="op" id="6717141">(</span><span class="op" id="6717142">&amp;</span><span class="ident" id="6717143"><a href="/encoding/json/scanner_test.go.html#6717061">buf</a></span><span class="op" id="6717146">,</span>&nbsp;<span class="op" id="6717148">[</span><span class="op" id="6717149">]</span><span class="builtintype" id="6717150">byte</span><span class="op" id="6717154">(</span><span class="ident" id="6717155"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717157">.</span><span class="ident" id="6717158">indent</span><span class="op" id="6717164">)</span><span class="op" id="6717165">,</span>&nbsp;<span class="string" id="6717167">&#34;&#34;</span><span class="op" id="6717169">,</span>&nbsp;<span class="string" id="6717171">&#34;\t&#34;</span><span class="op" id="6717175">)</span><span class="op" id="6717176">;</span>&nbsp;<span class="ident" id="6717178"><a href="/encoding/json/scanner_test.go.html#6717128">err</a></span>&nbsp;<span class="op" id="6717182">!=</span>&nbsp;<span class="ident" id="6717185">nil</span>&nbsp;<span class="op" id="6717189">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717194"><a href="/encoding/json/scanner_test.go.html#6717040">t</a></span><span class="op" id="6717195">.</span><span class="ident" id="6717196">Errorf</span><span class="op" id="6717202">(</span><span class="string" id="6717203">&#34;Indent(%#q):&nbsp;%v&#34;</span><span class="op" id="6717220">,</span>&nbsp;<span class="ident" id="6717222"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717224">.</span><span class="ident" id="6717225">indent</span><span class="op" id="6717231">,</span>&nbsp;<span class="ident" id="6717233"><a href="/encoding/json/scanner_test.go.html#6717128">err</a></span><span class="op" id="6717236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717240">}</span>&nbsp;<span class="keyword" id="6717242">else</span>&nbsp;<span class="keyword" id="6717247">if</span>&nbsp;<span class="ident" id="6717250">s</span>&nbsp;<span class="op" id="6717252">:=</span>&nbsp;<span class="ident" id="6717255"><a href="/encoding/json/scanner_test.go.html#6717061">buf</a></span><span class="op" id="6717258">.</span><span class="ident" id="6717259">String</span><span class="op" id="6717265">(</span><span class="op" id="6717266">)</span><span class="op" id="6717267">;</span>&nbsp;<span class="ident" id="6717269"><a href="/encoding/json/scanner_test.go.html#6717250">s</a></span>&nbsp;<span class="op" id="6717271">!=</span>&nbsp;<span class="ident" id="6717274"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717276">.</span><span class="ident" id="6717277">indent</span>&nbsp;<span class="op" id="6717284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717289"><a href="/encoding/json/scanner_test.go.html#6717040">t</a></span><span class="op" id="6717290">.</span><span class="ident" id="6717291">Errorf</span><span class="op" id="6717297">(</span><span class="string" id="6717298">&#34;Indent(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;original&#34;</span><span class="op" id="6717332">,</span>&nbsp;<span class="ident" id="6717334"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717336">.</span><span class="ident" id="6717337">indent</span><span class="op" id="6717343">,</span>&nbsp;<span class="ident" id="6717345"><a href="/encoding/json/scanner_test.go.html#6717250">s</a></span><span class="op" id="6717346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717355"><a href="/encoding/json/scanner_test.go.html#6717061">buf</a></span><span class="op" id="6717358">.</span><span class="ident" id="6717359">Reset</span><span class="op" id="6717364">(</span><span class="op" id="6717365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717369">if</span>&nbsp;<span class="ident" id="6717372">err</span>&nbsp;<span class="op" id="6717376">:=</span>&nbsp;<span class="ident" id="6717379"><a href="/encoding/json/indent.go.html#4784407">Indent</a></span><span class="op" id="6717385">(</span><span class="op" id="6717386">&amp;</span><span class="ident" id="6717387"><a href="/encoding/json/scanner_test.go.html#6717061">buf</a></span><span class="op" id="6717390">,</span>&nbsp;<span class="op" id="6717392">[</span><span class="op" id="6717393">]</span><span class="builtintype" id="6717394">byte</span><span class="op" id="6717398">(</span><span class="ident" id="6717399"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717401">.</span><span class="ident" id="6717402">compact</span><span class="op" id="6717409">)</span><span class="op" id="6717410">,</span>&nbsp;<span class="string" id="6717412">&#34;&#34;</span><span class="op" id="6717414">,</span>&nbsp;<span class="string" id="6717416">&#34;\t&#34;</span><span class="op" id="6717420">)</span><span class="op" id="6717421">;</span>&nbsp;<span class="ident" id="6717423"><a href="/encoding/json/scanner_test.go.html#6717372">err</a></span>&nbsp;<span class="op" id="6717427">!=</span>&nbsp;<span class="ident" id="6717430">nil</span>&nbsp;<span class="op" id="6717434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717439"><a href="/encoding/json/scanner_test.go.html#6717040">t</a></span><span class="op" id="6717440">.</span><span class="ident" id="6717441">Errorf</span><span class="op" id="6717447">(</span><span class="string" id="6717448">&#34;Indent(%#q):&nbsp;%v&#34;</span><span class="op" id="6717465">,</span>&nbsp;<span class="ident" id="6717467"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717469">.</span><span class="ident" id="6717470">compact</span><span class="op" id="6717477">,</span>&nbsp;<span class="ident" id="6717479"><a href="/encoding/json/scanner_test.go.html#6717372">err</a></span><span class="op" id="6717482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717487">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717498">}</span>&nbsp;<span class="keyword" id="6717500">else</span>&nbsp;<span class="keyword" id="6717505">if</span>&nbsp;<span class="ident" id="6717508">s</span>&nbsp;<span class="op" id="6717510">:=</span>&nbsp;<span class="ident" id="6717513"><a href="/encoding/json/scanner_test.go.html#6717061">buf</a></span><span class="op" id="6717516">.</span><span class="ident" id="6717517">String</span><span class="op" id="6717523">(</span><span class="op" id="6717524">)</span><span class="op" id="6717525">;</span>&nbsp;<span class="ident" id="6717527"><a href="/encoding/json/scanner_test.go.html#6717508">s</a></span>&nbsp;<span class="op" id="6717529">!=</span>&nbsp;<span class="ident" id="6717532"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717534">.</span><span class="ident" id="6717535">indent</span>&nbsp;<span class="op" id="6717542">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717547"><a href="/encoding/json/scanner_test.go.html#6717040">t</a></span><span class="op" id="6717548">.</span><span class="ident" id="6717549">Errorf</span><span class="op" id="6717555">(</span><span class="string" id="6717556">&#34;Indent(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6717585">,</span>&nbsp;<span class="ident" id="6717587"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717589">.</span><span class="ident" id="6717590">compact</span><span class="op" id="6717597">,</span>&nbsp;<span class="ident" id="6717599"><a href="/encoding/json/scanner_test.go.html#6717508">s</a></span><span class="op" id="6717600">,</span>&nbsp;<span class="ident" id="6717602"><a href="/encoding/json/scanner_test.go.html#6717086">tt</a></span><span class="op" id="6717604">.</span><span class="ident" id="6717605">indent</span><span class="op" id="6717611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717618">}</span><br>
<span class="lineno"></span><span class="op" id="6717620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="6717623">//&nbsp;Tests&nbsp;of&nbsp;a&nbsp;large&nbsp;random&nbsp;structure.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6717662">func</span>&nbsp;<span class="ident" id="6717667">TestCompactBig</span><span class="op" id="6717681">(</span><span class="ident" id="6717682">t</span>&nbsp;<span class="op" id="6717684">*</span><span class="ident" id="6717685"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6717692">.</span><span class="ident" id="6717693">T</span><span class="op" id="6717694">)</span>&nbsp;<span class="op" id="6717696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717699"><a href="/encoding/json/scanner_test.go.html#6720633">initBig</a></span><span class="op" id="6717706">(</span><span class="op" id="6717707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717710">var</span>&nbsp;<span class="ident" id="6717714">buf</span>&nbsp;<span class="ident" id="6717718"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6717723">.</span><span class="ident" id="6717724">Buffer</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717732">if</span>&nbsp;<span class="ident" id="6717735">err</span>&nbsp;<span class="op" id="6717739">:=</span>&nbsp;<span class="ident" id="6717742"><a href="/encoding/json/indent.go.html#4782774">Compact</a></span><span class="op" id="6717749">(</span><span class="op" id="6717750">&amp;</span><span class="ident" id="6717751"><a href="/encoding/json/scanner_test.go.html#6717714">buf</a></span><span class="op" id="6717754">,</span>&nbsp;<span class="ident" id="6717756"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6717763">)</span><span class="op" id="6717764">;</span>&nbsp;<span class="ident" id="6717766"><a href="/encoding/json/scanner_test.go.html#6717735">err</a></span>&nbsp;<span class="op" id="6717770">!=</span>&nbsp;<span class="ident" id="6717773">nil</span>&nbsp;<span class="op" id="6717777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717781"><a href="/encoding/json/scanner_test.go.html#6717682">t</a></span><span class="op" id="6717782">.</span><span class="ident" id="6717783">Fatalf</span><span class="op" id="6717789">(</span><span class="string" id="6717790">&#34;Compact:&nbsp;%v&#34;</span><span class="op" id="6717803">,</span>&nbsp;<span class="ident" id="6717805"><a href="/encoding/json/scanner_test.go.html#6717735">err</a></span><span class="op" id="6717808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717814">b</span>&nbsp;<span class="op" id="6717816">:=</span>&nbsp;<span class="ident" id="6717819"><a href="/encoding/json/scanner_test.go.html#6717714">buf</a></span><span class="op" id="6717822">.</span><span class="ident" id="6717823">Bytes</span><span class="op" id="6717828">(</span><span class="op" id="6717829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717832">if</span>&nbsp;<span class="op" id="6717835">!</span><span class="ident" id="6717836"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6717841">.</span><span class="ident" id="6717842">Equal</span><span class="op" id="6717847">(</span><span class="ident" id="6717848"><a href="/encoding/json/scanner_test.go.html#6717814">b</a></span><span class="op" id="6717849">,</span>&nbsp;<span class="ident" id="6717851"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6717858">)</span>&nbsp;<span class="op" id="6717860">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717864"><a href="/encoding/json/scanner_test.go.html#6717682">t</a></span><span class="op" id="6717865">.</span><span class="ident" id="6717866">Error</span><span class="op" id="6717871">(</span><span class="string" id="6717872">&#34;Compact(jsonBig)&nbsp;!=&nbsp;jsonBig&#34;</span><span class="op" id="6717901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717905"><a href="/encoding/json/scanner_test.go.html#6720248">diff</a></span><span class="op" id="6717909">(</span><span class="ident" id="6717910"><a href="/encoding/json/scanner_test.go.html#6717682">t</a></span><span class="op" id="6717911">,</span>&nbsp;<span class="ident" id="6717913"><a href="/encoding/json/scanner_test.go.html#6717814">b</a></span><span class="op" id="6717914">,</span>&nbsp;<span class="ident" id="6717916"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6717923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717927">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6717935">}</span><br>
<span class="lineno"></span><span class="op" id="6717937">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="6717940">func</span>&nbsp;<span class="ident" id="6717945">TestIndentBig</span><span class="op" id="6717958">(</span><span class="ident" id="6717959">t</span>&nbsp;<span class="op" id="6717961">*</span><span class="ident" id="6717962"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6717969">.</span><span class="ident" id="6717970">T</span><span class="op" id="6717971">)</span>&nbsp;<span class="op" id="6717973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6717976"><a href="/encoding/json/scanner_test.go.html#6720633">initBig</a></span><span class="op" id="6717983">(</span><span class="op" id="6717984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6717987">var</span>&nbsp;<span class="ident" id="6717991">buf</span>&nbsp;<span class="ident" id="6717995"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6718000">.</span><span class="ident" id="6718001">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718009">if</span>&nbsp;<span class="ident" id="6718012">err</span>&nbsp;<span class="op" id="6718016">:=</span>&nbsp;<span class="ident" id="6718019"><a href="/encoding/json/indent.go.html#4784407">Indent</a></span><span class="op" id="6718025">(</span><span class="op" id="6718026">&amp;</span><span class="ident" id="6718027"><a href="/encoding/json/scanner_test.go.html#6717991">buf</a></span><span class="op" id="6718030">,</span>&nbsp;<span class="ident" id="6718032"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6718039">,</span>&nbsp;<span class="string" id="6718041">&#34;&#34;</span><span class="op" id="6718043">,</span>&nbsp;<span class="string" id="6718045">&#34;\t&#34;</span><span class="op" id="6718049">)</span><span class="op" id="6718050">;</span>&nbsp;<span class="ident" id="6718052"><a href="/encoding/json/scanner_test.go.html#6718012">err</a></span>&nbsp;<span class="op" id="6718056">!=</span>&nbsp;<span class="ident" id="6718059">nil</span>&nbsp;<span class="op" id="6718063">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718067"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718068">.</span><span class="ident" id="6718069">Fatalf</span><span class="op" id="6718075">(</span><span class="string" id="6718076">&#34;Indent1:&nbsp;%v&#34;</span><span class="op" id="6718089">,</span>&nbsp;<span class="ident" id="6718091"><a href="/encoding/json/scanner_test.go.html#6718012">err</a></span><span class="op" id="6718094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718100">b</span>&nbsp;<span class="op" id="6718102">:=</span>&nbsp;<span class="ident" id="6718105"><a href="/encoding/json/scanner_test.go.html#6717991">buf</a></span><span class="op" id="6718108">.</span><span class="ident" id="6718109">Bytes</span><span class="op" id="6718114">(</span><span class="op" id="6718115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718118">if</span>&nbsp;<span class="builtinfunc" id="6718121">len</span><span class="op" id="6718124">(</span><span class="ident" id="6718125"><a href="/encoding/json/scanner_test.go.html#6718100">b</a></span><span class="op" id="6718126">)</span>&nbsp;<span class="op" id="6718128">==</span>&nbsp;<span class="builtinfunc" id="6718131">len</span><span class="op" id="6718134">(</span><span class="ident" id="6718135"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6718142">)</span>&nbsp;<span class="op" id="6718144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6718148">//&nbsp;jsonBig&nbsp;is&nbsp;compact&nbsp;(no&nbsp;unnecessary&nbsp;spaces);</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6718197">//&nbsp;indenting&nbsp;should&nbsp;make&nbsp;it&nbsp;bigger</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718234"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718235">.</span><span class="ident" id="6718236">Fatalf</span><span class="op" id="6718242">(</span><span class="string" id="6718243">&#34;Indent(jsonBig)&nbsp;did&nbsp;not&nbsp;get&nbsp;bigger&#34;</span><span class="op" id="6718279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6718286">//&nbsp;should&nbsp;be&nbsp;idempotent</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718311">var</span>&nbsp;<span class="ident" id="6718315">buf1</span>&nbsp;<span class="ident" id="6718320"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6718325">.</span><span class="ident" id="6718326">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718334">if</span>&nbsp;<span class="ident" id="6718337">err</span>&nbsp;<span class="op" id="6718341">:=</span>&nbsp;<span class="ident" id="6718344"><a href="/encoding/json/indent.go.html#4784407">Indent</a></span><span class="op" id="6718350">(</span><span class="op" id="6718351">&amp;</span><span class="ident" id="6718352"><a href="/encoding/json/scanner_test.go.html#6718315">buf1</a></span><span class="op" id="6718356">,</span>&nbsp;<span class="ident" id="6718358"><a href="/encoding/json/scanner_test.go.html#6718100">b</a></span><span class="op" id="6718359">,</span>&nbsp;<span class="string" id="6718361">&#34;&#34;</span><span class="op" id="6718363">,</span>&nbsp;<span class="string" id="6718365">&#34;\t&#34;</span><span class="op" id="6718369">)</span><span class="op" id="6718370">;</span>&nbsp;<span class="ident" id="6718372"><a href="/encoding/json/scanner_test.go.html#6718337">err</a></span>&nbsp;<span class="op" id="6718376">!=</span>&nbsp;<span class="ident" id="6718379">nil</span>&nbsp;<span class="op" id="6718383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718387"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718388">.</span><span class="ident" id="6718389">Fatalf</span><span class="op" id="6718395">(</span><span class="string" id="6718396">&#34;Indent2:&nbsp;%v&#34;</span><span class="op" id="6718409">,</span>&nbsp;<span class="ident" id="6718411"><a href="/encoding/json/scanner_test.go.html#6718337">err</a></span><span class="op" id="6718414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718420">b1</span>&nbsp;<span class="op" id="6718423">:=</span>&nbsp;<span class="ident" id="6718426"><a href="/encoding/json/scanner_test.go.html#6718315">buf1</a></span><span class="op" id="6718430">.</span><span class="ident" id="6718431">Bytes</span><span class="op" id="6718436">(</span><span class="op" id="6718437">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718440">if</span>&nbsp;<span class="op" id="6718443">!</span><span class="ident" id="6718444"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6718449">.</span><span class="ident" id="6718450">Equal</span><span class="op" id="6718455">(</span><span class="ident" id="6718456"><a href="/encoding/json/scanner_test.go.html#6718420">b1</a></span><span class="op" id="6718458">,</span>&nbsp;<span class="ident" id="6718460"><a href="/encoding/json/scanner_test.go.html#6718100">b</a></span><span class="op" id="6718461">)</span>&nbsp;<span class="op" id="6718463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718467"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718468">.</span><span class="ident" id="6718469">Error</span><span class="op" id="6718474">(</span><span class="string" id="6718475">&#34;Indent(Indent(jsonBig))&nbsp;!=&nbsp;Indent(jsonBig)&#34;</span><span class="op" id="6718519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718523"><a href="/encoding/json/scanner_test.go.html#6720248">diff</a></span><span class="op" id="6718527">(</span><span class="ident" id="6718528"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718529">,</span>&nbsp;<span class="ident" id="6718531"><a href="/encoding/json/scanner_test.go.html#6718420">b1</a></span><span class="op" id="6718533">,</span>&nbsp;<span class="ident" id="6718535"><a href="/encoding/json/scanner_test.go.html#6718100">b</a></span><span class="op" id="6718536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718540">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718548">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6718552">//&nbsp;should&nbsp;get&nbsp;back&nbsp;to&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718584"><a href="/encoding/json/scanner_test.go.html#6718315">buf1</a></span><span class="op" id="6718588">.</span><span class="ident" id="6718589">Reset</span><span class="op" id="6718594">(</span><span class="op" id="6718595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718598">if</span>&nbsp;<span class="ident" id="6718601">err</span>&nbsp;<span class="op" id="6718605">:=</span>&nbsp;<span class="ident" id="6718608"><a href="/encoding/json/indent.go.html#4782774">Compact</a></span><span class="op" id="6718615">(</span><span class="op" id="6718616">&amp;</span><span class="ident" id="6718617"><a href="/encoding/json/scanner_test.go.html#6718315">buf1</a></span><span class="op" id="6718621">,</span>&nbsp;<span class="ident" id="6718623"><a href="/encoding/json/scanner_test.go.html#6718100">b</a></span><span class="op" id="6718624">)</span><span class="op" id="6718625">;</span>&nbsp;<span class="ident" id="6718627"><a href="/encoding/json/scanner_test.go.html#6718601">err</a></span>&nbsp;<span class="op" id="6718631">!=</span>&nbsp;<span class="ident" id="6718634">nil</span>&nbsp;<span class="op" id="6718638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718642"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718643">.</span><span class="ident" id="6718644">Fatalf</span><span class="op" id="6718650">(</span><span class="string" id="6718651">&#34;Compact:&nbsp;%v&#34;</span><span class="op" id="6718664">,</span>&nbsp;<span class="ident" id="6718666"><a href="/encoding/json/scanner_test.go.html#6718601">err</a></span><span class="op" id="6718669">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718675"><a href="/encoding/json/scanner_test.go.html#6718420">b1</a></span>&nbsp;<span class="op" id="6718678">=</span>&nbsp;<span class="ident" id="6718680"><a href="/encoding/json/scanner_test.go.html#6718315">buf1</a></span><span class="op" id="6718684">.</span><span class="ident" id="6718685">Bytes</span><span class="op" id="6718690">(</span><span class="op" id="6718691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718694">if</span>&nbsp;<span class="op" id="6718697">!</span><span class="ident" id="6718698"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6718703">.</span><span class="ident" id="6718704">Equal</span><span class="op" id="6718709">(</span><span class="ident" id="6718710"><a href="/encoding/json/scanner_test.go.html#6718420">b1</a></span><span class="op" id="6718712">,</span>&nbsp;<span class="ident" id="6718714"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6718721">)</span>&nbsp;<span class="op" id="6718723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718727"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718728">.</span><span class="ident" id="6718729">Error</span><span class="op" id="6718734">(</span><span class="string" id="6718735">&#34;Compact(Indent(jsonBig))&nbsp;!=&nbsp;jsonBig&#34;</span><span class="op" id="6718772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718776"><a href="/encoding/json/scanner_test.go.html#6720248">diff</a></span><span class="op" id="6718780">(</span><span class="ident" id="6718781"><a href="/encoding/json/scanner_test.go.html#6717959">t</a></span><span class="op" id="6718782">,</span>&nbsp;<span class="ident" id="6718784"><a href="/encoding/json/scanner_test.go.html#6718420">b1</a></span><span class="op" id="6718786">,</span>&nbsp;<span class="ident" id="6718788"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6718795">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6718799">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718807">}</span><br>
<span class="lineno"></span><span class="op" id="6718809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6718812">type</span>&nbsp;<span class="ident" id="6718817">indentErrorTest</span>&nbsp;<span class="keyword" id="6718833">struct</span>&nbsp;<span class="op" id="6718840">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718843">in</span>&nbsp;&nbsp;<span class="builtintype" id="6718847">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6718855">err</span>&nbsp;<span class="builtintype" id="6718859">error</span><br>
<span class="lineno"></span><span class="op" id="6718865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6718868">var</span>&nbsp;<span class="ident" id="6718872">indentErrorTests</span>&nbsp;<span class="op" id="6718889">=</span>&nbsp;<span class="op" id="6718891">[</span><span class="op" id="6718892">]</span><span class="ident" id="6718893"><a href="/encoding/json/scanner_test.go.html#6718817">indentErrorTest</a></span><span class="op" id="6718908">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718911">{</span><span class="string" id="6718912">`{&#34;X&#34;:&nbsp;&#34;foo&#34;,&nbsp;&#34;Y&#34;}`</span><span class="op" id="6718931">,</span>&nbsp;<span class="op" id="6718933">&amp;</span><span class="ident" id="6718934"><a href="/encoding/json/scanner.go.html#4787271">SyntaxError</a></span><span class="op" id="6718945">{</span><span class="string" id="6718946">&#34;invalid&nbsp;character&nbsp;&#39;}&#39;&nbsp;after&nbsp;object&nbsp;key&#34;</span><span class="op" id="6718986">,</span>&nbsp;<span class="num" id="6718988">17</span><span class="op" id="6718990">}</span><span class="op" id="6718991">}</span><span class="op" id="6718992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6718995">{</span><span class="string" id="6718996">`{&#34;X&#34;:&nbsp;&#34;foo&#34;&nbsp;&#34;Y&#34;:&nbsp;&#34;bar&#34;}`</span><span class="op" id="6719021">,</span>&nbsp;<span class="op" id="6719023">&amp;</span><span class="ident" id="6719024"><a href="/encoding/json/scanner.go.html#4787271">SyntaxError</a></span><span class="op" id="6719035">{</span><span class="string" id="6719036">&#34;invalid&nbsp;character&nbsp;&#39;\&#34;&#39;&nbsp;after&nbsp;object&nbsp;key:value&nbsp;pair&#34;</span><span class="op" id="6719088">,</span>&nbsp;<span class="num" id="6719090">13</span><span class="op" id="6719092">}</span><span class="op" id="6719093">}</span><span class="op" id="6719094">,</span><br>
<span class="lineno"></span><span class="op" id="6719096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6719099">func</span>&nbsp;<span class="ident" id="6719104">TestIndentErrors</span><span class="op" id="6719120">(</span><span class="ident" id="6719121">t</span>&nbsp;<span class="op" id="6719123">*</span><span class="ident" id="6719124"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6719131">.</span><span class="ident" id="6719132">T</span><span class="op" id="6719133">)</span>&nbsp;<span class="op" id="6719135">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719138">for</span>&nbsp;<span class="ident" id="6719142">i</span><span class="op" id="6719143">,</span>&nbsp;<span class="ident" id="6719145">tt</span>&nbsp;<span class="op" id="6719148">:=</span>&nbsp;<span class="keyword" id="6719151">range</span>&nbsp;<span class="ident" id="6719157"><a href="/encoding/json/scanner_test.go.html#6718872">indentErrorTests</a></span>&nbsp;<span class="op" id="6719174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719178">slice</span>&nbsp;<span class="op" id="6719184">:=</span>&nbsp;<span class="builtinfunc" id="6719187">make</span><span class="op" id="6719191">(</span><span class="op" id="6719192">[</span><span class="op" id="6719193">]</span><span class="builtintype" id="6719194">uint8</span><span class="op" id="6719199">,</span>&nbsp;<span class="num" id="6719201">0</span><span class="op" id="6719202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719206">buf</span>&nbsp;<span class="op" id="6719210">:=</span>&nbsp;<span class="ident" id="6719213"><a href="/encoding/json/scanner_test.go.html#6715423">bytes</a></span><span class="op" id="6719218">.</span><span class="ident" id="6719219">NewBuffer</span><span class="op" id="6719228">(</span><span class="ident" id="6719229"><a href="/encoding/json/scanner_test.go.html#6719178">slice</a></span><span class="op" id="6719234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719238">if</span>&nbsp;<span class="ident" id="6719241">err</span>&nbsp;<span class="op" id="6719245">:=</span>&nbsp;<span class="ident" id="6719248"><a href="/encoding/json/indent.go.html#4784407">Indent</a></span><span class="op" id="6719254">(</span><span class="ident" id="6719255"><a href="/encoding/json/scanner_test.go.html#6719206">buf</a></span><span class="op" id="6719258">,</span>&nbsp;<span class="op" id="6719260">[</span><span class="op" id="6719261">]</span><span class="builtintype" id="6719262">uint8</span><span class="op" id="6719267">(</span><span class="ident" id="6719268"><a href="/encoding/json/scanner_test.go.html#6719145">tt</a></span><span class="op" id="6719270">.</span><span class="ident" id="6719271">in</span><span class="op" id="6719273">)</span><span class="op" id="6719274">,</span>&nbsp;<span class="string" id="6719276">&#34;&#34;</span><span class="op" id="6719278">,</span>&nbsp;<span class="string" id="6719280">&#34;&#34;</span><span class="op" id="6719282">)</span><span class="op" id="6719283">;</span>&nbsp;<span class="ident" id="6719285"><a href="/encoding/json/scanner_test.go.html#6719241">err</a></span>&nbsp;<span class="op" id="6719289">!=</span>&nbsp;<span class="ident" id="6719292">nil</span>&nbsp;<span class="op" id="6719296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719301">if</span>&nbsp;<span class="op" id="6719304">!</span><span class="ident" id="6719305"><a href="/encoding/json/scanner_test.go.html#6715453">reflect</a></span><span class="op" id="6719312">.</span><span class="ident" id="6719313">DeepEqual</span><span class="op" id="6719322">(</span><span class="ident" id="6719323"><a href="/encoding/json/scanner_test.go.html#6719241">err</a></span><span class="op" id="6719326">,</span>&nbsp;<span class="ident" id="6719328"><a href="/encoding/json/scanner_test.go.html#6719145">tt</a></span><span class="op" id="6719330">.</span><span class="ident" id="6719331">err</span><span class="op" id="6719334">)</span>&nbsp;<span class="op" id="6719336">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719342"><a href="/encoding/json/scanner_test.go.html#6719121">t</a></span><span class="op" id="6719343">.</span><span class="ident" id="6719344">Errorf</span><span class="op" id="6719350">(</span><span class="string" id="6719351">&#34;#%d:&nbsp;Indent:&nbsp;%#v&#34;</span><span class="op" id="6719369">,</span>&nbsp;<span class="ident" id="6719371"><a href="/encoding/json/scanner_test.go.html#6719142">i</a></span><span class="op" id="6719372">,</span>&nbsp;<span class="ident" id="6719374"><a href="/encoding/json/scanner_test.go.html#6719241">err</a></span><span class="op" id="6719377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719383">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719402">}</span><br>
<span class="lineno">180</span><span class="op" id="6719404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6719407">func</span>&nbsp;<span class="ident" id="6719412">TestNextValueBig</span><span class="op" id="6719428">(</span><span class="ident" id="6719429">t</span>&nbsp;<span class="op" id="6719431">*</span><span class="ident" id="6719432"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6719439">.</span><span class="ident" id="6719440">T</span><span class="op" id="6719441">)</span>&nbsp;<span class="op" id="6719443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719446"><a href="/encoding/json/scanner_test.go.html#6720633">initBig</a></span><span class="op" id="6719453">(</span><span class="op" id="6719454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719457">var</span>&nbsp;<span class="ident" id="6719461">scan</span>&nbsp;<span class="ident" id="6719466"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719475">item</span><span class="op" id="6719479">,</span>&nbsp;<span class="ident" id="6719481">rest</span><span class="op" id="6719485">,</span>&nbsp;<span class="ident" id="6719487">err</span>&nbsp;<span class="op" id="6719491">:=</span>&nbsp;<span class="ident" id="6719494"><a href="/encoding/json/scanner.go.html#4786830">nextValue</a></span><span class="op" id="6719503">(</span><span class="ident" id="6719504"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6719511">,</span>&nbsp;<span class="op" id="6719513">&amp;</span><span class="ident" id="6719514"><a href="/encoding/json/scanner_test.go.html#6719461">scan</a></span><span class="op" id="6719518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719521">if</span>&nbsp;<span class="ident" id="6719524"><a href="/encoding/json/scanner_test.go.html#6719487">err</a></span>&nbsp;<span class="op" id="6719528">!=</span>&nbsp;<span class="ident" id="6719531">nil</span>&nbsp;<span class="op" id="6719535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719539"><a href="/encoding/json/scanner_test.go.html#6719429">t</a></span><span class="op" id="6719540">.</span><span class="ident" id="6719541">Fatalf</span><span class="op" id="6719547">(</span><span class="string" id="6719548">&#34;nextValue:&nbsp;%s&#34;</span><span class="op" id="6719563">,</span>&nbsp;<span class="ident" id="6719565"><a href="/encoding/json/scanner_test.go.html#6719487">err</a></span><span class="op" id="6719568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719574">if</span>&nbsp;<span class="builtinfunc" id="6719577">len</span><span class="op" id="6719580">(</span><span class="ident" id="6719581"><a href="/encoding/json/scanner_test.go.html#6719475">item</a></span><span class="op" id="6719585">)</span>&nbsp;<span class="op" id="6719587">!=</span>&nbsp;<span class="builtinfunc" id="6719590">len</span><span class="op" id="6719593">(</span><span class="ident" id="6719594"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6719601">)</span>&nbsp;<span class="op" id="6719603">||</span>&nbsp;<span class="op" id="6719606">&amp;</span><span class="ident" id="6719607"><a href="/encoding/json/scanner_test.go.html#6719475">item</a></span><span class="op" id="6719611">[</span><span class="num" id="6719612">0</span><span class="op" id="6719613">]</span>&nbsp;<span class="op" id="6719615">!=</span>&nbsp;<span class="op" id="6719618">&amp;</span><span class="ident" id="6719619"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6719626">[</span><span class="num" id="6719627">0</span><span class="op" id="6719628">]</span>&nbsp;<span class="op" id="6719630">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719634"><a href="/encoding/json/scanner_test.go.html#6719429">t</a></span><span class="op" id="6719635">.</span><span class="ident" id="6719636">Errorf</span><span class="op" id="6719642">(</span><span class="string" id="6719643">&#34;invalid&nbsp;item:&nbsp;%d&nbsp;%d&#34;</span><span class="op" id="6719664">,</span>&nbsp;<span class="builtinfunc" id="6719666">len</span><span class="op" id="6719669">(</span><span class="ident" id="6719670"><a href="/encoding/json/scanner_test.go.html#6719475">item</a></span><span class="op" id="6719674">)</span><span class="op" id="6719675">,</span>&nbsp;<span class="builtinfunc" id="6719677">len</span><span class="op" id="6719680">(</span><span class="ident" id="6719681"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6719688">)</span><span class="op" id="6719689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719695">if</span>&nbsp;<span class="builtinfunc" id="6719698">len</span><span class="op" id="6719701">(</span><span class="ident" id="6719702"><a href="/encoding/json/scanner_test.go.html#6719481">rest</a></span><span class="op" id="6719706">)</span>&nbsp;<span class="op" id="6719708">!=</span>&nbsp;<span class="num" id="6719711">0</span>&nbsp;<span class="op" id="6719713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719717"><a href="/encoding/json/scanner_test.go.html#6719429">t</a></span><span class="op" id="6719718">.</span><span class="ident" id="6719719">Errorf</span><span class="op" id="6719725">(</span><span class="string" id="6719726">&#34;invalid&nbsp;rest:&nbsp;%d&#34;</span><span class="op" id="6719744">,</span>&nbsp;<span class="builtinfunc" id="6719746">len</span><span class="op" id="6719749">(</span><span class="ident" id="6719750"><a href="/encoding/json/scanner_test.go.html#6719481">rest</a></span><span class="op" id="6719754">)</span><span class="op" id="6719755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719758">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719762"><a href="/encoding/json/scanner_test.go.html#6719475">item</a></span><span class="op" id="6719766">,</span>&nbsp;<span class="ident" id="6719768"><a href="/encoding/json/scanner_test.go.html#6719481">rest</a></span><span class="op" id="6719772">,</span>&nbsp;<span class="ident" id="6719774"><a href="/encoding/json/scanner_test.go.html#6719487">err</a></span>&nbsp;<span class="op" id="6719778">=</span>&nbsp;<span class="ident" id="6719780"><a href="/encoding/json/scanner.go.html#4786830">nextValue</a></span><span class="op" id="6719789">(</span><span class="builtinfunc" id="6719790">append</span><span class="op" id="6719796">(</span><span class="ident" id="6719797"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6719804">,</span>&nbsp;<span class="string" id="6719806">&#34;HELLO&nbsp;WORLD&#34;</span><span class="op" id="6719819">...</span><span class="op" id="6719822">)</span><span class="op" id="6719823">,</span>&nbsp;<span class="op" id="6719825">&amp;</span><span class="ident" id="6719826"><a href="/encoding/json/scanner_test.go.html#6719461">scan</a></span><span class="op" id="6719830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719833">if</span>&nbsp;<span class="ident" id="6719836"><a href="/encoding/json/scanner_test.go.html#6719487">err</a></span>&nbsp;<span class="op" id="6719840">!=</span>&nbsp;<span class="ident" id="6719843">nil</span>&nbsp;<span class="op" id="6719847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719851"><a href="/encoding/json/scanner_test.go.html#6719429">t</a></span><span class="op" id="6719852">.</span><span class="ident" id="6719853">Fatalf</span><span class="op" id="6719859">(</span><span class="string" id="6719860">&#34;nextValue&nbsp;extra:&nbsp;%s&#34;</span><span class="op" id="6719881">,</span>&nbsp;<span class="ident" id="6719883"><a href="/encoding/json/scanner_test.go.html#6719487">err</a></span><span class="op" id="6719886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719889">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719892">if</span>&nbsp;<span class="builtinfunc" id="6719895">len</span><span class="op" id="6719898">(</span><span class="ident" id="6719899"><a href="/encoding/json/scanner_test.go.html#6719475">item</a></span><span class="op" id="6719903">)</span>&nbsp;<span class="op" id="6719905">!=</span>&nbsp;<span class="builtinfunc" id="6719908">len</span><span class="op" id="6719911">(</span><span class="ident" id="6719912"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6719919">)</span>&nbsp;<span class="op" id="6719921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6719925"><a href="/encoding/json/scanner_test.go.html#6719429">t</a></span><span class="op" id="6719926">.</span><span class="ident" id="6719927">Errorf</span><span class="op" id="6719933">(</span><span class="string" id="6719934">&#34;invalid&nbsp;item:&nbsp;%d&nbsp;%d&#34;</span><span class="op" id="6719955">,</span>&nbsp;<span class="builtinfunc" id="6719957">len</span><span class="op" id="6719960">(</span><span class="ident" id="6719961"><a href="/encoding/json/scanner_test.go.html#6719475">item</a></span><span class="op" id="6719965">)</span><span class="op" id="6719966">,</span>&nbsp;<span class="builtinfunc" id="6719968">len</span><span class="op" id="6719971">(</span><span class="ident" id="6719972"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6719979">)</span><span class="op" id="6719980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6719983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6719986">if</span>&nbsp;<span class="builtintype" id="6719989">string</span><span class="op" id="6719995">(</span><span class="ident" id="6719996"><a href="/encoding/json/scanner_test.go.html#6719481">rest</a></span><span class="op" id="6720000">)</span>&nbsp;<span class="op" id="6720002">!=</span>&nbsp;<span class="string" id="6720005">&#34;HELLO&nbsp;WORLD&#34;</span>&nbsp;<span class="op" id="6720019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720023"><a href="/encoding/json/scanner_test.go.html#6719429">t</a></span><span class="op" id="6720024">.</span><span class="ident" id="6720025">Errorf</span><span class="op" id="6720031">(</span><span class="string" id="6720032">&#34;invalid&nbsp;rest:&nbsp;%d&#34;</span><span class="op" id="6720050">,</span>&nbsp;<span class="builtinfunc" id="6720052">len</span><span class="op" id="6720055">(</span><span class="ident" id="6720056"><a href="/encoding/json/scanner_test.go.html#6719481">rest</a></span><span class="op" id="6720060">)</span><span class="op" id="6720061">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720064">}</span><br>
<span class="lineno"></span><span class="op" id="6720066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6720069">var</span>&nbsp;<span class="ident" id="6720073">benchScan</span>&nbsp;<span class="ident" id="6720083"><a href="/encoding/json/scanner.go.html#4788105">scanner</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span><span class="keyword" id="6720092">func</span>&nbsp;<span class="ident" id="6720097">BenchmarkSkipValue</span><span class="op" id="6720115">(</span><span class="ident" id="6720116">b</span>&nbsp;<span class="op" id="6720118">*</span><span class="ident" id="6720119"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6720126">.</span><span class="ident" id="6720127">B</span><span class="op" id="6720128">)</span>&nbsp;<span class="op" id="6720130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720133"><a href="/encoding/json/scanner_test.go.html#6720633">initBig</a></span><span class="op" id="6720140">(</span><span class="op" id="6720141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720144">for</span>&nbsp;<span class="ident" id="6720148">i</span>&nbsp;<span class="op" id="6720150">:=</span>&nbsp;<span class="num" id="6720153">0</span><span class="op" id="6720154">;</span>&nbsp;<span class="ident" id="6720156"><a href="/encoding/json/scanner_test.go.html#6720148">i</a></span>&nbsp;<span class="op" id="6720158">&lt;</span>&nbsp;<span class="ident" id="6720160"><a href="/encoding/json/scanner_test.go.html#6720116">b</a></span><span class="op" id="6720161">.</span><span class="ident" id="6720162">N</span><span class="op" id="6720163">;</span>&nbsp;<span class="ident" id="6720165"><a href="/encoding/json/scanner_test.go.html#6720148">i</a></span><span class="op" id="6720166">++</span>&nbsp;<span class="op" id="6720169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720173"><a href="/encoding/json/scanner.go.html#4786830">nextValue</a></span><span class="op" id="6720182">(</span><span class="ident" id="6720183"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6720190">,</span>&nbsp;<span class="op" id="6720192">&amp;</span><span class="ident" id="6720193"><a href="/encoding/json/scanner_test.go.html#6720073">benchScan</a></span><span class="op" id="6720202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720205">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720208"><a href="/encoding/json/scanner_test.go.html#6720116">b</a></span><span class="op" id="6720209">.</span><span class="ident" id="6720210">SetBytes</span><span class="op" id="6720218">(</span><span class="ident" id="6720219">int64</span><span class="op" id="6720224">(</span><span class="builtinfunc" id="6720225">len</span><span class="op" id="6720228">(</span><span class="ident" id="6720229"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span><span class="op" id="6720236">)</span><span class="op" id="6720237">)</span><span class="op" id="6720238">)</span><br>
<span class="lineno"></span><span class="op" id="6720240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6720243">func</span>&nbsp;<span class="ident" id="6720248">diff</span><span class="op" id="6720252">(</span><span class="ident" id="6720253">t</span>&nbsp;<span class="op" id="6720255">*</span><span class="ident" id="6720256"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6720263">.</span><span class="ident" id="6720264">T</span><span class="op" id="6720265">,</span>&nbsp;<span class="ident" id="6720267">a</span><span class="op" id="6720268">,</span>&nbsp;<span class="ident" id="6720270">b</span>&nbsp;<span class="op" id="6720272">[</span><span class="op" id="6720273">]</span><span class="builtintype" id="6720274">byte</span><span class="op" id="6720278">)</span>&nbsp;<span class="op" id="6720280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720283">for</span>&nbsp;<span class="ident" id="6720287">i</span>&nbsp;<span class="op" id="6720289">:=</span>&nbsp;<span class="num" id="6720292">0</span><span class="op" id="6720293">;</span>&nbsp;<span class="op" id="6720295">;</span>&nbsp;<span class="ident" id="6720297"><a href="/encoding/json/scanner_test.go.html#6720287">i</a></span><span class="op" id="6720298">++</span>&nbsp;<span class="op" id="6720301">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720305">if</span>&nbsp;<span class="ident" id="6720308"><a href="/encoding/json/scanner_test.go.html#6720287">i</a></span>&nbsp;<span class="op" id="6720310">&gt;=</span>&nbsp;<span class="builtinfunc" id="6720313">len</span><span class="op" id="6720316">(</span><span class="ident" id="6720317"><a href="/encoding/json/scanner_test.go.html#6720267">a</a></span><span class="op" id="6720318">)</span>&nbsp;<span class="op" id="6720320">||</span>&nbsp;<span class="ident" id="6720323"><a href="/encoding/json/scanner_test.go.html#6720287">i</a></span>&nbsp;<span class="op" id="6720325">&gt;=</span>&nbsp;<span class="builtinfunc" id="6720328">len</span><span class="op" id="6720331">(</span><span class="ident" id="6720332"><a href="/encoding/json/scanner_test.go.html#6720270">b</a></span><span class="op" id="6720333">)</span>&nbsp;<span class="op" id="6720335">||</span>&nbsp;<span class="ident" id="6720338"><a href="/encoding/json/scanner_test.go.html#6720267">a</a></span><span class="op" id="6720339">[</span><span class="ident" id="6720340"><a href="/encoding/json/scanner_test.go.html#6720287">i</a></span><span class="op" id="6720341">]</span>&nbsp;<span class="op" id="6720343">!=</span>&nbsp;<span class="ident" id="6720346"><a href="/encoding/json/scanner_test.go.html#6720270">b</a></span><span class="op" id="6720347">[</span><span class="ident" id="6720348"><a href="/encoding/json/scanner_test.go.html#6720287">i</a></span><span class="op" id="6720349">]</span>&nbsp;<span class="op" id="6720351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720356">j</span>&nbsp;<span class="op" id="6720358">:=</span>&nbsp;<span class="ident" id="6720361"><a href="/encoding/json/scanner_test.go.html#6720287">i</a></span>&nbsp;<span class="op" id="6720363">-</span>&nbsp;<span class="num" id="6720365">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720371">if</span>&nbsp;<span class="ident" id="6720374"><a href="/encoding/json/scanner_test.go.html#6720356">j</a></span>&nbsp;<span class="op" id="6720376">&lt;</span>&nbsp;<span class="num" id="6720378">0</span>&nbsp;<span class="op" id="6720380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720386"><a href="/encoding/json/scanner_test.go.html#6720356">j</a></span>&nbsp;<span class="op" id="6720388">=</span>&nbsp;<span class="num" id="6720390">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720395">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720400"><a href="/encoding/json/scanner_test.go.html#6720253">t</a></span><span class="op" id="6720401">.</span><span class="ident" id="6720402">Errorf</span><span class="op" id="6720408">(</span><span class="string" id="6720409">&#34;diverge&nbsp;at&nbsp;%d:&nbsp;%s&nbsp;vs&nbsp;%s&#34;</span><span class="op" id="6720442">,</span>&nbsp;<span class="ident" id="6720444"><a href="/encoding/json/scanner_test.go.html#6720287">i</a></span><span class="op" id="6720445">,</span>&nbsp;<span class="ident" id="6720447"><a href="/encoding/json/scanner_test.go.html#6720498">trim</a></span><span class="op" id="6720451">(</span><span class="ident" id="6720452"><a href="/encoding/json/scanner_test.go.html#6720267">a</a></span><span class="op" id="6720453">[</span><span class="ident" id="6720454"><a href="/encoding/json/scanner_test.go.html#6720356">j</a></span><span class="op" id="6720455">:</span><span class="op" id="6720456">]</span><span class="op" id="6720457">)</span><span class="op" id="6720458">,</span>&nbsp;<span class="ident" id="6720460"><a href="/encoding/json/scanner_test.go.html#6720498">trim</a></span><span class="op" id="6720464">(</span><span class="ident" id="6720465"><a href="/encoding/json/scanner_test.go.html#6720270">b</a></span><span class="op" id="6720466">[</span><span class="ident" id="6720467"><a href="/encoding/json/scanner_test.go.html#6720356">j</a></span><span class="op" id="6720468">:</span><span class="op" id="6720469">]</span><span class="op" id="6720470">)</span><span class="op" id="6720471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720476">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720488">}</span><br>
<span class="lineno"></span><span class="op" id="6720490">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="6720493">func</span>&nbsp;<span class="ident" id="6720498">trim</span><span class="op" id="6720502">(</span><span class="ident" id="6720503">b</span>&nbsp;<span class="op" id="6720505">[</span><span class="op" id="6720506">]</span><span class="builtintype" id="6720507">byte</span><span class="op" id="6720511">)</span>&nbsp;<span class="op" id="6720513">[</span><span class="op" id="6720514">]</span><span class="builtintype" id="6720515">byte</span>&nbsp;<span class="op" id="6720520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720523">if</span>&nbsp;<span class="builtinfunc" id="6720526">len</span><span class="op" id="6720529">(</span><span class="ident" id="6720530"><a href="/encoding/json/scanner_test.go.html#6720503">b</a></span><span class="op" id="6720531">)</span>&nbsp;<span class="op" id="6720533">&gt;</span>&nbsp;<span class="num" id="6720535">20</span>&nbsp;<span class="op" id="6720538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720542">return</span>&nbsp;<span class="ident" id="6720549"><a href="/encoding/json/scanner_test.go.html#6720503">b</a></span><span class="op" id="6720550">[</span><span class="num" id="6720551">0</span><span class="op" id="6720552">:</span><span class="num" id="6720553">20</span><span class="op" id="6720555">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720558">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720561">return</span>&nbsp;<span class="ident" id="6720568"><a href="/encoding/json/scanner_test.go.html#6720503">b</a></span><br>
<span class="lineno"></span><span class="op" id="6720570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6720573">//&nbsp;Generate&nbsp;a&nbsp;random&nbsp;JSON&nbsp;object.</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="6720608">var</span>&nbsp;<span class="ident" id="6720612">jsonBig</span>&nbsp;<span class="op" id="6720620">[</span><span class="op" id="6720621">]</span><span class="builtintype" id="6720622">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6720628">func</span>&nbsp;<span class="ident" id="6720633">initBig</span><span class="op" id="6720640">(</span><span class="op" id="6720641">)</span>&nbsp;<span class="op" id="6720643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720646">n</span>&nbsp;<span class="op" id="6720648">:=</span>&nbsp;<span class="num" id="6720651">10000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720658">if</span>&nbsp;<span class="ident" id="6720661"><a href="/encoding/json/scanner_test.go.html#6715464">testing</a></span><span class="op" id="6720668">.</span><span class="ident" id="6720669">Short</span><span class="op" id="6720674">(</span><span class="op" id="6720675">)</span>&nbsp;<span class="op" id="6720677">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720681"><a href="/encoding/json/scanner_test.go.html#6720646">n</a></span>&nbsp;<span class="op" id="6720683">=</span>&nbsp;<span class="num" id="6720685">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720693">b</span><span class="op" id="6720694">,</span>&nbsp;<span class="ident" id="6720696">err</span>&nbsp;<span class="op" id="6720700">:=</span>&nbsp;<span class="ident" id="6720703"><a href="/encoding/json/encode.go.html#4753477">Marshal</a></span><span class="op" id="6720710">(</span><span class="ident" id="6720711"><a href="/encoding/json/scanner_test.go.html#6720778">genValue</a></span><span class="op" id="6720719">(</span><span class="ident" id="6720720"><a href="/encoding/json/scanner_test.go.html#6720646">n</a></span><span class="op" id="6720721">)</span><span class="op" id="6720722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720725">if</span>&nbsp;<span class="ident" id="6720728"><a href="/encoding/json/scanner_test.go.html#6720696">err</a></span>&nbsp;<span class="op" id="6720732">!=</span>&nbsp;<span class="ident" id="6720735">nil</span>&nbsp;<span class="op" id="6720739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6720743">panic</span><span class="op" id="6720748">(</span><span class="ident" id="6720749"><a href="/encoding/json/scanner_test.go.html#6720696">err</a></span><span class="op" id="6720752">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6720758"><a href="/encoding/json/scanner_test.go.html#6720612">jsonBig</a></span>&nbsp;<span class="op" id="6720766">=</span>&nbsp;<span class="ident" id="6720768"><a href="/encoding/json/scanner_test.go.html#6720693">b</a></span><br>
<span class="lineno"></span><span class="op" id="6720770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6720773">func</span>&nbsp;<span class="ident" id="6720778">genValue</span><span class="op" id="6720786">(</span><span class="ident" id="6720787">n</span>&nbsp;<span class="builtintype" id="6720789">int</span><span class="op" id="6720792">)</span>&nbsp;<span class="keyword" id="6720794">interface</span><span class="op" id="6720803">{</span><span class="op" id="6720804">}</span>&nbsp;<span class="op" id="6720806">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720809">if</span>&nbsp;<span class="ident" id="6720812"><a href="/encoding/json/scanner_test.go.html#6720787">n</a></span>&nbsp;<span class="op" id="6720814">&gt;</span>&nbsp;<span class="num" id="6720816">1</span>&nbsp;<span class="op" id="6720818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720822">switch</span>&nbsp;<span class="ident" id="6720829"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6720833">.</span><span class="ident" id="6720834">Intn</span><span class="op" id="6720838">(</span><span class="num" id="6720839">2</span><span class="op" id="6720840">)</span>&nbsp;<span class="op" id="6720842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720846">case</span>&nbsp;<span class="num" id="6720851">0</span><span class="op" id="6720852">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720857">return</span>&nbsp;<span class="ident" id="6720864"><a href="/encoding/json/scanner_test.go.html#6721339">genArray</a></span><span class="op" id="6720872">(</span><span class="ident" id="6720873"><a href="/encoding/json/scanner_test.go.html#6720787">n</a></span><span class="op" id="6720874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720878">case</span>&nbsp;<span class="num" id="6720883">1</span><span class="op" id="6720884">:</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720889">return</span>&nbsp;<span class="ident" id="6720896"><a href="/encoding/json/scanner_test.go.html#6721597">genMap</a></span><span class="op" id="6720902">(</span><span class="ident" id="6720903"><a href="/encoding/json/scanner_test.go.html#6720787">n</a></span><span class="op" id="6720904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6720911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720914">switch</span>&nbsp;<span class="ident" id="6720921"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6720925">.</span><span class="ident" id="6720926">Intn</span><span class="op" id="6720930">(</span><span class="num" id="6720931">3</span><span class="op" id="6720932">)</span>&nbsp;<span class="op" id="6720934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720937">case</span>&nbsp;<span class="num" id="6720942">0</span><span class="op" id="6720943">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720947">return</span>&nbsp;<span class="ident" id="6720954"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6720958">.</span><span class="ident" id="6720959">Intn</span><span class="op" id="6720963">(</span><span class="num" id="6720964">2</span><span class="op" id="6720965">)</span>&nbsp;<span class="op" id="6720967">==</span>&nbsp;<span class="num" id="6720970">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720973">case</span>&nbsp;<span class="num" id="6720978">1</span><span class="op" id="6720979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6720983">return</span>&nbsp;<span class="ident" id="6720990"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6720994">.</span><span class="ident" id="6720995">NormFloat64</span><span class="op" id="6721006">(</span><span class="op" id="6721007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721010">case</span>&nbsp;<span class="num" id="6721015">2</span><span class="op" id="6721016">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721020">return</span>&nbsp;<span class="ident" id="6721027"><a href="/encoding/json/scanner_test.go.html#6721074">genString</a></span><span class="op" id="6721036">(</span><span class="num" id="6721037">30</span><span class="op" id="6721039">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6721045">panic</span><span class="op" id="6721050">(</span><span class="string" id="6721051">&#34;unreachable&#34;</span><span class="op" id="6721064">)</span><br>
<span class="lineno"></span><span class="op" id="6721066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721069">func</span>&nbsp;<span class="ident" id="6721074">genString</span><span class="op" id="6721083">(</span><span class="ident" id="6721084">stddev</span>&nbsp;<span class="builtintype" id="6721091">float64</span><span class="op" id="6721098">)</span>&nbsp;<span class="builtintype" id="6721100">string</span>&nbsp;<span class="op" id="6721107">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721110">n</span>&nbsp;<span class="op" id="6721112">:=</span>&nbsp;<span class="builtintype" id="6721115">int</span><span class="op" id="6721118">(</span><span class="ident" id="6721119"><a href="/encoding/json/scanner_test.go.html#6715432">math</a></span><span class="op" id="6721123">.</span><span class="ident" id="6721124">Abs</span><span class="op" id="6721127">(</span><span class="ident" id="6721128"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6721132">.</span><span class="ident" id="6721133">NormFloat64</span><span class="op" id="6721144">(</span><span class="op" id="6721145">)</span><span class="op" id="6721146">*</span><span class="ident" id="6721147"><a href="/encoding/json/scanner_test.go.html#6721084">stddev</a></span>&nbsp;<span class="op" id="6721154">+</span>&nbsp;<span class="ident" id="6721156"><a href="/encoding/json/scanner_test.go.html#6721084">stddev</a></span><span class="op" id="6721162">/</span><span class="num" id="6721163">2</span><span class="op" id="6721164">)</span><span class="op" id="6721165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721168">c</span>&nbsp;<span class="op" id="6721170">:=</span>&nbsp;<span class="builtinfunc" id="6721173">make</span><span class="op" id="6721177">(</span><span class="op" id="6721178">[</span><span class="op" id="6721179">]</span><span class="builtintype" id="6721180">rune</span><span class="op" id="6721184">,</span>&nbsp;<span class="ident" id="6721186"><a href="/encoding/json/scanner_test.go.html#6721110">n</a></span><span class="op" id="6721187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721190">for</span>&nbsp;<span class="ident" id="6721194">i</span>&nbsp;<span class="op" id="6721196">:=</span>&nbsp;<span class="keyword" id="6721199">range</span>&nbsp;<span class="ident" id="6721205"><a href="/encoding/json/scanner_test.go.html#6721168">c</a></span>&nbsp;<span class="op" id="6721207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721211">f</span>&nbsp;<span class="op" id="6721213">:=</span>&nbsp;<span class="ident" id="6721216"><a href="/encoding/json/scanner_test.go.html#6715432">math</a></span><span class="op" id="6721220">.</span><span class="ident" id="6721221">Abs</span><span class="op" id="6721224">(</span><span class="ident" id="6721225"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6721229">.</span><span class="ident" id="6721230">NormFloat64</span><span class="op" id="6721241">(</span><span class="op" id="6721242">)</span><span class="op" id="6721243">*</span><span class="num" id="6721244">64</span>&nbsp;<span class="op" id="6721247">+</span>&nbsp;<span class="num" id="6721249">32</span><span class="op" id="6721251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721255">if</span>&nbsp;<span class="ident" id="6721258"><a href="/encoding/json/scanner_test.go.html#6721211">f</a></span>&nbsp;<span class="op" id="6721260">&gt;</span>&nbsp;<span class="num" id="6721262">0x10ffff</span>&nbsp;<span class="op" id="6721271">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721276"><a href="/encoding/json/scanner_test.go.html#6721211">f</a></span>&nbsp;<span class="op" id="6721278">=</span>&nbsp;<span class="num" id="6721280">0x10ffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721295"><a href="/encoding/json/scanner_test.go.html#6721168">c</a></span><span class="op" id="6721296">[</span><span class="ident" id="6721297"><a href="/encoding/json/scanner_test.go.html#6721194">i</a></span><span class="op" id="6721298">]</span>&nbsp;<span class="op" id="6721300">=</span>&nbsp;<span class="builtintype" id="6721302">rune</span><span class="op" id="6721306">(</span><span class="ident" id="6721307"><a href="/encoding/json/scanner_test.go.html#6721211">f</a></span><span class="op" id="6721308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721314">return</span>&nbsp;<span class="builtintype" id="6721321">string</span><span class="op" id="6721327">(</span><span class="ident" id="6721328"><a href="/encoding/json/scanner_test.go.html#6721168">c</a></span><span class="op" id="6721329">)</span><br>
<span class="lineno">285</span><span class="op" id="6721331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721334">func</span>&nbsp;<span class="ident" id="6721339">genArray</span><span class="op" id="6721347">(</span><span class="ident" id="6721348">n</span>&nbsp;<span class="builtintype" id="6721350">int</span><span class="op" id="6721353">)</span>&nbsp;<span class="op" id="6721355">[</span><span class="op" id="6721356">]</span><span class="keyword" id="6721357">interface</span><span class="op" id="6721366">{</span><span class="op" id="6721367">}</span>&nbsp;<span class="op" id="6721369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721372">f</span>&nbsp;<span class="op" id="6721374">:=</span>&nbsp;<span class="builtintype" id="6721377">int</span><span class="op" id="6721380">(</span><span class="ident" id="6721381"><a href="/encoding/json/scanner_test.go.html#6715432">math</a></span><span class="op" id="6721385">.</span><span class="ident" id="6721386">Abs</span><span class="op" id="6721389">(</span><span class="ident" id="6721390"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6721394">.</span><span class="ident" id="6721395">NormFloat64</span><span class="op" id="6721406">(</span><span class="op" id="6721407">)</span><span class="op" id="6721408">)</span>&nbsp;<span class="op" id="6721410">*</span>&nbsp;<span class="ident" id="6721412"><a href="/encoding/json/scanner_test.go.html#6715432">math</a></span><span class="op" id="6721416">.</span><span class="ident" id="6721417">Min</span><span class="op" id="6721420">(</span><span class="num" id="6721421">10</span><span class="op" id="6721423">,</span>&nbsp;<span class="builtintype" id="6721425">float64</span><span class="op" id="6721432">(</span><span class="ident" id="6721433"><a href="/encoding/json/scanner_test.go.html#6721348">n</a></span><span class="op" id="6721434">/</span><span class="num" id="6721435">2</span><span class="op" id="6721436">)</span><span class="op" id="6721437">)</span><span class="op" id="6721438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721441">if</span>&nbsp;<span class="ident" id="6721444"><a href="/encoding/json/scanner_test.go.html#6721372">f</a></span>&nbsp;<span class="op" id="6721446">&gt;</span>&nbsp;<span class="ident" id="6721448"><a href="/encoding/json/scanner_test.go.html#6721348">n</a></span>&nbsp;<span class="op" id="6721450">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721454"><a href="/encoding/json/scanner_test.go.html#6721372">f</a></span>&nbsp;<span class="op" id="6721456">=</span>&nbsp;<span class="ident" id="6721458"><a href="/encoding/json/scanner_test.go.html#6721348">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721464">if</span>&nbsp;<span class="ident" id="6721467"><a href="/encoding/json/scanner_test.go.html#6721372">f</a></span>&nbsp;<span class="op" id="6721469">&lt;</span>&nbsp;<span class="num" id="6721471">1</span>&nbsp;<span class="op" id="6721473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721477"><a href="/encoding/json/scanner_test.go.html#6721372">f</a></span>&nbsp;<span class="op" id="6721479">=</span>&nbsp;<span class="num" id="6721481">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721484">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721487">x</span>&nbsp;<span class="op" id="6721489">:=</span>&nbsp;<span class="builtinfunc" id="6721492">make</span><span class="op" id="6721496">(</span><span class="op" id="6721497">[</span><span class="op" id="6721498">]</span><span class="keyword" id="6721499">interface</span><span class="op" id="6721508">{</span><span class="op" id="6721509">}</span><span class="op" id="6721510">,</span>&nbsp;<span class="ident" id="6721512"><a href="/encoding/json/scanner_test.go.html#6721372">f</a></span><span class="op" id="6721513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721516">for</span>&nbsp;<span class="ident" id="6721520">i</span>&nbsp;<span class="op" id="6721522">:=</span>&nbsp;<span class="keyword" id="6721525">range</span>&nbsp;<span class="ident" id="6721531"><a href="/encoding/json/scanner_test.go.html#6721487">x</a></span>&nbsp;<span class="op" id="6721533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721537"><a href="/encoding/json/scanner_test.go.html#6721487">x</a></span><span class="op" id="6721538">[</span><span class="ident" id="6721539"><a href="/encoding/json/scanner_test.go.html#6721520">i</a></span><span class="op" id="6721540">]</span>&nbsp;<span class="op" id="6721542">=</span>&nbsp;<span class="ident" id="6721544"><a href="/encoding/json/scanner_test.go.html#6720778">genValue</a></span><span class="op" id="6721552">(</span><span class="op" id="6721553">(</span><span class="op" id="6721554">(</span><span class="ident" id="6721555"><a href="/encoding/json/scanner_test.go.html#6721520">i</a></span><span class="op" id="6721556">+</span><span class="num" id="6721557">1</span><span class="op" id="6721558">)</span><span class="op" id="6721559">*</span><span class="ident" id="6721560"><a href="/encoding/json/scanner_test.go.html#6721348">n</a></span><span class="op" id="6721561">)</span><span class="op" id="6721562">/</span><span class="ident" id="6721563"><a href="/encoding/json/scanner_test.go.html#6721372">f</a></span>&nbsp;<span class="op" id="6721565">-</span>&nbsp;<span class="op" id="6721567">(</span><span class="ident" id="6721568"><a href="/encoding/json/scanner_test.go.html#6721520">i</a></span><span class="op" id="6721569">*</span><span class="ident" id="6721570"><a href="/encoding/json/scanner_test.go.html#6721348">n</a></span><span class="op" id="6721571">)</span><span class="op" id="6721572">/</span><span class="ident" id="6721573"><a href="/encoding/json/scanner_test.go.html#6721372">f</a></span><span class="op" id="6721574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721580">return</span>&nbsp;<span class="ident" id="6721587"><a href="/encoding/json/scanner_test.go.html#6721487">x</a></span><br>
<span class="lineno">300</span><span class="op" id="6721589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6721592">func</span>&nbsp;<span class="ident" id="6721597">genMap</span><span class="op" id="6721603">(</span><span class="ident" id="6721604">n</span>&nbsp;<span class="builtintype" id="6721606">int</span><span class="op" id="6721609">)</span>&nbsp;<span class="keyword" id="6721611">map</span><span class="op" id="6721614">[</span><span class="builtintype" id="6721615">string</span><span class="op" id="6721621">]</span><span class="keyword" id="6721622">interface</span><span class="op" id="6721631">{</span><span class="op" id="6721632">}</span>&nbsp;<span class="op" id="6721634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721637">f</span>&nbsp;<span class="op" id="6721639">:=</span>&nbsp;<span class="builtintype" id="6721642">int</span><span class="op" id="6721645">(</span><span class="ident" id="6721646"><a href="/encoding/json/scanner_test.go.html#6715432">math</a></span><span class="op" id="6721650">.</span><span class="ident" id="6721651">Abs</span><span class="op" id="6721654">(</span><span class="ident" id="6721655"><a href="/encoding/json/scanner_test.go.html#6715440">rand</a></span><span class="op" id="6721659">.</span><span class="ident" id="6721660">NormFloat64</span><span class="op" id="6721671">(</span><span class="op" id="6721672">)</span><span class="op" id="6721673">)</span>&nbsp;<span class="op" id="6721675">*</span>&nbsp;<span class="ident" id="6721677"><a href="/encoding/json/scanner_test.go.html#6715432">math</a></span><span class="op" id="6721681">.</span><span class="ident" id="6721682">Min</span><span class="op" id="6721685">(</span><span class="num" id="6721686">10</span><span class="op" id="6721688">,</span>&nbsp;<span class="builtintype" id="6721690">float64</span><span class="op" id="6721697">(</span><span class="ident" id="6721698"><a href="/encoding/json/scanner_test.go.html#6721604">n</a></span><span class="op" id="6721699">/</span><span class="num" id="6721700">2</span><span class="op" id="6721701">)</span><span class="op" id="6721702">)</span><span class="op" id="6721703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721706">if</span>&nbsp;<span class="ident" id="6721709"><a href="/encoding/json/scanner_test.go.html#6721637">f</a></span>&nbsp;<span class="op" id="6721711">&gt;</span>&nbsp;<span class="ident" id="6721713"><a href="/encoding/json/scanner_test.go.html#6721604">n</a></span>&nbsp;<span class="op" id="6721715">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721719"><a href="/encoding/json/scanner_test.go.html#6721637">f</a></span>&nbsp;<span class="op" id="6721721">=</span>&nbsp;<span class="ident" id="6721723"><a href="/encoding/json/scanner_test.go.html#6721604">n</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721729">if</span>&nbsp;<span class="ident" id="6721732"><a href="/encoding/json/scanner_test.go.html#6721604">n</a></span>&nbsp;<span class="op" id="6721734">&gt;</span>&nbsp;<span class="num" id="6721736">0</span>&nbsp;<span class="op" id="6721738">&amp;&amp;</span>&nbsp;<span class="ident" id="6721741"><a href="/encoding/json/scanner_test.go.html#6721637">f</a></span>&nbsp;<span class="op" id="6721743">==</span>&nbsp;<span class="num" id="6721746">0</span>&nbsp;<span class="op" id="6721748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721752"><a href="/encoding/json/scanner_test.go.html#6721637">f</a></span>&nbsp;<span class="op" id="6721754">=</span>&nbsp;<span class="num" id="6721756">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721759">}</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721762">x</span>&nbsp;<span class="op" id="6721764">:=</span>&nbsp;<span class="builtinfunc" id="6721767">make</span><span class="op" id="6721771">(</span><span class="keyword" id="6721772">map</span><span class="op" id="6721775">[</span><span class="builtintype" id="6721776">string</span><span class="op" id="6721782">]</span><span class="keyword" id="6721783">interface</span><span class="op" id="6721792">{</span><span class="op" id="6721793">}</span><span class="op" id="6721794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721797">for</span>&nbsp;<span class="ident" id="6721801">i</span>&nbsp;<span class="op" id="6721803">:=</span>&nbsp;<span class="num" id="6721806">0</span><span class="op" id="6721807">;</span>&nbsp;<span class="ident" id="6721809"><a href="/encoding/json/scanner_test.go.html#6721801">i</a></span>&nbsp;<span class="op" id="6721811">&lt;</span>&nbsp;<span class="ident" id="6721813"><a href="/encoding/json/scanner_test.go.html#6721637">f</a></span><span class="op" id="6721814">;</span>&nbsp;<span class="ident" id="6721816"><a href="/encoding/json/scanner_test.go.html#6721801">i</a></span><span class="op" id="6721817">++</span>&nbsp;<span class="op" id="6721820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6721824"><a href="/encoding/json/scanner_test.go.html#6721762">x</a></span><span class="op" id="6721825">[</span><span class="ident" id="6721826"><a href="/encoding/json/scanner_test.go.html#6721074">genString</a></span><span class="op" id="6721835">(</span><span class="num" id="6721836">10</span><span class="op" id="6721838">)</span><span class="op" id="6721839">]</span>&nbsp;<span class="op" id="6721841">=</span>&nbsp;<span class="ident" id="6721843"><a href="/encoding/json/scanner_test.go.html#6720778">genValue</a></span><span class="op" id="6721851">(</span><span class="op" id="6721852">(</span><span class="op" id="6721853">(</span><span class="ident" id="6721854"><a href="/encoding/json/scanner_test.go.html#6721801">i</a></span><span class="op" id="6721855">+</span><span class="num" id="6721856">1</span><span class="op" id="6721857">)</span><span class="op" id="6721858">*</span><span class="ident" id="6721859"><a href="/encoding/json/scanner_test.go.html#6721604">n</a></span><span class="op" id="6721860">)</span><span class="op" id="6721861">/</span><span class="ident" id="6721862"><a href="/encoding/json/scanner_test.go.html#6721637">f</a></span>&nbsp;<span class="op" id="6721864">-</span>&nbsp;<span class="op" id="6721866">(</span><span class="ident" id="6721867"><a href="/encoding/json/scanner_test.go.html#6721801">i</a></span><span class="op" id="6721868">*</span><span class="ident" id="6721869"><a href="/encoding/json/scanner_test.go.html#6721604">n</a></span><span class="op" id="6721870">)</span><span class="op" id="6721871">/</span><span class="ident" id="6721872"><a href="/encoding/json/scanner_test.go.html#6721637">f</a></span><span class="op" id="6721873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6721876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6721879">return</span>&nbsp;<span class="ident" id="6721886"><a href="/encoding/json/scanner_test.go.html#6721762">x</a></span><br>
<span class="lineno">315</span><span class="op" id="6721888">}</span>
</div>
</body>
</html>
