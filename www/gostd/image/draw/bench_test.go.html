<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6728772">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6728827">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6728881">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6728932">package</span>&nbsp;<span class="ident" id="6728940">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6728946">import</span>&nbsp;<span class="op" id="6728953">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6728956">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6728965">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6728980">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6728990">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6728993">const</span>&nbsp;<span class="op" id="6728999">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729002">dstw</span><span class="op" id="6729006">,</span>&nbsp;<span class="ident" id="6729008">dsth</span>&nbsp;<span class="op" id="6729013">=</span>&nbsp;<span class="num" id="6729015">640</span><span class="op" id="6729018">,</span>&nbsp;<span class="num" id="6729020">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729025">srcw</span><span class="op" id="6729029">,</span>&nbsp;<span class="ident" id="6729031">srch</span>&nbsp;<span class="op" id="6729036">=</span>&nbsp;<span class="num" id="6729038">400</span><span class="op" id="6729041">,</span>&nbsp;<span class="num" id="6729043">300</span><br>
<span class="lineno"></span><span class="op" id="6729047">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6729050">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6729124">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="6729186">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="6729252">func</span>&nbsp;<span class="ident" id="6729257">bench</span><span class="op" id="6729262">(</span><span class="ident" id="6729263">b</span>&nbsp;<span class="op" id="6729265">*</span><span class="ident" id="6729266">testing</span><span class="op" id="6729273">.</span><span class="ident" id="6729274">B</span><span class="op" id="6729275">,</span>&nbsp;<span class="ident" id="6729277">dcm</span><span class="op" id="6729280">,</span>&nbsp;<span class="ident" id="6729282">scm</span><span class="op" id="6729285">,</span>&nbsp;<span class="ident" id="6729287">mcm</span>&nbsp;<span class="ident" id="6729291">color</span><span class="op" id="6729296">.</span><span class="ident" id="6729297">Model</span><span class="op" id="6729302">,</span>&nbsp;<span class="ident" id="6729304">op</span>&nbsp;<span class="ident" id="6729307">Op</span><span class="op" id="6729309">)</span>&nbsp;<span class="op" id="6729311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729314">b</span><span class="op" id="6729315">.</span><span class="ident" id="6729316">StopTimer</span><span class="op" id="6729325">(</span><span class="op" id="6729326">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729330">var</span>&nbsp;<span class="ident" id="6729334">dst</span>&nbsp;<span class="ident" id="6729338">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729345">switch</span>&nbsp;<span class="ident" id="6729352">dcm</span>&nbsp;<span class="op" id="6729356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729359">case</span>&nbsp;<span class="ident" id="6729364">color</span><span class="op" id="6729369">.</span><span class="ident" id="6729370">RGBAModel</span><span class="op" id="6729379">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729383">dst1</span>&nbsp;<span class="op" id="6729388">:=</span>&nbsp;<span class="ident" id="6729391">image</span><span class="op" id="6729396">.</span><span class="ident" id="6729397">NewRGBA</span><span class="op" id="6729404">(</span><span class="ident" id="6729405">image</span><span class="op" id="6729410">.</span><span class="ident" id="6729411">Rect</span><span class="op" id="6729415">(</span><span class="num" id="6729416">0</span><span class="op" id="6729417">,</span>&nbsp;<span class="num" id="6729419">0</span><span class="op" id="6729420">,</span>&nbsp;<span class="ident" id="6729422">dstw</span><span class="op" id="6729426">,</span>&nbsp;<span class="ident" id="6729428">dsth</span><span class="op" id="6729432">)</span><span class="op" id="6729433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729437">for</span>&nbsp;<span class="ident" id="6729441">y</span>&nbsp;<span class="op" id="6729443">:=</span>&nbsp;<span class="num" id="6729446">0</span><span class="op" id="6729447">;</span>&nbsp;<span class="ident" id="6729449">y</span>&nbsp;<span class="op" id="6729451">&lt;</span>&nbsp;<span class="ident" id="6729453">dsth</span><span class="op" id="6729457">;</span>&nbsp;<span class="ident" id="6729459">y</span><span class="op" id="6729460">++</span>&nbsp;<span class="op" id="6729463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729468">for</span>&nbsp;<span class="ident" id="6729472">x</span>&nbsp;<span class="op" id="6729474">:=</span>&nbsp;<span class="num" id="6729477">0</span><span class="op" id="6729478">;</span>&nbsp;<span class="ident" id="6729480">x</span>&nbsp;<span class="op" id="6729482">&lt;</span>&nbsp;<span class="ident" id="6729484">dstw</span><span class="op" id="6729488">;</span>&nbsp;<span class="ident" id="6729490">x</span><span class="op" id="6729491">++</span>&nbsp;<span class="op" id="6729494">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729500">dst1</span><span class="op" id="6729504">.</span><span class="ident" id="6729505">SetRGBA</span><span class="op" id="6729512">(</span><span class="ident" id="6729513">x</span><span class="op" id="6729514">,</span>&nbsp;<span class="ident" id="6729516">y</span><span class="op" id="6729517">,</span>&nbsp;<span class="ident" id="6729519">color</span><span class="op" id="6729524">.</span><span class="ident" id="6729525">RGBA</span><span class="op" id="6729529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6729536">uint8</span><span class="op" id="6729541">(</span><span class="num" id="6729542">5</span>&nbsp;<span class="op" id="6729544">*</span>&nbsp;<span class="ident" id="6729546">x</span>&nbsp;<span class="op" id="6729548">%</span>&nbsp;<span class="num" id="6729550">0x100</span><span class="op" id="6729555">)</span><span class="op" id="6729556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6729563">uint8</span><span class="op" id="6729568">(</span><span class="num" id="6729569">7</span>&nbsp;<span class="op" id="6729571">*</span>&nbsp;<span class="ident" id="6729573">y</span>&nbsp;<span class="op" id="6729575">%</span>&nbsp;<span class="num" id="6729577">0x100</span><span class="op" id="6729582">)</span><span class="op" id="6729583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6729590">uint8</span><span class="op" id="6729595">(</span><span class="op" id="6729596">(</span><span class="num" id="6729597">7</span><span class="op" id="6729598">*</span><span class="ident" id="6729599">x</span>&nbsp;<span class="op" id="6729601">+</span>&nbsp;<span class="num" id="6729603">5</span><span class="op" id="6729604">*</span><span class="ident" id="6729605">y</span><span class="op" id="6729606">)</span>&nbsp;<span class="op" id="6729608">%</span>&nbsp;<span class="num" id="6729610">0x100</span><span class="op" id="6729615">)</span><span class="op" id="6729616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6729623">0xff</span><span class="op" id="6729627">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6729633">}</span><span class="op" id="6729634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6729639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6729643">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729647">dst</span>&nbsp;<span class="op" id="6729651">=</span>&nbsp;<span class="ident" id="6729653">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729659">case</span>&nbsp;<span class="ident" id="6729664">color</span><span class="op" id="6729669">.</span><span class="ident" id="6729670">RGBA64Model</span><span class="op" id="6729681">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729685">dst1</span>&nbsp;<span class="op" id="6729690">:=</span>&nbsp;<span class="ident" id="6729693">image</span><span class="op" id="6729698">.</span><span class="ident" id="6729699">NewRGBA64</span><span class="op" id="6729708">(</span><span class="ident" id="6729709">image</span><span class="op" id="6729714">.</span><span class="ident" id="6729715">Rect</span><span class="op" id="6729719">(</span><span class="num" id="6729720">0</span><span class="op" id="6729721">,</span>&nbsp;<span class="num" id="6729723">0</span><span class="op" id="6729724">,</span>&nbsp;<span class="ident" id="6729726">dstw</span><span class="op" id="6729730">,</span>&nbsp;<span class="ident" id="6729732">dsth</span><span class="op" id="6729736">)</span><span class="op" id="6729737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729741">for</span>&nbsp;<span class="ident" id="6729745">y</span>&nbsp;<span class="op" id="6729747">:=</span>&nbsp;<span class="num" id="6729750">0</span><span class="op" id="6729751">;</span>&nbsp;<span class="ident" id="6729753">y</span>&nbsp;<span class="op" id="6729755">&lt;</span>&nbsp;<span class="ident" id="6729757">dsth</span><span class="op" id="6729761">;</span>&nbsp;<span class="ident" id="6729763">y</span><span class="op" id="6729764">++</span>&nbsp;<span class="op" id="6729767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729772">for</span>&nbsp;<span class="ident" id="6729776">x</span>&nbsp;<span class="op" id="6729778">:=</span>&nbsp;<span class="num" id="6729781">0</span><span class="op" id="6729782">;</span>&nbsp;<span class="ident" id="6729784">x</span>&nbsp;<span class="op" id="6729786">&lt;</span>&nbsp;<span class="ident" id="6729788">dstw</span><span class="op" id="6729792">;</span>&nbsp;<span class="ident" id="6729794">x</span><span class="op" id="6729795">++</span>&nbsp;<span class="op" id="6729798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729804">dst1</span><span class="op" id="6729808">.</span><span class="ident" id="6729809">SetRGBA64</span><span class="op" id="6729818">(</span><span class="ident" id="6729819">x</span><span class="op" id="6729820">,</span>&nbsp;<span class="ident" id="6729822">y</span><span class="op" id="6729823">,</span>&nbsp;<span class="ident" id="6729825">color</span><span class="op" id="6729830">.</span><span class="ident" id="6729831">RGBA64</span><span class="op" id="6729837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6729844">uint16</span><span class="op" id="6729850">(</span><span class="num" id="6729851">53</span>&nbsp;<span class="op" id="6729854">*</span>&nbsp;<span class="ident" id="6729856">x</span>&nbsp;<span class="op" id="6729858">%</span>&nbsp;<span class="num" id="6729860">0x10000</span><span class="op" id="6729867">)</span><span class="op" id="6729868">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6729875">uint16</span><span class="op" id="6729881">(</span><span class="num" id="6729882">59</span>&nbsp;<span class="op" id="6729885">*</span>&nbsp;<span class="ident" id="6729887">y</span>&nbsp;<span class="op" id="6729889">%</span>&nbsp;<span class="num" id="6729891">0x10000</span><span class="op" id="6729898">)</span><span class="op" id="6729899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6729906">uint16</span><span class="op" id="6729912">(</span><span class="op" id="6729913">(</span><span class="num" id="6729914">59</span><span class="op" id="6729916">*</span><span class="ident" id="6729917">x</span>&nbsp;<span class="op" id="6729919">+</span>&nbsp;<span class="num" id="6729921">53</span><span class="op" id="6729923">*</span><span class="ident" id="6729924">y</span><span class="op" id="6729925">)</span>&nbsp;<span class="op" id="6729927">%</span>&nbsp;<span class="num" id="6729929">0x10000</span><span class="op" id="6729936">)</span><span class="op" id="6729937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6729944">0xffff</span><span class="op" id="6729950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6729956">}</span><span class="op" id="6729957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6729962">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6729966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729970">dst</span>&nbsp;<span class="op" id="6729974">=</span>&nbsp;<span class="ident" id="6729976">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6729982">default</span><span class="op" id="6729989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6729993">b</span><span class="op" id="6729994">.</span><span class="ident" id="6729995">Fatal</span><span class="op" id="6730000">(</span><span class="string" id="6730001">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="6730034">,</span>&nbsp;<span class="ident" id="6730036">dcm</span><span class="op" id="6730039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6730042">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730046">var</span>&nbsp;<span class="ident" id="6730050">src</span>&nbsp;<span class="ident" id="6730054">image</span><span class="op" id="6730059">.</span><span class="ident" id="6730060">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730067">switch</span>&nbsp;<span class="ident" id="6730074">scm</span>&nbsp;<span class="op" id="6730078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730081">case</span>&nbsp;<span class="builtintype" id="6730086">nil</span><span class="op" id="6730089">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730093">src</span>&nbsp;<span class="op" id="6730097">=</span>&nbsp;<span class="op" id="6730099">&amp;</span><span class="ident" id="6730100">image</span><span class="op" id="6730105">.</span><span class="ident" id="6730106">Uniform</span><span class="op" id="6730113">{</span><span class="ident" id="6730114">C</span><span class="op" id="6730115">:</span>&nbsp;<span class="ident" id="6730117">color</span><span class="op" id="6730122">.</span><span class="ident" id="6730123">RGBA</span><span class="op" id="6730127">{</span><span class="num" id="6730128">0x11</span><span class="op" id="6730132">,</span>&nbsp;<span class="num" id="6730134">0x22</span><span class="op" id="6730138">,</span>&nbsp;<span class="num" id="6730140">0x33</span><span class="op" id="6730144">,</span>&nbsp;<span class="num" id="6730146">0xff</span><span class="op" id="6730150">}</span><span class="op" id="6730151">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730154">case</span>&nbsp;<span class="ident" id="6730159">color</span><span class="op" id="6730164">.</span><span class="ident" id="6730165">RGBAModel</span><span class="op" id="6730174">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730178">src1</span>&nbsp;<span class="op" id="6730183">:=</span>&nbsp;<span class="ident" id="6730186">image</span><span class="op" id="6730191">.</span><span class="ident" id="6730192">NewRGBA</span><span class="op" id="6730199">(</span><span class="ident" id="6730200">image</span><span class="op" id="6730205">.</span><span class="ident" id="6730206">Rect</span><span class="op" id="6730210">(</span><span class="num" id="6730211">0</span><span class="op" id="6730212">,</span>&nbsp;<span class="num" id="6730214">0</span><span class="op" id="6730215">,</span>&nbsp;<span class="ident" id="6730217">srcw</span><span class="op" id="6730221">,</span>&nbsp;<span class="ident" id="6730223">srch</span><span class="op" id="6730227">)</span><span class="op" id="6730228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730232">for</span>&nbsp;<span class="ident" id="6730236">y</span>&nbsp;<span class="op" id="6730238">:=</span>&nbsp;<span class="num" id="6730241">0</span><span class="op" id="6730242">;</span>&nbsp;<span class="ident" id="6730244">y</span>&nbsp;<span class="op" id="6730246">&lt;</span>&nbsp;<span class="ident" id="6730248">srch</span><span class="op" id="6730252">;</span>&nbsp;<span class="ident" id="6730254">y</span><span class="op" id="6730255">++</span>&nbsp;<span class="op" id="6730258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730263">for</span>&nbsp;<span class="ident" id="6730267">x</span>&nbsp;<span class="op" id="6730269">:=</span>&nbsp;<span class="num" id="6730272">0</span><span class="op" id="6730273">;</span>&nbsp;<span class="ident" id="6730275">x</span>&nbsp;<span class="op" id="6730277">&lt;</span>&nbsp;<span class="ident" id="6730279">srcw</span><span class="op" id="6730283">;</span>&nbsp;<span class="ident" id="6730285">x</span><span class="op" id="6730286">++</span>&nbsp;<span class="op" id="6730289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730295">src1</span><span class="op" id="6730299">.</span><span class="ident" id="6730300">SetRGBA</span><span class="op" id="6730307">(</span><span class="ident" id="6730308">x</span><span class="op" id="6730309">,</span>&nbsp;<span class="ident" id="6730311">y</span><span class="op" id="6730312">,</span>&nbsp;<span class="ident" id="6730314">color</span><span class="op" id="6730319">.</span><span class="ident" id="6730320">RGBA</span><span class="op" id="6730324">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730331">uint8</span><span class="op" id="6730336">(</span><span class="num" id="6730337">13</span>&nbsp;<span class="op" id="6730340">*</span>&nbsp;<span class="ident" id="6730342">x</span>&nbsp;<span class="op" id="6730344">%</span>&nbsp;<span class="num" id="6730346">0x80</span><span class="op" id="6730350">)</span><span class="op" id="6730351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730358">uint8</span><span class="op" id="6730363">(</span><span class="num" id="6730364">11</span>&nbsp;<span class="op" id="6730367">*</span>&nbsp;<span class="ident" id="6730369">y</span>&nbsp;<span class="op" id="6730371">%</span>&nbsp;<span class="num" id="6730373">0x80</span><span class="op" id="6730377">)</span><span class="op" id="6730378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730385">uint8</span><span class="op" id="6730390">(</span><span class="op" id="6730391">(</span><span class="num" id="6730392">11</span><span class="op" id="6730394">*</span><span class="ident" id="6730395">x</span>&nbsp;<span class="op" id="6730397">+</span>&nbsp;<span class="num" id="6730399">13</span><span class="op" id="6730401">*</span><span class="ident" id="6730402">y</span><span class="op" id="6730403">)</span>&nbsp;<span class="op" id="6730405">%</span>&nbsp;<span class="num" id="6730407">0x80</span><span class="op" id="6730411">)</span><span class="op" id="6730412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6730419">0x7f</span><span class="op" id="6730423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6730429">}</span><span class="op" id="6730430">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6730435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6730439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730443">src</span>&nbsp;<span class="op" id="6730447">=</span>&nbsp;<span class="ident" id="6730449">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730455">case</span>&nbsp;<span class="ident" id="6730460">color</span><span class="op" id="6730465">.</span><span class="ident" id="6730466">RGBA64Model</span><span class="op" id="6730477">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730481">src1</span>&nbsp;<span class="op" id="6730486">:=</span>&nbsp;<span class="ident" id="6730489">image</span><span class="op" id="6730494">.</span><span class="ident" id="6730495">NewRGBA64</span><span class="op" id="6730504">(</span><span class="ident" id="6730505">image</span><span class="op" id="6730510">.</span><span class="ident" id="6730511">Rect</span><span class="op" id="6730515">(</span><span class="num" id="6730516">0</span><span class="op" id="6730517">,</span>&nbsp;<span class="num" id="6730519">0</span><span class="op" id="6730520">,</span>&nbsp;<span class="ident" id="6730522">srcw</span><span class="op" id="6730526">,</span>&nbsp;<span class="ident" id="6730528">srch</span><span class="op" id="6730532">)</span><span class="op" id="6730533">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730537">for</span>&nbsp;<span class="ident" id="6730541">y</span>&nbsp;<span class="op" id="6730543">:=</span>&nbsp;<span class="num" id="6730546">0</span><span class="op" id="6730547">;</span>&nbsp;<span class="ident" id="6730549">y</span>&nbsp;<span class="op" id="6730551">&lt;</span>&nbsp;<span class="ident" id="6730553">srch</span><span class="op" id="6730557">;</span>&nbsp;<span class="ident" id="6730559">y</span><span class="op" id="6730560">++</span>&nbsp;<span class="op" id="6730563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730568">for</span>&nbsp;<span class="ident" id="6730572">x</span>&nbsp;<span class="op" id="6730574">:=</span>&nbsp;<span class="num" id="6730577">0</span><span class="op" id="6730578">;</span>&nbsp;<span class="ident" id="6730580">x</span>&nbsp;<span class="op" id="6730582">&lt;</span>&nbsp;<span class="ident" id="6730584">srcw</span><span class="op" id="6730588">;</span>&nbsp;<span class="ident" id="6730590">x</span><span class="op" id="6730591">++</span>&nbsp;<span class="op" id="6730594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730600">src1</span><span class="op" id="6730604">.</span><span class="ident" id="6730605">SetRGBA64</span><span class="op" id="6730614">(</span><span class="ident" id="6730615">x</span><span class="op" id="6730616">,</span>&nbsp;<span class="ident" id="6730618">y</span><span class="op" id="6730619">,</span>&nbsp;<span class="ident" id="6730621">color</span><span class="op" id="6730626">.</span><span class="ident" id="6730627">RGBA64</span><span class="op" id="6730633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730640">uint16</span><span class="op" id="6730646">(</span><span class="num" id="6730647">103</span>&nbsp;<span class="op" id="6730651">*</span>&nbsp;<span class="ident" id="6730653">x</span>&nbsp;<span class="op" id="6730655">%</span>&nbsp;<span class="num" id="6730657">0x8000</span><span class="op" id="6730663">)</span><span class="op" id="6730664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730671">uint16</span><span class="op" id="6730677">(</span><span class="num" id="6730678">101</span>&nbsp;<span class="op" id="6730682">*</span>&nbsp;<span class="ident" id="6730684">y</span>&nbsp;<span class="op" id="6730686">%</span>&nbsp;<span class="num" id="6730688">0x8000</span><span class="op" id="6730694">)</span><span class="op" id="6730695">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730702">uint16</span><span class="op" id="6730708">(</span><span class="op" id="6730709">(</span><span class="num" id="6730710">101</span><span class="op" id="6730713">*</span><span class="ident" id="6730714">x</span>&nbsp;<span class="op" id="6730716">+</span>&nbsp;<span class="num" id="6730718">103</span><span class="op" id="6730721">*</span><span class="ident" id="6730722">y</span><span class="op" id="6730723">)</span>&nbsp;<span class="op" id="6730725">%</span>&nbsp;<span class="num" id="6730727">0x8000</span><span class="op" id="6730733">)</span><span class="op" id="6730734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6730741">0x7fff</span><span class="op" id="6730747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6730753">}</span><span class="op" id="6730754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6730759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6730763">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730767">src</span>&nbsp;<span class="op" id="6730771">=</span>&nbsp;<span class="ident" id="6730773">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730779">case</span>&nbsp;<span class="ident" id="6730784">color</span><span class="op" id="6730789">.</span><span class="ident" id="6730790">NRGBAModel</span><span class="op" id="6730800">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730804">src1</span>&nbsp;<span class="op" id="6730809">:=</span>&nbsp;<span class="ident" id="6730812">image</span><span class="op" id="6730817">.</span><span class="ident" id="6730818">NewNRGBA</span><span class="op" id="6730826">(</span><span class="ident" id="6730827">image</span><span class="op" id="6730832">.</span><span class="ident" id="6730833">Rect</span><span class="op" id="6730837">(</span><span class="num" id="6730838">0</span><span class="op" id="6730839">,</span>&nbsp;<span class="num" id="6730841">0</span><span class="op" id="6730842">,</span>&nbsp;<span class="ident" id="6730844">srcw</span><span class="op" id="6730848">,</span>&nbsp;<span class="ident" id="6730850">srch</span><span class="op" id="6730854">)</span><span class="op" id="6730855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730859">for</span>&nbsp;<span class="ident" id="6730863">y</span>&nbsp;<span class="op" id="6730865">:=</span>&nbsp;<span class="num" id="6730868">0</span><span class="op" id="6730869">;</span>&nbsp;<span class="ident" id="6730871">y</span>&nbsp;<span class="op" id="6730873">&lt;</span>&nbsp;<span class="ident" id="6730875">srch</span><span class="op" id="6730879">;</span>&nbsp;<span class="ident" id="6730881">y</span><span class="op" id="6730882">++</span>&nbsp;<span class="op" id="6730885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6730890">for</span>&nbsp;<span class="ident" id="6730894">x</span>&nbsp;<span class="op" id="6730896">:=</span>&nbsp;<span class="num" id="6730899">0</span><span class="op" id="6730900">;</span>&nbsp;<span class="ident" id="6730902">x</span>&nbsp;<span class="op" id="6730904">&lt;</span>&nbsp;<span class="ident" id="6730906">srcw</span><span class="op" id="6730910">;</span>&nbsp;<span class="ident" id="6730912">x</span><span class="op" id="6730913">++</span>&nbsp;<span class="op" id="6730916">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6730922">src1</span><span class="op" id="6730926">.</span><span class="ident" id="6730927">SetNRGBA</span><span class="op" id="6730935">(</span><span class="ident" id="6730936">x</span><span class="op" id="6730937">,</span>&nbsp;<span class="ident" id="6730939">y</span><span class="op" id="6730940">,</span>&nbsp;<span class="ident" id="6730942">color</span><span class="op" id="6730947">.</span><span class="ident" id="6730948">NRGBA</span><span class="op" id="6730953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730960">uint8</span><span class="op" id="6730965">(</span><span class="num" id="6730966">13</span>&nbsp;<span class="op" id="6730969">*</span>&nbsp;<span class="ident" id="6730971">x</span>&nbsp;<span class="op" id="6730973">%</span>&nbsp;<span class="num" id="6730975">0x100</span><span class="op" id="6730980">)</span><span class="op" id="6730981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6730988">uint8</span><span class="op" id="6730993">(</span><span class="num" id="6730994">11</span>&nbsp;<span class="op" id="6730997">*</span>&nbsp;<span class="ident" id="6730999">y</span>&nbsp;<span class="op" id="6731001">%</span>&nbsp;<span class="num" id="6731003">0x100</span><span class="op" id="6731008">)</span><span class="op" id="6731009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6731016">uint8</span><span class="op" id="6731021">(</span><span class="op" id="6731022">(</span><span class="num" id="6731023">11</span><span class="op" id="6731025">*</span><span class="ident" id="6731026">x</span>&nbsp;<span class="op" id="6731028">+</span>&nbsp;<span class="num" id="6731030">13</span><span class="op" id="6731032">*</span><span class="ident" id="6731033">y</span><span class="op" id="6731034">)</span>&nbsp;<span class="op" id="6731036">%</span>&nbsp;<span class="num" id="6731038">0x100</span><span class="op" id="6731043">)</span><span class="op" id="6731044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6731051">0x7f</span><span class="op" id="6731055">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6731061">}</span><span class="op" id="6731062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6731067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6731071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731075">src</span>&nbsp;<span class="op" id="6731079">=</span>&nbsp;<span class="ident" id="6731081">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731087">case</span>&nbsp;<span class="ident" id="6731092">color</span><span class="op" id="6731097">.</span><span class="ident" id="6731098">YCbCrModel</span><span class="op" id="6731108">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731112">yy</span>&nbsp;<span class="op" id="6731115">:=</span>&nbsp;<span class="builtinfunc" id="6731118">make</span><span class="op" id="6731122">(</span><span class="op" id="6731123">[</span><span class="op" id="6731124">]</span><span class="builtintype" id="6731125">uint8</span><span class="op" id="6731130">,</span>&nbsp;<span class="ident" id="6731132">srcw</span><span class="op" id="6731136">*</span><span class="ident" id="6731137">srch</span><span class="op" id="6731141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731145">cb</span>&nbsp;<span class="op" id="6731148">:=</span>&nbsp;<span class="builtinfunc" id="6731151">make</span><span class="op" id="6731155">(</span><span class="op" id="6731156">[</span><span class="op" id="6731157">]</span><span class="builtintype" id="6731158">uint8</span><span class="op" id="6731163">,</span>&nbsp;<span class="ident" id="6731165">srcw</span><span class="op" id="6731169">*</span><span class="ident" id="6731170">srch</span><span class="op" id="6731174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731178">cr</span>&nbsp;<span class="op" id="6731181">:=</span>&nbsp;<span class="builtinfunc" id="6731184">make</span><span class="op" id="6731188">(</span><span class="op" id="6731189">[</span><span class="op" id="6731190">]</span><span class="builtintype" id="6731191">uint8</span><span class="op" id="6731196">,</span>&nbsp;<span class="ident" id="6731198">srcw</span><span class="op" id="6731202">*</span><span class="ident" id="6731203">srch</span><span class="op" id="6731207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731211">for</span>&nbsp;<span class="ident" id="6731215">i</span>&nbsp;<span class="op" id="6731217">:=</span>&nbsp;<span class="keyword" id="6731220">range</span>&nbsp;<span class="ident" id="6731226">yy</span>&nbsp;<span class="op" id="6731229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731234">yy</span><span class="op" id="6731236">[</span><span class="ident" id="6731237">i</span><span class="op" id="6731238">]</span>&nbsp;<span class="op" id="6731240">=</span>&nbsp;<span class="builtintype" id="6731242">uint8</span><span class="op" id="6731247">(</span><span class="num" id="6731248">3</span>&nbsp;<span class="op" id="6731250">*</span>&nbsp;<span class="ident" id="6731252">i</span>&nbsp;<span class="op" id="6731254">%</span>&nbsp;<span class="num" id="6731256">0x100</span><span class="op" id="6731261">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731266">cb</span><span class="op" id="6731268">[</span><span class="ident" id="6731269">i</span><span class="op" id="6731270">]</span>&nbsp;<span class="op" id="6731272">=</span>&nbsp;<span class="builtintype" id="6731274">uint8</span><span class="op" id="6731279">(</span><span class="num" id="6731280">5</span>&nbsp;<span class="op" id="6731282">*</span>&nbsp;<span class="ident" id="6731284">i</span>&nbsp;<span class="op" id="6731286">%</span>&nbsp;<span class="num" id="6731288">0x100</span><span class="op" id="6731293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731298">cr</span><span class="op" id="6731300">[</span><span class="ident" id="6731301">i</span><span class="op" id="6731302">]</span>&nbsp;<span class="op" id="6731304">=</span>&nbsp;<span class="builtintype" id="6731306">uint8</span><span class="op" id="6731311">(</span><span class="num" id="6731312">7</span>&nbsp;<span class="op" id="6731314">*</span>&nbsp;<span class="ident" id="6731316">i</span>&nbsp;<span class="op" id="6731318">%</span>&nbsp;<span class="num" id="6731320">0x100</span><span class="op" id="6731325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6731329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731333">src</span>&nbsp;<span class="op" id="6731337">=</span>&nbsp;<span class="op" id="6731339">&amp;</span><span class="ident" id="6731340">image</span><span class="op" id="6731345">.</span><span class="ident" id="6731346">YCbCr</span><span class="op" id="6731351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731356">Y</span><span class="op" id="6731357">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731372">yy</span><span class="op" id="6731374">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731379">Cb</span><span class="op" id="6731381">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731395">cb</span><span class="op" id="6731397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731402">Cr</span><span class="op" id="6731404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731418">cr</span><span class="op" id="6731420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731425">YStride</span><span class="op" id="6731432">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731441">srcw</span><span class="op" id="6731445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731450">CStride</span><span class="op" id="6731457">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731466">srcw</span><span class="op" id="6731470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731475">SubsampleRatio</span><span class="op" id="6731489">:</span>&nbsp;<span class="ident" id="6731491">image</span><span class="op" id="6731496">.</span><span class="ident" id="6731497">YCbCrSubsampleRatio444</span><span class="op" id="6731519">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731524">Rect</span><span class="op" id="6731528">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731540">image</span><span class="op" id="6731545">.</span><span class="ident" id="6731546">Rect</span><span class="op" id="6731550">(</span><span class="num" id="6731551">0</span><span class="op" id="6731552">,</span>&nbsp;<span class="num" id="6731554">0</span><span class="op" id="6731555">,</span>&nbsp;<span class="ident" id="6731557">srcw</span><span class="op" id="6731561">,</span>&nbsp;<span class="ident" id="6731563">srch</span><span class="op" id="6731567">)</span><span class="op" id="6731568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6731572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731575">default</span><span class="op" id="6731582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731586">b</span><span class="op" id="6731587">.</span><span class="ident" id="6731588">Fatal</span><span class="op" id="6731593">(</span><span class="string" id="6731594">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="6731622">,</span>&nbsp;<span class="ident" id="6731624">scm</span><span class="op" id="6731627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6731630">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731634">var</span>&nbsp;<span class="ident" id="6731638">mask</span>&nbsp;<span class="ident" id="6731643">image</span><span class="op" id="6731648">.</span><span class="ident" id="6731649">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731656">switch</span>&nbsp;<span class="ident" id="6731663">mcm</span>&nbsp;<span class="op" id="6731667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731670">case</span>&nbsp;<span class="builtintype" id="6731675">nil</span><span class="op" id="6731678">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6731682">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731693">case</span>&nbsp;<span class="ident" id="6731698">color</span><span class="op" id="6731703">.</span><span class="ident" id="6731704">AlphaModel</span><span class="op" id="6731714">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731718">mask1</span>&nbsp;<span class="op" id="6731724">:=</span>&nbsp;<span class="ident" id="6731727">image</span><span class="op" id="6731732">.</span><span class="ident" id="6731733">NewAlpha</span><span class="op" id="6731741">(</span><span class="ident" id="6731742">image</span><span class="op" id="6731747">.</span><span class="ident" id="6731748">Rect</span><span class="op" id="6731752">(</span><span class="num" id="6731753">0</span><span class="op" id="6731754">,</span>&nbsp;<span class="num" id="6731756">0</span><span class="op" id="6731757">,</span>&nbsp;<span class="ident" id="6731759">srcw</span><span class="op" id="6731763">,</span>&nbsp;<span class="ident" id="6731765">srch</span><span class="op" id="6731769">)</span><span class="op" id="6731770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731774">for</span>&nbsp;<span class="ident" id="6731778">y</span>&nbsp;<span class="op" id="6731780">:=</span>&nbsp;<span class="num" id="6731783">0</span><span class="op" id="6731784">;</span>&nbsp;<span class="ident" id="6731786">y</span>&nbsp;<span class="op" id="6731788">&lt;</span>&nbsp;<span class="ident" id="6731790">srch</span><span class="op" id="6731794">;</span>&nbsp;<span class="ident" id="6731796">y</span><span class="op" id="6731797">++</span>&nbsp;<span class="op" id="6731800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731805">for</span>&nbsp;<span class="ident" id="6731809">x</span>&nbsp;<span class="op" id="6731811">:=</span>&nbsp;<span class="num" id="6731814">0</span><span class="op" id="6731815">;</span>&nbsp;<span class="ident" id="6731817">x</span>&nbsp;<span class="op" id="6731819">&lt;</span>&nbsp;<span class="ident" id="6731821">srcw</span><span class="op" id="6731825">;</span>&nbsp;<span class="ident" id="6731827">x</span><span class="op" id="6731828">++</span>&nbsp;<span class="op" id="6731831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731837">a</span>&nbsp;<span class="op" id="6731839">:=</span>&nbsp;<span class="builtintype" id="6731842">uint8</span><span class="op" id="6731847">(</span><span class="op" id="6731848">(</span><span class="num" id="6731849">23</span><span class="op" id="6731851">*</span><span class="ident" id="6731852">x</span>&nbsp;<span class="op" id="6731854">+</span>&nbsp;<span class="num" id="6731856">29</span><span class="op" id="6731858">*</span><span class="ident" id="6731859">y</span><span class="op" id="6731860">)</span>&nbsp;<span class="op" id="6731862">%</span>&nbsp;<span class="num" id="6731864">0x100</span><span class="op" id="6731869">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6731875">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6731921">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6731972">if</span>&nbsp;<span class="ident" id="6731975">a</span>&nbsp;<span class="op" id="6731977">&gt;=</span>&nbsp;<span class="num" id="6731980">0xc0</span>&nbsp;<span class="op" id="6731985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6731992">mask1</span><span class="op" id="6731997">.</span><span class="ident" id="6731998">SetAlpha</span><span class="op" id="6732006">(</span><span class="ident" id="6732007">x</span><span class="op" id="6732008">,</span>&nbsp;<span class="ident" id="6732010">y</span><span class="op" id="6732011">,</span>&nbsp;<span class="ident" id="6732013">color</span><span class="op" id="6732018">.</span><span class="ident" id="6732019">Alpha</span><span class="op" id="6732024">{</span><span class="ident" id="6732025">a</span><span class="op" id="6732026">}</span><span class="op" id="6732027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6732033">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6732038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6732042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732046">mask</span>&nbsp;<span class="op" id="6732051">=</span>&nbsp;<span class="ident" id="6732053">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6732060">default</span><span class="op" id="6732067">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732071">b</span><span class="op" id="6732072">.</span><span class="ident" id="6732073">Fatal</span><span class="op" id="6732078">(</span><span class="string" id="6732079">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="6732105">,</span>&nbsp;<span class="ident" id="6732107">mcm</span><span class="op" id="6732110">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6732113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732117">b</span><span class="op" id="6732118">.</span><span class="ident" id="6732119">StartTimer</span><span class="op" id="6732129">(</span><span class="op" id="6732130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6732133">for</span>&nbsp;<span class="ident" id="6732137">i</span>&nbsp;<span class="op" id="6732139">:=</span>&nbsp;<span class="num" id="6732142">0</span><span class="op" id="6732143">;</span>&nbsp;<span class="ident" id="6732145">i</span>&nbsp;<span class="op" id="6732147">&lt;</span>&nbsp;<span class="ident" id="6732149">b</span><span class="op" id="6732150">.</span><span class="ident" id="6732151">N</span><span class="op" id="6732152">;</span>&nbsp;<span class="ident" id="6732154">i</span><span class="op" id="6732155">++</span>&nbsp;<span class="op" id="6732158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6732162">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732215">x</span>&nbsp;<span class="op" id="6732217">:=</span>&nbsp;<span class="num" id="6732220">3</span>&nbsp;<span class="op" id="6732222">*</span>&nbsp;<span class="ident" id="6732224">i</span>&nbsp;<span class="op" id="6732226">%</span>&nbsp;<span class="op" id="6732228">(</span><span class="ident" id="6732229">dstw</span>&nbsp;<span class="op" id="6732234">-</span>&nbsp;<span class="ident" id="6732236">srcw</span><span class="op" id="6732240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732244">y</span>&nbsp;<span class="op" id="6732246">:=</span>&nbsp;<span class="num" id="6732249">7</span>&nbsp;<span class="op" id="6732251">*</span>&nbsp;<span class="ident" id="6732253">i</span>&nbsp;<span class="op" id="6732255">%</span>&nbsp;<span class="op" id="6732257">(</span><span class="ident" id="6732258">dsth</span>&nbsp;<span class="op" id="6732263">-</span>&nbsp;<span class="ident" id="6732265">srch</span><span class="op" id="6732269">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732274">DrawMask</span><span class="op" id="6732282">(</span><span class="ident" id="6732283">dst</span><span class="op" id="6732286">,</span>&nbsp;<span class="ident" id="6732288">dst</span><span class="op" id="6732291">.</span><span class="ident" id="6732292">Bounds</span><span class="op" id="6732298">(</span><span class="op" id="6732299">)</span><span class="op" id="6732300">.</span><span class="ident" id="6732301">Add</span><span class="op" id="6732304">(</span><span class="ident" id="6732305">image</span><span class="op" id="6732310">.</span><span class="ident" id="6732311">Pt</span><span class="op" id="6732313">(</span><span class="ident" id="6732314">x</span><span class="op" id="6732315">,</span>&nbsp;<span class="ident" id="6732317">y</span><span class="op" id="6732318">)</span><span class="op" id="6732319">)</span><span class="op" id="6732320">,</span>&nbsp;<span class="ident" id="6732322">src</span><span class="op" id="6732325">,</span>&nbsp;<span class="ident" id="6732327">image</span><span class="op" id="6732332">.</span><span class="ident" id="6732333">ZP</span><span class="op" id="6732335">,</span>&nbsp;<span class="ident" id="6732337">mask</span><span class="op" id="6732341">,</span>&nbsp;<span class="ident" id="6732343">image</span><span class="op" id="6732348">.</span><span class="ident" id="6732349">ZP</span><span class="op" id="6732351">,</span>&nbsp;<span class="ident" id="6732353">op</span><span class="op" id="6732355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6732358">}</span><br>
<span class="lineno">150</span><span class="op" id="6732360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6732363">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6732444">func</span>&nbsp;<span class="ident" id="6732449">BenchmarkFillOver</span><span class="op" id="6732466">(</span><span class="ident" id="6732467">b</span>&nbsp;<span class="op" id="6732469">*</span><span class="ident" id="6732470">testing</span><span class="op" id="6732477">.</span><span class="ident" id="6732478">B</span><span class="op" id="6732479">)</span>&nbsp;<span class="op" id="6732481">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732484">bench</span><span class="op" id="6732489">(</span><span class="ident" id="6732490">b</span><span class="op" id="6732491">,</span>&nbsp;<span class="ident" id="6732493">color</span><span class="op" id="6732498">.</span><span class="ident" id="6732499">RGBAModel</span><span class="op" id="6732508">,</span>&nbsp;<span class="builtintype" id="6732510">nil</span><span class="op" id="6732513">,</span>&nbsp;<span class="builtintype" id="6732515">nil</span><span class="op" id="6732518">,</span>&nbsp;<span class="ident" id="6732520">Over</span><span class="op" id="6732524">)</span><br>
<span class="lineno"></span><span class="op" id="6732526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6732529">func</span>&nbsp;<span class="ident" id="6732534">BenchmarkFillSrc</span><span class="op" id="6732550">(</span><span class="ident" id="6732551">b</span>&nbsp;<span class="op" id="6732553">*</span><span class="ident" id="6732554">testing</span><span class="op" id="6732561">.</span><span class="ident" id="6732562">B</span><span class="op" id="6732563">)</span>&nbsp;<span class="op" id="6732565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732568">bench</span><span class="op" id="6732573">(</span><span class="ident" id="6732574">b</span><span class="op" id="6732575">,</span>&nbsp;<span class="ident" id="6732577">color</span><span class="op" id="6732582">.</span><span class="ident" id="6732583">RGBAModel</span><span class="op" id="6732592">,</span>&nbsp;<span class="builtintype" id="6732594">nil</span><span class="op" id="6732597">,</span>&nbsp;<span class="builtintype" id="6732599">nil</span><span class="op" id="6732602">,</span>&nbsp;<span class="ident" id="6732604">Src</span><span class="op" id="6732607">)</span><br>
<span class="lineno">160</span><span class="op" id="6732609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6732612">func</span>&nbsp;<span class="ident" id="6732617">BenchmarkCopyOver</span><span class="op" id="6732634">(</span><span class="ident" id="6732635">b</span>&nbsp;<span class="op" id="6732637">*</span><span class="ident" id="6732638">testing</span><span class="op" id="6732645">.</span><span class="ident" id="6732646">B</span><span class="op" id="6732647">)</span>&nbsp;<span class="op" id="6732649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732652">bench</span><span class="op" id="6732657">(</span><span class="ident" id="6732658">b</span><span class="op" id="6732659">,</span>&nbsp;<span class="ident" id="6732661">color</span><span class="op" id="6732666">.</span><span class="ident" id="6732667">RGBAModel</span><span class="op" id="6732676">,</span>&nbsp;<span class="ident" id="6732678">color</span><span class="op" id="6732683">.</span><span class="ident" id="6732684">RGBAModel</span><span class="op" id="6732693">,</span>&nbsp;<span class="builtintype" id="6732695">nil</span><span class="op" id="6732698">,</span>&nbsp;<span class="ident" id="6732700">Over</span><span class="op" id="6732704">)</span><br>
<span class="lineno"></span><span class="op" id="6732706">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="6732709">func</span>&nbsp;<span class="ident" id="6732714">BenchmarkCopySrc</span><span class="op" id="6732730">(</span><span class="ident" id="6732731">b</span>&nbsp;<span class="op" id="6732733">*</span><span class="ident" id="6732734">testing</span><span class="op" id="6732741">.</span><span class="ident" id="6732742">B</span><span class="op" id="6732743">)</span>&nbsp;<span class="op" id="6732745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732748">bench</span><span class="op" id="6732753">(</span><span class="ident" id="6732754">b</span><span class="op" id="6732755">,</span>&nbsp;<span class="ident" id="6732757">color</span><span class="op" id="6732762">.</span><span class="ident" id="6732763">RGBAModel</span><span class="op" id="6732772">,</span>&nbsp;<span class="ident" id="6732774">color</span><span class="op" id="6732779">.</span><span class="ident" id="6732780">RGBAModel</span><span class="op" id="6732789">,</span>&nbsp;<span class="builtintype" id="6732791">nil</span><span class="op" id="6732794">,</span>&nbsp;<span class="ident" id="6732796">Src</span><span class="op" id="6732799">)</span><br>
<span class="lineno"></span><span class="op" id="6732801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="6732804">func</span>&nbsp;<span class="ident" id="6732809">BenchmarkNRGBAOver</span><span class="op" id="6732827">(</span><span class="ident" id="6732828">b</span>&nbsp;<span class="op" id="6732830">*</span><span class="ident" id="6732831">testing</span><span class="op" id="6732838">.</span><span class="ident" id="6732839">B</span><span class="op" id="6732840">)</span>&nbsp;<span class="op" id="6732842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732845">bench</span><span class="op" id="6732850">(</span><span class="ident" id="6732851">b</span><span class="op" id="6732852">,</span>&nbsp;<span class="ident" id="6732854">color</span><span class="op" id="6732859">.</span><span class="ident" id="6732860">RGBAModel</span><span class="op" id="6732869">,</span>&nbsp;<span class="ident" id="6732871">color</span><span class="op" id="6732876">.</span><span class="ident" id="6732877">NRGBAModel</span><span class="op" id="6732887">,</span>&nbsp;<span class="builtintype" id="6732889">nil</span><span class="op" id="6732892">,</span>&nbsp;<span class="ident" id="6732894">Over</span><span class="op" id="6732898">)</span><br>
<span class="lineno"></span><span class="op" id="6732900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6732903">func</span>&nbsp;<span class="ident" id="6732908">BenchmarkNRGBASrc</span><span class="op" id="6732925">(</span><span class="ident" id="6732926">b</span>&nbsp;<span class="op" id="6732928">*</span><span class="ident" id="6732929">testing</span><span class="op" id="6732936">.</span><span class="ident" id="6732937">B</span><span class="op" id="6732938">)</span>&nbsp;<span class="op" id="6732940">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6732943">bench</span><span class="op" id="6732948">(</span><span class="ident" id="6732949">b</span><span class="op" id="6732950">,</span>&nbsp;<span class="ident" id="6732952">color</span><span class="op" id="6732957">.</span><span class="ident" id="6732958">RGBAModel</span><span class="op" id="6732967">,</span>&nbsp;<span class="ident" id="6732969">color</span><span class="op" id="6732974">.</span><span class="ident" id="6732975">NRGBAModel</span><span class="op" id="6732985">,</span>&nbsp;<span class="builtintype" id="6732987">nil</span><span class="op" id="6732990">,</span>&nbsp;<span class="ident" id="6732992">Src</span><span class="op" id="6732995">)</span><br>
<span class="lineno"></span><span class="op" id="6732997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733000">func</span>&nbsp;<span class="ident" id="6733005">BenchmarkYCbCr</span><span class="op" id="6733019">(</span><span class="ident" id="6733020">b</span>&nbsp;<span class="op" id="6733022">*</span><span class="ident" id="6733023">testing</span><span class="op" id="6733030">.</span><span class="ident" id="6733031">B</span><span class="op" id="6733032">)</span>&nbsp;<span class="op" id="6733034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733037">bench</span><span class="op" id="6733042">(</span><span class="ident" id="6733043">b</span><span class="op" id="6733044">,</span>&nbsp;<span class="ident" id="6733046">color</span><span class="op" id="6733051">.</span><span class="ident" id="6733052">RGBAModel</span><span class="op" id="6733061">,</span>&nbsp;<span class="ident" id="6733063">color</span><span class="op" id="6733068">.</span><span class="ident" id="6733069">YCbCrModel</span><span class="op" id="6733079">,</span>&nbsp;<span class="builtintype" id="6733081">nil</span><span class="op" id="6733084">,</span>&nbsp;<span class="ident" id="6733086">Over</span><span class="op" id="6733090">)</span><br>
<span class="lineno">180</span><span class="op" id="6733092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733095">func</span>&nbsp;<span class="ident" id="6733100">BenchmarkGlyphOver</span><span class="op" id="6733118">(</span><span class="ident" id="6733119">b</span>&nbsp;<span class="op" id="6733121">*</span><span class="ident" id="6733122">testing</span><span class="op" id="6733129">.</span><span class="ident" id="6733130">B</span><span class="op" id="6733131">)</span>&nbsp;<span class="op" id="6733133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733136">bench</span><span class="op" id="6733141">(</span><span class="ident" id="6733142">b</span><span class="op" id="6733143">,</span>&nbsp;<span class="ident" id="6733145">color</span><span class="op" id="6733150">.</span><span class="ident" id="6733151">RGBAModel</span><span class="op" id="6733160">,</span>&nbsp;<span class="builtintype" id="6733162">nil</span><span class="op" id="6733165">,</span>&nbsp;<span class="ident" id="6733167">color</span><span class="op" id="6733172">.</span><span class="ident" id="6733173">AlphaModel</span><span class="op" id="6733183">,</span>&nbsp;<span class="ident" id="6733185">Over</span><span class="op" id="6733189">)</span><br>
<span class="lineno"></span><span class="op" id="6733191">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6733194">func</span>&nbsp;<span class="ident" id="6733199">BenchmarkRGBA</span><span class="op" id="6733212">(</span><span class="ident" id="6733213">b</span>&nbsp;<span class="op" id="6733215">*</span><span class="ident" id="6733216">testing</span><span class="op" id="6733223">.</span><span class="ident" id="6733224">B</span><span class="op" id="6733225">)</span>&nbsp;<span class="op" id="6733227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733230">bench</span><span class="op" id="6733235">(</span><span class="ident" id="6733236">b</span><span class="op" id="6733237">,</span>&nbsp;<span class="ident" id="6733239">color</span><span class="op" id="6733244">.</span><span class="ident" id="6733245">RGBAModel</span><span class="op" id="6733254">,</span>&nbsp;<span class="ident" id="6733256">color</span><span class="op" id="6733261">.</span><span class="ident" id="6733262">RGBA64Model</span><span class="op" id="6733273">,</span>&nbsp;<span class="builtintype" id="6733275">nil</span><span class="op" id="6733278">,</span>&nbsp;<span class="ident" id="6733280">Src</span><span class="op" id="6733283">)</span><br>
<span class="lineno"></span><span class="op" id="6733285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="6733288">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733364">func</span>&nbsp;<span class="ident" id="6733369">BenchmarkGenericOver</span><span class="op" id="6733389">(</span><span class="ident" id="6733390">b</span>&nbsp;<span class="op" id="6733392">*</span><span class="ident" id="6733393">testing</span><span class="op" id="6733400">.</span><span class="ident" id="6733401">B</span><span class="op" id="6733402">)</span>&nbsp;<span class="op" id="6733404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733407">bench</span><span class="op" id="6733412">(</span><span class="ident" id="6733413">b</span><span class="op" id="6733414">,</span>&nbsp;<span class="ident" id="6733416">color</span><span class="op" id="6733421">.</span><span class="ident" id="6733422">RGBA64Model</span><span class="op" id="6733433">,</span>&nbsp;<span class="ident" id="6733435">color</span><span class="op" id="6733440">.</span><span class="ident" id="6733441">RGBA64Model</span><span class="op" id="6733452">,</span>&nbsp;<span class="builtintype" id="6733454">nil</span><span class="op" id="6733457">,</span>&nbsp;<span class="ident" id="6733459">Over</span><span class="op" id="6733463">)</span><br>
<span class="lineno"></span><span class="op" id="6733465">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6733468">func</span>&nbsp;<span class="ident" id="6733473">BenchmarkGenericMaskOver</span><span class="op" id="6733497">(</span><span class="ident" id="6733498">b</span>&nbsp;<span class="op" id="6733500">*</span><span class="ident" id="6733501">testing</span><span class="op" id="6733508">.</span><span class="ident" id="6733509">B</span><span class="op" id="6733510">)</span>&nbsp;<span class="op" id="6733512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733515">bench</span><span class="op" id="6733520">(</span><span class="ident" id="6733521">b</span><span class="op" id="6733522">,</span>&nbsp;<span class="ident" id="6733524">color</span><span class="op" id="6733529">.</span><span class="ident" id="6733530">RGBA64Model</span><span class="op" id="6733541">,</span>&nbsp;<span class="ident" id="6733543">color</span><span class="op" id="6733548">.</span><span class="ident" id="6733549">RGBA64Model</span><span class="op" id="6733560">,</span>&nbsp;<span class="ident" id="6733562">color</span><span class="op" id="6733567">.</span><span class="ident" id="6733568">AlphaModel</span><span class="op" id="6733578">,</span>&nbsp;<span class="ident" id="6733580">Over</span><span class="op" id="6733584">)</span><br>
<span class="lineno"></span><span class="op" id="6733586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6733589">func</span>&nbsp;<span class="ident" id="6733594">BenchmarkGenericSrc</span><span class="op" id="6733613">(</span><span class="ident" id="6733614">b</span>&nbsp;<span class="op" id="6733616">*</span><span class="ident" id="6733617">testing</span><span class="op" id="6733624">.</span><span class="ident" id="6733625">B</span><span class="op" id="6733626">)</span>&nbsp;<span class="op" id="6733628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733631">bench</span><span class="op" id="6733636">(</span><span class="ident" id="6733637">b</span><span class="op" id="6733638">,</span>&nbsp;<span class="ident" id="6733640">color</span><span class="op" id="6733645">.</span><span class="ident" id="6733646">RGBA64Model</span><span class="op" id="6733657">,</span>&nbsp;<span class="ident" id="6733659">color</span><span class="op" id="6733664">.</span><span class="ident" id="6733665">RGBA64Model</span><span class="op" id="6733676">,</span>&nbsp;<span class="builtintype" id="6733678">nil</span><span class="op" id="6733681">,</span>&nbsp;<span class="ident" id="6733683">Src</span><span class="op" id="6733686">)</span><br>
<span class="lineno"></span><span class="op" id="6733688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6733691">func</span>&nbsp;<span class="ident" id="6733696">BenchmarkGenericMaskSrc</span><span class="op" id="6733719">(</span><span class="ident" id="6733720">b</span>&nbsp;<span class="op" id="6733722">*</span><span class="ident" id="6733723">testing</span><span class="op" id="6733730">.</span><span class="ident" id="6733731">B</span><span class="op" id="6733732">)</span>&nbsp;<span class="op" id="6733734">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6733737">bench</span><span class="op" id="6733742">(</span><span class="ident" id="6733743">b</span><span class="op" id="6733744">,</span>&nbsp;<span class="ident" id="6733746">color</span><span class="op" id="6733751">.</span><span class="ident" id="6733752">RGBA64Model</span><span class="op" id="6733763">,</span>&nbsp;<span class="ident" id="6733765">color</span><span class="op" id="6733770">.</span><span class="ident" id="6733771">RGBA64Model</span><span class="op" id="6733782">,</span>&nbsp;<span class="ident" id="6733784">color</span><span class="op" id="6733789">.</span><span class="ident" id="6733790">AlphaModel</span><span class="op" id="6733800">,</span>&nbsp;<span class="ident" id="6733802">Src</span><span class="op" id="6733805">)</span><br>
<span class="lineno"></span><span class="op" id="6733807">}</span>
</div>
</body>
</html>
