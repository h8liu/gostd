<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html" class="current">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1453539">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1453594">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1453648">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1453699">package</span>&nbsp;<span class="ident" id="1453707">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1453716">func</span>&nbsp;<span class="ident" id="1453721">complex128div</span><span class="op" id="1453734">(</span><span class="ident" id="1453735">n</span>&nbsp;<span class="builtintype" id="1453737">complex128</span><span class="op" id="1453747">,</span>&nbsp;<span class="ident" id="1453749">d</span>&nbsp;<span class="builtintype" id="1453751">complex128</span><span class="op" id="1453761">)</span>&nbsp;<span class="builtintype" id="1453763">complex128</span>&nbsp;<span class="op" id="1453774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1453777">//&nbsp;Special&nbsp;cases&nbsp;as&nbsp;in&nbsp;C99.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1453806">ninf</span>&nbsp;<span class="op" id="1453811">:=</span>&nbsp;<span class="builtinfunc" id="1453814">real</span><span class="op" id="1453818">(</span><span class="ident" id="1453819">n</span><span class="op" id="1453820">)</span>&nbsp;<span class="op" id="1453822">==</span>&nbsp;<span class="ident" id="1453825">posinf</span>&nbsp;<span class="op" id="1453832">||</span>&nbsp;<span class="builtinfunc" id="1453835">real</span><span class="op" id="1453839">(</span><span class="ident" id="1453840">n</span><span class="op" id="1453841">)</span>&nbsp;<span class="op" id="1453843">==</span>&nbsp;<span class="ident" id="1453846">neginf</span>&nbsp;<span class="op" id="1453853">||</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1453858">imag</span><span class="op" id="1453862">(</span><span class="ident" id="1453863">n</span><span class="op" id="1453864">)</span>&nbsp;<span class="op" id="1453866">==</span>&nbsp;<span class="ident" id="1453869">posinf</span>&nbsp;<span class="op" id="1453876">||</span>&nbsp;<span class="builtinfunc" id="1453879">imag</span><span class="op" id="1453883">(</span><span class="ident" id="1453884">n</span><span class="op" id="1453885">)</span>&nbsp;<span class="op" id="1453887">==</span>&nbsp;<span class="ident" id="1453890">neginf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1453898">dinf</span>&nbsp;<span class="op" id="1453903">:=</span>&nbsp;<span class="builtinfunc" id="1453906">real</span><span class="op" id="1453910">(</span><span class="ident" id="1453911">d</span><span class="op" id="1453912">)</span>&nbsp;<span class="op" id="1453914">==</span>&nbsp;<span class="ident" id="1453917">posinf</span>&nbsp;<span class="op" id="1453924">||</span>&nbsp;<span class="builtinfunc" id="1453927">real</span><span class="op" id="1453931">(</span><span class="ident" id="1453932">d</span><span class="op" id="1453933">)</span>&nbsp;<span class="op" id="1453935">==</span>&nbsp;<span class="ident" id="1453938">neginf</span>&nbsp;<span class="op" id="1453945">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1453950">imag</span><span class="op" id="1453954">(</span><span class="ident" id="1453955">d</span><span class="op" id="1453956">)</span>&nbsp;<span class="op" id="1453958">==</span>&nbsp;<span class="ident" id="1453961">posinf</span>&nbsp;<span class="op" id="1453968">||</span>&nbsp;<span class="builtinfunc" id="1453971">imag</span><span class="op" id="1453975">(</span><span class="ident" id="1453976">d</span><span class="op" id="1453977">)</span>&nbsp;<span class="op" id="1453979">==</span>&nbsp;<span class="ident" id="1453982">neginf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1453991">nnan</span>&nbsp;<span class="op" id="1453996">:=</span>&nbsp;<span class="op" id="1453999">!</span><span class="ident" id="1454000">ninf</span>&nbsp;<span class="op" id="1454005">&amp;&amp;</span>&nbsp;<span class="op" id="1454008">(</span><span class="builtinfunc" id="1454009">real</span><span class="op" id="1454013">(</span><span class="ident" id="1454014">n</span><span class="op" id="1454015">)</span>&nbsp;<span class="op" id="1454017">!=</span>&nbsp;<span class="builtinfunc" id="1454020">real</span><span class="op" id="1454024">(</span><span class="ident" id="1454025">n</span><span class="op" id="1454026">)</span>&nbsp;<span class="op" id="1454028">||</span>&nbsp;<span class="builtinfunc" id="1454031">imag</span><span class="op" id="1454035">(</span><span class="ident" id="1454036">n</span><span class="op" id="1454037">)</span>&nbsp;<span class="op" id="1454039">!=</span>&nbsp;<span class="builtinfunc" id="1454042">imag</span><span class="op" id="1454046">(</span><span class="ident" id="1454047">n</span><span class="op" id="1454048">)</span><span class="op" id="1454049">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454052">dnan</span>&nbsp;<span class="op" id="1454057">:=</span>&nbsp;<span class="op" id="1454060">!</span><span class="ident" id="1454061">dinf</span>&nbsp;<span class="op" id="1454066">&amp;&amp;</span>&nbsp;<span class="op" id="1454069">(</span><span class="builtinfunc" id="1454070">real</span><span class="op" id="1454074">(</span><span class="ident" id="1454075">d</span><span class="op" id="1454076">)</span>&nbsp;<span class="op" id="1454078">!=</span>&nbsp;<span class="builtinfunc" id="1454081">real</span><span class="op" id="1454085">(</span><span class="ident" id="1454086">d</span><span class="op" id="1454087">)</span>&nbsp;<span class="op" id="1454089">||</span>&nbsp;<span class="builtinfunc" id="1454092">imag</span><span class="op" id="1454096">(</span><span class="ident" id="1454097">d</span><span class="op" id="1454098">)</span>&nbsp;<span class="op" id="1454100">!=</span>&nbsp;<span class="builtinfunc" id="1454103">imag</span><span class="op" id="1454107">(</span><span class="ident" id="1454108">d</span><span class="op" id="1454109">)</span><span class="op" id="1454110">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454114">switch</span>&nbsp;<span class="op" id="1454121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454124">case</span>&nbsp;<span class="ident" id="1454129">nnan</span>&nbsp;<span class="op" id="1454134">||</span>&nbsp;<span class="ident" id="1454137">dnan</span><span class="op" id="1454141">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454145">return</span>&nbsp;<span class="builtinfunc" id="1454152">complex</span><span class="op" id="1454159">(</span><span class="ident" id="1454160">nan</span><span class="op" id="1454163">,</span>&nbsp;<span class="ident" id="1454165">nan</span><span class="op" id="1454168">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454171">case</span>&nbsp;<span class="ident" id="1454176">ninf</span>&nbsp;<span class="op" id="1454181">&amp;&amp;</span>&nbsp;<span class="op" id="1454184">!</span><span class="ident" id="1454185">dinf</span><span class="op" id="1454189">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454193">return</span>&nbsp;<span class="builtinfunc" id="1454200">complex</span><span class="op" id="1454207">(</span><span class="ident" id="1454208">posinf</span><span class="op" id="1454214">,</span>&nbsp;<span class="ident" id="1454216">posinf</span><span class="op" id="1454222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454225">case</span>&nbsp;<span class="op" id="1454230">!</span><span class="ident" id="1454231">ninf</span>&nbsp;<span class="op" id="1454236">&amp;&amp;</span>&nbsp;<span class="ident" id="1454239">dinf</span><span class="op" id="1454243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454247">return</span>&nbsp;<span class="builtinfunc" id="1454254">complex</span><span class="op" id="1454261">(</span><span class="num" id="1454262">0</span><span class="op" id="1454263">,</span>&nbsp;<span class="num" id="1454265">0</span><span class="op" id="1454266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454269">case</span>&nbsp;<span class="builtinfunc" id="1454274">real</span><span class="op" id="1454278">(</span><span class="ident" id="1454279">d</span><span class="op" id="1454280">)</span>&nbsp;<span class="op" id="1454282">==</span>&nbsp;<span class="num" id="1454285">0</span>&nbsp;<span class="op" id="1454287">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1454290">imag</span><span class="op" id="1454294">(</span><span class="ident" id="1454295">d</span><span class="op" id="1454296">)</span>&nbsp;<span class="op" id="1454298">==</span>&nbsp;<span class="num" id="1454301">0</span><span class="op" id="1454302">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454306">if</span>&nbsp;<span class="builtinfunc" id="1454309">real</span><span class="op" id="1454313">(</span><span class="ident" id="1454314">n</span><span class="op" id="1454315">)</span>&nbsp;<span class="op" id="1454317">==</span>&nbsp;<span class="num" id="1454320">0</span>&nbsp;<span class="op" id="1454322">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1454325">imag</span><span class="op" id="1454329">(</span><span class="ident" id="1454330">n</span><span class="op" id="1454331">)</span>&nbsp;<span class="op" id="1454333">==</span>&nbsp;<span class="num" id="1454336">0</span>&nbsp;<span class="op" id="1454338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454343">return</span>&nbsp;<span class="builtinfunc" id="1454350">complex</span><span class="op" id="1454357">(</span><span class="ident" id="1454358">nan</span><span class="op" id="1454361">,</span>&nbsp;<span class="ident" id="1454363">nan</span><span class="op" id="1454366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454370">}</span>&nbsp;<span class="keyword" id="1454372">else</span>&nbsp;<span class="op" id="1454377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454382">return</span>&nbsp;<span class="builtinfunc" id="1454389">complex</span><span class="op" id="1454396">(</span><span class="ident" id="1454397">posinf</span><span class="op" id="1454403">,</span>&nbsp;<span class="ident" id="1454405">posinf</span><span class="op" id="1454411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454415">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454418">default</span><span class="op" id="1454425">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1454429">//&nbsp;Standard&nbsp;complex&nbsp;arithmetic,&nbsp;factored&nbsp;to&nbsp;avoid&nbsp;unnecessary&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454503">a</span>&nbsp;<span class="op" id="1454505">:=</span>&nbsp;<span class="builtinfunc" id="1454508">real</span><span class="op" id="1454512">(</span><span class="ident" id="1454513">d</span><span class="op" id="1454514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454518">if</span>&nbsp;<span class="ident" id="1454521">a</span>&nbsp;<span class="op" id="1454523">&lt;</span>&nbsp;<span class="num" id="1454525">0</span>&nbsp;<span class="op" id="1454527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454532">a</span>&nbsp;<span class="op" id="1454534">=</span>&nbsp;<span class="op" id="1454536">-</span><span class="ident" id="1454537">a</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454545">b</span>&nbsp;<span class="op" id="1454547">:=</span>&nbsp;<span class="builtinfunc" id="1454550">imag</span><span class="op" id="1454554">(</span><span class="ident" id="1454555">d</span><span class="op" id="1454556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454560">if</span>&nbsp;<span class="ident" id="1454563">b</span>&nbsp;<span class="op" id="1454565">&lt;</span>&nbsp;<span class="num" id="1454567">0</span>&nbsp;<span class="op" id="1454569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454574">b</span>&nbsp;<span class="op" id="1454576">=</span>&nbsp;<span class="op" id="1454578">-</span><span class="ident" id="1454579">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454583">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454587">if</span>&nbsp;<span class="ident" id="1454590">a</span>&nbsp;<span class="op" id="1454592">&lt;=</span>&nbsp;<span class="ident" id="1454595">b</span>&nbsp;<span class="op" id="1454597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454602">ratio</span>&nbsp;<span class="op" id="1454608">:=</span>&nbsp;<span class="builtinfunc" id="1454611">real</span><span class="op" id="1454615">(</span><span class="ident" id="1454616">d</span><span class="op" id="1454617">)</span>&nbsp;<span class="op" id="1454619">/</span>&nbsp;<span class="builtinfunc" id="1454621">imag</span><span class="op" id="1454625">(</span><span class="ident" id="1454626">d</span><span class="op" id="1454627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454632">denom</span>&nbsp;<span class="op" id="1454638">:=</span>&nbsp;<span class="builtinfunc" id="1454641">real</span><span class="op" id="1454645">(</span><span class="ident" id="1454646">d</span><span class="op" id="1454647">)</span><span class="op" id="1454648">*</span><span class="ident" id="1454649">ratio</span>&nbsp;<span class="op" id="1454655">+</span>&nbsp;<span class="builtinfunc" id="1454657">imag</span><span class="op" id="1454661">(</span><span class="ident" id="1454662">d</span><span class="op" id="1454663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454668">return</span>&nbsp;<span class="builtinfunc" id="1454675">complex</span><span class="op" id="1454682">(</span><span class="op" id="1454683">(</span><span class="builtinfunc" id="1454684">real</span><span class="op" id="1454688">(</span><span class="ident" id="1454689">n</span><span class="op" id="1454690">)</span><span class="op" id="1454691">*</span><span class="ident" id="1454692">ratio</span><span class="op" id="1454697">+</span><span class="builtinfunc" id="1454698">imag</span><span class="op" id="1454702">(</span><span class="ident" id="1454703">n</span><span class="op" id="1454704">)</span><span class="op" id="1454705">)</span><span class="op" id="1454706">/</span><span class="ident" id="1454707">denom</span><span class="op" id="1454712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454718">(</span><span class="builtinfunc" id="1454719">imag</span><span class="op" id="1454723">(</span><span class="ident" id="1454724">n</span><span class="op" id="1454725">)</span><span class="op" id="1454726">*</span><span class="ident" id="1454727">ratio</span><span class="op" id="1454732">-</span><span class="builtinfunc" id="1454733">real</span><span class="op" id="1454737">(</span><span class="ident" id="1454738">n</span><span class="op" id="1454739">)</span><span class="op" id="1454740">)</span><span class="op" id="1454741">/</span><span class="ident" id="1454742">denom</span><span class="op" id="1454747">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454751">}</span>&nbsp;<span class="keyword" id="1454753">else</span>&nbsp;<span class="op" id="1454758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454763">ratio</span>&nbsp;<span class="op" id="1454769">:=</span>&nbsp;<span class="builtinfunc" id="1454772">imag</span><span class="op" id="1454776">(</span><span class="ident" id="1454777">d</span><span class="op" id="1454778">)</span>&nbsp;<span class="op" id="1454780">/</span>&nbsp;<span class="builtinfunc" id="1454782">real</span><span class="op" id="1454786">(</span><span class="ident" id="1454787">d</span><span class="op" id="1454788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1454793">denom</span>&nbsp;<span class="op" id="1454799">:=</span>&nbsp;<span class="builtinfunc" id="1454802">imag</span><span class="op" id="1454806">(</span><span class="ident" id="1454807">d</span><span class="op" id="1454808">)</span><span class="op" id="1454809">*</span><span class="ident" id="1454810">ratio</span>&nbsp;<span class="op" id="1454816">+</span>&nbsp;<span class="builtinfunc" id="1454818">real</span><span class="op" id="1454822">(</span><span class="ident" id="1454823">d</span><span class="op" id="1454824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1454829">return</span>&nbsp;<span class="builtinfunc" id="1454836">complex</span><span class="op" id="1454843">(</span><span class="op" id="1454844">(</span><span class="builtinfunc" id="1454845">imag</span><span class="op" id="1454849">(</span><span class="ident" id="1454850">n</span><span class="op" id="1454851">)</span><span class="op" id="1454852">*</span><span class="ident" id="1454853">ratio</span><span class="op" id="1454858">+</span><span class="builtinfunc" id="1454859">real</span><span class="op" id="1454863">(</span><span class="ident" id="1454864">n</span><span class="op" id="1454865">)</span><span class="op" id="1454866">)</span><span class="op" id="1454867">/</span><span class="ident" id="1454868">denom</span><span class="op" id="1454873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454879">(</span><span class="builtinfunc" id="1454880">imag</span><span class="op" id="1454884">(</span><span class="ident" id="1454885">n</span><span class="op" id="1454886">)</span><span class="op" id="1454887">-</span><span class="builtinfunc" id="1454888">real</span><span class="op" id="1454892">(</span><span class="ident" id="1454893">n</span><span class="op" id="1454894">)</span><span class="op" id="1454895">*</span><span class="ident" id="1454896">ratio</span><span class="op" id="1454901">)</span><span class="op" id="1454902">/</span><span class="ident" id="1454903">denom</span><span class="op" id="1454908">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1454915">}</span><br>
<span class="lineno"></span><span class="op" id="1454917">}</span>
</div>
</body>
</html>
