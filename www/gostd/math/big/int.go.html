<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4753224">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4753279">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4753333">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4753384">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4753442">package</span>&nbsp;<span class="ident" id="4753450">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4753455">import</span>&nbsp;<span class="op" id="4753462">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4753465">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4753475">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4753482">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4753488">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4753501">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="4753511">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4753514">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="4753569">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4753622">type</span>&nbsp;<span class="ident" id="4753627">Int</span>&nbsp;<span class="keyword" id="4753631">struct</span>&nbsp;<span class="op" id="4753638">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4753641">neg</span>&nbsp;<span class="builtintype" id="4753645">bool</span>&nbsp;<span class="comment" id="4753650">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4753659">abs</span>&nbsp;<span class="ident" id="4753663">nat</span>&nbsp;&nbsp;<span class="comment" id="4753668">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="4753701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4753704">var</span>&nbsp;<span class="ident" id="4753708">intOne</span>&nbsp;<span class="op" id="4753715">=</span>&nbsp;<span class="op" id="4753717">&amp;</span><span class="ident" id="4753718">Int</span><span class="op" id="4753721">{</span><span class="builtintype" id="4753722">false</span><span class="op" id="4753727">,</span>&nbsp;<span class="ident" id="4753729">natOne</span><span class="op" id="4753735">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="4753738">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="4753755">//</span><br>
<span class="lineno"></span><span class="comment" id="4753758">//&nbsp;&nbsp;&nbsp;&nbsp-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="4753774">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="4753790">//&nbsp;&nbsp;&nbsp;&nbsp+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="4753806">//</span><br>
<span class="lineno"></span><span class="keyword" id="4753809">func</span>&nbsp;<span class="op" id="4753814">(</span><span class="ident" id="4753815">x</span>&nbsp;<span class="op" id="4753817">*</span><span class="ident" id="4753818">Int</span><span class="op" id="4753821">)</span>&nbsp;<span class="ident" id="4753823">Sign</span><span class="op" id="4753827">(</span><span class="op" id="4753828">)</span>&nbsp;<span class="builtintype" id="4753830">int</span>&nbsp;<span class="op" id="4753834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4753837">if</span>&nbsp;<span class="builtinfunc" id="4753840">len</span><span class="op" id="4753843">(</span><span class="ident" id="4753844">x</span><span class="op" id="4753845">.</span><span class="ident" id="4753846">abs</span><span class="op" id="4753849">)</span>&nbsp;<span class="op" id="4753851">==</span>&nbsp;<span class="num" id="4753854">0</span>&nbsp;<span class="op" id="4753856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4753860">return</span>&nbsp;<span class="num" id="4753867">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4753870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4753873">if</span>&nbsp;<span class="ident" id="4753876">x</span><span class="op" id="4753877">.</span><span class="ident" id="4753878">neg</span>&nbsp;<span class="op" id="4753882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4753886">return</span>&nbsp;<span class="op" id="4753893">-</span><span class="num" id="4753894">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4753897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4753900">return</span>&nbsp;<span class="num" id="4753907">1</span><br>
<span class="lineno">40</span><span class="op" id="4753909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4753912">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4753951">func</span>&nbsp;<span class="op" id="4753956">(</span><span class="ident" id="4753957">z</span>&nbsp;<span class="op" id="4753959">*</span><span class="ident" id="4753960">Int</span><span class="op" id="4753963">)</span>&nbsp;<span class="ident" id="4753965">SetInt64</span><span class="op" id="4753973">(</span><span class="ident" id="4753974">x</span>&nbsp;<span class="ident" id="4753976">int64</span><span class="op" id="4753981">)</span>&nbsp;<span class="op" id="4753983">*</span><span class="ident" id="4753984">Int</span>&nbsp;<span class="op" id="4753988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4753991">neg</span>&nbsp;<span class="op" id="4753995">:=</span>&nbsp;<span class="builtintype" id="4753998">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4754005">if</span>&nbsp;<span class="ident" id="4754008">x</span>&nbsp;<span class="op" id="4754010">&lt;</span>&nbsp;<span class="num" id="4754012">0</span>&nbsp;<span class="op" id="4754014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754018">neg</span>&nbsp;<span class="op" id="4754022">=</span>&nbsp;<span class="builtintype" id="4754024">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754031">x</span>&nbsp;<span class="op" id="4754033">=</span>&nbsp;<span class="op" id="4754035">-</span><span class="ident" id="4754036">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4754039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754042">z</span><span class="op" id="4754043">.</span><span class="ident" id="4754044">abs</span>&nbsp;<span class="op" id="4754048">=</span>&nbsp;<span class="ident" id="4754050">z</span><span class="op" id="4754051">.</span><span class="ident" id="4754052">abs</span><span class="op" id="4754055">.</span><span class="ident" id="4754056">setUint64</span><span class="op" id="4754065">(</span><span class="ident" id="4754066">uint64</span><span class="op" id="4754072">(</span><span class="ident" id="4754073">x</span><span class="op" id="4754074">)</span><span class="op" id="4754075">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754078">z</span><span class="op" id="4754079">.</span><span class="ident" id="4754080">neg</span>&nbsp;<span class="op" id="4754084">=</span>&nbsp;<span class="ident" id="4754086">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4754091">return</span>&nbsp;<span class="ident" id="4754098">z</span><br>
<span class="lineno"></span><span class="op" id="4754100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4754103">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="4754143">func</span>&nbsp;<span class="op" id="4754148">(</span><span class="ident" id="4754149">z</span>&nbsp;<span class="op" id="4754151">*</span><span class="ident" id="4754152">Int</span><span class="op" id="4754155">)</span>&nbsp;<span class="ident" id="4754157">SetUint64</span><span class="op" id="4754166">(</span><span class="ident" id="4754167">x</span>&nbsp;<span class="ident" id="4754169">uint64</span><span class="op" id="4754175">)</span>&nbsp;<span class="op" id="4754177">*</span><span class="ident" id="4754178">Int</span>&nbsp;<span class="op" id="4754182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754185">z</span><span class="op" id="4754186">.</span><span class="ident" id="4754187">abs</span>&nbsp;<span class="op" id="4754191">=</span>&nbsp;<span class="ident" id="4754193">z</span><span class="op" id="4754194">.</span><span class="ident" id="4754195">abs</span><span class="op" id="4754198">.</span><span class="ident" id="4754199">setUint64</span><span class="op" id="4754208">(</span><span class="ident" id="4754209">x</span><span class="op" id="4754210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754213">z</span><span class="op" id="4754214">.</span><span class="ident" id="4754215">neg</span>&nbsp;<span class="op" id="4754219">=</span>&nbsp;<span class="builtintype" id="4754221">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4754228">return</span>&nbsp;<span class="ident" id="4754235">z</span><br>
<span class="lineno"></span><span class="op" id="4754237">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4754240">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="4754292">func</span>&nbsp;<span class="ident" id="4754297">NewInt</span><span class="op" id="4754303">(</span><span class="ident" id="4754304">x</span>&nbsp;<span class="ident" id="4754306">int64</span><span class="op" id="4754311">)</span>&nbsp;<span class="op" id="4754313">*</span><span class="ident" id="4754314">Int</span>&nbsp;<span class="op" id="4754318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4754321">return</span>&nbsp;<span class="builtinfunc" id="4754328">new</span><span class="op" id="4754331">(</span><span class="ident" id="4754332">Int</span><span class="op" id="4754335">)</span><span class="op" id="4754336">.</span><span class="ident" id="4754337">SetInt64</span><span class="op" id="4754345">(</span><span class="ident" id="4754346">x</span><span class="op" id="4754347">)</span><br>
<span class="lineno"></span><span class="op" id="4754349">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="4754352">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4754386">func</span>&nbsp;<span class="op" id="4754391">(</span><span class="ident" id="4754392">z</span>&nbsp;<span class="op" id="4754394">*</span><span class="ident" id="4754395">Int</span><span class="op" id="4754398">)</span>&nbsp;<span class="ident" id="4754400">Set</span><span class="op" id="4754403">(</span><span class="ident" id="4754404">x</span>&nbsp;<span class="op" id="4754406">*</span><span class="ident" id="4754407">Int</span><span class="op" id="4754410">)</span>&nbsp;<span class="op" id="4754412">*</span><span class="ident" id="4754413">Int</span>&nbsp;<span class="op" id="4754417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4754420">if</span>&nbsp;<span class="ident" id="4754423">z</span>&nbsp;<span class="op" id="4754425">!=</span>&nbsp;<span class="ident" id="4754428">x</span>&nbsp;<span class="op" id="4754430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754434">z</span><span class="op" id="4754435">.</span><span class="ident" id="4754436">abs</span>&nbsp;<span class="op" id="4754440">=</span>&nbsp;<span class="ident" id="4754442">z</span><span class="op" id="4754443">.</span><span class="ident" id="4754444">abs</span><span class="op" id="4754447">.</span><span class="ident" id="4754448">set</span><span class="op" id="4754451">(</span><span class="ident" id="4754452">x</span><span class="op" id="4754453">.</span><span class="ident" id="4754454">abs</span><span class="op" id="4754457">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4754461">z</span><span class="op" id="4754462">.</span><span class="ident" id="4754463">neg</span>&nbsp;<span class="op" id="4754467">=</span>&nbsp;<span class="ident" id="4754469">x</span><span class="op" id="4754470">.</span><span class="ident" id="4754471">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4754476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4754479">return</span>&nbsp;<span class="ident" id="4754486">z</span><br>
<span class="lineno"></span><span class="op" id="4754488">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="4754491">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="4754562">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="4754634">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="4754664">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="4754735">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="4754806">func</span>&nbsp;<span class="op" id="4754811">(</span><span class="ident" id="4754812">x</span>&nbsp;<span class="op" id="4754814">*</span><span class="ident" id="4754815">Int</span><span class="op" id="4754818">)</span>&nbsp;<span class="ident" id="4754820">Bits</span><span class="op" id="4754824">(</span><span class="op" id="4754825">)</span>&nbsp;<span class="op" id="4754827">[</span><span class="op" id="4754828">]</span><span class="ident" id="4754829">Word</span>&nbsp;<span class="op" id="4754834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4754837">return</span>&nbsp;<span class="ident" id="4754844">x</span><span class="op" id="4754845">.</span><span class="ident" id="4754846">abs</span><br>
<span class="lineno"></span><span class="op" id="4754850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4754853">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="4754925">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="4754999">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="4755057">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="4755131">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="4755202">func</span>&nbsp;<span class="op" id="4755207">(</span><span class="ident" id="4755208">z</span>&nbsp;<span class="op" id="4755210">*</span><span class="ident" id="4755211">Int</span><span class="op" id="4755214">)</span>&nbsp;<span class="ident" id="4755216">SetBits</span><span class="op" id="4755223">(</span><span class="ident" id="4755224">abs</span>&nbsp;<span class="op" id="4755228">[</span><span class="op" id="4755229">]</span><span class="ident" id="4755230">Word</span><span class="op" id="4755234">)</span>&nbsp;<span class="op" id="4755236">*</span><span class="ident" id="4755237">Int</span>&nbsp;<span class="op" id="4755241">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755244">z</span><span class="op" id="4755245">.</span><span class="ident" id="4755246">abs</span>&nbsp;<span class="op" id="4755250">=</span>&nbsp;<span class="ident" id="4755252">nat</span><span class="op" id="4755255">(</span><span class="ident" id="4755256">abs</span><span class="op" id="4755259">)</span><span class="op" id="4755260">.</span><span class="ident" id="4755261">norm</span><span class="op" id="4755265">(</span><span class="op" id="4755266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755269">z</span><span class="op" id="4755270">.</span><span class="ident" id="4755271">neg</span>&nbsp;<span class="op" id="4755275">=</span>&nbsp;<span class="builtintype" id="4755277">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4755284">return</span>&nbsp;<span class="ident" id="4755291">z</span><br>
<span class="lineno"></span><span class="op" id="4755293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="4755296">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4755358">func</span>&nbsp;<span class="op" id="4755363">(</span><span class="ident" id="4755364">z</span>&nbsp;<span class="op" id="4755366">*</span><span class="ident" id="4755367">Int</span><span class="op" id="4755370">)</span>&nbsp;<span class="ident" id="4755372">Abs</span><span class="op" id="4755375">(</span><span class="ident" id="4755376">x</span>&nbsp;<span class="op" id="4755378">*</span><span class="ident" id="4755379">Int</span><span class="op" id="4755382">)</span>&nbsp;<span class="op" id="4755384">*</span><span class="ident" id="4755385">Int</span>&nbsp;<span class="op" id="4755389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755392">z</span><span class="op" id="4755393">.</span><span class="ident" id="4755394">Set</span><span class="op" id="4755397">(</span><span class="ident" id="4755398">x</span><span class="op" id="4755399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755402">z</span><span class="op" id="4755403">.</span><span class="ident" id="4755404">neg</span>&nbsp;<span class="op" id="4755408">=</span>&nbsp;<span class="builtintype" id="4755410">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4755417">return</span>&nbsp;<span class="ident" id="4755424">z</span><br>
<span class="lineno">100</span><span class="op" id="4755426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4755429">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4755464">func</span>&nbsp;<span class="op" id="4755469">(</span><span class="ident" id="4755470">z</span>&nbsp;<span class="op" id="4755472">*</span><span class="ident" id="4755473">Int</span><span class="op" id="4755476">)</span>&nbsp;<span class="ident" id="4755478">Neg</span><span class="op" id="4755481">(</span><span class="ident" id="4755482">x</span>&nbsp;<span class="op" id="4755484">*</span><span class="ident" id="4755485">Int</span><span class="op" id="4755488">)</span>&nbsp;<span class="op" id="4755490">*</span><span class="ident" id="4755491">Int</span>&nbsp;<span class="op" id="4755495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755498">z</span><span class="op" id="4755499">.</span><span class="ident" id="4755500">Set</span><span class="op" id="4755503">(</span><span class="ident" id="4755504">x</span><span class="op" id="4755505">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755508">z</span><span class="op" id="4755509">.</span><span class="ident" id="4755510">neg</span>&nbsp;<span class="op" id="4755514">=</span>&nbsp;<span class="builtinfunc" id="4755516">len</span><span class="op" id="4755519">(</span><span class="ident" id="4755520">z</span><span class="op" id="4755521">.</span><span class="ident" id="4755522">abs</span><span class="op" id="4755525">)</span>&nbsp;<span class="op" id="4755527">&gt;</span>&nbsp;<span class="num" id="4755529">0</span>&nbsp;<span class="op" id="4755531">&amp;&amp;</span>&nbsp;<span class="op" id="4755534">!</span><span class="ident" id="4755535">z</span><span class="op" id="4755536">.</span><span class="ident" id="4755537">neg</span>&nbsp;<span class="comment" id="4755541">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4755559">return</span>&nbsp;<span class="ident" id="4755566">z</span><br>
<span class="lineno"></span><span class="op" id="4755568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4755571">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="4755615">func</span>&nbsp;<span class="op" id="4755620">(</span><span class="ident" id="4755621">z</span>&nbsp;<span class="op" id="4755623">*</span><span class="ident" id="4755624">Int</span><span class="op" id="4755627">)</span>&nbsp;<span class="ident" id="4755629">Add</span><span class="op" id="4755632">(</span><span class="ident" id="4755633">x</span><span class="op" id="4755634">,</span>&nbsp;<span class="ident" id="4755636">y</span>&nbsp;<span class="op" id="4755638">*</span><span class="ident" id="4755639">Int</span><span class="op" id="4755642">)</span>&nbsp;<span class="op" id="4755644">*</span><span class="ident" id="4755645">Int</span>&nbsp;<span class="op" id="4755649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755652">neg</span>&nbsp;<span class="op" id="4755656">:=</span>&nbsp;<span class="ident" id="4755659">x</span><span class="op" id="4755660">.</span><span class="ident" id="4755661">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4755666">if</span>&nbsp;<span class="ident" id="4755669">x</span><span class="op" id="4755670">.</span><span class="ident" id="4755671">neg</span>&nbsp;<span class="op" id="4755675">==</span>&nbsp;<span class="ident" id="4755678">y</span><span class="op" id="4755679">.</span><span class="ident" id="4755680">neg</span>&nbsp;<span class="op" id="4755684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4755688">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4755708">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755737">z</span><span class="op" id="4755738">.</span><span class="ident" id="4755739">abs</span>&nbsp;<span class="op" id="4755743">=</span>&nbsp;<span class="ident" id="4755745">z</span><span class="op" id="4755746">.</span><span class="ident" id="4755747">abs</span><span class="op" id="4755750">.</span><span class="ident" id="4755751">add</span><span class="op" id="4755754">(</span><span class="ident" id="4755755">x</span><span class="op" id="4755756">.</span><span class="ident" id="4755757">abs</span><span class="op" id="4755760">,</span>&nbsp;<span class="ident" id="4755762">y</span><span class="op" id="4755763">.</span><span class="ident" id="4755764">abs</span><span class="op" id="4755767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4755770">}</span>&nbsp;<span class="keyword" id="4755772">else</span>&nbsp;<span class="op" id="4755777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4755781">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4755816">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4755851">if</span>&nbsp;<span class="ident" id="4755854">x</span><span class="op" id="4755855">.</span><span class="ident" id="4755856">abs</span><span class="op" id="4755859">.</span><span class="ident" id="4755860">cmp</span><span class="op" id="4755863">(</span><span class="ident" id="4755864">y</span><span class="op" id="4755865">.</span><span class="ident" id="4755866">abs</span><span class="op" id="4755869">)</span>&nbsp;<span class="op" id="4755871">&gt;=</span>&nbsp;<span class="num" id="4755874">0</span>&nbsp;<span class="op" id="4755876">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755881">z</span><span class="op" id="4755882">.</span><span class="ident" id="4755883">abs</span>&nbsp;<span class="op" id="4755887">=</span>&nbsp;<span class="ident" id="4755889">z</span><span class="op" id="4755890">.</span><span class="ident" id="4755891">abs</span><span class="op" id="4755894">.</span><span class="ident" id="4755895">sub</span><span class="op" id="4755898">(</span><span class="ident" id="4755899">x</span><span class="op" id="4755900">.</span><span class="ident" id="4755901">abs</span><span class="op" id="4755904">,</span>&nbsp;<span class="ident" id="4755906">y</span><span class="op" id="4755907">.</span><span class="ident" id="4755908">abs</span><span class="op" id="4755911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4755915">}</span>&nbsp;<span class="keyword" id="4755917">else</span>&nbsp;<span class="op" id="4755922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755927">neg</span>&nbsp;<span class="op" id="4755931">=</span>&nbsp;<span class="op" id="4755933">!</span><span class="ident" id="4755934">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755941">z</span><span class="op" id="4755942">.</span><span class="ident" id="4755943">abs</span>&nbsp;<span class="op" id="4755947">=</span>&nbsp;<span class="ident" id="4755949">z</span><span class="op" id="4755950">.</span><span class="ident" id="4755951">abs</span><span class="op" id="4755954">.</span><span class="ident" id="4755955">sub</span><span class="op" id="4755958">(</span><span class="ident" id="4755959">y</span><span class="op" id="4755960">.</span><span class="ident" id="4755961">abs</span><span class="op" id="4755964">,</span>&nbsp;<span class="ident" id="4755966">x</span><span class="op" id="4755967">.</span><span class="ident" id="4755968">abs</span><span class="op" id="4755971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4755975">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4755978">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4755981">z</span><span class="op" id="4755982">.</span><span class="ident" id="4755983">neg</span>&nbsp;<span class="op" id="4755987">=</span>&nbsp;<span class="builtinfunc" id="4755989">len</span><span class="op" id="4755992">(</span><span class="ident" id="4755993">z</span><span class="op" id="4755994">.</span><span class="ident" id="4755995">abs</span><span class="op" id="4755998">)</span>&nbsp;<span class="op" id="4756000">&gt;</span>&nbsp;<span class="num" id="4756002">0</span>&nbsp;<span class="op" id="4756004">&amp;&amp;</span>&nbsp;<span class="ident" id="4756007">neg</span>&nbsp;<span class="comment" id="4756011">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4756029">return</span>&nbsp;<span class="ident" id="4756036">z</span><br>
<span class="lineno"></span><span class="op" id="4756038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4756041">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4756092">func</span>&nbsp;<span class="op" id="4756097">(</span><span class="ident" id="4756098">z</span>&nbsp;<span class="op" id="4756100">*</span><span class="ident" id="4756101">Int</span><span class="op" id="4756104">)</span>&nbsp;<span class="ident" id="4756106">Sub</span><span class="op" id="4756109">(</span><span class="ident" id="4756110">x</span><span class="op" id="4756111">,</span>&nbsp;<span class="ident" id="4756113">y</span>&nbsp;<span class="op" id="4756115">*</span><span class="ident" id="4756116">Int</span><span class="op" id="4756119">)</span>&nbsp;<span class="op" id="4756121">*</span><span class="ident" id="4756122">Int</span>&nbsp;<span class="op" id="4756126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756129">neg</span>&nbsp;<span class="op" id="4756133">:=</span>&nbsp;<span class="ident" id="4756136">x</span><span class="op" id="4756137">.</span><span class="ident" id="4756138">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4756143">if</span>&nbsp;<span class="ident" id="4756146">x</span><span class="op" id="4756147">.</span><span class="ident" id="4756148">neg</span>&nbsp;<span class="op" id="4756152">!=</span>&nbsp;<span class="ident" id="4756155">y</span><span class="op" id="4756156">.</span><span class="ident" id="4756157">neg</span>&nbsp;<span class="op" id="4756161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756165">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756188">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756214">z</span><span class="op" id="4756215">.</span><span class="ident" id="4756216">abs</span>&nbsp;<span class="op" id="4756220">=</span>&nbsp;<span class="ident" id="4756222">z</span><span class="op" id="4756223">.</span><span class="ident" id="4756224">abs</span><span class="op" id="4756227">.</span><span class="ident" id="4756228">add</span><span class="op" id="4756231">(</span><span class="ident" id="4756232">x</span><span class="op" id="4756233">.</span><span class="ident" id="4756234">abs</span><span class="op" id="4756237">,</span>&nbsp;<span class="ident" id="4756239">y</span><span class="op" id="4756240">.</span><span class="ident" id="4756241">abs</span><span class="op" id="4756244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4756247">}</span>&nbsp;<span class="keyword" id="4756249">else</span>&nbsp;<span class="op" id="4756254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756258">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756290">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4756328">if</span>&nbsp;<span class="ident" id="4756331">x</span><span class="op" id="4756332">.</span><span class="ident" id="4756333">abs</span><span class="op" id="4756336">.</span><span class="ident" id="4756337">cmp</span><span class="op" id="4756340">(</span><span class="ident" id="4756341">y</span><span class="op" id="4756342">.</span><span class="ident" id="4756343">abs</span><span class="op" id="4756346">)</span>&nbsp;<span class="op" id="4756348">&gt;=</span>&nbsp;<span class="num" id="4756351">0</span>&nbsp;<span class="op" id="4756353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756358">z</span><span class="op" id="4756359">.</span><span class="ident" id="4756360">abs</span>&nbsp;<span class="op" id="4756364">=</span>&nbsp;<span class="ident" id="4756366">z</span><span class="op" id="4756367">.</span><span class="ident" id="4756368">abs</span><span class="op" id="4756371">.</span><span class="ident" id="4756372">sub</span><span class="op" id="4756375">(</span><span class="ident" id="4756376">x</span><span class="op" id="4756377">.</span><span class="ident" id="4756378">abs</span><span class="op" id="4756381">,</span>&nbsp;<span class="ident" id="4756383">y</span><span class="op" id="4756384">.</span><span class="ident" id="4756385">abs</span><span class="op" id="4756388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4756392">}</span>&nbsp;<span class="keyword" id="4756394">else</span>&nbsp;<span class="op" id="4756399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756404">neg</span>&nbsp;<span class="op" id="4756408">=</span>&nbsp;<span class="op" id="4756410">!</span><span class="ident" id="4756411">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756418">z</span><span class="op" id="4756419">.</span><span class="ident" id="4756420">abs</span>&nbsp;<span class="op" id="4756424">=</span>&nbsp;<span class="ident" id="4756426">z</span><span class="op" id="4756427">.</span><span class="ident" id="4756428">abs</span><span class="op" id="4756431">.</span><span class="ident" id="4756432">sub</span><span class="op" id="4756435">(</span><span class="ident" id="4756436">y</span><span class="op" id="4756437">.</span><span class="ident" id="4756438">abs</span><span class="op" id="4756441">,</span>&nbsp;<span class="ident" id="4756443">x</span><span class="op" id="4756444">.</span><span class="ident" id="4756445">abs</span><span class="op" id="4756448">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4756452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4756455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756458">z</span><span class="op" id="4756459">.</span><span class="ident" id="4756460">neg</span>&nbsp;<span class="op" id="4756464">=</span>&nbsp;<span class="builtinfunc" id="4756466">len</span><span class="op" id="4756469">(</span><span class="ident" id="4756470">z</span><span class="op" id="4756471">.</span><span class="ident" id="4756472">abs</span><span class="op" id="4756475">)</span>&nbsp;<span class="op" id="4756477">&gt;</span>&nbsp;<span class="num" id="4756479">0</span>&nbsp;<span class="op" id="4756481">&amp;&amp;</span>&nbsp;<span class="ident" id="4756484">neg</span>&nbsp;<span class="comment" id="4756488">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4756506">return</span>&nbsp;<span class="ident" id="4756513">z</span><br>
<span class="lineno"></span><span class="op" id="4756515">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="4756518">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4756566">func</span>&nbsp;<span class="op" id="4756571">(</span><span class="ident" id="4756572">z</span>&nbsp;<span class="op" id="4756574">*</span><span class="ident" id="4756575">Int</span><span class="op" id="4756578">)</span>&nbsp;<span class="ident" id="4756580">Mul</span><span class="op" id="4756583">(</span><span class="ident" id="4756584">x</span><span class="op" id="4756585">,</span>&nbsp;<span class="ident" id="4756587">y</span>&nbsp;<span class="op" id="4756589">*</span><span class="ident" id="4756590">Int</span><span class="op" id="4756593">)</span>&nbsp;<span class="op" id="4756595">*</span><span class="ident" id="4756596">Int</span>&nbsp;<span class="op" id="4756600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756603">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756622">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756647">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4756672">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756697">z</span><span class="op" id="4756698">.</span><span class="ident" id="4756699">abs</span>&nbsp;<span class="op" id="4756703">=</span>&nbsp;<span class="ident" id="4756705">z</span><span class="op" id="4756706">.</span><span class="ident" id="4756707">abs</span><span class="op" id="4756710">.</span><span class="ident" id="4756711">mul</span><span class="op" id="4756714">(</span><span class="ident" id="4756715">x</span><span class="op" id="4756716">.</span><span class="ident" id="4756717">abs</span><span class="op" id="4756720">,</span>&nbsp;<span class="ident" id="4756722">y</span><span class="op" id="4756723">.</span><span class="ident" id="4756724">abs</span><span class="op" id="4756727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4756730">z</span><span class="op" id="4756731">.</span><span class="ident" id="4756732">neg</span>&nbsp;<span class="op" id="4756736">=</span>&nbsp;<span class="builtinfunc" id="4756738">len</span><span class="op" id="4756741">(</span><span class="ident" id="4756742">z</span><span class="op" id="4756743">.</span><span class="ident" id="4756744">abs</span><span class="op" id="4756747">)</span>&nbsp;<span class="op" id="4756749">&gt;</span>&nbsp;<span class="num" id="4756751">0</span>&nbsp;<span class="op" id="4756753">&amp;&amp;</span>&nbsp;<span class="ident" id="4756756">x</span><span class="op" id="4756757">.</span><span class="ident" id="4756758">neg</span>&nbsp;<span class="op" id="4756762">!=</span>&nbsp;<span class="ident" id="4756765">y</span><span class="op" id="4756766">.</span><span class="ident" id="4756767">neg</span>&nbsp;<span class="comment" id="4756771">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4756789">return</span>&nbsp;<span class="ident" id="4756796">z</span><br>
<span class="lineno">160</span><span class="op" id="4756798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4756801">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="4756851">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4756901">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="4756945">func</span>&nbsp;<span class="op" id="4756950">(</span><span class="ident" id="4756951">z</span>&nbsp;<span class="op" id="4756953">*</span><span class="ident" id="4756954">Int</span><span class="op" id="4756957">)</span>&nbsp;<span class="ident" id="4756959">MulRange</span><span class="op" id="4756967">(</span><span class="ident" id="4756968">a</span><span class="op" id="4756969">,</span>&nbsp;<span class="ident" id="4756971">b</span>&nbsp;<span class="ident" id="4756973">int64</span><span class="op" id="4756978">)</span>&nbsp;<span class="op" id="4756980">*</span><span class="ident" id="4756981">Int</span>&nbsp;<span class="op" id="4756985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4756988">switch</span>&nbsp;<span class="op" id="4756995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4756998">case</span>&nbsp;<span class="ident" id="4757003">a</span>&nbsp;<span class="op" id="4757005">&gt;</span>&nbsp;<span class="ident" id="4757007">b</span><span class="op" id="4757008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757012">return</span>&nbsp;<span class="ident" id="4757019">z</span><span class="op" id="4757020">.</span><span class="ident" id="4757021">SetInt64</span><span class="op" id="4757029">(</span><span class="num" id="4757030">1</span><span class="op" id="4757031">)</span>&nbsp;<span class="comment" id="4757033">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757049">case</span>&nbsp;<span class="ident" id="4757054">a</span>&nbsp;<span class="op" id="4757056">&lt;=</span>&nbsp;<span class="num" id="4757059">0</span>&nbsp;<span class="op" id="4757061">&amp;&amp;</span>&nbsp;<span class="ident" id="4757064">b</span>&nbsp;<span class="op" id="4757066">&gt;=</span>&nbsp;<span class="num" id="4757069">0</span><span class="op" id="4757070">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757074">return</span>&nbsp;<span class="ident" id="4757081">z</span><span class="op" id="4757082">.</span><span class="ident" id="4757083">SetInt64</span><span class="op" id="4757091">(</span><span class="num" id="4757092">0</span><span class="op" id="4757093">)</span>&nbsp;<span class="comment" id="4757095">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4757116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4757119">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757151">neg</span>&nbsp;<span class="op" id="4757155">:=</span>&nbsp;<span class="builtintype" id="4757158">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757165">if</span>&nbsp;<span class="ident" id="4757168">a</span>&nbsp;<span class="op" id="4757170">&lt;</span>&nbsp;<span class="num" id="4757172">0</span>&nbsp;<span class="op" id="4757174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757178">neg</span>&nbsp;<span class="op" id="4757182">=</span>&nbsp;<span class="op" id="4757184">(</span><span class="ident" id="4757185">b</span><span class="op" id="4757186">-</span><span class="ident" id="4757187">a</span><span class="op" id="4757188">)</span><span class="op" id="4757189">&amp;</span><span class="num" id="4757190">1</span>&nbsp;<span class="op" id="4757192">==</span>&nbsp;<span class="num" id="4757195">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757199">a</span><span class="op" id="4757200">,</span>&nbsp;<span class="ident" id="4757202">b</span>&nbsp;<span class="op" id="4757204">=</span>&nbsp;<span class="op" id="4757206">-</span><span class="ident" id="4757207">b</span><span class="op" id="4757208">,</span>&nbsp;<span class="op" id="4757210">-</span><span class="ident" id="4757211">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4757214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757218">z</span><span class="op" id="4757219">.</span><span class="ident" id="4757220">abs</span>&nbsp;<span class="op" id="4757224">=</span>&nbsp;<span class="ident" id="4757226">z</span><span class="op" id="4757227">.</span><span class="ident" id="4757228">abs</span><span class="op" id="4757231">.</span><span class="ident" id="4757232">mulRange</span><span class="op" id="4757240">(</span><span class="ident" id="4757241">uint64</span><span class="op" id="4757247">(</span><span class="ident" id="4757248">a</span><span class="op" id="4757249">)</span><span class="op" id="4757250">,</span>&nbsp;<span class="ident" id="4757252">uint64</span><span class="op" id="4757258">(</span><span class="ident" id="4757259">b</span><span class="op" id="4757260">)</span><span class="op" id="4757261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757264">z</span><span class="op" id="4757265">.</span><span class="ident" id="4757266">neg</span>&nbsp;<span class="op" id="4757270">=</span>&nbsp;<span class="ident" id="4757272">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757277">return</span>&nbsp;<span class="ident" id="4757284">z</span><br>
<span class="lineno"></span><span class="op" id="4757286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="4757289">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4757361">func</span>&nbsp;<span class="op" id="4757366">(</span><span class="ident" id="4757367">z</span>&nbsp;<span class="op" id="4757369">*</span><span class="ident" id="4757370">Int</span><span class="op" id="4757373">)</span>&nbsp;<span class="ident" id="4757375">Binomial</span><span class="op" id="4757383">(</span><span class="ident" id="4757384">n</span><span class="op" id="4757385">,</span>&nbsp;<span class="ident" id="4757387">k</span>&nbsp;<span class="ident" id="4757389">int64</span><span class="op" id="4757394">)</span>&nbsp;<span class="op" id="4757396">*</span><span class="ident" id="4757397">Int</span>&nbsp;<span class="op" id="4757401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757404">var</span>&nbsp;<span class="ident" id="4757408">a</span><span class="op" id="4757409">,</span>&nbsp;<span class="ident" id="4757411">b</span>&nbsp;<span class="ident" id="4757413">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757418">a</span><span class="op" id="4757419">.</span><span class="ident" id="4757420">MulRange</span><span class="op" id="4757428">(</span><span class="ident" id="4757429">n</span><span class="op" id="4757430">-</span><span class="ident" id="4757431">k</span><span class="op" id="4757432">+</span><span class="num" id="4757433">1</span><span class="op" id="4757434">,</span>&nbsp;<span class="ident" id="4757436">n</span><span class="op" id="4757437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757440">b</span><span class="op" id="4757441">.</span><span class="ident" id="4757442">MulRange</span><span class="op" id="4757450">(</span><span class="num" id="4757451">1</span><span class="op" id="4757452">,</span>&nbsp;<span class="ident" id="4757454">k</span><span class="op" id="4757455">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757458">return</span>&nbsp;<span class="ident" id="4757465">z</span><span class="op" id="4757466">.</span><span class="ident" id="4757467">Quo</span><span class="op" id="4757470">(</span><span class="op" id="4757471">&amp;</span><span class="ident" id="4757472">a</span><span class="op" id="4757473">,</span>&nbsp;<span class="op" id="4757475">&amp;</span><span class="ident" id="4757476">b</span><span class="op" id="4757477">)</span><br>
<span class="lineno"></span><span class="op" id="4757479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4757482">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4757542">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="4757598">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4757675">func</span>&nbsp;<span class="op" id="4757680">(</span><span class="ident" id="4757681">z</span>&nbsp;<span class="op" id="4757683">*</span><span class="ident" id="4757684">Int</span><span class="op" id="4757687">)</span>&nbsp;<span class="ident" id="4757689">Quo</span><span class="op" id="4757692">(</span><span class="ident" id="4757693">x</span><span class="op" id="4757694">,</span>&nbsp;<span class="ident" id="4757696">y</span>&nbsp;<span class="op" id="4757698">*</span><span class="ident" id="4757699">Int</span><span class="op" id="4757702">)</span>&nbsp;<span class="op" id="4757704">*</span><span class="ident" id="4757705">Int</span>&nbsp;<span class="op" id="4757709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757712">z</span><span class="op" id="4757713">.</span><span class="ident" id="4757714">abs</span><span class="op" id="4757717">,</span>&nbsp;<span class="ident" id="4757719">_</span>&nbsp;<span class="op" id="4757721">=</span>&nbsp;<span class="ident" id="4757723">z</span><span class="op" id="4757724">.</span><span class="ident" id="4757725">abs</span><span class="op" id="4757728">.</span><span class="ident" id="4757729">div</span><span class="op" id="4757732">(</span><span class="ident" id="4757733">nil</span><span class="op" id="4757736">,</span>&nbsp;<span class="ident" id="4757738">x</span><span class="op" id="4757739">.</span><span class="ident" id="4757740">abs</span><span class="op" id="4757743">,</span>&nbsp;<span class="ident" id="4757745">y</span><span class="op" id="4757746">.</span><span class="ident" id="4757747">abs</span><span class="op" id="4757750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4757753">z</span><span class="op" id="4757754">.</span><span class="ident" id="4757755">neg</span>&nbsp;<span class="op" id="4757759">=</span>&nbsp;<span class="builtinfunc" id="4757761">len</span><span class="op" id="4757764">(</span><span class="ident" id="4757765">z</span><span class="op" id="4757766">.</span><span class="ident" id="4757767">abs</span><span class="op" id="4757770">)</span>&nbsp;<span class="op" id="4757772">&gt;</span>&nbsp;<span class="num" id="4757774">0</span>&nbsp;<span class="op" id="4757776">&amp;&amp;</span>&nbsp;<span class="ident" id="4757779">x</span><span class="op" id="4757780">.</span><span class="ident" id="4757781">neg</span>&nbsp;<span class="op" id="4757785">!=</span>&nbsp;<span class="ident" id="4757788">y</span><span class="op" id="4757789">.</span><span class="ident" id="4757790">neg</span>&nbsp;<span class="comment" id="4757794">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4757812">return</span>&nbsp;<span class="ident" id="4757819">z</span><br>
<span class="lineno">200</span><span class="op" id="4757821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4757824">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4757885">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4757941">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="4758017">func</span>&nbsp;<span class="op" id="4758022">(</span><span class="ident" id="4758023">z</span>&nbsp;<span class="op" id="4758025">*</span><span class="ident" id="4758026">Int</span><span class="op" id="4758029">)</span>&nbsp;<span class="ident" id="4758031">Rem</span><span class="op" id="4758034">(</span><span class="ident" id="4758035">x</span><span class="op" id="4758036">,</span>&nbsp;<span class="ident" id="4758038">y</span>&nbsp;<span class="op" id="4758040">*</span><span class="ident" id="4758041">Int</span><span class="op" id="4758044">)</span>&nbsp;<span class="op" id="4758046">*</span><span class="ident" id="4758047">Int</span>&nbsp;<span class="op" id="4758051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4758054">_</span><span class="op" id="4758055">,</span>&nbsp;<span class="ident" id="4758057">z</span><span class="op" id="4758058">.</span><span class="ident" id="4758059">abs</span>&nbsp;<span class="op" id="4758063">=</span>&nbsp;<span class="ident" id="4758065">nat</span><span class="op" id="4758068">(</span><span class="ident" id="4758069">nil</span><span class="op" id="4758072">)</span><span class="op" id="4758073">.</span><span class="ident" id="4758074">div</span><span class="op" id="4758077">(</span><span class="ident" id="4758078">z</span><span class="op" id="4758079">.</span><span class="ident" id="4758080">abs</span><span class="op" id="4758083">,</span>&nbsp;<span class="ident" id="4758085">x</span><span class="op" id="4758086">.</span><span class="ident" id="4758087">abs</span><span class="op" id="4758090">,</span>&nbsp;<span class="ident" id="4758092">y</span><span class="op" id="4758093">.</span><span class="ident" id="4758094">abs</span><span class="op" id="4758097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4758100">z</span><span class="op" id="4758101">.</span><span class="ident" id="4758102">neg</span>&nbsp;<span class="op" id="4758106">=</span>&nbsp;<span class="builtinfunc" id="4758108">len</span><span class="op" id="4758111">(</span><span class="ident" id="4758112">z</span><span class="op" id="4758113">.</span><span class="ident" id="4758114">abs</span><span class="op" id="4758117">)</span>&nbsp;<span class="op" id="4758119">&gt;</span>&nbsp;<span class="num" id="4758121">0</span>&nbsp;<span class="op" id="4758123">&amp;&amp;</span>&nbsp;<span class="ident" id="4758126">x</span><span class="op" id="4758127">.</span><span class="ident" id="4758128">neg</span>&nbsp;<span class="comment" id="4758132">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4758150">return</span>&nbsp;<span class="ident" id="4758157">z</span><br>
<span class="lineno"></span><span class="op" id="4758159">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="4758162">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="4758226">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="4758269">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4758325">//</span><br>
<span class="lineno">215</span><span class="comment" id="4758328">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="4758383">//</span><br>
<span class="lineno"></span><span class="comment" id="4758386">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="4758436">//&nbsp;&nbsp;&nbsp;&nbspr&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="4758451">//</span><br>
<span class="lineno">220</span><span class="comment" id="4758454">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="4758526">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="4758588">//</span><br>
<span class="lineno"></span><span class="keyword" id="4758591">func</span>&nbsp;<span class="op" id="4758596">(</span><span class="ident" id="4758597">z</span>&nbsp;<span class="op" id="4758599">*</span><span class="ident" id="4758600">Int</span><span class="op" id="4758603">)</span>&nbsp;<span class="ident" id="4758605">QuoRem</span><span class="op" id="4758611">(</span><span class="ident" id="4758612">x</span><span class="op" id="4758613">,</span>&nbsp;<span class="ident" id="4758615">y</span><span class="op" id="4758616">,</span>&nbsp;<span class="ident" id="4758618">r</span>&nbsp;<span class="op" id="4758620">*</span><span class="ident" id="4758621">Int</span><span class="op" id="4758624">)</span>&nbsp;<span class="op" id="4758626">(</span><span class="op" id="4758627">*</span><span class="ident" id="4758628">Int</span><span class="op" id="4758631">,</span>&nbsp;<span class="op" id="4758633">*</span><span class="ident" id="4758634">Int</span><span class="op" id="4758637">)</span>&nbsp;<span class="op" id="4758639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4758642">z</span><span class="op" id="4758643">.</span><span class="ident" id="4758644">abs</span><span class="op" id="4758647">,</span>&nbsp;<span class="ident" id="4758649">r</span><span class="op" id="4758650">.</span><span class="ident" id="4758651">abs</span>&nbsp;<span class="op" id="4758655">=</span>&nbsp;<span class="ident" id="4758657">z</span><span class="op" id="4758658">.</span><span class="ident" id="4758659">abs</span><span class="op" id="4758662">.</span><span class="ident" id="4758663">div</span><span class="op" id="4758666">(</span><span class="ident" id="4758667">r</span><span class="op" id="4758668">.</span><span class="ident" id="4758669">abs</span><span class="op" id="4758672">,</span>&nbsp;<span class="ident" id="4758674">x</span><span class="op" id="4758675">.</span><span class="ident" id="4758676">abs</span><span class="op" id="4758679">,</span>&nbsp;<span class="ident" id="4758681">y</span><span class="op" id="4758682">.</span><span class="ident" id="4758683">abs</span><span class="op" id="4758686">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4758689">z</span><span class="op" id="4758690">.</span><span class="ident" id="4758691">neg</span><span class="op" id="4758694">,</span>&nbsp;<span class="ident" id="4758696">r</span><span class="op" id="4758697">.</span><span class="ident" id="4758698">neg</span>&nbsp;<span class="op" id="4758702">=</span>&nbsp;<span class="builtinfunc" id="4758704">len</span><span class="op" id="4758707">(</span><span class="ident" id="4758708">z</span><span class="op" id="4758709">.</span><span class="ident" id="4758710">abs</span><span class="op" id="4758713">)</span>&nbsp;<span class="op" id="4758715">&gt;</span>&nbsp;<span class="num" id="4758717">0</span>&nbsp;<span class="op" id="4758719">&amp;&amp;</span>&nbsp;<span class="ident" id="4758722">x</span><span class="op" id="4758723">.</span><span class="ident" id="4758724">neg</span>&nbsp;<span class="op" id="4758728">!=</span>&nbsp;<span class="ident" id="4758731">y</span><span class="op" id="4758732">.</span><span class="ident" id="4758733">neg</span><span class="op" id="4758736">,</span>&nbsp;<span class="builtinfunc" id="4758738">len</span><span class="op" id="4758741">(</span><span class="ident" id="4758742">r</span><span class="op" id="4758743">.</span><span class="ident" id="4758744">abs</span><span class="op" id="4758747">)</span>&nbsp;<span class="op" id="4758749">&gt;</span>&nbsp;<span class="num" id="4758751">0</span>&nbsp;<span class="op" id="4758753">&amp;&amp;</span>&nbsp;<span class="ident" id="4758756">x</span><span class="op" id="4758757">.</span><span class="ident" id="4758758">neg</span>&nbsp;<span class="comment" id="4758762">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4758780">return</span>&nbsp;<span class="ident" id="4758787">z</span><span class="op" id="4758788">,</span>&nbsp;<span class="ident" id="4758790">r</span><br>
<span class="lineno"></span><span class="op" id="4758792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4758795">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="4758855">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4758911">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4758990">func</span>&nbsp;<span class="op" id="4758995">(</span><span class="ident" id="4758996">z</span>&nbsp;<span class="op" id="4758998">*</span><span class="ident" id="4758999">Int</span><span class="op" id="4759002">)</span>&nbsp;<span class="ident" id="4759004">Div</span><span class="op" id="4759007">(</span><span class="ident" id="4759008">x</span><span class="op" id="4759009">,</span>&nbsp;<span class="ident" id="4759011">y</span>&nbsp;<span class="op" id="4759013">*</span><span class="ident" id="4759014">Int</span><span class="op" id="4759017">)</span>&nbsp;<span class="op" id="4759019">*</span><span class="ident" id="4759020">Int</span>&nbsp;<span class="op" id="4759024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759027">y_neg</span>&nbsp;<span class="op" id="4759033">:=</span>&nbsp;<span class="ident" id="4759036">y</span><span class="op" id="4759037">.</span><span class="ident" id="4759038">neg</span>&nbsp;<span class="comment" id="4759042">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759070">var</span>&nbsp;<span class="ident" id="4759074">r</span>&nbsp;<span class="ident" id="4759076">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759081">z</span><span class="op" id="4759082">.</span><span class="ident" id="4759083">QuoRem</span><span class="op" id="4759089">(</span><span class="ident" id="4759090">x</span><span class="op" id="4759091">,</span>&nbsp;<span class="ident" id="4759093">y</span><span class="op" id="4759094">,</span>&nbsp;<span class="op" id="4759096">&amp;</span><span class="ident" id="4759097">r</span><span class="op" id="4759098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759101">if</span>&nbsp;<span class="ident" id="4759104">r</span><span class="op" id="4759105">.</span><span class="ident" id="4759106">neg</span>&nbsp;<span class="op" id="4759110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759114">if</span>&nbsp;<span class="ident" id="4759117">y_neg</span>&nbsp;<span class="op" id="4759123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759128">z</span><span class="op" id="4759129">.</span><span class="ident" id="4759130">Add</span><span class="op" id="4759133">(</span><span class="ident" id="4759134">z</span><span class="op" id="4759135">,</span>&nbsp;<span class="ident" id="4759137">intOne</span><span class="op" id="4759143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4759147">}</span>&nbsp;<span class="keyword" id="4759149">else</span>&nbsp;<span class="op" id="4759154">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759159">z</span><span class="op" id="4759160">.</span><span class="ident" id="4759161">Sub</span><span class="op" id="4759164">(</span><span class="ident" id="4759165">z</span><span class="op" id="4759166">,</span>&nbsp;<span class="ident" id="4759168">intOne</span><span class="op" id="4759174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4759178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4759181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759184">return</span>&nbsp;<span class="ident" id="4759191">z</span><br>
<span class="lineno"></span><span class="op" id="4759193">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="4759196">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4759255">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4759311">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="4759389">func</span>&nbsp;<span class="op" id="4759394">(</span><span class="ident" id="4759395">z</span>&nbsp;<span class="op" id="4759397">*</span><span class="ident" id="4759398">Int</span><span class="op" id="4759401">)</span>&nbsp;<span class="ident" id="4759403">Mod</span><span class="op" id="4759406">(</span><span class="ident" id="4759407">x</span><span class="op" id="4759408">,</span>&nbsp;<span class="ident" id="4759410">y</span>&nbsp;<span class="op" id="4759412">*</span><span class="ident" id="4759413">Int</span><span class="op" id="4759416">)</span>&nbsp;<span class="op" id="4759418">*</span><span class="ident" id="4759419">Int</span>&nbsp;<span class="op" id="4759423">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759426">y0</span>&nbsp;<span class="op" id="4759429">:=</span>&nbsp;<span class="ident" id="4759432">y</span>&nbsp;<span class="comment" id="4759434">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759445">if</span>&nbsp;<span class="ident" id="4759448">z</span>&nbsp;<span class="op" id="4759450">==</span>&nbsp;<span class="ident" id="4759453">y</span>&nbsp;<span class="op" id="4759455">||</span>&nbsp;<span class="ident" id="4759458">alias</span><span class="op" id="4759463">(</span><span class="ident" id="4759464">z</span><span class="op" id="4759465">.</span><span class="ident" id="4759466">abs</span><span class="op" id="4759469">,</span>&nbsp;<span class="ident" id="4759471">y</span><span class="op" id="4759472">.</span><span class="ident" id="4759473">abs</span><span class="op" id="4759476">)</span>&nbsp;<span class="op" id="4759478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759482">y0</span>&nbsp;<span class="op" id="4759485">=</span>&nbsp;<span class="builtinfunc" id="4759487">new</span><span class="op" id="4759490">(</span><span class="ident" id="4759491">Int</span><span class="op" id="4759494">)</span><span class="op" id="4759495">.</span><span class="ident" id="4759496">Set</span><span class="op" id="4759499">(</span><span class="ident" id="4759500">y</span><span class="op" id="4759501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4759504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759507">var</span>&nbsp;<span class="ident" id="4759511">q</span>&nbsp;<span class="ident" id="4759513">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759518">q</span><span class="op" id="4759519">.</span><span class="ident" id="4759520">QuoRem</span><span class="op" id="4759526">(</span><span class="ident" id="4759527">x</span><span class="op" id="4759528">,</span>&nbsp;<span class="ident" id="4759530">y</span><span class="op" id="4759531">,</span>&nbsp;<span class="ident" id="4759533">z</span><span class="op" id="4759534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759537">if</span>&nbsp;<span class="ident" id="4759540">z</span><span class="op" id="4759541">.</span><span class="ident" id="4759542">neg</span>&nbsp;<span class="op" id="4759546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759550">if</span>&nbsp;<span class="ident" id="4759553">y0</span><span class="op" id="4759555">.</span><span class="ident" id="4759556">neg</span>&nbsp;<span class="op" id="4759560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759565">z</span><span class="op" id="4759566">.</span><span class="ident" id="4759567">Sub</span><span class="op" id="4759570">(</span><span class="ident" id="4759571">z</span><span class="op" id="4759572">,</span>&nbsp;<span class="ident" id="4759574">y0</span><span class="op" id="4759576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4759580">}</span>&nbsp;<span class="keyword" id="4759582">else</span>&nbsp;<span class="op" id="4759587">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4759592">z</span><span class="op" id="4759593">.</span><span class="ident" id="4759594">Add</span><span class="op" id="4759597">(</span><span class="ident" id="4759598">z</span><span class="op" id="4759599">,</span>&nbsp;<span class="ident" id="4759601">y0</span><span class="op" id="4759603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4759607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4759610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4759613">return</span>&nbsp;<span class="ident" id="4759620">z</span><br>
<span class="lineno"></span><span class="op" id="4759622">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="4759625">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4759695">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="4759738">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="4759794">//</span><br>
<span class="lineno">270</span><span class="comment" id="4759797">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="4759862">//</span><br>
<span class="lineno"></span><span class="comment" id="4759865">//&nbsp;&nbsp;&nbsp;&nbspq&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4759891">//&nbsp;&nbsp;&nbsp;&nbspm&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="4759925">//</span><br>
<span class="lineno">275</span><span class="comment" id="4759928">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="4759998">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4760062">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="4760125">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="4760140">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="4760192">//</span><br>
<span class="lineno"></span><span class="keyword" id="4760195">func</span>&nbsp;<span class="op" id="4760200">(</span><span class="ident" id="4760201">z</span>&nbsp;<span class="op" id="4760203">*</span><span class="ident" id="4760204">Int</span><span class="op" id="4760207">)</span>&nbsp;<span class="ident" id="4760209">DivMod</span><span class="op" id="4760215">(</span><span class="ident" id="4760216">x</span><span class="op" id="4760217">,</span>&nbsp;<span class="ident" id="4760219">y</span><span class="op" id="4760220">,</span>&nbsp;<span class="ident" id="4760222">m</span>&nbsp;<span class="op" id="4760224">*</span><span class="ident" id="4760225">Int</span><span class="op" id="4760228">)</span>&nbsp;<span class="op" id="4760230">(</span><span class="op" id="4760231">*</span><span class="ident" id="4760232">Int</span><span class="op" id="4760235">,</span>&nbsp;<span class="op" id="4760237">*</span><span class="ident" id="4760238">Int</span><span class="op" id="4760241">)</span>&nbsp;<span class="op" id="4760243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760246">y0</span>&nbsp;<span class="op" id="4760249">:=</span>&nbsp;<span class="ident" id="4760252">y</span>&nbsp;<span class="comment" id="4760254">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760265">if</span>&nbsp;<span class="ident" id="4760268">z</span>&nbsp;<span class="op" id="4760270">==</span>&nbsp;<span class="ident" id="4760273">y</span>&nbsp;<span class="op" id="4760275">||</span>&nbsp;<span class="ident" id="4760278">alias</span><span class="op" id="4760283">(</span><span class="ident" id="4760284">z</span><span class="op" id="4760285">.</span><span class="ident" id="4760286">abs</span><span class="op" id="4760289">,</span>&nbsp;<span class="ident" id="4760291">y</span><span class="op" id="4760292">.</span><span class="ident" id="4760293">abs</span><span class="op" id="4760296">)</span>&nbsp;<span class="op" id="4760298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760302">y0</span>&nbsp;<span class="op" id="4760305">=</span>&nbsp;<span class="builtinfunc" id="4760307">new</span><span class="op" id="4760310">(</span><span class="ident" id="4760311">Int</span><span class="op" id="4760314">)</span><span class="op" id="4760315">.</span><span class="ident" id="4760316">Set</span><span class="op" id="4760319">(</span><span class="ident" id="4760320">y</span><span class="op" id="4760321">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4760324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760327">z</span><span class="op" id="4760328">.</span><span class="ident" id="4760329">QuoRem</span><span class="op" id="4760335">(</span><span class="ident" id="4760336">x</span><span class="op" id="4760337">,</span>&nbsp;<span class="ident" id="4760339">y</span><span class="op" id="4760340">,</span>&nbsp;<span class="ident" id="4760342">m</span><span class="op" id="4760343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760346">if</span>&nbsp;<span class="ident" id="4760349">m</span><span class="op" id="4760350">.</span><span class="ident" id="4760351">neg</span>&nbsp;<span class="op" id="4760355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760359">if</span>&nbsp;<span class="ident" id="4760362">y0</span><span class="op" id="4760364">.</span><span class="ident" id="4760365">neg</span>&nbsp;<span class="op" id="4760369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760374">z</span><span class="op" id="4760375">.</span><span class="ident" id="4760376">Add</span><span class="op" id="4760379">(</span><span class="ident" id="4760380">z</span><span class="op" id="4760381">,</span>&nbsp;<span class="ident" id="4760383">intOne</span><span class="op" id="4760389">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760394">m</span><span class="op" id="4760395">.</span><span class="ident" id="4760396">Sub</span><span class="op" id="4760399">(</span><span class="ident" id="4760400">m</span><span class="op" id="4760401">,</span>&nbsp;<span class="ident" id="4760403">y0</span><span class="op" id="4760405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4760409">}</span>&nbsp;<span class="keyword" id="4760411">else</span>&nbsp;<span class="op" id="4760416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760421">z</span><span class="op" id="4760422">.</span><span class="ident" id="4760423">Sub</span><span class="op" id="4760426">(</span><span class="ident" id="4760427">z</span><span class="op" id="4760428">,</span>&nbsp;<span class="ident" id="4760430">intOne</span><span class="op" id="4760436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760441">m</span><span class="op" id="4760442">.</span><span class="ident" id="4760443">Add</span><span class="op" id="4760446">(</span><span class="ident" id="4760447">m</span><span class="op" id="4760448">,</span>&nbsp;<span class="ident" id="4760450">y0</span><span class="op" id="4760452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4760456">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4760459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760462">return</span>&nbsp;<span class="ident" id="4760469">z</span><span class="op" id="4760470">,</span>&nbsp;<span class="ident" id="4760472">m</span><br>
<span class="lineno"></span><span class="op" id="4760474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4760477">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="4760514">//</span><br>
<span class="lineno"></span><span class="comment" id="4760517">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4760535">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4760553">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="4760571">//</span><br>
<span class="lineno">305</span><span class="keyword" id="4760574">func</span>&nbsp;<span class="op" id="4760579">(</span><span class="ident" id="4760580">x</span>&nbsp;<span class="op" id="4760582">*</span><span class="ident" id="4760583">Int</span><span class="op" id="4760586">)</span>&nbsp;<span class="ident" id="4760588">Cmp</span><span class="op" id="4760591">(</span><span class="ident" id="4760592">y</span>&nbsp;<span class="op" id="4760594">*</span><span class="ident" id="4760595">Int</span><span class="op" id="4760598">)</span>&nbsp;<span class="op" id="4760600">(</span><span class="ident" id="4760601">r</span>&nbsp;<span class="builtintype" id="4760603">int</span><span class="op" id="4760606">)</span>&nbsp;<span class="op" id="4760608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4760611">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4760634">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4760654">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4760674">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760706">switch</span>&nbsp;<span class="op" id="4760713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760716">case</span>&nbsp;<span class="ident" id="4760721">x</span><span class="op" id="4760722">.</span><span class="ident" id="4760723">neg</span>&nbsp;<span class="op" id="4760727">==</span>&nbsp;<span class="ident" id="4760730">y</span><span class="op" id="4760731">.</span><span class="ident" id="4760732">neg</span><span class="op" id="4760735">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760739">r</span>&nbsp;<span class="op" id="4760741">=</span>&nbsp;<span class="ident" id="4760743">x</span><span class="op" id="4760744">.</span><span class="ident" id="4760745">abs</span><span class="op" id="4760748">.</span><span class="ident" id="4760749">cmp</span><span class="op" id="4760752">(</span><span class="ident" id="4760753">y</span><span class="op" id="4760754">.</span><span class="ident" id="4760755">abs</span><span class="op" id="4760758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760762">if</span>&nbsp;<span class="ident" id="4760765">x</span><span class="op" id="4760766">.</span><span class="ident" id="4760767">neg</span>&nbsp;<span class="op" id="4760771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760776">r</span>&nbsp;<span class="op" id="4760778">=</span>&nbsp;<span class="op" id="4760780">-</span><span class="ident" id="4760781">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4760785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760788">case</span>&nbsp;<span class="ident" id="4760793">x</span><span class="op" id="4760794">.</span><span class="ident" id="4760795">neg</span><span class="op" id="4760798">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760802">r</span>&nbsp;<span class="op" id="4760804">=</span>&nbsp;<span class="op" id="4760806">-</span><span class="num" id="4760807">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760810">default</span><span class="op" id="4760817">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4760821">r</span>&nbsp;<span class="op" id="4760823">=</span>&nbsp;<span class="num" id="4760825">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4760828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760831">return</span><br>
<span class="lineno"></span><span class="op" id="4760838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4760841">func</span>&nbsp;<span class="op" id="4760846">(</span><span class="ident" id="4760847">x</span>&nbsp;<span class="op" id="4760849">*</span><span class="ident" id="4760850">Int</span><span class="op" id="4760853">)</span>&nbsp;<span class="ident" id="4760855">String</span><span class="op" id="4760861">(</span><span class="op" id="4760862">)</span>&nbsp;<span class="builtintype" id="4760864">string</span>&nbsp;<span class="op" id="4760871">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760874">switch</span>&nbsp;<span class="op" id="4760881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760884">case</span>&nbsp;<span class="ident" id="4760889">x</span>&nbsp;<span class="op" id="4760891">==</span>&nbsp;<span class="ident" id="4760894">nil</span><span class="op" id="4760897">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760901">return</span>&nbsp;<span class="string" id="4760908">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760917">case</span>&nbsp;<span class="ident" id="4760922">x</span><span class="op" id="4760923">.</span><span class="ident" id="4760924">neg</span><span class="op" id="4760927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760931">return</span>&nbsp;<span class="string" id="4760938">&#34;-&#34;</span>&nbsp;<span class="op" id="4760942">+</span>&nbsp;<span class="ident" id="4760944">x</span><span class="op" id="4760945">.</span><span class="ident" id="4760946">abs</span><span class="op" id="4760949">.</span><span class="ident" id="4760950">decimalString</span><span class="op" id="4760963">(</span><span class="op" id="4760964">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4760967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4760970">return</span>&nbsp;<span class="ident" id="4760977">x</span><span class="op" id="4760978">.</span><span class="ident" id="4760979">abs</span><span class="op" id="4760982">.</span><span class="ident" id="4760983">decimalString</span><span class="op" id="4760996">(</span><span class="op" id="4760997">)</span><br>
<span class="lineno"></span><span class="op" id="4760999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4761002">func</span>&nbsp;<span class="ident" id="4761007">charset</span><span class="op" id="4761014">(</span><span class="ident" id="4761015">ch</span>&nbsp;<span class="builtintype" id="4761018">rune</span><span class="op" id="4761022">)</span>&nbsp;<span class="builtintype" id="4761024">string</span>&nbsp;<span class="op" id="4761031">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761034">switch</span>&nbsp;<span class="ident" id="4761041">ch</span>&nbsp;<span class="op" id="4761044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761047">case</span>&nbsp;<span class="string" id="4761052">&#39;b&#39;</span><span class="op" id="4761055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761059">return</span>&nbsp;<span class="ident" id="4761066">lowercaseDigits</span><span class="op" id="4761081">[</span><span class="num" id="4761082">0</span><span class="op" id="4761083">:</span><span class="num" id="4761084">2</span><span class="op" id="4761085">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761088">case</span>&nbsp;<span class="string" id="4761093">&#39;o&#39;</span><span class="op" id="4761096">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761100">return</span>&nbsp;<span class="ident" id="4761107">lowercaseDigits</span><span class="op" id="4761122">[</span><span class="num" id="4761123">0</span><span class="op" id="4761124">:</span><span class="num" id="4761125">8</span><span class="op" id="4761126">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761129">case</span>&nbsp;<span class="string" id="4761134">&#39;d&#39;</span><span class="op" id="4761137">,</span>&nbsp;<span class="string" id="4761139">&#39;s&#39;</span><span class="op" id="4761142">,</span>&nbsp;<span class="string" id="4761144">&#39;v&#39;</span><span class="op" id="4761147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761151">return</span>&nbsp;<span class="ident" id="4761158">lowercaseDigits</span><span class="op" id="4761173">[</span><span class="num" id="4761174">0</span><span class="op" id="4761175">:</span><span class="num" id="4761176">10</span><span class="op" id="4761178">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761181">case</span>&nbsp;<span class="string" id="4761186">&#39;x&#39;</span><span class="op" id="4761189">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761193">return</span>&nbsp;<span class="ident" id="4761200">lowercaseDigits</span><span class="op" id="4761215">[</span><span class="num" id="4761216">0</span><span class="op" id="4761217">:</span><span class="num" id="4761218">16</span><span class="op" id="4761220">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761223">case</span>&nbsp;<span class="string" id="4761228">&#39;X&#39;</span><span class="op" id="4761231">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761235">return</span>&nbsp;<span class="ident" id="4761242">uppercaseDigits</span><span class="op" id="4761257">[</span><span class="num" id="4761258">0</span><span class="op" id="4761259">:</span><span class="num" id="4761260">16</span><span class="op" id="4761262">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4761265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761268">return</span>&nbsp;<span class="string" id="4761275">&#34;&#34;</span>&nbsp;<span class="comment" id="4761278">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="4761296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="4761299">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="4761334">func</span>&nbsp;<span class="ident" id="4761339">writeMultiple</span><span class="op" id="4761352">(</span><span class="ident" id="4761353">s</span>&nbsp;<span class="ident" id="4761355">fmt</span><span class="op" id="4761358">.</span><span class="ident" id="4761359">State</span><span class="op" id="4761364">,</span>&nbsp;<span class="ident" id="4761366">text</span>&nbsp;<span class="builtintype" id="4761371">string</span><span class="op" id="4761377">,</span>&nbsp;<span class="ident" id="4761379">count</span>&nbsp;<span class="builtintype" id="4761385">int</span><span class="op" id="4761388">)</span>&nbsp;<span class="op" id="4761390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761393">if</span>&nbsp;<span class="builtinfunc" id="4761396">len</span><span class="op" id="4761399">(</span><span class="ident" id="4761400">text</span><span class="op" id="4761404">)</span>&nbsp;<span class="op" id="4761406">&gt;</span>&nbsp;<span class="num" id="4761408">0</span>&nbsp;<span class="op" id="4761410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4761414">b</span>&nbsp;<span class="op" id="4761416">:=</span>&nbsp;<span class="op" id="4761419">[</span><span class="op" id="4761420">]</span><span class="builtintype" id="4761421">byte</span><span class="op" id="4761425">(</span><span class="ident" id="4761426">text</span><span class="op" id="4761430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4761434">for</span>&nbsp;<span class="op" id="4761438">;</span>&nbsp;<span class="ident" id="4761440">count</span>&nbsp;<span class="op" id="4761446">&gt;</span>&nbsp;<span class="num" id="4761448">0</span><span class="op" id="4761449">;</span>&nbsp;<span class="ident" id="4761451">count</span><span class="op" id="4761456">--</span>&nbsp;<span class="op" id="4761459">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4761464">s</span><span class="op" id="4761465">.</span><span class="ident" id="4761466">Write</span><span class="op" id="4761471">(</span><span class="ident" id="4761472">b</span><span class="op" id="4761473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4761477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4761480">}</span><br>
<span class="lineno"></span><span class="op" id="4761482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="4761485">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="4761546">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="4761607">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="4761668">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4761729">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="4761786">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="4761845">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="4761904">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="4761964">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="4762022">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="4762046">//</span><br>
<span class="lineno"></span><span class="keyword" id="4762049">func</span>&nbsp;<span class="op" id="4762054">(</span><span class="ident" id="4762055">x</span>&nbsp;<span class="op" id="4762057">*</span><span class="ident" id="4762058">Int</span><span class="op" id="4762061">)</span>&nbsp;<span class="ident" id="4762063">Format</span><span class="op" id="4762069">(</span><span class="ident" id="4762070">s</span>&nbsp;<span class="ident" id="4762072">fmt</span><span class="op" id="4762075">.</span><span class="ident" id="4762076">State</span><span class="op" id="4762081">,</span>&nbsp;<span class="ident" id="4762083">ch</span>&nbsp;<span class="builtintype" id="4762086">rune</span><span class="op" id="4762090">)</span>&nbsp;<span class="op" id="4762092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762095">cs</span>&nbsp;<span class="op" id="4762098">:=</span>&nbsp;<span class="ident" id="4762101">charset</span><span class="op" id="4762108">(</span><span class="ident" id="4762109">ch</span><span class="op" id="4762111">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4762115">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762133">switch</span>&nbsp;<span class="op" id="4762140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762143">case</span>&nbsp;<span class="ident" id="4762148">cs</span>&nbsp;<span class="op" id="4762151">==</span>&nbsp;<span class="string" id="4762154">&#34;&#34;</span><span class="op" id="4762156">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4762160">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762180">fmt</span><span class="op" id="4762183">.</span><span class="ident" id="4762184">Fprintf</span><span class="op" id="4762191">(</span><span class="ident" id="4762192">s</span><span class="op" id="4762193">,</span>&nbsp;<span class="string" id="4762195">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="4762214">,</span>&nbsp;<span class="ident" id="4762216">ch</span><span class="op" id="4762218">,</span>&nbsp;<span class="ident" id="4762220">x</span><span class="op" id="4762221">.</span><span class="ident" id="4762222">String</span><span class="op" id="4762228">(</span><span class="op" id="4762229">)</span><span class="op" id="4762230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762234">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762242">case</span>&nbsp;<span class="ident" id="4762247">x</span>&nbsp;<span class="op" id="4762249">==</span>&nbsp;<span class="ident" id="4762252">nil</span><span class="op" id="4762255">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762259">fmt</span><span class="op" id="4762262">.</span><span class="ident" id="4762263">Fprint</span><span class="op" id="4762269">(</span><span class="ident" id="4762270">s</span><span class="op" id="4762271">,</span>&nbsp;<span class="string" id="4762273">&#34;&lt;nil&gt;&#34;</span><span class="op" id="4762280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762284">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4762292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4762296">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762325">sign</span>&nbsp;<span class="op" id="4762330">:=</span>&nbsp;<span class="string" id="4762333">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762337">switch</span>&nbsp;<span class="op" id="4762344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762347">case</span>&nbsp;<span class="ident" id="4762352">x</span><span class="op" id="4762353">.</span><span class="ident" id="4762354">neg</span><span class="op" id="4762357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762361">sign</span>&nbsp;<span class="op" id="4762366">=</span>&nbsp;<span class="string" id="4762368">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762373">case</span>&nbsp;<span class="ident" id="4762378">s</span><span class="op" id="4762379">.</span><span class="ident" id="4762380">Flag</span><span class="op" id="4762384">(</span><span class="string" id="4762385">&#39;+&#39;</span><span class="op" id="4762388">)</span><span class="op" id="4762389">:</span>&nbsp;<span class="comment" id="4762391">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762431">sign</span>&nbsp;<span class="op" id="4762436">=</span>&nbsp;<span class="string" id="4762438">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762443">case</span>&nbsp;<span class="ident" id="4762448">s</span><span class="op" id="4762449">.</span><span class="ident" id="4762450">Flag</span><span class="op" id="4762454">(</span><span class="string" id="4762455">&#39;&nbsp;&#39;</span><span class="op" id="4762458">)</span><span class="op" id="4762459">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762463">sign</span>&nbsp;<span class="op" id="4762468">=</span>&nbsp;<span class="string" id="4762470">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4762475">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4762479">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762538">prefix</span>&nbsp;<span class="op" id="4762545">:=</span>&nbsp;<span class="string" id="4762548">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762552">if</span>&nbsp;<span class="ident" id="4762555">s</span><span class="op" id="4762556">.</span><span class="ident" id="4762557">Flag</span><span class="op" id="4762561">(</span><span class="string" id="4762562">&#39;#&#39;</span><span class="op" id="4762565">)</span>&nbsp;<span class="op" id="4762567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762571">switch</span>&nbsp;<span class="ident" id="4762578">ch</span>&nbsp;<span class="op" id="4762581">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762585">case</span>&nbsp;<span class="string" id="4762590">&#39;o&#39;</span><span class="op" id="4762593">:</span>&nbsp;<span class="comment" id="4762595">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762607">prefix</span>&nbsp;<span class="op" id="4762614">=</span>&nbsp;<span class="string" id="4762616">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762622">case</span>&nbsp;<span class="string" id="4762627">&#39;x&#39;</span><span class="op" id="4762630">:</span>&nbsp;<span class="comment" id="4762632">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762650">prefix</span>&nbsp;<span class="op" id="4762657">=</span>&nbsp;<span class="string" id="4762659">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762666">case</span>&nbsp;<span class="string" id="4762671">&#39;X&#39;</span><span class="op" id="4762674">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762679">prefix</span>&nbsp;<span class="op" id="4762686">=</span>&nbsp;<span class="string" id="4762688">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4762695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4762698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4762702">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4762777">digits</span>&nbsp;<span class="op" id="4762784">:=</span>&nbsp;<span class="ident" id="4762787">x</span><span class="op" id="4762788">.</span><span class="ident" id="4762789">abs</span><span class="op" id="4762792">.</span><span class="builtintype" id="4762793">string</span><span class="op" id="4762799">(</span><span class="ident" id="4762800">cs</span><span class="op" id="4762802">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4762806">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762871">var</span>&nbsp;<span class="ident" id="4762875">left</span>&nbsp;<span class="builtintype" id="4762880">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4762886">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4762957">var</span>&nbsp;<span class="ident" id="4762961">zeroes</span>&nbsp;<span class="builtintype" id="4762968">int</span>&nbsp;<span class="comment" id="4762972">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763038">var</span>&nbsp;<span class="ident" id="4763042">right</span>&nbsp;<span class="builtintype" id="4763048">int</span>&nbsp;&nbsp;<span class="comment" id="4763053">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4763126">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4763208">precision</span><span class="op" id="4763217">,</span>&nbsp;<span class="ident" id="4763219">precisionSet</span>&nbsp;<span class="op" id="4763232">:=</span>&nbsp;<span class="ident" id="4763235">s</span><span class="op" id="4763236">.</span><span class="ident" id="4763237">Precision</span><span class="op" id="4763246">(</span><span class="op" id="4763247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763250">if</span>&nbsp;<span class="ident" id="4763253">precisionSet</span>&nbsp;<span class="op" id="4763266">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763270">switch</span>&nbsp;<span class="op" id="4763277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763281">case</span>&nbsp;<span class="builtinfunc" id="4763286">len</span><span class="op" id="4763289">(</span><span class="ident" id="4763290">digits</span><span class="op" id="4763296">)</span>&nbsp;<span class="op" id="4763298">&lt;</span>&nbsp;<span class="ident" id="4763300">precision</span><span class="op" id="4763309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4763314">zeroes</span>&nbsp;<span class="op" id="4763321">=</span>&nbsp;<span class="ident" id="4763323">precision</span>&nbsp;<span class="op" id="4763333">-</span>&nbsp;<span class="builtinfunc" id="4763335">len</span><span class="op" id="4763338">(</span><span class="ident" id="4763339">digits</span><span class="op" id="4763345">)</span>&nbsp;<span class="comment" id="4763347">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763374">case</span>&nbsp;<span class="ident" id="4763379">digits</span>&nbsp;<span class="op" id="4763386">==</span>&nbsp;<span class="string" id="4763389">&#34;0&#34;</span>&nbsp;<span class="op" id="4763393">&amp;&amp;</span>&nbsp;<span class="ident" id="4763396">precision</span>&nbsp;<span class="op" id="4763406">==</span>&nbsp;<span class="num" id="4763409">0</span><span class="op" id="4763410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763415">return</span>&nbsp;<span class="comment" id="4763422">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4763497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4763500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4763504">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4763581">length</span>&nbsp;<span class="op" id="4763588">:=</span>&nbsp;<span class="builtinfunc" id="4763591">len</span><span class="op" id="4763594">(</span><span class="ident" id="4763595">sign</span><span class="op" id="4763599">)</span>&nbsp;<span class="op" id="4763601">+</span>&nbsp;<span class="builtinfunc" id="4763603">len</span><span class="op" id="4763606">(</span><span class="ident" id="4763607">prefix</span><span class="op" id="4763613">)</span>&nbsp;<span class="op" id="4763615">+</span>&nbsp;<span class="ident" id="4763617">zeroes</span>&nbsp;<span class="op" id="4763624">+</span>&nbsp;<span class="builtinfunc" id="4763626">len</span><span class="op" id="4763629">(</span><span class="ident" id="4763630">digits</span><span class="op" id="4763636">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763639">if</span>&nbsp;<span class="ident" id="4763642">width</span><span class="op" id="4763647">,</span>&nbsp;<span class="ident" id="4763649">widthSet</span>&nbsp;<span class="op" id="4763658">:=</span>&nbsp;<span class="ident" id="4763661">s</span><span class="op" id="4763662">.</span><span class="ident" id="4763663">Width</span><span class="op" id="4763668">(</span><span class="op" id="4763669">)</span><span class="op" id="4763670">;</span>&nbsp;<span class="ident" id="4763672">widthSet</span>&nbsp;<span class="op" id="4763681">&amp;&amp;</span>&nbsp;<span class="ident" id="4763684">length</span>&nbsp;<span class="op" id="4763691">&lt;</span>&nbsp;<span class="ident" id="4763693">width</span>&nbsp;<span class="op" id="4763699">{</span>&nbsp;<span class="comment" id="4763701">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763723">switch</span>&nbsp;<span class="ident" id="4763730">d</span>&nbsp;<span class="op" id="4763732">:=</span>&nbsp;<span class="ident" id="4763735">width</span>&nbsp;<span class="op" id="4763741">-</span>&nbsp;<span class="ident" id="4763743">length</span><span class="op" id="4763749">;</span>&nbsp;<span class="op" id="4763751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763755">case</span>&nbsp;<span class="ident" id="4763760">s</span><span class="op" id="4763761">.</span><span class="ident" id="4763762">Flag</span><span class="op" id="4763766">(</span><span class="string" id="4763767">&#39;-&#39;</span><span class="op" id="4763770">)</span><span class="op" id="4763771">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4763776">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4763847">right</span>&nbsp;<span class="op" id="4763853">=</span>&nbsp;<span class="ident" id="4763855">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763859">case</span>&nbsp;<span class="ident" id="4763864">s</span><span class="op" id="4763865">.</span><span class="ident" id="4763866">Flag</span><span class="op" id="4763870">(</span><span class="string" id="4763871">&#39;0&#39;</span><span class="op" id="4763874">)</span>&nbsp;<span class="op" id="4763876">&amp;&amp;</span>&nbsp;<span class="op" id="4763879">!</span><span class="ident" id="4763880">precisionSet</span><span class="op" id="4763892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4763897">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4763951">zeroes</span>&nbsp;<span class="op" id="4763958">=</span>&nbsp;<span class="ident" id="4763960">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4763964">default</span><span class="op" id="4763971">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4763976">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4764010">left</span>&nbsp;<span class="op" id="4764015">=</span>&nbsp;<span class="ident" id="4764017">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4764021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4764024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4764028">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4764102">writeMultiple</span><span class="op" id="4764115">(</span><span class="ident" id="4764116">s</span><span class="op" id="4764117">,</span>&nbsp;<span class="string" id="4764119">&#34;&nbsp;&#34;</span><span class="op" id="4764122">,</span>&nbsp;<span class="ident" id="4764124">left</span><span class="op" id="4764128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4764131">writeMultiple</span><span class="op" id="4764144">(</span><span class="ident" id="4764145">s</span><span class="op" id="4764146">,</span>&nbsp;<span class="ident" id="4764148">sign</span><span class="op" id="4764152">,</span>&nbsp;<span class="num" id="4764154">1</span><span class="op" id="4764155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4764158">writeMultiple</span><span class="op" id="4764171">(</span><span class="ident" id="4764172">s</span><span class="op" id="4764173">,</span>&nbsp;<span class="ident" id="4764175">prefix</span><span class="op" id="4764181">,</span>&nbsp;<span class="num" id="4764183">1</span><span class="op" id="4764184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4764187">writeMultiple</span><span class="op" id="4764200">(</span><span class="ident" id="4764201">s</span><span class="op" id="4764202">,</span>&nbsp;<span class="string" id="4764204">&#34;0&#34;</span><span class="op" id="4764207">,</span>&nbsp;<span class="ident" id="4764209">zeroes</span><span class="op" id="4764215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4764218">writeMultiple</span><span class="op" id="4764231">(</span><span class="ident" id="4764232">s</span><span class="op" id="4764233">,</span>&nbsp;<span class="ident" id="4764235">digits</span><span class="op" id="4764241">,</span>&nbsp;<span class="num" id="4764243">1</span><span class="op" id="4764244">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4764247">writeMultiple</span><span class="op" id="4764260">(</span><span class="ident" id="4764261">s</span><span class="op" id="4764262">,</span>&nbsp;<span class="string" id="4764264">&#34;&nbsp;&#34;</span><span class="op" id="4764267">,</span>&nbsp;<span class="ident" id="4764269">right</span><span class="op" id="4764274">)</span><br>
<span class="lineno"></span><span class="op" id="4764276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4764279">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="4764360">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="4764440">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4764519">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="4764597">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="4764653">//</span><br>
<span class="lineno"></span><span class="comment" id="4764656">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="4764734">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4764812">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4764888">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="4764966">//</span><br>
<span class="lineno"></span><span class="keyword" id="4764969">func</span>&nbsp;<span class="op" id="4764974">(</span><span class="ident" id="4764975">z</span>&nbsp;<span class="op" id="4764977">*</span><span class="ident" id="4764978">Int</span><span class="op" id="4764981">)</span>&nbsp;<span class="ident" id="4764983">scan</span><span class="op" id="4764987">(</span><span class="ident" id="4764988">r</span>&nbsp;<span class="ident" id="4764990">io</span><span class="op" id="4764992">.</span><span class="ident" id="4764993">RuneScanner</span><span class="op" id="4765004">,</span>&nbsp;<span class="ident" id="4765006">base</span>&nbsp;<span class="builtintype" id="4765011">int</span><span class="op" id="4765014">)</span>&nbsp;<span class="op" id="4765016">(</span><span class="op" id="4765017">*</span><span class="ident" id="4765018">Int</span><span class="op" id="4765021">,</span>&nbsp;<span class="builtintype" id="4765023">int</span><span class="op" id="4765026">,</span>&nbsp;<span class="builtintype" id="4765028">error</span><span class="op" id="4765033">)</span>&nbsp;<span class="op" id="4765035">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4765038">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765057">ch</span><span class="op" id="4765059">,</span>&nbsp;<span class="ident" id="4765061">_</span><span class="op" id="4765062">,</span>&nbsp;<span class="ident" id="4765064">err</span>&nbsp;<span class="op" id="4765068">:=</span>&nbsp;<span class="ident" id="4765071">r</span><span class="op" id="4765072">.</span><span class="ident" id="4765073">ReadRune</span><span class="op" id="4765081">(</span><span class="op" id="4765082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765085">if</span>&nbsp;<span class="ident" id="4765088">err</span>&nbsp;<span class="op" id="4765092">!=</span>&nbsp;<span class="ident" id="4765095">nil</span>&nbsp;<span class="op" id="4765099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765103">return</span>&nbsp;<span class="ident" id="4765110">nil</span><span class="op" id="4765113">,</span>&nbsp;<span class="num" id="4765115">0</span><span class="op" id="4765116">,</span>&nbsp;<span class="ident" id="4765118">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4765123">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765126">neg</span>&nbsp;<span class="op" id="4765130">:=</span>&nbsp;<span class="builtintype" id="4765133">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765140">switch</span>&nbsp;<span class="ident" id="4765147">ch</span>&nbsp;<span class="op" id="4765150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765153">case</span>&nbsp;<span class="string" id="4765158">&#39;-&#39;</span><span class="op" id="4765161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765165">neg</span>&nbsp;<span class="op" id="4765169">=</span>&nbsp;<span class="builtintype" id="4765171">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765177">case</span>&nbsp;<span class="string" id="4765182">&#39;+&#39;</span><span class="op" id="4765185">:</span>&nbsp;<span class="comment" id="4765187">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765205">default</span><span class="op" id="4765212">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765216">r</span><span class="op" id="4765217">.</span><span class="ident" id="4765218">UnreadRune</span><span class="op" id="4765228">(</span><span class="op" id="4765229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4765232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4765236">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765259">z</span><span class="op" id="4765260">.</span><span class="ident" id="4765261">abs</span><span class="op" id="4765264">,</span>&nbsp;<span class="ident" id="4765266">base</span><span class="op" id="4765270">,</span>&nbsp;<span class="ident" id="4765272">err</span>&nbsp;<span class="op" id="4765276">=</span>&nbsp;<span class="ident" id="4765278">z</span><span class="op" id="4765279">.</span><span class="ident" id="4765280">abs</span><span class="op" id="4765283">.</span><span class="ident" id="4765284">scan</span><span class="op" id="4765288">(</span><span class="ident" id="4765289">r</span><span class="op" id="4765290">,</span>&nbsp;<span class="ident" id="4765292">base</span><span class="op" id="4765296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765299">if</span>&nbsp;<span class="ident" id="4765302">err</span>&nbsp;<span class="op" id="4765306">!=</span>&nbsp;<span class="ident" id="4765309">nil</span>&nbsp;<span class="op" id="4765313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765317">return</span>&nbsp;<span class="ident" id="4765324">nil</span><span class="op" id="4765327">,</span>&nbsp;<span class="ident" id="4765329">base</span><span class="op" id="4765333">,</span>&nbsp;<span class="ident" id="4765335">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4765340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765343">z</span><span class="op" id="4765344">.</span><span class="ident" id="4765345">neg</span>&nbsp;<span class="op" id="4765349">=</span>&nbsp;<span class="builtinfunc" id="4765351">len</span><span class="op" id="4765354">(</span><span class="ident" id="4765355">z</span><span class="op" id="4765356">.</span><span class="ident" id="4765357">abs</span><span class="op" id="4765360">)</span>&nbsp;<span class="op" id="4765362">&gt;</span>&nbsp;<span class="num" id="4765364">0</span>&nbsp;<span class="op" id="4765366">&amp;&amp;</span>&nbsp;<span class="ident" id="4765369">neg</span>&nbsp;<span class="comment" id="4765373">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765392">return</span>&nbsp;<span class="ident" id="4765399">z</span><span class="op" id="4765400">,</span>&nbsp;<span class="ident" id="4765402">base</span><span class="op" id="4765406">,</span>&nbsp;<span class="ident" id="4765408">nil</span><br>
<span class="lineno"></span><span class="op" id="4765412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4765415">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="4765487">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="4765560">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="4765640">func</span>&nbsp;<span class="op" id="4765645">(</span><span class="ident" id="4765646">z</span>&nbsp;<span class="op" id="4765648">*</span><span class="ident" id="4765649">Int</span><span class="op" id="4765652">)</span>&nbsp;<span class="ident" id="4765654">Scan</span><span class="op" id="4765658">(</span><span class="ident" id="4765659">s</span>&nbsp;<span class="ident" id="4765661">fmt</span><span class="op" id="4765664">.</span><span class="ident" id="4765665">ScanState</span><span class="op" id="4765674">,</span>&nbsp;<span class="ident" id="4765676">ch</span>&nbsp;<span class="builtintype" id="4765679">rune</span><span class="op" id="4765683">)</span>&nbsp;<span class="builtintype" id="4765685">error</span>&nbsp;<span class="op" id="4765691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765694">s</span><span class="op" id="4765695">.</span><span class="ident" id="4765696">SkipSpace</span><span class="op" id="4765705">(</span><span class="op" id="4765706">)</span>&nbsp;<span class="comment" id="4765708">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765742">base</span>&nbsp;<span class="op" id="4765747">:=</span>&nbsp;<span class="num" id="4765750">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765753">switch</span>&nbsp;<span class="ident" id="4765760">ch</span>&nbsp;<span class="op" id="4765763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765766">case</span>&nbsp;<span class="string" id="4765771">&#39;b&#39;</span><span class="op" id="4765774">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765778">base</span>&nbsp;<span class="op" id="4765783">=</span>&nbsp;<span class="num" id="4765785">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765788">case</span>&nbsp;<span class="string" id="4765793">&#39;o&#39;</span><span class="op" id="4765796">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765800">base</span>&nbsp;<span class="op" id="4765805">=</span>&nbsp;<span class="num" id="4765807">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765810">case</span>&nbsp;<span class="string" id="4765815">&#39;d&#39;</span><span class="op" id="4765818">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765822">base</span>&nbsp;<span class="op" id="4765827">=</span>&nbsp;<span class="num" id="4765829">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765833">case</span>&nbsp;<span class="string" id="4765838">&#39;x&#39;</span><span class="op" id="4765841">,</span>&nbsp;<span class="string" id="4765843">&#39;X&#39;</span><span class="op" id="4765846">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765850">base</span>&nbsp;<span class="op" id="4765855">=</span>&nbsp;<span class="num" id="4765857">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765861">case</span>&nbsp;<span class="string" id="4765866">&#39;s&#39;</span><span class="op" id="4765869">,</span>&nbsp;<span class="string" id="4765871">&#39;v&#39;</span><span class="op" id="4765874">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4765878">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765910">default</span><span class="op" id="4765917">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765921">return</span>&nbsp;<span class="ident" id="4765928">errors</span><span class="op" id="4765934">.</span><span class="ident" id="4765935">New</span><span class="op" id="4765938">(</span><span class="string" id="4765939">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="4765963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4765966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4765969">_</span><span class="op" id="4765970">,</span>&nbsp;<span class="ident" id="4765972">_</span><span class="op" id="4765973">,</span>&nbsp;<span class="ident" id="4765975">err</span>&nbsp;<span class="op" id="4765979">:=</span>&nbsp;<span class="ident" id="4765982">z</span><span class="op" id="4765983">.</span><span class="ident" id="4765984">scan</span><span class="op" id="4765988">(</span><span class="ident" id="4765989">s</span><span class="op" id="4765990">,</span>&nbsp;<span class="ident" id="4765992">base</span><span class="op" id="4765996">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4765999">return</span>&nbsp;<span class="ident" id="4766006">err</span><br>
<span class="lineno"></span><span class="op" id="4766010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4766013">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4766066">func</span>&nbsp;<span class="ident" id="4766071">low32</span><span class="op" id="4766076">(</span><span class="ident" id="4766077">z</span>&nbsp;<span class="ident" id="4766079">nat</span><span class="op" id="4766082">)</span>&nbsp;<span class="builtintype" id="4766084">uint32</span>&nbsp;<span class="op" id="4766091">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766094">if</span>&nbsp;<span class="builtinfunc" id="4766097">len</span><span class="op" id="4766100">(</span><span class="ident" id="4766101">z</span><span class="op" id="4766102">)</span>&nbsp;<span class="op" id="4766104">==</span>&nbsp;<span class="num" id="4766107">0</span>&nbsp;<span class="op" id="4766109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766113">return</span>&nbsp;<span class="num" id="4766120">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4766123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766126">return</span>&nbsp;<span class="builtintype" id="4766133">uint32</span><span class="op" id="4766139">(</span><span class="ident" id="4766140">z</span><span class="op" id="4766141">[</span><span class="num" id="4766142">0</span><span class="op" id="4766143">]</span><span class="op" id="4766144">)</span><br>
<span class="lineno"></span><span class="op" id="4766146">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="4766149">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4766202">func</span>&nbsp;<span class="ident" id="4766207">low64</span><span class="op" id="4766212">(</span><span class="ident" id="4766213">z</span>&nbsp;<span class="ident" id="4766215">nat</span><span class="op" id="4766218">)</span>&nbsp;<span class="ident" id="4766220">uint64</span>&nbsp;<span class="op" id="4766227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766230">if</span>&nbsp;<span class="builtinfunc" id="4766233">len</span><span class="op" id="4766236">(</span><span class="ident" id="4766237">z</span><span class="op" id="4766238">)</span>&nbsp;<span class="op" id="4766240">==</span>&nbsp;<span class="num" id="4766243">0</span>&nbsp;<span class="op" id="4766245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766249">return</span>&nbsp;<span class="num" id="4766256">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4766259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4766262">v</span>&nbsp;<span class="op" id="4766264">:=</span>&nbsp;<span class="ident" id="4766267">uint64</span><span class="op" id="4766273">(</span><span class="ident" id="4766274">z</span><span class="op" id="4766275">[</span><span class="num" id="4766276">0</span><span class="op" id="4766277">]</span><span class="op" id="4766278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766281">if</span>&nbsp;<span class="ident" id="4766284">_W</span>&nbsp;<span class="op" id="4766287">==</span>&nbsp;<span class="num" id="4766290">32</span>&nbsp;<span class="op" id="4766293">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4766296">len</span><span class="op" id="4766299">(</span><span class="ident" id="4766300">z</span><span class="op" id="4766301">)</span>&nbsp;<span class="op" id="4766303">&gt;</span>&nbsp;<span class="num" id="4766305">1</span>&nbsp;<span class="op" id="4766307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4766311">v</span>&nbsp;<span class="op" id="4766313">|=</span>&nbsp;<span class="ident" id="4766316">uint64</span><span class="op" id="4766322">(</span><span class="ident" id="4766323">z</span><span class="op" id="4766324">[</span><span class="num" id="4766325">1</span><span class="op" id="4766326">]</span><span class="op" id="4766327">)</span>&nbsp;<span class="op" id="4766329">&lt;&lt;</span>&nbsp;<span class="num" id="4766332">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4766336">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766339">return</span>&nbsp;<span class="ident" id="4766346">v</span><br>
<span class="lineno"></span><span class="op" id="4766348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4766351">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="4766399">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="4766467">func</span>&nbsp;<span class="op" id="4766472">(</span><span class="ident" id="4766473">x</span>&nbsp;<span class="op" id="4766475">*</span><span class="ident" id="4766476">Int</span><span class="op" id="4766479">)</span>&nbsp;<span class="ident" id="4766481">Int64</span><span class="op" id="4766486">(</span><span class="op" id="4766487">)</span>&nbsp;<span class="ident" id="4766489">int64</span>&nbsp;<span class="op" id="4766495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4766498">v</span>&nbsp;<span class="op" id="4766500">:=</span>&nbsp;<span class="ident" id="4766503">int64</span><span class="op" id="4766508">(</span><span class="ident" id="4766509">low64</span><span class="op" id="4766514">(</span><span class="ident" id="4766515">x</span><span class="op" id="4766516">.</span><span class="ident" id="4766517">abs</span><span class="op" id="4766520">)</span><span class="op" id="4766521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766524">if</span>&nbsp;<span class="ident" id="4766527">x</span><span class="op" id="4766528">.</span><span class="ident" id="4766529">neg</span>&nbsp;<span class="op" id="4766533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4766537">v</span>&nbsp;<span class="op" id="4766539">=</span>&nbsp;<span class="op" id="4766541">-</span><span class="ident" id="4766542">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4766545">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766548">return</span>&nbsp;<span class="ident" id="4766555">v</span><br>
<span class="lineno"></span><span class="op" id="4766557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4766560">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="4766610">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="4766678">func</span>&nbsp;<span class="op" id="4766683">(</span><span class="ident" id="4766684">x</span>&nbsp;<span class="op" id="4766686">*</span><span class="ident" id="4766687">Int</span><span class="op" id="4766690">)</span>&nbsp;<span class="ident" id="4766692">Uint64</span><span class="op" id="4766698">(</span><span class="op" id="4766699">)</span>&nbsp;<span class="ident" id="4766701">uint64</span>&nbsp;<span class="op" id="4766708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4766711">return</span>&nbsp;<span class="ident" id="4766718">low64</span><span class="op" id="4766723">(</span><span class="ident" id="4766724">x</span><span class="op" id="4766725">.</span><span class="ident" id="4766726">abs</span><span class="op" id="4766729">)</span><br>
<span class="lineno"></span><span class="op" id="4766731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4766734">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="4766804">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="4766875">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="4766937">//</span><br>
<span class="lineno"></span><span class="comment" id="4766940">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="4767018">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="4767096">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4767172">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="4767250">//</span><br>
<span class="lineno"></span><span class="keyword" id="4767253">func</span>&nbsp;<span class="op" id="4767258">(</span><span class="ident" id="4767259">z</span>&nbsp;<span class="op" id="4767261">*</span><span class="ident" id="4767262">Int</span><span class="op" id="4767265">)</span>&nbsp;<span class="ident" id="4767267">SetString</span><span class="op" id="4767276">(</span><span class="ident" id="4767277">s</span>&nbsp;<span class="builtintype" id="4767279">string</span><span class="op" id="4767285">,</span>&nbsp;<span class="ident" id="4767287">base</span>&nbsp;<span class="builtintype" id="4767292">int</span><span class="op" id="4767295">)</span>&nbsp;<span class="op" id="4767297">(</span><span class="op" id="4767298">*</span><span class="ident" id="4767299">Int</span><span class="op" id="4767302">,</span>&nbsp;<span class="builtintype" id="4767304">bool</span><span class="op" id="4767308">)</span>&nbsp;<span class="op" id="4767310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767313">r</span>&nbsp;<span class="op" id="4767315">:=</span>&nbsp;<span class="ident" id="4767318">strings</span><span class="op" id="4767325">.</span><span class="ident" id="4767326">NewReader</span><span class="op" id="4767335">(</span><span class="ident" id="4767336">s</span><span class="op" id="4767337">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767340">_</span><span class="op" id="4767341">,</span>&nbsp;<span class="ident" id="4767343">_</span><span class="op" id="4767344">,</span>&nbsp;<span class="ident" id="4767346">err</span>&nbsp;<span class="op" id="4767350">:=</span>&nbsp;<span class="ident" id="4767353">z</span><span class="op" id="4767354">.</span><span class="ident" id="4767355">scan</span><span class="op" id="4767359">(</span><span class="ident" id="4767360">r</span><span class="op" id="4767361">,</span>&nbsp;<span class="ident" id="4767363">base</span><span class="op" id="4767367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767370">if</span>&nbsp;<span class="ident" id="4767373">err</span>&nbsp;<span class="op" id="4767377">!=</span>&nbsp;<span class="ident" id="4767380">nil</span>&nbsp;<span class="op" id="4767384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767388">return</span>&nbsp;<span class="ident" id="4767395">nil</span><span class="op" id="4767398">,</span>&nbsp;<span class="builtintype" id="4767400">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767410">_</span><span class="op" id="4767411">,</span>&nbsp;<span class="ident" id="4767413">_</span><span class="op" id="4767414">,</span>&nbsp;<span class="ident" id="4767416">err</span>&nbsp;<span class="op" id="4767420">=</span>&nbsp;<span class="ident" id="4767422">r</span><span class="op" id="4767423">.</span><span class="ident" id="4767424">ReadRune</span><span class="op" id="4767432">(</span><span class="op" id="4767433">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767436">if</span>&nbsp;<span class="ident" id="4767439">err</span>&nbsp;<span class="op" id="4767443">!=</span>&nbsp;<span class="ident" id="4767446">io</span><span class="op" id="4767448">.</span><span class="ident" id="4767449">EOF</span>&nbsp;<span class="op" id="4767453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767457">return</span>&nbsp;<span class="ident" id="4767464">nil</span><span class="op" id="4767467">,</span>&nbsp;<span class="builtintype" id="4767469">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4767476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767479">return</span>&nbsp;<span class="ident" id="4767486">z</span><span class="op" id="4767487">,</span>&nbsp;<span class="builtintype" id="4767489">true</span>&nbsp;<span class="comment" id="4767494">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="4767537">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="4767540">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="4767605">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4767654">func</span>&nbsp;<span class="op" id="4767659">(</span><span class="ident" id="4767660">z</span>&nbsp;<span class="op" id="4767662">*</span><span class="ident" id="4767663">Int</span><span class="op" id="4767666">)</span>&nbsp;<span class="ident" id="4767668">SetBytes</span><span class="op" id="4767676">(</span><span class="ident" id="4767677">buf</span>&nbsp;<span class="op" id="4767681">[</span><span class="op" id="4767682">]</span><span class="builtintype" id="4767683">byte</span><span class="op" id="4767687">)</span>&nbsp;<span class="op" id="4767689">*</span><span class="ident" id="4767690">Int</span>&nbsp;<span class="op" id="4767694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767697">z</span><span class="op" id="4767698">.</span><span class="ident" id="4767699">abs</span>&nbsp;<span class="op" id="4767703">=</span>&nbsp;<span class="ident" id="4767705">z</span><span class="op" id="4767706">.</span><span class="ident" id="4767707">abs</span><span class="op" id="4767710">.</span><span class="ident" id="4767711">setBytes</span><span class="op" id="4767719">(</span><span class="ident" id="4767720">buf</span><span class="op" id="4767723">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767726">z</span><span class="op" id="4767727">.</span><span class="ident" id="4767728">neg</span>&nbsp;<span class="op" id="4767732">=</span>&nbsp;<span class="builtintype" id="4767734">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767741">return</span>&nbsp;<span class="ident" id="4767748">z</span><br>
<span class="lineno"></span><span class="op" id="4767750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4767753">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="4767822">func</span>&nbsp;<span class="op" id="4767827">(</span><span class="ident" id="4767828">x</span>&nbsp;<span class="op" id="4767830">*</span><span class="ident" id="4767831">Int</span><span class="op" id="4767834">)</span>&nbsp;<span class="ident" id="4767836">Bytes</span><span class="op" id="4767841">(</span><span class="op" id="4767842">)</span>&nbsp;<span class="op" id="4767844">[</span><span class="op" id="4767845">]</span><span class="builtintype" id="4767846">byte</span>&nbsp;<span class="op" id="4767851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4767854">buf</span>&nbsp;<span class="op" id="4767858">:=</span>&nbsp;<span class="builtinfunc" id="4767861">make</span><span class="op" id="4767865">(</span><span class="op" id="4767866">[</span><span class="op" id="4767867">]</span><span class="builtintype" id="4767868">byte</span><span class="op" id="4767872">,</span>&nbsp;<span class="builtinfunc" id="4767874">len</span><span class="op" id="4767877">(</span><span class="ident" id="4767878">x</span><span class="op" id="4767879">.</span><span class="ident" id="4767880">abs</span><span class="op" id="4767883">)</span><span class="op" id="4767884">*</span><span class="ident" id="4767885">_S</span><span class="op" id="4767887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4767890">return</span>&nbsp;<span class="ident" id="4767897">buf</span><span class="op" id="4767900">[</span><span class="ident" id="4767901">x</span><span class="op" id="4767902">.</span><span class="ident" id="4767903">abs</span><span class="op" id="4767906">.</span><span class="ident" id="4767907">bytes</span><span class="op" id="4767912">(</span><span class="ident" id="4767913">buf</span><span class="op" id="4767916">)</span><span class="op" id="4767917">:</span><span class="op" id="4767918">]</span><br>
<span class="lineno"></span><span class="op" id="4767920">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="4767923">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="4767988">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4768017">func</span>&nbsp;<span class="op" id="4768022">(</span><span class="ident" id="4768023">x</span>&nbsp;<span class="op" id="4768025">*</span><span class="ident" id="4768026">Int</span><span class="op" id="4768029">)</span>&nbsp;<span class="ident" id="4768031">BitLen</span><span class="op" id="4768037">(</span><span class="op" id="4768038">)</span>&nbsp;<span class="builtintype" id="4768040">int</span>&nbsp;<span class="op" id="4768044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768047">return</span>&nbsp;<span class="ident" id="4768054">x</span><span class="op" id="4768055">.</span><span class="ident" id="4768056">abs</span><span class="op" id="4768059">.</span><span class="ident" id="4768060">bitLen</span><span class="op" id="4768066">(</span><span class="op" id="4768067">)</span><br>
<span class="lineno"></span><span class="op" id="4768069">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="4768072">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4768149">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="4768221">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="4768260">func</span>&nbsp;<span class="op" id="4768265">(</span><span class="ident" id="4768266">z</span>&nbsp;<span class="op" id="4768268">*</span><span class="ident" id="4768269">Int</span><span class="op" id="4768272">)</span>&nbsp;<span class="ident" id="4768274">Exp</span><span class="op" id="4768277">(</span><span class="ident" id="4768278">x</span><span class="op" id="4768279">,</span>&nbsp;<span class="ident" id="4768281">y</span><span class="op" id="4768282">,</span>&nbsp;<span class="ident" id="4768284">m</span>&nbsp;<span class="op" id="4768286">*</span><span class="ident" id="4768287">Int</span><span class="op" id="4768290">)</span>&nbsp;<span class="op" id="4768292">*</span><span class="ident" id="4768293">Int</span>&nbsp;<span class="op" id="4768297">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768300">var</span>&nbsp;<span class="ident" id="4768304">yWords</span>&nbsp;<span class="ident" id="4768311">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768316">if</span>&nbsp;<span class="op" id="4768319">!</span><span class="ident" id="4768320">y</span><span class="op" id="4768321">.</span><span class="ident" id="4768322">neg</span>&nbsp;<span class="op" id="4768326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768330">yWords</span>&nbsp;<span class="op" id="4768337">=</span>&nbsp;<span class="ident" id="4768339">y</span><span class="op" id="4768340">.</span><span class="ident" id="4768341">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4768349">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768361">var</span>&nbsp;<span class="ident" id="4768365">mWords</span>&nbsp;<span class="ident" id="4768372">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768377">if</span>&nbsp;<span class="ident" id="4768380">m</span>&nbsp;<span class="op" id="4768382">!=</span>&nbsp;<span class="ident" id="4768385">nil</span>&nbsp;<span class="op" id="4768389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768393">mWords</span>&nbsp;<span class="op" id="4768400">=</span>&nbsp;<span class="ident" id="4768402">m</span><span class="op" id="4768403">.</span><span class="ident" id="4768404">abs</span>&nbsp;<span class="comment" id="4768408">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768440">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768444">z</span><span class="op" id="4768445">.</span><span class="ident" id="4768446">abs</span>&nbsp;<span class="op" id="4768450">=</span>&nbsp;<span class="ident" id="4768452">z</span><span class="op" id="4768453">.</span><span class="ident" id="4768454">abs</span><span class="op" id="4768457">.</span><span class="ident" id="4768458">expNN</span><span class="op" id="4768463">(</span><span class="ident" id="4768464">x</span><span class="op" id="4768465">.</span><span class="ident" id="4768466">abs</span><span class="op" id="4768469">,</span>&nbsp;<span class="ident" id="4768471">yWords</span><span class="op" id="4768477">,</span>&nbsp;<span class="ident" id="4768479">mWords</span><span class="op" id="4768485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768488">z</span><span class="op" id="4768489">.</span><span class="ident" id="4768490">neg</span>&nbsp;<span class="op" id="4768494">=</span>&nbsp;<span class="builtinfunc" id="4768496">len</span><span class="op" id="4768499">(</span><span class="ident" id="4768500">z</span><span class="op" id="4768501">.</span><span class="ident" id="4768502">abs</span><span class="op" id="4768505">)</span>&nbsp;<span class="op" id="4768507">&gt;</span>&nbsp;<span class="num" id="4768509">0</span>&nbsp;<span class="op" id="4768511">&amp;&amp;</span>&nbsp;<span class="ident" id="4768514">x</span><span class="op" id="4768515">.</span><span class="ident" id="4768516">neg</span>&nbsp;<span class="op" id="4768520">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4768523">len</span><span class="op" id="4768526">(</span><span class="ident" id="4768527">yWords</span><span class="op" id="4768533">)</span>&nbsp;<span class="op" id="4768535">&gt;</span>&nbsp;<span class="num" id="4768537">0</span>&nbsp;<span class="op" id="4768539">&amp;&amp;</span>&nbsp;<span class="ident" id="4768542">yWords</span><span class="op" id="4768548">[</span><span class="num" id="4768549">0</span><span class="op" id="4768550">]</span><span class="op" id="4768551">&amp;</span><span class="num" id="4768552">1</span>&nbsp;<span class="op" id="4768554">==</span>&nbsp;<span class="num" id="4768557">1</span>&nbsp;<span class="comment" id="4768559">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768577">if</span>&nbsp;<span class="ident" id="4768580">z</span><span class="op" id="4768581">.</span><span class="ident" id="4768582">neg</span>&nbsp;<span class="op" id="4768586">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4768589">len</span><span class="op" id="4768592">(</span><span class="ident" id="4768593">mWords</span><span class="op" id="4768599">)</span>&nbsp;<span class="op" id="4768601">&gt;</span>&nbsp;<span class="num" id="4768603">0</span>&nbsp;<span class="op" id="4768605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4768609">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768643">z</span><span class="op" id="4768644">.</span><span class="ident" id="4768645">abs</span>&nbsp;<span class="op" id="4768649">=</span>&nbsp;<span class="ident" id="4768651">z</span><span class="op" id="4768652">.</span><span class="ident" id="4768653">abs</span><span class="op" id="4768656">.</span><span class="ident" id="4768657">sub</span><span class="op" id="4768660">(</span><span class="ident" id="4768661">mWords</span><span class="op" id="4768667">,</span>&nbsp;<span class="ident" id="4768669">z</span><span class="op" id="4768670">.</span><span class="ident" id="4768671">abs</span><span class="op" id="4768674">)</span>&nbsp;<span class="comment" id="4768676">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4768715">z</span><span class="op" id="4768716">.</span><span class="ident" id="4768717">neg</span>&nbsp;<span class="op" id="4768721">=</span>&nbsp;<span class="builtintype" id="4768723">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4768730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4768734">return</span>&nbsp;<span class="ident" id="4768741">z</span><br>
<span class="lineno">615</span><span class="op" id="4768743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4768746">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="4768819">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4768845">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="4768914">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4768967">func</span>&nbsp;<span class="op" id="4768972">(</span><span class="ident" id="4768973">z</span>&nbsp;<span class="op" id="4768975">*</span><span class="ident" id="4768976">Int</span><span class="op" id="4768979">)</span>&nbsp;<span class="ident" id="4768981">GCD</span><span class="op" id="4768984">(</span><span class="ident" id="4768985">x</span><span class="op" id="4768986">,</span>&nbsp;<span class="ident" id="4768988">y</span><span class="op" id="4768989">,</span>&nbsp;<span class="ident" id="4768991">a</span><span class="op" id="4768992">,</span>&nbsp;<span class="ident" id="4768994">b</span>&nbsp;<span class="op" id="4768996">*</span><span class="ident" id="4768997">Int</span><span class="op" id="4769000">)</span>&nbsp;<span class="op" id="4769002">*</span><span class="ident" id="4769003">Int</span>&nbsp;<span class="op" id="4769007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769010">if</span>&nbsp;<span class="ident" id="4769013">a</span><span class="op" id="4769014">.</span><span class="ident" id="4769015">Sign</span><span class="op" id="4769019">(</span><span class="op" id="4769020">)</span>&nbsp;<span class="op" id="4769022">&lt;=</span>&nbsp;<span class="num" id="4769025">0</span>&nbsp;<span class="op" id="4769027">||</span>&nbsp;<span class="ident" id="4769030">b</span><span class="op" id="4769031">.</span><span class="ident" id="4769032">Sign</span><span class="op" id="4769036">(</span><span class="op" id="4769037">)</span>&nbsp;<span class="op" id="4769039">&lt;=</span>&nbsp;<span class="num" id="4769042">0</span>&nbsp;<span class="op" id="4769044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769048">z</span><span class="op" id="4769049">.</span><span class="ident" id="4769050">SetInt64</span><span class="op" id="4769058">(</span><span class="num" id="4769059">0</span><span class="op" id="4769060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769064">if</span>&nbsp;<span class="ident" id="4769067">x</span>&nbsp;<span class="op" id="4769069">!=</span>&nbsp;<span class="ident" id="4769072">nil</span>&nbsp;<span class="op" id="4769076">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769081">x</span><span class="op" id="4769082">.</span><span class="ident" id="4769083">SetInt64</span><span class="op" id="4769091">(</span><span class="num" id="4769092">0</span><span class="op" id="4769093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769101">if</span>&nbsp;<span class="ident" id="4769104">y</span>&nbsp;<span class="op" id="4769106">!=</span>&nbsp;<span class="ident" id="4769109">nil</span>&nbsp;<span class="op" id="4769113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769118">y</span><span class="op" id="4769119">.</span><span class="ident" id="4769120">SetInt64</span><span class="op" id="4769128">(</span><span class="num" id="4769129">0</span><span class="op" id="4769130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769134">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769138">return</span>&nbsp;<span class="ident" id="4769145">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769151">if</span>&nbsp;<span class="ident" id="4769154">x</span>&nbsp;<span class="op" id="4769156">==</span>&nbsp;<span class="ident" id="4769159">nil</span>&nbsp;<span class="op" id="4769163">&amp;&amp;</span>&nbsp;<span class="ident" id="4769166">y</span>&nbsp;<span class="op" id="4769168">==</span>&nbsp;<span class="ident" id="4769171">nil</span>&nbsp;<span class="op" id="4769175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769179">return</span>&nbsp;<span class="ident" id="4769186">z</span><span class="op" id="4769187">.</span><span class="ident" id="4769188">binaryGCD</span><span class="op" id="4769197">(</span><span class="ident" id="4769198">a</span><span class="op" id="4769199">,</span>&nbsp;<span class="ident" id="4769201">b</span><span class="op" id="4769202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769205">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769209">A</span>&nbsp;<span class="op" id="4769211">:=</span>&nbsp;<span class="builtinfunc" id="4769214">new</span><span class="op" id="4769217">(</span><span class="ident" id="4769218">Int</span><span class="op" id="4769221">)</span><span class="op" id="4769222">.</span><span class="ident" id="4769223">Set</span><span class="op" id="4769226">(</span><span class="ident" id="4769227">a</span><span class="op" id="4769228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769231">B</span>&nbsp;<span class="op" id="4769233">:=</span>&nbsp;<span class="builtinfunc" id="4769236">new</span><span class="op" id="4769239">(</span><span class="ident" id="4769240">Int</span><span class="op" id="4769243">)</span><span class="op" id="4769244">.</span><span class="ident" id="4769245">Set</span><span class="op" id="4769248">(</span><span class="ident" id="4769249">b</span><span class="op" id="4769250">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769254">X</span>&nbsp;<span class="op" id="4769256">:=</span>&nbsp;<span class="builtinfunc" id="4769259">new</span><span class="op" id="4769262">(</span><span class="ident" id="4769263">Int</span><span class="op" id="4769266">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769269">Y</span>&nbsp;<span class="op" id="4769271">:=</span>&nbsp;<span class="builtinfunc" id="4769274">new</span><span class="op" id="4769277">(</span><span class="ident" id="4769278">Int</span><span class="op" id="4769281">)</span><span class="op" id="4769282">.</span><span class="ident" id="4769283">SetInt64</span><span class="op" id="4769291">(</span><span class="num" id="4769292">1</span><span class="op" id="4769293">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769297">lastX</span>&nbsp;<span class="op" id="4769303">:=</span>&nbsp;<span class="builtinfunc" id="4769306">new</span><span class="op" id="4769309">(</span><span class="ident" id="4769310">Int</span><span class="op" id="4769313">)</span><span class="op" id="4769314">.</span><span class="ident" id="4769315">SetInt64</span><span class="op" id="4769323">(</span><span class="num" id="4769324">1</span><span class="op" id="4769325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769328">lastY</span>&nbsp;<span class="op" id="4769334">:=</span>&nbsp;<span class="builtinfunc" id="4769337">new</span><span class="op" id="4769340">(</span><span class="ident" id="4769341">Int</span><span class="op" id="4769344">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769348">q</span>&nbsp;<span class="op" id="4769350">:=</span>&nbsp;<span class="builtinfunc" id="4769353">new</span><span class="op" id="4769356">(</span><span class="ident" id="4769357">Int</span><span class="op" id="4769360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769363">temp</span>&nbsp;<span class="op" id="4769368">:=</span>&nbsp;<span class="builtinfunc" id="4769371">new</span><span class="op" id="4769374">(</span><span class="ident" id="4769375">Int</span><span class="op" id="4769378">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769382">for</span>&nbsp;<span class="builtinfunc" id="4769386">len</span><span class="op" id="4769389">(</span><span class="ident" id="4769390">B</span><span class="op" id="4769391">.</span><span class="ident" id="4769392">abs</span><span class="op" id="4769395">)</span>&nbsp;<span class="op" id="4769397">&gt;</span>&nbsp;<span class="num" id="4769399">0</span>&nbsp;<span class="op" id="4769401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769405">r</span>&nbsp;<span class="op" id="4769407">:=</span>&nbsp;<span class="builtinfunc" id="4769410">new</span><span class="op" id="4769413">(</span><span class="ident" id="4769414">Int</span><span class="op" id="4769417">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769421">q</span><span class="op" id="4769422">,</span>&nbsp;<span class="ident" id="4769424">r</span>&nbsp;<span class="op" id="4769426">=</span>&nbsp;<span class="ident" id="4769428">q</span><span class="op" id="4769429">.</span><span class="ident" id="4769430">QuoRem</span><span class="op" id="4769436">(</span><span class="ident" id="4769437">A</span><span class="op" id="4769438">,</span>&nbsp;<span class="ident" id="4769440">B</span><span class="op" id="4769441">,</span>&nbsp;<span class="ident" id="4769443">r</span><span class="op" id="4769444">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769449">A</span><span class="op" id="4769450">,</span>&nbsp;<span class="ident" id="4769452">B</span>&nbsp;<span class="op" id="4769454">=</span>&nbsp;<span class="ident" id="4769456">B</span><span class="op" id="4769457">,</span>&nbsp;<span class="ident" id="4769459">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769464">temp</span><span class="op" id="4769468">.</span><span class="ident" id="4769469">Set</span><span class="op" id="4769472">(</span><span class="ident" id="4769473">X</span><span class="op" id="4769474">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769478">X</span><span class="op" id="4769479">.</span><span class="ident" id="4769480">Mul</span><span class="op" id="4769483">(</span><span class="ident" id="4769484">X</span><span class="op" id="4769485">,</span>&nbsp;<span class="ident" id="4769487">q</span><span class="op" id="4769488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769492">X</span><span class="op" id="4769493">.</span><span class="ident" id="4769494">neg</span>&nbsp;<span class="op" id="4769498">=</span>&nbsp;<span class="op" id="4769500">!</span><span class="ident" id="4769501">X</span><span class="op" id="4769502">.</span><span class="ident" id="4769503">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769509">X</span><span class="op" id="4769510">.</span><span class="ident" id="4769511">Add</span><span class="op" id="4769514">(</span><span class="ident" id="4769515">X</span><span class="op" id="4769516">,</span>&nbsp;<span class="ident" id="4769518">lastX</span><span class="op" id="4769523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769527">lastX</span><span class="op" id="4769532">.</span><span class="ident" id="4769533">Set</span><span class="op" id="4769536">(</span><span class="ident" id="4769537">temp</span><span class="op" id="4769541">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769546">temp</span><span class="op" id="4769550">.</span><span class="ident" id="4769551">Set</span><span class="op" id="4769554">(</span><span class="ident" id="4769555">Y</span><span class="op" id="4769556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769560">Y</span><span class="op" id="4769561">.</span><span class="ident" id="4769562">Mul</span><span class="op" id="4769565">(</span><span class="ident" id="4769566">Y</span><span class="op" id="4769567">,</span>&nbsp;<span class="ident" id="4769569">q</span><span class="op" id="4769570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769574">Y</span><span class="op" id="4769575">.</span><span class="ident" id="4769576">neg</span>&nbsp;<span class="op" id="4769580">=</span>&nbsp;<span class="op" id="4769582">!</span><span class="ident" id="4769583">Y</span><span class="op" id="4769584">.</span><span class="ident" id="4769585">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769591">Y</span><span class="op" id="4769592">.</span><span class="ident" id="4769593">Add</span><span class="op" id="4769596">(</span><span class="ident" id="4769597">Y</span><span class="op" id="4769598">,</span>&nbsp;<span class="ident" id="4769600">lastY</span><span class="op" id="4769605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769609">lastY</span><span class="op" id="4769614">.</span><span class="ident" id="4769615">Set</span><span class="op" id="4769618">(</span><span class="ident" id="4769619">temp</span><span class="op" id="4769623">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769630">if</span>&nbsp;<span class="ident" id="4769633">x</span>&nbsp;<span class="op" id="4769635">!=</span>&nbsp;<span class="ident" id="4769638">nil</span>&nbsp;<span class="op" id="4769642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769646">*</span><span class="ident" id="4769647">x</span>&nbsp;<span class="op" id="4769649">=</span>&nbsp;<span class="op" id="4769651">*</span><span class="ident" id="4769652">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769659">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769663">if</span>&nbsp;<span class="ident" id="4769666">y</span>&nbsp;<span class="op" id="4769668">!=</span>&nbsp;<span class="ident" id="4769671">nil</span>&nbsp;<span class="op" id="4769675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769679">*</span><span class="ident" id="4769680">y</span>&nbsp;<span class="op" id="4769682">=</span>&nbsp;<span class="op" id="4769684">*</span><span class="ident" id="4769685">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4769696">*</span><span class="ident" id="4769697">z</span>&nbsp;<span class="op" id="4769699">=</span>&nbsp;<span class="op" id="4769701">*</span><span class="ident" id="4769702">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4769705">return</span>&nbsp;<span class="ident" id="4769712">z</span><br>
<span class="lineno"></span><span class="op" id="4769714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4769717">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="4769796">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="4769822">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="4769905">func</span>&nbsp;<span class="op" id="4769910">(</span><span class="ident" id="4769911">z</span>&nbsp;<span class="op" id="4769913">*</span><span class="ident" id="4769914">Int</span><span class="op" id="4769917">)</span>&nbsp;<span class="ident" id="4769919">binaryGCD</span><span class="op" id="4769928">(</span><span class="ident" id="4769929">a</span><span class="op" id="4769930">,</span>&nbsp;<span class="ident" id="4769932">b</span>&nbsp;<span class="op" id="4769934">*</span><span class="ident" id="4769935">Int</span><span class="op" id="4769938">)</span>&nbsp;<span class="op" id="4769940">*</span><span class="ident" id="4769941">Int</span>&nbsp;<span class="op" id="4769945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769948">u</span>&nbsp;<span class="op" id="4769950">:=</span>&nbsp;<span class="ident" id="4769953">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4769956">v</span>&nbsp;<span class="op" id="4769958">:=</span>&nbsp;<span class="builtinfunc" id="4769961">new</span><span class="op" id="4769964">(</span><span class="ident" id="4769965">Int</span><span class="op" id="4769968">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4769972">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770053">switch</span>&nbsp;<span class="op" id="4770060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770063">case</span>&nbsp;<span class="builtinfunc" id="4770068">len</span><span class="op" id="4770071">(</span><span class="ident" id="4770072">a</span><span class="op" id="4770073">.</span><span class="ident" id="4770074">abs</span><span class="op" id="4770077">)</span>&nbsp;<span class="op" id="4770079">&gt;</span>&nbsp;<span class="builtinfunc" id="4770081">len</span><span class="op" id="4770084">(</span><span class="ident" id="4770085">b</span><span class="op" id="4770086">.</span><span class="ident" id="4770087">abs</span><span class="op" id="4770090">)</span><span class="op" id="4770091">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770095">u</span><span class="op" id="4770096">.</span><span class="ident" id="4770097">Set</span><span class="op" id="4770100">(</span><span class="ident" id="4770101">b</span><span class="op" id="4770102">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770106">v</span><span class="op" id="4770107">.</span><span class="ident" id="4770108">Rem</span><span class="op" id="4770111">(</span><span class="ident" id="4770112">a</span><span class="op" id="4770113">,</span>&nbsp;<span class="ident" id="4770115">b</span><span class="op" id="4770116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770119">case</span>&nbsp;<span class="builtinfunc" id="4770124">len</span><span class="op" id="4770127">(</span><span class="ident" id="4770128">a</span><span class="op" id="4770129">.</span><span class="ident" id="4770130">abs</span><span class="op" id="4770133">)</span>&nbsp;<span class="op" id="4770135">&lt;</span>&nbsp;<span class="builtinfunc" id="4770137">len</span><span class="op" id="4770140">(</span><span class="ident" id="4770141">b</span><span class="op" id="4770142">.</span><span class="ident" id="4770143">abs</span><span class="op" id="4770146">)</span><span class="op" id="4770147">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770151">u</span><span class="op" id="4770152">.</span><span class="ident" id="4770153">Set</span><span class="op" id="4770156">(</span><span class="ident" id="4770157">a</span><span class="op" id="4770158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770162">v</span><span class="op" id="4770163">.</span><span class="ident" id="4770164">Rem</span><span class="op" id="4770167">(</span><span class="ident" id="4770168">b</span><span class="op" id="4770169">,</span>&nbsp;<span class="ident" id="4770171">a</span><span class="op" id="4770172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770175">default</span><span class="op" id="4770182">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770186">u</span><span class="op" id="4770187">.</span><span class="ident" id="4770188">Set</span><span class="op" id="4770191">(</span><span class="ident" id="4770192">a</span><span class="op" id="4770193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770197">v</span><span class="op" id="4770198">.</span><span class="ident" id="4770199">Set</span><span class="op" id="4770202">(</span><span class="ident" id="4770203">b</span><span class="op" id="4770204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4770211">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770232">if</span>&nbsp;<span class="builtinfunc" id="4770235">len</span><span class="op" id="4770238">(</span><span class="ident" id="4770239">v</span><span class="op" id="4770240">.</span><span class="ident" id="4770241">abs</span><span class="op" id="4770244">)</span>&nbsp;<span class="op" id="4770246">==</span>&nbsp;<span class="num" id="4770249">0</span>&nbsp;<span class="op" id="4770251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770255">return</span>&nbsp;<span class="ident" id="4770262">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4770268">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4770288">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770347">k</span>&nbsp;<span class="op" id="4770349">:=</span>&nbsp;<span class="ident" id="4770352">u</span><span class="op" id="4770353">.</span><span class="ident" id="4770354">abs</span><span class="op" id="4770357">.</span><span class="ident" id="4770358">trailingZeroBits</span><span class="op" id="4770374">(</span><span class="op" id="4770375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770378">if</span>&nbsp;<span class="ident" id="4770381">vk</span>&nbsp;<span class="op" id="4770384">:=</span>&nbsp;<span class="ident" id="4770387">v</span><span class="op" id="4770388">.</span><span class="ident" id="4770389">abs</span><span class="op" id="4770392">.</span><span class="ident" id="4770393">trailingZeroBits</span><span class="op" id="4770409">(</span><span class="op" id="4770410">)</span><span class="op" id="4770411">;</span>&nbsp;<span class="ident" id="4770413">vk</span>&nbsp;<span class="op" id="4770416">&lt;</span>&nbsp;<span class="ident" id="4770418">k</span>&nbsp;<span class="op" id="4770420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770424">k</span>&nbsp;<span class="op" id="4770426">=</span>&nbsp;<span class="ident" id="4770428">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770432">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770435">u</span><span class="op" id="4770436">.</span><span class="ident" id="4770437">Rsh</span><span class="op" id="4770440">(</span><span class="ident" id="4770441">u</span><span class="op" id="4770442">,</span>&nbsp;<span class="ident" id="4770444">k</span><span class="op" id="4770445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770448">v</span><span class="op" id="4770449">.</span><span class="ident" id="4770450">Rsh</span><span class="op" id="4770453">(</span><span class="ident" id="4770454">v</span><span class="op" id="4770455">,</span>&nbsp;<span class="ident" id="4770457">k</span><span class="op" id="4770458">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4770462">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770499">t</span>&nbsp;<span class="op" id="4770501">:=</span>&nbsp;<span class="builtinfunc" id="4770504">new</span><span class="op" id="4770507">(</span><span class="ident" id="4770508">Int</span><span class="op" id="4770511">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770514">if</span>&nbsp;<span class="ident" id="4770517">u</span><span class="op" id="4770518">.</span><span class="ident" id="4770519">abs</span><span class="op" id="4770522">[</span><span class="num" id="4770523">0</span><span class="op" id="4770524">]</span><span class="op" id="4770525">&amp;</span><span class="num" id="4770526">1</span>&nbsp;<span class="op" id="4770528">!=</span>&nbsp;<span class="num" id="4770531">0</span>&nbsp;<span class="op" id="4770533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4770537">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770551">t</span><span class="op" id="4770552">.</span><span class="ident" id="4770553">Neg</span><span class="op" id="4770556">(</span><span class="ident" id="4770557">v</span><span class="op" id="4770558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770561">}</span>&nbsp;<span class="keyword" id="4770563">else</span>&nbsp;<span class="op" id="4770568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770572">t</span><span class="op" id="4770573">.</span><span class="ident" id="4770574">Set</span><span class="op" id="4770577">(</span><span class="ident" id="4770578">u</span><span class="op" id="4770579">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770586">for</span>&nbsp;<span class="builtinfunc" id="4770590">len</span><span class="op" id="4770593">(</span><span class="ident" id="4770594">t</span><span class="op" id="4770595">.</span><span class="ident" id="4770596">abs</span><span class="op" id="4770599">)</span>&nbsp;<span class="op" id="4770601">&gt;</span>&nbsp;<span class="num" id="4770603">0</span>&nbsp;<span class="op" id="4770605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4770609">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770623">t</span><span class="op" id="4770624">.</span><span class="ident" id="4770625">Rsh</span><span class="op" id="4770628">(</span><span class="ident" id="4770629">t</span><span class="op" id="4770630">,</span>&nbsp;<span class="ident" id="4770632">t</span><span class="op" id="4770633">.</span><span class="ident" id="4770634">abs</span><span class="op" id="4770637">.</span><span class="ident" id="4770638">trailingZeroBits</span><span class="op" id="4770654">(</span><span class="op" id="4770655">)</span><span class="op" id="4770656">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770660">if</span>&nbsp;<span class="ident" id="4770663">t</span><span class="op" id="4770664">.</span><span class="ident" id="4770665">neg</span>&nbsp;<span class="op" id="4770669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770674">v</span><span class="op" id="4770675">,</span>&nbsp;<span class="ident" id="4770677">t</span>&nbsp;<span class="op" id="4770679">=</span>&nbsp;<span class="ident" id="4770681">t</span><span class="op" id="4770682">,</span>&nbsp;<span class="ident" id="4770684">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770689">v</span><span class="op" id="4770690">.</span><span class="ident" id="4770691">neg</span>&nbsp;<span class="op" id="4770695">=</span>&nbsp;<span class="builtinfunc" id="4770697">len</span><span class="op" id="4770700">(</span><span class="ident" id="4770701">v</span><span class="op" id="4770702">.</span><span class="ident" id="4770703">abs</span><span class="op" id="4770706">)</span>&nbsp;<span class="op" id="4770708">&gt;</span>&nbsp;<span class="num" id="4770710">0</span>&nbsp;<span class="op" id="4770712">&amp;&amp;</span>&nbsp;<span class="op" id="4770715">!</span><span class="ident" id="4770716">v</span><span class="op" id="4770717">.</span><span class="ident" id="4770718">neg</span>&nbsp;<span class="comment" id="4770722">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770741">}</span>&nbsp;<span class="keyword" id="4770743">else</span>&nbsp;<span class="op" id="4770748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770753">u</span><span class="op" id="4770754">,</span>&nbsp;<span class="ident" id="4770756">t</span>&nbsp;<span class="op" id="4770758">=</span>&nbsp;<span class="ident" id="4770760">t</span><span class="op" id="4770761">,</span>&nbsp;<span class="ident" id="4770763">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4770771">t</span><span class="op" id="4770772">.</span><span class="ident" id="4770773">Sub</span><span class="op" id="4770776">(</span><span class="ident" id="4770777">u</span><span class="op" id="4770778">,</span>&nbsp;<span class="ident" id="4770780">v</span><span class="op" id="4770781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4770784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4770788">return</span>&nbsp;<span class="ident" id="4770795">z</span><span class="op" id="4770796">.</span><span class="ident" id="4770797">Lsh</span><span class="op" id="4770800">(</span><span class="ident" id="4770801">u</span><span class="op" id="4770802">,</span>&nbsp;<span class="ident" id="4770804">k</span><span class="op" id="4770805">)</span><br>
<span class="lineno">735</span><span class="op" id="4770807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4770810">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="4770886">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="4770948">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="4770988">func</span>&nbsp;<span class="op" id="4770993">(</span><span class="ident" id="4770994">x</span>&nbsp;<span class="op" id="4770996">*</span><span class="ident" id="4770997">Int</span><span class="op" id="4771000">)</span>&nbsp;<span class="ident" id="4771002">ProbablyPrime</span><span class="op" id="4771015">(</span><span class="ident" id="4771016">n</span>&nbsp;<span class="builtintype" id="4771018">int</span><span class="op" id="4771021">)</span>&nbsp;<span class="builtintype" id="4771023">bool</span>&nbsp;<span class="op" id="4771028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771031">return</span>&nbsp;<span class="op" id="4771038">!</span><span class="ident" id="4771039">x</span><span class="op" id="4771040">.</span><span class="ident" id="4771041">neg</span>&nbsp;<span class="op" id="4771045">&amp;&amp;</span>&nbsp;<span class="ident" id="4771048">x</span><span class="op" id="4771049">.</span><span class="ident" id="4771050">abs</span><span class="op" id="4771053">.</span><span class="ident" id="4771054">probablyPrime</span><span class="op" id="4771067">(</span><span class="ident" id="4771068">n</span><span class="op" id="4771069">)</span><br>
<span class="lineno"></span><span class="op" id="4771071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4771074">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="4771140">func</span>&nbsp;<span class="op" id="4771145">(</span><span class="ident" id="4771146">z</span>&nbsp;<span class="op" id="4771148">*</span><span class="ident" id="4771149">Int</span><span class="op" id="4771152">)</span>&nbsp;<span class="ident" id="4771154">Rand</span><span class="op" id="4771158">(</span><span class="ident" id="4771159">rnd</span>&nbsp;<span class="op" id="4771163">*</span><span class="ident" id="4771164">rand</span><span class="op" id="4771168">.</span><span class="ident" id="4771169">Rand</span><span class="op" id="4771173">,</span>&nbsp;<span class="ident" id="4771175">n</span>&nbsp;<span class="op" id="4771177">*</span><span class="ident" id="4771178">Int</span><span class="op" id="4771181">)</span>&nbsp;<span class="op" id="4771183">*</span><span class="ident" id="4771184">Int</span>&nbsp;<span class="op" id="4771188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4771191">z</span><span class="op" id="4771192">.</span><span class="ident" id="4771193">neg</span>&nbsp;<span class="op" id="4771197">=</span>&nbsp;<span class="builtintype" id="4771199">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771206">if</span>&nbsp;<span class="ident" id="4771209">n</span><span class="op" id="4771210">.</span><span class="ident" id="4771211">neg</span>&nbsp;<span class="op" id="4771215">==</span>&nbsp;<span class="builtintype" id="4771218">true</span>&nbsp;<span class="op" id="4771223">||</span>&nbsp;<span class="builtinfunc" id="4771226">len</span><span class="op" id="4771229">(</span><span class="ident" id="4771230">n</span><span class="op" id="4771231">.</span><span class="ident" id="4771232">abs</span><span class="op" id="4771235">)</span>&nbsp;<span class="op" id="4771237">==</span>&nbsp;<span class="num" id="4771240">0</span>&nbsp;<span class="op" id="4771242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4771246">z</span><span class="op" id="4771247">.</span><span class="ident" id="4771248">abs</span>&nbsp;<span class="op" id="4771252">=</span>&nbsp;<span class="ident" id="4771254">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771260">return</span>&nbsp;<span class="ident" id="4771267">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4771270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4771273">z</span><span class="op" id="4771274">.</span><span class="ident" id="4771275">abs</span>&nbsp;<span class="op" id="4771279">=</span>&nbsp;<span class="ident" id="4771281">z</span><span class="op" id="4771282">.</span><span class="ident" id="4771283">abs</span><span class="op" id="4771286">.</span><span class="ident" id="4771287">random</span><span class="op" id="4771293">(</span><span class="ident" id="4771294">rnd</span><span class="op" id="4771297">,</span>&nbsp;<span class="ident" id="4771299">n</span><span class="op" id="4771300">.</span><span class="ident" id="4771301">abs</span><span class="op" id="4771304">,</span>&nbsp;<span class="ident" id="4771306">n</span><span class="op" id="4771307">.</span><span class="ident" id="4771308">abs</span><span class="op" id="4771311">.</span><span class="ident" id="4771312">bitLen</span><span class="op" id="4771318">(</span><span class="op" id="4771319">)</span><span class="op" id="4771320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771323">return</span>&nbsp;<span class="ident" id="4771330">z</span><br>
<span class="lineno"></span><span class="op" id="4771332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="4771335">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;/n</span><br>
<span class="lineno"></span><span class="comment" id="4771412">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="4771492">func</span>&nbsp;<span class="op" id="4771497">(</span><span class="ident" id="4771498">z</span>&nbsp;<span class="op" id="4771500">*</span><span class="ident" id="4771501">Int</span><span class="op" id="4771504">)</span>&nbsp;<span class="ident" id="4771506">ModInverse</span><span class="op" id="4771516">(</span><span class="ident" id="4771517">g</span><span class="op" id="4771518">,</span>&nbsp;<span class="ident" id="4771520">n</span>&nbsp;<span class="op" id="4771522">*</span><span class="ident" id="4771523">Int</span><span class="op" id="4771526">)</span>&nbsp;<span class="op" id="4771528">*</span><span class="ident" id="4771529">Int</span>&nbsp;<span class="op" id="4771533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771536">var</span>&nbsp;<span class="ident" id="4771540">d</span>&nbsp;<span class="ident" id="4771542">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4771547">d</span><span class="op" id="4771548">.</span><span class="ident" id="4771549">GCD</span><span class="op" id="4771552">(</span><span class="ident" id="4771553">z</span><span class="op" id="4771554">,</span>&nbsp;<span class="ident" id="4771556">nil</span><span class="op" id="4771559">,</span>&nbsp;<span class="ident" id="4771561">g</span><span class="op" id="4771562">,</span>&nbsp;<span class="ident" id="4771564">n</span><span class="op" id="4771565">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4771568">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4771627">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4771688">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771737">if</span>&nbsp;<span class="ident" id="4771740">z</span><span class="op" id="4771741">.</span><span class="ident" id="4771742">neg</span>&nbsp;<span class="op" id="4771746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4771750">z</span><span class="op" id="4771751">.</span><span class="ident" id="4771752">Add</span><span class="op" id="4771755">(</span><span class="ident" id="4771756">z</span><span class="op" id="4771757">,</span>&nbsp;<span class="ident" id="4771759">n</span><span class="op" id="4771760">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4771763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771766">return</span>&nbsp;<span class="ident" id="4771773">z</span><br>
<span class="lineno"></span><span class="op" id="4771775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4771778">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="4771816">func</span>&nbsp;<span class="op" id="4771821">(</span><span class="ident" id="4771822">z</span>&nbsp;<span class="op" id="4771824">*</span><span class="ident" id="4771825">Int</span><span class="op" id="4771828">)</span>&nbsp;<span class="ident" id="4771830">Lsh</span><span class="op" id="4771833">(</span><span class="ident" id="4771834">x</span>&nbsp;<span class="op" id="4771836">*</span><span class="ident" id="4771837">Int</span><span class="op" id="4771840">,</span>&nbsp;<span class="ident" id="4771842">n</span>&nbsp;<span class="builtintype" id="4771844">uint</span><span class="op" id="4771848">)</span>&nbsp;<span class="op" id="4771850">*</span><span class="ident" id="4771851">Int</span>&nbsp;<span class="op" id="4771855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4771858">z</span><span class="op" id="4771859">.</span><span class="ident" id="4771860">abs</span>&nbsp;<span class="op" id="4771864">=</span>&nbsp;<span class="ident" id="4771866">z</span><span class="op" id="4771867">.</span><span class="ident" id="4771868">abs</span><span class="op" id="4771871">.</span><span class="ident" id="4771872">shl</span><span class="op" id="4771875">(</span><span class="ident" id="4771876">x</span><span class="op" id="4771877">.</span><span class="ident" id="4771878">abs</span><span class="op" id="4771881">,</span>&nbsp;<span class="ident" id="4771883">n</span><span class="op" id="4771884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4771887">z</span><span class="op" id="4771888">.</span><span class="ident" id="4771889">neg</span>&nbsp;<span class="op" id="4771893">=</span>&nbsp;<span class="ident" id="4771895">x</span><span class="op" id="4771896">.</span><span class="ident" id="4771897">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771902">return</span>&nbsp;<span class="ident" id="4771909">z</span><br>
<span class="lineno"></span><span class="op" id="4771911">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="4771914">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4771952">func</span>&nbsp;<span class="op" id="4771957">(</span><span class="ident" id="4771958">z</span>&nbsp;<span class="op" id="4771960">*</span><span class="ident" id="4771961">Int</span><span class="op" id="4771964">)</span>&nbsp;<span class="ident" id="4771966">Rsh</span><span class="op" id="4771969">(</span><span class="ident" id="4771970">x</span>&nbsp;<span class="op" id="4771972">*</span><span class="ident" id="4771973">Int</span><span class="op" id="4771976">,</span>&nbsp;<span class="ident" id="4771978">n</span>&nbsp;<span class="builtintype" id="4771980">uint</span><span class="op" id="4771984">)</span>&nbsp;<span class="op" id="4771986">*</span><span class="ident" id="4771987">Int</span>&nbsp;<span class="op" id="4771991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4771994">if</span>&nbsp;<span class="ident" id="4771997">x</span><span class="op" id="4771998">.</span><span class="ident" id="4771999">neg</span>&nbsp;<span class="op" id="4772003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4772007">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4772077">t</span>&nbsp;<span class="op" id="4772079">:=</span>&nbsp;<span class="ident" id="4772082">z</span><span class="op" id="4772083">.</span><span class="ident" id="4772084">abs</span><span class="op" id="4772087">.</span><span class="ident" id="4772088">sub</span><span class="op" id="4772091">(</span><span class="ident" id="4772092">x</span><span class="op" id="4772093">.</span><span class="ident" id="4772094">abs</span><span class="op" id="4772097">,</span>&nbsp;<span class="ident" id="4772099">natOne</span><span class="op" id="4772105">)</span>&nbsp;<span class="comment" id="4772107">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4772141">t</span>&nbsp;<span class="op" id="4772143">=</span>&nbsp;<span class="ident" id="4772145">t</span><span class="op" id="4772146">.</span><span class="ident" id="4772147">shr</span><span class="op" id="4772150">(</span><span class="ident" id="4772151">t</span><span class="op" id="4772152">,</span>&nbsp;<span class="ident" id="4772154">n</span><span class="op" id="4772155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4772159">z</span><span class="op" id="4772160">.</span><span class="ident" id="4772161">abs</span>&nbsp;<span class="op" id="4772165">=</span>&nbsp;<span class="ident" id="4772167">t</span><span class="op" id="4772168">.</span><span class="ident" id="4772169">add</span><span class="op" id="4772172">(</span><span class="ident" id="4772173">t</span><span class="op" id="4772174">,</span>&nbsp;<span class="ident" id="4772176">natOne</span><span class="op" id="4772182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4772186">z</span><span class="op" id="4772187">.</span><span class="ident" id="4772188">neg</span>&nbsp;<span class="op" id="4772192">=</span>&nbsp;<span class="builtintype" id="4772194">true</span>&nbsp;<span class="comment" id="4772199">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772238">return</span>&nbsp;<span class="ident" id="4772245">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4772248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4772252">z</span><span class="op" id="4772253">.</span><span class="ident" id="4772254">abs</span>&nbsp;<span class="op" id="4772258">=</span>&nbsp;<span class="ident" id="4772260">z</span><span class="op" id="4772261">.</span><span class="ident" id="4772262">abs</span><span class="op" id="4772265">.</span><span class="ident" id="4772266">shr</span><span class="op" id="4772269">(</span><span class="ident" id="4772270">x</span><span class="op" id="4772271">.</span><span class="ident" id="4772272">abs</span><span class="op" id="4772275">,</span>&nbsp;<span class="ident" id="4772277">n</span><span class="op" id="4772278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4772281">z</span><span class="op" id="4772282">.</span><span class="ident" id="4772283">neg</span>&nbsp;<span class="op" id="4772287">=</span>&nbsp;<span class="builtintype" id="4772289">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772296">return</span>&nbsp;<span class="ident" id="4772303">z</span><br>
<span class="lineno">790</span><span class="op" id="4772305">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4772308">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="4772367">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4772418">func</span>&nbsp;<span class="op" id="4772423">(</span><span class="ident" id="4772424">x</span>&nbsp;<span class="op" id="4772426">*</span><span class="ident" id="4772427">Int</span><span class="op" id="4772430">)</span>&nbsp;<span class="ident" id="4772432">Bit</span><span class="op" id="4772435">(</span><span class="ident" id="4772436">i</span>&nbsp;<span class="builtintype" id="4772438">int</span><span class="op" id="4772441">)</span>&nbsp;<span class="builtintype" id="4772443">uint</span>&nbsp;<span class="op" id="4772448">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772451">if</span>&nbsp;<span class="ident" id="4772454">i</span>&nbsp;<span class="op" id="4772456">==</span>&nbsp;<span class="num" id="4772459">0</span>&nbsp;<span class="op" id="4772461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4772465">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772519">if</span>&nbsp;<span class="builtinfunc" id="4772522">len</span><span class="op" id="4772525">(</span><span class="ident" id="4772526">x</span><span class="op" id="4772527">.</span><span class="ident" id="4772528">abs</span><span class="op" id="4772531">)</span>&nbsp;<span class="op" id="4772533">&gt;</span>&nbsp;<span class="num" id="4772535">0</span>&nbsp;<span class="op" id="4772537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772542">return</span>&nbsp;<span class="builtintype" id="4772549">uint</span><span class="op" id="4772553">(</span><span class="ident" id="4772554">x</span><span class="op" id="4772555">.</span><span class="ident" id="4772556">abs</span><span class="op" id="4772559">[</span><span class="num" id="4772560">0</span><span class="op" id="4772561">]</span>&nbsp;<span class="op" id="4772563">&amp;</span>&nbsp;<span class="num" id="4772565">1</span><span class="op" id="4772566">)</span>&nbsp;<span class="comment" id="4772568">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4772594">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772598">return</span>&nbsp;<span class="num" id="4772605">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4772608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772611">if</span>&nbsp;<span class="ident" id="4772614">i</span>&nbsp;<span class="op" id="4772616">&lt;</span>&nbsp;<span class="num" id="4772618">0</span>&nbsp;<span class="op" id="4772620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4772624">panic</span><span class="op" id="4772629">(</span><span class="string" id="4772630">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="4772650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4772653">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772656">if</span>&nbsp;<span class="ident" id="4772659">x</span><span class="op" id="4772660">.</span><span class="ident" id="4772661">neg</span>&nbsp;<span class="op" id="4772665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4772669">t</span>&nbsp;<span class="op" id="4772671">:=</span>&nbsp;<span class="ident" id="4772674">nat</span><span class="op" id="4772677">(</span><span class="ident" id="4772678">nil</span><span class="op" id="4772681">)</span><span class="op" id="4772682">.</span><span class="ident" id="4772683">sub</span><span class="op" id="4772686">(</span><span class="ident" id="4772687">x</span><span class="op" id="4772688">.</span><span class="ident" id="4772689">abs</span><span class="op" id="4772692">,</span>&nbsp;<span class="ident" id="4772694">natOne</span><span class="op" id="4772700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772704">return</span>&nbsp;<span class="ident" id="4772711">t</span><span class="op" id="4772712">.</span><span class="ident" id="4772713">bit</span><span class="op" id="4772716">(</span><span class="builtintype" id="4772717">uint</span><span class="op" id="4772721">(</span><span class="ident" id="4772722">i</span><span class="op" id="4772723">)</span><span class="op" id="4772724">)</span>&nbsp;<span class="op" id="4772726">^</span>&nbsp;<span class="num" id="4772728">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4772731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4772735">return</span>&nbsp;<span class="ident" id="4772742">x</span><span class="op" id="4772743">.</span><span class="ident" id="4772744">abs</span><span class="op" id="4772747">.</span><span class="ident" id="4772748">bit</span><span class="op" id="4772751">(</span><span class="builtintype" id="4772752">uint</span><span class="op" id="4772756">(</span><span class="ident" id="4772757">i</span><span class="op" id="4772758">)</span><span class="op" id="4772759">)</span><br>
<span class="lineno"></span><span class="op" id="4772761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4772764">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="4772824">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="4772876">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="4772940">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="4772962">func</span>&nbsp;<span class="op" id="4772967">(</span><span class="ident" id="4772968">z</span>&nbsp;<span class="op" id="4772970">*</span><span class="ident" id="4772971">Int</span><span class="op" id="4772974">)</span>&nbsp;<span class="ident" id="4772976">SetBit</span><span class="op" id="4772982">(</span><span class="ident" id="4772983">x</span>&nbsp;<span class="op" id="4772985">*</span><span class="ident" id="4772986">Int</span><span class="op" id="4772989">,</span>&nbsp;<span class="ident" id="4772991">i</span>&nbsp;<span class="builtintype" id="4772993">int</span><span class="op" id="4772996">,</span>&nbsp;<span class="ident" id="4772998">b</span>&nbsp;<span class="builtintype" id="4773000">uint</span><span class="op" id="4773004">)</span>&nbsp;<span class="op" id="4773006">*</span><span class="ident" id="4773007">Int</span>&nbsp;<span class="op" id="4773011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773014">if</span>&nbsp;<span class="ident" id="4773017">i</span>&nbsp;<span class="op" id="4773019">&lt;</span>&nbsp;<span class="num" id="4773021">0</span>&nbsp;<span class="op" id="4773023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4773027">panic</span><span class="op" id="4773032">(</span><span class="string" id="4773033">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="4773053">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4773056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773059">if</span>&nbsp;<span class="ident" id="4773062">x</span><span class="op" id="4773063">.</span><span class="ident" id="4773064">neg</span>&nbsp;<span class="op" id="4773068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773072">t</span>&nbsp;<span class="op" id="4773074">:=</span>&nbsp;<span class="ident" id="4773077">z</span><span class="op" id="4773078">.</span><span class="ident" id="4773079">abs</span><span class="op" id="4773082">.</span><span class="ident" id="4773083">sub</span><span class="op" id="4773086">(</span><span class="ident" id="4773087">x</span><span class="op" id="4773088">.</span><span class="ident" id="4773089">abs</span><span class="op" id="4773092">,</span>&nbsp;<span class="ident" id="4773094">natOne</span><span class="op" id="4773100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773104">t</span>&nbsp;<span class="op" id="4773106">=</span>&nbsp;<span class="ident" id="4773108">t</span><span class="op" id="4773109">.</span><span class="ident" id="4773110">setBit</span><span class="op" id="4773116">(</span><span class="ident" id="4773117">t</span><span class="op" id="4773118">,</span>&nbsp;<span class="builtintype" id="4773120">uint</span><span class="op" id="4773124">(</span><span class="ident" id="4773125">i</span><span class="op" id="4773126">)</span><span class="op" id="4773127">,</span>&nbsp;<span class="ident" id="4773129">b</span><span class="op" id="4773130">^</span><span class="num" id="4773131">1</span><span class="op" id="4773132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773136">z</span><span class="op" id="4773137">.</span><span class="ident" id="4773138">abs</span>&nbsp;<span class="op" id="4773142">=</span>&nbsp;<span class="ident" id="4773144">t</span><span class="op" id="4773145">.</span><span class="ident" id="4773146">add</span><span class="op" id="4773149">(</span><span class="ident" id="4773150">t</span><span class="op" id="4773151">,</span>&nbsp;<span class="ident" id="4773153">natOne</span><span class="op" id="4773159">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773163">z</span><span class="op" id="4773164">.</span><span class="ident" id="4773165">neg</span>&nbsp;<span class="op" id="4773169">=</span>&nbsp;<span class="builtinfunc" id="4773171">len</span><span class="op" id="4773174">(</span><span class="ident" id="4773175">z</span><span class="op" id="4773176">.</span><span class="ident" id="4773177">abs</span><span class="op" id="4773180">)</span>&nbsp;<span class="op" id="4773182">&gt;</span>&nbsp;<span class="num" id="4773184">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773188">return</span>&nbsp;<span class="ident" id="4773195">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4773198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773201">z</span><span class="op" id="4773202">.</span><span class="ident" id="4773203">abs</span>&nbsp;<span class="op" id="4773207">=</span>&nbsp;<span class="ident" id="4773209">z</span><span class="op" id="4773210">.</span><span class="ident" id="4773211">abs</span><span class="op" id="4773214">.</span><span class="ident" id="4773215">setBit</span><span class="op" id="4773221">(</span><span class="ident" id="4773222">x</span><span class="op" id="4773223">.</span><span class="ident" id="4773224">abs</span><span class="op" id="4773227">,</span>&nbsp;<span class="builtintype" id="4773229">uint</span><span class="op" id="4773233">(</span><span class="ident" id="4773234">i</span><span class="op" id="4773235">)</span><span class="op" id="4773236">,</span>&nbsp;<span class="ident" id="4773238">b</span><span class="op" id="4773239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773242">z</span><span class="op" id="4773243">.</span><span class="ident" id="4773244">neg</span>&nbsp;<span class="op" id="4773248">=</span>&nbsp;<span class="builtintype" id="4773250">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773257">return</span>&nbsp;<span class="ident" id="4773264">z</span><br>
<span class="lineno"></span><span class="op" id="4773266">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4773269">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4773306">func</span>&nbsp;<span class="op" id="4773311">(</span><span class="ident" id="4773312">z</span>&nbsp;<span class="op" id="4773314">*</span><span class="ident" id="4773315">Int</span><span class="op" id="4773318">)</span>&nbsp;<span class="ident" id="4773320">And</span><span class="op" id="4773323">(</span><span class="ident" id="4773324">x</span><span class="op" id="4773325">,</span>&nbsp;<span class="ident" id="4773327">y</span>&nbsp;<span class="op" id="4773329">*</span><span class="ident" id="4773330">Int</span><span class="op" id="4773333">)</span>&nbsp;<span class="op" id="4773335">*</span><span class="ident" id="4773336">Int</span>&nbsp;<span class="op" id="4773340">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773343">if</span>&nbsp;<span class="ident" id="4773346">x</span><span class="op" id="4773347">.</span><span class="ident" id="4773348">neg</span>&nbsp;<span class="op" id="4773352">==</span>&nbsp;<span class="ident" id="4773355">y</span><span class="op" id="4773356">.</span><span class="ident" id="4773357">neg</span>&nbsp;<span class="op" id="4773361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773365">if</span>&nbsp;<span class="ident" id="4773368">x</span><span class="op" id="4773369">.</span><span class="ident" id="4773370">neg</span>&nbsp;<span class="op" id="4773374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4773379">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773462">x1</span>&nbsp;<span class="op" id="4773465">:=</span>&nbsp;<span class="ident" id="4773468">nat</span><span class="op" id="4773471">(</span><span class="ident" id="4773472">nil</span><span class="op" id="4773475">)</span><span class="op" id="4773476">.</span><span class="ident" id="4773477">sub</span><span class="op" id="4773480">(</span><span class="ident" id="4773481">x</span><span class="op" id="4773482">.</span><span class="ident" id="4773483">abs</span><span class="op" id="4773486">,</span>&nbsp;<span class="ident" id="4773488">natOne</span><span class="op" id="4773494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773499">y1</span>&nbsp;<span class="op" id="4773502">:=</span>&nbsp;<span class="ident" id="4773505">nat</span><span class="op" id="4773508">(</span><span class="ident" id="4773509">nil</span><span class="op" id="4773512">)</span><span class="op" id="4773513">.</span><span class="ident" id="4773514">sub</span><span class="op" id="4773517">(</span><span class="ident" id="4773518">y</span><span class="op" id="4773519">.</span><span class="ident" id="4773520">abs</span><span class="op" id="4773523">,</span>&nbsp;<span class="ident" id="4773525">natOne</span><span class="op" id="4773531">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773536">z</span><span class="op" id="4773537">.</span><span class="ident" id="4773538">abs</span>&nbsp;<span class="op" id="4773542">=</span>&nbsp;<span class="ident" id="4773544">z</span><span class="op" id="4773545">.</span><span class="ident" id="4773546">abs</span><span class="op" id="4773549">.</span><span class="ident" id="4773550">add</span><span class="op" id="4773553">(</span><span class="ident" id="4773554">z</span><span class="op" id="4773555">.</span><span class="ident" id="4773556">abs</span><span class="op" id="4773559">.</span><span class="ident" id="4773560">or</span><span class="op" id="4773562">(</span><span class="ident" id="4773563">x1</span><span class="op" id="4773565">,</span>&nbsp;<span class="ident" id="4773567">y1</span><span class="op" id="4773569">)</span><span class="op" id="4773570">,</span>&nbsp;<span class="ident" id="4773572">natOne</span><span class="op" id="4773578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773583">z</span><span class="op" id="4773584">.</span><span class="ident" id="4773585">neg</span>&nbsp;<span class="op" id="4773589">=</span>&nbsp;<span class="builtintype" id="4773591">true</span>&nbsp;<span class="comment" id="4773596">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773643">return</span>&nbsp;<span class="ident" id="4773650">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4773654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4773659">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773679">z</span><span class="op" id="4773680">.</span><span class="ident" id="4773681">abs</span>&nbsp;<span class="op" id="4773685">=</span>&nbsp;<span class="ident" id="4773687">z</span><span class="op" id="4773688">.</span><span class="ident" id="4773689">abs</span><span class="op" id="4773692">.</span><span class="ident" id="4773693">and</span><span class="op" id="4773696">(</span><span class="ident" id="4773697">x</span><span class="op" id="4773698">.</span><span class="ident" id="4773699">abs</span><span class="op" id="4773702">,</span>&nbsp;<span class="ident" id="4773704">y</span><span class="op" id="4773705">.</span><span class="ident" id="4773706">abs</span><span class="op" id="4773709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773713">z</span><span class="op" id="4773714">.</span><span class="ident" id="4773715">neg</span>&nbsp;<span class="op" id="4773719">=</span>&nbsp;<span class="builtintype" id="4773721">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773729">return</span>&nbsp;<span class="ident" id="4773736">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4773739">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4773743">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773762">if</span>&nbsp;<span class="ident" id="4773765">x</span><span class="op" id="4773766">.</span><span class="ident" id="4773767">neg</span>&nbsp;<span class="op" id="4773771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773775">x</span><span class="op" id="4773776">,</span>&nbsp;<span class="ident" id="4773778">y</span>&nbsp;<span class="op" id="4773780">=</span>&nbsp;<span class="ident" id="4773782">y</span><span class="op" id="4773783">,</span>&nbsp;<span class="ident" id="4773785">x</span>&nbsp;<span class="comment" id="4773787">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4773806">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4773810">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773851">y1</span>&nbsp;<span class="op" id="4773854">:=</span>&nbsp;<span class="ident" id="4773857">nat</span><span class="op" id="4773860">(</span><span class="ident" id="4773861">nil</span><span class="op" id="4773864">)</span><span class="op" id="4773865">.</span><span class="ident" id="4773866">sub</span><span class="op" id="4773869">(</span><span class="ident" id="4773870">y</span><span class="op" id="4773871">.</span><span class="ident" id="4773872">abs</span><span class="op" id="4773875">,</span>&nbsp;<span class="ident" id="4773877">natOne</span><span class="op" id="4773883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773886">z</span><span class="op" id="4773887">.</span><span class="ident" id="4773888">abs</span>&nbsp;<span class="op" id="4773892">=</span>&nbsp;<span class="ident" id="4773894">z</span><span class="op" id="4773895">.</span><span class="ident" id="4773896">abs</span><span class="op" id="4773899">.</span><span class="ident" id="4773900">andNot</span><span class="op" id="4773906">(</span><span class="ident" id="4773907">x</span><span class="op" id="4773908">.</span><span class="ident" id="4773909">abs</span><span class="op" id="4773912">,</span>&nbsp;<span class="ident" id="4773914">y1</span><span class="op" id="4773916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4773919">z</span><span class="op" id="4773920">.</span><span class="ident" id="4773921">neg</span>&nbsp;<span class="op" id="4773925">=</span>&nbsp;<span class="builtintype" id="4773927">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4773934">return</span>&nbsp;<span class="ident" id="4773941">z</span><br>
<span class="lineno"></span><span class="op" id="4773943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4773946">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4773987">func</span>&nbsp;<span class="op" id="4773992">(</span><span class="ident" id="4773993">z</span>&nbsp;<span class="op" id="4773995">*</span><span class="ident" id="4773996">Int</span><span class="op" id="4773999">)</span>&nbsp;<span class="ident" id="4774001">AndNot</span><span class="op" id="4774007">(</span><span class="ident" id="4774008">x</span><span class="op" id="4774009">,</span>&nbsp;<span class="ident" id="4774011">y</span>&nbsp;<span class="op" id="4774013">*</span><span class="ident" id="4774014">Int</span><span class="op" id="4774017">)</span>&nbsp;<span class="op" id="4774019">*</span><span class="ident" id="4774020">Int</span>&nbsp;<span class="op" id="4774024">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774027">if</span>&nbsp;<span class="ident" id="4774030">x</span><span class="op" id="4774031">.</span><span class="ident" id="4774032">neg</span>&nbsp;<span class="op" id="4774036">==</span>&nbsp;<span class="ident" id="4774039">y</span><span class="op" id="4774040">.</span><span class="ident" id="4774041">neg</span>&nbsp;<span class="op" id="4774045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774049">if</span>&nbsp;<span class="ident" id="4774052">x</span><span class="op" id="4774053">.</span><span class="ident" id="4774054">neg</span>&nbsp;<span class="op" id="4774058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4774063">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774138">x1</span>&nbsp;<span class="op" id="4774141">:=</span>&nbsp;<span class="ident" id="4774144">nat</span><span class="op" id="4774147">(</span><span class="ident" id="4774148">nil</span><span class="op" id="4774151">)</span><span class="op" id="4774152">.</span><span class="ident" id="4774153">sub</span><span class="op" id="4774156">(</span><span class="ident" id="4774157">x</span><span class="op" id="4774158">.</span><span class="ident" id="4774159">abs</span><span class="op" id="4774162">,</span>&nbsp;<span class="ident" id="4774164">natOne</span><span class="op" id="4774170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774175">y1</span>&nbsp;<span class="op" id="4774178">:=</span>&nbsp;<span class="ident" id="4774181">nat</span><span class="op" id="4774184">(</span><span class="ident" id="4774185">nil</span><span class="op" id="4774188">)</span><span class="op" id="4774189">.</span><span class="ident" id="4774190">sub</span><span class="op" id="4774193">(</span><span class="ident" id="4774194">y</span><span class="op" id="4774195">.</span><span class="ident" id="4774196">abs</span><span class="op" id="4774199">,</span>&nbsp;<span class="ident" id="4774201">natOne</span><span class="op" id="4774207">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774212">z</span><span class="op" id="4774213">.</span><span class="ident" id="4774214">abs</span>&nbsp;<span class="op" id="4774218">=</span>&nbsp;<span class="ident" id="4774220">z</span><span class="op" id="4774221">.</span><span class="ident" id="4774222">abs</span><span class="op" id="4774225">.</span><span class="ident" id="4774226">andNot</span><span class="op" id="4774232">(</span><span class="ident" id="4774233">y1</span><span class="op" id="4774235">,</span>&nbsp;<span class="ident" id="4774237">x1</span><span class="op" id="4774239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774244">z</span><span class="op" id="4774245">.</span><span class="ident" id="4774246">neg</span>&nbsp;<span class="op" id="4774250">=</span>&nbsp;<span class="builtintype" id="4774252">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774261">return</span>&nbsp;<span class="ident" id="4774268">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4774272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4774277">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774299">z</span><span class="op" id="4774300">.</span><span class="ident" id="4774301">abs</span>&nbsp;<span class="op" id="4774305">=</span>&nbsp;<span class="ident" id="4774307">z</span><span class="op" id="4774308">.</span><span class="ident" id="4774309">abs</span><span class="op" id="4774312">.</span><span class="ident" id="4774313">andNot</span><span class="op" id="4774319">(</span><span class="ident" id="4774320">x</span><span class="op" id="4774321">.</span><span class="ident" id="4774322">abs</span><span class="op" id="4774325">,</span>&nbsp;<span class="ident" id="4774327">y</span><span class="op" id="4774328">.</span><span class="ident" id="4774329">abs</span><span class="op" id="4774332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774336">z</span><span class="op" id="4774337">.</span><span class="ident" id="4774338">neg</span>&nbsp;<span class="op" id="4774342">=</span>&nbsp;<span class="builtintype" id="4774344">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774352">return</span>&nbsp;<span class="ident" id="4774359">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4774362">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774366">if</span>&nbsp;<span class="ident" id="4774369">x</span><span class="op" id="4774370">.</span><span class="ident" id="4774371">neg</span>&nbsp;<span class="op" id="4774375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4774379">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774462">x1</span>&nbsp;<span class="op" id="4774465">:=</span>&nbsp;<span class="ident" id="4774468">nat</span><span class="op" id="4774471">(</span><span class="ident" id="4774472">nil</span><span class="op" id="4774475">)</span><span class="op" id="4774476">.</span><span class="ident" id="4774477">sub</span><span class="op" id="4774480">(</span><span class="ident" id="4774481">x</span><span class="op" id="4774482">.</span><span class="ident" id="4774483">abs</span><span class="op" id="4774486">,</span>&nbsp;<span class="ident" id="4774488">natOne</span><span class="op" id="4774494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774498">z</span><span class="op" id="4774499">.</span><span class="ident" id="4774500">abs</span>&nbsp;<span class="op" id="4774504">=</span>&nbsp;<span class="ident" id="4774506">z</span><span class="op" id="4774507">.</span><span class="ident" id="4774508">abs</span><span class="op" id="4774511">.</span><span class="ident" id="4774512">add</span><span class="op" id="4774515">(</span><span class="ident" id="4774516">z</span><span class="op" id="4774517">.</span><span class="ident" id="4774518">abs</span><span class="op" id="4774521">.</span><span class="ident" id="4774522">or</span><span class="op" id="4774524">(</span><span class="ident" id="4774525">x1</span><span class="op" id="4774527">,</span>&nbsp;<span class="ident" id="4774529">y</span><span class="op" id="4774530">.</span><span class="ident" id="4774531">abs</span><span class="op" id="4774534">)</span><span class="op" id="4774535">,</span>&nbsp;<span class="ident" id="4774537">natOne</span><span class="op" id="4774543">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774547">z</span><span class="op" id="4774548">.</span><span class="ident" id="4774549">neg</span>&nbsp;<span class="op" id="4774553">=</span>&nbsp;<span class="builtintype" id="4774555">true</span>&nbsp;<span class="comment" id="4774560">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774617">return</span>&nbsp;<span class="ident" id="4774624">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4774627">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4774631">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774673">y1</span>&nbsp;<span class="op" id="4774676">:=</span>&nbsp;<span class="ident" id="4774679">nat</span><span class="op" id="4774682">(</span><span class="ident" id="4774683">nil</span><span class="op" id="4774686">)</span><span class="op" id="4774687">.</span><span class="ident" id="4774688">add</span><span class="op" id="4774691">(</span><span class="ident" id="4774692">y</span><span class="op" id="4774693">.</span><span class="ident" id="4774694">abs</span><span class="op" id="4774697">,</span>&nbsp;<span class="ident" id="4774699">natOne</span><span class="op" id="4774705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774708">z</span><span class="op" id="4774709">.</span><span class="ident" id="4774710">abs</span>&nbsp;<span class="op" id="4774714">=</span>&nbsp;<span class="ident" id="4774716">z</span><span class="op" id="4774717">.</span><span class="ident" id="4774718">abs</span><span class="op" id="4774721">.</span><span class="ident" id="4774722">and</span><span class="op" id="4774725">(</span><span class="ident" id="4774726">x</span><span class="op" id="4774727">.</span><span class="ident" id="4774728">abs</span><span class="op" id="4774731">,</span>&nbsp;<span class="ident" id="4774733">y1</span><span class="op" id="4774735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774738">z</span><span class="op" id="4774739">.</span><span class="ident" id="4774740">neg</span>&nbsp;<span class="op" id="4774744">=</span>&nbsp;<span class="builtintype" id="4774746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774753">return</span>&nbsp;<span class="ident" id="4774760">z</span><br>
<span class="lineno"></span><span class="op" id="4774762">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="4774765">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4774801">func</span>&nbsp;<span class="op" id="4774806">(</span><span class="ident" id="4774807">z</span>&nbsp;<span class="op" id="4774809">*</span><span class="ident" id="4774810">Int</span><span class="op" id="4774813">)</span>&nbsp;<span class="ident" id="4774815">Or</span><span class="op" id="4774817">(</span><span class="ident" id="4774818">x</span><span class="op" id="4774819">,</span>&nbsp;<span class="ident" id="4774821">y</span>&nbsp;<span class="op" id="4774823">*</span><span class="ident" id="4774824">Int</span><span class="op" id="4774827">)</span>&nbsp;<span class="op" id="4774829">*</span><span class="ident" id="4774830">Int</span>&nbsp;<span class="op" id="4774834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774837">if</span>&nbsp;<span class="ident" id="4774840">x</span><span class="op" id="4774841">.</span><span class="ident" id="4774842">neg</span>&nbsp;<span class="op" id="4774846">==</span>&nbsp;<span class="ident" id="4774849">y</span><span class="op" id="4774850">.</span><span class="ident" id="4774851">neg</span>&nbsp;<span class="op" id="4774855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4774859">if</span>&nbsp;<span class="ident" id="4774862">x</span><span class="op" id="4774863">.</span><span class="ident" id="4774864">neg</span>&nbsp;<span class="op" id="4774868">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4774873">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774956">x1</span>&nbsp;<span class="op" id="4774959">:=</span>&nbsp;<span class="ident" id="4774962">nat</span><span class="op" id="4774965">(</span><span class="ident" id="4774966">nil</span><span class="op" id="4774969">)</span><span class="op" id="4774970">.</span><span class="ident" id="4774971">sub</span><span class="op" id="4774974">(</span><span class="ident" id="4774975">x</span><span class="op" id="4774976">.</span><span class="ident" id="4774977">abs</span><span class="op" id="4774980">,</span>&nbsp;<span class="ident" id="4774982">natOne</span><span class="op" id="4774988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4774993">y1</span>&nbsp;<span class="op" id="4774996">:=</span>&nbsp;<span class="ident" id="4774999">nat</span><span class="op" id="4775002">(</span><span class="ident" id="4775003">nil</span><span class="op" id="4775006">)</span><span class="op" id="4775007">.</span><span class="ident" id="4775008">sub</span><span class="op" id="4775011">(</span><span class="ident" id="4775012">y</span><span class="op" id="4775013">.</span><span class="ident" id="4775014">abs</span><span class="op" id="4775017">,</span>&nbsp;<span class="ident" id="4775019">natOne</span><span class="op" id="4775025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775030">z</span><span class="op" id="4775031">.</span><span class="ident" id="4775032">abs</span>&nbsp;<span class="op" id="4775036">=</span>&nbsp;<span class="ident" id="4775038">z</span><span class="op" id="4775039">.</span><span class="ident" id="4775040">abs</span><span class="op" id="4775043">.</span><span class="ident" id="4775044">add</span><span class="op" id="4775047">(</span><span class="ident" id="4775048">z</span><span class="op" id="4775049">.</span><span class="ident" id="4775050">abs</span><span class="op" id="4775053">.</span><span class="ident" id="4775054">and</span><span class="op" id="4775057">(</span><span class="ident" id="4775058">x1</span><span class="op" id="4775060">,</span>&nbsp;<span class="ident" id="4775062">y1</span><span class="op" id="4775064">)</span><span class="op" id="4775065">,</span>&nbsp;<span class="ident" id="4775067">natOne</span><span class="op" id="4775073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775078">z</span><span class="op" id="4775079">.</span><span class="ident" id="4775080">neg</span>&nbsp;<span class="op" id="4775084">=</span>&nbsp;<span class="builtintype" id="4775086">true</span>&nbsp;<span class="comment" id="4775091">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775138">return</span>&nbsp;<span class="ident" id="4775145">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4775149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4775154">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775174">z</span><span class="op" id="4775175">.</span><span class="ident" id="4775176">abs</span>&nbsp;<span class="op" id="4775180">=</span>&nbsp;<span class="ident" id="4775182">z</span><span class="op" id="4775183">.</span><span class="ident" id="4775184">abs</span><span class="op" id="4775187">.</span><span class="ident" id="4775188">or</span><span class="op" id="4775190">(</span><span class="ident" id="4775191">x</span><span class="op" id="4775192">.</span><span class="ident" id="4775193">abs</span><span class="op" id="4775196">,</span>&nbsp;<span class="ident" id="4775198">y</span><span class="op" id="4775199">.</span><span class="ident" id="4775200">abs</span><span class="op" id="4775203">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775207">z</span><span class="op" id="4775208">.</span><span class="ident" id="4775209">neg</span>&nbsp;<span class="op" id="4775213">=</span>&nbsp;<span class="builtintype" id="4775215">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775223">return</span>&nbsp;<span class="ident" id="4775230">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4775233">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4775237">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775256">if</span>&nbsp;<span class="ident" id="4775259">x</span><span class="op" id="4775260">.</span><span class="ident" id="4775261">neg</span>&nbsp;<span class="op" id="4775265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775269">x</span><span class="op" id="4775270">,</span>&nbsp;<span class="ident" id="4775272">y</span>&nbsp;<span class="op" id="4775274">=</span>&nbsp;<span class="ident" id="4775276">y</span><span class="op" id="4775277">,</span>&nbsp;<span class="ident" id="4775279">x</span>&nbsp;<span class="comment" id="4775281">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4775300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4775304">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775372">y1</span>&nbsp;<span class="op" id="4775375">:=</span>&nbsp;<span class="ident" id="4775378">nat</span><span class="op" id="4775381">(</span><span class="ident" id="4775382">nil</span><span class="op" id="4775385">)</span><span class="op" id="4775386">.</span><span class="ident" id="4775387">sub</span><span class="op" id="4775390">(</span><span class="ident" id="4775391">y</span><span class="op" id="4775392">.</span><span class="ident" id="4775393">abs</span><span class="op" id="4775396">,</span>&nbsp;<span class="ident" id="4775398">natOne</span><span class="op" id="4775404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775407">z</span><span class="op" id="4775408">.</span><span class="ident" id="4775409">abs</span>&nbsp;<span class="op" id="4775413">=</span>&nbsp;<span class="ident" id="4775415">z</span><span class="op" id="4775416">.</span><span class="ident" id="4775417">abs</span><span class="op" id="4775420">.</span><span class="ident" id="4775421">add</span><span class="op" id="4775424">(</span><span class="ident" id="4775425">z</span><span class="op" id="4775426">.</span><span class="ident" id="4775427">abs</span><span class="op" id="4775430">.</span><span class="ident" id="4775431">andNot</span><span class="op" id="4775437">(</span><span class="ident" id="4775438">y1</span><span class="op" id="4775440">,</span>&nbsp;<span class="ident" id="4775442">x</span><span class="op" id="4775443">.</span><span class="ident" id="4775444">abs</span><span class="op" id="4775447">)</span><span class="op" id="4775448">,</span>&nbsp;<span class="ident" id="4775450">natOne</span><span class="op" id="4775456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775459">z</span><span class="op" id="4775460">.</span><span class="ident" id="4775461">neg</span>&nbsp;<span class="op" id="4775465">=</span>&nbsp;<span class="builtintype" id="4775467">true</span>&nbsp;<span class="comment" id="4775472">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775522">return</span>&nbsp;<span class="ident" id="4775529">z</span><br>
<span class="lineno"></span><span class="op" id="4775531">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="4775534">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4775571">func</span>&nbsp;<span class="op" id="4775576">(</span><span class="ident" id="4775577">z</span>&nbsp;<span class="op" id="4775579">*</span><span class="ident" id="4775580">Int</span><span class="op" id="4775583">)</span>&nbsp;<span class="ident" id="4775585">Xor</span><span class="op" id="4775588">(</span><span class="ident" id="4775589">x</span><span class="op" id="4775590">,</span>&nbsp;<span class="ident" id="4775592">y</span>&nbsp;<span class="op" id="4775594">*</span><span class="ident" id="4775595">Int</span><span class="op" id="4775598">)</span>&nbsp;<span class="op" id="4775600">*</span><span class="ident" id="4775601">Int</span>&nbsp;<span class="op" id="4775605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775608">if</span>&nbsp;<span class="ident" id="4775611">x</span><span class="op" id="4775612">.</span><span class="ident" id="4775613">neg</span>&nbsp;<span class="op" id="4775617">==</span>&nbsp;<span class="ident" id="4775620">y</span><span class="op" id="4775621">.</span><span class="ident" id="4775622">neg</span>&nbsp;<span class="op" id="4775626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775630">if</span>&nbsp;<span class="ident" id="4775633">x</span><span class="op" id="4775634">.</span><span class="ident" id="4775635">neg</span>&nbsp;<span class="op" id="4775639">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4775644">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775698">x1</span>&nbsp;<span class="op" id="4775701">:=</span>&nbsp;<span class="ident" id="4775704">nat</span><span class="op" id="4775707">(</span><span class="ident" id="4775708">nil</span><span class="op" id="4775711">)</span><span class="op" id="4775712">.</span><span class="ident" id="4775713">sub</span><span class="op" id="4775716">(</span><span class="ident" id="4775717">x</span><span class="op" id="4775718">.</span><span class="ident" id="4775719">abs</span><span class="op" id="4775722">,</span>&nbsp;<span class="ident" id="4775724">natOne</span><span class="op" id="4775730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775735">y1</span>&nbsp;<span class="op" id="4775738">:=</span>&nbsp;<span class="ident" id="4775741">nat</span><span class="op" id="4775744">(</span><span class="ident" id="4775745">nil</span><span class="op" id="4775748">)</span><span class="op" id="4775749">.</span><span class="ident" id="4775750">sub</span><span class="op" id="4775753">(</span><span class="ident" id="4775754">y</span><span class="op" id="4775755">.</span><span class="ident" id="4775756">abs</span><span class="op" id="4775759">,</span>&nbsp;<span class="ident" id="4775761">natOne</span><span class="op" id="4775767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775772">z</span><span class="op" id="4775773">.</span><span class="ident" id="4775774">abs</span>&nbsp;<span class="op" id="4775778">=</span>&nbsp;<span class="ident" id="4775780">z</span><span class="op" id="4775781">.</span><span class="ident" id="4775782">abs</span><span class="op" id="4775785">.</span><span class="ident" id="4775786">xor</span><span class="op" id="4775789">(</span><span class="ident" id="4775790">x1</span><span class="op" id="4775792">,</span>&nbsp;<span class="ident" id="4775794">y1</span><span class="op" id="4775796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775801">z</span><span class="op" id="4775802">.</span><span class="ident" id="4775803">neg</span>&nbsp;<span class="op" id="4775807">=</span>&nbsp;<span class="builtintype" id="4775809">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775818">return</span>&nbsp;<span class="ident" id="4775825">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4775829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4775834">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775854">z</span><span class="op" id="4775855">.</span><span class="ident" id="4775856">abs</span>&nbsp;<span class="op" id="4775860">=</span>&nbsp;<span class="ident" id="4775862">z</span><span class="op" id="4775863">.</span><span class="ident" id="4775864">abs</span><span class="op" id="4775867">.</span><span class="ident" id="4775868">xor</span><span class="op" id="4775871">(</span><span class="ident" id="4775872">x</span><span class="op" id="4775873">.</span><span class="ident" id="4775874">abs</span><span class="op" id="4775877">,</span>&nbsp;<span class="ident" id="4775879">y</span><span class="op" id="4775880">.</span><span class="ident" id="4775881">abs</span><span class="op" id="4775884">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775888">z</span><span class="op" id="4775889">.</span><span class="ident" id="4775890">neg</span>&nbsp;<span class="op" id="4775894">=</span>&nbsp;<span class="builtintype" id="4775896">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775904">return</span>&nbsp;<span class="ident" id="4775911">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4775914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4775918">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4775937">if</span>&nbsp;<span class="ident" id="4775940">x</span><span class="op" id="4775941">.</span><span class="ident" id="4775942">neg</span>&nbsp;<span class="op" id="4775946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4775950">x</span><span class="op" id="4775951">,</span>&nbsp;<span class="ident" id="4775953">y</span>&nbsp;<span class="op" id="4775955">=</span>&nbsp;<span class="ident" id="4775957">y</span><span class="op" id="4775958">,</span>&nbsp;<span class="ident" id="4775960">x</span>&nbsp;<span class="comment" id="4775962">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4775981">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4775985">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776050">y1</span>&nbsp;<span class="op" id="4776053">:=</span>&nbsp;<span class="ident" id="4776056">nat</span><span class="op" id="4776059">(</span><span class="ident" id="4776060">nil</span><span class="op" id="4776063">)</span><span class="op" id="4776064">.</span><span class="ident" id="4776065">sub</span><span class="op" id="4776068">(</span><span class="ident" id="4776069">y</span><span class="op" id="4776070">.</span><span class="ident" id="4776071">abs</span><span class="op" id="4776074">,</span>&nbsp;<span class="ident" id="4776076">natOne</span><span class="op" id="4776082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776085">z</span><span class="op" id="4776086">.</span><span class="ident" id="4776087">abs</span>&nbsp;<span class="op" id="4776091">=</span>&nbsp;<span class="ident" id="4776093">z</span><span class="op" id="4776094">.</span><span class="ident" id="4776095">abs</span><span class="op" id="4776098">.</span><span class="ident" id="4776099">add</span><span class="op" id="4776102">(</span><span class="ident" id="4776103">z</span><span class="op" id="4776104">.</span><span class="ident" id="4776105">abs</span><span class="op" id="4776108">.</span><span class="ident" id="4776109">xor</span><span class="op" id="4776112">(</span><span class="ident" id="4776113">x</span><span class="op" id="4776114">.</span><span class="ident" id="4776115">abs</span><span class="op" id="4776118">,</span>&nbsp;<span class="ident" id="4776120">y1</span><span class="op" id="4776122">)</span><span class="op" id="4776123">,</span>&nbsp;<span class="ident" id="4776125">natOne</span><span class="op" id="4776131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776134">z</span><span class="op" id="4776135">.</span><span class="ident" id="4776136">neg</span>&nbsp;<span class="op" id="4776140">=</span>&nbsp;<span class="builtintype" id="4776142">true</span>&nbsp;<span class="comment" id="4776147">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776202">return</span>&nbsp;<span class="ident" id="4776209">z</span><br>
<span class="lineno"></span><span class="op" id="4776211">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="4776214">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="4776248">func</span>&nbsp;<span class="op" id="4776253">(</span><span class="ident" id="4776254">z</span>&nbsp;<span class="op" id="4776256">*</span><span class="ident" id="4776257">Int</span><span class="op" id="4776260">)</span>&nbsp;<span class="ident" id="4776262">Not</span><span class="op" id="4776265">(</span><span class="ident" id="4776266">x</span>&nbsp;<span class="op" id="4776268">*</span><span class="ident" id="4776269">Int</span><span class="op" id="4776272">)</span>&nbsp;<span class="op" id="4776274">*</span><span class="ident" id="4776275">Int</span>&nbsp;<span class="op" id="4776279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776282">if</span>&nbsp;<span class="ident" id="4776285">x</span><span class="op" id="4776286">.</span><span class="ident" id="4776287">neg</span>&nbsp;<span class="op" id="4776291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4776295">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776326">z</span><span class="op" id="4776327">.</span><span class="ident" id="4776328">abs</span>&nbsp;<span class="op" id="4776332">=</span>&nbsp;<span class="ident" id="4776334">z</span><span class="op" id="4776335">.</span><span class="ident" id="4776336">abs</span><span class="op" id="4776339">.</span><span class="ident" id="4776340">sub</span><span class="op" id="4776343">(</span><span class="ident" id="4776344">x</span><span class="op" id="4776345">.</span><span class="ident" id="4776346">abs</span><span class="op" id="4776349">,</span>&nbsp;<span class="ident" id="4776351">natOne</span><span class="op" id="4776357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776361">z</span><span class="op" id="4776362">.</span><span class="ident" id="4776363">neg</span>&nbsp;<span class="op" id="4776367">=</span>&nbsp;<span class="builtintype" id="4776369">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776377">return</span>&nbsp;<span class="ident" id="4776384">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4776387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4776391">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776416">z</span><span class="op" id="4776417">.</span><span class="ident" id="4776418">abs</span>&nbsp;<span class="op" id="4776422">=</span>&nbsp;<span class="ident" id="4776424">z</span><span class="op" id="4776425">.</span><span class="ident" id="4776426">abs</span><span class="op" id="4776429">.</span><span class="ident" id="4776430">add</span><span class="op" id="4776433">(</span><span class="ident" id="4776434">x</span><span class="op" id="4776435">.</span><span class="ident" id="4776436">abs</span><span class="op" id="4776439">,</span>&nbsp;<span class="ident" id="4776441">natOne</span><span class="op" id="4776447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776450">z</span><span class="op" id="4776451">.</span><span class="ident" id="4776452">neg</span>&nbsp;<span class="op" id="4776456">=</span>&nbsp;<span class="builtintype" id="4776458">true</span>&nbsp;<span class="comment" id="4776463">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776501">return</span>&nbsp;<span class="ident" id="4776508">z</span><br>
<span class="lineno"></span><span class="op" id="4776510">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="4776513">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4776588">const</span>&nbsp;<span class="ident" id="4776594">intGobVersion</span>&nbsp;<span class="builtintype" id="4776608">byte</span>&nbsp;<span class="op" id="4776613">=</span>&nbsp;<span class="num" id="4776615">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4776618">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="4776672">func</span>&nbsp;<span class="op" id="4776677">(</span><span class="ident" id="4776678">x</span>&nbsp;<span class="op" id="4776680">*</span><span class="ident" id="4776681">Int</span><span class="op" id="4776684">)</span>&nbsp;<span class="ident" id="4776686">GobEncode</span><span class="op" id="4776695">(</span><span class="op" id="4776696">)</span>&nbsp;<span class="op" id="4776698">(</span><span class="op" id="4776699">[</span><span class="op" id="4776700">]</span><span class="builtintype" id="4776701">byte</span><span class="op" id="4776705">,</span>&nbsp;<span class="builtintype" id="4776707">error</span><span class="op" id="4776712">)</span>&nbsp;<span class="op" id="4776714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776717">if</span>&nbsp;<span class="ident" id="4776720">x</span>&nbsp;<span class="op" id="4776722">==</span>&nbsp;<span class="ident" id="4776725">nil</span>&nbsp;<span class="op" id="4776729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776733">return</span>&nbsp;<span class="ident" id="4776740">nil</span><span class="op" id="4776743">,</span>&nbsp;<span class="ident" id="4776745">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4776750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776753">buf</span>&nbsp;<span class="op" id="4776757">:=</span>&nbsp;<span class="builtinfunc" id="4776760">make</span><span class="op" id="4776764">(</span><span class="op" id="4776765">[</span><span class="op" id="4776766">]</span><span class="builtintype" id="4776767">byte</span><span class="op" id="4776771">,</span>&nbsp;<span class="num" id="4776773">1</span><span class="op" id="4776774">+</span><span class="builtinfunc" id="4776775">len</span><span class="op" id="4776778">(</span><span class="ident" id="4776779">x</span><span class="op" id="4776780">.</span><span class="ident" id="4776781">abs</span><span class="op" id="4776784">)</span><span class="op" id="4776785">*</span><span class="ident" id="4776786">_S</span><span class="op" id="4776788">)</span>&nbsp;<span class="comment" id="4776790">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776830">i</span>&nbsp;<span class="op" id="4776832">:=</span>&nbsp;<span class="ident" id="4776835">x</span><span class="op" id="4776836">.</span><span class="ident" id="4776837">abs</span><span class="op" id="4776840">.</span><span class="ident" id="4776841">bytes</span><span class="op" id="4776846">(</span><span class="ident" id="4776847">buf</span><span class="op" id="4776850">)</span>&nbsp;<span class="op" id="4776852">-</span>&nbsp;<span class="num" id="4776854">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4776867">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776878">b</span>&nbsp;<span class="op" id="4776880">:=</span>&nbsp;<span class="ident" id="4776883">intGobVersion</span>&nbsp;<span class="op" id="4776897">&lt;&lt;</span>&nbsp;<span class="num" id="4776900">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4776915">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776943">if</span>&nbsp;<span class="ident" id="4776946">x</span><span class="op" id="4776947">.</span><span class="ident" id="4776948">neg</span>&nbsp;<span class="op" id="4776952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776956">b</span>&nbsp;<span class="op" id="4776958">|=</span>&nbsp;<span class="num" id="4776961">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4776964">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4776967">buf</span><span class="op" id="4776970">[</span><span class="ident" id="4776971">i</span><span class="op" id="4776972">]</span>&nbsp;<span class="op" id="4776974">=</span>&nbsp;<span class="ident" id="4776976">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4776979">return</span>&nbsp;<span class="ident" id="4776986">buf</span><span class="op" id="4776989">[</span><span class="ident" id="4776990">i</span><span class="op" id="4776991">:</span><span class="op" id="4776992">]</span><span class="op" id="4776993">,</span>&nbsp;<span class="ident" id="4776995">nil</span><br>
<span class="lineno"></span><span class="op" id="4776999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4777002">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="4777056">func</span>&nbsp;<span class="op" id="4777061">(</span><span class="ident" id="4777062">z</span>&nbsp;<span class="op" id="4777064">*</span><span class="ident" id="4777065">Int</span><span class="op" id="4777068">)</span>&nbsp;<span class="ident" id="4777070">GobDecode</span><span class="op" id="4777079">(</span><span class="ident" id="4777080">buf</span>&nbsp;<span class="op" id="4777084">[</span><span class="op" id="4777085">]</span><span class="builtintype" id="4777086">byte</span><span class="op" id="4777090">)</span>&nbsp;<span class="builtintype" id="4777092">error</span>&nbsp;<span class="op" id="4777098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777101">if</span>&nbsp;<span class="builtinfunc" id="4777104">len</span><span class="op" id="4777107">(</span><span class="ident" id="4777108">buf</span><span class="op" id="4777111">)</span>&nbsp;<span class="op" id="4777113">==</span>&nbsp;<span class="num" id="4777116">0</span>&nbsp;<span class="op" id="4777118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4777122">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4777167">*</span><span class="ident" id="4777168">z</span>&nbsp;<span class="op" id="4777170">=</span>&nbsp;<span class="ident" id="4777172">Int</span><span class="op" id="4777175">{</span><span class="op" id="4777176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777180">return</span>&nbsp;<span class="ident" id="4777187">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4777192">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4777195">b</span>&nbsp;<span class="op" id="4777197">:=</span>&nbsp;<span class="ident" id="4777200">buf</span><span class="op" id="4777203">[</span><span class="num" id="4777204">0</span><span class="op" id="4777205">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777208">if</span>&nbsp;<span class="ident" id="4777211">b</span><span class="op" id="4777212">&gt;&gt;</span><span class="num" id="4777214">1</span>&nbsp;<span class="op" id="4777216">!=</span>&nbsp;<span class="ident" id="4777219">intGobVersion</span>&nbsp;<span class="op" id="4777233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777237">return</span>&nbsp;<span class="ident" id="4777244">errors</span><span class="op" id="4777250">.</span><span class="ident" id="4777251">New</span><span class="op" id="4777254">(</span><span class="ident" id="4777255">fmt</span><span class="op" id="4777258">.</span><span class="ident" id="4777259">Sprintf</span><span class="op" id="4777266">(</span><span class="string" id="4777267">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="4777317">,</span>&nbsp;<span class="ident" id="4777319">b</span><span class="op" id="4777320">&gt;&gt;</span><span class="num" id="4777322">1</span><span class="op" id="4777323">)</span><span class="op" id="4777324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4777327">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4777330">z</span><span class="op" id="4777331">.</span><span class="ident" id="4777332">neg</span>&nbsp;<span class="op" id="4777336">=</span>&nbsp;<span class="ident" id="4777338">b</span><span class="op" id="4777339">&amp;</span><span class="num" id="4777340">1</span>&nbsp;<span class="op" id="4777342">!=</span>&nbsp;<span class="num" id="4777345">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4777348">z</span><span class="op" id="4777349">.</span><span class="ident" id="4777350">abs</span>&nbsp;<span class="op" id="4777354">=</span>&nbsp;<span class="ident" id="4777356">z</span><span class="op" id="4777357">.</span><span class="ident" id="4777358">abs</span><span class="op" id="4777361">.</span><span class="ident" id="4777362">setBytes</span><span class="op" id="4777370">(</span><span class="ident" id="4777371">buf</span><span class="op" id="4777374">[</span><span class="num" id="4777375">1</span><span class="op" id="4777376">:</span><span class="op" id="4777377">]</span><span class="op" id="4777378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777381">return</span>&nbsp;<span class="ident" id="4777388">nil</span><br>
<span class="lineno"></span><span class="op" id="4777392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="4777395">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4777451">func</span>&nbsp;<span class="op" id="4777456">(</span><span class="ident" id="4777457">z</span>&nbsp;<span class="op" id="4777459">*</span><span class="ident" id="4777460">Int</span><span class="op" id="4777463">)</span>&nbsp;<span class="ident" id="4777465">MarshalJSON</span><span class="op" id="4777476">(</span><span class="op" id="4777477">)</span>&nbsp;<span class="op" id="4777479">(</span><span class="op" id="4777480">[</span><span class="op" id="4777481">]</span><span class="builtintype" id="4777482">byte</span><span class="op" id="4777486">,</span>&nbsp;<span class="builtintype" id="4777488">error</span><span class="op" id="4777493">)</span>&nbsp;<span class="op" id="4777495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4777498">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777554">return</span>&nbsp;<span class="op" id="4777561">[</span><span class="op" id="4777562">]</span><span class="builtintype" id="4777563">byte</span><span class="op" id="4777567">(</span><span class="ident" id="4777568">z</span><span class="op" id="4777569">.</span><span class="ident" id="4777570">String</span><span class="op" id="4777576">(</span><span class="op" id="4777577">)</span><span class="op" id="4777578">)</span><span class="op" id="4777579">,</span>&nbsp;<span class="ident" id="4777581">nil</span><br>
<span class="lineno"></span><span class="op" id="4777585">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="4777588">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4777648">func</span>&nbsp;<span class="op" id="4777653">(</span><span class="ident" id="4777654">z</span>&nbsp;<span class="op" id="4777656">*</span><span class="ident" id="4777657">Int</span><span class="op" id="4777660">)</span>&nbsp;<span class="ident" id="4777662">UnmarshalJSON</span><span class="op" id="4777675">(</span><span class="ident" id="4777676">text</span>&nbsp;<span class="op" id="4777681">[</span><span class="op" id="4777682">]</span><span class="builtintype" id="4777683">byte</span><span class="op" id="4777687">)</span>&nbsp;<span class="builtintype" id="4777689">error</span>&nbsp;<span class="op" id="4777695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4777698">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777754">if</span>&nbsp;<span class="ident" id="4777757">_</span><span class="op" id="4777758">,</span>&nbsp;<span class="ident" id="4777760">ok</span>&nbsp;<span class="op" id="4777763">:=</span>&nbsp;<span class="ident" id="4777766">z</span><span class="op" id="4777767">.</span><span class="ident" id="4777768">SetString</span><span class="op" id="4777777">(</span><span class="builtintype" id="4777778">string</span><span class="op" id="4777784">(</span><span class="ident" id="4777785">text</span><span class="op" id="4777789">)</span><span class="op" id="4777790">,</span>&nbsp;<span class="num" id="4777792">0</span><span class="op" id="4777793">)</span><span class="op" id="4777794">;</span>&nbsp;<span class="op" id="4777796">!</span><span class="ident" id="4777797">ok</span>&nbsp;<span class="op" id="4777800">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777804">return</span>&nbsp;<span class="ident" id="4777811">fmt</span><span class="op" id="4777814">.</span><span class="ident" id="4777815">Errorf</span><span class="op" id="4777821">(</span><span class="string" id="4777822">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="4777869">,</span>&nbsp;<span class="ident" id="4777871">text</span><span class="op" id="4777875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4777878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4777881">return</span>&nbsp;<span class="ident" id="4777888">nil</span><br>
<span class="lineno"></span><span class="op" id="4777892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="4777895">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4777959">func</span>&nbsp;<span class="op" id="4777964">(</span><span class="ident" id="4777965">z</span>&nbsp;<span class="op" id="4777967">*</span><span class="ident" id="4777968">Int</span><span class="op" id="4777971">)</span>&nbsp;<span class="ident" id="4777973">MarshalText</span><span class="op" id="4777984">(</span><span class="op" id="4777985">)</span>&nbsp;<span class="op" id="4777987">(</span><span class="ident" id="4777988">text</span>&nbsp;<span class="op" id="4777993">[</span><span class="op" id="4777994">]</span><span class="builtintype" id="4777995">byte</span><span class="op" id="4777999">,</span>&nbsp;<span class="ident" id="4778001">err</span>&nbsp;<span class="builtintype" id="4778005">error</span><span class="op" id="4778010">)</span>&nbsp;<span class="op" id="4778012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4778015">return</span>&nbsp;<span class="op" id="4778022">[</span><span class="op" id="4778023">]</span><span class="builtintype" id="4778024">byte</span><span class="op" id="4778028">(</span><span class="ident" id="4778029">z</span><span class="op" id="4778030">.</span><span class="ident" id="4778031">String</span><span class="op" id="4778037">(</span><span class="op" id="4778038">)</span><span class="op" id="4778039">)</span><span class="op" id="4778040">,</span>&nbsp;<span class="ident" id="4778042">nil</span><br>
<span class="lineno"></span><span class="op" id="4778046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="4778049">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4778117">func</span>&nbsp;<span class="op" id="4778122">(</span><span class="ident" id="4778123">z</span>&nbsp;<span class="op" id="4778125">*</span><span class="ident" id="4778126">Int</span><span class="op" id="4778129">)</span>&nbsp;<span class="ident" id="4778131">UnmarshalText</span><span class="op" id="4778144">(</span><span class="ident" id="4778145">text</span>&nbsp;<span class="op" id="4778150">[</span><span class="op" id="4778151">]</span><span class="builtintype" id="4778152">byte</span><span class="op" id="4778156">)</span>&nbsp;<span class="builtintype" id="4778158">error</span>&nbsp;<span class="op" id="4778164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4778167">if</span>&nbsp;<span class="ident" id="4778170">_</span><span class="op" id="4778171">,</span>&nbsp;<span class="ident" id="4778173">ok</span>&nbsp;<span class="op" id="4778176">:=</span>&nbsp;<span class="ident" id="4778179">z</span><span class="op" id="4778180">.</span><span class="ident" id="4778181">SetString</span><span class="op" id="4778190">(</span><span class="builtintype" id="4778191">string</span><span class="op" id="4778197">(</span><span class="ident" id="4778198">text</span><span class="op" id="4778202">)</span><span class="op" id="4778203">,</span>&nbsp;<span class="num" id="4778205">0</span><span class="op" id="4778206">)</span><span class="op" id="4778207">;</span>&nbsp;<span class="op" id="4778209">!</span><span class="ident" id="4778210">ok</span>&nbsp;<span class="op" id="4778213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4778217">return</span>&nbsp;<span class="ident" id="4778224">fmt</span><span class="op" id="4778227">.</span><span class="ident" id="4778228">Errorf</span><span class="op" id="4778234">(</span><span class="string" id="4778235">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="4778282">,</span>&nbsp;<span class="ident" id="4778284">text</span><span class="op" id="4778288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4778291">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4778294">return</span>&nbsp;<span class="ident" id="4778301">nil</span><br>
<span class="lineno"></span><span class="op" id="4778305">}</span>
</div>
</body>
</html>
