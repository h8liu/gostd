<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/fnv</h2>
<ul>
<li><a href="/gostd/hash/fnv/fnv.go.html">fnv.go</a></li>
<li><a href="/gostd/hash/fnv/fnv_test.go.html" class="current">fnv_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7439418">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7439473">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7439527">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7439578">package</span>&nbsp;<span class="ident" id="7439586">fnv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7439591">import</span>&nbsp;<span class="op" id="7439598">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7439601">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7439610">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7439629">&#34;hash&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7439637">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7439647">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7439650">type</span>&nbsp;<span class="ident" id="7439655">golden</span>&nbsp;<span class="keyword" id="7439662">struct</span>&nbsp;<span class="op" id="7439669">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439672">sum</span>&nbsp;&nbsp;<span class="op" id="7439677">[</span><span class="op" id="7439678">]</span><span class="builtintype" id="7439679">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439685">text</span>&nbsp;<span class="builtintype" id="7439690">string</span><br>
<span class="lineno"></span><span class="op" id="7439697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7439700">var</span>&nbsp;<span class="ident" id="7439704">golden32</span>&nbsp;<span class="op" id="7439713">=</span>&nbsp;<span class="op" id="7439715">[</span><span class="op" id="7439716">]</span><span class="ident" id="7439717">golden</span><span class="op" id="7439723">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439726">{</span><span class="op" id="7439727">[</span><span class="op" id="7439728">]</span><span class="builtintype" id="7439729">byte</span><span class="op" id="7439733">{</span><span class="num" id="7439734">0x81</span><span class="op" id="7439738">,</span>&nbsp;<span class="num" id="7439740">0x1c</span><span class="op" id="7439744">,</span>&nbsp;<span class="num" id="7439746">0x9d</span><span class="op" id="7439750">,</span>&nbsp;<span class="num" id="7439752">0xc5</span><span class="op" id="7439756">}</span><span class="op" id="7439757">,</span>&nbsp;<span class="string" id="7439759">&#34;&#34;</span><span class="op" id="7439761">}</span><span class="op" id="7439762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439765">{</span><span class="op" id="7439766">[</span><span class="op" id="7439767">]</span><span class="builtintype" id="7439768">byte</span><span class="op" id="7439772">{</span><span class="num" id="7439773">0x05</span><span class="op" id="7439777">,</span>&nbsp;<span class="num" id="7439779">0x0c</span><span class="op" id="7439783">,</span>&nbsp;<span class="num" id="7439785">0x5d</span><span class="op" id="7439789">,</span>&nbsp;<span class="num" id="7439791">0x7e</span><span class="op" id="7439795">}</span><span class="op" id="7439796">,</span>&nbsp;<span class="string" id="7439798">&#34;a&#34;</span><span class="op" id="7439801">}</span><span class="op" id="7439802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439805">{</span><span class="op" id="7439806">[</span><span class="op" id="7439807">]</span><span class="builtintype" id="7439808">byte</span><span class="op" id="7439812">{</span><span class="num" id="7439813">0x70</span><span class="op" id="7439817">,</span>&nbsp;<span class="num" id="7439819">0x77</span><span class="op" id="7439823">,</span>&nbsp;<span class="num" id="7439825">0x2d</span><span class="op" id="7439829">,</span>&nbsp;<span class="num" id="7439831">0x38</span><span class="op" id="7439835">}</span><span class="op" id="7439836">,</span>&nbsp;<span class="string" id="7439838">&#34;ab&#34;</span><span class="op" id="7439842">}</span><span class="op" id="7439843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439846">{</span><span class="op" id="7439847">[</span><span class="op" id="7439848">]</span><span class="builtintype" id="7439849">byte</span><span class="op" id="7439853">{</span><span class="num" id="7439854">0x43</span><span class="op" id="7439858">,</span>&nbsp;<span class="num" id="7439860">0x9c</span><span class="op" id="7439864">,</span>&nbsp;<span class="num" id="7439866">0x2f</span><span class="op" id="7439870">,</span>&nbsp;<span class="num" id="7439872">0x4b</span><span class="op" id="7439876">}</span><span class="op" id="7439877">,</span>&nbsp;<span class="string" id="7439879">&#34;abc&#34;</span><span class="op" id="7439884">}</span><span class="op" id="7439885">,</span><br>
<span class="lineno"></span><span class="op" id="7439887">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="7439890">var</span>&nbsp;<span class="ident" id="7439894">golden32a</span>&nbsp;<span class="op" id="7439904">=</span>&nbsp;<span class="op" id="7439906">[</span><span class="op" id="7439907">]</span><span class="ident" id="7439908">golden</span><span class="op" id="7439914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439917">{</span><span class="op" id="7439918">[</span><span class="op" id="7439919">]</span><span class="builtintype" id="7439920">byte</span><span class="op" id="7439924">{</span><span class="num" id="7439925">0x81</span><span class="op" id="7439929">,</span>&nbsp;<span class="num" id="7439931">0x1c</span><span class="op" id="7439935">,</span>&nbsp;<span class="num" id="7439937">0x9d</span><span class="op" id="7439941">,</span>&nbsp;<span class="num" id="7439943">0xc5</span><span class="op" id="7439947">}</span><span class="op" id="7439948">,</span>&nbsp;<span class="string" id="7439950">&#34;&#34;</span><span class="op" id="7439952">}</span><span class="op" id="7439953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439956">{</span><span class="op" id="7439957">[</span><span class="op" id="7439958">]</span><span class="builtintype" id="7439959">byte</span><span class="op" id="7439963">{</span><span class="num" id="7439964">0xe4</span><span class="op" id="7439968">,</span>&nbsp;<span class="num" id="7439970">0x0c</span><span class="op" id="7439974">,</span>&nbsp;<span class="num" id="7439976">0x29</span><span class="op" id="7439980">,</span>&nbsp;<span class="num" id="7439982">0x2c</span><span class="op" id="7439986">}</span><span class="op" id="7439987">,</span>&nbsp;<span class="string" id="7439989">&#34;a&#34;</span><span class="op" id="7439992">}</span><span class="op" id="7439993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439996">{</span><span class="op" id="7439997">[</span><span class="op" id="7439998">]</span><span class="builtintype" id="7439999">byte</span><span class="op" id="7440003">{</span><span class="num" id="7440004">0x4d</span><span class="op" id="7440008">,</span>&nbsp;<span class="num" id="7440010">0x25</span><span class="op" id="7440014">,</span>&nbsp;<span class="num" id="7440016">0x05</span><span class="op" id="7440020">,</span>&nbsp;<span class="num" id="7440022">0xca</span><span class="op" id="7440026">}</span><span class="op" id="7440027">,</span>&nbsp;<span class="string" id="7440029">&#34;ab&#34;</span><span class="op" id="7440033">}</span><span class="op" id="7440034">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440037">{</span><span class="op" id="7440038">[</span><span class="op" id="7440039">]</span><span class="builtintype" id="7440040">byte</span><span class="op" id="7440044">{</span><span class="num" id="7440045">0x1a</span><span class="op" id="7440049">,</span>&nbsp;<span class="num" id="7440051">0x47</span><span class="op" id="7440055">,</span>&nbsp;<span class="num" id="7440057">0xe9</span><span class="op" id="7440061">,</span>&nbsp;<span class="num" id="7440063">0x0b</span><span class="op" id="7440067">}</span><span class="op" id="7440068">,</span>&nbsp;<span class="string" id="7440070">&#34;abc&#34;</span><span class="op" id="7440075">}</span><span class="op" id="7440076">,</span><br>
<span class="lineno"></span><span class="op" id="7440078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440081">var</span>&nbsp;<span class="ident" id="7440085">golden64</span>&nbsp;<span class="op" id="7440094">=</span>&nbsp;<span class="op" id="7440096">[</span><span class="op" id="7440097">]</span><span class="ident" id="7440098">golden</span><span class="op" id="7440104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440107">{</span><span class="op" id="7440108">[</span><span class="op" id="7440109">]</span><span class="builtintype" id="7440110">byte</span><span class="op" id="7440114">{</span><span class="num" id="7440115">0xcb</span><span class="op" id="7440119">,</span>&nbsp;<span class="num" id="7440121">0xf2</span><span class="op" id="7440125">,</span>&nbsp;<span class="num" id="7440127">0x9c</span><span class="op" id="7440131">,</span>&nbsp;<span class="num" id="7440133">0xe4</span><span class="op" id="7440137">,</span>&nbsp;<span class="num" id="7440139">0x84</span><span class="op" id="7440143">,</span>&nbsp;<span class="num" id="7440145">0x22</span><span class="op" id="7440149">,</span>&nbsp;<span class="num" id="7440151">0x23</span><span class="op" id="7440155">,</span>&nbsp;<span class="num" id="7440157">0x25</span><span class="op" id="7440161">}</span><span class="op" id="7440162">,</span>&nbsp;<span class="string" id="7440164">&#34;&#34;</span><span class="op" id="7440166">}</span><span class="op" id="7440167">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440170">{</span><span class="op" id="7440171">[</span><span class="op" id="7440172">]</span><span class="builtintype" id="7440173">byte</span><span class="op" id="7440177">{</span><span class="num" id="7440178">0xaf</span><span class="op" id="7440182">,</span>&nbsp;<span class="num" id="7440184">0x63</span><span class="op" id="7440188">,</span>&nbsp;<span class="num" id="7440190">0xbd</span><span class="op" id="7440194">,</span>&nbsp;<span class="num" id="7440196">0x4c</span><span class="op" id="7440200">,</span>&nbsp;<span class="num" id="7440202">0x86</span><span class="op" id="7440206">,</span>&nbsp;<span class="num" id="7440208">0x01</span><span class="op" id="7440212">,</span>&nbsp;<span class="num" id="7440214">0xb7</span><span class="op" id="7440218">,</span>&nbsp;<span class="num" id="7440220">0xbe</span><span class="op" id="7440224">}</span><span class="op" id="7440225">,</span>&nbsp;<span class="string" id="7440227">&#34;a&#34;</span><span class="op" id="7440230">}</span><span class="op" id="7440231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440234">{</span><span class="op" id="7440235">[</span><span class="op" id="7440236">]</span><span class="builtintype" id="7440237">byte</span><span class="op" id="7440241">{</span><span class="num" id="7440242">0x08</span><span class="op" id="7440246">,</span>&nbsp;<span class="num" id="7440248">0x32</span><span class="op" id="7440252">,</span>&nbsp;<span class="num" id="7440254">0x67</span><span class="op" id="7440258">,</span>&nbsp;<span class="num" id="7440260">0x07</span><span class="op" id="7440264">,</span>&nbsp;<span class="num" id="7440266">0xb4</span><span class="op" id="7440270">,</span>&nbsp;<span class="num" id="7440272">0xeb</span><span class="op" id="7440276">,</span>&nbsp;<span class="num" id="7440278">0x37</span><span class="op" id="7440282">,</span>&nbsp;<span class="num" id="7440284">0xb8</span><span class="op" id="7440288">}</span><span class="op" id="7440289">,</span>&nbsp;<span class="string" id="7440291">&#34;ab&#34;</span><span class="op" id="7440295">}</span><span class="op" id="7440296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440299">{</span><span class="op" id="7440300">[</span><span class="op" id="7440301">]</span><span class="builtintype" id="7440302">byte</span><span class="op" id="7440306">{</span><span class="num" id="7440307">0xd8</span><span class="op" id="7440311">,</span>&nbsp;<span class="num" id="7440313">0xdc</span><span class="op" id="7440317">,</span>&nbsp;<span class="num" id="7440319">0xca</span><span class="op" id="7440323">,</span>&nbsp;<span class="num" id="7440325">0x18</span><span class="op" id="7440329">,</span>&nbsp;<span class="num" id="7440331">0x6b</span><span class="op" id="7440335">,</span>&nbsp;<span class="num" id="7440337">0xaf</span><span class="op" id="7440341">,</span>&nbsp;<span class="num" id="7440343">0xad</span><span class="op" id="7440347">,</span>&nbsp;<span class="num" id="7440349">0xcb</span><span class="op" id="7440353">}</span><span class="op" id="7440354">,</span>&nbsp;<span class="string" id="7440356">&#34;abc&#34;</span><span class="op" id="7440361">}</span><span class="op" id="7440362">,</span><br>
<span class="lineno"></span><span class="op" id="7440364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7440367">var</span>&nbsp;<span class="ident" id="7440371">golden64a</span>&nbsp;<span class="op" id="7440381">=</span>&nbsp;<span class="op" id="7440383">[</span><span class="op" id="7440384">]</span><span class="ident" id="7440385">golden</span><span class="op" id="7440391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440394">{</span><span class="op" id="7440395">[</span><span class="op" id="7440396">]</span><span class="builtintype" id="7440397">byte</span><span class="op" id="7440401">{</span><span class="num" id="7440402">0xcb</span><span class="op" id="7440406">,</span>&nbsp;<span class="num" id="7440408">0xf2</span><span class="op" id="7440412">,</span>&nbsp;<span class="num" id="7440414">0x9c</span><span class="op" id="7440418">,</span>&nbsp;<span class="num" id="7440420">0xe4</span><span class="op" id="7440424">,</span>&nbsp;<span class="num" id="7440426">0x84</span><span class="op" id="7440430">,</span>&nbsp;<span class="num" id="7440432">0x22</span><span class="op" id="7440436">,</span>&nbsp;<span class="num" id="7440438">0x23</span><span class="op" id="7440442">,</span>&nbsp;<span class="num" id="7440444">0x25</span><span class="op" id="7440448">}</span><span class="op" id="7440449">,</span>&nbsp;<span class="string" id="7440451">&#34;&#34;</span><span class="op" id="7440453">}</span><span class="op" id="7440454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440457">{</span><span class="op" id="7440458">[</span><span class="op" id="7440459">]</span><span class="builtintype" id="7440460">byte</span><span class="op" id="7440464">{</span><span class="num" id="7440465">0xaf</span><span class="op" id="7440469">,</span>&nbsp;<span class="num" id="7440471">0x63</span><span class="op" id="7440475">,</span>&nbsp;<span class="num" id="7440477">0xdc</span><span class="op" id="7440481">,</span>&nbsp;<span class="num" id="7440483">0x4c</span><span class="op" id="7440487">,</span>&nbsp;<span class="num" id="7440489">0x86</span><span class="op" id="7440493">,</span>&nbsp;<span class="num" id="7440495">0x01</span><span class="op" id="7440499">,</span>&nbsp;<span class="num" id="7440501">0xec</span><span class="op" id="7440505">,</span>&nbsp;<span class="num" id="7440507">0x8c</span><span class="op" id="7440511">}</span><span class="op" id="7440512">,</span>&nbsp;<span class="string" id="7440514">&#34;a&#34;</span><span class="op" id="7440517">}</span><span class="op" id="7440518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440521">{</span><span class="op" id="7440522">[</span><span class="op" id="7440523">]</span><span class="builtintype" id="7440524">byte</span><span class="op" id="7440528">{</span><span class="num" id="7440529">0x08</span><span class="op" id="7440533">,</span>&nbsp;<span class="num" id="7440535">0x9c</span><span class="op" id="7440539">,</span>&nbsp;<span class="num" id="7440541">0x44</span><span class="op" id="7440545">,</span>&nbsp;<span class="num" id="7440547">0x07</span><span class="op" id="7440551">,</span>&nbsp;<span class="num" id="7440553">0xb5</span><span class="op" id="7440557">,</span>&nbsp;<span class="num" id="7440559">0x45</span><span class="op" id="7440563">,</span>&nbsp;<span class="num" id="7440565">0x98</span><span class="op" id="7440569">,</span>&nbsp;<span class="num" id="7440571">0x6a</span><span class="op" id="7440575">}</span><span class="op" id="7440576">,</span>&nbsp;<span class="string" id="7440578">&#34;ab&#34;</span><span class="op" id="7440582">}</span><span class="op" id="7440583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440586">{</span><span class="op" id="7440587">[</span><span class="op" id="7440588">]</span><span class="builtintype" id="7440589">byte</span><span class="op" id="7440593">{</span><span class="num" id="7440594">0xe7</span><span class="op" id="7440598">,</span>&nbsp;<span class="num" id="7440600">0x1f</span><span class="op" id="7440604">,</span>&nbsp;<span class="num" id="7440606">0xa2</span><span class="op" id="7440610">,</span>&nbsp;<span class="num" id="7440612">0x19</span><span class="op" id="7440616">,</span>&nbsp;<span class="num" id="7440618">0x05</span><span class="op" id="7440622">,</span>&nbsp;<span class="num" id="7440624">0x41</span><span class="op" id="7440628">,</span>&nbsp;<span class="num" id="7440630">0x57</span><span class="op" id="7440634">,</span>&nbsp;<span class="num" id="7440636">0x4b</span><span class="op" id="7440640">}</span><span class="op" id="7440641">,</span>&nbsp;<span class="string" id="7440643">&#34;abc&#34;</span><span class="op" id="7440648">}</span><span class="op" id="7440649">,</span><br>
<span class="lineno">45</span><span class="op" id="7440651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440654">func</span>&nbsp;<span class="ident" id="7440659">TestGolden32</span><span class="op" id="7440671">(</span><span class="ident" id="7440672">t</span>&nbsp;<span class="op" id="7440674">*</span><span class="ident" id="7440675">testing</span><span class="op" id="7440682">.</span><span class="ident" id="7440683">T</span><span class="op" id="7440684">)</span>&nbsp;<span class="op" id="7440686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440689">testGolden</span><span class="op" id="7440699">(</span><span class="ident" id="7440700">t</span><span class="op" id="7440701">,</span>&nbsp;<span class="ident" id="7440703">New32</span><span class="op" id="7440708">(</span><span class="op" id="7440709">)</span><span class="op" id="7440710">,</span>&nbsp;<span class="ident" id="7440712">golden32</span><span class="op" id="7440720">)</span><br>
<span class="lineno"></span><span class="op" id="7440722">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7440725">func</span>&nbsp;<span class="ident" id="7440730">TestGolden32a</span><span class="op" id="7440743">(</span><span class="ident" id="7440744">t</span>&nbsp;<span class="op" id="7440746">*</span><span class="ident" id="7440747">testing</span><span class="op" id="7440754">.</span><span class="ident" id="7440755">T</span><span class="op" id="7440756">)</span>&nbsp;<span class="op" id="7440758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440761">testGolden</span><span class="op" id="7440771">(</span><span class="ident" id="7440772">t</span><span class="op" id="7440773">,</span>&nbsp;<span class="ident" id="7440775">New32a</span><span class="op" id="7440781">(</span><span class="op" id="7440782">)</span><span class="op" id="7440783">,</span>&nbsp;<span class="ident" id="7440785">golden32a</span><span class="op" id="7440794">)</span><br>
<span class="lineno"></span><span class="op" id="7440796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7440799">func</span>&nbsp;<span class="ident" id="7440804">TestGolden64</span><span class="op" id="7440816">(</span><span class="ident" id="7440817">t</span>&nbsp;<span class="op" id="7440819">*</span><span class="ident" id="7440820">testing</span><span class="op" id="7440827">.</span><span class="ident" id="7440828">T</span><span class="op" id="7440829">)</span>&nbsp;<span class="op" id="7440831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440834">testGolden</span><span class="op" id="7440844">(</span><span class="ident" id="7440845">t</span><span class="op" id="7440846">,</span>&nbsp;<span class="ident" id="7440848">New64</span><span class="op" id="7440853">(</span><span class="op" id="7440854">)</span><span class="op" id="7440855">,</span>&nbsp;<span class="ident" id="7440857">golden64</span><span class="op" id="7440865">)</span><br>
<span class="lineno"></span><span class="op" id="7440867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440870">func</span>&nbsp;<span class="ident" id="7440875">TestGolden64a</span><span class="op" id="7440888">(</span><span class="ident" id="7440889">t</span>&nbsp;<span class="op" id="7440891">*</span><span class="ident" id="7440892">testing</span><span class="op" id="7440899">.</span><span class="ident" id="7440900">T</span><span class="op" id="7440901">)</span>&nbsp;<span class="op" id="7440903">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440906">testGolden</span><span class="op" id="7440916">(</span><span class="ident" id="7440917">t</span><span class="op" id="7440918">,</span>&nbsp;<span class="ident" id="7440920">New64a</span><span class="op" id="7440926">(</span><span class="op" id="7440927">)</span><span class="op" id="7440928">,</span>&nbsp;<span class="ident" id="7440930">golden64a</span><span class="op" id="7440939">)</span><br>
<span class="lineno"></span><span class="op" id="7440941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7440944">func</span>&nbsp;<span class="ident" id="7440949">testGolden</span><span class="op" id="7440959">(</span><span class="ident" id="7440960">t</span>&nbsp;<span class="op" id="7440962">*</span><span class="ident" id="7440963">testing</span><span class="op" id="7440970">.</span><span class="ident" id="7440971">T</span><span class="op" id="7440972">,</span>&nbsp;<span class="ident" id="7440974">hash</span>&nbsp;<span class="ident" id="7440979">hash</span><span class="op" id="7440983">.</span><span class="ident" id="7440984">Hash</span><span class="op" id="7440988">,</span>&nbsp;<span class="ident" id="7440990">gold</span>&nbsp;<span class="op" id="7440995">[</span><span class="op" id="7440996">]</span><span class="ident" id="7440997">golden</span><span class="op" id="7441003">)</span>&nbsp;<span class="op" id="7441005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441008">for</span>&nbsp;<span class="ident" id="7441012">_</span><span class="op" id="7441013">,</span>&nbsp;<span class="ident" id="7441015">g</span>&nbsp;<span class="op" id="7441017">:=</span>&nbsp;<span class="keyword" id="7441020">range</span>&nbsp;<span class="ident" id="7441026">gold</span>&nbsp;<span class="op" id="7441031">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441035">hash</span><span class="op" id="7441039">.</span><span class="ident" id="7441040">Reset</span><span class="op" id="7441045">(</span><span class="op" id="7441046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441050">done</span><span class="op" id="7441054">,</span>&nbsp;<span class="builtintype" id="7441056">error</span>&nbsp;<span class="op" id="7441062">:=</span>&nbsp;<span class="ident" id="7441065">hash</span><span class="op" id="7441069">.</span><span class="ident" id="7441070">Write</span><span class="op" id="7441075">(</span><span class="op" id="7441076">[</span><span class="op" id="7441077">]</span><span class="builtintype" id="7441078">byte</span><span class="op" id="7441082">(</span><span class="ident" id="7441083">g</span><span class="op" id="7441084">.</span><span class="ident" id="7441085">text</span><span class="op" id="7441089">)</span><span class="op" id="7441090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441094">if</span>&nbsp;<span class="builtintype" id="7441097">error</span>&nbsp;<span class="op" id="7441103">!=</span>&nbsp;<span class="ident" id="7441106">nil</span>&nbsp;<span class="op" id="7441110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441115">t</span><span class="op" id="7441116">.</span><span class="ident" id="7441117">Fatalf</span><span class="op" id="7441123">(</span><span class="string" id="7441124">&#34;write&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7441141">,</span>&nbsp;<span class="builtintype" id="7441143">error</span><span class="op" id="7441148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441152">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441156">if</span>&nbsp;<span class="ident" id="7441159">done</span>&nbsp;<span class="op" id="7441164">!=</span>&nbsp;<span class="builtinfunc" id="7441167">len</span><span class="op" id="7441170">(</span><span class="ident" id="7441171">g</span><span class="op" id="7441172">.</span><span class="ident" id="7441173">text</span><span class="op" id="7441177">)</span>&nbsp;<span class="op" id="7441179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441184">t</span><span class="op" id="7441185">.</span><span class="ident" id="7441186">Fatalf</span><span class="op" id="7441192">(</span><span class="string" id="7441193">&#34;wrote&nbsp;only&nbsp;%d&nbsp;out&nbsp;of&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="7441224">,</span>&nbsp;<span class="ident" id="7441226">done</span><span class="op" id="7441230">,</span>&nbsp;<span class="builtinfunc" id="7441232">len</span><span class="op" id="7441235">(</span><span class="ident" id="7441236">g</span><span class="op" id="7441237">.</span><span class="ident" id="7441238">text</span><span class="op" id="7441242">)</span><span class="op" id="7441243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441251">if</span>&nbsp;<span class="ident" id="7441254">actual</span>&nbsp;<span class="op" id="7441261">:=</span>&nbsp;<span class="ident" id="7441264">hash</span><span class="op" id="7441268">.</span><span class="ident" id="7441269">Sum</span><span class="op" id="7441272">(</span><span class="ident" id="7441273">nil</span><span class="op" id="7441276">)</span><span class="op" id="7441277">;</span>&nbsp;<span class="op" id="7441279">!</span><span class="ident" id="7441280">bytes</span><span class="op" id="7441285">.</span><span class="ident" id="7441286">Equal</span><span class="op" id="7441291">(</span><span class="ident" id="7441292">g</span><span class="op" id="7441293">.</span><span class="ident" id="7441294">sum</span><span class="op" id="7441297">,</span>&nbsp;<span class="ident" id="7441299">actual</span><span class="op" id="7441305">)</span>&nbsp;<span class="op" id="7441307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441312">t</span><span class="op" id="7441313">.</span><span class="ident" id="7441314">Errorf</span><span class="op" id="7441320">(</span><span class="string" id="7441321">&#34;hash(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7441348">,</span>&nbsp;<span class="ident" id="7441350">g</span><span class="op" id="7441351">.</span><span class="ident" id="7441352">text</span><span class="op" id="7441356">,</span>&nbsp;<span class="ident" id="7441358">actual</span><span class="op" id="7441364">,</span>&nbsp;<span class="ident" id="7441366">g</span><span class="op" id="7441367">.</span><span class="ident" id="7441368">sum</span><span class="op" id="7441371">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441378">}</span><br>
<span class="lineno"></span><span class="op" id="7441380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7441383">func</span>&nbsp;<span class="ident" id="7441388">TestIntegrity32</span><span class="op" id="7441403">(</span><span class="ident" id="7441404">t</span>&nbsp;<span class="op" id="7441406">*</span><span class="ident" id="7441407">testing</span><span class="op" id="7441414">.</span><span class="ident" id="7441415">T</span><span class="op" id="7441416">)</span>&nbsp;<span class="op" id="7441418">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441421">testIntegrity</span><span class="op" id="7441434">(</span><span class="ident" id="7441435">t</span><span class="op" id="7441436">,</span>&nbsp;<span class="ident" id="7441438">New32</span><span class="op" id="7441443">(</span><span class="op" id="7441444">)</span><span class="op" id="7441445">)</span><br>
<span class="lineno"></span><span class="op" id="7441447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7441450">func</span>&nbsp;<span class="ident" id="7441455">TestIntegrity32a</span><span class="op" id="7441471">(</span><span class="ident" id="7441472">t</span>&nbsp;<span class="op" id="7441474">*</span><span class="ident" id="7441475">testing</span><span class="op" id="7441482">.</span><span class="ident" id="7441483">T</span><span class="op" id="7441484">)</span>&nbsp;<span class="op" id="7441486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441489">testIntegrity</span><span class="op" id="7441502">(</span><span class="ident" id="7441503">t</span><span class="op" id="7441504">,</span>&nbsp;<span class="ident" id="7441506">New32a</span><span class="op" id="7441512">(</span><span class="op" id="7441513">)</span><span class="op" id="7441514">)</span><br>
<span class="lineno">85</span><span class="op" id="7441516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7441519">func</span>&nbsp;<span class="ident" id="7441524">TestIntegrity64</span><span class="op" id="7441539">(</span><span class="ident" id="7441540">t</span>&nbsp;<span class="op" id="7441542">*</span><span class="ident" id="7441543">testing</span><span class="op" id="7441550">.</span><span class="ident" id="7441551">T</span><span class="op" id="7441552">)</span>&nbsp;<span class="op" id="7441554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441557">testIntegrity</span><span class="op" id="7441570">(</span><span class="ident" id="7441571">t</span><span class="op" id="7441572">,</span>&nbsp;<span class="ident" id="7441574">New64</span><span class="op" id="7441579">(</span><span class="op" id="7441580">)</span><span class="op" id="7441581">)</span><br>
<span class="lineno"></span><span class="op" id="7441583">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="keyword" id="7441586">func</span>&nbsp;<span class="ident" id="7441591">TestIntegrity64a</span><span class="op" id="7441607">(</span><span class="ident" id="7441608">t</span>&nbsp;<span class="op" id="7441610">*</span><span class="ident" id="7441611">testing</span><span class="op" id="7441618">.</span><span class="ident" id="7441619">T</span><span class="op" id="7441620">)</span>&nbsp;<span class="op" id="7441622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441625">testIntegrity</span><span class="op" id="7441638">(</span><span class="ident" id="7441639">t</span><span class="op" id="7441640">,</span>&nbsp;<span class="ident" id="7441642">New64a</span><span class="op" id="7441648">(</span><span class="op" id="7441649">)</span><span class="op" id="7441650">)</span><br>
<span class="lineno"></span><span class="op" id="7441652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="7441655">func</span>&nbsp;<span class="ident" id="7441660">testIntegrity</span><span class="op" id="7441673">(</span><span class="ident" id="7441674">t</span>&nbsp;<span class="op" id="7441676">*</span><span class="ident" id="7441677">testing</span><span class="op" id="7441684">.</span><span class="ident" id="7441685">T</span><span class="op" id="7441686">,</span>&nbsp;<span class="ident" id="7441688">h</span>&nbsp;<span class="ident" id="7441690">hash</span><span class="op" id="7441694">.</span><span class="ident" id="7441695">Hash</span><span class="op" id="7441699">)</span>&nbsp;<span class="op" id="7441701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441704">data</span>&nbsp;<span class="op" id="7441709">:=</span>&nbsp;<span class="op" id="7441712">[</span><span class="op" id="7441713">]</span><span class="builtintype" id="7441714">byte</span><span class="op" id="7441718">{</span><span class="string" id="7441719">&#39;1&#39;</span><span class="op" id="7441722">,</span>&nbsp;<span class="string" id="7441724">&#39;2&#39;</span><span class="op" id="7441727">,</span>&nbsp;<span class="num" id="7441729">3</span><span class="op" id="7441730">,</span>&nbsp;<span class="num" id="7441732">4</span><span class="op" id="7441733">,</span>&nbsp;<span class="num" id="7441735">5</span><span class="op" id="7441736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441739">h</span><span class="op" id="7441740">.</span><span class="ident" id="7441741">Write</span><span class="op" id="7441746">(</span><span class="ident" id="7441747">data</span><span class="op" id="7441751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441754">sum</span>&nbsp;<span class="op" id="7441758">:=</span>&nbsp;<span class="ident" id="7441761">h</span><span class="op" id="7441762">.</span><span class="ident" id="7441763">Sum</span><span class="op" id="7441766">(</span><span class="ident" id="7441767">nil</span><span class="op" id="7441770">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441774">if</span>&nbsp;<span class="ident" id="7441777">size</span>&nbsp;<span class="op" id="7441782">:=</span>&nbsp;<span class="ident" id="7441785">h</span><span class="op" id="7441786">.</span><span class="ident" id="7441787">Size</span><span class="op" id="7441791">(</span><span class="op" id="7441792">)</span><span class="op" id="7441793">;</span>&nbsp;<span class="ident" id="7441795">size</span>&nbsp;<span class="op" id="7441800">!=</span>&nbsp;<span class="builtinfunc" id="7441803">len</span><span class="op" id="7441806">(</span><span class="ident" id="7441807">sum</span><span class="op" id="7441810">)</span>&nbsp;<span class="op" id="7441812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441816">t</span><span class="op" id="7441817">.</span><span class="ident" id="7441818">Fatalf</span><span class="op" id="7441824">(</span><span class="string" id="7441825">&#34;Size()=%d&nbsp;but&nbsp;len(Sum())=%d&#34;</span><span class="op" id="7441854">,</span>&nbsp;<span class="ident" id="7441856">size</span><span class="op" id="7441860">,</span>&nbsp;<span class="builtinfunc" id="7441862">len</span><span class="op" id="7441865">(</span><span class="ident" id="7441866">sum</span><span class="op" id="7441869">)</span><span class="op" id="7441870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441877">if</span>&nbsp;<span class="ident" id="7441880">a</span>&nbsp;<span class="op" id="7441882">:=</span>&nbsp;<span class="ident" id="7441885">h</span><span class="op" id="7441886">.</span><span class="ident" id="7441887">Sum</span><span class="op" id="7441890">(</span><span class="ident" id="7441891">nil</span><span class="op" id="7441894">)</span><span class="op" id="7441895">;</span>&nbsp;<span class="op" id="7441897">!</span><span class="ident" id="7441898">bytes</span><span class="op" id="7441903">.</span><span class="ident" id="7441904">Equal</span><span class="op" id="7441909">(</span><span class="ident" id="7441910">sum</span><span class="op" id="7441913">,</span>&nbsp;<span class="ident" id="7441915">a</span><span class="op" id="7441916">)</span>&nbsp;<span class="op" id="7441918">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441922">t</span><span class="op" id="7441923">.</span><span class="ident" id="7441924">Fatalf</span><span class="op" id="7441930">(</span><span class="string" id="7441931">&#34;first&nbsp;Sum()=0x%x,&nbsp;second&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7441968">,</span>&nbsp;<span class="ident" id="7441970">sum</span><span class="op" id="7441973">,</span>&nbsp;<span class="ident" id="7441975">a</span><span class="op" id="7441976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441983">h</span><span class="op" id="7441984">.</span><span class="ident" id="7441985">Reset</span><span class="op" id="7441990">(</span><span class="op" id="7441991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441994">h</span><span class="op" id="7441995">.</span><span class="ident" id="7441996">Write</span><span class="op" id="7442001">(</span><span class="ident" id="7442002">data</span><span class="op" id="7442006">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442009">if</span>&nbsp;<span class="ident" id="7442012">a</span>&nbsp;<span class="op" id="7442014">:=</span>&nbsp;<span class="ident" id="7442017">h</span><span class="op" id="7442018">.</span><span class="ident" id="7442019">Sum</span><span class="op" id="7442022">(</span><span class="ident" id="7442023">nil</span><span class="op" id="7442026">)</span><span class="op" id="7442027">;</span>&nbsp;<span class="op" id="7442029">!</span><span class="ident" id="7442030">bytes</span><span class="op" id="7442035">.</span><span class="ident" id="7442036">Equal</span><span class="op" id="7442041">(</span><span class="ident" id="7442042">sum</span><span class="op" id="7442045">,</span>&nbsp;<span class="ident" id="7442047">a</span><span class="op" id="7442048">)</span>&nbsp;<span class="op" id="7442050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442054">t</span><span class="op" id="7442055">.</span><span class="ident" id="7442056">Fatalf</span><span class="op" id="7442062">(</span><span class="string" id="7442063">&#34;Sum()=0x%x,&nbsp;but&nbsp;after&nbsp;Reset()&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7442105">,</span>&nbsp;<span class="ident" id="7442107">sum</span><span class="op" id="7442110">,</span>&nbsp;<span class="ident" id="7442112">a</span><span class="op" id="7442113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442120">h</span><span class="op" id="7442121">.</span><span class="ident" id="7442122">Reset</span><span class="op" id="7442127">(</span><span class="op" id="7442128">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442131">h</span><span class="op" id="7442132">.</span><span class="ident" id="7442133">Write</span><span class="op" id="7442138">(</span><span class="ident" id="7442139">data</span><span class="op" id="7442143">[</span><span class="op" id="7442144">:</span><span class="num" id="7442145">2</span><span class="op" id="7442146">]</span><span class="op" id="7442147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442150">h</span><span class="op" id="7442151">.</span><span class="ident" id="7442152">Write</span><span class="op" id="7442157">(</span><span class="ident" id="7442158">data</span><span class="op" id="7442162">[</span><span class="num" id="7442163">2</span><span class="op" id="7442164">:</span><span class="op" id="7442165">]</span><span class="op" id="7442166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442169">if</span>&nbsp;<span class="ident" id="7442172">a</span>&nbsp;<span class="op" id="7442174">:=</span>&nbsp;<span class="ident" id="7442177">h</span><span class="op" id="7442178">.</span><span class="ident" id="7442179">Sum</span><span class="op" id="7442182">(</span><span class="ident" id="7442183">nil</span><span class="op" id="7442186">)</span><span class="op" id="7442187">;</span>&nbsp;<span class="op" id="7442189">!</span><span class="ident" id="7442190">bytes</span><span class="op" id="7442195">.</span><span class="ident" id="7442196">Equal</span><span class="op" id="7442201">(</span><span class="ident" id="7442202">sum</span><span class="op" id="7442205">,</span>&nbsp;<span class="ident" id="7442207">a</span><span class="op" id="7442208">)</span>&nbsp;<span class="op" id="7442210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442214">t</span><span class="op" id="7442215">.</span><span class="ident" id="7442216">Fatalf</span><span class="op" id="7442222">(</span><span class="string" id="7442223">&#34;Sum()=0x%x,&nbsp;but&nbsp;with&nbsp;partial&nbsp;writes,&nbsp;Sum()=0x%x&#34;</span><span class="op" id="7442272">,</span>&nbsp;<span class="ident" id="7442274">sum</span><span class="op" id="7442277">,</span>&nbsp;<span class="ident" id="7442279">a</span><span class="op" id="7442280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442283">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442287">switch</span>&nbsp;<span class="ident" id="7442294">h</span><span class="op" id="7442295">.</span><span class="ident" id="7442296">Size</span><span class="op" id="7442300">(</span><span class="op" id="7442301">)</span>&nbsp;<span class="op" id="7442303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442306">case</span>&nbsp;<span class="num" id="7442311">4</span><span class="op" id="7442312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442316">sum32</span>&nbsp;<span class="op" id="7442322">:=</span>&nbsp;<span class="ident" id="7442325">h</span><span class="op" id="7442326">.</span><span class="op" id="7442327">(</span><span class="ident" id="7442328">hash</span><span class="op" id="7442332">.</span><span class="ident" id="7442333">Hash32</span><span class="op" id="7442339">)</span><span class="op" id="7442340">.</span><span class="ident" id="7442341">Sum32</span><span class="op" id="7442346">(</span><span class="op" id="7442347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442351">if</span>&nbsp;<span class="ident" id="7442354">sum32</span>&nbsp;<span class="op" id="7442360">!=</span>&nbsp;<span class="ident" id="7442363">binary</span><span class="op" id="7442369">.</span><span class="ident" id="7442370">BigEndian</span><span class="op" id="7442379">.</span><span class="ident" id="7442380">Uint32</span><span class="op" id="7442386">(</span><span class="ident" id="7442387">sum</span><span class="op" id="7442390">)</span>&nbsp;<span class="op" id="7442392">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442397">t</span><span class="op" id="7442398">.</span><span class="ident" id="7442399">Fatalf</span><span class="op" id="7442405">(</span><span class="string" id="7442406">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum32()=0x%x&#34;</span><span class="op" id="7442436">,</span>&nbsp;<span class="ident" id="7442438">sum</span><span class="op" id="7442441">,</span>&nbsp;<span class="ident" id="7442443">sum32</span><span class="op" id="7442448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442455">case</span>&nbsp;<span class="num" id="7442460">8</span><span class="op" id="7442461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442465">sum64</span>&nbsp;<span class="op" id="7442471">:=</span>&nbsp;<span class="ident" id="7442474">h</span><span class="op" id="7442475">.</span><span class="op" id="7442476">(</span><span class="ident" id="7442477">hash</span><span class="op" id="7442481">.</span><span class="ident" id="7442482">Hash64</span><span class="op" id="7442488">)</span><span class="op" id="7442489">.</span><span class="ident" id="7442490">Sum64</span><span class="op" id="7442495">(</span><span class="op" id="7442496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442500">if</span>&nbsp;<span class="ident" id="7442503">sum64</span>&nbsp;<span class="op" id="7442509">!=</span>&nbsp;<span class="ident" id="7442512">binary</span><span class="op" id="7442518">.</span><span class="ident" id="7442519">BigEndian</span><span class="op" id="7442528">.</span><span class="ident" id="7442529">Uint64</span><span class="op" id="7442535">(</span><span class="ident" id="7442536">sum</span><span class="op" id="7442539">)</span>&nbsp;<span class="op" id="7442541">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442546">t</span><span class="op" id="7442547">.</span><span class="ident" id="7442548">Fatalf</span><span class="op" id="7442554">(</span><span class="string" id="7442555">&#34;Sum()=0x%x,&nbsp;but&nbsp;Sum64()=0x%x&#34;</span><span class="op" id="7442585">,</span>&nbsp;<span class="ident" id="7442587">sum</span><span class="op" id="7442590">,</span>&nbsp;<span class="ident" id="7442592">sum64</span><span class="op" id="7442597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7442604">}</span><br>
<span class="lineno"></span><span class="op" id="7442606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="7442609">func</span>&nbsp;<span class="ident" id="7442614">BenchmarkFnv32KB</span><span class="op" id="7442630">(</span><span class="ident" id="7442631">b</span>&nbsp;<span class="op" id="7442633">*</span><span class="ident" id="7442634">testing</span><span class="op" id="7442641">.</span><span class="ident" id="7442642">B</span><span class="op" id="7442643">)</span>&nbsp;<span class="op" id="7442645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442648">benchmarkKB</span><span class="op" id="7442659">(</span><span class="ident" id="7442660">b</span><span class="op" id="7442661">,</span>&nbsp;<span class="ident" id="7442663">New32</span><span class="op" id="7442668">(</span><span class="op" id="7442669">)</span><span class="op" id="7442670">)</span><br>
<span class="lineno"></span><span class="op" id="7442672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7442675">func</span>&nbsp;<span class="ident" id="7442680">BenchmarkFnv32aKB</span><span class="op" id="7442697">(</span><span class="ident" id="7442698">b</span>&nbsp;<span class="op" id="7442700">*</span><span class="ident" id="7442701">testing</span><span class="op" id="7442708">.</span><span class="ident" id="7442709">B</span><span class="op" id="7442710">)</span>&nbsp;<span class="op" id="7442712">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442715">benchmarkKB</span><span class="op" id="7442726">(</span><span class="ident" id="7442727">b</span><span class="op" id="7442728">,</span>&nbsp;<span class="ident" id="7442730">New32a</span><span class="op" id="7442736">(</span><span class="op" id="7442737">)</span><span class="op" id="7442738">)</span><br>
<span class="lineno"></span><span class="op" id="7442740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7442743">func</span>&nbsp;<span class="ident" id="7442748">BenchmarkFnv64KB</span><span class="op" id="7442764">(</span><span class="ident" id="7442765">b</span>&nbsp;<span class="op" id="7442767">*</span><span class="ident" id="7442768">testing</span><span class="op" id="7442775">.</span><span class="ident" id="7442776">B</span><span class="op" id="7442777">)</span>&nbsp;<span class="op" id="7442779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442782">benchmarkKB</span><span class="op" id="7442793">(</span><span class="ident" id="7442794">b</span><span class="op" id="7442795">,</span>&nbsp;<span class="ident" id="7442797">New64</span><span class="op" id="7442802">(</span><span class="op" id="7442803">)</span><span class="op" id="7442804">)</span><br>
<span class="lineno">145</span><span class="op" id="7442806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7442809">func</span>&nbsp;<span class="ident" id="7442814">BenchmarkFnv64aKB</span><span class="op" id="7442831">(</span><span class="ident" id="7442832">b</span>&nbsp;<span class="op" id="7442834">*</span><span class="ident" id="7442835">testing</span><span class="op" id="7442842">.</span><span class="ident" id="7442843">B</span><span class="op" id="7442844">)</span>&nbsp;<span class="op" id="7442846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442849">benchmarkKB</span><span class="op" id="7442860">(</span><span class="ident" id="7442861">b</span><span class="op" id="7442862">,</span>&nbsp;<span class="ident" id="7442864">New64a</span><span class="op" id="7442870">(</span><span class="op" id="7442871">)</span><span class="op" id="7442872">)</span><br>
<span class="lineno"></span><span class="op" id="7442874">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="7442877">func</span>&nbsp;<span class="ident" id="7442882">benchmarkKB</span><span class="op" id="7442893">(</span><span class="ident" id="7442894">b</span>&nbsp;<span class="op" id="7442896">*</span><span class="ident" id="7442897">testing</span><span class="op" id="7442904">.</span><span class="ident" id="7442905">B</span><span class="op" id="7442906">,</span>&nbsp;<span class="ident" id="7442908">h</span>&nbsp;<span class="ident" id="7442910">hash</span><span class="op" id="7442914">.</span><span class="ident" id="7442915">Hash</span><span class="op" id="7442919">)</span>&nbsp;<span class="op" id="7442921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442924">b</span><span class="op" id="7442925">.</span><span class="ident" id="7442926">SetBytes</span><span class="op" id="7442934">(</span><span class="num" id="7442935">1024</span><span class="op" id="7442939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442942">data</span>&nbsp;<span class="op" id="7442947">:=</span>&nbsp;<span class="builtinfunc" id="7442950">make</span><span class="op" id="7442954">(</span><span class="op" id="7442955">[</span><span class="op" id="7442956">]</span><span class="builtintype" id="7442957">byte</span><span class="op" id="7442961">,</span>&nbsp;<span class="num" id="7442963">1024</span><span class="op" id="7442967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7442970">for</span>&nbsp;<span class="ident" id="7442974">i</span>&nbsp;<span class="op" id="7442976">:=</span>&nbsp;<span class="keyword" id="7442979">range</span>&nbsp;<span class="ident" id="7442985">data</span>&nbsp;<span class="op" id="7442990">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7442994">data</span><span class="op" id="7442998">[</span><span class="ident" id="7442999">i</span><span class="op" id="7443000">]</span>&nbsp;<span class="op" id="7443002">=</span>&nbsp;<span class="builtintype" id="7443004">byte</span><span class="op" id="7443008">(</span><span class="ident" id="7443009">i</span><span class="op" id="7443010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443016">in</span>&nbsp;<span class="op" id="7443019">:=</span>&nbsp;<span class="builtinfunc" id="7443022">make</span><span class="op" id="7443026">(</span><span class="op" id="7443027">[</span><span class="op" id="7443028">]</span><span class="builtintype" id="7443029">byte</span><span class="op" id="7443033">,</span>&nbsp;<span class="num" id="7443035">0</span><span class="op" id="7443036">,</span>&nbsp;<span class="ident" id="7443038">h</span><span class="op" id="7443039">.</span><span class="ident" id="7443040">Size</span><span class="op" id="7443044">(</span><span class="op" id="7443045">)</span><span class="op" id="7443046">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443050">b</span><span class="op" id="7443051">.</span><span class="ident" id="7443052">ResetTimer</span><span class="op" id="7443062">(</span><span class="op" id="7443063">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7443066">for</span>&nbsp;<span class="ident" id="7443070">i</span>&nbsp;<span class="op" id="7443072">:=</span>&nbsp;<span class="num" id="7443075">0</span><span class="op" id="7443076">;</span>&nbsp;<span class="ident" id="7443078">i</span>&nbsp;<span class="op" id="7443080">&lt;</span>&nbsp;<span class="ident" id="7443082">b</span><span class="op" id="7443083">.</span><span class="ident" id="7443084">N</span><span class="op" id="7443085">;</span>&nbsp;<span class="ident" id="7443087">i</span><span class="op" id="7443088">++</span>&nbsp;<span class="op" id="7443091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443095">h</span><span class="op" id="7443096">.</span><span class="ident" id="7443097">Reset</span><span class="op" id="7443102">(</span><span class="op" id="7443103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443107">h</span><span class="op" id="7443108">.</span><span class="ident" id="7443109">Write</span><span class="op" id="7443114">(</span><span class="ident" id="7443115">data</span><span class="op" id="7443119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7443123">h</span><span class="op" id="7443124">.</span><span class="ident" id="7443125">Sum</span><span class="op" id="7443128">(</span><span class="ident" id="7443129">in</span><span class="op" id="7443131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7443134">}</span><br>
<span class="lineno">165</span><span class="op" id="7443136">}</span>
</div>
</body>
</html>
