<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html" class="current">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6410850">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6410905">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6410959">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6411010">package</span>&nbsp;<span class="ident" id="6411018">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6411025">import</span>&nbsp;<span class="op" id="6411032">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411035">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6411050">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6411060">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6411063">func</span>&nbsp;<span class="ident" id="6411068">TestYCbCr</span><span class="op" id="6411077">(</span><span class="ident" id="6411078">t</span>&nbsp;<span class="op" id="6411080">*</span><span class="ident" id="6411081">testing</span><span class="op" id="6411088">.</span><span class="ident" id="6411089">T</span><span class="op" id="6411090">)</span>&nbsp;<span class="op" id="6411092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411095">rects</span>&nbsp;<span class="op" id="6411101">:=</span>&nbsp;<span class="op" id="6411104">[</span><span class="op" id="6411105">]</span><span class="ident" id="6411106">Rectangle</span><span class="op" id="6411115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411119">Rect</span><span class="op" id="6411123">(</span><span class="num" id="6411124">0</span><span class="op" id="6411125">,</span>&nbsp;<span class="num" id="6411127">0</span><span class="op" id="6411128">,</span>&nbsp;<span class="num" id="6411130">16</span><span class="op" id="6411132">,</span>&nbsp;<span class="num" id="6411134">16</span><span class="op" id="6411136">)</span><span class="op" id="6411137">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411141">Rect</span><span class="op" id="6411145">(</span><span class="num" id="6411146">1</span><span class="op" id="6411147">,</span>&nbsp;<span class="num" id="6411149">0</span><span class="op" id="6411150">,</span>&nbsp;<span class="num" id="6411152">16</span><span class="op" id="6411154">,</span>&nbsp;<span class="num" id="6411156">16</span><span class="op" id="6411158">)</span><span class="op" id="6411159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411163">Rect</span><span class="op" id="6411167">(</span><span class="num" id="6411168">0</span><span class="op" id="6411169">,</span>&nbsp;<span class="num" id="6411171">1</span><span class="op" id="6411172">,</span>&nbsp;<span class="num" id="6411174">16</span><span class="op" id="6411176">,</span>&nbsp;<span class="num" id="6411178">16</span><span class="op" id="6411180">)</span><span class="op" id="6411181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411185">Rect</span><span class="op" id="6411189">(</span><span class="num" id="6411190">1</span><span class="op" id="6411191">,</span>&nbsp;<span class="num" id="6411193">1</span><span class="op" id="6411194">,</span>&nbsp;<span class="num" id="6411196">16</span><span class="op" id="6411198">,</span>&nbsp;<span class="num" id="6411200">16</span><span class="op" id="6411202">)</span><span class="op" id="6411203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411207">Rect</span><span class="op" id="6411211">(</span><span class="num" id="6411212">1</span><span class="op" id="6411213">,</span>&nbsp;<span class="num" id="6411215">1</span><span class="op" id="6411216">,</span>&nbsp;<span class="num" id="6411218">15</span><span class="op" id="6411220">,</span>&nbsp;<span class="num" id="6411222">16</span><span class="op" id="6411224">)</span><span class="op" id="6411225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411229">Rect</span><span class="op" id="6411233">(</span><span class="num" id="6411234">1</span><span class="op" id="6411235">,</span>&nbsp;<span class="num" id="6411237">1</span><span class="op" id="6411238">,</span>&nbsp;<span class="num" id="6411240">16</span><span class="op" id="6411242">,</span>&nbsp;<span class="num" id="6411244">15</span><span class="op" id="6411246">)</span><span class="op" id="6411247">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411251">Rect</span><span class="op" id="6411255">(</span><span class="num" id="6411256">1</span><span class="op" id="6411257">,</span>&nbsp;<span class="num" id="6411259">1</span><span class="op" id="6411260">,</span>&nbsp;<span class="num" id="6411262">15</span><span class="op" id="6411264">,</span>&nbsp;<span class="num" id="6411266">15</span><span class="op" id="6411268">)</span><span class="op" id="6411269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411273">Rect</span><span class="op" id="6411277">(</span><span class="num" id="6411278">2</span><span class="op" id="6411279">,</span>&nbsp;<span class="num" id="6411281">3</span><span class="op" id="6411282">,</span>&nbsp;<span class="num" id="6411284">14</span><span class="op" id="6411286">,</span>&nbsp;<span class="num" id="6411288">15</span><span class="op" id="6411290">)</span><span class="op" id="6411291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411295">Rect</span><span class="op" id="6411299">(</span><span class="num" id="6411300">7</span><span class="op" id="6411301">,</span>&nbsp;<span class="num" id="6411303">0</span><span class="op" id="6411304">,</span>&nbsp;<span class="num" id="6411306">7</span><span class="op" id="6411307">,</span>&nbsp;<span class="num" id="6411309">16</span><span class="op" id="6411311">)</span><span class="op" id="6411312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411316">Rect</span><span class="op" id="6411320">(</span><span class="num" id="6411321">0</span><span class="op" id="6411322">,</span>&nbsp;<span class="num" id="6411324">8</span><span class="op" id="6411325">,</span>&nbsp;<span class="num" id="6411327">16</span><span class="op" id="6411329">,</span>&nbsp;<span class="num" id="6411331">8</span><span class="op" id="6411332">)</span><span class="op" id="6411333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411337">Rect</span><span class="op" id="6411341">(</span><span class="num" id="6411342">0</span><span class="op" id="6411343">,</span>&nbsp;<span class="num" id="6411345">0</span><span class="op" id="6411346">,</span>&nbsp;<span class="num" id="6411348">10</span><span class="op" id="6411350">,</span>&nbsp;<span class="num" id="6411352">11</span><span class="op" id="6411354">)</span><span class="op" id="6411355">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411359">Rect</span><span class="op" id="6411363">(</span><span class="num" id="6411364">5</span><span class="op" id="6411365">,</span>&nbsp;<span class="num" id="6411367">6</span><span class="op" id="6411368">,</span>&nbsp;<span class="num" id="6411370">16</span><span class="op" id="6411372">,</span>&nbsp;<span class="num" id="6411374">16</span><span class="op" id="6411376">)</span><span class="op" id="6411377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411381">Rect</span><span class="op" id="6411385">(</span><span class="num" id="6411386">7</span><span class="op" id="6411387">,</span>&nbsp;<span class="num" id="6411389">7</span><span class="op" id="6411390">,</span>&nbsp;<span class="num" id="6411392">8</span><span class="op" id="6411393">,</span>&nbsp;<span class="num" id="6411395">8</span><span class="op" id="6411396">)</span><span class="op" id="6411397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411401">Rect</span><span class="op" id="6411405">(</span><span class="num" id="6411406">7</span><span class="op" id="6411407">,</span>&nbsp;<span class="num" id="6411409">8</span><span class="op" id="6411410">,</span>&nbsp;<span class="num" id="6411412">8</span><span class="op" id="6411413">,</span>&nbsp;<span class="num" id="6411415">9</span><span class="op" id="6411416">)</span><span class="op" id="6411417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411421">Rect</span><span class="op" id="6411425">(</span><span class="num" id="6411426">8</span><span class="op" id="6411427">,</span>&nbsp;<span class="num" id="6411429">7</span><span class="op" id="6411430">,</span>&nbsp;<span class="num" id="6411432">9</span><span class="op" id="6411433">,</span>&nbsp;<span class="num" id="6411435">8</span><span class="op" id="6411436">)</span><span class="op" id="6411437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411441">Rect</span><span class="op" id="6411445">(</span><span class="num" id="6411446">8</span><span class="op" id="6411447">,</span>&nbsp;<span class="num" id="6411449">8</span><span class="op" id="6411450">,</span>&nbsp;<span class="num" id="6411452">9</span><span class="op" id="6411453">,</span>&nbsp;<span class="num" id="6411455">9</span><span class="op" id="6411456">)</span><span class="op" id="6411457">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411461">Rect</span><span class="op" id="6411465">(</span><span class="num" id="6411466">7</span><span class="op" id="6411467">,</span>&nbsp;<span class="num" id="6411469">7</span><span class="op" id="6411470">,</span>&nbsp;<span class="num" id="6411472">17</span><span class="op" id="6411474">,</span>&nbsp;<span class="num" id="6411476">17</span><span class="op" id="6411478">)</span><span class="op" id="6411479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411483">Rect</span><span class="op" id="6411487">(</span><span class="num" id="6411488">8</span><span class="op" id="6411489">,</span>&nbsp;<span class="num" id="6411491">8</span><span class="op" id="6411492">,</span>&nbsp;<span class="num" id="6411494">17</span><span class="op" id="6411496">,</span>&nbsp;<span class="num" id="6411498">17</span><span class="op" id="6411500">)</span><span class="op" id="6411501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411505">Rect</span><span class="op" id="6411509">(</span><span class="num" id="6411510">9</span><span class="op" id="6411511">,</span>&nbsp;<span class="num" id="6411513">9</span><span class="op" id="6411514">,</span>&nbsp;<span class="num" id="6411516">17</span><span class="op" id="6411518">,</span>&nbsp;<span class="num" id="6411520">17</span><span class="op" id="6411522">)</span><span class="op" id="6411523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411527">Rect</span><span class="op" id="6411531">(</span><span class="num" id="6411532">10</span><span class="op" id="6411534">,</span>&nbsp;<span class="num" id="6411536">10</span><span class="op" id="6411538">,</span>&nbsp;<span class="num" id="6411540">17</span><span class="op" id="6411542">,</span>&nbsp;<span class="num" id="6411544">17</span><span class="op" id="6411546">)</span><span class="op" id="6411547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411550">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411553">subsampleRatios</span>&nbsp;<span class="op" id="6411569">:=</span>&nbsp;<span class="op" id="6411572">[</span><span class="op" id="6411573">]</span><span class="ident" id="6411574">YCbCrSubsampleRatio</span><span class="op" id="6411593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411597">YCbCrSubsampleRatio444</span><span class="op" id="6411619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411623">YCbCrSubsampleRatio422</span><span class="op" id="6411645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411649">YCbCrSubsampleRatio420</span><span class="op" id="6411671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411675">YCbCrSubsampleRatio440</span><span class="op" id="6411697">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411703">deltas</span>&nbsp;<span class="op" id="6411710">:=</span>&nbsp;<span class="op" id="6411713">[</span><span class="op" id="6411714">]</span><span class="ident" id="6411715">Point</span><span class="op" id="6411720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411724">Pt</span><span class="op" id="6411726">(</span><span class="num" id="6411727">0</span><span class="op" id="6411728">,</span>&nbsp;<span class="num" id="6411730">0</span><span class="op" id="6411731">)</span><span class="op" id="6411732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411736">Pt</span><span class="op" id="6411738">(</span><span class="num" id="6411739">1000</span><span class="op" id="6411743">,</span>&nbsp;<span class="num" id="6411745">1001</span><span class="op" id="6411749">)</span><span class="op" id="6411750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411754">Pt</span><span class="op" id="6411756">(</span><span class="num" id="6411757">5001</span><span class="op" id="6411761">,</span>&nbsp;<span class="op" id="6411763">-</span><span class="num" id="6411764">400</span><span class="op" id="6411767">)</span><span class="op" id="6411768">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411772">Pt</span><span class="op" id="6411774">(</span><span class="op" id="6411775">-</span><span class="num" id="6411776">701</span><span class="op" id="6411779">,</span>&nbsp;<span class="op" id="6411781">-</span><span class="num" id="6411782">801</span><span class="op" id="6411785">)</span><span class="op" id="6411786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411792">for</span>&nbsp;<span class="ident" id="6411796">_</span><span class="op" id="6411797">,</span>&nbsp;<span class="ident" id="6411799">r</span>&nbsp;<span class="op" id="6411801">:=</span>&nbsp;<span class="keyword" id="6411804">range</span>&nbsp;<span class="ident" id="6411810">rects</span>&nbsp;<span class="op" id="6411816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411820">for</span>&nbsp;<span class="ident" id="6411824">_</span><span class="op" id="6411825">,</span>&nbsp;<span class="ident" id="6411827">subsampleRatio</span>&nbsp;<span class="op" id="6411842">:=</span>&nbsp;<span class="keyword" id="6411845">range</span>&nbsp;<span class="ident" id="6411851">subsampleRatios</span>&nbsp;<span class="op" id="6411867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411872">for</span>&nbsp;<span class="ident" id="6411876">_</span><span class="op" id="6411877">,</span>&nbsp;<span class="ident" id="6411879">delta</span>&nbsp;<span class="op" id="6411885">:=</span>&nbsp;<span class="keyword" id="6411888">range</span>&nbsp;<span class="ident" id="6411894">deltas</span>&nbsp;<span class="op" id="6411901">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6411907">testYCbCr</span><span class="op" id="6411916">(</span><span class="ident" id="6411917">t</span><span class="op" id="6411918">,</span>&nbsp;<span class="ident" id="6411920">r</span><span class="op" id="6411921">,</span>&nbsp;<span class="ident" id="6411923">subsampleRatio</span><span class="op" id="6411937">,</span>&nbsp;<span class="ident" id="6411939">delta</span><span class="op" id="6411944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411957">if</span>&nbsp;<span class="ident" id="6411960">testing</span><span class="op" id="6411967">.</span><span class="ident" id="6411968">Short</span><span class="op" id="6411973">(</span><span class="op" id="6411974">)</span>&nbsp;<span class="op" id="6411976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6411981">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6411992">}</span><br>
<span class="lineno"></span><span class="op" id="6411994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6411997">func</span>&nbsp;<span class="ident" id="6412002">testYCbCr</span><span class="op" id="6412011">(</span><span class="ident" id="6412012">t</span>&nbsp;<span class="op" id="6412014">*</span><span class="ident" id="6412015">testing</span><span class="op" id="6412022">.</span><span class="ident" id="6412023">T</span><span class="op" id="6412024">,</span>&nbsp;<span class="ident" id="6412026">r</span>&nbsp;<span class="ident" id="6412028">Rectangle</span><span class="op" id="6412037">,</span>&nbsp;<span class="ident" id="6412039">subsampleRatio</span>&nbsp;<span class="ident" id="6412054">YCbCrSubsampleRatio</span><span class="op" id="6412073">,</span>&nbsp;<span class="ident" id="6412075">delta</span>&nbsp;<span class="ident" id="6412081">Point</span><span class="op" id="6412086">)</span>&nbsp;<span class="op" id="6412088">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6412091">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412172">r1</span>&nbsp;<span class="op" id="6412175">:=</span>&nbsp;<span class="ident" id="6412178">r</span><span class="op" id="6412179">.</span><span class="ident" id="6412180">Add</span><span class="op" id="6412183">(</span><span class="ident" id="6412184">delta</span><span class="op" id="6412189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412192">m</span>&nbsp;<span class="op" id="6412194">:=</span>&nbsp;<span class="ident" id="6412197">NewYCbCr</span><span class="op" id="6412205">(</span><span class="ident" id="6412206">r1</span><span class="op" id="6412208">,</span>&nbsp;<span class="ident" id="6412210">subsampleRatio</span><span class="op" id="6412224">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6412228">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412330">if</span>&nbsp;<span class="builtinfunc" id="6412333">len</span><span class="op" id="6412336">(</span><span class="ident" id="6412337">m</span><span class="op" id="6412338">.</span><span class="ident" id="6412339">Y</span><span class="op" id="6412340">)</span>&nbsp;<span class="op" id="6412342">&gt;</span>&nbsp;<span class="num" id="6412344">100</span><span class="op" id="6412347">*</span><span class="num" id="6412348">100</span>&nbsp;<span class="op" id="6412352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412356">t</span><span class="op" id="6412357">.</span><span class="ident" id="6412358">Errorf</span><span class="op" id="6412364">(</span><span class="string" id="6412365">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="6412427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412432">r</span><span class="op" id="6412433">,</span>&nbsp;<span class="ident" id="6412435">subsampleRatio</span><span class="op" id="6412449">,</span>&nbsp;<span class="ident" id="6412451">delta</span><span class="op" id="6412456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412460">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412468">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6412472">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6412559">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412641">for</span>&nbsp;<span class="ident" id="6412645">y</span>&nbsp;<span class="op" id="6412647">:=</span>&nbsp;<span class="ident" id="6412650">r1</span><span class="op" id="6412652">.</span><span class="ident" id="6412653">Min</span><span class="op" id="6412656">.</span><span class="ident" id="6412657">Y</span><span class="op" id="6412658">;</span>&nbsp;<span class="ident" id="6412660">y</span>&nbsp;<span class="op" id="6412662">&lt;</span>&nbsp;<span class="ident" id="6412664">r1</span><span class="op" id="6412666">.</span><span class="ident" id="6412667">Max</span><span class="op" id="6412670">.</span><span class="ident" id="6412671">Y</span><span class="op" id="6412672">;</span>&nbsp;<span class="ident" id="6412674">y</span><span class="op" id="6412675">++</span>&nbsp;<span class="op" id="6412678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412682">for</span>&nbsp;<span class="ident" id="6412686">x</span>&nbsp;<span class="op" id="6412688">:=</span>&nbsp;<span class="ident" id="6412691">r1</span><span class="op" id="6412693">.</span><span class="ident" id="6412694">Min</span><span class="op" id="6412697">.</span><span class="ident" id="6412698">X</span><span class="op" id="6412699">;</span>&nbsp;<span class="ident" id="6412701">x</span>&nbsp;<span class="op" id="6412703">&lt;</span>&nbsp;<span class="ident" id="6412705">r1</span><span class="op" id="6412707">.</span><span class="ident" id="6412708">Max</span><span class="op" id="6412711">.</span><span class="ident" id="6412712">X</span><span class="op" id="6412713">;</span>&nbsp;<span class="ident" id="6412715">x</span><span class="op" id="6412716">++</span>&nbsp;<span class="op" id="6412719">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412724">yi</span>&nbsp;<span class="op" id="6412727">:=</span>&nbsp;<span class="ident" id="6412730">m</span><span class="op" id="6412731">.</span><span class="ident" id="6412732">YOffset</span><span class="op" id="6412739">(</span><span class="ident" id="6412740">x</span><span class="op" id="6412741">,</span>&nbsp;<span class="ident" id="6412743">y</span><span class="op" id="6412744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412749">ci</span>&nbsp;<span class="op" id="6412752">:=</span>&nbsp;<span class="ident" id="6412755">m</span><span class="op" id="6412756">.</span><span class="ident" id="6412757">COffset</span><span class="op" id="6412764">(</span><span class="ident" id="6412765">x</span><span class="op" id="6412766">,</span>&nbsp;<span class="ident" id="6412768">y</span><span class="op" id="6412769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412774">m</span><span class="op" id="6412775">.</span><span class="ident" id="6412776">Y</span><span class="op" id="6412777">[</span><span class="ident" id="6412778">yi</span><span class="op" id="6412780">]</span>&nbsp;<span class="op" id="6412782">=</span>&nbsp;<span class="builtintype" id="6412784">uint8</span><span class="op" id="6412789">(</span><span class="num" id="6412790">16</span><span class="op" id="6412792">*</span><span class="ident" id="6412793">y</span>&nbsp;<span class="op" id="6412795">+</span>&nbsp;<span class="ident" id="6412797">x</span><span class="op" id="6412798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412803">m</span><span class="op" id="6412804">.</span><span class="ident" id="6412805">Cb</span><span class="op" id="6412807">[</span><span class="ident" id="6412808">ci</span><span class="op" id="6412810">]</span>&nbsp;<span class="op" id="6412812">=</span>&nbsp;<span class="builtintype" id="6412814">uint8</span><span class="op" id="6412819">(</span><span class="ident" id="6412820">y</span>&nbsp;<span class="op" id="6412822">+</span>&nbsp;<span class="num" id="6412824">16</span><span class="op" id="6412826">*</span><span class="ident" id="6412827">x</span><span class="op" id="6412828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6412833">m</span><span class="op" id="6412834">.</span><span class="ident" id="6412835">Cr</span><span class="op" id="6412837">[</span><span class="ident" id="6412838">ci</span><span class="op" id="6412840">]</span>&nbsp;<span class="op" id="6412842">=</span>&nbsp;<span class="builtintype" id="6412844">uint8</span><span class="op" id="6412849">(</span><span class="ident" id="6412850">y</span>&nbsp;<span class="op" id="6412852">+</span>&nbsp;<span class="num" id="6412854">16</span><span class="op" id="6412856">*</span><span class="ident" id="6412857">x</span><span class="op" id="6412858">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6412865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6412869">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412903">for</span>&nbsp;<span class="ident" id="6412907">y0</span>&nbsp;<span class="op" id="6412910">:=</span>&nbsp;<span class="ident" id="6412913">delta</span><span class="op" id="6412918">.</span><span class="ident" id="6412919">Y</span>&nbsp;<span class="op" id="6412921">+</span>&nbsp;<span class="num" id="6412923">3</span><span class="op" id="6412924">;</span>&nbsp;<span class="ident" id="6412926">y0</span>&nbsp;<span class="op" id="6412929">&lt;</span>&nbsp;<span class="ident" id="6412931">delta</span><span class="op" id="6412936">.</span><span class="ident" id="6412937">Y</span><span class="op" id="6412938">+</span><span class="num" id="6412939">7</span><span class="op" id="6412940">;</span>&nbsp;<span class="ident" id="6412942">y0</span><span class="op" id="6412944">++</span>&nbsp;<span class="op" id="6412947">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6412951">for</span>&nbsp;<span class="ident" id="6412955">y1</span>&nbsp;<span class="op" id="6412958">:=</span>&nbsp;<span class="ident" id="6412961">delta</span><span class="op" id="6412966">.</span><span class="ident" id="6412967">Y</span>&nbsp;<span class="op" id="6412969">+</span>&nbsp;<span class="num" id="6412971">8</span><span class="op" id="6412972">;</span>&nbsp;<span class="ident" id="6412974">y1</span>&nbsp;<span class="op" id="6412977">&lt;</span>&nbsp;<span class="ident" id="6412979">delta</span><span class="op" id="6412984">.</span><span class="ident" id="6412985">Y</span><span class="op" id="6412986">+</span><span class="num" id="6412987">13</span><span class="op" id="6412989">;</span>&nbsp;<span class="ident" id="6412991">y1</span><span class="op" id="6412993">++</span>&nbsp;<span class="op" id="6412996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413001">for</span>&nbsp;<span class="ident" id="6413005">x0</span>&nbsp;<span class="op" id="6413008">:=</span>&nbsp;<span class="ident" id="6413011">delta</span><span class="op" id="6413016">.</span><span class="ident" id="6413017">X</span>&nbsp;<span class="op" id="6413019">+</span>&nbsp;<span class="num" id="6413021">3</span><span class="op" id="6413022">;</span>&nbsp;<span class="ident" id="6413024">x0</span>&nbsp;<span class="op" id="6413027">&lt;</span>&nbsp;<span class="ident" id="6413029">delta</span><span class="op" id="6413034">.</span><span class="ident" id="6413035">X</span><span class="op" id="6413036">+</span><span class="num" id="6413037">7</span><span class="op" id="6413038">;</span>&nbsp;<span class="ident" id="6413040">x0</span><span class="op" id="6413042">++</span>&nbsp;<span class="op" id="6413045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413051">for</span>&nbsp;<span class="ident" id="6413055">x1</span>&nbsp;<span class="op" id="6413058">:=</span>&nbsp;<span class="ident" id="6413061">delta</span><span class="op" id="6413066">.</span><span class="ident" id="6413067">X</span>&nbsp;<span class="op" id="6413069">+</span>&nbsp;<span class="num" id="6413071">8</span><span class="op" id="6413072">;</span>&nbsp;<span class="ident" id="6413074">x1</span>&nbsp;<span class="op" id="6413077">&lt;</span>&nbsp;<span class="ident" id="6413079">delta</span><span class="op" id="6413084">.</span><span class="ident" id="6413085">X</span><span class="op" id="6413086">+</span><span class="num" id="6413087">13</span><span class="op" id="6413089">;</span>&nbsp;<span class="ident" id="6413091">x1</span><span class="op" id="6413093">++</span>&nbsp;<span class="op" id="6413096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413103">subRect</span>&nbsp;<span class="op" id="6413111">:=</span>&nbsp;<span class="ident" id="6413114">Rect</span><span class="op" id="6413118">(</span><span class="ident" id="6413119">x0</span><span class="op" id="6413121">,</span>&nbsp;<span class="ident" id="6413123">y0</span><span class="op" id="6413125">,</span>&nbsp;<span class="ident" id="6413127">x1</span><span class="op" id="6413129">,</span>&nbsp;<span class="ident" id="6413131">y1</span><span class="op" id="6413133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413140">sub</span>&nbsp;<span class="op" id="6413144">:=</span>&nbsp;<span class="ident" id="6413147">m</span><span class="op" id="6413148">.</span><span class="ident" id="6413149">SubImage</span><span class="op" id="6413157">(</span><span class="ident" id="6413158">subRect</span><span class="op" id="6413165">)</span><span class="op" id="6413166">.</span><span class="op" id="6413167">(</span><span class="op" id="6413168">*</span><span class="ident" id="6413169">YCbCr</span><span class="op" id="6413174">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6413182">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413275">for</span>&nbsp;<span class="ident" id="6413279">y</span>&nbsp;<span class="op" id="6413281">:=</span>&nbsp;<span class="ident" id="6413284">sub</span><span class="op" id="6413287">.</span><span class="ident" id="6413288">Rect</span><span class="op" id="6413292">.</span><span class="ident" id="6413293">Min</span><span class="op" id="6413296">.</span><span class="ident" id="6413297">Y</span><span class="op" id="6413298">;</span>&nbsp;<span class="ident" id="6413300">y</span>&nbsp;<span class="op" id="6413302">&lt;</span>&nbsp;<span class="ident" id="6413304">sub</span><span class="op" id="6413307">.</span><span class="ident" id="6413308">Rect</span><span class="op" id="6413312">.</span><span class="ident" id="6413313">Max</span><span class="op" id="6413316">.</span><span class="ident" id="6413317">Y</span><span class="op" id="6413318">;</span>&nbsp;<span class="ident" id="6413320">y</span><span class="op" id="6413321">++</span>&nbsp;<span class="op" id="6413324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413332">for</span>&nbsp;<span class="ident" id="6413336">x</span>&nbsp;<span class="op" id="6413338">:=</span>&nbsp;<span class="ident" id="6413341">sub</span><span class="op" id="6413344">.</span><span class="ident" id="6413345">Rect</span><span class="op" id="6413349">.</span><span class="ident" id="6413350">Min</span><span class="op" id="6413353">.</span><span class="ident" id="6413354">X</span><span class="op" id="6413355">;</span>&nbsp;<span class="ident" id="6413357">x</span>&nbsp;<span class="op" id="6413359">&lt;</span>&nbsp;<span class="ident" id="6413361">sub</span><span class="op" id="6413364">.</span><span class="ident" id="6413365">Rect</span><span class="op" id="6413369">.</span><span class="ident" id="6413370">Max</span><span class="op" id="6413373">.</span><span class="ident" id="6413374">X</span><span class="op" id="6413375">;</span>&nbsp;<span class="ident" id="6413377">x</span><span class="op" id="6413378">++</span>&nbsp;<span class="op" id="6413381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413390">color0</span>&nbsp;<span class="op" id="6413397">:=</span>&nbsp;<span class="ident" id="6413400">m</span><span class="op" id="6413401">.</span><span class="ident" id="6413402">At</span><span class="op" id="6413404">(</span><span class="ident" id="6413405">x</span><span class="op" id="6413406">,</span>&nbsp;<span class="ident" id="6413408">y</span><span class="op" id="6413409">)</span><span class="op" id="6413410">.</span><span class="op" id="6413411">(</span><span class="ident" id="6413412">color</span><span class="op" id="6413417">.</span><span class="ident" id="6413418">YCbCr</span><span class="op" id="6413423">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413432">color1</span>&nbsp;<span class="op" id="6413439">:=</span>&nbsp;<span class="ident" id="6413442">sub</span><span class="op" id="6413445">.</span><span class="ident" id="6413446">At</span><span class="op" id="6413448">(</span><span class="ident" id="6413449">x</span><span class="op" id="6413450">,</span>&nbsp;<span class="ident" id="6413452">y</span><span class="op" id="6413453">)</span><span class="op" id="6413454">.</span><span class="op" id="6413455">(</span><span class="ident" id="6413456">color</span><span class="op" id="6413461">.</span><span class="ident" id="6413462">YCbCr</span><span class="op" id="6413467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413476">if</span>&nbsp;<span class="ident" id="6413479">color0</span>&nbsp;<span class="op" id="6413486">!=</span>&nbsp;<span class="ident" id="6413489">color1</span>&nbsp;<span class="op" id="6413496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413506">t</span><span class="op" id="6413507">.</span><span class="ident" id="6413508">Errorf</span><span class="op" id="6413514">(</span><span class="string" id="6413515">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="6413584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6413595">r</span><span class="op" id="6413596">,</span>&nbsp;<span class="ident" id="6413598">subsampleRatio</span><span class="op" id="6413612">,</span>&nbsp;<span class="ident" id="6413614">delta</span><span class="op" id="6413619">,</span>&nbsp;<span class="ident" id="6413621">x</span><span class="op" id="6413622">,</span>&nbsp;<span class="ident" id="6413624">y</span><span class="op" id="6413625">,</span>&nbsp;<span class="ident" id="6413627">color0</span><span class="op" id="6413633">,</span>&nbsp;<span class="ident" id="6413635">color1</span><span class="op" id="6413641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6413651">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413686">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413691">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6413698">}</span><br>
<span class="lineno"></span><span class="op" id="6413700">}</span>
</div>
</body>
</html>
