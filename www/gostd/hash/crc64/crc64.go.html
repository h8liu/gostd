<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5943465">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5943520">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5943574">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5943625">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5943700">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5943774">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5943790">package</span>&nbsp;<span class="ident" id="5943798">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5943805">import</span>&nbsp;<span class="string" id="5943812">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5943820">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5943863">const</span>&nbsp;<span class="ident" id="5943869">Size</span>&nbsp;<span class="op" id="5943874">=</span>&nbsp;<span class="num" id="5943876">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5943879">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5943906">const</span>&nbsp;<span class="op" id="5943912">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5943915">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5943977">ISO</span>&nbsp;<span class="op" id="5943981">=</span>&nbsp;<span class="num" id="5943983">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5944004">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944050">ECMA</span>&nbsp;<span class="op" id="5944055">=</span>&nbsp;<span class="num" id="5944057">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5944076">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5944079">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5944162">type</span>&nbsp;<span class="ident" id="5944167">Table</span>&nbsp;<span class="op" id="5944173">[</span><span class="num" id="5944174">256</span><span class="op" id="5944177">]</span><span class="ident" id="5944178">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5944186">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5944260">func</span>&nbsp;<span class="ident" id="5944265">MakeTable</span><span class="op" id="5944274">(</span><span class="ident" id="5944275">poly</span>&nbsp;<span class="ident" id="5944280">uint64</span><span class="op" id="5944286">)</span>&nbsp;<span class="op" id="5944288">*</span><span class="ident" id="5944289">Table</span>&nbsp;<span class="op" id="5944295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944298">t</span>&nbsp;<span class="op" id="5944300">:=</span>&nbsp;<span class="builtinfunc" id="5944303">new</span><span class="op" id="5944306">(</span><span class="ident" id="5944307">Table</span><span class="op" id="5944312">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5944315">for</span>&nbsp;<span class="ident" id="5944319">i</span>&nbsp;<span class="op" id="5944321">:=</span>&nbsp;<span class="num" id="5944324">0</span><span class="op" id="5944325">;</span>&nbsp;<span class="ident" id="5944327">i</span>&nbsp;<span class="op" id="5944329">&lt;</span>&nbsp;<span class="num" id="5944331">256</span><span class="op" id="5944334">;</span>&nbsp;<span class="ident" id="5944336">i</span><span class="op" id="5944337">++</span>&nbsp;<span class="op" id="5944340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944344">crc</span>&nbsp;<span class="op" id="5944348">:=</span>&nbsp;<span class="ident" id="5944351">uint64</span><span class="op" id="5944357">(</span><span class="ident" id="5944358">i</span><span class="op" id="5944359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5944363">for</span>&nbsp;<span class="ident" id="5944367">j</span>&nbsp;<span class="op" id="5944369">:=</span>&nbsp;<span class="num" id="5944372">0</span><span class="op" id="5944373">;</span>&nbsp;<span class="ident" id="5944375">j</span>&nbsp;<span class="op" id="5944377">&lt;</span>&nbsp;<span class="num" id="5944379">8</span><span class="op" id="5944380">;</span>&nbsp;<span class="ident" id="5944382">j</span><span class="op" id="5944383">++</span>&nbsp;<span class="op" id="5944386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5944391">if</span>&nbsp;<span class="ident" id="5944394">crc</span><span class="op" id="5944397">&amp;</span><span class="num" id="5944398">1</span>&nbsp;<span class="op" id="5944400">==</span>&nbsp;<span class="num" id="5944403">1</span>&nbsp;<span class="op" id="5944405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944411">crc</span>&nbsp;<span class="op" id="5944415">=</span>&nbsp;<span class="op" id="5944417">(</span><span class="ident" id="5944418">crc</span>&nbsp;<span class="op" id="5944422">&gt;&gt;</span>&nbsp;<span class="num" id="5944425">1</span><span class="op" id="5944426">)</span>&nbsp;<span class="op" id="5944428">^</span>&nbsp;<span class="ident" id="5944430">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5944438">}</span>&nbsp;<span class="keyword" id="5944440">else</span>&nbsp;<span class="op" id="5944445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944451">crc</span>&nbsp;<span class="op" id="5944455">&gt;&gt;=</span>&nbsp;<span class="num" id="5944459">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5944464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5944468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944472">t</span><span class="op" id="5944473">[</span><span class="ident" id="5944474">i</span><span class="op" id="5944475">]</span>&nbsp;<span class="op" id="5944477">=</span>&nbsp;<span class="ident" id="5944479">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5944484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5944487">return</span>&nbsp;<span class="ident" id="5944494">t</span><br>
<span class="lineno"></span><span class="op" id="5944496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5944499">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5944558">type</span>&nbsp;<span class="ident" id="5944563">digest</span>&nbsp;<span class="keyword" id="5944570">struct</span>&nbsp;<span class="op" id="5944577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944580">crc</span>&nbsp;<span class="ident" id="5944584">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944592">tab</span>&nbsp;<span class="op" id="5944596">*</span><span class="ident" id="5944597">Table</span><br>
<span class="lineno"></span><span class="op" id="5944603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5944606">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5944669">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5944719">func</span>&nbsp;<span class="ident" id="5944724">New</span><span class="op" id="5944727">(</span><span class="ident" id="5944728">tab</span>&nbsp;<span class="op" id="5944732">*</span><span class="ident" id="5944733">Table</span><span class="op" id="5944738">)</span>&nbsp;<span class="ident" id="5944740">hash</span><span class="op" id="5944744">.</span><span class="ident" id="5944745">Hash64</span>&nbsp;<span class="op" id="5944752">{</span>&nbsp;<span class="keyword" id="5944754">return</span>&nbsp;<span class="op" id="5944761">&amp;</span><span class="ident" id="5944762">digest</span><span class="op" id="5944768">{</span><span class="num" id="5944769">0</span><span class="op" id="5944770">,</span>&nbsp;<span class="ident" id="5944772">tab</span><span class="op" id="5944775">}</span>&nbsp;<span class="op" id="5944777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5944780">func</span>&nbsp;<span class="op" id="5944785">(</span><span class="ident" id="5944786">d</span>&nbsp;<span class="op" id="5944788">*</span><span class="ident" id="5944789">digest</span><span class="op" id="5944795">)</span>&nbsp;<span class="ident" id="5944797">Size</span><span class="op" id="5944801">(</span><span class="op" id="5944802">)</span>&nbsp;<span class="builtintype" id="5944804">int</span>&nbsp;<span class="op" id="5944808">{</span>&nbsp;<span class="keyword" id="5944810">return</span>&nbsp;<span class="ident" id="5944817">Size</span>&nbsp;<span class="op" id="5944822">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5944825">func</span>&nbsp;<span class="op" id="5944830">(</span><span class="ident" id="5944831">d</span>&nbsp;<span class="op" id="5944833">*</span><span class="ident" id="5944834">digest</span><span class="op" id="5944840">)</span>&nbsp;<span class="ident" id="5944842">BlockSize</span><span class="op" id="5944851">(</span><span class="op" id="5944852">)</span>&nbsp;<span class="builtintype" id="5944854">int</span>&nbsp;<span class="op" id="5944858">{</span>&nbsp;<span class="keyword" id="5944860">return</span>&nbsp;<span class="num" id="5944867">1</span>&nbsp;<span class="op" id="5944869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5944872">func</span>&nbsp;<span class="op" id="5944877">(</span><span class="ident" id="5944878">d</span>&nbsp;<span class="op" id="5944880">*</span><span class="ident" id="5944881">digest</span><span class="op" id="5944887">)</span>&nbsp;<span class="ident" id="5944889">Reset</span><span class="op" id="5944894">(</span><span class="op" id="5944895">)</span>&nbsp;<span class="op" id="5944897">{</span>&nbsp;<span class="ident" id="5944899">d</span><span class="op" id="5944900">.</span><span class="ident" id="5944901">crc</span>&nbsp;<span class="op" id="5944905">=</span>&nbsp;<span class="num" id="5944907">0</span>&nbsp;<span class="op" id="5944909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5944912">func</span>&nbsp;<span class="ident" id="5944917">update</span><span class="op" id="5944923">(</span><span class="ident" id="5944924">crc</span>&nbsp;<span class="ident" id="5944928">uint64</span><span class="op" id="5944934">,</span>&nbsp;<span class="ident" id="5944936">tab</span>&nbsp;<span class="op" id="5944940">*</span><span class="ident" id="5944941">Table</span><span class="op" id="5944946">,</span>&nbsp;<span class="ident" id="5944948">p</span>&nbsp;<span class="op" id="5944950">[</span><span class="op" id="5944951">]</span><span class="builtintype" id="5944952">byte</span><span class="op" id="5944956">)</span>&nbsp;<span class="ident" id="5944958">uint64</span>&nbsp;<span class="op" id="5944965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5944968">crc</span>&nbsp;<span class="op" id="5944972">=</span>&nbsp;<span class="op" id="5944974">^</span><span class="ident" id="5944975">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5944980">for</span>&nbsp;<span class="ident" id="5944984">_</span><span class="op" id="5944985">,</span>&nbsp;<span class="ident" id="5944987">v</span>&nbsp;<span class="op" id="5944989">:=</span>&nbsp;<span class="keyword" id="5944992">range</span>&nbsp;<span class="ident" id="5944998">p</span>&nbsp;<span class="op" id="5945000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5945004">crc</span>&nbsp;<span class="op" id="5945008">=</span>&nbsp;<span class="ident" id="5945010">tab</span><span class="op" id="5945013">[</span><span class="builtintype" id="5945014">byte</span><span class="op" id="5945018">(</span><span class="ident" id="5945019">crc</span><span class="op" id="5945022">)</span><span class="op" id="5945023">^</span><span class="ident" id="5945024">v</span><span class="op" id="5945025">]</span>&nbsp;<span class="op" id="5945027">^</span>&nbsp;<span class="op" id="5945029">(</span><span class="ident" id="5945030">crc</span>&nbsp;<span class="op" id="5945034">&gt;&gt;</span>&nbsp;<span class="num" id="5945037">8</span><span class="op" id="5945038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5945041">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5945044">return</span>&nbsp;<span class="op" id="5945051">^</span><span class="ident" id="5945052">crc</span><br>
<span class="lineno"></span><span class="op" id="5945056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5945059">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5945125">func</span>&nbsp;<span class="ident" id="5945130">Update</span><span class="op" id="5945136">(</span><span class="ident" id="5945137">crc</span>&nbsp;<span class="ident" id="5945141">uint64</span><span class="op" id="5945147">,</span>&nbsp;<span class="ident" id="5945149">tab</span>&nbsp;<span class="op" id="5945153">*</span><span class="ident" id="5945154">Table</span><span class="op" id="5945159">,</span>&nbsp;<span class="ident" id="5945161">p</span>&nbsp;<span class="op" id="5945163">[</span><span class="op" id="5945164">]</span><span class="builtintype" id="5945165">byte</span><span class="op" id="5945169">)</span>&nbsp;<span class="ident" id="5945171">uint64</span>&nbsp;<span class="op" id="5945178">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5945181">return</span>&nbsp;<span class="ident" id="5945188">update</span><span class="op" id="5945194">(</span><span class="ident" id="5945195">crc</span><span class="op" id="5945198">,</span>&nbsp;<span class="ident" id="5945200">tab</span><span class="op" id="5945203">,</span>&nbsp;<span class="ident" id="5945205">p</span><span class="op" id="5945206">)</span><br>
<span class="lineno"></span><span class="op" id="5945208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5945211">func</span>&nbsp;<span class="op" id="5945216">(</span><span class="ident" id="5945217">d</span>&nbsp;<span class="op" id="5945219">*</span><span class="ident" id="5945220">digest</span><span class="op" id="5945226">)</span>&nbsp;<span class="ident" id="5945228">Write</span><span class="op" id="5945233">(</span><span class="ident" id="5945234">p</span>&nbsp;<span class="op" id="5945236">[</span><span class="op" id="5945237">]</span><span class="builtintype" id="5945238">byte</span><span class="op" id="5945242">)</span>&nbsp;<span class="op" id="5945244">(</span><span class="ident" id="5945245">n</span>&nbsp;<span class="builtintype" id="5945247">int</span><span class="op" id="5945250">,</span>&nbsp;<span class="ident" id="5945252">err</span>&nbsp;<span class="builtintype" id="5945256">error</span><span class="op" id="5945261">)</span>&nbsp;<span class="op" id="5945263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5945266">d</span><span class="op" id="5945267">.</span><span class="ident" id="5945268">crc</span>&nbsp;<span class="op" id="5945272">=</span>&nbsp;<span class="ident" id="5945274">update</span><span class="op" id="5945280">(</span><span class="ident" id="5945281">d</span><span class="op" id="5945282">.</span><span class="ident" id="5945283">crc</span><span class="op" id="5945286">,</span>&nbsp;<span class="ident" id="5945288">d</span><span class="op" id="5945289">.</span><span class="ident" id="5945290">tab</span><span class="op" id="5945293">,</span>&nbsp;<span class="ident" id="5945295">p</span><span class="op" id="5945296">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5945299">return</span>&nbsp;<span class="builtinfunc" id="5945306">len</span><span class="op" id="5945309">(</span><span class="ident" id="5945310">p</span><span class="op" id="5945311">)</span><span class="op" id="5945312">,</span>&nbsp;<span class="ident" id="5945314">nil</span><br>
<span class="lineno"></span><span class="op" id="5945318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5945321">func</span>&nbsp;<span class="op" id="5945326">(</span><span class="ident" id="5945327">d</span>&nbsp;<span class="op" id="5945329">*</span><span class="ident" id="5945330">digest</span><span class="op" id="5945336">)</span>&nbsp;<span class="ident" id="5945338">Sum64</span><span class="op" id="5945343">(</span><span class="op" id="5945344">)</span>&nbsp;<span class="ident" id="5945346">uint64</span>&nbsp;<span class="op" id="5945353">{</span>&nbsp;<span class="keyword" id="5945355">return</span>&nbsp;<span class="ident" id="5945362">d</span><span class="op" id="5945363">.</span><span class="ident" id="5945364">crc</span>&nbsp;<span class="op" id="5945368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5945371">func</span>&nbsp;<span class="op" id="5945376">(</span><span class="ident" id="5945377">d</span>&nbsp;<span class="op" id="5945379">*</span><span class="ident" id="5945380">digest</span><span class="op" id="5945386">)</span>&nbsp;<span class="ident" id="5945388">Sum</span><span class="op" id="5945391">(</span><span class="ident" id="5945392">in</span>&nbsp;<span class="op" id="5945395">[</span><span class="op" id="5945396">]</span><span class="builtintype" id="5945397">byte</span><span class="op" id="5945401">)</span>&nbsp;<span class="op" id="5945403">[</span><span class="op" id="5945404">]</span><span class="builtintype" id="5945405">byte</span>&nbsp;<span class="op" id="5945410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5945413">s</span>&nbsp;<span class="op" id="5945415">:=</span>&nbsp;<span class="ident" id="5945418">d</span><span class="op" id="5945419">.</span><span class="ident" id="5945420">Sum64</span><span class="op" id="5945425">(</span><span class="op" id="5945426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5945429">return</span>&nbsp;<span class="builtinfunc" id="5945436">append</span><span class="op" id="5945442">(</span><span class="ident" id="5945443">in</span><span class="op" id="5945445">,</span>&nbsp;<span class="builtintype" id="5945447">byte</span><span class="op" id="5945451">(</span><span class="ident" id="5945452">s</span><span class="op" id="5945453">&gt;&gt;</span><span class="num" id="5945455">56</span><span class="op" id="5945457">)</span><span class="op" id="5945458">,</span>&nbsp;<span class="builtintype" id="5945460">byte</span><span class="op" id="5945464">(</span><span class="ident" id="5945465">s</span><span class="op" id="5945466">&gt;&gt;</span><span class="num" id="5945468">48</span><span class="op" id="5945470">)</span><span class="op" id="5945471">,</span>&nbsp;<span class="builtintype" id="5945473">byte</span><span class="op" id="5945477">(</span><span class="ident" id="5945478">s</span><span class="op" id="5945479">&gt;&gt;</span><span class="num" id="5945481">40</span><span class="op" id="5945483">)</span><span class="op" id="5945484">,</span>&nbsp;<span class="builtintype" id="5945486">byte</span><span class="op" id="5945490">(</span><span class="ident" id="5945491">s</span><span class="op" id="5945492">&gt;&gt;</span><span class="num" id="5945494">32</span><span class="op" id="5945496">)</span><span class="op" id="5945497">,</span>&nbsp;<span class="builtintype" id="5945499">byte</span><span class="op" id="5945503">(</span><span class="ident" id="5945504">s</span><span class="op" id="5945505">&gt;&gt;</span><span class="num" id="5945507">24</span><span class="op" id="5945509">)</span><span class="op" id="5945510">,</span>&nbsp;<span class="builtintype" id="5945512">byte</span><span class="op" id="5945516">(</span><span class="ident" id="5945517">s</span><span class="op" id="5945518">&gt;&gt;</span><span class="num" id="5945520">16</span><span class="op" id="5945522">)</span><span class="op" id="5945523">,</span>&nbsp;<span class="builtintype" id="5945525">byte</span><span class="op" id="5945529">(</span><span class="ident" id="5945530">s</span><span class="op" id="5945531">&gt;&gt;</span><span class="num" id="5945533">8</span><span class="op" id="5945534">)</span><span class="op" id="5945535">,</span>&nbsp;<span class="builtintype" id="5945537">byte</span><span class="op" id="5945541">(</span><span class="ident" id="5945542">s</span><span class="op" id="5945543">)</span><span class="op" id="5945544">)</span><br>
<span class="lineno"></span><span class="op" id="5945546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5945549">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5945597">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5945647">func</span>&nbsp;<span class="ident" id="5945652">Checksum</span><span class="op" id="5945660">(</span><span class="ident" id="5945661">data</span>&nbsp;<span class="op" id="5945666">[</span><span class="op" id="5945667">]</span><span class="builtintype" id="5945668">byte</span><span class="op" id="5945672">,</span>&nbsp;<span class="ident" id="5945674">tab</span>&nbsp;<span class="op" id="5945678">*</span><span class="ident" id="5945679">Table</span><span class="op" id="5945684">)</span>&nbsp;<span class="ident" id="5945686">uint64</span>&nbsp;<span class="op" id="5945693">{</span>&nbsp;<span class="keyword" id="5945695">return</span>&nbsp;<span class="ident" id="5945702">update</span><span class="op" id="5945708">(</span><span class="num" id="5945709">0</span><span class="op" id="5945710">,</span>&nbsp;<span class="ident" id="5945712">tab</span><span class="op" id="5945715">,</span>&nbsp;<span class="ident" id="5945717">data</span><span class="op" id="5945721">)</span>&nbsp;<span class="op" id="5945723">}</span>
</div>
</body>
</html>
