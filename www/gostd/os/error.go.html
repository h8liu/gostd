<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2146551">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2146606">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2146660">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2146711">package</span>&nbsp;<span class="ident" id="2146719">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2146723">import</span>&nbsp;<span class="op" id="2146730">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2146733">&#34;errors&#34;</span><br>
<span class="lineno"></span><span class="op" id="2146742">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2146745">//&nbsp;Portable&nbsp;analogs&nbsp;of&nbsp;some&nbsp;common&nbsp;system&nbsp;call&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2146800">var</span>&nbsp;<span class="op" id="2146804">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2146807">ErrInvalid</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2146821">=</span>&nbsp;<span class="ident" id="2146823">errors</span><span class="op" id="2146829">.</span><span class="ident" id="2146830">New</span><span class="op" id="2146833">(</span><span class="string" id="2146834">&#34;invalid&nbsp;argument&#34;</span><span class="op" id="2146852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2146855">ErrPermission</span>&nbsp;<span class="op" id="2146869">=</span>&nbsp;<span class="ident" id="2146871">errors</span><span class="op" id="2146877">.</span><span class="ident" id="2146878">New</span><span class="op" id="2146881">(</span><span class="string" id="2146882">&#34;permission&nbsp;denied&#34;</span><span class="op" id="2146901">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2146904">ErrExist</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2146918">=</span>&nbsp;<span class="ident" id="2146920">errors</span><span class="op" id="2146926">.</span><span class="ident" id="2146927">New</span><span class="op" id="2146930">(</span><span class="string" id="2146931">&#34;file&nbsp;already&nbsp;exists&#34;</span><span class="op" id="2146952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2146955">ErrNotExist</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2146969">=</span>&nbsp;<span class="ident" id="2146971">errors</span><span class="op" id="2146977">.</span><span class="ident" id="2146978">New</span><span class="op" id="2146981">(</span><span class="string" id="2146982">&#34;file&nbsp;does&nbsp;not&nbsp;exist&#34;</span><span class="op" id="2147003">)</span><br>
<span class="lineno"></span><span class="op" id="2147005">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2147008">//&nbsp;PathError&nbsp;records&nbsp;an&nbsp;error&nbsp;and&nbsp;the&nbsp;operation&nbsp;and&nbsp;file&nbsp;path&nbsp;that&nbsp;caused&nbsp;it.</span><br>
<span class="lineno">20</span><span class="keyword" id="2147086">type</span>&nbsp;<span class="ident" id="2147091">PathError</span>&nbsp;<span class="keyword" id="2147101">struct</span>&nbsp;<span class="op" id="2147108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2147111">Op</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2147116">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2147124">Path</span>&nbsp;<span class="builtintype" id="2147129">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2147137">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2147142">error</span><br>
<span class="lineno"></span><span class="op" id="2147148">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2147151">func</span>&nbsp;<span class="op" id="2147156">(</span><span class="ident" id="2147157">e</span>&nbsp;<span class="op" id="2147159">*</span><span class="ident" id="2147160">PathError</span><span class="op" id="2147169">)</span>&nbsp;<span class="ident" id="2147171">Error</span><span class="op" id="2147176">(</span><span class="op" id="2147177">)</span>&nbsp;<span class="builtintype" id="2147179">string</span>&nbsp;<span class="op" id="2147186">{</span>&nbsp;<span class="keyword" id="2147188">return</span>&nbsp;<span class="ident" id="2147195">e</span><span class="op" id="2147196">.</span><span class="ident" id="2147197">Op</span>&nbsp;<span class="op" id="2147200">+</span>&nbsp;<span class="string" id="2147202">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2147206">+</span>&nbsp;<span class="ident" id="2147208">e</span><span class="op" id="2147209">.</span><span class="ident" id="2147210">Path</span>&nbsp;<span class="op" id="2147215">+</span>&nbsp;<span class="string" id="2147217">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2147222">+</span>&nbsp;<span class="ident" id="2147224">e</span><span class="op" id="2147225">.</span><span class="ident" id="2147226">Err</span><span class="op" id="2147229">.</span><span class="ident" id="2147230">Error</span><span class="op" id="2147235">(</span><span class="op" id="2147236">)</span>&nbsp;<span class="op" id="2147238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2147241">//&nbsp;SyscallError&nbsp;records&nbsp;an&nbsp;error&nbsp;from&nbsp;a&nbsp;specific&nbsp;system&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="2147303">type</span>&nbsp;<span class="ident" id="2147308">SyscallError</span>&nbsp;<span class="keyword" id="2147321">struct</span>&nbsp;<span class="op" id="2147328">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2147331">Syscall</span>&nbsp;<span class="builtintype" id="2147339">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2147347">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2147355">error</span><br>
<span class="lineno"></span><span class="op" id="2147361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2147364">func</span>&nbsp;<span class="op" id="2147369">(</span><span class="ident" id="2147370">e</span>&nbsp;<span class="op" id="2147372">*</span><span class="ident" id="2147373">SyscallError</span><span class="op" id="2147385">)</span>&nbsp;<span class="ident" id="2147387">Error</span><span class="op" id="2147392">(</span><span class="op" id="2147393">)</span>&nbsp;<span class="builtintype" id="2147395">string</span>&nbsp;<span class="op" id="2147402">{</span>&nbsp;<span class="keyword" id="2147404">return</span>&nbsp;<span class="ident" id="2147411">e</span><span class="op" id="2147412">.</span><span class="ident" id="2147413">Syscall</span>&nbsp;<span class="op" id="2147421">+</span>&nbsp;<span class="string" id="2147423">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2147428">+</span>&nbsp;<span class="ident" id="2147430">e</span><span class="op" id="2147431">.</span><span class="ident" id="2147432">Err</span><span class="op" id="2147435">.</span><span class="ident" id="2147436">Error</span><span class="op" id="2147441">(</span><span class="op" id="2147442">)</span>&nbsp;<span class="op" id="2147444">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2147447">//&nbsp;NewSyscallError&nbsp;returns,&nbsp;as&nbsp;an&nbsp;error,&nbsp;a&nbsp;new&nbsp;SyscallError</span><br>
<span class="lineno"></span><span class="comment" id="2147507">//&nbsp;with&nbsp;the&nbsp;given&nbsp;system&nbsp;call&nbsp;name&nbsp;and&nbsp;error&nbsp;details.</span><br>
<span class="lineno"></span><span class="comment" id="2147561">//&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;if&nbsp;err&nbsp;is&nbsp;nil,&nbsp;NewSyscallError&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2147626">func</span>&nbsp;<span class="ident" id="2147631">NewSyscallError</span><span class="op" id="2147646">(</span><span class="ident" id="2147647">syscall</span>&nbsp;<span class="builtintype" id="2147655">string</span><span class="op" id="2147661">,</span>&nbsp;<span class="ident" id="2147663">err</span>&nbsp;<span class="builtintype" id="2147667">error</span><span class="op" id="2147672">)</span>&nbsp;<span class="builtintype" id="2147674">error</span>&nbsp;<span class="op" id="2147680">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2147683">if</span>&nbsp;<span class="ident" id="2147686">err</span>&nbsp;<span class="op" id="2147690">==</span>&nbsp;<span class="ident" id="2147693">nil</span>&nbsp;<span class="op" id="2147697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2147701">return</span>&nbsp;<span class="ident" id="2147708">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2147713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2147716">return</span>&nbsp;<span class="op" id="2147723">&amp;</span><span class="ident" id="2147724">SyscallError</span><span class="op" id="2147736">{</span><span class="ident" id="2147737">syscall</span><span class="op" id="2147744">,</span>&nbsp;<span class="ident" id="2147746">err</span><span class="op" id="2147749">}</span><br>
<span class="lineno"></span><span class="op" id="2147751">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2147754">//&nbsp;IsExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to&nbsp;report</span><br>
<span class="lineno"></span><span class="comment" id="2147831">//&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;already&nbsp;exists.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrExist&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="2147906">//&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2147938">func</span>&nbsp;<span class="ident" id="2147943">IsExist</span><span class="op" id="2147950">(</span><span class="ident" id="2147951">err</span>&nbsp;<span class="builtintype" id="2147955">error</span><span class="op" id="2147960">)</span>&nbsp;<span class="builtintype" id="2147962">bool</span>&nbsp;<span class="op" id="2147967">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2147970">return</span>&nbsp;<span class="ident" id="2147977">isExist</span><span class="op" id="2147984">(</span><span class="ident" id="2147985">err</span><span class="op" id="2147988">)</span><br>
<span class="lineno"></span><span class="op" id="2147990">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2147993">//&nbsp;IsNotExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2148066">//&nbsp;report&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;does&nbsp;not&nbsp;exist.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by</span><br>
<span class="lineno">55</span><span class="comment" id="2148136">//&nbsp;ErrNotExist&nbsp;as&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2148183">func</span>&nbsp;<span class="ident" id="2148188">IsNotExist</span><span class="op" id="2148198">(</span><span class="ident" id="2148199">err</span>&nbsp;<span class="builtintype" id="2148203">error</span><span class="op" id="2148208">)</span>&nbsp;<span class="builtintype" id="2148210">bool</span>&nbsp;<span class="op" id="2148215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2148218">return</span>&nbsp;<span class="ident" id="2148225">isNotExist</span><span class="op" id="2148235">(</span><span class="ident" id="2148236">err</span><span class="op" id="2148239">)</span><br>
<span class="lineno"></span><span class="op" id="2148241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="2148244">//&nbsp;IsPermission&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2148319">//&nbsp;report&nbsp;that&nbsp;permission&nbsp;is&nbsp;denied.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrPermission&nbsp;as&nbsp;well</span><br>
<span class="lineno"></span><span class="comment" id="2148397">//&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2148424">func</span>&nbsp;<span class="ident" id="2148429">IsPermission</span><span class="op" id="2148441">(</span><span class="ident" id="2148442">err</span>&nbsp;<span class="builtintype" id="2148446">error</span><span class="op" id="2148451">)</span>&nbsp;<span class="builtintype" id="2148453">bool</span>&nbsp;<span class="op" id="2148458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2148461">return</span>&nbsp;<span class="ident" id="2148468">isPermission</span><span class="op" id="2148480">(</span><span class="ident" id="2148481">err</span><span class="op" id="2148484">)</span><br>
<span class="lineno">65</span><span class="op" id="2148486">}</span>
</div>
</body>
</html>
