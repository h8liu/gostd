<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html" class="current">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5819359">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5819418">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5819473">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5819527">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5819578">package</span>&nbsp;<span class="ident" id="5819586">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5819591">import</span>&nbsp;<span class="op" id="5819598">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5819601">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5819609">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5819619">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5819622">var</span>&nbsp;<span class="ident" id="5819626">decArrayHelper</span>&nbsp;<span class="op" id="5819641">=</span>&nbsp;<span class="keyword" id="5819643">map</span><span class="op" id="5819646">[</span><span class="ident" id="5819647">reflect</span><span class="op" id="5819654">.</span><span class="ident" id="5819655">Kind</span><span class="op" id="5819659">]</span><span class="ident" id="5819660">decHelper</span><span class="op" id="5819669">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819672">reflect</span><span class="op" id="5819679">.</span><span class="ident" id="5819680">Bool</span><span class="op" id="5819684">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819692">decBoolArray</span><span class="op" id="5819704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819707">reflect</span><span class="op" id="5819714">.</span><span class="ident" id="5819715">Complex64</span><span class="op" id="5819724">:</span>&nbsp;&nbsp;<span class="ident" id="5819727">decComplex64Array</span><span class="op" id="5819744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819747">reflect</span><span class="op" id="5819754">.</span><span class="ident" id="5819755">Complex128</span><span class="op" id="5819765">:</span>&nbsp;<span class="ident" id="5819767">decComplex128Array</span><span class="op" id="5819785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819788">reflect</span><span class="op" id="5819795">.</span><span class="ident" id="5819796">Float32</span><span class="op" id="5819803">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819808">decFloat32Array</span><span class="op" id="5819823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819826">reflect</span><span class="op" id="5819833">.</span><span class="ident" id="5819834">Float64</span><span class="op" id="5819841">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819846">decFloat64Array</span><span class="op" id="5819861">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819864">reflect</span><span class="op" id="5819871">.</span><span class="ident" id="5819872">Int</span><span class="op" id="5819875">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819884">decIntArray</span><span class="op" id="5819895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819898">reflect</span><span class="op" id="5819905">.</span><span class="ident" id="5819906">Int16</span><span class="op" id="5819911">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819918">decInt16Array</span><span class="op" id="5819931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819934">reflect</span><span class="op" id="5819941">.</span><span class="ident" id="5819942">Int32</span><span class="op" id="5819947">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819954">decInt32Array</span><span class="op" id="5819967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819970">reflect</span><span class="op" id="5819977">.</span><span class="ident" id="5819978">Int64</span><span class="op" id="5819983">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5819990">decInt64Array</span><span class="op" id="5820003">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820006">reflect</span><span class="op" id="5820013">.</span><span class="ident" id="5820014">Int8</span><span class="op" id="5820018">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820026">decInt8Array</span><span class="op" id="5820038">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820041">reflect</span><span class="op" id="5820048">.</span><span class="ident" id="5820049">String</span><span class="op" id="5820055">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820061">decStringArray</span><span class="op" id="5820075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820078">reflect</span><span class="op" id="5820085">.</span><span class="ident" id="5820086">Uint</span><span class="op" id="5820090">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820098">decUintArray</span><span class="op" id="5820110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820113">reflect</span><span class="op" id="5820120">.</span><span class="ident" id="5820121">Uint16</span><span class="op" id="5820127">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820133">decUint16Array</span><span class="op" id="5820147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820150">reflect</span><span class="op" id="5820157">.</span><span class="ident" id="5820158">Uint32</span><span class="op" id="5820164">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820170">decUint32Array</span><span class="op" id="5820184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820187">reflect</span><span class="op" id="5820194">.</span><span class="ident" id="5820195">Uint64</span><span class="op" id="5820201">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820207">decUint64Array</span><span class="op" id="5820221">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820224">reflect</span><span class="op" id="5820231">.</span><span class="ident" id="5820232">Uintptr</span><span class="op" id="5820239">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820244">decUintptrArray</span><span class="op" id="5820259">,</span><br>
<span class="lineno"></span><span class="op" id="5820261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5820264">var</span>&nbsp;<span class="ident" id="5820268">decSliceHelper</span>&nbsp;<span class="op" id="5820283">=</span>&nbsp;<span class="keyword" id="5820285">map</span><span class="op" id="5820288">[</span><span class="ident" id="5820289">reflect</span><span class="op" id="5820296">.</span><span class="ident" id="5820297">Kind</span><span class="op" id="5820301">]</span><span class="ident" id="5820302">decHelper</span><span class="op" id="5820311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820314">reflect</span><span class="op" id="5820321">.</span><span class="ident" id="5820322">Bool</span><span class="op" id="5820326">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820334">decBoolSlice</span><span class="op" id="5820346">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820349">reflect</span><span class="op" id="5820356">.</span><span class="ident" id="5820357">Complex64</span><span class="op" id="5820366">:</span>&nbsp;&nbsp;<span class="ident" id="5820369">decComplex64Slice</span><span class="op" id="5820386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820389">reflect</span><span class="op" id="5820396">.</span><span class="ident" id="5820397">Complex128</span><span class="op" id="5820407">:</span>&nbsp;<span class="ident" id="5820409">decComplex128Slice</span><span class="op" id="5820427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820430">reflect</span><span class="op" id="5820437">.</span><span class="ident" id="5820438">Float32</span><span class="op" id="5820445">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820450">decFloat32Slice</span><span class="op" id="5820465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820468">reflect</span><span class="op" id="5820475">.</span><span class="ident" id="5820476">Float64</span><span class="op" id="5820483">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820488">decFloat64Slice</span><span class="op" id="5820503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820506">reflect</span><span class="op" id="5820513">.</span><span class="ident" id="5820514">Int</span><span class="op" id="5820517">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820526">decIntSlice</span><span class="op" id="5820537">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820540">reflect</span><span class="op" id="5820547">.</span><span class="ident" id="5820548">Int16</span><span class="op" id="5820553">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820560">decInt16Slice</span><span class="op" id="5820573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820576">reflect</span><span class="op" id="5820583">.</span><span class="ident" id="5820584">Int32</span><span class="op" id="5820589">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820596">decInt32Slice</span><span class="op" id="5820609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820612">reflect</span><span class="op" id="5820619">.</span><span class="ident" id="5820620">Int64</span><span class="op" id="5820625">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820632">decInt64Slice</span><span class="op" id="5820645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820648">reflect</span><span class="op" id="5820655">.</span><span class="ident" id="5820656">Int8</span><span class="op" id="5820660">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820668">decInt8Slice</span><span class="op" id="5820680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820683">reflect</span><span class="op" id="5820690">.</span><span class="ident" id="5820691">String</span><span class="op" id="5820697">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820703">decStringSlice</span><span class="op" id="5820717">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820720">reflect</span><span class="op" id="5820727">.</span><span class="ident" id="5820728">Uint</span><span class="op" id="5820732">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820740">decUintSlice</span><span class="op" id="5820752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820755">reflect</span><span class="op" id="5820762">.</span><span class="ident" id="5820763">Uint16</span><span class="op" id="5820769">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820775">decUint16Slice</span><span class="op" id="5820789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820792">reflect</span><span class="op" id="5820799">.</span><span class="ident" id="5820800">Uint32</span><span class="op" id="5820806">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820812">decUint32Slice</span><span class="op" id="5820826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820829">reflect</span><span class="op" id="5820836">.</span><span class="ident" id="5820837">Uint64</span><span class="op" id="5820843">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820849">decUint64Slice</span><span class="op" id="5820863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820866">reflect</span><span class="op" id="5820873">.</span><span class="ident" id="5820874">Uintptr</span><span class="op" id="5820881">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5820886">decUintptrSlice</span><span class="op" id="5820901">,</span><br>
<span class="lineno">50</span><span class="op" id="5820903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5820906">func</span>&nbsp;<span class="ident" id="5820911">decBoolArray</span><span class="op" id="5820923">(</span><span class="ident" id="5820924">state</span>&nbsp;<span class="op" id="5820930">*</span><span class="ident" id="5820931">decoderState</span><span class="op" id="5820943">,</span>&nbsp;<span class="ident" id="5820945">v</span>&nbsp;<span class="ident" id="5820947">reflect</span><span class="op" id="5820954">.</span><span class="ident" id="5820955">Value</span><span class="op" id="5820960">,</span>&nbsp;<span class="ident" id="5820962">length</span>&nbsp;<span class="builtintype" id="5820969">int</span><span class="op" id="5820972">,</span>&nbsp;<span class="ident" id="5820974">ovfl</span>&nbsp;<span class="builtintype" id="5820979">error</span><span class="op" id="5820984">)</span>&nbsp;<span class="builtintype" id="5820986">bool</span>&nbsp;<span class="op" id="5820991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5820994">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821035">if</span>&nbsp;<span class="op" id="5821038">!</span><span class="ident" id="5821039">v</span><span class="op" id="5821040">.</span><span class="ident" id="5821041">CanAddr</span><span class="op" id="5821048">(</span><span class="op" id="5821049">)</span>&nbsp;<span class="op" id="5821051">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821055">return</span>&nbsp;<span class="builtintype" id="5821062">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821072">return</span>&nbsp;<span class="ident" id="5821079">decBoolSlice</span><span class="op" id="5821091">(</span><span class="ident" id="5821092">state</span><span class="op" id="5821097">,</span>&nbsp;<span class="ident" id="5821099">v</span><span class="op" id="5821100">.</span><span class="ident" id="5821101">Slice</span><span class="op" id="5821106">(</span><span class="num" id="5821107">0</span><span class="op" id="5821108">,</span>&nbsp;<span class="ident" id="5821110">v</span><span class="op" id="5821111">.</span><span class="ident" id="5821112">Len</span><span class="op" id="5821115">(</span><span class="op" id="5821116">)</span><span class="op" id="5821117">)</span><span class="op" id="5821118">,</span>&nbsp;<span class="ident" id="5821120">length</span><span class="op" id="5821126">,</span>&nbsp;<span class="ident" id="5821128">ovfl</span><span class="op" id="5821132">)</span><br>
<span class="lineno"></span><span class="op" id="5821134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5821137">func</span>&nbsp;<span class="ident" id="5821142">decBoolSlice</span><span class="op" id="5821154">(</span><span class="ident" id="5821155">state</span>&nbsp;<span class="op" id="5821161">*</span><span class="ident" id="5821162">decoderState</span><span class="op" id="5821174">,</span>&nbsp;<span class="ident" id="5821176">v</span>&nbsp;<span class="ident" id="5821178">reflect</span><span class="op" id="5821185">.</span><span class="ident" id="5821186">Value</span><span class="op" id="5821191">,</span>&nbsp;<span class="ident" id="5821193">length</span>&nbsp;<span class="builtintype" id="5821200">int</span><span class="op" id="5821203">,</span>&nbsp;<span class="ident" id="5821205">ovfl</span>&nbsp;<span class="builtintype" id="5821210">error</span><span class="op" id="5821215">)</span>&nbsp;<span class="builtintype" id="5821217">bool</span>&nbsp;<span class="op" id="5821222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821225">slice</span><span class="op" id="5821230">,</span>&nbsp;<span class="ident" id="5821232">ok</span>&nbsp;<span class="op" id="5821235">:=</span>&nbsp;<span class="ident" id="5821238">v</span><span class="op" id="5821239">.</span><span class="ident" id="5821240">Interface</span><span class="op" id="5821249">(</span><span class="op" id="5821250">)</span><span class="op" id="5821251">.</span><span class="op" id="5821252">(</span><span class="op" id="5821253">[</span><span class="op" id="5821254">]</span><span class="builtintype" id="5821255">bool</span><span class="op" id="5821259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821262">if</span>&nbsp;<span class="op" id="5821265">!</span><span class="ident" id="5821266">ok</span>&nbsp;<span class="op" id="5821269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5821273">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821348">return</span>&nbsp;<span class="builtintype" id="5821355">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821365">for</span>&nbsp;<span class="ident" id="5821369">i</span>&nbsp;<span class="op" id="5821371">:=</span>&nbsp;<span class="num" id="5821374">0</span><span class="op" id="5821375">;</span>&nbsp;<span class="ident" id="5821377">i</span>&nbsp;<span class="op" id="5821379">&lt;</span>&nbsp;<span class="ident" id="5821381">length</span><span class="op" id="5821387">;</span>&nbsp;<span class="ident" id="5821389">i</span><span class="op" id="5821390">++</span>&nbsp;<span class="op" id="5821393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821397">if</span>&nbsp;<span class="ident" id="5821400">state</span><span class="op" id="5821405">.</span><span class="ident" id="5821406">b</span><span class="op" id="5821407">.</span><span class="ident" id="5821408">Len</span><span class="op" id="5821411">(</span><span class="op" id="5821412">)</span>&nbsp;<span class="op" id="5821414">==</span>&nbsp;<span class="num" id="5821417">0</span>&nbsp;<span class="op" id="5821419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821424">errorf</span><span class="op" id="5821430">(</span><span class="string" id="5821431">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5821502">,</span>&nbsp;<span class="ident" id="5821504">length</span><span class="op" id="5821510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821514">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821518">slice</span><span class="op" id="5821523">[</span><span class="ident" id="5821524">i</span><span class="op" id="5821525">]</span>&nbsp;<span class="op" id="5821527">=</span>&nbsp;<span class="ident" id="5821529">state</span><span class="op" id="5821534">.</span><span class="ident" id="5821535">decodeUint</span><span class="op" id="5821545">(</span><span class="op" id="5821546">)</span>&nbsp;<span class="op" id="5821548">!=</span>&nbsp;<span class="num" id="5821551">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821557">return</span>&nbsp;<span class="builtintype" id="5821564">true</span><br>
<span class="lineno"></span><span class="op" id="5821569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="5821572">func</span>&nbsp;<span class="ident" id="5821577">decComplex64Array</span><span class="op" id="5821594">(</span><span class="ident" id="5821595">state</span>&nbsp;<span class="op" id="5821601">*</span><span class="ident" id="5821602">decoderState</span><span class="op" id="5821614">,</span>&nbsp;<span class="ident" id="5821616">v</span>&nbsp;<span class="ident" id="5821618">reflect</span><span class="op" id="5821625">.</span><span class="ident" id="5821626">Value</span><span class="op" id="5821631">,</span>&nbsp;<span class="ident" id="5821633">length</span>&nbsp;<span class="builtintype" id="5821640">int</span><span class="op" id="5821643">,</span>&nbsp;<span class="ident" id="5821645">ovfl</span>&nbsp;<span class="builtintype" id="5821650">error</span><span class="op" id="5821655">)</span>&nbsp;<span class="builtintype" id="5821657">bool</span>&nbsp;<span class="op" id="5821662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5821665">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821706">if</span>&nbsp;<span class="op" id="5821709">!</span><span class="ident" id="5821710">v</span><span class="op" id="5821711">.</span><span class="ident" id="5821712">CanAddr</span><span class="op" id="5821719">(</span><span class="op" id="5821720">)</span>&nbsp;<span class="op" id="5821722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821726">return</span>&nbsp;<span class="builtintype" id="5821733">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5821740">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821743">return</span>&nbsp;<span class="ident" id="5821750">decComplex64Slice</span><span class="op" id="5821767">(</span><span class="ident" id="5821768">state</span><span class="op" id="5821773">,</span>&nbsp;<span class="ident" id="5821775">v</span><span class="op" id="5821776">.</span><span class="ident" id="5821777">Slice</span><span class="op" id="5821782">(</span><span class="num" id="5821783">0</span><span class="op" id="5821784">,</span>&nbsp;<span class="ident" id="5821786">v</span><span class="op" id="5821787">.</span><span class="ident" id="5821788">Len</span><span class="op" id="5821791">(</span><span class="op" id="5821792">)</span><span class="op" id="5821793">)</span><span class="op" id="5821794">,</span>&nbsp;<span class="ident" id="5821796">length</span><span class="op" id="5821802">,</span>&nbsp;<span class="ident" id="5821804">ovfl</span><span class="op" id="5821808">)</span><br>
<span class="lineno"></span><span class="op" id="5821810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5821813">func</span>&nbsp;<span class="ident" id="5821818">decComplex64Slice</span><span class="op" id="5821835">(</span><span class="ident" id="5821836">state</span>&nbsp;<span class="op" id="5821842">*</span><span class="ident" id="5821843">decoderState</span><span class="op" id="5821855">,</span>&nbsp;<span class="ident" id="5821857">v</span>&nbsp;<span class="ident" id="5821859">reflect</span><span class="op" id="5821866">.</span><span class="ident" id="5821867">Value</span><span class="op" id="5821872">,</span>&nbsp;<span class="ident" id="5821874">length</span>&nbsp;<span class="builtintype" id="5821881">int</span><span class="op" id="5821884">,</span>&nbsp;<span class="ident" id="5821886">ovfl</span>&nbsp;<span class="builtintype" id="5821891">error</span><span class="op" id="5821896">)</span>&nbsp;<span class="builtintype" id="5821898">bool</span>&nbsp;<span class="op" id="5821903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5821906">slice</span><span class="op" id="5821911">,</span>&nbsp;<span class="ident" id="5821913">ok</span>&nbsp;<span class="op" id="5821916">:=</span>&nbsp;<span class="ident" id="5821919">v</span><span class="op" id="5821920">.</span><span class="ident" id="5821921">Interface</span><span class="op" id="5821930">(</span><span class="op" id="5821931">)</span><span class="op" id="5821932">.</span><span class="op" id="5821933">(</span><span class="op" id="5821934">[</span><span class="op" id="5821935">]</span><span class="builtintype" id="5821936">complex64</span><span class="op" id="5821945">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5821948">if</span>&nbsp;<span class="op" id="5821951">!</span><span class="ident" id="5821952">ok</span>&nbsp;<span class="op" id="5821955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5821959">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822044">return</span>&nbsp;<span class="builtintype" id="5822051">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822061">for</span>&nbsp;<span class="ident" id="5822065">i</span>&nbsp;<span class="op" id="5822067">:=</span>&nbsp;<span class="num" id="5822070">0</span><span class="op" id="5822071">;</span>&nbsp;<span class="ident" id="5822073">i</span>&nbsp;<span class="op" id="5822075">&lt;</span>&nbsp;<span class="ident" id="5822077">length</span><span class="op" id="5822083">;</span>&nbsp;<span class="ident" id="5822085">i</span><span class="op" id="5822086">++</span>&nbsp;<span class="op" id="5822089">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822093">if</span>&nbsp;<span class="ident" id="5822096">state</span><span class="op" id="5822101">.</span><span class="ident" id="5822102">b</span><span class="op" id="5822103">.</span><span class="ident" id="5822104">Len</span><span class="op" id="5822107">(</span><span class="op" id="5822108">)</span>&nbsp;<span class="op" id="5822110">==</span>&nbsp;<span class="num" id="5822113">0</span>&nbsp;<span class="op" id="5822115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822120">errorf</span><span class="op" id="5822126">(</span><span class="string" id="5822127">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5822203">,</span>&nbsp;<span class="ident" id="5822205">length</span><span class="op" id="5822211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5822219">real</span>&nbsp;<span class="op" id="5822224">:=</span>&nbsp;<span class="ident" id="5822227">float32FromBits</span><span class="op" id="5822242">(</span><span class="ident" id="5822243">state</span><span class="op" id="5822248">.</span><span class="ident" id="5822249">decodeUint</span><span class="op" id="5822259">(</span><span class="op" id="5822260">)</span><span class="op" id="5822261">,</span>&nbsp;<span class="ident" id="5822263">ovfl</span><span class="op" id="5822267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5822271">imag</span>&nbsp;<span class="op" id="5822276">:=</span>&nbsp;<span class="ident" id="5822279">float32FromBits</span><span class="op" id="5822294">(</span><span class="ident" id="5822295">state</span><span class="op" id="5822300">.</span><span class="ident" id="5822301">decodeUint</span><span class="op" id="5822311">(</span><span class="op" id="5822312">)</span><span class="op" id="5822313">,</span>&nbsp;<span class="ident" id="5822315">ovfl</span><span class="op" id="5822319">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822323">slice</span><span class="op" id="5822328">[</span><span class="ident" id="5822329">i</span><span class="op" id="5822330">]</span>&nbsp;<span class="op" id="5822332">=</span>&nbsp;<span class="builtinfunc" id="5822334">complex</span><span class="op" id="5822341">(</span><span class="builtintype" id="5822342">float32</span><span class="op" id="5822349">(</span><span class="builtinfunc" id="5822350">real</span><span class="op" id="5822354">)</span><span class="op" id="5822355">,</span>&nbsp;<span class="builtintype" id="5822357">float32</span><span class="op" id="5822364">(</span><span class="builtinfunc" id="5822365">imag</span><span class="op" id="5822369">)</span><span class="op" id="5822370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822376">return</span>&nbsp;<span class="builtintype" id="5822383">true</span><br>
<span class="lineno"></span><span class="op" id="5822388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="5822391">func</span>&nbsp;<span class="ident" id="5822396">decComplex128Array</span><span class="op" id="5822414">(</span><span class="ident" id="5822415">state</span>&nbsp;<span class="op" id="5822421">*</span><span class="ident" id="5822422">decoderState</span><span class="op" id="5822434">,</span>&nbsp;<span class="ident" id="5822436">v</span>&nbsp;<span class="ident" id="5822438">reflect</span><span class="op" id="5822445">.</span><span class="ident" id="5822446">Value</span><span class="op" id="5822451">,</span>&nbsp;<span class="ident" id="5822453">length</span>&nbsp;<span class="builtintype" id="5822460">int</span><span class="op" id="5822463">,</span>&nbsp;<span class="ident" id="5822465">ovfl</span>&nbsp;<span class="builtintype" id="5822470">error</span><span class="op" id="5822475">)</span>&nbsp;<span class="builtintype" id="5822477">bool</span>&nbsp;<span class="op" id="5822482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5822485">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822526">if</span>&nbsp;<span class="op" id="5822529">!</span><span class="ident" id="5822530">v</span><span class="op" id="5822531">.</span><span class="ident" id="5822532">CanAddr</span><span class="op" id="5822539">(</span><span class="op" id="5822540">)</span>&nbsp;<span class="op" id="5822542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822546">return</span>&nbsp;<span class="builtintype" id="5822553">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822560">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822563">return</span>&nbsp;<span class="ident" id="5822570">decComplex128Slice</span><span class="op" id="5822588">(</span><span class="ident" id="5822589">state</span><span class="op" id="5822594">,</span>&nbsp;<span class="ident" id="5822596">v</span><span class="op" id="5822597">.</span><span class="ident" id="5822598">Slice</span><span class="op" id="5822603">(</span><span class="num" id="5822604">0</span><span class="op" id="5822605">,</span>&nbsp;<span class="ident" id="5822607">v</span><span class="op" id="5822608">.</span><span class="ident" id="5822609">Len</span><span class="op" id="5822612">(</span><span class="op" id="5822613">)</span><span class="op" id="5822614">)</span><span class="op" id="5822615">,</span>&nbsp;<span class="ident" id="5822617">length</span><span class="op" id="5822623">,</span>&nbsp;<span class="ident" id="5822625">ovfl</span><span class="op" id="5822629">)</span><br>
<span class="lineno"></span><span class="op" id="5822631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5822634">func</span>&nbsp;<span class="ident" id="5822639">decComplex128Slice</span><span class="op" id="5822657">(</span><span class="ident" id="5822658">state</span>&nbsp;<span class="op" id="5822664">*</span><span class="ident" id="5822665">decoderState</span><span class="op" id="5822677">,</span>&nbsp;<span class="ident" id="5822679">v</span>&nbsp;<span class="ident" id="5822681">reflect</span><span class="op" id="5822688">.</span><span class="ident" id="5822689">Value</span><span class="op" id="5822694">,</span>&nbsp;<span class="ident" id="5822696">length</span>&nbsp;<span class="builtintype" id="5822703">int</span><span class="op" id="5822706">,</span>&nbsp;<span class="ident" id="5822708">ovfl</span>&nbsp;<span class="builtintype" id="5822713">error</span><span class="op" id="5822718">)</span>&nbsp;<span class="builtintype" id="5822720">bool</span>&nbsp;<span class="op" id="5822725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822728">slice</span><span class="op" id="5822733">,</span>&nbsp;<span class="ident" id="5822735">ok</span>&nbsp;<span class="op" id="5822738">:=</span>&nbsp;<span class="ident" id="5822741">v</span><span class="op" id="5822742">.</span><span class="ident" id="5822743">Interface</span><span class="op" id="5822752">(</span><span class="op" id="5822753">)</span><span class="op" id="5822754">.</span><span class="op" id="5822755">(</span><span class="op" id="5822756">[</span><span class="op" id="5822757">]</span><span class="builtintype" id="5822758">complex128</span><span class="op" id="5822768">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822771">if</span>&nbsp;<span class="op" id="5822774">!</span><span class="ident" id="5822775">ok</span>&nbsp;<span class="op" id="5822778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5822782">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822869">return</span>&nbsp;<span class="builtintype" id="5822876">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5822883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822886">for</span>&nbsp;<span class="ident" id="5822890">i</span>&nbsp;<span class="op" id="5822892">:=</span>&nbsp;<span class="num" id="5822895">0</span><span class="op" id="5822896">;</span>&nbsp;<span class="ident" id="5822898">i</span>&nbsp;<span class="op" id="5822900">&lt;</span>&nbsp;<span class="ident" id="5822902">length</span><span class="op" id="5822908">;</span>&nbsp;<span class="ident" id="5822910">i</span><span class="op" id="5822911">++</span>&nbsp;<span class="op" id="5822914">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5822918">if</span>&nbsp;<span class="ident" id="5822921">state</span><span class="op" id="5822926">.</span><span class="ident" id="5822927">b</span><span class="op" id="5822928">.</span><span class="ident" id="5822929">Len</span><span class="op" id="5822932">(</span><span class="op" id="5822933">)</span>&nbsp;<span class="op" id="5822935">==</span>&nbsp;<span class="num" id="5822938">0</span>&nbsp;<span class="op" id="5822940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5822945">errorf</span><span class="op" id="5822951">(</span><span class="string" id="5822952">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5823029">,</span>&nbsp;<span class="ident" id="5823031">length</span><span class="op" id="5823037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5823045">real</span>&nbsp;<span class="op" id="5823050">:=</span>&nbsp;<span class="ident" id="5823053">float64FromBits</span><span class="op" id="5823068">(</span><span class="ident" id="5823069">state</span><span class="op" id="5823074">.</span><span class="ident" id="5823075">decodeUint</span><span class="op" id="5823085">(</span><span class="op" id="5823086">)</span><span class="op" id="5823087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5823091">imag</span>&nbsp;<span class="op" id="5823096">:=</span>&nbsp;<span class="ident" id="5823099">float64FromBits</span><span class="op" id="5823114">(</span><span class="ident" id="5823115">state</span><span class="op" id="5823120">.</span><span class="ident" id="5823121">decodeUint</span><span class="op" id="5823131">(</span><span class="op" id="5823132">)</span><span class="op" id="5823133">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823137">slice</span><span class="op" id="5823142">[</span><span class="ident" id="5823143">i</span><span class="op" id="5823144">]</span>&nbsp;<span class="op" id="5823146">=</span>&nbsp;<span class="builtinfunc" id="5823148">complex</span><span class="op" id="5823155">(</span><span class="builtinfunc" id="5823156">real</span><span class="op" id="5823160">,</span>&nbsp;<span class="builtinfunc" id="5823162">imag</span><span class="op" id="5823166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823172">return</span>&nbsp;<span class="builtintype" id="5823179">true</span><br>
<span class="lineno"></span><span class="op" id="5823184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5823187">func</span>&nbsp;<span class="ident" id="5823192">decFloat32Array</span><span class="op" id="5823207">(</span><span class="ident" id="5823208">state</span>&nbsp;<span class="op" id="5823214">*</span><span class="ident" id="5823215">decoderState</span><span class="op" id="5823227">,</span>&nbsp;<span class="ident" id="5823229">v</span>&nbsp;<span class="ident" id="5823231">reflect</span><span class="op" id="5823238">.</span><span class="ident" id="5823239">Value</span><span class="op" id="5823244">,</span>&nbsp;<span class="ident" id="5823246">length</span>&nbsp;<span class="builtintype" id="5823253">int</span><span class="op" id="5823256">,</span>&nbsp;<span class="ident" id="5823258">ovfl</span>&nbsp;<span class="builtintype" id="5823263">error</span><span class="op" id="5823268">)</span>&nbsp;<span class="builtintype" id="5823270">bool</span>&nbsp;<span class="op" id="5823275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5823278">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823319">if</span>&nbsp;<span class="op" id="5823322">!</span><span class="ident" id="5823323">v</span><span class="op" id="5823324">.</span><span class="ident" id="5823325">CanAddr</span><span class="op" id="5823332">(</span><span class="op" id="5823333">)</span>&nbsp;<span class="op" id="5823335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823339">return</span>&nbsp;<span class="builtintype" id="5823346">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823353">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823356">return</span>&nbsp;<span class="ident" id="5823363">decFloat32Slice</span><span class="op" id="5823378">(</span><span class="ident" id="5823379">state</span><span class="op" id="5823384">,</span>&nbsp;<span class="ident" id="5823386">v</span><span class="op" id="5823387">.</span><span class="ident" id="5823388">Slice</span><span class="op" id="5823393">(</span><span class="num" id="5823394">0</span><span class="op" id="5823395">,</span>&nbsp;<span class="ident" id="5823397">v</span><span class="op" id="5823398">.</span><span class="ident" id="5823399">Len</span><span class="op" id="5823402">(</span><span class="op" id="5823403">)</span><span class="op" id="5823404">)</span><span class="op" id="5823405">,</span>&nbsp;<span class="ident" id="5823407">length</span><span class="op" id="5823413">,</span>&nbsp;<span class="ident" id="5823415">ovfl</span><span class="op" id="5823419">)</span><br>
<span class="lineno"></span><span class="op" id="5823421">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5823424">func</span>&nbsp;<span class="ident" id="5823429">decFloat32Slice</span><span class="op" id="5823444">(</span><span class="ident" id="5823445">state</span>&nbsp;<span class="op" id="5823451">*</span><span class="ident" id="5823452">decoderState</span><span class="op" id="5823464">,</span>&nbsp;<span class="ident" id="5823466">v</span>&nbsp;<span class="ident" id="5823468">reflect</span><span class="op" id="5823475">.</span><span class="ident" id="5823476">Value</span><span class="op" id="5823481">,</span>&nbsp;<span class="ident" id="5823483">length</span>&nbsp;<span class="builtintype" id="5823490">int</span><span class="op" id="5823493">,</span>&nbsp;<span class="ident" id="5823495">ovfl</span>&nbsp;<span class="builtintype" id="5823500">error</span><span class="op" id="5823505">)</span>&nbsp;<span class="builtintype" id="5823507">bool</span>&nbsp;<span class="op" id="5823512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823515">slice</span><span class="op" id="5823520">,</span>&nbsp;<span class="ident" id="5823522">ok</span>&nbsp;<span class="op" id="5823525">:=</span>&nbsp;<span class="ident" id="5823528">v</span><span class="op" id="5823529">.</span><span class="ident" id="5823530">Interface</span><span class="op" id="5823539">(</span><span class="op" id="5823540">)</span><span class="op" id="5823541">.</span><span class="op" id="5823542">(</span><span class="op" id="5823543">[</span><span class="op" id="5823544">]</span><span class="builtintype" id="5823545">float32</span><span class="op" id="5823552">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823555">if</span>&nbsp;<span class="op" id="5823558">!</span><span class="ident" id="5823559">ok</span>&nbsp;<span class="op" id="5823562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5823566">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823647">return</span>&nbsp;<span class="builtintype" id="5823654">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823664">for</span>&nbsp;<span class="ident" id="5823668">i</span>&nbsp;<span class="op" id="5823670">:=</span>&nbsp;<span class="num" id="5823673">0</span><span class="op" id="5823674">;</span>&nbsp;<span class="ident" id="5823676">i</span>&nbsp;<span class="op" id="5823678">&lt;</span>&nbsp;<span class="ident" id="5823680">length</span><span class="op" id="5823686">;</span>&nbsp;<span class="ident" id="5823688">i</span><span class="op" id="5823689">++</span>&nbsp;<span class="op" id="5823692">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823696">if</span>&nbsp;<span class="ident" id="5823699">state</span><span class="op" id="5823704">.</span><span class="ident" id="5823705">b</span><span class="op" id="5823706">.</span><span class="ident" id="5823707">Len</span><span class="op" id="5823710">(</span><span class="op" id="5823711">)</span>&nbsp;<span class="op" id="5823713">==</span>&nbsp;<span class="num" id="5823716">0</span>&nbsp;<span class="op" id="5823718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823723">errorf</span><span class="op" id="5823729">(</span><span class="string" id="5823730">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5823804">,</span>&nbsp;<span class="ident" id="5823806">length</span><span class="op" id="5823812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5823820">slice</span><span class="op" id="5823825">[</span><span class="ident" id="5823826">i</span><span class="op" id="5823827">]</span>&nbsp;<span class="op" id="5823829">=</span>&nbsp;<span class="builtintype" id="5823831">float32</span><span class="op" id="5823838">(</span><span class="ident" id="5823839">float32FromBits</span><span class="op" id="5823854">(</span><span class="ident" id="5823855">state</span><span class="op" id="5823860">.</span><span class="ident" id="5823861">decodeUint</span><span class="op" id="5823871">(</span><span class="op" id="5823872">)</span><span class="op" id="5823873">,</span>&nbsp;<span class="ident" id="5823875">ovfl</span><span class="op" id="5823879">)</span><span class="op" id="5823880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5823883">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5823886">return</span>&nbsp;<span class="builtintype" id="5823893">true</span><br>
<span class="lineno"></span><span class="op" id="5823898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5823901">func</span>&nbsp;<span class="ident" id="5823906">decFloat64Array</span><span class="op" id="5823921">(</span><span class="ident" id="5823922">state</span>&nbsp;<span class="op" id="5823928">*</span><span class="ident" id="5823929">decoderState</span><span class="op" id="5823941">,</span>&nbsp;<span class="ident" id="5823943">v</span>&nbsp;<span class="ident" id="5823945">reflect</span><span class="op" id="5823952">.</span><span class="ident" id="5823953">Value</span><span class="op" id="5823958">,</span>&nbsp;<span class="ident" id="5823960">length</span>&nbsp;<span class="builtintype" id="5823967">int</span><span class="op" id="5823970">,</span>&nbsp;<span class="ident" id="5823972">ovfl</span>&nbsp;<span class="builtintype" id="5823977">error</span><span class="op" id="5823982">)</span>&nbsp;<span class="builtintype" id="5823984">bool</span>&nbsp;<span class="op" id="5823989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5823992">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824033">if</span>&nbsp;<span class="op" id="5824036">!</span><span class="ident" id="5824037">v</span><span class="op" id="5824038">.</span><span class="ident" id="5824039">CanAddr</span><span class="op" id="5824046">(</span><span class="op" id="5824047">)</span>&nbsp;<span class="op" id="5824049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824053">return</span>&nbsp;<span class="builtintype" id="5824060">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824070">return</span>&nbsp;<span class="ident" id="5824077">decFloat64Slice</span><span class="op" id="5824092">(</span><span class="ident" id="5824093">state</span><span class="op" id="5824098">,</span>&nbsp;<span class="ident" id="5824100">v</span><span class="op" id="5824101">.</span><span class="ident" id="5824102">Slice</span><span class="op" id="5824107">(</span><span class="num" id="5824108">0</span><span class="op" id="5824109">,</span>&nbsp;<span class="ident" id="5824111">v</span><span class="op" id="5824112">.</span><span class="ident" id="5824113">Len</span><span class="op" id="5824116">(</span><span class="op" id="5824117">)</span><span class="op" id="5824118">)</span><span class="op" id="5824119">,</span>&nbsp;<span class="ident" id="5824121">length</span><span class="op" id="5824127">,</span>&nbsp;<span class="ident" id="5824129">ovfl</span><span class="op" id="5824133">)</span><br>
<span class="lineno"></span><span class="op" id="5824135">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="5824138">func</span>&nbsp;<span class="ident" id="5824143">decFloat64Slice</span><span class="op" id="5824158">(</span><span class="ident" id="5824159">state</span>&nbsp;<span class="op" id="5824165">*</span><span class="ident" id="5824166">decoderState</span><span class="op" id="5824178">,</span>&nbsp;<span class="ident" id="5824180">v</span>&nbsp;<span class="ident" id="5824182">reflect</span><span class="op" id="5824189">.</span><span class="ident" id="5824190">Value</span><span class="op" id="5824195">,</span>&nbsp;<span class="ident" id="5824197">length</span>&nbsp;<span class="builtintype" id="5824204">int</span><span class="op" id="5824207">,</span>&nbsp;<span class="ident" id="5824209">ovfl</span>&nbsp;<span class="builtintype" id="5824214">error</span><span class="op" id="5824219">)</span>&nbsp;<span class="builtintype" id="5824221">bool</span>&nbsp;<span class="op" id="5824226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824229">slice</span><span class="op" id="5824234">,</span>&nbsp;<span class="ident" id="5824236">ok</span>&nbsp;<span class="op" id="5824239">:=</span>&nbsp;<span class="ident" id="5824242">v</span><span class="op" id="5824243">.</span><span class="ident" id="5824244">Interface</span><span class="op" id="5824253">(</span><span class="op" id="5824254">)</span><span class="op" id="5824255">.</span><span class="op" id="5824256">(</span><span class="op" id="5824257">[</span><span class="op" id="5824258">]</span><span class="builtintype" id="5824259">float64</span><span class="op" id="5824266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824269">if</span>&nbsp;<span class="op" id="5824272">!</span><span class="ident" id="5824273">ok</span>&nbsp;<span class="op" id="5824276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5824280">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824361">return</span>&nbsp;<span class="builtintype" id="5824368">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824378">for</span>&nbsp;<span class="ident" id="5824382">i</span>&nbsp;<span class="op" id="5824384">:=</span>&nbsp;<span class="num" id="5824387">0</span><span class="op" id="5824388">;</span>&nbsp;<span class="ident" id="5824390">i</span>&nbsp;<span class="op" id="5824392">&lt;</span>&nbsp;<span class="ident" id="5824394">length</span><span class="op" id="5824400">;</span>&nbsp;<span class="ident" id="5824402">i</span><span class="op" id="5824403">++</span>&nbsp;<span class="op" id="5824406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824410">if</span>&nbsp;<span class="ident" id="5824413">state</span><span class="op" id="5824418">.</span><span class="ident" id="5824419">b</span><span class="op" id="5824420">.</span><span class="ident" id="5824421">Len</span><span class="op" id="5824424">(</span><span class="op" id="5824425">)</span>&nbsp;<span class="op" id="5824427">==</span>&nbsp;<span class="num" id="5824430">0</span>&nbsp;<span class="op" id="5824432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824437">errorf</span><span class="op" id="5824443">(</span><span class="string" id="5824444">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5824518">,</span>&nbsp;<span class="ident" id="5824520">length</span><span class="op" id="5824526">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824534">slice</span><span class="op" id="5824539">[</span><span class="ident" id="5824540">i</span><span class="op" id="5824541">]</span>&nbsp;<span class="op" id="5824543">=</span>&nbsp;<span class="ident" id="5824545">float64FromBits</span><span class="op" id="5824560">(</span><span class="ident" id="5824561">state</span><span class="op" id="5824566">.</span><span class="ident" id="5824567">decodeUint</span><span class="op" id="5824577">(</span><span class="op" id="5824578">)</span><span class="op" id="5824579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824585">return</span>&nbsp;<span class="builtintype" id="5824592">true</span><br>
<span class="lineno"></span><span class="op" id="5824597">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="5824600">func</span>&nbsp;<span class="ident" id="5824605">decIntArray</span><span class="op" id="5824616">(</span><span class="ident" id="5824617">state</span>&nbsp;<span class="op" id="5824623">*</span><span class="ident" id="5824624">decoderState</span><span class="op" id="5824636">,</span>&nbsp;<span class="ident" id="5824638">v</span>&nbsp;<span class="ident" id="5824640">reflect</span><span class="op" id="5824647">.</span><span class="ident" id="5824648">Value</span><span class="op" id="5824653">,</span>&nbsp;<span class="ident" id="5824655">length</span>&nbsp;<span class="builtintype" id="5824662">int</span><span class="op" id="5824665">,</span>&nbsp;<span class="ident" id="5824667">ovfl</span>&nbsp;<span class="builtintype" id="5824672">error</span><span class="op" id="5824677">)</span>&nbsp;<span class="builtintype" id="5824679">bool</span>&nbsp;<span class="op" id="5824684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5824687">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824728">if</span>&nbsp;<span class="op" id="5824731">!</span><span class="ident" id="5824732">v</span><span class="op" id="5824733">.</span><span class="ident" id="5824734">CanAddr</span><span class="op" id="5824741">(</span><span class="op" id="5824742">)</span>&nbsp;<span class="op" id="5824744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824748">return</span>&nbsp;<span class="builtintype" id="5824755">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5824762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824765">return</span>&nbsp;<span class="ident" id="5824772">decIntSlice</span><span class="op" id="5824783">(</span><span class="ident" id="5824784">state</span><span class="op" id="5824789">,</span>&nbsp;<span class="ident" id="5824791">v</span><span class="op" id="5824792">.</span><span class="ident" id="5824793">Slice</span><span class="op" id="5824798">(</span><span class="num" id="5824799">0</span><span class="op" id="5824800">,</span>&nbsp;<span class="ident" id="5824802">v</span><span class="op" id="5824803">.</span><span class="ident" id="5824804">Len</span><span class="op" id="5824807">(</span><span class="op" id="5824808">)</span><span class="op" id="5824809">)</span><span class="op" id="5824810">,</span>&nbsp;<span class="ident" id="5824812">length</span><span class="op" id="5824818">,</span>&nbsp;<span class="ident" id="5824820">ovfl</span><span class="op" id="5824824">)</span><br>
<span class="lineno"></span><span class="op" id="5824826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824829">func</span>&nbsp;<span class="ident" id="5824834">decIntSlice</span><span class="op" id="5824845">(</span><span class="ident" id="5824846">state</span>&nbsp;<span class="op" id="5824852">*</span><span class="ident" id="5824853">decoderState</span><span class="op" id="5824865">,</span>&nbsp;<span class="ident" id="5824867">v</span>&nbsp;<span class="ident" id="5824869">reflect</span><span class="op" id="5824876">.</span><span class="ident" id="5824877">Value</span><span class="op" id="5824882">,</span>&nbsp;<span class="ident" id="5824884">length</span>&nbsp;<span class="builtintype" id="5824891">int</span><span class="op" id="5824894">,</span>&nbsp;<span class="ident" id="5824896">ovfl</span>&nbsp;<span class="builtintype" id="5824901">error</span><span class="op" id="5824906">)</span>&nbsp;<span class="builtintype" id="5824908">bool</span>&nbsp;<span class="op" id="5824913">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824916">slice</span><span class="op" id="5824921">,</span>&nbsp;<span class="ident" id="5824923">ok</span>&nbsp;<span class="op" id="5824926">:=</span>&nbsp;<span class="ident" id="5824929">v</span><span class="op" id="5824930">.</span><span class="ident" id="5824931">Interface</span><span class="op" id="5824940">(</span><span class="op" id="5824941">)</span><span class="op" id="5824942">.</span><span class="op" id="5824943">(</span><span class="op" id="5824944">[</span><span class="op" id="5824945">]</span><span class="builtintype" id="5824946">int</span><span class="op" id="5824949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5824952">if</span>&nbsp;<span class="op" id="5824955">!</span><span class="ident" id="5824956">ok</span>&nbsp;<span class="op" id="5824959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5824963">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825036">return</span>&nbsp;<span class="builtintype" id="5825043">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825050">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825053">for</span>&nbsp;<span class="ident" id="5825057">i</span>&nbsp;<span class="op" id="5825059">:=</span>&nbsp;<span class="num" id="5825062">0</span><span class="op" id="5825063">;</span>&nbsp;<span class="ident" id="5825065">i</span>&nbsp;<span class="op" id="5825067">&lt;</span>&nbsp;<span class="ident" id="5825069">length</span><span class="op" id="5825075">;</span>&nbsp;<span class="ident" id="5825077">i</span><span class="op" id="5825078">++</span>&nbsp;<span class="op" id="5825081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825085">if</span>&nbsp;<span class="ident" id="5825088">state</span><span class="op" id="5825093">.</span><span class="ident" id="5825094">b</span><span class="op" id="5825095">.</span><span class="ident" id="5825096">Len</span><span class="op" id="5825099">(</span><span class="op" id="5825100">)</span>&nbsp;<span class="op" id="5825102">==</span>&nbsp;<span class="num" id="5825105">0</span>&nbsp;<span class="op" id="5825107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825112">errorf</span><span class="op" id="5825118">(</span><span class="string" id="5825119">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5825189">,</span>&nbsp;<span class="ident" id="5825191">length</span><span class="op" id="5825197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825205">x</span>&nbsp;<span class="op" id="5825207">:=</span>&nbsp;<span class="ident" id="5825210">state</span><span class="op" id="5825215">.</span><span class="ident" id="5825216">decodeInt</span><span class="op" id="5825225">(</span><span class="op" id="5825226">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825230">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825253">if</span>&nbsp;<span class="ident" id="5825256">x</span>&nbsp;<span class="op" id="5825258">&lt;</span>&nbsp;<span class="op" id="5825260">^</span><span class="ident" id="5825261">int64</span><span class="op" id="5825266">(</span><span class="op" id="5825267">^</span><span class="builtintype" id="5825268">uint</span><span class="op" id="5825272">(</span><span class="num" id="5825273">0</span><span class="op" id="5825274">)</span><span class="op" id="5825275">&gt;&gt;</span><span class="num" id="5825277">1</span><span class="op" id="5825278">)</span>&nbsp;<span class="op" id="5825280">||</span>&nbsp;<span class="ident" id="5825283">int64</span><span class="op" id="5825288">(</span><span class="op" id="5825289">^</span><span class="builtintype" id="5825290">uint</span><span class="op" id="5825294">(</span><span class="num" id="5825295">0</span><span class="op" id="5825296">)</span><span class="op" id="5825297">&gt;&gt;</span><span class="num" id="5825299">1</span><span class="op" id="5825300">)</span>&nbsp;<span class="op" id="5825302">&lt;</span>&nbsp;<span class="ident" id="5825304">x</span>&nbsp;<span class="op" id="5825306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825311">error_</span><span class="op" id="5825317">(</span><span class="ident" id="5825318">ovfl</span><span class="op" id="5825322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825330">slice</span><span class="op" id="5825335">[</span><span class="ident" id="5825336">i</span><span class="op" id="5825337">]</span>&nbsp;<span class="op" id="5825339">=</span>&nbsp;<span class="builtintype" id="5825341">int</span><span class="op" id="5825344">(</span><span class="ident" id="5825345">x</span><span class="op" id="5825346">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825349">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825352">return</span>&nbsp;<span class="builtintype" id="5825359">true</span><br>
<span class="lineno"></span><span class="op" id="5825364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5825367">func</span>&nbsp;<span class="ident" id="5825372">decInt16Array</span><span class="op" id="5825385">(</span><span class="ident" id="5825386">state</span>&nbsp;<span class="op" id="5825392">*</span><span class="ident" id="5825393">decoderState</span><span class="op" id="5825405">,</span>&nbsp;<span class="ident" id="5825407">v</span>&nbsp;<span class="ident" id="5825409">reflect</span><span class="op" id="5825416">.</span><span class="ident" id="5825417">Value</span><span class="op" id="5825422">,</span>&nbsp;<span class="ident" id="5825424">length</span>&nbsp;<span class="builtintype" id="5825431">int</span><span class="op" id="5825434">,</span>&nbsp;<span class="ident" id="5825436">ovfl</span>&nbsp;<span class="builtintype" id="5825441">error</span><span class="op" id="5825446">)</span>&nbsp;<span class="builtintype" id="5825448">bool</span>&nbsp;<span class="op" id="5825453">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825456">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825497">if</span>&nbsp;<span class="op" id="5825500">!</span><span class="ident" id="5825501">v</span><span class="op" id="5825502">.</span><span class="ident" id="5825503">CanAddr</span><span class="op" id="5825510">(</span><span class="op" id="5825511">)</span>&nbsp;<span class="op" id="5825513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825517">return</span>&nbsp;<span class="builtintype" id="5825524">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825534">return</span>&nbsp;<span class="ident" id="5825541">decInt16Slice</span><span class="op" id="5825554">(</span><span class="ident" id="5825555">state</span><span class="op" id="5825560">,</span>&nbsp;<span class="ident" id="5825562">v</span><span class="op" id="5825563">.</span><span class="ident" id="5825564">Slice</span><span class="op" id="5825569">(</span><span class="num" id="5825570">0</span><span class="op" id="5825571">,</span>&nbsp;<span class="ident" id="5825573">v</span><span class="op" id="5825574">.</span><span class="ident" id="5825575">Len</span><span class="op" id="5825578">(</span><span class="op" id="5825579">)</span><span class="op" id="5825580">)</span><span class="op" id="5825581">,</span>&nbsp;<span class="ident" id="5825583">length</span><span class="op" id="5825589">,</span>&nbsp;<span class="ident" id="5825591">ovfl</span><span class="op" id="5825595">)</span><br>
<span class="lineno">205</span><span class="op" id="5825597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5825600">func</span>&nbsp;<span class="ident" id="5825605">decInt16Slice</span><span class="op" id="5825618">(</span><span class="ident" id="5825619">state</span>&nbsp;<span class="op" id="5825625">*</span><span class="ident" id="5825626">decoderState</span><span class="op" id="5825638">,</span>&nbsp;<span class="ident" id="5825640">v</span>&nbsp;<span class="ident" id="5825642">reflect</span><span class="op" id="5825649">.</span><span class="ident" id="5825650">Value</span><span class="op" id="5825655">,</span>&nbsp;<span class="ident" id="5825657">length</span>&nbsp;<span class="builtintype" id="5825664">int</span><span class="op" id="5825667">,</span>&nbsp;<span class="ident" id="5825669">ovfl</span>&nbsp;<span class="builtintype" id="5825674">error</span><span class="op" id="5825679">)</span>&nbsp;<span class="builtintype" id="5825681">bool</span>&nbsp;<span class="op" id="5825686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825689">slice</span><span class="op" id="5825694">,</span>&nbsp;<span class="ident" id="5825696">ok</span>&nbsp;<span class="op" id="5825699">:=</span>&nbsp;<span class="ident" id="5825702">v</span><span class="op" id="5825703">.</span><span class="ident" id="5825704">Interface</span><span class="op" id="5825713">(</span><span class="op" id="5825714">)</span><span class="op" id="5825715">.</span><span class="op" id="5825716">(</span><span class="op" id="5825717">[</span><span class="op" id="5825718">]</span><span class="builtintype" id="5825719">int16</span><span class="op" id="5825724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825727">if</span>&nbsp;<span class="op" id="5825730">!</span><span class="ident" id="5825731">ok</span>&nbsp;<span class="op" id="5825734">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5825738">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825815">return</span>&nbsp;<span class="builtintype" id="5825822">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825832">for</span>&nbsp;<span class="ident" id="5825836">i</span>&nbsp;<span class="op" id="5825838">:=</span>&nbsp;<span class="num" id="5825841">0</span><span class="op" id="5825842">;</span>&nbsp;<span class="ident" id="5825844">i</span>&nbsp;<span class="op" id="5825846">&lt;</span>&nbsp;<span class="ident" id="5825848">length</span><span class="op" id="5825854">;</span>&nbsp;<span class="ident" id="5825856">i</span><span class="op" id="5825857">++</span>&nbsp;<span class="op" id="5825860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825864">if</span>&nbsp;<span class="ident" id="5825867">state</span><span class="op" id="5825872">.</span><span class="ident" id="5825873">b</span><span class="op" id="5825874">.</span><span class="ident" id="5825875">Len</span><span class="op" id="5825878">(</span><span class="op" id="5825879">)</span>&nbsp;<span class="op" id="5825881">==</span>&nbsp;<span class="num" id="5825884">0</span>&nbsp;<span class="op" id="5825886">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825891">errorf</span><span class="op" id="5825897">(</span><span class="string" id="5825898">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5825970">,</span>&nbsp;<span class="ident" id="5825972">length</span><span class="op" id="5825978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825986">x</span>&nbsp;<span class="op" id="5825988">:=</span>&nbsp;<span class="ident" id="5825991">state</span><span class="op" id="5825996">.</span><span class="ident" id="5825997">decodeInt</span><span class="op" id="5826006">(</span><span class="op" id="5826007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826011">if</span>&nbsp;<span class="ident" id="5826014">x</span>&nbsp;<span class="op" id="5826016">&lt;</span>&nbsp;<span class="ident" id="5826018">math</span><span class="op" id="5826022">.</span><span class="ident" id="5826023">MinInt16</span>&nbsp;<span class="op" id="5826032">||</span>&nbsp;<span class="ident" id="5826035">math</span><span class="op" id="5826039">.</span><span class="ident" id="5826040">MaxInt16</span>&nbsp;<span class="op" id="5826049">&lt;</span>&nbsp;<span class="ident" id="5826051">x</span>&nbsp;<span class="op" id="5826053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826058">error_</span><span class="op" id="5826064">(</span><span class="ident" id="5826065">ovfl</span><span class="op" id="5826069">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826077">slice</span><span class="op" id="5826082">[</span><span class="ident" id="5826083">i</span><span class="op" id="5826084">]</span>&nbsp;<span class="op" id="5826086">=</span>&nbsp;<span class="builtintype" id="5826088">int16</span><span class="op" id="5826093">(</span><span class="ident" id="5826094">x</span><span class="op" id="5826095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826101">return</span>&nbsp;<span class="builtintype" id="5826108">true</span><br>
<span class="lineno"></span><span class="op" id="5826113">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="5826116">func</span>&nbsp;<span class="ident" id="5826121">decInt32Array</span><span class="op" id="5826134">(</span><span class="ident" id="5826135">state</span>&nbsp;<span class="op" id="5826141">*</span><span class="ident" id="5826142">decoderState</span><span class="op" id="5826154">,</span>&nbsp;<span class="ident" id="5826156">v</span>&nbsp;<span class="ident" id="5826158">reflect</span><span class="op" id="5826165">.</span><span class="ident" id="5826166">Value</span><span class="op" id="5826171">,</span>&nbsp;<span class="ident" id="5826173">length</span>&nbsp;<span class="builtintype" id="5826180">int</span><span class="op" id="5826183">,</span>&nbsp;<span class="ident" id="5826185">ovfl</span>&nbsp;<span class="builtintype" id="5826190">error</span><span class="op" id="5826195">)</span>&nbsp;<span class="builtintype" id="5826197">bool</span>&nbsp;<span class="op" id="5826202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826205">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826246">if</span>&nbsp;<span class="op" id="5826249">!</span><span class="ident" id="5826250">v</span><span class="op" id="5826251">.</span><span class="ident" id="5826252">CanAddr</span><span class="op" id="5826259">(</span><span class="op" id="5826260">)</span>&nbsp;<span class="op" id="5826262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826266">return</span>&nbsp;<span class="builtintype" id="5826273">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826283">return</span>&nbsp;<span class="ident" id="5826290">decInt32Slice</span><span class="op" id="5826303">(</span><span class="ident" id="5826304">state</span><span class="op" id="5826309">,</span>&nbsp;<span class="ident" id="5826311">v</span><span class="op" id="5826312">.</span><span class="ident" id="5826313">Slice</span><span class="op" id="5826318">(</span><span class="num" id="5826319">0</span><span class="op" id="5826320">,</span>&nbsp;<span class="ident" id="5826322">v</span><span class="op" id="5826323">.</span><span class="ident" id="5826324">Len</span><span class="op" id="5826327">(</span><span class="op" id="5826328">)</span><span class="op" id="5826329">)</span><span class="op" id="5826330">,</span>&nbsp;<span class="ident" id="5826332">length</span><span class="op" id="5826338">,</span>&nbsp;<span class="ident" id="5826340">ovfl</span><span class="op" id="5826344">)</span><br>
<span class="lineno"></span><span class="op" id="5826346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826349">func</span>&nbsp;<span class="ident" id="5826354">decInt32Slice</span><span class="op" id="5826367">(</span><span class="ident" id="5826368">state</span>&nbsp;<span class="op" id="5826374">*</span><span class="ident" id="5826375">decoderState</span><span class="op" id="5826387">,</span>&nbsp;<span class="ident" id="5826389">v</span>&nbsp;<span class="ident" id="5826391">reflect</span><span class="op" id="5826398">.</span><span class="ident" id="5826399">Value</span><span class="op" id="5826404">,</span>&nbsp;<span class="ident" id="5826406">length</span>&nbsp;<span class="builtintype" id="5826413">int</span><span class="op" id="5826416">,</span>&nbsp;<span class="ident" id="5826418">ovfl</span>&nbsp;<span class="builtintype" id="5826423">error</span><span class="op" id="5826428">)</span>&nbsp;<span class="builtintype" id="5826430">bool</span>&nbsp;<span class="op" id="5826435">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826438">slice</span><span class="op" id="5826443">,</span>&nbsp;<span class="ident" id="5826445">ok</span>&nbsp;<span class="op" id="5826448">:=</span>&nbsp;<span class="ident" id="5826451">v</span><span class="op" id="5826452">.</span><span class="ident" id="5826453">Interface</span><span class="op" id="5826462">(</span><span class="op" id="5826463">)</span><span class="op" id="5826464">.</span><span class="op" id="5826465">(</span><span class="op" id="5826466">[</span><span class="op" id="5826467">]</span><span class="builtintype" id="5826468">int32</span><span class="op" id="5826473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826476">if</span>&nbsp;<span class="op" id="5826479">!</span><span class="ident" id="5826480">ok</span>&nbsp;<span class="op" id="5826483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826487">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826564">return</span>&nbsp;<span class="builtintype" id="5826571">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826578">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826581">for</span>&nbsp;<span class="ident" id="5826585">i</span>&nbsp;<span class="op" id="5826587">:=</span>&nbsp;<span class="num" id="5826590">0</span><span class="op" id="5826591">;</span>&nbsp;<span class="ident" id="5826593">i</span>&nbsp;<span class="op" id="5826595">&lt;</span>&nbsp;<span class="ident" id="5826597">length</span><span class="op" id="5826603">;</span>&nbsp;<span class="ident" id="5826605">i</span><span class="op" id="5826606">++</span>&nbsp;<span class="op" id="5826609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826613">if</span>&nbsp;<span class="ident" id="5826616">state</span><span class="op" id="5826621">.</span><span class="ident" id="5826622">b</span><span class="op" id="5826623">.</span><span class="ident" id="5826624">Len</span><span class="op" id="5826627">(</span><span class="op" id="5826628">)</span>&nbsp;<span class="op" id="5826630">==</span>&nbsp;<span class="num" id="5826633">0</span>&nbsp;<span class="op" id="5826635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826640">errorf</span><span class="op" id="5826646">(</span><span class="string" id="5826647">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5826719">,</span>&nbsp;<span class="ident" id="5826721">length</span><span class="op" id="5826727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826735">x</span>&nbsp;<span class="op" id="5826737">:=</span>&nbsp;<span class="ident" id="5826740">state</span><span class="op" id="5826745">.</span><span class="ident" id="5826746">decodeInt</span><span class="op" id="5826755">(</span><span class="op" id="5826756">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826760">if</span>&nbsp;<span class="ident" id="5826763">x</span>&nbsp;<span class="op" id="5826765">&lt;</span>&nbsp;<span class="ident" id="5826767">math</span><span class="op" id="5826771">.</span><span class="ident" id="5826772">MinInt32</span>&nbsp;<span class="op" id="5826781">||</span>&nbsp;<span class="ident" id="5826784">math</span><span class="op" id="5826788">.</span><span class="ident" id="5826789">MaxInt32</span>&nbsp;<span class="op" id="5826798">&lt;</span>&nbsp;<span class="ident" id="5826800">x</span>&nbsp;<span class="op" id="5826802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826807">error_</span><span class="op" id="5826813">(</span><span class="ident" id="5826814">ovfl</span><span class="op" id="5826818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826826">slice</span><span class="op" id="5826831">[</span><span class="ident" id="5826832">i</span><span class="op" id="5826833">]</span>&nbsp;<span class="op" id="5826835">=</span>&nbsp;<span class="builtintype" id="5826837">int32</span><span class="op" id="5826842">(</span><span class="ident" id="5826843">x</span><span class="op" id="5826844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826847">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826850">return</span>&nbsp;<span class="builtintype" id="5826857">true</span><br>
<span class="lineno"></span><span class="op" id="5826862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5826865">func</span>&nbsp;<span class="ident" id="5826870">decInt64Array</span><span class="op" id="5826883">(</span><span class="ident" id="5826884">state</span>&nbsp;<span class="op" id="5826890">*</span><span class="ident" id="5826891">decoderState</span><span class="op" id="5826903">,</span>&nbsp;<span class="ident" id="5826905">v</span>&nbsp;<span class="ident" id="5826907">reflect</span><span class="op" id="5826914">.</span><span class="ident" id="5826915">Value</span><span class="op" id="5826920">,</span>&nbsp;<span class="ident" id="5826922">length</span>&nbsp;<span class="builtintype" id="5826929">int</span><span class="op" id="5826932">,</span>&nbsp;<span class="ident" id="5826934">ovfl</span>&nbsp;<span class="builtintype" id="5826939">error</span><span class="op" id="5826944">)</span>&nbsp;<span class="builtintype" id="5826946">bool</span>&nbsp;<span class="op" id="5826951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5826954">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826995">if</span>&nbsp;<span class="op" id="5826998">!</span><span class="ident" id="5826999">v</span><span class="op" id="5827000">.</span><span class="ident" id="5827001">CanAddr</span><span class="op" id="5827008">(</span><span class="op" id="5827009">)</span>&nbsp;<span class="op" id="5827011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827015">return</span>&nbsp;<span class="builtintype" id="5827022">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827032">return</span>&nbsp;<span class="ident" id="5827039">decInt64Slice</span><span class="op" id="5827052">(</span><span class="ident" id="5827053">state</span><span class="op" id="5827058">,</span>&nbsp;<span class="ident" id="5827060">v</span><span class="op" id="5827061">.</span><span class="ident" id="5827062">Slice</span><span class="op" id="5827067">(</span><span class="num" id="5827068">0</span><span class="op" id="5827069">,</span>&nbsp;<span class="ident" id="5827071">v</span><span class="op" id="5827072">.</span><span class="ident" id="5827073">Len</span><span class="op" id="5827076">(</span><span class="op" id="5827077">)</span><span class="op" id="5827078">)</span><span class="op" id="5827079">,</span>&nbsp;<span class="ident" id="5827081">length</span><span class="op" id="5827087">,</span>&nbsp;<span class="ident" id="5827089">ovfl</span><span class="op" id="5827093">)</span><br>
<span class="lineno"></span><span class="op" id="5827095">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5827098">func</span>&nbsp;<span class="ident" id="5827103">decInt64Slice</span><span class="op" id="5827116">(</span><span class="ident" id="5827117">state</span>&nbsp;<span class="op" id="5827123">*</span><span class="ident" id="5827124">decoderState</span><span class="op" id="5827136">,</span>&nbsp;<span class="ident" id="5827138">v</span>&nbsp;<span class="ident" id="5827140">reflect</span><span class="op" id="5827147">.</span><span class="ident" id="5827148">Value</span><span class="op" id="5827153">,</span>&nbsp;<span class="ident" id="5827155">length</span>&nbsp;<span class="builtintype" id="5827162">int</span><span class="op" id="5827165">,</span>&nbsp;<span class="ident" id="5827167">ovfl</span>&nbsp;<span class="builtintype" id="5827172">error</span><span class="op" id="5827177">)</span>&nbsp;<span class="builtintype" id="5827179">bool</span>&nbsp;<span class="op" id="5827184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827187">slice</span><span class="op" id="5827192">,</span>&nbsp;<span class="ident" id="5827194">ok</span>&nbsp;<span class="op" id="5827197">:=</span>&nbsp;<span class="ident" id="5827200">v</span><span class="op" id="5827201">.</span><span class="ident" id="5827202">Interface</span><span class="op" id="5827211">(</span><span class="op" id="5827212">)</span><span class="op" id="5827213">.</span><span class="op" id="5827214">(</span><span class="op" id="5827215">[</span><span class="op" id="5827216">]</span><span class="ident" id="5827217">int64</span><span class="op" id="5827222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827225">if</span>&nbsp;<span class="op" id="5827228">!</span><span class="ident" id="5827229">ok</span>&nbsp;<span class="op" id="5827232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5827236">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827313">return</span>&nbsp;<span class="builtintype" id="5827320">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827330">for</span>&nbsp;<span class="ident" id="5827334">i</span>&nbsp;<span class="op" id="5827336">:=</span>&nbsp;<span class="num" id="5827339">0</span><span class="op" id="5827340">;</span>&nbsp;<span class="ident" id="5827342">i</span>&nbsp;<span class="op" id="5827344">&lt;</span>&nbsp;<span class="ident" id="5827346">length</span><span class="op" id="5827352">;</span>&nbsp;<span class="ident" id="5827354">i</span><span class="op" id="5827355">++</span>&nbsp;<span class="op" id="5827358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827362">if</span>&nbsp;<span class="ident" id="5827365">state</span><span class="op" id="5827370">.</span><span class="ident" id="5827371">b</span><span class="op" id="5827372">.</span><span class="ident" id="5827373">Len</span><span class="op" id="5827376">(</span><span class="op" id="5827377">)</span>&nbsp;<span class="op" id="5827379">==</span>&nbsp;<span class="num" id="5827382">0</span>&nbsp;<span class="op" id="5827384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827389">errorf</span><span class="op" id="5827395">(</span><span class="string" id="5827396">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5827468">,</span>&nbsp;<span class="ident" id="5827470">length</span><span class="op" id="5827476">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827484">slice</span><span class="op" id="5827489">[</span><span class="ident" id="5827490">i</span><span class="op" id="5827491">]</span>&nbsp;<span class="op" id="5827493">=</span>&nbsp;<span class="ident" id="5827495">state</span><span class="op" id="5827500">.</span><span class="ident" id="5827501">decodeInt</span><span class="op" id="5827510">(</span><span class="op" id="5827511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827517">return</span>&nbsp;<span class="builtintype" id="5827524">true</span><br>
<span class="lineno"></span><span class="op" id="5827529">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="5827532">func</span>&nbsp;<span class="ident" id="5827537">decInt8Array</span><span class="op" id="5827549">(</span><span class="ident" id="5827550">state</span>&nbsp;<span class="op" id="5827556">*</span><span class="ident" id="5827557">decoderState</span><span class="op" id="5827569">,</span>&nbsp;<span class="ident" id="5827571">v</span>&nbsp;<span class="ident" id="5827573">reflect</span><span class="op" id="5827580">.</span><span class="ident" id="5827581">Value</span><span class="op" id="5827586">,</span>&nbsp;<span class="ident" id="5827588">length</span>&nbsp;<span class="builtintype" id="5827595">int</span><span class="op" id="5827598">,</span>&nbsp;<span class="ident" id="5827600">ovfl</span>&nbsp;<span class="builtintype" id="5827605">error</span><span class="op" id="5827610">)</span>&nbsp;<span class="builtintype" id="5827612">bool</span>&nbsp;<span class="op" id="5827617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5827620">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827661">if</span>&nbsp;<span class="op" id="5827664">!</span><span class="ident" id="5827665">v</span><span class="op" id="5827666">.</span><span class="ident" id="5827667">CanAddr</span><span class="op" id="5827674">(</span><span class="op" id="5827675">)</span>&nbsp;<span class="op" id="5827677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827681">return</span>&nbsp;<span class="builtintype" id="5827688">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827698">return</span>&nbsp;<span class="ident" id="5827705">decInt8Slice</span><span class="op" id="5827717">(</span><span class="ident" id="5827718">state</span><span class="op" id="5827723">,</span>&nbsp;<span class="ident" id="5827725">v</span><span class="op" id="5827726">.</span><span class="ident" id="5827727">Slice</span><span class="op" id="5827732">(</span><span class="num" id="5827733">0</span><span class="op" id="5827734">,</span>&nbsp;<span class="ident" id="5827736">v</span><span class="op" id="5827737">.</span><span class="ident" id="5827738">Len</span><span class="op" id="5827741">(</span><span class="op" id="5827742">)</span><span class="op" id="5827743">)</span><span class="op" id="5827744">,</span>&nbsp;<span class="ident" id="5827746">length</span><span class="op" id="5827752">,</span>&nbsp;<span class="ident" id="5827754">ovfl</span><span class="op" id="5827758">)</span><br>
<span class="lineno"></span><span class="op" id="5827760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5827763">func</span>&nbsp;<span class="ident" id="5827768">decInt8Slice</span><span class="op" id="5827780">(</span><span class="ident" id="5827781">state</span>&nbsp;<span class="op" id="5827787">*</span><span class="ident" id="5827788">decoderState</span><span class="op" id="5827800">,</span>&nbsp;<span class="ident" id="5827802">v</span>&nbsp;<span class="ident" id="5827804">reflect</span><span class="op" id="5827811">.</span><span class="ident" id="5827812">Value</span><span class="op" id="5827817">,</span>&nbsp;<span class="ident" id="5827819">length</span>&nbsp;<span class="builtintype" id="5827826">int</span><span class="op" id="5827829">,</span>&nbsp;<span class="ident" id="5827831">ovfl</span>&nbsp;<span class="builtintype" id="5827836">error</span><span class="op" id="5827841">)</span>&nbsp;<span class="builtintype" id="5827843">bool</span>&nbsp;<span class="op" id="5827848">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827851">slice</span><span class="op" id="5827856">,</span>&nbsp;<span class="ident" id="5827858">ok</span>&nbsp;<span class="op" id="5827861">:=</span>&nbsp;<span class="ident" id="5827864">v</span><span class="op" id="5827865">.</span><span class="ident" id="5827866">Interface</span><span class="op" id="5827875">(</span><span class="op" id="5827876">)</span><span class="op" id="5827877">.</span><span class="op" id="5827878">(</span><span class="op" id="5827879">[</span><span class="op" id="5827880">]</span><span class="builtintype" id="5827881">int8</span><span class="op" id="5827885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827888">if</span>&nbsp;<span class="op" id="5827891">!</span><span class="ident" id="5827892">ok</span>&nbsp;<span class="op" id="5827895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5827899">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827974">return</span>&nbsp;<span class="builtintype" id="5827981">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827988">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827991">for</span>&nbsp;<span class="ident" id="5827995">i</span>&nbsp;<span class="op" id="5827997">:=</span>&nbsp;<span class="num" id="5828000">0</span><span class="op" id="5828001">;</span>&nbsp;<span class="ident" id="5828003">i</span>&nbsp;<span class="op" id="5828005">&lt;</span>&nbsp;<span class="ident" id="5828007">length</span><span class="op" id="5828013">;</span>&nbsp;<span class="ident" id="5828015">i</span><span class="op" id="5828016">++</span>&nbsp;<span class="op" id="5828019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828023">if</span>&nbsp;<span class="ident" id="5828026">state</span><span class="op" id="5828031">.</span><span class="ident" id="5828032">b</span><span class="op" id="5828033">.</span><span class="ident" id="5828034">Len</span><span class="op" id="5828037">(</span><span class="op" id="5828038">)</span>&nbsp;<span class="op" id="5828040">==</span>&nbsp;<span class="num" id="5828043">0</span>&nbsp;<span class="op" id="5828045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828050">errorf</span><span class="op" id="5828056">(</span><span class="string" id="5828057">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5828128">,</span>&nbsp;<span class="ident" id="5828130">length</span><span class="op" id="5828136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828144">x</span>&nbsp;<span class="op" id="5828146">:=</span>&nbsp;<span class="ident" id="5828149">state</span><span class="op" id="5828154">.</span><span class="ident" id="5828155">decodeInt</span><span class="op" id="5828164">(</span><span class="op" id="5828165">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828169">if</span>&nbsp;<span class="ident" id="5828172">x</span>&nbsp;<span class="op" id="5828174">&lt;</span>&nbsp;<span class="ident" id="5828176">math</span><span class="op" id="5828180">.</span><span class="ident" id="5828181">MinInt8</span>&nbsp;<span class="op" id="5828189">||</span>&nbsp;<span class="ident" id="5828192">math</span><span class="op" id="5828196">.</span><span class="ident" id="5828197">MaxInt8</span>&nbsp;<span class="op" id="5828205">&lt;</span>&nbsp;<span class="ident" id="5828207">x</span>&nbsp;<span class="op" id="5828209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828214">error_</span><span class="op" id="5828220">(</span><span class="ident" id="5828221">ovfl</span><span class="op" id="5828225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828233">slice</span><span class="op" id="5828238">[</span><span class="ident" id="5828239">i</span><span class="op" id="5828240">]</span>&nbsp;<span class="op" id="5828242">=</span>&nbsp;<span class="builtintype" id="5828244">int8</span><span class="op" id="5828248">(</span><span class="ident" id="5828249">x</span><span class="op" id="5828250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828253">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828256">return</span>&nbsp;<span class="builtintype" id="5828263">true</span><br>
<span class="lineno"></span><span class="op" id="5828268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5828271">func</span>&nbsp;<span class="ident" id="5828276">decStringArray</span><span class="op" id="5828290">(</span><span class="ident" id="5828291">state</span>&nbsp;<span class="op" id="5828297">*</span><span class="ident" id="5828298">decoderState</span><span class="op" id="5828310">,</span>&nbsp;<span class="ident" id="5828312">v</span>&nbsp;<span class="ident" id="5828314">reflect</span><span class="op" id="5828321">.</span><span class="ident" id="5828322">Value</span><span class="op" id="5828327">,</span>&nbsp;<span class="ident" id="5828329">length</span>&nbsp;<span class="builtintype" id="5828336">int</span><span class="op" id="5828339">,</span>&nbsp;<span class="ident" id="5828341">ovfl</span>&nbsp;<span class="builtintype" id="5828346">error</span><span class="op" id="5828351">)</span>&nbsp;<span class="builtintype" id="5828353">bool</span>&nbsp;<span class="op" id="5828358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828361">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828402">if</span>&nbsp;<span class="op" id="5828405">!</span><span class="ident" id="5828406">v</span><span class="op" id="5828407">.</span><span class="ident" id="5828408">CanAddr</span><span class="op" id="5828415">(</span><span class="op" id="5828416">)</span>&nbsp;<span class="op" id="5828418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828422">return</span>&nbsp;<span class="builtintype" id="5828429">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828439">return</span>&nbsp;<span class="ident" id="5828446">decStringSlice</span><span class="op" id="5828460">(</span><span class="ident" id="5828461">state</span><span class="op" id="5828466">,</span>&nbsp;<span class="ident" id="5828468">v</span><span class="op" id="5828469">.</span><span class="ident" id="5828470">Slice</span><span class="op" id="5828475">(</span><span class="num" id="5828476">0</span><span class="op" id="5828477">,</span>&nbsp;<span class="ident" id="5828479">v</span><span class="op" id="5828480">.</span><span class="ident" id="5828481">Len</span><span class="op" id="5828484">(</span><span class="op" id="5828485">)</span><span class="op" id="5828486">)</span><span class="op" id="5828487">,</span>&nbsp;<span class="ident" id="5828489">length</span><span class="op" id="5828495">,</span>&nbsp;<span class="ident" id="5828497">ovfl</span><span class="op" id="5828501">)</span><br>
<span class="lineno"></span><span class="op" id="5828503">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="5828506">func</span>&nbsp;<span class="ident" id="5828511">decStringSlice</span><span class="op" id="5828525">(</span><span class="ident" id="5828526">state</span>&nbsp;<span class="op" id="5828532">*</span><span class="ident" id="5828533">decoderState</span><span class="op" id="5828545">,</span>&nbsp;<span class="ident" id="5828547">v</span>&nbsp;<span class="ident" id="5828549">reflect</span><span class="op" id="5828556">.</span><span class="ident" id="5828557">Value</span><span class="op" id="5828562">,</span>&nbsp;<span class="ident" id="5828564">length</span>&nbsp;<span class="builtintype" id="5828571">int</span><span class="op" id="5828574">,</span>&nbsp;<span class="ident" id="5828576">ovfl</span>&nbsp;<span class="builtintype" id="5828581">error</span><span class="op" id="5828586">)</span>&nbsp;<span class="builtintype" id="5828588">bool</span>&nbsp;<span class="op" id="5828593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828596">slice</span><span class="op" id="5828601">,</span>&nbsp;<span class="ident" id="5828603">ok</span>&nbsp;<span class="op" id="5828606">:=</span>&nbsp;<span class="ident" id="5828609">v</span><span class="op" id="5828610">.</span><span class="ident" id="5828611">Interface</span><span class="op" id="5828620">(</span><span class="op" id="5828621">)</span><span class="op" id="5828622">.</span><span class="op" id="5828623">(</span><span class="op" id="5828624">[</span><span class="op" id="5828625">]</span><span class="builtintype" id="5828626">string</span><span class="op" id="5828632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828635">if</span>&nbsp;<span class="op" id="5828638">!</span><span class="ident" id="5828639">ok</span>&nbsp;<span class="op" id="5828642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5828646">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828725">return</span>&nbsp;<span class="builtintype" id="5828732">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828742">for</span>&nbsp;<span class="ident" id="5828746">i</span>&nbsp;<span class="op" id="5828748">:=</span>&nbsp;<span class="num" id="5828751">0</span><span class="op" id="5828752">;</span>&nbsp;<span class="ident" id="5828754">i</span>&nbsp;<span class="op" id="5828756">&lt;</span>&nbsp;<span class="ident" id="5828758">length</span><span class="op" id="5828764">;</span>&nbsp;<span class="ident" id="5828766">i</span><span class="op" id="5828767">++</span>&nbsp;<span class="op" id="5828770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828774">if</span>&nbsp;<span class="ident" id="5828777">state</span><span class="op" id="5828782">.</span><span class="ident" id="5828783">b</span><span class="op" id="5828784">.</span><span class="ident" id="5828785">Len</span><span class="op" id="5828788">(</span><span class="op" id="5828789">)</span>&nbsp;<span class="op" id="5828791">==</span>&nbsp;<span class="num" id="5828794">0</span>&nbsp;<span class="op" id="5828796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828801">errorf</span><span class="op" id="5828807">(</span><span class="string" id="5828808">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5828881">,</span>&nbsp;<span class="ident" id="5828883">length</span><span class="op" id="5828889">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5828893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828897">u</span>&nbsp;<span class="op" id="5828899">:=</span>&nbsp;<span class="ident" id="5828902">state</span><span class="op" id="5828907">.</span><span class="ident" id="5828908">decodeUint</span><span class="op" id="5828918">(</span><span class="op" id="5828919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828923">n</span>&nbsp;<span class="op" id="5828925">:=</span>&nbsp;<span class="builtintype" id="5828928">int</span><span class="op" id="5828931">(</span><span class="ident" id="5828932">u</span><span class="op" id="5828933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5828937">if</span>&nbsp;<span class="ident" id="5828940">n</span>&nbsp;<span class="op" id="5828942">&lt;</span>&nbsp;<span class="num" id="5828944">0</span>&nbsp;<span class="op" id="5828946">||</span>&nbsp;<span class="ident" id="5828949">uint64</span><span class="op" id="5828955">(</span><span class="ident" id="5828956">n</span><span class="op" id="5828957">)</span>&nbsp;<span class="op" id="5828959">!=</span>&nbsp;<span class="ident" id="5828962">u</span>&nbsp;<span class="op" id="5828964">||</span>&nbsp;<span class="ident" id="5828967">n</span>&nbsp;<span class="op" id="5828969">&gt;</span>&nbsp;<span class="ident" id="5828971">state</span><span class="op" id="5828976">.</span><span class="ident" id="5828977">b</span><span class="op" id="5828978">.</span><span class="ident" id="5828979">Len</span><span class="op" id="5828982">(</span><span class="op" id="5828983">)</span>&nbsp;<span class="op" id="5828985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5828990">errorf</span><span class="op" id="5828996">(</span><span class="string" id="5828997">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="5829045">,</span>&nbsp;<span class="ident" id="5829047">u</span><span class="op" id="5829048">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829056">if</span>&nbsp;<span class="ident" id="5829059">n</span>&nbsp;<span class="op" id="5829061">&gt;</span>&nbsp;<span class="ident" id="5829063">state</span><span class="op" id="5829068">.</span><span class="ident" id="5829069">b</span><span class="op" id="5829070">.</span><span class="ident" id="5829071">Len</span><span class="op" id="5829074">(</span><span class="op" id="5829075">)</span>&nbsp;<span class="op" id="5829077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829082">errorf</span><span class="op" id="5829088">(</span><span class="string" id="5829089">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="5829126">,</span>&nbsp;<span class="ident" id="5829128">n</span><span class="op" id="5829129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5829137">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829157">data</span>&nbsp;<span class="op" id="5829162">:=</span>&nbsp;<span class="builtinfunc" id="5829165">make</span><span class="op" id="5829169">(</span><span class="op" id="5829170">[</span><span class="op" id="5829171">]</span><span class="builtintype" id="5829172">byte</span><span class="op" id="5829176">,</span>&nbsp;<span class="ident" id="5829178">n</span><span class="op" id="5829179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829183">if</span>&nbsp;<span class="ident" id="5829186">_</span><span class="op" id="5829187">,</span>&nbsp;<span class="ident" id="5829189">err</span>&nbsp;<span class="op" id="5829193">:=</span>&nbsp;<span class="ident" id="5829196">state</span><span class="op" id="5829201">.</span><span class="ident" id="5829202">b</span><span class="op" id="5829203">.</span><span class="ident" id="5829204">Read</span><span class="op" id="5829208">(</span><span class="ident" id="5829209">data</span><span class="op" id="5829213">)</span><span class="op" id="5829214">;</span>&nbsp;<span class="ident" id="5829216">err</span>&nbsp;<span class="op" id="5829220">!=</span>&nbsp;<span class="builtintype" id="5829223">nil</span>&nbsp;<span class="op" id="5829227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829232">errorf</span><span class="op" id="5829238">(</span><span class="string" id="5829239">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="5829266">,</span>&nbsp;<span class="ident" id="5829268">err</span><span class="op" id="5829271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829279">slice</span><span class="op" id="5829284">[</span><span class="ident" id="5829285">i</span><span class="op" id="5829286">]</span>&nbsp;<span class="op" id="5829288">=</span>&nbsp;<span class="builtintype" id="5829290">string</span><span class="op" id="5829296">(</span><span class="ident" id="5829297">data</span><span class="op" id="5829301">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829307">return</span>&nbsp;<span class="builtintype" id="5829314">true</span><br>
<span class="lineno"></span><span class="op" id="5829319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5829322">func</span>&nbsp;<span class="ident" id="5829327">decUintArray</span><span class="op" id="5829339">(</span><span class="ident" id="5829340">state</span>&nbsp;<span class="op" id="5829346">*</span><span class="ident" id="5829347">decoderState</span><span class="op" id="5829359">,</span>&nbsp;<span class="ident" id="5829361">v</span>&nbsp;<span class="ident" id="5829363">reflect</span><span class="op" id="5829370">.</span><span class="ident" id="5829371">Value</span><span class="op" id="5829376">,</span>&nbsp;<span class="ident" id="5829378">length</span>&nbsp;<span class="builtintype" id="5829385">int</span><span class="op" id="5829388">,</span>&nbsp;<span class="ident" id="5829390">ovfl</span>&nbsp;<span class="builtintype" id="5829395">error</span><span class="op" id="5829400">)</span>&nbsp;<span class="builtintype" id="5829402">bool</span>&nbsp;<span class="op" id="5829407">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5829410">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829451">if</span>&nbsp;<span class="op" id="5829454">!</span><span class="ident" id="5829455">v</span><span class="op" id="5829456">.</span><span class="ident" id="5829457">CanAddr</span><span class="op" id="5829464">(</span><span class="op" id="5829465">)</span>&nbsp;<span class="op" id="5829467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829471">return</span>&nbsp;<span class="builtintype" id="5829478">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829488">return</span>&nbsp;<span class="ident" id="5829495">decUintSlice</span><span class="op" id="5829507">(</span><span class="ident" id="5829508">state</span><span class="op" id="5829513">,</span>&nbsp;<span class="ident" id="5829515">v</span><span class="op" id="5829516">.</span><span class="ident" id="5829517">Slice</span><span class="op" id="5829522">(</span><span class="num" id="5829523">0</span><span class="op" id="5829524">,</span>&nbsp;<span class="ident" id="5829526">v</span><span class="op" id="5829527">.</span><span class="ident" id="5829528">Len</span><span class="op" id="5829531">(</span><span class="op" id="5829532">)</span><span class="op" id="5829533">)</span><span class="op" id="5829534">,</span>&nbsp;<span class="ident" id="5829536">length</span><span class="op" id="5829542">,</span>&nbsp;<span class="ident" id="5829544">ovfl</span><span class="op" id="5829548">)</span><br>
<span class="lineno">345</span><span class="op" id="5829550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5829553">func</span>&nbsp;<span class="ident" id="5829558">decUintSlice</span><span class="op" id="5829570">(</span><span class="ident" id="5829571">state</span>&nbsp;<span class="op" id="5829577">*</span><span class="ident" id="5829578">decoderState</span><span class="op" id="5829590">,</span>&nbsp;<span class="ident" id="5829592">v</span>&nbsp;<span class="ident" id="5829594">reflect</span><span class="op" id="5829601">.</span><span class="ident" id="5829602">Value</span><span class="op" id="5829607">,</span>&nbsp;<span class="ident" id="5829609">length</span>&nbsp;<span class="builtintype" id="5829616">int</span><span class="op" id="5829619">,</span>&nbsp;<span class="ident" id="5829621">ovfl</span>&nbsp;<span class="builtintype" id="5829626">error</span><span class="op" id="5829631">)</span>&nbsp;<span class="builtintype" id="5829633">bool</span>&nbsp;<span class="op" id="5829638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829641">slice</span><span class="op" id="5829646">,</span>&nbsp;<span class="ident" id="5829648">ok</span>&nbsp;<span class="op" id="5829651">:=</span>&nbsp;<span class="ident" id="5829654">v</span><span class="op" id="5829655">.</span><span class="ident" id="5829656">Interface</span><span class="op" id="5829665">(</span><span class="op" id="5829666">)</span><span class="op" id="5829667">.</span><span class="op" id="5829668">(</span><span class="op" id="5829669">[</span><span class="op" id="5829670">]</span><span class="builtintype" id="5829671">uint</span><span class="op" id="5829675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829678">if</span>&nbsp;<span class="op" id="5829681">!</span><span class="ident" id="5829682">ok</span>&nbsp;<span class="op" id="5829685">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5829689">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829764">return</span>&nbsp;<span class="builtintype" id="5829771">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829781">for</span>&nbsp;<span class="ident" id="5829785">i</span>&nbsp;<span class="op" id="5829787">:=</span>&nbsp;<span class="num" id="5829790">0</span><span class="op" id="5829791">;</span>&nbsp;<span class="ident" id="5829793">i</span>&nbsp;<span class="op" id="5829795">&lt;</span>&nbsp;<span class="ident" id="5829797">length</span><span class="op" id="5829803">;</span>&nbsp;<span class="ident" id="5829805">i</span><span class="op" id="5829806">++</span>&nbsp;<span class="op" id="5829809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5829813">if</span>&nbsp;<span class="ident" id="5829816">state</span><span class="op" id="5829821">.</span><span class="ident" id="5829822">b</span><span class="op" id="5829823">.</span><span class="ident" id="5829824">Len</span><span class="op" id="5829827">(</span><span class="op" id="5829828">)</span>&nbsp;<span class="op" id="5829830">==</span>&nbsp;<span class="num" id="5829833">0</span>&nbsp;<span class="op" id="5829835">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829840">errorf</span><span class="op" id="5829846">(</span><span class="string" id="5829847">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5829918">,</span>&nbsp;<span class="ident" id="5829920">length</span><span class="op" id="5829926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5829930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5829934">x</span>&nbsp;<span class="op" id="5829936">:=</span>&nbsp;<span class="ident" id="5829939">state</span><span class="op" id="5829944">.</span><span class="ident" id="5829945">decodeUint</span><span class="op" id="5829955">(</span><span class="op" id="5829956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5829960">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830015">slice</span><span class="op" id="5830020">[</span><span class="ident" id="5830021">i</span><span class="op" id="5830022">]</span>&nbsp;<span class="op" id="5830024">=</span>&nbsp;<span class="builtintype" id="5830026">uint</span><span class="op" id="5830030">(</span><span class="ident" id="5830031">x</span><span class="op" id="5830032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830038">return</span>&nbsp;<span class="builtintype" id="5830045">true</span><br>
<span class="lineno"></span><span class="op" id="5830050">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="5830053">func</span>&nbsp;<span class="ident" id="5830058">decUint16Array</span><span class="op" id="5830072">(</span><span class="ident" id="5830073">state</span>&nbsp;<span class="op" id="5830079">*</span><span class="ident" id="5830080">decoderState</span><span class="op" id="5830092">,</span>&nbsp;<span class="ident" id="5830094">v</span>&nbsp;<span class="ident" id="5830096">reflect</span><span class="op" id="5830103">.</span><span class="ident" id="5830104">Value</span><span class="op" id="5830109">,</span>&nbsp;<span class="ident" id="5830111">length</span>&nbsp;<span class="builtintype" id="5830118">int</span><span class="op" id="5830121">,</span>&nbsp;<span class="ident" id="5830123">ovfl</span>&nbsp;<span class="builtintype" id="5830128">error</span><span class="op" id="5830133">)</span>&nbsp;<span class="builtintype" id="5830135">bool</span>&nbsp;<span class="op" id="5830140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830143">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830184">if</span>&nbsp;<span class="op" id="5830187">!</span><span class="ident" id="5830188">v</span><span class="op" id="5830189">.</span><span class="ident" id="5830190">CanAddr</span><span class="op" id="5830197">(</span><span class="op" id="5830198">)</span>&nbsp;<span class="op" id="5830200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830204">return</span>&nbsp;<span class="builtintype" id="5830211">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830221">return</span>&nbsp;<span class="ident" id="5830228">decUint16Slice</span><span class="op" id="5830242">(</span><span class="ident" id="5830243">state</span><span class="op" id="5830248">,</span>&nbsp;<span class="ident" id="5830250">v</span><span class="op" id="5830251">.</span><span class="ident" id="5830252">Slice</span><span class="op" id="5830257">(</span><span class="num" id="5830258">0</span><span class="op" id="5830259">,</span>&nbsp;<span class="ident" id="5830261">v</span><span class="op" id="5830262">.</span><span class="ident" id="5830263">Len</span><span class="op" id="5830266">(</span><span class="op" id="5830267">)</span><span class="op" id="5830268">)</span><span class="op" id="5830269">,</span>&nbsp;<span class="ident" id="5830271">length</span><span class="op" id="5830277">,</span>&nbsp;<span class="ident" id="5830279">ovfl</span><span class="op" id="5830283">)</span><br>
<span class="lineno"></span><span class="op" id="5830285">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5830288">func</span>&nbsp;<span class="ident" id="5830293">decUint16Slice</span><span class="op" id="5830307">(</span><span class="ident" id="5830308">state</span>&nbsp;<span class="op" id="5830314">*</span><span class="ident" id="5830315">decoderState</span><span class="op" id="5830327">,</span>&nbsp;<span class="ident" id="5830329">v</span>&nbsp;<span class="ident" id="5830331">reflect</span><span class="op" id="5830338">.</span><span class="ident" id="5830339">Value</span><span class="op" id="5830344">,</span>&nbsp;<span class="ident" id="5830346">length</span>&nbsp;<span class="builtintype" id="5830353">int</span><span class="op" id="5830356">,</span>&nbsp;<span class="ident" id="5830358">ovfl</span>&nbsp;<span class="builtintype" id="5830363">error</span><span class="op" id="5830368">)</span>&nbsp;<span class="builtintype" id="5830370">bool</span>&nbsp;<span class="op" id="5830375">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830378">slice</span><span class="op" id="5830383">,</span>&nbsp;<span class="ident" id="5830385">ok</span>&nbsp;<span class="op" id="5830388">:=</span>&nbsp;<span class="ident" id="5830391">v</span><span class="op" id="5830392">.</span><span class="ident" id="5830393">Interface</span><span class="op" id="5830402">(</span><span class="op" id="5830403">)</span><span class="op" id="5830404">.</span><span class="op" id="5830405">(</span><span class="op" id="5830406">[</span><span class="op" id="5830407">]</span><span class="builtintype" id="5830408">uint16</span><span class="op" id="5830414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830417">if</span>&nbsp;<span class="op" id="5830420">!</span><span class="ident" id="5830421">ok</span>&nbsp;<span class="op" id="5830424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830428">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830507">return</span>&nbsp;<span class="builtintype" id="5830514">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830521">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830524">for</span>&nbsp;<span class="ident" id="5830528">i</span>&nbsp;<span class="op" id="5830530">:=</span>&nbsp;<span class="num" id="5830533">0</span><span class="op" id="5830534">;</span>&nbsp;<span class="ident" id="5830536">i</span>&nbsp;<span class="op" id="5830538">&lt;</span>&nbsp;<span class="ident" id="5830540">length</span><span class="op" id="5830546">;</span>&nbsp;<span class="ident" id="5830548">i</span><span class="op" id="5830549">++</span>&nbsp;<span class="op" id="5830552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830556">if</span>&nbsp;<span class="ident" id="5830559">state</span><span class="op" id="5830564">.</span><span class="ident" id="5830565">b</span><span class="op" id="5830566">.</span><span class="ident" id="5830567">Len</span><span class="op" id="5830570">(</span><span class="op" id="5830571">)</span>&nbsp;<span class="op" id="5830573">==</span>&nbsp;<span class="num" id="5830576">0</span>&nbsp;<span class="op" id="5830578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830583">errorf</span><span class="op" id="5830589">(</span><span class="string" id="5830590">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5830663">,</span>&nbsp;<span class="ident" id="5830665">length</span><span class="op" id="5830671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830679">x</span>&nbsp;<span class="op" id="5830681">:=</span>&nbsp;<span class="ident" id="5830684">state</span><span class="op" id="5830689">.</span><span class="ident" id="5830690">decodeUint</span><span class="op" id="5830700">(</span><span class="op" id="5830701">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830705">if</span>&nbsp;<span class="ident" id="5830708">math</span><span class="op" id="5830712">.</span><span class="ident" id="5830713">MaxUint16</span>&nbsp;<span class="op" id="5830723">&lt;</span>&nbsp;<span class="ident" id="5830725">x</span>&nbsp;<span class="op" id="5830727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830732">error_</span><span class="op" id="5830738">(</span><span class="ident" id="5830739">ovfl</span><span class="op" id="5830743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830747">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5830751">slice</span><span class="op" id="5830756">[</span><span class="ident" id="5830757">i</span><span class="op" id="5830758">]</span>&nbsp;<span class="op" id="5830760">=</span>&nbsp;<span class="builtintype" id="5830762">uint16</span><span class="op" id="5830768">(</span><span class="ident" id="5830769">x</span><span class="op" id="5830770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830773">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830776">return</span>&nbsp;<span class="builtintype" id="5830783">true</span><br>
<span class="lineno"></span><span class="op" id="5830788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5830791">func</span>&nbsp;<span class="ident" id="5830796">decUint32Array</span><span class="op" id="5830810">(</span><span class="ident" id="5830811">state</span>&nbsp;<span class="op" id="5830817">*</span><span class="ident" id="5830818">decoderState</span><span class="op" id="5830830">,</span>&nbsp;<span class="ident" id="5830832">v</span>&nbsp;<span class="ident" id="5830834">reflect</span><span class="op" id="5830841">.</span><span class="ident" id="5830842">Value</span><span class="op" id="5830847">,</span>&nbsp;<span class="ident" id="5830849">length</span>&nbsp;<span class="builtintype" id="5830856">int</span><span class="op" id="5830859">,</span>&nbsp;<span class="ident" id="5830861">ovfl</span>&nbsp;<span class="builtintype" id="5830866">error</span><span class="op" id="5830871">)</span>&nbsp;<span class="builtintype" id="5830873">bool</span>&nbsp;<span class="op" id="5830878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5830881">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830922">if</span>&nbsp;<span class="op" id="5830925">!</span><span class="ident" id="5830926">v</span><span class="op" id="5830927">.</span><span class="ident" id="5830928">CanAddr</span><span class="op" id="5830935">(</span><span class="op" id="5830936">)</span>&nbsp;<span class="op" id="5830938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830942">return</span>&nbsp;<span class="builtintype" id="5830949">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5830956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5830959">return</span>&nbsp;<span class="ident" id="5830966">decUint32Slice</span><span class="op" id="5830980">(</span><span class="ident" id="5830981">state</span><span class="op" id="5830986">,</span>&nbsp;<span class="ident" id="5830988">v</span><span class="op" id="5830989">.</span><span class="ident" id="5830990">Slice</span><span class="op" id="5830995">(</span><span class="num" id="5830996">0</span><span class="op" id="5830997">,</span>&nbsp;<span class="ident" id="5830999">v</span><span class="op" id="5831000">.</span><span class="ident" id="5831001">Len</span><span class="op" id="5831004">(</span><span class="op" id="5831005">)</span><span class="op" id="5831006">)</span><span class="op" id="5831007">,</span>&nbsp;<span class="ident" id="5831009">length</span><span class="op" id="5831015">,</span>&nbsp;<span class="ident" id="5831017">ovfl</span><span class="op" id="5831021">)</span><br>
<span class="lineno"></span><span class="op" id="5831023">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="5831026">func</span>&nbsp;<span class="ident" id="5831031">decUint32Slice</span><span class="op" id="5831045">(</span><span class="ident" id="5831046">state</span>&nbsp;<span class="op" id="5831052">*</span><span class="ident" id="5831053">decoderState</span><span class="op" id="5831065">,</span>&nbsp;<span class="ident" id="5831067">v</span>&nbsp;<span class="ident" id="5831069">reflect</span><span class="op" id="5831076">.</span><span class="ident" id="5831077">Value</span><span class="op" id="5831082">,</span>&nbsp;<span class="ident" id="5831084">length</span>&nbsp;<span class="builtintype" id="5831091">int</span><span class="op" id="5831094">,</span>&nbsp;<span class="ident" id="5831096">ovfl</span>&nbsp;<span class="builtintype" id="5831101">error</span><span class="op" id="5831106">)</span>&nbsp;<span class="builtintype" id="5831108">bool</span>&nbsp;<span class="op" id="5831113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831116">slice</span><span class="op" id="5831121">,</span>&nbsp;<span class="ident" id="5831123">ok</span>&nbsp;<span class="op" id="5831126">:=</span>&nbsp;<span class="ident" id="5831129">v</span><span class="op" id="5831130">.</span><span class="ident" id="5831131">Interface</span><span class="op" id="5831140">(</span><span class="op" id="5831141">)</span><span class="op" id="5831142">.</span><span class="op" id="5831143">(</span><span class="op" id="5831144">[</span><span class="op" id="5831145">]</span><span class="builtintype" id="5831146">uint32</span><span class="op" id="5831152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831155">if</span>&nbsp;<span class="op" id="5831158">!</span><span class="ident" id="5831159">ok</span>&nbsp;<span class="op" id="5831162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5831166">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831245">return</span>&nbsp;<span class="builtintype" id="5831252">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831262">for</span>&nbsp;<span class="ident" id="5831266">i</span>&nbsp;<span class="op" id="5831268">:=</span>&nbsp;<span class="num" id="5831271">0</span><span class="op" id="5831272">;</span>&nbsp;<span class="ident" id="5831274">i</span>&nbsp;<span class="op" id="5831276">&lt;</span>&nbsp;<span class="ident" id="5831278">length</span><span class="op" id="5831284">;</span>&nbsp;<span class="ident" id="5831286">i</span><span class="op" id="5831287">++</span>&nbsp;<span class="op" id="5831290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831294">if</span>&nbsp;<span class="ident" id="5831297">state</span><span class="op" id="5831302">.</span><span class="ident" id="5831303">b</span><span class="op" id="5831304">.</span><span class="ident" id="5831305">Len</span><span class="op" id="5831308">(</span><span class="op" id="5831309">)</span>&nbsp;<span class="op" id="5831311">==</span>&nbsp;<span class="num" id="5831314">0</span>&nbsp;<span class="op" id="5831316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831321">errorf</span><span class="op" id="5831327">(</span><span class="string" id="5831328">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5831401">,</span>&nbsp;<span class="ident" id="5831403">length</span><span class="op" id="5831409">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831417">x</span>&nbsp;<span class="op" id="5831419">:=</span>&nbsp;<span class="ident" id="5831422">state</span><span class="op" id="5831427">.</span><span class="ident" id="5831428">decodeUint</span><span class="op" id="5831438">(</span><span class="op" id="5831439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831443">if</span>&nbsp;<span class="ident" id="5831446">math</span><span class="op" id="5831450">.</span><span class="ident" id="5831451">MaxUint32</span>&nbsp;<span class="op" id="5831461">&lt;</span>&nbsp;<span class="ident" id="5831463">x</span>&nbsp;<span class="op" id="5831465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831470">error_</span><span class="op" id="5831476">(</span><span class="ident" id="5831477">ovfl</span><span class="op" id="5831481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831485">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831489">slice</span><span class="op" id="5831494">[</span><span class="ident" id="5831495">i</span><span class="op" id="5831496">]</span>&nbsp;<span class="op" id="5831498">=</span>&nbsp;<span class="builtintype" id="5831500">uint32</span><span class="op" id="5831506">(</span><span class="ident" id="5831507">x</span><span class="op" id="5831508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831514">return</span>&nbsp;<span class="builtintype" id="5831521">true</span><br>
<span class="lineno"></span><span class="op" id="5831526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="5831529">func</span>&nbsp;<span class="ident" id="5831534">decUint64Array</span><span class="op" id="5831548">(</span><span class="ident" id="5831549">state</span>&nbsp;<span class="op" id="5831555">*</span><span class="ident" id="5831556">decoderState</span><span class="op" id="5831568">,</span>&nbsp;<span class="ident" id="5831570">v</span>&nbsp;<span class="ident" id="5831572">reflect</span><span class="op" id="5831579">.</span><span class="ident" id="5831580">Value</span><span class="op" id="5831585">,</span>&nbsp;<span class="ident" id="5831587">length</span>&nbsp;<span class="builtintype" id="5831594">int</span><span class="op" id="5831597">,</span>&nbsp;<span class="ident" id="5831599">ovfl</span>&nbsp;<span class="builtintype" id="5831604">error</span><span class="op" id="5831609">)</span>&nbsp;<span class="builtintype" id="5831611">bool</span>&nbsp;<span class="op" id="5831616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5831619">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831660">if</span>&nbsp;<span class="op" id="5831663">!</span><span class="ident" id="5831664">v</span><span class="op" id="5831665">.</span><span class="ident" id="5831666">CanAddr</span><span class="op" id="5831673">(</span><span class="op" id="5831674">)</span>&nbsp;<span class="op" id="5831676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831680">return</span>&nbsp;<span class="builtintype" id="5831687">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831694">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831697">return</span>&nbsp;<span class="ident" id="5831704">decUint64Slice</span><span class="op" id="5831718">(</span><span class="ident" id="5831719">state</span><span class="op" id="5831724">,</span>&nbsp;<span class="ident" id="5831726">v</span><span class="op" id="5831727">.</span><span class="ident" id="5831728">Slice</span><span class="op" id="5831733">(</span><span class="num" id="5831734">0</span><span class="op" id="5831735">,</span>&nbsp;<span class="ident" id="5831737">v</span><span class="op" id="5831738">.</span><span class="ident" id="5831739">Len</span><span class="op" id="5831742">(</span><span class="op" id="5831743">)</span><span class="op" id="5831744">)</span><span class="op" id="5831745">,</span>&nbsp;<span class="ident" id="5831747">length</span><span class="op" id="5831753">,</span>&nbsp;<span class="ident" id="5831755">ovfl</span><span class="op" id="5831759">)</span><br>
<span class="lineno"></span><span class="op" id="5831761">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5831764">func</span>&nbsp;<span class="ident" id="5831769">decUint64Slice</span><span class="op" id="5831783">(</span><span class="ident" id="5831784">state</span>&nbsp;<span class="op" id="5831790">*</span><span class="ident" id="5831791">decoderState</span><span class="op" id="5831803">,</span>&nbsp;<span class="ident" id="5831805">v</span>&nbsp;<span class="ident" id="5831807">reflect</span><span class="op" id="5831814">.</span><span class="ident" id="5831815">Value</span><span class="op" id="5831820">,</span>&nbsp;<span class="ident" id="5831822">length</span>&nbsp;<span class="builtintype" id="5831829">int</span><span class="op" id="5831832">,</span>&nbsp;<span class="ident" id="5831834">ovfl</span>&nbsp;<span class="builtintype" id="5831839">error</span><span class="op" id="5831844">)</span>&nbsp;<span class="builtintype" id="5831846">bool</span>&nbsp;<span class="op" id="5831851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5831854">slice</span><span class="op" id="5831859">,</span>&nbsp;<span class="ident" id="5831861">ok</span>&nbsp;<span class="op" id="5831864">:=</span>&nbsp;<span class="ident" id="5831867">v</span><span class="op" id="5831868">.</span><span class="ident" id="5831869">Interface</span><span class="op" id="5831878">(</span><span class="op" id="5831879">)</span><span class="op" id="5831880">.</span><span class="op" id="5831881">(</span><span class="op" id="5831882">[</span><span class="op" id="5831883">]</span><span class="ident" id="5831884">uint64</span><span class="op" id="5831890">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831893">if</span>&nbsp;<span class="op" id="5831896">!</span><span class="ident" id="5831897">ok</span>&nbsp;<span class="op" id="5831900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5831904">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5831983">return</span>&nbsp;<span class="builtintype" id="5831990">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5831997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832000">for</span>&nbsp;<span class="ident" id="5832004">i</span>&nbsp;<span class="op" id="5832006">:=</span>&nbsp;<span class="num" id="5832009">0</span><span class="op" id="5832010">;</span>&nbsp;<span class="ident" id="5832012">i</span>&nbsp;<span class="op" id="5832014">&lt;</span>&nbsp;<span class="ident" id="5832016">length</span><span class="op" id="5832022">;</span>&nbsp;<span class="ident" id="5832024">i</span><span class="op" id="5832025">++</span>&nbsp;<span class="op" id="5832028">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832032">if</span>&nbsp;<span class="ident" id="5832035">state</span><span class="op" id="5832040">.</span><span class="ident" id="5832041">b</span><span class="op" id="5832042">.</span><span class="ident" id="5832043">Len</span><span class="op" id="5832046">(</span><span class="op" id="5832047">)</span>&nbsp;<span class="op" id="5832049">==</span>&nbsp;<span class="num" id="5832052">0</span>&nbsp;<span class="op" id="5832054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832059">errorf</span><span class="op" id="5832065">(</span><span class="string" id="5832066">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5832139">,</span>&nbsp;<span class="ident" id="5832141">length</span><span class="op" id="5832147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832155">slice</span><span class="op" id="5832160">[</span><span class="ident" id="5832161">i</span><span class="op" id="5832162">]</span>&nbsp;<span class="op" id="5832164">=</span>&nbsp;<span class="ident" id="5832166">state</span><span class="op" id="5832171">.</span><span class="ident" id="5832172">decodeUint</span><span class="op" id="5832182">(</span><span class="op" id="5832183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832186">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832189">return</span>&nbsp;<span class="builtintype" id="5832196">true</span><br>
<span class="lineno"></span><span class="op" id="5832201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5832204">func</span>&nbsp;<span class="ident" id="5832209">decUintptrArray</span><span class="op" id="5832224">(</span><span class="ident" id="5832225">state</span>&nbsp;<span class="op" id="5832231">*</span><span class="ident" id="5832232">decoderState</span><span class="op" id="5832244">,</span>&nbsp;<span class="ident" id="5832246">v</span>&nbsp;<span class="ident" id="5832248">reflect</span><span class="op" id="5832255">.</span><span class="ident" id="5832256">Value</span><span class="op" id="5832261">,</span>&nbsp;<span class="ident" id="5832263">length</span>&nbsp;<span class="builtintype" id="5832270">int</span><span class="op" id="5832273">,</span>&nbsp;<span class="ident" id="5832275">ovfl</span>&nbsp;<span class="builtintype" id="5832280">error</span><span class="op" id="5832285">)</span>&nbsp;<span class="builtintype" id="5832287">bool</span>&nbsp;<span class="op" id="5832292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5832295">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832336">if</span>&nbsp;<span class="op" id="5832339">!</span><span class="ident" id="5832340">v</span><span class="op" id="5832341">.</span><span class="ident" id="5832342">CanAddr</span><span class="op" id="5832349">(</span><span class="op" id="5832350">)</span>&nbsp;<span class="op" id="5832352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832356">return</span>&nbsp;<span class="builtintype" id="5832363">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832373">return</span>&nbsp;<span class="ident" id="5832380">decUintptrSlice</span><span class="op" id="5832395">(</span><span class="ident" id="5832396">state</span><span class="op" id="5832401">,</span>&nbsp;<span class="ident" id="5832403">v</span><span class="op" id="5832404">.</span><span class="ident" id="5832405">Slice</span><span class="op" id="5832410">(</span><span class="num" id="5832411">0</span><span class="op" id="5832412">,</span>&nbsp;<span class="ident" id="5832414">v</span><span class="op" id="5832415">.</span><span class="ident" id="5832416">Len</span><span class="op" id="5832419">(</span><span class="op" id="5832420">)</span><span class="op" id="5832421">)</span><span class="op" id="5832422">,</span>&nbsp;<span class="ident" id="5832424">length</span><span class="op" id="5832430">,</span>&nbsp;<span class="ident" id="5832432">ovfl</span><span class="op" id="5832436">)</span><br>
<span class="lineno"></span><span class="op" id="5832438">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="5832441">func</span>&nbsp;<span class="ident" id="5832446">decUintptrSlice</span><span class="op" id="5832461">(</span><span class="ident" id="5832462">state</span>&nbsp;<span class="op" id="5832468">*</span><span class="ident" id="5832469">decoderState</span><span class="op" id="5832481">,</span>&nbsp;<span class="ident" id="5832483">v</span>&nbsp;<span class="ident" id="5832485">reflect</span><span class="op" id="5832492">.</span><span class="ident" id="5832493">Value</span><span class="op" id="5832498">,</span>&nbsp;<span class="ident" id="5832500">length</span>&nbsp;<span class="builtintype" id="5832507">int</span><span class="op" id="5832510">,</span>&nbsp;<span class="ident" id="5832512">ovfl</span>&nbsp;<span class="builtintype" id="5832517">error</span><span class="op" id="5832522">)</span>&nbsp;<span class="builtintype" id="5832524">bool</span>&nbsp;<span class="op" id="5832529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832532">slice</span><span class="op" id="5832537">,</span>&nbsp;<span class="ident" id="5832539">ok</span>&nbsp;<span class="op" id="5832542">:=</span>&nbsp;<span class="ident" id="5832545">v</span><span class="op" id="5832546">.</span><span class="ident" id="5832547">Interface</span><span class="op" id="5832556">(</span><span class="op" id="5832557">)</span><span class="op" id="5832558">.</span><span class="op" id="5832559">(</span><span class="op" id="5832560">[</span><span class="op" id="5832561">]</span><span class="builtintype" id="5832562">uintptr</span><span class="op" id="5832569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832572">if</span>&nbsp;<span class="op" id="5832575">!</span><span class="ident" id="5832576">ok</span>&nbsp;<span class="op" id="5832579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5832583">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832664">return</span>&nbsp;<span class="builtintype" id="5832671">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832681">for</span>&nbsp;<span class="ident" id="5832685">i</span>&nbsp;<span class="op" id="5832687">:=</span>&nbsp;<span class="num" id="5832690">0</span><span class="op" id="5832691">;</span>&nbsp;<span class="ident" id="5832693">i</span>&nbsp;<span class="op" id="5832695">&lt;</span>&nbsp;<span class="ident" id="5832697">length</span><span class="op" id="5832703">;</span>&nbsp;<span class="ident" id="5832705">i</span><span class="op" id="5832706">++</span>&nbsp;<span class="op" id="5832709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832713">if</span>&nbsp;<span class="ident" id="5832716">state</span><span class="op" id="5832721">.</span><span class="ident" id="5832722">b</span><span class="op" id="5832723">.</span><span class="ident" id="5832724">Len</span><span class="op" id="5832727">(</span><span class="op" id="5832728">)</span>&nbsp;<span class="op" id="5832730">==</span>&nbsp;<span class="num" id="5832733">0</span>&nbsp;<span class="op" id="5832735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832740">errorf</span><span class="op" id="5832746">(</span><span class="string" id="5832747">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5832821">,</span>&nbsp;<span class="ident" id="5832823">length</span><span class="op" id="5832829">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832837">x</span>&nbsp;<span class="op" id="5832839">:=</span>&nbsp;<span class="ident" id="5832842">state</span><span class="op" id="5832847">.</span><span class="ident" id="5832848">decodeUint</span><span class="op" id="5832858">(</span><span class="op" id="5832859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832863">if</span>&nbsp;<span class="ident" id="5832866">uint64</span><span class="op" id="5832872">(</span><span class="op" id="5832873">^</span><span class="builtintype" id="5832874">uintptr</span><span class="op" id="5832881">(</span><span class="num" id="5832882">0</span><span class="op" id="5832883">)</span><span class="op" id="5832884">)</span>&nbsp;<span class="op" id="5832886">&lt;</span>&nbsp;<span class="ident" id="5832888">x</span>&nbsp;<span class="op" id="5832890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832895">error_</span><span class="op" id="5832901">(</span><span class="ident" id="5832902">ovfl</span><span class="op" id="5832906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832910">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5832914">slice</span><span class="op" id="5832919">[</span><span class="ident" id="5832920">i</span><span class="op" id="5832921">]</span>&nbsp;<span class="op" id="5832923">=</span>&nbsp;<span class="builtintype" id="5832925">uintptr</span><span class="op" id="5832932">(</span><span class="ident" id="5832933">x</span><span class="op" id="5832934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5832937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5832940">return</span>&nbsp;<span class="builtintype" id="5832947">true</span><br>
<span class="lineno"></span><span class="op" id="5832952">}</span>
</div>
</body>
</html>
