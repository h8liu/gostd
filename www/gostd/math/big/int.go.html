<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html" class="current">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3605956">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3606011">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3606065">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3606116">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;signed&nbsp;multi-precision&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3606174">package</span>&nbsp;<span class="ident" id="3606182">big</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3606187">import</span>&nbsp;<span class="op" id="3606194">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3606197">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3606207">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3606214">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3606220">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3606233">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="3606243">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3606246">//&nbsp;An&nbsp;Int&nbsp;represents&nbsp;a&nbsp;signed&nbsp;multi-precision&nbsp;integer.</span><br>
<span class="lineno"></span><span class="comment" id="3606301">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;Int&nbsp;represents&nbsp;the&nbsp;value&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3606354">type</span>&nbsp;<span class="ident" id="3606359">Int</span>&nbsp;<span class="keyword" id="3606363">struct</span>&nbsp;<span class="op" id="3606370">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606373">neg</span>&nbsp;<span class="builtintype" id="3606377">bool</span>&nbsp;<span class="comment" id="3606382">//&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606391">abs</span>&nbsp;<span class="ident" id="3606395">nat</span>&nbsp;&nbsp;<span class="comment" id="3606400">//&nbsp;absolute&nbsp;value&nbsp;of&nbsp;the&nbsp;integer</span><br>
<span class="lineno"></span><span class="op" id="3606433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3606436">var</span>&nbsp;<span class="ident" id="3606440">intOne</span>&nbsp;<span class="op" id="3606447">=</span>&nbsp;<span class="op" id="3606449">&amp;</span><span class="ident" id="3606450">Int</span><span class="op" id="3606453">{</span><span class="builtintype" id="3606454">false</span><span class="op" id="3606459">,</span>&nbsp;<span class="ident" id="3606461">natOne</span><span class="op" id="3606467">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3606470">//&nbsp;Sign&nbsp;returns:</span><br>
<span class="lineno"></span><span class="comment" id="3606487">//</span><br>
<span class="lineno"></span><span class="comment" id="3606490">//&nbsp;&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3606506">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;0</span><br>
<span class="lineno">30</span><span class="comment" id="3606522">//&nbsp;&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="3606538">//</span><br>
<span class="lineno"></span><span class="keyword" id="3606541">func</span>&nbsp;<span class="op" id="3606546">(</span><span class="ident" id="3606547">x</span>&nbsp;<span class="op" id="3606549">*</span><span class="ident" id="3606550">Int</span><span class="op" id="3606553">)</span>&nbsp;<span class="ident" id="3606555">Sign</span><span class="op" id="3606559">(</span><span class="op" id="3606560">)</span>&nbsp;<span class="builtintype" id="3606562">int</span>&nbsp;<span class="op" id="3606566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606569">if</span>&nbsp;<span class="builtinfunc" id="3606572">len</span><span class="op" id="3606575">(</span><span class="ident" id="3606576">x</span><span class="op" id="3606577">.</span><span class="ident" id="3606578">abs</span><span class="op" id="3606581">)</span>&nbsp;<span class="op" id="3606583">==</span>&nbsp;<span class="num" id="3606586">0</span>&nbsp;<span class="op" id="3606588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606592">return</span>&nbsp;<span class="num" id="3606599">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3606602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606605">if</span>&nbsp;<span class="ident" id="3606608">x</span><span class="op" id="3606609">.</span><span class="ident" id="3606610">neg</span>&nbsp;<span class="op" id="3606614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606618">return</span>&nbsp;<span class="op" id="3606625">-</span><span class="num" id="3606626">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3606629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606632">return</span>&nbsp;<span class="num" id="3606639">1</span><br>
<span class="lineno">40</span><span class="op" id="3606641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3606644">//&nbsp;SetInt64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3606683">func</span>&nbsp;<span class="op" id="3606688">(</span><span class="ident" id="3606689">z</span>&nbsp;<span class="op" id="3606691">*</span><span class="ident" id="3606692">Int</span><span class="op" id="3606695">)</span>&nbsp;<span class="ident" id="3606697">SetInt64</span><span class="op" id="3606705">(</span><span class="ident" id="3606706">x</span>&nbsp;<span class="ident" id="3606708">int64</span><span class="op" id="3606713">)</span>&nbsp;<span class="op" id="3606715">*</span><span class="ident" id="3606716">Int</span>&nbsp;<span class="op" id="3606720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606723">neg</span>&nbsp;<span class="op" id="3606727">:=</span>&nbsp;<span class="builtintype" id="3606730">false</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606737">if</span>&nbsp;<span class="ident" id="3606740">x</span>&nbsp;<span class="op" id="3606742">&lt;</span>&nbsp;<span class="num" id="3606744">0</span>&nbsp;<span class="op" id="3606746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606750">neg</span>&nbsp;<span class="op" id="3606754">=</span>&nbsp;<span class="builtintype" id="3606756">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606763">x</span>&nbsp;<span class="op" id="3606765">=</span>&nbsp;<span class="op" id="3606767">-</span><span class="ident" id="3606768">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3606771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606774">z</span><span class="op" id="3606775">.</span><span class="ident" id="3606776">abs</span>&nbsp;<span class="op" id="3606780">=</span>&nbsp;<span class="ident" id="3606782">z</span><span class="op" id="3606783">.</span><span class="ident" id="3606784">abs</span><span class="op" id="3606787">.</span><span class="ident" id="3606788">setUint64</span><span class="op" id="3606797">(</span><span class="ident" id="3606798">uint64</span><span class="op" id="3606804">(</span><span class="ident" id="3606805">x</span><span class="op" id="3606806">)</span><span class="op" id="3606807">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606810">z</span><span class="op" id="3606811">.</span><span class="ident" id="3606812">neg</span>&nbsp;<span class="op" id="3606816">=</span>&nbsp;<span class="ident" id="3606818">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606823">return</span>&nbsp;<span class="ident" id="3606830">z</span><br>
<span class="lineno"></span><span class="op" id="3606832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3606835">//&nbsp;SetUint64&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">55</span><span class="keyword" id="3606875">func</span>&nbsp;<span class="op" id="3606880">(</span><span class="ident" id="3606881">z</span>&nbsp;<span class="op" id="3606883">*</span><span class="ident" id="3606884">Int</span><span class="op" id="3606887">)</span>&nbsp;<span class="ident" id="3606889">SetUint64</span><span class="op" id="3606898">(</span><span class="ident" id="3606899">x</span>&nbsp;<span class="ident" id="3606901">uint64</span><span class="op" id="3606907">)</span>&nbsp;<span class="op" id="3606909">*</span><span class="ident" id="3606910">Int</span>&nbsp;<span class="op" id="3606914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606917">z</span><span class="op" id="3606918">.</span><span class="ident" id="3606919">abs</span>&nbsp;<span class="op" id="3606923">=</span>&nbsp;<span class="ident" id="3606925">z</span><span class="op" id="3606926">.</span><span class="ident" id="3606927">abs</span><span class="op" id="3606930">.</span><span class="ident" id="3606931">setUint64</span><span class="op" id="3606940">(</span><span class="ident" id="3606941">x</span><span class="op" id="3606942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3606945">z</span><span class="op" id="3606946">.</span><span class="ident" id="3606947">neg</span>&nbsp;<span class="op" id="3606951">=</span>&nbsp;<span class="builtintype" id="3606953">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3606960">return</span>&nbsp;<span class="ident" id="3606967">z</span><br>
<span class="lineno"></span><span class="op" id="3606969">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3606972">//&nbsp;NewInt&nbsp;allocates&nbsp;and&nbsp;returns&nbsp;a&nbsp;new&nbsp;Int&nbsp;set&nbsp;to&nbsp;x.</span><br>
<span class="lineno"></span><span class="keyword" id="3607024">func</span>&nbsp;<span class="ident" id="3607029">NewInt</span><span class="op" id="3607035">(</span><span class="ident" id="3607036">x</span>&nbsp;<span class="ident" id="3607038">int64</span><span class="op" id="3607043">)</span>&nbsp;<span class="op" id="3607045">*</span><span class="ident" id="3607046">Int</span>&nbsp;<span class="op" id="3607050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3607053">return</span>&nbsp;<span class="builtinfunc" id="3607060">new</span><span class="op" id="3607063">(</span><span class="ident" id="3607064">Int</span><span class="op" id="3607067">)</span><span class="op" id="3607068">.</span><span class="ident" id="3607069">SetInt64</span><span class="op" id="3607077">(</span><span class="ident" id="3607078">x</span><span class="op" id="3607079">)</span><br>
<span class="lineno"></span><span class="op" id="3607081">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="3607084">//&nbsp;Set&nbsp;sets&nbsp;z&nbsp;to&nbsp;x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3607118">func</span>&nbsp;<span class="op" id="3607123">(</span><span class="ident" id="3607124">z</span>&nbsp;<span class="op" id="3607126">*</span><span class="ident" id="3607127">Int</span><span class="op" id="3607130">)</span>&nbsp;<span class="ident" id="3607132">Set</span><span class="op" id="3607135">(</span><span class="ident" id="3607136">x</span>&nbsp;<span class="op" id="3607138">*</span><span class="ident" id="3607139">Int</span><span class="op" id="3607142">)</span>&nbsp;<span class="op" id="3607144">*</span><span class="ident" id="3607145">Int</span>&nbsp;<span class="op" id="3607149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3607152">if</span>&nbsp;<span class="ident" id="3607155">z</span>&nbsp;<span class="op" id="3607157">!=</span>&nbsp;<span class="ident" id="3607160">x</span>&nbsp;<span class="op" id="3607162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3607166">z</span><span class="op" id="3607167">.</span><span class="ident" id="3607168">abs</span>&nbsp;<span class="op" id="3607172">=</span>&nbsp;<span class="ident" id="3607174">z</span><span class="op" id="3607175">.</span><span class="ident" id="3607176">abs</span><span class="op" id="3607179">.</span><span class="ident" id="3607180">set</span><span class="op" id="3607183">(</span><span class="ident" id="3607184">x</span><span class="op" id="3607185">.</span><span class="ident" id="3607186">abs</span><span class="op" id="3607189">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3607193">z</span><span class="op" id="3607194">.</span><span class="ident" id="3607195">neg</span>&nbsp;<span class="op" id="3607199">=</span>&nbsp;<span class="ident" id="3607201">x</span><span class="op" id="3607202">.</span><span class="ident" id="3607203">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3607208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3607211">return</span>&nbsp;<span class="ident" id="3607218">z</span><br>
<span class="lineno"></span><span class="op" id="3607220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="3607223">//&nbsp;Bits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;x&nbsp;by&nbsp;returning&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="3607294">//&nbsp;absolute&nbsp;value&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice.&nbsp;The&nbsp;result&nbsp;and&nbsp;x&nbsp;share</span><br>
<span class="lineno"></span><span class="comment" id="3607366">//&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3607396">//&nbsp;Bits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3607467">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno">80</span><span class="keyword" id="3607538">func</span>&nbsp;<span class="op" id="3607543">(</span><span class="ident" id="3607544">x</span>&nbsp;<span class="op" id="3607546">*</span><span class="ident" id="3607547">Int</span><span class="op" id="3607550">)</span>&nbsp;<span class="ident" id="3607552">Bits</span><span class="op" id="3607556">(</span><span class="op" id="3607557">)</span>&nbsp;<span class="op" id="3607559">[</span><span class="op" id="3607560">]</span><span class="ident" id="3607561">Word</span>&nbsp;<span class="op" id="3607566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3607569">return</span>&nbsp;<span class="ident" id="3607576">x</span><span class="op" id="3607577">.</span><span class="ident" id="3607578">abs</span><br>
<span class="lineno"></span><span class="op" id="3607582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3607585">//&nbsp;SetBits&nbsp;provides&nbsp;raw&nbsp;(unchecked&nbsp;but&nbsp;fast)&nbsp;access&nbsp;to&nbsp;z&nbsp;by&nbsp;setting&nbsp;its</span><br>
<span class="lineno">85</span><span class="comment" id="3607657">//&nbsp;value&nbsp;to&nbsp;abs,&nbsp;interpreted&nbsp;as&nbsp;a&nbsp;little-endian&nbsp;Word&nbsp;slice,&nbsp;and&nbsp;returning</span><br>
<span class="lineno"></span><span class="comment" id="3607731">//&nbsp;z.&nbsp;The&nbsp;result&nbsp;and&nbsp;abs&nbsp;share&nbsp;the&nbsp;same&nbsp;underlying&nbsp;array.</span><br>
<span class="lineno"></span><span class="comment" id="3607789">//&nbsp;SetBits&nbsp;is&nbsp;intended&nbsp;to&nbsp;support&nbsp;implementation&nbsp;of&nbsp;missing&nbsp;low-level&nbsp;Int</span><br>
<span class="lineno"></span><span class="comment" id="3607863">//&nbsp;functionality&nbsp;outside&nbsp;this&nbsp;package;&nbsp;it&nbsp;should&nbsp;be&nbsp;avoided&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="3607934">func</span>&nbsp;<span class="op" id="3607939">(</span><span class="ident" id="3607940">z</span>&nbsp;<span class="op" id="3607942">*</span><span class="ident" id="3607943">Int</span><span class="op" id="3607946">)</span>&nbsp;<span class="ident" id="3607948">SetBits</span><span class="op" id="3607955">(</span><span class="ident" id="3607956">abs</span>&nbsp;<span class="op" id="3607960">[</span><span class="op" id="3607961">]</span><span class="ident" id="3607962">Word</span><span class="op" id="3607966">)</span>&nbsp;<span class="op" id="3607968">*</span><span class="ident" id="3607969">Int</span>&nbsp;<span class="op" id="3607973">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3607976">z</span><span class="op" id="3607977">.</span><span class="ident" id="3607978">abs</span>&nbsp;<span class="op" id="3607982">=</span>&nbsp;<span class="ident" id="3607984">nat</span><span class="op" id="3607987">(</span><span class="ident" id="3607988">abs</span><span class="op" id="3607991">)</span><span class="op" id="3607992">.</span><span class="ident" id="3607993">norm</span><span class="op" id="3607997">(</span><span class="op" id="3607998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608001">z</span><span class="op" id="3608002">.</span><span class="ident" id="3608003">neg</span>&nbsp;<span class="op" id="3608007">=</span>&nbsp;<span class="builtintype" id="3608009">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3608016">return</span>&nbsp;<span class="ident" id="3608023">z</span><br>
<span class="lineno"></span><span class="op" id="3608025">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3608028">//&nbsp;Abs&nbsp;sets&nbsp;z&nbsp;to&nbsp;|x|&nbsp;(the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3608090">func</span>&nbsp;<span class="op" id="3608095">(</span><span class="ident" id="3608096">z</span>&nbsp;<span class="op" id="3608098">*</span><span class="ident" id="3608099">Int</span><span class="op" id="3608102">)</span>&nbsp;<span class="ident" id="3608104">Abs</span><span class="op" id="3608107">(</span><span class="ident" id="3608108">x</span>&nbsp;<span class="op" id="3608110">*</span><span class="ident" id="3608111">Int</span><span class="op" id="3608114">)</span>&nbsp;<span class="op" id="3608116">*</span><span class="ident" id="3608117">Int</span>&nbsp;<span class="op" id="3608121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608124">z</span><span class="op" id="3608125">.</span><span class="ident" id="3608126">Set</span><span class="op" id="3608129">(</span><span class="ident" id="3608130">x</span><span class="op" id="3608131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608134">z</span><span class="op" id="3608135">.</span><span class="ident" id="3608136">neg</span>&nbsp;<span class="op" id="3608140">=</span>&nbsp;<span class="builtintype" id="3608142">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3608149">return</span>&nbsp;<span class="ident" id="3608156">z</span><br>
<span class="lineno">100</span><span class="op" id="3608158">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3608161">//&nbsp;Neg&nbsp;sets&nbsp;z&nbsp;to&nbsp;-x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3608196">func</span>&nbsp;<span class="op" id="3608201">(</span><span class="ident" id="3608202">z</span>&nbsp;<span class="op" id="3608204">*</span><span class="ident" id="3608205">Int</span><span class="op" id="3608208">)</span>&nbsp;<span class="ident" id="3608210">Neg</span><span class="op" id="3608213">(</span><span class="ident" id="3608214">x</span>&nbsp;<span class="op" id="3608216">*</span><span class="ident" id="3608217">Int</span><span class="op" id="3608220">)</span>&nbsp;<span class="op" id="3608222">*</span><span class="ident" id="3608223">Int</span>&nbsp;<span class="op" id="3608227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608230">z</span><span class="op" id="3608231">.</span><span class="ident" id="3608232">Set</span><span class="op" id="3608235">(</span><span class="ident" id="3608236">x</span><span class="op" id="3608237">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608240">z</span><span class="op" id="3608241">.</span><span class="ident" id="3608242">neg</span>&nbsp;<span class="op" id="3608246">=</span>&nbsp;<span class="builtinfunc" id="3608248">len</span><span class="op" id="3608251">(</span><span class="ident" id="3608252">z</span><span class="op" id="3608253">.</span><span class="ident" id="3608254">abs</span><span class="op" id="3608257">)</span>&nbsp;<span class="op" id="3608259">&gt;</span>&nbsp;<span class="num" id="3608261">0</span>&nbsp;<span class="op" id="3608263">&amp;&amp;</span>&nbsp;<span class="op" id="3608266">!</span><span class="ident" id="3608267">z</span><span class="op" id="3608268">.</span><span class="ident" id="3608269">neg</span>&nbsp;<span class="comment" id="3608273">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3608291">return</span>&nbsp;<span class="ident" id="3608298">z</span><br>
<span class="lineno"></span><span class="op" id="3608300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3608303">//&nbsp;Add&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;sum&nbsp;x+y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">110</span><span class="keyword" id="3608347">func</span>&nbsp;<span class="op" id="3608352">(</span><span class="ident" id="3608353">z</span>&nbsp;<span class="op" id="3608355">*</span><span class="ident" id="3608356">Int</span><span class="op" id="3608359">)</span>&nbsp;<span class="ident" id="3608361">Add</span><span class="op" id="3608364">(</span><span class="ident" id="3608365">x</span><span class="op" id="3608366">,</span>&nbsp;<span class="ident" id="3608368">y</span>&nbsp;<span class="op" id="3608370">*</span><span class="ident" id="3608371">Int</span><span class="op" id="3608374">)</span>&nbsp;<span class="op" id="3608376">*</span><span class="ident" id="3608377">Int</span>&nbsp;<span class="op" id="3608381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608384">neg</span>&nbsp;<span class="op" id="3608388">:=</span>&nbsp;<span class="ident" id="3608391">x</span><span class="op" id="3608392">.</span><span class="ident" id="3608393">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3608398">if</span>&nbsp;<span class="ident" id="3608401">x</span><span class="op" id="3608402">.</span><span class="ident" id="3608403">neg</span>&nbsp;<span class="op" id="3608407">==</span>&nbsp;<span class="ident" id="3608410">y</span><span class="op" id="3608411">.</span><span class="ident" id="3608412">neg</span>&nbsp;<span class="op" id="3608416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3608420">//&nbsp;x&nbsp;+&nbsp;y&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3608440">//&nbsp;(-x)&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608469">z</span><span class="op" id="3608470">.</span><span class="ident" id="3608471">abs</span>&nbsp;<span class="op" id="3608475">=</span>&nbsp;<span class="ident" id="3608477">z</span><span class="op" id="3608478">.</span><span class="ident" id="3608479">abs</span><span class="op" id="3608482">.</span><span class="ident" id="3608483">add</span><span class="op" id="3608486">(</span><span class="ident" id="3608487">x</span><span class="op" id="3608488">.</span><span class="ident" id="3608489">abs</span><span class="op" id="3608492">,</span>&nbsp;<span class="ident" id="3608494">y</span><span class="op" id="3608495">.</span><span class="ident" id="3608496">abs</span><span class="op" id="3608499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3608502">}</span>&nbsp;<span class="keyword" id="3608504">else</span>&nbsp;<span class="op" id="3608509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3608513">//&nbsp;x&nbsp;+&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3608548">//&nbsp;(-x)&nbsp;+&nbsp;y&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3608583">if</span>&nbsp;<span class="ident" id="3608586">x</span><span class="op" id="3608587">.</span><span class="ident" id="3608588">abs</span><span class="op" id="3608591">.</span><span class="ident" id="3608592">cmp</span><span class="op" id="3608595">(</span><span class="ident" id="3608596">y</span><span class="op" id="3608597">.</span><span class="ident" id="3608598">abs</span><span class="op" id="3608601">)</span>&nbsp;<span class="op" id="3608603">&gt;=</span>&nbsp;<span class="num" id="3608606">0</span>&nbsp;<span class="op" id="3608608">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608613">z</span><span class="op" id="3608614">.</span><span class="ident" id="3608615">abs</span>&nbsp;<span class="op" id="3608619">=</span>&nbsp;<span class="ident" id="3608621">z</span><span class="op" id="3608622">.</span><span class="ident" id="3608623">abs</span><span class="op" id="3608626">.</span><span class="ident" id="3608627">sub</span><span class="op" id="3608630">(</span><span class="ident" id="3608631">x</span><span class="op" id="3608632">.</span><span class="ident" id="3608633">abs</span><span class="op" id="3608636">,</span>&nbsp;<span class="ident" id="3608638">y</span><span class="op" id="3608639">.</span><span class="ident" id="3608640">abs</span><span class="op" id="3608643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3608647">}</span>&nbsp;<span class="keyword" id="3608649">else</span>&nbsp;<span class="op" id="3608654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608659">neg</span>&nbsp;<span class="op" id="3608663">=</span>&nbsp;<span class="op" id="3608665">!</span><span class="ident" id="3608666">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608673">z</span><span class="op" id="3608674">.</span><span class="ident" id="3608675">abs</span>&nbsp;<span class="op" id="3608679">=</span>&nbsp;<span class="ident" id="3608681">z</span><span class="op" id="3608682">.</span><span class="ident" id="3608683">abs</span><span class="op" id="3608686">.</span><span class="ident" id="3608687">sub</span><span class="op" id="3608690">(</span><span class="ident" id="3608691">y</span><span class="op" id="3608692">.</span><span class="ident" id="3608693">abs</span><span class="op" id="3608696">,</span>&nbsp;<span class="ident" id="3608698">x</span><span class="op" id="3608699">.</span><span class="ident" id="3608700">abs</span><span class="op" id="3608703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3608707">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3608710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608713">z</span><span class="op" id="3608714">.</span><span class="ident" id="3608715">neg</span>&nbsp;<span class="op" id="3608719">=</span>&nbsp;<span class="builtinfunc" id="3608721">len</span><span class="op" id="3608724">(</span><span class="ident" id="3608725">z</span><span class="op" id="3608726">.</span><span class="ident" id="3608727">abs</span><span class="op" id="3608730">)</span>&nbsp;<span class="op" id="3608732">&gt;</span>&nbsp;<span class="num" id="3608734">0</span>&nbsp;<span class="op" id="3608736">&amp;&amp;</span>&nbsp;<span class="ident" id="3608739">neg</span>&nbsp;<span class="comment" id="3608743">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3608761">return</span>&nbsp;<span class="ident" id="3608768">z</span><br>
<span class="lineno"></span><span class="op" id="3608770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3608773">//&nbsp;Sub&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;difference&nbsp;x-y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3608824">func</span>&nbsp;<span class="op" id="3608829">(</span><span class="ident" id="3608830">z</span>&nbsp;<span class="op" id="3608832">*</span><span class="ident" id="3608833">Int</span><span class="op" id="3608836">)</span>&nbsp;<span class="ident" id="3608838">Sub</span><span class="op" id="3608841">(</span><span class="ident" id="3608842">x</span><span class="op" id="3608843">,</span>&nbsp;<span class="ident" id="3608845">y</span>&nbsp;<span class="op" id="3608847">*</span><span class="ident" id="3608848">Int</span><span class="op" id="3608851">)</span>&nbsp;<span class="op" id="3608853">*</span><span class="ident" id="3608854">Int</span>&nbsp;<span class="op" id="3608858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608861">neg</span>&nbsp;<span class="op" id="3608865">:=</span>&nbsp;<span class="ident" id="3608868">x</span><span class="op" id="3608869">.</span><span class="ident" id="3608870">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3608875">if</span>&nbsp;<span class="ident" id="3608878">x</span><span class="op" id="3608879">.</span><span class="ident" id="3608880">neg</span>&nbsp;<span class="op" id="3608884">!=</span>&nbsp;<span class="ident" id="3608887">y</span><span class="op" id="3608888">.</span><span class="ident" id="3608889">neg</span>&nbsp;<span class="op" id="3608893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3608897">//&nbsp;x&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;+&nbsp;y</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3608920">//&nbsp;(-x)&nbsp;-&nbsp;y&nbsp;==&nbsp;-(x&nbsp;+&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3608946">z</span><span class="op" id="3608947">.</span><span class="ident" id="3608948">abs</span>&nbsp;<span class="op" id="3608952">=</span>&nbsp;<span class="ident" id="3608954">z</span><span class="op" id="3608955">.</span><span class="ident" id="3608956">abs</span><span class="op" id="3608959">.</span><span class="ident" id="3608960">add</span><span class="op" id="3608963">(</span><span class="ident" id="3608964">x</span><span class="op" id="3608965">.</span><span class="ident" id="3608966">abs</span><span class="op" id="3608969">,</span>&nbsp;<span class="ident" id="3608971">y</span><span class="op" id="3608972">.</span><span class="ident" id="3608973">abs</span><span class="op" id="3608976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3608979">}</span>&nbsp;<span class="keyword" id="3608981">else</span>&nbsp;<span class="op" id="3608986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3608990">//&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;x&nbsp;-&nbsp;y&nbsp;==&nbsp;-(y&nbsp;-&nbsp;x)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3609022">//&nbsp;(-x)&nbsp;-&nbsp;(-y)&nbsp;==&nbsp;y&nbsp;-&nbsp;x&nbsp;==&nbsp;-(x&nbsp;-&nbsp;y)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609060">if</span>&nbsp;<span class="ident" id="3609063">x</span><span class="op" id="3609064">.</span><span class="ident" id="3609065">abs</span><span class="op" id="3609068">.</span><span class="ident" id="3609069">cmp</span><span class="op" id="3609072">(</span><span class="ident" id="3609073">y</span><span class="op" id="3609074">.</span><span class="ident" id="3609075">abs</span><span class="op" id="3609078">)</span>&nbsp;<span class="op" id="3609080">&gt;=</span>&nbsp;<span class="num" id="3609083">0</span>&nbsp;<span class="op" id="3609085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609090">z</span><span class="op" id="3609091">.</span><span class="ident" id="3609092">abs</span>&nbsp;<span class="op" id="3609096">=</span>&nbsp;<span class="ident" id="3609098">z</span><span class="op" id="3609099">.</span><span class="ident" id="3609100">abs</span><span class="op" id="3609103">.</span><span class="ident" id="3609104">sub</span><span class="op" id="3609107">(</span><span class="ident" id="3609108">x</span><span class="op" id="3609109">.</span><span class="ident" id="3609110">abs</span><span class="op" id="3609113">,</span>&nbsp;<span class="ident" id="3609115">y</span><span class="op" id="3609116">.</span><span class="ident" id="3609117">abs</span><span class="op" id="3609120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3609124">}</span>&nbsp;<span class="keyword" id="3609126">else</span>&nbsp;<span class="op" id="3609131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609136">neg</span>&nbsp;<span class="op" id="3609140">=</span>&nbsp;<span class="op" id="3609142">!</span><span class="ident" id="3609143">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609150">z</span><span class="op" id="3609151">.</span><span class="ident" id="3609152">abs</span>&nbsp;<span class="op" id="3609156">=</span>&nbsp;<span class="ident" id="3609158">z</span><span class="op" id="3609159">.</span><span class="ident" id="3609160">abs</span><span class="op" id="3609163">.</span><span class="ident" id="3609164">sub</span><span class="op" id="3609167">(</span><span class="ident" id="3609168">y</span><span class="op" id="3609169">.</span><span class="ident" id="3609170">abs</span><span class="op" id="3609173">,</span>&nbsp;<span class="ident" id="3609175">x</span><span class="op" id="3609176">.</span><span class="ident" id="3609177">abs</span><span class="op" id="3609180">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3609184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3609187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609190">z</span><span class="op" id="3609191">.</span><span class="ident" id="3609192">neg</span>&nbsp;<span class="op" id="3609196">=</span>&nbsp;<span class="builtinfunc" id="3609198">len</span><span class="op" id="3609201">(</span><span class="ident" id="3609202">z</span><span class="op" id="3609203">.</span><span class="ident" id="3609204">abs</span><span class="op" id="3609207">)</span>&nbsp;<span class="op" id="3609209">&gt;</span>&nbsp;<span class="num" id="3609211">0</span>&nbsp;<span class="op" id="3609213">&amp;&amp;</span>&nbsp;<span class="ident" id="3609216">neg</span>&nbsp;<span class="comment" id="3609220">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609238">return</span>&nbsp;<span class="ident" id="3609245">z</span><br>
<span class="lineno"></span><span class="op" id="3609247">}</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="3609250">//&nbsp;Mul&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;x*y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3609298">func</span>&nbsp;<span class="op" id="3609303">(</span><span class="ident" id="3609304">z</span>&nbsp;<span class="op" id="3609306">*</span><span class="ident" id="3609307">Int</span><span class="op" id="3609310">)</span>&nbsp;<span class="ident" id="3609312">Mul</span><span class="op" id="3609315">(</span><span class="ident" id="3609316">x</span><span class="op" id="3609317">,</span>&nbsp;<span class="ident" id="3609319">y</span>&nbsp;<span class="op" id="3609321">*</span><span class="ident" id="3609322">Int</span><span class="op" id="3609325">)</span>&nbsp;<span class="op" id="3609327">*</span><span class="ident" id="3609328">Int</span>&nbsp;<span class="op" id="3609332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3609335">//&nbsp;x&nbsp;*&nbsp;y&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3609354">//&nbsp;x&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3609379">//&nbsp;(-x)&nbsp;*&nbsp;y&nbsp;==&nbsp;-(x&nbsp;*&nbsp;y)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3609404">//&nbsp;(-x)&nbsp;*&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;*&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609429">z</span><span class="op" id="3609430">.</span><span class="ident" id="3609431">abs</span>&nbsp;<span class="op" id="3609435">=</span>&nbsp;<span class="ident" id="3609437">z</span><span class="op" id="3609438">.</span><span class="ident" id="3609439">abs</span><span class="op" id="3609442">.</span><span class="ident" id="3609443">mul</span><span class="op" id="3609446">(</span><span class="ident" id="3609447">x</span><span class="op" id="3609448">.</span><span class="ident" id="3609449">abs</span><span class="op" id="3609452">,</span>&nbsp;<span class="ident" id="3609454">y</span><span class="op" id="3609455">.</span><span class="ident" id="3609456">abs</span><span class="op" id="3609459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609462">z</span><span class="op" id="3609463">.</span><span class="ident" id="3609464">neg</span>&nbsp;<span class="op" id="3609468">=</span>&nbsp;<span class="builtinfunc" id="3609470">len</span><span class="op" id="3609473">(</span><span class="ident" id="3609474">z</span><span class="op" id="3609475">.</span><span class="ident" id="3609476">abs</span><span class="op" id="3609479">)</span>&nbsp;<span class="op" id="3609481">&gt;</span>&nbsp;<span class="num" id="3609483">0</span>&nbsp;<span class="op" id="3609485">&amp;&amp;</span>&nbsp;<span class="ident" id="3609488">x</span><span class="op" id="3609489">.</span><span class="ident" id="3609490">neg</span>&nbsp;<span class="op" id="3609494">!=</span>&nbsp;<span class="ident" id="3609497">y</span><span class="op" id="3609498">.</span><span class="ident" id="3609499">neg</span>&nbsp;<span class="comment" id="3609503">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609521">return</span>&nbsp;<span class="ident" id="3609528">z</span><br>
<span class="lineno">160</span><span class="op" id="3609530">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3609533">//&nbsp;MulRange&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;product&nbsp;of&nbsp;all&nbsp;integers</span><br>
<span class="lineno"></span><span class="comment" id="3609583">//&nbsp;in&nbsp;the&nbsp;range&nbsp;[a,&nbsp;b]&nbsp;inclusively&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3609633">//&nbsp;If&nbsp;a&nbsp;&gt;&nbsp;b&nbsp;(empty&nbsp;range),&nbsp;the&nbsp;result&nbsp;is&nbsp;1.</span><br>
<span class="lineno">165</span><span class="keyword" id="3609677">func</span>&nbsp;<span class="op" id="3609682">(</span><span class="ident" id="3609683">z</span>&nbsp;<span class="op" id="3609685">*</span><span class="ident" id="3609686">Int</span><span class="op" id="3609689">)</span>&nbsp;<span class="ident" id="3609691">MulRange</span><span class="op" id="3609699">(</span><span class="ident" id="3609700">a</span><span class="op" id="3609701">,</span>&nbsp;<span class="ident" id="3609703">b</span>&nbsp;<span class="ident" id="3609705">int64</span><span class="op" id="3609710">)</span>&nbsp;<span class="op" id="3609712">*</span><span class="ident" id="3609713">Int</span>&nbsp;<span class="op" id="3609717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609720">switch</span>&nbsp;<span class="op" id="3609727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609730">case</span>&nbsp;<span class="ident" id="3609735">a</span>&nbsp;<span class="op" id="3609737">&gt;</span>&nbsp;<span class="ident" id="3609739">b</span><span class="op" id="3609740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609744">return</span>&nbsp;<span class="ident" id="3609751">z</span><span class="op" id="3609752">.</span><span class="ident" id="3609753">SetInt64</span><span class="op" id="3609761">(</span><span class="num" id="3609762">1</span><span class="op" id="3609763">)</span>&nbsp;<span class="comment" id="3609765">//&nbsp;empty&nbsp;range</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609781">case</span>&nbsp;<span class="ident" id="3609786">a</span>&nbsp;<span class="op" id="3609788">&lt;=</span>&nbsp;<span class="num" id="3609791">0</span>&nbsp;<span class="op" id="3609793">&amp;&amp;</span>&nbsp;<span class="ident" id="3609796">b</span>&nbsp;<span class="op" id="3609798">&gt;=</span>&nbsp;<span class="num" id="3609801">0</span><span class="op" id="3609802">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609806">return</span>&nbsp;<span class="ident" id="3609813">z</span><span class="op" id="3609814">.</span><span class="ident" id="3609815">SetInt64</span><span class="op" id="3609823">(</span><span class="num" id="3609824">0</span><span class="op" id="3609825">)</span>&nbsp;<span class="comment" id="3609827">//&nbsp;range&nbsp;includes&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3609848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3609851">//&nbsp;a&nbsp;&lt;=&nbsp;b&nbsp;&amp;&amp;&nbsp;(b&nbsp;&lt;&nbsp;0&nbsp;||&nbsp;a&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609883">neg</span>&nbsp;<span class="op" id="3609887">:=</span>&nbsp;<span class="builtintype" id="3609890">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3609897">if</span>&nbsp;<span class="ident" id="3609900">a</span>&nbsp;<span class="op" id="3609902">&lt;</span>&nbsp;<span class="num" id="3609904">0</span>&nbsp;<span class="op" id="3609906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609910">neg</span>&nbsp;<span class="op" id="3609914">=</span>&nbsp;<span class="op" id="3609916">(</span><span class="ident" id="3609917">b</span><span class="op" id="3609918">-</span><span class="ident" id="3609919">a</span><span class="op" id="3609920">)</span><span class="op" id="3609921">&amp;</span><span class="num" id="3609922">1</span>&nbsp;<span class="op" id="3609924">==</span>&nbsp;<span class="num" id="3609927">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609931">a</span><span class="op" id="3609932">,</span>&nbsp;<span class="ident" id="3609934">b</span>&nbsp;<span class="op" id="3609936">=</span>&nbsp;<span class="op" id="3609938">-</span><span class="ident" id="3609939">b</span><span class="op" id="3609940">,</span>&nbsp;<span class="op" id="3609942">-</span><span class="ident" id="3609943">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3609946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609950">z</span><span class="op" id="3609951">.</span><span class="ident" id="3609952">abs</span>&nbsp;<span class="op" id="3609956">=</span>&nbsp;<span class="ident" id="3609958">z</span><span class="op" id="3609959">.</span><span class="ident" id="3609960">abs</span><span class="op" id="3609963">.</span><span class="ident" id="3609964">mulRange</span><span class="op" id="3609972">(</span><span class="ident" id="3609973">uint64</span><span class="op" id="3609979">(</span><span class="ident" id="3609980">a</span><span class="op" id="3609981">)</span><span class="op" id="3609982">,</span>&nbsp;<span class="ident" id="3609984">uint64</span><span class="op" id="3609990">(</span><span class="ident" id="3609991">b</span><span class="op" id="3609992">)</span><span class="op" id="3609993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3609996">z</span><span class="op" id="3609997">.</span><span class="ident" id="3609998">neg</span>&nbsp;<span class="op" id="3610002">=</span>&nbsp;<span class="ident" id="3610004">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3610009">return</span>&nbsp;<span class="ident" id="3610016">z</span><br>
<span class="lineno"></span><span class="op" id="3610018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="comment" id="3610021">//&nbsp;Binomial&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;binomial&nbsp;coefficient&nbsp;of&nbsp;(n,&nbsp;k)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3610093">func</span>&nbsp;<span class="op" id="3610098">(</span><span class="ident" id="3610099">z</span>&nbsp;<span class="op" id="3610101">*</span><span class="ident" id="3610102">Int</span><span class="op" id="3610105">)</span>&nbsp;<span class="ident" id="3610107">Binomial</span><span class="op" id="3610115">(</span><span class="ident" id="3610116">n</span><span class="op" id="3610117">,</span>&nbsp;<span class="ident" id="3610119">k</span>&nbsp;<span class="ident" id="3610121">int64</span><span class="op" id="3610126">)</span>&nbsp;<span class="op" id="3610128">*</span><span class="ident" id="3610129">Int</span>&nbsp;<span class="op" id="3610133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3610136">var</span>&nbsp;<span class="ident" id="3610140">a</span><span class="op" id="3610141">,</span>&nbsp;<span class="ident" id="3610143">b</span>&nbsp;<span class="ident" id="3610145">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3610150">a</span><span class="op" id="3610151">.</span><span class="ident" id="3610152">MulRange</span><span class="op" id="3610160">(</span><span class="ident" id="3610161">n</span><span class="op" id="3610162">-</span><span class="ident" id="3610163">k</span><span class="op" id="3610164">+</span><span class="num" id="3610165">1</span><span class="op" id="3610166">,</span>&nbsp;<span class="ident" id="3610168">n</span><span class="op" id="3610169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3610172">b</span><span class="op" id="3610173">.</span><span class="ident" id="3610174">MulRange</span><span class="op" id="3610182">(</span><span class="num" id="3610183">1</span><span class="op" id="3610184">,</span>&nbsp;<span class="ident" id="3610186">k</span><span class="op" id="3610187">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3610190">return</span>&nbsp;<span class="ident" id="3610197">z</span><span class="op" id="3610198">.</span><span class="ident" id="3610199">Quo</span><span class="op" id="3610202">(</span><span class="op" id="3610203">&amp;</span><span class="ident" id="3610204">a</span><span class="op" id="3610205">,</span>&nbsp;<span class="op" id="3610207">&amp;</span><span class="ident" id="3610208">b</span><span class="op" id="3610209">)</span><br>
<span class="lineno"></span><span class="op" id="3610211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3610214">//&nbsp;Quo&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3610274">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno">195</span><span class="comment" id="3610330">//&nbsp;Quo&nbsp;implements&nbsp;truncated&nbsp;division&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3610407">func</span>&nbsp;<span class="op" id="3610412">(</span><span class="ident" id="3610413">z</span>&nbsp;<span class="op" id="3610415">*</span><span class="ident" id="3610416">Int</span><span class="op" id="3610419">)</span>&nbsp;<span class="ident" id="3610421">Quo</span><span class="op" id="3610424">(</span><span class="ident" id="3610425">x</span><span class="op" id="3610426">,</span>&nbsp;<span class="ident" id="3610428">y</span>&nbsp;<span class="op" id="3610430">*</span><span class="ident" id="3610431">Int</span><span class="op" id="3610434">)</span>&nbsp;<span class="op" id="3610436">*</span><span class="ident" id="3610437">Int</span>&nbsp;<span class="op" id="3610441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3610444">z</span><span class="op" id="3610445">.</span><span class="ident" id="3610446">abs</span><span class="op" id="3610449">,</span>&nbsp;<span class="ident" id="3610451">_</span>&nbsp;<span class="op" id="3610453">=</span>&nbsp;<span class="ident" id="3610455">z</span><span class="op" id="3610456">.</span><span class="ident" id="3610457">abs</span><span class="op" id="3610460">.</span><span class="ident" id="3610461">div</span><span class="op" id="3610464">(</span><span class="builtintype" id="3610465">nil</span><span class="op" id="3610468">,</span>&nbsp;<span class="ident" id="3610470">x</span><span class="op" id="3610471">.</span><span class="ident" id="3610472">abs</span><span class="op" id="3610475">,</span>&nbsp;<span class="ident" id="3610477">y</span><span class="op" id="3610478">.</span><span class="ident" id="3610479">abs</span><span class="op" id="3610482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3610485">z</span><span class="op" id="3610486">.</span><span class="ident" id="3610487">neg</span>&nbsp;<span class="op" id="3610491">=</span>&nbsp;<span class="builtinfunc" id="3610493">len</span><span class="op" id="3610496">(</span><span class="ident" id="3610497">z</span><span class="op" id="3610498">.</span><span class="ident" id="3610499">abs</span><span class="op" id="3610502">)</span>&nbsp;<span class="op" id="3610504">&gt;</span>&nbsp;<span class="num" id="3610506">0</span>&nbsp;<span class="op" id="3610508">&amp;&amp;</span>&nbsp;<span class="ident" id="3610511">x</span><span class="op" id="3610512">.</span><span class="ident" id="3610513">neg</span>&nbsp;<span class="op" id="3610517">!=</span>&nbsp;<span class="ident" id="3610520">y</span><span class="op" id="3610521">.</span><span class="ident" id="3610522">neg</span>&nbsp;<span class="comment" id="3610526">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3610544">return</span>&nbsp;<span class="ident" id="3610551">z</span><br>
<span class="lineno">200</span><span class="op" id="3610553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3610556">//&nbsp;Rem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3610617">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3610673">//&nbsp;Rem&nbsp;implements&nbsp;truncated&nbsp;modulus&nbsp;(like&nbsp;Go);&nbsp;see&nbsp;QuoRem&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno">205</span><span class="keyword" id="3610749">func</span>&nbsp;<span class="op" id="3610754">(</span><span class="ident" id="3610755">z</span>&nbsp;<span class="op" id="3610757">*</span><span class="ident" id="3610758">Int</span><span class="op" id="3610761">)</span>&nbsp;<span class="ident" id="3610763">Rem</span><span class="op" id="3610766">(</span><span class="ident" id="3610767">x</span><span class="op" id="3610768">,</span>&nbsp;<span class="ident" id="3610770">y</span>&nbsp;<span class="op" id="3610772">*</span><span class="ident" id="3610773">Int</span><span class="op" id="3610776">)</span>&nbsp;<span class="op" id="3610778">*</span><span class="ident" id="3610779">Int</span>&nbsp;<span class="op" id="3610783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3610786">_</span><span class="op" id="3610787">,</span>&nbsp;<span class="ident" id="3610789">z</span><span class="op" id="3610790">.</span><span class="ident" id="3610791">abs</span>&nbsp;<span class="op" id="3610795">=</span>&nbsp;<span class="ident" id="3610797">nat</span><span class="op" id="3610800">(</span><span class="builtintype" id="3610801">nil</span><span class="op" id="3610804">)</span><span class="op" id="3610805">.</span><span class="ident" id="3610806">div</span><span class="op" id="3610809">(</span><span class="ident" id="3610810">z</span><span class="op" id="3610811">.</span><span class="ident" id="3610812">abs</span><span class="op" id="3610815">,</span>&nbsp;<span class="ident" id="3610817">x</span><span class="op" id="3610818">.</span><span class="ident" id="3610819">abs</span><span class="op" id="3610822">,</span>&nbsp;<span class="ident" id="3610824">y</span><span class="op" id="3610825">.</span><span class="ident" id="3610826">abs</span><span class="op" id="3610829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3610832">z</span><span class="op" id="3610833">.</span><span class="ident" id="3610834">neg</span>&nbsp;<span class="op" id="3610838">=</span>&nbsp;<span class="builtinfunc" id="3610840">len</span><span class="op" id="3610843">(</span><span class="ident" id="3610844">z</span><span class="op" id="3610845">.</span><span class="ident" id="3610846">abs</span><span class="op" id="3610849">)</span>&nbsp;<span class="op" id="3610851">&gt;</span>&nbsp;<span class="num" id="3610853">0</span>&nbsp;<span class="op" id="3610855">&amp;&amp;</span>&nbsp;<span class="ident" id="3610858">x</span><span class="op" id="3610859">.</span><span class="ident" id="3610860">neg</span>&nbsp;<span class="comment" id="3610864">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3610882">return</span>&nbsp;<span class="ident" id="3610889">z</span><br>
<span class="lineno"></span><span class="op" id="3610891">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="comment" id="3610894">//&nbsp;QuoRem&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;and&nbsp;r&nbsp;to&nbsp;the&nbsp;remainder&nbsp;x%y</span><br>
<span class="lineno"></span><span class="comment" id="3610958">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;r)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3611001">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3611057">//</span><br>
<span class="lineno">215</span><span class="comment" id="3611060">//&nbsp;QuoRem&nbsp;implements&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3611115">//</span><br>
<span class="lineno"></span><span class="comment" id="3611118">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x/y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;result&nbsp;truncated&nbsp;to&nbsp;zero</span><br>
<span class="lineno"></span><span class="comment" id="3611168">//&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q</span><br>
<span class="lineno"></span><span class="comment" id="3611183">//</span><br>
<span class="lineno">220</span><span class="comment" id="3611186">//&nbsp;(See&nbsp;Daan&nbsp;Leijen,&nbsp;``Division&nbsp;and&nbsp;Modulus&nbsp;for&nbsp;Computer&nbsp;Scientists&#39;&#39;.)</span><br>
<span class="lineno"></span><span class="comment" id="3611258">//&nbsp;See&nbsp;DivMod&nbsp;for&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go).</span><br>
<span class="lineno"></span><span class="comment" id="3611320">//</span><br>
<span class="lineno"></span><span class="keyword" id="3611323">func</span>&nbsp;<span class="op" id="3611328">(</span><span class="ident" id="3611329">z</span>&nbsp;<span class="op" id="3611331">*</span><span class="ident" id="3611332">Int</span><span class="op" id="3611335">)</span>&nbsp;<span class="ident" id="3611337">QuoRem</span><span class="op" id="3611343">(</span><span class="ident" id="3611344">x</span><span class="op" id="3611345">,</span>&nbsp;<span class="ident" id="3611347">y</span><span class="op" id="3611348">,</span>&nbsp;<span class="ident" id="3611350">r</span>&nbsp;<span class="op" id="3611352">*</span><span class="ident" id="3611353">Int</span><span class="op" id="3611356">)</span>&nbsp;<span class="op" id="3611358">(</span><span class="op" id="3611359">*</span><span class="ident" id="3611360">Int</span><span class="op" id="3611363">,</span>&nbsp;<span class="op" id="3611365">*</span><span class="ident" id="3611366">Int</span><span class="op" id="3611369">)</span>&nbsp;<span class="op" id="3611371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3611374">z</span><span class="op" id="3611375">.</span><span class="ident" id="3611376">abs</span><span class="op" id="3611379">,</span>&nbsp;<span class="ident" id="3611381">r</span><span class="op" id="3611382">.</span><span class="ident" id="3611383">abs</span>&nbsp;<span class="op" id="3611387">=</span>&nbsp;<span class="ident" id="3611389">z</span><span class="op" id="3611390">.</span><span class="ident" id="3611391">abs</span><span class="op" id="3611394">.</span><span class="ident" id="3611395">div</span><span class="op" id="3611398">(</span><span class="ident" id="3611399">r</span><span class="op" id="3611400">.</span><span class="ident" id="3611401">abs</span><span class="op" id="3611404">,</span>&nbsp;<span class="ident" id="3611406">x</span><span class="op" id="3611407">.</span><span class="ident" id="3611408">abs</span><span class="op" id="3611411">,</span>&nbsp;<span class="ident" id="3611413">y</span><span class="op" id="3611414">.</span><span class="ident" id="3611415">abs</span><span class="op" id="3611418">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3611421">z</span><span class="op" id="3611422">.</span><span class="ident" id="3611423">neg</span><span class="op" id="3611426">,</span>&nbsp;<span class="ident" id="3611428">r</span><span class="op" id="3611429">.</span><span class="ident" id="3611430">neg</span>&nbsp;<span class="op" id="3611434">=</span>&nbsp;<span class="builtinfunc" id="3611436">len</span><span class="op" id="3611439">(</span><span class="ident" id="3611440">z</span><span class="op" id="3611441">.</span><span class="ident" id="3611442">abs</span><span class="op" id="3611445">)</span>&nbsp;<span class="op" id="3611447">&gt;</span>&nbsp;<span class="num" id="3611449">0</span>&nbsp;<span class="op" id="3611451">&amp;&amp;</span>&nbsp;<span class="ident" id="3611454">x</span><span class="op" id="3611455">.</span><span class="ident" id="3611456">neg</span>&nbsp;<span class="op" id="3611460">!=</span>&nbsp;<span class="ident" id="3611463">y</span><span class="op" id="3611464">.</span><span class="ident" id="3611465">neg</span><span class="op" id="3611468">,</span>&nbsp;<span class="builtinfunc" id="3611470">len</span><span class="op" id="3611473">(</span><span class="ident" id="3611474">r</span><span class="op" id="3611475">.</span><span class="ident" id="3611476">abs</span><span class="op" id="3611479">)</span>&nbsp;<span class="op" id="3611481">&gt;</span>&nbsp;<span class="num" id="3611483">0</span>&nbsp;<span class="op" id="3611485">&amp;&amp;</span>&nbsp;<span class="ident" id="3611488">x</span><span class="op" id="3611489">.</span><span class="ident" id="3611490">neg</span>&nbsp;<span class="comment" id="3611494">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3611512">return</span>&nbsp;<span class="ident" id="3611519">z</span><span class="op" id="3611520">,</span>&nbsp;<span class="ident" id="3611522">r</span><br>
<span class="lineno"></span><span class="op" id="3611524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3611527">//&nbsp;Div&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x/y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">230</span><span class="comment" id="3611587">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3611643">//&nbsp;Div&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3611722">func</span>&nbsp;<span class="op" id="3611727">(</span><span class="ident" id="3611728">z</span>&nbsp;<span class="op" id="3611730">*</span><span class="ident" id="3611731">Int</span><span class="op" id="3611734">)</span>&nbsp;<span class="ident" id="3611736">Div</span><span class="op" id="3611739">(</span><span class="ident" id="3611740">x</span><span class="op" id="3611741">,</span>&nbsp;<span class="ident" id="3611743">y</span>&nbsp;<span class="op" id="3611745">*</span><span class="ident" id="3611746">Int</span><span class="op" id="3611749">)</span>&nbsp;<span class="op" id="3611751">*</span><span class="ident" id="3611752">Int</span>&nbsp;<span class="op" id="3611756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3611759">y_neg</span>&nbsp;<span class="op" id="3611765">:=</span>&nbsp;<span class="ident" id="3611768">y</span><span class="op" id="3611769">.</span><span class="ident" id="3611770">neg</span>&nbsp;<span class="comment" id="3611774">//&nbsp;z&nbsp;may&nbsp;be&nbsp;an&nbsp;alias&nbsp;for&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3611802">var</span>&nbsp;<span class="ident" id="3611806">r</span>&nbsp;<span class="ident" id="3611808">Int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3611813">z</span><span class="op" id="3611814">.</span><span class="ident" id="3611815">QuoRem</span><span class="op" id="3611821">(</span><span class="ident" id="3611822">x</span><span class="op" id="3611823">,</span>&nbsp;<span class="ident" id="3611825">y</span><span class="op" id="3611826">,</span>&nbsp;<span class="op" id="3611828">&amp;</span><span class="ident" id="3611829">r</span><span class="op" id="3611830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3611833">if</span>&nbsp;<span class="ident" id="3611836">r</span><span class="op" id="3611837">.</span><span class="ident" id="3611838">neg</span>&nbsp;<span class="op" id="3611842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3611846">if</span>&nbsp;<span class="ident" id="3611849">y_neg</span>&nbsp;<span class="op" id="3611855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3611860">z</span><span class="op" id="3611861">.</span><span class="ident" id="3611862">Add</span><span class="op" id="3611865">(</span><span class="ident" id="3611866">z</span><span class="op" id="3611867">,</span>&nbsp;<span class="ident" id="3611869">intOne</span><span class="op" id="3611875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3611879">}</span>&nbsp;<span class="keyword" id="3611881">else</span>&nbsp;<span class="op" id="3611886">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3611891">z</span><span class="op" id="3611892">.</span><span class="ident" id="3611893">Sub</span><span class="op" id="3611896">(</span><span class="ident" id="3611897">z</span><span class="op" id="3611898">,</span>&nbsp;<span class="ident" id="3611900">intOne</span><span class="op" id="3611906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3611910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3611913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3611916">return</span>&nbsp;<span class="ident" id="3611923">z</span><br>
<span class="lineno"></span><span class="op" id="3611925">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3611928">//&nbsp;Mod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x%y&nbsp;for&nbsp;y&nbsp;!=&nbsp;0&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3611987">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3612043">//&nbsp;Mod&nbsp;implements&nbsp;Euclidean&nbsp;modulus&nbsp;(unlike&nbsp;Go);&nbsp;see&nbsp;DivMod&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><span class="keyword" id="3612121">func</span>&nbsp;<span class="op" id="3612126">(</span><span class="ident" id="3612127">z</span>&nbsp;<span class="op" id="3612129">*</span><span class="ident" id="3612130">Int</span><span class="op" id="3612133">)</span>&nbsp;<span class="ident" id="3612135">Mod</span><span class="op" id="3612138">(</span><span class="ident" id="3612139">x</span><span class="op" id="3612140">,</span>&nbsp;<span class="ident" id="3612142">y</span>&nbsp;<span class="op" id="3612144">*</span><span class="ident" id="3612145">Int</span><span class="op" id="3612148">)</span>&nbsp;<span class="op" id="3612150">*</span><span class="ident" id="3612151">Int</span>&nbsp;<span class="op" id="3612155">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612158">y0</span>&nbsp;<span class="op" id="3612161">:=</span>&nbsp;<span class="ident" id="3612164">y</span>&nbsp;<span class="comment" id="3612166">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612177">if</span>&nbsp;<span class="ident" id="3612180">z</span>&nbsp;<span class="op" id="3612182">==</span>&nbsp;<span class="ident" id="3612185">y</span>&nbsp;<span class="op" id="3612187">||</span>&nbsp;<span class="ident" id="3612190">alias</span><span class="op" id="3612195">(</span><span class="ident" id="3612196">z</span><span class="op" id="3612197">.</span><span class="ident" id="3612198">abs</span><span class="op" id="3612201">,</span>&nbsp;<span class="ident" id="3612203">y</span><span class="op" id="3612204">.</span><span class="ident" id="3612205">abs</span><span class="op" id="3612208">)</span>&nbsp;<span class="op" id="3612210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612214">y0</span>&nbsp;<span class="op" id="3612217">=</span>&nbsp;<span class="builtinfunc" id="3612219">new</span><span class="op" id="3612222">(</span><span class="ident" id="3612223">Int</span><span class="op" id="3612226">)</span><span class="op" id="3612227">.</span><span class="ident" id="3612228">Set</span><span class="op" id="3612231">(</span><span class="ident" id="3612232">y</span><span class="op" id="3612233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612239">var</span>&nbsp;<span class="ident" id="3612243">q</span>&nbsp;<span class="ident" id="3612245">Int</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612250">q</span><span class="op" id="3612251">.</span><span class="ident" id="3612252">QuoRem</span><span class="op" id="3612258">(</span><span class="ident" id="3612259">x</span><span class="op" id="3612260">,</span>&nbsp;<span class="ident" id="3612262">y</span><span class="op" id="3612263">,</span>&nbsp;<span class="ident" id="3612265">z</span><span class="op" id="3612266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612269">if</span>&nbsp;<span class="ident" id="3612272">z</span><span class="op" id="3612273">.</span><span class="ident" id="3612274">neg</span>&nbsp;<span class="op" id="3612278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612282">if</span>&nbsp;<span class="ident" id="3612285">y0</span><span class="op" id="3612287">.</span><span class="ident" id="3612288">neg</span>&nbsp;<span class="op" id="3612292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612297">z</span><span class="op" id="3612298">.</span><span class="ident" id="3612299">Sub</span><span class="op" id="3612302">(</span><span class="ident" id="3612303">z</span><span class="op" id="3612304">,</span>&nbsp;<span class="ident" id="3612306">y0</span><span class="op" id="3612308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612312">}</span>&nbsp;<span class="keyword" id="3612314">else</span>&nbsp;<span class="op" id="3612319">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612324">z</span><span class="op" id="3612325">.</span><span class="ident" id="3612326">Add</span><span class="op" id="3612329">(</span><span class="ident" id="3612330">z</span><span class="op" id="3612331">,</span>&nbsp;<span class="ident" id="3612333">y0</span><span class="op" id="3612335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3612342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612345">return</span>&nbsp;<span class="ident" id="3612352">z</span><br>
<span class="lineno"></span><span class="op" id="3612354">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="comment" id="3612357">//&nbsp;DivMod&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;quotient&nbsp;x&nbsp;div&nbsp;y&nbsp;and&nbsp;m&nbsp;to&nbsp;the&nbsp;modulus&nbsp;x&nbsp;mod&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3612427">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;pair&nbsp;(z,&nbsp;m)&nbsp;for&nbsp;y&nbsp;!=&nbsp;0.</span><br>
<span class="lineno"></span><span class="comment" id="3612470">//&nbsp;If&nbsp;y&nbsp;==&nbsp;0,&nbsp;a&nbsp;division-by-zero&nbsp;run-time&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="comment" id="3612526">//</span><br>
<span class="lineno">270</span><span class="comment" id="3612529">//&nbsp;DivMod&nbsp;implements&nbsp;Euclidean&nbsp;division&nbsp;and&nbsp;modulus&nbsp;(unlike&nbsp;Go):</span><br>
<span class="lineno"></span><span class="comment" id="3612594">//</span><br>
<span class="lineno"></span><span class="comment" id="3612597">//&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;x&nbsp;div&nbsp;y&nbsp;&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3612623">//&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;=&nbsp;x&nbsp;-&nbsp;y*q&nbsp;&nbsp;with&nbsp;0&nbsp;&lt;=&nbsp;m&nbsp;&lt;&nbsp;|q|</span><br>
<span class="lineno"></span><span class="comment" id="3612657">//</span><br>
<span class="lineno">275</span><span class="comment" id="3612660">//&nbsp;(See&nbsp;Raymond&nbsp;T.&nbsp;Boute,&nbsp;``The&nbsp;Euclidean&nbsp;definition&nbsp;of&nbsp;the&nbsp;functions</span><br>
<span class="lineno"></span><span class="comment" id="3612730">//&nbsp;div&nbsp;and&nbsp;mod&#39;&#39;.&nbsp;ACM&nbsp;Transactions&nbsp;on&nbsp;Programming&nbsp;Languages&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3612794">//&nbsp;Systems&nbsp;(TOPLAS),&nbsp;14(2):127-144,&nbsp;New&nbsp;York,&nbsp;NY,&nbsp;USA,&nbsp;4/1992.</span><br>
<span class="lineno"></span><span class="comment" id="3612857">//&nbsp;ACM&nbsp;press.)</span><br>
<span class="lineno"></span><span class="comment" id="3612872">//&nbsp;See&nbsp;QuoRem&nbsp;for&nbsp;T-division&nbsp;and&nbsp;modulus&nbsp;(like&nbsp;Go).</span><br>
<span class="lineno">280</span><span class="comment" id="3612924">//</span><br>
<span class="lineno"></span><span class="keyword" id="3612927">func</span>&nbsp;<span class="op" id="3612932">(</span><span class="ident" id="3612933">z</span>&nbsp;<span class="op" id="3612935">*</span><span class="ident" id="3612936">Int</span><span class="op" id="3612939">)</span>&nbsp;<span class="ident" id="3612941">DivMod</span><span class="op" id="3612947">(</span><span class="ident" id="3612948">x</span><span class="op" id="3612949">,</span>&nbsp;<span class="ident" id="3612951">y</span><span class="op" id="3612952">,</span>&nbsp;<span class="ident" id="3612954">m</span>&nbsp;<span class="op" id="3612956">*</span><span class="ident" id="3612957">Int</span><span class="op" id="3612960">)</span>&nbsp;<span class="op" id="3612962">(</span><span class="op" id="3612963">*</span><span class="ident" id="3612964">Int</span><span class="op" id="3612967">,</span>&nbsp;<span class="op" id="3612969">*</span><span class="ident" id="3612970">Int</span><span class="op" id="3612973">)</span>&nbsp;<span class="op" id="3612975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3612978">y0</span>&nbsp;<span class="op" id="3612981">:=</span>&nbsp;<span class="ident" id="3612984">y</span>&nbsp;<span class="comment" id="3612986">//&nbsp;save&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3612997">if</span>&nbsp;<span class="ident" id="3613000">z</span>&nbsp;<span class="op" id="3613002">==</span>&nbsp;<span class="ident" id="3613005">y</span>&nbsp;<span class="op" id="3613007">||</span>&nbsp;<span class="ident" id="3613010">alias</span><span class="op" id="3613015">(</span><span class="ident" id="3613016">z</span><span class="op" id="3613017">.</span><span class="ident" id="3613018">abs</span><span class="op" id="3613021">,</span>&nbsp;<span class="ident" id="3613023">y</span><span class="op" id="3613024">.</span><span class="ident" id="3613025">abs</span><span class="op" id="3613028">)</span>&nbsp;<span class="op" id="3613030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613034">y0</span>&nbsp;<span class="op" id="3613037">=</span>&nbsp;<span class="builtinfunc" id="3613039">new</span><span class="op" id="3613042">(</span><span class="ident" id="3613043">Int</span><span class="op" id="3613046">)</span><span class="op" id="3613047">.</span><span class="ident" id="3613048">Set</span><span class="op" id="3613051">(</span><span class="ident" id="3613052">y</span><span class="op" id="3613053">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613059">z</span><span class="op" id="3613060">.</span><span class="ident" id="3613061">QuoRem</span><span class="op" id="3613067">(</span><span class="ident" id="3613068">x</span><span class="op" id="3613069">,</span>&nbsp;<span class="ident" id="3613071">y</span><span class="op" id="3613072">,</span>&nbsp;<span class="ident" id="3613074">m</span><span class="op" id="3613075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613078">if</span>&nbsp;<span class="ident" id="3613081">m</span><span class="op" id="3613082">.</span><span class="ident" id="3613083">neg</span>&nbsp;<span class="op" id="3613087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613091">if</span>&nbsp;<span class="ident" id="3613094">y0</span><span class="op" id="3613096">.</span><span class="ident" id="3613097">neg</span>&nbsp;<span class="op" id="3613101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613106">z</span><span class="op" id="3613107">.</span><span class="ident" id="3613108">Add</span><span class="op" id="3613111">(</span><span class="ident" id="3613112">z</span><span class="op" id="3613113">,</span>&nbsp;<span class="ident" id="3613115">intOne</span><span class="op" id="3613121">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613126">m</span><span class="op" id="3613127">.</span><span class="ident" id="3613128">Sub</span><span class="op" id="3613131">(</span><span class="ident" id="3613132">m</span><span class="op" id="3613133">,</span>&nbsp;<span class="ident" id="3613135">y0</span><span class="op" id="3613137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613141">}</span>&nbsp;<span class="keyword" id="3613143">else</span>&nbsp;<span class="op" id="3613148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613153">z</span><span class="op" id="3613154">.</span><span class="ident" id="3613155">Sub</span><span class="op" id="3613158">(</span><span class="ident" id="3613159">z</span><span class="op" id="3613160">,</span>&nbsp;<span class="ident" id="3613162">intOne</span><span class="op" id="3613168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613173">m</span><span class="op" id="3613174">.</span><span class="ident" id="3613175">Add</span><span class="op" id="3613178">(</span><span class="ident" id="3613179">m</span><span class="op" id="3613180">,</span>&nbsp;<span class="ident" id="3613182">y0</span><span class="op" id="3613184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613188">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613194">return</span>&nbsp;<span class="ident" id="3613201">z</span><span class="op" id="3613202">,</span>&nbsp;<span class="ident" id="3613204">m</span><br>
<span class="lineno"></span><span class="op" id="3613206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3613209">//&nbsp;Cmp&nbsp;compares&nbsp;x&nbsp;and&nbsp;y&nbsp;and&nbsp;returns:</span><br>
<span class="lineno">300</span><span class="comment" id="3613246">//</span><br>
<span class="lineno"></span><span class="comment" id="3613249">//&nbsp;&nbsp;&nbsp;-1&nbsp;if&nbsp;x&nbsp;&lt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3613267">//&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;if&nbsp;x&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3613285">//&nbsp;&nbsp;&nbsp;+1&nbsp;if&nbsp;x&nbsp;&gt;&nbsp;&nbsp;y</span><br>
<span class="lineno"></span><span class="comment" id="3613303">//</span><br>
<span class="lineno">305</span><span class="keyword" id="3613306">func</span>&nbsp;<span class="op" id="3613311">(</span><span class="ident" id="3613312">x</span>&nbsp;<span class="op" id="3613314">*</span><span class="ident" id="3613315">Int</span><span class="op" id="3613318">)</span>&nbsp;<span class="ident" id="3613320">Cmp</span><span class="op" id="3613323">(</span><span class="ident" id="3613324">y</span>&nbsp;<span class="op" id="3613326">*</span><span class="ident" id="3613327">Int</span><span class="op" id="3613330">)</span>&nbsp;<span class="op" id="3613332">(</span><span class="ident" id="3613333">r</span>&nbsp;<span class="builtintype" id="3613335">int</span><span class="op" id="3613338">)</span>&nbsp;<span class="op" id="3613340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3613343">//&nbsp;x&nbsp;cmp&nbsp;y&nbsp;==&nbsp;x&nbsp;cmp&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3613366">//&nbsp;x&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3613386">//&nbsp;(-x)&nbsp;cmp&nbsp;y&nbsp;==&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3613406">//&nbsp;(-x)&nbsp;cmp&nbsp;(-y)&nbsp;==&nbsp;-(x&nbsp;cmp&nbsp;y)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613438">switch</span>&nbsp;<span class="op" id="3613445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613448">case</span>&nbsp;<span class="ident" id="3613453">x</span><span class="op" id="3613454">.</span><span class="ident" id="3613455">neg</span>&nbsp;<span class="op" id="3613459">==</span>&nbsp;<span class="ident" id="3613462">y</span><span class="op" id="3613463">.</span><span class="ident" id="3613464">neg</span><span class="op" id="3613467">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613471">r</span>&nbsp;<span class="op" id="3613473">=</span>&nbsp;<span class="ident" id="3613475">x</span><span class="op" id="3613476">.</span><span class="ident" id="3613477">abs</span><span class="op" id="3613480">.</span><span class="ident" id="3613481">cmp</span><span class="op" id="3613484">(</span><span class="ident" id="3613485">y</span><span class="op" id="3613486">.</span><span class="ident" id="3613487">abs</span><span class="op" id="3613490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613494">if</span>&nbsp;<span class="ident" id="3613497">x</span><span class="op" id="3613498">.</span><span class="ident" id="3613499">neg</span>&nbsp;<span class="op" id="3613503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613508">r</span>&nbsp;<span class="op" id="3613510">=</span>&nbsp;<span class="op" id="3613512">-</span><span class="ident" id="3613513">r</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613520">case</span>&nbsp;<span class="ident" id="3613525">x</span><span class="op" id="3613526">.</span><span class="ident" id="3613527">neg</span><span class="op" id="3613530">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613534">r</span>&nbsp;<span class="op" id="3613536">=</span>&nbsp;<span class="op" id="3613538">-</span><span class="num" id="3613539">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613542">default</span><span class="op" id="3613549">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3613553">r</span>&nbsp;<span class="op" id="3613555">=</span>&nbsp;<span class="num" id="3613557">1</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613563">return</span><br>
<span class="lineno"></span><span class="op" id="3613570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3613573">func</span>&nbsp;<span class="op" id="3613578">(</span><span class="ident" id="3613579">x</span>&nbsp;<span class="op" id="3613581">*</span><span class="ident" id="3613582">Int</span><span class="op" id="3613585">)</span>&nbsp;<span class="ident" id="3613587">String</span><span class="op" id="3613593">(</span><span class="op" id="3613594">)</span>&nbsp;<span class="builtintype" id="3613596">string</span>&nbsp;<span class="op" id="3613603">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613606">switch</span>&nbsp;<span class="op" id="3613613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613616">case</span>&nbsp;<span class="ident" id="3613621">x</span>&nbsp;<span class="op" id="3613623">==</span>&nbsp;<span class="builtintype" id="3613626">nil</span><span class="op" id="3613629">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613633">return</span>&nbsp;<span class="string" id="3613640">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613649">case</span>&nbsp;<span class="ident" id="3613654">x</span><span class="op" id="3613655">.</span><span class="ident" id="3613656">neg</span><span class="op" id="3613659">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613663">return</span>&nbsp;<span class="string" id="3613670">&#34;-&#34;</span>&nbsp;<span class="op" id="3613674">+</span>&nbsp;<span class="ident" id="3613676">x</span><span class="op" id="3613677">.</span><span class="ident" id="3613678">abs</span><span class="op" id="3613681">.</span><span class="ident" id="3613682">decimalString</span><span class="op" id="3613695">(</span><span class="op" id="3613696">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613702">return</span>&nbsp;<span class="ident" id="3613709">x</span><span class="op" id="3613710">.</span><span class="ident" id="3613711">abs</span><span class="op" id="3613714">.</span><span class="ident" id="3613715">decimalString</span><span class="op" id="3613728">(</span><span class="op" id="3613729">)</span><br>
<span class="lineno"></span><span class="op" id="3613731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3613734">func</span>&nbsp;<span class="ident" id="3613739">charset</span><span class="op" id="3613746">(</span><span class="ident" id="3613747">ch</span>&nbsp;<span class="builtintype" id="3613750">rune</span><span class="op" id="3613754">)</span>&nbsp;<span class="builtintype" id="3613756">string</span>&nbsp;<span class="op" id="3613763">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613766">switch</span>&nbsp;<span class="ident" id="3613773">ch</span>&nbsp;<span class="op" id="3613776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613779">case</span>&nbsp;<span class="string" id="3613784">&#39;b&#39;</span><span class="op" id="3613787">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613791">return</span>&nbsp;<span class="ident" id="3613798">lowercaseDigits</span><span class="op" id="3613813">[</span><span class="num" id="3613814">0</span><span class="op" id="3613815">:</span><span class="num" id="3613816">2</span><span class="op" id="3613817">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613820">case</span>&nbsp;<span class="string" id="3613825">&#39;o&#39;</span><span class="op" id="3613828">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613832">return</span>&nbsp;<span class="ident" id="3613839">lowercaseDigits</span><span class="op" id="3613854">[</span><span class="num" id="3613855">0</span><span class="op" id="3613856">:</span><span class="num" id="3613857">8</span><span class="op" id="3613858">]</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613861">case</span>&nbsp;<span class="string" id="3613866">&#39;d&#39;</span><span class="op" id="3613869">,</span>&nbsp;<span class="string" id="3613871">&#39;s&#39;</span><span class="op" id="3613874">,</span>&nbsp;<span class="string" id="3613876">&#39;v&#39;</span><span class="op" id="3613879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613883">return</span>&nbsp;<span class="ident" id="3613890">lowercaseDigits</span><span class="op" id="3613905">[</span><span class="num" id="3613906">0</span><span class="op" id="3613907">:</span><span class="num" id="3613908">10</span><span class="op" id="3613910">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613913">case</span>&nbsp;<span class="string" id="3613918">&#39;x&#39;</span><span class="op" id="3613921">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613925">return</span>&nbsp;<span class="ident" id="3613932">lowercaseDigits</span><span class="op" id="3613947">[</span><span class="num" id="3613948">0</span><span class="op" id="3613949">:</span><span class="num" id="3613950">16</span><span class="op" id="3613952">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613955">case</span>&nbsp;<span class="string" id="3613960">&#39;X&#39;</span><span class="op" id="3613963">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3613967">return</span>&nbsp;<span class="ident" id="3613974">uppercaseDigits</span><span class="op" id="3613989">[</span><span class="num" id="3613990">0</span><span class="op" id="3613991">:</span><span class="num" id="3613992">16</span><span class="op" id="3613994">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3613997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3614000">return</span>&nbsp;<span class="string" id="3614007">&#34;&#34;</span>&nbsp;<span class="comment" id="3614010">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span><span class="op" id="3614028">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="3614031">//&nbsp;write&nbsp;count&nbsp;copies&nbsp;of&nbsp;text&nbsp;to&nbsp;s</span><br>
<span class="lineno"></span><span class="keyword" id="3614066">func</span>&nbsp;<span class="ident" id="3614071">writeMultiple</span><span class="op" id="3614084">(</span><span class="ident" id="3614085">s</span>&nbsp;<span class="ident" id="3614087">fmt</span><span class="op" id="3614090">.</span><span class="ident" id="3614091">State</span><span class="op" id="3614096">,</span>&nbsp;<span class="ident" id="3614098">text</span>&nbsp;<span class="builtintype" id="3614103">string</span><span class="op" id="3614109">,</span>&nbsp;<span class="ident" id="3614111">count</span>&nbsp;<span class="builtintype" id="3614117">int</span><span class="op" id="3614120">)</span>&nbsp;<span class="op" id="3614122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3614125">if</span>&nbsp;<span class="builtinfunc" id="3614128">len</span><span class="op" id="3614131">(</span><span class="ident" id="3614132">text</span><span class="op" id="3614136">)</span>&nbsp;<span class="op" id="3614138">&gt;</span>&nbsp;<span class="num" id="3614140">0</span>&nbsp;<span class="op" id="3614142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614146">b</span>&nbsp;<span class="op" id="3614148">:=</span>&nbsp;<span class="op" id="3614151">[</span><span class="op" id="3614152">]</span><span class="builtintype" id="3614153">byte</span><span class="op" id="3614157">(</span><span class="ident" id="3614158">text</span><span class="op" id="3614162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3614166">for</span>&nbsp;<span class="op" id="3614170">;</span>&nbsp;<span class="ident" id="3614172">count</span>&nbsp;<span class="op" id="3614178">&gt;</span>&nbsp;<span class="num" id="3614180">0</span><span class="op" id="3614181">;</span>&nbsp;<span class="ident" id="3614183">count</span><span class="op" id="3614188">--</span>&nbsp;<span class="op" id="3614191">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614196">s</span><span class="op" id="3614197">.</span><span class="ident" id="3614198">Write</span><span class="op" id="3614203">(</span><span class="ident" id="3614204">b</span><span class="op" id="3614205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3614212">}</span><br>
<span class="lineno"></span><span class="op" id="3614214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3614217">//&nbsp;Format&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Formatter.&nbsp;It&nbsp;accepts</span><br>
<span class="lineno"></span><span class="comment" id="3614278">//&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;</span><br>
<span class="lineno"></span><span class="comment" id="3614339">//&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="comment" id="3614400">//&nbsp;Also&nbsp;supported&nbsp;are&nbsp;the&nbsp;full&nbsp;suite&nbsp;of&nbsp;package&nbsp;fmt&#39;s&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="3614461">//&nbsp;verbs&nbsp;for&nbsp;integral&nbsp;types,&nbsp;including&nbsp;&#39;+&#39;,&nbsp;&#39;-&#39;,&nbsp;and&nbsp;&#39;&nbsp;&#39;</span><br>
<span class="lineno">365</span><span class="comment" id="3614518">//&nbsp;for&nbsp;sign&nbsp;control,&nbsp;&#39;#&#39;&nbsp;for&nbsp;leading&nbsp;zero&nbsp;in&nbsp;octal&nbsp;and&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3614577">//&nbsp;hexadecimal,&nbsp;a&nbsp;leading&nbsp;&#34;0x&#34;&nbsp;or&nbsp;&#34;0X&#34;&nbsp;for&nbsp;&#34;%#x&#34;&nbsp;and&nbsp;&#34;%#X&#34;</span><br>
<span class="lineno"></span><span class="comment" id="3614636">//&nbsp;respectively,&nbsp;specification&nbsp;of&nbsp;minimum&nbsp;digits&nbsp;precision,</span><br>
<span class="lineno"></span><span class="comment" id="3614696">//&nbsp;output&nbsp;field&nbsp;width,&nbsp;space&nbsp;or&nbsp;zero&nbsp;padding,&nbsp;and&nbsp;left&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3614754">//&nbsp;right&nbsp;justification.</span><br>
<span class="lineno">370</span><span class="comment" id="3614778">//</span><br>
<span class="lineno"></span><span class="keyword" id="3614781">func</span>&nbsp;<span class="op" id="3614786">(</span><span class="ident" id="3614787">x</span>&nbsp;<span class="op" id="3614789">*</span><span class="ident" id="3614790">Int</span><span class="op" id="3614793">)</span>&nbsp;<span class="ident" id="3614795">Format</span><span class="op" id="3614801">(</span><span class="ident" id="3614802">s</span>&nbsp;<span class="ident" id="3614804">fmt</span><span class="op" id="3614807">.</span><span class="ident" id="3614808">State</span><span class="op" id="3614813">,</span>&nbsp;<span class="ident" id="3614815">ch</span>&nbsp;<span class="builtintype" id="3614818">rune</span><span class="op" id="3614822">)</span>&nbsp;<span class="op" id="3614824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614827">cs</span>&nbsp;<span class="op" id="3614830">:=</span>&nbsp;<span class="ident" id="3614833">charset</span><span class="op" id="3614840">(</span><span class="ident" id="3614841">ch</span><span class="op" id="3614843">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3614847">//&nbsp;special&nbsp;cases</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3614865">switch</span>&nbsp;<span class="op" id="3614872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3614875">case</span>&nbsp;<span class="ident" id="3614880">cs</span>&nbsp;<span class="op" id="3614883">==</span>&nbsp;<span class="string" id="3614886">&#34;&#34;</span><span class="op" id="3614888">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3614892">//&nbsp;unknown&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614912">fmt</span><span class="op" id="3614915">.</span><span class="ident" id="3614916">Fprintf</span><span class="op" id="3614923">(</span><span class="ident" id="3614924">s</span><span class="op" id="3614925">,</span>&nbsp;<span class="string" id="3614927">&#34;%%!%c(big.Int=%s)&#34;</span><span class="op" id="3614946">,</span>&nbsp;<span class="ident" id="3614948">ch</span><span class="op" id="3614950">,</span>&nbsp;<span class="ident" id="3614952">x</span><span class="op" id="3614953">.</span><span class="ident" id="3614954">String</span><span class="op" id="3614960">(</span><span class="op" id="3614961">)</span><span class="op" id="3614962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3614966">return</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3614974">case</span>&nbsp;<span class="ident" id="3614979">x</span>&nbsp;<span class="op" id="3614981">==</span>&nbsp;<span class="builtintype" id="3614984">nil</span><span class="op" id="3614987">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3614991">fmt</span><span class="op" id="3614994">.</span><span class="ident" id="3614995">Fprint</span><span class="op" id="3615001">(</span><span class="ident" id="3615002">s</span><span class="op" id="3615003">,</span>&nbsp;<span class="string" id="3615005">&#34;&lt;nil&gt;&#34;</span><span class="op" id="3615012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615016">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3615028">//&nbsp;determine&nbsp;sign&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615057">sign</span>&nbsp;<span class="op" id="3615062">:=</span>&nbsp;<span class="string" id="3615065">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615069">switch</span>&nbsp;<span class="op" id="3615076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615079">case</span>&nbsp;<span class="ident" id="3615084">x</span><span class="op" id="3615085">.</span><span class="ident" id="3615086">neg</span><span class="op" id="3615089">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615093">sign</span>&nbsp;<span class="op" id="3615098">=</span>&nbsp;<span class="string" id="3615100">&#34;-&#34;</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615105">case</span>&nbsp;<span class="ident" id="3615110">s</span><span class="op" id="3615111">.</span><span class="ident" id="3615112">Flag</span><span class="op" id="3615116">(</span><span class="string" id="3615117">&#39;+&#39;</span><span class="op" id="3615120">)</span><span class="op" id="3615121">:</span>&nbsp;<span class="comment" id="3615123">//&nbsp;supersedes&nbsp;&#39;&nbsp;&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615163">sign</span>&nbsp;<span class="op" id="3615168">=</span>&nbsp;<span class="string" id="3615170">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615175">case</span>&nbsp;<span class="ident" id="3615180">s</span><span class="op" id="3615181">.</span><span class="ident" id="3615182">Flag</span><span class="op" id="3615186">(</span><span class="string" id="3615187">&#39;&nbsp;&#39;</span><span class="op" id="3615190">)</span><span class="op" id="3615191">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615195">sign</span>&nbsp;<span class="op" id="3615200">=</span>&nbsp;<span class="string" id="3615202">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615207">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3615211">//&nbsp;determine&nbsp;prefix&nbsp;characters&nbsp;for&nbsp;indicating&nbsp;output&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615270">prefix</span>&nbsp;<span class="op" id="3615277">:=</span>&nbsp;<span class="string" id="3615280">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615284">if</span>&nbsp;<span class="ident" id="3615287">s</span><span class="op" id="3615288">.</span><span class="ident" id="3615289">Flag</span><span class="op" id="3615293">(</span><span class="string" id="3615294">&#39;#&#39;</span><span class="op" id="3615297">)</span>&nbsp;<span class="op" id="3615299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615303">switch</span>&nbsp;<span class="ident" id="3615310">ch</span>&nbsp;<span class="op" id="3615313">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615317">case</span>&nbsp;<span class="string" id="3615322">&#39;o&#39;</span><span class="op" id="3615325">:</span>&nbsp;<span class="comment" id="3615327">//&nbsp;octal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615339">prefix</span>&nbsp;<span class="op" id="3615346">=</span>&nbsp;<span class="string" id="3615348">&#34;0&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615354">case</span>&nbsp;<span class="string" id="3615359">&#39;x&#39;</span><span class="op" id="3615362">:</span>&nbsp;<span class="comment" id="3615364">//&nbsp;hexadecimal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615382">prefix</span>&nbsp;<span class="op" id="3615389">=</span>&nbsp;<span class="string" id="3615391">&#34;0x&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615398">case</span>&nbsp;<span class="string" id="3615403">&#39;X&#39;</span><span class="op" id="3615406">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615411">prefix</span>&nbsp;<span class="op" id="3615418">=</span>&nbsp;<span class="string" id="3615420">&#34;0X&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3615430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3615434">//&nbsp;determine&nbsp;digits&nbsp;with&nbsp;base&nbsp;set&nbsp;by&nbsp;len(cs)&nbsp;and&nbsp;digit&nbsp;characters&nbsp;from&nbsp;cs</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615509">digits</span>&nbsp;<span class="op" id="3615516">:=</span>&nbsp;<span class="ident" id="3615519">x</span><span class="op" id="3615520">.</span><span class="ident" id="3615521">abs</span><span class="op" id="3615524">.</span><span class="builtintype" id="3615525">string</span><span class="op" id="3615531">(</span><span class="ident" id="3615532">cs</span><span class="op" id="3615534">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3615538">//&nbsp;number&nbsp;of&nbsp;characters&nbsp;for&nbsp;the&nbsp;three&nbsp;classes&nbsp;of&nbsp;number&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615603">var</span>&nbsp;<span class="ident" id="3615607">left</span>&nbsp;<span class="builtintype" id="3615612">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="3615618">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;left&nbsp;of&nbsp;digits&nbsp;for&nbsp;right&nbsp;justification&nbsp;(&#34;%8d&#34;)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615689">var</span>&nbsp;<span class="ident" id="3615693">zeroes</span>&nbsp;<span class="builtintype" id="3615700">int</span>&nbsp;<span class="comment" id="3615704">//&nbsp;zero&nbsp;characters&nbsp;(actually&nbsp;cs[0])&nbsp;as&nbsp;left-most&nbsp;digits&nbsp;(&#34;%.8d&#34;)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615770">var</span>&nbsp;<span class="ident" id="3615774">right</span>&nbsp;<span class="builtintype" id="3615780">int</span>&nbsp;&nbsp;<span class="comment" id="3615785">//&nbsp;space&nbsp;characters&nbsp;to&nbsp;right&nbsp;of&nbsp;digits&nbsp;for&nbsp;left&nbsp;justification&nbsp;(&#34;%-8d&#34;)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3615858">//&nbsp;determine&nbsp;number&nbsp;padding&nbsp;from&nbsp;precision:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;digits&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3615940">precision</span><span class="op" id="3615949">,</span>&nbsp;<span class="ident" id="3615951">precisionSet</span>&nbsp;<span class="op" id="3615964">:=</span>&nbsp;<span class="ident" id="3615967">s</span><span class="op" id="3615968">.</span><span class="ident" id="3615969">Precision</span><span class="op" id="3615978">(</span><span class="op" id="3615979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3615982">if</span>&nbsp;<span class="ident" id="3615985">precisionSet</span>&nbsp;<span class="op" id="3615998">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616002">switch</span>&nbsp;<span class="op" id="3616009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616013">case</span>&nbsp;<span class="builtinfunc" id="3616018">len</span><span class="op" id="3616021">(</span><span class="ident" id="3616022">digits</span><span class="op" id="3616028">)</span>&nbsp;<span class="op" id="3616030">&lt;</span>&nbsp;<span class="ident" id="3616032">precision</span><span class="op" id="3616041">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616046">zeroes</span>&nbsp;<span class="op" id="3616053">=</span>&nbsp;<span class="ident" id="3616055">precision</span>&nbsp;<span class="op" id="3616065">-</span>&nbsp;<span class="builtinfunc" id="3616067">len</span><span class="op" id="3616070">(</span><span class="ident" id="3616071">digits</span><span class="op" id="3616077">)</span>&nbsp;<span class="comment" id="3616079">//&nbsp;count&nbsp;of&nbsp;zero&nbsp;padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616106">case</span>&nbsp;<span class="ident" id="3616111">digits</span>&nbsp;<span class="op" id="3616118">==</span>&nbsp;<span class="string" id="3616121">&#34;0&#34;</span>&nbsp;<span class="op" id="3616125">&amp;&amp;</span>&nbsp;<span class="ident" id="3616128">precision</span>&nbsp;<span class="op" id="3616138">==</span>&nbsp;<span class="num" id="3616141">0</span><span class="op" id="3616142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616147">return</span>&nbsp;<span class="comment" id="3616154">//&nbsp;print&nbsp;nothing&nbsp;if&nbsp;zero&nbsp;value&nbsp;(x&nbsp;==&nbsp;0)&nbsp;and&nbsp;zero&nbsp;precision&nbsp;(&#34;.&#34;&nbsp;or&nbsp;&#34;.0&#34;)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616236">//&nbsp;determine&nbsp;field&nbsp;pad&nbsp;from&nbsp;width:&nbsp;the&nbsp;least&nbsp;number&nbsp;of&nbsp;characters&nbsp;to&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616313">length</span>&nbsp;<span class="op" id="3616320">:=</span>&nbsp;<span class="builtinfunc" id="3616323">len</span><span class="op" id="3616326">(</span><span class="ident" id="3616327">sign</span><span class="op" id="3616331">)</span>&nbsp;<span class="op" id="3616333">+</span>&nbsp;<span class="builtinfunc" id="3616335">len</span><span class="op" id="3616338">(</span><span class="ident" id="3616339">prefix</span><span class="op" id="3616345">)</span>&nbsp;<span class="op" id="3616347">+</span>&nbsp;<span class="ident" id="3616349">zeroes</span>&nbsp;<span class="op" id="3616356">+</span>&nbsp;<span class="builtinfunc" id="3616358">len</span><span class="op" id="3616361">(</span><span class="ident" id="3616362">digits</span><span class="op" id="3616368">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616371">if</span>&nbsp;<span class="ident" id="3616374">width</span><span class="op" id="3616379">,</span>&nbsp;<span class="ident" id="3616381">widthSet</span>&nbsp;<span class="op" id="3616390">:=</span>&nbsp;<span class="ident" id="3616393">s</span><span class="op" id="3616394">.</span><span class="ident" id="3616395">Width</span><span class="op" id="3616400">(</span><span class="op" id="3616401">)</span><span class="op" id="3616402">;</span>&nbsp;<span class="ident" id="3616404">widthSet</span>&nbsp;<span class="op" id="3616413">&amp;&amp;</span>&nbsp;<span class="ident" id="3616416">length</span>&nbsp;<span class="op" id="3616423">&lt;</span>&nbsp;<span class="ident" id="3616425">width</span>&nbsp;<span class="op" id="3616431">{</span>&nbsp;<span class="comment" id="3616433">//&nbsp;pad&nbsp;as&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616455">switch</span>&nbsp;<span class="ident" id="3616462">d</span>&nbsp;<span class="op" id="3616464">:=</span>&nbsp;<span class="ident" id="3616467">width</span>&nbsp;<span class="op" id="3616473">-</span>&nbsp;<span class="ident" id="3616475">length</span><span class="op" id="3616481">;</span>&nbsp;<span class="op" id="3616483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616487">case</span>&nbsp;<span class="ident" id="3616492">s</span><span class="op" id="3616493">.</span><span class="ident" id="3616494">Flag</span><span class="op" id="3616498">(</span><span class="string" id="3616499">&#39;-&#39;</span><span class="op" id="3616502">)</span><span class="op" id="3616503">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616508">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;right&nbsp;with&nbsp;spaces;&nbsp;supersedes&nbsp;&#39;0&#39;&nbsp;when&nbsp;both&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616579">right</span>&nbsp;<span class="op" id="3616585">=</span>&nbsp;<span class="ident" id="3616587">d</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616591">case</span>&nbsp;<span class="ident" id="3616596">s</span><span class="op" id="3616597">.</span><span class="ident" id="3616598">Flag</span><span class="op" id="3616602">(</span><span class="string" id="3616603">&#39;0&#39;</span><span class="op" id="3616606">)</span>&nbsp;<span class="op" id="3616608">&amp;&amp;</span>&nbsp;<span class="op" id="3616611">!</span><span class="ident" id="3616612">precisionSet</span><span class="op" id="3616624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616629">//&nbsp;pad&nbsp;with&nbsp;zeroes&nbsp;unless&nbsp;precision&nbsp;also&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616683">zeroes</span>&nbsp;<span class="op" id="3616690">=</span>&nbsp;<span class="ident" id="3616692">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3616696">default</span><span class="op" id="3616703">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616708">//&nbsp;pad&nbsp;on&nbsp;the&nbsp;left&nbsp;with&nbsp;spaces</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616742">left</span>&nbsp;<span class="op" id="3616747">=</span>&nbsp;<span class="ident" id="3616749">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3616756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3616760">//&nbsp;print&nbsp;number&nbsp;as&nbsp;[left&nbsp;pad][sign][prefix][zero&nbsp;pad][digits][right&nbsp;pad]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616834">writeMultiple</span><span class="op" id="3616847">(</span><span class="ident" id="3616848">s</span><span class="op" id="3616849">,</span>&nbsp;<span class="string" id="3616851">&#34;&nbsp;&#34;</span><span class="op" id="3616854">,</span>&nbsp;<span class="ident" id="3616856">left</span><span class="op" id="3616860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616863">writeMultiple</span><span class="op" id="3616876">(</span><span class="ident" id="3616877">s</span><span class="op" id="3616878">,</span>&nbsp;<span class="ident" id="3616880">sign</span><span class="op" id="3616884">,</span>&nbsp;<span class="num" id="3616886">1</span><span class="op" id="3616887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616890">writeMultiple</span><span class="op" id="3616903">(</span><span class="ident" id="3616904">s</span><span class="op" id="3616905">,</span>&nbsp;<span class="ident" id="3616907">prefix</span><span class="op" id="3616913">,</span>&nbsp;<span class="num" id="3616915">1</span><span class="op" id="3616916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616919">writeMultiple</span><span class="op" id="3616932">(</span><span class="ident" id="3616933">s</span><span class="op" id="3616934">,</span>&nbsp;<span class="string" id="3616936">&#34;0&#34;</span><span class="op" id="3616939">,</span>&nbsp;<span class="ident" id="3616941">zeroes</span><span class="op" id="3616947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616950">writeMultiple</span><span class="op" id="3616963">(</span><span class="ident" id="3616964">s</span><span class="op" id="3616965">,</span>&nbsp;<span class="ident" id="3616967">digits</span><span class="op" id="3616973">,</span>&nbsp;<span class="num" id="3616975">1</span><span class="op" id="3616976">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3616979">writeMultiple</span><span class="op" id="3616992">(</span><span class="ident" id="3616993">s</span><span class="op" id="3616994">,</span>&nbsp;<span class="string" id="3616996">&#34;&nbsp;&#34;</span><span class="op" id="3616999">,</span>&nbsp;<span class="ident" id="3617001">right</span><span class="op" id="3617006">)</span><br>
<span class="lineno"></span><span class="op" id="3617008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3617011">//&nbsp;scan&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;integer&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;longest&nbsp;possible&nbsp;prefix</span><br>
<span class="lineno"></span><span class="comment" id="3617092">//&nbsp;read&nbsp;from&nbsp;r&nbsp;representing&nbsp;a&nbsp;signed&nbsp;integer&nbsp;number&nbsp;in&nbsp;a&nbsp;given&nbsp;conversion&nbsp;base.</span><br>
<span class="lineno">455</span><span class="comment" id="3617172">//&nbsp;It&nbsp;returns&nbsp;z,&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base&nbsp;used,&nbsp;and&nbsp;an&nbsp;error,&nbsp;if&nbsp;any.&nbsp;In&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3617251">//&nbsp;error&nbsp;case,&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="3617329">//&nbsp;syntax&nbsp;follows&nbsp;the&nbsp;syntax&nbsp;of&nbsp;integer&nbsp;literals&nbsp;in&nbsp;Go.</span><br>
<span class="lineno"></span><span class="comment" id="3617385">//</span><br>
<span class="lineno"></span><span class="comment" id="3617388">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno">460</span><span class="comment" id="3617466">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3617544">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3617620">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3617698">//</span><br>
<span class="lineno"></span><span class="keyword" id="3617701">func</span>&nbsp;<span class="op" id="3617706">(</span><span class="ident" id="3617707">z</span>&nbsp;<span class="op" id="3617709">*</span><span class="ident" id="3617710">Int</span><span class="op" id="3617713">)</span>&nbsp;<span class="ident" id="3617715">scan</span><span class="op" id="3617719">(</span><span class="ident" id="3617720">r</span>&nbsp;<span class="ident" id="3617722">io</span><span class="op" id="3617724">.</span><span class="ident" id="3617725">RuneScanner</span><span class="op" id="3617736">,</span>&nbsp;<span class="ident" id="3617738">base</span>&nbsp;<span class="builtintype" id="3617743">int</span><span class="op" id="3617746">)</span>&nbsp;<span class="op" id="3617748">(</span><span class="op" id="3617749">*</span><span class="ident" id="3617750">Int</span><span class="op" id="3617753">,</span>&nbsp;<span class="builtintype" id="3617755">int</span><span class="op" id="3617758">,</span>&nbsp;<span class="builtintype" id="3617760">error</span><span class="op" id="3617765">)</span>&nbsp;<span class="op" id="3617767">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3617770">//&nbsp;determine&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3617789">ch</span><span class="op" id="3617791">,</span>&nbsp;<span class="ident" id="3617793">_</span><span class="op" id="3617794">,</span>&nbsp;<span class="ident" id="3617796">err</span>&nbsp;<span class="op" id="3617800">:=</span>&nbsp;<span class="ident" id="3617803">r</span><span class="op" id="3617804">.</span><span class="ident" id="3617805">ReadRune</span><span class="op" id="3617813">(</span><span class="op" id="3617814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3617817">if</span>&nbsp;<span class="ident" id="3617820">err</span>&nbsp;<span class="op" id="3617824">!=</span>&nbsp;<span class="builtintype" id="3617827">nil</span>&nbsp;<span class="op" id="3617831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3617835">return</span>&nbsp;<span class="builtintype" id="3617842">nil</span><span class="op" id="3617845">,</span>&nbsp;<span class="num" id="3617847">0</span><span class="op" id="3617848">,</span>&nbsp;<span class="ident" id="3617850">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3617855">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3617858">neg</span>&nbsp;<span class="op" id="3617862">:=</span>&nbsp;<span class="builtintype" id="3617865">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3617872">switch</span>&nbsp;<span class="ident" id="3617879">ch</span>&nbsp;<span class="op" id="3617882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3617885">case</span>&nbsp;<span class="string" id="3617890">&#39;-&#39;</span><span class="op" id="3617893">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3617897">neg</span>&nbsp;<span class="op" id="3617901">=</span>&nbsp;<span class="builtintype" id="3617903">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3617909">case</span>&nbsp;<span class="string" id="3617914">&#39;+&#39;</span><span class="op" id="3617917">:</span>&nbsp;<span class="comment" id="3617919">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3617937">default</span><span class="op" id="3617944">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3617948">r</span><span class="op" id="3617949">.</span><span class="ident" id="3617950">UnreadRune</span><span class="op" id="3617960">(</span><span class="op" id="3617961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3617964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3617968">//&nbsp;determine&nbsp;mantissa</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3617991">z</span><span class="op" id="3617992">.</span><span class="ident" id="3617993">abs</span><span class="op" id="3617996">,</span>&nbsp;<span class="ident" id="3617998">base</span><span class="op" id="3618002">,</span>&nbsp;<span class="ident" id="3618004">err</span>&nbsp;<span class="op" id="3618008">=</span>&nbsp;<span class="ident" id="3618010">z</span><span class="op" id="3618011">.</span><span class="ident" id="3618012">abs</span><span class="op" id="3618015">.</span><span class="ident" id="3618016">scan</span><span class="op" id="3618020">(</span><span class="ident" id="3618021">r</span><span class="op" id="3618022">,</span>&nbsp;<span class="ident" id="3618024">base</span><span class="op" id="3618028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618031">if</span>&nbsp;<span class="ident" id="3618034">err</span>&nbsp;<span class="op" id="3618038">!=</span>&nbsp;<span class="builtintype" id="3618041">nil</span>&nbsp;<span class="op" id="3618045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618049">return</span>&nbsp;<span class="builtintype" id="3618056">nil</span><span class="op" id="3618059">,</span>&nbsp;<span class="ident" id="3618061">base</span><span class="op" id="3618065">,</span>&nbsp;<span class="ident" id="3618067">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3618072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618075">z</span><span class="op" id="3618076">.</span><span class="ident" id="3618077">neg</span>&nbsp;<span class="op" id="3618081">=</span>&nbsp;<span class="builtinfunc" id="3618083">len</span><span class="op" id="3618086">(</span><span class="ident" id="3618087">z</span><span class="op" id="3618088">.</span><span class="ident" id="3618089">abs</span><span class="op" id="3618092">)</span>&nbsp;<span class="op" id="3618094">&gt;</span>&nbsp;<span class="num" id="3618096">0</span>&nbsp;<span class="op" id="3618098">&amp;&amp;</span>&nbsp;<span class="ident" id="3618101">neg</span>&nbsp;<span class="comment" id="3618105">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618124">return</span>&nbsp;<span class="ident" id="3618131">z</span><span class="op" id="3618132">,</span>&nbsp;<span class="ident" id="3618134">base</span><span class="op" id="3618138">,</span>&nbsp;<span class="builtintype" id="3618140">nil</span><br>
<span class="lineno"></span><span class="op" id="3618144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3618147">//&nbsp;Scan&nbsp;is&nbsp;a&nbsp;support&nbsp;routine&nbsp;for&nbsp;fmt.Scanner;&nbsp;it&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of</span><br>
<span class="lineno">490</span><span class="comment" id="3618219">//&nbsp;the&nbsp;scanned&nbsp;number.&nbsp;It&nbsp;accepts&nbsp;the&nbsp;formats&nbsp;&#39;b&#39;&nbsp;(binary),&nbsp;&#39;o&#39;&nbsp;(octal),</span><br>
<span class="lineno"></span><span class="comment" id="3618292">//&nbsp;&#39;d&#39;&nbsp;(decimal),&nbsp;&#39;x&#39;&nbsp;(lowercase&nbsp;hexadecimal),&nbsp;and&nbsp;&#39;X&#39;&nbsp;(uppercase&nbsp;hexadecimal).</span><br>
<span class="lineno"></span><span class="keyword" id="3618372">func</span>&nbsp;<span class="op" id="3618377">(</span><span class="ident" id="3618378">z</span>&nbsp;<span class="op" id="3618380">*</span><span class="ident" id="3618381">Int</span><span class="op" id="3618384">)</span>&nbsp;<span class="ident" id="3618386">Scan</span><span class="op" id="3618390">(</span><span class="ident" id="3618391">s</span>&nbsp;<span class="ident" id="3618393">fmt</span><span class="op" id="3618396">.</span><span class="ident" id="3618397">ScanState</span><span class="op" id="3618406">,</span>&nbsp;<span class="ident" id="3618408">ch</span>&nbsp;<span class="builtintype" id="3618411">rune</span><span class="op" id="3618415">)</span>&nbsp;<span class="builtintype" id="3618417">error</span>&nbsp;<span class="op" id="3618423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618426">s</span><span class="op" id="3618427">.</span><span class="ident" id="3618428">SkipSpace</span><span class="op" id="3618437">(</span><span class="op" id="3618438">)</span>&nbsp;<span class="comment" id="3618440">//&nbsp;skip&nbsp;leading&nbsp;space&nbsp;characters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618474">base</span>&nbsp;<span class="op" id="3618479">:=</span>&nbsp;<span class="num" id="3618482">0</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618485">switch</span>&nbsp;<span class="ident" id="3618492">ch</span>&nbsp;<span class="op" id="3618495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618498">case</span>&nbsp;<span class="string" id="3618503">&#39;b&#39;</span><span class="op" id="3618506">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618510">base</span>&nbsp;<span class="op" id="3618515">=</span>&nbsp;<span class="num" id="3618517">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618520">case</span>&nbsp;<span class="string" id="3618525">&#39;o&#39;</span><span class="op" id="3618528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618532">base</span>&nbsp;<span class="op" id="3618537">=</span>&nbsp;<span class="num" id="3618539">8</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618542">case</span>&nbsp;<span class="string" id="3618547">&#39;d&#39;</span><span class="op" id="3618550">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618554">base</span>&nbsp;<span class="op" id="3618559">=</span>&nbsp;<span class="num" id="3618561">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618565">case</span>&nbsp;<span class="string" id="3618570">&#39;x&#39;</span><span class="op" id="3618573">,</span>&nbsp;<span class="string" id="3618575">&#39;X&#39;</span><span class="op" id="3618578">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618582">base</span>&nbsp;<span class="op" id="3618587">=</span>&nbsp;<span class="num" id="3618589">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618593">case</span>&nbsp;<span class="string" id="3618598">&#39;s&#39;</span><span class="op" id="3618601">,</span>&nbsp;<span class="string" id="3618603">&#39;v&#39;</span><span class="op" id="3618606">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3618610">//&nbsp;let&nbsp;scan&nbsp;determine&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618642">default</span><span class="op" id="3618649">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618653">return</span>&nbsp;<span class="ident" id="3618660">errors</span><span class="op" id="3618666">.</span><span class="ident" id="3618667">New</span><span class="op" id="3618670">(</span><span class="string" id="3618671">&#34;Int.Scan:&nbsp;invalid&nbsp;verb&#34;</span><span class="op" id="3618695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3618698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618701">_</span><span class="op" id="3618702">,</span>&nbsp;<span class="ident" id="3618704">_</span><span class="op" id="3618705">,</span>&nbsp;<span class="ident" id="3618707">err</span>&nbsp;<span class="op" id="3618711">:=</span>&nbsp;<span class="ident" id="3618714">z</span><span class="op" id="3618715">.</span><span class="ident" id="3618716">scan</span><span class="op" id="3618720">(</span><span class="ident" id="3618721">s</span><span class="op" id="3618722">,</span>&nbsp;<span class="ident" id="3618724">base</span><span class="op" id="3618728">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618731">return</span>&nbsp;<span class="ident" id="3618738">err</span><br>
<span class="lineno"></span><span class="op" id="3618742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3618745">//&nbsp;low32&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;32&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3618798">func</span>&nbsp;<span class="ident" id="3618803">low32</span><span class="op" id="3618808">(</span><span class="ident" id="3618809">z</span>&nbsp;<span class="ident" id="3618811">nat</span><span class="op" id="3618814">)</span>&nbsp;<span class="builtintype" id="3618816">uint32</span>&nbsp;<span class="op" id="3618823">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618826">if</span>&nbsp;<span class="builtinfunc" id="3618829">len</span><span class="op" id="3618832">(</span><span class="ident" id="3618833">z</span><span class="op" id="3618834">)</span>&nbsp;<span class="op" id="3618836">==</span>&nbsp;<span class="num" id="3618839">0</span>&nbsp;<span class="op" id="3618841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618845">return</span>&nbsp;<span class="num" id="3618852">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3618855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618858">return</span>&nbsp;<span class="builtintype" id="3618865">uint32</span><span class="op" id="3618871">(</span><span class="ident" id="3618872">z</span><span class="op" id="3618873">[</span><span class="num" id="3618874">0</span><span class="op" id="3618875">]</span><span class="op" id="3618876">)</span><br>
<span class="lineno"></span><span class="op" id="3618878">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="comment" id="3618881">//&nbsp;low64&nbsp;returns&nbsp;the&nbsp;least&nbsp;significant&nbsp;64&nbsp;bits&nbsp;of&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3618934">func</span>&nbsp;<span class="ident" id="3618939">low64</span><span class="op" id="3618944">(</span><span class="ident" id="3618945">z</span>&nbsp;<span class="ident" id="3618947">nat</span><span class="op" id="3618950">)</span>&nbsp;<span class="ident" id="3618952">uint64</span>&nbsp;<span class="op" id="3618959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618962">if</span>&nbsp;<span class="builtinfunc" id="3618965">len</span><span class="op" id="3618968">(</span><span class="ident" id="3618969">z</span><span class="op" id="3618970">)</span>&nbsp;<span class="op" id="3618972">==</span>&nbsp;<span class="num" id="3618975">0</span>&nbsp;<span class="op" id="3618977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3618981">return</span>&nbsp;<span class="num" id="3618988">0</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3618991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3618994">v</span>&nbsp;<span class="op" id="3618996">:=</span>&nbsp;<span class="ident" id="3618999">uint64</span><span class="op" id="3619005">(</span><span class="ident" id="3619006">z</span><span class="op" id="3619007">[</span><span class="num" id="3619008">0</span><span class="op" id="3619009">]</span><span class="op" id="3619010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3619013">if</span>&nbsp;<span class="ident" id="3619016">_W</span>&nbsp;<span class="op" id="3619019">==</span>&nbsp;<span class="num" id="3619022">32</span>&nbsp;<span class="op" id="3619025">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3619028">len</span><span class="op" id="3619031">(</span><span class="ident" id="3619032">z</span><span class="op" id="3619033">)</span>&nbsp;<span class="op" id="3619035">&gt;</span>&nbsp;<span class="num" id="3619037">1</span>&nbsp;<span class="op" id="3619039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3619043">v</span>&nbsp;<span class="op" id="3619045">|=</span>&nbsp;<span class="ident" id="3619048">uint64</span><span class="op" id="3619054">(</span><span class="ident" id="3619055">z</span><span class="op" id="3619056">[</span><span class="num" id="3619057">1</span><span class="op" id="3619058">]</span><span class="op" id="3619059">)</span>&nbsp;<span class="op" id="3619061">&lt;&lt;</span>&nbsp;<span class="num" id="3619064">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3619068">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3619071">return</span>&nbsp;<span class="ident" id="3619078">v</span><br>
<span class="lineno"></span><span class="op" id="3619080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3619083">//&nbsp;Int64&nbsp;returns&nbsp;the&nbsp;int64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3619131">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;an&nbsp;int64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">535</span><span class="keyword" id="3619199">func</span>&nbsp;<span class="op" id="3619204">(</span><span class="ident" id="3619205">x</span>&nbsp;<span class="op" id="3619207">*</span><span class="ident" id="3619208">Int</span><span class="op" id="3619211">)</span>&nbsp;<span class="ident" id="3619213">Int64</span><span class="op" id="3619218">(</span><span class="op" id="3619219">)</span>&nbsp;<span class="ident" id="3619221">int64</span>&nbsp;<span class="op" id="3619227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3619230">v</span>&nbsp;<span class="op" id="3619232">:=</span>&nbsp;<span class="ident" id="3619235">int64</span><span class="op" id="3619240">(</span><span class="ident" id="3619241">low64</span><span class="op" id="3619246">(</span><span class="ident" id="3619247">x</span><span class="op" id="3619248">.</span><span class="ident" id="3619249">abs</span><span class="op" id="3619252">)</span><span class="op" id="3619253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3619256">if</span>&nbsp;<span class="ident" id="3619259">x</span><span class="op" id="3619260">.</span><span class="ident" id="3619261">neg</span>&nbsp;<span class="op" id="3619265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3619269">v</span>&nbsp;<span class="op" id="3619271">=</span>&nbsp;<span class="op" id="3619273">-</span><span class="ident" id="3619274">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3619277">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3619280">return</span>&nbsp;<span class="ident" id="3619287">v</span><br>
<span class="lineno"></span><span class="op" id="3619289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3619292">//&nbsp;Uint64&nbsp;returns&nbsp;the&nbsp;uint64&nbsp;representation&nbsp;of&nbsp;x.</span><br>
<span class="lineno"></span><span class="comment" id="3619342">//&nbsp;If&nbsp;x&nbsp;cannot&nbsp;be&nbsp;represented&nbsp;in&nbsp;a&nbsp;uint64,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno">545</span><span class="keyword" id="3619410">func</span>&nbsp;<span class="op" id="3619415">(</span><span class="ident" id="3619416">x</span>&nbsp;<span class="op" id="3619418">*</span><span class="ident" id="3619419">Int</span><span class="op" id="3619422">)</span>&nbsp;<span class="ident" id="3619424">Uint64</span><span class="op" id="3619430">(</span><span class="op" id="3619431">)</span>&nbsp;<span class="ident" id="3619433">uint64</span>&nbsp;<span class="op" id="3619440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3619443">return</span>&nbsp;<span class="ident" id="3619450">low64</span><span class="op" id="3619455">(</span><span class="ident" id="3619456">x</span><span class="op" id="3619457">.</span><span class="ident" id="3619458">abs</span><span class="op" id="3619461">)</span><br>
<span class="lineno"></span><span class="op" id="3619463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3619466">//&nbsp;SetString&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;value&nbsp;of&nbsp;s,&nbsp;interpreted&nbsp;in&nbsp;the&nbsp;given&nbsp;base,</span><br>
<span class="lineno">550</span><span class="comment" id="3619536">//&nbsp;and&nbsp;returns&nbsp;z&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;success.&nbsp;If&nbsp;SetString&nbsp;fails,</span><br>
<span class="lineno"></span><span class="comment" id="3619607">//&nbsp;the&nbsp;value&nbsp;of&nbsp;z&nbsp;is&nbsp;undefined&nbsp;but&nbsp;the&nbsp;returned&nbsp;value&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3619669">//</span><br>
<span class="lineno"></span><span class="comment" id="3619672">//&nbsp;The&nbsp;base&nbsp;argument&nbsp;must&nbsp;be&nbsp;0&nbsp;or&nbsp;a&nbsp;value&nbsp;from&nbsp;2&nbsp;through&nbsp;MaxBase.&nbsp;If&nbsp;the&nbsp;base</span><br>
<span class="lineno"></span><span class="comment" id="3619750">//&nbsp;is&nbsp;0,&nbsp;the&nbsp;string&nbsp;prefix&nbsp;determines&nbsp;the&nbsp;actual&nbsp;conversion&nbsp;base.&nbsp;A&nbsp;prefix&nbsp;of</span><br>
<span class="lineno">555</span><span class="comment" id="3619828">//&nbsp;``0x&#39;&#39;&nbsp;or&nbsp;``0X&#39;&#39;&nbsp;selects&nbsp;base&nbsp;16;&nbsp;the&nbsp;``0&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;8,&nbsp;and&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="3619904">//&nbsp;``0b&#39;&#39;&nbsp;or&nbsp;``0B&#39;&#39;&nbsp;prefix&nbsp;selects&nbsp;base&nbsp;2.&nbsp;Otherwise&nbsp;the&nbsp;selected&nbsp;base&nbsp;is&nbsp;10.</span><br>
<span class="lineno"></span><span class="comment" id="3619982">//</span><br>
<span class="lineno"></span><span class="keyword" id="3619985">func</span>&nbsp;<span class="op" id="3619990">(</span><span class="ident" id="3619991">z</span>&nbsp;<span class="op" id="3619993">*</span><span class="ident" id="3619994">Int</span><span class="op" id="3619997">)</span>&nbsp;<span class="ident" id="3619999">SetString</span><span class="op" id="3620008">(</span><span class="ident" id="3620009">s</span>&nbsp;<span class="builtintype" id="3620011">string</span><span class="op" id="3620017">,</span>&nbsp;<span class="ident" id="3620019">base</span>&nbsp;<span class="builtintype" id="3620024">int</span><span class="op" id="3620027">)</span>&nbsp;<span class="op" id="3620029">(</span><span class="op" id="3620030">*</span><span class="ident" id="3620031">Int</span><span class="op" id="3620034">,</span>&nbsp;<span class="builtintype" id="3620036">bool</span><span class="op" id="3620040">)</span>&nbsp;<span class="op" id="3620042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3620045">r</span>&nbsp;<span class="op" id="3620047">:=</span>&nbsp;<span class="ident" id="3620050">strings</span><span class="op" id="3620057">.</span><span class="ident" id="3620058">NewReader</span><span class="op" id="3620067">(</span><span class="ident" id="3620068">s</span><span class="op" id="3620069">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3620072">_</span><span class="op" id="3620073">,</span>&nbsp;<span class="ident" id="3620075">_</span><span class="op" id="3620076">,</span>&nbsp;<span class="ident" id="3620078">err</span>&nbsp;<span class="op" id="3620082">:=</span>&nbsp;<span class="ident" id="3620085">z</span><span class="op" id="3620086">.</span><span class="ident" id="3620087">scan</span><span class="op" id="3620091">(</span><span class="ident" id="3620092">r</span><span class="op" id="3620093">,</span>&nbsp;<span class="ident" id="3620095">base</span><span class="op" id="3620099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620102">if</span>&nbsp;<span class="ident" id="3620105">err</span>&nbsp;<span class="op" id="3620109">!=</span>&nbsp;<span class="builtintype" id="3620112">nil</span>&nbsp;<span class="op" id="3620116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620120">return</span>&nbsp;<span class="builtintype" id="3620127">nil</span><span class="op" id="3620130">,</span>&nbsp;<span class="builtintype" id="3620132">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3620139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3620142">_</span><span class="op" id="3620143">,</span>&nbsp;<span class="ident" id="3620145">_</span><span class="op" id="3620146">,</span>&nbsp;<span class="ident" id="3620148">err</span>&nbsp;<span class="op" id="3620152">=</span>&nbsp;<span class="ident" id="3620154">r</span><span class="op" id="3620155">.</span><span class="ident" id="3620156">ReadRune</span><span class="op" id="3620164">(</span><span class="op" id="3620165">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620168">if</span>&nbsp;<span class="ident" id="3620171">err</span>&nbsp;<span class="op" id="3620175">!=</span>&nbsp;<span class="ident" id="3620178">io</span><span class="op" id="3620180">.</span><span class="ident" id="3620181">EOF</span>&nbsp;<span class="op" id="3620185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620189">return</span>&nbsp;<span class="builtintype" id="3620196">nil</span><span class="op" id="3620199">,</span>&nbsp;<span class="builtintype" id="3620201">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3620208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620211">return</span>&nbsp;<span class="ident" id="3620218">z</span><span class="op" id="3620219">,</span>&nbsp;<span class="builtintype" id="3620221">true</span>&nbsp;<span class="comment" id="3620226">//&nbsp;err&nbsp;==&nbsp;io.EOF&nbsp;=&gt;&nbsp;scan&nbsp;consumed&nbsp;all&nbsp;of&nbsp;s</span><br>
<span class="lineno"></span><span class="op" id="3620269">}</span><br>
<span class="lineno">570</span><br>
<span class="lineno"></span><span class="comment" id="3620272">//&nbsp;SetBytes&nbsp;interprets&nbsp;buf&nbsp;as&nbsp;the&nbsp;bytes&nbsp;of&nbsp;a&nbsp;big-endian&nbsp;unsigned</span><br>
<span class="lineno"></span><span class="comment" id="3620337">//&nbsp;integer,&nbsp;sets&nbsp;z&nbsp;to&nbsp;that&nbsp;value,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3620386">func</span>&nbsp;<span class="op" id="3620391">(</span><span class="ident" id="3620392">z</span>&nbsp;<span class="op" id="3620394">*</span><span class="ident" id="3620395">Int</span><span class="op" id="3620398">)</span>&nbsp;<span class="ident" id="3620400">SetBytes</span><span class="op" id="3620408">(</span><span class="ident" id="3620409">buf</span>&nbsp;<span class="op" id="3620413">[</span><span class="op" id="3620414">]</span><span class="builtintype" id="3620415">byte</span><span class="op" id="3620419">)</span>&nbsp;<span class="op" id="3620421">*</span><span class="ident" id="3620422">Int</span>&nbsp;<span class="op" id="3620426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3620429">z</span><span class="op" id="3620430">.</span><span class="ident" id="3620431">abs</span>&nbsp;<span class="op" id="3620435">=</span>&nbsp;<span class="ident" id="3620437">z</span><span class="op" id="3620438">.</span><span class="ident" id="3620439">abs</span><span class="op" id="3620442">.</span><span class="ident" id="3620443">setBytes</span><span class="op" id="3620451">(</span><span class="ident" id="3620452">buf</span><span class="op" id="3620455">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3620458">z</span><span class="op" id="3620459">.</span><span class="ident" id="3620460">neg</span>&nbsp;<span class="op" id="3620464">=</span>&nbsp;<span class="builtintype" id="3620466">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620473">return</span>&nbsp;<span class="ident" id="3620480">z</span><br>
<span class="lineno"></span><span class="op" id="3620482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3620485">//&nbsp;Bytes&nbsp;returns&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;as&nbsp;a&nbsp;big-endian&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno">580</span><span class="keyword" id="3620554">func</span>&nbsp;<span class="op" id="3620559">(</span><span class="ident" id="3620560">x</span>&nbsp;<span class="op" id="3620562">*</span><span class="ident" id="3620563">Int</span><span class="op" id="3620566">)</span>&nbsp;<span class="ident" id="3620568">Bytes</span><span class="op" id="3620573">(</span><span class="op" id="3620574">)</span>&nbsp;<span class="op" id="3620576">[</span><span class="op" id="3620577">]</span><span class="builtintype" id="3620578">byte</span>&nbsp;<span class="op" id="3620583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3620586">buf</span>&nbsp;<span class="op" id="3620590">:=</span>&nbsp;<span class="builtinfunc" id="3620593">make</span><span class="op" id="3620597">(</span><span class="op" id="3620598">[</span><span class="op" id="3620599">]</span><span class="builtintype" id="3620600">byte</span><span class="op" id="3620604">,</span>&nbsp;<span class="builtinfunc" id="3620606">len</span><span class="op" id="3620609">(</span><span class="ident" id="3620610">x</span><span class="op" id="3620611">.</span><span class="ident" id="3620612">abs</span><span class="op" id="3620615">)</span><span class="op" id="3620616">*</span><span class="ident" id="3620617">_S</span><span class="op" id="3620619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620622">return</span>&nbsp;<span class="ident" id="3620629">buf</span><span class="op" id="3620632">[</span><span class="ident" id="3620633">x</span><span class="op" id="3620634">.</span><span class="ident" id="3620635">abs</span><span class="op" id="3620638">.</span><span class="ident" id="3620639">bytes</span><span class="op" id="3620644">(</span><span class="ident" id="3620645">buf</span><span class="op" id="3620648">)</span><span class="op" id="3620649">:</span><span class="op" id="3620650">]</span><br>
<span class="lineno"></span><span class="op" id="3620652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="comment" id="3620655">//&nbsp;BitLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;absolute&nbsp;value&nbsp;of&nbsp;x&nbsp;in&nbsp;bits.</span><br>
<span class="lineno"></span><span class="comment" id="3620720">//&nbsp;The&nbsp;bit&nbsp;length&nbsp;of&nbsp;0&nbsp;is&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3620749">func</span>&nbsp;<span class="op" id="3620754">(</span><span class="ident" id="3620755">x</span>&nbsp;<span class="op" id="3620757">*</span><span class="ident" id="3620758">Int</span><span class="op" id="3620761">)</span>&nbsp;<span class="ident" id="3620763">BitLen</span><span class="op" id="3620769">(</span><span class="op" id="3620770">)</span>&nbsp;<span class="builtintype" id="3620772">int</span>&nbsp;<span class="op" id="3620776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3620779">return</span>&nbsp;<span class="ident" id="3620786">x</span><span class="op" id="3620787">.</span><span class="ident" id="3620788">abs</span><span class="op" id="3620791">.</span><span class="ident" id="3620792">bitLen</span><span class="op" id="3620798">(</span><span class="op" id="3620799">)</span><br>
<span class="lineno"></span><span class="op" id="3620801">}</span><br>
<span class="lineno">590</span><br>
<span class="lineno"></span><span class="comment" id="3620804">//&nbsp;Exp&nbsp;sets&nbsp;z&nbsp;=&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;(i.e.&nbsp;the&nbsp;sign&nbsp;of&nbsp;m&nbsp;is&nbsp;ignored),&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3620881">//&nbsp;If&nbsp;y&nbsp;&lt;=&nbsp;0,&nbsp;the&nbsp;result&nbsp;is&nbsp;1&nbsp;mod&nbsp;|m|;&nbsp;if&nbsp;m&nbsp;==&nbsp;nil&nbsp;or&nbsp;m&nbsp;==&nbsp;0,&nbsp;z&nbsp;=&nbsp;x**y.</span><br>
<span class="lineno"></span><span class="comment" id="3620953">//&nbsp;See&nbsp;Knuth,&nbsp;volume&nbsp;2,&nbsp;section&nbsp;4.6.3.</span><br>
<span class="lineno"></span><span class="keyword" id="3620992">func</span>&nbsp;<span class="op" id="3620997">(</span><span class="ident" id="3620998">z</span>&nbsp;<span class="op" id="3621000">*</span><span class="ident" id="3621001">Int</span><span class="op" id="3621004">)</span>&nbsp;<span class="ident" id="3621006">Exp</span><span class="op" id="3621009">(</span><span class="ident" id="3621010">x</span><span class="op" id="3621011">,</span>&nbsp;<span class="ident" id="3621013">y</span><span class="op" id="3621014">,</span>&nbsp;<span class="ident" id="3621016">m</span>&nbsp;<span class="op" id="3621018">*</span><span class="ident" id="3621019">Int</span><span class="op" id="3621022">)</span>&nbsp;<span class="op" id="3621024">*</span><span class="ident" id="3621025">Int</span>&nbsp;<span class="op" id="3621029">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621032">var</span>&nbsp;<span class="ident" id="3621036">yWords</span>&nbsp;<span class="ident" id="3621043">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621048">if</span>&nbsp;<span class="op" id="3621051">!</span><span class="ident" id="3621052">y</span><span class="op" id="3621053">.</span><span class="ident" id="3621054">neg</span>&nbsp;<span class="op" id="3621058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621062">yWords</span>&nbsp;<span class="op" id="3621069">=</span>&nbsp;<span class="ident" id="3621071">y</span><span class="op" id="3621072">.</span><span class="ident" id="3621073">abs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3621078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3621081">//&nbsp;y&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621093">var</span>&nbsp;<span class="ident" id="3621097">mWords</span>&nbsp;<span class="ident" id="3621104">nat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621109">if</span>&nbsp;<span class="ident" id="3621112">m</span>&nbsp;<span class="op" id="3621114">!=</span>&nbsp;<span class="builtintype" id="3621117">nil</span>&nbsp;<span class="op" id="3621121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621125">mWords</span>&nbsp;<span class="op" id="3621132">=</span>&nbsp;<span class="ident" id="3621134">m</span><span class="op" id="3621135">.</span><span class="ident" id="3621136">abs</span>&nbsp;<span class="comment" id="3621140">//&nbsp;m.abs&nbsp;may&nbsp;be&nbsp;nil&nbsp;for&nbsp;m&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3621172">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621176">z</span><span class="op" id="3621177">.</span><span class="ident" id="3621178">abs</span>&nbsp;<span class="op" id="3621182">=</span>&nbsp;<span class="ident" id="3621184">z</span><span class="op" id="3621185">.</span><span class="ident" id="3621186">abs</span><span class="op" id="3621189">.</span><span class="ident" id="3621190">expNN</span><span class="op" id="3621195">(</span><span class="ident" id="3621196">x</span><span class="op" id="3621197">.</span><span class="ident" id="3621198">abs</span><span class="op" id="3621201">,</span>&nbsp;<span class="ident" id="3621203">yWords</span><span class="op" id="3621209">,</span>&nbsp;<span class="ident" id="3621211">mWords</span><span class="op" id="3621217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621220">z</span><span class="op" id="3621221">.</span><span class="ident" id="3621222">neg</span>&nbsp;<span class="op" id="3621226">=</span>&nbsp;<span class="builtinfunc" id="3621228">len</span><span class="op" id="3621231">(</span><span class="ident" id="3621232">z</span><span class="op" id="3621233">.</span><span class="ident" id="3621234">abs</span><span class="op" id="3621237">)</span>&nbsp;<span class="op" id="3621239">&gt;</span>&nbsp;<span class="num" id="3621241">0</span>&nbsp;<span class="op" id="3621243">&amp;&amp;</span>&nbsp;<span class="ident" id="3621246">x</span><span class="op" id="3621247">.</span><span class="ident" id="3621248">neg</span>&nbsp;<span class="op" id="3621252">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3621255">len</span><span class="op" id="3621258">(</span><span class="ident" id="3621259">yWords</span><span class="op" id="3621265">)</span>&nbsp;<span class="op" id="3621267">&gt;</span>&nbsp;<span class="num" id="3621269">0</span>&nbsp;<span class="op" id="3621271">&amp;&amp;</span>&nbsp;<span class="ident" id="3621274">yWords</span><span class="op" id="3621280">[</span><span class="num" id="3621281">0</span><span class="op" id="3621282">]</span><span class="op" id="3621283">&amp;</span><span class="num" id="3621284">1</span>&nbsp;<span class="op" id="3621286">==</span>&nbsp;<span class="num" id="3621289">1</span>&nbsp;<span class="comment" id="3621291">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621309">if</span>&nbsp;<span class="ident" id="3621312">z</span><span class="op" id="3621313">.</span><span class="ident" id="3621314">neg</span>&nbsp;<span class="op" id="3621318">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3621321">len</span><span class="op" id="3621324">(</span><span class="ident" id="3621325">mWords</span><span class="op" id="3621331">)</span>&nbsp;<span class="op" id="3621333">&gt;</span>&nbsp;<span class="num" id="3621335">0</span>&nbsp;<span class="op" id="3621337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3621341">//&nbsp;make&nbsp;modulus&nbsp;result&nbsp;positive</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621375">z</span><span class="op" id="3621376">.</span><span class="ident" id="3621377">abs</span>&nbsp;<span class="op" id="3621381">=</span>&nbsp;<span class="ident" id="3621383">z</span><span class="op" id="3621384">.</span><span class="ident" id="3621385">abs</span><span class="op" id="3621388">.</span><span class="ident" id="3621389">sub</span><span class="op" id="3621392">(</span><span class="ident" id="3621393">mWords</span><span class="op" id="3621399">,</span>&nbsp;<span class="ident" id="3621401">z</span><span class="op" id="3621402">.</span><span class="ident" id="3621403">abs</span><span class="op" id="3621406">)</span>&nbsp;<span class="comment" id="3621408">//&nbsp;z&nbsp;==&nbsp;x**y&nbsp;mod&nbsp;|m|&nbsp;&amp;&amp;&nbsp;0&nbsp;&lt;=&nbsp;z&nbsp;&lt;&nbsp;|m|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621447">z</span><span class="op" id="3621448">.</span><span class="ident" id="3621449">neg</span>&nbsp;<span class="op" id="3621453">=</span>&nbsp;<span class="builtintype" id="3621455">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3621462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621466">return</span>&nbsp;<span class="ident" id="3621473">z</span><br>
<span class="lineno">615</span><span class="op" id="3621475">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3621478">//&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="3621551">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3621577">//&nbsp;If&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;not&nbsp;nil,&nbsp;GCD&nbsp;sets&nbsp;x&nbsp;and&nbsp;y&nbsp;such&nbsp;that&nbsp;z&nbsp;=&nbsp;a*x&nbsp;+&nbsp;b*y.</span><br>
<span class="lineno">620</span><span class="comment" id="3621646">//&nbsp;If&nbsp;either&nbsp;a&nbsp;or&nbsp;b&nbsp;is&nbsp;&lt;=&nbsp;0,&nbsp;GCD&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;=&nbsp;y&nbsp;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3621699">func</span>&nbsp;<span class="op" id="3621704">(</span><span class="ident" id="3621705">z</span>&nbsp;<span class="op" id="3621707">*</span><span class="ident" id="3621708">Int</span><span class="op" id="3621711">)</span>&nbsp;<span class="ident" id="3621713">GCD</span><span class="op" id="3621716">(</span><span class="ident" id="3621717">x</span><span class="op" id="3621718">,</span>&nbsp;<span class="ident" id="3621720">y</span><span class="op" id="3621721">,</span>&nbsp;<span class="ident" id="3621723">a</span><span class="op" id="3621724">,</span>&nbsp;<span class="ident" id="3621726">b</span>&nbsp;<span class="op" id="3621728">*</span><span class="ident" id="3621729">Int</span><span class="op" id="3621732">)</span>&nbsp;<span class="op" id="3621734">*</span><span class="ident" id="3621735">Int</span>&nbsp;<span class="op" id="3621739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621742">if</span>&nbsp;<span class="ident" id="3621745">a</span><span class="op" id="3621746">.</span><span class="ident" id="3621747">Sign</span><span class="op" id="3621751">(</span><span class="op" id="3621752">)</span>&nbsp;<span class="op" id="3621754">&lt;=</span>&nbsp;<span class="num" id="3621757">0</span>&nbsp;<span class="op" id="3621759">||</span>&nbsp;<span class="ident" id="3621762">b</span><span class="op" id="3621763">.</span><span class="ident" id="3621764">Sign</span><span class="op" id="3621768">(</span><span class="op" id="3621769">)</span>&nbsp;<span class="op" id="3621771">&lt;=</span>&nbsp;<span class="num" id="3621774">0</span>&nbsp;<span class="op" id="3621776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621780">z</span><span class="op" id="3621781">.</span><span class="ident" id="3621782">SetInt64</span><span class="op" id="3621790">(</span><span class="num" id="3621791">0</span><span class="op" id="3621792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621796">if</span>&nbsp;<span class="ident" id="3621799">x</span>&nbsp;<span class="op" id="3621801">!=</span>&nbsp;<span class="builtintype" id="3621804">nil</span>&nbsp;<span class="op" id="3621808">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621813">x</span><span class="op" id="3621814">.</span><span class="ident" id="3621815">SetInt64</span><span class="op" id="3621823">(</span><span class="num" id="3621824">0</span><span class="op" id="3621825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3621829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621833">if</span>&nbsp;<span class="ident" id="3621836">y</span>&nbsp;<span class="op" id="3621838">!=</span>&nbsp;<span class="builtintype" id="3621841">nil</span>&nbsp;<span class="op" id="3621845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621850">y</span><span class="op" id="3621851">.</span><span class="ident" id="3621852">SetInt64</span><span class="op" id="3621860">(</span><span class="num" id="3621861">0</span><span class="op" id="3621862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3621866">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621870">return</span>&nbsp;<span class="ident" id="3621877">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3621880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621883">if</span>&nbsp;<span class="ident" id="3621886">x</span>&nbsp;<span class="op" id="3621888">==</span>&nbsp;<span class="builtintype" id="3621891">nil</span>&nbsp;<span class="op" id="3621895">&amp;&amp;</span>&nbsp;<span class="ident" id="3621898">y</span>&nbsp;<span class="op" id="3621900">==</span>&nbsp;<span class="builtintype" id="3621903">nil</span>&nbsp;<span class="op" id="3621907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3621911">return</span>&nbsp;<span class="ident" id="3621918">z</span><span class="op" id="3621919">.</span><span class="ident" id="3621920">binaryGCD</span><span class="op" id="3621929">(</span><span class="ident" id="3621930">a</span><span class="op" id="3621931">,</span>&nbsp;<span class="ident" id="3621933">b</span><span class="op" id="3621934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3621937">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621941">A</span>&nbsp;<span class="op" id="3621943">:=</span>&nbsp;<span class="builtinfunc" id="3621946">new</span><span class="op" id="3621949">(</span><span class="ident" id="3621950">Int</span><span class="op" id="3621953">)</span><span class="op" id="3621954">.</span><span class="ident" id="3621955">Set</span><span class="op" id="3621958">(</span><span class="ident" id="3621959">a</span><span class="op" id="3621960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621963">B</span>&nbsp;<span class="op" id="3621965">:=</span>&nbsp;<span class="builtinfunc" id="3621968">new</span><span class="op" id="3621971">(</span><span class="ident" id="3621972">Int</span><span class="op" id="3621975">)</span><span class="op" id="3621976">.</span><span class="ident" id="3621977">Set</span><span class="op" id="3621980">(</span><span class="ident" id="3621981">b</span><span class="op" id="3621982">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3621986">X</span>&nbsp;<span class="op" id="3621988">:=</span>&nbsp;<span class="builtinfunc" id="3621991">new</span><span class="op" id="3621994">(</span><span class="ident" id="3621995">Int</span><span class="op" id="3621998">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622001">Y</span>&nbsp;<span class="op" id="3622003">:=</span>&nbsp;<span class="builtinfunc" id="3622006">new</span><span class="op" id="3622009">(</span><span class="ident" id="3622010">Int</span><span class="op" id="3622013">)</span><span class="op" id="3622014">.</span><span class="ident" id="3622015">SetInt64</span><span class="op" id="3622023">(</span><span class="num" id="3622024">1</span><span class="op" id="3622025">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622029">lastX</span>&nbsp;<span class="op" id="3622035">:=</span>&nbsp;<span class="builtinfunc" id="3622038">new</span><span class="op" id="3622041">(</span><span class="ident" id="3622042">Int</span><span class="op" id="3622045">)</span><span class="op" id="3622046">.</span><span class="ident" id="3622047">SetInt64</span><span class="op" id="3622055">(</span><span class="num" id="3622056">1</span><span class="op" id="3622057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622060">lastY</span>&nbsp;<span class="op" id="3622066">:=</span>&nbsp;<span class="builtinfunc" id="3622069">new</span><span class="op" id="3622072">(</span><span class="ident" id="3622073">Int</span><span class="op" id="3622076">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622080">q</span>&nbsp;<span class="op" id="3622082">:=</span>&nbsp;<span class="builtinfunc" id="3622085">new</span><span class="op" id="3622088">(</span><span class="ident" id="3622089">Int</span><span class="op" id="3622092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622095">temp</span>&nbsp;<span class="op" id="3622100">:=</span>&nbsp;<span class="builtinfunc" id="3622103">new</span><span class="op" id="3622106">(</span><span class="ident" id="3622107">Int</span><span class="op" id="3622110">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622114">for</span>&nbsp;<span class="builtinfunc" id="3622118">len</span><span class="op" id="3622121">(</span><span class="ident" id="3622122">B</span><span class="op" id="3622123">.</span><span class="ident" id="3622124">abs</span><span class="op" id="3622127">)</span>&nbsp;<span class="op" id="3622129">&gt;</span>&nbsp;<span class="num" id="3622131">0</span>&nbsp;<span class="op" id="3622133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622137">r</span>&nbsp;<span class="op" id="3622139">:=</span>&nbsp;<span class="builtinfunc" id="3622142">new</span><span class="op" id="3622145">(</span><span class="ident" id="3622146">Int</span><span class="op" id="3622149">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622153">q</span><span class="op" id="3622154">,</span>&nbsp;<span class="ident" id="3622156">r</span>&nbsp;<span class="op" id="3622158">=</span>&nbsp;<span class="ident" id="3622160">q</span><span class="op" id="3622161">.</span><span class="ident" id="3622162">QuoRem</span><span class="op" id="3622168">(</span><span class="ident" id="3622169">A</span><span class="op" id="3622170">,</span>&nbsp;<span class="ident" id="3622172">B</span><span class="op" id="3622173">,</span>&nbsp;<span class="ident" id="3622175">r</span><span class="op" id="3622176">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622181">A</span><span class="op" id="3622182">,</span>&nbsp;<span class="ident" id="3622184">B</span>&nbsp;<span class="op" id="3622186">=</span>&nbsp;<span class="ident" id="3622188">B</span><span class="op" id="3622189">,</span>&nbsp;<span class="ident" id="3622191">r</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622196">temp</span><span class="op" id="3622200">.</span><span class="ident" id="3622201">Set</span><span class="op" id="3622204">(</span><span class="ident" id="3622205">X</span><span class="op" id="3622206">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622210">X</span><span class="op" id="3622211">.</span><span class="ident" id="3622212">Mul</span><span class="op" id="3622215">(</span><span class="ident" id="3622216">X</span><span class="op" id="3622217">,</span>&nbsp;<span class="ident" id="3622219">q</span><span class="op" id="3622220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622224">X</span><span class="op" id="3622225">.</span><span class="ident" id="3622226">neg</span>&nbsp;<span class="op" id="3622230">=</span>&nbsp;<span class="op" id="3622232">!</span><span class="ident" id="3622233">X</span><span class="op" id="3622234">.</span><span class="ident" id="3622235">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622241">X</span><span class="op" id="3622242">.</span><span class="ident" id="3622243">Add</span><span class="op" id="3622246">(</span><span class="ident" id="3622247">X</span><span class="op" id="3622248">,</span>&nbsp;<span class="ident" id="3622250">lastX</span><span class="op" id="3622255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622259">lastX</span><span class="op" id="3622264">.</span><span class="ident" id="3622265">Set</span><span class="op" id="3622268">(</span><span class="ident" id="3622269">temp</span><span class="op" id="3622273">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622278">temp</span><span class="op" id="3622282">.</span><span class="ident" id="3622283">Set</span><span class="op" id="3622286">(</span><span class="ident" id="3622287">Y</span><span class="op" id="3622288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622292">Y</span><span class="op" id="3622293">.</span><span class="ident" id="3622294">Mul</span><span class="op" id="3622297">(</span><span class="ident" id="3622298">Y</span><span class="op" id="3622299">,</span>&nbsp;<span class="ident" id="3622301">q</span><span class="op" id="3622302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622306">Y</span><span class="op" id="3622307">.</span><span class="ident" id="3622308">neg</span>&nbsp;<span class="op" id="3622312">=</span>&nbsp;<span class="op" id="3622314">!</span><span class="ident" id="3622315">Y</span><span class="op" id="3622316">.</span><span class="ident" id="3622317">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622323">Y</span><span class="op" id="3622324">.</span><span class="ident" id="3622325">Add</span><span class="op" id="3622328">(</span><span class="ident" id="3622329">Y</span><span class="op" id="3622330">,</span>&nbsp;<span class="ident" id="3622332">lastY</span><span class="op" id="3622337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622341">lastY</span><span class="op" id="3622346">.</span><span class="ident" id="3622347">Set</span><span class="op" id="3622350">(</span><span class="ident" id="3622351">temp</span><span class="op" id="3622355">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622358">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622362">if</span>&nbsp;<span class="ident" id="3622365">x</span>&nbsp;<span class="op" id="3622367">!=</span>&nbsp;<span class="builtintype" id="3622370">nil</span>&nbsp;<span class="op" id="3622374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622378">*</span><span class="ident" id="3622379">x</span>&nbsp;<span class="op" id="3622381">=</span>&nbsp;<span class="op" id="3622383">*</span><span class="ident" id="3622384">lastX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622391">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622395">if</span>&nbsp;<span class="ident" id="3622398">y</span>&nbsp;<span class="op" id="3622400">!=</span>&nbsp;<span class="builtintype" id="3622403">nil</span>&nbsp;<span class="op" id="3622407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622411">*</span><span class="ident" id="3622412">y</span>&nbsp;<span class="op" id="3622414">=</span>&nbsp;<span class="op" id="3622416">*</span><span class="ident" id="3622417">lastY</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622428">*</span><span class="ident" id="3622429">z</span>&nbsp;<span class="op" id="3622431">=</span>&nbsp;<span class="op" id="3622433">*</span><span class="ident" id="3622434">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622437">return</span>&nbsp;<span class="ident" id="3622444">z</span><br>
<span class="lineno"></span><span class="op" id="3622446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3622449">//&nbsp;binaryGCD&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;greatest&nbsp;common&nbsp;divisor&nbsp;of&nbsp;a&nbsp;and&nbsp;b,&nbsp;which&nbsp;both&nbsp;must</span><br>
<span class="lineno">680</span><span class="comment" id="3622528">//&nbsp;be&nbsp;&gt;&nbsp;0,&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="comment" id="3622554">//&nbsp;See&nbsp;Knuth,&nbsp;The&nbsp;Art&nbsp;of&nbsp;Computer&nbsp;Programming,&nbsp;Vol.&nbsp;2,&nbsp;Section&nbsp;4.5.2,&nbsp;Algorithm&nbsp;B.</span><br>
<span class="lineno"></span><span class="keyword" id="3622637">func</span>&nbsp;<span class="op" id="3622642">(</span><span class="ident" id="3622643">z</span>&nbsp;<span class="op" id="3622645">*</span><span class="ident" id="3622646">Int</span><span class="op" id="3622649">)</span>&nbsp;<span class="ident" id="3622651">binaryGCD</span><span class="op" id="3622660">(</span><span class="ident" id="3622661">a</span><span class="op" id="3622662">,</span>&nbsp;<span class="ident" id="3622664">b</span>&nbsp;<span class="op" id="3622666">*</span><span class="ident" id="3622667">Int</span><span class="op" id="3622670">)</span>&nbsp;<span class="op" id="3622672">*</span><span class="ident" id="3622673">Int</span>&nbsp;<span class="op" id="3622677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622680">u</span>&nbsp;<span class="op" id="3622682">:=</span>&nbsp;<span class="ident" id="3622685">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622688">v</span>&nbsp;<span class="op" id="3622690">:=</span>&nbsp;<span class="builtinfunc" id="3622693">new</span><span class="op" id="3622696">(</span><span class="ident" id="3622697">Int</span><span class="op" id="3622700">)</span><br>
<span class="lineno">685</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3622704">//&nbsp;use&nbsp;one&nbsp;Euclidean&nbsp;iteration&nbsp;to&nbsp;ensure&nbsp;that&nbsp;u&nbsp;and&nbsp;v&nbsp;are&nbsp;approx.&nbsp;the&nbsp;same&nbsp;size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622785">switch</span>&nbsp;<span class="op" id="3622792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622795">case</span>&nbsp;<span class="builtinfunc" id="3622800">len</span><span class="op" id="3622803">(</span><span class="ident" id="3622804">a</span><span class="op" id="3622805">.</span><span class="ident" id="3622806">abs</span><span class="op" id="3622809">)</span>&nbsp;<span class="op" id="3622811">&gt;</span>&nbsp;<span class="builtinfunc" id="3622813">len</span><span class="op" id="3622816">(</span><span class="ident" id="3622817">b</span><span class="op" id="3622818">.</span><span class="ident" id="3622819">abs</span><span class="op" id="3622822">)</span><span class="op" id="3622823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622827">u</span><span class="op" id="3622828">.</span><span class="ident" id="3622829">Set</span><span class="op" id="3622832">(</span><span class="ident" id="3622833">b</span><span class="op" id="3622834">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622838">v</span><span class="op" id="3622839">.</span><span class="ident" id="3622840">Rem</span><span class="op" id="3622843">(</span><span class="ident" id="3622844">a</span><span class="op" id="3622845">,</span>&nbsp;<span class="ident" id="3622847">b</span><span class="op" id="3622848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622851">case</span>&nbsp;<span class="builtinfunc" id="3622856">len</span><span class="op" id="3622859">(</span><span class="ident" id="3622860">a</span><span class="op" id="3622861">.</span><span class="ident" id="3622862">abs</span><span class="op" id="3622865">)</span>&nbsp;<span class="op" id="3622867">&lt;</span>&nbsp;<span class="builtinfunc" id="3622869">len</span><span class="op" id="3622872">(</span><span class="ident" id="3622873">b</span><span class="op" id="3622874">.</span><span class="ident" id="3622875">abs</span><span class="op" id="3622878">)</span><span class="op" id="3622879">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622883">u</span><span class="op" id="3622884">.</span><span class="ident" id="3622885">Set</span><span class="op" id="3622888">(</span><span class="ident" id="3622889">a</span><span class="op" id="3622890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622894">v</span><span class="op" id="3622895">.</span><span class="ident" id="3622896">Rem</span><span class="op" id="3622899">(</span><span class="ident" id="3622900">b</span><span class="op" id="3622901">,</span>&nbsp;<span class="ident" id="3622903">a</span><span class="op" id="3622904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622907">default</span><span class="op" id="3622914">:</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622918">u</span><span class="op" id="3622919">.</span><span class="ident" id="3622920">Set</span><span class="op" id="3622923">(</span><span class="ident" id="3622924">a</span><span class="op" id="3622925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3622929">v</span><span class="op" id="3622930">.</span><span class="ident" id="3622931">Set</span><span class="op" id="3622934">(</span><span class="ident" id="3622935">b</span><span class="op" id="3622936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3622943">//&nbsp;v&nbsp;might&nbsp;be&nbsp;0&nbsp;now</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622964">if</span>&nbsp;<span class="builtinfunc" id="3622967">len</span><span class="op" id="3622970">(</span><span class="ident" id="3622971">v</span><span class="op" id="3622972">.</span><span class="ident" id="3622973">abs</span><span class="op" id="3622976">)</span>&nbsp;<span class="op" id="3622978">==</span>&nbsp;<span class="num" id="3622981">0</span>&nbsp;<span class="op" id="3622983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3622987">return</span>&nbsp;<span class="ident" id="3622994">u</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3622997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3623000">//&nbsp;u&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;v&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3623020">//&nbsp;determine&nbsp;largest&nbsp;k&nbsp;such&nbsp;that&nbsp;u&nbsp;=&nbsp;u&#39;&nbsp;&lt;&lt;&nbsp;k,&nbsp;v&nbsp;=&nbsp;v&#39;&nbsp;&lt;&lt;&nbsp;k</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623079">k</span>&nbsp;<span class="op" id="3623081">:=</span>&nbsp;<span class="ident" id="3623084">u</span><span class="op" id="3623085">.</span><span class="ident" id="3623086">abs</span><span class="op" id="3623089">.</span><span class="ident" id="3623090">trailingZeroBits</span><span class="op" id="3623106">(</span><span class="op" id="3623107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623110">if</span>&nbsp;<span class="ident" id="3623113">vk</span>&nbsp;<span class="op" id="3623116">:=</span>&nbsp;<span class="ident" id="3623119">v</span><span class="op" id="3623120">.</span><span class="ident" id="3623121">abs</span><span class="op" id="3623124">.</span><span class="ident" id="3623125">trailingZeroBits</span><span class="op" id="3623141">(</span><span class="op" id="3623142">)</span><span class="op" id="3623143">;</span>&nbsp;<span class="ident" id="3623145">vk</span>&nbsp;<span class="op" id="3623148">&lt;</span>&nbsp;<span class="ident" id="3623150">k</span>&nbsp;<span class="op" id="3623152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623156">k</span>&nbsp;<span class="op" id="3623158">=</span>&nbsp;<span class="ident" id="3623160">vk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3623164">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623167">u</span><span class="op" id="3623168">.</span><span class="ident" id="3623169">Rsh</span><span class="op" id="3623172">(</span><span class="ident" id="3623173">u</span><span class="op" id="3623174">,</span>&nbsp;<span class="ident" id="3623176">k</span><span class="op" id="3623177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623180">v</span><span class="op" id="3623181">.</span><span class="ident" id="3623182">Rsh</span><span class="op" id="3623185">(</span><span class="ident" id="3623186">v</span><span class="op" id="3623187">,</span>&nbsp;<span class="ident" id="3623189">k</span><span class="op" id="3623190">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3623194">//&nbsp;determine&nbsp;t&nbsp;(we&nbsp;know&nbsp;that&nbsp;u&nbsp;&gt;&nbsp;0)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623231">t</span>&nbsp;<span class="op" id="3623233">:=</span>&nbsp;<span class="builtinfunc" id="3623236">new</span><span class="op" id="3623239">(</span><span class="ident" id="3623240">Int</span><span class="op" id="3623243">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623246">if</span>&nbsp;<span class="ident" id="3623249">u</span><span class="op" id="3623250">.</span><span class="ident" id="3623251">abs</span><span class="op" id="3623254">[</span><span class="num" id="3623255">0</span><span class="op" id="3623256">]</span><span class="op" id="3623257">&amp;</span><span class="num" id="3623258">1</span>&nbsp;<span class="op" id="3623260">!=</span>&nbsp;<span class="num" id="3623263">0</span>&nbsp;<span class="op" id="3623265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3623269">//&nbsp;u&nbsp;is&nbsp;odd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623283">t</span><span class="op" id="3623284">.</span><span class="ident" id="3623285">Neg</span><span class="op" id="3623288">(</span><span class="ident" id="3623289">v</span><span class="op" id="3623290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3623293">}</span>&nbsp;<span class="keyword" id="3623295">else</span>&nbsp;<span class="op" id="3623300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623304">t</span><span class="op" id="3623305">.</span><span class="ident" id="3623306">Set</span><span class="op" id="3623309">(</span><span class="ident" id="3623310">u</span><span class="op" id="3623311">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3623314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623318">for</span>&nbsp;<span class="builtinfunc" id="3623322">len</span><span class="op" id="3623325">(</span><span class="ident" id="3623326">t</span><span class="op" id="3623327">.</span><span class="ident" id="3623328">abs</span><span class="op" id="3623331">)</span>&nbsp;<span class="op" id="3623333">&gt;</span>&nbsp;<span class="num" id="3623335">0</span>&nbsp;<span class="op" id="3623337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3623341">//&nbsp;reduce&nbsp;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623355">t</span><span class="op" id="3623356">.</span><span class="ident" id="3623357">Rsh</span><span class="op" id="3623360">(</span><span class="ident" id="3623361">t</span><span class="op" id="3623362">,</span>&nbsp;<span class="ident" id="3623364">t</span><span class="op" id="3623365">.</span><span class="ident" id="3623366">abs</span><span class="op" id="3623369">.</span><span class="ident" id="3623370">trailingZeroBits</span><span class="op" id="3623386">(</span><span class="op" id="3623387">)</span><span class="op" id="3623388">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623392">if</span>&nbsp;<span class="ident" id="3623395">t</span><span class="op" id="3623396">.</span><span class="ident" id="3623397">neg</span>&nbsp;<span class="op" id="3623401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623406">v</span><span class="op" id="3623407">,</span>&nbsp;<span class="ident" id="3623409">t</span>&nbsp;<span class="op" id="3623411">=</span>&nbsp;<span class="ident" id="3623413">t</span><span class="op" id="3623414">,</span>&nbsp;<span class="ident" id="3623416">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623421">v</span><span class="op" id="3623422">.</span><span class="ident" id="3623423">neg</span>&nbsp;<span class="op" id="3623427">=</span>&nbsp;<span class="builtinfunc" id="3623429">len</span><span class="op" id="3623432">(</span><span class="ident" id="3623433">v</span><span class="op" id="3623434">.</span><span class="ident" id="3623435">abs</span><span class="op" id="3623438">)</span>&nbsp;<span class="op" id="3623440">&gt;</span>&nbsp;<span class="num" id="3623442">0</span>&nbsp;<span class="op" id="3623444">&amp;&amp;</span>&nbsp;<span class="op" id="3623447">!</span><span class="ident" id="3623448">v</span><span class="op" id="3623449">.</span><span class="ident" id="3623450">neg</span>&nbsp;<span class="comment" id="3623454">//&nbsp;0&nbsp;has&nbsp;no&nbsp;sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3623473">}</span>&nbsp;<span class="keyword" id="3623475">else</span>&nbsp;<span class="op" id="3623480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623485">u</span><span class="op" id="3623486">,</span>&nbsp;<span class="ident" id="3623488">t</span>&nbsp;<span class="op" id="3623490">=</span>&nbsp;<span class="ident" id="3623492">t</span><span class="op" id="3623493">,</span>&nbsp;<span class="ident" id="3623495">u</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3623499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623503">t</span><span class="op" id="3623504">.</span><span class="ident" id="3623505">Sub</span><span class="op" id="3623508">(</span><span class="ident" id="3623509">u</span><span class="op" id="3623510">,</span>&nbsp;<span class="ident" id="3623512">v</span><span class="op" id="3623513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3623516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623520">return</span>&nbsp;<span class="ident" id="3623527">z</span><span class="op" id="3623528">.</span><span class="ident" id="3623529">Lsh</span><span class="op" id="3623532">(</span><span class="ident" id="3623533">u</span><span class="op" id="3623534">,</span>&nbsp;<span class="ident" id="3623536">k</span><span class="op" id="3623537">)</span><br>
<span class="lineno">735</span><span class="op" id="3623539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3623542">//&nbsp;ProbablyPrime&nbsp;performs&nbsp;n&nbsp;Miller-Rabin&nbsp;tests&nbsp;to&nbsp;check&nbsp;whether&nbsp;x&nbsp;is&nbsp;prime.</span><br>
<span class="lineno"></span><span class="comment" id="3623618">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;true,&nbsp;x&nbsp;is&nbsp;prime&nbsp;with&nbsp;probability&nbsp;1&nbsp;-&nbsp;1/4^n.</span><br>
<span class="lineno"></span><span class="comment" id="3623680">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;false,&nbsp;x&nbsp;is&nbsp;not&nbsp;prime.</span><br>
<span class="lineno">740</span><span class="keyword" id="3623720">func</span>&nbsp;<span class="op" id="3623725">(</span><span class="ident" id="3623726">x</span>&nbsp;<span class="op" id="3623728">*</span><span class="ident" id="3623729">Int</span><span class="op" id="3623732">)</span>&nbsp;<span class="ident" id="3623734">ProbablyPrime</span><span class="op" id="3623747">(</span><span class="ident" id="3623748">n</span>&nbsp;<span class="builtintype" id="3623750">int</span><span class="op" id="3623753">)</span>&nbsp;<span class="builtintype" id="3623755">bool</span>&nbsp;<span class="op" id="3623760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623763">return</span>&nbsp;<span class="op" id="3623770">!</span><span class="ident" id="3623771">x</span><span class="op" id="3623772">.</span><span class="ident" id="3623773">neg</span>&nbsp;<span class="op" id="3623777">&amp;&amp;</span>&nbsp;<span class="ident" id="3623780">x</span><span class="op" id="3623781">.</span><span class="ident" id="3623782">abs</span><span class="op" id="3623785">.</span><span class="ident" id="3623786">probablyPrime</span><span class="op" id="3623799">(</span><span class="ident" id="3623800">n</span><span class="op" id="3623801">)</span><br>
<span class="lineno"></span><span class="op" id="3623803">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3623806">//&nbsp;Rand&nbsp;sets&nbsp;z&nbsp;to&nbsp;a&nbsp;pseudo-random&nbsp;number&nbsp;in&nbsp;[0,&nbsp;n)&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">745</span><span class="keyword" id="3623872">func</span>&nbsp;<span class="op" id="3623877">(</span><span class="ident" id="3623878">z</span>&nbsp;<span class="op" id="3623880">*</span><span class="ident" id="3623881">Int</span><span class="op" id="3623884">)</span>&nbsp;<span class="ident" id="3623886">Rand</span><span class="op" id="3623890">(</span><span class="ident" id="3623891">rnd</span>&nbsp;<span class="op" id="3623895">*</span><span class="ident" id="3623896">rand</span><span class="op" id="3623900">.</span><span class="ident" id="3623901">Rand</span><span class="op" id="3623905">,</span>&nbsp;<span class="ident" id="3623907">n</span>&nbsp;<span class="op" id="3623909">*</span><span class="ident" id="3623910">Int</span><span class="op" id="3623913">)</span>&nbsp;<span class="op" id="3623915">*</span><span class="ident" id="3623916">Int</span>&nbsp;<span class="op" id="3623920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623923">z</span><span class="op" id="3623924">.</span><span class="ident" id="3623925">neg</span>&nbsp;<span class="op" id="3623929">=</span>&nbsp;<span class="builtintype" id="3623931">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623938">if</span>&nbsp;<span class="ident" id="3623941">n</span><span class="op" id="3623942">.</span><span class="ident" id="3623943">neg</span>&nbsp;<span class="op" id="3623947">==</span>&nbsp;<span class="builtintype" id="3623950">true</span>&nbsp;<span class="op" id="3623955">||</span>&nbsp;<span class="builtinfunc" id="3623958">len</span><span class="op" id="3623961">(</span><span class="ident" id="3623962">n</span><span class="op" id="3623963">.</span><span class="ident" id="3623964">abs</span><span class="op" id="3623967">)</span>&nbsp;<span class="op" id="3623969">==</span>&nbsp;<span class="num" id="3623972">0</span>&nbsp;<span class="op" id="3623974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3623978">z</span><span class="op" id="3623979">.</span><span class="ident" id="3623980">abs</span>&nbsp;<span class="op" id="3623984">=</span>&nbsp;<span class="builtintype" id="3623986">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3623992">return</span>&nbsp;<span class="ident" id="3623999">z</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3624002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624005">z</span><span class="op" id="3624006">.</span><span class="ident" id="3624007">abs</span>&nbsp;<span class="op" id="3624011">=</span>&nbsp;<span class="ident" id="3624013">z</span><span class="op" id="3624014">.</span><span class="ident" id="3624015">abs</span><span class="op" id="3624018">.</span><span class="ident" id="3624019">random</span><span class="op" id="3624025">(</span><span class="ident" id="3624026">rnd</span><span class="op" id="3624029">,</span>&nbsp;<span class="ident" id="3624031">n</span><span class="op" id="3624032">.</span><span class="ident" id="3624033">abs</span><span class="op" id="3624036">,</span>&nbsp;<span class="ident" id="3624038">n</span><span class="op" id="3624039">.</span><span class="ident" id="3624040">abs</span><span class="op" id="3624043">.</span><span class="ident" id="3624044">bitLen</span><span class="op" id="3624050">(</span><span class="op" id="3624051">)</span><span class="op" id="3624052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3624055">return</span>&nbsp;<span class="ident" id="3624062">z</span><br>
<span class="lineno"></span><span class="op" id="3624064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">755</span><span class="comment" id="3624067">//&nbsp;ModInverse&nbsp;sets&nbsp;z&nbsp;to&nbsp;the&nbsp;multiplicative&nbsp;inverse&nbsp;of&nbsp;g&nbsp;in&nbsp;the&nbsp;ring&nbsp;/n</span><br>
<span class="lineno"></span><span class="comment" id="3624144">//&nbsp;and&nbsp;returns&nbsp;z.&nbsp;If&nbsp;g&nbsp;and&nbsp;n&nbsp;are&nbsp;not&nbsp;relatively&nbsp;prime,&nbsp;the&nbsp;result&nbsp;is&nbsp;undefined.</span><br>
<span class="lineno"></span><span class="keyword" id="3624224">func</span>&nbsp;<span class="op" id="3624229">(</span><span class="ident" id="3624230">z</span>&nbsp;<span class="op" id="3624232">*</span><span class="ident" id="3624233">Int</span><span class="op" id="3624236">)</span>&nbsp;<span class="ident" id="3624238">ModInverse</span><span class="op" id="3624248">(</span><span class="ident" id="3624249">g</span><span class="op" id="3624250">,</span>&nbsp;<span class="ident" id="3624252">n</span>&nbsp;<span class="op" id="3624254">*</span><span class="ident" id="3624255">Int</span><span class="op" id="3624258">)</span>&nbsp;<span class="op" id="3624260">*</span><span class="ident" id="3624261">Int</span>&nbsp;<span class="op" id="3624265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3624268">var</span>&nbsp;<span class="ident" id="3624272">d</span>&nbsp;<span class="ident" id="3624274">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624279">d</span><span class="op" id="3624280">.</span><span class="ident" id="3624281">GCD</span><span class="op" id="3624284">(</span><span class="ident" id="3624285">z</span><span class="op" id="3624286">,</span>&nbsp;<span class="builtintype" id="3624288">nil</span><span class="op" id="3624291">,</span>&nbsp;<span class="ident" id="3624293">g</span><span class="op" id="3624294">,</span>&nbsp;<span class="ident" id="3624296">n</span><span class="op" id="3624297">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3624300">//&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;such&nbsp;that&nbsp;g*x&nbsp;+&nbsp;n*y&nbsp;=&nbsp;d.&nbsp;Since&nbsp;g&nbsp;and&nbsp;n&nbsp;are</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3624359">//&nbsp;relatively&nbsp;prime,&nbsp;d&nbsp;=&nbsp;1.&nbsp;Taking&nbsp;that&nbsp;modulo&nbsp;n&nbsp;results&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3624420">//&nbsp;g*x&nbsp;=&nbsp;1,&nbsp;therefore&nbsp;x&nbsp;is&nbsp;the&nbsp;inverse&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3624469">if</span>&nbsp;<span class="ident" id="3624472">z</span><span class="op" id="3624473">.</span><span class="ident" id="3624474">neg</span>&nbsp;<span class="op" id="3624478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624482">z</span><span class="op" id="3624483">.</span><span class="ident" id="3624484">Add</span><span class="op" id="3624487">(</span><span class="ident" id="3624488">z</span><span class="op" id="3624489">,</span>&nbsp;<span class="ident" id="3624491">n</span><span class="op" id="3624492">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3624495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3624498">return</span>&nbsp;<span class="ident" id="3624505">z</span><br>
<span class="lineno"></span><span class="op" id="3624507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3624510">//&nbsp;Lsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&lt;&lt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno">770</span><span class="keyword" id="3624548">func</span>&nbsp;<span class="op" id="3624553">(</span><span class="ident" id="3624554">z</span>&nbsp;<span class="op" id="3624556">*</span><span class="ident" id="3624557">Int</span><span class="op" id="3624560">)</span>&nbsp;<span class="ident" id="3624562">Lsh</span><span class="op" id="3624565">(</span><span class="ident" id="3624566">x</span>&nbsp;<span class="op" id="3624568">*</span><span class="ident" id="3624569">Int</span><span class="op" id="3624572">,</span>&nbsp;<span class="ident" id="3624574">n</span>&nbsp;<span class="builtintype" id="3624576">uint</span><span class="op" id="3624580">)</span>&nbsp;<span class="op" id="3624582">*</span><span class="ident" id="3624583">Int</span>&nbsp;<span class="op" id="3624587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624590">z</span><span class="op" id="3624591">.</span><span class="ident" id="3624592">abs</span>&nbsp;<span class="op" id="3624596">=</span>&nbsp;<span class="ident" id="3624598">z</span><span class="op" id="3624599">.</span><span class="ident" id="3624600">abs</span><span class="op" id="3624603">.</span><span class="ident" id="3624604">shl</span><span class="op" id="3624607">(</span><span class="ident" id="3624608">x</span><span class="op" id="3624609">.</span><span class="ident" id="3624610">abs</span><span class="op" id="3624613">,</span>&nbsp;<span class="ident" id="3624615">n</span><span class="op" id="3624616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624619">z</span><span class="op" id="3624620">.</span><span class="ident" id="3624621">neg</span>&nbsp;<span class="op" id="3624625">=</span>&nbsp;<span class="ident" id="3624627">x</span><span class="op" id="3624628">.</span><span class="ident" id="3624629">neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3624634">return</span>&nbsp;<span class="ident" id="3624641">z</span><br>
<span class="lineno"></span><span class="op" id="3624643">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span><span class="comment" id="3624646">//&nbsp;Rsh&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&gt;&gt;&nbsp;n&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3624684">func</span>&nbsp;<span class="op" id="3624689">(</span><span class="ident" id="3624690">z</span>&nbsp;<span class="op" id="3624692">*</span><span class="ident" id="3624693">Int</span><span class="op" id="3624696">)</span>&nbsp;<span class="ident" id="3624698">Rsh</span><span class="op" id="3624701">(</span><span class="ident" id="3624702">x</span>&nbsp;<span class="op" id="3624704">*</span><span class="ident" id="3624705">Int</span><span class="op" id="3624708">,</span>&nbsp;<span class="ident" id="3624710">n</span>&nbsp;<span class="builtintype" id="3624712">uint</span><span class="op" id="3624716">)</span>&nbsp;<span class="op" id="3624718">*</span><span class="ident" id="3624719">Int</span>&nbsp;<span class="op" id="3624723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3624726">if</span>&nbsp;<span class="ident" id="3624729">x</span><span class="op" id="3624730">.</span><span class="ident" id="3624731">neg</span>&nbsp;<span class="op" id="3624735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3624739">//&nbsp;(-x)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^(x-1)&nbsp;&gt;&gt;&nbsp;s&nbsp;==&nbsp;^((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;==&nbsp;-(((x-1)&nbsp;&gt;&gt;&nbsp;s)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624809">t</span>&nbsp;<span class="op" id="3624811">:=</span>&nbsp;<span class="ident" id="3624814">z</span><span class="op" id="3624815">.</span><span class="ident" id="3624816">abs</span><span class="op" id="3624819">.</span><span class="ident" id="3624820">sub</span><span class="op" id="3624823">(</span><span class="ident" id="3624824">x</span><span class="op" id="3624825">.</span><span class="ident" id="3624826">abs</span><span class="op" id="3624829">,</span>&nbsp;<span class="ident" id="3624831">natOne</span><span class="op" id="3624837">)</span>&nbsp;<span class="comment" id="3624839">//&nbsp;no&nbsp;underflow&nbsp;because&nbsp;|x|&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624873">t</span>&nbsp;<span class="op" id="3624875">=</span>&nbsp;<span class="ident" id="3624877">t</span><span class="op" id="3624878">.</span><span class="ident" id="3624879">shr</span><span class="op" id="3624882">(</span><span class="ident" id="3624883">t</span><span class="op" id="3624884">,</span>&nbsp;<span class="ident" id="3624886">n</span><span class="op" id="3624887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624891">z</span><span class="op" id="3624892">.</span><span class="ident" id="3624893">abs</span>&nbsp;<span class="op" id="3624897">=</span>&nbsp;<span class="ident" id="3624899">t</span><span class="op" id="3624900">.</span><span class="ident" id="3624901">add</span><span class="op" id="3624904">(</span><span class="ident" id="3624905">t</span><span class="op" id="3624906">,</span>&nbsp;<span class="ident" id="3624908">natOne</span><span class="op" id="3624914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624918">z</span><span class="op" id="3624919">.</span><span class="ident" id="3624920">neg</span>&nbsp;<span class="op" id="3624924">=</span>&nbsp;<span class="builtintype" id="3624926">true</span>&nbsp;<span class="comment" id="3624931">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3624970">return</span>&nbsp;<span class="ident" id="3624977">z</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3624980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3624984">z</span><span class="op" id="3624985">.</span><span class="ident" id="3624986">abs</span>&nbsp;<span class="op" id="3624990">=</span>&nbsp;<span class="ident" id="3624992">z</span><span class="op" id="3624993">.</span><span class="ident" id="3624994">abs</span><span class="op" id="3624997">.</span><span class="ident" id="3624998">shr</span><span class="op" id="3625001">(</span><span class="ident" id="3625002">x</span><span class="op" id="3625003">.</span><span class="ident" id="3625004">abs</span><span class="op" id="3625007">,</span>&nbsp;<span class="ident" id="3625009">n</span><span class="op" id="3625010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625013">z</span><span class="op" id="3625014">.</span><span class="ident" id="3625015">neg</span>&nbsp;<span class="op" id="3625019">=</span>&nbsp;<span class="builtintype" id="3625021">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625028">return</span>&nbsp;<span class="ident" id="3625035">z</span><br>
<span class="lineno">790</span><span class="op" id="3625037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3625040">//&nbsp;Bit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;i&#39;th&nbsp;bit&nbsp;of&nbsp;x.&nbsp;That&nbsp;is,&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="3625099">//&nbsp;returns&nbsp;(x&gt;&gt;i)&amp;1.&nbsp;The&nbsp;bit&nbsp;index&nbsp;i&nbsp;must&nbsp;be&nbsp;&gt;=&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="3625150">func</span>&nbsp;<span class="op" id="3625155">(</span><span class="ident" id="3625156">x</span>&nbsp;<span class="op" id="3625158">*</span><span class="ident" id="3625159">Int</span><span class="op" id="3625162">)</span>&nbsp;<span class="ident" id="3625164">Bit</span><span class="op" id="3625167">(</span><span class="ident" id="3625168">i</span>&nbsp;<span class="builtintype" id="3625170">int</span><span class="op" id="3625173">)</span>&nbsp;<span class="builtintype" id="3625175">uint</span>&nbsp;<span class="op" id="3625180">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625183">if</span>&nbsp;<span class="ident" id="3625186">i</span>&nbsp;<span class="op" id="3625188">==</span>&nbsp;<span class="num" id="3625191">0</span>&nbsp;<span class="op" id="3625193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3625197">//&nbsp;optimization&nbsp;for&nbsp;common&nbsp;case:&nbsp;odd/even&nbsp;test&nbsp;of&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625251">if</span>&nbsp;<span class="builtinfunc" id="3625254">len</span><span class="op" id="3625257">(</span><span class="ident" id="3625258">x</span><span class="op" id="3625259">.</span><span class="ident" id="3625260">abs</span><span class="op" id="3625263">)</span>&nbsp;<span class="op" id="3625265">&gt;</span>&nbsp;<span class="num" id="3625267">0</span>&nbsp;<span class="op" id="3625269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625274">return</span>&nbsp;<span class="builtintype" id="3625281">uint</span><span class="op" id="3625285">(</span><span class="ident" id="3625286">x</span><span class="op" id="3625287">.</span><span class="ident" id="3625288">abs</span><span class="op" id="3625291">[</span><span class="num" id="3625292">0</span><span class="op" id="3625293">]</span>&nbsp;<span class="op" id="3625295">&amp;</span>&nbsp;<span class="num" id="3625297">1</span><span class="op" id="3625298">)</span>&nbsp;<span class="comment" id="3625300">//&nbsp;bit&nbsp;0&nbsp;is&nbsp;same&nbsp;for&nbsp;-x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3625326">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625330">return</span>&nbsp;<span class="num" id="3625337">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3625340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625343">if</span>&nbsp;<span class="ident" id="3625346">i</span>&nbsp;<span class="op" id="3625348">&lt;</span>&nbsp;<span class="num" id="3625350">0</span>&nbsp;<span class="op" id="3625352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3625356">panic</span><span class="op" id="3625361">(</span><span class="string" id="3625362">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3625382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3625385">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625388">if</span>&nbsp;<span class="ident" id="3625391">x</span><span class="op" id="3625392">.</span><span class="ident" id="3625393">neg</span>&nbsp;<span class="op" id="3625397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625401">t</span>&nbsp;<span class="op" id="3625403">:=</span>&nbsp;<span class="ident" id="3625406">nat</span><span class="op" id="3625409">(</span><span class="builtintype" id="3625410">nil</span><span class="op" id="3625413">)</span><span class="op" id="3625414">.</span><span class="ident" id="3625415">sub</span><span class="op" id="3625418">(</span><span class="ident" id="3625419">x</span><span class="op" id="3625420">.</span><span class="ident" id="3625421">abs</span><span class="op" id="3625424">,</span>&nbsp;<span class="ident" id="3625426">natOne</span><span class="op" id="3625432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625436">return</span>&nbsp;<span class="ident" id="3625443">t</span><span class="op" id="3625444">.</span><span class="ident" id="3625445">bit</span><span class="op" id="3625448">(</span><span class="builtintype" id="3625449">uint</span><span class="op" id="3625453">(</span><span class="ident" id="3625454">i</span><span class="op" id="3625455">)</span><span class="op" id="3625456">)</span>&nbsp;<span class="op" id="3625458">^</span>&nbsp;<span class="num" id="3625460">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3625463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625467">return</span>&nbsp;<span class="ident" id="3625474">x</span><span class="op" id="3625475">.</span><span class="ident" id="3625476">abs</span><span class="op" id="3625479">.</span><span class="ident" id="3625480">bit</span><span class="op" id="3625483">(</span><span class="builtintype" id="3625484">uint</span><span class="op" id="3625488">(</span><span class="ident" id="3625489">i</span><span class="op" id="3625490">)</span><span class="op" id="3625491">)</span><br>
<span class="lineno"></span><span class="op" id="3625493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3625496">//&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;to&nbsp;x,&nbsp;with&nbsp;x&#39;s&nbsp;i&#39;th&nbsp;bit&nbsp;set&nbsp;to&nbsp;b&nbsp;(0&nbsp;or&nbsp;1).</span><br>
<span class="lineno"></span><span class="comment" id="3625556">//&nbsp;That&nbsp;is,&nbsp;if&nbsp;b&nbsp;is&nbsp;1&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;(1&nbsp;&lt;&lt;&nbsp;i);</span><br>
<span class="lineno">815</span><span class="comment" id="3625608">//&nbsp;if&nbsp;b&nbsp;is&nbsp;0&nbsp;SetBit&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;(1&nbsp;&lt;&lt;&nbsp;i).&nbsp;If&nbsp;b&nbsp;is&nbsp;not&nbsp;0&nbsp;or&nbsp;1,</span><br>
<span class="lineno"></span><span class="comment" id="3625672">//&nbsp;SetBit&nbsp;will&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="3625694">func</span>&nbsp;<span class="op" id="3625699">(</span><span class="ident" id="3625700">z</span>&nbsp;<span class="op" id="3625702">*</span><span class="ident" id="3625703">Int</span><span class="op" id="3625706">)</span>&nbsp;<span class="ident" id="3625708">SetBit</span><span class="op" id="3625714">(</span><span class="ident" id="3625715">x</span>&nbsp;<span class="op" id="3625717">*</span><span class="ident" id="3625718">Int</span><span class="op" id="3625721">,</span>&nbsp;<span class="ident" id="3625723">i</span>&nbsp;<span class="builtintype" id="3625725">int</span><span class="op" id="3625728">,</span>&nbsp;<span class="ident" id="3625730">b</span>&nbsp;<span class="builtintype" id="3625732">uint</span><span class="op" id="3625736">)</span>&nbsp;<span class="op" id="3625738">*</span><span class="ident" id="3625739">Int</span>&nbsp;<span class="op" id="3625743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625746">if</span>&nbsp;<span class="ident" id="3625749">i</span>&nbsp;<span class="op" id="3625751">&lt;</span>&nbsp;<span class="num" id="3625753">0</span>&nbsp;<span class="op" id="3625755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3625759">panic</span><span class="op" id="3625764">(</span><span class="string" id="3625765">&#34;negative&nbsp;bit&nbsp;index&#34;</span><span class="op" id="3625785">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3625788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625791">if</span>&nbsp;<span class="ident" id="3625794">x</span><span class="op" id="3625795">.</span><span class="ident" id="3625796">neg</span>&nbsp;<span class="op" id="3625800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625804">t</span>&nbsp;<span class="op" id="3625806">:=</span>&nbsp;<span class="ident" id="3625809">z</span><span class="op" id="3625810">.</span><span class="ident" id="3625811">abs</span><span class="op" id="3625814">.</span><span class="ident" id="3625815">sub</span><span class="op" id="3625818">(</span><span class="ident" id="3625819">x</span><span class="op" id="3625820">.</span><span class="ident" id="3625821">abs</span><span class="op" id="3625824">,</span>&nbsp;<span class="ident" id="3625826">natOne</span><span class="op" id="3625832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625836">t</span>&nbsp;<span class="op" id="3625838">=</span>&nbsp;<span class="ident" id="3625840">t</span><span class="op" id="3625841">.</span><span class="ident" id="3625842">setBit</span><span class="op" id="3625848">(</span><span class="ident" id="3625849">t</span><span class="op" id="3625850">,</span>&nbsp;<span class="builtintype" id="3625852">uint</span><span class="op" id="3625856">(</span><span class="ident" id="3625857">i</span><span class="op" id="3625858">)</span><span class="op" id="3625859">,</span>&nbsp;<span class="ident" id="3625861">b</span><span class="op" id="3625862">^</span><span class="num" id="3625863">1</span><span class="op" id="3625864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625868">z</span><span class="op" id="3625869">.</span><span class="ident" id="3625870">abs</span>&nbsp;<span class="op" id="3625874">=</span>&nbsp;<span class="ident" id="3625876">t</span><span class="op" id="3625877">.</span><span class="ident" id="3625878">add</span><span class="op" id="3625881">(</span><span class="ident" id="3625882">t</span><span class="op" id="3625883">,</span>&nbsp;<span class="ident" id="3625885">natOne</span><span class="op" id="3625891">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625895">z</span><span class="op" id="3625896">.</span><span class="ident" id="3625897">neg</span>&nbsp;<span class="op" id="3625901">=</span>&nbsp;<span class="builtinfunc" id="3625903">len</span><span class="op" id="3625906">(</span><span class="ident" id="3625907">z</span><span class="op" id="3625908">.</span><span class="ident" id="3625909">abs</span><span class="op" id="3625912">)</span>&nbsp;<span class="op" id="3625914">&gt;</span>&nbsp;<span class="num" id="3625916">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625920">return</span>&nbsp;<span class="ident" id="3625927">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3625930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625933">z</span><span class="op" id="3625934">.</span><span class="ident" id="3625935">abs</span>&nbsp;<span class="op" id="3625939">=</span>&nbsp;<span class="ident" id="3625941">z</span><span class="op" id="3625942">.</span><span class="ident" id="3625943">abs</span><span class="op" id="3625946">.</span><span class="ident" id="3625947">setBit</span><span class="op" id="3625953">(</span><span class="ident" id="3625954">x</span><span class="op" id="3625955">.</span><span class="ident" id="3625956">abs</span><span class="op" id="3625959">,</span>&nbsp;<span class="builtintype" id="3625961">uint</span><span class="op" id="3625965">(</span><span class="ident" id="3625966">i</span><span class="op" id="3625967">)</span><span class="op" id="3625968">,</span>&nbsp;<span class="ident" id="3625970">b</span><span class="op" id="3625971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3625974">z</span><span class="op" id="3625975">.</span><span class="ident" id="3625976">neg</span>&nbsp;<span class="op" id="3625980">=</span>&nbsp;<span class="builtintype" id="3625982">false</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3625989">return</span>&nbsp;<span class="ident" id="3625996">z</span><br>
<span class="lineno"></span><span class="op" id="3625998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3626001">//&nbsp;And&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3626038">func</span>&nbsp;<span class="op" id="3626043">(</span><span class="ident" id="3626044">z</span>&nbsp;<span class="op" id="3626046">*</span><span class="ident" id="3626047">Int</span><span class="op" id="3626050">)</span>&nbsp;<span class="ident" id="3626052">And</span><span class="op" id="3626055">(</span><span class="ident" id="3626056">x</span><span class="op" id="3626057">,</span>&nbsp;<span class="ident" id="3626059">y</span>&nbsp;<span class="op" id="3626061">*</span><span class="ident" id="3626062">Int</span><span class="op" id="3626065">)</span>&nbsp;<span class="op" id="3626067">*</span><span class="ident" id="3626068">Int</span>&nbsp;<span class="op" id="3626072">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626075">if</span>&nbsp;<span class="ident" id="3626078">x</span><span class="op" id="3626079">.</span><span class="ident" id="3626080">neg</span>&nbsp;<span class="op" id="3626084">==</span>&nbsp;<span class="ident" id="3626087">y</span><span class="op" id="3626088">.</span><span class="ident" id="3626089">neg</span>&nbsp;<span class="op" id="3626093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626097">if</span>&nbsp;<span class="ident" id="3626100">x</span><span class="op" id="3626101">.</span><span class="ident" id="3626102">neg</span>&nbsp;<span class="op" id="3626106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3626111">//&nbsp;(-x)&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626194">x1</span>&nbsp;<span class="op" id="3626197">:=</span>&nbsp;<span class="ident" id="3626200">nat</span><span class="op" id="3626203">(</span><span class="builtintype" id="3626204">nil</span><span class="op" id="3626207">)</span><span class="op" id="3626208">.</span><span class="ident" id="3626209">sub</span><span class="op" id="3626212">(</span><span class="ident" id="3626213">x</span><span class="op" id="3626214">.</span><span class="ident" id="3626215">abs</span><span class="op" id="3626218">,</span>&nbsp;<span class="ident" id="3626220">natOne</span><span class="op" id="3626226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626231">y1</span>&nbsp;<span class="op" id="3626234">:=</span>&nbsp;<span class="ident" id="3626237">nat</span><span class="op" id="3626240">(</span><span class="builtintype" id="3626241">nil</span><span class="op" id="3626244">)</span><span class="op" id="3626245">.</span><span class="ident" id="3626246">sub</span><span class="op" id="3626249">(</span><span class="ident" id="3626250">y</span><span class="op" id="3626251">.</span><span class="ident" id="3626252">abs</span><span class="op" id="3626255">,</span>&nbsp;<span class="ident" id="3626257">natOne</span><span class="op" id="3626263">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626268">z</span><span class="op" id="3626269">.</span><span class="ident" id="3626270">abs</span>&nbsp;<span class="op" id="3626274">=</span>&nbsp;<span class="ident" id="3626276">z</span><span class="op" id="3626277">.</span><span class="ident" id="3626278">abs</span><span class="op" id="3626281">.</span><span class="ident" id="3626282">add</span><span class="op" id="3626285">(</span><span class="ident" id="3626286">z</span><span class="op" id="3626287">.</span><span class="ident" id="3626288">abs</span><span class="op" id="3626291">.</span><span class="ident" id="3626292">or</span><span class="op" id="3626294">(</span><span class="ident" id="3626295">x1</span><span class="op" id="3626297">,</span>&nbsp;<span class="ident" id="3626299">y1</span><span class="op" id="3626301">)</span><span class="op" id="3626302">,</span>&nbsp;<span class="ident" id="3626304">natOne</span><span class="op" id="3626310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626315">z</span><span class="op" id="3626316">.</span><span class="ident" id="3626317">neg</span>&nbsp;<span class="op" id="3626321">=</span>&nbsp;<span class="builtintype" id="3626323">true</span>&nbsp;<span class="comment" id="3626328">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626375">return</span>&nbsp;<span class="ident" id="3626382">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3626386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3626391">//&nbsp;x&nbsp;&amp;&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626411">z</span><span class="op" id="3626412">.</span><span class="ident" id="3626413">abs</span>&nbsp;<span class="op" id="3626417">=</span>&nbsp;<span class="ident" id="3626419">z</span><span class="op" id="3626420">.</span><span class="ident" id="3626421">abs</span><span class="op" id="3626424">.</span><span class="ident" id="3626425">and</span><span class="op" id="3626428">(</span><span class="ident" id="3626429">x</span><span class="op" id="3626430">.</span><span class="ident" id="3626431">abs</span><span class="op" id="3626434">,</span>&nbsp;<span class="ident" id="3626436">y</span><span class="op" id="3626437">.</span><span class="ident" id="3626438">abs</span><span class="op" id="3626441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626445">z</span><span class="op" id="3626446">.</span><span class="ident" id="3626447">neg</span>&nbsp;<span class="op" id="3626451">=</span>&nbsp;<span class="builtintype" id="3626453">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626461">return</span>&nbsp;<span class="ident" id="3626468">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3626471">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3626475">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626494">if</span>&nbsp;<span class="ident" id="3626497">x</span><span class="op" id="3626498">.</span><span class="ident" id="3626499">neg</span>&nbsp;<span class="op" id="3626503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626507">x</span><span class="op" id="3626508">,</span>&nbsp;<span class="ident" id="3626510">y</span>&nbsp;<span class="op" id="3626512">=</span>&nbsp;<span class="ident" id="3626514">y</span><span class="op" id="3626515">,</span>&nbsp;<span class="ident" id="3626517">x</span>&nbsp;<span class="comment" id="3626519">//&nbsp;&amp;&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3626538">}</span><br>
<span class="lineno">855</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3626542">//&nbsp;x&nbsp;&amp;&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626583">y1</span>&nbsp;<span class="op" id="3626586">:=</span>&nbsp;<span class="ident" id="3626589">nat</span><span class="op" id="3626592">(</span><span class="builtintype" id="3626593">nil</span><span class="op" id="3626596">)</span><span class="op" id="3626597">.</span><span class="ident" id="3626598">sub</span><span class="op" id="3626601">(</span><span class="ident" id="3626602">y</span><span class="op" id="3626603">.</span><span class="ident" id="3626604">abs</span><span class="op" id="3626607">,</span>&nbsp;<span class="ident" id="3626609">natOne</span><span class="op" id="3626615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626618">z</span><span class="op" id="3626619">.</span><span class="ident" id="3626620">abs</span>&nbsp;<span class="op" id="3626624">=</span>&nbsp;<span class="ident" id="3626626">z</span><span class="op" id="3626627">.</span><span class="ident" id="3626628">abs</span><span class="op" id="3626631">.</span><span class="ident" id="3626632">andNot</span><span class="op" id="3626638">(</span><span class="ident" id="3626639">x</span><span class="op" id="3626640">.</span><span class="ident" id="3626641">abs</span><span class="op" id="3626644">,</span>&nbsp;<span class="ident" id="3626646">y1</span><span class="op" id="3626648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626651">z</span><span class="op" id="3626652">.</span><span class="ident" id="3626653">neg</span>&nbsp;<span class="op" id="3626657">=</span>&nbsp;<span class="builtintype" id="3626659">false</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626666">return</span>&nbsp;<span class="ident" id="3626673">z</span><br>
<span class="lineno"></span><span class="op" id="3626675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3626678">//&nbsp;AndNot&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3626719">func</span>&nbsp;<span class="op" id="3626724">(</span><span class="ident" id="3626725">z</span>&nbsp;<span class="op" id="3626727">*</span><span class="ident" id="3626728">Int</span><span class="op" id="3626731">)</span>&nbsp;<span class="ident" id="3626733">AndNot</span><span class="op" id="3626739">(</span><span class="ident" id="3626740">x</span><span class="op" id="3626741">,</span>&nbsp;<span class="ident" id="3626743">y</span>&nbsp;<span class="op" id="3626745">*</span><span class="ident" id="3626746">Int</span><span class="op" id="3626749">)</span>&nbsp;<span class="op" id="3626751">*</span><span class="ident" id="3626752">Int</span>&nbsp;<span class="op" id="3626756">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626759">if</span>&nbsp;<span class="ident" id="3626762">x</span><span class="op" id="3626763">.</span><span class="ident" id="3626764">neg</span>&nbsp;<span class="op" id="3626768">==</span>&nbsp;<span class="ident" id="3626771">y</span><span class="op" id="3626772">.</span><span class="ident" id="3626773">neg</span>&nbsp;<span class="op" id="3626777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626781">if</span>&nbsp;<span class="ident" id="3626784">x</span><span class="op" id="3626785">.</span><span class="ident" id="3626786">neg</span>&nbsp;<span class="op" id="3626790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3626795">//&nbsp;(-x)&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;(y-1)&nbsp;==&nbsp;(y-1)&nbsp;&amp;^&nbsp;(x-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626870">x1</span>&nbsp;<span class="op" id="3626873">:=</span>&nbsp;<span class="ident" id="3626876">nat</span><span class="op" id="3626879">(</span><span class="builtintype" id="3626880">nil</span><span class="op" id="3626883">)</span><span class="op" id="3626884">.</span><span class="ident" id="3626885">sub</span><span class="op" id="3626888">(</span><span class="ident" id="3626889">x</span><span class="op" id="3626890">.</span><span class="ident" id="3626891">abs</span><span class="op" id="3626894">,</span>&nbsp;<span class="ident" id="3626896">natOne</span><span class="op" id="3626902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626907">y1</span>&nbsp;<span class="op" id="3626910">:=</span>&nbsp;<span class="ident" id="3626913">nat</span><span class="op" id="3626916">(</span><span class="builtintype" id="3626917">nil</span><span class="op" id="3626920">)</span><span class="op" id="3626921">.</span><span class="ident" id="3626922">sub</span><span class="op" id="3626925">(</span><span class="ident" id="3626926">y</span><span class="op" id="3626927">.</span><span class="ident" id="3626928">abs</span><span class="op" id="3626931">,</span>&nbsp;<span class="ident" id="3626933">natOne</span><span class="op" id="3626939">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626944">z</span><span class="op" id="3626945">.</span><span class="ident" id="3626946">abs</span>&nbsp;<span class="op" id="3626950">=</span>&nbsp;<span class="ident" id="3626952">z</span><span class="op" id="3626953">.</span><span class="ident" id="3626954">abs</span><span class="op" id="3626957">.</span><span class="ident" id="3626958">andNot</span><span class="op" id="3626964">(</span><span class="ident" id="3626965">y1</span><span class="op" id="3626967">,</span>&nbsp;<span class="ident" id="3626969">x1</span><span class="op" id="3626971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3626976">z</span><span class="op" id="3626977">.</span><span class="ident" id="3626978">neg</span>&nbsp;<span class="op" id="3626982">=</span>&nbsp;<span class="builtintype" id="3626984">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3626993">return</span>&nbsp;<span class="ident" id="3627000">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3627004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3627009">//&nbsp;x&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627031">z</span><span class="op" id="3627032">.</span><span class="ident" id="3627033">abs</span>&nbsp;<span class="op" id="3627037">=</span>&nbsp;<span class="ident" id="3627039">z</span><span class="op" id="3627040">.</span><span class="ident" id="3627041">abs</span><span class="op" id="3627044">.</span><span class="ident" id="3627045">andNot</span><span class="op" id="3627051">(</span><span class="ident" id="3627052">x</span><span class="op" id="3627053">.</span><span class="ident" id="3627054">abs</span><span class="op" id="3627057">,</span>&nbsp;<span class="ident" id="3627059">y</span><span class="op" id="3627060">.</span><span class="ident" id="3627061">abs</span><span class="op" id="3627064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627068">z</span><span class="op" id="3627069">.</span><span class="ident" id="3627070">neg</span>&nbsp;<span class="op" id="3627074">=</span>&nbsp;<span class="builtintype" id="3627076">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627084">return</span>&nbsp;<span class="ident" id="3627091">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3627094">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627098">if</span>&nbsp;<span class="ident" id="3627101">x</span><span class="op" id="3627102">.</span><span class="ident" id="3627103">neg</span>&nbsp;<span class="op" id="3627107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3627111">//&nbsp;(-x)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;^&nbsp;y&nbsp;==&nbsp;^(x-1)&nbsp;&amp;&nbsp;^y&nbsp;==&nbsp;^((x-1)&nbsp;|&nbsp;y)&nbsp;==&nbsp;-(((x-1)&nbsp;|&nbsp;y)&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627194">x1</span>&nbsp;<span class="op" id="3627197">:=</span>&nbsp;<span class="ident" id="3627200">nat</span><span class="op" id="3627203">(</span><span class="builtintype" id="3627204">nil</span><span class="op" id="3627207">)</span><span class="op" id="3627208">.</span><span class="ident" id="3627209">sub</span><span class="op" id="3627212">(</span><span class="ident" id="3627213">x</span><span class="op" id="3627214">.</span><span class="ident" id="3627215">abs</span><span class="op" id="3627218">,</span>&nbsp;<span class="ident" id="3627220">natOne</span><span class="op" id="3627226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627230">z</span><span class="op" id="3627231">.</span><span class="ident" id="3627232">abs</span>&nbsp;<span class="op" id="3627236">=</span>&nbsp;<span class="ident" id="3627238">z</span><span class="op" id="3627239">.</span><span class="ident" id="3627240">abs</span><span class="op" id="3627243">.</span><span class="ident" id="3627244">add</span><span class="op" id="3627247">(</span><span class="ident" id="3627248">z</span><span class="op" id="3627249">.</span><span class="ident" id="3627250">abs</span><span class="op" id="3627253">.</span><span class="ident" id="3627254">or</span><span class="op" id="3627256">(</span><span class="ident" id="3627257">x1</span><span class="op" id="3627259">,</span>&nbsp;<span class="ident" id="3627261">y</span><span class="op" id="3627262">.</span><span class="ident" id="3627263">abs</span><span class="op" id="3627266">)</span><span class="op" id="3627267">,</span>&nbsp;<span class="ident" id="3627269">natOne</span><span class="op" id="3627275">)</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627279">z</span><span class="op" id="3627280">.</span><span class="ident" id="3627281">neg</span>&nbsp;<span class="op" id="3627285">=</span>&nbsp;<span class="builtintype" id="3627287">true</span>&nbsp;<span class="comment" id="3627292">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;negative&nbsp;and&nbsp;y&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627349">return</span>&nbsp;<span class="ident" id="3627356">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3627359">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3627363">//&nbsp;x&nbsp;&amp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;&amp;^&nbsp;^(y-1)&nbsp;==&nbsp;x&nbsp;&amp;&nbsp;(y-1)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627405">y1</span>&nbsp;<span class="op" id="3627408">:=</span>&nbsp;<span class="ident" id="3627411">nat</span><span class="op" id="3627414">(</span><span class="builtintype" id="3627415">nil</span><span class="op" id="3627418">)</span><span class="op" id="3627419">.</span><span class="ident" id="3627420">add</span><span class="op" id="3627423">(</span><span class="ident" id="3627424">y</span><span class="op" id="3627425">.</span><span class="ident" id="3627426">abs</span><span class="op" id="3627429">,</span>&nbsp;<span class="ident" id="3627431">natOne</span><span class="op" id="3627437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627440">z</span><span class="op" id="3627441">.</span><span class="ident" id="3627442">abs</span>&nbsp;<span class="op" id="3627446">=</span>&nbsp;<span class="ident" id="3627448">z</span><span class="op" id="3627449">.</span><span class="ident" id="3627450">abs</span><span class="op" id="3627453">.</span><span class="ident" id="3627454">and</span><span class="op" id="3627457">(</span><span class="ident" id="3627458">x</span><span class="op" id="3627459">.</span><span class="ident" id="3627460">abs</span><span class="op" id="3627463">,</span>&nbsp;<span class="ident" id="3627465">y1</span><span class="op" id="3627467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627470">z</span><span class="op" id="3627471">.</span><span class="ident" id="3627472">neg</span>&nbsp;<span class="op" id="3627476">=</span>&nbsp;<span class="builtintype" id="3627478">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627485">return</span>&nbsp;<span class="ident" id="3627492">z</span><br>
<span class="lineno"></span><span class="op" id="3627494">}</span><br>
<span class="lineno">895</span><br>
<span class="lineno"></span><span class="comment" id="3627497">//&nbsp;Or&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;|&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3627533">func</span>&nbsp;<span class="op" id="3627538">(</span><span class="ident" id="3627539">z</span>&nbsp;<span class="op" id="3627541">*</span><span class="ident" id="3627542">Int</span><span class="op" id="3627545">)</span>&nbsp;<span class="ident" id="3627547">Or</span><span class="op" id="3627549">(</span><span class="ident" id="3627550">x</span><span class="op" id="3627551">,</span>&nbsp;<span class="ident" id="3627553">y</span>&nbsp;<span class="op" id="3627555">*</span><span class="ident" id="3627556">Int</span><span class="op" id="3627559">)</span>&nbsp;<span class="op" id="3627561">*</span><span class="ident" id="3627562">Int</span>&nbsp;<span class="op" id="3627566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627569">if</span>&nbsp;<span class="ident" id="3627572">x</span><span class="op" id="3627573">.</span><span class="ident" id="3627574">neg</span>&nbsp;<span class="op" id="3627578">==</span>&nbsp;<span class="ident" id="3627581">y</span><span class="op" id="3627582">.</span><span class="ident" id="3627583">neg</span>&nbsp;<span class="op" id="3627587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627591">if</span>&nbsp;<span class="ident" id="3627594">x</span><span class="op" id="3627595">.</span><span class="ident" id="3627596">neg</span>&nbsp;<span class="op" id="3627600">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3627605">//&nbsp;(-x)&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;==&nbsp;-(((x-1)&nbsp;&amp;&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627688">x1</span>&nbsp;<span class="op" id="3627691">:=</span>&nbsp;<span class="ident" id="3627694">nat</span><span class="op" id="3627697">(</span><span class="builtintype" id="3627698">nil</span><span class="op" id="3627701">)</span><span class="op" id="3627702">.</span><span class="ident" id="3627703">sub</span><span class="op" id="3627706">(</span><span class="ident" id="3627707">x</span><span class="op" id="3627708">.</span><span class="ident" id="3627709">abs</span><span class="op" id="3627712">,</span>&nbsp;<span class="ident" id="3627714">natOne</span><span class="op" id="3627720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627725">y1</span>&nbsp;<span class="op" id="3627728">:=</span>&nbsp;<span class="ident" id="3627731">nat</span><span class="op" id="3627734">(</span><span class="builtintype" id="3627735">nil</span><span class="op" id="3627738">)</span><span class="op" id="3627739">.</span><span class="ident" id="3627740">sub</span><span class="op" id="3627743">(</span><span class="ident" id="3627744">y</span><span class="op" id="3627745">.</span><span class="ident" id="3627746">abs</span><span class="op" id="3627749">,</span>&nbsp;<span class="ident" id="3627751">natOne</span><span class="op" id="3627757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627762">z</span><span class="op" id="3627763">.</span><span class="ident" id="3627764">abs</span>&nbsp;<span class="op" id="3627768">=</span>&nbsp;<span class="ident" id="3627770">z</span><span class="op" id="3627771">.</span><span class="ident" id="3627772">abs</span><span class="op" id="3627775">.</span><span class="ident" id="3627776">add</span><span class="op" id="3627779">(</span><span class="ident" id="3627780">z</span><span class="op" id="3627781">.</span><span class="ident" id="3627782">abs</span><span class="op" id="3627785">.</span><span class="ident" id="3627786">and</span><span class="op" id="3627789">(</span><span class="ident" id="3627790">x1</span><span class="op" id="3627792">,</span>&nbsp;<span class="ident" id="3627794">y1</span><span class="op" id="3627796">)</span><span class="op" id="3627797">,</span>&nbsp;<span class="ident" id="3627799">natOne</span><span class="op" id="3627805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627810">z</span><span class="op" id="3627811">.</span><span class="ident" id="3627812">neg</span>&nbsp;<span class="op" id="3627816">=</span>&nbsp;<span class="builtintype" id="3627818">true</span>&nbsp;<span class="comment" id="3627823">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;are&nbsp;negative</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627870">return</span>&nbsp;<span class="ident" id="3627877">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3627881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3627886">//&nbsp;x&nbsp;|&nbsp;y&nbsp;==&nbsp;x&nbsp;|&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627906">z</span><span class="op" id="3627907">.</span><span class="ident" id="3627908">abs</span>&nbsp;<span class="op" id="3627912">=</span>&nbsp;<span class="ident" id="3627914">z</span><span class="op" id="3627915">.</span><span class="ident" id="3627916">abs</span><span class="op" id="3627919">.</span><span class="ident" id="3627920">or</span><span class="op" id="3627922">(</span><span class="ident" id="3627923">x</span><span class="op" id="3627924">.</span><span class="ident" id="3627925">abs</span><span class="op" id="3627928">,</span>&nbsp;<span class="ident" id="3627930">y</span><span class="op" id="3627931">.</span><span class="ident" id="3627932">abs</span><span class="op" id="3627935">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3627939">z</span><span class="op" id="3627940">.</span><span class="ident" id="3627941">neg</span>&nbsp;<span class="op" id="3627945">=</span>&nbsp;<span class="builtintype" id="3627947">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627955">return</span>&nbsp;<span class="ident" id="3627962">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3627965">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3627969">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3627988">if</span>&nbsp;<span class="ident" id="3627991">x</span><span class="op" id="3627992">.</span><span class="ident" id="3627993">neg</span>&nbsp;<span class="op" id="3627997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628001">x</span><span class="op" id="3628002">,</span>&nbsp;<span class="ident" id="3628004">y</span>&nbsp;<span class="op" id="3628006">=</span>&nbsp;<span class="ident" id="3628008">y</span><span class="op" id="3628009">,</span>&nbsp;<span class="ident" id="3628011">x</span>&nbsp;<span class="comment" id="3628013">//&nbsp;|&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3628032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3628036">//&nbsp;x&nbsp;|&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;|&nbsp;^(y-1)&nbsp;==&nbsp;^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;==&nbsp;-(^((y-1)&nbsp;&amp;^&nbsp;x)&nbsp;+&nbsp;1)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628104">y1</span>&nbsp;<span class="op" id="3628107">:=</span>&nbsp;<span class="ident" id="3628110">nat</span><span class="op" id="3628113">(</span><span class="builtintype" id="3628114">nil</span><span class="op" id="3628117">)</span><span class="op" id="3628118">.</span><span class="ident" id="3628119">sub</span><span class="op" id="3628122">(</span><span class="ident" id="3628123">y</span><span class="op" id="3628124">.</span><span class="ident" id="3628125">abs</span><span class="op" id="3628128">,</span>&nbsp;<span class="ident" id="3628130">natOne</span><span class="op" id="3628136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628139">z</span><span class="op" id="3628140">.</span><span class="ident" id="3628141">abs</span>&nbsp;<span class="op" id="3628145">=</span>&nbsp;<span class="ident" id="3628147">z</span><span class="op" id="3628148">.</span><span class="ident" id="3628149">abs</span><span class="op" id="3628152">.</span><span class="ident" id="3628153">add</span><span class="op" id="3628156">(</span><span class="ident" id="3628157">z</span><span class="op" id="3628158">.</span><span class="ident" id="3628159">abs</span><span class="op" id="3628162">.</span><span class="ident" id="3628163">andNot</span><span class="op" id="3628169">(</span><span class="ident" id="3628170">y1</span><span class="op" id="3628172">,</span>&nbsp;<span class="ident" id="3628174">x</span><span class="op" id="3628175">.</span><span class="ident" id="3628176">abs</span><span class="op" id="3628179">)</span><span class="op" id="3628180">,</span>&nbsp;<span class="ident" id="3628182">natOne</span><span class="op" id="3628188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628191">z</span><span class="op" id="3628192">.</span><span class="ident" id="3628193">neg</span>&nbsp;<span class="op" id="3628197">=</span>&nbsp;<span class="builtintype" id="3628199">true</span>&nbsp;<span class="comment" id="3628204">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3628254">return</span>&nbsp;<span class="ident" id="3628261">z</span><br>
<span class="lineno"></span><span class="op" id="3628263">}</span><br>
<span class="lineno">925</span><br>
<span class="lineno"></span><span class="comment" id="3628266">//&nbsp;Xor&nbsp;sets&nbsp;z&nbsp;=&nbsp;x&nbsp;^&nbsp;y&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3628303">func</span>&nbsp;<span class="op" id="3628308">(</span><span class="ident" id="3628309">z</span>&nbsp;<span class="op" id="3628311">*</span><span class="ident" id="3628312">Int</span><span class="op" id="3628315">)</span>&nbsp;<span class="ident" id="3628317">Xor</span><span class="op" id="3628320">(</span><span class="ident" id="3628321">x</span><span class="op" id="3628322">,</span>&nbsp;<span class="ident" id="3628324">y</span>&nbsp;<span class="op" id="3628326">*</span><span class="ident" id="3628327">Int</span><span class="op" id="3628330">)</span>&nbsp;<span class="op" id="3628332">*</span><span class="ident" id="3628333">Int</span>&nbsp;<span class="op" id="3628337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3628340">if</span>&nbsp;<span class="ident" id="3628343">x</span><span class="op" id="3628344">.</span><span class="ident" id="3628345">neg</span>&nbsp;<span class="op" id="3628349">==</span>&nbsp;<span class="ident" id="3628352">y</span><span class="op" id="3628353">.</span><span class="ident" id="3628354">neg</span>&nbsp;<span class="op" id="3628358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3628362">if</span>&nbsp;<span class="ident" id="3628365">x</span><span class="op" id="3628366">.</span><span class="ident" id="3628367">neg</span>&nbsp;<span class="op" id="3628371">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3628376">//&nbsp;(-x)&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;^(x-1)&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;(x-1)&nbsp;^&nbsp;(y-1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628430">x1</span>&nbsp;<span class="op" id="3628433">:=</span>&nbsp;<span class="ident" id="3628436">nat</span><span class="op" id="3628439">(</span><span class="builtintype" id="3628440">nil</span><span class="op" id="3628443">)</span><span class="op" id="3628444">.</span><span class="ident" id="3628445">sub</span><span class="op" id="3628448">(</span><span class="ident" id="3628449">x</span><span class="op" id="3628450">.</span><span class="ident" id="3628451">abs</span><span class="op" id="3628454">,</span>&nbsp;<span class="ident" id="3628456">natOne</span><span class="op" id="3628462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628467">y1</span>&nbsp;<span class="op" id="3628470">:=</span>&nbsp;<span class="ident" id="3628473">nat</span><span class="op" id="3628476">(</span><span class="builtintype" id="3628477">nil</span><span class="op" id="3628480">)</span><span class="op" id="3628481">.</span><span class="ident" id="3628482">sub</span><span class="op" id="3628485">(</span><span class="ident" id="3628486">y</span><span class="op" id="3628487">.</span><span class="ident" id="3628488">abs</span><span class="op" id="3628491">,</span>&nbsp;<span class="ident" id="3628493">natOne</span><span class="op" id="3628499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628504">z</span><span class="op" id="3628505">.</span><span class="ident" id="3628506">abs</span>&nbsp;<span class="op" id="3628510">=</span>&nbsp;<span class="ident" id="3628512">z</span><span class="op" id="3628513">.</span><span class="ident" id="3628514">abs</span><span class="op" id="3628517">.</span><span class="ident" id="3628518">xor</span><span class="op" id="3628521">(</span><span class="ident" id="3628522">x1</span><span class="op" id="3628524">,</span>&nbsp;<span class="ident" id="3628526">y1</span><span class="op" id="3628528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628533">z</span><span class="op" id="3628534">.</span><span class="ident" id="3628535">neg</span>&nbsp;<span class="op" id="3628539">=</span>&nbsp;<span class="builtintype" id="3628541">false</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3628550">return</span>&nbsp;<span class="ident" id="3628557">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3628561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3628566">//&nbsp;x&nbsp;^&nbsp;y&nbsp;==&nbsp;x&nbsp;^&nbsp;y</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628586">z</span><span class="op" id="3628587">.</span><span class="ident" id="3628588">abs</span>&nbsp;<span class="op" id="3628592">=</span>&nbsp;<span class="ident" id="3628594">z</span><span class="op" id="3628595">.</span><span class="ident" id="3628596">abs</span><span class="op" id="3628599">.</span><span class="ident" id="3628600">xor</span><span class="op" id="3628603">(</span><span class="ident" id="3628604">x</span><span class="op" id="3628605">.</span><span class="ident" id="3628606">abs</span><span class="op" id="3628609">,</span>&nbsp;<span class="ident" id="3628611">y</span><span class="op" id="3628612">.</span><span class="ident" id="3628613">abs</span><span class="op" id="3628616">)</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628620">z</span><span class="op" id="3628621">.</span><span class="ident" id="3628622">neg</span>&nbsp;<span class="op" id="3628626">=</span>&nbsp;<span class="builtintype" id="3628628">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3628636">return</span>&nbsp;<span class="ident" id="3628643">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3628646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3628650">//&nbsp;x.neg&nbsp;!=&nbsp;y.neg</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3628669">if</span>&nbsp;<span class="ident" id="3628672">x</span><span class="op" id="3628673">.</span><span class="ident" id="3628674">neg</span>&nbsp;<span class="op" id="3628678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628682">x</span><span class="op" id="3628683">,</span>&nbsp;<span class="ident" id="3628685">y</span>&nbsp;<span class="op" id="3628687">=</span>&nbsp;<span class="ident" id="3628689">y</span><span class="op" id="3628690">,</span>&nbsp;<span class="ident" id="3628692">x</span>&nbsp;<span class="comment" id="3628694">//&nbsp;^&nbsp;is&nbsp;symmetric</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3628713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3628717">//&nbsp;x&nbsp;^&nbsp;(-y)&nbsp;==&nbsp;x&nbsp;^&nbsp;^(y-1)&nbsp;==&nbsp;^(x&nbsp;^&nbsp;(y-1))&nbsp;==&nbsp;-((x&nbsp;^&nbsp;(y-1))&nbsp;+&nbsp;1)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628782">y1</span>&nbsp;<span class="op" id="3628785">:=</span>&nbsp;<span class="ident" id="3628788">nat</span><span class="op" id="3628791">(</span><span class="builtintype" id="3628792">nil</span><span class="op" id="3628795">)</span><span class="op" id="3628796">.</span><span class="ident" id="3628797">sub</span><span class="op" id="3628800">(</span><span class="ident" id="3628801">y</span><span class="op" id="3628802">.</span><span class="ident" id="3628803">abs</span><span class="op" id="3628806">,</span>&nbsp;<span class="ident" id="3628808">natOne</span><span class="op" id="3628814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628817">z</span><span class="op" id="3628818">.</span><span class="ident" id="3628819">abs</span>&nbsp;<span class="op" id="3628823">=</span>&nbsp;<span class="ident" id="3628825">z</span><span class="op" id="3628826">.</span><span class="ident" id="3628827">abs</span><span class="op" id="3628830">.</span><span class="ident" id="3628831">add</span><span class="op" id="3628834">(</span><span class="ident" id="3628835">z</span><span class="op" id="3628836">.</span><span class="ident" id="3628837">abs</span><span class="op" id="3628840">.</span><span class="ident" id="3628841">xor</span><span class="op" id="3628844">(</span><span class="ident" id="3628845">x</span><span class="op" id="3628846">.</span><span class="ident" id="3628847">abs</span><span class="op" id="3628850">,</span>&nbsp;<span class="ident" id="3628852">y1</span><span class="op" id="3628854">)</span><span class="op" id="3628855">,</span>&nbsp;<span class="ident" id="3628857">natOne</span><span class="op" id="3628863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3628866">z</span><span class="op" id="3628867">.</span><span class="ident" id="3628868">neg</span>&nbsp;<span class="op" id="3628872">=</span>&nbsp;<span class="builtintype" id="3628874">true</span>&nbsp;<span class="comment" id="3628879">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;only&nbsp;one&nbsp;of&nbsp;x&nbsp;or&nbsp;y&nbsp;is&nbsp;negative</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3628934">return</span>&nbsp;<span class="ident" id="3628941">z</span><br>
<span class="lineno"></span><span class="op" id="3628943">}</span><br>
<span class="lineno">955</span><br>
<span class="lineno"></span><span class="comment" id="3628946">//&nbsp;Not&nbsp;sets&nbsp;z&nbsp;=&nbsp;^x&nbsp;and&nbsp;returns&nbsp;z.</span><br>
<span class="lineno"></span><span class="keyword" id="3628980">func</span>&nbsp;<span class="op" id="3628985">(</span><span class="ident" id="3628986">z</span>&nbsp;<span class="op" id="3628988">*</span><span class="ident" id="3628989">Int</span><span class="op" id="3628992">)</span>&nbsp;<span class="ident" id="3628994">Not</span><span class="op" id="3628997">(</span><span class="ident" id="3628998">x</span>&nbsp;<span class="op" id="3629000">*</span><span class="ident" id="3629001">Int</span><span class="op" id="3629004">)</span>&nbsp;<span class="op" id="3629006">*</span><span class="ident" id="3629007">Int</span>&nbsp;<span class="op" id="3629011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629014">if</span>&nbsp;<span class="ident" id="3629017">x</span><span class="op" id="3629018">.</span><span class="ident" id="3629019">neg</span>&nbsp;<span class="op" id="3629023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3629027">//&nbsp;^(-x)&nbsp;==&nbsp;^(^(x-1))&nbsp;==&nbsp;x-1</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629058">z</span><span class="op" id="3629059">.</span><span class="ident" id="3629060">abs</span>&nbsp;<span class="op" id="3629064">=</span>&nbsp;<span class="ident" id="3629066">z</span><span class="op" id="3629067">.</span><span class="ident" id="3629068">abs</span><span class="op" id="3629071">.</span><span class="ident" id="3629072">sub</span><span class="op" id="3629075">(</span><span class="ident" id="3629076">x</span><span class="op" id="3629077">.</span><span class="ident" id="3629078">abs</span><span class="op" id="3629081">,</span>&nbsp;<span class="ident" id="3629083">natOne</span><span class="op" id="3629089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629093">z</span><span class="op" id="3629094">.</span><span class="ident" id="3629095">neg</span>&nbsp;<span class="op" id="3629099">=</span>&nbsp;<span class="builtintype" id="3629101">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629109">return</span>&nbsp;<span class="ident" id="3629116">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3629119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3629123">//&nbsp;^x&nbsp;==&nbsp;-x-1&nbsp;==&nbsp;-(x+1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629148">z</span><span class="op" id="3629149">.</span><span class="ident" id="3629150">abs</span>&nbsp;<span class="op" id="3629154">=</span>&nbsp;<span class="ident" id="3629156">z</span><span class="op" id="3629157">.</span><span class="ident" id="3629158">abs</span><span class="op" id="3629161">.</span><span class="ident" id="3629162">add</span><span class="op" id="3629165">(</span><span class="ident" id="3629166">x</span><span class="op" id="3629167">.</span><span class="ident" id="3629168">abs</span><span class="op" id="3629171">,</span>&nbsp;<span class="ident" id="3629173">natOne</span><span class="op" id="3629179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629182">z</span><span class="op" id="3629183">.</span><span class="ident" id="3629184">neg</span>&nbsp;<span class="op" id="3629188">=</span>&nbsp;<span class="builtintype" id="3629190">true</span>&nbsp;<span class="comment" id="3629195">//&nbsp;z&nbsp;cannot&nbsp;be&nbsp;zero&nbsp;if&nbsp;x&nbsp;is&nbsp;positive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629233">return</span>&nbsp;<span class="ident" id="3629240">z</span><br>
<span class="lineno"></span><span class="op" id="3629242">}</span><br>
<span class="lineno">970</span><br>
<span class="lineno"></span><span class="comment" id="3629245">//&nbsp;Gob&nbsp;codec&nbsp;version.&nbsp;Permits&nbsp;backward-compatible&nbsp;changes&nbsp;to&nbsp;the&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="3629320">const</span>&nbsp;<span class="ident" id="3629326">intGobVersion</span>&nbsp;<span class="builtintype" id="3629340">byte</span>&nbsp;<span class="op" id="3629345">=</span>&nbsp;<span class="num" id="3629347">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3629350">//&nbsp;GobEncode&nbsp;implements&nbsp;the&nbsp;gob.GobEncoder&nbsp;interface.</span><br>
<span class="lineno">975</span><span class="keyword" id="3629404">func</span>&nbsp;<span class="op" id="3629409">(</span><span class="ident" id="3629410">x</span>&nbsp;<span class="op" id="3629412">*</span><span class="ident" id="3629413">Int</span><span class="op" id="3629416">)</span>&nbsp;<span class="ident" id="3629418">GobEncode</span><span class="op" id="3629427">(</span><span class="op" id="3629428">)</span>&nbsp;<span class="op" id="3629430">(</span><span class="op" id="3629431">[</span><span class="op" id="3629432">]</span><span class="builtintype" id="3629433">byte</span><span class="op" id="3629437">,</span>&nbsp;<span class="builtintype" id="3629439">error</span><span class="op" id="3629444">)</span>&nbsp;<span class="op" id="3629446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629449">if</span>&nbsp;<span class="ident" id="3629452">x</span>&nbsp;<span class="op" id="3629454">==</span>&nbsp;<span class="builtintype" id="3629457">nil</span>&nbsp;<span class="op" id="3629461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629465">return</span>&nbsp;<span class="builtintype" id="3629472">nil</span><span class="op" id="3629475">,</span>&nbsp;<span class="builtintype" id="3629477">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3629482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629485">buf</span>&nbsp;<span class="op" id="3629489">:=</span>&nbsp;<span class="builtinfunc" id="3629492">make</span><span class="op" id="3629496">(</span><span class="op" id="3629497">[</span><span class="op" id="3629498">]</span><span class="builtintype" id="3629499">byte</span><span class="op" id="3629503">,</span>&nbsp;<span class="num" id="3629505">1</span><span class="op" id="3629506">+</span><span class="builtinfunc" id="3629507">len</span><span class="op" id="3629510">(</span><span class="ident" id="3629511">x</span><span class="op" id="3629512">.</span><span class="ident" id="3629513">abs</span><span class="op" id="3629516">)</span><span class="op" id="3629517">*</span><span class="ident" id="3629518">_S</span><span class="op" id="3629520">)</span>&nbsp;<span class="comment" id="3629522">//&nbsp;extra&nbsp;byte&nbsp;for&nbsp;version&nbsp;and&nbsp;sign&nbsp;bit</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629562">i</span>&nbsp;<span class="op" id="3629564">:=</span>&nbsp;<span class="ident" id="3629567">x</span><span class="op" id="3629568">.</span><span class="ident" id="3629569">abs</span><span class="op" id="3629572">.</span><span class="ident" id="3629573">bytes</span><span class="op" id="3629578">(</span><span class="ident" id="3629579">buf</span><span class="op" id="3629582">)</span>&nbsp;<span class="op" id="3629584">-</span>&nbsp;<span class="num" id="3629586">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3629599">//&nbsp;i&nbsp;&gt;=&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629610">b</span>&nbsp;<span class="op" id="3629612">:=</span>&nbsp;<span class="ident" id="3629615">intGobVersion</span>&nbsp;<span class="op" id="3629629">&lt;&lt;</span>&nbsp;<span class="num" id="3629632">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3629647">//&nbsp;make&nbsp;space&nbsp;for&nbsp;sign&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629675">if</span>&nbsp;<span class="ident" id="3629678">x</span><span class="op" id="3629679">.</span><span class="ident" id="3629680">neg</span>&nbsp;<span class="op" id="3629684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629688">b</span>&nbsp;<span class="op" id="3629690">|=</span>&nbsp;<span class="num" id="3629693">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3629696">}</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629699">buf</span><span class="op" id="3629702">[</span><span class="ident" id="3629703">i</span><span class="op" id="3629704">]</span>&nbsp;<span class="op" id="3629706">=</span>&nbsp;<span class="ident" id="3629708">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629711">return</span>&nbsp;<span class="ident" id="3629718">buf</span><span class="op" id="3629721">[</span><span class="ident" id="3629722">i</span><span class="op" id="3629723">:</span><span class="op" id="3629724">]</span><span class="op" id="3629725">,</span>&nbsp;<span class="builtintype" id="3629727">nil</span><br>
<span class="lineno"></span><span class="op" id="3629731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3629734">//&nbsp;GobDecode&nbsp;implements&nbsp;the&nbsp;gob.GobDecoder&nbsp;interface.</span><br>
<span class="lineno">990</span><span class="keyword" id="3629788">func</span>&nbsp;<span class="op" id="3629793">(</span><span class="ident" id="3629794">z</span>&nbsp;<span class="op" id="3629796">*</span><span class="ident" id="3629797">Int</span><span class="op" id="3629800">)</span>&nbsp;<span class="ident" id="3629802">GobDecode</span><span class="op" id="3629811">(</span><span class="ident" id="3629812">buf</span>&nbsp;<span class="op" id="3629816">[</span><span class="op" id="3629817">]</span><span class="builtintype" id="3629818">byte</span><span class="op" id="3629822">)</span>&nbsp;<span class="builtintype" id="3629824">error</span>&nbsp;<span class="op" id="3629830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629833">if</span>&nbsp;<span class="builtinfunc" id="3629836">len</span><span class="op" id="3629839">(</span><span class="ident" id="3629840">buf</span><span class="op" id="3629843">)</span>&nbsp;<span class="op" id="3629845">==</span>&nbsp;<span class="num" id="3629848">0</span>&nbsp;<span class="op" id="3629850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3629854">//&nbsp;Other&nbsp;side&nbsp;sent&nbsp;a&nbsp;nil&nbsp;or&nbsp;default&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3629899">*</span><span class="ident" id="3629900">z</span>&nbsp;<span class="op" id="3629902">=</span>&nbsp;<span class="ident" id="3629904">Int</span><span class="op" id="3629907">{</span><span class="op" id="3629908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629912">return</span>&nbsp;<span class="builtintype" id="3629919">nil</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3629924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3629927">b</span>&nbsp;<span class="op" id="3629929">:=</span>&nbsp;<span class="ident" id="3629932">buf</span><span class="op" id="3629935">[</span><span class="num" id="3629936">0</span><span class="op" id="3629937">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629940">if</span>&nbsp;<span class="ident" id="3629943">b</span><span class="op" id="3629944">&gt;&gt;</span><span class="num" id="3629946">1</span>&nbsp;<span class="op" id="3629948">!=</span>&nbsp;<span class="ident" id="3629951">intGobVersion</span>&nbsp;<span class="op" id="3629965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3629969">return</span>&nbsp;<span class="ident" id="3629976">errors</span><span class="op" id="3629982">.</span><span class="ident" id="3629983">New</span><span class="op" id="3629986">(</span><span class="ident" id="3629987">fmt</span><span class="op" id="3629990">.</span><span class="ident" id="3629991">Sprintf</span><span class="op" id="3629998">(</span><span class="string" id="3629999">&#34;Int.GobDecode:&nbsp;encoding&nbsp;version&nbsp;%d&nbsp;not&nbsp;supported&#34;</span><span class="op" id="3630049">,</span>&nbsp;<span class="ident" id="3630051">b</span><span class="op" id="3630052">&gt;&gt;</span><span class="num" id="3630054">1</span><span class="op" id="3630055">)</span><span class="op" id="3630056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3630059">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3630062">z</span><span class="op" id="3630063">.</span><span class="ident" id="3630064">neg</span>&nbsp;<span class="op" id="3630068">=</span>&nbsp;<span class="ident" id="3630070">b</span><span class="op" id="3630071">&amp;</span><span class="num" id="3630072">1</span>&nbsp;<span class="op" id="3630074">!=</span>&nbsp;<span class="num" id="3630077">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3630080">z</span><span class="op" id="3630081">.</span><span class="ident" id="3630082">abs</span>&nbsp;<span class="op" id="3630086">=</span>&nbsp;<span class="ident" id="3630088">z</span><span class="op" id="3630089">.</span><span class="ident" id="3630090">abs</span><span class="op" id="3630093">.</span><span class="ident" id="3630094">setBytes</span><span class="op" id="3630102">(</span><span class="ident" id="3630103">buf</span><span class="op" id="3630106">[</span><span class="num" id="3630107">1</span><span class="op" id="3630108">:</span><span class="op" id="3630109">]</span><span class="op" id="3630110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630113">return</span>&nbsp;<span class="builtintype" id="3630120">nil</span><br>
<span class="lineno"></span><span class="op" id="3630124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1005</span><span class="comment" id="3630127">//&nbsp;MarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Marshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3630183">func</span>&nbsp;<span class="op" id="3630188">(</span><span class="ident" id="3630189">z</span>&nbsp;<span class="op" id="3630191">*</span><span class="ident" id="3630192">Int</span><span class="op" id="3630195">)</span>&nbsp;<span class="ident" id="3630197">MarshalJSON</span><span class="op" id="3630208">(</span><span class="op" id="3630209">)</span>&nbsp;<span class="op" id="3630211">(</span><span class="op" id="3630212">[</span><span class="op" id="3630213">]</span><span class="builtintype" id="3630214">byte</span><span class="op" id="3630218">,</span>&nbsp;<span class="builtintype" id="3630220">error</span><span class="op" id="3630225">)</span>&nbsp;<span class="op" id="3630227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3630230">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630286">return</span>&nbsp;<span class="op" id="3630293">[</span><span class="op" id="3630294">]</span><span class="builtintype" id="3630295">byte</span><span class="op" id="3630299">(</span><span class="ident" id="3630300">z</span><span class="op" id="3630301">.</span><span class="ident" id="3630302">String</span><span class="op" id="3630308">(</span><span class="op" id="3630309">)</span><span class="op" id="3630310">)</span><span class="op" id="3630311">,</span>&nbsp;<span class="builtintype" id="3630313">nil</span><br>
<span class="lineno"></span><span class="op" id="3630317">}</span><br>
<span class="lineno">1010</span><br>
<span class="lineno"></span><span class="comment" id="3630320">//&nbsp;UnmarshalJSON&nbsp;implements&nbsp;the&nbsp;json.Unmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3630380">func</span>&nbsp;<span class="op" id="3630385">(</span><span class="ident" id="3630386">z</span>&nbsp;<span class="op" id="3630388">*</span><span class="ident" id="3630389">Int</span><span class="op" id="3630392">)</span>&nbsp;<span class="ident" id="3630394">UnmarshalJSON</span><span class="op" id="3630407">(</span><span class="ident" id="3630408">text</span>&nbsp;<span class="op" id="3630413">[</span><span class="op" id="3630414">]</span><span class="builtintype" id="3630415">byte</span><span class="op" id="3630419">)</span>&nbsp;<span class="builtintype" id="3630421">error</span>&nbsp;<span class="op" id="3630427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3630430">//&nbsp;TODO(gri):&nbsp;get&nbsp;rid&nbsp;of&nbsp;the&nbsp;[]byte/string&nbsp;conversions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630486">if</span>&nbsp;<span class="ident" id="3630489">_</span><span class="op" id="3630490">,</span>&nbsp;<span class="ident" id="3630492">ok</span>&nbsp;<span class="op" id="3630495">:=</span>&nbsp;<span class="ident" id="3630498">z</span><span class="op" id="3630499">.</span><span class="ident" id="3630500">SetString</span><span class="op" id="3630509">(</span><span class="builtintype" id="3630510">string</span><span class="op" id="3630516">(</span><span class="ident" id="3630517">text</span><span class="op" id="3630521">)</span><span class="op" id="3630522">,</span>&nbsp;<span class="num" id="3630524">0</span><span class="op" id="3630525">)</span><span class="op" id="3630526">;</span>&nbsp;<span class="op" id="3630528">!</span><span class="ident" id="3630529">ok</span>&nbsp;<span class="op" id="3630532">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630536">return</span>&nbsp;<span class="ident" id="3630543">fmt</span><span class="op" id="3630546">.</span><span class="ident" id="3630547">Errorf</span><span class="op" id="3630553">(</span><span class="string" id="3630554">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3630601">,</span>&nbsp;<span class="ident" id="3630603">text</span><span class="op" id="3630607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3630610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630613">return</span>&nbsp;<span class="builtintype" id="3630620">nil</span><br>
<span class="lineno"></span><span class="op" id="3630624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1020</span><span class="comment" id="3630627">//&nbsp;MarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextMarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3630691">func</span>&nbsp;<span class="op" id="3630696">(</span><span class="ident" id="3630697">z</span>&nbsp;<span class="op" id="3630699">*</span><span class="ident" id="3630700">Int</span><span class="op" id="3630703">)</span>&nbsp;<span class="ident" id="3630705">MarshalText</span><span class="op" id="3630716">(</span><span class="op" id="3630717">)</span>&nbsp;<span class="op" id="3630719">(</span><span class="ident" id="3630720">text</span>&nbsp;<span class="op" id="3630725">[</span><span class="op" id="3630726">]</span><span class="builtintype" id="3630727">byte</span><span class="op" id="3630731">,</span>&nbsp;<span class="ident" id="3630733">err</span>&nbsp;<span class="builtintype" id="3630737">error</span><span class="op" id="3630742">)</span>&nbsp;<span class="op" id="3630744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630747">return</span>&nbsp;<span class="op" id="3630754">[</span><span class="op" id="3630755">]</span><span class="builtintype" id="3630756">byte</span><span class="op" id="3630760">(</span><span class="ident" id="3630761">z</span><span class="op" id="3630762">.</span><span class="ident" id="3630763">String</span><span class="op" id="3630769">(</span><span class="op" id="3630770">)</span><span class="op" id="3630771">)</span><span class="op" id="3630772">,</span>&nbsp;<span class="builtintype" id="3630774">nil</span><br>
<span class="lineno"></span><span class="op" id="3630778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1025</span><span class="comment" id="3630781">//&nbsp;UnmarshalText&nbsp;implements&nbsp;the&nbsp;encoding.TextUnmarshaler&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3630849">func</span>&nbsp;<span class="op" id="3630854">(</span><span class="ident" id="3630855">z</span>&nbsp;<span class="op" id="3630857">*</span><span class="ident" id="3630858">Int</span><span class="op" id="3630861">)</span>&nbsp;<span class="ident" id="3630863">UnmarshalText</span><span class="op" id="3630876">(</span><span class="ident" id="3630877">text</span>&nbsp;<span class="op" id="3630882">[</span><span class="op" id="3630883">]</span><span class="builtintype" id="3630884">byte</span><span class="op" id="3630888">)</span>&nbsp;<span class="builtintype" id="3630890">error</span>&nbsp;<span class="op" id="3630896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630899">if</span>&nbsp;<span class="ident" id="3630902">_</span><span class="op" id="3630903">,</span>&nbsp;<span class="ident" id="3630905">ok</span>&nbsp;<span class="op" id="3630908">:=</span>&nbsp;<span class="ident" id="3630911">z</span><span class="op" id="3630912">.</span><span class="ident" id="3630913">SetString</span><span class="op" id="3630922">(</span><span class="builtintype" id="3630923">string</span><span class="op" id="3630929">(</span><span class="ident" id="3630930">text</span><span class="op" id="3630934">)</span><span class="op" id="3630935">,</span>&nbsp;<span class="num" id="3630937">0</span><span class="op" id="3630938">)</span><span class="op" id="3630939">;</span>&nbsp;<span class="op" id="3630941">!</span><span class="ident" id="3630942">ok</span>&nbsp;<span class="op" id="3630945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3630949">return</span>&nbsp;<span class="ident" id="3630956">fmt</span><span class="op" id="3630959">.</span><span class="ident" id="3630960">Errorf</span><span class="op" id="3630966">(</span><span class="string" id="3630967">&#34;math/big:&nbsp;cannot&nbsp;unmarshal&nbsp;%q&nbsp;into&nbsp;a&nbsp;*big.Int&#34;</span><span class="op" id="3631014">,</span>&nbsp;<span class="ident" id="3631016">text</span><span class="op" id="3631020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3631023">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3631026">return</span>&nbsp;<span class="builtintype" id="3631033">nil</span><br>
<span class="lineno"></span><span class="op" id="3631037">}</span>
</div>
</body>
</html>
