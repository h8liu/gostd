<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3547813">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3547868">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3547922">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3547973">//&nbsp;Package&nbsp;filepath&nbsp;implements&nbsp;utility&nbsp;routines&nbsp;for&nbsp;manipulating&nbsp;filename&nbsp;paths</span><br>
<span class="lineno"></span><span class="comment" id="3548053">//&nbsp;in&nbsp;a&nbsp;way&nbsp;compatible&nbsp;with&nbsp;the&nbsp;target&nbsp;operating&nbsp;system-defined&nbsp;file&nbsp;paths.</span><br>
<span class="lineno"></span><span class="keyword" id="3548129">package</span>&nbsp;<span class="ident" id="3548137">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3548147">import</span>&nbsp;<span class="op" id="3548154">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3548157">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3548167">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3548173">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3548181">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="3548191">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3548194">//&nbsp;A&nbsp;lazybuf&nbsp;is&nbsp;a&nbsp;lazily&nbsp;constructed&nbsp;path&nbsp;buffer.</span><br>
<span class="lineno"></span><span class="comment" id="3548244">//&nbsp;It&nbsp;supports&nbsp;append,&nbsp;reading&nbsp;previously&nbsp;appended&nbsp;bytes,</span><br>
<span class="lineno"></span><span class="comment" id="3548302">//&nbsp;and&nbsp;retrieving&nbsp;the&nbsp;final&nbsp;string.&nbsp;It&nbsp;does&nbsp;not&nbsp;allocate&nbsp;a&nbsp;buffer</span><br>
<span class="lineno"></span><span class="comment" id="3548368">//&nbsp;to&nbsp;hold&nbsp;the&nbsp;output&nbsp;until&nbsp;that&nbsp;output&nbsp;diverges&nbsp;from&nbsp;s.</span><br>
<span class="lineno">20</span><span class="keyword" id="3548425">type</span>&nbsp;<span class="ident" id="3548430">lazybuf</span>&nbsp;<span class="keyword" id="3548438">struct</span>&nbsp;<span class="op" id="3548445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548448">path</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3548459">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548467">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3548478">[</span><span class="op" id="3548479">]</span><span class="builtintype" id="3548480">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548486">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3548497">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548502">volAndPath</span>&nbsp;<span class="builtintype" id="3548513">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548521">volLen</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="3548532">int</span><br>
<span class="lineno"></span><span class="op" id="3548536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3548539">func</span>&nbsp;<span class="op" id="3548544">(</span><span class="ident" id="3548545">b</span>&nbsp;<span class="op" id="3548547">*</span><span class="ident" id="3548548"><a href="/path/filepath/path.go.html#3548430">lazybuf</a></span><span class="op" id="3548555">)</span>&nbsp;<span class="ident" id="3548557">index</span><span class="op" id="3548562">(</span><span class="ident" id="3548563">i</span>&nbsp;<span class="builtintype" id="3548565">int</span><span class="op" id="3548568">)</span>&nbsp;<span class="builtintype" id="3548570">byte</span>&nbsp;<span class="op" id="3548575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548578">if</span>&nbsp;<span class="ident" id="3548581"><a href="/path/filepath/path.go.html#3548545">b</a></span><span class="op" id="3548582">.</span><span class="ident" id="3548583">buf</span>&nbsp;<span class="op" id="3548587">!=</span>&nbsp;<span class="ident" id="3548590">nil</span>&nbsp;<span class="op" id="3548594">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548598">return</span>&nbsp;<span class="ident" id="3548605"><a href="/path/filepath/path.go.html#3548545">b</a></span><span class="op" id="3548606">.</span><span class="ident" id="3548607">buf</span><span class="op" id="3548610">[</span><span class="ident" id="3548611"><a href="/path/filepath/path.go.html#3548563">i</a></span><span class="op" id="3548612">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3548615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548618">return</span>&nbsp;<span class="ident" id="3548625"><a href="/path/filepath/path.go.html#3548545">b</a></span><span class="op" id="3548626">.</span><span class="ident" id="3548627">path</span><span class="op" id="3548631">[</span><span class="ident" id="3548632"><a href="/path/filepath/path.go.html#3548563">i</a></span><span class="op" id="3548633">]</span><br>
<span class="lineno"></span><span class="op" id="3548635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="3548638">func</span>&nbsp;<span class="op" id="3548643">(</span><span class="ident" id="3548644">b</span>&nbsp;<span class="op" id="3548646">*</span><span class="ident" id="3548647"><a href="/path/filepath/path.go.html#3548430">lazybuf</a></span><span class="op" id="3548654">)</span>&nbsp;<span class="builtinfunc" id="3548656">append</span><span class="op" id="3548662">(</span><span class="ident" id="3548663">c</span>&nbsp;<span class="builtintype" id="3548665">byte</span><span class="op" id="3548669">)</span>&nbsp;<span class="op" id="3548671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548674">if</span>&nbsp;<span class="ident" id="3548677"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548678">.</span><span class="ident" id="3548679">buf</span>&nbsp;<span class="op" id="3548683">==</span>&nbsp;<span class="ident" id="3548686">nil</span>&nbsp;<span class="op" id="3548690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548694">if</span>&nbsp;<span class="ident" id="3548697"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548698">.</span><span class="ident" id="3548699">w</span>&nbsp;<span class="op" id="3548701">&lt;</span>&nbsp;<span class="builtinfunc" id="3548703">len</span><span class="op" id="3548706">(</span><span class="ident" id="3548707"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548708">.</span><span class="ident" id="3548709">path</span><span class="op" id="3548713">)</span>&nbsp;<span class="op" id="3548715">&amp;&amp;</span>&nbsp;<span class="ident" id="3548718"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548719">.</span><span class="ident" id="3548720">path</span><span class="op" id="3548724">[</span><span class="ident" id="3548725"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548726">.</span><span class="ident" id="3548727">w</span><span class="op" id="3548728">]</span>&nbsp;<span class="op" id="3548730">==</span>&nbsp;<span class="ident" id="3548733"><a href="/path/filepath/path.go.html#3548663">c</a></span>&nbsp;<span class="op" id="3548735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548740"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548741">.</span><span class="ident" id="3548742">w</span><span class="op" id="3548743">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548749">return</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3548758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548762"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548763">.</span><span class="ident" id="3548764">buf</span>&nbsp;<span class="op" id="3548768">=</span>&nbsp;<span class="builtinfunc" id="3548770">make</span><span class="op" id="3548774">(</span><span class="op" id="3548775">[</span><span class="op" id="3548776">]</span><span class="builtintype" id="3548777">byte</span><span class="op" id="3548781">,</span>&nbsp;<span class="builtinfunc" id="3548783">len</span><span class="op" id="3548786">(</span><span class="ident" id="3548787"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548788">.</span><span class="ident" id="3548789">path</span><span class="op" id="3548793">)</span><span class="op" id="3548794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3548798">copy</span><span class="op" id="3548802">(</span><span class="ident" id="3548803"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548804">.</span><span class="ident" id="3548805">buf</span><span class="op" id="3548808">,</span>&nbsp;<span class="ident" id="3548810"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548811">.</span><span class="ident" id="3548812">path</span><span class="op" id="3548816">[</span><span class="op" id="3548817">:</span><span class="ident" id="3548818"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548819">.</span><span class="ident" id="3548820">w</span><span class="op" id="3548821">]</span><span class="op" id="3548822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3548825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548828"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548829">.</span><span class="ident" id="3548830">buf</span><span class="op" id="3548833">[</span><span class="ident" id="3548834"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548835">.</span><span class="ident" id="3548836">w</span><span class="op" id="3548837">]</span>&nbsp;<span class="op" id="3548839">=</span>&nbsp;<span class="ident" id="3548841"><a href="/path/filepath/path.go.html#3548663">c</a></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3548844"><a href="/path/filepath/path.go.html#3548644">b</a></span><span class="op" id="3548845">.</span><span class="ident" id="3548846">w</span><span class="op" id="3548847">++</span><br>
<span class="lineno"></span><span class="op" id="3548850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3548853">func</span>&nbsp;<span class="op" id="3548858">(</span><span class="ident" id="3548859">b</span>&nbsp;<span class="op" id="3548861">*</span><span class="ident" id="3548862"><a href="/path/filepath/path.go.html#3548430">lazybuf</a></span><span class="op" id="3548869">)</span>&nbsp;<span class="builtintype" id="3548871">string</span><span class="op" id="3548877">(</span><span class="op" id="3548878">)</span>&nbsp;<span class="builtintype" id="3548880">string</span>&nbsp;<span class="op" id="3548887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548890">if</span>&nbsp;<span class="ident" id="3548893"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548894">.</span><span class="ident" id="3548895">buf</span>&nbsp;<span class="op" id="3548899">==</span>&nbsp;<span class="ident" id="3548902">nil</span>&nbsp;<span class="op" id="3548906">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548910">return</span>&nbsp;<span class="ident" id="3548917"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548918">.</span><span class="ident" id="3548919">volAndPath</span><span class="op" id="3548929">[</span><span class="op" id="3548930">:</span><span class="ident" id="3548931"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548932">.</span><span class="ident" id="3548933">volLen</span><span class="op" id="3548939">+</span><span class="ident" id="3548940"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548941">.</span><span class="ident" id="3548942">w</span><span class="op" id="3548943">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3548946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3548949">return</span>&nbsp;<span class="ident" id="3548956"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548957">.</span><span class="ident" id="3548958">volAndPath</span><span class="op" id="3548968">[</span><span class="op" id="3548969">:</span><span class="ident" id="3548970"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548971">.</span><span class="ident" id="3548972">volLen</span><span class="op" id="3548978">]</span>&nbsp;<span class="op" id="3548980">+</span>&nbsp;<span class="builtintype" id="3548982">string</span><span class="op" id="3548988">(</span><span class="ident" id="3548989"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548990">.</span><span class="ident" id="3548991">buf</span><span class="op" id="3548994">[</span><span class="op" id="3548995">:</span><span class="ident" id="3548996"><a href="/path/filepath/path.go.html#3548859">b</a></span><span class="op" id="3548997">.</span><span class="ident" id="3548998">w</span><span class="op" id="3548999">]</span><span class="op" id="3549000">)</span><br>
<span class="lineno"></span><span class="op" id="3549002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="3549005">const</span>&nbsp;<span class="op" id="3549011">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549014">Separator</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3549028">=</span>&nbsp;<span class="ident" id="3549030"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3549032">.</span><span class="ident" id="3549033">PathSeparator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3549048">ListSeparator</span>&nbsp;<span class="op" id="3549062">=</span>&nbsp;<span class="ident" id="3549064"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3549066">.</span><span class="ident" id="3549067">PathListSeparator</span><br>
<span class="lineno"></span><span class="op" id="3549085">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="3549088">//&nbsp;Clean&nbsp;returns&nbsp;the&nbsp;shortest&nbsp;path&nbsp;name&nbsp;equivalent&nbsp;to&nbsp;path</span><br>
<span class="lineno"></span><span class="comment" id="3549147">//&nbsp;by&nbsp;purely&nbsp;lexical&nbsp;processing.&nbsp;&nbsp;It&nbsp;applies&nbsp;the&nbsp;following&nbsp;rules</span><br>
<span class="lineno"></span><span class="comment" id="3549212">//&nbsp;iteratively&nbsp;until&nbsp;no&nbsp;further&nbsp;processing&nbsp;can&nbsp;be&nbsp;done:</span><br>
<span class="lineno"></span><span class="comment" id="3549268">//</span><br>
<span class="lineno"></span><span class="comment" id="3549271">//&nbsp;&nbsp;&nbsp;&nbsp1.&nbsp;Replace&nbsp;multiple&nbsp;Separator&nbsp;elements&nbsp;with&nbsp;a&nbsp;single&nbsp;one.</span><br>
<span class="lineno">65</span><span class="comment" id="3549332">//&nbsp;&nbsp;&nbsp;&nbsp2.&nbsp;Eliminate&nbsp;each&nbsp;.&nbsp;path&nbsp;name&nbsp;element&nbsp;(the&nbsp;current&nbsp;directory).</span><br>
<span class="lineno"></span><span class="comment" id="3549398">//&nbsp;&nbsp;&nbsp;&nbsp3.&nbsp;Eliminate&nbsp;each&nbsp;inner&nbsp;..&nbsp;path&nbsp;name&nbsp;element&nbsp;(the&nbsp;parent&nbsp;directory)</span><br>
<span class="lineno"></span><span class="comment" id="3549469">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;along&nbsp;with&nbsp;the&nbsp;non-..&nbsp;element&nbsp;that&nbsp;precedes&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="3549523">//&nbsp;&nbsp;&nbsp;&nbsp4.&nbsp;Eliminate&nbsp;..&nbsp;elements&nbsp;that&nbsp;begin&nbsp;a&nbsp;rooted&nbsp;path:</span><br>
<span class="lineno"></span><span class="comment" id="3549577">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;that&nbsp;is,&nbsp;replace&nbsp;&#34;/..&#34;&nbsp;by&nbsp;&#34;/&#34;&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;path,</span><br>
<span class="lineno">70</span><span class="comment" id="3549641">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;assuming&nbsp;Separator&nbsp;is&nbsp;&#39;/&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="3549674">//</span><br>
<span class="lineno"></span><span class="comment" id="3549677">//&nbsp;The&nbsp;returned&nbsp;path&nbsp;ends&nbsp;in&nbsp;a&nbsp;slash&nbsp;only&nbsp;if&nbsp;it&nbsp;represents&nbsp;a&nbsp;root&nbsp;directory,</span><br>
<span class="lineno"></span><span class="comment" id="3549754">//&nbsp;such&nbsp;as&nbsp;&#34;/&#34;&nbsp;on&nbsp;Unix&nbsp;or&nbsp;`C:\`&nbsp;on&nbsp;Windows.</span><br>
<span class="lineno"></span><span class="comment" id="3549798">//</span><br>
<span class="lineno">75</span><span class="comment" id="3549801">//&nbsp;If&nbsp;the&nbsp;result&nbsp;of&nbsp;this&nbsp;process&nbsp;is&nbsp;an&nbsp;empty&nbsp;string,&nbsp;Clean</span><br>
<span class="lineno"></span><span class="comment" id="3549860">//&nbsp;returns&nbsp;the&nbsp;string&nbsp;&#34;.&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3549887">//</span><br>
<span class="lineno"></span><span class="comment" id="3549890">//&nbsp;See&nbsp;also&nbsp;Rob&nbsp;Pike,&nbsp;``Lexical&nbsp;File&nbsp;Names&nbsp;in&nbsp;Plan&nbsp;9&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3549946">//&nbsp;Getting&nbsp;Dot-Dot&nbsp;Right,&#39;&#39;</span><br>
<span class="lineno">80</span><span class="comment" id="3549974">//&nbsp;http://plan9.bell-labs.com/sys/doc/lexnames.html</span><br>
<span class="lineno"></span><span class="keyword" id="3550026">func</span>&nbsp;<span class="ident" id="3550031">Clean</span><span class="op" id="3550036">(</span><span class="ident" id="3550037">path</span>&nbsp;<span class="builtintype" id="3550042">string</span><span class="op" id="3550048">)</span>&nbsp;<span class="builtintype" id="3550050">string</span>&nbsp;<span class="op" id="3550057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550060">originalPath</span>&nbsp;<span class="op" id="3550073">:=</span>&nbsp;<span class="ident" id="3550076"><a href="/path/filepath/path.go.html#3550037">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550082">volLen</span>&nbsp;<span class="op" id="3550089">:=</span>&nbsp;<span class="ident" id="3550092"><a href="/path/filepath/path_unix.go.html#3561504">volumeNameLen</a></span><span class="op" id="3550105">(</span><span class="ident" id="3550106"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550113"><a href="/path/filepath/path.go.html#3550037">path</a></span>&nbsp;<span class="op" id="3550118">=</span>&nbsp;<span class="ident" id="3550120"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550124">[</span><span class="ident" id="3550125"><a href="/path/filepath/path.go.html#3550082">volLen</a></span><span class="op" id="3550131">:</span><span class="op" id="3550132">]</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550135">if</span>&nbsp;<span class="ident" id="3550138"><a href="/path/filepath/path.go.html#3550037">path</a></span>&nbsp;<span class="op" id="3550143">==</span>&nbsp;<span class="string" id="3550146">&#34;&#34;</span>&nbsp;<span class="op" id="3550149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550153">if</span>&nbsp;<span class="ident" id="3550156"><a href="/path/filepath/path.go.html#3550082">volLen</a></span>&nbsp;<span class="op" id="3550163">&gt;</span>&nbsp;<span class="num" id="3550165">1</span>&nbsp;<span class="op" id="3550167">&amp;&amp;</span>&nbsp;<span class="ident" id="3550170"><a href="/path/filepath/path.go.html#3550060">originalPath</a></span><span class="op" id="3550182">[</span><span class="num" id="3550183">1</span><span class="op" id="3550184">]</span>&nbsp;<span class="op" id="3550186">!=</span>&nbsp;<span class="string" id="3550189">&#39;:&#39;</span>&nbsp;<span class="op" id="3550193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550198">//&nbsp;should&nbsp;be&nbsp;UNC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550218">return</span>&nbsp;<span class="ident" id="3550225"><a href="/path/filepath/path.go.html#3552260">FromSlash</a></span><span class="op" id="3550234">(</span><span class="ident" id="3550235"><a href="/path/filepath/path.go.html#3550060">originalPath</a></span><span class="op" id="3550247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550251">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550255">return</span>&nbsp;<span class="ident" id="3550262"><a href="/path/filepath/path.go.html#3550060">originalPath</a></span>&nbsp;<span class="op" id="3550275">+</span>&nbsp;<span class="string" id="3550277">&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550285">rooted</span>&nbsp;<span class="op" id="3550292">:=</span>&nbsp;<span class="ident" id="3550295"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3550297">.</span><span class="ident" id="3550298">IsPathSeparator</span><span class="op" id="3550313">(</span><span class="ident" id="3550314"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550318">[</span><span class="num" id="3550319">0</span><span class="op" id="3550320">]</span><span class="op" id="3550321">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550325">//&nbsp;Invariants:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550341">//&nbsp;&nbsp;&nbsp;&nbspreading&nbsp;from&nbsp;path;&nbsp;r&nbsp;is&nbsp;index&nbsp;of&nbsp;next&nbsp;byte&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550400">//&nbsp;&nbsp;&nbsp;&nbspwriting&nbsp;to&nbsp;buf;&nbsp;w&nbsp;is&nbsp;index&nbsp;of&nbsp;next&nbsp;byte&nbsp;to&nbsp;write.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550454">//&nbsp;&nbsp;&nbsp;&nbspdotdot&nbsp;is&nbsp;index&nbsp;in&nbsp;buf&nbsp;where&nbsp;..&nbsp;must&nbsp;stop,&nbsp;either&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550516">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspit&nbsp;is&nbsp;the&nbsp;leading&nbsp;slash&nbsp;or&nbsp;it&nbsp;is&nbsp;a&nbsp;leading&nbsp;../../..&nbsp;prefix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550581">n</span>&nbsp;<span class="op" id="3550583">:=</span>&nbsp;<span class="builtinfunc" id="3550586">len</span><span class="op" id="3550589">(</span><span class="ident" id="3550590"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550594">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550597">out</span>&nbsp;<span class="op" id="3550601">:=</span>&nbsp;<span class="ident" id="3550604"><a href="/path/filepath/path.go.html#3548430">lazybuf</a></span><span class="op" id="3550611">{</span><span class="ident" id="3550612">path</span><span class="op" id="3550616">:</span>&nbsp;<span class="ident" id="3550618"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550622">,</span>&nbsp;<span class="ident" id="3550624">volAndPath</span><span class="op" id="3550634">:</span>&nbsp;<span class="ident" id="3550636"><a href="/path/filepath/path.go.html#3550060">originalPath</a></span><span class="op" id="3550648">,</span>&nbsp;<span class="ident" id="3550650">volLen</span><span class="op" id="3550656">:</span>&nbsp;<span class="ident" id="3550658"><a href="/path/filepath/path.go.html#3550082">volLen</a></span><span class="op" id="3550664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550667">r</span><span class="op" id="3550668">,</span>&nbsp;<span class="ident" id="3550670">dotdot</span>&nbsp;<span class="op" id="3550677">:=</span>&nbsp;<span class="num" id="3550680">0</span><span class="op" id="3550681">,</span>&nbsp;<span class="num" id="3550683">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550686">if</span>&nbsp;<span class="ident" id="3550689"><a href="/path/filepath/path.go.html#3550285">rooted</a></span>&nbsp;<span class="op" id="3550696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550700"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3550703">.</span><span class="builtinfunc" id="3550704">append</span><span class="op" id="3550710">(</span><span class="ident" id="3550711"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3550720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550724"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550725">,</span>&nbsp;<span class="ident" id="3550727"><a href="/path/filepath/path.go.html#3550670">dotdot</a></span>&nbsp;<span class="op" id="3550734">=</span>&nbsp;<span class="num" id="3550736">1</span><span class="op" id="3550737">,</span>&nbsp;<span class="num" id="3550739">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3550742">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550746">for</span>&nbsp;<span class="ident" id="3550750"><a href="/path/filepath/path.go.html#3550667">r</a></span>&nbsp;<span class="op" id="3550752">&lt;</span>&nbsp;<span class="ident" id="3550754"><a href="/path/filepath/path.go.html#3550581">n</a></span>&nbsp;<span class="op" id="3550756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550760">switch</span>&nbsp;<span class="op" id="3550767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550771">case</span>&nbsp;<span class="ident" id="3550776"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3550778">.</span><span class="ident" id="3550779">IsPathSeparator</span><span class="op" id="3550794">(</span><span class="ident" id="3550795"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550799">[</span><span class="ident" id="3550800"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550801">]</span><span class="op" id="3550802">)</span><span class="op" id="3550803">:</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550808">//&nbsp;empty&nbsp;path&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550833"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550834">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550839">case</span>&nbsp;<span class="ident" id="3550844"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550848">[</span><span class="ident" id="3550849"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550850">]</span>&nbsp;<span class="op" id="3550852">==</span>&nbsp;<span class="string" id="3550855">&#39;.&#39;</span>&nbsp;<span class="op" id="3550859">&amp;&amp;</span>&nbsp;<span class="op" id="3550862">(</span><span class="ident" id="3550863"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550864">+</span><span class="num" id="3550865">1</span>&nbsp;<span class="op" id="3550867">==</span>&nbsp;<span class="ident" id="3550870"><a href="/path/filepath/path.go.html#3550581">n</a></span>&nbsp;<span class="op" id="3550872">||</span>&nbsp;<span class="ident" id="3550875"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3550877">.</span><span class="ident" id="3550878">IsPathSeparator</span><span class="op" id="3550893">(</span><span class="ident" id="3550894"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550898">[</span><span class="ident" id="3550899"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550900">+</span><span class="num" id="3550901">1</span><span class="op" id="3550902">]</span><span class="op" id="3550903">)</span><span class="op" id="3550904">)</span><span class="op" id="3550905">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3550910">//&nbsp;.&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3550926"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550927">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3550932">case</span>&nbsp;<span class="ident" id="3550937"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550941">[</span><span class="ident" id="3550942"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550943">]</span>&nbsp;<span class="op" id="3550945">==</span>&nbsp;<span class="string" id="3550948">&#39;.&#39;</span>&nbsp;<span class="op" id="3550952">&amp;&amp;</span>&nbsp;<span class="ident" id="3550955"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3550959">[</span><span class="ident" id="3550960"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550961">+</span><span class="num" id="3550962">1</span><span class="op" id="3550963">]</span>&nbsp;<span class="op" id="3550965">==</span>&nbsp;<span class="string" id="3550968">&#39;.&#39;</span>&nbsp;<span class="op" id="3550972">&amp;&amp;</span>&nbsp;<span class="op" id="3550975">(</span><span class="ident" id="3550976"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3550977">+</span><span class="num" id="3550978">2</span>&nbsp;<span class="op" id="3550980">==</span>&nbsp;<span class="ident" id="3550983"><a href="/path/filepath/path.go.html#3550581">n</a></span>&nbsp;<span class="op" id="3550985">||</span>&nbsp;<span class="ident" id="3550988"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3550990">.</span><span class="ident" id="3550991">IsPathSeparator</span><span class="op" id="3551006">(</span><span class="ident" id="3551007"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3551011">[</span><span class="ident" id="3551012"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3551013">+</span><span class="num" id="3551014">2</span><span class="op" id="3551015">]</span><span class="op" id="3551016">)</span><span class="op" id="3551017">)</span><span class="op" id="3551018">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551023">//&nbsp;..&nbsp;element:&nbsp;remove&nbsp;to&nbsp;last&nbsp;separator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551066"><a href="/path/filepath/path.go.html#3550667">r</a></span>&nbsp;<span class="op" id="3551068">+=</span>&nbsp;<span class="num" id="3551071">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551076">switch</span>&nbsp;<span class="op" id="3551083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551088">case</span>&nbsp;<span class="ident" id="3551093"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551096">.</span><span class="ident" id="3551097">w</span>&nbsp;<span class="op" id="3551099">&gt;</span>&nbsp;<span class="ident" id="3551101"><a href="/path/filepath/path.go.html#3550670">dotdot</a></span><span class="op" id="3551107">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551113">//&nbsp;can&nbsp;backtrack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551134"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551137">.</span><span class="ident" id="3551138">w</span><span class="op" id="3551139">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551146">for</span>&nbsp;<span class="ident" id="3551150"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551153">.</span><span class="ident" id="3551154">w</span>&nbsp;<span class="op" id="3551156">&gt;</span>&nbsp;<span class="ident" id="3551158"><a href="/path/filepath/path.go.html#3550670">dotdot</a></span>&nbsp;<span class="op" id="3551165">&amp;&amp;</span>&nbsp;<span class="op" id="3551168">!</span><span class="ident" id="3551169"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3551171">.</span><span class="ident" id="3551172">IsPathSeparator</span><span class="op" id="3551187">(</span><span class="ident" id="3551188"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551191">.</span><span class="ident" id="3551192">index</span><span class="op" id="3551197">(</span><span class="ident" id="3551198"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551201">.</span><span class="ident" id="3551202">w</span><span class="op" id="3551203">)</span><span class="op" id="3551204">)</span>&nbsp;<span class="op" id="3551206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551213"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551216">.</span><span class="ident" id="3551217">w</span><span class="op" id="3551218">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551225">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551230">case</span>&nbsp;<span class="op" id="3551235">!</span><span class="ident" id="3551236"><a href="/path/filepath/path.go.html#3550285">rooted</a></span><span class="op" id="3551242">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551248">//&nbsp;cannot&nbsp;backtrack,&nbsp;but&nbsp;not&nbsp;rooted,&nbsp;so&nbsp;append&nbsp;..&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551311">if</span>&nbsp;<span class="ident" id="3551314"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551317">.</span><span class="ident" id="3551318">w</span>&nbsp;<span class="op" id="3551320">&gt;</span>&nbsp;<span class="num" id="3551322">0</span>&nbsp;<span class="op" id="3551324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551331"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551334">.</span><span class="builtinfunc" id="3551335">append</span><span class="op" id="3551341">(</span><span class="ident" id="3551342"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3551351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551357">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551363"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551366">.</span><span class="builtinfunc" id="3551367">append</span><span class="op" id="3551373">(</span><span class="string" id="3551374">&#39;.&#39;</span><span class="op" id="3551377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551383"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551386">.</span><span class="builtinfunc" id="3551387">append</span><span class="op" id="3551393">(</span><span class="string" id="3551394">&#39;.&#39;</span><span class="op" id="3551397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551403"><a href="/path/filepath/path.go.html#3550670">dotdot</a></span>&nbsp;<span class="op" id="3551410">=</span>&nbsp;<span class="ident" id="3551412"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551415">.</span><span class="ident" id="3551416">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551425">default</span><span class="op" id="3551432">:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551437">//&nbsp;real&nbsp;path&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551462">//&nbsp;add&nbsp;slash&nbsp;if&nbsp;needed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551488">if</span>&nbsp;<span class="ident" id="3551491"><a href="/path/filepath/path.go.html#3550285">rooted</a></span>&nbsp;<span class="op" id="3551498">&amp;&amp;</span>&nbsp;<span class="ident" id="3551501"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551504">.</span><span class="ident" id="3551505">w</span>&nbsp;<span class="op" id="3551507">!=</span>&nbsp;<span class="num" id="3551510">1</span>&nbsp;<span class="op" id="3551512">||</span>&nbsp;<span class="op" id="3551515">!</span><span class="ident" id="3551516"><a href="/path/filepath/path.go.html#3550285">rooted</a></span>&nbsp;<span class="op" id="3551523">&amp;&amp;</span>&nbsp;<span class="ident" id="3551526"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551529">.</span><span class="ident" id="3551530">w</span>&nbsp;<span class="op" id="3551532">!=</span>&nbsp;<span class="num" id="3551535">0</span>&nbsp;<span class="op" id="3551537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551543"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551546">.</span><span class="builtinfunc" id="3551547">append</span><span class="op" id="3551553">(</span><span class="ident" id="3551554"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3551563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551568">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551573">//&nbsp;copy&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551592">for</span>&nbsp;<span class="op" id="3551596">;</span>&nbsp;<span class="ident" id="3551598"><a href="/path/filepath/path.go.html#3550667">r</a></span>&nbsp;<span class="op" id="3551600">&lt;</span>&nbsp;<span class="ident" id="3551602"><a href="/path/filepath/path.go.html#3550581">n</a></span>&nbsp;<span class="op" id="3551604">&amp;&amp;</span>&nbsp;<span class="op" id="3551607">!</span><span class="ident" id="3551608"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3551610">.</span><span class="ident" id="3551611">IsPathSeparator</span><span class="op" id="3551626">(</span><span class="ident" id="3551627"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3551631">[</span><span class="ident" id="3551632"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3551633">]</span><span class="op" id="3551634">)</span><span class="op" id="3551635">;</span>&nbsp;<span class="ident" id="3551637"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3551638">++</span>&nbsp;<span class="op" id="3551641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551647"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551650">.</span><span class="builtinfunc" id="3551651">append</span><span class="op" id="3551657">(</span><span class="ident" id="3551658"><a href="/path/filepath/path.go.html#3550037">path</a></span><span class="op" id="3551662">[</span><span class="ident" id="3551663"><a href="/path/filepath/path.go.html#3550667">r</a></span><span class="op" id="3551664">]</span><span class="op" id="3551665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551674">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3551681">//&nbsp;Turn&nbsp;empty&nbsp;string&nbsp;into&nbsp;&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551712">if</span>&nbsp;<span class="ident" id="3551715"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551718">.</span><span class="ident" id="3551719">w</span>&nbsp;<span class="op" id="3551721">==</span>&nbsp;<span class="num" id="3551724">0</span>&nbsp;<span class="op" id="3551726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3551730"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551733">.</span><span class="builtinfunc" id="3551734">append</span><span class="op" id="3551740">(</span><span class="string" id="3551741">&#39;.&#39;</span><span class="op" id="3551744">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3551747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551751">return</span>&nbsp;<span class="ident" id="3551758"><a href="/path/filepath/path.go.html#3552260">FromSlash</a></span><span class="op" id="3551767">(</span><span class="ident" id="3551768"><a href="/path/filepath/path.go.html#3550597">out</a></span><span class="op" id="3551771">.</span><span class="builtintype" id="3551772">string</span><span class="op" id="3551778">(</span><span class="op" id="3551779">)</span><span class="op" id="3551780">)</span><br>
<span class="lineno"></span><span class="op" id="3551782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="comment" id="3551785">//&nbsp;ToSlash&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;replacing&nbsp;each&nbsp;separator&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="3551853">//&nbsp;in&nbsp;path&nbsp;with&nbsp;a&nbsp;slash&nbsp;(&#39;/&#39;)&nbsp;character.&nbsp;Multiple&nbsp;separators&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="3551918">//&nbsp;replaced&nbsp;by&nbsp;multiple&nbsp;slashes.</span><br>
<span class="lineno"></span><span class="keyword" id="3551951">func</span>&nbsp;<span class="ident" id="3551956">ToSlash</span><span class="op" id="3551963">(</span><span class="ident" id="3551964">path</span>&nbsp;<span class="builtintype" id="3551969">string</span><span class="op" id="3551975">)</span>&nbsp;<span class="builtintype" id="3551977">string</span>&nbsp;<span class="op" id="3551984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3551987">if</span>&nbsp;<span class="ident" id="3551990"><a href="/path/filepath/path.go.html#3549014">Separator</a></span>&nbsp;<span class="op" id="3552000">==</span>&nbsp;<span class="string" id="3552003">&#39;/&#39;</span>&nbsp;<span class="op" id="3552007">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552011">return</span>&nbsp;<span class="ident" id="3552018"><a href="/path/filepath/path.go.html#3551964">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552027">return</span>&nbsp;<span class="ident" id="3552034"><a href="/path/filepath/path.go.html#3548181">strings</a></span><span class="op" id="3552041">.</span><span class="ident" id="3552042">Replace</span><span class="op" id="3552049">(</span><span class="ident" id="3552050"><a href="/path/filepath/path.go.html#3551964">path</a></span><span class="op" id="3552054">,</span>&nbsp;<span class="builtintype" id="3552056">string</span><span class="op" id="3552062">(</span><span class="ident" id="3552063"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3552072">)</span><span class="op" id="3552073">,</span>&nbsp;<span class="string" id="3552075">&#34;/&#34;</span><span class="op" id="3552078">,</span>&nbsp;<span class="op" id="3552080">-</span><span class="num" id="3552081">1</span><span class="op" id="3552082">)</span><br>
<span class="lineno"></span><span class="op" id="3552084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="3552087">//&nbsp;FromSlash&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;replacing&nbsp;each&nbsp;slash&nbsp;(&#39;/&#39;)&nbsp;character</span><br>
<span class="lineno"></span><span class="comment" id="3552159">//&nbsp;in&nbsp;path&nbsp;with&nbsp;a&nbsp;separator&nbsp;character.&nbsp;Multiple&nbsp;slashes&nbsp;are&nbsp;replaced</span><br>
<span class="lineno"></span><span class="comment" id="3552228">//&nbsp;by&nbsp;multiple&nbsp;separators.</span><br>
<span class="lineno"></span><span class="keyword" id="3552255">func</span>&nbsp;<span class="ident" id="3552260">FromSlash</span><span class="op" id="3552269">(</span><span class="ident" id="3552270">path</span>&nbsp;<span class="builtintype" id="3552275">string</span><span class="op" id="3552281">)</span>&nbsp;<span class="builtintype" id="3552283">string</span>&nbsp;<span class="op" id="3552290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552293">if</span>&nbsp;<span class="ident" id="3552296"><a href="/path/filepath/path.go.html#3549014">Separator</a></span>&nbsp;<span class="op" id="3552306">==</span>&nbsp;<span class="string" id="3552309">&#39;/&#39;</span>&nbsp;<span class="op" id="3552313">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552317">return</span>&nbsp;<span class="ident" id="3552324"><a href="/path/filepath/path.go.html#3552270">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3552330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552333">return</span>&nbsp;<span class="ident" id="3552340"><a href="/path/filepath/path.go.html#3548181">strings</a></span><span class="op" id="3552347">.</span><span class="ident" id="3552348">Replace</span><span class="op" id="3552355">(</span><span class="ident" id="3552356"><a href="/path/filepath/path.go.html#3552270">path</a></span><span class="op" id="3552360">,</span>&nbsp;<span class="string" id="3552362">&#34;/&#34;</span><span class="op" id="3552365">,</span>&nbsp;<span class="builtintype" id="3552367">string</span><span class="op" id="3552373">(</span><span class="ident" id="3552374"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3552383">)</span><span class="op" id="3552384">,</span>&nbsp;<span class="op" id="3552386">-</span><span class="num" id="3552387">1</span><span class="op" id="3552388">)</span><br>
<span class="lineno"></span><span class="op" id="3552390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="3552393">//&nbsp;SplitList&nbsp;splits&nbsp;a&nbsp;list&nbsp;of&nbsp;paths&nbsp;joined&nbsp;by&nbsp;the&nbsp;OS-specific&nbsp;ListSeparator,</span><br>
<span class="lineno"></span><span class="comment" id="3552470">//&nbsp;usually&nbsp;found&nbsp;in&nbsp;PATH&nbsp;or&nbsp;GOPATH&nbsp;environment&nbsp;variables.</span><br>
<span class="lineno"></span><span class="comment" id="3552528">//&nbsp;Unlike&nbsp;strings.Split,&nbsp;SplitList&nbsp;returns&nbsp;an&nbsp;empty&nbsp;slice&nbsp;when&nbsp;passed&nbsp;an&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="3552615">func</span>&nbsp;<span class="ident" id="3552620">SplitList</span><span class="op" id="3552629">(</span><span class="ident" id="3552630">path</span>&nbsp;<span class="builtintype" id="3552635">string</span><span class="op" id="3552641">)</span>&nbsp;<span class="op" id="3552643">[</span><span class="op" id="3552644">]</span><span class="builtintype" id="3552645">string</span>&nbsp;<span class="op" id="3552652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3552655">return</span>&nbsp;<span class="ident" id="3552662"><a href="/path/filepath/path_unix.go.html#3561708">splitList</a></span><span class="op" id="3552671">(</span><span class="ident" id="3552672"><a href="/path/filepath/path.go.html#3552630">path</a></span><span class="op" id="3552676">)</span><br>
<span class="lineno">180</span><span class="op" id="3552678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3552681">//&nbsp;Split&nbsp;splits&nbsp;path&nbsp;immediately&nbsp;following&nbsp;the&nbsp;final&nbsp;Separator,</span><br>
<span class="lineno"></span><span class="comment" id="3552745">//&nbsp;separating&nbsp;it&nbsp;into&nbsp;a&nbsp;directory&nbsp;and&nbsp;file&nbsp;name&nbsp;component.</span><br>
<span class="lineno"></span><span class="comment" id="3552804">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;Separator&nbsp;in&nbsp;path,&nbsp;Split&nbsp;returns&nbsp;an&nbsp;empty&nbsp;dir</span><br>
<span class="lineno">185</span><span class="comment" id="3552868">//&nbsp;and&nbsp;file&nbsp;set&nbsp;to&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3552893">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;have&nbsp;the&nbsp;property&nbsp;that&nbsp;path&nbsp;=&nbsp;dir+file.</span><br>
<span class="lineno"></span><span class="keyword" id="3552956">func</span>&nbsp;<span class="ident" id="3552961">Split</span><span class="op" id="3552966">(</span><span class="ident" id="3552967">path</span>&nbsp;<span class="builtintype" id="3552972">string</span><span class="op" id="3552978">)</span>&nbsp;<span class="op" id="3552980">(</span><span class="ident" id="3552981">dir</span><span class="op" id="3552984">,</span>&nbsp;<span class="ident" id="3552986">file</span>&nbsp;<span class="builtintype" id="3552991">string</span><span class="op" id="3552997">)</span>&nbsp;<span class="op" id="3552999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3553002">vol</span>&nbsp;<span class="op" id="3553006">:=</span>&nbsp;<span class="ident" id="3553009"><a href="/path/filepath/path.go.html#3560942">VolumeName</a></span><span class="op" id="3553019">(</span><span class="ident" id="3553020"><a href="/path/filepath/path.go.html#3552967">path</a></span><span class="op" id="3553024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3553027">i</span>&nbsp;<span class="op" id="3553029">:=</span>&nbsp;<span class="builtinfunc" id="3553032">len</span><span class="op" id="3553035">(</span><span class="ident" id="3553036"><a href="/path/filepath/path.go.html#3552967">path</a></span><span class="op" id="3553040">)</span>&nbsp;<span class="op" id="3553042">-</span>&nbsp;<span class="num" id="3553044">1</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553047">for</span>&nbsp;<span class="ident" id="3553051"><a href="/path/filepath/path.go.html#3553027">i</a></span>&nbsp;<span class="op" id="3553053">&gt;=</span>&nbsp;<span class="builtinfunc" id="3553056">len</span><span class="op" id="3553059">(</span><span class="ident" id="3553060"><a href="/path/filepath/path.go.html#3553002">vol</a></span><span class="op" id="3553063">)</span>&nbsp;<span class="op" id="3553065">&amp;&amp;</span>&nbsp;<span class="op" id="3553068">!</span><span class="ident" id="3553069"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3553071">.</span><span class="ident" id="3553072">IsPathSeparator</span><span class="op" id="3553087">(</span><span class="ident" id="3553088"><a href="/path/filepath/path.go.html#3552967">path</a></span><span class="op" id="3553092">[</span><span class="ident" id="3553093"><a href="/path/filepath/path.go.html#3553027">i</a></span><span class="op" id="3553094">]</span><span class="op" id="3553095">)</span>&nbsp;<span class="op" id="3553097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3553101"><a href="/path/filepath/path.go.html#3553027">i</a></span><span class="op" id="3553102">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553109">return</span>&nbsp;<span class="ident" id="3553116"><a href="/path/filepath/path.go.html#3552967">path</a></span><span class="op" id="3553120">[</span><span class="op" id="3553121">:</span><span class="ident" id="3553122"><a href="/path/filepath/path.go.html#3553027">i</a></span><span class="op" id="3553123">+</span><span class="num" id="3553124">1</span><span class="op" id="3553125">]</span><span class="op" id="3553126">,</span>&nbsp;<span class="ident" id="3553128"><a href="/path/filepath/path.go.html#3552967">path</a></span><span class="op" id="3553132">[</span><span class="ident" id="3553133"><a href="/path/filepath/path.go.html#3553027">i</a></span><span class="op" id="3553134">+</span><span class="num" id="3553135">1</span><span class="op" id="3553136">:</span><span class="op" id="3553137">]</span><br>
<span class="lineno"></span><span class="op" id="3553139">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="comment" id="3553142">//&nbsp;Join&nbsp;joins&nbsp;any&nbsp;number&nbsp;of&nbsp;path&nbsp;elements&nbsp;into&nbsp;a&nbsp;single&nbsp;path,&nbsp;adding</span><br>
<span class="lineno"></span><span class="comment" id="3553211">//&nbsp;a&nbsp;Separator&nbsp;if&nbsp;necessary.&nbsp;The&nbsp;result&nbsp;is&nbsp;Cleaned,&nbsp;in&nbsp;particular</span><br>
<span class="lineno"></span><span class="comment" id="3553277">//&nbsp;all&nbsp;empty&nbsp;strings&nbsp;are&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="keyword" id="3553311">func</span>&nbsp;<span class="ident" id="3553316">Join</span><span class="op" id="3553320">(</span><span class="ident" id="3553321">elem</span>&nbsp;<span class="op" id="3553326">...</span><span class="builtintype" id="3553329">string</span><span class="op" id="3553335">)</span>&nbsp;<span class="builtintype" id="3553337">string</span>&nbsp;<span class="op" id="3553344">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553347">for</span>&nbsp;<span class="ident" id="3553351">i</span><span class="op" id="3553352">,</span>&nbsp;<span class="ident" id="3553354">e</span>&nbsp;<span class="op" id="3553356">:=</span>&nbsp;<span class="keyword" id="3553359">range</span>&nbsp;<span class="ident" id="3553365"><a href="/path/filepath/path.go.html#3553321">elem</a></span>&nbsp;<span class="op" id="3553370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553374">if</span>&nbsp;<span class="ident" id="3553377"><a href="/path/filepath/path.go.html#3553354">e</a></span>&nbsp;<span class="op" id="3553379">!=</span>&nbsp;<span class="string" id="3553382">&#34;&#34;</span>&nbsp;<span class="op" id="3553385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553390">return</span>&nbsp;<span class="ident" id="3553397"><a href="/path/filepath/path.go.html#3550031">Clean</a></span><span class="op" id="3553402">(</span><span class="ident" id="3553403"><a href="/path/filepath/path.go.html#3548181">strings</a></span><span class="op" id="3553410">.</span><span class="ident" id="3553411">Join</span><span class="op" id="3553415">(</span><span class="ident" id="3553416"><a href="/path/filepath/path.go.html#3553321">elem</a></span><span class="op" id="3553420">[</span><span class="ident" id="3553421"><a href="/path/filepath/path.go.html#3553351">i</a></span><span class="op" id="3553422">:</span><span class="op" id="3553423">]</span><span class="op" id="3553424">,</span>&nbsp;<span class="builtintype" id="3553426">string</span><span class="op" id="3553432">(</span><span class="ident" id="3553433"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3553442">)</span><span class="op" id="3553443">)</span><span class="op" id="3553444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553451">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553454">return</span>&nbsp;<span class="string" id="3553461">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3553464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3553467">//&nbsp;Ext&nbsp;returns&nbsp;the&nbsp;file&nbsp;name&nbsp;extension&nbsp;used&nbsp;by&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3553520">//&nbsp;The&nbsp;extension&nbsp;is&nbsp;the&nbsp;suffix&nbsp;beginning&nbsp;at&nbsp;the&nbsp;final&nbsp;dot</span><br>
<span class="lineno">210</span><span class="comment" id="3553578">//&nbsp;in&nbsp;the&nbsp;final&nbsp;element&nbsp;of&nbsp;path;&nbsp;it&nbsp;is&nbsp;empty&nbsp;if&nbsp;there&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="3553635">//&nbsp;no&nbsp;dot.</span><br>
<span class="lineno"></span><span class="keyword" id="3553646">func</span>&nbsp;<span class="ident" id="3553651">Ext</span><span class="op" id="3553654">(</span><span class="ident" id="3553655">path</span>&nbsp;<span class="builtintype" id="3553660">string</span><span class="op" id="3553666">)</span>&nbsp;<span class="builtintype" id="3553668">string</span>&nbsp;<span class="op" id="3553675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553678">for</span>&nbsp;<span class="ident" id="3553682">i</span>&nbsp;<span class="op" id="3553684">:=</span>&nbsp;<span class="builtinfunc" id="3553687">len</span><span class="op" id="3553690">(</span><span class="ident" id="3553691"><a href="/path/filepath/path.go.html#3553655">path</a></span><span class="op" id="3553695">)</span>&nbsp;<span class="op" id="3553697">-</span>&nbsp;<span class="num" id="3553699">1</span><span class="op" id="3553700">;</span>&nbsp;<span class="ident" id="3553702"><a href="/path/filepath/path.go.html#3553682">i</a></span>&nbsp;<span class="op" id="3553704">&gt;=</span>&nbsp;<span class="num" id="3553707">0</span>&nbsp;<span class="op" id="3553709">&amp;&amp;</span>&nbsp;<span class="op" id="3553712">!</span><span class="ident" id="3553713"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3553715">.</span><span class="ident" id="3553716">IsPathSeparator</span><span class="op" id="3553731">(</span><span class="ident" id="3553732"><a href="/path/filepath/path.go.html#3553655">path</a></span><span class="op" id="3553736">[</span><span class="ident" id="3553737"><a href="/path/filepath/path.go.html#3553682">i</a></span><span class="op" id="3553738">]</span><span class="op" id="3553739">)</span><span class="op" id="3553740">;</span>&nbsp;<span class="ident" id="3553742"><a href="/path/filepath/path.go.html#3553682">i</a></span><span class="op" id="3553743">--</span>&nbsp;<span class="op" id="3553746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553750">if</span>&nbsp;<span class="ident" id="3553753"><a href="/path/filepath/path.go.html#3553655">path</a></span><span class="op" id="3553757">[</span><span class="ident" id="3553758"><a href="/path/filepath/path.go.html#3553682">i</a></span><span class="op" id="3553759">]</span>&nbsp;<span class="op" id="3553761">==</span>&nbsp;<span class="string" id="3553764">&#39;.&#39;</span>&nbsp;<span class="op" id="3553768">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553773">return</span>&nbsp;<span class="ident" id="3553780"><a href="/path/filepath/path.go.html#3553655">path</a></span><span class="op" id="3553784">[</span><span class="ident" id="3553785"><a href="/path/filepath/path.go.html#3553682">i</a></span><span class="op" id="3553786">:</span><span class="op" id="3553787">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3553794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3553797">return</span>&nbsp;<span class="string" id="3553804">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="3553807">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="3553810">//&nbsp;EvalSymlinks&nbsp;returns&nbsp;the&nbsp;path&nbsp;name&nbsp;after&nbsp;the&nbsp;evaluation&nbsp;of&nbsp;any&nbsp;symbolic</span><br>
<span class="lineno"></span><span class="comment" id="3553885">//&nbsp;links.</span><br>
<span class="lineno"></span><span class="comment" id="3553895">//&nbsp;If&nbsp;path&nbsp;is&nbsp;relative&nbsp;the&nbsp;result&nbsp;will&nbsp;be&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;directory,</span><br>
<span class="lineno"></span><span class="comment" id="3553972">//&nbsp;unless&nbsp;one&nbsp;of&nbsp;the&nbsp;components&nbsp;is&nbsp;an&nbsp;absolute&nbsp;symbolic&nbsp;link.</span><br>
<span class="lineno">225</span><span class="keyword" id="3554034">func</span>&nbsp;<span class="ident" id="3554039">EvalSymlinks</span><span class="op" id="3554051">(</span><span class="ident" id="3554052">path</span>&nbsp;<span class="builtintype" id="3554057">string</span><span class="op" id="3554063">)</span>&nbsp;<span class="op" id="3554065">(</span><span class="builtintype" id="3554066">string</span><span class="op" id="3554072">,</span>&nbsp;<span class="builtintype" id="3554074">error</span><span class="op" id="3554079">)</span>&nbsp;<span class="op" id="3554081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554084">return</span>&nbsp;<span class="ident" id="3554091"><a href="/path/filepath/symlink_unix.go.html#3563446">evalSymlinks</a></span><span class="op" id="3554103">(</span><span class="ident" id="3554104"><a href="/path/filepath/path.go.html#3554052">path</a></span><span class="op" id="3554108">)</span><br>
<span class="lineno"></span><span class="op" id="3554110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3554113">//&nbsp;Abs&nbsp;returns&nbsp;an&nbsp;absolute&nbsp;representation&nbsp;of&nbsp;path.</span><br>
<span class="lineno">230</span><span class="comment" id="3554164">//&nbsp;If&nbsp;the&nbsp;path&nbsp;is&nbsp;not&nbsp;absolute&nbsp;it&nbsp;will&nbsp;be&nbsp;joined&nbsp;with&nbsp;the&nbsp;current</span><br>
<span class="lineno"></span><span class="comment" id="3554230">//&nbsp;working&nbsp;directory&nbsp;to&nbsp;turn&nbsp;it&nbsp;into&nbsp;an&nbsp;absolute&nbsp;path.&nbsp;&nbsp;The&nbsp;absolute</span><br>
<span class="lineno"></span><span class="comment" id="3554299">//&nbsp;path&nbsp;name&nbsp;for&nbsp;a&nbsp;given&nbsp;file&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;unique.</span><br>
<span class="lineno"></span><span class="keyword" id="3554361">func</span>&nbsp;<span class="ident" id="3554366">Abs</span><span class="op" id="3554369">(</span><span class="ident" id="3554370">path</span>&nbsp;<span class="builtintype" id="3554375">string</span><span class="op" id="3554381">)</span>&nbsp;<span class="op" id="3554383">(</span><span class="builtintype" id="3554384">string</span><span class="op" id="3554390">,</span>&nbsp;<span class="builtintype" id="3554392">error</span><span class="op" id="3554397">)</span>&nbsp;<span class="op" id="3554399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554402">return</span>&nbsp;<span class="ident" id="3554409"><a href="/path/filepath/path_unix.go.html#3561841">abs</a></span><span class="op" id="3554412">(</span><span class="ident" id="3554413"><a href="/path/filepath/path.go.html#3554370">path</a></span><span class="op" id="3554417">)</span><br>
<span class="lineno">235</span><span class="op" id="3554419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3554422">func</span>&nbsp;<span class="ident" id="3554427">unixAbs</span><span class="op" id="3554434">(</span><span class="ident" id="3554435">path</span>&nbsp;<span class="builtintype" id="3554440">string</span><span class="op" id="3554446">)</span>&nbsp;<span class="op" id="3554448">(</span><span class="builtintype" id="3554449">string</span><span class="op" id="3554455">,</span>&nbsp;<span class="builtintype" id="3554457">error</span><span class="op" id="3554462">)</span>&nbsp;<span class="op" id="3554464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554467">if</span>&nbsp;<span class="ident" id="3554470"><a href="/path/filepath/path_unix.go.html#3561335">IsAbs</a></span><span class="op" id="3554475">(</span><span class="ident" id="3554476"><a href="/path/filepath/path.go.html#3554435">path</a></span><span class="op" id="3554480">)</span>&nbsp;<span class="op" id="3554482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554486">return</span>&nbsp;<span class="ident" id="3554493"><a href="/path/filepath/path.go.html#3550031">Clean</a></span><span class="op" id="3554498">(</span><span class="ident" id="3554499"><a href="/path/filepath/path.go.html#3554435">path</a></span><span class="op" id="3554503">)</span><span class="op" id="3554504">,</span>&nbsp;<span class="ident" id="3554506">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3554511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3554514">wd</span><span class="op" id="3554516">,</span>&nbsp;<span class="ident" id="3554518">err</span>&nbsp;<span class="op" id="3554522">:=</span>&nbsp;<span class="ident" id="3554525"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3554527">.</span><span class="ident" id="3554528">Getwd</span><span class="op" id="3554533">(</span><span class="op" id="3554534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554537">if</span>&nbsp;<span class="ident" id="3554540"><a href="/path/filepath/path.go.html#3554518">err</a></span>&nbsp;<span class="op" id="3554544">!=</span>&nbsp;<span class="ident" id="3554547">nil</span>&nbsp;<span class="op" id="3554551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554555">return</span>&nbsp;<span class="string" id="3554562">&#34;&#34;</span><span class="op" id="3554564">,</span>&nbsp;<span class="ident" id="3554566"><a href="/path/filepath/path.go.html#3554518">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3554571">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3554574">return</span>&nbsp;<span class="ident" id="3554581"><a href="/path/filepath/path.go.html#3553316">Join</a></span><span class="op" id="3554585">(</span><span class="ident" id="3554586"><a href="/path/filepath/path.go.html#3554514">wd</a></span><span class="op" id="3554588">,</span>&nbsp;<span class="ident" id="3554590"><a href="/path/filepath/path.go.html#3554435">path</a></span><span class="op" id="3554594">)</span><span class="op" id="3554595">,</span>&nbsp;<span class="ident" id="3554597">nil</span><br>
<span class="lineno"></span><span class="op" id="3554601">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3554604">//&nbsp;Rel&nbsp;returns&nbsp;a&nbsp;relative&nbsp;path&nbsp;that&nbsp;is&nbsp;lexically&nbsp;equivalent&nbsp;to&nbsp;targpath&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="3554681">//&nbsp;joined&nbsp;to&nbsp;basepath&nbsp;with&nbsp;an&nbsp;intervening&nbsp;separator.&nbsp;That&nbsp;is,</span><br>
<span class="lineno">250</span><span class="comment" id="3554743">//&nbsp;Join(basepath,&nbsp;Rel(basepath,&nbsp;targpath))&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;targpath&nbsp;itself.</span><br>
<span class="lineno"></span><span class="comment" id="3554820">//&nbsp;On&nbsp;success,&nbsp;the&nbsp;returned&nbsp;path&nbsp;will&nbsp;always&nbsp;be&nbsp;relative&nbsp;to&nbsp;basepath,</span><br>
<span class="lineno"></span><span class="comment" id="3554890">//&nbsp;even&nbsp;if&nbsp;basepath&nbsp;and&nbsp;targpath&nbsp;share&nbsp;no&nbsp;elements.</span><br>
<span class="lineno"></span><span class="comment" id="3554942">//&nbsp;An&nbsp;error&nbsp;is&nbsp;returned&nbsp;if&nbsp;targpath&nbsp;can&#39;t&nbsp;be&nbsp;made&nbsp;relative&nbsp;to&nbsp;basepath&nbsp;or&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="3555019">//&nbsp;knowing&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;would&nbsp;be&nbsp;necessary&nbsp;to&nbsp;compute&nbsp;it.</span><br>
<span class="lineno">255</span><span class="keyword" id="3555094">func</span>&nbsp;<span class="ident" id="3555099">Rel</span><span class="op" id="3555102">(</span><span class="ident" id="3555103">basepath</span><span class="op" id="3555111">,</span>&nbsp;<span class="ident" id="3555113">targpath</span>&nbsp;<span class="builtintype" id="3555122">string</span><span class="op" id="3555128">)</span>&nbsp;<span class="op" id="3555130">(</span><span class="builtintype" id="3555131">string</span><span class="op" id="3555137">,</span>&nbsp;<span class="builtintype" id="3555139">error</span><span class="op" id="3555144">)</span>&nbsp;<span class="op" id="3555146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555149">baseVol</span>&nbsp;<span class="op" id="3555157">:=</span>&nbsp;<span class="ident" id="3555160"><a href="/path/filepath/path.go.html#3560942">VolumeName</a></span><span class="op" id="3555170">(</span><span class="ident" id="3555171"><a href="/path/filepath/path.go.html#3555103">basepath</a></span><span class="op" id="3555179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555182">targVol</span>&nbsp;<span class="op" id="3555190">:=</span>&nbsp;<span class="ident" id="3555193"><a href="/path/filepath/path.go.html#3560942">VolumeName</a></span><span class="op" id="3555203">(</span><span class="ident" id="3555204"><a href="/path/filepath/path.go.html#3555113">targpath</a></span><span class="op" id="3555212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555215">base</span>&nbsp;<span class="op" id="3555220">:=</span>&nbsp;<span class="ident" id="3555223"><a href="/path/filepath/path.go.html#3550031">Clean</a></span><span class="op" id="3555228">(</span><span class="ident" id="3555229"><a href="/path/filepath/path.go.html#3555103">basepath</a></span><span class="op" id="3555237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555240">targ</span>&nbsp;<span class="op" id="3555245">:=</span>&nbsp;<span class="ident" id="3555248"><a href="/path/filepath/path.go.html#3550031">Clean</a></span><span class="op" id="3555253">(</span><span class="ident" id="3555254"><a href="/path/filepath/path.go.html#3555113">targpath</a></span><span class="op" id="3555262">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555265">if</span>&nbsp;<span class="ident" id="3555268"><a href="/path/filepath/path.go.html#3555240">targ</a></span>&nbsp;<span class="op" id="3555273">==</span>&nbsp;<span class="ident" id="3555276"><a href="/path/filepath/path.go.html#3555215">base</a></span>&nbsp;<span class="op" id="3555281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555285">return</span>&nbsp;<span class="string" id="3555292">&#34;.&#34;</span><span class="op" id="3555295">,</span>&nbsp;<span class="ident" id="3555297">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555305"><a href="/path/filepath/path.go.html#3555215">base</a></span>&nbsp;<span class="op" id="3555310">=</span>&nbsp;<span class="ident" id="3555312"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3555316">[</span><span class="builtinfunc" id="3555317">len</span><span class="op" id="3555320">(</span><span class="ident" id="3555321"><a href="/path/filepath/path.go.html#3555149">baseVol</a></span><span class="op" id="3555328">)</span><span class="op" id="3555329">:</span><span class="op" id="3555330">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555333"><a href="/path/filepath/path.go.html#3555240">targ</a></span>&nbsp;<span class="op" id="3555338">=</span>&nbsp;<span class="ident" id="3555340"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3555344">[</span><span class="builtinfunc" id="3555345">len</span><span class="op" id="3555348">(</span><span class="ident" id="3555349"><a href="/path/filepath/path.go.html#3555182">targVol</a></span><span class="op" id="3555356">)</span><span class="op" id="3555357">:</span><span class="op" id="3555358">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555361">if</span>&nbsp;<span class="ident" id="3555364"><a href="/path/filepath/path.go.html#3555215">base</a></span>&nbsp;<span class="op" id="3555369">==</span>&nbsp;<span class="string" id="3555372">&#34;.&#34;</span>&nbsp;<span class="op" id="3555376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555380"><a href="/path/filepath/path.go.html#3555215">base</a></span>&nbsp;<span class="op" id="3555385">=</span>&nbsp;<span class="string" id="3555387">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3555394">//&nbsp;Can&#39;t&nbsp;use&nbsp;IsAbs&nbsp;-&nbsp;`\a`&nbsp;and&nbsp;`a`&nbsp;are&nbsp;both&nbsp;relative&nbsp;in&nbsp;Windows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555459">baseSlashed</span>&nbsp;<span class="op" id="3555471">:=</span>&nbsp;<span class="builtinfunc" id="3555474">len</span><span class="op" id="3555477">(</span><span class="ident" id="3555478"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3555482">)</span>&nbsp;<span class="op" id="3555484">&gt;</span>&nbsp;<span class="num" id="3555486">0</span>&nbsp;<span class="op" id="3555488">&amp;&amp;</span>&nbsp;<span class="ident" id="3555491"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3555495">[</span><span class="num" id="3555496">0</span><span class="op" id="3555497">]</span>&nbsp;<span class="op" id="3555499">==</span>&nbsp;<span class="ident" id="3555502"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555513">targSlashed</span>&nbsp;<span class="op" id="3555525">:=</span>&nbsp;<span class="builtinfunc" id="3555528">len</span><span class="op" id="3555531">(</span><span class="ident" id="3555532"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3555536">)</span>&nbsp;<span class="op" id="3555538">&gt;</span>&nbsp;<span class="num" id="3555540">0</span>&nbsp;<span class="op" id="3555542">&amp;&amp;</span>&nbsp;<span class="ident" id="3555545"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3555549">[</span><span class="num" id="3555550">0</span><span class="op" id="3555551">]</span>&nbsp;<span class="op" id="3555553">==</span>&nbsp;<span class="ident" id="3555556"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555567">if</span>&nbsp;<span class="ident" id="3555570"><a href="/path/filepath/path.go.html#3555459">baseSlashed</a></span>&nbsp;<span class="op" id="3555582">!=</span>&nbsp;<span class="ident" id="3555585"><a href="/path/filepath/path.go.html#3555513">targSlashed</a></span>&nbsp;<span class="op" id="3555597">||</span>&nbsp;<span class="ident" id="3555600"><a href="/path/filepath/path.go.html#3555149">baseVol</a></span>&nbsp;<span class="op" id="3555608">!=</span>&nbsp;<span class="ident" id="3555611"><a href="/path/filepath/path.go.html#3555182">targVol</a></span>&nbsp;<span class="op" id="3555619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555623">return</span>&nbsp;<span class="string" id="3555630">&#34;&#34;</span><span class="op" id="3555632">,</span>&nbsp;<span class="ident" id="3555634"><a href="/path/filepath/path.go.html#3548157">errors</a></span><span class="op" id="3555640">.</span><span class="ident" id="3555641">New</span><span class="op" id="3555644">(</span><span class="string" id="3555645">&#34;Rel:&nbsp;can&#39;t&nbsp;make&nbsp;&#34;</span>&nbsp;<span class="op" id="3555664">+</span>&nbsp;<span class="ident" id="3555666"><a href="/path/filepath/path.go.html#3555240">targ</a></span>&nbsp;<span class="op" id="3555671">+</span>&nbsp;<span class="string" id="3555673">&#34;&nbsp;relative&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="3555689">+</span>&nbsp;<span class="ident" id="3555691"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3555695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3555701">//&nbsp;Position&nbsp;base[b0:bi]&nbsp;and&nbsp;targ[t0:ti]&nbsp;at&nbsp;the&nbsp;first&nbsp;differing&nbsp;elements.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555775">bl</span>&nbsp;<span class="op" id="3555778">:=</span>&nbsp;<span class="builtinfunc" id="3555781">len</span><span class="op" id="3555784">(</span><span class="ident" id="3555785"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3555789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555792">tl</span>&nbsp;<span class="op" id="3555795">:=</span>&nbsp;<span class="builtinfunc" id="3555798">len</span><span class="op" id="3555801">(</span><span class="ident" id="3555802"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3555806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555809">var</span>&nbsp;<span class="ident" id="3555813">b0</span><span class="op" id="3555815">,</span>&nbsp;<span class="ident" id="3555817">bi</span><span class="op" id="3555819">,</span>&nbsp;<span class="ident" id="3555821">t0</span><span class="op" id="3555823">,</span>&nbsp;<span class="ident" id="3555825">ti</span>&nbsp;<span class="builtintype" id="3555828">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555833">for</span>&nbsp;<span class="op" id="3555837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555841">for</span>&nbsp;<span class="ident" id="3555845"><a href="/path/filepath/path.go.html#3555817">bi</a></span>&nbsp;<span class="op" id="3555848">&lt;</span>&nbsp;<span class="ident" id="3555850"><a href="/path/filepath/path.go.html#3555775">bl</a></span>&nbsp;<span class="op" id="3555853">&amp;&amp;</span>&nbsp;<span class="ident" id="3555856"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3555860">[</span><span class="ident" id="3555861"><a href="/path/filepath/path.go.html#3555817">bi</a></span><span class="op" id="3555863">]</span>&nbsp;<span class="op" id="3555865">!=</span>&nbsp;<span class="ident" id="3555868"><a href="/path/filepath/path.go.html#3549014">Separator</a></span>&nbsp;<span class="op" id="3555878">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555883"><a href="/path/filepath/path.go.html#3555817">bi</a></span><span class="op" id="3555885">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555894">for</span>&nbsp;<span class="ident" id="3555898"><a href="/path/filepath/path.go.html#3555825">ti</a></span>&nbsp;<span class="op" id="3555901">&lt;</span>&nbsp;<span class="ident" id="3555903"><a href="/path/filepath/path.go.html#3555792">tl</a></span>&nbsp;<span class="op" id="3555906">&amp;&amp;</span>&nbsp;<span class="ident" id="3555909"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3555913">[</span><span class="ident" id="3555914"><a href="/path/filepath/path.go.html#3555825">ti</a></span><span class="op" id="3555916">]</span>&nbsp;<span class="op" id="3555918">!=</span>&nbsp;<span class="ident" id="3555921"><a href="/path/filepath/path.go.html#3549014">Separator</a></span>&nbsp;<span class="op" id="3555931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3555936"><a href="/path/filepath/path.go.html#3555825">ti</a></span><span class="op" id="3555938">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555943">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555947">if</span>&nbsp;<span class="ident" id="3555950"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3555954">[</span><span class="ident" id="3555955"><a href="/path/filepath/path.go.html#3555821">t0</a></span><span class="op" id="3555957">:</span><span class="ident" id="3555958"><a href="/path/filepath/path.go.html#3555825">ti</a></span><span class="op" id="3555960">]</span>&nbsp;<span class="op" id="3555962">!=</span>&nbsp;<span class="ident" id="3555965"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3555969">[</span><span class="ident" id="3555970"><a href="/path/filepath/path.go.html#3555813">b0</a></span><span class="op" id="3555972">:</span><span class="ident" id="3555973"><a href="/path/filepath/path.go.html#3555817">bi</a></span><span class="op" id="3555975">]</span>&nbsp;<span class="op" id="3555977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555982">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3555990">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3555994">if</span>&nbsp;<span class="ident" id="3555997"><a href="/path/filepath/path.go.html#3555817">bi</a></span>&nbsp;<span class="op" id="3556000">&lt;</span>&nbsp;<span class="ident" id="3556002"><a href="/path/filepath/path.go.html#3555775">bl</a></span>&nbsp;<span class="op" id="3556005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556010"><a href="/path/filepath/path.go.html#3555817">bi</a></span><span class="op" id="3556012">++</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556021">if</span>&nbsp;<span class="ident" id="3556024"><a href="/path/filepath/path.go.html#3555825">ti</a></span>&nbsp;<span class="op" id="3556027">&lt;</span>&nbsp;<span class="ident" id="3556029"><a href="/path/filepath/path.go.html#3555792">tl</a></span>&nbsp;<span class="op" id="3556032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556037"><a href="/path/filepath/path.go.html#3555825">ti</a></span><span class="op" id="3556039">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556048"><a href="/path/filepath/path.go.html#3555813">b0</a></span>&nbsp;<span class="op" id="3556051">=</span>&nbsp;<span class="ident" id="3556053"><a href="/path/filepath/path.go.html#3555817">bi</a></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556058"><a href="/path/filepath/path.go.html#3555821">t0</a></span>&nbsp;<span class="op" id="3556061">=</span>&nbsp;<span class="ident" id="3556063"><a href="/path/filepath/path.go.html#3555825">ti</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556070">if</span>&nbsp;<span class="ident" id="3556073"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3556077">[</span><span class="ident" id="3556078"><a href="/path/filepath/path.go.html#3555813">b0</a></span><span class="op" id="3556080">:</span><span class="ident" id="3556081"><a href="/path/filepath/path.go.html#3555817">bi</a></span><span class="op" id="3556083">]</span>&nbsp;<span class="op" id="3556085">==</span>&nbsp;<span class="string" id="3556088">&#34;..&#34;</span>&nbsp;<span class="op" id="3556093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556097">return</span>&nbsp;<span class="string" id="3556104">&#34;&#34;</span><span class="op" id="3556106">,</span>&nbsp;<span class="ident" id="3556108"><a href="/path/filepath/path.go.html#3548157">errors</a></span><span class="op" id="3556114">.</span><span class="ident" id="3556115">New</span><span class="op" id="3556118">(</span><span class="string" id="3556119">&#34;Rel:&nbsp;can&#39;t&nbsp;make&nbsp;&#34;</span>&nbsp;<span class="op" id="3556138">+</span>&nbsp;<span class="ident" id="3556140"><a href="/path/filepath/path.go.html#3555240">targ</a></span>&nbsp;<span class="op" id="3556145">+</span>&nbsp;<span class="string" id="3556147">&#34;&nbsp;relative&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="3556163">+</span>&nbsp;<span class="ident" id="3556165"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3556169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556172">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556175">if</span>&nbsp;<span class="ident" id="3556178"><a href="/path/filepath/path.go.html#3555813">b0</a></span>&nbsp;<span class="op" id="3556181">!=</span>&nbsp;<span class="ident" id="3556184"><a href="/path/filepath/path.go.html#3555775">bl</a></span>&nbsp;<span class="op" id="3556187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3556191">//&nbsp;Base&nbsp;elements&nbsp;left.&nbsp;Must&nbsp;go&nbsp;up&nbsp;before&nbsp;going&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556246">seps</span>&nbsp;<span class="op" id="3556251">:=</span>&nbsp;<span class="ident" id="3556254"><a href="/path/filepath/path.go.html#3548181">strings</a></span><span class="op" id="3556261">.</span><span class="ident" id="3556262">Count</span><span class="op" id="3556267">(</span><span class="ident" id="3556268"><a href="/path/filepath/path.go.html#3555215">base</a></span><span class="op" id="3556272">[</span><span class="ident" id="3556273"><a href="/path/filepath/path.go.html#3555813">b0</a></span><span class="op" id="3556275">:</span><span class="ident" id="3556276"><a href="/path/filepath/path.go.html#3555775">bl</a></span><span class="op" id="3556278">]</span><span class="op" id="3556279">,</span>&nbsp;<span class="builtintype" id="3556281">string</span><span class="op" id="3556287">(</span><span class="ident" id="3556288"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3556297">)</span><span class="op" id="3556298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556302">size</span>&nbsp;<span class="op" id="3556307">:=</span>&nbsp;<span class="num" id="3556310">2</span>&nbsp;<span class="op" id="3556312">+</span>&nbsp;<span class="ident" id="3556314"><a href="/path/filepath/path.go.html#3556246">seps</a></span><span class="op" id="3556318">*</span><span class="num" id="3556319">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556323">if</span>&nbsp;<span class="ident" id="3556326"><a href="/path/filepath/path.go.html#3555792">tl</a></span>&nbsp;<span class="op" id="3556329">!=</span>&nbsp;<span class="ident" id="3556332"><a href="/path/filepath/path.go.html#3555821">t0</a></span>&nbsp;<span class="op" id="3556335">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556340"><a href="/path/filepath/path.go.html#3556302">size</a></span>&nbsp;<span class="op" id="3556345">+=</span>&nbsp;<span class="num" id="3556348">1</span>&nbsp;<span class="op" id="3556350">+</span>&nbsp;<span class="ident" id="3556352"><a href="/path/filepath/path.go.html#3555792">tl</a></span>&nbsp;<span class="op" id="3556355">-</span>&nbsp;<span class="ident" id="3556357"><a href="/path/filepath/path.go.html#3555821">t0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556366">buf</span>&nbsp;<span class="op" id="3556370">:=</span>&nbsp;<span class="builtinfunc" id="3556373">make</span><span class="op" id="3556377">(</span><span class="op" id="3556378">[</span><span class="op" id="3556379">]</span><span class="builtintype" id="3556380">byte</span><span class="op" id="3556384">,</span>&nbsp;<span class="ident" id="3556386"><a href="/path/filepath/path.go.html#3556302">size</a></span><span class="op" id="3556390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556394">n</span>&nbsp;<span class="op" id="3556396">:=</span>&nbsp;<span class="builtinfunc" id="3556399">copy</span><span class="op" id="3556403">(</span><span class="ident" id="3556404"><a href="/path/filepath/path.go.html#3556366">buf</a></span><span class="op" id="3556407">,</span>&nbsp;<span class="string" id="3556409">&#34;..&#34;</span><span class="op" id="3556413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556417">for</span>&nbsp;<span class="ident" id="3556421">i</span>&nbsp;<span class="op" id="3556423">:=</span>&nbsp;<span class="num" id="3556426">0</span><span class="op" id="3556427">;</span>&nbsp;<span class="ident" id="3556429"><a href="/path/filepath/path.go.html#3556421">i</a></span>&nbsp;<span class="op" id="3556431">&lt;</span>&nbsp;<span class="ident" id="3556433"><a href="/path/filepath/path.go.html#3556246">seps</a></span><span class="op" id="3556437">;</span>&nbsp;<span class="ident" id="3556439"><a href="/path/filepath/path.go.html#3556421">i</a></span><span class="op" id="3556440">++</span>&nbsp;<span class="op" id="3556443">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556448"><a href="/path/filepath/path.go.html#3556366">buf</a></span><span class="op" id="3556451">[</span><span class="ident" id="3556452"><a href="/path/filepath/path.go.html#3556394">n</a></span><span class="op" id="3556453">]</span>&nbsp;<span class="op" id="3556455">=</span>&nbsp;<span class="ident" id="3556457"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3556470">copy</span><span class="op" id="3556474">(</span><span class="ident" id="3556475"><a href="/path/filepath/path.go.html#3556366">buf</a></span><span class="op" id="3556478">[</span><span class="ident" id="3556479"><a href="/path/filepath/path.go.html#3556394">n</a></span><span class="op" id="3556480">+</span><span class="num" id="3556481">1</span><span class="op" id="3556482">:</span><span class="op" id="3556483">]</span><span class="op" id="3556484">,</span>&nbsp;<span class="string" id="3556486">&#34;..&#34;</span><span class="op" id="3556490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556495"><a href="/path/filepath/path.go.html#3556394">n</a></span>&nbsp;<span class="op" id="3556497">+=</span>&nbsp;<span class="num" id="3556500">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556508">if</span>&nbsp;<span class="ident" id="3556511"><a href="/path/filepath/path.go.html#3555821">t0</a></span>&nbsp;<span class="op" id="3556514">!=</span>&nbsp;<span class="ident" id="3556517"><a href="/path/filepath/path.go.html#3555792">tl</a></span>&nbsp;<span class="op" id="3556520">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3556525"><a href="/path/filepath/path.go.html#3556366">buf</a></span><span class="op" id="3556528">[</span><span class="ident" id="3556529"><a href="/path/filepath/path.go.html#3556394">n</a></span><span class="op" id="3556530">]</span>&nbsp;<span class="op" id="3556532">=</span>&nbsp;<span class="ident" id="3556534"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3556547">copy</span><span class="op" id="3556551">(</span><span class="ident" id="3556552"><a href="/path/filepath/path.go.html#3556366">buf</a></span><span class="op" id="3556555">[</span><span class="ident" id="3556556"><a href="/path/filepath/path.go.html#3556394">n</a></span><span class="op" id="3556557">+</span><span class="num" id="3556558">1</span><span class="op" id="3556559">:</span><span class="op" id="3556560">]</span><span class="op" id="3556561">,</span>&nbsp;<span class="ident" id="3556563"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3556567">[</span><span class="ident" id="3556568"><a href="/path/filepath/path.go.html#3555821">t0</a></span><span class="op" id="3556570">:</span><span class="op" id="3556571">]</span><span class="op" id="3556572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556580">return</span>&nbsp;<span class="builtintype" id="3556587">string</span><span class="op" id="3556593">(</span><span class="ident" id="3556594"><a href="/path/filepath/path.go.html#3556366">buf</a></span><span class="op" id="3556597">)</span><span class="op" id="3556598">,</span>&nbsp;<span class="ident" id="3556600">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3556605">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3556608">return</span>&nbsp;<span class="ident" id="3556615"><a href="/path/filepath/path.go.html#3555240">targ</a></span><span class="op" id="3556619">[</span><span class="ident" id="3556620"><a href="/path/filepath/path.go.html#3555821">t0</a></span><span class="op" id="3556622">:</span><span class="op" id="3556623">]</span><span class="op" id="3556624">,</span>&nbsp;<span class="ident" id="3556626">nil</span><br>
<span class="lineno"></span><span class="op" id="3556630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3556633">//&nbsp;SkipDir&nbsp;is&nbsp;used&nbsp;as&nbsp;a&nbsp;return&nbsp;value&nbsp;from&nbsp;WalkFuncs&nbsp;to&nbsp;indicate&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3556702">//&nbsp;the&nbsp;directory&nbsp;named&nbsp;in&nbsp;the&nbsp;call&nbsp;is&nbsp;to&nbsp;be&nbsp;skipped.&nbsp;It&nbsp;is&nbsp;not&nbsp;returned</span><br>
<span class="lineno">325</span><span class="comment" id="3556774">//&nbsp;as&nbsp;an&nbsp;error&nbsp;by&nbsp;any&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="3556806">var</span>&nbsp;<span class="ident" id="3556810">SkipDir</span>&nbsp;<span class="op" id="3556818">=</span>&nbsp;<span class="ident" id="3556820"><a href="/path/filepath/path.go.html#3548157">errors</a></span><span class="op" id="3556826">.</span><span class="ident" id="3556827">New</span><span class="op" id="3556830">(</span><span class="string" id="3556831">&#34;skip&nbsp;this&nbsp;directory&#34;</span><span class="op" id="3556852">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3556855">//&nbsp;WalkFunc&nbsp;is&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;function&nbsp;called&nbsp;for&nbsp;each&nbsp;file&nbsp;or&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3556929">//&nbsp;visited&nbsp;by&nbsp;Walk.&nbsp;The&nbsp;path&nbsp;argument&nbsp;contains&nbsp;the&nbsp;argument&nbsp;to&nbsp;Walk&nbsp;as&nbsp;a</span><br>
<span class="lineno">330</span><span class="comment" id="3557002">//&nbsp;prefix;&nbsp;that&nbsp;is,&nbsp;if&nbsp;Walk&nbsp;is&nbsp;called&nbsp;with&nbsp;&#34;dir&#34;,&nbsp;which&nbsp;is&nbsp;a&nbsp;directory</span><br>
<span class="lineno"></span><span class="comment" id="3557073">//&nbsp;containing&nbsp;the&nbsp;file&nbsp;&#34;a&#34;,&nbsp;the&nbsp;walk&nbsp;function&nbsp;will&nbsp;be&nbsp;called&nbsp;with&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="3557148">//&nbsp;&#34;dir/a&#34;.&nbsp;The&nbsp;info&nbsp;argument&nbsp;is&nbsp;the&nbsp;os.FileInfo&nbsp;for&nbsp;the&nbsp;named&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3557217">//</span><br>
<span class="lineno"></span><span class="comment" id="3557220">//&nbsp;If&nbsp;there&nbsp;was&nbsp;a&nbsp;problem&nbsp;walking&nbsp;to&nbsp;the&nbsp;file&nbsp;or&nbsp;directory&nbsp;named&nbsp;by&nbsp;path,&nbsp;the</span><br>
<span class="lineno">335</span><span class="comment" id="3557298">//&nbsp;incoming&nbsp;error&nbsp;will&nbsp;describe&nbsp;the&nbsp;problem&nbsp;and&nbsp;the&nbsp;function&nbsp;can&nbsp;decide&nbsp;how</span><br>
<span class="lineno"></span><span class="comment" id="3557374">//&nbsp;to&nbsp;handle&nbsp;that&nbsp;error&nbsp;(and&nbsp;Walk&nbsp;will&nbsp;not&nbsp;descend&nbsp;into&nbsp;that&nbsp;directory).&nbsp;If</span><br>
<span class="lineno"></span><span class="comment" id="3557450">//&nbsp;an&nbsp;error&nbsp;is&nbsp;returned,&nbsp;processing&nbsp;stops.&nbsp;The&nbsp;sole&nbsp;exception&nbsp;is&nbsp;that&nbsp;if&nbsp;path</span><br>
<span class="lineno"></span><span class="comment" id="3557528">//&nbsp;is&nbsp;a&nbsp;directory&nbsp;and&nbsp;the&nbsp;function&nbsp;returns&nbsp;the&nbsp;special&nbsp;value&nbsp;SkipDir,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3557602">//&nbsp;contents&nbsp;of&nbsp;the&nbsp;directory&nbsp;are&nbsp;skipped&nbsp;and&nbsp;processing&nbsp;continues&nbsp;as&nbsp;usual&nbsp;on</span><br>
<span class="lineno">340</span><span class="comment" id="3557680">//&nbsp;the&nbsp;next&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="3557698">type</span>&nbsp;<span class="ident" id="3557703">WalkFunc</span>&nbsp;<span class="keyword" id="3557712">func</span><span class="op" id="3557716">(</span><span class="ident" id="3557717">path</span>&nbsp;<span class="builtintype" id="3557722">string</span><span class="op" id="3557728">,</span>&nbsp;<span class="ident" id="3557730">info</span>&nbsp;<span class="ident" id="3557735"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3557737">.</span><span class="ident" id="3557738">FileInfo</span><span class="op" id="3557746">,</span>&nbsp;<span class="ident" id="3557748">err</span>&nbsp;<span class="builtintype" id="3557752">error</span><span class="op" id="3557757">)</span>&nbsp;<span class="builtintype" id="3557759">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3557766">var</span>&nbsp;<span class="ident" id="3557770">lstat</span>&nbsp;<span class="op" id="3557776">=</span>&nbsp;<span class="ident" id="3557778"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3557780">.</span><span class="ident" id="3557781">Lstat</span>&nbsp;<span class="comment" id="3557787">//&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="comment" id="3557803">//&nbsp;walk&nbsp;recursively&nbsp;descends&nbsp;path,&nbsp;calling&nbsp;w.</span><br>
<span class="lineno"></span><span class="keyword" id="3557849">func</span>&nbsp;<span class="ident" id="3557854">walk</span><span class="op" id="3557858">(</span><span class="ident" id="3557859">path</span>&nbsp;<span class="builtintype" id="3557864">string</span><span class="op" id="3557870">,</span>&nbsp;<span class="ident" id="3557872">info</span>&nbsp;<span class="ident" id="3557877"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3557879">.</span><span class="ident" id="3557880">FileInfo</span><span class="op" id="3557888">,</span>&nbsp;<span class="ident" id="3557890">walkFn</span>&nbsp;<span class="ident" id="3557897"><a href="/path/filepath/path.go.html#3557703">WalkFunc</a></span><span class="op" id="3557905">)</span>&nbsp;<span class="builtintype" id="3557907">error</span>&nbsp;<span class="op" id="3557913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3557916">err</span>&nbsp;<span class="op" id="3557920">:=</span>&nbsp;<span class="ident" id="3557923"><a href="/path/filepath/path.go.html#3557890">walkFn</a></span><span class="op" id="3557929">(</span><span class="ident" id="3557930"><a href="/path/filepath/path.go.html#3557859">path</a></span><span class="op" id="3557934">,</span>&nbsp;<span class="ident" id="3557936"><a href="/path/filepath/path.go.html#3557872">info</a></span><span class="op" id="3557940">,</span>&nbsp;<span class="ident" id="3557942">nil</span><span class="op" id="3557945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557948">if</span>&nbsp;<span class="ident" id="3557951"><a href="/path/filepath/path.go.html#3557916">err</a></span>&nbsp;<span class="op" id="3557955">!=</span>&nbsp;<span class="ident" id="3557958">nil</span>&nbsp;<span class="op" id="3557962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3557966">if</span>&nbsp;<span class="ident" id="3557969"><a href="/path/filepath/path.go.html#3557872">info</a></span><span class="op" id="3557973">.</span><span class="ident" id="3557974">IsDir</span><span class="op" id="3557979">(</span><span class="op" id="3557980">)</span>&nbsp;<span class="op" id="3557982">&amp;&amp;</span>&nbsp;<span class="ident" id="3557985"><a href="/path/filepath/path.go.html#3557916">err</a></span>&nbsp;<span class="op" id="3557989">==</span>&nbsp;<span class="ident" id="3557992"><a href="/path/filepath/path.go.html#3556810">SkipDir</a></span>&nbsp;<span class="op" id="3558000">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558005">return</span>&nbsp;<span class="ident" id="3558012">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558022">return</span>&nbsp;<span class="ident" id="3558029"><a href="/path/filepath/path.go.html#3557916">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558038">if</span>&nbsp;<span class="op" id="3558041">!</span><span class="ident" id="3558042"><a href="/path/filepath/path.go.html#3557872">info</a></span><span class="op" id="3558046">.</span><span class="ident" id="3558047">IsDir</span><span class="op" id="3558052">(</span><span class="op" id="3558053">)</span>&nbsp;<span class="op" id="3558055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558059">return</span>&nbsp;<span class="ident" id="3558066">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3558075">names</span><span class="op" id="3558080">,</span>&nbsp;<span class="ident" id="3558082"><a href="/path/filepath/path.go.html#3557916">err</a></span>&nbsp;<span class="op" id="3558086">:=</span>&nbsp;<span class="ident" id="3558089"><a href="/path/filepath/path.go.html#3559200">readDirNames</a></span><span class="op" id="3558101">(</span><span class="ident" id="3558102"><a href="/path/filepath/path.go.html#3557859">path</a></span><span class="op" id="3558106">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558109">if</span>&nbsp;<span class="ident" id="3558112"><a href="/path/filepath/path.go.html#3557916">err</a></span>&nbsp;<span class="op" id="3558116">!=</span>&nbsp;<span class="ident" id="3558119">nil</span>&nbsp;<span class="op" id="3558123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558127">return</span>&nbsp;<span class="ident" id="3558134"><a href="/path/filepath/path.go.html#3557890">walkFn</a></span><span class="op" id="3558140">(</span><span class="ident" id="3558141"><a href="/path/filepath/path.go.html#3557859">path</a></span><span class="op" id="3558145">,</span>&nbsp;<span class="ident" id="3558147"><a href="/path/filepath/path.go.html#3557872">info</a></span><span class="op" id="3558151">,</span>&nbsp;<span class="ident" id="3558153"><a href="/path/filepath/path.go.html#3557916">err</a></span><span class="op" id="3558156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558163">for</span>&nbsp;<span class="ident" id="3558167">_</span><span class="op" id="3558168">,</span>&nbsp;<span class="ident" id="3558170">name</span>&nbsp;<span class="op" id="3558175">:=</span>&nbsp;<span class="keyword" id="3558178">range</span>&nbsp;<span class="ident" id="3558184"><a href="/path/filepath/path.go.html#3558075">names</a></span>&nbsp;<span class="op" id="3558190">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3558194">filename</span>&nbsp;<span class="op" id="3558203">:=</span>&nbsp;<span class="ident" id="3558206"><a href="/path/filepath/path.go.html#3553316">Join</a></span><span class="op" id="3558210">(</span><span class="ident" id="3558211"><a href="/path/filepath/path.go.html#3557859">path</a></span><span class="op" id="3558215">,</span>&nbsp;<span class="ident" id="3558217"><a href="/path/filepath/path.go.html#3558170">name</a></span><span class="op" id="3558221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3558225">fileInfo</span><span class="op" id="3558233">,</span>&nbsp;<span class="ident" id="3558235">err</span>&nbsp;<span class="op" id="3558239">:=</span>&nbsp;<span class="ident" id="3558242"><a href="/path/filepath/path.go.html#3557770">lstat</a></span><span class="op" id="3558247">(</span><span class="ident" id="3558248"><a href="/path/filepath/path.go.html#3558194">filename</a></span><span class="op" id="3558256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558260">if</span>&nbsp;<span class="ident" id="3558263"><a href="/path/filepath/path.go.html#3558235">err</a></span>&nbsp;<span class="op" id="3558267">!=</span>&nbsp;<span class="ident" id="3558270">nil</span>&nbsp;<span class="op" id="3558274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558279">if</span>&nbsp;<span class="ident" id="3558282">err</span>&nbsp;<span class="op" id="3558286">:=</span>&nbsp;<span class="ident" id="3558289"><a href="/path/filepath/path.go.html#3557890">walkFn</a></span><span class="op" id="3558295">(</span><span class="ident" id="3558296"><a href="/path/filepath/path.go.html#3558194">filename</a></span><span class="op" id="3558304">,</span>&nbsp;<span class="ident" id="3558306"><a href="/path/filepath/path.go.html#3558225">fileInfo</a></span><span class="op" id="3558314">,</span>&nbsp;<span class="ident" id="3558316"><a href="/path/filepath/path.go.html#3558235">err</a></span><span class="op" id="3558319">)</span><span class="op" id="3558320">;</span>&nbsp;<span class="ident" id="3558322"><a href="/path/filepath/path.go.html#3558282">err</a></span>&nbsp;<span class="op" id="3558326">!=</span>&nbsp;<span class="ident" id="3558329">nil</span>&nbsp;<span class="op" id="3558333">&amp;&amp;</span>&nbsp;<span class="ident" id="3558336"><a href="/path/filepath/path.go.html#3558282">err</a></span>&nbsp;<span class="op" id="3558340">!=</span>&nbsp;<span class="ident" id="3558343"><a href="/path/filepath/path.go.html#3556810">SkipDir</a></span>&nbsp;<span class="op" id="3558351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558357">return</span>&nbsp;<span class="ident" id="3558364"><a href="/path/filepath/path.go.html#3558282">err</a></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558375">}</span>&nbsp;<span class="keyword" id="3558377">else</span>&nbsp;<span class="op" id="3558382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3558387"><a href="/path/filepath/path.go.html#3558235">err</a></span>&nbsp;<span class="op" id="3558391">=</span>&nbsp;<span class="ident" id="3558393"><a href="/path/filepath/path.go.html#3557854">walk</a></span><span class="op" id="3558397">(</span><span class="ident" id="3558398"><a href="/path/filepath/path.go.html#3558194">filename</a></span><span class="op" id="3558406">,</span>&nbsp;<span class="ident" id="3558408"><a href="/path/filepath/path.go.html#3558225">fileInfo</a></span><span class="op" id="3558416">,</span>&nbsp;<span class="ident" id="3558418"><a href="/path/filepath/path.go.html#3557890">walkFn</a></span><span class="op" id="3558424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558429">if</span>&nbsp;<span class="ident" id="3558432"><a href="/path/filepath/path.go.html#3558235">err</a></span>&nbsp;<span class="op" id="3558436">!=</span>&nbsp;<span class="ident" id="3558439">nil</span>&nbsp;<span class="op" id="3558443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558449">if</span>&nbsp;<span class="op" id="3558452">!</span><span class="ident" id="3558453"><a href="/path/filepath/path.go.html#3558225">fileInfo</a></span><span class="op" id="3558461">.</span><span class="ident" id="3558462">IsDir</span><span class="op" id="3558467">(</span><span class="op" id="3558468">)</span>&nbsp;<span class="op" id="3558470">||</span>&nbsp;<span class="ident" id="3558473"><a href="/path/filepath/path.go.html#3558235">err</a></span>&nbsp;<span class="op" id="3558477">!=</span>&nbsp;<span class="ident" id="3558480"><a href="/path/filepath/path.go.html#3556810">SkipDir</a></span>&nbsp;<span class="op" id="3558488">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558495">return</span>&nbsp;<span class="ident" id="3558502"><a href="/path/filepath/path.go.html#3558235">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3558522">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3558525">return</span>&nbsp;<span class="ident" id="3558532">nil</span><br>
<span class="lineno"></span><span class="op" id="3558536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3558539">//&nbsp;Walk&nbsp;walks&nbsp;the&nbsp;file&nbsp;tree&nbsp;rooted&nbsp;at&nbsp;root,&nbsp;calling&nbsp;walkFn&nbsp;for&nbsp;each&nbsp;file&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3558615">//&nbsp;directory&nbsp;in&nbsp;the&nbsp;tree,&nbsp;including&nbsp;root.&nbsp;All&nbsp;errors&nbsp;that&nbsp;arise&nbsp;visiting&nbsp;files</span><br>
<span class="lineno">385</span><span class="comment" id="3558694">//&nbsp;and&nbsp;directories&nbsp;are&nbsp;filtered&nbsp;by&nbsp;walkFn.&nbsp;The&nbsp;files&nbsp;are&nbsp;walked&nbsp;in&nbsp;lexical</span><br>
<span class="lineno"></span><span class="comment" id="3558769">//&nbsp;order,&nbsp;which&nbsp;makes&nbsp;the&nbsp;output&nbsp;deterministic&nbsp;but&nbsp;means&nbsp;that&nbsp;for&nbsp;very</span><br>
<span class="lineno"></span><span class="comment" id="3558840">//&nbsp;large&nbsp;directories&nbsp;Walk&nbsp;can&nbsp;be&nbsp;inefficient.</span><br>
<span class="lineno"></span><span class="comment" id="3558886">//&nbsp;Walk&nbsp;does&nbsp;not&nbsp;follow&nbsp;symbolic&nbsp;links.</span><br>
<span class="lineno"></span><span class="keyword" id="3558926">func</span>&nbsp;<span class="ident" id="3558931">Walk</span><span class="op" id="3558935">(</span><span class="ident" id="3558936">root</span>&nbsp;<span class="builtintype" id="3558941">string</span><span class="op" id="3558947">,</span>&nbsp;<span class="ident" id="3558949">walkFn</span>&nbsp;<span class="ident" id="3558956"><a href="/path/filepath/path.go.html#3557703">WalkFunc</a></span><span class="op" id="3558964">)</span>&nbsp;<span class="builtintype" id="3558966">error</span>&nbsp;<span class="op" id="3558972">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3558975">info</span><span class="op" id="3558979">,</span>&nbsp;<span class="ident" id="3558981">err</span>&nbsp;<span class="op" id="3558985">:=</span>&nbsp;<span class="ident" id="3558988"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3558990">.</span><span class="ident" id="3558991">Lstat</span><span class="op" id="3558996">(</span><span class="ident" id="3558997"><a href="/path/filepath/path.go.html#3558936">root</a></span><span class="op" id="3559001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559004">if</span>&nbsp;<span class="ident" id="3559007"><a href="/path/filepath/path.go.html#3558981">err</a></span>&nbsp;<span class="op" id="3559011">!=</span>&nbsp;<span class="ident" id="3559014">nil</span>&nbsp;<span class="op" id="3559018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559022">return</span>&nbsp;<span class="ident" id="3559029"><a href="/path/filepath/path.go.html#3558949">walkFn</a></span><span class="op" id="3559035">(</span><span class="ident" id="3559036"><a href="/path/filepath/path.go.html#3558936">root</a></span><span class="op" id="3559040">,</span>&nbsp;<span class="ident" id="3559042">nil</span><span class="op" id="3559045">,</span>&nbsp;<span class="ident" id="3559047"><a href="/path/filepath/path.go.html#3558981">err</a></span><span class="op" id="3559050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559056">return</span>&nbsp;<span class="ident" id="3559063"><a href="/path/filepath/path.go.html#3557854">walk</a></span><span class="op" id="3559067">(</span><span class="ident" id="3559068"><a href="/path/filepath/path.go.html#3558936">root</a></span><span class="op" id="3559072">,</span>&nbsp;<span class="ident" id="3559074"><a href="/path/filepath/path.go.html#3558975">info</a></span><span class="op" id="3559078">,</span>&nbsp;<span class="ident" id="3559080"><a href="/path/filepath/path.go.html#3558949">walkFn</a></span><span class="op" id="3559086">)</span><br>
<span class="lineno">395</span><span class="op" id="3559088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3559091">//&nbsp;readDirNames&nbsp;reads&nbsp;the&nbsp;directory&nbsp;named&nbsp;by&nbsp;dirname&nbsp;and&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="3559156">//&nbsp;a&nbsp;sorted&nbsp;list&nbsp;of&nbsp;directory&nbsp;entries.</span><br>
<span class="lineno"></span><span class="keyword" id="3559195">func</span>&nbsp;<span class="ident" id="3559200">readDirNames</span><span class="op" id="3559212">(</span><span class="ident" id="3559213">dirname</span>&nbsp;<span class="builtintype" id="3559221">string</span><span class="op" id="3559227">)</span>&nbsp;<span class="op" id="3559229">(</span><span class="op" id="3559230">[</span><span class="op" id="3559231">]</span><span class="builtintype" id="3559232">string</span><span class="op" id="3559238">,</span>&nbsp;<span class="builtintype" id="3559240">error</span><span class="op" id="3559245">)</span>&nbsp;<span class="op" id="3559247">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559250">f</span><span class="op" id="3559251">,</span>&nbsp;<span class="ident" id="3559253">err</span>&nbsp;<span class="op" id="3559257">:=</span>&nbsp;<span class="ident" id="3559260"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3559262">.</span><span class="ident" id="3559263">Open</span><span class="op" id="3559267">(</span><span class="ident" id="3559268"><a href="/path/filepath/path.go.html#3559213">dirname</a></span><span class="op" id="3559275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559278">if</span>&nbsp;<span class="ident" id="3559281"><a href="/path/filepath/path.go.html#3559253">err</a></span>&nbsp;<span class="op" id="3559285">!=</span>&nbsp;<span class="ident" id="3559288">nil</span>&nbsp;<span class="op" id="3559292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559296">return</span>&nbsp;<span class="ident" id="3559303">nil</span><span class="op" id="3559306">,</span>&nbsp;<span class="ident" id="3559308"><a href="/path/filepath/path.go.html#3559253">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559316">names</span><span class="op" id="3559321">,</span>&nbsp;<span class="ident" id="3559323"><a href="/path/filepath/path.go.html#3559253">err</a></span>&nbsp;<span class="op" id="3559327">:=</span>&nbsp;<span class="ident" id="3559330"><a href="/path/filepath/path.go.html#3559250">f</a></span><span class="op" id="3559331">.</span><span class="ident" id="3559332">Readdirnames</span><span class="op" id="3559344">(</span><span class="op" id="3559345">-</span><span class="num" id="3559346">1</span><span class="op" id="3559347">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559350"><a href="/path/filepath/path.go.html#3559250">f</a></span><span class="op" id="3559351">.</span><span class="ident" id="3559352">Close</span><span class="op" id="3559357">(</span><span class="op" id="3559358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559361">if</span>&nbsp;<span class="ident" id="3559364"><a href="/path/filepath/path.go.html#3559253">err</a></span>&nbsp;<span class="op" id="3559368">!=</span>&nbsp;<span class="ident" id="3559371">nil</span>&nbsp;<span class="op" id="3559375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559379">return</span>&nbsp;<span class="ident" id="3559386">nil</span><span class="op" id="3559389">,</span>&nbsp;<span class="ident" id="3559391"><a href="/path/filepath/path.go.html#3559253">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559399"><a href="/path/filepath/path.go.html#3548173">sort</a></span><span class="op" id="3559403">.</span><span class="ident" id="3559404">Strings</span><span class="op" id="3559411">(</span><span class="ident" id="3559412"><a href="/path/filepath/path.go.html#3559316">names</a></span><span class="op" id="3559417">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559420">return</span>&nbsp;<span class="ident" id="3559427"><a href="/path/filepath/path.go.html#3559316">names</a></span><span class="op" id="3559432">,</span>&nbsp;<span class="ident" id="3559434">nil</span><br>
<span class="lineno"></span><span class="op" id="3559438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3559441">//&nbsp;Base&nbsp;returns&nbsp;the&nbsp;last&nbsp;element&nbsp;of&nbsp;path.</span><br>
<span class="lineno"></span><span class="comment" id="3559483">//&nbsp;Trailing&nbsp;path&nbsp;separators&nbsp;are&nbsp;removed&nbsp;before&nbsp;extracting&nbsp;the&nbsp;last&nbsp;element.</span><br>
<span class="lineno">415</span><span class="comment" id="3559559">//&nbsp;If&nbsp;the&nbsp;path&nbsp;is&nbsp;empty,&nbsp;Base&nbsp;returns&nbsp;&#34;.&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3559602">//&nbsp;If&nbsp;the&nbsp;path&nbsp;consists&nbsp;entirely&nbsp;of&nbsp;separators,&nbsp;Base&nbsp;returns&nbsp;a&nbsp;single&nbsp;separator.</span><br>
<span class="lineno"></span><span class="keyword" id="3559683">func</span>&nbsp;<span class="ident" id="3559688">Base</span><span class="op" id="3559692">(</span><span class="ident" id="3559693">path</span>&nbsp;<span class="builtintype" id="3559698">string</span><span class="op" id="3559704">)</span>&nbsp;<span class="builtintype" id="3559706">string</span>&nbsp;<span class="op" id="3559713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559716">if</span>&nbsp;<span class="ident" id="3559719"><a href="/path/filepath/path.go.html#3559693">path</a></span>&nbsp;<span class="op" id="3559724">==</span>&nbsp;<span class="string" id="3559727">&#34;&#34;</span>&nbsp;<span class="op" id="3559730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559734">return</span>&nbsp;<span class="string" id="3559741">&#34;.&#34;</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3559749">//&nbsp;Strip&nbsp;trailing&nbsp;slashes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559777">for</span>&nbsp;<span class="builtinfunc" id="3559781">len</span><span class="op" id="3559784">(</span><span class="ident" id="3559785"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559789">)</span>&nbsp;<span class="op" id="3559791">&gt;</span>&nbsp;<span class="num" id="3559793">0</span>&nbsp;<span class="op" id="3559795">&amp;&amp;</span>&nbsp;<span class="ident" id="3559798"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3559800">.</span><span class="ident" id="3559801">IsPathSeparator</span><span class="op" id="3559816">(</span><span class="ident" id="3559817"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559821">[</span><span class="builtinfunc" id="3559822">len</span><span class="op" id="3559825">(</span><span class="ident" id="3559826"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559830">)</span><span class="op" id="3559831">-</span><span class="num" id="3559832">1</span><span class="op" id="3559833">]</span><span class="op" id="3559834">)</span>&nbsp;<span class="op" id="3559836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559840"><a href="/path/filepath/path.go.html#3559693">path</a></span>&nbsp;<span class="op" id="3559845">=</span>&nbsp;<span class="ident" id="3559847"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559851">[</span><span class="num" id="3559852">0</span>&nbsp;<span class="op" id="3559854">:</span>&nbsp;<span class="builtinfunc" id="3559856">len</span><span class="op" id="3559859">(</span><span class="ident" id="3559860"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559864">)</span><span class="op" id="3559865">-</span><span class="num" id="3559866">1</span><span class="op" id="3559867">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3559870">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3559873">//&nbsp;Throw&nbsp;away&nbsp;volume&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559900"><a href="/path/filepath/path.go.html#3559693">path</a></span>&nbsp;<span class="op" id="3559905">=</span>&nbsp;<span class="ident" id="3559907"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559911">[</span><span class="builtinfunc" id="3559912">len</span><span class="op" id="3559915">(</span><span class="ident" id="3559916"><a href="/path/filepath/path.go.html#3560942">VolumeName</a></span><span class="op" id="3559926">(</span><span class="ident" id="3559927"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559931">)</span><span class="op" id="3559932">)</span><span class="op" id="3559933">:</span><span class="op" id="3559934">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3559937">//&nbsp;Find&nbsp;the&nbsp;last&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3559963">i</span>&nbsp;<span class="op" id="3559965">:=</span>&nbsp;<span class="builtinfunc" id="3559968">len</span><span class="op" id="3559971">(</span><span class="ident" id="3559972"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3559976">)</span>&nbsp;<span class="op" id="3559978">-</span>&nbsp;<span class="num" id="3559980">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3559983">for</span>&nbsp;<span class="ident" id="3559987"><a href="/path/filepath/path.go.html#3559963">i</a></span>&nbsp;<span class="op" id="3559989">&gt;=</span>&nbsp;<span class="num" id="3559992">0</span>&nbsp;<span class="op" id="3559994">&amp;&amp;</span>&nbsp;<span class="op" id="3559997">!</span><span class="ident" id="3559998"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3560000">.</span><span class="ident" id="3560001">IsPathSeparator</span><span class="op" id="3560016">(</span><span class="ident" id="3560017"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3560021">[</span><span class="ident" id="3560022"><a href="/path/filepath/path.go.html#3559963">i</a></span><span class="op" id="3560023">]</span><span class="op" id="3560024">)</span>&nbsp;<span class="op" id="3560026">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560030"><a href="/path/filepath/path.go.html#3559963">i</a></span><span class="op" id="3560031">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3560035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560038">if</span>&nbsp;<span class="ident" id="3560041"><a href="/path/filepath/path.go.html#3559963">i</a></span>&nbsp;<span class="op" id="3560043">&gt;=</span>&nbsp;<span class="num" id="3560046">0</span>&nbsp;<span class="op" id="3560048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560052"><a href="/path/filepath/path.go.html#3559693">path</a></span>&nbsp;<span class="op" id="3560057">=</span>&nbsp;<span class="ident" id="3560059"><a href="/path/filepath/path.go.html#3559693">path</a></span><span class="op" id="3560063">[</span><span class="ident" id="3560064"><a href="/path/filepath/path.go.html#3559963">i</a></span><span class="op" id="3560065">+</span><span class="num" id="3560066">1</span><span class="op" id="3560067">:</span><span class="op" id="3560068">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3560071">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3560074">//&nbsp;If&nbsp;empty&nbsp;now,&nbsp;it&nbsp;had&nbsp;only&nbsp;slashes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560113">if</span>&nbsp;<span class="ident" id="3560116"><a href="/path/filepath/path.go.html#3559693">path</a></span>&nbsp;<span class="op" id="3560121">==</span>&nbsp;<span class="string" id="3560124">&#34;&#34;</span>&nbsp;<span class="op" id="3560127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560131">return</span>&nbsp;<span class="builtintype" id="3560138">string</span><span class="op" id="3560144">(</span><span class="ident" id="3560145"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3560154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3560157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560160">return</span>&nbsp;<span class="ident" id="3560167"><a href="/path/filepath/path.go.html#3559693">path</a></span><br>
<span class="lineno">440</span><span class="op" id="3560172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3560175">//&nbsp;Dir&nbsp;returns&nbsp;all&nbsp;but&nbsp;the&nbsp;last&nbsp;element&nbsp;of&nbsp;path,&nbsp;typically&nbsp;the&nbsp;path&#39;s&nbsp;directory.</span><br>
<span class="lineno"></span><span class="comment" id="3560256">//&nbsp;After&nbsp;dropping&nbsp;the&nbsp;final&nbsp;element,&nbsp;the&nbsp;path&nbsp;is&nbsp;Cleaned&nbsp;and&nbsp;trailing</span><br>
<span class="lineno"></span><span class="comment" id="3560326">//&nbsp;slashes&nbsp;are&nbsp;removed.</span><br>
<span class="lineno">445</span><span class="comment" id="3560350">//&nbsp;If&nbsp;the&nbsp;path&nbsp;is&nbsp;empty,&nbsp;Dir&nbsp;returns&nbsp;&#34;.&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3560392">//&nbsp;If&nbsp;the&nbsp;path&nbsp;consists&nbsp;entirely&nbsp;of&nbsp;separators,&nbsp;Dir&nbsp;returns&nbsp;a&nbsp;single&nbsp;separator.</span><br>
<span class="lineno"></span><span class="comment" id="3560472">//&nbsp;The&nbsp;returned&nbsp;path&nbsp;does&nbsp;not&nbsp;end&nbsp;in&nbsp;a&nbsp;separator&nbsp;unless&nbsp;it&nbsp;is&nbsp;the&nbsp;root&nbsp;directory.</span><br>
<span class="lineno"></span><span class="keyword" id="3560554">func</span>&nbsp;<span class="ident" id="3560559">Dir</span><span class="op" id="3560562">(</span><span class="ident" id="3560563">path</span>&nbsp;<span class="builtintype" id="3560568">string</span><span class="op" id="3560574">)</span>&nbsp;<span class="builtintype" id="3560576">string</span>&nbsp;<span class="op" id="3560583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560586">vol</span>&nbsp;<span class="op" id="3560590">:=</span>&nbsp;<span class="ident" id="3560593"><a href="/path/filepath/path.go.html#3560942">VolumeName</a></span><span class="op" id="3560603">(</span><span class="ident" id="3560604"><a href="/path/filepath/path.go.html#3560563">path</a></span><span class="op" id="3560608">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560611">i</span>&nbsp;<span class="op" id="3560613">:=</span>&nbsp;<span class="builtinfunc" id="3560616">len</span><span class="op" id="3560619">(</span><span class="ident" id="3560620"><a href="/path/filepath/path.go.html#3560563">path</a></span><span class="op" id="3560624">)</span>&nbsp;<span class="op" id="3560626">-</span>&nbsp;<span class="num" id="3560628">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560631">for</span>&nbsp;<span class="ident" id="3560635"><a href="/path/filepath/path.go.html#3560611">i</a></span>&nbsp;<span class="op" id="3560637">&gt;=</span>&nbsp;<span class="builtinfunc" id="3560640">len</span><span class="op" id="3560643">(</span><span class="ident" id="3560644"><a href="/path/filepath/path.go.html#3560586">vol</a></span><span class="op" id="3560647">)</span>&nbsp;<span class="op" id="3560649">&amp;&amp;</span>&nbsp;<span class="op" id="3560652">!</span><span class="ident" id="3560653"><a href="/path/filepath/path.go.html#3548167">os</a></span><span class="op" id="3560655">.</span><span class="ident" id="3560656">IsPathSeparator</span><span class="op" id="3560671">(</span><span class="ident" id="3560672"><a href="/path/filepath/path.go.html#3560563">path</a></span><span class="op" id="3560676">[</span><span class="ident" id="3560677"><a href="/path/filepath/path.go.html#3560611">i</a></span><span class="op" id="3560678">]</span><span class="op" id="3560679">)</span>&nbsp;<span class="op" id="3560681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560685"><a href="/path/filepath/path.go.html#3560611">i</a></span><span class="op" id="3560686">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3560690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3560693">dir</span>&nbsp;<span class="op" id="3560697">:=</span>&nbsp;<span class="ident" id="3560700"><a href="/path/filepath/path.go.html#3550031">Clean</a></span><span class="op" id="3560705">(</span><span class="ident" id="3560706"><a href="/path/filepath/path.go.html#3560563">path</a></span><span class="op" id="3560710">[</span><span class="builtinfunc" id="3560711">len</span><span class="op" id="3560714">(</span><span class="ident" id="3560715"><a href="/path/filepath/path.go.html#3560586">vol</a></span><span class="op" id="3560718">)</span>&nbsp;<span class="op" id="3560720">:</span>&nbsp;<span class="ident" id="3560722"><a href="/path/filepath/path.go.html#3560611">i</a></span><span class="op" id="3560723">+</span><span class="num" id="3560724">1</span><span class="op" id="3560725">]</span><span class="op" id="3560726">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560729">return</span>&nbsp;<span class="ident" id="3560736"><a href="/path/filepath/path.go.html#3560586">vol</a></span>&nbsp;<span class="op" id="3560740">+</span>&nbsp;<span class="ident" id="3560742"><a href="/path/filepath/path.go.html#3560693">dir</a></span><br>
<span class="lineno"></span><span class="op" id="3560746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3560749">//&nbsp;VolumeName&nbsp;returns&nbsp;leading&nbsp;volume&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3560792">//&nbsp;Given&nbsp;&#34;C:\foo\bar&#34;&nbsp;it&nbsp;returns&nbsp;&#34;C:&#34;&nbsp;under&nbsp;windows.</span><br>
<span class="lineno">460</span><span class="comment" id="3560845">//&nbsp;Given&nbsp;&#34;\\host\share\foo&#34;&nbsp;it&nbsp;returns&nbsp;&#34;\\host\share&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3560900">//&nbsp;On&nbsp;other&nbsp;platforms&nbsp;it&nbsp;returns&nbsp;&#34;&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3560937">func</span>&nbsp;<span class="ident" id="3560942">VolumeName</span><span class="op" id="3560952">(</span><span class="ident" id="3560953">path</span>&nbsp;<span class="builtintype" id="3560958">string</span><span class="op" id="3560964">)</span>&nbsp;<span class="op" id="3560966">(</span><span class="ident" id="3560967">v</span>&nbsp;<span class="builtintype" id="3560969">string</span><span class="op" id="3560975">)</span>&nbsp;<span class="op" id="3560977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3560980">return</span>&nbsp;<span class="ident" id="3560987"><a href="/path/filepath/path.go.html#3560953">path</a></span><span class="op" id="3560991">[</span><span class="op" id="3560992">:</span><span class="ident" id="3560993"><a href="/path/filepath/path_unix.go.html#3561504">volumeNameLen</a></span><span class="op" id="3561006">(</span><span class="ident" id="3561007"><a href="/path/filepath/path.go.html#3560953">path</a></span><span class="op" id="3561011">)</span><span class="op" id="3561012">]</span><br>
<span class="lineno"></span><span class="op" id="3561014">}</span>
</div>
</body>
</html>
