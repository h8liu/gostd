<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6874008">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6874063">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6874117">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6874168">package</span>&nbsp;<span class="ident" id="6874176">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6874183">import</span>&nbsp;<span class="op" id="6874190">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6874193">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6874202">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6874208">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6874218">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6874221">func</span>&nbsp;<span class="ident" id="6874226">TestReset</span><span class="op" id="6874235">(</span><span class="ident" id="6874236">t</span>&nbsp;<span class="op" id="6874238">*</span><span class="ident" id="6874239">testing</span><span class="op" id="6874246">.</span><span class="ident" id="6874247">T</span><span class="op" id="6874248">)</span>&nbsp;<span class="op" id="6874250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874253">ss</span>&nbsp;<span class="op" id="6874256">:=</span>&nbsp;<span class="op" id="6874259">[</span><span class="op" id="6874260">]</span><span class="builtintype" id="6874261">string</span><span class="op" id="6874267">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6874271">&#34;lorem&nbsp;ipsum&nbsp;izzle&nbsp;fo&nbsp;rizzle&#34;</span><span class="op" id="6874300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6874304">&#34;the&nbsp;quick&nbsp;brown&nbsp;fox&nbsp;jumped&nbsp;over&#34;</span><span class="op" id="6874337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6874340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874344">deflated</span>&nbsp;<span class="op" id="6874353">:=</span>&nbsp;<span class="builtinfunc" id="6874356">make</span><span class="op" id="6874360">(</span><span class="op" id="6874361">[</span><span class="op" id="6874362">]</span><span class="ident" id="6874363">bytes</span><span class="op" id="6874368">.</span><span class="ident" id="6874369">Buffer</span><span class="op" id="6874375">,</span>&nbsp;<span class="num" id="6874377">2</span><span class="op" id="6874378">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6874381">for</span>&nbsp;<span class="ident" id="6874385">i</span><span class="op" id="6874386">,</span>&nbsp;<span class="ident" id="6874388">s</span>&nbsp;<span class="op" id="6874390">:=</span>&nbsp;<span class="keyword" id="6874393">range</span>&nbsp;<span class="ident" id="6874399">ss</span>&nbsp;<span class="op" id="6874402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874406">w</span><span class="op" id="6874407">,</span>&nbsp;<span class="ident" id="6874409">_</span>&nbsp;<span class="op" id="6874411">:=</span>&nbsp;<span class="ident" id="6874414">NewWriter</span><span class="op" id="6874423">(</span><span class="op" id="6874424">&amp;</span><span class="ident" id="6874425">deflated</span><span class="op" id="6874433">[</span><span class="ident" id="6874434">i</span><span class="op" id="6874435">]</span><span class="op" id="6874436">,</span>&nbsp;<span class="num" id="6874438">1</span><span class="op" id="6874439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874443">w</span><span class="op" id="6874444">.</span><span class="ident" id="6874445">Write</span><span class="op" id="6874450">(</span><span class="op" id="6874451">[</span><span class="op" id="6874452">]</span><span class="builtintype" id="6874453">byte</span><span class="op" id="6874457">(</span><span class="ident" id="6874458">s</span><span class="op" id="6874459">)</span><span class="op" id="6874460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874464">w</span><span class="op" id="6874465">.</span><span class="ident" id="6874466">Close</span><span class="op" id="6874471">(</span><span class="op" id="6874472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6874475">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874479">inflated</span>&nbsp;<span class="op" id="6874488">:=</span>&nbsp;<span class="builtinfunc" id="6874491">make</span><span class="op" id="6874495">(</span><span class="op" id="6874496">[</span><span class="op" id="6874497">]</span><span class="ident" id="6874498">bytes</span><span class="op" id="6874503">.</span><span class="ident" id="6874504">Buffer</span><span class="op" id="6874510">,</span>&nbsp;<span class="num" id="6874512">2</span><span class="op" id="6874513">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874517">f</span>&nbsp;<span class="op" id="6874519">:=</span>&nbsp;<span class="ident" id="6874522">NewReader</span><span class="op" id="6874531">(</span><span class="op" id="6874532">&amp;</span><span class="ident" id="6874533">deflated</span><span class="op" id="6874541">[</span><span class="num" id="6874542">0</span><span class="op" id="6874543">]</span><span class="op" id="6874544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874547">io</span><span class="op" id="6874549">.</span><span class="ident" id="6874550">Copy</span><span class="op" id="6874554">(</span><span class="op" id="6874555">&amp;</span><span class="ident" id="6874556">inflated</span><span class="op" id="6874564">[</span><span class="num" id="6874565">0</span><span class="op" id="6874566">]</span><span class="op" id="6874567">,</span>&nbsp;<span class="ident" id="6874569">f</span><span class="op" id="6874570">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874573">f</span><span class="op" id="6874574">.</span><span class="op" id="6874575">(</span><span class="ident" id="6874576">Resetter</span><span class="op" id="6874584">)</span><span class="op" id="6874585">.</span><span class="ident" id="6874586">Reset</span><span class="op" id="6874591">(</span><span class="op" id="6874592">&amp;</span><span class="ident" id="6874593">deflated</span><span class="op" id="6874601">[</span><span class="num" id="6874602">1</span><span class="op" id="6874603">]</span><span class="op" id="6874604">,</span>&nbsp;<span class="ident" id="6874606">nil</span><span class="op" id="6874609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874612">io</span><span class="op" id="6874614">.</span><span class="ident" id="6874615">Copy</span><span class="op" id="6874619">(</span><span class="op" id="6874620">&amp;</span><span class="ident" id="6874621">inflated</span><span class="op" id="6874629">[</span><span class="num" id="6874630">1</span><span class="op" id="6874631">]</span><span class="op" id="6874632">,</span>&nbsp;<span class="ident" id="6874634">f</span><span class="op" id="6874635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874638">f</span><span class="op" id="6874639">.</span><span class="ident" id="6874640">Close</span><span class="op" id="6874645">(</span><span class="op" id="6874646">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6874650">for</span>&nbsp;<span class="ident" id="6874654">i</span><span class="op" id="6874655">,</span>&nbsp;<span class="ident" id="6874657">s</span>&nbsp;<span class="op" id="6874659">:=</span>&nbsp;<span class="keyword" id="6874662">range</span>&nbsp;<span class="ident" id="6874668">ss</span>&nbsp;<span class="op" id="6874671">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6874675">if</span>&nbsp;<span class="ident" id="6874678">s</span>&nbsp;<span class="op" id="6874680">!=</span>&nbsp;<span class="ident" id="6874683">inflated</span><span class="op" id="6874691">[</span><span class="ident" id="6874692">i</span><span class="op" id="6874693">]</span><span class="op" id="6874694">.</span><span class="ident" id="6874695">String</span><span class="op" id="6874701">(</span><span class="op" id="6874702">)</span>&nbsp;<span class="op" id="6874704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6874709">t</span><span class="op" id="6874710">.</span><span class="ident" id="6874711">Errorf</span><span class="op" id="6874717">(</span><span class="string" id="6874718">&#34;inflated[%d]:\ngot&nbsp;&nbsp;%q\nwant&nbsp;%q&#34;</span><span class="op" id="6874751">,</span>&nbsp;<span class="ident" id="6874753">i</span><span class="op" id="6874754">,</span>&nbsp;<span class="ident" id="6874756">inflated</span><span class="op" id="6874764">[</span><span class="ident" id="6874765">i</span><span class="op" id="6874766">]</span><span class="op" id="6874767">,</span>&nbsp;<span class="ident" id="6874769">s</span><span class="op" id="6874770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6874774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6874777">}</span><br>
<span class="lineno"></span><span class="op" id="6874779">}</span>
</div>
</body>
</html>
