<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1630315">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1630370">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1630424">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1630475">package</span>&nbsp;<span class="ident" id="1630483">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1630489">//&nbsp;Nextafter32&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float32&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="1630568">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno"></span><span class="comment" id="1630586">//&nbsp;&nbsp;&nbsp;&nbspNextafter32(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno">10</span><span class="comment" id="1630613">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1630647">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1630681">func</span>&nbsp;<span class="ident" id="1630686">Nextafter32</span><span class="op" id="1630697">(</span><span class="ident" id="1630698">x</span><span class="op" id="1630699">,</span>&nbsp;<span class="ident" id="1630701">y</span>&nbsp;<span class="builtintype" id="1630703">float32</span><span class="op" id="1630710">)</span>&nbsp;<span class="op" id="1630712">(</span><span class="ident" id="1630713">r</span>&nbsp;<span class="builtintype" id="1630715">float32</span><span class="op" id="1630722">)</span>&nbsp;<span class="op" id="1630724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1630727">switch</span>&nbsp;<span class="op" id="1630734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1630737">case</span>&nbsp;<span class="ident" id="1630742">IsNaN</span><span class="op" id="1630747">(</span><span class="builtintype" id="1630748">float64</span><span class="op" id="1630755">(</span><span class="ident" id="1630756">x</span><span class="op" id="1630757">)</span><span class="op" id="1630758">)</span>&nbsp;<span class="op" id="1630760">||</span>&nbsp;<span class="ident" id="1630763">IsNaN</span><span class="op" id="1630768">(</span><span class="builtintype" id="1630769">float64</span><span class="op" id="1630776">(</span><span class="ident" id="1630777">y</span><span class="op" id="1630778">)</span><span class="op" id="1630779">)</span><span class="op" id="1630780">:</span>&nbsp;<span class="comment" id="1630782">//&nbsp;special&nbsp;case</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1630800">r</span>&nbsp;<span class="op" id="1630802">=</span>&nbsp;<span class="builtintype" id="1630804">float32</span><span class="op" id="1630811">(</span><span class="ident" id="1630812">NaN</span><span class="op" id="1630815">(</span><span class="op" id="1630816">)</span><span class="op" id="1630817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1630820">case</span>&nbsp;<span class="ident" id="1630825">x</span>&nbsp;<span class="op" id="1630827">==</span>&nbsp;<span class="ident" id="1630830">y</span><span class="op" id="1630831">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1630835">r</span>&nbsp;<span class="op" id="1630837">=</span>&nbsp;<span class="ident" id="1630839">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1630842">case</span>&nbsp;<span class="ident" id="1630847">x</span>&nbsp;<span class="op" id="1630849">==</span>&nbsp;<span class="num" id="1630852">0</span><span class="op" id="1630853">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1630857">r</span>&nbsp;<span class="op" id="1630859">=</span>&nbsp;<span class="builtintype" id="1630861">float32</span><span class="op" id="1630868">(</span><span class="ident" id="1630869">Copysign</span><span class="op" id="1630877">(</span><span class="builtintype" id="1630878">float64</span><span class="op" id="1630885">(</span><span class="ident" id="1630886">Float32frombits</span><span class="op" id="1630901">(</span><span class="num" id="1630902">1</span><span class="op" id="1630903">)</span><span class="op" id="1630904">)</span><span class="op" id="1630905">,</span>&nbsp;<span class="builtintype" id="1630907">float64</span><span class="op" id="1630914">(</span><span class="ident" id="1630915">y</span><span class="op" id="1630916">)</span><span class="op" id="1630917">)</span><span class="op" id="1630918">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1630921">case</span>&nbsp;<span class="op" id="1630926">(</span><span class="ident" id="1630927">y</span>&nbsp;<span class="op" id="1630929">&gt;</span>&nbsp;<span class="ident" id="1630931">x</span><span class="op" id="1630932">)</span>&nbsp;<span class="op" id="1630934">==</span>&nbsp;<span class="op" id="1630937">(</span><span class="ident" id="1630938">x</span>&nbsp;<span class="op" id="1630940">&gt;</span>&nbsp;<span class="num" id="1630942">0</span><span class="op" id="1630943">)</span><span class="op" id="1630944">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1630948">r</span>&nbsp;<span class="op" id="1630950">=</span>&nbsp;<span class="ident" id="1630952">Float32frombits</span><span class="op" id="1630967">(</span><span class="ident" id="1630968">Float32bits</span><span class="op" id="1630979">(</span><span class="ident" id="1630980">x</span><span class="op" id="1630981">)</span>&nbsp;<span class="op" id="1630983">+</span>&nbsp;<span class="num" id="1630985">1</span><span class="op" id="1630986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1630989">default</span><span class="op" id="1630996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1631000">r</span>&nbsp;<span class="op" id="1631002">=</span>&nbsp;<span class="ident" id="1631004">Float32frombits</span><span class="op" id="1631019">(</span><span class="ident" id="1631020">Float32bits</span><span class="op" id="1631031">(</span><span class="ident" id="1631032">x</span><span class="op" id="1631033">)</span>&nbsp;<span class="op" id="1631035">-</span>&nbsp;<span class="num" id="1631037">1</span><span class="op" id="1631038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1631041">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631044">return</span><br>
<span class="lineno"></span><span class="op" id="1631051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1631054">//&nbsp;Nextafter&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float64&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="1631131">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno">30</span><span class="comment" id="1631149">//&nbsp;&nbsp;&nbsp;&nbspNextafter64(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="1631176">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="1631210">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="1631244">func</span>&nbsp;<span class="ident" id="1631249">Nextafter</span><span class="op" id="1631258">(</span><span class="ident" id="1631259">x</span><span class="op" id="1631260">,</span>&nbsp;<span class="ident" id="1631262">y</span>&nbsp;<span class="builtintype" id="1631264">float64</span><span class="op" id="1631271">)</span>&nbsp;<span class="op" id="1631273">(</span><span class="ident" id="1631274">r</span>&nbsp;<span class="builtintype" id="1631276">float64</span><span class="op" id="1631283">)</span>&nbsp;<span class="op" id="1631285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631288">switch</span>&nbsp;<span class="op" id="1631295">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631298">case</span>&nbsp;<span class="ident" id="1631303">IsNaN</span><span class="op" id="1631308">(</span><span class="ident" id="1631309">x</span><span class="op" id="1631310">)</span>&nbsp;<span class="op" id="1631312">||</span>&nbsp;<span class="ident" id="1631315">IsNaN</span><span class="op" id="1631320">(</span><span class="ident" id="1631321">y</span><span class="op" id="1631322">)</span><span class="op" id="1631323">:</span>&nbsp;<span class="comment" id="1631325">//&nbsp;special&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1631343">r</span>&nbsp;<span class="op" id="1631345">=</span>&nbsp;<span class="ident" id="1631347">NaN</span><span class="op" id="1631350">(</span><span class="op" id="1631351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631354">case</span>&nbsp;<span class="ident" id="1631359">x</span>&nbsp;<span class="op" id="1631361">==</span>&nbsp;<span class="ident" id="1631364">y</span><span class="op" id="1631365">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1631369">r</span>&nbsp;<span class="op" id="1631371">=</span>&nbsp;<span class="ident" id="1631373">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631376">case</span>&nbsp;<span class="ident" id="1631381">x</span>&nbsp;<span class="op" id="1631383">==</span>&nbsp;<span class="num" id="1631386">0</span><span class="op" id="1631387">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1631391">r</span>&nbsp;<span class="op" id="1631393">=</span>&nbsp;<span class="ident" id="1631395">Copysign</span><span class="op" id="1631403">(</span><span class="ident" id="1631404">Float64frombits</span><span class="op" id="1631419">(</span><span class="num" id="1631420">1</span><span class="op" id="1631421">)</span><span class="op" id="1631422">,</span>&nbsp;<span class="ident" id="1631424">y</span><span class="op" id="1631425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631428">case</span>&nbsp;<span class="op" id="1631433">(</span><span class="ident" id="1631434">y</span>&nbsp;<span class="op" id="1631436">&gt;</span>&nbsp;<span class="ident" id="1631438">x</span><span class="op" id="1631439">)</span>&nbsp;<span class="op" id="1631441">==</span>&nbsp;<span class="op" id="1631444">(</span><span class="ident" id="1631445">x</span>&nbsp;<span class="op" id="1631447">&gt;</span>&nbsp;<span class="num" id="1631449">0</span><span class="op" id="1631450">)</span><span class="op" id="1631451">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1631455">r</span>&nbsp;<span class="op" id="1631457">=</span>&nbsp;<span class="ident" id="1631459">Float64frombits</span><span class="op" id="1631474">(</span><span class="ident" id="1631475">Float64bits</span><span class="op" id="1631486">(</span><span class="ident" id="1631487">x</span><span class="op" id="1631488">)</span>&nbsp;<span class="op" id="1631490">+</span>&nbsp;<span class="num" id="1631492">1</span><span class="op" id="1631493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631496">default</span><span class="op" id="1631503">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1631507">r</span>&nbsp;<span class="op" id="1631509">=</span>&nbsp;<span class="ident" id="1631511">Float64frombits</span><span class="op" id="1631526">(</span><span class="ident" id="1631527">Float64bits</span><span class="op" id="1631538">(</span><span class="ident" id="1631539">x</span><span class="op" id="1631540">)</span>&nbsp;<span class="op" id="1631542">-</span>&nbsp;<span class="num" id="1631544">1</span><span class="op" id="1631545">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1631548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1631551">return</span><br>
<span class="lineno"></span><span class="op" id="1631558">}</span>
</div>
</body>
</html>
