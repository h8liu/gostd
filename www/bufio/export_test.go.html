<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8130742">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8130797">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8130851">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8130902">package</span>&nbsp;<span class="ident" id="8130910">bufio</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8130917">//&nbsp;Exported&nbsp;for&nbsp;testing&nbsp;only.</span><br>
<span class="lineno"></span><span class="keyword" id="8130947">import</span>&nbsp;<span class="op" id="8130954">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8130957">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8130972">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8130975">var</span>&nbsp;<span class="ident" id="8130979">IsSpace</span>&nbsp;<span class="op" id="8130987">=</span>&nbsp;<span class="ident" id="8130989"><a href="/bufio/scan.go.html#3247440">isSpace</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8130998">func</span>&nbsp;<span class="op" id="8131003">(</span><span class="ident" id="8131004">s</span>&nbsp;<span class="op" id="8131006">*</span><span class="ident" id="8131007"><a href="/bufio/scan.go.html#3238258">Scanner</a></span><span class="op" id="8131014">)</span>&nbsp;<span class="ident" id="8131016">MaxTokenSize</span><span class="op" id="8131028">(</span><span class="ident" id="8131029">n</span>&nbsp;<span class="builtintype" id="8131031">int</span><span class="op" id="8131034">)</span>&nbsp;<span class="op" id="8131036">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131039">if</span>&nbsp;<span class="ident" id="8131042"><a href="/bufio/export_test.go.html#8131029">n</a></span>&nbsp;<span class="op" id="8131044">&lt;</span>&nbsp;<span class="ident" id="8131046"><a href="/bufio/export_test.go.html#8130957">utf8</a></span><span class="op" id="8131050">.</span><span class="ident" id="8131051">UTFMax</span>&nbsp;<span class="op" id="8131058">||</span>&nbsp;<span class="ident" id="8131061"><a href="/bufio/export_test.go.html#8131029">n</a></span>&nbsp;<span class="op" id="8131063">&gt;</span>&nbsp;<span class="num" id="8131065">1e9</span>&nbsp;<span class="op" id="8131069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8131073">panic</span><span class="op" id="8131078">(</span><span class="string" id="8131079">&#34;bad&nbsp;max&nbsp;token&nbsp;size&#34;</span><span class="op" id="8131099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8131102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131105">if</span>&nbsp;<span class="ident" id="8131108"><a href="/bufio/export_test.go.html#8131029">n</a></span>&nbsp;<span class="op" id="8131110">&lt;</span>&nbsp;<span class="builtinfunc" id="8131112">len</span><span class="op" id="8131115">(</span><span class="ident" id="8131116"><a href="/bufio/export_test.go.html#8131004">s</a></span><span class="op" id="8131117">.</span><span class="ident" id="8131118">buf</span><span class="op" id="8131121">)</span>&nbsp;<span class="op" id="8131123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131127"><a href="/bufio/export_test.go.html#8131004">s</a></span><span class="op" id="8131128">.</span><span class="ident" id="8131129">buf</span>&nbsp;<span class="op" id="8131133">=</span>&nbsp;<span class="builtinfunc" id="8131135">make</span><span class="op" id="8131139">(</span><span class="op" id="8131140">[</span><span class="op" id="8131141">]</span><span class="builtintype" id="8131142">byte</span><span class="op" id="8131146">,</span>&nbsp;<span class="ident" id="8131148"><a href="/bufio/export_test.go.html#8131029">n</a></span><span class="op" id="8131149">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8131152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8131155"><a href="/bufio/export_test.go.html#8131004">s</a></span><span class="op" id="8131156">.</span><span class="ident" id="8131157">maxTokenSize</span>&nbsp;<span class="op" id="8131170">=</span>&nbsp;<span class="ident" id="8131172"><a href="/bufio/export_test.go.html#8131029">n</a></span><br>
<span class="lineno"></span><span class="op" id="8131174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8131177">//&nbsp;ErrOrEOF&nbsp;is&nbsp;like&nbsp;Err,&nbsp;but&nbsp;returns&nbsp;EOF.&nbsp;Used&nbsp;to&nbsp;test&nbsp;a&nbsp;corner&nbsp;case.</span><br>
<span class="lineno">25</span><span class="keyword" id="8131247">func</span>&nbsp;<span class="op" id="8131252">(</span><span class="ident" id="8131253">s</span>&nbsp;<span class="op" id="8131255">*</span><span class="ident" id="8131256"><a href="/bufio/scan.go.html#3238258">Scanner</a></span><span class="op" id="8131263">)</span>&nbsp;<span class="ident" id="8131265">ErrOrEOF</span><span class="op" id="8131273">(</span><span class="op" id="8131274">)</span>&nbsp;<span class="builtintype" id="8131276">error</span>&nbsp;<span class="op" id="8131282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8131285">return</span>&nbsp;<span class="ident" id="8131292"><a href="/bufio/export_test.go.html#8131253">s</a></span><span class="op" id="8131293">.</span><span class="ident" id="8131294">err</span><br>
<span class="lineno"></span><span class="op" id="8131298">}</span>
</div>
</body>
</html>
