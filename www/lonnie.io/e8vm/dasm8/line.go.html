<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="6090651">package</span>&nbsp;<span class="ident" id="6090659">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6090666">import</span>&nbsp;<span class="op" id="6090673">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6090676">&#34;bytes&#34;</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6090685">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6090704">&#34;fmt&#34;</span><br>
<span class="lineno"></span><span class="op" id="6090710">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6090713">//&nbsp;Line&nbsp;is&nbsp;a&nbsp;disassembled&nbsp;line</span><br>
<span class="lineno">10</span><span class="keyword" id="6090744">type</span>&nbsp;<span class="ident" id="6090749">Line</span>&nbsp;<span class="keyword" id="6090754">struct</span>&nbsp;<span class="op" id="6090761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090764">Addr</span>&nbsp;<span class="builtintype" id="6090769">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090778">Inst</span>&nbsp;<span class="builtintype" id="6090783">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090791">Str</span>&nbsp;&nbsp;<span class="builtintype" id="6090796">string</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090805">IsJump</span>&nbsp;<span class="builtintype" id="6090812">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090818">To</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6090825">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090833">ToLine</span>&nbsp;<span class="op" id="6090840">*</span><span class="ident" id="6090841"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090749">Line</a></span><br>
<span class="lineno"></span><span class="op" id="6090846">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6090849">func</span>&nbsp;<span class="ident" id="6090854">printables</span><span class="op" id="6090864">(</span><span class="ident" id="6090865">bs</span>&nbsp;<span class="op" id="6090868">[</span><span class="op" id="6090869">]</span><span class="builtintype" id="6090870">byte</span><span class="op" id="6090874">)</span>&nbsp;<span class="builtintype" id="6090876">string</span>&nbsp;<span class="op" id="6090883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090886">ret</span>&nbsp;<span class="op" id="6090890">:=</span>&nbsp;<span class="string" id="6090893">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6090897">for</span>&nbsp;<span class="ident" id="6090901">_</span><span class="op" id="6090902">,</span>&nbsp;<span class="ident" id="6090904">b</span>&nbsp;<span class="op" id="6090906">:=</span>&nbsp;<span class="keyword" id="6090909">range</span>&nbsp;<span class="ident" id="6090915"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090865">bs</a></span>&nbsp;<span class="op" id="6090918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090922">r</span>&nbsp;<span class="op" id="6090924">:=</span>&nbsp;<span class="builtintype" id="6090927">rune</span><span class="op" id="6090931">(</span><span class="ident" id="6090932"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090904">b</a></span><span class="op" id="6090933">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6090937">if</span>&nbsp;<span class="ident" id="6090940"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090922">r</a></span>&nbsp;<span class="op" id="6090942">&gt;=</span>&nbsp;<span class="string" id="6090945">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6090949">&amp;&amp;</span>&nbsp;<span class="ident" id="6090952"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090922">r</a></span>&nbsp;<span class="op" id="6090954">&lt;=</span>&nbsp;<span class="string" id="6090957">&#39;~&#39;</span>&nbsp;<span class="op" id="6090961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090966"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090886">ret</a></span>&nbsp;<span class="op" id="6090970">+=</span>&nbsp;<span class="builtintype" id="6090973">string</span><span class="op" id="6090979">(</span><span class="ident" id="6090980"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090922">r</a></span><span class="op" id="6090981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6090985">}</span>&nbsp;<span class="keyword" id="6090987">else</span>&nbsp;<span class="op" id="6090992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6090997"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090886">ret</a></span>&nbsp;<span class="op" id="6091001">+=</span>&nbsp;<span class="string" id="6091004">&#34;.&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6091010">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6091013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6091016">return</span>&nbsp;<span class="ident" id="6091023"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090886">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6091027">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6091030">var</span>&nbsp;<span class="ident" id="6091034">enc</span>&nbsp;<span class="op" id="6091038">=</span>&nbsp;<span class="ident" id="6091040"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090685">binary</a></span><span class="op" id="6091046">.</span><span class="ident" id="6091047">LittleEndian</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6091061">func</span>&nbsp;<span class="op" id="6091066">(</span><span class="ident" id="6091067">line</span>&nbsp;<span class="op" id="6091072">*</span><span class="ident" id="6091073"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090749">Line</a></span><span class="op" id="6091077">)</span>&nbsp;<span class="ident" id="6091079">String</span><span class="op" id="6091085">(</span><span class="op" id="6091086">)</span>&nbsp;<span class="builtintype" id="6091088">string</span>&nbsp;<span class="op" id="6091095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091098">ret</span>&nbsp;<span class="op" id="6091102">:=</span>&nbsp;<span class="builtinfunc" id="6091105">new</span><span class="op" id="6091108">(</span><span class="ident" id="6091109"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090676">bytes</a></span><span class="op" id="6091114">.</span><span class="ident" id="6091115">Buffer</span><span class="op" id="6091121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6091124">var</span>&nbsp;<span class="ident" id="6091128">buf</span>&nbsp;<span class="op" id="6091132">[</span><span class="num" id="6091133">4</span><span class="op" id="6091134">]</span><span class="builtintype" id="6091135">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091141"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091034">enc</a></span><span class="op" id="6091144">.</span><span class="ident" id="6091145">PutUint32</span><span class="op" id="6091154">(</span><span class="ident" id="6091155"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091128">buf</a></span><span class="op" id="6091158">[</span><span class="op" id="6091159">:</span><span class="op" id="6091160">]</span><span class="op" id="6091161">,</span>&nbsp;<span class="ident" id="6091163"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091067">line</a></span><span class="op" id="6091167">.</span><span class="ident" id="6091168">Inst</span><span class="op" id="6091172">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091176"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090704">fmt</a></span><span class="op" id="6091179">.</span><span class="ident" id="6091180">Fprintf</span><span class="op" id="6091187">(</span><span class="ident" id="6091188"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091098">ret</a></span><span class="op" id="6091191">,</span>&nbsp;<span class="string" id="6091193">&#34;%08x:&nbsp;&nbsp;%&nbsp;02x&#34;</span><span class="op" id="6091207">,</span>&nbsp;<span class="ident" id="6091209"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091067">line</a></span><span class="op" id="6091213">.</span><span class="ident" id="6091214">Addr</span><span class="op" id="6091218">,</span>&nbsp;<span class="ident" id="6091220"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091128">buf</a></span><span class="op" id="6091223">[</span><span class="op" id="6091224">:</span><span class="op" id="6091225">]</span><span class="op" id="6091226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091229"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090704">fmt</a></span><span class="op" id="6091232">.</span><span class="ident" id="6091233">Fprintf</span><span class="op" id="6091240">(</span><span class="ident" id="6091241"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091098">ret</a></span><span class="op" id="6091244">,</span>&nbsp;<span class="string" id="6091246">&#34;&nbsp;&nbsp;&nbsp;%s&#34;</span><span class="op" id="6091253">,</span>&nbsp;<span class="ident" id="6091255"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090854">printables</a></span><span class="op" id="6091265">(</span><span class="ident" id="6091266"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091128">buf</a></span><span class="op" id="6091269">[</span><span class="op" id="6091270">:</span><span class="op" id="6091271">]</span><span class="op" id="6091272">)</span><span class="op" id="6091273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091276"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090704">fmt</a></span><span class="op" id="6091279">.</span><span class="ident" id="6091280">Fprintf</span><span class="op" id="6091287">(</span><span class="ident" id="6091288"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091098">ret</a></span><span class="op" id="6091291">,</span>&nbsp;<span class="string" id="6091293">&#34;&nbsp;&nbsp;&nbsp;&nbsp;%s&#34;</span><span class="op" id="6091301">,</span>&nbsp;<span class="ident" id="6091303"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091067">line</a></span><span class="op" id="6091307">.</span><span class="ident" id="6091308">Str</span><span class="op" id="6091311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6091314">if</span>&nbsp;<span class="ident" id="6091317"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091067">line</a></span><span class="op" id="6091321">.</span><span class="ident" id="6091322">IsJump</span>&nbsp;<span class="op" id="6091329">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091333"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090704">fmt</a></span><span class="op" id="6091336">.</span><span class="ident" id="6091337">Fprintf</span><span class="op" id="6091344">(</span><span class="ident" id="6091345"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091098">ret</a></span><span class="op" id="6091348">,</span>&nbsp;<span class="string" id="6091350">&#34;&nbsp;&nbsp;&nbsp;//&nbsp;%08x&#34;</span><span class="op" id="6091362">,</span>&nbsp;<span class="ident" id="6091364"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091067">line</a></span><span class="op" id="6091368">.</span><span class="ident" id="6091369">To</span><span class="op" id="6091371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6091374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6091378">return</span>&nbsp;<span class="ident" id="6091385"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091098">ret</a></span><span class="op" id="6091388">.</span><span class="ident" id="6091389">String</span><span class="op" id="6091395">(</span><span class="op" id="6091396">)</span><br>
<span class="lineno"></span><span class="op" id="6091398">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="6091401">func</span>&nbsp;<span class="ident" id="6091406">newLine</span><span class="op" id="6091413">(</span><span class="ident" id="6091414">addr</span>&nbsp;<span class="builtintype" id="6091419">uint32</span><span class="op" id="6091425">,</span>&nbsp;<span class="ident" id="6091427">in</span>&nbsp;<span class="builtintype" id="6091430">uint32</span><span class="op" id="6091436">)</span>&nbsp;<span class="op" id="6091438">*</span><span class="ident" id="6091439"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090749">Line</a></span>&nbsp;<span class="op" id="6091444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091447">ret</span>&nbsp;<span class="op" id="6091451">:=</span>&nbsp;<span class="builtinfunc" id="6091454">new</span><span class="op" id="6091457">(</span><span class="ident" id="6091458"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6090749">Line</a></span><span class="op" id="6091462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091465"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091447">ret</a></span><span class="op" id="6091468">.</span><span class="ident" id="6091469">Addr</span>&nbsp;<span class="op" id="6091474">=</span>&nbsp;<span class="ident" id="6091476"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091414">addr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6091482"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091447">ret</a></span><span class="op" id="6091485">.</span><span class="ident" id="6091486">Inst</span>&nbsp;<span class="op" id="6091491">=</span>&nbsp;<span class="ident" id="6091493"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091427">in</a></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6091497">return</span>&nbsp;<span class="ident" id="6091504"><a href="/lonnie.io/e8vm/dasm8/line.go.html#6091447">ret</a></span><br>
<span class="lineno"></span><span class="op" id="6091508">}</span>
</div>
</body>
</html>
