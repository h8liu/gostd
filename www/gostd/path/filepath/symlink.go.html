<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path/filepath</h2>
<ul>
<li><a href="/gostd/path/filepath/example_unix_test.go.html">example_unix_test.go</a></li>
<li><a href="/gostd/path/filepath/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/path/filepath/match.go.html">match.go</a></li>
<li><a href="/gostd/path/filepath/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/filepath/path.go.html">path.go</a></li>
<li><a href="/gostd/path/filepath/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/path/filepath/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/path/filepath/symlink.go.html" class="current">symlink.go</a></li>
<li><a href="/gostd/path/filepath/symlink_unix.go.html">symlink_unix.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2966959">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2967014">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2967068">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2967119">package</span>&nbsp;<span class="ident" id="2967127">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2967137">import</span>&nbsp;<span class="op" id="2967144">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2967147">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2967156">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2967166">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="2967171">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2967174">const</span>&nbsp;<span class="ident" id="2967180">utf8RuneSelf</span>&nbsp;<span class="op" id="2967193">=</span>&nbsp;<span class="num" id="2967195">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="2967201">func</span>&nbsp;<span class="ident" id="2967206">walkSymlinks</span><span class="op" id="2967218">(</span><span class="ident" id="2967219">path</span>&nbsp;<span class="builtintype" id="2967224">string</span><span class="op" id="2967230">)</span>&nbsp;<span class="op" id="2967232">(</span><span class="builtintype" id="2967233">string</span><span class="op" id="2967239">,</span>&nbsp;<span class="builtintype" id="2967241">error</span><span class="op" id="2967246">)</span>&nbsp;<span class="op" id="2967248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967251">const</span>&nbsp;<span class="ident" id="2967257">maxIter</span>&nbsp;<span class="op" id="2967265">=</span>&nbsp;<span class="num" id="2967267">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967272">originalPath</span>&nbsp;<span class="op" id="2967285">:=</span>&nbsp;<span class="ident" id="2967288">path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2967294">//&nbsp;consume&nbsp;path&nbsp;by&nbsp;taking&nbsp;each&nbsp;frontmost&nbsp;path&nbsp;element,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2967350">//&nbsp;expanding&nbsp;it&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;and&nbsp;appending&nbsp;it&nbsp;to&nbsp;b</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967408">var</span>&nbsp;<span class="ident" id="2967412">b</span>&nbsp;<span class="ident" id="2967414">bytes</span><span class="op" id="2967419">.</span><span class="ident" id="2967420">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967428">for</span>&nbsp;<span class="ident" id="2967432">n</span>&nbsp;<span class="op" id="2967434">:=</span>&nbsp;<span class="num" id="2967437">0</span><span class="op" id="2967438">;</span>&nbsp;<span class="ident" id="2967440">path</span>&nbsp;<span class="op" id="2967445">!=</span>&nbsp;<span class="string" id="2967448">&#34;&#34;</span><span class="op" id="2967450">;</span>&nbsp;<span class="ident" id="2967452">n</span><span class="op" id="2967453">++</span>&nbsp;<span class="op" id="2967456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967460">if</span>&nbsp;<span class="ident" id="2967463">n</span>&nbsp;<span class="op" id="2967465">&gt;</span>&nbsp;<span class="ident" id="2967467">maxIter</span>&nbsp;<span class="op" id="2967475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967480">return</span>&nbsp;<span class="string" id="2967487">&#34;&#34;</span><span class="op" id="2967489">,</span>&nbsp;<span class="ident" id="2967491">errors</span><span class="op" id="2967497">.</span><span class="ident" id="2967498">New</span><span class="op" id="2967501">(</span><span class="string" id="2967502">&#34;EvalSymlinks:&nbsp;too&nbsp;many&nbsp;links&nbsp;in&nbsp;&#34;</span>&nbsp;<span class="op" id="2967537">+</span>&nbsp;<span class="ident" id="2967539">originalPath</span><span class="op" id="2967551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967555">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2967560">//&nbsp;find&nbsp;next&nbsp;path&nbsp;component,&nbsp;p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967593">var</span>&nbsp;<span class="ident" id="2967597">i</span>&nbsp;<span class="op" id="2967599">=</span>&nbsp;<span class="op" id="2967601">-</span><span class="num" id="2967602">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967606">for</span>&nbsp;<span class="ident" id="2967610">j</span><span class="op" id="2967611">,</span>&nbsp;<span class="ident" id="2967613">c</span>&nbsp;<span class="op" id="2967615">:=</span>&nbsp;<span class="keyword" id="2967618">range</span>&nbsp;<span class="ident" id="2967624">path</span>&nbsp;<span class="op" id="2967629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967634">if</span>&nbsp;<span class="ident" id="2967637">c</span>&nbsp;<span class="op" id="2967639">&lt;</span>&nbsp;<span class="ident" id="2967641">utf8RuneSelf</span>&nbsp;<span class="op" id="2967654">&amp;&amp;</span>&nbsp;<span class="ident" id="2967657">os</span><span class="op" id="2967659">.</span><span class="ident" id="2967660">IsPathSeparator</span><span class="op" id="2967675">(</span><span class="builtintype" id="2967676">uint8</span><span class="op" id="2967681">(</span><span class="ident" id="2967682">c</span><span class="op" id="2967683">)</span><span class="op" id="2967684">)</span>&nbsp;<span class="op" id="2967686">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967692">i</span>&nbsp;<span class="op" id="2967694">=</span>&nbsp;<span class="ident" id="2967696">j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967702">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967719">var</span>&nbsp;<span class="ident" id="2967723">p</span>&nbsp;<span class="builtintype" id="2967725">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967734">if</span>&nbsp;<span class="ident" id="2967737">i</span>&nbsp;<span class="op" id="2967739">==</span>&nbsp;<span class="op" id="2967742">-</span><span class="num" id="2967743">1</span>&nbsp;<span class="op" id="2967745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967750">p</span><span class="op" id="2967751">,</span>&nbsp;<span class="ident" id="2967753">path</span>&nbsp;<span class="op" id="2967758">=</span>&nbsp;<span class="ident" id="2967760">path</span><span class="op" id="2967764">,</span>&nbsp;<span class="string" id="2967766">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967771">}</span>&nbsp;<span class="keyword" id="2967773">else</span>&nbsp;<span class="op" id="2967778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967783">p</span><span class="op" id="2967784">,</span>&nbsp;<span class="ident" id="2967786">path</span>&nbsp;<span class="op" id="2967791">=</span>&nbsp;<span class="ident" id="2967793">path</span><span class="op" id="2967797">[</span><span class="op" id="2967798">:</span><span class="ident" id="2967799">i</span><span class="op" id="2967800">]</span><span class="op" id="2967801">,</span>&nbsp;<span class="ident" id="2967803">path</span><span class="op" id="2967807">[</span><span class="ident" id="2967808">i</span><span class="op" id="2967809">+</span><span class="num" id="2967810">1</span><span class="op" id="2967811">:</span><span class="op" id="2967812">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967816">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967821">if</span>&nbsp;<span class="ident" id="2967824">p</span>&nbsp;<span class="op" id="2967826">==</span>&nbsp;<span class="string" id="2967829">&#34;&#34;</span>&nbsp;<span class="op" id="2967832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967837">if</span>&nbsp;<span class="ident" id="2967840">b</span><span class="op" id="2967841">.</span><span class="ident" id="2967842">Len</span><span class="op" id="2967845">(</span><span class="op" id="2967846">)</span>&nbsp;<span class="op" id="2967848">==</span>&nbsp;<span class="num" id="2967851">0</span>&nbsp;<span class="op" id="2967853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2967859">//&nbsp;must&nbsp;be&nbsp;absolute&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967888">b</span><span class="op" id="2967889">.</span><span class="ident" id="2967890">WriteRune</span><span class="op" id="2967899">(</span><span class="ident" id="2967900">Separator</span><span class="op" id="2967909">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967914">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967919">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2967930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2967935">fi</span><span class="op" id="2967937">,</span>&nbsp;<span class="ident" id="2967939">err</span>&nbsp;<span class="op" id="2967943">:=</span>&nbsp;<span class="ident" id="2967946">os</span><span class="op" id="2967948">.</span><span class="ident" id="2967949">Lstat</span><span class="op" id="2967954">(</span><span class="ident" id="2967955">b</span><span class="op" id="2967956">.</span><span class="ident" id="2967957">String</span><span class="op" id="2967963">(</span><span class="op" id="2967964">)</span>&nbsp;<span class="op" id="2967966">+</span>&nbsp;<span class="ident" id="2967968">p</span><span class="op" id="2967969">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967973">if</span>&nbsp;<span class="ident" id="2967976">err</span>&nbsp;<span class="op" id="2967980">!=</span>&nbsp;<span class="ident" id="2967983">nil</span>&nbsp;<span class="op" id="2967987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2967992">return</span>&nbsp;<span class="string" id="2967999">&#34;&#34;</span><span class="op" id="2968001">,</span>&nbsp;<span class="ident" id="2968003">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968013">if</span>&nbsp;<span class="ident" id="2968016">fi</span><span class="op" id="2968018">.</span><span class="ident" id="2968019">Mode</span><span class="op" id="2968023">(</span><span class="op" id="2968024">)</span><span class="op" id="2968025">&amp;</span><span class="ident" id="2968026">os</span><span class="op" id="2968028">.</span><span class="ident" id="2968029">ModeSymlink</span>&nbsp;<span class="op" id="2968041">==</span>&nbsp;<span class="num" id="2968044">0</span>&nbsp;<span class="op" id="2968046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968051">b</span><span class="op" id="2968052">.</span><span class="ident" id="2968053">WriteString</span><span class="op" id="2968064">(</span><span class="ident" id="2968065">p</span><span class="op" id="2968066">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968071">if</span>&nbsp;<span class="ident" id="2968074">path</span>&nbsp;<span class="op" id="2968079">!=</span>&nbsp;<span class="string" id="2968082">&#34;&#34;</span>&nbsp;<span class="op" id="2968085">||</span>&nbsp;<span class="op" id="2968088">(</span><span class="ident" id="2968089">b</span><span class="op" id="2968090">.</span><span class="ident" id="2968091">Len</span><span class="op" id="2968094">(</span><span class="op" id="2968095">)</span>&nbsp;<span class="op" id="2968097">==</span>&nbsp;<span class="num" id="2968100">2</span>&nbsp;<span class="op" id="2968102">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2968105">len</span><span class="op" id="2968108">(</span><span class="ident" id="2968109">p</span><span class="op" id="2968110">)</span>&nbsp;<span class="op" id="2968112">==</span>&nbsp;<span class="num" id="2968115">2</span>&nbsp;<span class="op" id="2968117">&amp;&amp;</span>&nbsp;<span class="ident" id="2968120">p</span><span class="op" id="2968121">[</span><span class="num" id="2968122">1</span><span class="op" id="2968123">]</span>&nbsp;<span class="op" id="2968125">==</span>&nbsp;<span class="string" id="2968128">&#39;:&#39;</span><span class="op" id="2968131">)</span>&nbsp;<span class="op" id="2968133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968139">b</span><span class="op" id="2968140">.</span><span class="ident" id="2968141">WriteRune</span><span class="op" id="2968150">(</span><span class="ident" id="2968151">Separator</span><span class="op" id="2968160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968170">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968181">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2968186">//&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;put&nbsp;it&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968235">dest</span><span class="op" id="2968239">,</span>&nbsp;<span class="ident" id="2968241">err</span>&nbsp;<span class="op" id="2968245">:=</span>&nbsp;<span class="ident" id="2968248">os</span><span class="op" id="2968250">.</span><span class="ident" id="2968251">Readlink</span><span class="op" id="2968259">(</span><span class="ident" id="2968260">b</span><span class="op" id="2968261">.</span><span class="ident" id="2968262">String</span><span class="op" id="2968268">(</span><span class="op" id="2968269">)</span>&nbsp;<span class="op" id="2968271">+</span>&nbsp;<span class="ident" id="2968273">p</span><span class="op" id="2968274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968278">if</span>&nbsp;<span class="ident" id="2968281">err</span>&nbsp;<span class="op" id="2968285">!=</span>&nbsp;<span class="ident" id="2968288">nil</span>&nbsp;<span class="op" id="2968292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968297">return</span>&nbsp;<span class="string" id="2968304">&#34;&#34;</span><span class="op" id="2968306">,</span>&nbsp;<span class="ident" id="2968308">err</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968318">if</span>&nbsp;<span class="ident" id="2968321">IsAbs</span><span class="op" id="2968326">(</span><span class="ident" id="2968327">dest</span><span class="op" id="2968331">)</span>&nbsp;<span class="op" id="2968333">||</span>&nbsp;<span class="ident" id="2968336">os</span><span class="op" id="2968338">.</span><span class="ident" id="2968339">IsPathSeparator</span><span class="op" id="2968354">(</span><span class="ident" id="2968355">dest</span><span class="op" id="2968359">[</span><span class="num" id="2968360">0</span><span class="op" id="2968361">]</span><span class="op" id="2968362">)</span>&nbsp;<span class="op" id="2968364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968369">b</span><span class="op" id="2968370">.</span><span class="ident" id="2968371">Reset</span><span class="op" id="2968376">(</span><span class="op" id="2968377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2968385">path</span>&nbsp;<span class="op" id="2968390">=</span>&nbsp;<span class="ident" id="2968392">dest</span>&nbsp;<span class="op" id="2968397">+</span>&nbsp;<span class="builtintype" id="2968399">string</span><span class="op" id="2968405">(</span><span class="ident" id="2968406">Separator</span><span class="op" id="2968415">)</span>&nbsp;<span class="op" id="2968417">+</span>&nbsp;<span class="ident" id="2968419">path</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2968425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2968428">return</span>&nbsp;<span class="ident" id="2968435">Clean</span><span class="op" id="2968440">(</span><span class="ident" id="2968441">b</span><span class="op" id="2968442">.</span><span class="ident" id="2968443">String</span><span class="op" id="2968449">(</span><span class="op" id="2968450">)</span><span class="op" id="2968451">)</span><span class="op" id="2968452">,</span>&nbsp;<span class="ident" id="2968454">nil</span><br>
<span class="lineno"></span><span class="op" id="2968458">}</span>
</div>
</body>
</html>
