<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1669049">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1669878">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1669994">package</span>&nbsp;<span class="ident" id="1670002">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1670011">const</span>&nbsp;<span class="op" id="1670017">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670020">bit1</span>&nbsp;<span class="op" id="1670025">=</span>&nbsp;<span class="num" id="1670027">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670030">bitx</span>&nbsp;<span class="op" id="1670035">=</span>&nbsp;<span class="num" id="1670037">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670040">bit2</span>&nbsp;<span class="op" id="1670045">=</span>&nbsp;<span class="num" id="1670047">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670050">bit3</span>&nbsp;<span class="op" id="1670055">=</span>&nbsp;<span class="num" id="1670057">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670060">bit4</span>&nbsp;<span class="op" id="1670065">=</span>&nbsp;<span class="num" id="1670067">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670070">bit5</span>&nbsp;<span class="op" id="1670075">=</span>&nbsp;<span class="num" id="1670077">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670081">t1</span>&nbsp;<span class="op" id="1670084">=</span>&nbsp;<span class="op" id="1670086">(</span><span class="op" id="1670087">(</span><span class="num" id="1670088">1</span>&nbsp;<span class="op" id="1670090">&lt;&lt;</span>&nbsp;<span class="op" id="1670093">(</span><span class="ident" id="1670094">bit1</span>&nbsp;<span class="op" id="1670099">+</span>&nbsp;<span class="num" id="1670101">1</span><span class="op" id="1670102">)</span><span class="op" id="1670103">)</span>&nbsp;<span class="op" id="1670105">-</span>&nbsp;<span class="num" id="1670107">1</span><span class="op" id="1670108">)</span>&nbsp;<span class="op" id="1670110">^</span>&nbsp;<span class="num" id="1670112">0xFF</span>&nbsp;<span class="comment" id="1670117">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670134">tx</span>&nbsp;<span class="op" id="1670137">=</span>&nbsp;<span class="op" id="1670139">(</span><span class="op" id="1670140">(</span><span class="num" id="1670141">1</span>&nbsp;<span class="op" id="1670143">&lt;&lt;</span>&nbsp;<span class="op" id="1670146">(</span><span class="ident" id="1670147">bitx</span>&nbsp;<span class="op" id="1670152">+</span>&nbsp;<span class="num" id="1670154">1</span><span class="op" id="1670155">)</span><span class="op" id="1670156">)</span>&nbsp;<span class="op" id="1670158">-</span>&nbsp;<span class="num" id="1670160">1</span><span class="op" id="1670161">)</span>&nbsp;<span class="op" id="1670163">^</span>&nbsp;<span class="num" id="1670165">0xFF</span>&nbsp;<span class="comment" id="1670170">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670187">t2</span>&nbsp;<span class="op" id="1670190">=</span>&nbsp;<span class="op" id="1670192">(</span><span class="op" id="1670193">(</span><span class="num" id="1670194">1</span>&nbsp;<span class="op" id="1670196">&lt;&lt;</span>&nbsp;<span class="op" id="1670199">(</span><span class="ident" id="1670200">bit2</span>&nbsp;<span class="op" id="1670205">+</span>&nbsp;<span class="num" id="1670207">1</span><span class="op" id="1670208">)</span><span class="op" id="1670209">)</span>&nbsp;<span class="op" id="1670211">-</span>&nbsp;<span class="num" id="1670213">1</span><span class="op" id="1670214">)</span>&nbsp;<span class="op" id="1670216">^</span>&nbsp;<span class="num" id="1670218">0xFF</span>&nbsp;<span class="comment" id="1670223">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670240">t3</span>&nbsp;<span class="op" id="1670243">=</span>&nbsp;<span class="op" id="1670245">(</span><span class="op" id="1670246">(</span><span class="num" id="1670247">1</span>&nbsp;<span class="op" id="1670249">&lt;&lt;</span>&nbsp;<span class="op" id="1670252">(</span><span class="ident" id="1670253">bit3</span>&nbsp;<span class="op" id="1670258">+</span>&nbsp;<span class="num" id="1670260">1</span><span class="op" id="1670261">)</span><span class="op" id="1670262">)</span>&nbsp;<span class="op" id="1670264">-</span>&nbsp;<span class="num" id="1670266">1</span><span class="op" id="1670267">)</span>&nbsp;<span class="op" id="1670269">^</span>&nbsp;<span class="num" id="1670271">0xFF</span>&nbsp;<span class="comment" id="1670276">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670293">t4</span>&nbsp;<span class="op" id="1670296">=</span>&nbsp;<span class="op" id="1670298">(</span><span class="op" id="1670299">(</span><span class="num" id="1670300">1</span>&nbsp;<span class="op" id="1670302">&lt;&lt;</span>&nbsp;<span class="op" id="1670305">(</span><span class="ident" id="1670306">bit4</span>&nbsp;<span class="op" id="1670311">+</span>&nbsp;<span class="num" id="1670313">1</span><span class="op" id="1670314">)</span><span class="op" id="1670315">)</span>&nbsp;<span class="op" id="1670317">-</span>&nbsp;<span class="num" id="1670319">1</span><span class="op" id="1670320">)</span>&nbsp;<span class="op" id="1670322">^</span>&nbsp;<span class="num" id="1670324">0xFF</span>&nbsp;<span class="comment" id="1670329">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670346">t5</span>&nbsp;<span class="op" id="1670349">=</span>&nbsp;<span class="op" id="1670351">(</span><span class="op" id="1670352">(</span><span class="num" id="1670353">1</span>&nbsp;<span class="op" id="1670355">&lt;&lt;</span>&nbsp;<span class="op" id="1670358">(</span><span class="ident" id="1670359">bit5</span>&nbsp;<span class="op" id="1670364">+</span>&nbsp;<span class="num" id="1670366">1</span><span class="op" id="1670367">)</span><span class="op" id="1670368">)</span>&nbsp;<span class="op" id="1670370">-</span>&nbsp;<span class="num" id="1670372">1</span><span class="op" id="1670373">)</span>&nbsp;<span class="op" id="1670375">^</span>&nbsp;<span class="num" id="1670377">0xFF</span>&nbsp;<span class="comment" id="1670382">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670400">rune1</span>&nbsp;<span class="op" id="1670406">=</span>&nbsp;<span class="op" id="1670408">(</span><span class="num" id="1670409">1</span>&nbsp;<span class="op" id="1670411">&lt;&lt;</span>&nbsp;<span class="op" id="1670414">(</span><span class="ident" id="1670415">bit1</span>&nbsp;<span class="op" id="1670420">+</span>&nbsp;<span class="num" id="1670422">0</span><span class="op" id="1670423">*</span><span class="ident" id="1670424">bitx</span><span class="op" id="1670428">)</span><span class="op" id="1670429">)</span>&nbsp;<span class="op" id="1670431">-</span>&nbsp;<span class="num" id="1670433">1</span>&nbsp;<span class="comment" id="1670435">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670462">rune2</span>&nbsp;<span class="op" id="1670468">=</span>&nbsp;<span class="op" id="1670470">(</span><span class="num" id="1670471">1</span>&nbsp;<span class="op" id="1670473">&lt;&lt;</span>&nbsp;<span class="op" id="1670476">(</span><span class="ident" id="1670477">bit2</span>&nbsp;<span class="op" id="1670482">+</span>&nbsp;<span class="num" id="1670484">1</span><span class="op" id="1670485">*</span><span class="ident" id="1670486">bitx</span><span class="op" id="1670490">)</span><span class="op" id="1670491">)</span>&nbsp;<span class="op" id="1670493">-</span>&nbsp;<span class="num" id="1670495">1</span>&nbsp;<span class="comment" id="1670497">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670524">rune3</span>&nbsp;<span class="op" id="1670530">=</span>&nbsp;<span class="op" id="1670532">(</span><span class="num" id="1670533">1</span>&nbsp;<span class="op" id="1670535">&lt;&lt;</span>&nbsp;<span class="op" id="1670538">(</span><span class="ident" id="1670539">bit3</span>&nbsp;<span class="op" id="1670544">+</span>&nbsp;<span class="num" id="1670546">2</span><span class="op" id="1670547">*</span><span class="ident" id="1670548">bitx</span><span class="op" id="1670552">)</span><span class="op" id="1670553">)</span>&nbsp;<span class="op" id="1670555">-</span>&nbsp;<span class="num" id="1670557">1</span>&nbsp;<span class="comment" id="1670559">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670586">rune4</span>&nbsp;<span class="op" id="1670592">=</span>&nbsp;<span class="op" id="1670594">(</span><span class="num" id="1670595">1</span>&nbsp;<span class="op" id="1670597">&lt;&lt;</span>&nbsp;<span class="op" id="1670600">(</span><span class="ident" id="1670601">bit4</span>&nbsp;<span class="op" id="1670606">+</span>&nbsp;<span class="num" id="1670608">3</span><span class="op" id="1670609">*</span><span class="ident" id="1670610">bitx</span><span class="op" id="1670614">)</span><span class="op" id="1670615">)</span>&nbsp;<span class="op" id="1670617">-</span>&nbsp;<span class="num" id="1670619">1</span>&nbsp;<span class="comment" id="1670621">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670659">maskx</span>&nbsp;<span class="op" id="1670665">=</span>&nbsp;<span class="op" id="1670667">(</span><span class="num" id="1670668">1</span>&nbsp;<span class="op" id="1670670">&lt;&lt;</span>&nbsp;<span class="ident" id="1670673">bitx</span><span class="op" id="1670677">)</span>&nbsp;<span class="op" id="1670679">-</span>&nbsp;<span class="num" id="1670681">1</span>&nbsp;<span class="comment" id="1670683">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670700">testx</span>&nbsp;<span class="op" id="1670706">=</span>&nbsp;<span class="ident" id="1670708">maskx</span>&nbsp;<span class="op" id="1670714">^</span>&nbsp;<span class="num" id="1670716">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1670724">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670742">runeerror</span>&nbsp;<span class="op" id="1670752">=</span>&nbsp;<span class="num" id="1670754">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670762">runeself</span>&nbsp;&nbsp;<span class="op" id="1670772">=</span>&nbsp;<span class="num" id="1670774">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670781">surrogateMin</span>&nbsp;<span class="op" id="1670794">=</span>&nbsp;<span class="num" id="1670796">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670804">surrogateMax</span>&nbsp;<span class="op" id="1670817">=</span>&nbsp;<span class="num" id="1670819">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670828">bad</span>&nbsp;<span class="op" id="1670832">=</span>&nbsp;<span class="ident" id="1670834">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1670846">runemax</span>&nbsp;<span class="op" id="1670854">=</span>&nbsp;<span class="num" id="1670856">0x10FFFF</span>&nbsp;<span class="comment" id="1670865">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1670890">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1670893">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1671588">func</span>&nbsp;<span class="ident" id="1671593">charntorune</span><span class="op" id="1671604">(</span><span class="ident" id="1671605">s</span>&nbsp;<span class="builtintype" id="1671607">string</span><span class="op" id="1671613">)</span>&nbsp;<span class="op" id="1671615">(</span><span class="builtintype" id="1671616">rune</span><span class="op" id="1671620">,</span>&nbsp;<span class="builtintype" id="1671622">int</span><span class="op" id="1671625">)</span>&nbsp;<span class="op" id="1671627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1671630">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1671677">if</span>&nbsp;<span class="builtinfunc" id="1671680">len</span><span class="op" id="1671683">(</span><span class="ident" id="1671684">s</span><span class="op" id="1671685">)</span>&nbsp;<span class="op" id="1671687">&lt;=</span>&nbsp;<span class="num" id="1671690">0</span>&nbsp;<span class="op" id="1671692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1671696">return</span>&nbsp;<span class="ident" id="1671703">bad</span><span class="op" id="1671706">,</span>&nbsp;<span class="num" id="1671708">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1671711">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1671715">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1671787">c</span>&nbsp;<span class="op" id="1671789">:=</span>&nbsp;<span class="ident" id="1671792">s</span><span class="op" id="1671793">[</span><span class="num" id="1671794">0</span><span class="op" id="1671795">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1671798">if</span>&nbsp;<span class="ident" id="1671801">c</span>&nbsp;<span class="op" id="1671803">&lt;</span>&nbsp;<span class="ident" id="1671805">tx</span>&nbsp;<span class="op" id="1671808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1671812">return</span>&nbsp;<span class="builtintype" id="1671819">rune</span><span class="op" id="1671823">(</span><span class="ident" id="1671824">c</span><span class="op" id="1671825">)</span><span class="op" id="1671826">,</span>&nbsp;<span class="num" id="1671828">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1671831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1671835">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1671893">if</span>&nbsp;<span class="builtinfunc" id="1671896">len</span><span class="op" id="1671899">(</span><span class="ident" id="1671900">s</span><span class="op" id="1671901">)</span>&nbsp;<span class="op" id="1671903">&lt;=</span>&nbsp;<span class="num" id="1671906">1</span>&nbsp;<span class="op" id="1671908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1671912">return</span>&nbsp;<span class="ident" id="1671919">bad</span><span class="op" id="1671922">,</span>&nbsp;<span class="num" id="1671924">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1671927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1671931">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1672005">c1</span>&nbsp;<span class="op" id="1672008">:=</span>&nbsp;<span class="ident" id="1672011">s</span><span class="op" id="1672012">[</span><span class="num" id="1672013">1</span><span class="op" id="1672014">]</span>&nbsp;<span class="op" id="1672016">^</span>&nbsp;<span class="ident" id="1672018">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672022">if</span>&nbsp;<span class="op" id="1672025">(</span><span class="ident" id="1672026">c1</span>&nbsp;<span class="op" id="1672029">&amp;</span>&nbsp;<span class="ident" id="1672031">testx</span><span class="op" id="1672036">)</span>&nbsp;<span class="op" id="1672038">!=</span>&nbsp;<span class="num" id="1672041">0</span>&nbsp;<span class="op" id="1672043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672047">return</span>&nbsp;<span class="ident" id="1672054">bad</span><span class="op" id="1672057">,</span>&nbsp;<span class="num" id="1672059">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672065">if</span>&nbsp;<span class="ident" id="1672068">c</span>&nbsp;<span class="op" id="1672070">&lt;</span>&nbsp;<span class="ident" id="1672072">t3</span>&nbsp;<span class="op" id="1672075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672079">if</span>&nbsp;<span class="ident" id="1672082">c</span>&nbsp;<span class="op" id="1672084">&lt;</span>&nbsp;<span class="ident" id="1672086">t2</span>&nbsp;<span class="op" id="1672089">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672094">return</span>&nbsp;<span class="ident" id="1672101">bad</span><span class="op" id="1672104">,</span>&nbsp;<span class="num" id="1672106">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672110">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1672114">l</span>&nbsp;<span class="op" id="1672116">:=</span>&nbsp;<span class="op" id="1672119">(</span><span class="op" id="1672120">(</span><span class="builtintype" id="1672121">rune</span><span class="op" id="1672125">(</span><span class="ident" id="1672126">c</span><span class="op" id="1672127">)</span>&nbsp;<span class="op" id="1672129">&lt;&lt;</span>&nbsp;<span class="ident" id="1672132">bitx</span><span class="op" id="1672136">)</span>&nbsp;<span class="op" id="1672138">|</span>&nbsp;<span class="builtintype" id="1672140">rune</span><span class="op" id="1672144">(</span><span class="ident" id="1672145">c1</span><span class="op" id="1672147">)</span><span class="op" id="1672148">)</span>&nbsp;<span class="op" id="1672150">&amp;</span>&nbsp;<span class="ident" id="1672152">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672160">if</span>&nbsp;<span class="ident" id="1672163">l</span>&nbsp;<span class="op" id="1672165">&lt;=</span>&nbsp;<span class="ident" id="1672168">rune1</span>&nbsp;<span class="op" id="1672174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672179">return</span>&nbsp;<span class="ident" id="1672186">bad</span><span class="op" id="1672189">,</span>&nbsp;<span class="num" id="1672191">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672199">return</span>&nbsp;<span class="ident" id="1672206">l</span><span class="op" id="1672207">,</span>&nbsp;<span class="num" id="1672209">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1672216">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672275">if</span>&nbsp;<span class="builtinfunc" id="1672278">len</span><span class="op" id="1672281">(</span><span class="ident" id="1672282">s</span><span class="op" id="1672283">)</span>&nbsp;<span class="op" id="1672285">&lt;=</span>&nbsp;<span class="num" id="1672288">2</span>&nbsp;<span class="op" id="1672290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672294">return</span>&nbsp;<span class="ident" id="1672301">bad</span><span class="op" id="1672304">,</span>&nbsp;<span class="num" id="1672306">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1672313">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1672392">c2</span>&nbsp;<span class="op" id="1672395">:=</span>&nbsp;<span class="ident" id="1672398">s</span><span class="op" id="1672399">[</span><span class="num" id="1672400">2</span><span class="op" id="1672401">]</span>&nbsp;<span class="op" id="1672403">^</span>&nbsp;<span class="ident" id="1672405">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672409">if</span>&nbsp;<span class="op" id="1672412">(</span><span class="ident" id="1672413">c2</span>&nbsp;<span class="op" id="1672416">&amp;</span>&nbsp;<span class="ident" id="1672418">testx</span><span class="op" id="1672423">)</span>&nbsp;<span class="op" id="1672425">!=</span>&nbsp;<span class="num" id="1672428">0</span>&nbsp;<span class="op" id="1672430">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672434">return</span>&nbsp;<span class="ident" id="1672441">bad</span><span class="op" id="1672444">,</span>&nbsp;<span class="num" id="1672446">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672452">if</span>&nbsp;<span class="ident" id="1672455">c</span>&nbsp;<span class="op" id="1672457">&lt;</span>&nbsp;<span class="ident" id="1672459">t4</span>&nbsp;<span class="op" id="1672462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1672466">l</span>&nbsp;<span class="op" id="1672468">:=</span>&nbsp;<span class="op" id="1672471">(</span><span class="op" id="1672472">(</span><span class="op" id="1672473">(</span><span class="op" id="1672474">(</span><span class="builtintype" id="1672475">rune</span><span class="op" id="1672479">(</span><span class="ident" id="1672480">c</span><span class="op" id="1672481">)</span>&nbsp;<span class="op" id="1672483">&lt;&lt;</span>&nbsp;<span class="ident" id="1672486">bitx</span><span class="op" id="1672490">)</span>&nbsp;<span class="op" id="1672492">|</span>&nbsp;<span class="builtintype" id="1672494">rune</span><span class="op" id="1672498">(</span><span class="ident" id="1672499">c1</span><span class="op" id="1672501">)</span><span class="op" id="1672502">)</span>&nbsp;<span class="op" id="1672504">&lt;&lt;</span>&nbsp;<span class="ident" id="1672507">bitx</span><span class="op" id="1672511">)</span>&nbsp;<span class="op" id="1672513">|</span>&nbsp;<span class="builtintype" id="1672515">rune</span><span class="op" id="1672519">(</span><span class="ident" id="1672520">c2</span><span class="op" id="1672522">)</span><span class="op" id="1672523">)</span>&nbsp;<span class="op" id="1672525">&amp;</span>&nbsp;<span class="ident" id="1672527">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672535">if</span>&nbsp;<span class="ident" id="1672538">l</span>&nbsp;<span class="op" id="1672540">&lt;=</span>&nbsp;<span class="ident" id="1672543">rune2</span>&nbsp;<span class="op" id="1672549">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672554">return</span>&nbsp;<span class="ident" id="1672561">bad</span><span class="op" id="1672564">,</span>&nbsp;<span class="num" id="1672566">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672574">if</span>&nbsp;<span class="ident" id="1672577">surrogateMin</span>&nbsp;<span class="op" id="1672590">&lt;=</span>&nbsp;<span class="ident" id="1672593">l</span>&nbsp;<span class="op" id="1672595">&amp;&amp;</span>&nbsp;<span class="ident" id="1672598">l</span>&nbsp;<span class="op" id="1672600">&lt;=</span>&nbsp;<span class="ident" id="1672603">surrogateMax</span>&nbsp;<span class="op" id="1672616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672621">return</span>&nbsp;<span class="ident" id="1672628">bad</span><span class="op" id="1672631">,</span>&nbsp;<span class="num" id="1672633">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672637">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672641">return</span>&nbsp;<span class="ident" id="1672648">l</span><span class="op" id="1672649">,</span>&nbsp;<span class="num" id="1672651">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672658">if</span>&nbsp;<span class="builtinfunc" id="1672661">len</span><span class="op" id="1672664">(</span><span class="ident" id="1672665">s</span><span class="op" id="1672666">)</span>&nbsp;<span class="op" id="1672668">&lt;=</span>&nbsp;<span class="num" id="1672671">3</span>&nbsp;<span class="op" id="1672673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672677">return</span>&nbsp;<span class="ident" id="1672684">bad</span><span class="op" id="1672687">,</span>&nbsp;<span class="num" id="1672689">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1672696">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1672780">c3</span>&nbsp;<span class="op" id="1672783">:=</span>&nbsp;<span class="ident" id="1672786">s</span><span class="op" id="1672787">[</span><span class="num" id="1672788">3</span><span class="op" id="1672789">]</span>&nbsp;<span class="op" id="1672791">^</span>&nbsp;<span class="ident" id="1672793">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672797">if</span>&nbsp;<span class="op" id="1672800">(</span><span class="ident" id="1672801">c3</span>&nbsp;<span class="op" id="1672804">&amp;</span>&nbsp;<span class="ident" id="1672806">testx</span><span class="op" id="1672811">)</span>&nbsp;<span class="op" id="1672813">!=</span>&nbsp;<span class="num" id="1672816">0</span>&nbsp;<span class="op" id="1672818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672822">return</span>&nbsp;<span class="ident" id="1672829">bad</span><span class="op" id="1672832">,</span>&nbsp;<span class="num" id="1672834">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672837">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672840">if</span>&nbsp;<span class="ident" id="1672843">c</span>&nbsp;<span class="op" id="1672845">&lt;</span>&nbsp;<span class="ident" id="1672847">t5</span>&nbsp;<span class="op" id="1672850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1672854">l</span>&nbsp;<span class="op" id="1672856">:=</span>&nbsp;<span class="op" id="1672859">(</span><span class="op" id="1672860">(</span><span class="op" id="1672861">(</span><span class="op" id="1672862">(</span><span class="op" id="1672863">(</span><span class="op" id="1672864">(</span><span class="builtintype" id="1672865">rune</span><span class="op" id="1672869">(</span><span class="ident" id="1672870">c</span><span class="op" id="1672871">)</span>&nbsp;<span class="op" id="1672873">&lt;&lt;</span>&nbsp;<span class="ident" id="1672876">bitx</span><span class="op" id="1672880">)</span>&nbsp;<span class="op" id="1672882">|</span>&nbsp;<span class="builtintype" id="1672884">rune</span><span class="op" id="1672888">(</span><span class="ident" id="1672889">c1</span><span class="op" id="1672891">)</span><span class="op" id="1672892">)</span>&nbsp;<span class="op" id="1672894">&lt;&lt;</span>&nbsp;<span class="ident" id="1672897">bitx</span><span class="op" id="1672901">)</span>&nbsp;<span class="op" id="1672903">|</span>&nbsp;<span class="builtintype" id="1672905">rune</span><span class="op" id="1672909">(</span><span class="ident" id="1672910">c2</span><span class="op" id="1672912">)</span><span class="op" id="1672913">)</span>&nbsp;<span class="op" id="1672915">&lt;&lt;</span>&nbsp;<span class="ident" id="1672918">bitx</span><span class="op" id="1672922">)</span>&nbsp;<span class="op" id="1672924">|</span>&nbsp;<span class="builtintype" id="1672926">rune</span><span class="op" id="1672930">(</span><span class="ident" id="1672931">c3</span><span class="op" id="1672933">)</span><span class="op" id="1672934">)</span>&nbsp;<span class="op" id="1672936">&amp;</span>&nbsp;<span class="ident" id="1672938">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672946">if</span>&nbsp;<span class="ident" id="1672949">l</span>&nbsp;<span class="op" id="1672951">&lt;=</span>&nbsp;<span class="ident" id="1672954">rune3</span>&nbsp;<span class="op" id="1672960">||</span>&nbsp;<span class="ident" id="1672963">l</span>&nbsp;<span class="op" id="1672965">&gt;</span>&nbsp;<span class="ident" id="1672967">runemax</span>&nbsp;<span class="op" id="1672975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1672980">return</span>&nbsp;<span class="ident" id="1672987">bad</span><span class="op" id="1672990">,</span>&nbsp;<span class="num" id="1672992">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1672996">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673000">return</span>&nbsp;<span class="ident" id="1673007">l</span><span class="op" id="1673008">,</span>&nbsp;<span class="num" id="1673010">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1673013">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1673017">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1673075">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673128">return</span>&nbsp;<span class="ident" id="1673135">bad</span><span class="op" id="1673138">,</span>&nbsp;<span class="num" id="1673140">1</span><br>
<span class="lineno"></span><span class="op" id="1673142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1673145">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1673209">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1673251">func</span>&nbsp;<span class="ident" id="1673256">runetochar</span><span class="op" id="1673266">(</span><span class="ident" id="1673267">str</span>&nbsp;<span class="op" id="1673271">[</span><span class="op" id="1673272">]</span><span class="builtintype" id="1673273">byte</span><span class="op" id="1673277">,</span>&nbsp;<span class="ident" id="1673279">r</span>&nbsp;<span class="builtintype" id="1673281">rune</span><span class="op" id="1673285">)</span>&nbsp;<span class="builtintype" id="1673287">int</span>&nbsp;<span class="op" id="1673291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1673294">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673359">c</span>&nbsp;<span class="op" id="1673361">:=</span>&nbsp;<span class="builtintype" id="1673364">uint32</span><span class="op" id="1673370">(</span><span class="ident" id="1673371">r</span><span class="op" id="1673372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1673375">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673436">if</span>&nbsp;<span class="ident" id="1673439">c</span>&nbsp;<span class="op" id="1673441">&lt;=</span>&nbsp;<span class="ident" id="1673444">rune1</span>&nbsp;<span class="op" id="1673450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673454">str</span><span class="op" id="1673457">[</span><span class="num" id="1673458">0</span><span class="op" id="1673459">]</span>&nbsp;<span class="op" id="1673461">=</span>&nbsp;<span class="builtintype" id="1673463">byte</span><span class="op" id="1673467">(</span><span class="ident" id="1673468">c</span><span class="op" id="1673469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673473">return</span>&nbsp;<span class="num" id="1673480">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1673483">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1673486">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673545">if</span>&nbsp;<span class="ident" id="1673548">c</span>&nbsp;<span class="op" id="1673550">&lt;=</span>&nbsp;<span class="ident" id="1673553">rune2</span>&nbsp;<span class="op" id="1673559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673563">str</span><span class="op" id="1673566">[</span><span class="num" id="1673567">0</span><span class="op" id="1673568">]</span>&nbsp;<span class="op" id="1673570">=</span>&nbsp;<span class="builtintype" id="1673572">byte</span><span class="op" id="1673576">(</span><span class="ident" id="1673577">t2</span>&nbsp;<span class="op" id="1673580">|</span>&nbsp;<span class="op" id="1673582">(</span><span class="ident" id="1673583">c</span>&nbsp;<span class="op" id="1673585">&gt;&gt;</span>&nbsp;<span class="op" id="1673588">(</span><span class="num" id="1673589">1</span>&nbsp;<span class="op" id="1673591">*</span>&nbsp;<span class="ident" id="1673593">bitx</span><span class="op" id="1673597">)</span><span class="op" id="1673598">)</span><span class="op" id="1673599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673603">str</span><span class="op" id="1673606">[</span><span class="num" id="1673607">1</span><span class="op" id="1673608">]</span>&nbsp;<span class="op" id="1673610">=</span>&nbsp;<span class="builtintype" id="1673612">byte</span><span class="op" id="1673616">(</span><span class="ident" id="1673617">tx</span>&nbsp;<span class="op" id="1673620">|</span>&nbsp;<span class="op" id="1673622">(</span><span class="ident" id="1673623">c</span>&nbsp;<span class="op" id="1673625">&amp;</span>&nbsp;<span class="ident" id="1673627">maskx</span><span class="op" id="1673632">)</span><span class="op" id="1673633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673637">return</span>&nbsp;<span class="num" id="1673644">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1673647">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1673651">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673925">if</span>&nbsp;<span class="ident" id="1673928">c</span>&nbsp;<span class="op" id="1673930">&gt;</span>&nbsp;<span class="ident" id="1673932">runemax</span>&nbsp;<span class="op" id="1673940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673944">c</span>&nbsp;<span class="op" id="1673946">=</span>&nbsp;<span class="ident" id="1673948">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1673959">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673962">if</span>&nbsp;<span class="ident" id="1673965">surrogateMin</span>&nbsp;<span class="op" id="1673978">&lt;=</span>&nbsp;<span class="ident" id="1673981">c</span>&nbsp;<span class="op" id="1673983">&amp;&amp;</span>&nbsp;<span class="ident" id="1673986">c</span>&nbsp;<span class="op" id="1673988">&lt;=</span>&nbsp;<span class="ident" id="1673991">surrogateMax</span>&nbsp;<span class="op" id="1674004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674008">c</span>&nbsp;<span class="op" id="1674010">=</span>&nbsp;<span class="ident" id="1674012">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1674027">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674091">if</span>&nbsp;<span class="ident" id="1674094">c</span>&nbsp;<span class="op" id="1674096">&lt;=</span>&nbsp;<span class="ident" id="1674099">rune3</span>&nbsp;<span class="op" id="1674105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674109">str</span><span class="op" id="1674112">[</span><span class="num" id="1674113">0</span><span class="op" id="1674114">]</span>&nbsp;<span class="op" id="1674116">=</span>&nbsp;<span class="builtintype" id="1674118">byte</span><span class="op" id="1674122">(</span><span class="ident" id="1674123">t3</span>&nbsp;<span class="op" id="1674126">|</span>&nbsp;<span class="op" id="1674128">(</span><span class="ident" id="1674129">c</span>&nbsp;<span class="op" id="1674131">&gt;&gt;</span>&nbsp;<span class="op" id="1674134">(</span><span class="num" id="1674135">2</span>&nbsp;<span class="op" id="1674137">*</span>&nbsp;<span class="ident" id="1674139">bitx</span><span class="op" id="1674143">)</span><span class="op" id="1674144">)</span><span class="op" id="1674145">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674149">str</span><span class="op" id="1674152">[</span><span class="num" id="1674153">1</span><span class="op" id="1674154">]</span>&nbsp;<span class="op" id="1674156">=</span>&nbsp;<span class="builtintype" id="1674158">byte</span><span class="op" id="1674162">(</span><span class="ident" id="1674163">tx</span>&nbsp;<span class="op" id="1674166">|</span>&nbsp;<span class="op" id="1674168">(</span><span class="op" id="1674169">(</span><span class="ident" id="1674170">c</span>&nbsp;<span class="op" id="1674172">&gt;&gt;</span>&nbsp;<span class="op" id="1674175">(</span><span class="num" id="1674176">1</span>&nbsp;<span class="op" id="1674178">*</span>&nbsp;<span class="ident" id="1674180">bitx</span><span class="op" id="1674184">)</span><span class="op" id="1674185">)</span>&nbsp;<span class="op" id="1674187">&amp;</span>&nbsp;<span class="ident" id="1674189">maskx</span><span class="op" id="1674194">)</span><span class="op" id="1674195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674199">str</span><span class="op" id="1674202">[</span><span class="num" id="1674203">2</span><span class="op" id="1674204">]</span>&nbsp;<span class="op" id="1674206">=</span>&nbsp;<span class="builtintype" id="1674208">byte</span><span class="op" id="1674212">(</span><span class="ident" id="1674213">tx</span>&nbsp;<span class="op" id="1674216">|</span>&nbsp;<span class="op" id="1674218">(</span><span class="ident" id="1674219">c</span>&nbsp;<span class="op" id="1674221">&amp;</span>&nbsp;<span class="ident" id="1674223">maskx</span><span class="op" id="1674228">)</span><span class="op" id="1674229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674233">return</span>&nbsp;<span class="num" id="1674240">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674243">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1674247">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674335">str</span><span class="op" id="1674338">[</span><span class="num" id="1674339">0</span><span class="op" id="1674340">]</span>&nbsp;<span class="op" id="1674342">=</span>&nbsp;<span class="builtintype" id="1674344">byte</span><span class="op" id="1674348">(</span><span class="ident" id="1674349">t4</span>&nbsp;<span class="op" id="1674352">|</span>&nbsp;<span class="op" id="1674354">(</span><span class="ident" id="1674355">c</span>&nbsp;<span class="op" id="1674357">&gt;&gt;</span>&nbsp;<span class="op" id="1674360">(</span><span class="num" id="1674361">3</span>&nbsp;<span class="op" id="1674363">*</span>&nbsp;<span class="ident" id="1674365">bitx</span><span class="op" id="1674369">)</span><span class="op" id="1674370">)</span><span class="op" id="1674371">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674374">str</span><span class="op" id="1674377">[</span><span class="num" id="1674378">1</span><span class="op" id="1674379">]</span>&nbsp;<span class="op" id="1674381">=</span>&nbsp;<span class="builtintype" id="1674383">byte</span><span class="op" id="1674387">(</span><span class="ident" id="1674388">tx</span>&nbsp;<span class="op" id="1674391">|</span>&nbsp;<span class="op" id="1674393">(</span><span class="op" id="1674394">(</span><span class="ident" id="1674395">c</span>&nbsp;<span class="op" id="1674397">&gt;&gt;</span>&nbsp;<span class="op" id="1674400">(</span><span class="num" id="1674401">2</span>&nbsp;<span class="op" id="1674403">*</span>&nbsp;<span class="ident" id="1674405">bitx</span><span class="op" id="1674409">)</span><span class="op" id="1674410">)</span>&nbsp;<span class="op" id="1674412">&amp;</span>&nbsp;<span class="ident" id="1674414">maskx</span><span class="op" id="1674419">)</span><span class="op" id="1674420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674423">str</span><span class="op" id="1674426">[</span><span class="num" id="1674427">2</span><span class="op" id="1674428">]</span>&nbsp;<span class="op" id="1674430">=</span>&nbsp;<span class="builtintype" id="1674432">byte</span><span class="op" id="1674436">(</span><span class="ident" id="1674437">tx</span>&nbsp;<span class="op" id="1674440">|</span>&nbsp;<span class="op" id="1674442">(</span><span class="op" id="1674443">(</span><span class="ident" id="1674444">c</span>&nbsp;<span class="op" id="1674446">&gt;&gt;</span>&nbsp;<span class="op" id="1674449">(</span><span class="num" id="1674450">1</span>&nbsp;<span class="op" id="1674452">*</span>&nbsp;<span class="ident" id="1674454">bitx</span><span class="op" id="1674458">)</span><span class="op" id="1674459">)</span>&nbsp;<span class="op" id="1674461">&amp;</span>&nbsp;<span class="ident" id="1674463">maskx</span><span class="op" id="1674468">)</span><span class="op" id="1674469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674472">str</span><span class="op" id="1674475">[</span><span class="num" id="1674476">3</span><span class="op" id="1674477">]</span>&nbsp;<span class="op" id="1674479">=</span>&nbsp;<span class="builtintype" id="1674481">byte</span><span class="op" id="1674485">(</span><span class="ident" id="1674486">tx</span>&nbsp;<span class="op" id="1674489">|</span>&nbsp;<span class="op" id="1674491">(</span><span class="ident" id="1674492">c</span>&nbsp;<span class="op" id="1674494">&amp;</span>&nbsp;<span class="ident" id="1674496">maskx</span><span class="op" id="1674501">)</span><span class="op" id="1674502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674505">return</span>&nbsp;<span class="num" id="1674512">4</span><br>
<span class="lineno"></span><span class="op" id="1674514">}</span>
</div>
</body>
</html>
