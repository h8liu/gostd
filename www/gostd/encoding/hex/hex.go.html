<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4045267">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4045322">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4045376">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4045427">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4045488">package</span>&nbsp;<span class="ident" id="4045496">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4045501">import</span>&nbsp;<span class="op" id="4045508">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4045511">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4045520">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4045530">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4045537">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4045542">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4045545">const</span>&nbsp;<span class="ident" id="4045551">hextable</span>&nbsp;<span class="op" id="4045560">=</span>&nbsp;<span class="string" id="4045562">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4045582">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4045649">func</span>&nbsp;<span class="ident" id="4045654">EncodedLen</span><span class="op" id="4045664">(</span><span class="ident" id="4045665">n</span>&nbsp;<span class="builtintype" id="4045667">int</span><span class="op" id="4045670">)</span>&nbsp;<span class="builtintype" id="4045672">int</span>&nbsp;<span class="op" id="4045676">{</span>&nbsp;<span class="keyword" id="4045678">return</span>&nbsp;<span class="ident" id="4045685">n</span>&nbsp;<span class="op" id="4045687">*</span>&nbsp;<span class="num" id="4045689">2</span>&nbsp;<span class="op" id="4045691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4045694">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4045742">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4045800">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4045875">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4045918">func</span>&nbsp;<span class="ident" id="4045923">Encode</span><span class="op" id="4045929">(</span><span class="ident" id="4045930">dst</span><span class="op" id="4045933">,</span>&nbsp;<span class="ident" id="4045935">src</span>&nbsp;<span class="op" id="4045939">[</span><span class="op" id="4045940">]</span><span class="builtintype" id="4045941">byte</span><span class="op" id="4045945">)</span>&nbsp;<span class="builtintype" id="4045947">int</span>&nbsp;<span class="op" id="4045951">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4045954">for</span>&nbsp;<span class="ident" id="4045958">i</span><span class="op" id="4045959">,</span>&nbsp;<span class="ident" id="4045961">v</span>&nbsp;<span class="op" id="4045963">:=</span>&nbsp;<span class="keyword" id="4045966">range</span>&nbsp;<span class="ident" id="4045972">src</span>&nbsp;<span class="op" id="4045976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4045980">dst</span><span class="op" id="4045983">[</span><span class="ident" id="4045984">i</span><span class="op" id="4045985">*</span><span class="num" id="4045986">2</span><span class="op" id="4045987">]</span>&nbsp;<span class="op" id="4045989">=</span>&nbsp;<span class="ident" id="4045991">hextable</span><span class="op" id="4045999">[</span><span class="ident" id="4046000">v</span><span class="op" id="4046001">&gt;&gt;</span><span class="num" id="4046003">4</span><span class="op" id="4046004">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4046008">dst</span><span class="op" id="4046011">[</span><span class="ident" id="4046012">i</span><span class="op" id="4046013">*</span><span class="num" id="4046014">2</span><span class="op" id="4046015">+</span><span class="num" id="4046016">1</span><span class="op" id="4046017">]</span>&nbsp;<span class="op" id="4046019">=</span>&nbsp;<span class="ident" id="4046021">hextable</span><span class="op" id="4046029">[</span><span class="ident" id="4046030">v</span><span class="op" id="4046031">&amp;</span><span class="num" id="4046032">0x0f</span><span class="op" id="4046036">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4046039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046043">return</span>&nbsp;<span class="builtinfunc" id="4046050">len</span><span class="op" id="4046053">(</span><span class="ident" id="4046054">src</span><span class="op" id="4046057">)</span>&nbsp;<span class="op" id="4046059">*</span>&nbsp;<span class="num" id="4046061">2</span><br>
<span class="lineno"></span><span class="op" id="4046063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4046066">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4046122">var</span>&nbsp;<span class="ident" id="4046126">ErrLength</span>&nbsp;<span class="op" id="4046136">=</span>&nbsp;<span class="ident" id="4046138">errors</span><span class="op" id="4046144">.</span><span class="ident" id="4046145">New</span><span class="op" id="4046148">(</span><span class="string" id="4046149">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4046186">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4046189">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4046280">type</span>&nbsp;<span class="ident" id="4046285">InvalidByteError</span>&nbsp;<span class="builtintype" id="4046302">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4046308">func</span>&nbsp;<span class="op" id="4046313">(</span><span class="ident" id="4046314">e</span>&nbsp;<span class="ident" id="4046316">InvalidByteError</span><span class="op" id="4046332">)</span>&nbsp;<span class="ident" id="4046334">Error</span><span class="op" id="4046339">(</span><span class="op" id="4046340">)</span>&nbsp;<span class="builtintype" id="4046342">string</span>&nbsp;<span class="op" id="4046349">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046352">return</span>&nbsp;<span class="ident" id="4046359">fmt</span><span class="op" id="4046362">.</span><span class="ident" id="4046363">Sprintf</span><span class="op" id="4046370">(</span><span class="string" id="4046371">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4046404">,</span>&nbsp;<span class="builtintype" id="4046406">rune</span><span class="op" id="4046410">(</span><span class="ident" id="4046411">e</span><span class="op" id="4046412">)</span><span class="op" id="4046413">)</span><br>
<span class="lineno"></span><span class="op" id="4046415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4046418">func</span>&nbsp;<span class="ident" id="4046423">DecodedLen</span><span class="op" id="4046433">(</span><span class="ident" id="4046434">x</span>&nbsp;<span class="builtintype" id="4046436">int</span><span class="op" id="4046439">)</span>&nbsp;<span class="builtintype" id="4046441">int</span>&nbsp;<span class="op" id="4046445">{</span>&nbsp;<span class="keyword" id="4046447">return</span>&nbsp;<span class="ident" id="4046454">x</span>&nbsp;<span class="op" id="4046456">/</span>&nbsp;<span class="num" id="4046458">2</span>&nbsp;<span class="op" id="4046460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4046463">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4046539">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4046574">//</span><br>
<span class="lineno"></span><span class="comment" id="4046577">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4046660">func</span>&nbsp;<span class="ident" id="4046665">Decode</span><span class="op" id="4046671">(</span><span class="ident" id="4046672">dst</span><span class="op" id="4046675">,</span>&nbsp;<span class="ident" id="4046677">src</span>&nbsp;<span class="op" id="4046681">[</span><span class="op" id="4046682">]</span><span class="builtintype" id="4046683">byte</span><span class="op" id="4046687">)</span>&nbsp;<span class="op" id="4046689">(</span><span class="builtintype" id="4046690">int</span><span class="op" id="4046693">,</span>&nbsp;<span class="builtintype" id="4046695">error</span><span class="op" id="4046700">)</span>&nbsp;<span class="op" id="4046702">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046705">if</span>&nbsp;<span class="builtinfunc" id="4046708">len</span><span class="op" id="4046711">(</span><span class="ident" id="4046712">src</span><span class="op" id="4046715">)</span><span class="op" id="4046716">%</span><span class="num" id="4046717">2</span>&nbsp;<span class="op" id="4046719">==</span>&nbsp;<span class="num" id="4046722">1</span>&nbsp;<span class="op" id="4046724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046728">return</span>&nbsp;<span class="num" id="4046735">0</span><span class="op" id="4046736">,</span>&nbsp;<span class="ident" id="4046738">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4046749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046753">for</span>&nbsp;<span class="ident" id="4046757">i</span>&nbsp;<span class="op" id="4046759">:=</span>&nbsp;<span class="num" id="4046762">0</span><span class="op" id="4046763">;</span>&nbsp;<span class="ident" id="4046765">i</span>&nbsp;<span class="op" id="4046767">&lt;</span>&nbsp;<span class="builtinfunc" id="4046769">len</span><span class="op" id="4046772">(</span><span class="ident" id="4046773">src</span><span class="op" id="4046776">)</span><span class="op" id="4046777">/</span><span class="num" id="4046778">2</span><span class="op" id="4046779">;</span>&nbsp;<span class="ident" id="4046781">i</span><span class="op" id="4046782">++</span>&nbsp;<span class="op" id="4046785">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4046789">a</span><span class="op" id="4046790">,</span>&nbsp;<span class="ident" id="4046792">ok</span>&nbsp;<span class="op" id="4046795">:=</span>&nbsp;<span class="ident" id="4046798">fromHexChar</span><span class="op" id="4046809">(</span><span class="ident" id="4046810">src</span><span class="op" id="4046813">[</span><span class="ident" id="4046814">i</span><span class="op" id="4046815">*</span><span class="num" id="4046816">2</span><span class="op" id="4046817">]</span><span class="op" id="4046818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046822">if</span>&nbsp;<span class="op" id="4046825">!</span><span class="ident" id="4046826">ok</span>&nbsp;<span class="op" id="4046829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046834">return</span>&nbsp;<span class="num" id="4046841">0</span><span class="op" id="4046842">,</span>&nbsp;<span class="ident" id="4046844">InvalidByteError</span><span class="op" id="4046860">(</span><span class="ident" id="4046861">src</span><span class="op" id="4046864">[</span><span class="ident" id="4046865">i</span><span class="op" id="4046866">*</span><span class="num" id="4046867">2</span><span class="op" id="4046868">]</span><span class="op" id="4046869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4046873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4046877">b</span><span class="op" id="4046878">,</span>&nbsp;<span class="ident" id="4046880">ok</span>&nbsp;<span class="op" id="4046883">:=</span>&nbsp;<span class="ident" id="4046886">fromHexChar</span><span class="op" id="4046897">(</span><span class="ident" id="4046898">src</span><span class="op" id="4046901">[</span><span class="ident" id="4046902">i</span><span class="op" id="4046903">*</span><span class="num" id="4046904">2</span><span class="op" id="4046905">+</span><span class="num" id="4046906">1</span><span class="op" id="4046907">]</span><span class="op" id="4046908">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046912">if</span>&nbsp;<span class="op" id="4046915">!</span><span class="ident" id="4046916">ok</span>&nbsp;<span class="op" id="4046919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046924">return</span>&nbsp;<span class="num" id="4046931">0</span><span class="op" id="4046932">,</span>&nbsp;<span class="ident" id="4046934">InvalidByteError</span><span class="op" id="4046950">(</span><span class="ident" id="4046951">src</span><span class="op" id="4046954">[</span><span class="ident" id="4046955">i</span><span class="op" id="4046956">*</span><span class="num" id="4046957">2</span><span class="op" id="4046958">+</span><span class="num" id="4046959">1</span><span class="op" id="4046960">]</span><span class="op" id="4046961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4046965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4046969">dst</span><span class="op" id="4046972">[</span><span class="ident" id="4046973">i</span><span class="op" id="4046974">]</span>&nbsp;<span class="op" id="4046976">=</span>&nbsp;<span class="op" id="4046978">(</span><span class="ident" id="4046979">a</span>&nbsp;<span class="op" id="4046981">&lt;&lt;</span>&nbsp;<span class="num" id="4046984">4</span><span class="op" id="4046985">)</span>&nbsp;<span class="op" id="4046987">|</span>&nbsp;<span class="ident" id="4046989">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4046992">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4046996">return</span>&nbsp;<span class="builtinfunc" id="4047003">len</span><span class="op" id="4047006">(</span><span class="ident" id="4047007">src</span><span class="op" id="4047010">)</span>&nbsp;<span class="op" id="4047012">/</span>&nbsp;<span class="num" id="4047014">2</span><span class="op" id="4047015">,</span>&nbsp;<span class="ident" id="4047017">nil</span><br>
<span class="lineno"></span><span class="op" id="4047021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4047024">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4047099">func</span>&nbsp;<span class="ident" id="4047104">fromHexChar</span><span class="op" id="4047115">(</span><span class="ident" id="4047116">c</span>&nbsp;<span class="builtintype" id="4047118">byte</span><span class="op" id="4047122">)</span>&nbsp;<span class="op" id="4047124">(</span><span class="builtintype" id="4047125">byte</span><span class="op" id="4047129">,</span>&nbsp;<span class="builtintype" id="4047131">bool</span><span class="op" id="4047135">)</span>&nbsp;<span class="op" id="4047137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047140">switch</span>&nbsp;<span class="op" id="4047147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047150">case</span>&nbsp;<span class="string" id="4047155">&#39;0&#39;</span>&nbsp;<span class="op" id="4047159">&lt;=</span>&nbsp;<span class="ident" id="4047162">c</span>&nbsp;<span class="op" id="4047164">&amp;&amp;</span>&nbsp;<span class="ident" id="4047167">c</span>&nbsp;<span class="op" id="4047169">&lt;=</span>&nbsp;<span class="string" id="4047172">&#39;9&#39;</span><span class="op" id="4047175">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047179">return</span>&nbsp;<span class="ident" id="4047186">c</span>&nbsp;<span class="op" id="4047188">-</span>&nbsp;<span class="string" id="4047190">&#39;0&#39;</span><span class="op" id="4047193">,</span>&nbsp;<span class="builtintype" id="4047195">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047201">case</span>&nbsp;<span class="string" id="4047206">&#39;a&#39;</span>&nbsp;<span class="op" id="4047210">&lt;=</span>&nbsp;<span class="ident" id="4047213">c</span>&nbsp;<span class="op" id="4047215">&amp;&amp;</span>&nbsp;<span class="ident" id="4047218">c</span>&nbsp;<span class="op" id="4047220">&lt;=</span>&nbsp;<span class="string" id="4047223">&#39;f&#39;</span><span class="op" id="4047226">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047230">return</span>&nbsp;<span class="ident" id="4047237">c</span>&nbsp;<span class="op" id="4047239">-</span>&nbsp;<span class="string" id="4047241">&#39;a&#39;</span>&nbsp;<span class="op" id="4047245">+</span>&nbsp;<span class="num" id="4047247">10</span><span class="op" id="4047249">,</span>&nbsp;<span class="builtintype" id="4047251">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047257">case</span>&nbsp;<span class="string" id="4047262">&#39;A&#39;</span>&nbsp;<span class="op" id="4047266">&lt;=</span>&nbsp;<span class="ident" id="4047269">c</span>&nbsp;<span class="op" id="4047271">&amp;&amp;</span>&nbsp;<span class="ident" id="4047274">c</span>&nbsp;<span class="op" id="4047276">&lt;=</span>&nbsp;<span class="string" id="4047279">&#39;F&#39;</span><span class="op" id="4047282">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047286">return</span>&nbsp;<span class="ident" id="4047293">c</span>&nbsp;<span class="op" id="4047295">-</span>&nbsp;<span class="string" id="4047297">&#39;A&#39;</span>&nbsp;<span class="op" id="4047301">+</span>&nbsp;<span class="num" id="4047303">10</span><span class="op" id="4047305">,</span>&nbsp;<span class="builtintype" id="4047307">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4047313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047317">return</span>&nbsp;<span class="num" id="4047324">0</span><span class="op" id="4047325">,</span>&nbsp;<span class="builtintype" id="4047327">false</span><br>
<span class="lineno"></span><span class="op" id="4047333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4047336">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4047395">func</span>&nbsp;<span class="ident" id="4047400">EncodeToString</span><span class="op" id="4047414">(</span><span class="ident" id="4047415">src</span>&nbsp;<span class="op" id="4047419">[</span><span class="op" id="4047420">]</span><span class="builtintype" id="4047421">byte</span><span class="op" id="4047425">)</span>&nbsp;<span class="builtintype" id="4047427">string</span>&nbsp;<span class="op" id="4047434">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4047437">dst</span>&nbsp;<span class="op" id="4047441">:=</span>&nbsp;<span class="builtinfunc" id="4047444">make</span><span class="op" id="4047448">(</span><span class="op" id="4047449">[</span><span class="op" id="4047450">]</span><span class="builtintype" id="4047451">byte</span><span class="op" id="4047455">,</span>&nbsp;<span class="ident" id="4047457">EncodedLen</span><span class="op" id="4047467">(</span><span class="builtinfunc" id="4047468">len</span><span class="op" id="4047471">(</span><span class="ident" id="4047472">src</span><span class="op" id="4047475">)</span><span class="op" id="4047476">)</span><span class="op" id="4047477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4047480">Encode</span><span class="op" id="4047486">(</span><span class="ident" id="4047487">dst</span><span class="op" id="4047490">,</span>&nbsp;<span class="ident" id="4047492">src</span><span class="op" id="4047495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047498">return</span>&nbsp;<span class="builtintype" id="4047505">string</span><span class="op" id="4047511">(</span><span class="ident" id="4047512">dst</span><span class="op" id="4047515">)</span><br>
<span class="lineno"></span><span class="op" id="4047517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4047520">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4047595">func</span>&nbsp;<span class="ident" id="4047600">DecodeString</span><span class="op" id="4047612">(</span><span class="ident" id="4047613">s</span>&nbsp;<span class="builtintype" id="4047615">string</span><span class="op" id="4047621">)</span>&nbsp;<span class="op" id="4047623">(</span><span class="op" id="4047624">[</span><span class="op" id="4047625">]</span><span class="builtintype" id="4047626">byte</span><span class="op" id="4047630">,</span>&nbsp;<span class="builtintype" id="4047632">error</span><span class="op" id="4047637">)</span>&nbsp;<span class="op" id="4047639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4047642">src</span>&nbsp;<span class="op" id="4047646">:=</span>&nbsp;<span class="op" id="4047649">[</span><span class="op" id="4047650">]</span><span class="builtintype" id="4047651">byte</span><span class="op" id="4047655">(</span><span class="ident" id="4047656">s</span><span class="op" id="4047657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4047660">dst</span>&nbsp;<span class="op" id="4047664">:=</span>&nbsp;<span class="builtinfunc" id="4047667">make</span><span class="op" id="4047671">(</span><span class="op" id="4047672">[</span><span class="op" id="4047673">]</span><span class="builtintype" id="4047674">byte</span><span class="op" id="4047678">,</span>&nbsp;<span class="ident" id="4047680">DecodedLen</span><span class="op" id="4047690">(</span><span class="builtinfunc" id="4047691">len</span><span class="op" id="4047694">(</span><span class="ident" id="4047695">src</span><span class="op" id="4047698">)</span><span class="op" id="4047699">)</span><span class="op" id="4047700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4047703">_</span><span class="op" id="4047704">,</span>&nbsp;<span class="ident" id="4047706">err</span>&nbsp;<span class="op" id="4047710">:=</span>&nbsp;<span class="ident" id="4047713">Decode</span><span class="op" id="4047719">(</span><span class="ident" id="4047720">dst</span><span class="op" id="4047723">,</span>&nbsp;<span class="ident" id="4047725">src</span><span class="op" id="4047728">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047731">if</span>&nbsp;<span class="ident" id="4047734">err</span>&nbsp;<span class="op" id="4047738">!=</span>&nbsp;<span class="ident" id="4047741">nil</span>&nbsp;<span class="op" id="4047745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047749">return</span>&nbsp;<span class="ident" id="4047756">nil</span><span class="op" id="4047759">,</span>&nbsp;<span class="ident" id="4047761">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4047766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047769">return</span>&nbsp;<span class="ident" id="4047776">dst</span><span class="op" id="4047779">,</span>&nbsp;<span class="ident" id="4047781">nil</span><br>
<span class="lineno"></span><span class="op" id="4047785">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4047788">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4047868">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4047943">func</span>&nbsp;<span class="ident" id="4047948">Dump</span><span class="op" id="4047952">(</span><span class="ident" id="4047953">data</span>&nbsp;<span class="op" id="4047958">[</span><span class="op" id="4047959">]</span><span class="builtintype" id="4047960">byte</span><span class="op" id="4047964">)</span>&nbsp;<span class="builtintype" id="4047966">string</span>&nbsp;<span class="op" id="4047973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4047976">var</span>&nbsp;<span class="ident" id="4047980">buf</span>&nbsp;<span class="ident" id="4047984">bytes</span><span class="op" id="4047989">.</span><span class="ident" id="4047990">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4047998">dumper</span>&nbsp;<span class="op" id="4048005">:=</span>&nbsp;<span class="ident" id="4048008">Dumper</span><span class="op" id="4048014">(</span><span class="op" id="4048015">&amp;</span><span class="ident" id="4048016">buf</span><span class="op" id="4048019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048022">dumper</span><span class="op" id="4048028">.</span><span class="ident" id="4048029">Write</span><span class="op" id="4048034">(</span><span class="ident" id="4048035">data</span><span class="op" id="4048039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048042">dumper</span><span class="op" id="4048048">.</span><span class="ident" id="4048049">Close</span><span class="op" id="4048054">(</span><span class="op" id="4048055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4048058">return</span>&nbsp;<span class="builtintype" id="4048065">string</span><span class="op" id="4048071">(</span><span class="ident" id="4048072">buf</span><span class="op" id="4048075">.</span><span class="ident" id="4048076">Bytes</span><span class="op" id="4048081">(</span><span class="op" id="4048082">)</span><span class="op" id="4048083">)</span><br>
<span class="lineno"></span><span class="op" id="4048085">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4048088">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4048166">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4048245">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4048254">func</span>&nbsp;<span class="ident" id="4048259">Dumper</span><span class="op" id="4048265">(</span><span class="ident" id="4048266">w</span>&nbsp;<span class="ident" id="4048268">io</span><span class="op" id="4048270">.</span><span class="ident" id="4048271">Writer</span><span class="op" id="4048277">)</span>&nbsp;<span class="ident" id="4048279">io</span><span class="op" id="4048281">.</span><span class="ident" id="4048282">WriteCloser</span>&nbsp;<span class="op" id="4048294">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4048297">return</span>&nbsp;<span class="op" id="4048304">&amp;</span><span class="ident" id="4048305">dumper</span><span class="op" id="4048311">{</span><span class="ident" id="4048312">w</span><span class="op" id="4048313">:</span>&nbsp;<span class="ident" id="4048315">w</span><span class="op" id="4048316">}</span><br>
<span class="lineno"></span><span class="op" id="4048318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4048321">type</span>&nbsp;<span class="ident" id="4048326">dumper</span>&nbsp;<span class="keyword" id="4048333">struct</span>&nbsp;<span class="op" id="4048340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048343">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4048354">io</span><span class="op" id="4048356">.</span><span class="ident" id="4048357">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048365">rightChars</span>&nbsp;<span class="op" id="4048376">[</span><span class="num" id="4048377">18</span><span class="op" id="4048379">]</span><span class="builtintype" id="4048380">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048386">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4048397">[</span><span class="num" id="4048398">14</span><span class="op" id="4048400">]</span><span class="builtintype" id="4048401">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048407">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4048418">int</span>&nbsp;&nbsp;<span class="comment" id="4048423">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048463">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4048474">uint</span>&nbsp;<span class="comment" id="4048479">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4048505">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4048508">func</span>&nbsp;<span class="ident" id="4048513">toChar</span><span class="op" id="4048519">(</span><span class="ident" id="4048520">b</span>&nbsp;<span class="builtintype" id="4048522">byte</span><span class="op" id="4048526">)</span>&nbsp;<span class="builtintype" id="4048528">byte</span>&nbsp;<span class="op" id="4048533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4048536">if</span>&nbsp;<span class="ident" id="4048539">b</span>&nbsp;<span class="op" id="4048541">&lt;</span>&nbsp;<span class="num" id="4048543">32</span>&nbsp;<span class="op" id="4048546">||</span>&nbsp;<span class="ident" id="4048549">b</span>&nbsp;<span class="op" id="4048551">&gt;</span>&nbsp;<span class="num" id="4048553">126</span>&nbsp;<span class="op" id="4048557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4048561">return</span>&nbsp;<span class="string" id="4048568">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4048573">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4048576">return</span>&nbsp;<span class="ident" id="4048583">b</span><br>
<span class="lineno"></span><span class="op" id="4048585">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4048588">func</span>&nbsp;<span class="op" id="4048593">(</span><span class="ident" id="4048594">h</span>&nbsp;<span class="op" id="4048596">*</span><span class="ident" id="4048597">dumper</span><span class="op" id="4048603">)</span>&nbsp;<span class="ident" id="4048605">Write</span><span class="op" id="4048610">(</span><span class="ident" id="4048611">data</span>&nbsp;<span class="op" id="4048616">[</span><span class="op" id="4048617">]</span><span class="builtintype" id="4048618">byte</span><span class="op" id="4048622">)</span>&nbsp;<span class="op" id="4048624">(</span><span class="ident" id="4048625">n</span>&nbsp;<span class="builtintype" id="4048627">int</span><span class="op" id="4048630">,</span>&nbsp;<span class="ident" id="4048632">err</span>&nbsp;<span class="builtintype" id="4048636">error</span><span class="op" id="4048641">)</span>&nbsp;<span class="op" id="4048643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4048646">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4048674">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4048757">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4048839">for</span>&nbsp;<span class="ident" id="4048843">i</span>&nbsp;<span class="op" id="4048845">:=</span>&nbsp;<span class="keyword" id="4048848">range</span>&nbsp;<span class="ident" id="4048854">data</span>&nbsp;<span class="op" id="4048859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4048863">if</span>&nbsp;<span class="ident" id="4048866">h</span><span class="op" id="4048867">.</span><span class="ident" id="4048868">used</span>&nbsp;<span class="op" id="4048873">==</span>&nbsp;<span class="num" id="4048876">0</span>&nbsp;<span class="op" id="4048878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4048883">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4048937">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048958">h</span><span class="op" id="4048959">.</span><span class="ident" id="4048960">buf</span><span class="op" id="4048963">[</span><span class="num" id="4048964">0</span><span class="op" id="4048965">]</span>&nbsp;<span class="op" id="4048967">=</span>&nbsp;<span class="builtintype" id="4048969">byte</span><span class="op" id="4048973">(</span><span class="ident" id="4048974">h</span><span class="op" id="4048975">.</span><span class="ident" id="4048976">n</span>&nbsp;<span class="op" id="4048978">&gt;&gt;</span>&nbsp;<span class="num" id="4048981">24</span><span class="op" id="4048983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4048988">h</span><span class="op" id="4048989">.</span><span class="ident" id="4048990">buf</span><span class="op" id="4048993">[</span><span class="num" id="4048994">1</span><span class="op" id="4048995">]</span>&nbsp;<span class="op" id="4048997">=</span>&nbsp;<span class="builtintype" id="4048999">byte</span><span class="op" id="4049003">(</span><span class="ident" id="4049004">h</span><span class="op" id="4049005">.</span><span class="ident" id="4049006">n</span>&nbsp;<span class="op" id="4049008">&gt;&gt;</span>&nbsp;<span class="num" id="4049011">16</span><span class="op" id="4049013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049018">h</span><span class="op" id="4049019">.</span><span class="ident" id="4049020">buf</span><span class="op" id="4049023">[</span><span class="num" id="4049024">2</span><span class="op" id="4049025">]</span>&nbsp;<span class="op" id="4049027">=</span>&nbsp;<span class="builtintype" id="4049029">byte</span><span class="op" id="4049033">(</span><span class="ident" id="4049034">h</span><span class="op" id="4049035">.</span><span class="ident" id="4049036">n</span>&nbsp;<span class="op" id="4049038">&gt;&gt;</span>&nbsp;<span class="num" id="4049041">8</span><span class="op" id="4049042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049047">h</span><span class="op" id="4049048">.</span><span class="ident" id="4049049">buf</span><span class="op" id="4049052">[</span><span class="num" id="4049053">3</span><span class="op" id="4049054">]</span>&nbsp;<span class="op" id="4049056">=</span>&nbsp;<span class="builtintype" id="4049058">byte</span><span class="op" id="4049062">(</span><span class="ident" id="4049063">h</span><span class="op" id="4049064">.</span><span class="ident" id="4049065">n</span><span class="op" id="4049066">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049071">Encode</span><span class="op" id="4049077">(</span><span class="ident" id="4049078">h</span><span class="op" id="4049079">.</span><span class="ident" id="4049080">buf</span><span class="op" id="4049083">[</span><span class="num" id="4049084">4</span><span class="op" id="4049085">:</span><span class="op" id="4049086">]</span><span class="op" id="4049087">,</span>&nbsp;<span class="ident" id="4049089">h</span><span class="op" id="4049090">.</span><span class="ident" id="4049091">buf</span><span class="op" id="4049094">[</span><span class="op" id="4049095">:</span><span class="num" id="4049096">4</span><span class="op" id="4049097">]</span><span class="op" id="4049098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049103">h</span><span class="op" id="4049104">.</span><span class="ident" id="4049105">buf</span><span class="op" id="4049108">[</span><span class="num" id="4049109">12</span><span class="op" id="4049111">]</span>&nbsp;<span class="op" id="4049113">=</span>&nbsp;<span class="string" id="4049115">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049122">h</span><span class="op" id="4049123">.</span><span class="ident" id="4049124">buf</span><span class="op" id="4049127">[</span><span class="num" id="4049128">13</span><span class="op" id="4049130">]</span>&nbsp;<span class="op" id="4049132">=</span>&nbsp;<span class="string" id="4049134">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049141">_</span><span class="op" id="4049142">,</span>&nbsp;<span class="ident" id="4049144">err</span>&nbsp;<span class="op" id="4049148">=</span>&nbsp;<span class="ident" id="4049150">h</span><span class="op" id="4049151">.</span><span class="ident" id="4049152">w</span><span class="op" id="4049153">.</span><span class="ident" id="4049154">Write</span><span class="op" id="4049159">(</span><span class="ident" id="4049160">h</span><span class="op" id="4049161">.</span><span class="ident" id="4049162">buf</span><span class="op" id="4049165">[</span><span class="num" id="4049166">4</span><span class="op" id="4049167">:</span><span class="op" id="4049168">]</span><span class="op" id="4049169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049174">if</span>&nbsp;<span class="ident" id="4049177">err</span>&nbsp;<span class="op" id="4049181">!=</span>&nbsp;<span class="ident" id="4049184">nil</span>&nbsp;<span class="op" id="4049188">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049194">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049212">Encode</span><span class="op" id="4049218">(</span><span class="ident" id="4049219">h</span><span class="op" id="4049220">.</span><span class="ident" id="4049221">buf</span><span class="op" id="4049224">[</span><span class="op" id="4049225">:</span><span class="op" id="4049226">]</span><span class="op" id="4049227">,</span>&nbsp;<span class="ident" id="4049229">data</span><span class="op" id="4049233">[</span><span class="ident" id="4049234">i</span><span class="op" id="4049235">:</span><span class="ident" id="4049236">i</span><span class="op" id="4049237">+</span><span class="num" id="4049238">1</span><span class="op" id="4049239">]</span><span class="op" id="4049240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049244">h</span><span class="op" id="4049245">.</span><span class="ident" id="4049246">buf</span><span class="op" id="4049249">[</span><span class="num" id="4049250">2</span><span class="op" id="4049251">]</span>&nbsp;<span class="op" id="4049253">=</span>&nbsp;<span class="string" id="4049255">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049261">l</span>&nbsp;<span class="op" id="4049263">:=</span>&nbsp;<span class="num" id="4049266">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049270">if</span>&nbsp;<span class="ident" id="4049273">h</span><span class="op" id="4049274">.</span><span class="ident" id="4049275">used</span>&nbsp;<span class="op" id="4049280">==</span>&nbsp;<span class="num" id="4049283">7</span>&nbsp;<span class="op" id="4049285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4049290">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049344">h</span><span class="op" id="4049345">.</span><span class="ident" id="4049346">buf</span><span class="op" id="4049349">[</span><span class="num" id="4049350">3</span><span class="op" id="4049351">]</span>&nbsp;<span class="op" id="4049353">=</span>&nbsp;<span class="string" id="4049355">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049362">l</span>&nbsp;<span class="op" id="4049364">=</span>&nbsp;<span class="num" id="4049366">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049370">}</span>&nbsp;<span class="keyword" id="4049372">else</span>&nbsp;<span class="keyword" id="4049377">if</span>&nbsp;<span class="ident" id="4049380">h</span><span class="op" id="4049381">.</span><span class="ident" id="4049382">used</span>&nbsp;<span class="op" id="4049387">==</span>&nbsp;<span class="num" id="4049390">15</span>&nbsp;<span class="op" id="4049393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4049398">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4049454">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049490">h</span><span class="op" id="4049491">.</span><span class="ident" id="4049492">buf</span><span class="op" id="4049495">[</span><span class="num" id="4049496">3</span><span class="op" id="4049497">]</span>&nbsp;<span class="op" id="4049499">=</span>&nbsp;<span class="string" id="4049501">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049508">h</span><span class="op" id="4049509">.</span><span class="ident" id="4049510">buf</span><span class="op" id="4049513">[</span><span class="num" id="4049514">4</span><span class="op" id="4049515">]</span>&nbsp;<span class="op" id="4049517">=</span>&nbsp;<span class="string" id="4049519">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049526">l</span>&nbsp;<span class="op" id="4049528">=</span>&nbsp;<span class="num" id="4049530">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049538">_</span><span class="op" id="4049539">,</span>&nbsp;<span class="ident" id="4049541">err</span>&nbsp;<span class="op" id="4049545">=</span>&nbsp;<span class="ident" id="4049547">h</span><span class="op" id="4049548">.</span><span class="ident" id="4049549">w</span><span class="op" id="4049550">.</span><span class="ident" id="4049551">Write</span><span class="op" id="4049556">(</span><span class="ident" id="4049557">h</span><span class="op" id="4049558">.</span><span class="ident" id="4049559">buf</span><span class="op" id="4049562">[</span><span class="op" id="4049563">:</span><span class="ident" id="4049564">l</span><span class="op" id="4049565">]</span><span class="op" id="4049566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049570">if</span>&nbsp;<span class="ident" id="4049573">err</span>&nbsp;<span class="op" id="4049577">!=</span>&nbsp;<span class="ident" id="4049580">nil</span>&nbsp;<span class="op" id="4049584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049589">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049602">n</span><span class="op" id="4049603">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049608">h</span><span class="op" id="4049609">.</span><span class="ident" id="4049610">rightChars</span><span class="op" id="4049620">[</span><span class="ident" id="4049621">h</span><span class="op" id="4049622">.</span><span class="ident" id="4049623">used</span><span class="op" id="4049627">]</span>&nbsp;<span class="op" id="4049629">=</span>&nbsp;<span class="ident" id="4049631">toChar</span><span class="op" id="4049637">(</span><span class="ident" id="4049638">data</span><span class="op" id="4049642">[</span><span class="ident" id="4049643">i</span><span class="op" id="4049644">]</span><span class="op" id="4049645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049649">h</span><span class="op" id="4049650">.</span><span class="ident" id="4049651">used</span><span class="op" id="4049655">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049660">h</span><span class="op" id="4049661">.</span><span class="ident" id="4049662">n</span><span class="op" id="4049663">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049668">if</span>&nbsp;<span class="ident" id="4049671">h</span><span class="op" id="4049672">.</span><span class="ident" id="4049673">used</span>&nbsp;<span class="op" id="4049678">==</span>&nbsp;<span class="num" id="4049681">16</span>&nbsp;<span class="op" id="4049684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049689">h</span><span class="op" id="4049690">.</span><span class="ident" id="4049691">rightChars</span><span class="op" id="4049701">[</span><span class="num" id="4049702">16</span><span class="op" id="4049704">]</span>&nbsp;<span class="op" id="4049706">=</span>&nbsp;<span class="string" id="4049708">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049715">h</span><span class="op" id="4049716">.</span><span class="ident" id="4049717">rightChars</span><span class="op" id="4049727">[</span><span class="num" id="4049728">17</span><span class="op" id="4049730">]</span>&nbsp;<span class="op" id="4049732">=</span>&nbsp;<span class="string" id="4049734">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049742">_</span><span class="op" id="4049743">,</span>&nbsp;<span class="ident" id="4049745">err</span>&nbsp;<span class="op" id="4049749">=</span>&nbsp;<span class="ident" id="4049751">h</span><span class="op" id="4049752">.</span><span class="ident" id="4049753">w</span><span class="op" id="4049754">.</span><span class="ident" id="4049755">Write</span><span class="op" id="4049760">(</span><span class="ident" id="4049761">h</span><span class="op" id="4049762">.</span><span class="ident" id="4049763">rightChars</span><span class="op" id="4049773">[</span><span class="op" id="4049774">:</span><span class="op" id="4049775">]</span><span class="op" id="4049776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049781">if</span>&nbsp;<span class="ident" id="4049784">err</span>&nbsp;<span class="op" id="4049788">!=</span>&nbsp;<span class="ident" id="4049791">nil</span>&nbsp;<span class="op" id="4049795">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049801">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049816">h</span><span class="op" id="4049817">.</span><span class="ident" id="4049818">used</span>&nbsp;<span class="op" id="4049823">=</span>&nbsp;<span class="num" id="4049825">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049832">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049835">return</span><br>
<span class="lineno"></span><span class="op" id="4049842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4049845">func</span>&nbsp;<span class="op" id="4049850">(</span><span class="ident" id="4049851">h</span>&nbsp;<span class="op" id="4049853">*</span><span class="ident" id="4049854">dumper</span><span class="op" id="4049860">)</span>&nbsp;<span class="ident" id="4049862">Close</span><span class="op" id="4049867">(</span><span class="op" id="4049868">)</span>&nbsp;<span class="op" id="4049870">(</span><span class="ident" id="4049871">err</span>&nbsp;<span class="builtintype" id="4049875">error</span><span class="op" id="4049880">)</span>&nbsp;<span class="op" id="4049882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4049885">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049949">if</span>&nbsp;<span class="ident" id="4049952">h</span><span class="op" id="4049953">.</span><span class="ident" id="4049954">used</span>&nbsp;<span class="op" id="4049959">==</span>&nbsp;<span class="num" id="4049962">0</span>&nbsp;<span class="op" id="4049964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4049968">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4049976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049979">h</span><span class="op" id="4049980">.</span><span class="ident" id="4049981">buf</span><span class="op" id="4049984">[</span><span class="num" id="4049985">0</span><span class="op" id="4049986">]</span>&nbsp;<span class="op" id="4049988">=</span>&nbsp;<span class="string" id="4049990">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4049995">h</span><span class="op" id="4049996">.</span><span class="ident" id="4049997">buf</span><span class="op" id="4050000">[</span><span class="num" id="4050001">1</span><span class="op" id="4050002">]</span>&nbsp;<span class="op" id="4050004">=</span>&nbsp;<span class="string" id="4050006">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050011">h</span><span class="op" id="4050012">.</span><span class="ident" id="4050013">buf</span><span class="op" id="4050016">[</span><span class="num" id="4050017">2</span><span class="op" id="4050018">]</span>&nbsp;<span class="op" id="4050020">=</span>&nbsp;<span class="string" id="4050022">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050027">h</span><span class="op" id="4050028">.</span><span class="ident" id="4050029">buf</span><span class="op" id="4050032">[</span><span class="num" id="4050033">3</span><span class="op" id="4050034">]</span>&nbsp;<span class="op" id="4050036">=</span>&nbsp;<span class="string" id="4050038">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050043">h</span><span class="op" id="4050044">.</span><span class="ident" id="4050045">buf</span><span class="op" id="4050048">[</span><span class="num" id="4050049">4</span><span class="op" id="4050050">]</span>&nbsp;<span class="op" id="4050052">=</span>&nbsp;<span class="string" id="4050054">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050059">nBytes</span>&nbsp;<span class="op" id="4050066">:=</span>&nbsp;<span class="ident" id="4050069">h</span><span class="op" id="4050070">.</span><span class="ident" id="4050071">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4050077">for</span>&nbsp;<span class="ident" id="4050081">h</span><span class="op" id="4050082">.</span><span class="ident" id="4050083">used</span>&nbsp;<span class="op" id="4050088">&lt;</span>&nbsp;<span class="num" id="4050090">16</span>&nbsp;<span class="op" id="4050093">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050097">l</span>&nbsp;<span class="op" id="4050099">:=</span>&nbsp;<span class="num" id="4050102">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4050106">if</span>&nbsp;<span class="ident" id="4050109">h</span><span class="op" id="4050110">.</span><span class="ident" id="4050111">used</span>&nbsp;<span class="op" id="4050116">==</span>&nbsp;<span class="num" id="4050119">7</span>&nbsp;<span class="op" id="4050121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050126">l</span>&nbsp;<span class="op" id="4050128">=</span>&nbsp;<span class="num" id="4050130">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4050134">}</span>&nbsp;<span class="keyword" id="4050136">else</span>&nbsp;<span class="keyword" id="4050141">if</span>&nbsp;<span class="ident" id="4050144">h</span><span class="op" id="4050145">.</span><span class="ident" id="4050146">used</span>&nbsp;<span class="op" id="4050151">==</span>&nbsp;<span class="num" id="4050154">15</span>&nbsp;<span class="op" id="4050157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050162">l</span>&nbsp;<span class="op" id="4050164">=</span>&nbsp;<span class="num" id="4050166">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4050170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050174">_</span><span class="op" id="4050175">,</span>&nbsp;<span class="ident" id="4050177">err</span>&nbsp;<span class="op" id="4050181">=</span>&nbsp;<span class="ident" id="4050183">h</span><span class="op" id="4050184">.</span><span class="ident" id="4050185">w</span><span class="op" id="4050186">.</span><span class="ident" id="4050187">Write</span><span class="op" id="4050192">(</span><span class="ident" id="4050193">h</span><span class="op" id="4050194">.</span><span class="ident" id="4050195">buf</span><span class="op" id="4050198">[</span><span class="op" id="4050199">:</span><span class="ident" id="4050200">l</span><span class="op" id="4050201">]</span><span class="op" id="4050202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4050206">if</span>&nbsp;<span class="ident" id="4050209">err</span>&nbsp;<span class="op" id="4050213">!=</span>&nbsp;<span class="ident" id="4050216">nil</span>&nbsp;<span class="op" id="4050220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4050225">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4050234">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050238">h</span><span class="op" id="4050239">.</span><span class="ident" id="4050240">used</span><span class="op" id="4050244">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4050248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050251">h</span><span class="op" id="4050252">.</span><span class="ident" id="4050253">rightChars</span><span class="op" id="4050263">[</span><span class="ident" id="4050264">nBytes</span><span class="op" id="4050270">]</span>&nbsp;<span class="op" id="4050272">=</span>&nbsp;<span class="string" id="4050274">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050279">h</span><span class="op" id="4050280">.</span><span class="ident" id="4050281">rightChars</span><span class="op" id="4050291">[</span><span class="ident" id="4050292">nBytes</span><span class="op" id="4050298">+</span><span class="num" id="4050299">1</span><span class="op" id="4050300">]</span>&nbsp;<span class="op" id="4050302">=</span>&nbsp;<span class="string" id="4050304">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4050310">_</span><span class="op" id="4050311">,</span>&nbsp;<span class="ident" id="4050313">err</span>&nbsp;<span class="op" id="4050317">=</span>&nbsp;<span class="ident" id="4050319">h</span><span class="op" id="4050320">.</span><span class="ident" id="4050321">w</span><span class="op" id="4050322">.</span><span class="ident" id="4050323">Write</span><span class="op" id="4050328">(</span><span class="ident" id="4050329">h</span><span class="op" id="4050330">.</span><span class="ident" id="4050331">rightChars</span><span class="op" id="4050341">[</span><span class="op" id="4050342">:</span><span class="ident" id="4050343">nBytes</span><span class="op" id="4050349">+</span><span class="num" id="4050350">2</span><span class="op" id="4050351">]</span><span class="op" id="4050352">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4050355">return</span><br>
<span class="lineno"></span><span class="op" id="4050362">}</span>
</div>
</body>
</html>
