<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5289970">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5290026">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5290080">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5290131">package</span>&nbsp;<span class="ident" id="5290139">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5290147">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5290172">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5290240">import</span>&nbsp;<span class="op" id="5290247">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5290250">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5290259">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5290270">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5290281">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5290291">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5290294">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5290353">type</span>&nbsp;<span class="ident" id="5290358">Regexp</span>&nbsp;<span class="keyword" id="5290365">struct</span>&nbsp;<span class="op" id="5290372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290375">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5290384">Op</span>&nbsp;<span class="comment" id="5290387">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290400">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5290409">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290416">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5290425">[</span><span class="op" id="5290426">]</span><span class="op" id="5290427">*</span><span class="ident" id="5290428">Regexp</span>&nbsp;&nbsp;<span class="comment" id="5290436">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290463">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5290472">[</span><span class="num" id="5290473">1</span><span class="op" id="5290474">]</span><span class="op" id="5290475">*</span><span class="ident" id="5290476">Regexp</span>&nbsp;<span class="comment" id="5290483">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290509">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5290518">[</span><span class="op" id="5290519">]</span><span class="builtintype" id="5290520">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5290529">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290575">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5290584">[</span><span class="num" id="5290585">2</span><span class="op" id="5290586">]</span><span class="builtintype" id="5290587">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5290595">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290622">Min</span><span class="op" id="5290625">,</span>&nbsp;<span class="ident" id="5290627">Max</span>&nbsp;<span class="builtintype" id="5290631">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5290642">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290668">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5290677">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5290688">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5290723">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5290732">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5290743">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5290776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5290779">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5290829">type</span>&nbsp;<span class="ident" id="5290834">Op</span>&nbsp;<span class="builtintype" id="5290837">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5290844">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5290918">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5290983">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5291040">const</span>&nbsp;<span class="op" id="5291046">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291049">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5291066">Op</span>&nbsp;<span class="op" id="5291069">=</span>&nbsp;<span class="num" id="5291071">1</span>&nbsp;<span class="op" id="5291073">+</span>&nbsp;<span class="ident" id="5291075">iota</span>&nbsp;<span class="comment" id="5291080">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291103">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291134">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291159">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291190">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291217">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291248">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291297">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291328">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291369">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291400">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291426">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291457">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291503">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291534">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291574">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291605">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291651">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291682">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291722">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291753">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291784">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291815">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291850">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291881">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5291944">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5291975">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292013">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5292044">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292081">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5292112">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292149">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5292180">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292255">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5292286">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5292320">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5292351">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5292382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5292385">const</span>&nbsp;<span class="ident" id="5292391">opPseudo</span>&nbsp;<span class="ident" id="5292400">Op</span>&nbsp;<span class="op" id="5292403">=</span>&nbsp;<span class="num" id="5292405">128</span>&nbsp;<span class="comment" id="5292409">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5292436">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5292495">func</span>&nbsp;<span class="op" id="5292500">(</span><span class="ident" id="5292501">x</span>&nbsp;<span class="op" id="5292503">*</span><span class="ident" id="5292504">Regexp</span><span class="op" id="5292510">)</span>&nbsp;<span class="ident" id="5292512">Equal</span><span class="op" id="5292517">(</span><span class="ident" id="5292518">y</span>&nbsp;<span class="op" id="5292520">*</span><span class="ident" id="5292521">Regexp</span><span class="op" id="5292527">)</span>&nbsp;<span class="builtintype" id="5292529">bool</span>&nbsp;<span class="op" id="5292534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292537">if</span>&nbsp;<span class="ident" id="5292540">x</span>&nbsp;<span class="op" id="5292542">==</span>&nbsp;<span class="ident" id="5292545">nil</span>&nbsp;<span class="op" id="5292549">||</span>&nbsp;<span class="ident" id="5292552">y</span>&nbsp;<span class="op" id="5292554">==</span>&nbsp;<span class="ident" id="5292557">nil</span>&nbsp;<span class="op" id="5292561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292565">return</span>&nbsp;<span class="ident" id="5292572">x</span>&nbsp;<span class="op" id="5292574">==</span>&nbsp;<span class="ident" id="5292577">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292583">if</span>&nbsp;<span class="ident" id="5292586">x</span><span class="op" id="5292587">.</span><span class="ident" id="5292588">Op</span>&nbsp;<span class="op" id="5292591">!=</span>&nbsp;<span class="ident" id="5292594">y</span><span class="op" id="5292595">.</span><span class="ident" id="5292596">Op</span>&nbsp;<span class="op" id="5292599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292603">return</span>&nbsp;<span class="ident" id="5292610">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292620">switch</span>&nbsp;<span class="ident" id="5292627">x</span><span class="op" id="5292628">.</span><span class="ident" id="5292629">Op</span>&nbsp;<span class="op" id="5292632">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292635">case</span>&nbsp;<span class="ident" id="5292640">OpEndText</span><span class="op" id="5292649">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5292653">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292709">if</span>&nbsp;<span class="ident" id="5292712">x</span><span class="op" id="5292713">.</span><span class="ident" id="5292714">Flags</span><span class="op" id="5292719">&amp;</span><span class="ident" id="5292720">WasDollar</span>&nbsp;<span class="op" id="5292730">!=</span>&nbsp;<span class="ident" id="5292733">y</span><span class="op" id="5292734">.</span><span class="ident" id="5292735">Flags</span><span class="op" id="5292740">&amp;</span><span class="ident" id="5292741">WasDollar</span>&nbsp;<span class="op" id="5292751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292756">return</span>&nbsp;<span class="ident" id="5292763">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292771">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292775">case</span>&nbsp;<span class="ident" id="5292780">OpLiteral</span><span class="op" id="5292789">,</span>&nbsp;<span class="ident" id="5292791">OpCharClass</span><span class="op" id="5292802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292806">if</span>&nbsp;<span class="builtinfunc" id="5292809">len</span><span class="op" id="5292812">(</span><span class="ident" id="5292813">x</span><span class="op" id="5292814">.</span><span class="ident" id="5292815">Rune</span><span class="op" id="5292819">)</span>&nbsp;<span class="op" id="5292821">!=</span>&nbsp;<span class="builtinfunc" id="5292824">len</span><span class="op" id="5292827">(</span><span class="ident" id="5292828">y</span><span class="op" id="5292829">.</span><span class="ident" id="5292830">Rune</span><span class="op" id="5292834">)</span>&nbsp;<span class="op" id="5292836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292841">return</span>&nbsp;<span class="ident" id="5292848">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292856">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292860">for</span>&nbsp;<span class="ident" id="5292864">i</span><span class="op" id="5292865">,</span>&nbsp;<span class="ident" id="5292867">r</span>&nbsp;<span class="op" id="5292869">:=</span>&nbsp;<span class="keyword" id="5292872">range</span>&nbsp;<span class="ident" id="5292878">x</span><span class="op" id="5292879">.</span><span class="ident" id="5292880">Rune</span>&nbsp;<span class="op" id="5292885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292890">if</span>&nbsp;<span class="ident" id="5292893">r</span>&nbsp;<span class="op" id="5292895">!=</span>&nbsp;<span class="ident" id="5292898">y</span><span class="op" id="5292899">.</span><span class="ident" id="5292900">Rune</span><span class="op" id="5292904">[</span><span class="ident" id="5292905">i</span><span class="op" id="5292906">]</span>&nbsp;<span class="op" id="5292908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292914">return</span>&nbsp;<span class="ident" id="5292921">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5292934">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292938">case</span>&nbsp;<span class="ident" id="5292943">OpAlternate</span><span class="op" id="5292954">,</span>&nbsp;<span class="ident" id="5292956">OpConcat</span><span class="op" id="5292964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5292968">if</span>&nbsp;<span class="builtinfunc" id="5292971">len</span><span class="op" id="5292974">(</span><span class="ident" id="5292975">x</span><span class="op" id="5292976">.</span><span class="ident" id="5292977">Sub</span><span class="op" id="5292980">)</span>&nbsp;<span class="op" id="5292982">!=</span>&nbsp;<span class="builtinfunc" id="5292985">len</span><span class="op" id="5292988">(</span><span class="ident" id="5292989">y</span><span class="op" id="5292990">.</span><span class="ident" id="5292991">Sub</span><span class="op" id="5292994">)</span>&nbsp;<span class="op" id="5292996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293001">return</span>&nbsp;<span class="ident" id="5293008">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293016">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293020">for</span>&nbsp;<span class="ident" id="5293024">i</span><span class="op" id="5293025">,</span>&nbsp;<span class="ident" id="5293027">sub</span>&nbsp;<span class="op" id="5293031">:=</span>&nbsp;<span class="keyword" id="5293034">range</span>&nbsp;<span class="ident" id="5293040">x</span><span class="op" id="5293041">.</span><span class="ident" id="5293042">Sub</span>&nbsp;<span class="op" id="5293046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293051">if</span>&nbsp;<span class="op" id="5293054">!</span><span class="ident" id="5293055">sub</span><span class="op" id="5293058">.</span><span class="ident" id="5293059">Equal</span><span class="op" id="5293064">(</span><span class="ident" id="5293065">y</span><span class="op" id="5293066">.</span><span class="ident" id="5293067">Sub</span><span class="op" id="5293070">[</span><span class="ident" id="5293071">i</span><span class="op" id="5293072">]</span><span class="op" id="5293073">)</span>&nbsp;<span class="op" id="5293075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293081">return</span>&nbsp;<span class="ident" id="5293088">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293101">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293105">case</span>&nbsp;<span class="ident" id="5293110">OpStar</span><span class="op" id="5293116">,</span>&nbsp;<span class="ident" id="5293118">OpPlus</span><span class="op" id="5293124">,</span>&nbsp;<span class="ident" id="5293126">OpQuest</span><span class="op" id="5293133">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293137">if</span>&nbsp;<span class="ident" id="5293140">x</span><span class="op" id="5293141">.</span><span class="ident" id="5293142">Flags</span><span class="op" id="5293147">&amp;</span><span class="ident" id="5293148">NonGreedy</span>&nbsp;<span class="op" id="5293158">!=</span>&nbsp;<span class="ident" id="5293161">y</span><span class="op" id="5293162">.</span><span class="ident" id="5293163">Flags</span><span class="op" id="5293168">&amp;</span><span class="ident" id="5293169">NonGreedy</span>&nbsp;<span class="op" id="5293179">||</span>&nbsp;<span class="op" id="5293182">!</span><span class="ident" id="5293183">x</span><span class="op" id="5293184">.</span><span class="ident" id="5293185">Sub</span><span class="op" id="5293188">[</span><span class="num" id="5293189">0</span><span class="op" id="5293190">]</span><span class="op" id="5293191">.</span><span class="ident" id="5293192">Equal</span><span class="op" id="5293197">(</span><span class="ident" id="5293198">y</span><span class="op" id="5293199">.</span><span class="ident" id="5293200">Sub</span><span class="op" id="5293203">[</span><span class="num" id="5293204">0</span><span class="op" id="5293205">]</span><span class="op" id="5293206">)</span>&nbsp;<span class="op" id="5293208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293213">return</span>&nbsp;<span class="ident" id="5293220">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293228">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293232">case</span>&nbsp;<span class="ident" id="5293237">OpRepeat</span><span class="op" id="5293245">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293249">if</span>&nbsp;<span class="ident" id="5293252">x</span><span class="op" id="5293253">.</span><span class="ident" id="5293254">Flags</span><span class="op" id="5293259">&amp;</span><span class="ident" id="5293260">NonGreedy</span>&nbsp;<span class="op" id="5293270">!=</span>&nbsp;<span class="ident" id="5293273">y</span><span class="op" id="5293274">.</span><span class="ident" id="5293275">Flags</span><span class="op" id="5293280">&amp;</span><span class="ident" id="5293281">NonGreedy</span>&nbsp;<span class="op" id="5293291">||</span>&nbsp;<span class="ident" id="5293294">x</span><span class="op" id="5293295">.</span><span class="ident" id="5293296">Min</span>&nbsp;<span class="op" id="5293300">!=</span>&nbsp;<span class="ident" id="5293303">y</span><span class="op" id="5293304">.</span><span class="ident" id="5293305">Min</span>&nbsp;<span class="op" id="5293309">||</span>&nbsp;<span class="ident" id="5293312">x</span><span class="op" id="5293313">.</span><span class="ident" id="5293314">Max</span>&nbsp;<span class="op" id="5293318">!=</span>&nbsp;<span class="ident" id="5293321">y</span><span class="op" id="5293322">.</span><span class="ident" id="5293323">Max</span>&nbsp;<span class="op" id="5293327">||</span>&nbsp;<span class="op" id="5293330">!</span><span class="ident" id="5293331">x</span><span class="op" id="5293332">.</span><span class="ident" id="5293333">Sub</span><span class="op" id="5293336">[</span><span class="num" id="5293337">0</span><span class="op" id="5293338">]</span><span class="op" id="5293339">.</span><span class="ident" id="5293340">Equal</span><span class="op" id="5293345">(</span><span class="ident" id="5293346">y</span><span class="op" id="5293347">.</span><span class="ident" id="5293348">Sub</span><span class="op" id="5293351">[</span><span class="num" id="5293352">0</span><span class="op" id="5293353">]</span><span class="op" id="5293354">)</span>&nbsp;<span class="op" id="5293356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293361">return</span>&nbsp;<span class="ident" id="5293368">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293376">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293380">case</span>&nbsp;<span class="ident" id="5293385">OpCapture</span><span class="op" id="5293394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293398">if</span>&nbsp;<span class="ident" id="5293401">x</span><span class="op" id="5293402">.</span><span class="ident" id="5293403">Cap</span>&nbsp;<span class="op" id="5293407">!=</span>&nbsp;<span class="ident" id="5293410">y</span><span class="op" id="5293411">.</span><span class="ident" id="5293412">Cap</span>&nbsp;<span class="op" id="5293416">||</span>&nbsp;<span class="ident" id="5293419">x</span><span class="op" id="5293420">.</span><span class="ident" id="5293421">Name</span>&nbsp;<span class="op" id="5293426">!=</span>&nbsp;<span class="ident" id="5293429">y</span><span class="op" id="5293430">.</span><span class="ident" id="5293431">Name</span>&nbsp;<span class="op" id="5293436">||</span>&nbsp;<span class="op" id="5293439">!</span><span class="ident" id="5293440">x</span><span class="op" id="5293441">.</span><span class="ident" id="5293442">Sub</span><span class="op" id="5293445">[</span><span class="num" id="5293446">0</span><span class="op" id="5293447">]</span><span class="op" id="5293448">.</span><span class="ident" id="5293449">Equal</span><span class="op" id="5293454">(</span><span class="ident" id="5293455">y</span><span class="op" id="5293456">.</span><span class="ident" id="5293457">Sub</span><span class="op" id="5293460">[</span><span class="num" id="5293461">0</span><span class="op" id="5293462">]</span><span class="op" id="5293463">)</span>&nbsp;<span class="op" id="5293465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293470">return</span>&nbsp;<span class="ident" id="5293477">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293485">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293488">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293491">return</span>&nbsp;<span class="ident" id="5293498">true</span><br>
<span class="lineno"></span><span class="op" id="5293503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5293506">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5293580">func</span>&nbsp;<span class="ident" id="5293585">writeRegexp</span><span class="op" id="5293596">(</span><span class="ident" id="5293597">b</span>&nbsp;<span class="op" id="5293599">*</span><span class="ident" id="5293600">bytes</span><span class="op" id="5293605">.</span><span class="ident" id="5293606">Buffer</span><span class="op" id="5293612">,</span>&nbsp;<span class="ident" id="5293614">re</span>&nbsp;<span class="op" id="5293617">*</span><span class="ident" id="5293618">Regexp</span><span class="op" id="5293624">)</span>&nbsp;<span class="op" id="5293626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293629">switch</span>&nbsp;<span class="ident" id="5293636">re</span><span class="op" id="5293638">.</span><span class="ident" id="5293639">Op</span>&nbsp;<span class="op" id="5293642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293645">default</span><span class="op" id="5293652">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293656">b</span><span class="op" id="5293657">.</span><span class="ident" id="5293658">WriteString</span><span class="op" id="5293669">(</span><span class="string" id="5293670">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5293684">+</span>&nbsp;<span class="ident" id="5293686">strconv</span><span class="op" id="5293693">.</span><span class="ident" id="5293694">Itoa</span><span class="op" id="5293698">(</span><span class="builtintype" id="5293699">int</span><span class="op" id="5293702">(</span><span class="ident" id="5293703">re</span><span class="op" id="5293705">.</span><span class="ident" id="5293706">Op</span><span class="op" id="5293708">)</span><span class="op" id="5293709">)</span>&nbsp;<span class="op" id="5293711">+</span>&nbsp;<span class="string" id="5293713">&#34;&gt;&#34;</span><span class="op" id="5293716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293719">case</span>&nbsp;<span class="ident" id="5293724">OpNoMatch</span><span class="op" id="5293733">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293737">b</span><span class="op" id="5293738">.</span><span class="ident" id="5293739">WriteString</span><span class="op" id="5293750">(</span><span class="string" id="5293751">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5293771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293774">case</span>&nbsp;<span class="ident" id="5293779">OpEmptyMatch</span><span class="op" id="5293791">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293795">b</span><span class="op" id="5293796">.</span><span class="ident" id="5293797">WriteString</span><span class="op" id="5293808">(</span><span class="string" id="5293809">`(?:)`</span><span class="op" id="5293815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293818">case</span>&nbsp;<span class="ident" id="5293823">OpLiteral</span><span class="op" id="5293832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293836">if</span>&nbsp;<span class="ident" id="5293839">re</span><span class="op" id="5293841">.</span><span class="ident" id="5293842">Flags</span><span class="op" id="5293847">&amp;</span><span class="ident" id="5293848">FoldCase</span>&nbsp;<span class="op" id="5293857">!=</span>&nbsp;<span class="num" id="5293860">0</span>&nbsp;<span class="op" id="5293862">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293867">b</span><span class="op" id="5293868">.</span><span class="ident" id="5293869">WriteString</span><span class="op" id="5293880">(</span><span class="string" id="5293881">`(?i:`</span><span class="op" id="5293887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293895">for</span>&nbsp;<span class="ident" id="5293899">_</span><span class="op" id="5293900">,</span>&nbsp;<span class="ident" id="5293902">r</span>&nbsp;<span class="op" id="5293904">:=</span>&nbsp;<span class="keyword" id="5293907">range</span>&nbsp;<span class="ident" id="5293913">re</span><span class="op" id="5293915">.</span><span class="ident" id="5293916">Rune</span>&nbsp;<span class="op" id="5293921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293926">escape</span><span class="op" id="5293932">(</span><span class="ident" id="5293933">b</span><span class="op" id="5293934">,</span>&nbsp;<span class="ident" id="5293936">r</span><span class="op" id="5293937">,</span>&nbsp;<span class="ident" id="5293939">false</span><span class="op" id="5293944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5293948">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5293952">if</span>&nbsp;<span class="ident" id="5293955">re</span><span class="op" id="5293957">.</span><span class="ident" id="5293958">Flags</span><span class="op" id="5293963">&amp;</span><span class="ident" id="5293964">FoldCase</span>&nbsp;<span class="op" id="5293973">!=</span>&nbsp;<span class="num" id="5293976">0</span>&nbsp;<span class="op" id="5293978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5293983">b</span><span class="op" id="5293984">.</span><span class="ident" id="5293985">WriteString</span><span class="op" id="5293996">(</span><span class="string" id="5293997">`)`</span><span class="op" id="5294000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294007">case</span>&nbsp;<span class="ident" id="5294012">OpCharClass</span><span class="op" id="5294023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294027">if</span>&nbsp;<span class="builtinfunc" id="5294030">len</span><span class="op" id="5294033">(</span><span class="ident" id="5294034">re</span><span class="op" id="5294036">.</span><span class="ident" id="5294037">Rune</span><span class="op" id="5294041">)</span><span class="op" id="5294042">%</span><span class="num" id="5294043">2</span>&nbsp;<span class="op" id="5294045">!=</span>&nbsp;<span class="num" id="5294048">0</span>&nbsp;<span class="op" id="5294050">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294055">b</span><span class="op" id="5294056">.</span><span class="ident" id="5294057">WriteString</span><span class="op" id="5294068">(</span><span class="string" id="5294069">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5294091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294096">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294108">b</span><span class="op" id="5294109">.</span><span class="ident" id="5294110">WriteRune</span><span class="op" id="5294119">(</span><span class="string" id="5294120">&#39;[&#39;</span><span class="op" id="5294123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294127">if</span>&nbsp;<span class="builtinfunc" id="5294130">len</span><span class="op" id="5294133">(</span><span class="ident" id="5294134">re</span><span class="op" id="5294136">.</span><span class="ident" id="5294137">Rune</span><span class="op" id="5294141">)</span>&nbsp;<span class="op" id="5294143">==</span>&nbsp;<span class="num" id="5294146">0</span>&nbsp;<span class="op" id="5294148">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294153">b</span><span class="op" id="5294154">.</span><span class="ident" id="5294155">WriteString</span><span class="op" id="5294166">(</span><span class="string" id="5294167">`^\x00-\x{10FFFF}`</span><span class="op" id="5294185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294189">}</span>&nbsp;<span class="keyword" id="5294191">else</span>&nbsp;<span class="keyword" id="5294196">if</span>&nbsp;<span class="ident" id="5294199">re</span><span class="op" id="5294201">.</span><span class="ident" id="5294202">Rune</span><span class="op" id="5294206">[</span><span class="num" id="5294207">0</span><span class="op" id="5294208">]</span>&nbsp;<span class="op" id="5294210">==</span>&nbsp;<span class="num" id="5294213">0</span>&nbsp;<span class="op" id="5294215">&amp;&amp;</span>&nbsp;<span class="ident" id="5294218">re</span><span class="op" id="5294220">.</span><span class="ident" id="5294221">Rune</span><span class="op" id="5294225">[</span><span class="builtinfunc" id="5294226">len</span><span class="op" id="5294229">(</span><span class="ident" id="5294230">re</span><span class="op" id="5294232">.</span><span class="ident" id="5294233">Rune</span><span class="op" id="5294237">)</span><span class="op" id="5294238">-</span><span class="num" id="5294239">1</span><span class="op" id="5294240">]</span>&nbsp;<span class="op" id="5294242">==</span>&nbsp;<span class="ident" id="5294245">unicode</span><span class="op" id="5294252">.</span><span class="ident" id="5294253">MaxRune</span>&nbsp;<span class="op" id="5294261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294266">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5294323">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294345">b</span><span class="op" id="5294346">.</span><span class="ident" id="5294347">WriteRune</span><span class="op" id="5294356">(</span><span class="string" id="5294357">&#39;^&#39;</span><span class="op" id="5294360">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294365">for</span>&nbsp;<span class="ident" id="5294369">i</span>&nbsp;<span class="op" id="5294371">:=</span>&nbsp;<span class="num" id="5294374">1</span><span class="op" id="5294375">;</span>&nbsp;<span class="ident" id="5294377">i</span>&nbsp;<span class="op" id="5294379">&lt;</span>&nbsp;<span class="builtinfunc" id="5294381">len</span><span class="op" id="5294384">(</span><span class="ident" id="5294385">re</span><span class="op" id="5294387">.</span><span class="ident" id="5294388">Rune</span><span class="op" id="5294392">)</span><span class="op" id="5294393">-</span><span class="num" id="5294394">1</span><span class="op" id="5294395">;</span>&nbsp;<span class="ident" id="5294397">i</span>&nbsp;<span class="op" id="5294399">+=</span>&nbsp;<span class="num" id="5294402">2</span>&nbsp;<span class="op" id="5294404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294410">lo</span><span class="op" id="5294412">,</span>&nbsp;<span class="ident" id="5294414">hi</span>&nbsp;<span class="op" id="5294417">:=</span>&nbsp;<span class="ident" id="5294420">re</span><span class="op" id="5294422">.</span><span class="ident" id="5294423">Rune</span><span class="op" id="5294427">[</span><span class="ident" id="5294428">i</span><span class="op" id="5294429">]</span><span class="op" id="5294430">+</span><span class="num" id="5294431">1</span><span class="op" id="5294432">,</span>&nbsp;<span class="ident" id="5294434">re</span><span class="op" id="5294436">.</span><span class="ident" id="5294437">Rune</span><span class="op" id="5294441">[</span><span class="ident" id="5294442">i</span><span class="op" id="5294443">+</span><span class="num" id="5294444">1</span><span class="op" id="5294445">]</span><span class="op" id="5294446">-</span><span class="num" id="5294447">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294453">escape</span><span class="op" id="5294459">(</span><span class="ident" id="5294460">b</span><span class="op" id="5294461">,</span>&nbsp;<span class="ident" id="5294463">lo</span><span class="op" id="5294465">,</span>&nbsp;<span class="ident" id="5294467">lo</span>&nbsp;<span class="op" id="5294470">==</span>&nbsp;<span class="string" id="5294473">&#39;-&#39;</span><span class="op" id="5294476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294482">if</span>&nbsp;<span class="ident" id="5294485">lo</span>&nbsp;<span class="op" id="5294488">!=</span>&nbsp;<span class="ident" id="5294491">hi</span>&nbsp;<span class="op" id="5294494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294501">b</span><span class="op" id="5294502">.</span><span class="ident" id="5294503">WriteRune</span><span class="op" id="5294512">(</span><span class="string" id="5294513">&#39;-&#39;</span><span class="op" id="5294516">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294523">escape</span><span class="op" id="5294529">(</span><span class="ident" id="5294530">b</span><span class="op" id="5294531">,</span>&nbsp;<span class="ident" id="5294533">hi</span><span class="op" id="5294535">,</span>&nbsp;<span class="ident" id="5294537">hi</span>&nbsp;<span class="op" id="5294540">==</span>&nbsp;<span class="string" id="5294543">&#39;-&#39;</span><span class="op" id="5294546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294561">}</span>&nbsp;<span class="keyword" id="5294563">else</span>&nbsp;<span class="op" id="5294568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294573">for</span>&nbsp;<span class="ident" id="5294577">i</span>&nbsp;<span class="op" id="5294579">:=</span>&nbsp;<span class="num" id="5294582">0</span><span class="op" id="5294583">;</span>&nbsp;<span class="ident" id="5294585">i</span>&nbsp;<span class="op" id="5294587">&lt;</span>&nbsp;<span class="builtinfunc" id="5294589">len</span><span class="op" id="5294592">(</span><span class="ident" id="5294593">re</span><span class="op" id="5294595">.</span><span class="ident" id="5294596">Rune</span><span class="op" id="5294600">)</span><span class="op" id="5294601">;</span>&nbsp;<span class="ident" id="5294603">i</span>&nbsp;<span class="op" id="5294605">+=</span>&nbsp;<span class="num" id="5294608">2</span>&nbsp;<span class="op" id="5294610">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294616">lo</span><span class="op" id="5294618">,</span>&nbsp;<span class="ident" id="5294620">hi</span>&nbsp;<span class="op" id="5294623">:=</span>&nbsp;<span class="ident" id="5294626">re</span><span class="op" id="5294628">.</span><span class="ident" id="5294629">Rune</span><span class="op" id="5294633">[</span><span class="ident" id="5294634">i</span><span class="op" id="5294635">]</span><span class="op" id="5294636">,</span>&nbsp;<span class="ident" id="5294638">re</span><span class="op" id="5294640">.</span><span class="ident" id="5294641">Rune</span><span class="op" id="5294645">[</span><span class="ident" id="5294646">i</span><span class="op" id="5294647">+</span><span class="num" id="5294648">1</span><span class="op" id="5294649">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294655">escape</span><span class="op" id="5294661">(</span><span class="ident" id="5294662">b</span><span class="op" id="5294663">,</span>&nbsp;<span class="ident" id="5294665">lo</span><span class="op" id="5294667">,</span>&nbsp;<span class="ident" id="5294669">lo</span>&nbsp;<span class="op" id="5294672">==</span>&nbsp;<span class="string" id="5294675">&#39;-&#39;</span><span class="op" id="5294678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294684">if</span>&nbsp;<span class="ident" id="5294687">lo</span>&nbsp;<span class="op" id="5294690">!=</span>&nbsp;<span class="ident" id="5294693">hi</span>&nbsp;<span class="op" id="5294696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294703">b</span><span class="op" id="5294704">.</span><span class="ident" id="5294705">WriteRune</span><span class="op" id="5294714">(</span><span class="string" id="5294715">&#39;-&#39;</span><span class="op" id="5294718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294725">escape</span><span class="op" id="5294731">(</span><span class="ident" id="5294732">b</span><span class="op" id="5294733">,</span>&nbsp;<span class="ident" id="5294735">hi</span><span class="op" id="5294737">,</span>&nbsp;<span class="ident" id="5294739">hi</span>&nbsp;<span class="op" id="5294742">==</span>&nbsp;<span class="string" id="5294745">&#39;-&#39;</span><span class="op" id="5294748">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5294763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294767">b</span><span class="op" id="5294768">.</span><span class="ident" id="5294769">WriteRune</span><span class="op" id="5294778">(</span><span class="string" id="5294779">&#39;]&#39;</span><span class="op" id="5294782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294785">case</span>&nbsp;<span class="ident" id="5294790">OpAnyCharNotNL</span><span class="op" id="5294804">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294808">b</span><span class="op" id="5294809">.</span><span class="ident" id="5294810">WriteString</span><span class="op" id="5294821">(</span><span class="string" id="5294822">`(?-s:.)`</span><span class="op" id="5294831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294834">case</span>&nbsp;<span class="ident" id="5294839">OpAnyChar</span><span class="op" id="5294848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294852">b</span><span class="op" id="5294853">.</span><span class="ident" id="5294854">WriteString</span><span class="op" id="5294865">(</span><span class="string" id="5294866">`(?s:.)`</span><span class="op" id="5294874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294877">case</span>&nbsp;<span class="ident" id="5294882">OpBeginLine</span><span class="op" id="5294893">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294897">b</span><span class="op" id="5294898">.</span><span class="ident" id="5294899">WriteRune</span><span class="op" id="5294908">(</span><span class="string" id="5294909">&#39;^&#39;</span><span class="op" id="5294912">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294915">case</span>&nbsp;<span class="ident" id="5294920">OpEndLine</span><span class="op" id="5294929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294933">b</span><span class="op" id="5294934">.</span><span class="ident" id="5294935">WriteRune</span><span class="op" id="5294944">(</span><span class="string" id="5294945">&#39;$&#39;</span><span class="op" id="5294948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294951">case</span>&nbsp;<span class="ident" id="5294956">OpBeginText</span><span class="op" id="5294967">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5294971">b</span><span class="op" id="5294972">.</span><span class="ident" id="5294973">WriteString</span><span class="op" id="5294984">(</span><span class="string" id="5294985">`\A`</span><span class="op" id="5294989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5294992">case</span>&nbsp;<span class="ident" id="5294997">OpEndText</span><span class="op" id="5295006">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295010">if</span>&nbsp;<span class="ident" id="5295013">re</span><span class="op" id="5295015">.</span><span class="ident" id="5295016">Flags</span><span class="op" id="5295021">&amp;</span><span class="ident" id="5295022">WasDollar</span>&nbsp;<span class="op" id="5295032">!=</span>&nbsp;<span class="num" id="5295035">0</span>&nbsp;<span class="op" id="5295037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295042">b</span><span class="op" id="5295043">.</span><span class="ident" id="5295044">WriteString</span><span class="op" id="5295055">(</span><span class="string" id="5295056">`(?-m:$)`</span><span class="op" id="5295065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295069">}</span>&nbsp;<span class="keyword" id="5295071">else</span>&nbsp;<span class="op" id="5295076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295081">b</span><span class="op" id="5295082">.</span><span class="ident" id="5295083">WriteString</span><span class="op" id="5295094">(</span><span class="string" id="5295095">`\z`</span><span class="op" id="5295099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295103">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295106">case</span>&nbsp;<span class="ident" id="5295111">OpWordBoundary</span><span class="op" id="5295125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295129">b</span><span class="op" id="5295130">.</span><span class="ident" id="5295131">WriteString</span><span class="op" id="5295142">(</span><span class="string" id="5295143">`\b`</span><span class="op" id="5295147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295150">case</span>&nbsp;<span class="ident" id="5295155">OpNoWordBoundary</span><span class="op" id="5295171">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295175">b</span><span class="op" id="5295176">.</span><span class="ident" id="5295177">WriteString</span><span class="op" id="5295188">(</span><span class="string" id="5295189">`\B`</span><span class="op" id="5295193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295196">case</span>&nbsp;<span class="ident" id="5295201">OpCapture</span><span class="op" id="5295210">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295214">if</span>&nbsp;<span class="ident" id="5295217">re</span><span class="op" id="5295219">.</span><span class="ident" id="5295220">Name</span>&nbsp;<span class="op" id="5295225">!=</span>&nbsp;<span class="string" id="5295228">&#34;&#34;</span>&nbsp;<span class="op" id="5295231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295236">b</span><span class="op" id="5295237">.</span><span class="ident" id="5295238">WriteString</span><span class="op" id="5295249">(</span><span class="string" id="5295250">`(?P&lt;`</span><span class="op" id="5295256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295261">b</span><span class="op" id="5295262">.</span><span class="ident" id="5295263">WriteString</span><span class="op" id="5295274">(</span><span class="ident" id="5295275">re</span><span class="op" id="5295277">.</span><span class="ident" id="5295278">Name</span><span class="op" id="5295282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295287">b</span><span class="op" id="5295288">.</span><span class="ident" id="5295289">WriteRune</span><span class="op" id="5295298">(</span><span class="string" id="5295299">&#39;&gt;&#39;</span><span class="op" id="5295302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295306">}</span>&nbsp;<span class="keyword" id="5295308">else</span>&nbsp;<span class="op" id="5295313">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295318">b</span><span class="op" id="5295319">.</span><span class="ident" id="5295320">WriteRune</span><span class="op" id="5295329">(</span><span class="string" id="5295330">&#39;(&#39;</span><span class="op" id="5295333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295341">if</span>&nbsp;<span class="ident" id="5295344">re</span><span class="op" id="5295346">.</span><span class="ident" id="5295347">Sub</span><span class="op" id="5295350">[</span><span class="num" id="5295351">0</span><span class="op" id="5295352">]</span><span class="op" id="5295353">.</span><span class="ident" id="5295354">Op</span>&nbsp;<span class="op" id="5295357">!=</span>&nbsp;<span class="ident" id="5295360">OpEmptyMatch</span>&nbsp;<span class="op" id="5295373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295378">writeRegexp</span><span class="op" id="5295389">(</span><span class="ident" id="5295390">b</span><span class="op" id="5295391">,</span>&nbsp;<span class="ident" id="5295393">re</span><span class="op" id="5295395">.</span><span class="ident" id="5295396">Sub</span><span class="op" id="5295399">[</span><span class="num" id="5295400">0</span><span class="op" id="5295401">]</span><span class="op" id="5295402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295406">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295410">b</span><span class="op" id="5295411">.</span><span class="ident" id="5295412">WriteRune</span><span class="op" id="5295421">(</span><span class="string" id="5295422">&#39;)&#39;</span><span class="op" id="5295425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295428">case</span>&nbsp;<span class="ident" id="5295433">OpStar</span><span class="op" id="5295439">,</span>&nbsp;<span class="ident" id="5295441">OpPlus</span><span class="op" id="5295447">,</span>&nbsp;<span class="ident" id="5295449">OpQuest</span><span class="op" id="5295456">,</span>&nbsp;<span class="ident" id="5295458">OpRepeat</span><span class="op" id="5295466">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295470">if</span>&nbsp;<span class="ident" id="5295473">sub</span>&nbsp;<span class="op" id="5295477">:=</span>&nbsp;<span class="ident" id="5295480">re</span><span class="op" id="5295482">.</span><span class="ident" id="5295483">Sub</span><span class="op" id="5295486">[</span><span class="num" id="5295487">0</span><span class="op" id="5295488">]</span><span class="op" id="5295489">;</span>&nbsp;<span class="ident" id="5295491">sub</span><span class="op" id="5295494">.</span><span class="ident" id="5295495">Op</span>&nbsp;<span class="op" id="5295498">&gt;</span>&nbsp;<span class="ident" id="5295500">OpCapture</span>&nbsp;<span class="op" id="5295510">||</span>&nbsp;<span class="ident" id="5295513">sub</span><span class="op" id="5295516">.</span><span class="ident" id="5295517">Op</span>&nbsp;<span class="op" id="5295520">==</span>&nbsp;<span class="ident" id="5295523">OpLiteral</span>&nbsp;<span class="op" id="5295533">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5295536">len</span><span class="op" id="5295539">(</span><span class="ident" id="5295540">sub</span><span class="op" id="5295543">.</span><span class="ident" id="5295544">Rune</span><span class="op" id="5295548">)</span>&nbsp;<span class="op" id="5295550">&gt;</span>&nbsp;<span class="num" id="5295552">1</span>&nbsp;<span class="op" id="5295554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295559">b</span><span class="op" id="5295560">.</span><span class="ident" id="5295561">WriteString</span><span class="op" id="5295572">(</span><span class="string" id="5295573">`(?:`</span><span class="op" id="5295578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295583">writeRegexp</span><span class="op" id="5295594">(</span><span class="ident" id="5295595">b</span><span class="op" id="5295596">,</span>&nbsp;<span class="ident" id="5295598">sub</span><span class="op" id="5295601">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295606">b</span><span class="op" id="5295607">.</span><span class="ident" id="5295608">WriteString</span><span class="op" id="5295619">(</span><span class="string" id="5295620">`)`</span><span class="op" id="5295623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295627">}</span>&nbsp;<span class="keyword" id="5295629">else</span>&nbsp;<span class="op" id="5295634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295639">writeRegexp</span><span class="op" id="5295650">(</span><span class="ident" id="5295651">b</span><span class="op" id="5295652">,</span>&nbsp;<span class="ident" id="5295654">sub</span><span class="op" id="5295657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295665">switch</span>&nbsp;<span class="ident" id="5295672">re</span><span class="op" id="5295674">.</span><span class="ident" id="5295675">Op</span>&nbsp;<span class="op" id="5295678">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295682">case</span>&nbsp;<span class="ident" id="5295687">OpStar</span><span class="op" id="5295693">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295698">b</span><span class="op" id="5295699">.</span><span class="ident" id="5295700">WriteRune</span><span class="op" id="5295709">(</span><span class="string" id="5295710">&#39;*&#39;</span><span class="op" id="5295713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295717">case</span>&nbsp;<span class="ident" id="5295722">OpPlus</span><span class="op" id="5295728">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295733">b</span><span class="op" id="5295734">.</span><span class="ident" id="5295735">WriteRune</span><span class="op" id="5295744">(</span><span class="string" id="5295745">&#39;+&#39;</span><span class="op" id="5295748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295752">case</span>&nbsp;<span class="ident" id="5295757">OpQuest</span><span class="op" id="5295764">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295769">b</span><span class="op" id="5295770">.</span><span class="ident" id="5295771">WriteRune</span><span class="op" id="5295780">(</span><span class="string" id="5295781">&#39;?&#39;</span><span class="op" id="5295784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295788">case</span>&nbsp;<span class="ident" id="5295793">OpRepeat</span><span class="op" id="5295801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295806">b</span><span class="op" id="5295807">.</span><span class="ident" id="5295808">WriteRune</span><span class="op" id="5295817">(</span><span class="string" id="5295818">&#39;{&#39;</span><span class="op" id="5295821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295826">b</span><span class="op" id="5295827">.</span><span class="ident" id="5295828">WriteString</span><span class="op" id="5295839">(</span><span class="ident" id="5295840">strconv</span><span class="op" id="5295847">.</span><span class="ident" id="5295848">Itoa</span><span class="op" id="5295852">(</span><span class="ident" id="5295853">re</span><span class="op" id="5295855">.</span><span class="ident" id="5295856">Min</span><span class="op" id="5295859">)</span><span class="op" id="5295860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295865">if</span>&nbsp;<span class="ident" id="5295868">re</span><span class="op" id="5295870">.</span><span class="ident" id="5295871">Max</span>&nbsp;<span class="op" id="5295875">!=</span>&nbsp;<span class="ident" id="5295878">re</span><span class="op" id="5295880">.</span><span class="ident" id="5295881">Min</span>&nbsp;<span class="op" id="5295885">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295891">b</span><span class="op" id="5295892">.</span><span class="ident" id="5295893">WriteRune</span><span class="op" id="5295902">(</span><span class="string" id="5295903">&#39;,&#39;</span><span class="op" id="5295906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5295912">if</span>&nbsp;<span class="ident" id="5295915">re</span><span class="op" id="5295917">.</span><span class="ident" id="5295918">Max</span>&nbsp;<span class="op" id="5295922">&gt;=</span>&nbsp;<span class="num" id="5295925">0</span>&nbsp;<span class="op" id="5295927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295934">b</span><span class="op" id="5295935">.</span><span class="ident" id="5295936">WriteString</span><span class="op" id="5295947">(</span><span class="ident" id="5295948">strconv</span><span class="op" id="5295955">.</span><span class="ident" id="5295956">Itoa</span><span class="op" id="5295960">(</span><span class="ident" id="5295961">re</span><span class="op" id="5295963">.</span><span class="ident" id="5295964">Max</span><span class="op" id="5295967">)</span><span class="op" id="5295968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5295979">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5295984">b</span><span class="op" id="5295985">.</span><span class="ident" id="5295986">WriteRune</span><span class="op" id="5295995">(</span><span class="string" id="5295996">&#39;}&#39;</span><span class="op" id="5295999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296007">if</span>&nbsp;<span class="ident" id="5296010">re</span><span class="op" id="5296012">.</span><span class="ident" id="5296013">Flags</span><span class="op" id="5296018">&amp;</span><span class="ident" id="5296019">NonGreedy</span>&nbsp;<span class="op" id="5296029">!=</span>&nbsp;<span class="num" id="5296032">0</span>&nbsp;<span class="op" id="5296034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296039">b</span><span class="op" id="5296040">.</span><span class="ident" id="5296041">WriteRune</span><span class="op" id="5296050">(</span><span class="string" id="5296051">&#39;?&#39;</span><span class="op" id="5296054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296058">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296061">case</span>&nbsp;<span class="ident" id="5296066">OpConcat</span><span class="op" id="5296074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296078">for</span>&nbsp;<span class="ident" id="5296082">_</span><span class="op" id="5296083">,</span>&nbsp;<span class="ident" id="5296085">sub</span>&nbsp;<span class="op" id="5296089">:=</span>&nbsp;<span class="keyword" id="5296092">range</span>&nbsp;<span class="ident" id="5296098">re</span><span class="op" id="5296100">.</span><span class="ident" id="5296101">Sub</span>&nbsp;<span class="op" id="5296105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296110">if</span>&nbsp;<span class="ident" id="5296113">sub</span><span class="op" id="5296116">.</span><span class="ident" id="5296117">Op</span>&nbsp;<span class="op" id="5296120">==</span>&nbsp;<span class="ident" id="5296123">OpAlternate</span>&nbsp;<span class="op" id="5296135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296141">b</span><span class="op" id="5296142">.</span><span class="ident" id="5296143">WriteString</span><span class="op" id="5296154">(</span><span class="string" id="5296155">`(?:`</span><span class="op" id="5296160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296166">writeRegexp</span><span class="op" id="5296177">(</span><span class="ident" id="5296178">b</span><span class="op" id="5296179">,</span>&nbsp;<span class="ident" id="5296181">sub</span><span class="op" id="5296184">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296190">b</span><span class="op" id="5296191">.</span><span class="ident" id="5296192">WriteString</span><span class="op" id="5296203">(</span><span class="string" id="5296204">`)`</span><span class="op" id="5296207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296212">}</span>&nbsp;<span class="keyword" id="5296214">else</span>&nbsp;<span class="op" id="5296219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296225">writeRegexp</span><span class="op" id="5296236">(</span><span class="ident" id="5296237">b</span><span class="op" id="5296238">,</span>&nbsp;<span class="ident" id="5296240">sub</span><span class="op" id="5296243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296252">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296255">case</span>&nbsp;<span class="ident" id="5296260">OpAlternate</span><span class="op" id="5296271">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296275">for</span>&nbsp;<span class="ident" id="5296279">i</span><span class="op" id="5296280">,</span>&nbsp;<span class="ident" id="5296282">sub</span>&nbsp;<span class="op" id="5296286">:=</span>&nbsp;<span class="keyword" id="5296289">range</span>&nbsp;<span class="ident" id="5296295">re</span><span class="op" id="5296297">.</span><span class="ident" id="5296298">Sub</span>&nbsp;<span class="op" id="5296302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296307">if</span>&nbsp;<span class="ident" id="5296310">i</span>&nbsp;<span class="op" id="5296312">&gt;</span>&nbsp;<span class="num" id="5296314">0</span>&nbsp;<span class="op" id="5296316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296322">b</span><span class="op" id="5296323">.</span><span class="ident" id="5296324">WriteRune</span><span class="op" id="5296333">(</span><span class="string" id="5296334">&#39;|&#39;</span><span class="op" id="5296337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296342">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296347">writeRegexp</span><span class="op" id="5296358">(</span><span class="ident" id="5296359">b</span><span class="op" id="5296360">,</span>&nbsp;<span class="ident" id="5296362">sub</span><span class="op" id="5296365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296372">}</span><br>
<span class="lineno"></span><span class="op" id="5296374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5296377">func</span>&nbsp;<span class="op" id="5296382">(</span><span class="ident" id="5296383">re</span>&nbsp;<span class="op" id="5296386">*</span><span class="ident" id="5296387">Regexp</span><span class="op" id="5296393">)</span>&nbsp;<span class="ident" id="5296395">String</span><span class="op" id="5296401">(</span><span class="op" id="5296402">)</span>&nbsp;<span class="builtintype" id="5296404">string</span>&nbsp;<span class="op" id="5296411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296414">var</span>&nbsp;<span class="ident" id="5296418">b</span>&nbsp;<span class="ident" id="5296420">bytes</span><span class="op" id="5296425">.</span><span class="ident" id="5296426">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296434">writeRegexp</span><span class="op" id="5296445">(</span><span class="op" id="5296446">&amp;</span><span class="ident" id="5296447">b</span><span class="op" id="5296448">,</span>&nbsp;<span class="ident" id="5296450">re</span><span class="op" id="5296452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296455">return</span>&nbsp;<span class="ident" id="5296462">b</span><span class="op" id="5296463">.</span><span class="ident" id="5296464">String</span><span class="op" id="5296470">(</span><span class="op" id="5296471">)</span><br>
<span class="lineno"></span><span class="op" id="5296473">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5296476">const</span>&nbsp;<span class="ident" id="5296482">meta</span>&nbsp;<span class="op" id="5296487">=</span>&nbsp;<span class="string" id="5296489">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5296507">func</span>&nbsp;<span class="ident" id="5296512">escape</span><span class="op" id="5296518">(</span><span class="ident" id="5296519">b</span>&nbsp;<span class="op" id="5296521">*</span><span class="ident" id="5296522">bytes</span><span class="op" id="5296527">.</span><span class="ident" id="5296528">Buffer</span><span class="op" id="5296534">,</span>&nbsp;<span class="ident" id="5296536">r</span>&nbsp;<span class="builtintype" id="5296538">rune</span><span class="op" id="5296542">,</span>&nbsp;<span class="ident" id="5296544">force</span>&nbsp;<span class="builtintype" id="5296550">bool</span><span class="op" id="5296554">)</span>&nbsp;<span class="op" id="5296556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296559">if</span>&nbsp;<span class="ident" id="5296562">unicode</span><span class="op" id="5296569">.</span><span class="ident" id="5296570">IsPrint</span><span class="op" id="5296577">(</span><span class="ident" id="5296578">r</span><span class="op" id="5296579">)</span>&nbsp;<span class="op" id="5296581">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296585">if</span>&nbsp;<span class="ident" id="5296588">strings</span><span class="op" id="5296595">.</span><span class="ident" id="5296596">IndexRune</span><span class="op" id="5296605">(</span><span class="ident" id="5296606">meta</span><span class="op" id="5296610">,</span>&nbsp;<span class="ident" id="5296612">r</span><span class="op" id="5296613">)</span>&nbsp;<span class="op" id="5296615">&gt;=</span>&nbsp;<span class="num" id="5296618">0</span>&nbsp;<span class="op" id="5296620">||</span>&nbsp;<span class="ident" id="5296623">force</span>&nbsp;<span class="op" id="5296629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296634">b</span><span class="op" id="5296635">.</span><span class="ident" id="5296636">WriteRune</span><span class="op" id="5296645">(</span><span class="string" id="5296646">&#39;\\&#39;</span><span class="op" id="5296650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296658">b</span><span class="op" id="5296659">.</span><span class="ident" id="5296660">WriteRune</span><span class="op" id="5296669">(</span><span class="ident" id="5296670">r</span><span class="op" id="5296671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296675">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5296683">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296687">switch</span>&nbsp;<span class="ident" id="5296694">r</span>&nbsp;<span class="op" id="5296696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296699">case</span>&nbsp;<span class="string" id="5296704">&#39;\a&#39;</span><span class="op" id="5296708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296712">b</span><span class="op" id="5296713">.</span><span class="ident" id="5296714">WriteString</span><span class="op" id="5296725">(</span><span class="string" id="5296726">`\a`</span><span class="op" id="5296730">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296733">case</span>&nbsp;<span class="string" id="5296738">&#39;\f&#39;</span><span class="op" id="5296742">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296746">b</span><span class="op" id="5296747">.</span><span class="ident" id="5296748">WriteString</span><span class="op" id="5296759">(</span><span class="string" id="5296760">`\f`</span><span class="op" id="5296764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296767">case</span>&nbsp;<span class="string" id="5296772">&#39;\n&#39;</span><span class="op" id="5296776">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296780">b</span><span class="op" id="5296781">.</span><span class="ident" id="5296782">WriteString</span><span class="op" id="5296793">(</span><span class="string" id="5296794">`\n`</span><span class="op" id="5296798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296801">case</span>&nbsp;<span class="string" id="5296806">&#39;\r&#39;</span><span class="op" id="5296810">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296814">b</span><span class="op" id="5296815">.</span><span class="ident" id="5296816">WriteString</span><span class="op" id="5296827">(</span><span class="string" id="5296828">`\r`</span><span class="op" id="5296832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296835">case</span>&nbsp;<span class="string" id="5296840">&#39;\t&#39;</span><span class="op" id="5296844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296848">b</span><span class="op" id="5296849">.</span><span class="ident" id="5296850">WriteString</span><span class="op" id="5296861">(</span><span class="string" id="5296862">`\t`</span><span class="op" id="5296866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296869">case</span>&nbsp;<span class="string" id="5296874">&#39;\v&#39;</span><span class="op" id="5296878">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296882">b</span><span class="op" id="5296883">.</span><span class="ident" id="5296884">WriteString</span><span class="op" id="5296895">(</span><span class="string" id="5296896">`\v`</span><span class="op" id="5296900">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296903">default</span><span class="op" id="5296910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296914">if</span>&nbsp;<span class="ident" id="5296917">r</span>&nbsp;<span class="op" id="5296919">&lt;</span>&nbsp;<span class="num" id="5296921">0x100</span>&nbsp;<span class="op" id="5296927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296932">b</span><span class="op" id="5296933">.</span><span class="ident" id="5296934">WriteString</span><span class="op" id="5296945">(</span><span class="string" id="5296946">`\x`</span><span class="op" id="5296950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5296955">s</span>&nbsp;<span class="op" id="5296957">:=</span>&nbsp;<span class="ident" id="5296960">strconv</span><span class="op" id="5296967">.</span><span class="ident" id="5296968">FormatInt</span><span class="op" id="5296977">(</span><span class="ident" id="5296978">int64</span><span class="op" id="5296983">(</span><span class="ident" id="5296984">r</span><span class="op" id="5296985">)</span><span class="op" id="5296986">,</span>&nbsp;<span class="num" id="5296988">16</span><span class="op" id="5296990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5296995">if</span>&nbsp;<span class="builtinfunc" id="5296998">len</span><span class="op" id="5297001">(</span><span class="ident" id="5297002">s</span><span class="op" id="5297003">)</span>&nbsp;<span class="op" id="5297005">==</span>&nbsp;<span class="num" id="5297008">1</span>&nbsp;<span class="op" id="5297010">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297016">b</span><span class="op" id="5297017">.</span><span class="ident" id="5297018">WriteRune</span><span class="op" id="5297027">(</span><span class="string" id="5297028">&#39;0&#39;</span><span class="op" id="5297031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297041">b</span><span class="op" id="5297042">.</span><span class="ident" id="5297043">WriteString</span><span class="op" id="5297054">(</span><span class="ident" id="5297055">s</span><span class="op" id="5297056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297061">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297069">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297073">b</span><span class="op" id="5297074">.</span><span class="ident" id="5297075">WriteString</span><span class="op" id="5297086">(</span><span class="string" id="5297087">`\x{`</span><span class="op" id="5297092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297096">b</span><span class="op" id="5297097">.</span><span class="ident" id="5297098">WriteString</span><span class="op" id="5297109">(</span><span class="ident" id="5297110">strconv</span><span class="op" id="5297117">.</span><span class="ident" id="5297118">FormatInt</span><span class="op" id="5297127">(</span><span class="ident" id="5297128">int64</span><span class="op" id="5297133">(</span><span class="ident" id="5297134">r</span><span class="op" id="5297135">)</span><span class="op" id="5297136">,</span>&nbsp;<span class="num" id="5297138">16</span><span class="op" id="5297140">)</span><span class="op" id="5297141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297145">b</span><span class="op" id="5297146">.</span><span class="ident" id="5297147">WriteString</span><span class="op" id="5297158">(</span><span class="string" id="5297159">`}`</span><span class="op" id="5297162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297165">}</span><br>
<span class="lineno"></span><span class="op" id="5297167">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5297170">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5297232">func</span>&nbsp;<span class="op" id="5297237">(</span><span class="ident" id="5297238">re</span>&nbsp;<span class="op" id="5297241">*</span><span class="ident" id="5297242">Regexp</span><span class="op" id="5297248">)</span>&nbsp;<span class="ident" id="5297250">MaxCap</span><span class="op" id="5297256">(</span><span class="op" id="5297257">)</span>&nbsp;<span class="builtintype" id="5297259">int</span>&nbsp;<span class="op" id="5297263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297266">m</span>&nbsp;<span class="op" id="5297268">:=</span>&nbsp;<span class="num" id="5297271">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297274">if</span>&nbsp;<span class="ident" id="5297277">re</span><span class="op" id="5297279">.</span><span class="ident" id="5297280">Op</span>&nbsp;<span class="op" id="5297283">==</span>&nbsp;<span class="ident" id="5297286">OpCapture</span>&nbsp;<span class="op" id="5297296">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297300">m</span>&nbsp;<span class="op" id="5297302">=</span>&nbsp;<span class="ident" id="5297304">re</span><span class="op" id="5297306">.</span><span class="ident" id="5297307">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297315">for</span>&nbsp;<span class="ident" id="5297319">_</span><span class="op" id="5297320">,</span>&nbsp;<span class="ident" id="5297322">sub</span>&nbsp;<span class="op" id="5297326">:=</span>&nbsp;<span class="keyword" id="5297329">range</span>&nbsp;<span class="ident" id="5297335">re</span><span class="op" id="5297337">.</span><span class="ident" id="5297338">Sub</span>&nbsp;<span class="op" id="5297342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297346">if</span>&nbsp;<span class="ident" id="5297349">n</span>&nbsp;<span class="op" id="5297351">:=</span>&nbsp;<span class="ident" id="5297354">sub</span><span class="op" id="5297357">.</span><span class="ident" id="5297358">MaxCap</span><span class="op" id="5297364">(</span><span class="op" id="5297365">)</span><span class="op" id="5297366">;</span>&nbsp;<span class="ident" id="5297368">m</span>&nbsp;<span class="op" id="5297370">&lt;</span>&nbsp;<span class="ident" id="5297372">n</span>&nbsp;<span class="op" id="5297374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297379">m</span>&nbsp;<span class="op" id="5297381">=</span>&nbsp;<span class="ident" id="5297383">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297393">return</span>&nbsp;<span class="ident" id="5297400">m</span><br>
<span class="lineno"></span><span class="op" id="5297402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5297405">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5297473">func</span>&nbsp;<span class="op" id="5297478">(</span><span class="ident" id="5297479">re</span>&nbsp;<span class="op" id="5297482">*</span><span class="ident" id="5297483">Regexp</span><span class="op" id="5297489">)</span>&nbsp;<span class="ident" id="5297491">CapNames</span><span class="op" id="5297499">(</span><span class="op" id="5297500">)</span>&nbsp;<span class="op" id="5297502">[</span><span class="op" id="5297503">]</span><span class="builtintype" id="5297504">string</span>&nbsp;<span class="op" id="5297511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297514">names</span>&nbsp;<span class="op" id="5297520">:=</span>&nbsp;<span class="builtinfunc" id="5297523">make</span><span class="op" id="5297527">(</span><span class="op" id="5297528">[</span><span class="op" id="5297529">]</span><span class="builtintype" id="5297530">string</span><span class="op" id="5297536">,</span>&nbsp;<span class="ident" id="5297538">re</span><span class="op" id="5297540">.</span><span class="ident" id="5297541">MaxCap</span><span class="op" id="5297547">(</span><span class="op" id="5297548">)</span><span class="op" id="5297549">+</span><span class="num" id="5297550">1</span><span class="op" id="5297551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297554">re</span><span class="op" id="5297556">.</span><span class="ident" id="5297557">capNames</span><span class="op" id="5297565">(</span><span class="ident" id="5297566">names</span><span class="op" id="5297571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297574">return</span>&nbsp;<span class="ident" id="5297581">names</span><br>
<span class="lineno">310</span><span class="op" id="5297587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5297590">func</span>&nbsp;<span class="op" id="5297595">(</span><span class="ident" id="5297596">re</span>&nbsp;<span class="op" id="5297599">*</span><span class="ident" id="5297600">Regexp</span><span class="op" id="5297606">)</span>&nbsp;<span class="ident" id="5297608">capNames</span><span class="op" id="5297616">(</span><span class="ident" id="5297617">names</span>&nbsp;<span class="op" id="5297623">[</span><span class="op" id="5297624">]</span><span class="builtintype" id="5297625">string</span><span class="op" id="5297631">)</span>&nbsp;<span class="op" id="5297633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297636">if</span>&nbsp;<span class="ident" id="5297639">re</span><span class="op" id="5297641">.</span><span class="ident" id="5297642">Op</span>&nbsp;<span class="op" id="5297645">==</span>&nbsp;<span class="ident" id="5297648">OpCapture</span>&nbsp;<span class="op" id="5297658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297662">names</span><span class="op" id="5297667">[</span><span class="ident" id="5297668">re</span><span class="op" id="5297670">.</span><span class="ident" id="5297671">Cap</span><span class="op" id="5297674">]</span>&nbsp;<span class="op" id="5297676">=</span>&nbsp;<span class="ident" id="5297678">re</span><span class="op" id="5297680">.</span><span class="ident" id="5297681">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5297690">for</span>&nbsp;<span class="ident" id="5297694">_</span><span class="op" id="5297695">,</span>&nbsp;<span class="ident" id="5297697">sub</span>&nbsp;<span class="op" id="5297701">:=</span>&nbsp;<span class="keyword" id="5297704">range</span>&nbsp;<span class="ident" id="5297710">re</span><span class="op" id="5297712">.</span><span class="ident" id="5297713">Sub</span>&nbsp;<span class="op" id="5297717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5297721">sub</span><span class="op" id="5297724">.</span><span class="ident" id="5297725">capNames</span><span class="op" id="5297733">(</span><span class="ident" id="5297734">names</span><span class="op" id="5297739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5297742">}</span><br>
<span class="lineno"></span><span class="op" id="5297744">}</span>
</div>
</body>
</html>
