<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>crypto/cipher</h2>
<ul>
<li><a href="/gostd/crypto/cipher/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc.go.html">cbc.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc_aes_test.go.html">cbc_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb.go.html">cfb.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb_test.go.html">cfb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher.go.html">cipher.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher_test.go.html">cipher_test.go</a></li>
<li><a href="/gostd/crypto/cipher/common_test.go.html">common_test.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr.go.html">ctr.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr_aes_test.go.html">ctr_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm.go.html">gcm.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm_test.go.html">gcm_test.go</a></li>
<li><a href="/gostd/crypto/cipher/io.go.html">io.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb.go.html">ofb.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb_test.go.html">ofb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/xor.go.html">xor.go</a></li>
<li><a href="/gostd/crypto/cipher/xor_test.go.html">xor_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7098757">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7098812">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7098866">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7098917">package</span>&nbsp;<span class="ident" id="7098925">cipher</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7098933">import</span>&nbsp;<span class="op" id="7098940">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7098943">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7098952">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7098962">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7098965">func</span>&nbsp;<span class="ident" id="7098970">TestXOR</span><span class="op" id="7098977">(</span><span class="ident" id="7098978">t</span>&nbsp;<span class="op" id="7098980">*</span><span class="ident" id="7098981">testing</span><span class="op" id="7098988">.</span><span class="ident" id="7098989">T</span><span class="op" id="7098990">)</span>&nbsp;<span class="op" id="7098992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7098995">for</span>&nbsp;<span class="ident" id="7098999">alignP</span>&nbsp;<span class="op" id="7099006">:=</span>&nbsp;<span class="num" id="7099009">0</span><span class="op" id="7099010">;</span>&nbsp;<span class="ident" id="7099012">alignP</span>&nbsp;<span class="op" id="7099019">&lt;</span>&nbsp;<span class="num" id="7099021">2</span><span class="op" id="7099022">;</span>&nbsp;<span class="ident" id="7099024">alignP</span><span class="op" id="7099030">++</span>&nbsp;<span class="op" id="7099033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099037">for</span>&nbsp;<span class="ident" id="7099041">alignQ</span>&nbsp;<span class="op" id="7099048">:=</span>&nbsp;<span class="num" id="7099051">0</span><span class="op" id="7099052">;</span>&nbsp;<span class="ident" id="7099054">alignQ</span>&nbsp;<span class="op" id="7099061">&lt;</span>&nbsp;<span class="num" id="7099063">2</span><span class="op" id="7099064">;</span>&nbsp;<span class="ident" id="7099066">alignQ</span><span class="op" id="7099072">++</span>&nbsp;<span class="op" id="7099075">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099080">for</span>&nbsp;<span class="ident" id="7099084">alignD</span>&nbsp;<span class="op" id="7099091">:=</span>&nbsp;<span class="num" id="7099094">0</span><span class="op" id="7099095">;</span>&nbsp;<span class="ident" id="7099097">alignD</span>&nbsp;<span class="op" id="7099104">&lt;</span>&nbsp;<span class="num" id="7099106">2</span><span class="op" id="7099107">;</span>&nbsp;<span class="ident" id="7099109">alignD</span><span class="op" id="7099115">++</span>&nbsp;<span class="op" id="7099118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099124">p</span>&nbsp;<span class="op" id="7099126">:=</span>&nbsp;<span class="builtinfunc" id="7099129">make</span><span class="op" id="7099133">(</span><span class="op" id="7099134">[</span><span class="op" id="7099135">]</span><span class="builtintype" id="7099136">byte</span><span class="op" id="7099140">,</span>&nbsp;<span class="num" id="7099142">1024</span><span class="op" id="7099146">)</span><span class="op" id="7099147">[</span><span class="ident" id="7099148">alignP</span><span class="op" id="7099154">:</span><span class="op" id="7099155">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099161">q</span>&nbsp;<span class="op" id="7099163">:=</span>&nbsp;<span class="builtinfunc" id="7099166">make</span><span class="op" id="7099170">(</span><span class="op" id="7099171">[</span><span class="op" id="7099172">]</span><span class="builtintype" id="7099173">byte</span><span class="op" id="7099177">,</span>&nbsp;<span class="num" id="7099179">1024</span><span class="op" id="7099183">)</span><span class="op" id="7099184">[</span><span class="ident" id="7099185">alignQ</span><span class="op" id="7099191">:</span><span class="op" id="7099192">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099198">d1</span>&nbsp;<span class="op" id="7099201">:=</span>&nbsp;<span class="builtinfunc" id="7099204">make</span><span class="op" id="7099208">(</span><span class="op" id="7099209">[</span><span class="op" id="7099210">]</span><span class="builtintype" id="7099211">byte</span><span class="op" id="7099215">,</span>&nbsp;<span class="num" id="7099217">1024</span><span class="op" id="7099221">+</span><span class="ident" id="7099222">alignD</span><span class="op" id="7099228">)</span><span class="op" id="7099229">[</span><span class="ident" id="7099230">alignD</span><span class="op" id="7099236">:</span><span class="op" id="7099237">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099243">d2</span>&nbsp;<span class="op" id="7099246">:=</span>&nbsp;<span class="builtinfunc" id="7099249">make</span><span class="op" id="7099253">(</span><span class="op" id="7099254">[</span><span class="op" id="7099255">]</span><span class="builtintype" id="7099256">byte</span><span class="op" id="7099260">,</span>&nbsp;<span class="num" id="7099262">1024</span><span class="op" id="7099266">+</span><span class="ident" id="7099267">alignD</span><span class="op" id="7099273">)</span><span class="op" id="7099274">[</span><span class="ident" id="7099275">alignD</span><span class="op" id="7099281">:</span><span class="op" id="7099282">]</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099288">xorBytes</span><span class="op" id="7099296">(</span><span class="ident" id="7099297">d1</span><span class="op" id="7099299">,</span>&nbsp;<span class="ident" id="7099301">p</span><span class="op" id="7099302">,</span>&nbsp;<span class="ident" id="7099304">q</span><span class="op" id="7099305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099311">safeXORBytes</span><span class="op" id="7099323">(</span><span class="ident" id="7099324">d2</span><span class="op" id="7099326">,</span>&nbsp;<span class="ident" id="7099328">p</span><span class="op" id="7099329">,</span>&nbsp;<span class="ident" id="7099331">q</span><span class="op" id="7099332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7099338">if</span>&nbsp;<span class="ident" id="7099341">bytes</span><span class="op" id="7099346">.</span><span class="ident" id="7099347">Compare</span><span class="op" id="7099354">(</span><span class="ident" id="7099355">d1</span><span class="op" id="7099357">,</span>&nbsp;<span class="ident" id="7099359">d2</span><span class="op" id="7099361">)</span>&nbsp;<span class="op" id="7099363">!=</span>&nbsp;<span class="num" id="7099366">0</span>&nbsp;<span class="op" id="7099368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7099375">t</span><span class="op" id="7099376">.</span><span class="ident" id="7099377">Error</span><span class="op" id="7099382">(</span><span class="string" id="7099383">&#34;not&nbsp;equal&#34;</span><span class="op" id="7099394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099400">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7099412">}</span><br>
<span class="lineno"></span><span class="op" id="7099414">}</span>
</div>
</body>
</html>
