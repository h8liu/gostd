<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html" class="current">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8363007">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8363063">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8363117">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8363168">package</span>&nbsp;<span class="ident" id="8363176">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8363184">import</span>&nbsp;<span class="op" id="8363191">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8363194">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8363205">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8363222">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8363232">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8363235">var</span>&nbsp;<span class="ident" id="8363239">runeMergeTests</span>&nbsp;<span class="op" id="8363254">=</span>&nbsp;<span class="op" id="8363256">[</span><span class="op" id="8363257">]</span><span class="keyword" id="8363258">struct</span>&nbsp;<span class="op" id="8363265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363268">left</span><span class="op" id="8363272">,</span>&nbsp;<span class="ident" id="8363274">right</span><span class="op" id="8363279">,</span>&nbsp;<span class="ident" id="8363281">merged</span>&nbsp;<span class="op" id="8363288">[</span><span class="op" id="8363289">]</span><span class="builtintype" id="8363290">rune</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363296">next</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363316">[</span><span class="op" id="8363317">]</span><span class="builtintype" id="8363318">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8363326">leftPC</span><span class="op" id="8363332">,</span>&nbsp;<span class="ident" id="8363334">rightPC</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8363346">uint32</span><br>
<span class="lineno"></span><span class="op" id="8363353">}</span><span class="op" id="8363354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363361">//&nbsp;empty&nbsp;rhs</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363376">[</span><span class="op" id="8363377">]</span><span class="builtintype" id="8363378">rune</span><span class="op" id="8363382">{</span><span class="num" id="8363383">69</span><span class="op" id="8363385">,</span>&nbsp;<span class="num" id="8363387">69</span><span class="op" id="8363389">}</span><span class="op" id="8363390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363394">[</span><span class="op" id="8363395">]</span><span class="builtintype" id="8363396">rune</span><span class="op" id="8363400">{</span><span class="op" id="8363401">}</span><span class="op" id="8363402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363406">[</span><span class="op" id="8363407">]</span><span class="builtintype" id="8363408">rune</span><span class="op" id="8363412">{</span><span class="num" id="8363413">69</span><span class="op" id="8363415">,</span>&nbsp;<span class="num" id="8363417">69</span><span class="op" id="8363419">}</span><span class="op" id="8363420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363424">[</span><span class="op" id="8363425">]</span><span class="builtintype" id="8363426">uint32</span><span class="op" id="8363432">{</span><span class="num" id="8363433">1</span><span class="op" id="8363434">}</span><span class="op" id="8363435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8363439">1</span><span class="op" id="8363440">,</span>&nbsp;<span class="num" id="8363442">2</span><span class="op" id="8363443">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363446">}</span><span class="op" id="8363447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363454">//&nbsp;identical&nbsp;runes,&nbsp;identical&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363494">[</span><span class="op" id="8363495">]</span><span class="builtintype" id="8363496">rune</span><span class="op" id="8363500">{</span><span class="num" id="8363501">69</span><span class="op" id="8363503">,</span>&nbsp;<span class="num" id="8363505">69</span><span class="op" id="8363507">}</span><span class="op" id="8363508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363512">[</span><span class="op" id="8363513">]</span><span class="builtintype" id="8363514">rune</span><span class="op" id="8363518">{</span><span class="num" id="8363519">69</span><span class="op" id="8363521">,</span>&nbsp;<span class="num" id="8363523">69</span><span class="op" id="8363525">}</span><span class="op" id="8363526">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363530">[</span><span class="op" id="8363531">]</span><span class="builtintype" id="8363532">rune</span><span class="op" id="8363536">{</span><span class="op" id="8363537">}</span><span class="op" id="8363538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363542">[</span><span class="op" id="8363543">]</span><span class="builtintype" id="8363544">uint32</span><span class="op" id="8363550">{</span><span class="ident" id="8363551">mergeFailed</span><span class="op" id="8363562">}</span><span class="op" id="8363563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8363567">1</span><span class="op" id="8363568">,</span>&nbsp;<span class="num" id="8363570">1</span><span class="op" id="8363571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363574">}</span><span class="op" id="8363575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363578">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363582">//&nbsp;identical&nbsp;runes,&nbsp;different&nbsp;targets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363622">[</span><span class="op" id="8363623">]</span><span class="builtintype" id="8363624">rune</span><span class="op" id="8363628">{</span><span class="num" id="8363629">69</span><span class="op" id="8363631">,</span>&nbsp;<span class="num" id="8363633">69</span><span class="op" id="8363635">}</span><span class="op" id="8363636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363640">[</span><span class="op" id="8363641">]</span><span class="builtintype" id="8363642">rune</span><span class="op" id="8363646">{</span><span class="num" id="8363647">69</span><span class="op" id="8363649">,</span>&nbsp;<span class="num" id="8363651">69</span><span class="op" id="8363653">}</span><span class="op" id="8363654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363658">[</span><span class="op" id="8363659">]</span><span class="builtintype" id="8363660">rune</span><span class="op" id="8363664">{</span><span class="op" id="8363665">}</span><span class="op" id="8363666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363670">[</span><span class="op" id="8363671">]</span><span class="builtintype" id="8363672">uint32</span><span class="op" id="8363678">{</span><span class="ident" id="8363679">mergeFailed</span><span class="op" id="8363690">}</span><span class="op" id="8363691">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8363695">1</span><span class="op" id="8363696">,</span>&nbsp;<span class="num" id="8363698">2</span><span class="op" id="8363699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363702">}</span><span class="op" id="8363703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363710">//&nbsp;append&nbsp;right-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363734">[</span><span class="op" id="8363735">]</span><span class="builtintype" id="8363736">rune</span><span class="op" id="8363740">{</span><span class="num" id="8363741">69</span><span class="op" id="8363743">,</span>&nbsp;<span class="num" id="8363745">69</span><span class="op" id="8363747">}</span><span class="op" id="8363748">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363752">[</span><span class="op" id="8363753">]</span><span class="builtintype" id="8363754">rune</span><span class="op" id="8363758">{</span><span class="num" id="8363759">71</span><span class="op" id="8363761">,</span>&nbsp;<span class="num" id="8363763">71</span><span class="op" id="8363765">}</span><span class="op" id="8363766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363770">[</span><span class="op" id="8363771">]</span><span class="builtintype" id="8363772">rune</span><span class="op" id="8363776">{</span><span class="num" id="8363777">69</span><span class="op" id="8363779">,</span>&nbsp;<span class="num" id="8363781">69</span><span class="op" id="8363783">,</span>&nbsp;<span class="num" id="8363785">71</span><span class="op" id="8363787">,</span>&nbsp;<span class="num" id="8363789">71</span><span class="op" id="8363791">}</span><span class="op" id="8363792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363796">[</span><span class="op" id="8363797">]</span><span class="builtintype" id="8363798">uint32</span><span class="op" id="8363804">{</span><span class="num" id="8363805">1</span><span class="op" id="8363806">,</span>&nbsp;<span class="num" id="8363808">2</span><span class="op" id="8363809">}</span><span class="op" id="8363810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8363814">1</span><span class="op" id="8363815">,</span>&nbsp;<span class="num" id="8363817">2</span><span class="op" id="8363818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363821">}</span><span class="op" id="8363822">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363829">//&nbsp;append,&nbsp;left-first</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363853">[</span><span class="op" id="8363854">]</span><span class="builtintype" id="8363855">rune</span><span class="op" id="8363859">{</span><span class="num" id="8363860">71</span><span class="op" id="8363862">,</span>&nbsp;<span class="num" id="8363864">71</span><span class="op" id="8363866">}</span><span class="op" id="8363867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363871">[</span><span class="op" id="8363872">]</span><span class="builtintype" id="8363873">rune</span><span class="op" id="8363877">{</span><span class="num" id="8363878">69</span><span class="op" id="8363880">,</span>&nbsp;<span class="num" id="8363882">69</span><span class="op" id="8363884">}</span><span class="op" id="8363885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363889">[</span><span class="op" id="8363890">]</span><span class="builtintype" id="8363891">rune</span><span class="op" id="8363895">{</span><span class="num" id="8363896">69</span><span class="op" id="8363898">,</span>&nbsp;<span class="num" id="8363900">69</span><span class="op" id="8363902">,</span>&nbsp;<span class="num" id="8363904">71</span><span class="op" id="8363906">,</span>&nbsp;<span class="num" id="8363908">71</span><span class="op" id="8363910">}</span><span class="op" id="8363911">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363915">[</span><span class="op" id="8363916">]</span><span class="builtintype" id="8363917">uint32</span><span class="op" id="8363923">{</span><span class="num" id="8363924">2</span><span class="op" id="8363925">,</span>&nbsp;<span class="num" id="8363927">1</span><span class="op" id="8363928">}</span><span class="op" id="8363929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8363933">1</span><span class="op" id="8363934">,</span>&nbsp;<span class="num" id="8363936">2</span><span class="op" id="8363937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363940">}</span><span class="op" id="8363941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8363948">//&nbsp;successful&nbsp;interleave</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8363975">[</span><span class="op" id="8363976">]</span><span class="builtintype" id="8363977">rune</span><span class="op" id="8363981">{</span><span class="num" id="8363982">60</span><span class="op" id="8363984">,</span>&nbsp;<span class="num" id="8363986">60</span><span class="op" id="8363988">,</span>&nbsp;<span class="num" id="8363990">71</span><span class="op" id="8363992">,</span>&nbsp;<span class="num" id="8363994">71</span><span class="op" id="8363996">,</span>&nbsp;<span class="num" id="8363998">101</span><span class="op" id="8364001">,</span>&nbsp;<span class="num" id="8364003">101</span><span class="op" id="8364006">}</span><span class="op" id="8364007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364011">[</span><span class="op" id="8364012">]</span><span class="builtintype" id="8364013">rune</span><span class="op" id="8364017">{</span><span class="num" id="8364018">69</span><span class="op" id="8364020">,</span>&nbsp;<span class="num" id="8364022">69</span><span class="op" id="8364024">,</span>&nbsp;<span class="num" id="8364026">88</span><span class="op" id="8364028">,</span>&nbsp;<span class="num" id="8364030">88</span><span class="op" id="8364032">}</span><span class="op" id="8364033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364037">[</span><span class="op" id="8364038">]</span><span class="builtintype" id="8364039">rune</span><span class="op" id="8364043">{</span><span class="num" id="8364044">60</span><span class="op" id="8364046">,</span>&nbsp;<span class="num" id="8364048">60</span><span class="op" id="8364050">,</span>&nbsp;<span class="num" id="8364052">69</span><span class="op" id="8364054">,</span>&nbsp;<span class="num" id="8364056">69</span><span class="op" id="8364058">,</span>&nbsp;<span class="num" id="8364060">71</span><span class="op" id="8364062">,</span>&nbsp;<span class="num" id="8364064">71</span><span class="op" id="8364066">,</span>&nbsp;<span class="num" id="8364068">88</span><span class="op" id="8364070">,</span>&nbsp;<span class="num" id="8364072">88</span><span class="op" id="8364074">,</span>&nbsp;<span class="num" id="8364076">101</span><span class="op" id="8364079">,</span>&nbsp;<span class="num" id="8364081">101</span><span class="op" id="8364084">}</span><span class="op" id="8364085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364089">[</span><span class="op" id="8364090">]</span><span class="builtintype" id="8364091">uint32</span><span class="op" id="8364097">{</span><span class="num" id="8364098">1</span><span class="op" id="8364099">,</span>&nbsp;<span class="num" id="8364101">2</span><span class="op" id="8364102">,</span>&nbsp;<span class="num" id="8364104">1</span><span class="op" id="8364105">,</span>&nbsp;<span class="num" id="8364107">2</span><span class="op" id="8364108">,</span>&nbsp;<span class="num" id="8364110">1</span><span class="op" id="8364111">}</span><span class="op" id="8364112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364116">1</span><span class="op" id="8364117">,</span>&nbsp;<span class="num" id="8364119">2</span><span class="op" id="8364120">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364123">}</span><span class="op" id="8364124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364131">//&nbsp;left&nbsp;surrounds&nbsp;right</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364157">[</span><span class="op" id="8364158">]</span><span class="builtintype" id="8364159">rune</span><span class="op" id="8364163">{</span><span class="num" id="8364164">69</span><span class="op" id="8364166">,</span>&nbsp;<span class="num" id="8364168">74</span><span class="op" id="8364170">}</span><span class="op" id="8364171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364175">[</span><span class="op" id="8364176">]</span><span class="builtintype" id="8364177">rune</span><span class="op" id="8364181">{</span><span class="num" id="8364182">71</span><span class="op" id="8364184">,</span>&nbsp;<span class="num" id="8364186">71</span><span class="op" id="8364188">}</span><span class="op" id="8364189">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364193">[</span><span class="op" id="8364194">]</span><span class="builtintype" id="8364195">rune</span><span class="op" id="8364199">{</span><span class="op" id="8364200">}</span><span class="op" id="8364201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364205">[</span><span class="op" id="8364206">]</span><span class="builtintype" id="8364207">uint32</span><span class="op" id="8364213">{</span><span class="ident" id="8364214">mergeFailed</span><span class="op" id="8364225">}</span><span class="op" id="8364226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364230">1</span><span class="op" id="8364231">,</span>&nbsp;<span class="num" id="8364233">2</span><span class="op" id="8364234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364237">}</span><span class="op" id="8364238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364241">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364245">//&nbsp;right&nbsp;surrounds&nbsp;left</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364271">[</span><span class="op" id="8364272">]</span><span class="builtintype" id="8364273">rune</span><span class="op" id="8364277">{</span><span class="num" id="8364278">69</span><span class="op" id="8364280">,</span>&nbsp;<span class="num" id="8364282">74</span><span class="op" id="8364284">}</span><span class="op" id="8364285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364289">[</span><span class="op" id="8364290">]</span><span class="builtintype" id="8364291">rune</span><span class="op" id="8364295">{</span><span class="num" id="8364296">68</span><span class="op" id="8364298">,</span>&nbsp;<span class="num" id="8364300">75</span><span class="op" id="8364302">}</span><span class="op" id="8364303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364307">[</span><span class="op" id="8364308">]</span><span class="builtintype" id="8364309">rune</span><span class="op" id="8364313">{</span><span class="op" id="8364314">}</span><span class="op" id="8364315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364319">[</span><span class="op" id="8364320">]</span><span class="builtintype" id="8364321">uint32</span><span class="op" id="8364327">{</span><span class="ident" id="8364328">mergeFailed</span><span class="op" id="8364339">}</span><span class="op" id="8364340">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364344">1</span><span class="op" id="8364345">,</span>&nbsp;<span class="num" id="8364347">2</span><span class="op" id="8364348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364351">}</span><span class="op" id="8364352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364359">//&nbsp;overlap&nbsp;at&nbsp;interval&nbsp;begin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364390">[</span><span class="op" id="8364391">]</span><span class="builtintype" id="8364392">rune</span><span class="op" id="8364396">{</span><span class="num" id="8364397">69</span><span class="op" id="8364399">,</span>&nbsp;<span class="num" id="8364401">74</span><span class="op" id="8364403">}</span><span class="op" id="8364404">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364408">[</span><span class="op" id="8364409">]</span><span class="builtintype" id="8364410">rune</span><span class="op" id="8364414">{</span><span class="num" id="8364415">74</span><span class="op" id="8364417">,</span>&nbsp;<span class="num" id="8364419">75</span><span class="op" id="8364421">}</span><span class="op" id="8364422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364426">[</span><span class="op" id="8364427">]</span><span class="builtintype" id="8364428">rune</span><span class="op" id="8364432">{</span><span class="op" id="8364433">}</span><span class="op" id="8364434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364438">[</span><span class="op" id="8364439">]</span><span class="builtintype" id="8364440">uint32</span><span class="op" id="8364446">{</span><span class="ident" id="8364447">mergeFailed</span><span class="op" id="8364458">}</span><span class="op" id="8364459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364463">1</span><span class="op" id="8364464">,</span>&nbsp;<span class="num" id="8364466">2</span><span class="op" id="8364467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364470">}</span><span class="op" id="8364471">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364478">//&nbsp;overlap&nbsp;ar&nbsp;interval&nbsp;end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364507">[</span><span class="op" id="8364508">]</span><span class="builtintype" id="8364509">rune</span><span class="op" id="8364513">{</span><span class="num" id="8364514">69</span><span class="op" id="8364516">,</span>&nbsp;<span class="num" id="8364518">74</span><span class="op" id="8364520">}</span><span class="op" id="8364521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364525">[</span><span class="op" id="8364526">]</span><span class="builtintype" id="8364527">rune</span><span class="op" id="8364531">{</span><span class="num" id="8364532">65</span><span class="op" id="8364534">,</span>&nbsp;<span class="num" id="8364536">69</span><span class="op" id="8364538">}</span><span class="op" id="8364539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364543">[</span><span class="op" id="8364544">]</span><span class="builtintype" id="8364545">rune</span><span class="op" id="8364549">{</span><span class="op" id="8364550">}</span><span class="op" id="8364551">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364555">[</span><span class="op" id="8364556">]</span><span class="builtintype" id="8364557">uint32</span><span class="op" id="8364563">{</span><span class="ident" id="8364564">mergeFailed</span><span class="op" id="8364575">}</span><span class="op" id="8364576">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364580">1</span><span class="op" id="8364581">,</span>&nbsp;<span class="num" id="8364583">2</span><span class="op" id="8364584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364587">}</span><span class="op" id="8364588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364595">//&nbsp;overlap&nbsp;from&nbsp;above</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364619">[</span><span class="op" id="8364620">]</span><span class="builtintype" id="8364621">rune</span><span class="op" id="8364625">{</span><span class="num" id="8364626">69</span><span class="op" id="8364628">,</span>&nbsp;<span class="num" id="8364630">74</span><span class="op" id="8364632">}</span><span class="op" id="8364633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364637">[</span><span class="op" id="8364638">]</span><span class="builtintype" id="8364639">rune</span><span class="op" id="8364643">{</span><span class="num" id="8364644">71</span><span class="op" id="8364646">,</span>&nbsp;<span class="num" id="8364648">74</span><span class="op" id="8364650">}</span><span class="op" id="8364651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364655">[</span><span class="op" id="8364656">]</span><span class="builtintype" id="8364657">rune</span><span class="op" id="8364661">{</span><span class="op" id="8364662">}</span><span class="op" id="8364663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364667">[</span><span class="op" id="8364668">]</span><span class="builtintype" id="8364669">uint32</span><span class="op" id="8364675">{</span><span class="ident" id="8364676">mergeFailed</span><span class="op" id="8364687">}</span><span class="op" id="8364688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364692">1</span><span class="op" id="8364693">,</span>&nbsp;<span class="num" id="8364695">2</span><span class="op" id="8364696">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364699">}</span><span class="op" id="8364700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364707">//&nbsp;overlap&nbsp;from&nbsp;below</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364731">[</span><span class="op" id="8364732">]</span><span class="builtintype" id="8364733">rune</span><span class="op" id="8364737">{</span><span class="num" id="8364738">69</span><span class="op" id="8364740">,</span>&nbsp;<span class="num" id="8364742">74</span><span class="op" id="8364744">}</span><span class="op" id="8364745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364749">[</span><span class="op" id="8364750">]</span><span class="builtintype" id="8364751">rune</span><span class="op" id="8364755">{</span><span class="num" id="8364756">65</span><span class="op" id="8364758">,</span>&nbsp;<span class="num" id="8364760">71</span><span class="op" id="8364762">}</span><span class="op" id="8364763">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364767">[</span><span class="op" id="8364768">]</span><span class="builtintype" id="8364769">rune</span><span class="op" id="8364773">{</span><span class="op" id="8364774">}</span><span class="op" id="8364775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364779">[</span><span class="op" id="8364780">]</span><span class="builtintype" id="8364781">uint32</span><span class="op" id="8364787">{</span><span class="ident" id="8364788">mergeFailed</span><span class="op" id="8364799">}</span><span class="op" id="8364800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364804">1</span><span class="op" id="8364805">,</span>&nbsp;<span class="num" id="8364807">2</span><span class="op" id="8364808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364811">}</span><span class="op" id="8364812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364815">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8364819">//&nbsp;out&nbsp;of&nbsp;order&nbsp;[]rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364844">[</span><span class="op" id="8364845">]</span><span class="builtintype" id="8364846">rune</span><span class="op" id="8364850">{</span><span class="num" id="8364851">69</span><span class="op" id="8364853">,</span>&nbsp;<span class="num" id="8364855">74</span><span class="op" id="8364857">,</span>&nbsp;<span class="num" id="8364859">60</span><span class="op" id="8364861">,</span>&nbsp;<span class="num" id="8364863">65</span><span class="op" id="8364865">}</span><span class="op" id="8364866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364870">[</span><span class="op" id="8364871">]</span><span class="builtintype" id="8364872">rune</span><span class="op" id="8364876">{</span><span class="num" id="8364877">66</span><span class="op" id="8364879">,</span>&nbsp;<span class="num" id="8364881">67</span><span class="op" id="8364883">}</span><span class="op" id="8364884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364888">[</span><span class="op" id="8364889">]</span><span class="builtintype" id="8364890">rune</span><span class="op" id="8364894">{</span><span class="op" id="8364895">}</span><span class="op" id="8364896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364900">[</span><span class="op" id="8364901">]</span><span class="builtintype" id="8364902">uint32</span><span class="op" id="8364908">{</span><span class="ident" id="8364909">mergeFailed</span><span class="op" id="8364920">}</span><span class="op" id="8364921">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8364925">1</span><span class="op" id="8364926">,</span>&nbsp;<span class="num" id="8364928">2</span><span class="op" id="8364929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8364932">}</span><span class="op" id="8364933">,</span><br>
<span class="lineno"></span><span class="op" id="8364935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8364938">func</span>&nbsp;<span class="ident" id="8364943">TestMergeRuneSet</span><span class="op" id="8364959">(</span><span class="ident" id="8364960">t</span>&nbsp;<span class="op" id="8364962">*</span><span class="ident" id="8364963">testing</span><span class="op" id="8364970">.</span><span class="ident" id="8364971">T</span><span class="op" id="8364972">)</span>&nbsp;<span class="op" id="8364974">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8364977">for</span>&nbsp;<span class="ident" id="8364981">ix</span><span class="op" id="8364983">,</span>&nbsp;<span class="ident" id="8364985">test</span>&nbsp;<span class="op" id="8364990">:=</span>&nbsp;<span class="keyword" id="8364993">range</span>&nbsp;<span class="ident" id="8364999">runeMergeTests</span>&nbsp;<span class="op" id="8365014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8365018">merged</span><span class="op" id="8365024">,</span>&nbsp;<span class="ident" id="8365026">next</span>&nbsp;<span class="op" id="8365031">:=</span>&nbsp;<span class="ident" id="8365034">mergeRuneSets</span><span class="op" id="8365047">(</span><span class="op" id="8365048">&amp;</span><span class="ident" id="8365049">test</span><span class="op" id="8365053">.</span><span class="ident" id="8365054">left</span><span class="op" id="8365058">,</span>&nbsp;<span class="op" id="8365060">&amp;</span><span class="ident" id="8365061">test</span><span class="op" id="8365065">.</span><span class="ident" id="8365066">right</span><span class="op" id="8365071">,</span>&nbsp;<span class="ident" id="8365073">test</span><span class="op" id="8365077">.</span><span class="ident" id="8365078">leftPC</span><span class="op" id="8365084">,</span>&nbsp;<span class="ident" id="8365086">test</span><span class="op" id="8365090">.</span><span class="ident" id="8365091">rightPC</span><span class="op" id="8365098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8365102">if</span>&nbsp;<span class="op" id="8365105">!</span><span class="ident" id="8365106">reflect</span><span class="op" id="8365113">.</span><span class="ident" id="8365114">DeepEqual</span><span class="op" id="8365123">(</span><span class="ident" id="8365124">merged</span><span class="op" id="8365130">,</span>&nbsp;<span class="ident" id="8365132">test</span><span class="op" id="8365136">.</span><span class="ident" id="8365137">merged</span><span class="op" id="8365143">)</span>&nbsp;<span class="op" id="8365145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8365150">t</span><span class="op" id="8365151">.</span><span class="ident" id="8365152">Errorf</span><span class="op" id="8365158">(</span><span class="string" id="8365159">&#34;mergeRuneSet&nbsp;:%d&nbsp;(%v,&nbsp;%v)&nbsp;merged\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="8365214">,</span>&nbsp;<span class="ident" id="8365216">ix</span><span class="op" id="8365218">,</span>&nbsp;<span class="ident" id="8365220">test</span><span class="op" id="8365224">.</span><span class="ident" id="8365225">left</span><span class="op" id="8365229">,</span>&nbsp;<span class="ident" id="8365231">test</span><span class="op" id="8365235">.</span><span class="ident" id="8365236">right</span><span class="op" id="8365241">,</span>&nbsp;<span class="ident" id="8365243">merged</span><span class="op" id="8365249">,</span>&nbsp;<span class="ident" id="8365251">test</span><span class="op" id="8365255">.</span><span class="ident" id="8365256">merged</span><span class="op" id="8365262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365266">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8365270">if</span>&nbsp;<span class="op" id="8365273">!</span><span class="ident" id="8365274">reflect</span><span class="op" id="8365281">.</span><span class="ident" id="8365282">DeepEqual</span><span class="op" id="8365291">(</span><span class="ident" id="8365292">next</span><span class="op" id="8365296">,</span>&nbsp;<span class="ident" id="8365298">test</span><span class="op" id="8365302">.</span><span class="ident" id="8365303">next</span><span class="op" id="8365307">)</span>&nbsp;<span class="op" id="8365309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8365314">t</span><span class="op" id="8365315">.</span><span class="ident" id="8365316">Errorf</span><span class="op" id="8365322">(</span><span class="string" id="8365323">&#34;mergeRuneSet&nbsp;:%d(%v,&nbsp;%v)&nbsp;next\n&nbsp;have\n%v\nwant\n%v&#34;</span><span class="op" id="8365375">,</span>&nbsp;<span class="ident" id="8365377">ix</span><span class="op" id="8365379">,</span>&nbsp;<span class="ident" id="8365381">test</span><span class="op" id="8365385">.</span><span class="ident" id="8365386">left</span><span class="op" id="8365390">,</span>&nbsp;<span class="ident" id="8365392">test</span><span class="op" id="8365396">.</span><span class="ident" id="8365397">right</span><span class="op" id="8365402">,</span>&nbsp;<span class="ident" id="8365404">next</span><span class="op" id="8365408">,</span>&nbsp;<span class="ident" id="8365410">test</span><span class="op" id="8365414">.</span><span class="ident" id="8365415">next</span><span class="op" id="8365419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365426">}</span><br>
<span class="lineno"></span><span class="op" id="8365428">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="8365431">const</span>&nbsp;<span class="ident" id="8365437">noStr</span>&nbsp;<span class="op" id="8365443">=</span>&nbsp;<span class="string" id="8365445">`!`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8365450">var</span>&nbsp;<span class="ident" id="8365454">onePass</span>&nbsp;<span class="op" id="8365462">=</span>&nbsp;<span class="op" id="8365464">&amp;</span><span class="ident" id="8365465">onePassProg</span><span class="op" id="8365476">{</span><span class="op" id="8365477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8365480">var</span>&nbsp;<span class="ident" id="8365484">onePassTests</span>&nbsp;<span class="op" id="8365497">=</span>&nbsp;<span class="op" id="8365499">[</span><span class="op" id="8365500">]</span><span class="keyword" id="8365501">struct</span>&nbsp;<span class="op" id="8365508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8365511">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8365519">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8365527">onePass</span>&nbsp;<span class="op" id="8365535">*</span><span class="ident" id="8365536">onePassProg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8365549">prog</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8365557">string</span><br>
<span class="lineno"></span><span class="op" id="8365564">}</span><span class="op" id="8365565">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365568">{</span><span class="string" id="8365569">`^(?:a|(?:a*))$`</span><span class="op" id="8365585">,</span>&nbsp;<span class="ident" id="8365587">notOnePass</span><span class="op" id="8365597">,</span>&nbsp;<span class="ident" id="8365599">noStr</span><span class="op" id="8365604">}</span><span class="op" id="8365605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365608">{</span><span class="string" id="8365609">`^(?:(a)|(?:a*))$`</span><span class="op" id="8365627">,</span>&nbsp;<span class="ident" id="8365629">notOnePass</span><span class="op" id="8365639">,</span>&nbsp;<span class="ident" id="8365641">noStr</span><span class="op" id="8365646">}</span><span class="op" id="8365647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365650">{</span><span class="string" id="8365651">`^(?:(?:(?:.(?:$))?))$`</span><span class="op" id="8365674">,</span>&nbsp;<span class="ident" id="8365676">onePass</span><span class="op" id="8365683">,</span>&nbsp;<span class="string" id="8365685">`a`</span><span class="op" id="8365688">}</span><span class="op" id="8365689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365692">{</span><span class="string" id="8365693">`^abcd$`</span><span class="op" id="8365701">,</span>&nbsp;<span class="ident" id="8365703">onePass</span><span class="op" id="8365710">,</span>&nbsp;<span class="string" id="8365712">`abcd`</span><span class="op" id="8365718">}</span><span class="op" id="8365719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365722">{</span><span class="string" id="8365723">`^abcd$`</span><span class="op" id="8365731">,</span>&nbsp;<span class="ident" id="8365733">onePass</span><span class="op" id="8365740">,</span>&nbsp;<span class="string" id="8365742">`abcde`</span><span class="op" id="8365749">}</span><span class="op" id="8365750">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365753">{</span><span class="string" id="8365754">`^(?:(?:a{0,})*?)$`</span><span class="op" id="8365773">,</span>&nbsp;<span class="ident" id="8365775">onePass</span><span class="op" id="8365782">,</span>&nbsp;<span class="string" id="8365784">`a`</span><span class="op" id="8365787">}</span><span class="op" id="8365788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365791">{</span><span class="string" id="8365792">`^(?:(?:a+)*)$`</span><span class="op" id="8365807">,</span>&nbsp;<span class="ident" id="8365809">onePass</span><span class="op" id="8365816">,</span>&nbsp;<span class="string" id="8365818">``</span><span class="op" id="8365820">}</span><span class="op" id="8365821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365824">{</span><span class="string" id="8365825">`^(?:(?:a|(?:aa)))$`</span><span class="op" id="8365845">,</span>&nbsp;<span class="ident" id="8365847">onePass</span><span class="op" id="8365854">,</span>&nbsp;<span class="string" id="8365856">``</span><span class="op" id="8365858">}</span><span class="op" id="8365859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365862">{</span><span class="string" id="8365863">`^(?:[^\s\S])$`</span><span class="op" id="8365878">,</span>&nbsp;<span class="ident" id="8365880">onePass</span><span class="op" id="8365887">,</span>&nbsp;<span class="string" id="8365889">``</span><span class="op" id="8365891">}</span><span class="op" id="8365892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365895">{</span><span class="string" id="8365896">`^(?:(?:a{3,4}){0,})$`</span><span class="op" id="8365918">,</span>&nbsp;<span class="ident" id="8365920">notOnePass</span><span class="op" id="8365930">,</span>&nbsp;<span class="string" id="8365932">`aaaaaa`</span><span class="op" id="8365940">}</span><span class="op" id="8365941">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365944">{</span><span class="string" id="8365945">`^(?:(?:a+)*)$`</span><span class="op" id="8365960">,</span>&nbsp;<span class="ident" id="8365962">onePass</span><span class="op" id="8365969">,</span>&nbsp;<span class="string" id="8365971">`a`</span><span class="op" id="8365974">}</span><span class="op" id="8365975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8365978">{</span><span class="string" id="8365979">`^(?:(?:(?:a*)+))$`</span><span class="op" id="8365998">,</span>&nbsp;<span class="ident" id="8366000">onePass</span><span class="op" id="8366007">,</span>&nbsp;<span class="ident" id="8366009">noStr</span><span class="op" id="8366014">}</span><span class="op" id="8366015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366018">{</span><span class="string" id="8366019">`^(?:(?:a+)*)$`</span><span class="op" id="8366034">,</span>&nbsp;<span class="ident" id="8366036">onePass</span><span class="op" id="8366043">,</span>&nbsp;<span class="string" id="8366045">``</span><span class="op" id="8366047">}</span><span class="op" id="8366048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366051">{</span><span class="string" id="8366052">`^[a-c]+$`</span><span class="op" id="8366062">,</span>&nbsp;<span class="ident" id="8366064">onePass</span><span class="op" id="8366071">,</span>&nbsp;<span class="string" id="8366073">`abc`</span><span class="op" id="8366078">}</span><span class="op" id="8366079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366082">{</span><span class="string" id="8366083">`^[a-c]*$`</span><span class="op" id="8366093">,</span>&nbsp;<span class="ident" id="8366095">onePass</span><span class="op" id="8366102">,</span>&nbsp;<span class="string" id="8366104">`abcdabc`</span><span class="op" id="8366113">}</span><span class="op" id="8366114">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366117">{</span><span class="string" id="8366118">`^(?:a*)$`</span><span class="op" id="8366128">,</span>&nbsp;<span class="ident" id="8366130">onePass</span><span class="op" id="8366137">,</span>&nbsp;<span class="string" id="8366139">`aaaaaaa`</span><span class="op" id="8366148">}</span><span class="op" id="8366149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366152">{</span><span class="string" id="8366153">`^(?:(?:aa)|a)$`</span><span class="op" id="8366169">,</span>&nbsp;<span class="ident" id="8366171">onePass</span><span class="op" id="8366178">,</span>&nbsp;<span class="string" id="8366180">`a`</span><span class="op" id="8366183">}</span><span class="op" id="8366184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366187">{</span><span class="string" id="8366188">`^[a-c]*`</span><span class="op" id="8366197">,</span>&nbsp;<span class="ident" id="8366199">notOnePass</span><span class="op" id="8366209">,</span>&nbsp;<span class="string" id="8366211">`abcdabc`</span><span class="op" id="8366220">}</span><span class="op" id="8366221">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366224">{</span><span class="string" id="8366225">`^[a-c]*$`</span><span class="op" id="8366235">,</span>&nbsp;<span class="ident" id="8366237">onePass</span><span class="op" id="8366244">,</span>&nbsp;<span class="string" id="8366246">`abc`</span><span class="op" id="8366251">}</span><span class="op" id="8366252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366255">{</span><span class="string" id="8366256">`^...$`</span><span class="op" id="8366263">,</span>&nbsp;<span class="ident" id="8366265">onePass</span><span class="op" id="8366272">,</span>&nbsp;<span class="string" id="8366274">``</span><span class="op" id="8366276">}</span><span class="op" id="8366277">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366280">{</span><span class="string" id="8366281">`^(?:a|(?:aa))$`</span><span class="op" id="8366297">,</span>&nbsp;<span class="ident" id="8366299">onePass</span><span class="op" id="8366306">,</span>&nbsp;<span class="string" id="8366308">`a`</span><span class="op" id="8366311">}</span><span class="op" id="8366312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366315">{</span><span class="string" id="8366316">`^[a-c]*`</span><span class="op" id="8366325">,</span>&nbsp;<span class="ident" id="8366327">notOnePass</span><span class="op" id="8366337">,</span>&nbsp;<span class="string" id="8366339">`abcabc`</span><span class="op" id="8366347">}</span><span class="op" id="8366348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366351">{</span><span class="string" id="8366352">`^a((b))c$`</span><span class="op" id="8366363">,</span>&nbsp;<span class="ident" id="8366365">onePass</span><span class="op" id="8366372">,</span>&nbsp;<span class="ident" id="8366374">noStr</span><span class="op" id="8366379">}</span><span class="op" id="8366380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366383">{</span><span class="string" id="8366384">`^a.[l-nA-Cg-j]?e$`</span><span class="op" id="8366403">,</span>&nbsp;<span class="ident" id="8366405">onePass</span><span class="op" id="8366412">,</span>&nbsp;<span class="ident" id="8366414">noStr</span><span class="op" id="8366419">}</span><span class="op" id="8366420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366423">{</span><span class="string" id="8366424">`^a((b))$`</span><span class="op" id="8366434">,</span>&nbsp;<span class="ident" id="8366436">onePass</span><span class="op" id="8366443">,</span>&nbsp;<span class="ident" id="8366445">noStr</span><span class="op" id="8366450">}</span><span class="op" id="8366451">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366454">{</span><span class="string" id="8366455">`^a(?:(b)|(c))c$`</span><span class="op" id="8366472">,</span>&nbsp;<span class="ident" id="8366474">onePass</span><span class="op" id="8366481">,</span>&nbsp;<span class="ident" id="8366483">noStr</span><span class="op" id="8366488">}</span><span class="op" id="8366489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366492">{</span><span class="string" id="8366493">`^a(?:(b*)|(c))c$`</span><span class="op" id="8366511">,</span>&nbsp;<span class="ident" id="8366513">notOnePass</span><span class="op" id="8366523">,</span>&nbsp;<span class="ident" id="8366525">noStr</span><span class="op" id="8366530">}</span><span class="op" id="8366531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366534">{</span><span class="string" id="8366535">`^a(?:b|c)$`</span><span class="op" id="8366547">,</span>&nbsp;<span class="ident" id="8366549">onePass</span><span class="op" id="8366556">,</span>&nbsp;<span class="ident" id="8366558">noStr</span><span class="op" id="8366563">}</span><span class="op" id="8366564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366567">{</span><span class="string" id="8366568">`^a(?:b?|c)$`</span><span class="op" id="8366581">,</span>&nbsp;<span class="ident" id="8366583">onePass</span><span class="op" id="8366590">,</span>&nbsp;<span class="ident" id="8366592">noStr</span><span class="op" id="8366597">}</span><span class="op" id="8366598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366601">{</span><span class="string" id="8366602">`^a(?:b?|c?)$`</span><span class="op" id="8366616">,</span>&nbsp;<span class="ident" id="8366618">notOnePass</span><span class="op" id="8366628">,</span>&nbsp;<span class="ident" id="8366630">noStr</span><span class="op" id="8366635">}</span><span class="op" id="8366636">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366639">{</span><span class="string" id="8366640">`^a(?:b?|c+)$`</span><span class="op" id="8366654">,</span>&nbsp;<span class="ident" id="8366656">onePass</span><span class="op" id="8366663">,</span>&nbsp;<span class="ident" id="8366665">noStr</span><span class="op" id="8366670">}</span><span class="op" id="8366671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366674">{</span><span class="string" id="8366675">`^a(?:b+|(bc))d$`</span><span class="op" id="8366692">,</span>&nbsp;<span class="ident" id="8366694">notOnePass</span><span class="op" id="8366704">,</span>&nbsp;<span class="ident" id="8366706">noStr</span><span class="op" id="8366711">}</span><span class="op" id="8366712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366715">{</span><span class="string" id="8366716">`^a(?:bc)+$`</span><span class="op" id="8366728">,</span>&nbsp;<span class="ident" id="8366730">onePass</span><span class="op" id="8366737">,</span>&nbsp;<span class="ident" id="8366739">noStr</span><span class="op" id="8366744">}</span><span class="op" id="8366745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366748">{</span><span class="string" id="8366749">`^a(?:[bcd])+$`</span><span class="op" id="8366764">,</span>&nbsp;<span class="ident" id="8366766">onePass</span><span class="op" id="8366773">,</span>&nbsp;<span class="ident" id="8366775">noStr</span><span class="op" id="8366780">}</span><span class="op" id="8366781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366784">{</span><span class="string" id="8366785">`^a((?:[bcd])+)$`</span><span class="op" id="8366802">,</span>&nbsp;<span class="ident" id="8366804">onePass</span><span class="op" id="8366811">,</span>&nbsp;<span class="ident" id="8366813">noStr</span><span class="op" id="8366818">}</span><span class="op" id="8366819">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366822">{</span><span class="string" id="8366823">`^a(:?b|c)*d$`</span><span class="op" id="8366837">,</span>&nbsp;<span class="ident" id="8366839">onePass</span><span class="op" id="8366846">,</span>&nbsp;<span class="string" id="8366848">`abbbccbbcbbd&#34;`</span><span class="op" id="8366863">}</span><span class="op" id="8366864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366867">{</span><span class="string" id="8366868">`^.bc(d|e)*$`</span><span class="op" id="8366881">,</span>&nbsp;<span class="ident" id="8366883">onePass</span><span class="op" id="8366890">,</span>&nbsp;<span class="string" id="8366892">`abcddddddeeeededd`</span><span class="op" id="8366911">}</span><span class="op" id="8366912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366915">{</span><span class="string" id="8366916">`^(?:(?:aa)|.)$`</span><span class="op" id="8366932">,</span>&nbsp;<span class="ident" id="8366934">notOnePass</span><span class="op" id="8366944">,</span>&nbsp;<span class="string" id="8366946">`a`</span><span class="op" id="8366949">}</span><span class="op" id="8366950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8366953">{</span><span class="string" id="8366954">`^(?:(?:a{1,2}){1,2})$`</span><span class="op" id="8366977">,</span>&nbsp;<span class="ident" id="8366979">notOnePass</span><span class="op" id="8366989">,</span>&nbsp;<span class="string" id="8366991">`aaaa`</span><span class="op" id="8366997">}</span><span class="op" id="8366998">,</span><br>
<span class="lineno"></span><span class="op" id="8367000">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8367003">func</span>&nbsp;<span class="ident" id="8367008">TestCompileOnePass</span><span class="op" id="8367026">(</span><span class="ident" id="8367027">t</span>&nbsp;<span class="op" id="8367029">*</span><span class="ident" id="8367030">testing</span><span class="op" id="8367037">.</span><span class="ident" id="8367038">T</span><span class="op" id="8367039">)</span>&nbsp;<span class="op" id="8367041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367044">var</span>&nbsp;<span class="op" id="8367048">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367052">p</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8367056">*</span><span class="ident" id="8367057">syntax</span><span class="op" id="8367063">.</span><span class="ident" id="8367064">Prog</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367071">re</span>&nbsp;&nbsp;<span class="op" id="8367075">*</span><span class="ident" id="8367076">syntax</span><span class="op" id="8367082">.</span><span class="ident" id="8367083">Regexp</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367092">err</span>&nbsp;<span class="builtintype" id="8367096">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367106">for</span>&nbsp;<span class="ident" id="8367110">_</span><span class="op" id="8367111">,</span>&nbsp;<span class="ident" id="8367113">test</span>&nbsp;<span class="op" id="8367118">:=</span>&nbsp;<span class="keyword" id="8367121">range</span>&nbsp;<span class="ident" id="8367127">onePassTests</span>&nbsp;<span class="op" id="8367140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367144">if</span>&nbsp;<span class="ident" id="8367147">re</span><span class="op" id="8367149">,</span>&nbsp;<span class="ident" id="8367151">err</span>&nbsp;<span class="op" id="8367155">=</span>&nbsp;<span class="ident" id="8367157">syntax</span><span class="op" id="8367163">.</span><span class="ident" id="8367164">Parse</span><span class="op" id="8367169">(</span><span class="ident" id="8367170">test</span><span class="op" id="8367174">.</span><span class="ident" id="8367175">re</span><span class="op" id="8367177">,</span>&nbsp;<span class="ident" id="8367179">syntax</span><span class="op" id="8367185">.</span><span class="ident" id="8367186">Perl</span><span class="op" id="8367190">)</span><span class="op" id="8367191">;</span>&nbsp;<span class="ident" id="8367193">err</span>&nbsp;<span class="op" id="8367197">!=</span>&nbsp;<span class="ident" id="8367200">nil</span>&nbsp;<span class="op" id="8367204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367209">t</span><span class="op" id="8367210">.</span><span class="ident" id="8367211">Errorf</span><span class="op" id="8367217">(</span><span class="string" id="8367218">&#34;Parse(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="8367254">,</span>&nbsp;<span class="ident" id="8367256">test</span><span class="op" id="8367260">.</span><span class="ident" id="8367261">re</span><span class="op" id="8367263">,</span>&nbsp;<span class="ident" id="8367265">err</span><span class="op" id="8367268">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367273">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8367288">//&nbsp;needs&nbsp;to&nbsp;be&nbsp;done&nbsp;before&nbsp;compile...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367328">re</span>&nbsp;<span class="op" id="8367331">=</span>&nbsp;<span class="ident" id="8367333">re</span><span class="op" id="8367335">.</span><span class="ident" id="8367336">Simplify</span><span class="op" id="8367344">(</span><span class="op" id="8367345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367349">if</span>&nbsp;<span class="ident" id="8367352">p</span><span class="op" id="8367353">,</span>&nbsp;<span class="ident" id="8367355">err</span>&nbsp;<span class="op" id="8367359">=</span>&nbsp;<span class="ident" id="8367361">syntax</span><span class="op" id="8367367">.</span><span class="ident" id="8367368">Compile</span><span class="op" id="8367375">(</span><span class="ident" id="8367376">re</span><span class="op" id="8367378">)</span><span class="op" id="8367379">;</span>&nbsp;<span class="ident" id="8367381">err</span>&nbsp;<span class="op" id="8367385">!=</span>&nbsp;<span class="ident" id="8367388">nil</span>&nbsp;<span class="op" id="8367392">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367397">t</span><span class="op" id="8367398">.</span><span class="ident" id="8367399">Errorf</span><span class="op" id="8367405">(</span><span class="string" id="8367406">&#34;Compile(%q)&nbsp;got&nbsp;err:%s,&nbsp;want&nbsp;success&#34;</span><span class="op" id="8367444">,</span>&nbsp;<span class="ident" id="8367446">test</span><span class="op" id="8367450">.</span><span class="ident" id="8367451">re</span><span class="op" id="8367453">,</span>&nbsp;<span class="ident" id="8367455">err</span><span class="op" id="8367458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367463">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367478">onePass</span>&nbsp;<span class="op" id="8367486">=</span>&nbsp;<span class="ident" id="8367488">compileOnePass</span><span class="op" id="8367502">(</span><span class="ident" id="8367503">p</span><span class="op" id="8367504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8367508">if</span>&nbsp;<span class="op" id="8367511">(</span><span class="ident" id="8367512">onePass</span>&nbsp;<span class="op" id="8367520">==</span>&nbsp;<span class="ident" id="8367523">notOnePass</span><span class="op" id="8367533">)</span>&nbsp;<span class="op" id="8367535">!=</span>&nbsp;<span class="op" id="8367538">(</span><span class="ident" id="8367539">test</span><span class="op" id="8367543">.</span><span class="ident" id="8367544">onePass</span>&nbsp;<span class="op" id="8367552">==</span>&nbsp;<span class="ident" id="8367555">notOnePass</span><span class="op" id="8367565">)</span>&nbsp;<span class="op" id="8367567">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8367572">t</span><span class="op" id="8367573">.</span><span class="ident" id="8367574">Errorf</span><span class="op" id="8367580">(</span><span class="string" id="8367581">&#34;CompileOnePass(%q)&nbsp;got&nbsp;%v,&nbsp;expected&nbsp;%v&#34;</span><span class="op" id="8367621">,</span>&nbsp;<span class="ident" id="8367623">test</span><span class="op" id="8367627">.</span><span class="ident" id="8367628">re</span><span class="op" id="8367630">,</span>&nbsp;<span class="ident" id="8367632">onePass</span><span class="op" id="8367639">,</span>&nbsp;<span class="ident" id="8367641">test</span><span class="op" id="8367645">.</span><span class="ident" id="8367646">onePass</span><span class="op" id="8367653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8367660">}</span><br>
<span class="lineno"></span><span class="op" id="8367662">}</span>
</div>
</body>
</html>
