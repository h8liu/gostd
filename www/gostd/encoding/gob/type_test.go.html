<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7933356">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7933411">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7933465">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7933516">package</span>&nbsp;<span class="ident" id="7933524">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7933529">import</span>&nbsp;<span class="op" id="7933536">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7933539">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7933548">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7933559">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7933569">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7933572">type</span>&nbsp;<span class="ident" id="7933577">typeT</span>&nbsp;<span class="keyword" id="7933583">struct</span>&nbsp;<span class="op" id="7933590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7933593">id</span>&nbsp;&nbsp;<span class="ident" id="7933597">typeId</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7933605">str</span>&nbsp;<span class="builtintype" id="7933609">string</span><br>
<span class="lineno"></span><span class="op" id="7933616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7933619">var</span>&nbsp;<span class="ident" id="7933623">basicTypes</span>&nbsp;<span class="op" id="7933634">=</span>&nbsp;<span class="op" id="7933636">[</span><span class="op" id="7933637">]</span><span class="ident" id="7933638">typeT</span><span class="op" id="7933643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933646">{</span><span class="ident" id="7933647">tBool</span><span class="op" id="7933652">,</span>&nbsp;<span class="string" id="7933654">&#34;bool&#34;</span><span class="op" id="7933660">}</span><span class="op" id="7933661">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933664">{</span><span class="ident" id="7933665">tInt</span><span class="op" id="7933669">,</span>&nbsp;<span class="string" id="7933671">&#34;int&#34;</span><span class="op" id="7933676">}</span><span class="op" id="7933677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933680">{</span><span class="ident" id="7933681">tUint</span><span class="op" id="7933686">,</span>&nbsp;<span class="string" id="7933688">&#34;uint&#34;</span><span class="op" id="7933694">}</span><span class="op" id="7933695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933698">{</span><span class="ident" id="7933699">tFloat</span><span class="op" id="7933705">,</span>&nbsp;<span class="string" id="7933707">&#34;float&#34;</span><span class="op" id="7933714">}</span><span class="op" id="7933715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933718">{</span><span class="ident" id="7933719">tBytes</span><span class="op" id="7933725">,</span>&nbsp;<span class="string" id="7933727">&#34;bytes&#34;</span><span class="op" id="7933734">}</span><span class="op" id="7933735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933738">{</span><span class="ident" id="7933739">tString</span><span class="op" id="7933746">,</span>&nbsp;<span class="string" id="7933748">&#34;string&#34;</span><span class="op" id="7933756">}</span><span class="op" id="7933757">,</span><br>
<span class="lineno">25</span><span class="op" id="7933759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7933762">func</span>&nbsp;<span class="ident" id="7933767">getTypeUnlocked</span><span class="op" id="7933782">(</span><span class="ident" id="7933783">name</span>&nbsp;<span class="builtintype" id="7933788">string</span><span class="op" id="7933794">,</span>&nbsp;<span class="ident" id="7933796">rt</span>&nbsp;<span class="ident" id="7933799">reflect</span><span class="op" id="7933806">.</span><span class="ident" id="7933807">Type</span><span class="op" id="7933811">)</span>&nbsp;<span class="ident" id="7933813">gobType</span>&nbsp;<span class="op" id="7933821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7933824">typeLock</span><span class="op" id="7933832">.</span><span class="ident" id="7933833">Lock</span><span class="op" id="7933837">(</span><span class="op" id="7933838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7933841">defer</span>&nbsp;<span class="ident" id="7933847">typeLock</span><span class="op" id="7933855">.</span><span class="ident" id="7933856">Unlock</span><span class="op" id="7933862">(</span><span class="op" id="7933863">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7933866">t</span><span class="op" id="7933867">,</span>&nbsp;<span class="ident" id="7933869">err</span>&nbsp;<span class="op" id="7933873">:=</span>&nbsp;<span class="ident" id="7933876">getBaseType</span><span class="op" id="7933887">(</span><span class="ident" id="7933888">name</span><span class="op" id="7933892">,</span>&nbsp;<span class="ident" id="7933894">rt</span><span class="op" id="7933896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7933899">if</span>&nbsp;<span class="ident" id="7933902">err</span>&nbsp;<span class="op" id="7933906">!=</span>&nbsp;<span class="ident" id="7933909">nil</span>&nbsp;<span class="op" id="7933913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7933917">panic</span><span class="op" id="7933922">(</span><span class="string" id="7933923">&#34;getTypeUnlocked:&nbsp;&#34;</span>&nbsp;<span class="op" id="7933943">+</span>&nbsp;<span class="ident" id="7933945">err</span><span class="op" id="7933948">.</span><span class="ident" id="7933949">Error</span><span class="op" id="7933954">(</span><span class="op" id="7933955">)</span><span class="op" id="7933956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7933959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7933962">return</span>&nbsp;<span class="ident" id="7933969">t</span><br>
<span class="lineno">35</span><span class="op" id="7933971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7933974">//&nbsp;Sanity&nbsp;checks</span><br>
<span class="lineno"></span><span class="keyword" id="7933991">func</span>&nbsp;<span class="ident" id="7933996">TestBasic</span><span class="op" id="7934005">(</span><span class="ident" id="7934006">t</span>&nbsp;<span class="op" id="7934008">*</span><span class="ident" id="7934009">testing</span><span class="op" id="7934016">.</span><span class="ident" id="7934017">T</span><span class="op" id="7934018">)</span>&nbsp;<span class="op" id="7934020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934023">for</span>&nbsp;<span class="ident" id="7934027">_</span><span class="op" id="7934028">,</span>&nbsp;<span class="ident" id="7934030">tt</span>&nbsp;<span class="op" id="7934033">:=</span>&nbsp;<span class="keyword" id="7934036">range</span>&nbsp;<span class="ident" id="7934042">basicTypes</span>&nbsp;<span class="op" id="7934053">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934057">if</span>&nbsp;<span class="ident" id="7934060">tt</span><span class="op" id="7934062">.</span><span class="ident" id="7934063">id</span><span class="op" id="7934065">.</span><span class="builtintype" id="7934066">string</span><span class="op" id="7934072">(</span><span class="op" id="7934073">)</span>&nbsp;<span class="op" id="7934075">!=</span>&nbsp;<span class="ident" id="7934078">tt</span><span class="op" id="7934080">.</span><span class="ident" id="7934081">str</span>&nbsp;<span class="op" id="7934085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934090">t</span><span class="op" id="7934091">.</span><span class="ident" id="7934092">Errorf</span><span class="op" id="7934098">(</span><span class="string" id="7934099">&#34;checkType:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%s&#34;</span><span class="op" id="7934130">,</span>&nbsp;<span class="ident" id="7934132">tt</span><span class="op" id="7934134">.</span><span class="ident" id="7934135">str</span><span class="op" id="7934138">,</span>&nbsp;<span class="ident" id="7934140">tt</span><span class="op" id="7934142">.</span><span class="ident" id="7934143">id</span><span class="op" id="7934145">.</span><span class="builtintype" id="7934146">string</span><span class="op" id="7934152">(</span><span class="op" id="7934153">)</span><span class="op" id="7934154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934162">if</span>&nbsp;<span class="ident" id="7934165">tt</span><span class="op" id="7934167">.</span><span class="ident" id="7934168">id</span>&nbsp;<span class="op" id="7934171">==</span>&nbsp;<span class="num" id="7934174">0</span>&nbsp;<span class="op" id="7934176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934181">t</span><span class="op" id="7934182">.</span><span class="ident" id="7934183">Errorf</span><span class="op" id="7934189">(</span><span class="string" id="7934190">&#34;id&nbsp;for&nbsp;%q&nbsp;is&nbsp;zero&#34;</span><span class="op" id="7934209">,</span>&nbsp;<span class="ident" id="7934211">tt</span><span class="op" id="7934213">.</span><span class="ident" id="7934214">str</span><span class="op" id="7934217">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934224">}</span><br>
<span class="lineno"></span><span class="op" id="7934226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7934229">//&nbsp;Reregister&nbsp;some&nbsp;basic&nbsp;types&nbsp;to&nbsp;check&nbsp;registration&nbsp;is&nbsp;idempotent.</span><br>
<span class="lineno">50</span><span class="keyword" id="7934297">func</span>&nbsp;<span class="ident" id="7934302">TestReregistration</span><span class="op" id="7934320">(</span><span class="ident" id="7934321">t</span>&nbsp;<span class="op" id="7934323">*</span><span class="ident" id="7934324">testing</span><span class="op" id="7934331">.</span><span class="ident" id="7934332">T</span><span class="op" id="7934333">)</span>&nbsp;<span class="op" id="7934335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934338">newtyp</span>&nbsp;<span class="op" id="7934345">:=</span>&nbsp;<span class="ident" id="7934348">getTypeUnlocked</span><span class="op" id="7934363">(</span><span class="string" id="7934364">&#34;int&#34;</span><span class="op" id="7934369">,</span>&nbsp;<span class="ident" id="7934371">reflect</span><span class="op" id="7934378">.</span><span class="ident" id="7934379">TypeOf</span><span class="op" id="7934385">(</span><span class="builtintype" id="7934386">int</span><span class="op" id="7934389">(</span><span class="num" id="7934390">0</span><span class="op" id="7934391">)</span><span class="op" id="7934392">)</span><span class="op" id="7934393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934396">if</span>&nbsp;<span class="ident" id="7934399">newtyp</span>&nbsp;<span class="op" id="7934406">!=</span>&nbsp;<span class="ident" id="7934409">tInt</span><span class="op" id="7934413">.</span><span class="ident" id="7934414">gobType</span><span class="op" id="7934421">(</span><span class="op" id="7934422">)</span>&nbsp;<span class="op" id="7934424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934428">t</span><span class="op" id="7934429">.</span><span class="ident" id="7934430">Errorf</span><span class="op" id="7934436">(</span><span class="string" id="7934437">&#34;reregistration&nbsp;of&nbsp;%s&nbsp;got&nbsp;new&nbsp;type&#34;</span><span class="op" id="7934472">,</span>&nbsp;<span class="ident" id="7934474">newtyp</span><span class="op" id="7934480">.</span><span class="builtintype" id="7934481">string</span><span class="op" id="7934487">(</span><span class="op" id="7934488">)</span><span class="op" id="7934489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934492">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934495">newtyp</span>&nbsp;<span class="op" id="7934502">=</span>&nbsp;<span class="ident" id="7934504">getTypeUnlocked</span><span class="op" id="7934519">(</span><span class="string" id="7934520">&#34;uint&#34;</span><span class="op" id="7934526">,</span>&nbsp;<span class="ident" id="7934528">reflect</span><span class="op" id="7934535">.</span><span class="ident" id="7934536">TypeOf</span><span class="op" id="7934542">(</span><span class="builtintype" id="7934543">uint</span><span class="op" id="7934547">(</span><span class="num" id="7934548">0</span><span class="op" id="7934549">)</span><span class="op" id="7934550">)</span><span class="op" id="7934551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934554">if</span>&nbsp;<span class="ident" id="7934557">newtyp</span>&nbsp;<span class="op" id="7934564">!=</span>&nbsp;<span class="ident" id="7934567">tUint</span><span class="op" id="7934572">.</span><span class="ident" id="7934573">gobType</span><span class="op" id="7934580">(</span><span class="op" id="7934581">)</span>&nbsp;<span class="op" id="7934583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934587">t</span><span class="op" id="7934588">.</span><span class="ident" id="7934589">Errorf</span><span class="op" id="7934595">(</span><span class="string" id="7934596">&#34;reregistration&nbsp;of&nbsp;%s&nbsp;got&nbsp;new&nbsp;type&#34;</span><span class="op" id="7934631">,</span>&nbsp;<span class="ident" id="7934633">newtyp</span><span class="op" id="7934639">.</span><span class="builtintype" id="7934640">string</span><span class="op" id="7934646">(</span><span class="op" id="7934647">)</span><span class="op" id="7934648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934654">newtyp</span>&nbsp;<span class="op" id="7934661">=</span>&nbsp;<span class="ident" id="7934663">getTypeUnlocked</span><span class="op" id="7934678">(</span><span class="string" id="7934679">&#34;string&#34;</span><span class="op" id="7934687">,</span>&nbsp;<span class="ident" id="7934689">reflect</span><span class="op" id="7934696">.</span><span class="ident" id="7934697">TypeOf</span><span class="op" id="7934703">(</span><span class="string" id="7934704">&#34;hello&#34;</span><span class="op" id="7934711">)</span><span class="op" id="7934712">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934715">if</span>&nbsp;<span class="ident" id="7934718">newtyp</span>&nbsp;<span class="op" id="7934725">!=</span>&nbsp;<span class="ident" id="7934728">tString</span><span class="op" id="7934735">.</span><span class="ident" id="7934736">gobType</span><span class="op" id="7934743">(</span><span class="op" id="7934744">)</span>&nbsp;<span class="op" id="7934746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934750">t</span><span class="op" id="7934751">.</span><span class="ident" id="7934752">Errorf</span><span class="op" id="7934758">(</span><span class="string" id="7934759">&#34;reregistration&nbsp;of&nbsp;%s&nbsp;got&nbsp;new&nbsp;type&#34;</span><span class="op" id="7934794">,</span>&nbsp;<span class="ident" id="7934796">newtyp</span><span class="op" id="7934802">.</span><span class="builtintype" id="7934803">string</span><span class="op" id="7934809">(</span><span class="op" id="7934810">)</span><span class="op" id="7934811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7934814">}</span><br>
<span class="lineno"></span><span class="op" id="7934816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="7934819">func</span>&nbsp;<span class="ident" id="7934824">TestArrayType</span><span class="op" id="7934837">(</span><span class="ident" id="7934838">t</span>&nbsp;<span class="op" id="7934840">*</span><span class="ident" id="7934841">testing</span><span class="op" id="7934848">.</span><span class="ident" id="7934849">T</span><span class="op" id="7934850">)</span>&nbsp;<span class="op" id="7934852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934855">var</span>&nbsp;<span class="ident" id="7934859">a3</span>&nbsp;<span class="op" id="7934862">[</span><span class="num" id="7934863">3</span><span class="op" id="7934864">]</span><span class="builtintype" id="7934865">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934870">a3int</span>&nbsp;<span class="op" id="7934876">:=</span>&nbsp;<span class="ident" id="7934879">getTypeUnlocked</span><span class="op" id="7934894">(</span><span class="string" id="7934895">&#34;foo&#34;</span><span class="op" id="7934900">,</span>&nbsp;<span class="ident" id="7934902">reflect</span><span class="op" id="7934909">.</span><span class="ident" id="7934910">TypeOf</span><span class="op" id="7934916">(</span><span class="ident" id="7934917">a3</span><span class="op" id="7934919">)</span><span class="op" id="7934920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7934923">newa3int</span>&nbsp;<span class="op" id="7934932">:=</span>&nbsp;<span class="ident" id="7934935">getTypeUnlocked</span><span class="op" id="7934950">(</span><span class="string" id="7934951">&#34;bar&#34;</span><span class="op" id="7934956">,</span>&nbsp;<span class="ident" id="7934958">reflect</span><span class="op" id="7934965">.</span><span class="ident" id="7934966">TypeOf</span><span class="op" id="7934972">(</span><span class="ident" id="7934973">a3</span><span class="op" id="7934975">)</span><span class="op" id="7934976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7934979">if</span>&nbsp;<span class="ident" id="7934982">a3int</span>&nbsp;<span class="op" id="7934988">!=</span>&nbsp;<span class="ident" id="7934991">newa3int</span>&nbsp;<span class="op" id="7935000">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935004">t</span><span class="op" id="7935005">.</span><span class="ident" id="7935006">Errorf</span><span class="op" id="7935012">(</span><span class="string" id="7935013">&#34;second&nbsp;registration&nbsp;of&nbsp;[3]int&nbsp;creates&nbsp;new&nbsp;type&#34;</span><span class="op" id="7935061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935067">var</span>&nbsp;<span class="ident" id="7935071">a4</span>&nbsp;<span class="op" id="7935074">[</span><span class="num" id="7935075">4</span><span class="op" id="7935076">]</span><span class="builtintype" id="7935077">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935082">a4int</span>&nbsp;<span class="op" id="7935088">:=</span>&nbsp;<span class="ident" id="7935091">getTypeUnlocked</span><span class="op" id="7935106">(</span><span class="string" id="7935107">&#34;goo&#34;</span><span class="op" id="7935112">,</span>&nbsp;<span class="ident" id="7935114">reflect</span><span class="op" id="7935121">.</span><span class="ident" id="7935122">TypeOf</span><span class="op" id="7935128">(</span><span class="ident" id="7935129">a4</span><span class="op" id="7935131">)</span><span class="op" id="7935132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935135">if</span>&nbsp;<span class="ident" id="7935138">a3int</span>&nbsp;<span class="op" id="7935144">==</span>&nbsp;<span class="ident" id="7935147">a4int</span>&nbsp;<span class="op" id="7935153">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935157">t</span><span class="op" id="7935158">.</span><span class="ident" id="7935159">Errorf</span><span class="op" id="7935165">(</span><span class="string" id="7935166">&#34;registration&nbsp;of&nbsp;[3]int&nbsp;creates&nbsp;same&nbsp;type&nbsp;as&nbsp;[4]int&#34;</span><span class="op" id="7935218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935224">var</span>&nbsp;<span class="ident" id="7935228">b3</span>&nbsp;<span class="op" id="7935231">[</span><span class="num" id="7935232">3</span><span class="op" id="7935233">]</span><span class="builtintype" id="7935234">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935240">a3bool</span>&nbsp;<span class="op" id="7935247">:=</span>&nbsp;<span class="ident" id="7935250">getTypeUnlocked</span><span class="op" id="7935265">(</span><span class="string" id="7935266">&#34;&#34;</span><span class="op" id="7935268">,</span>&nbsp;<span class="ident" id="7935270">reflect</span><span class="op" id="7935277">.</span><span class="ident" id="7935278">TypeOf</span><span class="op" id="7935284">(</span><span class="ident" id="7935285">b3</span><span class="op" id="7935287">)</span><span class="op" id="7935288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935291">if</span>&nbsp;<span class="ident" id="7935294">a3int</span>&nbsp;<span class="op" id="7935300">==</span>&nbsp;<span class="ident" id="7935303">a3bool</span>&nbsp;<span class="op" id="7935310">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935314">t</span><span class="op" id="7935315">.</span><span class="ident" id="7935316">Errorf</span><span class="op" id="7935322">(</span><span class="string" id="7935323">&#34;registration&nbsp;of&nbsp;[3]bool&nbsp;creates&nbsp;same&nbsp;type&nbsp;as&nbsp;[3]int&#34;</span><span class="op" id="7935376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935382">str</span>&nbsp;<span class="op" id="7935386">:=</span>&nbsp;<span class="ident" id="7935389">a3bool</span><span class="op" id="7935395">.</span><span class="builtintype" id="7935396">string</span><span class="op" id="7935402">(</span><span class="op" id="7935403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935406">expected</span>&nbsp;<span class="op" id="7935415">:=</span>&nbsp;<span class="string" id="7935418">&#34;[3]bool&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935429">if</span>&nbsp;<span class="ident" id="7935432">str</span>&nbsp;<span class="op" id="7935436">!=</span>&nbsp;<span class="ident" id="7935439">expected</span>&nbsp;<span class="op" id="7935448">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935452">t</span><span class="op" id="7935453">.</span><span class="ident" id="7935454">Errorf</span><span class="op" id="7935460">(</span><span class="string" id="7935461">&#34;array&nbsp;printed&nbsp;as&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7935495">,</span>&nbsp;<span class="ident" id="7935497">str</span><span class="op" id="7935500">,</span>&nbsp;<span class="ident" id="7935502">expected</span><span class="op" id="7935510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935513">}</span><br>
<span class="lineno"></span><span class="op" id="7935515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7935518">func</span>&nbsp;<span class="ident" id="7935523">TestSliceType</span><span class="op" id="7935536">(</span><span class="ident" id="7935537">t</span>&nbsp;<span class="op" id="7935539">*</span><span class="ident" id="7935540">testing</span><span class="op" id="7935547">.</span><span class="ident" id="7935548">T</span><span class="op" id="7935549">)</span>&nbsp;<span class="op" id="7935551">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935554">var</span>&nbsp;<span class="ident" id="7935558">s</span>&nbsp;<span class="op" id="7935560">[</span><span class="op" id="7935561">]</span><span class="builtintype" id="7935562">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935567">sint</span>&nbsp;<span class="op" id="7935572">:=</span>&nbsp;<span class="ident" id="7935575">getTypeUnlocked</span><span class="op" id="7935590">(</span><span class="string" id="7935591">&#34;slice&#34;</span><span class="op" id="7935598">,</span>&nbsp;<span class="ident" id="7935600">reflect</span><span class="op" id="7935607">.</span><span class="ident" id="7935608">TypeOf</span><span class="op" id="7935614">(</span><span class="ident" id="7935615">s</span><span class="op" id="7935616">)</span><span class="op" id="7935617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935620">var</span>&nbsp;<span class="ident" id="7935624">news</span>&nbsp;<span class="op" id="7935629">[</span><span class="op" id="7935630">]</span><span class="builtintype" id="7935631">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935636">newsint</span>&nbsp;<span class="op" id="7935644">:=</span>&nbsp;<span class="ident" id="7935647">getTypeUnlocked</span><span class="op" id="7935662">(</span><span class="string" id="7935663">&#34;slice1&#34;</span><span class="op" id="7935671">,</span>&nbsp;<span class="ident" id="7935673">reflect</span><span class="op" id="7935680">.</span><span class="ident" id="7935681">TypeOf</span><span class="op" id="7935687">(</span><span class="ident" id="7935688">news</span><span class="op" id="7935692">)</span><span class="op" id="7935693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935696">if</span>&nbsp;<span class="ident" id="7935699">sint</span>&nbsp;<span class="op" id="7935704">!=</span>&nbsp;<span class="ident" id="7935707">newsint</span>&nbsp;<span class="op" id="7935715">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935719">t</span><span class="op" id="7935720">.</span><span class="ident" id="7935721">Errorf</span><span class="op" id="7935727">(</span><span class="string" id="7935728">&#34;second&nbsp;registration&nbsp;of&nbsp;[]int&nbsp;creates&nbsp;new&nbsp;type&#34;</span><span class="op" id="7935775">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935781">var</span>&nbsp;<span class="ident" id="7935785">b</span>&nbsp;<span class="op" id="7935787">[</span><span class="op" id="7935788">]</span><span class="builtintype" id="7935789">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935795">sbool</span>&nbsp;<span class="op" id="7935801">:=</span>&nbsp;<span class="ident" id="7935804">getTypeUnlocked</span><span class="op" id="7935819">(</span><span class="string" id="7935820">&#34;&#34;</span><span class="op" id="7935822">,</span>&nbsp;<span class="ident" id="7935824">reflect</span><span class="op" id="7935831">.</span><span class="ident" id="7935832">TypeOf</span><span class="op" id="7935838">(</span><span class="ident" id="7935839">b</span><span class="op" id="7935840">)</span><span class="op" id="7935841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935844">if</span>&nbsp;<span class="ident" id="7935847">sbool</span>&nbsp;<span class="op" id="7935853">==</span>&nbsp;<span class="ident" id="7935856">sint</span>&nbsp;<span class="op" id="7935861">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935865">t</span><span class="op" id="7935866">.</span><span class="ident" id="7935867">Errorf</span><span class="op" id="7935873">(</span><span class="string" id="7935874">&#34;registration&nbsp;of&nbsp;[]bool&nbsp;creates&nbsp;same&nbsp;type&nbsp;as&nbsp;[]int&#34;</span><span class="op" id="7935925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7935928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935931">str</span>&nbsp;<span class="op" id="7935935">:=</span>&nbsp;<span class="ident" id="7935938">sbool</span><span class="op" id="7935943">.</span><span class="builtintype" id="7935944">string</span><span class="op" id="7935950">(</span><span class="op" id="7935951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935954">expected</span>&nbsp;<span class="op" id="7935963">:=</span>&nbsp;<span class="string" id="7935966">&#34;[]bool&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7935976">if</span>&nbsp;<span class="ident" id="7935979">str</span>&nbsp;<span class="op" id="7935983">!=</span>&nbsp;<span class="ident" id="7935986">expected</span>&nbsp;<span class="op" id="7935995">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7935999">t</span><span class="op" id="7936000">.</span><span class="ident" id="7936001">Errorf</span><span class="op" id="7936007">(</span><span class="string" id="7936008">&#34;slice&nbsp;printed&nbsp;as&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7936042">,</span>&nbsp;<span class="ident" id="7936044">str</span><span class="op" id="7936047">,</span>&nbsp;<span class="ident" id="7936049">expected</span><span class="op" id="7936057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936060">}</span><br>
<span class="lineno"></span><span class="op" id="7936062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936065">func</span>&nbsp;<span class="ident" id="7936070">TestMapType</span><span class="op" id="7936081">(</span><span class="ident" id="7936082">t</span>&nbsp;<span class="op" id="7936084">*</span><span class="ident" id="7936085">testing</span><span class="op" id="7936092">.</span><span class="ident" id="7936093">T</span><span class="op" id="7936094">)</span>&nbsp;<span class="op" id="7936096">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936099">var</span>&nbsp;<span class="ident" id="7936103">m</span>&nbsp;<span class="keyword" id="7936105">map</span><span class="op" id="7936108">[</span><span class="builtintype" id="7936109">string</span><span class="op" id="7936115">]</span><span class="builtintype" id="7936116">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936121">mapStringInt</span>&nbsp;<span class="op" id="7936134">:=</span>&nbsp;<span class="ident" id="7936137">getTypeUnlocked</span><span class="op" id="7936152">(</span><span class="string" id="7936153">&#34;map&#34;</span><span class="op" id="7936158">,</span>&nbsp;<span class="ident" id="7936160">reflect</span><span class="op" id="7936167">.</span><span class="ident" id="7936168">TypeOf</span><span class="op" id="7936174">(</span><span class="ident" id="7936175">m</span><span class="op" id="7936176">)</span><span class="op" id="7936177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936180">var</span>&nbsp;<span class="ident" id="7936184">newm</span>&nbsp;<span class="keyword" id="7936189">map</span><span class="op" id="7936192">[</span><span class="builtintype" id="7936193">string</span><span class="op" id="7936199">]</span><span class="builtintype" id="7936200">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936205">newMapStringInt</span>&nbsp;<span class="op" id="7936221">:=</span>&nbsp;<span class="ident" id="7936224">getTypeUnlocked</span><span class="op" id="7936239">(</span><span class="string" id="7936240">&#34;map1&#34;</span><span class="op" id="7936246">,</span>&nbsp;<span class="ident" id="7936248">reflect</span><span class="op" id="7936255">.</span><span class="ident" id="7936256">TypeOf</span><span class="op" id="7936262">(</span><span class="ident" id="7936263">newm</span><span class="op" id="7936267">)</span><span class="op" id="7936268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936271">if</span>&nbsp;<span class="ident" id="7936274">mapStringInt</span>&nbsp;<span class="op" id="7936287">!=</span>&nbsp;<span class="ident" id="7936290">newMapStringInt</span>&nbsp;<span class="op" id="7936306">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936310">t</span><span class="op" id="7936311">.</span><span class="ident" id="7936312">Errorf</span><span class="op" id="7936318">(</span><span class="string" id="7936319">&#34;second&nbsp;registration&nbsp;of&nbsp;map[string]int&nbsp;creates&nbsp;new&nbsp;type&#34;</span><span class="op" id="7936375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936381">var</span>&nbsp;<span class="ident" id="7936385">b</span>&nbsp;<span class="keyword" id="7936387">map</span><span class="op" id="7936390">[</span><span class="builtintype" id="7936391">string</span><span class="op" id="7936397">]</span><span class="builtintype" id="7936398">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936404">mapStringBool</span>&nbsp;<span class="op" id="7936418">:=</span>&nbsp;<span class="ident" id="7936421">getTypeUnlocked</span><span class="op" id="7936436">(</span><span class="string" id="7936437">&#34;&#34;</span><span class="op" id="7936439">,</span>&nbsp;<span class="ident" id="7936441">reflect</span><span class="op" id="7936448">.</span><span class="ident" id="7936449">TypeOf</span><span class="op" id="7936455">(</span><span class="ident" id="7936456">b</span><span class="op" id="7936457">)</span><span class="op" id="7936458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936461">if</span>&nbsp;<span class="ident" id="7936464">mapStringBool</span>&nbsp;<span class="op" id="7936478">==</span>&nbsp;<span class="ident" id="7936481">mapStringInt</span>&nbsp;<span class="op" id="7936494">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936498">t</span><span class="op" id="7936499">.</span><span class="ident" id="7936500">Errorf</span><span class="op" id="7936506">(</span><span class="string" id="7936507">&#34;registration&nbsp;of&nbsp;map[string]bool&nbsp;creates&nbsp;same&nbsp;type&nbsp;as&nbsp;map[string]int&#34;</span><span class="op" id="7936576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936582">str</span>&nbsp;<span class="op" id="7936586">:=</span>&nbsp;<span class="ident" id="7936589">mapStringBool</span><span class="op" id="7936602">.</span><span class="builtintype" id="7936603">string</span><span class="op" id="7936609">(</span><span class="op" id="7936610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936613">expected</span>&nbsp;<span class="op" id="7936622">:=</span>&nbsp;<span class="string" id="7936625">&#34;map[string]bool&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7936644">if</span>&nbsp;<span class="ident" id="7936647">str</span>&nbsp;<span class="op" id="7936651">!=</span>&nbsp;<span class="ident" id="7936654">expected</span>&nbsp;<span class="op" id="7936663">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936667">t</span><span class="op" id="7936668">.</span><span class="ident" id="7936669">Errorf</span><span class="op" id="7936675">(</span><span class="string" id="7936676">&#34;map&nbsp;printed&nbsp;as&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7936708">,</span>&nbsp;<span class="ident" id="7936710">str</span><span class="op" id="7936713">,</span>&nbsp;<span class="ident" id="7936715">expected</span><span class="op" id="7936723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7936726">}</span><br>
<span class="lineno"></span><span class="op" id="7936728">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7936731">type</span>&nbsp;<span class="ident" id="7936736">Bar</span>&nbsp;<span class="keyword" id="7936740">struct</span>&nbsp;<span class="op" id="7936747">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936750">X</span>&nbsp;<span class="builtintype" id="7936752">string</span><br>
<span class="lineno"></span><span class="op" id="7936759">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7936762">//&nbsp;This&nbsp;structure&nbsp;has&nbsp;pointers&nbsp;and&nbsp;refers&nbsp;to&nbsp;itself,&nbsp;making&nbsp;it&nbsp;a&nbsp;good&nbsp;test&nbsp;case.</span><br>
<span class="lineno"></span><span class="keyword" id="7936843">type</span>&nbsp;<span class="ident" id="7936848">Foo</span>&nbsp;<span class="keyword" id="7936852">struct</span>&nbsp;<span class="op" id="7936859">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936862">A</span>&nbsp;<span class="builtintype" id="7936864">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936869">B</span>&nbsp;<span class="builtintype" id="7936871">int32</span>&nbsp;<span class="comment" id="7936877">//&nbsp;will&nbsp;become&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936897">C</span>&nbsp;<span class="builtintype" id="7936899">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936907">D</span>&nbsp;<span class="op" id="7936909">[</span><span class="op" id="7936910">]</span><span class="builtintype" id="7936911">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936917">E</span>&nbsp;<span class="op" id="7936919">*</span><span class="builtintype" id="7936920">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7936931">//&nbsp;will&nbsp;become&nbsp;float64</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936955">F</span>&nbsp;<span class="op" id="7936957">*</span><span class="op" id="7936958">*</span><span class="op" id="7936959">*</span><span class="op" id="7936960">*</span><span class="builtintype" id="7936961">float64</span>&nbsp;<span class="comment" id="7936969">//&nbsp;will&nbsp;become&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7936993">G</span>&nbsp;<span class="op" id="7936995">*</span><span class="ident" id="7936996">Bar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937001">H</span>&nbsp;<span class="op" id="7937003">*</span><span class="ident" id="7937004">Bar</span>&nbsp;<span class="comment" id="7937008">//&nbsp;should&nbsp;not&nbsp;interpolate&nbsp;the&nbsp;definition&nbsp;of&nbsp;Bar&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937063">I</span>&nbsp;<span class="op" id="7937065">*</span><span class="ident" id="7937066">Foo</span>&nbsp;<span class="comment" id="7937070">//&nbsp;will&nbsp;not&nbsp;explode</span><br>
<span class="lineno"></span><span class="op" id="7937090">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="keyword" id="7937093">func</span>&nbsp;<span class="ident" id="7937098">TestStructType</span><span class="op" id="7937112">(</span><span class="ident" id="7937113">t</span>&nbsp;<span class="op" id="7937115">*</span><span class="ident" id="7937116">testing</span><span class="op" id="7937123">.</span><span class="ident" id="7937124">T</span><span class="op" id="7937125">)</span>&nbsp;<span class="op" id="7937127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937130">sstruct</span>&nbsp;<span class="op" id="7937138">:=</span>&nbsp;<span class="ident" id="7937141">getTypeUnlocked</span><span class="op" id="7937156">(</span><span class="string" id="7937157">&#34;Foo&#34;</span><span class="op" id="7937162">,</span>&nbsp;<span class="ident" id="7937164">reflect</span><span class="op" id="7937171">.</span><span class="ident" id="7937172">TypeOf</span><span class="op" id="7937178">(</span><span class="ident" id="7937179">Foo</span><span class="op" id="7937182">{</span><span class="op" id="7937183">}</span><span class="op" id="7937184">)</span><span class="op" id="7937185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937188">str</span>&nbsp;<span class="op" id="7937192">:=</span>&nbsp;<span class="ident" id="7937195">sstruct</span><span class="op" id="7937202">.</span><span class="builtintype" id="7937203">string</span><span class="op" id="7937209">(</span><span class="op" id="7937210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7937213">//&nbsp;If&nbsp;we&nbsp;can&nbsp;print&nbsp;it&nbsp;correctly,&nbsp;we&nbsp;built&nbsp;it&nbsp;correctly.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937270">expected</span>&nbsp;<span class="op" id="7937279">:=</span>&nbsp;<span class="string" id="7937282">&#34;Foo&nbsp;=&nbsp;struct&nbsp;{&nbsp;A&nbsp;int;&nbsp;B&nbsp;int;&nbsp;C&nbsp;string;&nbsp;D&nbsp;bytes;&nbsp;E&nbsp;float;&nbsp;F&nbsp;float;&nbsp;G&nbsp;Bar&nbsp;=&nbsp;struct&nbsp;{&nbsp;X&nbsp;string;&nbsp;};&nbsp;H&nbsp;Bar;&nbsp;I&nbsp;Foo;&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7937397">if</span>&nbsp;<span class="ident" id="7937400">str</span>&nbsp;<span class="op" id="7937404">!=</span>&nbsp;<span class="ident" id="7937407">expected</span>&nbsp;<span class="op" id="7937416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937420">t</span><span class="op" id="7937421">.</span><span class="ident" id="7937422">Errorf</span><span class="op" id="7937428">(</span><span class="string" id="7937429">&#34;struct&nbsp;printed&nbsp;as&nbsp;%q;&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7937464">,</span>&nbsp;<span class="ident" id="7937466">str</span><span class="op" id="7937469">,</span>&nbsp;<span class="ident" id="7937471">expected</span><span class="op" id="7937479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7937482">}</span><br>
<span class="lineno"></span><span class="op" id="7937484">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="7937487">//&nbsp;Should&nbsp;be&nbsp;OK&nbsp;to&nbsp;register&nbsp;the&nbsp;same&nbsp;type&nbsp;multiple&nbsp;times,&nbsp;as&nbsp;long&nbsp;as&nbsp;they&#39;re</span><br>
<span class="lineno"></span><span class="comment" id="7937564">//&nbsp;at&nbsp;the&nbsp;same&nbsp;level&nbsp;of&nbsp;indirection.</span><br>
<span class="lineno"></span><span class="keyword" id="7937601">func</span>&nbsp;<span class="ident" id="7937606">TestRegistration</span><span class="op" id="7937622">(</span><span class="ident" id="7937623">t</span>&nbsp;<span class="op" id="7937625">*</span><span class="ident" id="7937626">testing</span><span class="op" id="7937633">.</span><span class="ident" id="7937634">T</span><span class="op" id="7937635">)</span>&nbsp;<span class="op" id="7937637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7937640">type</span>&nbsp;<span class="ident" id="7937645">T</span>&nbsp;<span class="keyword" id="7937647">struct</span><span class="op" id="7937653">{</span>&nbsp;<span class="ident" id="7937655">a</span>&nbsp;<span class="builtintype" id="7937657">int</span>&nbsp;<span class="op" id="7937661">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937664">Register</span><span class="op" id="7937672">(</span><span class="builtinfunc" id="7937673">new</span><span class="op" id="7937676">(</span><span class="ident" id="7937677">T</span><span class="op" id="7937678">)</span><span class="op" id="7937679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937682">Register</span><span class="op" id="7937690">(</span><span class="builtinfunc" id="7937691">new</span><span class="op" id="7937694">(</span><span class="ident" id="7937695">T</span><span class="op" id="7937696">)</span><span class="op" id="7937697">)</span><br>
<span class="lineno"></span><span class="op" id="7937699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7937702">type</span>&nbsp;<span class="ident" id="7937707">N1</span>&nbsp;<span class="keyword" id="7937710">struct</span><span class="op" id="7937716">{</span><span class="op" id="7937717">}</span><br>
<span class="lineno">165</span><span class="keyword" id="7937719">type</span>&nbsp;<span class="ident" id="7937724">N2</span>&nbsp;<span class="keyword" id="7937727">struct</span><span class="op" id="7937733">{</span><span class="op" id="7937734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7937737">//&nbsp;See&nbsp;comment&nbsp;in&nbsp;type.go/Register.</span><br>
<span class="lineno"></span><span class="keyword" id="7937773">func</span>&nbsp;<span class="ident" id="7937778">TestRegistrationNaming</span><span class="op" id="7937800">(</span><span class="ident" id="7937801">t</span>&nbsp;<span class="op" id="7937803">*</span><span class="ident" id="7937804">testing</span><span class="op" id="7937811">.</span><span class="ident" id="7937812">T</span><span class="op" id="7937813">)</span>&nbsp;<span class="op" id="7937815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937818">testCases</span>&nbsp;<span class="op" id="7937828">:=</span>&nbsp;<span class="op" id="7937831">[</span><span class="op" id="7937832">]</span><span class="keyword" id="7937833">struct</span>&nbsp;<span class="op" id="7937840">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937844">t</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7937849">interface</span><span class="op" id="7937858">{</span><span class="op" id="7937859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937863">name</span>&nbsp;<span class="builtintype" id="7937868">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7937876">}</span><span class="op" id="7937877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7937881">{</span><span class="op" id="7937882">&amp;</span><span class="ident" id="7937883">N1</span><span class="op" id="7937885">{</span><span class="op" id="7937886">}</span><span class="op" id="7937887">,</span>&nbsp;<span class="string" id="7937889">&#34;*gob.N1&#34;</span><span class="op" id="7937898">}</span><span class="op" id="7937899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7937903">{</span><span class="ident" id="7937904">N2</span><span class="op" id="7937906">{</span><span class="op" id="7937907">}</span><span class="op" id="7937908">,</span>&nbsp;<span class="string" id="7937910">&#34;encoding/gob.N2&#34;</span><span class="op" id="7937927">}</span><span class="op" id="7937928">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7937931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7937935">for</span>&nbsp;<span class="ident" id="7937939">_</span><span class="op" id="7937940">,</span>&nbsp;<span class="ident" id="7937942">tc</span>&nbsp;<span class="op" id="7937945">:=</span>&nbsp;<span class="keyword" id="7937948">range</span>&nbsp;<span class="ident" id="7937954">testCases</span>&nbsp;<span class="op" id="7937964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937968">Register</span><span class="op" id="7937976">(</span><span class="ident" id="7937977">tc</span><span class="op" id="7937979">.</span><span class="ident" id="7937980">t</span><span class="op" id="7937981">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7937986">tct</span>&nbsp;<span class="op" id="7937990">:=</span>&nbsp;<span class="ident" id="7937993">reflect</span><span class="op" id="7938000">.</span><span class="ident" id="7938001">TypeOf</span><span class="op" id="7938007">(</span><span class="ident" id="7938008">tc</span><span class="op" id="7938010">.</span><span class="ident" id="7938011">t</span><span class="op" id="7938012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938016">registerLock</span><span class="op" id="7938028">.</span><span class="ident" id="7938029">RLock</span><span class="op" id="7938034">(</span><span class="op" id="7938035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938039">ct</span>&nbsp;<span class="op" id="7938042">:=</span>&nbsp;<span class="ident" id="7938045">nameToConcreteType</span><span class="op" id="7938063">[</span><span class="ident" id="7938064">tc</span><span class="op" id="7938066">.</span><span class="ident" id="7938067">name</span><span class="op" id="7938071">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938075">registerLock</span><span class="op" id="7938087">.</span><span class="ident" id="7938088">RUnlock</span><span class="op" id="7938095">(</span><span class="op" id="7938096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938100">if</span>&nbsp;<span class="ident" id="7938103">ct</span>&nbsp;<span class="op" id="7938106">!=</span>&nbsp;<span class="ident" id="7938109">tct</span>&nbsp;<span class="op" id="7938113">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938118">t</span><span class="op" id="7938119">.</span><span class="ident" id="7938120">Errorf</span><span class="op" id="7938126">(</span><span class="string" id="7938127">&#34;nameToConcreteType[%q]&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7938165">,</span>&nbsp;<span class="ident" id="7938167">tc</span><span class="op" id="7938169">.</span><span class="ident" id="7938170">name</span><span class="op" id="7938174">,</span>&nbsp;<span class="ident" id="7938176">ct</span><span class="op" id="7938178">,</span>&nbsp;<span class="ident" id="7938180">tct</span><span class="op" id="7938183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7938191">//&nbsp;concreteTypeToName&nbsp;is&nbsp;keyed&nbsp;off&nbsp;the&nbsp;base&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938243">if</span>&nbsp;<span class="ident" id="7938246">tct</span><span class="op" id="7938249">.</span><span class="ident" id="7938250">Kind</span><span class="op" id="7938254">(</span><span class="op" id="7938255">)</span>&nbsp;<span class="op" id="7938257">==</span>&nbsp;<span class="ident" id="7938260">reflect</span><span class="op" id="7938267">.</span><span class="ident" id="7938268">Ptr</span>&nbsp;<span class="op" id="7938272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938277">tct</span>&nbsp;<span class="op" id="7938281">=</span>&nbsp;<span class="ident" id="7938283">tct</span><span class="op" id="7938286">.</span><span class="ident" id="7938287">Elem</span><span class="op" id="7938291">(</span><span class="op" id="7938292">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938300">if</span>&nbsp;<span class="ident" id="7938303">n</span>&nbsp;<span class="op" id="7938305">:=</span>&nbsp;<span class="ident" id="7938308">concreteTypeToName</span><span class="op" id="7938326">[</span><span class="ident" id="7938327">tct</span><span class="op" id="7938330">]</span><span class="op" id="7938331">;</span>&nbsp;<span class="ident" id="7938333">n</span>&nbsp;<span class="op" id="7938335">!=</span>&nbsp;<span class="ident" id="7938338">tc</span><span class="op" id="7938340">.</span><span class="ident" id="7938341">name</span>&nbsp;<span class="op" id="7938346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938351">t</span><span class="op" id="7938352">.</span><span class="ident" id="7938353">Errorf</span><span class="op" id="7938359">(</span><span class="string" id="7938360">&#34;concreteTypeToName[%v]&nbsp;got&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7938400">,</span>&nbsp;<span class="ident" id="7938402">tct</span><span class="op" id="7938405">,</span>&nbsp;<span class="ident" id="7938407">n</span><span class="op" id="7938408">,</span>&nbsp;<span class="ident" id="7938410">tc</span><span class="op" id="7938412">.</span><span class="ident" id="7938413">name</span><span class="op" id="7938417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938424">}</span><br>
<span class="lineno">195</span><span class="op" id="7938426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7938429">func</span>&nbsp;<span class="ident" id="7938434">TestStressParallel</span><span class="op" id="7938452">(</span><span class="ident" id="7938453">t</span>&nbsp;<span class="op" id="7938455">*</span><span class="ident" id="7938456">testing</span><span class="op" id="7938463">.</span><span class="ident" id="7938464">T</span><span class="op" id="7938465">)</span>&nbsp;<span class="op" id="7938467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938470">type</span>&nbsp;<span class="ident" id="7938475">T2</span>&nbsp;<span class="keyword" id="7938478">struct</span><span class="op" id="7938484">{</span>&nbsp;<span class="ident" id="7938486">A</span>&nbsp;<span class="builtintype" id="7938488">int</span>&nbsp;<span class="op" id="7938492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938495">c</span>&nbsp;<span class="op" id="7938497">:=</span>&nbsp;<span class="builtinfunc" id="7938500">make</span><span class="op" id="7938504">(</span><span class="keyword" id="7938505">chan</span>&nbsp;<span class="builtintype" id="7938510">bool</span><span class="op" id="7938514">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938517">const</span>&nbsp;<span class="ident" id="7938523">N</span>&nbsp;<span class="op" id="7938525">=</span>&nbsp;<span class="num" id="7938527">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938531">for</span>&nbsp;<span class="ident" id="7938535">i</span>&nbsp;<span class="op" id="7938537">:=</span>&nbsp;<span class="num" id="7938540">0</span><span class="op" id="7938541">;</span>&nbsp;<span class="ident" id="7938543">i</span>&nbsp;<span class="op" id="7938545">&lt;</span>&nbsp;<span class="ident" id="7938547">N</span><span class="op" id="7938548">;</span>&nbsp;<span class="ident" id="7938550">i</span><span class="op" id="7938551">++</span>&nbsp;<span class="op" id="7938554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938558">go</span>&nbsp;<span class="keyword" id="7938561">func</span><span class="op" id="7938565">(</span><span class="op" id="7938566">)</span>&nbsp;<span class="op" id="7938568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938573">p</span>&nbsp;<span class="op" id="7938575">:=</span>&nbsp;<span class="builtinfunc" id="7938578">new</span><span class="op" id="7938581">(</span><span class="ident" id="7938582">T2</span><span class="op" id="7938584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938589">Register</span><span class="op" id="7938597">(</span><span class="ident" id="7938598">p</span><span class="op" id="7938599">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938604">b</span>&nbsp;<span class="op" id="7938606">:=</span>&nbsp;<span class="builtinfunc" id="7938609">new</span><span class="op" id="7938612">(</span><span class="ident" id="7938613">bytes</span><span class="op" id="7938618">.</span><span class="ident" id="7938619">Buffer</span><span class="op" id="7938625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938630">enc</span>&nbsp;<span class="op" id="7938634">:=</span>&nbsp;<span class="ident" id="7938637">NewEncoder</span><span class="op" id="7938647">(</span><span class="ident" id="7938648">b</span><span class="op" id="7938649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938654">err</span>&nbsp;<span class="op" id="7938658">:=</span>&nbsp;<span class="ident" id="7938661">enc</span><span class="op" id="7938664">.</span><span class="ident" id="7938665">Encode</span><span class="op" id="7938671">(</span><span class="ident" id="7938672">p</span><span class="op" id="7938673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938678">if</span>&nbsp;<span class="ident" id="7938681">err</span>&nbsp;<span class="op" id="7938685">!=</span>&nbsp;<span class="ident" id="7938688">nil</span>&nbsp;<span class="op" id="7938692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938698">t</span><span class="op" id="7938699">.</span><span class="ident" id="7938700">Error</span><span class="op" id="7938705">(</span><span class="string" id="7938706">&#34;encoder&nbsp;fail:&#34;</span><span class="op" id="7938721">,</span>&nbsp;<span class="ident" id="7938723">err</span><span class="op" id="7938726">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938736">dec</span>&nbsp;<span class="op" id="7938740">:=</span>&nbsp;<span class="ident" id="7938743">NewDecoder</span><span class="op" id="7938753">(</span><span class="ident" id="7938754">b</span><span class="op" id="7938755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938760">err</span>&nbsp;<span class="op" id="7938764">=</span>&nbsp;<span class="ident" id="7938766">dec</span><span class="op" id="7938769">.</span><span class="ident" id="7938770">Decode</span><span class="op" id="7938776">(</span><span class="ident" id="7938777">p</span><span class="op" id="7938778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938783">if</span>&nbsp;<span class="ident" id="7938786">err</span>&nbsp;<span class="op" id="7938790">!=</span>&nbsp;<span class="ident" id="7938793">nil</span>&nbsp;<span class="op" id="7938797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938803">t</span><span class="op" id="7938804">.</span><span class="ident" id="7938805">Error</span><span class="op" id="7938810">(</span><span class="string" id="7938811">&#34;decoder&nbsp;fail:&#34;</span><span class="op" id="7938826">,</span>&nbsp;<span class="ident" id="7938828">err</span><span class="op" id="7938831">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7938841">c</span>&nbsp;<span class="op" id="7938843">&lt;-</span>&nbsp;<span class="builtintype" id="7938846">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938853">}</span><span class="op" id="7938854">(</span><span class="op" id="7938855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7938861">for</span>&nbsp;<span class="ident" id="7938865">i</span>&nbsp;<span class="op" id="7938867">:=</span>&nbsp;<span class="num" id="7938870">0</span><span class="op" id="7938871">;</span>&nbsp;<span class="ident" id="7938873">i</span>&nbsp;<span class="op" id="7938875">&lt;</span>&nbsp;<span class="ident" id="7938877">N</span><span class="op" id="7938878">;</span>&nbsp;<span class="ident" id="7938880">i</span><span class="op" id="7938881">++</span>&nbsp;<span class="op" id="7938884">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938888">&lt;-</span><span class="ident" id="7938890">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7938893">}</span><br>
<span class="lineno"></span><span class="op" id="7938895">}</span>
</div>
</body>
</html>
