<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html" class="current">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3738957">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3739012">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3739066">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3739117">package</span>&nbsp;<span class="ident" id="3739125">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3739135">import</span>&nbsp;<span class="op" id="3739142">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3739145">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3739152">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3739163">&#34;text/template/parse&#34;</span><br>
<span class="lineno"></span><span class="op" id="3739185">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3739188">//&nbsp;common&nbsp;holds&nbsp;the&nbsp;information&nbsp;shared&nbsp;by&nbsp;related&nbsp;templates.</span><br>
<span class="lineno"></span><span class="keyword" id="3739249">type</span>&nbsp;<span class="ident" id="3739254">common</span>&nbsp;<span class="keyword" id="3739261">struct</span>&nbsp;<span class="op" id="3739268">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3739271">tmpl</span>&nbsp;<span class="keyword" id="3739276">map</span><span class="op" id="3739279">[</span><span class="builtintype" id="3739280">string</span><span class="op" id="3739286">]</span><span class="op" id="3739287">*</span><span class="ident" id="3739288"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3739298">//&nbsp;We&nbsp;use&nbsp;two&nbsp;maps,&nbsp;one&nbsp;for&nbsp;parsing&nbsp;and&nbsp;one&nbsp;for&nbsp;execution.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3739358">//&nbsp;This&nbsp;separation&nbsp;makes&nbsp;the&nbsp;API&nbsp;cleaner&nbsp;since&nbsp;it&nbsp;doesn&#39;t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3739417">//&nbsp;expose&nbsp;reflection&nbsp;to&nbsp;the&nbsp;client.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3739454">parseFuncs</span>&nbsp;<span class="ident" id="3739465"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3739474">execFuncs</span>&nbsp;&nbsp;<span class="keyword" id="3739485">map</span><span class="op" id="3739488">[</span><span class="builtintype" id="3739489">string</span><span class="op" id="3739495">]</span><span class="ident" id="3739496"><a href="/gostd/text/template/template.go.html#3739152">reflect</a></span><span class="op" id="3739503">.</span><span class="ident" id="3739504"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><br>
<span class="lineno"></span><span class="op" id="3739510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3739513">//&nbsp;Template&nbsp;is&nbsp;the&nbsp;representation&nbsp;of&nbsp;a&nbsp;parsed&nbsp;template.&nbsp;The&nbsp;*parse.Tree</span><br>
<span class="lineno"></span><span class="comment" id="3739585">//&nbsp;field&nbsp;is&nbsp;exported&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;html/template&nbsp;and&nbsp;should&nbsp;be&nbsp;treated</span><br>
<span class="lineno">25</span><span class="comment" id="3739658">//&nbsp;as&nbsp;unexported&nbsp;by&nbsp;all&nbsp;other&nbsp;clients.</span><br>
<span class="lineno"></span><span class="keyword" id="3739697">type</span>&nbsp;<span class="ident" id="3739702">Template</span>&nbsp;<span class="keyword" id="3739711">struct</span>&nbsp;<span class="op" id="3739718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3739721">name</span>&nbsp;<span class="builtintype" id="3739726">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3739734">*</span><span class="ident" id="3739735"><a href="/gostd/text/template/template.go.html#3739163">parse</a></span><span class="op" id="3739740">.</span><span class="ident" id="3739741"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3739747">*</span><span class="ident" id="3739748"><a href="/gostd/text/template/template.go.html#3739254">common</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3739756">leftDelim</span>&nbsp;&nbsp;<span class="builtintype" id="3739767">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3739775">rightDelim</span>&nbsp;<span class="builtintype" id="3739786">string</span><br>
<span class="lineno"></span><span class="op" id="3739793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3739796">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno">35</span><span class="keyword" id="3739849">func</span>&nbsp;<span class="ident" id="3739854">New</span><span class="op" id="3739857">(</span><span class="ident" id="3739858">name</span>&nbsp;<span class="builtintype" id="3739863">string</span><span class="op" id="3739869">)</span>&nbsp;<span class="op" id="3739871">*</span><span class="ident" id="3739872"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span>&nbsp;<span class="op" id="3739881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3739884">return</span>&nbsp;<span class="op" id="3739891">&amp;</span><span class="ident" id="3739892"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3739900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3739904"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><span class="op" id="3739908">:</span>&nbsp;<span class="ident" id="3739910"><a href="/gostd/text/template/template.go.html#3739858">name</a></span><span class="op" id="3739914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3739917">}</span><br>
<span class="lineno"></span><span class="op" id="3739919">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="3739922">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;template.</span><br>
<span class="lineno"></span><span class="keyword" id="3739964">func</span>&nbsp;<span class="op" id="3739969">(</span><span class="ident" id="3739970">t</span>&nbsp;<span class="op" id="3739972">*</span><span class="ident" id="3739973"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3739981">)</span>&nbsp;<span class="ident" id="3739983">Name</span><span class="op" id="3739987">(</span><span class="op" id="3739988">)</span>&nbsp;<span class="builtintype" id="3739990">string</span>&nbsp;<span class="op" id="3739997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3740000">return</span>&nbsp;<span class="ident" id="3740007"><a href="/gostd/text/template/template.go.html#3739970">t</a></span><span class="op" id="3740008">.</span><span class="ident" id="3740009"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><br>
<span class="lineno"></span><span class="op" id="3740014">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3740017">//&nbsp;New&nbsp;allocates&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;one&nbsp;and&nbsp;with&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="3740097">//&nbsp;delimiters.&nbsp;The&nbsp;association,&nbsp;which&nbsp;is&nbsp;transitive,&nbsp;allows&nbsp;one&nbsp;template&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3740173">//&nbsp;invoke&nbsp;another&nbsp;with&nbsp;a&nbsp;{{template}}&nbsp;action.</span><br>
<span class="lineno"></span><span class="keyword" id="3740219">func</span>&nbsp;<span class="op" id="3740224">(</span><span class="ident" id="3740225">t</span>&nbsp;<span class="op" id="3740227">*</span><span class="ident" id="3740228"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3740236">)</span>&nbsp;<span class="ident" id="3740238">New</span><span class="op" id="3740241">(</span><span class="ident" id="3740242">name</span>&nbsp;<span class="builtintype" id="3740247">string</span><span class="op" id="3740253">)</span>&nbsp;<span class="op" id="3740255">*</span><span class="ident" id="3740256"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span>&nbsp;<span class="op" id="3740265">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740268"><a href="/gostd/text/template/template.go.html#3740225">t</a></span><span class="op" id="3740269">.</span><span class="ident" id="3740270"><a href="/gostd/text/template/template.go.html#3740420">init</a></span><span class="op" id="3740274">(</span><span class="op" id="3740275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3740278">return</span>&nbsp;<span class="op" id="3740285">&amp;</span><span class="ident" id="3740286"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3740294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740298"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><span class="op" id="3740302">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740310"><a href="/gostd/text/template/template.go.html#3740242">name</a></span><span class="op" id="3740314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740318"><a href="/gostd/text/template/template.go.html#3739747">common</a></span><span class="op" id="3740324">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740330"><a href="/gostd/text/template/template.go.html#3740225">t</a></span><span class="op" id="3740331">.</span><span class="ident" id="3740332"><a href="/gostd/text/template/template.go.html#3739747">common</a></span><span class="op" id="3740338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740342"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span><span class="op" id="3740351">:</span>&nbsp;&nbsp;<span class="ident" id="3740354"><a href="/gostd/text/template/template.go.html#3740225">t</a></span><span class="op" id="3740355">.</span><span class="ident" id="3740356"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span><span class="op" id="3740365">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740369"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span><span class="op" id="3740379">:</span>&nbsp;<span class="ident" id="3740381"><a href="/gostd/text/template/template.go.html#3740225">t</a></span><span class="op" id="3740382">.</span><span class="ident" id="3740383"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span><span class="op" id="3740393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3740396">}</span><br>
<span class="lineno"></span><span class="op" id="3740398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3740401">func</span>&nbsp;<span class="op" id="3740406">(</span><span class="ident" id="3740407">t</span>&nbsp;<span class="op" id="3740409">*</span><span class="ident" id="3740410"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3740418">)</span>&nbsp;<span class="ident" id="3740420">init</span><span class="op" id="3740424">(</span><span class="op" id="3740425">)</span>&nbsp;<span class="op" id="3740427">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3740430">if</span>&nbsp;<span class="ident" id="3740433"><a href="/gostd/text/template/template.go.html#3740407">t</a></span><span class="op" id="3740434">.</span><span class="ident" id="3740435"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3740442">==</span>&nbsp;<span class="builtintype" id="3740445">nil</span>&nbsp;<span class="op" id="3740449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740453"><a href="/gostd/text/template/template.go.html#3740407">t</a></span><span class="op" id="3740454">.</span><span class="ident" id="3740455"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3740462">=</span>&nbsp;<span class="builtinfunc" id="3740464">new</span><span class="op" id="3740467">(</span><span class="ident" id="3740468"><a href="/gostd/text/template/template.go.html#3739254">common</a></span><span class="op" id="3740474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740478"><a href="/gostd/text/template/template.go.html#3740407">t</a></span><span class="op" id="3740479">.</span><span class="ident" id="3740480"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span>&nbsp;<span class="op" id="3740485">=</span>&nbsp;<span class="builtinfunc" id="3740487">make</span><span class="op" id="3740491">(</span><span class="keyword" id="3740492">map</span><span class="op" id="3740495">[</span><span class="builtintype" id="3740496">string</span><span class="op" id="3740502">]</span><span class="op" id="3740503">*</span><span class="ident" id="3740504"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3740512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740516"><a href="/gostd/text/template/template.go.html#3740407">t</a></span><span class="op" id="3740517">.</span><span class="ident" id="3740518"><a href="/gostd/text/template/template.go.html#3739454">parseFuncs</a></span>&nbsp;<span class="op" id="3740529">=</span>&nbsp;<span class="builtinfunc" id="3740531">make</span><span class="op" id="3740535">(</span><span class="ident" id="3740536"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><span class="op" id="3740543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3740547"><a href="/gostd/text/template/template.go.html#3740407">t</a></span><span class="op" id="3740548">.</span><span class="ident" id="3740549"><a href="/gostd/text/template/template.go.html#3739474">execFuncs</a></span>&nbsp;<span class="op" id="3740559">=</span>&nbsp;<span class="builtinfunc" id="3740561">make</span><span class="op" id="3740565">(</span><span class="keyword" id="3740566">map</span><span class="op" id="3740569">[</span><span class="builtintype" id="3740570">string</span><span class="op" id="3740576">]</span><span class="ident" id="3740577"><a href="/gostd/text/template/template.go.html#3739152">reflect</a></span><span class="op" id="3740584">.</span><span class="ident" id="3740585"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3740590">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3740593">}</span><br>
<span class="lineno"></span><span class="op" id="3740595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3740598">//&nbsp;Clone&nbsp;returns&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;template,&nbsp;including&nbsp;all&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="3740669">//&nbsp;templates.&nbsp;The&nbsp;actual&nbsp;representation&nbsp;is&nbsp;not&nbsp;copied,&nbsp;but&nbsp;the&nbsp;name&nbsp;space&nbsp;of</span><br>
<span class="lineno">70</span><span class="comment" id="3740746">//&nbsp;associated&nbsp;templates&nbsp;is,&nbsp;so&nbsp;further&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;in&nbsp;the&nbsp;copy&nbsp;will&nbsp;add</span><br>
<span class="lineno"></span><span class="comment" id="3740821">//&nbsp;templates&nbsp;to&nbsp;the&nbsp;copy&nbsp;but&nbsp;not&nbsp;to&nbsp;the&nbsp;original.&nbsp;Clone&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;prepare</span><br>
<span class="lineno"></span><span class="comment" id="3740900">//&nbsp;common&nbsp;templates&nbsp;and&nbsp;use&nbsp;them&nbsp;with&nbsp;variant&nbsp;definitions&nbsp;for&nbsp;other&nbsp;templates</span><br>
<span class="lineno"></span><span class="comment" id="3740978">//&nbsp;by&nbsp;adding&nbsp;the&nbsp;variants&nbsp;after&nbsp;the&nbsp;clone&nbsp;is&nbsp;made.</span><br>
<span class="lineno"></span><span class="keyword" id="3741029">func</span>&nbsp;<span class="op" id="3741034">(</span><span class="ident" id="3741035">t</span>&nbsp;<span class="op" id="3741037">*</span><span class="ident" id="3741038"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3741046">)</span>&nbsp;<span class="ident" id="3741048">Clone</span><span class="op" id="3741053">(</span><span class="op" id="3741054">)</span>&nbsp;<span class="op" id="3741056">(</span><span class="op" id="3741057">*</span><span class="ident" id="3741058"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3741066">,</span>&nbsp;<span class="builtintype" id="3741068">error</span><span class="op" id="3741073">)</span>&nbsp;<span class="op" id="3741075">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741078">nt</span>&nbsp;<span class="op" id="3741081">:=</span>&nbsp;<span class="ident" id="3741084"><a href="/gostd/text/template/template.go.html#3741035">t</a></span><span class="op" id="3741085">.</span><span class="builtinfunc" id="3741086"><a href="/gostd/text/template/template.go.html#3741550">copy</a></span><span class="op" id="3741090">(</span><span class="builtintype" id="3741091">nil</span><span class="op" id="3741094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741097"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><span class="op" id="3741099">.</span><span class="ident" id="3741100"><a href="/gostd/text/template/template.go.html#3740420">init</a></span><span class="op" id="3741104">(</span><span class="op" id="3741105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741108"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><span class="op" id="3741110">.</span><span class="ident" id="3741111"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3741115">[</span><span class="ident" id="3741116"><a href="/gostd/text/template/template.go.html#3741035">t</a></span><span class="op" id="3741117">.</span><span class="ident" id="3741118"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><span class="op" id="3741122">]</span>&nbsp;<span class="op" id="3741124">=</span>&nbsp;<span class="ident" id="3741126"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741130">for</span>&nbsp;<span class="ident" id="3741134">k</span><span class="op" id="3741135">,</span>&nbsp;<span class="ident" id="3741137">v</span>&nbsp;<span class="op" id="3741139">:=</span>&nbsp;<span class="keyword" id="3741142">range</span>&nbsp;<span class="ident" id="3741148"><a href="/gostd/text/template/template.go.html#3741035">t</a></span><span class="op" id="3741149">.</span><span class="ident" id="3741150"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span>&nbsp;<span class="op" id="3741155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741159">if</span>&nbsp;<span class="ident" id="3741162"><a href="/gostd/text/template/template.go.html#3741134">k</a></span>&nbsp;<span class="op" id="3741164">==</span>&nbsp;<span class="ident" id="3741167"><a href="/gostd/text/template/template.go.html#3741035">t</a></span><span class="op" id="3741168">.</span><span class="ident" id="3741169"><a href="/gostd/text/template/template.go.html#3739721">name</a></span>&nbsp;<span class="op" id="3741174">{</span>&nbsp;<span class="comment" id="3741176">//&nbsp;Already&nbsp;installed.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741201">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3741212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3741216">//&nbsp;The&nbsp;associated&nbsp;templates&nbsp;share&nbsp;nt&#39;s&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741275">tmpl</span>&nbsp;<span class="op" id="3741280">:=</span>&nbsp;<span class="ident" id="3741283"><a href="/gostd/text/template/template.go.html#3741137">v</a></span><span class="op" id="3741284">.</span><span class="builtinfunc" id="3741285"><a href="/gostd/text/template/template.go.html#3741550">copy</a></span><span class="op" id="3741289">(</span><span class="ident" id="3741290"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><span class="op" id="3741292">.</span><span class="ident" id="3741293"><a href="/gostd/text/template/template.go.html#3739747">common</a></span><span class="op" id="3741299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741303"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><span class="op" id="3741305">.</span><span class="ident" id="3741306"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3741310">[</span><span class="ident" id="3741311"><a href="/gostd/text/template/template.go.html#3741134">k</a></span><span class="op" id="3741312">]</span>&nbsp;<span class="op" id="3741314">=</span>&nbsp;<span class="ident" id="3741316"><a href="/gostd/text/template/template.go.html#3741275">tmpl</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3741322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741325">for</span>&nbsp;<span class="ident" id="3741329">k</span><span class="op" id="3741330">,</span>&nbsp;<span class="ident" id="3741332">v</span>&nbsp;<span class="op" id="3741334">:=</span>&nbsp;<span class="keyword" id="3741337">range</span>&nbsp;<span class="ident" id="3741343"><a href="/gostd/text/template/template.go.html#3741035">t</a></span><span class="op" id="3741344">.</span><span class="ident" id="3741345"><a href="/gostd/text/template/template.go.html#3739454">parseFuncs</a></span>&nbsp;<span class="op" id="3741356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741360"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><span class="op" id="3741362">.</span><span class="ident" id="3741363"><a href="/gostd/text/template/template.go.html#3739454">parseFuncs</a></span><span class="op" id="3741373">[</span><span class="ident" id="3741374"><a href="/gostd/text/template/template.go.html#3741329">k</a></span><span class="op" id="3741375">]</span>&nbsp;<span class="op" id="3741377">=</span>&nbsp;<span class="ident" id="3741379"><a href="/gostd/text/template/template.go.html#3741332">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3741382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741385">for</span>&nbsp;<span class="ident" id="3741389">k</span><span class="op" id="3741390">,</span>&nbsp;<span class="ident" id="3741392">v</span>&nbsp;<span class="op" id="3741394">:=</span>&nbsp;<span class="keyword" id="3741397">range</span>&nbsp;<span class="ident" id="3741403"><a href="/gostd/text/template/template.go.html#3741035">t</a></span><span class="op" id="3741404">.</span><span class="ident" id="3741405"><a href="/gostd/text/template/template.go.html#3739474">execFuncs</a></span>&nbsp;<span class="op" id="3741415">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741419"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><span class="op" id="3741421">.</span><span class="ident" id="3741422"><a href="/gostd/text/template/template.go.html#3739474">execFuncs</a></span><span class="op" id="3741431">[</span><span class="ident" id="3741432"><a href="/gostd/text/template/template.go.html#3741389">k</a></span><span class="op" id="3741433">]</span>&nbsp;<span class="op" id="3741435">=</span>&nbsp;<span class="ident" id="3741437"><a href="/gostd/text/template/template.go.html#3741392">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3741440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741443">return</span>&nbsp;<span class="ident" id="3741450"><a href="/gostd/text/template/template.go.html#3741078">nt</a></span><span class="op" id="3741452">,</span>&nbsp;<span class="builtintype" id="3741454">nil</span><br>
<span class="lineno"></span><span class="op" id="3741458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3741461">//&nbsp;copy&nbsp;returns&nbsp;a&nbsp;shallow&nbsp;copy&nbsp;of&nbsp;t,&nbsp;with&nbsp;common&nbsp;set&nbsp;to&nbsp;the&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="3741531">func</span>&nbsp;<span class="op" id="3741536">(</span><span class="ident" id="3741537">t</span>&nbsp;<span class="op" id="3741539">*</span><span class="ident" id="3741540"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3741548">)</span>&nbsp;<span class="builtinfunc" id="3741550">copy</span><span class="op" id="3741554">(</span><span class="ident" id="3741555">c</span>&nbsp;<span class="op" id="3741557">*</span><span class="ident" id="3741558"><a href="/gostd/text/template/template.go.html#3739254">common</a></span><span class="op" id="3741564">)</span>&nbsp;<span class="op" id="3741566">*</span><span class="ident" id="3741567"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span>&nbsp;<span class="op" id="3741576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741579">nt</span>&nbsp;<span class="op" id="3741582">:=</span>&nbsp;<span class="ident" id="3741585"><a href="/gostd/text/template/template.go.html#3739854">New</a></span><span class="op" id="3741588">(</span><span class="ident" id="3741589"><a href="/gostd/text/template/template.go.html#3741537">t</a></span><span class="op" id="3741590">.</span><span class="ident" id="3741591"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><span class="op" id="3741595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741598"><a href="/gostd/text/template/template.go.html#3741579">nt</a></span><span class="op" id="3741600">.</span><span class="ident" id="3741601"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span>&nbsp;<span class="op" id="3741606">=</span>&nbsp;<span class="ident" id="3741608"><a href="/gostd/text/template/template.go.html#3741537">t</a></span><span class="op" id="3741609">.</span><span class="ident" id="3741610"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741616"><a href="/gostd/text/template/template.go.html#3741579">nt</a></span><span class="op" id="3741618">.</span><span class="ident" id="3741619"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3741626">=</span>&nbsp;<span class="ident" id="3741628"><a href="/gostd/text/template/template.go.html#3741555">c</a></span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741631"><a href="/gostd/text/template/template.go.html#3741579">nt</a></span><span class="op" id="3741633">.</span><span class="ident" id="3741634"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span>&nbsp;<span class="op" id="3741644">=</span>&nbsp;<span class="ident" id="3741646"><a href="/gostd/text/template/template.go.html#3741537">t</a></span><span class="op" id="3741647">.</span><span class="ident" id="3741648"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3741659"><a href="/gostd/text/template/template.go.html#3741579">nt</a></span><span class="op" id="3741661">.</span><span class="ident" id="3741662"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span>&nbsp;<span class="op" id="3741673">=</span>&nbsp;<span class="ident" id="3741675"><a href="/gostd/text/template/template.go.html#3741537">t</a></span><span class="op" id="3741676">.</span><span class="ident" id="3741677"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741689">return</span>&nbsp;<span class="ident" id="3741696"><a href="/gostd/text/template/template.go.html#3741579">nt</a></span><br>
<span class="lineno"></span><span class="op" id="3741699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3741702">//&nbsp;AddParseTree&nbsp;creates&nbsp;a&nbsp;new&nbsp;template&nbsp;with&nbsp;the&nbsp;name&nbsp;and&nbsp;parse&nbsp;tree</span><br>
<span class="lineno"></span><span class="comment" id="3741770">//&nbsp;and&nbsp;associates&nbsp;it&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span><span class="keyword" id="3741799">func</span>&nbsp;<span class="op" id="3741804">(</span><span class="ident" id="3741805">t</span>&nbsp;<span class="op" id="3741807">*</span><span class="ident" id="3741808"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3741816">)</span>&nbsp;<span class="ident" id="3741818">AddParseTree</span><span class="op" id="3741830">(</span><span class="ident" id="3741831">name</span>&nbsp;<span class="builtintype" id="3741836">string</span><span class="op" id="3741842">,</span>&nbsp;<span class="ident" id="3741844">tree</span>&nbsp;<span class="op" id="3741849">*</span><span class="ident" id="3741850"><a href="/gostd/text/template/template.go.html#3739163">parse</a></span><span class="op" id="3741855">.</span><span class="ident" id="3741856"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3741860">)</span>&nbsp;<span class="op" id="3741862">(</span><span class="op" id="3741863">*</span><span class="ident" id="3741864"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3741872">,</span>&nbsp;<span class="builtintype" id="3741874">error</span><span class="op" id="3741879">)</span>&nbsp;<span class="op" id="3741881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741884">if</span>&nbsp;<span class="ident" id="3741887"><a href="/gostd/text/template/template.go.html#3741805">t</a></span><span class="op" id="3741888">.</span><span class="ident" id="3741889"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3741896">!=</span>&nbsp;<span class="builtintype" id="3741899">nil</span>&nbsp;<span class="op" id="3741903">&amp;&amp;</span>&nbsp;<span class="ident" id="3741906"><a href="/gostd/text/template/template.go.html#3741805">t</a></span><span class="op" id="3741907">.</span><span class="ident" id="3741908"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3741912">[</span><span class="ident" id="3741913"><a href="/gostd/text/template/template.go.html#3741831">name</a></span><span class="op" id="3741917">]</span>&nbsp;<span class="op" id="3741919">!=</span>&nbsp;<span class="builtintype" id="3741922">nil</span>&nbsp;<span class="op" id="3741926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3741930">return</span>&nbsp;<span class="builtintype" id="3741937">nil</span><span class="op" id="3741940">,</span>&nbsp;<span class="ident" id="3741942"><a href="/gostd/text/template/template.go.html#3739145">fmt</a></span><span class="op" id="3741945">.</span><span class="ident" id="3741946"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3741952">(</span><span class="string" id="3741953">&#34;template:&nbsp;redefinition&nbsp;of&nbsp;template&nbsp;%q&#34;</span><span class="op" id="3741992">,</span>&nbsp;<span class="ident" id="3741994"><a href="/gostd/text/template/template.go.html#3741831">name</a></span><span class="op" id="3741998">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3742001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3742004">nt</span>&nbsp;<span class="op" id="3742007">:=</span>&nbsp;<span class="ident" id="3742010"><a href="/gostd/text/template/template.go.html#3741805">t</a></span><span class="op" id="3742011">.</span><span class="ident" id="3742012"><a href="/gostd/text/template/template.go.html#3740238">New</a></span><span class="op" id="3742015">(</span><span class="ident" id="3742016"><a href="/gostd/text/template/template.go.html#3741831">name</a></span><span class="op" id="3742020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3742023"><a href="/gostd/text/template/template.go.html#3742004">nt</a></span><span class="op" id="3742025">.</span><span class="ident" id="3742026"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span>&nbsp;<span class="op" id="3742031">=</span>&nbsp;<span class="ident" id="3742033"><a href="/gostd/text/template/template.go.html#3741844">tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3742039"><a href="/gostd/text/template/template.go.html#3741805">t</a></span><span class="op" id="3742040">.</span><span class="ident" id="3742041"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3742045">[</span><span class="ident" id="3742046"><a href="/gostd/text/template/template.go.html#3741831">name</a></span><span class="op" id="3742050">]</span>&nbsp;<span class="op" id="3742052">=</span>&nbsp;<span class="ident" id="3742054"><a href="/gostd/text/template/template.go.html#3742004">nt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3742058">return</span>&nbsp;<span class="ident" id="3742065"><a href="/gostd/text/template/template.go.html#3742004">nt</a></span><span class="op" id="3742067">,</span>&nbsp;<span class="builtintype" id="3742069">nil</span><br>
<span class="lineno">115</span><span class="op" id="3742073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3742076">//&nbsp;Templates&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;the&nbsp;templates&nbsp;associated&nbsp;with&nbsp;t,&nbsp;including&nbsp;t</span><br>
<span class="lineno"></span><span class="comment" id="3742153">//&nbsp;itself.</span><br>
<span class="lineno"></span><span class="keyword" id="3742164">func</span>&nbsp;<span class="op" id="3742169">(</span><span class="ident" id="3742170">t</span>&nbsp;<span class="op" id="3742172">*</span><span class="ident" id="3742173"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3742181">)</span>&nbsp;<span class="ident" id="3742183">Templates</span><span class="op" id="3742192">(</span><span class="op" id="3742193">)</span>&nbsp;<span class="op" id="3742195">[</span><span class="op" id="3742196">]</span><span class="op" id="3742197">*</span><span class="ident" id="3742198"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span>&nbsp;<span class="op" id="3742207">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3742210">if</span>&nbsp;<span class="ident" id="3742213"><a href="/gostd/text/template/template.go.html#3742170">t</a></span><span class="op" id="3742214">.</span><span class="ident" id="3742215"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3742222">==</span>&nbsp;<span class="builtintype" id="3742225">nil</span>&nbsp;<span class="op" id="3742229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3742233">return</span>&nbsp;<span class="builtintype" id="3742240">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3742245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3742248">//&nbsp;Return&nbsp;a&nbsp;slice&nbsp;so&nbsp;we&nbsp;don&#39;t&nbsp;expose&nbsp;the&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3742295">m</span>&nbsp;<span class="op" id="3742297">:=</span>&nbsp;<span class="builtinfunc" id="3742300">make</span><span class="op" id="3742304">(</span><span class="op" id="3742305">[</span><span class="op" id="3742306">]</span><span class="op" id="3742307">*</span><span class="ident" id="3742308"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3742316">,</span>&nbsp;<span class="num" id="3742318">0</span><span class="op" id="3742319">,</span>&nbsp;<span class="builtinfunc" id="3742321">len</span><span class="op" id="3742324">(</span><span class="ident" id="3742325"><a href="/gostd/text/template/template.go.html#3742170">t</a></span><span class="op" id="3742326">.</span><span class="ident" id="3742327"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3742331">)</span><span class="op" id="3742332">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3742335">for</span>&nbsp;<span class="ident" id="3742339">_</span><span class="op" id="3742340">,</span>&nbsp;<span class="ident" id="3742342">v</span>&nbsp;<span class="op" id="3742344">:=</span>&nbsp;<span class="keyword" id="3742347">range</span>&nbsp;<span class="ident" id="3742353"><a href="/gostd/text/template/template.go.html#3742170">t</a></span><span class="op" id="3742354">.</span><span class="ident" id="3742355"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span>&nbsp;<span class="op" id="3742360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3742364"><a href="/gostd/text/template/template.go.html#3742295">m</a></span>&nbsp;<span class="op" id="3742366">=</span>&nbsp;<span class="builtinfunc" id="3742368">append</span><span class="op" id="3742374">(</span><span class="ident" id="3742375"><a href="/gostd/text/template/template.go.html#3742295">m</a></span><span class="op" id="3742376">,</span>&nbsp;<span class="ident" id="3742378"><a href="/gostd/text/template/template.go.html#3742342">v</a></span><span class="op" id="3742379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3742382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3742385">return</span>&nbsp;<span class="ident" id="3742392"><a href="/gostd/text/template/template.go.html#3742295">m</a></span><br>
<span class="lineno"></span><span class="op" id="3742394">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="3742397">//&nbsp;Delims&nbsp;sets&nbsp;the&nbsp;action&nbsp;delimiters&nbsp;to&nbsp;the&nbsp;specified&nbsp;strings,&nbsp;to&nbsp;be&nbsp;used&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="3742474">//&nbsp;subsequent&nbsp;calls&nbsp;to&nbsp;Parse,&nbsp;ParseFiles,&nbsp;or&nbsp;ParseGlob.&nbsp;Nested&nbsp;template</span><br>
<span class="lineno"></span><span class="comment" id="3742546">//&nbsp;definitions&nbsp;will&nbsp;inherit&nbsp;the&nbsp;settings.&nbsp;An&nbsp;empty&nbsp;delimiter&nbsp;stands&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3742622">//&nbsp;corresponding&nbsp;default:&nbsp;{{&nbsp;or&nbsp;}}.</span><br>
<span class="lineno">135</span><span class="comment" id="3742658">//&nbsp;The&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno"></span><span class="keyword" id="3742720">func</span>&nbsp;<span class="op" id="3742725">(</span><span class="ident" id="3742726">t</span>&nbsp;<span class="op" id="3742728">*</span><span class="ident" id="3742729"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3742737">)</span>&nbsp;<span class="ident" id="3742739">Delims</span><span class="op" id="3742745">(</span><span class="ident" id="3742746">left</span><span class="op" id="3742750">,</span>&nbsp;<span class="ident" id="3742752">right</span>&nbsp;<span class="builtintype" id="3742758">string</span><span class="op" id="3742764">)</span>&nbsp;<span class="op" id="3742766">*</span><span class="ident" id="3742767"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span>&nbsp;<span class="op" id="3742776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3742779"><a href="/gostd/text/template/template.go.html#3742726">t</a></span><span class="op" id="3742780">.</span><span class="ident" id="3742781"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span>&nbsp;<span class="op" id="3742791">=</span>&nbsp;<span class="ident" id="3742793"><a href="/gostd/text/template/template.go.html#3742746">left</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3742799"><a href="/gostd/text/template/template.go.html#3742726">t</a></span><span class="op" id="3742800">.</span><span class="ident" id="3742801"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span>&nbsp;<span class="op" id="3742812">=</span>&nbsp;<span class="ident" id="3742814"><a href="/gostd/text/template/template.go.html#3742752">right</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3742821">return</span>&nbsp;<span class="ident" id="3742828"><a href="/gostd/text/template/template.go.html#3742726">t</a></span><br>
<span class="lineno">140</span><span class="op" id="3742830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3742833">//&nbsp;Funcs&nbsp;adds&nbsp;the&nbsp;elements&nbsp;of&nbsp;the&nbsp;argument&nbsp;map&nbsp;to&nbsp;the&nbsp;template&#39;s&nbsp;function&nbsp;map.</span><br>
<span class="lineno"></span><span class="comment" id="3742912">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;a&nbsp;value&nbsp;in&nbsp;the&nbsp;map&nbsp;is&nbsp;not&nbsp;a&nbsp;function&nbsp;with&nbsp;appropriate&nbsp;return</span><br>
<span class="lineno"></span><span class="comment" id="3742989">//&nbsp;type.&nbsp;However,&nbsp;it&nbsp;is&nbsp;legal&nbsp;to&nbsp;overwrite&nbsp;elements&nbsp;of&nbsp;the&nbsp;map.&nbsp;The&nbsp;return</span><br>
<span class="lineno">145</span><span class="comment" id="3743064">//&nbsp;value&nbsp;is&nbsp;the&nbsp;template,&nbsp;so&nbsp;calls&nbsp;can&nbsp;be&nbsp;chained.</span><br>
<span class="lineno"></span><span class="keyword" id="3743115">func</span>&nbsp;<span class="op" id="3743120">(</span><span class="ident" id="3743121">t</span>&nbsp;<span class="op" id="3743123">*</span><span class="ident" id="3743124"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3743132">)</span>&nbsp;<span class="ident" id="3743134">Funcs</span><span class="op" id="3743139">(</span><span class="ident" id="3743140">funcMap</span>&nbsp;<span class="ident" id="3743148"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><span class="op" id="3743155">)</span>&nbsp;<span class="op" id="3743157">*</span><span class="ident" id="3743158"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span>&nbsp;<span class="op" id="3743167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3743170"><a href="/gostd/text/template/template.go.html#3743121">t</a></span><span class="op" id="3743171">.</span><span class="ident" id="3743172"><a href="/gostd/text/template/template.go.html#3740420">init</a></span><span class="op" id="3743176">(</span><span class="op" id="3743177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3743180"><a href="/gostd/text/template/funcs.go.html#3721774">addValueFuncs</a></span><span class="op" id="3743193">(</span><span class="ident" id="3743194"><a href="/gostd/text/template/template.go.html#3743121">t</a></span><span class="op" id="3743195">.</span><span class="ident" id="3743196"><a href="/gostd/text/template/template.go.html#3739474">execFuncs</a></span><span class="op" id="3743205">,</span>&nbsp;<span class="ident" id="3743207"><a href="/gostd/text/template/template.go.html#3743140">funcMap</a></span><span class="op" id="3743214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3743217"><a href="/gostd/text/template/funcs.go.html#3722244">addFuncs</a></span><span class="op" id="3743225">(</span><span class="ident" id="3743226"><a href="/gostd/text/template/template.go.html#3743121">t</a></span><span class="op" id="3743227">.</span><span class="ident" id="3743228"><a href="/gostd/text/template/template.go.html#3739454">parseFuncs</a></span><span class="op" id="3743238">,</span>&nbsp;<span class="ident" id="3743240"><a href="/gostd/text/template/template.go.html#3743140">funcMap</a></span><span class="op" id="3743247">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3743250">return</span>&nbsp;<span class="ident" id="3743257"><a href="/gostd/text/template/template.go.html#3743121">t</a></span><br>
<span class="lineno"></span><span class="op" id="3743259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3743262">//&nbsp;Lookup&nbsp;returns&nbsp;the&nbsp;template&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;that&nbsp;is&nbsp;associated&nbsp;with&nbsp;t,</span><br>
<span class="lineno"></span><span class="comment" id="3743340">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;template.</span><br>
<span class="lineno">155</span><span class="keyword" id="3743380">func</span>&nbsp;<span class="op" id="3743385">(</span><span class="ident" id="3743386">t</span>&nbsp;<span class="op" id="3743388">*</span><span class="ident" id="3743389"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3743397">)</span>&nbsp;<span class="ident" id="3743399">Lookup</span><span class="op" id="3743405">(</span><span class="ident" id="3743406">name</span>&nbsp;<span class="builtintype" id="3743411">string</span><span class="op" id="3743417">)</span>&nbsp;<span class="op" id="3743419">*</span><span class="ident" id="3743420"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span>&nbsp;<span class="op" id="3743429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3743432">if</span>&nbsp;<span class="ident" id="3743435"><a href="/gostd/text/template/template.go.html#3743386">t</a></span><span class="op" id="3743436">.</span><span class="ident" id="3743437"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3743444">==</span>&nbsp;<span class="builtintype" id="3743447">nil</span>&nbsp;<span class="op" id="3743451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3743455">return</span>&nbsp;<span class="builtintype" id="3743462">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3743467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3743470">return</span>&nbsp;<span class="ident" id="3743477"><a href="/gostd/text/template/template.go.html#3743386">t</a></span><span class="op" id="3743478">.</span><span class="ident" id="3743479"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3743483">[</span><span class="ident" id="3743484"><a href="/gostd/text/template/template.go.html#3743406">name</a></span><span class="op" id="3743488">]</span><br>
<span class="lineno">160</span><span class="op" id="3743490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3743493">//&nbsp;Parse&nbsp;parses&nbsp;a&nbsp;string&nbsp;into&nbsp;a&nbsp;template.&nbsp;Nested&nbsp;template&nbsp;definitions&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="3743571">//&nbsp;associated&nbsp;with&nbsp;the&nbsp;top-level&nbsp;template&nbsp;t.&nbsp;Parse&nbsp;may&nbsp;be&nbsp;called&nbsp;multiple&nbsp;times</span><br>
<span class="lineno"></span><span class="comment" id="3743651">//&nbsp;to&nbsp;parse&nbsp;definitions&nbsp;of&nbsp;templates&nbsp;to&nbsp;associate&nbsp;with&nbsp;t.&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;if&nbsp;a</span><br>
<span class="lineno">165</span><span class="comment" id="3743729">//&nbsp;resulting&nbsp;template&nbsp;is&nbsp;non-empty&nbsp;(contains&nbsp;content&nbsp;other&nbsp;than&nbsp;template</span><br>
<span class="lineno"></span><span class="comment" id="3743802">//&nbsp;definitions)&nbsp;and&nbsp;would&nbsp;replace&nbsp;a&nbsp;non-empty&nbsp;template&nbsp;with&nbsp;the&nbsp;same&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3743877">//&nbsp;(In&nbsp;multiple&nbsp;calls&nbsp;to&nbsp;Parse&nbsp;with&nbsp;the&nbsp;same&nbsp;receiver&nbsp;template,&nbsp;only&nbsp;one&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="3743955">//&nbsp;can&nbsp;contain&nbsp;text&nbsp;other&nbsp;than&nbsp;space,&nbsp;comments,&nbsp;and&nbsp;template&nbsp;definitions.)</span><br>
<span class="lineno"></span><span class="keyword" id="3744030">func</span>&nbsp;<span class="op" id="3744035">(</span><span class="ident" id="3744036">t</span>&nbsp;<span class="op" id="3744038">*</span><span class="ident" id="3744039"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3744047">)</span>&nbsp;<span class="ident" id="3744049">Parse</span><span class="op" id="3744054">(</span><span class="ident" id="3744055">text</span>&nbsp;<span class="builtintype" id="3744060">string</span><span class="op" id="3744066">)</span>&nbsp;<span class="op" id="3744068">(</span><span class="op" id="3744069">*</span><span class="ident" id="3744070"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3744078">,</span>&nbsp;<span class="builtintype" id="3744080">error</span><span class="op" id="3744085">)</span>&nbsp;<span class="op" id="3744087">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3744090"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744091">.</span><span class="ident" id="3744092"><a href="/gostd/text/template/template.go.html#3740420">init</a></span><span class="op" id="3744096">(</span><span class="op" id="3744097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3744100">trees</span><span class="op" id="3744105">,</span>&nbsp;<span class="ident" id="3744107">err</span>&nbsp;<span class="op" id="3744111">:=</span>&nbsp;<span class="ident" id="3744114"><a href="/gostd/text/template/template.go.html#3739163">parse</a></span><span class="op" id="3744119">.</span><span class="ident" id="3744120"><a href="/gostd/text/template/parse/parse.go.html#3182198">Parse</a></span><span class="op" id="3744125">(</span><span class="ident" id="3744126"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744127">.</span><span class="ident" id="3744128"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><span class="op" id="3744132">,</span>&nbsp;<span class="ident" id="3744134"><a href="/gostd/text/template/template.go.html#3744055">text</a></span><span class="op" id="3744138">,</span>&nbsp;<span class="ident" id="3744140"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744141">.</span><span class="ident" id="3744142"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span><span class="op" id="3744151">,</span>&nbsp;<span class="ident" id="3744153"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744154">.</span><span class="ident" id="3744155"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span><span class="op" id="3744165">,</span>&nbsp;<span class="ident" id="3744167"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744168">.</span><span class="ident" id="3744169"><a href="/gostd/text/template/template.go.html#3739454">parseFuncs</a></span><span class="op" id="3744179">,</span>&nbsp;<span class="ident" id="3744181"><a href="/gostd/text/template/funcs.go.html#3721009">builtins</a></span><span class="op" id="3744189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3744192">if</span>&nbsp;<span class="ident" id="3744195"><a href="/gostd/text/template/template.go.html#3744107">err</a></span>&nbsp;<span class="op" id="3744199">!=</span>&nbsp;<span class="builtintype" id="3744202">nil</span>&nbsp;<span class="op" id="3744206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3744210">return</span>&nbsp;<span class="builtintype" id="3744217">nil</span><span class="op" id="3744220">,</span>&nbsp;<span class="ident" id="3744222"><a href="/gostd/text/template/template.go.html#3744107">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3744227">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3744230">//&nbsp;Add&nbsp;the&nbsp;newly&nbsp;parsed&nbsp;trees,&nbsp;including&nbsp;the&nbsp;one&nbsp;for&nbsp;t,&nbsp;into&nbsp;our&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3744314">for</span>&nbsp;<span class="ident" id="3744318">name</span><span class="op" id="3744322">,</span>&nbsp;<span class="ident" id="3744324">tree</span>&nbsp;<span class="op" id="3744329">:=</span>&nbsp;<span class="keyword" id="3744332">range</span>&nbsp;<span class="ident" id="3744338"><a href="/gostd/text/template/template.go.html#3744100">trees</a></span>&nbsp;<span class="op" id="3744344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3744348">//&nbsp;If&nbsp;the&nbsp;name&nbsp;we&nbsp;parsed&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;this&nbsp;template,&nbsp;overwrite&nbsp;this&nbsp;template.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3744430">//&nbsp;The&nbsp;associate&nbsp;method&nbsp;checks&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;redefinition.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3744488">tmpl</span>&nbsp;<span class="op" id="3744493">:=</span>&nbsp;<span class="ident" id="3744496"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3744500">if</span>&nbsp;<span class="ident" id="3744503"><a href="/gostd/text/template/template.go.html#3744318">name</a></span>&nbsp;<span class="op" id="3744508">!=</span>&nbsp;<span class="ident" id="3744511"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744512">.</span><span class="ident" id="3744513"><a href="/gostd/text/template/template.go.html#3739721">name</a></span>&nbsp;<span class="op" id="3744518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3744523"><a href="/gostd/text/template/template.go.html#3744488">tmpl</a></span>&nbsp;<span class="op" id="3744528">=</span>&nbsp;<span class="ident" id="3744530"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744531">.</span><span class="ident" id="3744532"><a href="/gostd/text/template/template.go.html#3740238">New</a></span><span class="op" id="3744535">(</span><span class="ident" id="3744536"><a href="/gostd/text/template/template.go.html#3744318">name</a></span><span class="op" id="3744540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3744544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3744548">//&nbsp;Even&nbsp;if&nbsp;t&nbsp;==&nbsp;tmpl,&nbsp;we&nbsp;need&nbsp;to&nbsp;install&nbsp;it&nbsp;in&nbsp;the&nbsp;common.tmpl&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3744618">if</span>&nbsp;<span class="ident" id="3744621">replace</span><span class="op" id="3744628">,</span>&nbsp;<span class="ident" id="3744630">err</span>&nbsp;<span class="op" id="3744634">:=</span>&nbsp;<span class="ident" id="3744637"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744638">.</span><span class="ident" id="3744639"><a href="/gostd/text/template/template.go.html#3745136">associate</a></span><span class="op" id="3744648">(</span><span class="ident" id="3744649"><a href="/gostd/text/template/template.go.html#3744488">tmpl</a></span><span class="op" id="3744653">,</span>&nbsp;<span class="ident" id="3744655"><a href="/gostd/text/template/template.go.html#3744324">tree</a></span><span class="op" id="3744659">)</span><span class="op" id="3744660">;</span>&nbsp;<span class="ident" id="3744662"><a href="/gostd/text/template/template.go.html#3744630">err</a></span>&nbsp;<span class="op" id="3744666">!=</span>&nbsp;<span class="builtintype" id="3744669">nil</span>&nbsp;<span class="op" id="3744673">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3744678">return</span>&nbsp;<span class="builtintype" id="3744685">nil</span><span class="op" id="3744688">,</span>&nbsp;<span class="ident" id="3744690"><a href="/gostd/text/template/template.go.html#3744630">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3744696">}</span>&nbsp;<span class="keyword" id="3744698">else</span>&nbsp;<span class="keyword" id="3744703">if</span>&nbsp;<span class="ident" id="3744706"><a href="/gostd/text/template/template.go.html#3744621">replace</a></span>&nbsp;<span class="op" id="3744714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3744719"><a href="/gostd/text/template/template.go.html#3744488">tmpl</a></span><span class="op" id="3744723">.</span><span class="ident" id="3744724"><a href="/gostd/text/template/template.go.html#3739734">Tree</a></span>&nbsp;<span class="op" id="3744729">=</span>&nbsp;<span class="ident" id="3744731"><a href="/gostd/text/template/template.go.html#3744324">tree</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3744738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3744742"><a href="/gostd/text/template/template.go.html#3744488">tmpl</a></span><span class="op" id="3744746">.</span><span class="ident" id="3744747"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span>&nbsp;<span class="op" id="3744757">=</span>&nbsp;<span class="ident" id="3744759"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744760">.</span><span class="ident" id="3744761"><a href="/gostd/text/template/template.go.html#3739756">leftDelim</a></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3744773"><a href="/gostd/text/template/template.go.html#3744488">tmpl</a></span><span class="op" id="3744777">.</span><span class="ident" id="3744778"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span>&nbsp;<span class="op" id="3744789">=</span>&nbsp;<span class="ident" id="3744791"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744792">.</span><span class="ident" id="3744793"><a href="/gostd/text/template/template.go.html#3739775">rightDelim</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3744805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3744808">return</span>&nbsp;<span class="ident" id="3744815"><a href="/gostd/text/template/template.go.html#3744036">t</a></span><span class="op" id="3744816">,</span>&nbsp;<span class="builtintype" id="3744818">nil</span><br>
<span class="lineno"></span><span class="op" id="3744822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="3744825">//&nbsp;associate&nbsp;installs&nbsp;the&nbsp;new&nbsp;template&nbsp;into&nbsp;the&nbsp;group&nbsp;of&nbsp;templates&nbsp;associated</span><br>
<span class="lineno"></span><span class="comment" id="3744903">//&nbsp;with&nbsp;t.&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;reuse&nbsp;a&nbsp;name&nbsp;except&nbsp;to&nbsp;overwrite&nbsp;an&nbsp;empty</span><br>
<span class="lineno"></span><span class="comment" id="3744974">//&nbsp;template.&nbsp;The&nbsp;two&nbsp;are&nbsp;already&nbsp;known&nbsp;to&nbsp;share&nbsp;the&nbsp;common&nbsp;structure.</span><br>
<span class="lineno"></span><span class="comment" id="3745044">//&nbsp;The&nbsp;boolean&nbsp;return&nbsp;value&nbsp;reports&nbsp;wither&nbsp;to&nbsp;store&nbsp;this&nbsp;tree&nbsp;as&nbsp;t.Tree.</span><br>
<span class="lineno"></span><span class="keyword" id="3745117">func</span>&nbsp;<span class="op" id="3745122">(</span><span class="ident" id="3745123">t</span>&nbsp;<span class="op" id="3745125">*</span><span class="ident" id="3745126"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3745134">)</span>&nbsp;<span class="ident" id="3745136">associate</span><span class="op" id="3745145">(</span><span class="builtinfunc" id="3745146">new</span>&nbsp;<span class="op" id="3745150">*</span><span class="ident" id="3745151"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3745159">,</span>&nbsp;<span class="ident" id="3745161">tree</span>&nbsp;<span class="op" id="3745166">*</span><span class="ident" id="3745167"><a href="/gostd/text/template/template.go.html#3739163">parse</a></span><span class="op" id="3745172">.</span><span class="ident" id="3745173"><a href="/gostd/text/template/parse/parse.go.html#3181141">Tree</a></span><span class="op" id="3745177">)</span>&nbsp;<span class="op" id="3745179">(</span><span class="builtintype" id="3745180">bool</span><span class="op" id="3745184">,</span>&nbsp;<span class="builtintype" id="3745186">error</span><span class="op" id="3745191">)</span>&nbsp;<span class="op" id="3745193">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3745196">if</span>&nbsp;<span class="builtinfunc" id="3745199"><a href="/gostd/text/template/template.go.html#3745146">new</a></span><span class="op" id="3745202">.</span><span class="ident" id="3745203"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3745210">!=</span>&nbsp;<span class="ident" id="3745213"><a href="/gostd/text/template/template.go.html#3745123">t</a></span><span class="op" id="3745214">.</span><span class="ident" id="3745215"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3745222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3745226">panic</span><span class="op" id="3745231">(</span><span class="string" id="3745232">&#34;internal&nbsp;error:&nbsp;associate&nbsp;not&nbsp;common&#34;</span><span class="op" id="3745270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3745273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3745276">name</span>&nbsp;<span class="op" id="3745281">:=</span>&nbsp;<span class="builtinfunc" id="3745284"><a href="/gostd/text/template/template.go.html#3745146">new</a></span><span class="op" id="3745287">.</span><span class="ident" id="3745288"><a href="/gostd/text/template/template.go.html#3739721">name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3745294">if</span>&nbsp;<span class="ident" id="3745297">old</span>&nbsp;<span class="op" id="3745301">:=</span>&nbsp;<span class="ident" id="3745304"><a href="/gostd/text/template/template.go.html#3745123">t</a></span><span class="op" id="3745305">.</span><span class="ident" id="3745306"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3745310">[</span><span class="ident" id="3745311"><a href="/gostd/text/template/template.go.html#3745276">name</a></span><span class="op" id="3745315">]</span><span class="op" id="3745316">;</span>&nbsp;<span class="ident" id="3745318"><a href="/gostd/text/template/template.go.html#3745297">old</a></span>&nbsp;<span class="op" id="3745322">!=</span>&nbsp;<span class="builtintype" id="3745325">nil</span>&nbsp;<span class="op" id="3745329">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3745333">oldIsEmpty</span>&nbsp;<span class="op" id="3745344">:=</span>&nbsp;<span class="ident" id="3745347"><a href="/gostd/text/template/template.go.html#3739163">parse</a></span><span class="op" id="3745352">.</span><span class="ident" id="3745353"><a href="/gostd/text/template/parse/parse.go.html#3187271">IsEmptyTree</a></span><span class="op" id="3745364">(</span><span class="ident" id="3745365"><a href="/gostd/text/template/template.go.html#3745297">old</a></span><span class="op" id="3745368">.</span><span class="ident" id="3745369"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="3745373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3745377">newIsEmpty</span>&nbsp;<span class="op" id="3745388">:=</span>&nbsp;<span class="ident" id="3745391"><a href="/gostd/text/template/template.go.html#3739163">parse</a></span><span class="op" id="3745396">.</span><span class="ident" id="3745397"><a href="/gostd/text/template/parse/parse.go.html#3187271">IsEmptyTree</a></span><span class="op" id="3745408">(</span><span class="ident" id="3745409"><a href="/gostd/text/template/template.go.html#3745161">tree</a></span><span class="op" id="3745413">.</span><span class="ident" id="3745414"><a href="/gostd/text/template/parse/parse.go.html#3181317">Root</a></span><span class="op" id="3745418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3745422">if</span>&nbsp;<span class="ident" id="3745425"><a href="/gostd/text/template/template.go.html#3745377">newIsEmpty</a></span>&nbsp;<span class="op" id="3745436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3745441">//&nbsp;Whether&nbsp;old&nbsp;is&nbsp;empty&nbsp;or&nbsp;not,&nbsp;new&nbsp;is&nbsp;empty;&nbsp;no&nbsp;reason&nbsp;to&nbsp;replace&nbsp;old.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3745516">return</span>&nbsp;<span class="builtintype" id="3745523">false</span><span class="op" id="3745528">,</span>&nbsp;<span class="builtintype" id="3745530">nil</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3745536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3745540">if</span>&nbsp;<span class="op" id="3745543">!</span><span class="ident" id="3745544"><a href="/gostd/text/template/template.go.html#3745333">oldIsEmpty</a></span>&nbsp;<span class="op" id="3745555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3745560">return</span>&nbsp;<span class="builtintype" id="3745567">false</span><span class="op" id="3745572">,</span>&nbsp;<span class="ident" id="3745574"><a href="/gostd/text/template/template.go.html#3739145">fmt</a></span><span class="op" id="3745577">.</span><span class="ident" id="3745578"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3745584">(</span><span class="string" id="3745585">&#34;template:&nbsp;redefinition&nbsp;of&nbsp;template&nbsp;%q&#34;</span><span class="op" id="3745624">,</span>&nbsp;<span class="ident" id="3745626"><a href="/gostd/text/template/template.go.html#3745276">name</a></span><span class="op" id="3745630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3745634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3745637">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3745640"><a href="/gostd/text/template/template.go.html#3745123">t</a></span><span class="op" id="3745641">.</span><span class="ident" id="3745642"><a href="/gostd/text/template/template.go.html#3739271">tmpl</a></span><span class="op" id="3745646">[</span><span class="ident" id="3745647"><a href="/gostd/text/template/template.go.html#3745276">name</a></span><span class="op" id="3745651">]</span>&nbsp;<span class="op" id="3745653">=</span>&nbsp;<span class="builtinfunc" id="3745655"><a href="/gostd/text/template/template.go.html#3745146">new</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3745660">return</span>&nbsp;<span class="builtintype" id="3745667">true</span><span class="op" id="3745671">,</span>&nbsp;<span class="builtintype" id="3745673">nil</span><br>
<span class="lineno"></span><span class="op" id="3745677">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
