<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>container/ring</h2>
<ul>
<li><a href="/gostd/container/ring/ring.go.html">ring.go</a></li>
<li><a href="/gostd/container/ring/ring_test.go.html">ring_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6494667">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6494722">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6494776">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6494827">package</span>&nbsp;<span class="ident" id="6494835">ring</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6494841">import</span>&nbsp;<span class="op" id="6494848">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6494851">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6494858">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6494868">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6494871">//&nbsp;For&nbsp;debugging&nbsp;-&nbsp;keep&nbsp;around.</span><br>
<span class="lineno"></span><span class="keyword" id="6494903">func</span>&nbsp;<span class="ident" id="6494908">dump</span><span class="op" id="6494912">(</span><span class="ident" id="6494913">r</span>&nbsp;<span class="op" id="6494915">*</span><span class="ident" id="6494916">Ring</span><span class="op" id="6494920">)</span>&nbsp;<span class="op" id="6494922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6494925">if</span>&nbsp;<span class="ident" id="6494928">r</span>&nbsp;<span class="op" id="6494930">==</span>&nbsp;<span class="ident" id="6494933">nil</span>&nbsp;<span class="op" id="6494937">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6494941">fmt</span><span class="op" id="6494944">.</span><span class="ident" id="6494945">Println</span><span class="op" id="6494952">(</span><span class="string" id="6494953">&#34;empty&#34;</span><span class="op" id="6494960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6494964">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6494972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6494975">i</span><span class="op" id="6494976">,</span>&nbsp;<span class="ident" id="6494978">n</span>&nbsp;<span class="op" id="6494980">:=</span>&nbsp;<span class="num" id="6494983">0</span><span class="op" id="6494984">,</span>&nbsp;<span class="ident" id="6494986">r</span><span class="op" id="6494987">.</span><span class="ident" id="6494988">Len</span><span class="op" id="6494991">(</span><span class="op" id="6494992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6494995">for</span>&nbsp;<span class="ident" id="6494999">p</span>&nbsp;<span class="op" id="6495001">:=</span>&nbsp;<span class="ident" id="6495004">r</span><span class="op" id="6495005">;</span>&nbsp;<span class="ident" id="6495007">i</span>&nbsp;<span class="op" id="6495009">&lt;</span>&nbsp;<span class="ident" id="6495011">n</span><span class="op" id="6495012">;</span>&nbsp;<span class="ident" id="6495014">p</span>&nbsp;<span class="op" id="6495016">=</span>&nbsp;<span class="ident" id="6495018">p</span><span class="op" id="6495019">.</span><span class="ident" id="6495020">next</span>&nbsp;<span class="op" id="6495025">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495029">fmt</span><span class="op" id="6495032">.</span><span class="ident" id="6495033">Printf</span><span class="op" id="6495039">(</span><span class="string" id="6495040">&#34;%4d:&nbsp;%p&nbsp;=&nbsp;{&lt;-&nbsp;%p&nbsp;|&nbsp;%p&nbsp;-&gt;}\n&#34;</span><span class="op" id="6495069">,</span>&nbsp;<span class="ident" id="6495071">i</span><span class="op" id="6495072">,</span>&nbsp;<span class="ident" id="6495074">p</span><span class="op" id="6495075">,</span>&nbsp;<span class="ident" id="6495077">p</span><span class="op" id="6495078">.</span><span class="ident" id="6495079">prev</span><span class="op" id="6495083">,</span>&nbsp;<span class="ident" id="6495085">p</span><span class="op" id="6495086">.</span><span class="ident" id="6495087">next</span><span class="op" id="6495091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495095">i</span><span class="op" id="6495096">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495103">fmt</span><span class="op" id="6495106">.</span><span class="ident" id="6495107">Println</span><span class="op" id="6495114">(</span><span class="op" id="6495115">)</span><br>
<span class="lineno"></span><span class="op" id="6495117">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="6495120">func</span>&nbsp;<span class="ident" id="6495125">verify</span><span class="op" id="6495131">(</span><span class="ident" id="6495132">t</span>&nbsp;<span class="op" id="6495134">*</span><span class="ident" id="6495135">testing</span><span class="op" id="6495142">.</span><span class="ident" id="6495143">T</span><span class="op" id="6495144">,</span>&nbsp;<span class="ident" id="6495146">r</span>&nbsp;<span class="op" id="6495148">*</span><span class="ident" id="6495149">Ring</span><span class="op" id="6495153">,</span>&nbsp;<span class="ident" id="6495155">N</span>&nbsp;<span class="builtintype" id="6495157">int</span><span class="op" id="6495160">,</span>&nbsp;<span class="ident" id="6495162">sum</span>&nbsp;<span class="builtintype" id="6495166">int</span><span class="op" id="6495169">)</span>&nbsp;<span class="op" id="6495171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6495174">//&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495182">n</span>&nbsp;<span class="op" id="6495184">:=</span>&nbsp;<span class="ident" id="6495187">r</span><span class="op" id="6495188">.</span><span class="ident" id="6495189">Len</span><span class="op" id="6495192">(</span><span class="op" id="6495193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495196">if</span>&nbsp;<span class="ident" id="6495199">n</span>&nbsp;<span class="op" id="6495201">!=</span>&nbsp;<span class="ident" id="6495204">N</span>&nbsp;<span class="op" id="6495206">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495210">t</span><span class="op" id="6495211">.</span><span class="ident" id="6495212">Errorf</span><span class="op" id="6495218">(</span><span class="string" id="6495219">&#34;r.Len()&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6495247">,</span>&nbsp;<span class="ident" id="6495249">n</span><span class="op" id="6495250">,</span>&nbsp;<span class="ident" id="6495252">N</span><span class="op" id="6495253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6495260">//&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495274">n</span>&nbsp;<span class="op" id="6495276">=</span>&nbsp;<span class="num" id="6495278">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495281">s</span>&nbsp;<span class="op" id="6495283">:=</span>&nbsp;<span class="num" id="6495286">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495289">r</span><span class="op" id="6495290">.</span><span class="ident" id="6495291">Do</span><span class="op" id="6495293">(</span><span class="keyword" id="6495294">func</span><span class="op" id="6495298">(</span><span class="ident" id="6495299">p</span>&nbsp;<span class="keyword" id="6495301">interface</span><span class="op" id="6495310">{</span><span class="op" id="6495311">}</span><span class="op" id="6495312">)</span>&nbsp;<span class="op" id="6495314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495318">n</span><span class="op" id="6495319">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495324">if</span>&nbsp;<span class="ident" id="6495327">p</span>&nbsp;<span class="op" id="6495329">!=</span>&nbsp;<span class="ident" id="6495332">nil</span>&nbsp;<span class="op" id="6495336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495341">s</span>&nbsp;<span class="op" id="6495343">+=</span>&nbsp;<span class="ident" id="6495346">p</span><span class="op" id="6495347">.</span><span class="op" id="6495348">(</span><span class="builtintype" id="6495349">int</span><span class="op" id="6495352">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495359">}</span><span class="op" id="6495360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495363">if</span>&nbsp;<span class="ident" id="6495366">n</span>&nbsp;<span class="op" id="6495368">!=</span>&nbsp;<span class="ident" id="6495371">N</span>&nbsp;<span class="op" id="6495373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495377">t</span><span class="op" id="6495378">.</span><span class="ident" id="6495379">Errorf</span><span class="op" id="6495385">(</span><span class="string" id="6495386">&#34;number&nbsp;of&nbsp;forward&nbsp;iterations&nbsp;==&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6495435">,</span>&nbsp;<span class="ident" id="6495437">n</span><span class="op" id="6495438">,</span>&nbsp;<span class="ident" id="6495440">N</span><span class="op" id="6495441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495444">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495447">if</span>&nbsp;<span class="ident" id="6495450">sum</span>&nbsp;<span class="op" id="6495454">&gt;=</span>&nbsp;<span class="num" id="6495457">0</span>&nbsp;<span class="op" id="6495459">&amp;&amp;</span>&nbsp;<span class="ident" id="6495462">s</span>&nbsp;<span class="op" id="6495464">!=</span>&nbsp;<span class="ident" id="6495467">sum</span>&nbsp;<span class="op" id="6495471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495475">t</span><span class="op" id="6495476">.</span><span class="ident" id="6495477">Errorf</span><span class="op" id="6495483">(</span><span class="string" id="6495484">&#34;forward&nbsp;ring&nbsp;sum&nbsp;=&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="6495520">,</span>&nbsp;<span class="ident" id="6495522">s</span><span class="op" id="6495523">,</span>&nbsp;<span class="ident" id="6495525">sum</span><span class="op" id="6495528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495531">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495535">if</span>&nbsp;<span class="ident" id="6495538">r</span>&nbsp;<span class="op" id="6495540">==</span>&nbsp;<span class="ident" id="6495543">nil</span>&nbsp;<span class="op" id="6495547">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495551">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6495563">//&nbsp;connections</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495579">if</span>&nbsp;<span class="ident" id="6495582">r</span><span class="op" id="6495583">.</span><span class="ident" id="6495584">next</span>&nbsp;<span class="op" id="6495589">!=</span>&nbsp;<span class="ident" id="6495592">nil</span>&nbsp;<span class="op" id="6495596">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495600">var</span>&nbsp;<span class="ident" id="6495604">p</span>&nbsp;<span class="op" id="6495606">*</span><span class="ident" id="6495607">Ring</span>&nbsp;<span class="comment" id="6495612">//&nbsp;previous&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495634">for</span>&nbsp;<span class="ident" id="6495638">q</span>&nbsp;<span class="op" id="6495640">:=</span>&nbsp;<span class="ident" id="6495643">r</span><span class="op" id="6495644">;</span>&nbsp;<span class="ident" id="6495646">p</span>&nbsp;<span class="op" id="6495648">==</span>&nbsp;<span class="ident" id="6495651">nil</span>&nbsp;<span class="op" id="6495655">||</span>&nbsp;<span class="ident" id="6495658">q</span>&nbsp;<span class="op" id="6495660">!=</span>&nbsp;<span class="ident" id="6495663">r</span><span class="op" id="6495664">;</span>&nbsp;<span class="ident" id="6495666">q</span>&nbsp;<span class="op" id="6495668">=</span>&nbsp;<span class="ident" id="6495670">q</span><span class="op" id="6495671">.</span><span class="ident" id="6495672">next</span>&nbsp;<span class="op" id="6495677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495682">if</span>&nbsp;<span class="ident" id="6495685">p</span>&nbsp;<span class="op" id="6495687">!=</span>&nbsp;<span class="ident" id="6495690">nil</span>&nbsp;<span class="op" id="6495694">&amp;&amp;</span>&nbsp;<span class="ident" id="6495697">p</span>&nbsp;<span class="op" id="6495699">!=</span>&nbsp;<span class="ident" id="6495702">q</span><span class="op" id="6495703">.</span><span class="ident" id="6495704">prev</span>&nbsp;<span class="op" id="6495709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495715">t</span><span class="op" id="6495716">.</span><span class="ident" id="6495717">Errorf</span><span class="op" id="6495723">(</span><span class="string" id="6495724">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;q.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="6495759">,</span>&nbsp;<span class="ident" id="6495761">p</span><span class="op" id="6495762">,</span>&nbsp;<span class="ident" id="6495764">q</span><span class="op" id="6495765">.</span><span class="ident" id="6495766">prev</span><span class="op" id="6495770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495775">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495780">p</span>&nbsp;<span class="op" id="6495782">=</span>&nbsp;<span class="ident" id="6495784">q</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495792">if</span>&nbsp;<span class="ident" id="6495795">p</span>&nbsp;<span class="op" id="6495797">!=</span>&nbsp;<span class="ident" id="6495800">r</span><span class="op" id="6495801">.</span><span class="ident" id="6495802">prev</span>&nbsp;<span class="op" id="6495807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495812">t</span><span class="op" id="6495813">.</span><span class="ident" id="6495814">Errorf</span><span class="op" id="6495820">(</span><span class="string" id="6495821">&#34;prev&nbsp;=&nbsp;%p,&nbsp;expected&nbsp;r.prev&nbsp;=&nbsp;%p\n&#34;</span><span class="op" id="6495856">,</span>&nbsp;<span class="ident" id="6495858">p</span><span class="op" id="6495859">,</span>&nbsp;<span class="ident" id="6495861">r</span><span class="op" id="6495862">.</span><span class="ident" id="6495863">prev</span><span class="op" id="6495867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495871">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6495878">//&nbsp;Next,&nbsp;Prev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495893">if</span>&nbsp;<span class="ident" id="6495896">r</span><span class="op" id="6495897">.</span><span class="ident" id="6495898">Next</span><span class="op" id="6495902">(</span><span class="op" id="6495903">)</span>&nbsp;<span class="op" id="6495905">!=</span>&nbsp;<span class="ident" id="6495908">r</span><span class="op" id="6495909">.</span><span class="ident" id="6495910">next</span>&nbsp;<span class="op" id="6495915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495919">t</span><span class="op" id="6495920">.</span><span class="ident" id="6495921">Errorf</span><span class="op" id="6495927">(</span><span class="string" id="6495928">&#34;r.Next()&nbsp;!=&nbsp;r.next&#34;</span><span class="op" id="6495948">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6495951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6495954">if</span>&nbsp;<span class="ident" id="6495957">r</span><span class="op" id="6495958">.</span><span class="ident" id="6495959">Prev</span><span class="op" id="6495963">(</span><span class="op" id="6495964">)</span>&nbsp;<span class="op" id="6495966">!=</span>&nbsp;<span class="ident" id="6495969">r</span><span class="op" id="6495970">.</span><span class="ident" id="6495971">prev</span>&nbsp;<span class="op" id="6495976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6495980">t</span><span class="op" id="6495981">.</span><span class="ident" id="6495982">Errorf</span><span class="op" id="6495988">(</span><span class="string" id="6495989">&#34;r.Prev()&nbsp;!=&nbsp;r.prev&#34;</span><span class="op" id="6496009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6496016">//&nbsp;Move</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496025">if</span>&nbsp;<span class="ident" id="6496028">r</span><span class="op" id="6496029">.</span><span class="ident" id="6496030">Move</span><span class="op" id="6496034">(</span><span class="num" id="6496035">0</span><span class="op" id="6496036">)</span>&nbsp;<span class="op" id="6496038">!=</span>&nbsp;<span class="ident" id="6496041">r</span>&nbsp;<span class="op" id="6496043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496047">t</span><span class="op" id="6496048">.</span><span class="ident" id="6496049">Errorf</span><span class="op" id="6496055">(</span><span class="string" id="6496056">&#34;r.Move(0)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="6496072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496078">if</span>&nbsp;<span class="ident" id="6496081">r</span><span class="op" id="6496082">.</span><span class="ident" id="6496083">Move</span><span class="op" id="6496087">(</span><span class="ident" id="6496088">N</span><span class="op" id="6496089">)</span>&nbsp;<span class="op" id="6496091">!=</span>&nbsp;<span class="ident" id="6496094">r</span>&nbsp;<span class="op" id="6496096">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496100">t</span><span class="op" id="6496101">.</span><span class="ident" id="6496102">Errorf</span><span class="op" id="6496108">(</span><span class="string" id="6496109">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="6496126">,</span>&nbsp;<span class="ident" id="6496128">N</span><span class="op" id="6496129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496135">if</span>&nbsp;<span class="ident" id="6496138">r</span><span class="op" id="6496139">.</span><span class="ident" id="6496140">Move</span><span class="op" id="6496144">(</span><span class="op" id="6496145">-</span><span class="ident" id="6496146">N</span><span class="op" id="6496147">)</span>&nbsp;<span class="op" id="6496149">!=</span>&nbsp;<span class="ident" id="6496152">r</span>&nbsp;<span class="op" id="6496154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496158">t</span><span class="op" id="6496159">.</span><span class="ident" id="6496160">Errorf</span><span class="op" id="6496166">(</span><span class="string" id="6496167">&#34;r.Move(%d)&nbsp;!=&nbsp;r&#34;</span><span class="op" id="6496184">,</span>&nbsp;<span class="op" id="6496186">-</span><span class="ident" id="6496187">N</span><span class="op" id="6496188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496191">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496194">for</span>&nbsp;<span class="ident" id="6496198">i</span>&nbsp;<span class="op" id="6496200">:=</span>&nbsp;<span class="num" id="6496203">0</span><span class="op" id="6496204">;</span>&nbsp;<span class="ident" id="6496206">i</span>&nbsp;<span class="op" id="6496208">&lt;</span>&nbsp;<span class="num" id="6496210">10</span><span class="op" id="6496212">;</span>&nbsp;<span class="ident" id="6496214">i</span><span class="op" id="6496215">++</span>&nbsp;<span class="op" id="6496218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496222">ni</span>&nbsp;<span class="op" id="6496225">:=</span>&nbsp;<span class="ident" id="6496228">N</span>&nbsp;<span class="op" id="6496230">+</span>&nbsp;<span class="ident" id="6496232">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496236">mi</span>&nbsp;<span class="op" id="6496239">:=</span>&nbsp;<span class="ident" id="6496242">ni</span>&nbsp;<span class="op" id="6496245">%</span>&nbsp;<span class="ident" id="6496247">N</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496251">if</span>&nbsp;<span class="ident" id="6496254">r</span><span class="op" id="6496255">.</span><span class="ident" id="6496256">Move</span><span class="op" id="6496260">(</span><span class="ident" id="6496261">ni</span><span class="op" id="6496263">)</span>&nbsp;<span class="op" id="6496265">!=</span>&nbsp;<span class="ident" id="6496268">r</span><span class="op" id="6496269">.</span><span class="ident" id="6496270">Move</span><span class="op" id="6496274">(</span><span class="ident" id="6496275">mi</span><span class="op" id="6496277">)</span>&nbsp;<span class="op" id="6496279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496284">t</span><span class="op" id="6496285">.</span><span class="ident" id="6496286">Errorf</span><span class="op" id="6496292">(</span><span class="string" id="6496293">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="6496319">,</span>&nbsp;<span class="ident" id="6496321">ni</span><span class="op" id="6496323">,</span>&nbsp;<span class="ident" id="6496325">mi</span><span class="op" id="6496327">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496335">if</span>&nbsp;<span class="ident" id="6496338">r</span><span class="op" id="6496339">.</span><span class="ident" id="6496340">Move</span><span class="op" id="6496344">(</span><span class="op" id="6496345">-</span><span class="ident" id="6496346">ni</span><span class="op" id="6496348">)</span>&nbsp;<span class="op" id="6496350">!=</span>&nbsp;<span class="ident" id="6496353">r</span><span class="op" id="6496354">.</span><span class="ident" id="6496355">Move</span><span class="op" id="6496359">(</span><span class="op" id="6496360">-</span><span class="ident" id="6496361">mi</span><span class="op" id="6496363">)</span>&nbsp;<span class="op" id="6496365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496370">t</span><span class="op" id="6496371">.</span><span class="ident" id="6496372">Errorf</span><span class="op" id="6496378">(</span><span class="string" id="6496379">&#34;r.Move(%d)&nbsp;!=&nbsp;r.Move(%d)&#34;</span><span class="op" id="6496405">,</span>&nbsp;<span class="op" id="6496407">-</span><span class="ident" id="6496408">ni</span><span class="op" id="6496410">,</span>&nbsp;<span class="op" id="6496412">-</span><span class="ident" id="6496413">mi</span><span class="op" id="6496415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496422">}</span><br>
<span class="lineno">95</span><span class="op" id="6496424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6496427">func</span>&nbsp;<span class="ident" id="6496432">TestCornerCases</span><span class="op" id="6496447">(</span><span class="ident" id="6496448">t</span>&nbsp;<span class="op" id="6496450">*</span><span class="ident" id="6496451">testing</span><span class="op" id="6496458">.</span><span class="ident" id="6496459">T</span><span class="op" id="6496460">)</span>&nbsp;<span class="op" id="6496462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496465">var</span>&nbsp;<span class="op" id="6496469">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496473">r0</span>&nbsp;<span class="op" id="6496476">*</span><span class="ident" id="6496477">Ring</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496484">r1</span>&nbsp;<span class="ident" id="6496487">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6496496">//&nbsp;Basics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496507">verify</span><span class="op" id="6496513">(</span><span class="ident" id="6496514">t</span><span class="op" id="6496515">,</span>&nbsp;<span class="ident" id="6496517">r0</span><span class="op" id="6496519">,</span>&nbsp;<span class="num" id="6496521">0</span><span class="op" id="6496522">,</span>&nbsp;<span class="num" id="6496524">0</span><span class="op" id="6496525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496528">verify</span><span class="op" id="6496534">(</span><span class="ident" id="6496535">t</span><span class="op" id="6496536">,</span>&nbsp;<span class="op" id="6496538">&amp;</span><span class="ident" id="6496539">r1</span><span class="op" id="6496541">,</span>&nbsp;<span class="num" id="6496543">1</span><span class="op" id="6496544">,</span>&nbsp;<span class="num" id="6496546">0</span><span class="op" id="6496547">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6496550">//&nbsp;Insert</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496561">r1</span><span class="op" id="6496563">.</span><span class="ident" id="6496564">Link</span><span class="op" id="6496568">(</span><span class="ident" id="6496569">r0</span><span class="op" id="6496571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496574">verify</span><span class="op" id="6496580">(</span><span class="ident" id="6496581">t</span><span class="op" id="6496582">,</span>&nbsp;<span class="ident" id="6496584">r0</span><span class="op" id="6496586">,</span>&nbsp;<span class="num" id="6496588">0</span><span class="op" id="6496589">,</span>&nbsp;<span class="num" id="6496591">0</span><span class="op" id="6496592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496595">verify</span><span class="op" id="6496601">(</span><span class="ident" id="6496602">t</span><span class="op" id="6496603">,</span>&nbsp;<span class="op" id="6496605">&amp;</span><span class="ident" id="6496606">r1</span><span class="op" id="6496608">,</span>&nbsp;<span class="num" id="6496610">1</span><span class="op" id="6496611">,</span>&nbsp;<span class="num" id="6496613">0</span><span class="op" id="6496614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6496617">//&nbsp;Insert</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496628">r1</span><span class="op" id="6496630">.</span><span class="ident" id="6496631">Link</span><span class="op" id="6496635">(</span><span class="ident" id="6496636">r0</span><span class="op" id="6496638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496641">verify</span><span class="op" id="6496647">(</span><span class="ident" id="6496648">t</span><span class="op" id="6496649">,</span>&nbsp;<span class="ident" id="6496651">r0</span><span class="op" id="6496653">,</span>&nbsp;<span class="num" id="6496655">0</span><span class="op" id="6496656">,</span>&nbsp;<span class="num" id="6496658">0</span><span class="op" id="6496659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496662">verify</span><span class="op" id="6496668">(</span><span class="ident" id="6496669">t</span><span class="op" id="6496670">,</span>&nbsp;<span class="op" id="6496672">&amp;</span><span class="ident" id="6496673">r1</span><span class="op" id="6496675">,</span>&nbsp;<span class="num" id="6496677">1</span><span class="op" id="6496678">,</span>&nbsp;<span class="num" id="6496680">0</span><span class="op" id="6496681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6496684">//&nbsp;Unlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496695">r1</span><span class="op" id="6496697">.</span><span class="ident" id="6496698">Unlink</span><span class="op" id="6496704">(</span><span class="num" id="6496705">0</span><span class="op" id="6496706">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496709">verify</span><span class="op" id="6496715">(</span><span class="ident" id="6496716">t</span><span class="op" id="6496717">,</span>&nbsp;<span class="op" id="6496719">&amp;</span><span class="ident" id="6496720">r1</span><span class="op" id="6496722">,</span>&nbsp;<span class="num" id="6496724">1</span><span class="op" id="6496725">,</span>&nbsp;<span class="num" id="6496727">0</span><span class="op" id="6496728">)</span><br>
<span class="lineno"></span><span class="op" id="6496730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6496733">func</span>&nbsp;<span class="ident" id="6496738">makeN</span><span class="op" id="6496743">(</span><span class="ident" id="6496744">n</span>&nbsp;<span class="builtintype" id="6496746">int</span><span class="op" id="6496749">)</span>&nbsp;<span class="op" id="6496751">*</span><span class="ident" id="6496752">Ring</span>&nbsp;<span class="op" id="6496757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496760">r</span>&nbsp;<span class="op" id="6496762">:=</span>&nbsp;<span class="ident" id="6496765">New</span><span class="op" id="6496768">(</span><span class="ident" id="6496769">n</span><span class="op" id="6496770">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496773">for</span>&nbsp;<span class="ident" id="6496777">i</span>&nbsp;<span class="op" id="6496779">:=</span>&nbsp;<span class="num" id="6496782">1</span><span class="op" id="6496783">;</span>&nbsp;<span class="ident" id="6496785">i</span>&nbsp;<span class="op" id="6496787">&lt;=</span>&nbsp;<span class="ident" id="6496790">n</span><span class="op" id="6496791">;</span>&nbsp;<span class="ident" id="6496793">i</span><span class="op" id="6496794">++</span>&nbsp;<span class="op" id="6496797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496801">r</span><span class="op" id="6496802">.</span><span class="ident" id="6496803">Value</span>&nbsp;<span class="op" id="6496809">=</span>&nbsp;<span class="ident" id="6496811">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496815">r</span>&nbsp;<span class="op" id="6496817">=</span>&nbsp;<span class="ident" id="6496819">r</span><span class="op" id="6496820">.</span><span class="ident" id="6496821">Next</span><span class="op" id="6496825">(</span><span class="op" id="6496826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496832">return</span>&nbsp;<span class="ident" id="6496839">r</span><br>
<span class="lineno">125</span><span class="op" id="6496841">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6496844">func</span>&nbsp;<span class="ident" id="6496849">sumN</span><span class="op" id="6496853">(</span><span class="ident" id="6496854">n</span>&nbsp;<span class="builtintype" id="6496856">int</span><span class="op" id="6496859">)</span>&nbsp;<span class="builtintype" id="6496861">int</span>&nbsp;<span class="op" id="6496865">{</span>&nbsp;<span class="keyword" id="6496867">return</span>&nbsp;<span class="op" id="6496874">(</span><span class="ident" id="6496875">n</span><span class="op" id="6496876">*</span><span class="ident" id="6496877">n</span>&nbsp;<span class="op" id="6496879">+</span>&nbsp;<span class="ident" id="6496881">n</span><span class="op" id="6496882">)</span>&nbsp;<span class="op" id="6496884">/</span>&nbsp;<span class="num" id="6496886">2</span>&nbsp;<span class="op" id="6496888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6496891">func</span>&nbsp;<span class="ident" id="6496896">TestNew</span><span class="op" id="6496903">(</span><span class="ident" id="6496904">t</span>&nbsp;<span class="op" id="6496906">*</span><span class="ident" id="6496907">testing</span><span class="op" id="6496914">.</span><span class="ident" id="6496915">T</span><span class="op" id="6496916">)</span>&nbsp;<span class="op" id="6496918">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496921">for</span>&nbsp;<span class="ident" id="6496925">i</span>&nbsp;<span class="op" id="6496927">:=</span>&nbsp;<span class="num" id="6496930">0</span><span class="op" id="6496931">;</span>&nbsp;<span class="ident" id="6496933">i</span>&nbsp;<span class="op" id="6496935">&lt;</span>&nbsp;<span class="num" id="6496937">10</span><span class="op" id="6496939">;</span>&nbsp;<span class="ident" id="6496941">i</span><span class="op" id="6496942">++</span>&nbsp;<span class="op" id="6496945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496949">r</span>&nbsp;<span class="op" id="6496951">:=</span>&nbsp;<span class="ident" id="6496954">New</span><span class="op" id="6496957">(</span><span class="ident" id="6496958">i</span><span class="op" id="6496959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6496963">verify</span><span class="op" id="6496969">(</span><span class="ident" id="6496970">t</span><span class="op" id="6496971">,</span>&nbsp;<span class="ident" id="6496973">r</span><span class="op" id="6496974">,</span>&nbsp;<span class="ident" id="6496976">i</span><span class="op" id="6496977">,</span>&nbsp;<span class="op" id="6496979">-</span><span class="num" id="6496980">1</span><span class="op" id="6496981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6496984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6496987">for</span>&nbsp;<span class="ident" id="6496991">i</span>&nbsp;<span class="op" id="6496993">:=</span>&nbsp;<span class="num" id="6496996">0</span><span class="op" id="6496997">;</span>&nbsp;<span class="ident" id="6496999">i</span>&nbsp;<span class="op" id="6497001">&lt;</span>&nbsp;<span class="num" id="6497003">10</span><span class="op" id="6497005">;</span>&nbsp;<span class="ident" id="6497007">i</span><span class="op" id="6497008">++</span>&nbsp;<span class="op" id="6497011">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497015">r</span>&nbsp;<span class="op" id="6497017">:=</span>&nbsp;<span class="ident" id="6497020">makeN</span><span class="op" id="6497025">(</span><span class="ident" id="6497026">i</span><span class="op" id="6497027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497031">verify</span><span class="op" id="6497037">(</span><span class="ident" id="6497038">t</span><span class="op" id="6497039">,</span>&nbsp;<span class="ident" id="6497041">r</span><span class="op" id="6497042">,</span>&nbsp;<span class="ident" id="6497044">i</span><span class="op" id="6497045">,</span>&nbsp;<span class="ident" id="6497047">sumN</span><span class="op" id="6497051">(</span><span class="ident" id="6497052">i</span><span class="op" id="6497053">)</span><span class="op" id="6497054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6497057">}</span><br>
<span class="lineno"></span><span class="op" id="6497059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="6497062">func</span>&nbsp;<span class="ident" id="6497067">TestLink1</span><span class="op" id="6497076">(</span><span class="ident" id="6497077">t</span>&nbsp;<span class="op" id="6497079">*</span><span class="ident" id="6497080">testing</span><span class="op" id="6497087">.</span><span class="ident" id="6497088">T</span><span class="op" id="6497089">)</span>&nbsp;<span class="op" id="6497091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497094">r1a</span>&nbsp;<span class="op" id="6497098">:=</span>&nbsp;<span class="ident" id="6497101">makeN</span><span class="op" id="6497106">(</span><span class="num" id="6497107">1</span><span class="op" id="6497108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6497111">var</span>&nbsp;<span class="ident" id="6497115">r1b</span>&nbsp;<span class="ident" id="6497119">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497125">r2a</span>&nbsp;<span class="op" id="6497129">:=</span>&nbsp;<span class="ident" id="6497132">r1a</span><span class="op" id="6497135">.</span><span class="ident" id="6497136">Link</span><span class="op" id="6497140">(</span><span class="op" id="6497141">&amp;</span><span class="ident" id="6497142">r1b</span><span class="op" id="6497145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497148">verify</span><span class="op" id="6497154">(</span><span class="ident" id="6497155">t</span><span class="op" id="6497156">,</span>&nbsp;<span class="ident" id="6497158">r2a</span><span class="op" id="6497161">,</span>&nbsp;<span class="num" id="6497163">2</span><span class="op" id="6497164">,</span>&nbsp;<span class="num" id="6497166">1</span><span class="op" id="6497167">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6497170">if</span>&nbsp;<span class="ident" id="6497173">r2a</span>&nbsp;<span class="op" id="6497177">!=</span>&nbsp;<span class="ident" id="6497180">r1a</span>&nbsp;<span class="op" id="6497184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497188">t</span><span class="op" id="6497189">.</span><span class="ident" id="6497190">Errorf</span><span class="op" id="6497196">(</span><span class="string" id="6497197">&#34;a)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="6497223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6497226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497230">r2b</span>&nbsp;<span class="op" id="6497234">:=</span>&nbsp;<span class="ident" id="6497237">r2a</span><span class="op" id="6497240">.</span><span class="ident" id="6497241">Link</span><span class="op" id="6497245">(</span><span class="ident" id="6497246">r2a</span><span class="op" id="6497249">.</span><span class="ident" id="6497250">Next</span><span class="op" id="6497254">(</span><span class="op" id="6497255">)</span><span class="op" id="6497256">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497259">verify</span><span class="op" id="6497265">(</span><span class="ident" id="6497266">t</span><span class="op" id="6497267">,</span>&nbsp;<span class="ident" id="6497269">r2b</span><span class="op" id="6497272">,</span>&nbsp;<span class="num" id="6497274">2</span><span class="op" id="6497275">,</span>&nbsp;<span class="num" id="6497277">1</span><span class="op" id="6497278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6497281">if</span>&nbsp;<span class="ident" id="6497284">r2b</span>&nbsp;<span class="op" id="6497288">!=</span>&nbsp;<span class="ident" id="6497291">r2a</span><span class="op" id="6497294">.</span><span class="ident" id="6497295">Next</span><span class="op" id="6497299">(</span><span class="op" id="6497300">)</span>&nbsp;<span class="op" id="6497302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497306">t</span><span class="op" id="6497307">.</span><span class="ident" id="6497308">Errorf</span><span class="op" id="6497314">(</span><span class="string" id="6497315">&#34;b)&nbsp;2-element&nbsp;link&nbsp;failed&#34;</span><span class="op" id="6497341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6497344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497348">r1c</span>&nbsp;<span class="op" id="6497352">:=</span>&nbsp;<span class="ident" id="6497355">r2b</span><span class="op" id="6497358">.</span><span class="ident" id="6497359">Link</span><span class="op" id="6497363">(</span><span class="ident" id="6497364">r2b</span><span class="op" id="6497367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497370">verify</span><span class="op" id="6497376">(</span><span class="ident" id="6497377">t</span><span class="op" id="6497378">,</span>&nbsp;<span class="ident" id="6497380">r1c</span><span class="op" id="6497383">,</span>&nbsp;<span class="num" id="6497385">1</span><span class="op" id="6497386">,</span>&nbsp;<span class="num" id="6497388">1</span><span class="op" id="6497389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497392">verify</span><span class="op" id="6497398">(</span><span class="ident" id="6497399">t</span><span class="op" id="6497400">,</span>&nbsp;<span class="ident" id="6497402">r2b</span><span class="op" id="6497405">,</span>&nbsp;<span class="num" id="6497407">1</span><span class="op" id="6497408">,</span>&nbsp;<span class="num" id="6497410">0</span><span class="op" id="6497411">)</span><br>
<span class="lineno"></span><span class="op" id="6497413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="6497416">func</span>&nbsp;<span class="ident" id="6497421">TestLink2</span><span class="op" id="6497430">(</span><span class="ident" id="6497431">t</span>&nbsp;<span class="op" id="6497433">*</span><span class="ident" id="6497434">testing</span><span class="op" id="6497441">.</span><span class="ident" id="6497442">T</span><span class="op" id="6497443">)</span>&nbsp;<span class="op" id="6497445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6497448">var</span>&nbsp;<span class="ident" id="6497452">r0</span>&nbsp;<span class="op" id="6497455">*</span><span class="ident" id="6497456">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497462">r1a</span>&nbsp;<span class="op" id="6497466">:=</span>&nbsp;<span class="op" id="6497469">&amp;</span><span class="ident" id="6497470">Ring</span><span class="op" id="6497474">{</span><span class="ident" id="6497475">Value</span><span class="op" id="6497480">:</span>&nbsp;<span class="num" id="6497482">42</span><span class="op" id="6497484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497487">r1b</span>&nbsp;<span class="op" id="6497491">:=</span>&nbsp;<span class="op" id="6497494">&amp;</span><span class="ident" id="6497495">Ring</span><span class="op" id="6497499">{</span><span class="ident" id="6497500">Value</span><span class="op" id="6497505">:</span>&nbsp;<span class="num" id="6497507">77</span><span class="op" id="6497509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497512">r10</span>&nbsp;<span class="op" id="6497516">:=</span>&nbsp;<span class="ident" id="6497519">makeN</span><span class="op" id="6497524">(</span><span class="num" id="6497525">10</span><span class="op" id="6497527">)</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497531">r1a</span><span class="op" id="6497534">.</span><span class="ident" id="6497535">Link</span><span class="op" id="6497539">(</span><span class="ident" id="6497540">r0</span><span class="op" id="6497542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497545">verify</span><span class="op" id="6497551">(</span><span class="ident" id="6497552">t</span><span class="op" id="6497553">,</span>&nbsp;<span class="ident" id="6497555">r1a</span><span class="op" id="6497558">,</span>&nbsp;<span class="num" id="6497560">1</span><span class="op" id="6497561">,</span>&nbsp;<span class="num" id="6497563">42</span><span class="op" id="6497565">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497569">r1a</span><span class="op" id="6497572">.</span><span class="ident" id="6497573">Link</span><span class="op" id="6497577">(</span><span class="ident" id="6497578">r1b</span><span class="op" id="6497581">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497584">verify</span><span class="op" id="6497590">(</span><span class="ident" id="6497591">t</span><span class="op" id="6497592">,</span>&nbsp;<span class="ident" id="6497594">r1a</span><span class="op" id="6497597">,</span>&nbsp;<span class="num" id="6497599">2</span><span class="op" id="6497600">,</span>&nbsp;<span class="num" id="6497602">42</span><span class="op" id="6497604">+</span><span class="num" id="6497605">77</span><span class="op" id="6497607">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497611">r10</span><span class="op" id="6497614">.</span><span class="ident" id="6497615">Link</span><span class="op" id="6497619">(</span><span class="ident" id="6497620">r0</span><span class="op" id="6497622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497625">verify</span><span class="op" id="6497631">(</span><span class="ident" id="6497632">t</span><span class="op" id="6497633">,</span>&nbsp;<span class="ident" id="6497635">r10</span><span class="op" id="6497638">,</span>&nbsp;<span class="num" id="6497640">10</span><span class="op" id="6497642">,</span>&nbsp;<span class="ident" id="6497644">sumN</span><span class="op" id="6497648">(</span><span class="num" id="6497649">10</span><span class="op" id="6497651">)</span><span class="op" id="6497652">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497656">r10</span><span class="op" id="6497659">.</span><span class="ident" id="6497660">Link</span><span class="op" id="6497664">(</span><span class="ident" id="6497665">r1a</span><span class="op" id="6497668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497671">verify</span><span class="op" id="6497677">(</span><span class="ident" id="6497678">t</span><span class="op" id="6497679">,</span>&nbsp;<span class="ident" id="6497681">r10</span><span class="op" id="6497684">,</span>&nbsp;<span class="num" id="6497686">12</span><span class="op" id="6497688">,</span>&nbsp;<span class="ident" id="6497690">sumN</span><span class="op" id="6497694">(</span><span class="num" id="6497695">10</span><span class="op" id="6497697">)</span><span class="op" id="6497698">+</span><span class="num" id="6497699">42</span><span class="op" id="6497701">+</span><span class="num" id="6497702">77</span><span class="op" id="6497704">)</span><br>
<span class="lineno"></span><span class="op" id="6497706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6497709">func</span>&nbsp;<span class="ident" id="6497714">TestLink3</span><span class="op" id="6497723">(</span><span class="ident" id="6497724">t</span>&nbsp;<span class="op" id="6497726">*</span><span class="ident" id="6497727">testing</span><span class="op" id="6497734">.</span><span class="ident" id="6497735">T</span><span class="op" id="6497736">)</span>&nbsp;<span class="op" id="6497738">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6497741">var</span>&nbsp;<span class="ident" id="6497745">r</span>&nbsp;<span class="ident" id="6497747">Ring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497753">n</span>&nbsp;<span class="op" id="6497755">:=</span>&nbsp;<span class="num" id="6497758">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6497761">for</span>&nbsp;<span class="ident" id="6497765">i</span>&nbsp;<span class="op" id="6497767">:=</span>&nbsp;<span class="num" id="6497770">1</span><span class="op" id="6497771">;</span>&nbsp;<span class="ident" id="6497773">i</span>&nbsp;<span class="op" id="6497775">&lt;</span>&nbsp;<span class="num" id="6497777">100</span><span class="op" id="6497780">;</span>&nbsp;<span class="ident" id="6497782">i</span><span class="op" id="6497783">++</span>&nbsp;<span class="op" id="6497786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497790">n</span>&nbsp;<span class="op" id="6497792">+=</span>&nbsp;<span class="ident" id="6497795">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497799">verify</span><span class="op" id="6497805">(</span><span class="ident" id="6497806">t</span><span class="op" id="6497807">,</span>&nbsp;<span class="ident" id="6497809">r</span><span class="op" id="6497810">.</span><span class="ident" id="6497811">Link</span><span class="op" id="6497815">(</span><span class="ident" id="6497816">New</span><span class="op" id="6497819">(</span><span class="ident" id="6497820">i</span><span class="op" id="6497821">)</span><span class="op" id="6497822">)</span><span class="op" id="6497823">,</span>&nbsp;<span class="ident" id="6497825">n</span><span class="op" id="6497826">,</span>&nbsp;<span class="op" id="6497828">-</span><span class="num" id="6497829">1</span><span class="op" id="6497830">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6497833">}</span><br>
<span class="lineno"></span><span class="op" id="6497835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6497838">func</span>&nbsp;<span class="ident" id="6497843">TestUnlink</span><span class="op" id="6497853">(</span><span class="ident" id="6497854">t</span>&nbsp;<span class="op" id="6497856">*</span><span class="ident" id="6497857">testing</span><span class="op" id="6497864">.</span><span class="ident" id="6497865">T</span><span class="op" id="6497866">)</span>&nbsp;<span class="op" id="6497868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497871">r10</span>&nbsp;<span class="op" id="6497875">:=</span>&nbsp;<span class="ident" id="6497878">makeN</span><span class="op" id="6497883">(</span><span class="num" id="6497884">10</span><span class="op" id="6497886">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497889">s10</span>&nbsp;<span class="op" id="6497893">:=</span>&nbsp;<span class="ident" id="6497896">r10</span><span class="op" id="6497899">.</span><span class="ident" id="6497900">Move</span><span class="op" id="6497904">(</span><span class="num" id="6497905">6</span><span class="op" id="6497906">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497910">sum10</span>&nbsp;<span class="op" id="6497916">:=</span>&nbsp;<span class="ident" id="6497919">sumN</span><span class="op" id="6497923">(</span><span class="num" id="6497924">10</span><span class="op" id="6497926">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497930">verify</span><span class="op" id="6497936">(</span><span class="ident" id="6497937">t</span><span class="op" id="6497938">,</span>&nbsp;<span class="ident" id="6497940">r10</span><span class="op" id="6497943">,</span>&nbsp;<span class="num" id="6497945">10</span><span class="op" id="6497947">,</span>&nbsp;<span class="ident" id="6497949">sum10</span><span class="op" id="6497954">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497957">verify</span><span class="op" id="6497963">(</span><span class="ident" id="6497964">t</span><span class="op" id="6497965">,</span>&nbsp;<span class="ident" id="6497967">s10</span><span class="op" id="6497970">,</span>&nbsp;<span class="num" id="6497972">10</span><span class="op" id="6497974">,</span>&nbsp;<span class="ident" id="6497976">sum10</span><span class="op" id="6497981">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6497985">r0</span>&nbsp;<span class="op" id="6497988">:=</span>&nbsp;<span class="ident" id="6497991">r10</span><span class="op" id="6497994">.</span><span class="ident" id="6497995">Unlink</span><span class="op" id="6498001">(</span><span class="num" id="6498002">0</span><span class="op" id="6498003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498006">verify</span><span class="op" id="6498012">(</span><span class="ident" id="6498013">t</span><span class="op" id="6498014">,</span>&nbsp;<span class="ident" id="6498016">r0</span><span class="op" id="6498018">,</span>&nbsp;<span class="num" id="6498020">0</span><span class="op" id="6498021">,</span>&nbsp;<span class="num" id="6498023">0</span><span class="op" id="6498024">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498028">r1</span>&nbsp;<span class="op" id="6498031">:=</span>&nbsp;<span class="ident" id="6498034">r10</span><span class="op" id="6498037">.</span><span class="ident" id="6498038">Unlink</span><span class="op" id="6498044">(</span><span class="num" id="6498045">1</span><span class="op" id="6498046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498049">verify</span><span class="op" id="6498055">(</span><span class="ident" id="6498056">t</span><span class="op" id="6498057">,</span>&nbsp;<span class="ident" id="6498059">r1</span><span class="op" id="6498061">,</span>&nbsp;<span class="num" id="6498063">1</span><span class="op" id="6498064">,</span>&nbsp;<span class="num" id="6498066">2</span><span class="op" id="6498067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498070">verify</span><span class="op" id="6498076">(</span><span class="ident" id="6498077">t</span><span class="op" id="6498078">,</span>&nbsp;<span class="ident" id="6498080">r10</span><span class="op" id="6498083">,</span>&nbsp;<span class="num" id="6498085">9</span><span class="op" id="6498086">,</span>&nbsp;<span class="ident" id="6498088">sum10</span><span class="op" id="6498093">-</span><span class="num" id="6498094">2</span><span class="op" id="6498095">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498099">r9</span>&nbsp;<span class="op" id="6498102">:=</span>&nbsp;<span class="ident" id="6498105">r10</span><span class="op" id="6498108">.</span><span class="ident" id="6498109">Unlink</span><span class="op" id="6498115">(</span><span class="num" id="6498116">9</span><span class="op" id="6498117">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498120">verify</span><span class="op" id="6498126">(</span><span class="ident" id="6498127">t</span><span class="op" id="6498128">,</span>&nbsp;<span class="ident" id="6498130">r9</span><span class="op" id="6498132">,</span>&nbsp;<span class="num" id="6498134">9</span><span class="op" id="6498135">,</span>&nbsp;<span class="ident" id="6498137">sum10</span><span class="op" id="6498142">-</span><span class="num" id="6498143">2</span><span class="op" id="6498144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498147">verify</span><span class="op" id="6498153">(</span><span class="ident" id="6498154">t</span><span class="op" id="6498155">,</span>&nbsp;<span class="ident" id="6498157">r10</span><span class="op" id="6498160">,</span>&nbsp;<span class="num" id="6498162">9</span><span class="op" id="6498163">,</span>&nbsp;<span class="ident" id="6498165">sum10</span><span class="op" id="6498170">-</span><span class="num" id="6498171">2</span><span class="op" id="6498172">)</span><br>
<span class="lineno"></span><span class="op" id="6498174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6498177">func</span>&nbsp;<span class="ident" id="6498182">TestLinkUnlink</span><span class="op" id="6498196">(</span><span class="ident" id="6498197">t</span>&nbsp;<span class="op" id="6498199">*</span><span class="ident" id="6498200">testing</span><span class="op" id="6498207">.</span><span class="ident" id="6498208">T</span><span class="op" id="6498209">)</span>&nbsp;<span class="op" id="6498211">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6498214">for</span>&nbsp;<span class="ident" id="6498218">i</span>&nbsp;<span class="op" id="6498220">:=</span>&nbsp;<span class="num" id="6498223">1</span><span class="op" id="6498224">;</span>&nbsp;<span class="ident" id="6498226">i</span>&nbsp;<span class="op" id="6498228">&lt;</span>&nbsp;<span class="num" id="6498230">4</span><span class="op" id="6498231">;</span>&nbsp;<span class="ident" id="6498233">i</span><span class="op" id="6498234">++</span>&nbsp;<span class="op" id="6498237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498241">ri</span>&nbsp;<span class="op" id="6498244">:=</span>&nbsp;<span class="ident" id="6498247">New</span><span class="op" id="6498250">(</span><span class="ident" id="6498251">i</span><span class="op" id="6498252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6498256">for</span>&nbsp;<span class="ident" id="6498260">j</span>&nbsp;<span class="op" id="6498262">:=</span>&nbsp;<span class="num" id="6498265">0</span><span class="op" id="6498266">;</span>&nbsp;<span class="ident" id="6498268">j</span>&nbsp;<span class="op" id="6498270">&lt;</span>&nbsp;<span class="ident" id="6498272">i</span><span class="op" id="6498273">;</span>&nbsp;<span class="ident" id="6498275">j</span><span class="op" id="6498276">++</span>&nbsp;<span class="op" id="6498279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498284">rj</span>&nbsp;<span class="op" id="6498287">:=</span>&nbsp;<span class="ident" id="6498290">ri</span><span class="op" id="6498292">.</span><span class="ident" id="6498293">Unlink</span><span class="op" id="6498299">(</span><span class="ident" id="6498300">j</span><span class="op" id="6498301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498306">verify</span><span class="op" id="6498312">(</span><span class="ident" id="6498313">t</span><span class="op" id="6498314">,</span>&nbsp;<span class="ident" id="6498316">rj</span><span class="op" id="6498318">,</span>&nbsp;<span class="ident" id="6498320">j</span><span class="op" id="6498321">,</span>&nbsp;<span class="op" id="6498323">-</span><span class="num" id="6498324">1</span><span class="op" id="6498325">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498330">verify</span><span class="op" id="6498336">(</span><span class="ident" id="6498337">t</span><span class="op" id="6498338">,</span>&nbsp;<span class="ident" id="6498340">ri</span><span class="op" id="6498342">,</span>&nbsp;<span class="ident" id="6498344">i</span><span class="op" id="6498345">-</span><span class="ident" id="6498346">j</span><span class="op" id="6498347">,</span>&nbsp;<span class="op" id="6498349">-</span><span class="num" id="6498350">1</span><span class="op" id="6498351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498356">ri</span><span class="op" id="6498358">.</span><span class="ident" id="6498359">Link</span><span class="op" id="6498363">(</span><span class="ident" id="6498364">rj</span><span class="op" id="6498366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498371">verify</span><span class="op" id="6498377">(</span><span class="ident" id="6498378">t</span><span class="op" id="6498379">,</span>&nbsp;<span class="ident" id="6498381">ri</span><span class="op" id="6498383">,</span>&nbsp;<span class="ident" id="6498385">i</span><span class="op" id="6498386">,</span>&nbsp;<span class="op" id="6498388">-</span><span class="num" id="6498389">1</span><span class="op" id="6498390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6498394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6498397">}</span><br>
<span class="lineno">220</span><span class="op" id="6498399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6498402">//&nbsp;Test&nbsp;that&nbsp;calling&nbsp;Move()&nbsp;on&nbsp;an&nbsp;empty&nbsp;Ring&nbsp;initializes&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="6498463">func</span>&nbsp;<span class="ident" id="6498468">TestMoveEmptyRing</span><span class="op" id="6498485">(</span><span class="ident" id="6498486">t</span>&nbsp;<span class="op" id="6498488">*</span><span class="ident" id="6498489">testing</span><span class="op" id="6498496">.</span><span class="ident" id="6498497">T</span><span class="op" id="6498498">)</span>&nbsp;<span class="op" id="6498500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6498503">var</span>&nbsp;<span class="ident" id="6498507">r</span>&nbsp;<span class="ident" id="6498509">Ring</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498516">r</span><span class="op" id="6498517">.</span><span class="ident" id="6498518">Move</span><span class="op" id="6498522">(</span><span class="num" id="6498523">1</span><span class="op" id="6498524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6498527">verify</span><span class="op" id="6498533">(</span><span class="ident" id="6498534">t</span><span class="op" id="6498535">,</span>&nbsp;<span class="op" id="6498537">&amp;</span><span class="ident" id="6498538">r</span><span class="op" id="6498539">,</span>&nbsp;<span class="num" id="6498541">1</span><span class="op" id="6498542">,</span>&nbsp;<span class="num" id="6498544">0</span><span class="op" id="6498545">)</span><br>
<span class="lineno"></span><span class="op" id="6498547">}</span>
</div>
</body>
</html>
