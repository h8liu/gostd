<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html" class="current">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5373364">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5373420">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5373474">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5373525">//&nbsp;Package&nbsp;gosym&nbsp;implements&nbsp;access&nbsp;to&nbsp;the&nbsp;Go&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="5373577">//&nbsp;and&nbsp;line&nbsp;number&nbsp;tables&nbsp;embedded&nbsp;in&nbsp;Go&nbsp;binaries&nbsp;generated</span><br>
<span class="lineno"></span><span class="comment" id="5373637">//&nbsp;by&nbsp;the&nbsp;gc&nbsp;compilers.</span><br>
<span class="lineno"></span><span class="keyword" id="5373661">package</span>&nbsp;<span class="ident" id="5373669">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="comment" id="5373676">//&nbsp;The&nbsp;table&nbsp;format&nbsp;is&nbsp;a&nbsp;variant&nbsp;of&nbsp;the&nbsp;format&nbsp;used&nbsp;in&nbsp;Plan&nbsp;9&#39;s&nbsp;a.out</span><br>
<span class="lineno"></span><span class="comment" id="5373746">//&nbsp;format,&nbsp;documented&nbsp;at&nbsp;http://plan9.bell-labs.com/magic/man2html/6/a.out.</span><br>
<span class="lineno"></span><span class="comment" id="5373822">//&nbsp;The&nbsp;best&nbsp;reference&nbsp;for&nbsp;the&nbsp;differences&nbsp;between&nbsp;the&nbsp;Plan&nbsp;9&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="5373890">//&nbsp;and&nbsp;the&nbsp;Go&nbsp;format&nbsp;is&nbsp;the&nbsp;runtime&nbsp;source,&nbsp;specifically&nbsp;../../runtime/symtab.c.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="5373972">import</span>&nbsp;<span class="op" id="5373979">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5373982">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5373991">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5374010">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5374017">&#34;strconv&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5374028">&#34;strings&#34;</span><br>
<span class="lineno"></span><span class="op" id="5374038">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5374041">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbols<br>
<span class="lineno">25</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5374060">//&nbsp;A&nbsp;Sym&nbsp;represents&nbsp;a&nbsp;single&nbsp;symbol&nbsp;table&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5374109">type</span>&nbsp;<span class="ident" id="5374114">Sym</span>&nbsp;<span class="keyword" id="5374118">struct</span>&nbsp;<span class="op" id="5374125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5374128">Value</span>&nbsp;&nbsp;<span class="ident" id="5374135">uint64</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5374143">Type</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5374150">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5374156">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5374163">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5374171">GoType</span>&nbsp;<span class="ident" id="5374178">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5374186">//&nbsp;If&nbsp;this&nbsp;symbol&nbsp;if&nbsp;a&nbsp;function&nbsp;symbol,&nbsp;the&nbsp;corresponding&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5374250">Func</span>&nbsp;<span class="op" id="5374255">*</span><span class="ident" id="5374256">Func</span><br>
<span class="lineno">35</span><span class="op" id="5374261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5374264">//&nbsp;Static&nbsp;reports&nbsp;whether&nbsp;this&nbsp;symbol&nbsp;is&nbsp;static&nbsp;(not&nbsp;visible&nbsp;outside&nbsp;its&nbsp;file).</span><br>
<span class="lineno"></span><span class="keyword" id="5374344">func</span>&nbsp;<span class="op" id="5374349">(</span><span class="ident" id="5374350">s</span>&nbsp;<span class="op" id="5374352">*</span><span class="ident" id="5374353">Sym</span><span class="op" id="5374356">)</span>&nbsp;<span class="ident" id="5374358">Static</span><span class="op" id="5374364">(</span><span class="op" id="5374365">)</span>&nbsp;<span class="builtintype" id="5374367">bool</span>&nbsp;<span class="op" id="5374372">{</span>&nbsp;<span class="keyword" id="5374374">return</span>&nbsp;<span class="ident" id="5374381">s</span><span class="op" id="5374382">.</span><span class="ident" id="5374383">Type</span>&nbsp;<span class="op" id="5374388">&gt;=</span>&nbsp;<span class="string" id="5374391">&#39;a&#39;</span>&nbsp;<span class="op" id="5374395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="5374398">//&nbsp;PackageName&nbsp;returns&nbsp;the&nbsp;package&nbsp;part&nbsp;of&nbsp;the&nbsp;symbol&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5374458">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5374499">func</span>&nbsp;<span class="op" id="5374504">(</span><span class="ident" id="5374505">s</span>&nbsp;<span class="op" id="5374507">*</span><span class="ident" id="5374508">Sym</span><span class="op" id="5374511">)</span>&nbsp;<span class="ident" id="5374513">PackageName</span><span class="op" id="5374524">(</span><span class="op" id="5374525">)</span>&nbsp;<span class="builtintype" id="5374527">string</span>&nbsp;<span class="op" id="5374534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5374537">if</span>&nbsp;<span class="ident" id="5374540">i</span>&nbsp;<span class="op" id="5374542">:=</span>&nbsp;<span class="ident" id="5374545">strings</span><span class="op" id="5374552">.</span><span class="ident" id="5374553">Index</span><span class="op" id="5374558">(</span><span class="ident" id="5374559">s</span><span class="op" id="5374560">.</span><span class="ident" id="5374561">Name</span><span class="op" id="5374565">,</span>&nbsp;<span class="string" id="5374567">&#34;.&#34;</span><span class="op" id="5374570">)</span><span class="op" id="5374571">;</span>&nbsp;<span class="ident" id="5374573">i</span>&nbsp;<span class="op" id="5374575">!=</span>&nbsp;<span class="op" id="5374578">-</span><span class="num" id="5374579">1</span>&nbsp;<span class="op" id="5374581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5374585">return</span>&nbsp;<span class="ident" id="5374592">s</span><span class="op" id="5374593">.</span><span class="ident" id="5374594">Name</span><span class="op" id="5374598">[</span><span class="num" id="5374599">0</span><span class="op" id="5374600">:</span><span class="ident" id="5374601">i</span><span class="op" id="5374602">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5374605">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5374608">return</span>&nbsp;<span class="string" id="5374615">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="5374618">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5374621">//&nbsp;ReceiverName&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;name&nbsp;of&nbsp;this&nbsp;symbol,</span><br>
<span class="lineno">50</span><span class="comment" id="5374684">//&nbsp;or&nbsp;the&nbsp;empty&nbsp;string&nbsp;if&nbsp;there&nbsp;is&nbsp;none.</span><br>
<span class="lineno"></span><span class="keyword" id="5374725">func</span>&nbsp;<span class="op" id="5374730">(</span><span class="ident" id="5374731">s</span>&nbsp;<span class="op" id="5374733">*</span><span class="ident" id="5374734">Sym</span><span class="op" id="5374737">)</span>&nbsp;<span class="ident" id="5374739">ReceiverName</span><span class="op" id="5374751">(</span><span class="op" id="5374752">)</span>&nbsp;<span class="builtintype" id="5374754">string</span>&nbsp;<span class="op" id="5374761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5374764">l</span>&nbsp;<span class="op" id="5374766">:=</span>&nbsp;<span class="ident" id="5374769">strings</span><span class="op" id="5374776">.</span><span class="ident" id="5374777">Index</span><span class="op" id="5374782">(</span><span class="ident" id="5374783">s</span><span class="op" id="5374784">.</span><span class="ident" id="5374785">Name</span><span class="op" id="5374789">,</span>&nbsp;<span class="string" id="5374791">&#34;.&#34;</span><span class="op" id="5374794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5374797">r</span>&nbsp;<span class="op" id="5374799">:=</span>&nbsp;<span class="ident" id="5374802">strings</span><span class="op" id="5374809">.</span><span class="ident" id="5374810">LastIndex</span><span class="op" id="5374819">(</span><span class="ident" id="5374820">s</span><span class="op" id="5374821">.</span><span class="ident" id="5374822">Name</span><span class="op" id="5374826">,</span>&nbsp;<span class="string" id="5374828">&#34;.&#34;</span><span class="op" id="5374831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5374834">if</span>&nbsp;<span class="ident" id="5374837">l</span>&nbsp;<span class="op" id="5374839">==</span>&nbsp;<span class="op" id="5374842">-</span><span class="num" id="5374843">1</span>&nbsp;<span class="op" id="5374845">||</span>&nbsp;<span class="ident" id="5374848">r</span>&nbsp;<span class="op" id="5374850">==</span>&nbsp;<span class="op" id="5374853">-</span><span class="num" id="5374854">1</span>&nbsp;<span class="op" id="5374856">||</span>&nbsp;<span class="ident" id="5374859">l</span>&nbsp;<span class="op" id="5374861">==</span>&nbsp;<span class="ident" id="5374864">r</span>&nbsp;<span class="op" id="5374866">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5374870">return</span>&nbsp;<span class="string" id="5374877">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5374881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5374884">return</span>&nbsp;<span class="ident" id="5374891">s</span><span class="op" id="5374892">.</span><span class="ident" id="5374893">Name</span><span class="op" id="5374897">[</span><span class="ident" id="5374898">l</span><span class="op" id="5374899">+</span><span class="num" id="5374900">1</span>&nbsp;<span class="op" id="5374902">:</span>&nbsp;<span class="ident" id="5374904">r</span><span class="op" id="5374905">]</span><br>
<span class="lineno"></span><span class="op" id="5374907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="5374910">//&nbsp;BaseName&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;name&nbsp;without&nbsp;the&nbsp;package&nbsp;or&nbsp;receiver&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="5374984">func</span>&nbsp;<span class="op" id="5374989">(</span><span class="ident" id="5374990">s</span>&nbsp;<span class="op" id="5374992">*</span><span class="ident" id="5374993">Sym</span><span class="op" id="5374996">)</span>&nbsp;<span class="ident" id="5374998">BaseName</span><span class="op" id="5375006">(</span><span class="op" id="5375007">)</span>&nbsp;<span class="builtintype" id="5375009">string</span>&nbsp;<span class="op" id="5375016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5375019">if</span>&nbsp;<span class="ident" id="5375022">i</span>&nbsp;<span class="op" id="5375024">:=</span>&nbsp;<span class="ident" id="5375027">strings</span><span class="op" id="5375034">.</span><span class="ident" id="5375035">LastIndex</span><span class="op" id="5375044">(</span><span class="ident" id="5375045">s</span><span class="op" id="5375046">.</span><span class="ident" id="5375047">Name</span><span class="op" id="5375051">,</span>&nbsp;<span class="string" id="5375053">&#34;.&#34;</span><span class="op" id="5375056">)</span><span class="op" id="5375057">;</span>&nbsp;<span class="ident" id="5375059">i</span>&nbsp;<span class="op" id="5375061">!=</span>&nbsp;<span class="op" id="5375064">-</span><span class="num" id="5375065">1</span>&nbsp;<span class="op" id="5375067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5375071">return</span>&nbsp;<span class="ident" id="5375078">s</span><span class="op" id="5375079">.</span><span class="ident" id="5375080">Name</span><span class="op" id="5375084">[</span><span class="ident" id="5375085">i</span><span class="op" id="5375086">+</span><span class="num" id="5375087">1</span><span class="op" id="5375088">:</span><span class="op" id="5375089">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5375092">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5375095">return</span>&nbsp;<span class="ident" id="5375102">s</span><span class="op" id="5375103">.</span><span class="ident" id="5375104">Name</span><br>
<span class="lineno"></span><span class="op" id="5375109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5375112">//&nbsp;A&nbsp;Func&nbsp;collects&nbsp;information&nbsp;about&nbsp;a&nbsp;single&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5375168">type</span>&nbsp;<span class="ident" id="5375173">Func</span>&nbsp;<span class="keyword" id="5375178">struct</span>&nbsp;<span class="op" id="5375185">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375188">Entry</span>&nbsp;<span class="ident" id="5375194">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5375202">*</span><span class="ident" id="5375203">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375208">End</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5375218">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375226">Params</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5375236">[</span><span class="op" id="5375237">]</span><span class="op" id="5375238">*</span><span class="ident" id="5375239">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375244">Locals</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5375254">[</span><span class="op" id="5375255">]</span><span class="op" id="5375256">*</span><span class="ident" id="5375257">Sym</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375262">FrameSize</span>&nbsp;<span class="builtintype" id="5375272">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375277">LineTable</span>&nbsp;<span class="op" id="5375287">*</span><span class="ident" id="5375288">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375299">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5375309">*</span><span class="ident" id="5375310">Obj</span><br>
<span class="lineno"></span><span class="op" id="5375314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5375317">//&nbsp;An&nbsp;Obj&nbsp;represents&nbsp;a&nbsp;collection&nbsp;of&nbsp;functions&nbsp;in&nbsp;a&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="5375383">//</span><br>
<span class="lineno"></span><span class="comment" id="5375386">//&nbsp;The&nbsp;exact&nbsp;method&nbsp;of&nbsp;division&nbsp;of&nbsp;a&nbsp;binary&nbsp;into&nbsp;separate&nbsp;Objs&nbsp;is&nbsp;an&nbsp;internal&nbsp;detail</span><br>
<span class="lineno"></span><span class="comment" id="5375471">//&nbsp;of&nbsp;the&nbsp;symbol&nbsp;table&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5375502">//</span><br>
<span class="lineno">85</span><span class="comment" id="5375505">//&nbsp;In&nbsp;early&nbsp;versions&nbsp;of&nbsp;Go&nbsp;each&nbsp;source&nbsp;file&nbsp;became&nbsp;a&nbsp;different&nbsp;Obj.</span><br>
<span class="lineno"></span><span class="comment" id="5375573">//</span><br>
<span class="lineno"></span><span class="comment" id="5375576">//&nbsp;In&nbsp;Go&nbsp;1&nbsp;and&nbsp;Go&nbsp;1.1,&nbsp;each&nbsp;package&nbsp;produced&nbsp;one&nbsp;Obj&nbsp;for&nbsp;all&nbsp;Go&nbsp;sources</span><br>
<span class="lineno"></span><span class="comment" id="5375648">//&nbsp;and&nbsp;one&nbsp;Obj&nbsp;per&nbsp;C&nbsp;source&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5375682">//</span><br>
<span class="lineno">90</span><span class="comment" id="5375685">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;there&nbsp;is&nbsp;a&nbsp;single&nbsp;Obj&nbsp;for&nbsp;the&nbsp;entire&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="5375745">type</span>&nbsp;<span class="ident" id="5375750">Obj</span>&nbsp;<span class="keyword" id="5375754">struct</span>&nbsp;<span class="op" id="5375761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5375764">//&nbsp;Funcs&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;functions&nbsp;in&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5375809">Funcs</span>&nbsp;<span class="op" id="5375815">[</span><span class="op" id="5375816">]</span><span class="ident" id="5375817">Func</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5375824">//&nbsp;In&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;Paths&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;symbols&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5375892">//&nbsp;to&nbsp;the&nbsp;source&nbsp;file&nbsp;names&nbsp;that&nbsp;produced&nbsp;the&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5375944">//&nbsp;In&nbsp;Go&nbsp;1.2,&nbsp;Paths&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5375973">//&nbsp;Use&nbsp;the&nbsp;keys&nbsp;of&nbsp;Table.Files&nbsp;to&nbsp;obtain&nbsp;a&nbsp;list&nbsp;of&nbsp;source&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376039">Paths</span>&nbsp;<span class="op" id="5376045">[</span><span class="op" id="5376046">]</span><span class="ident" id="5376047">Sym</span>&nbsp;<span class="comment" id="5376051">//&nbsp;meta</span><br>
<span class="lineno">100</span><span class="op" id="5376059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5376062">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Symbol&nbsp;tables<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="comment" id="5376087">//&nbsp;Table&nbsp;represents&nbsp;a&nbsp;Go&nbsp;symbol&nbsp;table.&nbsp;&nbsp;It&nbsp;stores&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5376148">//&nbsp;symbols&nbsp;decoded&nbsp;from&nbsp;the&nbsp;program&nbsp;and&nbsp;provides&nbsp;methods&nbsp;to&nbsp;translate</span><br>
<span class="lineno"></span><span class="comment" id="5376218">//&nbsp;between&nbsp;symbols,&nbsp;names,&nbsp;and&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="5376260">type</span>&nbsp;<span class="ident" id="5376265">Table</span>&nbsp;<span class="keyword" id="5376271">struct</span>&nbsp;<span class="op" id="5376278">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376281">Syms</span>&nbsp;&nbsp;<span class="op" id="5376287">[</span><span class="op" id="5376288">]</span><span class="ident" id="5376289">Sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376294">Funcs</span>&nbsp;<span class="op" id="5376300">[</span><span class="op" id="5376301">]</span><span class="ident" id="5376302">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376308">Files</span>&nbsp;<span class="keyword" id="5376314">map</span><span class="op" id="5376317">[</span><span class="builtintype" id="5376318">string</span><span class="op" id="5376324">]</span><span class="op" id="5376325">*</span><span class="ident" id="5376326">Obj</span>&nbsp;<span class="comment" id="5376330">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376368">Objs</span>&nbsp;&nbsp;<span class="op" id="5376374">[</span><span class="op" id="5376375">]</span><span class="ident" id="5376376">Obj</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5376390">//&nbsp;nil&nbsp;for&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;binaries</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376429">go12line</span>&nbsp;<span class="op" id="5376438">*</span><span class="ident" id="5376439">LineTable</span>&nbsp;<span class="comment" id="5376449">//&nbsp;Go&nbsp;1.2&nbsp;line&nbsp;number&nbsp;table</span><br>
<span class="lineno"></span><span class="op" id="5376477">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5376480">type</span>&nbsp;<span class="ident" id="5376485">sym</span>&nbsp;<span class="keyword" id="5376489">struct</span>&nbsp;<span class="op" id="5376496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376499">value</span>&nbsp;&nbsp;<span class="ident" id="5376506">uint64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376514">gotype</span>&nbsp;<span class="ident" id="5376521">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376529">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5376536">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376542">name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5376549">[</span><span class="op" id="5376550">]</span><span class="builtintype" id="5376551">byte</span><br>
<span class="lineno"></span><span class="op" id="5376556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5376559">var</span>&nbsp;<span class="op" id="5376563">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376566">littleEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5376588">=</span>&nbsp;<span class="op" id="5376590">[</span><span class="op" id="5376591">]</span><span class="builtintype" id="5376592">byte</span><span class="op" id="5376596">{</span><span class="num" id="5376597">0xFD</span><span class="op" id="5376601">,</span>&nbsp;<span class="num" id="5376603">0xFF</span><span class="op" id="5376607">,</span>&nbsp;<span class="num" id="5376609">0xFF</span><span class="op" id="5376613">,</span>&nbsp;<span class="num" id="5376615">0xFF</span><span class="op" id="5376619">,</span>&nbsp;<span class="num" id="5376621">0x00</span><span class="op" id="5376625">,</span>&nbsp;<span class="num" id="5376627">0x00</span><span class="op" id="5376631">,</span>&nbsp;<span class="num" id="5376633">0x00</span><span class="op" id="5376637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376640">bigEndianSymtab</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5376662">=</span>&nbsp;<span class="op" id="5376664">[</span><span class="op" id="5376665">]</span><span class="builtintype" id="5376666">byte</span><span class="op" id="5376670">{</span><span class="num" id="5376671">0xFF</span><span class="op" id="5376675">,</span>&nbsp;<span class="num" id="5376677">0xFF</span><span class="op" id="5376681">,</span>&nbsp;<span class="num" id="5376683">0xFF</span><span class="op" id="5376687">,</span>&nbsp;<span class="num" id="5376689">0xFD</span><span class="op" id="5376693">,</span>&nbsp;<span class="num" id="5376695">0x00</span><span class="op" id="5376699">,</span>&nbsp;<span class="num" id="5376701">0x00</span><span class="op" id="5376705">,</span>&nbsp;<span class="num" id="5376707">0x00</span><span class="op" id="5376711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376714">oldLittleEndianSymtab</span>&nbsp;<span class="op" id="5376736">=</span>&nbsp;<span class="op" id="5376738">[</span><span class="op" id="5376739">]</span><span class="builtintype" id="5376740">byte</span><span class="op" id="5376744">{</span><span class="num" id="5376745">0xFE</span><span class="op" id="5376749">,</span>&nbsp;<span class="num" id="5376751">0xFF</span><span class="op" id="5376755">,</span>&nbsp;<span class="num" id="5376757">0xFF</span><span class="op" id="5376761">,</span>&nbsp;<span class="num" id="5376763">0xFF</span><span class="op" id="5376767">,</span>&nbsp;<span class="num" id="5376769">0x00</span><span class="op" id="5376773">,</span>&nbsp;<span class="num" id="5376775">0x00</span><span class="op" id="5376779">}</span><br>
<span class="lineno"></span><span class="op" id="5376781">)</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="keyword" id="5376784">func</span>&nbsp;<span class="ident" id="5376789">walksymtab</span><span class="op" id="5376799">(</span><span class="ident" id="5376800">data</span>&nbsp;<span class="op" id="5376805">[</span><span class="op" id="5376806">]</span><span class="builtintype" id="5376807">byte</span><span class="op" id="5376811">,</span>&nbsp;<span class="ident" id="5376813">fn</span>&nbsp;<span class="keyword" id="5376816">func</span><span class="op" id="5376820">(</span><span class="ident" id="5376821">sym</span><span class="op" id="5376824">)</span>&nbsp;<span class="builtintype" id="5376826">error</span><span class="op" id="5376831">)</span>&nbsp;<span class="builtintype" id="5376833">error</span>&nbsp;<span class="op" id="5376839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5376842">if</span>&nbsp;<span class="builtinfunc" id="5376845">len</span><span class="op" id="5376848">(</span><span class="ident" id="5376849">data</span><span class="op" id="5376853">)</span>&nbsp;<span class="op" id="5376855">==</span>&nbsp;<span class="num" id="5376858">0</span>&nbsp;<span class="op" id="5376860">{</span>&nbsp;<span class="comment" id="5376862">//&nbsp;missing&nbsp;symtab&nbsp;is&nbsp;okay</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5376890">return</span>&nbsp;<span class="ident" id="5376897">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5376902">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5376905">var</span>&nbsp;<span class="ident" id="5376909">order</span>&nbsp;<span class="ident" id="5376915">binary</span><span class="op" id="5376921">.</span><span class="ident" id="5376922">ByteOrder</span>&nbsp;<span class="op" id="5376932">=</span>&nbsp;<span class="ident" id="5376934">binary</span><span class="op" id="5376940">.</span><span class="ident" id="5376941">BigEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5376952">newTable</span>&nbsp;<span class="op" id="5376961">:=</span>&nbsp;<span class="builtintype" id="5376964">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5376971">switch</span>&nbsp;<span class="op" id="5376978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5376981">case</span>&nbsp;<span class="ident" id="5376986">bytes</span><span class="op" id="5376991">.</span><span class="ident" id="5376992">HasPrefix</span><span class="op" id="5377001">(</span><span class="ident" id="5377002">data</span><span class="op" id="5377006">,</span>&nbsp;<span class="ident" id="5377008">oldLittleEndianSymtab</span><span class="op" id="5377029">)</span><span class="op" id="5377030">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5377034">//&nbsp;Same&nbsp;as&nbsp;Go&nbsp;1.0,&nbsp;but&nbsp;little&nbsp;endian.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5377074">//&nbsp;Format&nbsp;was&nbsp;used&nbsp;during&nbsp;interim&nbsp;development&nbsp;between&nbsp;Go&nbsp;1.0&nbsp;and&nbsp;Go&nbsp;1.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5377149">//&nbsp;Should&nbsp;not&nbsp;be&nbsp;widespread,&nbsp;but&nbsp;easy&nbsp;to&nbsp;support.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377201">data</span>&nbsp;<span class="op" id="5377206">=</span>&nbsp;<span class="ident" id="5377208">data</span><span class="op" id="5377212">[</span><span class="num" id="5377213">6</span><span class="op" id="5377214">:</span><span class="op" id="5377215">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377219">order</span>&nbsp;<span class="op" id="5377225">=</span>&nbsp;<span class="ident" id="5377227">binary</span><span class="op" id="5377233">.</span><span class="ident" id="5377234">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377248">case</span>&nbsp;<span class="ident" id="5377253">bytes</span><span class="op" id="5377258">.</span><span class="ident" id="5377259">HasPrefix</span><span class="op" id="5377268">(</span><span class="ident" id="5377269">data</span><span class="op" id="5377273">,</span>&nbsp;<span class="ident" id="5377275">bigEndianSymtab</span><span class="op" id="5377290">)</span><span class="op" id="5377291">:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377295">newTable</span>&nbsp;<span class="op" id="5377304">=</span>&nbsp;<span class="builtintype" id="5377306">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377312">case</span>&nbsp;<span class="ident" id="5377317">bytes</span><span class="op" id="5377322">.</span><span class="ident" id="5377323">HasPrefix</span><span class="op" id="5377332">(</span><span class="ident" id="5377333">data</span><span class="op" id="5377337">,</span>&nbsp;<span class="ident" id="5377339">littleEndianSymtab</span><span class="op" id="5377357">)</span><span class="op" id="5377358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377362">newTable</span>&nbsp;<span class="op" id="5377371">=</span>&nbsp;<span class="builtintype" id="5377373">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377380">order</span>&nbsp;<span class="op" id="5377386">=</span>&nbsp;<span class="ident" id="5377388">binary</span><span class="op" id="5377394">.</span><span class="ident" id="5377395">LittleEndian</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5377409">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377412">var</span>&nbsp;<span class="ident" id="5377416">ptrsz</span>&nbsp;<span class="builtintype" id="5377422">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377427">if</span>&nbsp;<span class="ident" id="5377430">newTable</span>&nbsp;<span class="op" id="5377439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377443">if</span>&nbsp;<span class="builtinfunc" id="5377446">len</span><span class="op" id="5377449">(</span><span class="ident" id="5377450">data</span><span class="op" id="5377454">)</span>&nbsp;<span class="op" id="5377456">&lt;</span>&nbsp;<span class="num" id="5377458">8</span>&nbsp;<span class="op" id="5377460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377465">return</span>&nbsp;<span class="op" id="5377472">&amp;</span><span class="ident" id="5377473">DecodingError</span><span class="op" id="5377486">{</span><span class="builtinfunc" id="5377487">len</span><span class="op" id="5377490">(</span><span class="ident" id="5377491">data</span><span class="op" id="5377495">)</span><span class="op" id="5377496">,</span>&nbsp;<span class="string" id="5377498">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5377514">,</span>&nbsp;<span class="ident" id="5377516">nil</span><span class="op" id="5377519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5377523">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377527">ptrsz</span>&nbsp;<span class="op" id="5377533">=</span>&nbsp;<span class="builtintype" id="5377535">int</span><span class="op" id="5377538">(</span><span class="ident" id="5377539">data</span><span class="op" id="5377543">[</span><span class="num" id="5377544">7</span><span class="op" id="5377545">]</span><span class="op" id="5377546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377550">if</span>&nbsp;<span class="ident" id="5377553">ptrsz</span>&nbsp;<span class="op" id="5377559">!=</span>&nbsp;<span class="num" id="5377562">4</span>&nbsp;<span class="op" id="5377564">&amp;&amp;</span>&nbsp;<span class="ident" id="5377567">ptrsz</span>&nbsp;<span class="op" id="5377573">!=</span>&nbsp;<span class="num" id="5377576">8</span>&nbsp;<span class="op" id="5377578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377583">return</span>&nbsp;<span class="op" id="5377590">&amp;</span><span class="ident" id="5377591">DecodingError</span><span class="op" id="5377604">{</span><span class="num" id="5377605">7</span><span class="op" id="5377606">,</span>&nbsp;<span class="string" id="5377608">&#34;invalid&nbsp;pointer&nbsp;size&#34;</span><span class="op" id="5377630">,</span>&nbsp;<span class="ident" id="5377632">ptrsz</span><span class="op" id="5377637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5377641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377645">data</span>&nbsp;<span class="op" id="5377650">=</span>&nbsp;<span class="ident" id="5377652">data</span><span class="op" id="5377656">[</span><span class="num" id="5377657">8</span><span class="op" id="5377658">:</span><span class="op" id="5377659">]</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5377662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377665">var</span>&nbsp;<span class="ident" id="5377669">s</span>&nbsp;<span class="ident" id="5377671">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377676">p</span>&nbsp;<span class="op" id="5377678">:=</span>&nbsp;<span class="ident" id="5377681">data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377687">for</span>&nbsp;<span class="builtinfunc" id="5377691">len</span><span class="op" id="5377694">(</span><span class="ident" id="5377695">p</span><span class="op" id="5377696">)</span>&nbsp;<span class="op" id="5377698">&gt;=</span>&nbsp;<span class="num" id="5377701">4</span>&nbsp;<span class="op" id="5377703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377707">var</span>&nbsp;<span class="ident" id="5377711">typ</span>&nbsp;<span class="builtintype" id="5377715">byte</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377722">if</span>&nbsp;<span class="ident" id="5377725">newTable</span>&nbsp;<span class="op" id="5377734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5377739">//&nbsp;Symbol&nbsp;type,&nbsp;value,&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377774">typ</span>&nbsp;<span class="op" id="5377778">=</span>&nbsp;<span class="ident" id="5377780">p</span><span class="op" id="5377781">[</span><span class="num" id="5377782">0</span><span class="op" id="5377783">]</span>&nbsp;<span class="op" id="5377785">&amp;</span>&nbsp;<span class="num" id="5377787">0x3F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377795">wideValue</span>&nbsp;<span class="op" id="5377805">:=</span>&nbsp;<span class="ident" id="5377808">p</span><span class="op" id="5377809">[</span><span class="num" id="5377810">0</span><span class="op" id="5377811">]</span><span class="op" id="5377812">&amp;</span><span class="num" id="5377813">0x40</span>&nbsp;<span class="op" id="5377818">!=</span>&nbsp;<span class="num" id="5377821">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377826">goType</span>&nbsp;<span class="op" id="5377833">:=</span>&nbsp;<span class="ident" id="5377836">p</span><span class="op" id="5377837">[</span><span class="num" id="5377838">0</span><span class="op" id="5377839">]</span><span class="op" id="5377840">&amp;</span><span class="num" id="5377841">0x80</span>&nbsp;<span class="op" id="5377846">!=</span>&nbsp;<span class="num" id="5377849">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377854">if</span>&nbsp;<span class="ident" id="5377857">typ</span>&nbsp;<span class="op" id="5377861">&lt;</span>&nbsp;<span class="num" id="5377863">26</span>&nbsp;<span class="op" id="5377866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377872">typ</span>&nbsp;<span class="op" id="5377876">+=</span>&nbsp;<span class="string" id="5377879">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5377886">}</span>&nbsp;<span class="keyword" id="5377888">else</span>&nbsp;<span class="op" id="5377893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377899">typ</span>&nbsp;<span class="op" id="5377903">+=</span>&nbsp;<span class="string" id="5377906">&#39;a&#39;</span>&nbsp;<span class="op" id="5377910">-</span>&nbsp;<span class="num" id="5377912">26</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5377918">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377923">s</span><span class="op" id="5377924">.</span><span class="ident" id="5377925">typ</span>&nbsp;<span class="op" id="5377929">=</span>&nbsp;<span class="ident" id="5377931">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5377938">p</span>&nbsp;<span class="op" id="5377940">=</span>&nbsp;<span class="ident" id="5377942">p</span><span class="op" id="5377943">[</span><span class="num" id="5377944">1</span><span class="op" id="5377945">:</span><span class="op" id="5377946">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377951">if</span>&nbsp;<span class="ident" id="5377954">wideValue</span>&nbsp;<span class="op" id="5377964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377970">if</span>&nbsp;<span class="builtinfunc" id="5377973">len</span><span class="op" id="5377976">(</span><span class="ident" id="5377977">p</span><span class="op" id="5377978">)</span>&nbsp;<span class="op" id="5377980">&lt;</span>&nbsp;<span class="ident" id="5377982">ptrsz</span>&nbsp;<span class="op" id="5377988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5377995">return</span>&nbsp;<span class="op" id="5378002">&amp;</span><span class="ident" id="5378003">DecodingError</span><span class="op" id="5378016">{</span><span class="builtinfunc" id="5378017">len</span><span class="op" id="5378020">(</span><span class="ident" id="5378021">data</span><span class="op" id="5378025">)</span><span class="op" id="5378026">,</span>&nbsp;<span class="string" id="5378028">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5378044">,</span>&nbsp;<span class="ident" id="5378046">nil</span><span class="op" id="5378049">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5378061">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378086">if</span>&nbsp;<span class="ident" id="5378089">ptrsz</span>&nbsp;<span class="op" id="5378095">==</span>&nbsp;<span class="num" id="5378098">8</span>&nbsp;<span class="op" id="5378100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378107">s</span><span class="op" id="5378108">.</span><span class="ident" id="5378109">value</span>&nbsp;<span class="op" id="5378115">=</span>&nbsp;<span class="ident" id="5378117">order</span><span class="op" id="5378122">.</span><span class="ident" id="5378123">Uint64</span><span class="op" id="5378129">(</span><span class="ident" id="5378130">p</span><span class="op" id="5378131">[</span><span class="num" id="5378132">0</span><span class="op" id="5378133">:</span><span class="num" id="5378134">8</span><span class="op" id="5378135">]</span><span class="op" id="5378136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378143">p</span>&nbsp;<span class="op" id="5378145">=</span>&nbsp;<span class="ident" id="5378147">p</span><span class="op" id="5378148">[</span><span class="num" id="5378149">8</span><span class="op" id="5378150">:</span><span class="op" id="5378151">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378157">}</span>&nbsp;<span class="keyword" id="5378159">else</span>&nbsp;<span class="op" id="5378164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378171">s</span><span class="op" id="5378172">.</span><span class="ident" id="5378173">value</span>&nbsp;<span class="op" id="5378179">=</span>&nbsp;<span class="ident" id="5378181">uint64</span><span class="op" id="5378187">(</span><span class="ident" id="5378188">order</span><span class="op" id="5378193">.</span><span class="ident" id="5378194">Uint32</span><span class="op" id="5378200">(</span><span class="ident" id="5378201">p</span><span class="op" id="5378202">[</span><span class="num" id="5378203">0</span><span class="op" id="5378204">:</span><span class="num" id="5378205">4</span><span class="op" id="5378206">]</span><span class="op" id="5378207">)</span><span class="op" id="5378208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378215">p</span>&nbsp;<span class="op" id="5378217">=</span>&nbsp;<span class="ident" id="5378219">p</span><span class="op" id="5378220">[</span><span class="num" id="5378221">4</span><span class="op" id="5378222">:</span><span class="op" id="5378223">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378234">}</span>&nbsp;<span class="keyword" id="5378236">else</span>&nbsp;<span class="op" id="5378241">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5378247">//&nbsp;varint&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378267">s</span><span class="op" id="5378268">.</span><span class="ident" id="5378269">value</span>&nbsp;<span class="op" id="5378275">=</span>&nbsp;<span class="num" id="5378277">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378283">shift</span>&nbsp;<span class="op" id="5378289">:=</span>&nbsp;<span class="builtintype" id="5378292">uint</span><span class="op" id="5378296">(</span><span class="num" id="5378297">0</span><span class="op" id="5378298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378304">for</span>&nbsp;<span class="builtinfunc" id="5378308">len</span><span class="op" id="5378311">(</span><span class="ident" id="5378312">p</span><span class="op" id="5378313">)</span>&nbsp;<span class="op" id="5378315">&gt;</span>&nbsp;<span class="num" id="5378317">0</span>&nbsp;<span class="op" id="5378319">&amp;&amp;</span>&nbsp;<span class="ident" id="5378322">p</span><span class="op" id="5378323">[</span><span class="num" id="5378324">0</span><span class="op" id="5378325">]</span><span class="op" id="5378326">&amp;</span><span class="num" id="5378327">0x80</span>&nbsp;<span class="op" id="5378332">!=</span>&nbsp;<span class="num" id="5378335">0</span>&nbsp;<span class="op" id="5378337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378344">s</span><span class="op" id="5378345">.</span><span class="ident" id="5378346">value</span>&nbsp;<span class="op" id="5378352">|=</span>&nbsp;<span class="ident" id="5378355">uint64</span><span class="op" id="5378361">(</span><span class="ident" id="5378362">p</span><span class="op" id="5378363">[</span><span class="num" id="5378364">0</span><span class="op" id="5378365">]</span><span class="op" id="5378366">&amp;</span><span class="num" id="5378367">0x7F</span><span class="op" id="5378371">)</span>&nbsp;<span class="op" id="5378373">&lt;&lt;</span>&nbsp;<span class="ident" id="5378376">shift</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378387">shift</span>&nbsp;<span class="op" id="5378393">+=</span>&nbsp;<span class="num" id="5378396">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378403">p</span>&nbsp;<span class="op" id="5378405">=</span>&nbsp;<span class="ident" id="5378407">p</span><span class="op" id="5378408">[</span><span class="num" id="5378409">1</span><span class="op" id="5378410">:</span><span class="op" id="5378411">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378423">if</span>&nbsp;<span class="builtinfunc" id="5378426">len</span><span class="op" id="5378429">(</span><span class="ident" id="5378430">p</span><span class="op" id="5378431">)</span>&nbsp;<span class="op" id="5378433">==</span>&nbsp;<span class="num" id="5378436">0</span>&nbsp;<span class="op" id="5378438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378445">return</span>&nbsp;<span class="op" id="5378452">&amp;</span><span class="ident" id="5378453">DecodingError</span><span class="op" id="5378466">{</span><span class="builtinfunc" id="5378467">len</span><span class="op" id="5378470">(</span><span class="ident" id="5378471">data</span><span class="op" id="5378475">)</span><span class="op" id="5378476">,</span>&nbsp;<span class="string" id="5378478">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5378494">,</span>&nbsp;<span class="ident" id="5378496">nil</span><span class="op" id="5378499">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378511">s</span><span class="op" id="5378512">.</span><span class="ident" id="5378513">value</span>&nbsp;<span class="op" id="5378519">|=</span>&nbsp;<span class="ident" id="5378522">uint64</span><span class="op" id="5378528">(</span><span class="ident" id="5378529">p</span><span class="op" id="5378530">[</span><span class="num" id="5378531">0</span><span class="op" id="5378532">]</span><span class="op" id="5378533">)</span>&nbsp;<span class="op" id="5378535">&lt;&lt;</span>&nbsp;<span class="ident" id="5378538">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378548">p</span>&nbsp;<span class="op" id="5378550">=</span>&nbsp;<span class="ident" id="5378552">p</span><span class="op" id="5378553">[</span><span class="num" id="5378554">1</span><span class="op" id="5378555">:</span><span class="op" id="5378556">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378566">if</span>&nbsp;<span class="ident" id="5378569">goType</span>&nbsp;<span class="op" id="5378576">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378582">if</span>&nbsp;<span class="builtinfunc" id="5378585">len</span><span class="op" id="5378588">(</span><span class="ident" id="5378589">p</span><span class="op" id="5378590">)</span>&nbsp;<span class="op" id="5378592">&lt;</span>&nbsp;<span class="ident" id="5378594">ptrsz</span>&nbsp;<span class="op" id="5378600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378607">return</span>&nbsp;<span class="op" id="5378614">&amp;</span><span class="ident" id="5378615">DecodingError</span><span class="op" id="5378628">{</span><span class="builtinfunc" id="5378629">len</span><span class="op" id="5378632">(</span><span class="ident" id="5378633">data</span><span class="op" id="5378637">)</span><span class="op" id="5378638">,</span>&nbsp;<span class="string" id="5378640">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5378656">,</span>&nbsp;<span class="ident" id="5378658">nil</span><span class="op" id="5378661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5378673">//&nbsp;fixed-width&nbsp;go&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378700">if</span>&nbsp;<span class="ident" id="5378703">ptrsz</span>&nbsp;<span class="op" id="5378709">==</span>&nbsp;<span class="num" id="5378712">8</span>&nbsp;<span class="op" id="5378714">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378721">s</span><span class="op" id="5378722">.</span><span class="ident" id="5378723">gotype</span>&nbsp;<span class="op" id="5378730">=</span>&nbsp;<span class="ident" id="5378732">order</span><span class="op" id="5378737">.</span><span class="ident" id="5378738">Uint64</span><span class="op" id="5378744">(</span><span class="ident" id="5378745">p</span><span class="op" id="5378746">[</span><span class="num" id="5378747">0</span><span class="op" id="5378748">:</span><span class="num" id="5378749">8</span><span class="op" id="5378750">]</span><span class="op" id="5378751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378758">p</span>&nbsp;<span class="op" id="5378760">=</span>&nbsp;<span class="ident" id="5378762">p</span><span class="op" id="5378763">[</span><span class="num" id="5378764">8</span><span class="op" id="5378765">:</span><span class="op" id="5378766">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378772">}</span>&nbsp;<span class="keyword" id="5378774">else</span>&nbsp;<span class="op" id="5378779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378786">s</span><span class="op" id="5378787">.</span><span class="ident" id="5378788">gotype</span>&nbsp;<span class="op" id="5378795">=</span>&nbsp;<span class="ident" id="5378797">uint64</span><span class="op" id="5378803">(</span><span class="ident" id="5378804">order</span><span class="op" id="5378809">.</span><span class="ident" id="5378810">Uint32</span><span class="op" id="5378816">(</span><span class="ident" id="5378817">p</span><span class="op" id="5378818">[</span><span class="num" id="5378819">0</span><span class="op" id="5378820">:</span><span class="num" id="5378821">4</span><span class="op" id="5378822">]</span><span class="op" id="5378823">)</span><span class="op" id="5378824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378831">p</span>&nbsp;<span class="op" id="5378833">=</span>&nbsp;<span class="ident" id="5378835">p</span><span class="op" id="5378836">[</span><span class="num" id="5378837">4</span><span class="op" id="5378838">:</span><span class="op" id="5378839">]</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5378854">}</span>&nbsp;<span class="keyword" id="5378856">else</span>&nbsp;<span class="op" id="5378861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5378866">//&nbsp;Value,&nbsp;symbol&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5378892">s</span><span class="op" id="5378893">.</span><span class="ident" id="5378894">value</span>&nbsp;<span class="op" id="5378900">=</span>&nbsp;<span class="ident" id="5378902">uint64</span><span class="op" id="5378908">(</span><span class="ident" id="5378909">order</span><span class="op" id="5378914">.</span><span class="ident" id="5378915">Uint32</span><span class="op" id="5378921">(</span><span class="ident" id="5378922">p</span><span class="op" id="5378923">[</span><span class="num" id="5378924">0</span><span class="op" id="5378925">:</span><span class="num" id="5378926">4</span><span class="op" id="5378927">]</span><span class="op" id="5378928">)</span><span class="op" id="5378929">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378934">if</span>&nbsp;<span class="builtinfunc" id="5378937">len</span><span class="op" id="5378940">(</span><span class="ident" id="5378941">p</span><span class="op" id="5378942">)</span>&nbsp;<span class="op" id="5378944">&lt;</span>&nbsp;<span class="num" id="5378946">5</span>&nbsp;<span class="op" id="5378948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5378954">return</span>&nbsp;<span class="op" id="5378961">&amp;</span><span class="ident" id="5378962">DecodingError</span><span class="op" id="5378975">{</span><span class="builtinfunc" id="5378976">len</span><span class="op" id="5378979">(</span><span class="ident" id="5378980">data</span><span class="op" id="5378984">)</span><span class="op" id="5378985">,</span>&nbsp;<span class="string" id="5378987">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5379003">,</span>&nbsp;<span class="ident" id="5379005">nil</span><span class="op" id="5379008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379018">typ</span>&nbsp;<span class="op" id="5379022">=</span>&nbsp;<span class="ident" id="5379024">p</span><span class="op" id="5379025">[</span><span class="num" id="5379026">4</span><span class="op" id="5379027">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379032">if</span>&nbsp;<span class="ident" id="5379035">typ</span><span class="op" id="5379038">&amp;</span><span class="num" id="5379039">0x80</span>&nbsp;<span class="op" id="5379044">==</span>&nbsp;<span class="num" id="5379047">0</span>&nbsp;<span class="op" id="5379049">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379055">return</span>&nbsp;<span class="op" id="5379062">&amp;</span><span class="ident" id="5379063">DecodingError</span><span class="op" id="5379076">{</span><span class="builtinfunc" id="5379077">len</span><span class="op" id="5379080">(</span><span class="ident" id="5379081">data</span><span class="op" id="5379085">)</span>&nbsp;<span class="op" id="5379087">-</span>&nbsp;<span class="builtinfunc" id="5379089">len</span><span class="op" id="5379092">(</span><span class="ident" id="5379093">p</span><span class="op" id="5379094">)</span>&nbsp;<span class="op" id="5379096">+</span>&nbsp;<span class="num" id="5379098">4</span><span class="op" id="5379099">,</span>&nbsp;<span class="string" id="5379101">&#34;bad&nbsp;symbol&nbsp;type&#34;</span><span class="op" id="5379118">,</span>&nbsp;<span class="ident" id="5379120">typ</span><span class="op" id="5379123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379133">typ</span>&nbsp;<span class="op" id="5379137">&amp;^=</span>&nbsp;<span class="num" id="5379141">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379149">s</span><span class="op" id="5379150">.</span><span class="ident" id="5379151">typ</span>&nbsp;<span class="op" id="5379155">=</span>&nbsp;<span class="ident" id="5379157">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379164">p</span>&nbsp;<span class="op" id="5379166">=</span>&nbsp;<span class="ident" id="5379168">p</span><span class="op" id="5379169">[</span><span class="num" id="5379170">5</span><span class="op" id="5379171">:</span><span class="op" id="5379172">]</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5379181">//&nbsp;Name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379192">var</span>&nbsp;<span class="ident" id="5379196">i</span>&nbsp;<span class="builtintype" id="5379198">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379204">var</span>&nbsp;<span class="ident" id="5379208">nnul</span>&nbsp;<span class="builtintype" id="5379213">int</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379219">for</span>&nbsp;<span class="ident" id="5379223">i</span>&nbsp;<span class="op" id="5379225">=</span>&nbsp;<span class="num" id="5379227">0</span><span class="op" id="5379228">;</span>&nbsp;<span class="ident" id="5379230">i</span>&nbsp;<span class="op" id="5379232">&lt;</span>&nbsp;<span class="builtinfunc" id="5379234">len</span><span class="op" id="5379237">(</span><span class="ident" id="5379238">p</span><span class="op" id="5379239">)</span><span class="op" id="5379240">;</span>&nbsp;<span class="ident" id="5379242">i</span><span class="op" id="5379243">++</span>&nbsp;<span class="op" id="5379246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379251">if</span>&nbsp;<span class="ident" id="5379254">p</span><span class="op" id="5379255">[</span><span class="ident" id="5379256">i</span><span class="op" id="5379257">]</span>&nbsp;<span class="op" id="5379259">==</span>&nbsp;<span class="num" id="5379262">0</span>&nbsp;<span class="op" id="5379264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379270">nnul</span>&nbsp;<span class="op" id="5379275">=</span>&nbsp;<span class="num" id="5379277">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379283">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379292">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379300">switch</span>&nbsp;<span class="ident" id="5379307">typ</span>&nbsp;<span class="op" id="5379311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379315">case</span>&nbsp;<span class="string" id="5379320">&#39;z&#39;</span><span class="op" id="5379323">,</span>&nbsp;<span class="string" id="5379325">&#39;Z&#39;</span><span class="op" id="5379328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379333">p</span>&nbsp;<span class="op" id="5379335">=</span>&nbsp;<span class="ident" id="5379337">p</span><span class="op" id="5379338">[</span><span class="ident" id="5379339">i</span><span class="op" id="5379340">+</span><span class="ident" id="5379341">nnul</span><span class="op" id="5379345">:</span><span class="op" id="5379346">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379351">for</span>&nbsp;<span class="ident" id="5379355">i</span>&nbsp;<span class="op" id="5379357">=</span>&nbsp;<span class="num" id="5379359">0</span><span class="op" id="5379360">;</span>&nbsp;<span class="ident" id="5379362">i</span><span class="op" id="5379363">+</span><span class="num" id="5379364">2</span>&nbsp;<span class="op" id="5379366">&lt;=</span>&nbsp;<span class="builtinfunc" id="5379369">len</span><span class="op" id="5379372">(</span><span class="ident" id="5379373">p</span><span class="op" id="5379374">)</span><span class="op" id="5379375">;</span>&nbsp;<span class="ident" id="5379377">i</span>&nbsp;<span class="op" id="5379379">+=</span>&nbsp;<span class="num" id="5379382">2</span>&nbsp;<span class="op" id="5379384">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379390">if</span>&nbsp;<span class="ident" id="5379393">p</span><span class="op" id="5379394">[</span><span class="ident" id="5379395">i</span><span class="op" id="5379396">]</span>&nbsp;<span class="op" id="5379398">==</span>&nbsp;<span class="num" id="5379401">0</span>&nbsp;<span class="op" id="5379403">&amp;&amp;</span>&nbsp;<span class="ident" id="5379406">p</span><span class="op" id="5379407">[</span><span class="ident" id="5379408">i</span><span class="op" id="5379409">+</span><span class="num" id="5379410">1</span><span class="op" id="5379411">]</span>&nbsp;<span class="op" id="5379413">==</span>&nbsp;<span class="num" id="5379416">0</span>&nbsp;<span class="op" id="5379418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379425">nnul</span>&nbsp;<span class="op" id="5379430">=</span>&nbsp;<span class="num" id="5379432">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379439">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379454">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379458">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379462">if</span>&nbsp;<span class="builtinfunc" id="5379465">len</span><span class="op" id="5379468">(</span><span class="ident" id="5379469">p</span><span class="op" id="5379470">)</span>&nbsp;<span class="op" id="5379472">&lt;</span>&nbsp;<span class="ident" id="5379474">i</span><span class="op" id="5379475">+</span><span class="ident" id="5379476">nnul</span>&nbsp;<span class="op" id="5379481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379486">return</span>&nbsp;<span class="op" id="5379493">&amp;</span><span class="ident" id="5379494">DecodingError</span><span class="op" id="5379507">{</span><span class="builtinfunc" id="5379508">len</span><span class="op" id="5379511">(</span><span class="ident" id="5379512">data</span><span class="op" id="5379516">)</span><span class="op" id="5379517">,</span>&nbsp;<span class="string" id="5379519">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5379535">,</span>&nbsp;<span class="ident" id="5379537">nil</span><span class="op" id="5379540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379548">s</span><span class="op" id="5379549">.</span><span class="ident" id="5379550">name</span>&nbsp;<span class="op" id="5379555">=</span>&nbsp;<span class="ident" id="5379557">p</span><span class="op" id="5379558">[</span><span class="num" id="5379559">0</span><span class="op" id="5379560">:</span><span class="ident" id="5379561">i</span><span class="op" id="5379562">]</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379566">i</span>&nbsp;<span class="op" id="5379568">+=</span>&nbsp;<span class="ident" id="5379571">nnul</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379578">p</span>&nbsp;<span class="op" id="5379580">=</span>&nbsp;<span class="ident" id="5379582">p</span><span class="op" id="5379583">[</span><span class="ident" id="5379584">i</span><span class="op" id="5379585">:</span><span class="op" id="5379586">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379591">if</span>&nbsp;<span class="op" id="5379594">!</span><span class="ident" id="5379595">newTable</span>&nbsp;<span class="op" id="5379604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379609">if</span>&nbsp;<span class="builtinfunc" id="5379612">len</span><span class="op" id="5379615">(</span><span class="ident" id="5379616">p</span><span class="op" id="5379617">)</span>&nbsp;<span class="op" id="5379619">&lt;</span>&nbsp;<span class="num" id="5379621">4</span>&nbsp;<span class="op" id="5379623">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379629">return</span>&nbsp;<span class="op" id="5379636">&amp;</span><span class="ident" id="5379637">DecodingError</span><span class="op" id="5379650">{</span><span class="builtinfunc" id="5379651">len</span><span class="op" id="5379654">(</span><span class="ident" id="5379655">data</span><span class="op" id="5379659">)</span><span class="op" id="5379660">,</span>&nbsp;<span class="string" id="5379662">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5379678">,</span>&nbsp;<span class="ident" id="5379680">nil</span><span class="op" id="5379683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5379693">//&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379708">s</span><span class="op" id="5379709">.</span><span class="ident" id="5379710">gotype</span>&nbsp;<span class="op" id="5379717">=</span>&nbsp;<span class="ident" id="5379719">uint64</span><span class="op" id="5379725">(</span><span class="ident" id="5379726">order</span><span class="op" id="5379731">.</span><span class="ident" id="5379732">Uint32</span><span class="op" id="5379738">(</span><span class="ident" id="5379739">p</span><span class="op" id="5379740">[</span><span class="op" id="5379741">:</span><span class="num" id="5379742">4</span><span class="op" id="5379743">]</span><span class="op" id="5379744">)</span><span class="op" id="5379745">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379750">p</span>&nbsp;<span class="op" id="5379752">=</span>&nbsp;<span class="ident" id="5379754">p</span><span class="op" id="5379755">[</span><span class="num" id="5379756">4</span><span class="op" id="5379757">:</span><span class="op" id="5379758">]</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379766">fn</span><span class="op" id="5379768">(</span><span class="ident" id="5379769">s</span><span class="op" id="5379770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5379773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379776">return</span>&nbsp;<span class="ident" id="5379783">nil</span><br>
<span class="lineno"></span><span class="op" id="5379787">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="5379790">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="5379839">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="5379881">func</span>&nbsp;<span class="ident" id="5379886">NewTable</span><span class="op" id="5379894">(</span><span class="ident" id="5379895">symtab</span>&nbsp;<span class="op" id="5379902">[</span><span class="op" id="5379903">]</span><span class="builtintype" id="5379904">byte</span><span class="op" id="5379908">,</span>&nbsp;<span class="ident" id="5379910">pcln</span>&nbsp;<span class="op" id="5379915">*</span><span class="ident" id="5379916">LineTable</span><span class="op" id="5379925">)</span>&nbsp;<span class="op" id="5379927">(</span><span class="op" id="5379928">*</span><span class="ident" id="5379929">Table</span><span class="op" id="5379934">,</span>&nbsp;<span class="builtintype" id="5379936">error</span><span class="op" id="5379941">)</span>&nbsp;<span class="op" id="5379943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5379946">var</span>&nbsp;<span class="ident" id="5379950">n</span>&nbsp;<span class="builtintype" id="5379952">int</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5379957">err</span>&nbsp;<span class="op" id="5379961">:=</span>&nbsp;<span class="ident" id="5379964">walksymtab</span><span class="op" id="5379974">(</span><span class="ident" id="5379975">symtab</span><span class="op" id="5379981">,</span>&nbsp;<span class="keyword" id="5379983">func</span><span class="op" id="5379987">(</span><span class="ident" id="5379988">s</span>&nbsp;<span class="ident" id="5379990">sym</span><span class="op" id="5379993">)</span>&nbsp;<span class="builtintype" id="5379995">error</span>&nbsp;<span class="op" id="5380001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380005">n</span><span class="op" id="5380006">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380011">return</span>&nbsp;<span class="ident" id="5380018">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5380023">}</span><span class="op" id="5380024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380027">if</span>&nbsp;<span class="ident" id="5380030">err</span>&nbsp;<span class="op" id="5380034">!=</span>&nbsp;<span class="ident" id="5380037">nil</span>&nbsp;<span class="op" id="5380041">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380045">return</span>&nbsp;<span class="ident" id="5380052">nil</span><span class="op" id="5380055">,</span>&nbsp;<span class="ident" id="5380057">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5380062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380066">var</span>&nbsp;<span class="ident" id="5380070">t</span>&nbsp;<span class="ident" id="5380072">Table</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380079">if</span>&nbsp;<span class="ident" id="5380082">pcln</span><span class="op" id="5380086">.</span><span class="ident" id="5380087">isGo12</span><span class="op" id="5380093">(</span><span class="op" id="5380094">)</span>&nbsp;<span class="op" id="5380096">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380100">t</span><span class="op" id="5380101">.</span><span class="ident" id="5380102">go12line</span>&nbsp;<span class="op" id="5380111">=</span>&nbsp;<span class="ident" id="5380113">pcln</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5380119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380122">fname</span>&nbsp;<span class="op" id="5380128">:=</span>&nbsp;<span class="builtinfunc" id="5380131">make</span><span class="op" id="5380135">(</span><span class="keyword" id="5380136">map</span><span class="op" id="5380139">[</span><span class="builtintype" id="5380140">uint16</span><span class="op" id="5380146">]</span><span class="builtintype" id="5380147">string</span><span class="op" id="5380153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380156">t</span><span class="op" id="5380157">.</span><span class="ident" id="5380158">Syms</span>&nbsp;<span class="op" id="5380163">=</span>&nbsp;<span class="builtinfunc" id="5380165">make</span><span class="op" id="5380169">(</span><span class="op" id="5380170">[</span><span class="op" id="5380171">]</span><span class="ident" id="5380172">Sym</span><span class="op" id="5380175">,</span>&nbsp;<span class="num" id="5380177">0</span><span class="op" id="5380178">,</span>&nbsp;<span class="ident" id="5380180">n</span><span class="op" id="5380181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380184">nf</span>&nbsp;<span class="op" id="5380187">:=</span>&nbsp;<span class="num" id="5380190">0</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380193">nz</span>&nbsp;<span class="op" id="5380196">:=</span>&nbsp;<span class="num" id="5380199">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380202">lasttyp</span>&nbsp;<span class="op" id="5380210">:=</span>&nbsp;<span class="builtintype" id="5380213">uint8</span><span class="op" id="5380218">(</span><span class="num" id="5380219">0</span><span class="op" id="5380220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380223">err</span>&nbsp;<span class="op" id="5380227">=</span>&nbsp;<span class="ident" id="5380229">walksymtab</span><span class="op" id="5380239">(</span><span class="ident" id="5380240">symtab</span><span class="op" id="5380246">,</span>&nbsp;<span class="keyword" id="5380248">func</span><span class="op" id="5380252">(</span><span class="ident" id="5380253">s</span>&nbsp;<span class="ident" id="5380255">sym</span><span class="op" id="5380258">)</span>&nbsp;<span class="builtintype" id="5380260">error</span>&nbsp;<span class="op" id="5380266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380270">n</span>&nbsp;<span class="op" id="5380272">:=</span>&nbsp;<span class="builtinfunc" id="5380275">len</span><span class="op" id="5380278">(</span><span class="ident" id="5380279">t</span><span class="op" id="5380280">.</span><span class="ident" id="5380281">Syms</span><span class="op" id="5380285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380289">t</span><span class="op" id="5380290">.</span><span class="ident" id="5380291">Syms</span>&nbsp;<span class="op" id="5380296">=</span>&nbsp;<span class="ident" id="5380298">t</span><span class="op" id="5380299">.</span><span class="ident" id="5380300">Syms</span><span class="op" id="5380304">[</span><span class="num" id="5380305">0</span>&nbsp;<span class="op" id="5380307">:</span>&nbsp;<span class="ident" id="5380309">n</span><span class="op" id="5380310">+</span><span class="num" id="5380311">1</span><span class="op" id="5380312">]</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380316">ts</span>&nbsp;<span class="op" id="5380319">:=</span>&nbsp;<span class="op" id="5380322">&amp;</span><span class="ident" id="5380323">t</span><span class="op" id="5380324">.</span><span class="ident" id="5380325">Syms</span><span class="op" id="5380329">[</span><span class="ident" id="5380330">n</span><span class="op" id="5380331">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380335">ts</span><span class="op" id="5380337">.</span><span class="ident" id="5380338">Type</span>&nbsp;<span class="op" id="5380343">=</span>&nbsp;<span class="ident" id="5380345">s</span><span class="op" id="5380346">.</span><span class="ident" id="5380347">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380353">ts</span><span class="op" id="5380355">.</span><span class="ident" id="5380356">Value</span>&nbsp;<span class="op" id="5380362">=</span>&nbsp;<span class="ident" id="5380364">uint64</span><span class="op" id="5380370">(</span><span class="ident" id="5380371">s</span><span class="op" id="5380372">.</span><span class="ident" id="5380373">value</span><span class="op" id="5380378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380382">ts</span><span class="op" id="5380384">.</span><span class="ident" id="5380385">GoType</span>&nbsp;<span class="op" id="5380392">=</span>&nbsp;<span class="ident" id="5380394">uint64</span><span class="op" id="5380400">(</span><span class="ident" id="5380401">s</span><span class="op" id="5380402">.</span><span class="ident" id="5380403">gotype</span><span class="op" id="5380409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380413">switch</span>&nbsp;<span class="ident" id="5380420">s</span><span class="op" id="5380421">.</span><span class="ident" id="5380422">typ</span>&nbsp;<span class="op" id="5380426">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380430">default</span><span class="op" id="5380437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5380442">//&nbsp;rewrite&nbsp;name&nbsp;to&nbsp;use&nbsp;.&nbsp;instead&nbsp;of&nbsp;·&nbsp;(c2&nbsp;b7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380492">w</span>&nbsp;<span class="op" id="5380494">:=</span>&nbsp;<span class="num" id="5380497">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380502">b</span>&nbsp;<span class="op" id="5380504">:=</span>&nbsp;<span class="ident" id="5380507">s</span><span class="op" id="5380508">.</span><span class="ident" id="5380509">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380517">for</span>&nbsp;<span class="ident" id="5380521">i</span>&nbsp;<span class="op" id="5380523">:=</span>&nbsp;<span class="num" id="5380526">0</span><span class="op" id="5380527">;</span>&nbsp;<span class="ident" id="5380529">i</span>&nbsp;<span class="op" id="5380531">&lt;</span>&nbsp;<span class="builtinfunc" id="5380533">len</span><span class="op" id="5380536">(</span><span class="ident" id="5380537">b</span><span class="op" id="5380538">)</span><span class="op" id="5380539">;</span>&nbsp;<span class="ident" id="5380541">i</span><span class="op" id="5380542">++</span>&nbsp;<span class="op" id="5380545">{</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380551">if</span>&nbsp;<span class="ident" id="5380554">b</span><span class="op" id="5380555">[</span><span class="ident" id="5380556">i</span><span class="op" id="5380557">]</span>&nbsp;<span class="op" id="5380559">==</span>&nbsp;<span class="num" id="5380562">0xc2</span>&nbsp;<span class="op" id="5380567">&amp;&amp;</span>&nbsp;<span class="ident" id="5380570">i</span><span class="op" id="5380571">+</span><span class="num" id="5380572">1</span>&nbsp;<span class="op" id="5380574">&lt;</span>&nbsp;<span class="builtinfunc" id="5380576">len</span><span class="op" id="5380579">(</span><span class="ident" id="5380580">b</span><span class="op" id="5380581">)</span>&nbsp;<span class="op" id="5380583">&amp;&amp;</span>&nbsp;<span class="ident" id="5380586">b</span><span class="op" id="5380587">[</span><span class="ident" id="5380588">i</span><span class="op" id="5380589">+</span><span class="num" id="5380590">1</span><span class="op" id="5380591">]</span>&nbsp;<span class="op" id="5380593">==</span>&nbsp;<span class="num" id="5380596">0xb7</span>&nbsp;<span class="op" id="5380601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380608">i</span><span class="op" id="5380609">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380617">b</span><span class="op" id="5380618">[</span><span class="ident" id="5380619">i</span><span class="op" id="5380620">]</span>&nbsp;<span class="op" id="5380622">=</span>&nbsp;<span class="string" id="5380624">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5380632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380638">b</span><span class="op" id="5380639">[</span><span class="ident" id="5380640">w</span><span class="op" id="5380641">]</span>&nbsp;<span class="op" id="5380643">=</span>&nbsp;<span class="ident" id="5380645">b</span><span class="op" id="5380646">[</span><span class="ident" id="5380647">i</span><span class="op" id="5380648">]</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380654">w</span><span class="op" id="5380655">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5380661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380666">ts</span><span class="op" id="5380668">.</span><span class="ident" id="5380669">Name</span>&nbsp;<span class="op" id="5380674">=</span>&nbsp;<span class="builtintype" id="5380676">string</span><span class="op" id="5380682">(</span><span class="ident" id="5380683">s</span><span class="op" id="5380684">.</span><span class="ident" id="5380685">name</span><span class="op" id="5380689">[</span><span class="num" id="5380690">0</span><span class="op" id="5380691">:</span><span class="ident" id="5380692">w</span><span class="op" id="5380693">]</span><span class="op" id="5380694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380698">case</span>&nbsp;<span class="string" id="5380703">&#39;z&#39;</span><span class="op" id="5380706">,</span>&nbsp;<span class="string" id="5380708">&#39;Z&#39;</span><span class="op" id="5380711">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380716">if</span>&nbsp;<span class="ident" id="5380719">lasttyp</span>&nbsp;<span class="op" id="5380727">!=</span>&nbsp;<span class="string" id="5380730">&#39;z&#39;</span>&nbsp;<span class="op" id="5380734">&amp;&amp;</span>&nbsp;<span class="ident" id="5380737">lasttyp</span>&nbsp;<span class="op" id="5380745">!=</span>&nbsp;<span class="string" id="5380748">&#39;Z&#39;</span>&nbsp;<span class="op" id="5380752">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380758">nz</span><span class="op" id="5380760">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5380766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380771">for</span>&nbsp;<span class="ident" id="5380775">i</span>&nbsp;<span class="op" id="5380777">:=</span>&nbsp;<span class="num" id="5380780">0</span><span class="op" id="5380781">;</span>&nbsp;<span class="ident" id="5380783">i</span>&nbsp;<span class="op" id="5380785">&lt;</span>&nbsp;<span class="builtinfunc" id="5380787">len</span><span class="op" id="5380790">(</span><span class="ident" id="5380791">s</span><span class="op" id="5380792">.</span><span class="ident" id="5380793">name</span><span class="op" id="5380797">)</span><span class="op" id="5380798">;</span>&nbsp;<span class="ident" id="5380800">i</span>&nbsp;<span class="op" id="5380802">+=</span>&nbsp;<span class="num" id="5380805">2</span>&nbsp;<span class="op" id="5380807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380813">eltIdx</span>&nbsp;<span class="op" id="5380820">:=</span>&nbsp;<span class="ident" id="5380823">binary</span><span class="op" id="5380829">.</span><span class="ident" id="5380830">BigEndian</span><span class="op" id="5380839">.</span><span class="ident" id="5380840">Uint16</span><span class="op" id="5380846">(</span><span class="ident" id="5380847">s</span><span class="op" id="5380848">.</span><span class="ident" id="5380849">name</span><span class="op" id="5380853">[</span><span class="ident" id="5380854">i</span>&nbsp;<span class="op" id="5380856">:</span>&nbsp;<span class="ident" id="5380858">i</span><span class="op" id="5380859">+</span><span class="num" id="5380860">2</span><span class="op" id="5380861">]</span><span class="op" id="5380862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5380868">elt</span><span class="op" id="5380871">,</span>&nbsp;<span class="ident" id="5380873">ok</span>&nbsp;<span class="op" id="5380876">:=</span>&nbsp;<span class="ident" id="5380879">fname</span><span class="op" id="5380884">[</span><span class="ident" id="5380885">eltIdx</span><span class="op" id="5380891">]</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380897">if</span>&nbsp;<span class="op" id="5380900">!</span><span class="ident" id="5380901">ok</span>&nbsp;<span class="op" id="5380904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380911">return</span>&nbsp;<span class="op" id="5380918">&amp;</span><span class="ident" id="5380919">DecodingError</span><span class="op" id="5380932">{</span><span class="op" id="5380933">-</span><span class="num" id="5380934">1</span><span class="op" id="5380935">,</span>&nbsp;<span class="string" id="5380937">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="5380956">,</span>&nbsp;<span class="ident" id="5380958">eltIdx</span><span class="op" id="5380964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5380970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5380976">if</span>&nbsp;<span class="ident" id="5380979">n</span>&nbsp;<span class="op" id="5380981">:=</span>&nbsp;<span class="builtinfunc" id="5380984">len</span><span class="op" id="5380987">(</span><span class="ident" id="5380988">ts</span><span class="op" id="5380990">.</span><span class="ident" id="5380991">Name</span><span class="op" id="5380995">)</span><span class="op" id="5380996">;</span>&nbsp;<span class="ident" id="5380998">n</span>&nbsp;<span class="op" id="5381000">&gt;</span>&nbsp;<span class="num" id="5381002">0</span>&nbsp;<span class="op" id="5381004">&amp;&amp;</span>&nbsp;<span class="ident" id="5381007">ts</span><span class="op" id="5381009">.</span><span class="ident" id="5381010">Name</span><span class="op" id="5381014">[</span><span class="ident" id="5381015">n</span><span class="op" id="5381016">-</span><span class="num" id="5381017">1</span><span class="op" id="5381018">]</span>&nbsp;<span class="op" id="5381020">!=</span>&nbsp;<span class="string" id="5381023">&#39;/&#39;</span>&nbsp;<span class="op" id="5381027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381034">ts</span><span class="op" id="5381036">.</span><span class="ident" id="5381037">Name</span>&nbsp;<span class="op" id="5381042">+=</span>&nbsp;<span class="string" id="5381045">&#34;/&#34;</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381059">ts</span><span class="op" id="5381061">.</span><span class="ident" id="5381062">Name</span>&nbsp;<span class="op" id="5381067">+=</span>&nbsp;<span class="ident" id="5381070">elt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381085">switch</span>&nbsp;<span class="ident" id="5381092">s</span><span class="op" id="5381093">.</span><span class="ident" id="5381094">typ</span>&nbsp;<span class="op" id="5381098">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381102">case</span>&nbsp;<span class="string" id="5381107">&#39;T&#39;</span><span class="op" id="5381110">,</span>&nbsp;<span class="string" id="5381112">&#39;t&#39;</span><span class="op" id="5381115">,</span>&nbsp;<span class="string" id="5381117">&#39;L&#39;</span><span class="op" id="5381120">,</span>&nbsp;<span class="string" id="5381122">&#39;l&#39;</span><span class="op" id="5381125">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381130">nf</span><span class="op" id="5381132">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381137">case</span>&nbsp;<span class="string" id="5381142">&#39;f&#39;</span><span class="op" id="5381145">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381150">fname</span><span class="op" id="5381155">[</span><span class="builtintype" id="5381156">uint16</span><span class="op" id="5381162">(</span><span class="ident" id="5381163">s</span><span class="op" id="5381164">.</span><span class="ident" id="5381165">value</span><span class="op" id="5381170">)</span><span class="op" id="5381171">]</span>&nbsp;<span class="op" id="5381173">=</span>&nbsp;<span class="ident" id="5381175">ts</span><span class="op" id="5381177">.</span><span class="ident" id="5381178">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381185">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381189">lasttyp</span>&nbsp;<span class="op" id="5381197">=</span>&nbsp;<span class="ident" id="5381199">s</span><span class="op" id="5381200">.</span><span class="ident" id="5381201">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381207">return</span>&nbsp;<span class="ident" id="5381214">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381219">}</span><span class="op" id="5381220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381223">if</span>&nbsp;<span class="ident" id="5381226">err</span>&nbsp;<span class="op" id="5381230">!=</span>&nbsp;<span class="ident" id="5381233">nil</span>&nbsp;<span class="op" id="5381237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381241">return</span>&nbsp;<span class="ident" id="5381248">nil</span><span class="op" id="5381251">,</span>&nbsp;<span class="ident" id="5381253">err</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381262">t</span><span class="op" id="5381263">.</span><span class="ident" id="5381264">Funcs</span>&nbsp;<span class="op" id="5381270">=</span>&nbsp;<span class="builtinfunc" id="5381272">make</span><span class="op" id="5381276">(</span><span class="op" id="5381277">[</span><span class="op" id="5381278">]</span><span class="ident" id="5381279">Func</span><span class="op" id="5381283">,</span>&nbsp;<span class="num" id="5381285">0</span><span class="op" id="5381286">,</span>&nbsp;<span class="ident" id="5381288">nf</span><span class="op" id="5381290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381293">t</span><span class="op" id="5381294">.</span><span class="ident" id="5381295">Files</span>&nbsp;<span class="op" id="5381301">=</span>&nbsp;<span class="builtinfunc" id="5381303">make</span><span class="op" id="5381307">(</span><span class="keyword" id="5381308">map</span><span class="op" id="5381311">[</span><span class="builtintype" id="5381312">string</span><span class="op" id="5381318">]</span><span class="op" id="5381319">*</span><span class="ident" id="5381320">Obj</span><span class="op" id="5381323">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381327">var</span>&nbsp;<span class="ident" id="5381331">obj</span>&nbsp;<span class="op" id="5381335">*</span><span class="ident" id="5381336">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381341">if</span>&nbsp;<span class="ident" id="5381344">t</span><span class="op" id="5381345">.</span><span class="ident" id="5381346">go12line</span>&nbsp;<span class="op" id="5381355">!=</span>&nbsp;<span class="ident" id="5381358">nil</span>&nbsp;<span class="op" id="5381362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5381366">//&nbsp;Put&nbsp;all&nbsp;functions&nbsp;into&nbsp;one&nbsp;Obj.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381403">t</span><span class="op" id="5381404">.</span><span class="ident" id="5381405">Objs</span>&nbsp;<span class="op" id="5381410">=</span>&nbsp;<span class="builtinfunc" id="5381412">make</span><span class="op" id="5381416">(</span><span class="op" id="5381417">[</span><span class="op" id="5381418">]</span><span class="ident" id="5381419">Obj</span><span class="op" id="5381422">,</span>&nbsp;<span class="num" id="5381424">1</span><span class="op" id="5381425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381429">obj</span>&nbsp;<span class="op" id="5381433">=</span>&nbsp;<span class="op" id="5381435">&amp;</span><span class="ident" id="5381436">t</span><span class="op" id="5381437">.</span><span class="ident" id="5381438">Objs</span><span class="op" id="5381442">[</span><span class="num" id="5381443">0</span><span class="op" id="5381444">]</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381448">t</span><span class="op" id="5381449">.</span><span class="ident" id="5381450">go12line</span><span class="op" id="5381458">.</span><span class="ident" id="5381459">go12MapFiles</span><span class="op" id="5381471">(</span><span class="ident" id="5381472">t</span><span class="op" id="5381473">.</span><span class="ident" id="5381474">Files</span><span class="op" id="5381479">,</span>&nbsp;<span class="ident" id="5381481">obj</span><span class="op" id="5381484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381487">}</span>&nbsp;<span class="keyword" id="5381489">else</span>&nbsp;<span class="op" id="5381494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381498">t</span><span class="op" id="5381499">.</span><span class="ident" id="5381500">Objs</span>&nbsp;<span class="op" id="5381505">=</span>&nbsp;<span class="builtinfunc" id="5381507">make</span><span class="op" id="5381511">(</span><span class="op" id="5381512">[</span><span class="op" id="5381513">]</span><span class="ident" id="5381514">Obj</span><span class="op" id="5381517">,</span>&nbsp;<span class="num" id="5381519">0</span><span class="op" id="5381520">,</span>&nbsp;<span class="ident" id="5381522">nz</span><span class="op" id="5381524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5381531">//&nbsp;Count&nbsp;text&nbsp;symbols&nbsp;and&nbsp;attach&nbsp;frame&nbsp;sizes,&nbsp;parameters,&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5381594">//&nbsp;locals&nbsp;to&nbsp;them.&nbsp;&nbsp;Also,&nbsp;find&nbsp;object&nbsp;file&nbsp;boundaries.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381650">lastf</span>&nbsp;<span class="op" id="5381656">:=</span>&nbsp;<span class="num" id="5381659">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381662">for</span>&nbsp;<span class="ident" id="5381666">i</span>&nbsp;<span class="op" id="5381668">:=</span>&nbsp;<span class="num" id="5381671">0</span><span class="op" id="5381672">;</span>&nbsp;<span class="ident" id="5381674">i</span>&nbsp;<span class="op" id="5381676">&lt;</span>&nbsp;<span class="builtinfunc" id="5381678">len</span><span class="op" id="5381681">(</span><span class="ident" id="5381682">t</span><span class="op" id="5381683">.</span><span class="ident" id="5381684">Syms</span><span class="op" id="5381688">)</span><span class="op" id="5381689">;</span>&nbsp;<span class="ident" id="5381691">i</span><span class="op" id="5381692">++</span>&nbsp;<span class="op" id="5381695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381699">sym</span>&nbsp;<span class="op" id="5381703">:=</span>&nbsp;<span class="op" id="5381706">&amp;</span><span class="ident" id="5381707">t</span><span class="op" id="5381708">.</span><span class="ident" id="5381709">Syms</span><span class="op" id="5381713">[</span><span class="ident" id="5381714">i</span><span class="op" id="5381715">]</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381719">switch</span>&nbsp;<span class="ident" id="5381726">sym</span><span class="op" id="5381729">.</span><span class="ident" id="5381730">Type</span>&nbsp;<span class="op" id="5381735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381739">case</span>&nbsp;<span class="string" id="5381744">&#39;Z&#39;</span><span class="op" id="5381747">,</span>&nbsp;<span class="string" id="5381749">&#39;z&#39;</span><span class="op" id="5381752">:</span>&nbsp;<span class="comment" id="5381754">//&nbsp;path&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381772">if</span>&nbsp;<span class="ident" id="5381775">t</span><span class="op" id="5381776">.</span><span class="ident" id="5381777">go12line</span>&nbsp;<span class="op" id="5381786">!=</span>&nbsp;<span class="ident" id="5381789">nil</span>&nbsp;<span class="op" id="5381793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5381799">//&nbsp;Go&nbsp;1.2&nbsp;binaries&nbsp;have&nbsp;the&nbsp;file&nbsp;information&nbsp;elsewhere.&nbsp;Ignore.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381867">break</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5381881">//&nbsp;Finish&nbsp;the&nbsp;current&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5381913">if</span>&nbsp;<span class="ident" id="5381916">obj</span>&nbsp;<span class="op" id="5381920">!=</span>&nbsp;<span class="ident" id="5381923">nil</span>&nbsp;<span class="op" id="5381927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381933">obj</span><span class="op" id="5381936">.</span><span class="ident" id="5381937">Funcs</span>&nbsp;<span class="op" id="5381943">=</span>&nbsp;<span class="ident" id="5381945">t</span><span class="op" id="5381946">.</span><span class="ident" id="5381947">Funcs</span><span class="op" id="5381952">[</span><span class="ident" id="5381953">lastf</span><span class="op" id="5381958">:</span><span class="op" id="5381959">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5381964">}</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5381969">lastf</span>&nbsp;<span class="op" id="5381975">=</span>&nbsp;<span class="builtinfunc" id="5381977">len</span><span class="op" id="5381980">(</span><span class="ident" id="5381981">t</span><span class="op" id="5381982">.</span><span class="ident" id="5381983">Funcs</span><span class="op" id="5381988">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5381994">//&nbsp;Start&nbsp;new&nbsp;object</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382017">n</span>&nbsp;<span class="op" id="5382019">:=</span>&nbsp;<span class="builtinfunc" id="5382022">len</span><span class="op" id="5382025">(</span><span class="ident" id="5382026">t</span><span class="op" id="5382027">.</span><span class="ident" id="5382028">Objs</span><span class="op" id="5382032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382037">t</span><span class="op" id="5382038">.</span><span class="ident" id="5382039">Objs</span>&nbsp;<span class="op" id="5382044">=</span>&nbsp;<span class="ident" id="5382046">t</span><span class="op" id="5382047">.</span><span class="ident" id="5382048">Objs</span><span class="op" id="5382052">[</span><span class="num" id="5382053">0</span>&nbsp;<span class="op" id="5382055">:</span>&nbsp;<span class="ident" id="5382057">n</span><span class="op" id="5382058">+</span><span class="num" id="5382059">1</span><span class="op" id="5382060">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382065">obj</span>&nbsp;<span class="op" id="5382069">=</span>&nbsp;<span class="op" id="5382071">&amp;</span><span class="ident" id="5382072">t</span><span class="op" id="5382073">.</span><span class="ident" id="5382074">Objs</span><span class="op" id="5382078">[</span><span class="ident" id="5382079">n</span><span class="op" id="5382080">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5382086">//&nbsp;Count&nbsp;&amp;&nbsp;copy&nbsp;path&nbsp;symbols</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382118">var</span>&nbsp;<span class="ident" id="5382122">end</span>&nbsp;<span class="builtintype" id="5382126">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382133">for</span>&nbsp;<span class="ident" id="5382137">end</span>&nbsp;<span class="op" id="5382141">=</span>&nbsp;<span class="ident" id="5382143">i</span>&nbsp;<span class="op" id="5382145">+</span>&nbsp;<span class="num" id="5382147">1</span><span class="op" id="5382148">;</span>&nbsp;<span class="ident" id="5382150">end</span>&nbsp;<span class="op" id="5382154">&lt;</span>&nbsp;<span class="builtinfunc" id="5382156">len</span><span class="op" id="5382159">(</span><span class="ident" id="5382160">t</span><span class="op" id="5382161">.</span><span class="ident" id="5382162">Syms</span><span class="op" id="5382166">)</span><span class="op" id="5382167">;</span>&nbsp;<span class="ident" id="5382169">end</span><span class="op" id="5382172">++</span>&nbsp;<span class="op" id="5382175">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382181">if</span>&nbsp;<span class="ident" id="5382184">c</span>&nbsp;<span class="op" id="5382186">:=</span>&nbsp;<span class="ident" id="5382189">t</span><span class="op" id="5382190">.</span><span class="ident" id="5382191">Syms</span><span class="op" id="5382195">[</span><span class="ident" id="5382196">end</span><span class="op" id="5382199">]</span><span class="op" id="5382200">.</span><span class="ident" id="5382201">Type</span><span class="op" id="5382205">;</span>&nbsp;<span class="ident" id="5382207">c</span>&nbsp;<span class="op" id="5382209">!=</span>&nbsp;<span class="string" id="5382212">&#39;Z&#39;</span>&nbsp;<span class="op" id="5382216">&amp;&amp;</span>&nbsp;<span class="ident" id="5382219">c</span>&nbsp;<span class="op" id="5382221">!=</span>&nbsp;<span class="string" id="5382224">&#39;z&#39;</span>&nbsp;<span class="op" id="5382228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382235">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382255">obj</span><span class="op" id="5382258">.</span><span class="ident" id="5382259">Paths</span>&nbsp;<span class="op" id="5382265">=</span>&nbsp;<span class="ident" id="5382267">t</span><span class="op" id="5382268">.</span><span class="ident" id="5382269">Syms</span><span class="op" id="5382273">[</span><span class="ident" id="5382274">i</span><span class="op" id="5382275">:</span><span class="ident" id="5382276">end</span><span class="op" id="5382279">]</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382284">i</span>&nbsp;<span class="op" id="5382286">=</span>&nbsp;<span class="ident" id="5382288">end</span>&nbsp;<span class="op" id="5382292">-</span>&nbsp;<span class="num" id="5382294">1</span>&nbsp;<span class="comment" id="5382296">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5382317">//&nbsp;Record&nbsp;file&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382341">depth</span>&nbsp;<span class="op" id="5382347">:=</span>&nbsp;<span class="num" id="5382350">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382355">for</span>&nbsp;<span class="ident" id="5382359">j</span>&nbsp;<span class="op" id="5382361">:=</span>&nbsp;<span class="keyword" id="5382364">range</span>&nbsp;<span class="ident" id="5382370">obj</span><span class="op" id="5382373">.</span><span class="ident" id="5382374">Paths</span>&nbsp;<span class="op" id="5382380">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382386">s</span>&nbsp;<span class="op" id="5382388">:=</span>&nbsp;<span class="op" id="5382391">&amp;</span><span class="ident" id="5382392">obj</span><span class="op" id="5382395">.</span><span class="ident" id="5382396">Paths</span><span class="op" id="5382401">[</span><span class="ident" id="5382402">j</span><span class="op" id="5382403">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382409">if</span>&nbsp;<span class="ident" id="5382412">s</span><span class="op" id="5382413">.</span><span class="ident" id="5382414">Name</span>&nbsp;<span class="op" id="5382419">==</span>&nbsp;<span class="string" id="5382422">&#34;&#34;</span>&nbsp;<span class="op" id="5382425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382432">depth</span><span class="op" id="5382437">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382444">}</span>&nbsp;<span class="keyword" id="5382446">else</span>&nbsp;<span class="op" id="5382451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382458">if</span>&nbsp;<span class="ident" id="5382461">depth</span>&nbsp;<span class="op" id="5382467">==</span>&nbsp;<span class="num" id="5382470">0</span>&nbsp;<span class="op" id="5382472">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382480">t</span><span class="op" id="5382481">.</span><span class="ident" id="5382482">Files</span><span class="op" id="5382487">[</span><span class="ident" id="5382488">s</span><span class="op" id="5382489">.</span><span class="ident" id="5382490">Name</span><span class="op" id="5382494">]</span>&nbsp;<span class="op" id="5382496">=</span>&nbsp;<span class="ident" id="5382498">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382514">depth</span><span class="op" id="5382519">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382531">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382536">case</span>&nbsp;<span class="string" id="5382541">&#39;T&#39;</span><span class="op" id="5382544">,</span>&nbsp;<span class="string" id="5382546">&#39;t&#39;</span><span class="op" id="5382549">,</span>&nbsp;<span class="string" id="5382551">&#39;L&#39;</span><span class="op" id="5382554">,</span>&nbsp;<span class="string" id="5382556">&#39;l&#39;</span><span class="op" id="5382559">:</span>&nbsp;<span class="comment" id="5382561">//&nbsp;text&nbsp;symbol</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382579">if</span>&nbsp;<span class="ident" id="5382582">n</span>&nbsp;<span class="op" id="5382584">:=</span>&nbsp;<span class="builtinfunc" id="5382587">len</span><span class="op" id="5382590">(</span><span class="ident" id="5382591">t</span><span class="op" id="5382592">.</span><span class="ident" id="5382593">Funcs</span><span class="op" id="5382598">)</span><span class="op" id="5382599">;</span>&nbsp;<span class="ident" id="5382601">n</span>&nbsp;<span class="op" id="5382603">&gt;</span>&nbsp;<span class="num" id="5382605">0</span>&nbsp;<span class="op" id="5382607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382613">t</span><span class="op" id="5382614">.</span><span class="ident" id="5382615">Funcs</span><span class="op" id="5382620">[</span><span class="ident" id="5382621">n</span><span class="op" id="5382622">-</span><span class="num" id="5382623">1</span><span class="op" id="5382624">]</span><span class="op" id="5382625">.</span><span class="ident" id="5382626">End</span>&nbsp;<span class="op" id="5382630">=</span>&nbsp;<span class="ident" id="5382632">sym</span><span class="op" id="5382635">.</span><span class="ident" id="5382636">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382645">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382650">if</span>&nbsp;<span class="ident" id="5382653">sym</span><span class="op" id="5382656">.</span><span class="ident" id="5382657">Name</span>&nbsp;<span class="op" id="5382662">==</span>&nbsp;<span class="string" id="5382665">&#34;runtime.etext&#34;</span>&nbsp;<span class="op" id="5382681">||</span>&nbsp;<span class="ident" id="5382684">sym</span><span class="op" id="5382687">.</span><span class="ident" id="5382688">Name</span>&nbsp;<span class="op" id="5382693">==</span>&nbsp;<span class="string" id="5382696">&#34;etext&#34;</span>&nbsp;<span class="op" id="5382704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382710">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5382722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5382728">//&nbsp;Count&nbsp;parameter&nbsp;and&nbsp;local&nbsp;(auto)&nbsp;syms</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382772">var</span>&nbsp;<span class="ident" id="5382776">np</span><span class="op" id="5382778">,</span>&nbsp;<span class="ident" id="5382780">na</span>&nbsp;<span class="builtintype" id="5382783">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382790">var</span>&nbsp;<span class="ident" id="5382794">end</span>&nbsp;<span class="builtintype" id="5382798">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382804">countloop</span><span class="op" id="5382813">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382818">for</span>&nbsp;<span class="ident" id="5382822">end</span>&nbsp;<span class="op" id="5382826">=</span>&nbsp;<span class="ident" id="5382828">i</span>&nbsp;<span class="op" id="5382830">+</span>&nbsp;<span class="num" id="5382832">1</span><span class="op" id="5382833">;</span>&nbsp;<span class="ident" id="5382835">end</span>&nbsp;<span class="op" id="5382839">&lt;</span>&nbsp;<span class="builtinfunc" id="5382841">len</span><span class="op" id="5382844">(</span><span class="ident" id="5382845">t</span><span class="op" id="5382846">.</span><span class="ident" id="5382847">Syms</span><span class="op" id="5382851">)</span><span class="op" id="5382852">;</span>&nbsp;<span class="ident" id="5382854">end</span><span class="op" id="5382857">++</span>&nbsp;<span class="op" id="5382860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382866">switch</span>&nbsp;<span class="ident" id="5382873">t</span><span class="op" id="5382874">.</span><span class="ident" id="5382875">Syms</span><span class="op" id="5382879">[</span><span class="ident" id="5382880">end</span><span class="op" id="5382883">]</span><span class="op" id="5382884">.</span><span class="ident" id="5382885">Type</span>&nbsp;<span class="op" id="5382890">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382896">case</span>&nbsp;<span class="string" id="5382901">&#39;T&#39;</span><span class="op" id="5382904">,</span>&nbsp;<span class="string" id="5382906">&#39;t&#39;</span><span class="op" id="5382909">,</span>&nbsp;<span class="string" id="5382911">&#39;L&#39;</span><span class="op" id="5382914">,</span>&nbsp;<span class="string" id="5382916">&#39;l&#39;</span><span class="op" id="5382919">,</span>&nbsp;<span class="string" id="5382921">&#39;Z&#39;</span><span class="op" id="5382924">,</span>&nbsp;<span class="string" id="5382926">&#39;z&#39;</span><span class="op" id="5382929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382936">break</span>&nbsp;<span class="ident" id="5382942">countloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382956">case</span>&nbsp;<span class="string" id="5382961">&#39;p&#39;</span><span class="op" id="5382964">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382971">np</span><span class="op" id="5382973">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5382980">case</span>&nbsp;<span class="string" id="5382985">&#39;a&#39;</span><span class="op" id="5382988">:</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5382995">na</span><span class="op" id="5382997">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5383015">//&nbsp;Fill&nbsp;in&nbsp;the&nbsp;function&nbsp;symbol</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383049">n</span>&nbsp;<span class="op" id="5383051">:=</span>&nbsp;<span class="builtinfunc" id="5383054">len</span><span class="op" id="5383057">(</span><span class="ident" id="5383058">t</span><span class="op" id="5383059">.</span><span class="ident" id="5383060">Funcs</span><span class="op" id="5383065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383070">t</span><span class="op" id="5383071">.</span><span class="ident" id="5383072">Funcs</span>&nbsp;<span class="op" id="5383078">=</span>&nbsp;<span class="ident" id="5383080">t</span><span class="op" id="5383081">.</span><span class="ident" id="5383082">Funcs</span><span class="op" id="5383087">[</span><span class="num" id="5383088">0</span>&nbsp;<span class="op" id="5383090">:</span>&nbsp;<span class="ident" id="5383092">n</span><span class="op" id="5383093">+</span><span class="num" id="5383094">1</span><span class="op" id="5383095">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383100">fn</span>&nbsp;<span class="op" id="5383103">:=</span>&nbsp;<span class="op" id="5383106">&amp;</span><span class="ident" id="5383107">t</span><span class="op" id="5383108">.</span><span class="ident" id="5383109">Funcs</span><span class="op" id="5383114">[</span><span class="ident" id="5383115">n</span><span class="op" id="5383116">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383121">sym</span><span class="op" id="5383124">.</span><span class="ident" id="5383125">Func</span>&nbsp;<span class="op" id="5383130">=</span>&nbsp;<span class="ident" id="5383132">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383138">fn</span><span class="op" id="5383140">.</span><span class="ident" id="5383141">Params</span>&nbsp;<span class="op" id="5383148">=</span>&nbsp;<span class="builtinfunc" id="5383150">make</span><span class="op" id="5383154">(</span><span class="op" id="5383155">[</span><span class="op" id="5383156">]</span><span class="op" id="5383157">*</span><span class="ident" id="5383158">Sym</span><span class="op" id="5383161">,</span>&nbsp;<span class="num" id="5383163">0</span><span class="op" id="5383164">,</span>&nbsp;<span class="ident" id="5383166">np</span><span class="op" id="5383168">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383173">fn</span><span class="op" id="5383175">.</span><span class="ident" id="5383176">Locals</span>&nbsp;<span class="op" id="5383183">=</span>&nbsp;<span class="builtinfunc" id="5383185">make</span><span class="op" id="5383189">(</span><span class="op" id="5383190">[</span><span class="op" id="5383191">]</span><span class="op" id="5383192">*</span><span class="ident" id="5383193">Sym</span><span class="op" id="5383196">,</span>&nbsp;<span class="num" id="5383198">0</span><span class="op" id="5383199">,</span>&nbsp;<span class="ident" id="5383201">na</span><span class="op" id="5383203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383208">fn</span><span class="op" id="5383210">.</span><span class="ident" id="5383211">Sym</span>&nbsp;<span class="op" id="5383215">=</span>&nbsp;<span class="ident" id="5383217">sym</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383224">fn</span><span class="op" id="5383226">.</span><span class="ident" id="5383227">Entry</span>&nbsp;<span class="op" id="5383233">=</span>&nbsp;<span class="ident" id="5383235">sym</span><span class="op" id="5383238">.</span><span class="ident" id="5383239">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383248">fn</span><span class="op" id="5383250">.</span><span class="ident" id="5383251">Obj</span>&nbsp;<span class="op" id="5383255">=</span>&nbsp;<span class="ident" id="5383257">obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383264">if</span>&nbsp;<span class="ident" id="5383267">t</span><span class="op" id="5383268">.</span><span class="ident" id="5383269">go12line</span>&nbsp;<span class="op" id="5383278">!=</span>&nbsp;<span class="ident" id="5383281">nil</span>&nbsp;<span class="op" id="5383285">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5383291">//&nbsp;All&nbsp;functions&nbsp;share&nbsp;the&nbsp;same&nbsp;line&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5383339">//&nbsp;It&nbsp;knows&nbsp;how&nbsp;to&nbsp;narrow&nbsp;down&nbsp;to&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5383388">//&nbsp;function&nbsp;quickly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383413">fn</span><span class="op" id="5383415">.</span><span class="ident" id="5383416">LineTable</span>&nbsp;<span class="op" id="5383426">=</span>&nbsp;<span class="ident" id="5383428">t</span><span class="op" id="5383429">.</span><span class="ident" id="5383430">go12line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383442">}</span>&nbsp;<span class="keyword" id="5383444">else</span>&nbsp;<span class="keyword" id="5383449">if</span>&nbsp;<span class="ident" id="5383452">pcln</span>&nbsp;<span class="op" id="5383457">!=</span>&nbsp;<span class="ident" id="5383460">nil</span>&nbsp;<span class="op" id="5383464">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383470">fn</span><span class="op" id="5383472">.</span><span class="ident" id="5383473">LineTable</span>&nbsp;<span class="op" id="5383483">=</span>&nbsp;<span class="ident" id="5383485">pcln</span><span class="op" id="5383489">.</span><span class="ident" id="5383490">slice</span><span class="op" id="5383495">(</span><span class="ident" id="5383496">fn</span><span class="op" id="5383498">.</span><span class="ident" id="5383499">Entry</span><span class="op" id="5383504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383510">pcln</span>&nbsp;<span class="op" id="5383515">=</span>&nbsp;<span class="ident" id="5383517">fn</span><span class="op" id="5383519">.</span><span class="ident" id="5383520">LineTable</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383538">for</span>&nbsp;<span class="ident" id="5383542">j</span>&nbsp;<span class="op" id="5383544">:=</span>&nbsp;<span class="ident" id="5383547">i</span><span class="op" id="5383548">;</span>&nbsp;<span class="ident" id="5383550">j</span>&nbsp;<span class="op" id="5383552">&lt;</span>&nbsp;<span class="ident" id="5383554">end</span><span class="op" id="5383557">;</span>&nbsp;<span class="ident" id="5383559">j</span><span class="op" id="5383560">++</span>&nbsp;<span class="op" id="5383563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383569">s</span>&nbsp;<span class="op" id="5383571">:=</span>&nbsp;<span class="op" id="5383574">&amp;</span><span class="ident" id="5383575">t</span><span class="op" id="5383576">.</span><span class="ident" id="5383577">Syms</span><span class="op" id="5383581">[</span><span class="ident" id="5383582">j</span><span class="op" id="5383583">]</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383589">switch</span>&nbsp;<span class="ident" id="5383596">s</span><span class="op" id="5383597">.</span><span class="ident" id="5383598">Type</span>&nbsp;<span class="op" id="5383603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383609">case</span>&nbsp;<span class="string" id="5383614">&#39;m&#39;</span><span class="op" id="5383617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383624">fn</span><span class="op" id="5383626">.</span><span class="ident" id="5383627">FrameSize</span>&nbsp;<span class="op" id="5383637">=</span>&nbsp;<span class="builtintype" id="5383639">int</span><span class="op" id="5383642">(</span><span class="ident" id="5383643">s</span><span class="op" id="5383644">.</span><span class="ident" id="5383645">Value</span><span class="op" id="5383650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383656">case</span>&nbsp;<span class="string" id="5383661">&#39;p&#39;</span><span class="op" id="5383664">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383671">n</span>&nbsp;<span class="op" id="5383673">:=</span>&nbsp;<span class="builtinfunc" id="5383676">len</span><span class="op" id="5383679">(</span><span class="ident" id="5383680">fn</span><span class="op" id="5383682">.</span><span class="ident" id="5383683">Params</span><span class="op" id="5383689">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383696">fn</span><span class="op" id="5383698">.</span><span class="ident" id="5383699">Params</span>&nbsp;<span class="op" id="5383706">=</span>&nbsp;<span class="ident" id="5383708">fn</span><span class="op" id="5383710">.</span><span class="ident" id="5383711">Params</span><span class="op" id="5383717">[</span><span class="num" id="5383718">0</span>&nbsp;<span class="op" id="5383720">:</span>&nbsp;<span class="ident" id="5383722">n</span><span class="op" id="5383723">+</span><span class="num" id="5383724">1</span><span class="op" id="5383725">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383732">fn</span><span class="op" id="5383734">.</span><span class="ident" id="5383735">Params</span><span class="op" id="5383741">[</span><span class="ident" id="5383742">n</span><span class="op" id="5383743">]</span>&nbsp;<span class="op" id="5383745">=</span>&nbsp;<span class="ident" id="5383747">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383753">case</span>&nbsp;<span class="string" id="5383758">&#39;a&#39;</span><span class="op" id="5383761">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383768">n</span>&nbsp;<span class="op" id="5383770">:=</span>&nbsp;<span class="builtinfunc" id="5383773">len</span><span class="op" id="5383776">(</span><span class="ident" id="5383777">fn</span><span class="op" id="5383779">.</span><span class="ident" id="5383780">Locals</span><span class="op" id="5383786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383793">fn</span><span class="op" id="5383795">.</span><span class="ident" id="5383796">Locals</span>&nbsp;<span class="op" id="5383803">=</span>&nbsp;<span class="ident" id="5383805">fn</span><span class="op" id="5383807">.</span><span class="ident" id="5383808">Locals</span><span class="op" id="5383814">[</span><span class="num" id="5383815">0</span>&nbsp;<span class="op" id="5383817">:</span>&nbsp;<span class="ident" id="5383819">n</span><span class="op" id="5383820">+</span><span class="num" id="5383821">1</span><span class="op" id="5383822">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383829">fn</span><span class="op" id="5383831">.</span><span class="ident" id="5383832">Locals</span><span class="op" id="5383838">[</span><span class="ident" id="5383839">n</span><span class="op" id="5383840">]</span>&nbsp;<span class="op" id="5383842">=</span>&nbsp;<span class="ident" id="5383844">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383860">i</span>&nbsp;<span class="op" id="5383862">=</span>&nbsp;<span class="ident" id="5383864">end</span>&nbsp;<span class="op" id="5383868">-</span>&nbsp;<span class="num" id="5383870">1</span>&nbsp;<span class="comment" id="5383872">//&nbsp;loop&nbsp;will&nbsp;i++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383891">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383898">if</span>&nbsp;<span class="ident" id="5383901">t</span><span class="op" id="5383902">.</span><span class="ident" id="5383903">go12line</span>&nbsp;<span class="op" id="5383912">!=</span>&nbsp;<span class="ident" id="5383915">nil</span>&nbsp;<span class="op" id="5383919">&amp;&amp;</span>&nbsp;<span class="ident" id="5383922">nf</span>&nbsp;<span class="op" id="5383925">==</span>&nbsp;<span class="num" id="5383928">0</span>&nbsp;<span class="op" id="5383930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383934">t</span><span class="op" id="5383935">.</span><span class="ident" id="5383936">Funcs</span>&nbsp;<span class="op" id="5383942">=</span>&nbsp;<span class="ident" id="5383944">t</span><span class="op" id="5383945">.</span><span class="ident" id="5383946">go12line</span><span class="op" id="5383954">.</span><span class="ident" id="5383955">go12Funcs</span><span class="op" id="5383964">(</span><span class="op" id="5383965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5383968">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5383971">if</span>&nbsp;<span class="ident" id="5383974">obj</span>&nbsp;<span class="op" id="5383978">!=</span>&nbsp;<span class="ident" id="5383981">nil</span>&nbsp;<span class="op" id="5383985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5383989">obj</span><span class="op" id="5383992">.</span><span class="ident" id="5383993">Funcs</span>&nbsp;<span class="op" id="5383999">=</span>&nbsp;<span class="ident" id="5384001">t</span><span class="op" id="5384002">.</span><span class="ident" id="5384003">Funcs</span><span class="op" id="5384008">[</span><span class="ident" id="5384009">lastf</span><span class="op" id="5384014">:</span><span class="op" id="5384015">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384021">return</span>&nbsp;<span class="op" id="5384028">&amp;</span><span class="ident" id="5384029">t</span><span class="op" id="5384030">,</span>&nbsp;<span class="ident" id="5384032">nil</span><br>
<span class="lineno"></span><span class="op" id="5384036">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="comment" id="5384039">//&nbsp;PCToFunc&nbsp;returns&nbsp;the&nbsp;function&nbsp;containing&nbsp;the&nbsp;program&nbsp;counter&nbsp;pc,</span><br>
<span class="lineno"></span><span class="comment" id="5384107">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="5384147">func</span>&nbsp;<span class="op" id="5384152">(</span><span class="ident" id="5384153">t</span>&nbsp;<span class="op" id="5384155">*</span><span class="ident" id="5384156">Table</span><span class="op" id="5384161">)</span>&nbsp;<span class="ident" id="5384163">PCToFunc</span><span class="op" id="5384171">(</span><span class="ident" id="5384172">pc</span>&nbsp;<span class="ident" id="5384175">uint64</span><span class="op" id="5384181">)</span>&nbsp;<span class="op" id="5384183">*</span><span class="ident" id="5384184">Func</span>&nbsp;<span class="op" id="5384189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384192">funcs</span>&nbsp;<span class="op" id="5384198">:=</span>&nbsp;<span class="ident" id="5384201">t</span><span class="op" id="5384202">.</span><span class="ident" id="5384203">Funcs</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384210">for</span>&nbsp;<span class="builtinfunc" id="5384214">len</span><span class="op" id="5384217">(</span><span class="ident" id="5384218">funcs</span><span class="op" id="5384223">)</span>&nbsp;<span class="op" id="5384225">&gt;</span>&nbsp;<span class="num" id="5384227">0</span>&nbsp;<span class="op" id="5384229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384233">m</span>&nbsp;<span class="op" id="5384235">:=</span>&nbsp;<span class="builtinfunc" id="5384238">len</span><span class="op" id="5384241">(</span><span class="ident" id="5384242">funcs</span><span class="op" id="5384247">)</span>&nbsp;<span class="op" id="5384249">/</span>&nbsp;<span class="num" id="5384251">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384255">fn</span>&nbsp;<span class="op" id="5384258">:=</span>&nbsp;<span class="op" id="5384261">&amp;</span><span class="ident" id="5384262">funcs</span><span class="op" id="5384267">[</span><span class="ident" id="5384268">m</span><span class="op" id="5384269">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384273">switch</span>&nbsp;<span class="op" id="5384280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384284">case</span>&nbsp;<span class="ident" id="5384289">pc</span>&nbsp;<span class="op" id="5384292">&lt;</span>&nbsp;<span class="ident" id="5384294">fn</span><span class="op" id="5384296">.</span><span class="ident" id="5384297">Entry</span><span class="op" id="5384302">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384307">funcs</span>&nbsp;<span class="op" id="5384313">=</span>&nbsp;<span class="ident" id="5384315">funcs</span><span class="op" id="5384320">[</span><span class="num" id="5384321">0</span><span class="op" id="5384322">:</span><span class="ident" id="5384323">m</span><span class="op" id="5384324">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384328">case</span>&nbsp;<span class="ident" id="5384333">fn</span><span class="op" id="5384335">.</span><span class="ident" id="5384336">Entry</span>&nbsp;<span class="op" id="5384342">&lt;=</span>&nbsp;<span class="ident" id="5384345">pc</span>&nbsp;<span class="op" id="5384348">&amp;&amp;</span>&nbsp;<span class="ident" id="5384351">pc</span>&nbsp;<span class="op" id="5384354">&lt;</span>&nbsp;<span class="ident" id="5384356">fn</span><span class="op" id="5384358">.</span><span class="ident" id="5384359">End</span><span class="op" id="5384362">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384367">return</span>&nbsp;<span class="ident" id="5384374">fn</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384379">default</span><span class="op" id="5384386">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384391">funcs</span>&nbsp;<span class="op" id="5384397">=</span>&nbsp;<span class="ident" id="5384399">funcs</span><span class="op" id="5384404">[</span><span class="ident" id="5384405">m</span><span class="op" id="5384406">+</span><span class="num" id="5384407">1</span><span class="op" id="5384408">:</span><span class="op" id="5384409">]</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384419">return</span>&nbsp;<span class="ident" id="5384426">nil</span><br>
<span class="lineno"></span><span class="op" id="5384430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="comment" id="5384433">//&nbsp;PCToLine&nbsp;looks&nbsp;up&nbsp;line&nbsp;number&nbsp;information&nbsp;for&nbsp;a&nbsp;program&nbsp;counter.</span><br>
<span class="lineno"></span><span class="comment" id="5384501">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;information,&nbsp;it&nbsp;returns&nbsp;fn&nbsp;==&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="5384554">func</span>&nbsp;<span class="op" id="5384559">(</span><span class="ident" id="5384560">t</span>&nbsp;<span class="op" id="5384562">*</span><span class="ident" id="5384563">Table</span><span class="op" id="5384568">)</span>&nbsp;<span class="ident" id="5384570">PCToLine</span><span class="op" id="5384578">(</span><span class="ident" id="5384579">pc</span>&nbsp;<span class="ident" id="5384582">uint64</span><span class="op" id="5384588">)</span>&nbsp;<span class="op" id="5384590">(</span><span class="ident" id="5384591">file</span>&nbsp;<span class="builtintype" id="5384596">string</span><span class="op" id="5384602">,</span>&nbsp;<span class="ident" id="5384604">line</span>&nbsp;<span class="builtintype" id="5384609">int</span><span class="op" id="5384612">,</span>&nbsp;<span class="ident" id="5384614">fn</span>&nbsp;<span class="op" id="5384617">*</span><span class="ident" id="5384618">Func</span><span class="op" id="5384622">)</span>&nbsp;<span class="op" id="5384624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384627">if</span>&nbsp;<span class="ident" id="5384630">fn</span>&nbsp;<span class="op" id="5384633">=</span>&nbsp;<span class="ident" id="5384635">t</span><span class="op" id="5384636">.</span><span class="ident" id="5384637">PCToFunc</span><span class="op" id="5384645">(</span><span class="ident" id="5384646">pc</span><span class="op" id="5384648">)</span><span class="op" id="5384649">;</span>&nbsp;<span class="ident" id="5384651">fn</span>&nbsp;<span class="op" id="5384654">==</span>&nbsp;<span class="ident" id="5384657">nil</span>&nbsp;<span class="op" id="5384661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384665">return</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384676">if</span>&nbsp;<span class="ident" id="5384679">t</span><span class="op" id="5384680">.</span><span class="ident" id="5384681">go12line</span>&nbsp;<span class="op" id="5384690">!=</span>&nbsp;<span class="ident" id="5384693">nil</span>&nbsp;<span class="op" id="5384697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384701">file</span>&nbsp;<span class="op" id="5384706">=</span>&nbsp;<span class="ident" id="5384708">t</span><span class="op" id="5384709">.</span><span class="ident" id="5384710">go12line</span><span class="op" id="5384718">.</span><span class="ident" id="5384719">go12PCToFile</span><span class="op" id="5384731">(</span><span class="ident" id="5384732">pc</span><span class="op" id="5384734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384738">line</span>&nbsp;<span class="op" id="5384743">=</span>&nbsp;<span class="ident" id="5384745">t</span><span class="op" id="5384746">.</span><span class="ident" id="5384747">go12line</span><span class="op" id="5384755">.</span><span class="ident" id="5384756">go12PCToLine</span><span class="op" id="5384768">(</span><span class="ident" id="5384769">pc</span><span class="op" id="5384771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384774">}</span>&nbsp;<span class="keyword" id="5384776">else</span>&nbsp;<span class="op" id="5384781">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5384785">file</span><span class="op" id="5384789">,</span>&nbsp;<span class="ident" id="5384791">line</span>&nbsp;<span class="op" id="5384796">=</span>&nbsp;<span class="ident" id="5384798">fn</span><span class="op" id="5384800">.</span><span class="ident" id="5384801">Obj</span><span class="op" id="5384804">.</span><span class="ident" id="5384805">lineFromAline</span><span class="op" id="5384818">(</span><span class="ident" id="5384819">fn</span><span class="op" id="5384821">.</span><span class="ident" id="5384822">LineTable</span><span class="op" id="5384831">.</span><span class="ident" id="5384832">PCToLine</span><span class="op" id="5384840">(</span><span class="ident" id="5384841">pc</span><span class="op" id="5384843">)</span><span class="op" id="5384844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5384847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5384850">return</span><br>
<span class="lineno"></span><span class="op" id="5384857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="comment" id="5384860">//&nbsp;LineToPC&nbsp;looks&nbsp;up&nbsp;the&nbsp;first&nbsp;program&nbsp;counter&nbsp;on&nbsp;the&nbsp;given&nbsp;line&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5384928">//&nbsp;the&nbsp;named&nbsp;file.&nbsp;&nbsp;It&nbsp;returns&nbsp;UnknownPathError&nbsp;or&nbsp;UnknownLineError&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5384999">//&nbsp;there&nbsp;is&nbsp;an&nbsp;error&nbsp;looking&nbsp;up&nbsp;this&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5385042">func</span>&nbsp;<span class="op" id="5385047">(</span><span class="ident" id="5385048">t</span>&nbsp;<span class="op" id="5385050">*</span><span class="ident" id="5385051">Table</span><span class="op" id="5385056">)</span>&nbsp;<span class="ident" id="5385058">LineToPC</span><span class="op" id="5385066">(</span><span class="ident" id="5385067">file</span>&nbsp;<span class="builtintype" id="5385072">string</span><span class="op" id="5385078">,</span>&nbsp;<span class="ident" id="5385080">line</span>&nbsp;<span class="builtintype" id="5385085">int</span><span class="op" id="5385088">)</span>&nbsp;<span class="op" id="5385090">(</span><span class="ident" id="5385091">pc</span>&nbsp;<span class="ident" id="5385094">uint64</span><span class="op" id="5385100">,</span>&nbsp;<span class="ident" id="5385102">fn</span>&nbsp;<span class="op" id="5385105">*</span><span class="ident" id="5385106">Func</span><span class="op" id="5385110">,</span>&nbsp;<span class="ident" id="5385112">err</span>&nbsp;<span class="builtintype" id="5385116">error</span><span class="op" id="5385121">)</span>&nbsp;<span class="op" id="5385123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5385126">obj</span><span class="op" id="5385129">,</span>&nbsp;<span class="ident" id="5385131">ok</span>&nbsp;<span class="op" id="5385134">:=</span>&nbsp;<span class="ident" id="5385137">t</span><span class="op" id="5385138">.</span><span class="ident" id="5385139">Files</span><span class="op" id="5385144">[</span><span class="ident" id="5385145">file</span><span class="op" id="5385149">]</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385152">if</span>&nbsp;<span class="op" id="5385155">!</span><span class="ident" id="5385156">ok</span>&nbsp;<span class="op" id="5385159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385163">return</span>&nbsp;<span class="num" id="5385170">0</span><span class="op" id="5385171">,</span>&nbsp;<span class="ident" id="5385173">nil</span><span class="op" id="5385176">,</span>&nbsp;<span class="ident" id="5385178">UnknownFileError</span><span class="op" id="5385194">(</span><span class="ident" id="5385195">file</span><span class="op" id="5385199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385206">if</span>&nbsp;<span class="ident" id="5385209">t</span><span class="op" id="5385210">.</span><span class="ident" id="5385211">go12line</span>&nbsp;<span class="op" id="5385220">!=</span>&nbsp;<span class="ident" id="5385223">nil</span>&nbsp;<span class="op" id="5385227">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5385231">pc</span>&nbsp;<span class="op" id="5385234">:=</span>&nbsp;<span class="ident" id="5385237">t</span><span class="op" id="5385238">.</span><span class="ident" id="5385239">go12line</span><span class="op" id="5385247">.</span><span class="ident" id="5385248">go12LineToPC</span><span class="op" id="5385260">(</span><span class="ident" id="5385261">file</span><span class="op" id="5385265">,</span>&nbsp;<span class="ident" id="5385267">line</span><span class="op" id="5385271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385275">if</span>&nbsp;<span class="ident" id="5385278">pc</span>&nbsp;<span class="op" id="5385281">==</span>&nbsp;<span class="num" id="5385284">0</span>&nbsp;<span class="op" id="5385286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385291">return</span>&nbsp;<span class="num" id="5385298">0</span><span class="op" id="5385299">,</span>&nbsp;<span class="ident" id="5385301">nil</span><span class="op" id="5385304">,</span>&nbsp;<span class="op" id="5385306">&amp;</span><span class="ident" id="5385307">UnknownLineError</span><span class="op" id="5385323">{</span><span class="ident" id="5385324">file</span><span class="op" id="5385328">,</span>&nbsp;<span class="ident" id="5385330">line</span><span class="op" id="5385334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385342">return</span>&nbsp;<span class="ident" id="5385349">pc</span><span class="op" id="5385351">,</span>&nbsp;<span class="ident" id="5385353">t</span><span class="op" id="5385354">.</span><span class="ident" id="5385355">PCToFunc</span><span class="op" id="5385363">(</span><span class="ident" id="5385364">pc</span><span class="op" id="5385366">)</span><span class="op" id="5385367">,</span>&nbsp;<span class="ident" id="5385369">nil</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5385378">abs</span><span class="op" id="5385381">,</span>&nbsp;<span class="ident" id="5385383">err</span>&nbsp;<span class="op" id="5385387">:=</span>&nbsp;<span class="ident" id="5385390">obj</span><span class="op" id="5385393">.</span><span class="ident" id="5385394">alineFromLine</span><span class="op" id="5385407">(</span><span class="ident" id="5385408">file</span><span class="op" id="5385412">,</span>&nbsp;<span class="ident" id="5385414">line</span><span class="op" id="5385418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385421">if</span>&nbsp;<span class="ident" id="5385424">err</span>&nbsp;<span class="op" id="5385428">!=</span>&nbsp;<span class="ident" id="5385431">nil</span>&nbsp;<span class="op" id="5385435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385439">return</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385450">for</span>&nbsp;<span class="ident" id="5385454">i</span>&nbsp;<span class="op" id="5385456">:=</span>&nbsp;<span class="keyword" id="5385459">range</span>&nbsp;<span class="ident" id="5385465">obj</span><span class="op" id="5385468">.</span><span class="ident" id="5385469">Funcs</span>&nbsp;<span class="op" id="5385475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5385479">f</span>&nbsp;<span class="op" id="5385481">:=</span>&nbsp;<span class="op" id="5385484">&amp;</span><span class="ident" id="5385485">obj</span><span class="op" id="5385488">.</span><span class="ident" id="5385489">Funcs</span><span class="op" id="5385494">[</span><span class="ident" id="5385495">i</span><span class="op" id="5385496">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5385500">pc</span>&nbsp;<span class="op" id="5385503">:=</span>&nbsp;<span class="ident" id="5385506">f</span><span class="op" id="5385507">.</span><span class="ident" id="5385508">LineTable</span><span class="op" id="5385517">.</span><span class="ident" id="5385518">LineToPC</span><span class="op" id="5385526">(</span><span class="ident" id="5385527">abs</span><span class="op" id="5385530">,</span>&nbsp;<span class="ident" id="5385532">f</span><span class="op" id="5385533">.</span><span class="ident" id="5385534">End</span><span class="op" id="5385537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385541">if</span>&nbsp;<span class="ident" id="5385544">pc</span>&nbsp;<span class="op" id="5385547">!=</span>&nbsp;<span class="num" id="5385550">0</span>&nbsp;<span class="op" id="5385552">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385557">return</span>&nbsp;<span class="ident" id="5385564">pc</span><span class="op" id="5385566">,</span>&nbsp;<span class="ident" id="5385568">f</span><span class="op" id="5385569">,</span>&nbsp;<span class="ident" id="5385571">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385583">return</span>&nbsp;<span class="num" id="5385590">0</span><span class="op" id="5385591">,</span>&nbsp;<span class="ident" id="5385593">nil</span><span class="op" id="5385596">,</span>&nbsp;<span class="op" id="5385598">&amp;</span><span class="ident" id="5385599">UnknownLineError</span><span class="op" id="5385615">{</span><span class="ident" id="5385616">file</span><span class="op" id="5385620">,</span>&nbsp;<span class="ident" id="5385622">line</span><span class="op" id="5385626">}</span><br>
<span class="lineno"></span><span class="op" id="5385628">}</span><br>
<span class="lineno">535</span><br>
<span class="lineno"></span><span class="comment" id="5385631">//&nbsp;LookupSym&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5385703">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5385741">func</span>&nbsp;<span class="op" id="5385746">(</span><span class="ident" id="5385747">t</span>&nbsp;<span class="op" id="5385749">*</span><span class="ident" id="5385750">Table</span><span class="op" id="5385755">)</span>&nbsp;<span class="ident" id="5385757">LookupSym</span><span class="op" id="5385766">(</span><span class="ident" id="5385767">name</span>&nbsp;<span class="builtintype" id="5385772">string</span><span class="op" id="5385778">)</span>&nbsp;<span class="op" id="5385780">*</span><span class="ident" id="5385781">Sym</span>&nbsp;<span class="op" id="5385785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5385788">//&nbsp;TODO(austin)&nbsp;Maybe&nbsp;make&nbsp;a&nbsp;map</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385822">for</span>&nbsp;<span class="ident" id="5385826">i</span>&nbsp;<span class="op" id="5385828">:=</span>&nbsp;<span class="keyword" id="5385831">range</span>&nbsp;<span class="ident" id="5385837">t</span><span class="op" id="5385838">.</span><span class="ident" id="5385839">Syms</span>&nbsp;<span class="op" id="5385844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5385848">s</span>&nbsp;<span class="op" id="5385850">:=</span>&nbsp;<span class="op" id="5385853">&amp;</span><span class="ident" id="5385854">t</span><span class="op" id="5385855">.</span><span class="ident" id="5385856">Syms</span><span class="op" id="5385860">[</span><span class="ident" id="5385861">i</span><span class="op" id="5385862">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385866">switch</span>&nbsp;<span class="ident" id="5385873">s</span><span class="op" id="5385874">.</span><span class="ident" id="5385875">Type</span>&nbsp;<span class="op" id="5385880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385884">case</span>&nbsp;<span class="string" id="5385889">&#39;T&#39;</span><span class="op" id="5385892">,</span>&nbsp;<span class="string" id="5385894">&#39;t&#39;</span><span class="op" id="5385897">,</span>&nbsp;<span class="string" id="5385899">&#39;L&#39;</span><span class="op" id="5385902">,</span>&nbsp;<span class="string" id="5385904">&#39;l&#39;</span><span class="op" id="5385907">,</span>&nbsp;<span class="string" id="5385909">&#39;D&#39;</span><span class="op" id="5385912">,</span>&nbsp;<span class="string" id="5385914">&#39;d&#39;</span><span class="op" id="5385917">,</span>&nbsp;<span class="string" id="5385919">&#39;B&#39;</span><span class="op" id="5385922">,</span>&nbsp;<span class="string" id="5385924">&#39;b&#39;</span><span class="op" id="5385927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385932">if</span>&nbsp;<span class="ident" id="5385935">s</span><span class="op" id="5385936">.</span><span class="ident" id="5385937">Name</span>&nbsp;<span class="op" id="5385942">==</span>&nbsp;<span class="ident" id="5385945">name</span>&nbsp;<span class="op" id="5385950">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385956">return</span>&nbsp;<span class="ident" id="5385963">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5385975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5385978">return</span>&nbsp;<span class="ident" id="5385985">nil</span><br>
<span class="lineno">550</span><span class="op" id="5385989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5385992">//&nbsp;LookupFunc&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;with&nbsp;the&nbsp;given&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="5386065">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such&nbsp;symbol&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="5386103">func</span>&nbsp;<span class="op" id="5386108">(</span><span class="ident" id="5386109">t</span>&nbsp;<span class="op" id="5386111">*</span><span class="ident" id="5386112">Table</span><span class="op" id="5386117">)</span>&nbsp;<span class="ident" id="5386119">LookupFunc</span><span class="op" id="5386129">(</span><span class="ident" id="5386130">name</span>&nbsp;<span class="builtintype" id="5386135">string</span><span class="op" id="5386141">)</span>&nbsp;<span class="op" id="5386143">*</span><span class="ident" id="5386144">Func</span>&nbsp;<span class="op" id="5386149">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386152">for</span>&nbsp;<span class="ident" id="5386156">i</span>&nbsp;<span class="op" id="5386158">:=</span>&nbsp;<span class="keyword" id="5386161">range</span>&nbsp;<span class="ident" id="5386167">t</span><span class="op" id="5386168">.</span><span class="ident" id="5386169">Funcs</span>&nbsp;<span class="op" id="5386175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5386179">f</span>&nbsp;<span class="op" id="5386181">:=</span>&nbsp;<span class="op" id="5386184">&amp;</span><span class="ident" id="5386185">t</span><span class="op" id="5386186">.</span><span class="ident" id="5386187">Funcs</span><span class="op" id="5386192">[</span><span class="ident" id="5386193">i</span><span class="op" id="5386194">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386198">if</span>&nbsp;<span class="ident" id="5386201">f</span><span class="op" id="5386202">.</span><span class="ident" id="5386203">Sym</span><span class="op" id="5386206">.</span><span class="ident" id="5386207">Name</span>&nbsp;<span class="op" id="5386212">==</span>&nbsp;<span class="ident" id="5386215">name</span>&nbsp;<span class="op" id="5386220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386225">return</span>&nbsp;<span class="ident" id="5386232">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5386236">}</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5386239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386242">return</span>&nbsp;<span class="ident" id="5386249">nil</span><br>
<span class="lineno"></span><span class="op" id="5386253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5386256">//&nbsp;SymByAddr&nbsp;returns&nbsp;the&nbsp;text,&nbsp;data,&nbsp;or&nbsp;bss&nbsp;symbol&nbsp;starting&nbsp;at&nbsp;the&nbsp;given&nbsp;address.</span><br>
<span class="lineno">565</span><span class="keyword" id="5386338">func</span>&nbsp;<span class="op" id="5386343">(</span><span class="ident" id="5386344">t</span>&nbsp;<span class="op" id="5386346">*</span><span class="ident" id="5386347">Table</span><span class="op" id="5386352">)</span>&nbsp;<span class="ident" id="5386354">SymByAddr</span><span class="op" id="5386363">(</span><span class="ident" id="5386364">addr</span>&nbsp;<span class="ident" id="5386369">uint64</span><span class="op" id="5386375">)</span>&nbsp;<span class="op" id="5386377">*</span><span class="ident" id="5386378">Sym</span>&nbsp;<span class="op" id="5386382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386385">for</span>&nbsp;<span class="ident" id="5386389">i</span>&nbsp;<span class="op" id="5386391">:=</span>&nbsp;<span class="keyword" id="5386394">range</span>&nbsp;<span class="ident" id="5386400">t</span><span class="op" id="5386401">.</span><span class="ident" id="5386402">Syms</span>&nbsp;<span class="op" id="5386407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5386411">s</span>&nbsp;<span class="op" id="5386413">:=</span>&nbsp;<span class="op" id="5386416">&amp;</span><span class="ident" id="5386417">t</span><span class="op" id="5386418">.</span><span class="ident" id="5386419">Syms</span><span class="op" id="5386423">[</span><span class="ident" id="5386424">i</span><span class="op" id="5386425">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386429">switch</span>&nbsp;<span class="ident" id="5386436">s</span><span class="op" id="5386437">.</span><span class="ident" id="5386438">Type</span>&nbsp;<span class="op" id="5386443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386447">case</span>&nbsp;<span class="string" id="5386452">&#39;T&#39;</span><span class="op" id="5386455">,</span>&nbsp;<span class="string" id="5386457">&#39;t&#39;</span><span class="op" id="5386460">,</span>&nbsp;<span class="string" id="5386462">&#39;L&#39;</span><span class="op" id="5386465">,</span>&nbsp;<span class="string" id="5386467">&#39;l&#39;</span><span class="op" id="5386470">,</span>&nbsp;<span class="string" id="5386472">&#39;D&#39;</span><span class="op" id="5386475">,</span>&nbsp;<span class="string" id="5386477">&#39;d&#39;</span><span class="op" id="5386480">,</span>&nbsp;<span class="string" id="5386482">&#39;B&#39;</span><span class="op" id="5386485">,</span>&nbsp;<span class="string" id="5386487">&#39;b&#39;</span><span class="op" id="5386490">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386495">if</span>&nbsp;<span class="ident" id="5386498">s</span><span class="op" id="5386499">.</span><span class="ident" id="5386500">Value</span>&nbsp;<span class="op" id="5386506">==</span>&nbsp;<span class="ident" id="5386509">addr</span>&nbsp;<span class="op" id="5386514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386520">return</span>&nbsp;<span class="ident" id="5386527">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5386532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5386536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5386539">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386542">return</span>&nbsp;<span class="ident" id="5386549">nil</span><br>
<span class="lineno"></span><span class="op" id="5386553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5386556">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Object&nbsp;files<br>
<span class="lineno">580</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5386580">//&nbsp;This&nbsp;is&nbsp;legacy&nbsp;code&nbsp;for&nbsp;Go&nbsp;1.1&nbsp;and&nbsp;earlier,&nbsp;which&nbsp;used&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5386642">//&nbsp;Plan&nbsp;9&nbsp;format&nbsp;for&nbsp;pc-line&nbsp;tables.&nbsp;This&nbsp;code&nbsp;was&nbsp;never&nbsp;quite</span><br>
<span class="lineno"></span><span class="comment" id="5386705">//&nbsp;correct.&nbsp;It&#39;s&nbsp;probably&nbsp;very&nbsp;close,&nbsp;and&nbsp;it&#39;s&nbsp;usually&nbsp;correct,&nbsp;but</span><br>
<span class="lineno">585</span><span class="comment" id="5386773">//&nbsp;we&nbsp;never&nbsp;quite&nbsp;found&nbsp;all&nbsp;the&nbsp;corner&nbsp;cases.</span><br>
<span class="lineno"></span><span class="comment" id="5386819">//</span><br>
<span class="lineno"></span><span class="comment" id="5386822">//&nbsp;Go&nbsp;1.2&nbsp;and&nbsp;later&nbsp;use&nbsp;a&nbsp;simpler&nbsp;format,&nbsp;documented&nbsp;at&nbsp;golang.org/s/go12symtab.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5386904">func</span>&nbsp;<span class="op" id="5386909">(</span><span class="ident" id="5386910">o</span>&nbsp;<span class="op" id="5386912">*</span><span class="ident" id="5386913">Obj</span><span class="op" id="5386916">)</span>&nbsp;<span class="ident" id="5386918">lineFromAline</span><span class="op" id="5386931">(</span><span class="ident" id="5386932">aline</span>&nbsp;<span class="builtintype" id="5386938">int</span><span class="op" id="5386941">)</span>&nbsp;<span class="op" id="5386943">(</span><span class="builtintype" id="5386944">string</span><span class="op" id="5386950">,</span>&nbsp;<span class="builtintype" id="5386952">int</span><span class="op" id="5386955">)</span>&nbsp;<span class="op" id="5386957">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5386960">type</span>&nbsp;<span class="ident" id="5386965">stackEnt</span>&nbsp;<span class="keyword" id="5386974">struct</span>&nbsp;<span class="op" id="5386981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5386985">path</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5386992">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387001">start</span>&nbsp;&nbsp;<span class="builtintype" id="5387008">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387014">offset</span>&nbsp;<span class="builtintype" id="5387021">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387027">prev</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5387034">*</span><span class="ident" id="5387035">stackEnt</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5387045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387049">noPath</span>&nbsp;<span class="op" id="5387056">:=</span>&nbsp;<span class="op" id="5387059">&amp;</span><span class="ident" id="5387060">stackEnt</span><span class="op" id="5387068">{</span><span class="string" id="5387069">&#34;&#34;</span><span class="op" id="5387071">,</span>&nbsp;<span class="num" id="5387073">0</span><span class="op" id="5387074">,</span>&nbsp;<span class="num" id="5387076">0</span><span class="op" id="5387077">,</span>&nbsp;<span class="ident" id="5387079">nil</span><span class="op" id="5387082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387085">tos</span>&nbsp;<span class="op" id="5387089">:=</span>&nbsp;<span class="ident" id="5387092">noPath</span><br>
<span class="lineno"></span><br>
<span class="lineno">600</span><span class="ident" id="5387100">pathloop</span><span class="op" id="5387108">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387111">for</span>&nbsp;<span class="ident" id="5387115">_</span><span class="op" id="5387116">,</span>&nbsp;<span class="ident" id="5387118">s</span>&nbsp;<span class="op" id="5387120">:=</span>&nbsp;<span class="keyword" id="5387123">range</span>&nbsp;<span class="ident" id="5387129">o</span><span class="op" id="5387130">.</span><span class="ident" id="5387131">Paths</span>&nbsp;<span class="op" id="5387137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387141">val</span>&nbsp;<span class="op" id="5387145">:=</span>&nbsp;<span class="builtintype" id="5387148">int</span><span class="op" id="5387151">(</span><span class="ident" id="5387152">s</span><span class="op" id="5387153">.</span><span class="ident" id="5387154">Value</span><span class="op" id="5387159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387163">switch</span>&nbsp;<span class="op" id="5387170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387174">case</span>&nbsp;<span class="ident" id="5387179">val</span>&nbsp;<span class="op" id="5387183">&gt;</span>&nbsp;<span class="ident" id="5387185">aline</span><span class="op" id="5387190">:</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387195">break</span>&nbsp;<span class="ident" id="5387201">pathloop</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387213">case</span>&nbsp;<span class="ident" id="5387218">val</span>&nbsp;<span class="op" id="5387222">==</span>&nbsp;<span class="num" id="5387225">1</span><span class="op" id="5387226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5387231">//&nbsp;Start&nbsp;a&nbsp;new&nbsp;stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387255">tos</span>&nbsp;<span class="op" id="5387259">=</span>&nbsp;<span class="op" id="5387261">&amp;</span><span class="ident" id="5387262">stackEnt</span><span class="op" id="5387270">{</span><span class="ident" id="5387271">s</span><span class="op" id="5387272">.</span><span class="ident" id="5387273">Name</span><span class="op" id="5387277">,</span>&nbsp;<span class="ident" id="5387279">val</span><span class="op" id="5387282">,</span>&nbsp;<span class="num" id="5387284">0</span><span class="op" id="5387285">,</span>&nbsp;<span class="ident" id="5387287">noPath</span><span class="op" id="5387293">}</span><br>
<span class="lineno">610</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387298">case</span>&nbsp;<span class="ident" id="5387303">s</span><span class="op" id="5387304">.</span><span class="ident" id="5387305">Name</span>&nbsp;<span class="op" id="5387310">==</span>&nbsp;<span class="string" id="5387313">&#34;&#34;</span><span class="op" id="5387315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5387320">//&nbsp;Pop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387330">if</span>&nbsp;<span class="ident" id="5387333">tos</span>&nbsp;<span class="op" id="5387337">==</span>&nbsp;<span class="ident" id="5387340">noPath</span>&nbsp;<span class="op" id="5387347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387353">return</span>&nbsp;<span class="string" id="5387360">&#34;&lt;malformed&nbsp;symbol&nbsp;table&gt;&#34;</span><span class="op" id="5387386">,</span>&nbsp;<span class="num" id="5387388">0</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5387393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387398">tos</span><span class="op" id="5387401">.</span><span class="ident" id="5387402">prev</span><span class="op" id="5387406">.</span><span class="ident" id="5387407">offset</span>&nbsp;<span class="op" id="5387414">+=</span>&nbsp;<span class="ident" id="5387417">val</span>&nbsp;<span class="op" id="5387421">-</span>&nbsp;<span class="ident" id="5387423">tos</span><span class="op" id="5387426">.</span><span class="ident" id="5387427">start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387436">tos</span>&nbsp;<span class="op" id="5387440">=</span>&nbsp;<span class="ident" id="5387442">tos</span><span class="op" id="5387445">.</span><span class="ident" id="5387446">prev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387454">default</span><span class="op" id="5387461">:</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5387466">//&nbsp;Push</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387477">tos</span>&nbsp;<span class="op" id="5387481">=</span>&nbsp;<span class="op" id="5387483">&amp;</span><span class="ident" id="5387484">stackEnt</span><span class="op" id="5387492">{</span><span class="ident" id="5387493">s</span><span class="op" id="5387494">.</span><span class="ident" id="5387495">Name</span><span class="op" id="5387499">,</span>&nbsp;<span class="ident" id="5387501">val</span><span class="op" id="5387504">,</span>&nbsp;<span class="num" id="5387506">0</span><span class="op" id="5387507">,</span>&nbsp;<span class="ident" id="5387509">tos</span><span class="op" id="5387512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5387516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5387519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387523">if</span>&nbsp;<span class="ident" id="5387526">tos</span>&nbsp;<span class="op" id="5387530">==</span>&nbsp;<span class="ident" id="5387533">noPath</span>&nbsp;<span class="op" id="5387540">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387544">return</span>&nbsp;<span class="string" id="5387551">&#34;&#34;</span><span class="op" id="5387553">,</span>&nbsp;<span class="num" id="5387555">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5387558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387561">return</span>&nbsp;<span class="ident" id="5387568">tos</span><span class="op" id="5387571">.</span><span class="ident" id="5387572">path</span><span class="op" id="5387576">,</span>&nbsp;<span class="ident" id="5387578">aline</span>&nbsp;<span class="op" id="5387584">-</span>&nbsp;<span class="ident" id="5387586">tos</span><span class="op" id="5387589">.</span><span class="ident" id="5387590">start</span>&nbsp;<span class="op" id="5387596">-</span>&nbsp;<span class="ident" id="5387598">tos</span><span class="op" id="5387601">.</span><span class="ident" id="5387602">offset</span>&nbsp;<span class="op" id="5387609">+</span>&nbsp;<span class="num" id="5387611">1</span><br>
<span class="lineno"></span><span class="op" id="5387613">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="5387616">func</span>&nbsp;<span class="op" id="5387621">(</span><span class="ident" id="5387622">o</span>&nbsp;<span class="op" id="5387624">*</span><span class="ident" id="5387625">Obj</span><span class="op" id="5387628">)</span>&nbsp;<span class="ident" id="5387630">alineFromLine</span><span class="op" id="5387643">(</span><span class="ident" id="5387644">path</span>&nbsp;<span class="builtintype" id="5387649">string</span><span class="op" id="5387655">,</span>&nbsp;<span class="ident" id="5387657">line</span>&nbsp;<span class="builtintype" id="5387662">int</span><span class="op" id="5387665">)</span>&nbsp;<span class="op" id="5387667">(</span><span class="builtintype" id="5387668">int</span><span class="op" id="5387671">,</span>&nbsp;<span class="builtintype" id="5387673">error</span><span class="op" id="5387678">)</span>&nbsp;<span class="op" id="5387680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387683">if</span>&nbsp;<span class="ident" id="5387686">line</span>&nbsp;<span class="op" id="5387691">&lt;</span>&nbsp;<span class="num" id="5387693">1</span>&nbsp;<span class="op" id="5387695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387699">return</span>&nbsp;<span class="num" id="5387706">0</span><span class="op" id="5387707">,</span>&nbsp;<span class="op" id="5387709">&amp;</span><span class="ident" id="5387710">UnknownLineError</span><span class="op" id="5387726">{</span><span class="ident" id="5387727">path</span><span class="op" id="5387731">,</span>&nbsp;<span class="ident" id="5387733">line</span><span class="op" id="5387737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5387740">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387744">for</span>&nbsp;<span class="ident" id="5387748">i</span><span class="op" id="5387749">,</span>&nbsp;<span class="ident" id="5387751">s</span>&nbsp;<span class="op" id="5387753">:=</span>&nbsp;<span class="keyword" id="5387756">range</span>&nbsp;<span class="ident" id="5387762">o</span><span class="op" id="5387763">.</span><span class="ident" id="5387764">Paths</span>&nbsp;<span class="op" id="5387770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5387774">//&nbsp;Find&nbsp;this&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387794">if</span>&nbsp;<span class="ident" id="5387797">s</span><span class="op" id="5387798">.</span><span class="ident" id="5387799">Name</span>&nbsp;<span class="op" id="5387804">!=</span>&nbsp;<span class="ident" id="5387807">path</span>&nbsp;<span class="op" id="5387812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387817">continue</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5387828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5387833">//&nbsp;Find&nbsp;this&nbsp;line&nbsp;at&nbsp;this&nbsp;stack&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387873">depth</span>&nbsp;<span class="op" id="5387879">:=</span>&nbsp;<span class="num" id="5387882">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387886">var</span>&nbsp;<span class="ident" id="5387890">incstart</span>&nbsp;<span class="builtintype" id="5387899">int</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387905">line</span>&nbsp;<span class="op" id="5387910">+=</span>&nbsp;<span class="builtintype" id="5387913">int</span><span class="op" id="5387916">(</span><span class="ident" id="5387917">s</span><span class="op" id="5387918">.</span><span class="ident" id="5387919">Value</span><span class="op" id="5387924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387927">pathloop</span><span class="op" id="5387935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387939">for</span>&nbsp;<span class="ident" id="5387943">_</span><span class="op" id="5387944">,</span>&nbsp;<span class="ident" id="5387946">s</span>&nbsp;<span class="op" id="5387948">:=</span>&nbsp;<span class="keyword" id="5387951">range</span>&nbsp;<span class="ident" id="5387957">o</span><span class="op" id="5387958">.</span><span class="ident" id="5387959">Paths</span><span class="op" id="5387964">[</span><span class="ident" id="5387965">i</span><span class="op" id="5387966">:</span><span class="op" id="5387967">]</span>&nbsp;<span class="op" id="5387969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5387974">val</span>&nbsp;<span class="op" id="5387978">:=</span>&nbsp;<span class="builtintype" id="5387981">int</span><span class="op" id="5387984">(</span><span class="ident" id="5387985">s</span><span class="op" id="5387986">.</span><span class="ident" id="5387987">Value</span><span class="op" id="5387992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5387997">switch</span>&nbsp;<span class="op" id="5388004">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388009">case</span>&nbsp;<span class="ident" id="5388014">depth</span>&nbsp;<span class="op" id="5388020">==</span>&nbsp;<span class="num" id="5388023">1</span>&nbsp;<span class="op" id="5388025">&amp;&amp;</span>&nbsp;<span class="ident" id="5388028">val</span>&nbsp;<span class="op" id="5388032">&gt;=</span>&nbsp;<span class="ident" id="5388035">line</span><span class="op" id="5388039">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388045">return</span>&nbsp;<span class="ident" id="5388052">line</span>&nbsp;<span class="op" id="5388057">-</span>&nbsp;<span class="num" id="5388059">1</span><span class="op" id="5388060">,</span>&nbsp;<span class="ident" id="5388062">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388070">case</span>&nbsp;<span class="ident" id="5388075">s</span><span class="op" id="5388076">.</span><span class="ident" id="5388077">Name</span>&nbsp;<span class="op" id="5388082">==</span>&nbsp;<span class="string" id="5388085">&#34;&#34;</span><span class="op" id="5388087">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5388093">depth</span><span class="op" id="5388098">--</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388105">if</span>&nbsp;<span class="ident" id="5388108">depth</span>&nbsp;<span class="op" id="5388114">==</span>&nbsp;<span class="num" id="5388117">0</span>&nbsp;<span class="op" id="5388119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388126">break</span>&nbsp;<span class="ident" id="5388132">pathloop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5388145">}</span>&nbsp;<span class="keyword" id="5388147">else</span>&nbsp;<span class="keyword" id="5388152">if</span>&nbsp;<span class="ident" id="5388155">depth</span>&nbsp;<span class="op" id="5388161">==</span>&nbsp;<span class="num" id="5388164">1</span>&nbsp;<span class="op" id="5388166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5388173">line</span>&nbsp;<span class="op" id="5388178">+=</span>&nbsp;<span class="ident" id="5388181">val</span>&nbsp;<span class="op" id="5388185">-</span>&nbsp;<span class="ident" id="5388187">incstart</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5388200">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388206">default</span><span class="op" id="5388213">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388219">if</span>&nbsp;<span class="ident" id="5388222">depth</span>&nbsp;<span class="op" id="5388228">==</span>&nbsp;<span class="num" id="5388231">1</span>&nbsp;<span class="op" id="5388233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5388240">incstart</span>&nbsp;<span class="op" id="5388249">=</span>&nbsp;<span class="ident" id="5388251">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5388259">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5388265">depth</span><span class="op" id="5388270">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5388276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5388280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388284">return</span>&nbsp;<span class="num" id="5388291">0</span><span class="op" id="5388292">,</span>&nbsp;<span class="op" id="5388294">&amp;</span><span class="ident" id="5388295">UnknownLineError</span><span class="op" id="5388311">{</span><span class="ident" id="5388312">path</span><span class="op" id="5388316">,</span>&nbsp;<span class="ident" id="5388318">line</span><span class="op" id="5388322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5388325">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388328">return</span>&nbsp;<span class="num" id="5388335">0</span><span class="op" id="5388336">,</span>&nbsp;<span class="ident" id="5388338">UnknownFileError</span><span class="op" id="5388354">(</span><span class="ident" id="5388355">path</span><span class="op" id="5388359">)</span><br>
<span class="lineno"></span><span class="op" id="5388361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5388364">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Errors<br>
<span class="lineno">675</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5388382">//&nbsp;UnknownFileError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;find&nbsp;the&nbsp;specific&nbsp;file&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5388452">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5388473">type</span>&nbsp;<span class="ident" id="5388478">UnknownFileError</span>&nbsp;<span class="builtintype" id="5388495">string</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="5388503">func</span>&nbsp;<span class="op" id="5388508">(</span><span class="ident" id="5388509">e</span>&nbsp;<span class="ident" id="5388511">UnknownFileError</span><span class="op" id="5388527">)</span>&nbsp;<span class="ident" id="5388529">Error</span><span class="op" id="5388534">(</span><span class="op" id="5388535">)</span>&nbsp;<span class="builtintype" id="5388537">string</span>&nbsp;<span class="op" id="5388544">{</span>&nbsp;<span class="keyword" id="5388546">return</span>&nbsp;<span class="string" id="5388553">&#34;unknown&nbsp;file:&nbsp;&#34;</span>&nbsp;<span class="op" id="5388570">+</span>&nbsp;<span class="builtintype" id="5388572">string</span><span class="op" id="5388578">(</span><span class="ident" id="5388579">e</span><span class="op" id="5388580">)</span>&nbsp;<span class="op" id="5388582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5388585">//&nbsp;UnknownLineError&nbsp;represents&nbsp;a&nbsp;failure&nbsp;to&nbsp;map&nbsp;a&nbsp;line&nbsp;to&nbsp;a&nbsp;program</span><br>
<span class="lineno"></span><span class="comment" id="5388653">//&nbsp;counter,&nbsp;either&nbsp;because&nbsp;the&nbsp;line&nbsp;is&nbsp;beyond&nbsp;the&nbsp;bounds&nbsp;of&nbsp;the&nbsp;file</span><br>
<span class="lineno">685</span><span class="comment" id="5388722">//&nbsp;or&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;code&nbsp;on&nbsp;the&nbsp;given&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="5388772">type</span>&nbsp;<span class="ident" id="5388777">UnknownLineError</span>&nbsp;<span class="keyword" id="5388794">struct</span>&nbsp;<span class="op" id="5388801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5388804">File</span>&nbsp;<span class="builtintype" id="5388809">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5388817">Line</span>&nbsp;<span class="builtintype" id="5388822">int</span><br>
<span class="lineno"></span><span class="op" id="5388826">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span><span class="keyword" id="5388829">func</span>&nbsp;<span class="op" id="5388834">(</span><span class="ident" id="5388835">e</span>&nbsp;<span class="op" id="5388837">*</span><span class="ident" id="5388838">UnknownLineError</span><span class="op" id="5388854">)</span>&nbsp;<span class="ident" id="5388856">Error</span><span class="op" id="5388861">(</span><span class="op" id="5388862">)</span>&nbsp;<span class="builtintype" id="5388864">string</span>&nbsp;<span class="op" id="5388871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5388874">return</span>&nbsp;<span class="string" id="5388881">&#34;no&nbsp;code&nbsp;at&nbsp;&#34;</span>&nbsp;<span class="op" id="5388895">+</span>&nbsp;<span class="ident" id="5388897">e</span><span class="op" id="5388898">.</span><span class="ident" id="5388899">File</span>&nbsp;<span class="op" id="5388904">+</span>&nbsp;<span class="string" id="5388906">&#34;:&#34;</span>&nbsp;<span class="op" id="5388910">+</span>&nbsp;<span class="ident" id="5388912">strconv</span><span class="op" id="5388919">.</span><span class="ident" id="5388920">Itoa</span><span class="op" id="5388924">(</span><span class="ident" id="5388925">e</span><span class="op" id="5388926">.</span><span class="ident" id="5388927">Line</span><span class="op" id="5388931">)</span><br>
<span class="lineno"></span><span class="op" id="5388933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span><span class="comment" id="5388936">//&nbsp;DecodingError&nbsp;represents&nbsp;an&nbsp;error&nbsp;during&nbsp;the&nbsp;decoding&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5388996">//&nbsp;the&nbsp;symbol&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5389017">type</span>&nbsp;<span class="ident" id="5389022">DecodingError</span>&nbsp;<span class="keyword" id="5389036">struct</span>&nbsp;<span class="op" id="5389043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5389046">off</span>&nbsp;<span class="builtintype" id="5389050">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5389055">msg</span>&nbsp;<span class="builtintype" id="5389059">string</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5389067">val</span>&nbsp;<span class="keyword" id="5389071">interface</span><span class="op" id="5389080">{</span><span class="op" id="5389081">}</span><br>
<span class="lineno"></span><span class="op" id="5389083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5389086">func</span>&nbsp;<span class="op" id="5389091">(</span><span class="ident" id="5389092">e</span>&nbsp;<span class="op" id="5389094">*</span><span class="ident" id="5389095">DecodingError</span><span class="op" id="5389108">)</span>&nbsp;<span class="ident" id="5389110">Error</span><span class="op" id="5389115">(</span><span class="op" id="5389116">)</span>&nbsp;<span class="builtintype" id="5389118">string</span>&nbsp;<span class="op" id="5389125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5389128">msg</span>&nbsp;<span class="op" id="5389132">:=</span>&nbsp;<span class="ident" id="5389135">e</span><span class="op" id="5389136">.</span><span class="ident" id="5389137">msg</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5389142">if</span>&nbsp;<span class="ident" id="5389145">e</span><span class="op" id="5389146">.</span><span class="ident" id="5389147">val</span>&nbsp;<span class="op" id="5389151">!=</span>&nbsp;<span class="ident" id="5389154">nil</span>&nbsp;<span class="op" id="5389158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5389162">msg</span>&nbsp;<span class="op" id="5389166">+=</span>&nbsp;<span class="ident" id="5389169">fmt</span><span class="op" id="5389172">.</span><span class="ident" id="5389173">Sprintf</span><span class="op" id="5389180">(</span><span class="string" id="5389181">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="5389188">,</span>&nbsp;<span class="ident" id="5389190">e</span><span class="op" id="5389191">.</span><span class="ident" id="5389192">val</span><span class="op" id="5389195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5389198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5389201">msg</span>&nbsp;<span class="op" id="5389205">+=</span>&nbsp;<span class="ident" id="5389208">fmt</span><span class="op" id="5389211">.</span><span class="ident" id="5389212">Sprintf</span><span class="op" id="5389219">(</span><span class="string" id="5389220">&#34;&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="5389234">,</span>&nbsp;<span class="ident" id="5389236">e</span><span class="op" id="5389237">.</span><span class="ident" id="5389238">off</span><span class="op" id="5389241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5389244">return</span>&nbsp;<span class="ident" id="5389251">msg</span><br>
<span class="lineno">710</span><span class="op" id="5389255">}</span>
</div>
</body>
</html>
