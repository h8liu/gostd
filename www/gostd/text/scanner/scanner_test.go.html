<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7955942">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7955997">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7956051">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7956102">package</span>&nbsp;<span class="ident" id="7956110">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956119">import</span>&nbsp;<span class="op" id="7956126">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7956129">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7956138">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7956145">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7956151">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7956162">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7956173">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7956188">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7956191">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="7956266">type</span>&nbsp;<span class="ident" id="7956271">StringReader</span>&nbsp;<span class="keyword" id="7956284">struct</span>&nbsp;<span class="op" id="7956291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956294">data</span>&nbsp;<span class="op" id="7956299">[</span><span class="op" id="7956300">]</span><span class="builtintype" id="7956301">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956309">step</span>&nbsp;<span class="builtintype" id="7956314">int</span><br>
<span class="lineno">20</span><span class="op" id="7956318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956321">func</span>&nbsp;<span class="op" id="7956326">(</span><span class="ident" id="7956327">r</span>&nbsp;<span class="op" id="7956329">*</span><span class="ident" id="7956330">StringReader</span><span class="op" id="7956342">)</span>&nbsp;<span class="ident" id="7956344">Read</span><span class="op" id="7956348">(</span><span class="ident" id="7956349">p</span>&nbsp;<span class="op" id="7956351">[</span><span class="op" id="7956352">]</span><span class="builtintype" id="7956353">byte</span><span class="op" id="7956357">)</span>&nbsp;<span class="op" id="7956359">(</span><span class="ident" id="7956360">n</span>&nbsp;<span class="builtintype" id="7956362">int</span><span class="op" id="7956365">,</span>&nbsp;<span class="ident" id="7956367">err</span>&nbsp;<span class="builtintype" id="7956371">error</span><span class="op" id="7956376">)</span>&nbsp;<span class="op" id="7956378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7956381">if</span>&nbsp;<span class="ident" id="7956384">r</span><span class="op" id="7956385">.</span><span class="ident" id="7956386">step</span>&nbsp;<span class="op" id="7956391">&lt;</span>&nbsp;<span class="builtinfunc" id="7956393">len</span><span class="op" id="7956396">(</span><span class="ident" id="7956397">r</span><span class="op" id="7956398">.</span><span class="ident" id="7956399">data</span><span class="op" id="7956403">)</span>&nbsp;<span class="op" id="7956405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956409">s</span>&nbsp;<span class="op" id="7956411">:=</span>&nbsp;<span class="ident" id="7956414">r</span><span class="op" id="7956415">.</span><span class="ident" id="7956416">data</span><span class="op" id="7956420">[</span><span class="ident" id="7956421">r</span><span class="op" id="7956422">.</span><span class="ident" id="7956423">step</span><span class="op" id="7956427">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956431">n</span>&nbsp;<span class="op" id="7956433">=</span>&nbsp;<span class="builtinfunc" id="7956435">copy</span><span class="op" id="7956439">(</span><span class="ident" id="7956440">p</span><span class="op" id="7956441">,</span>&nbsp;<span class="ident" id="7956443">s</span><span class="op" id="7956444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956448">r</span><span class="op" id="7956449">.</span><span class="ident" id="7956450">step</span><span class="op" id="7956454">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956458">}</span>&nbsp;<span class="keyword" id="7956460">else</span>&nbsp;<span class="op" id="7956465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956469">err</span>&nbsp;<span class="op" id="7956473">=</span>&nbsp;<span class="ident" id="7956475">io</span><span class="op" id="7956477">.</span><span class="ident" id="7956478">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956483">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7956486">return</span><br>
<span class="lineno"></span><span class="op" id="7956493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956496">func</span>&nbsp;<span class="ident" id="7956501">readRuneSegments</span><span class="op" id="7956517">(</span><span class="ident" id="7956518">t</span>&nbsp;<span class="op" id="7956520">*</span><span class="ident" id="7956521">testing</span><span class="op" id="7956528">.</span><span class="ident" id="7956529">T</span><span class="op" id="7956530">,</span>&nbsp;<span class="ident" id="7956532">segments</span>&nbsp;<span class="op" id="7956541">[</span><span class="op" id="7956542">]</span><span class="builtintype" id="7956543">string</span><span class="op" id="7956549">)</span>&nbsp;<span class="op" id="7956551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956554">got</span>&nbsp;<span class="op" id="7956558">:=</span>&nbsp;<span class="string" id="7956561">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956565">want</span>&nbsp;<span class="op" id="7956570">:=</span>&nbsp;<span class="ident" id="7956573">strings</span><span class="op" id="7956580">.</span><span class="ident" id="7956581">Join</span><span class="op" id="7956585">(</span><span class="ident" id="7956586">segments</span><span class="op" id="7956594">,</span>&nbsp;<span class="string" id="7956596">&#34;&#34;</span><span class="op" id="7956598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956601">s</span>&nbsp;<span class="op" id="7956603">:=</span>&nbsp;<span class="builtinfunc" id="7956606">new</span><span class="op" id="7956609">(</span><span class="ident" id="7956610">Scanner</span><span class="op" id="7956617">)</span><span class="op" id="7956618">.</span><span class="ident" id="7956619">Init</span><span class="op" id="7956623">(</span><span class="op" id="7956624">&amp;</span><span class="ident" id="7956625">StringReader</span><span class="op" id="7956637">{</span><span class="ident" id="7956638">data</span><span class="op" id="7956642">:</span>&nbsp;<span class="ident" id="7956644">segments</span><span class="op" id="7956652">}</span><span class="op" id="7956653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7956656">for</span>&nbsp;<span class="op" id="7956660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956664">ch</span>&nbsp;<span class="op" id="7956667">:=</span>&nbsp;<span class="ident" id="7956670">s</span><span class="op" id="7956671">.</span><span class="ident" id="7956672">Next</span><span class="op" id="7956676">(</span><span class="op" id="7956677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7956681">if</span>&nbsp;<span class="ident" id="7956684">ch</span>&nbsp;<span class="op" id="7956687">==</span>&nbsp;<span class="ident" id="7956690">EOF</span>&nbsp;<span class="op" id="7956694">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7956699">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956711">got</span>&nbsp;<span class="op" id="7956715">+=</span>&nbsp;<span class="builtintype" id="7956718">string</span><span class="op" id="7956724">(</span><span class="ident" id="7956725">ch</span><span class="op" id="7956727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7956733">if</span>&nbsp;<span class="ident" id="7956736">got</span>&nbsp;<span class="op" id="7956740">!=</span>&nbsp;<span class="ident" id="7956743">want</span>&nbsp;<span class="op" id="7956748">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956752">t</span><span class="op" id="7956753">.</span><span class="ident" id="7956754">Errorf</span><span class="op" id="7956760">(</span><span class="string" id="7956761">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="7956789">,</span>&nbsp;<span class="ident" id="7956791">segments</span><span class="op" id="7956799">,</span>&nbsp;<span class="ident" id="7956801">got</span><span class="op" id="7956804">,</span>&nbsp;<span class="ident" id="7956806">want</span><span class="op" id="7956810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956813">}</span><br>
<span class="lineno"></span><span class="op" id="7956815">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956818">var</span>&nbsp;<span class="ident" id="7956822">segmentList</span>&nbsp;<span class="op" id="7956834">=</span>&nbsp;<span class="op" id="7956836">[</span><span class="op" id="7956837">]</span><span class="op" id="7956838">[</span><span class="op" id="7956839">]</span><span class="builtintype" id="7956840">string</span><span class="op" id="7956846">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956849">{</span><span class="op" id="7956850">}</span><span class="op" id="7956851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956854">{</span><span class="string" id="7956855">&#34;&#34;</span><span class="op" id="7956857">}</span><span class="op" id="7956858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956861">{</span><span class="string" id="7956862">&#34;日&#34;</span><span class="op" id="7956867">,</span>&nbsp;<span class="string" id="7956869">&#34;本語&#34;</span><span class="op" id="7956877">}</span><span class="op" id="7956878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956881">{</span><span class="string" id="7956882">&#34;\u65e5&#34;</span><span class="op" id="7956890">,</span>&nbsp;<span class="string" id="7956892">&#34;\u672c&#34;</span><span class="op" id="7956900">,</span>&nbsp;<span class="string" id="7956902">&#34;\u8a9e&#34;</span><span class="op" id="7956910">}</span><span class="op" id="7956911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956914">{</span><span class="string" id="7956915">&#34;\U000065e5&#34;</span><span class="op" id="7956927">,</span>&nbsp;<span class="string" id="7956929">&#34;&nbsp;&#34;</span><span class="op" id="7956932">,</span>&nbsp;<span class="string" id="7956934">&#34;\U0000672c&#34;</span><span class="op" id="7956946">,</span>&nbsp;<span class="string" id="7956948">&#34;\U00008a9e&#34;</span><span class="op" id="7956960">}</span><span class="op" id="7956961">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956964">{</span><span class="string" id="7956965">&#34;\xe6&#34;</span><span class="op" id="7956971">,</span>&nbsp;<span class="string" id="7956973">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="7956987">,</span>&nbsp;<span class="string" id="7956989">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="7957011">}</span><span class="op" id="7957012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957015">{</span><span class="string" id="7957016">&#34;Hello&#34;</span><span class="op" id="7957023">,</span>&nbsp;<span class="string" id="7957025">&#34;,&nbsp;&#34;</span><span class="op" id="7957029">,</span>&nbsp;<span class="string" id="7957031">&#34;World&#34;</span><span class="op" id="7957038">,</span>&nbsp;<span class="string" id="7957040">&#34;!&#34;</span><span class="op" id="7957043">}</span><span class="op" id="7957044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957047">{</span><span class="string" id="7957048">&#34;Hello&#34;</span><span class="op" id="7957055">,</span>&nbsp;<span class="string" id="7957057">&#34;,&nbsp;&#34;</span><span class="op" id="7957061">,</span>&nbsp;<span class="string" id="7957063">&#34;&#34;</span><span class="op" id="7957065">,</span>&nbsp;<span class="string" id="7957067">&#34;World&#34;</span><span class="op" id="7957074">,</span>&nbsp;<span class="string" id="7957076">&#34;!&#34;</span><span class="op" id="7957079">}</span><span class="op" id="7957080">,</span><br>
<span class="lineno"></span><span class="op" id="7957082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7957085">func</span>&nbsp;<span class="ident" id="7957090">TestNext</span><span class="op" id="7957098">(</span><span class="ident" id="7957099">t</span>&nbsp;<span class="op" id="7957101">*</span><span class="ident" id="7957102">testing</span><span class="op" id="7957109">.</span><span class="ident" id="7957110">T</span><span class="op" id="7957111">)</span>&nbsp;<span class="op" id="7957113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7957116">for</span>&nbsp;<span class="ident" id="7957120">_</span><span class="op" id="7957121">,</span>&nbsp;<span class="ident" id="7957123">s</span>&nbsp;<span class="op" id="7957125">:=</span>&nbsp;<span class="keyword" id="7957128">range</span>&nbsp;<span class="ident" id="7957134">segmentList</span>&nbsp;<span class="op" id="7957146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957150">readRuneSegments</span><span class="op" id="7957166">(</span><span class="ident" id="7957167">t</span><span class="op" id="7957168">,</span>&nbsp;<span class="ident" id="7957170">s</span><span class="op" id="7957171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957174">}</span><br>
<span class="lineno"></span><span class="op" id="7957176">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7957179">type</span>&nbsp;<span class="ident" id="7957184">token</span>&nbsp;<span class="keyword" id="7957190">struct</span>&nbsp;<span class="op" id="7957197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957200">tok</span>&nbsp;&nbsp;<span class="builtintype" id="7957205">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957211">text</span>&nbsp;<span class="builtintype" id="7957216">string</span><br>
<span class="lineno"></span><span class="op" id="7957223">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7957226">var</span>&nbsp;<span class="ident" id="7957230">f100</span>&nbsp;<span class="op" id="7957235">=</span>&nbsp;<span class="string" id="7957237">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7957341">var</span>&nbsp;<span class="ident" id="7957345">tokenList</span>&nbsp;<span class="op" id="7957355">=</span>&nbsp;<span class="op" id="7957357">[</span><span class="op" id="7957358">]</span><span class="ident" id="7957359">token</span><span class="op" id="7957364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957367">{</span><span class="ident" id="7957368">Comment</span><span class="op" id="7957375">,</span>&nbsp;<span class="string" id="7957377">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="7957395">}</span><span class="op" id="7957396">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957399">{</span><span class="ident" id="7957400">Comment</span><span class="op" id="7957407">,</span>&nbsp;<span class="string" id="7957409">&#34;//&#34;</span><span class="op" id="7957413">}</span><span class="op" id="7957414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957417">{</span><span class="ident" id="7957418">Comment</span><span class="op" id="7957425">,</span>&nbsp;<span class="string" id="7957427">&#34;////&#34;</span><span class="op" id="7957433">}</span><span class="op" id="7957434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957437">{</span><span class="ident" id="7957438">Comment</span><span class="op" id="7957445">,</span>&nbsp;<span class="string" id="7957447">&#34;//&nbsp;comment&#34;</span><span class="op" id="7957459">}</span><span class="op" id="7957460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957463">{</span><span class="ident" id="7957464">Comment</span><span class="op" id="7957471">,</span>&nbsp;<span class="string" id="7957473">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7957491">}</span><span class="op" id="7957492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957495">{</span><span class="ident" id="7957496">Comment</span><span class="op" id="7957503">,</span>&nbsp;<span class="string" id="7957505">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="7957523">}</span><span class="op" id="7957524">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957527">{</span><span class="ident" id="7957528">Comment</span><span class="op" id="7957535">,</span>&nbsp;<span class="string" id="7957537">&#34;//&#34;</span>&nbsp;<span class="op" id="7957542">+</span>&nbsp;<span class="ident" id="7957544">f100</span><span class="op" id="7957548">}</span><span class="op" id="7957549">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957553">{</span><span class="ident" id="7957554">Comment</span><span class="op" id="7957561">,</span>&nbsp;<span class="string" id="7957563">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="7957584">}</span><span class="op" id="7957585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957588">{</span><span class="ident" id="7957589">Comment</span><span class="op" id="7957596">,</span>&nbsp;<span class="string" id="7957598">&#34;/**/&#34;</span><span class="op" id="7957604">}</span><span class="op" id="7957605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957608">{</span><span class="ident" id="7957609">Comment</span><span class="op" id="7957616">,</span>&nbsp;<span class="string" id="7957618">&#34;/***/&#34;</span><span class="op" id="7957625">}</span><span class="op" id="7957626">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957629">{</span><span class="ident" id="7957630">Comment</span><span class="op" id="7957637">,</span>&nbsp;<span class="string" id="7957639">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7957654">}</span><span class="op" id="7957655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957658">{</span><span class="ident" id="7957659">Comment</span><span class="op" id="7957666">,</span>&nbsp;<span class="string" id="7957668">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7957686">}</span><span class="op" id="7957687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957690">{</span><span class="ident" id="7957691">Comment</span><span class="op" id="7957698">,</span>&nbsp;<span class="string" id="7957700">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7957718">}</span><span class="op" id="7957719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957722">{</span><span class="ident" id="7957723">Comment</span><span class="op" id="7957730">,</span>&nbsp;<span class="string" id="7957732">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="7957750">}</span><span class="op" id="7957751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957754">{</span><span class="ident" id="7957755">Comment</span><span class="op" id="7957762">,</span>&nbsp;<span class="string" id="7957764">&#34;/*&#34;</span>&nbsp;<span class="op" id="7957769">+</span>&nbsp;<span class="ident" id="7957771">f100</span>&nbsp;<span class="op" id="7957776">+</span>&nbsp;<span class="string" id="7957778">&#34;*/&#34;</span><span class="op" id="7957782">}</span><span class="op" id="7957783">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957787">{</span><span class="ident" id="7957788">Comment</span><span class="op" id="7957795">,</span>&nbsp;<span class="string" id="7957797">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="7957813">}</span><span class="op" id="7957814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957817">{</span><span class="ident" id="7957818">Ident</span><span class="op" id="7957823">,</span>&nbsp;<span class="string" id="7957825">&#34;a&#34;</span><span class="op" id="7957828">}</span><span class="op" id="7957829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957832">{</span><span class="ident" id="7957833">Ident</span><span class="op" id="7957838">,</span>&nbsp;<span class="string" id="7957840">&#34;a0&#34;</span><span class="op" id="7957844">}</span><span class="op" id="7957845">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957848">{</span><span class="ident" id="7957849">Ident</span><span class="op" id="7957854">,</span>&nbsp;<span class="string" id="7957856">&#34;foobar&#34;</span><span class="op" id="7957864">}</span><span class="op" id="7957865">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957868">{</span><span class="ident" id="7957869">Ident</span><span class="op" id="7957874">,</span>&nbsp;<span class="string" id="7957876">&#34;abc123&#34;</span><span class="op" id="7957884">}</span><span class="op" id="7957885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957888">{</span><span class="ident" id="7957889">Ident</span><span class="op" id="7957894">,</span>&nbsp;<span class="string" id="7957896">&#34;LGTM&#34;</span><span class="op" id="7957902">}</span><span class="op" id="7957903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957906">{</span><span class="ident" id="7957907">Ident</span><span class="op" id="7957912">,</span>&nbsp;<span class="string" id="7957914">&#34;_&#34;</span><span class="op" id="7957917">}</span><span class="op" id="7957918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957921">{</span><span class="ident" id="7957922">Ident</span><span class="op" id="7957927">,</span>&nbsp;<span class="string" id="7957929">&#34;_abc123&#34;</span><span class="op" id="7957938">}</span><span class="op" id="7957939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957942">{</span><span class="ident" id="7957943">Ident</span><span class="op" id="7957948">,</span>&nbsp;<span class="string" id="7957950">&#34;abc123_&#34;</span><span class="op" id="7957959">}</span><span class="op" id="7957960">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957963">{</span><span class="ident" id="7957964">Ident</span><span class="op" id="7957969">,</span>&nbsp;<span class="string" id="7957971">&#34;_abc_123_&#34;</span><span class="op" id="7957982">}</span><span class="op" id="7957983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7957986">{</span><span class="ident" id="7957987">Ident</span><span class="op" id="7957992">,</span>&nbsp;<span class="string" id="7957994">&#34;_äöü&#34;</span><span class="op" id="7958003">}</span><span class="op" id="7958004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958007">{</span><span class="ident" id="7958008">Ident</span><span class="op" id="7958013">,</span>&nbsp;<span class="string" id="7958015">&#34;_本&#34;</span><span class="op" id="7958021">}</span><span class="op" id="7958022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958025">{</span><span class="ident" id="7958026">Ident</span><span class="op" id="7958031">,</span>&nbsp;<span class="string" id="7958033">&#34;äöü&#34;</span><span class="op" id="7958041">}</span><span class="op" id="7958042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958045">{</span><span class="ident" id="7958046">Ident</span><span class="op" id="7958051">,</span>&nbsp;<span class="string" id="7958053">&#34;本&#34;</span><span class="op" id="7958058">}</span><span class="op" id="7958059">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958062">{</span><span class="ident" id="7958063">Ident</span><span class="op" id="7958068">,</span>&nbsp;<span class="string" id="7958070">&#34;a۰۱۸&#34;</span><span class="op" id="7958079">}</span><span class="op" id="7958080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958083">{</span><span class="ident" id="7958084">Ident</span><span class="op" id="7958089">,</span>&nbsp;<span class="string" id="7958091">&#34;foo६४&#34;</span><span class="op" id="7958102">}</span><span class="op" id="7958103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958106">{</span><span class="ident" id="7958107">Ident</span><span class="op" id="7958112">,</span>&nbsp;<span class="string" id="7958114">&#34;bar９８７６&#34;</span><span class="op" id="7958131">}</span><span class="op" id="7958132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958135">{</span><span class="ident" id="7958136">Ident</span><span class="op" id="7958141">,</span>&nbsp;<span class="ident" id="7958143">f100</span><span class="op" id="7958147">}</span><span class="op" id="7958148">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958152">{</span><span class="ident" id="7958153">Comment</span><span class="op" id="7958160">,</span>&nbsp;<span class="string" id="7958162">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="7958179">}</span><span class="op" id="7958180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958183">{</span><span class="ident" id="7958184">Int</span><span class="op" id="7958187">,</span>&nbsp;<span class="string" id="7958189">&#34;0&#34;</span><span class="op" id="7958192">}</span><span class="op" id="7958193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958196">{</span><span class="ident" id="7958197">Int</span><span class="op" id="7958200">,</span>&nbsp;<span class="string" id="7958202">&#34;1&#34;</span><span class="op" id="7958205">}</span><span class="op" id="7958206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958209">{</span><span class="ident" id="7958210">Int</span><span class="op" id="7958213">,</span>&nbsp;<span class="string" id="7958215">&#34;9&#34;</span><span class="op" id="7958218">}</span><span class="op" id="7958219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958222">{</span><span class="ident" id="7958223">Int</span><span class="op" id="7958226">,</span>&nbsp;<span class="string" id="7958228">&#34;42&#34;</span><span class="op" id="7958232">}</span><span class="op" id="7958233">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958236">{</span><span class="ident" id="7958237">Int</span><span class="op" id="7958240">,</span>&nbsp;<span class="string" id="7958242">&#34;1234567890&#34;</span><span class="op" id="7958254">}</span><span class="op" id="7958255">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958259">{</span><span class="ident" id="7958260">Comment</span><span class="op" id="7958267">,</span>&nbsp;<span class="string" id="7958269">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="7958284">}</span><span class="op" id="7958285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958288">{</span><span class="ident" id="7958289">Int</span><span class="op" id="7958292">,</span>&nbsp;<span class="string" id="7958294">&#34;00&#34;</span><span class="op" id="7958298">}</span><span class="op" id="7958299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958302">{</span><span class="ident" id="7958303">Int</span><span class="op" id="7958306">,</span>&nbsp;<span class="string" id="7958308">&#34;01&#34;</span><span class="op" id="7958312">}</span><span class="op" id="7958313">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958316">{</span><span class="ident" id="7958317">Int</span><span class="op" id="7958320">,</span>&nbsp;<span class="string" id="7958322">&#34;07&#34;</span><span class="op" id="7958326">}</span><span class="op" id="7958327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958330">{</span><span class="ident" id="7958331">Int</span><span class="op" id="7958334">,</span>&nbsp;<span class="string" id="7958336">&#34;042&#34;</span><span class="op" id="7958341">}</span><span class="op" id="7958342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958345">{</span><span class="ident" id="7958346">Int</span><span class="op" id="7958349">,</span>&nbsp;<span class="string" id="7958351">&#34;01234567&#34;</span><span class="op" id="7958361">}</span><span class="op" id="7958362">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958366">{</span><span class="ident" id="7958367">Comment</span><span class="op" id="7958374">,</span>&nbsp;<span class="string" id="7958376">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="7958397">}</span><span class="op" id="7958398">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958401">{</span><span class="ident" id="7958402">Int</span><span class="op" id="7958405">,</span>&nbsp;<span class="string" id="7958407">&#34;0x0&#34;</span><span class="op" id="7958412">}</span><span class="op" id="7958413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958416">{</span><span class="ident" id="7958417">Int</span><span class="op" id="7958420">,</span>&nbsp;<span class="string" id="7958422">&#34;0x1&#34;</span><span class="op" id="7958427">}</span><span class="op" id="7958428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958431">{</span><span class="ident" id="7958432">Int</span><span class="op" id="7958435">,</span>&nbsp;<span class="string" id="7958437">&#34;0xf&#34;</span><span class="op" id="7958442">}</span><span class="op" id="7958443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958446">{</span><span class="ident" id="7958447">Int</span><span class="op" id="7958450">,</span>&nbsp;<span class="string" id="7958452">&#34;0x42&#34;</span><span class="op" id="7958458">}</span><span class="op" id="7958459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958462">{</span><span class="ident" id="7958463">Int</span><span class="op" id="7958466">,</span>&nbsp;<span class="string" id="7958468">&#34;0x123456789abcDEF&#34;</span><span class="op" id="7958487">}</span><span class="op" id="7958488">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958491">{</span><span class="ident" id="7958492">Int</span><span class="op" id="7958495">,</span>&nbsp;<span class="string" id="7958497">&#34;0x&#34;</span>&nbsp;<span class="op" id="7958502">+</span>&nbsp;<span class="ident" id="7958504">f100</span><span class="op" id="7958508">}</span><span class="op" id="7958509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958512">{</span><span class="ident" id="7958513">Int</span><span class="op" id="7958516">,</span>&nbsp;<span class="string" id="7958518">&#34;0X0&#34;</span><span class="op" id="7958523">}</span><span class="op" id="7958524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958527">{</span><span class="ident" id="7958528">Int</span><span class="op" id="7958531">,</span>&nbsp;<span class="string" id="7958533">&#34;0X1&#34;</span><span class="op" id="7958538">}</span><span class="op" id="7958539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958542">{</span><span class="ident" id="7958543">Int</span><span class="op" id="7958546">,</span>&nbsp;<span class="string" id="7958548">&#34;0XF&#34;</span><span class="op" id="7958553">}</span><span class="op" id="7958554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958557">{</span><span class="ident" id="7958558">Int</span><span class="op" id="7958561">,</span>&nbsp;<span class="string" id="7958563">&#34;0X42&#34;</span><span class="op" id="7958569">}</span><span class="op" id="7958570">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958573">{</span><span class="ident" id="7958574">Int</span><span class="op" id="7958577">,</span>&nbsp;<span class="string" id="7958579">&#34;0X123456789abcDEF&#34;</span><span class="op" id="7958598">}</span><span class="op" id="7958599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958602">{</span><span class="ident" id="7958603">Int</span><span class="op" id="7958606">,</span>&nbsp;<span class="string" id="7958608">&#34;0X&#34;</span>&nbsp;<span class="op" id="7958613">+</span>&nbsp;<span class="ident" id="7958615">f100</span><span class="op" id="7958619">}</span><span class="op" id="7958620">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958624">{</span><span class="ident" id="7958625">Comment</span><span class="op" id="7958632">,</span>&nbsp;<span class="string" id="7958634">&#34;//&nbsp;floats&#34;</span><span class="op" id="7958645">}</span><span class="op" id="7958646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958649">{</span><span class="ident" id="7958650">Float</span><span class="op" id="7958655">,</span>&nbsp;<span class="string" id="7958657">&#34;0.&#34;</span><span class="op" id="7958661">}</span><span class="op" id="7958662">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958665">{</span><span class="ident" id="7958666">Float</span><span class="op" id="7958671">,</span>&nbsp;<span class="string" id="7958673">&#34;1.&#34;</span><span class="op" id="7958677">}</span><span class="op" id="7958678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958681">{</span><span class="ident" id="7958682">Float</span><span class="op" id="7958687">,</span>&nbsp;<span class="string" id="7958689">&#34;42.&#34;</span><span class="op" id="7958694">}</span><span class="op" id="7958695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958698">{</span><span class="ident" id="7958699">Float</span><span class="op" id="7958704">,</span>&nbsp;<span class="string" id="7958706">&#34;01234567890.&#34;</span><span class="op" id="7958720">}</span><span class="op" id="7958721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958724">{</span><span class="ident" id="7958725">Float</span><span class="op" id="7958730">,</span>&nbsp;<span class="string" id="7958732">&#34;.0&#34;</span><span class="op" id="7958736">}</span><span class="op" id="7958737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958740">{</span><span class="ident" id="7958741">Float</span><span class="op" id="7958746">,</span>&nbsp;<span class="string" id="7958748">&#34;.1&#34;</span><span class="op" id="7958752">}</span><span class="op" id="7958753">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958756">{</span><span class="ident" id="7958757">Float</span><span class="op" id="7958762">,</span>&nbsp;<span class="string" id="7958764">&#34;.42&#34;</span><span class="op" id="7958769">}</span><span class="op" id="7958770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958773">{</span><span class="ident" id="7958774">Float</span><span class="op" id="7958779">,</span>&nbsp;<span class="string" id="7958781">&#34;.0123456789&#34;</span><span class="op" id="7958794">}</span><span class="op" id="7958795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958798">{</span><span class="ident" id="7958799">Float</span><span class="op" id="7958804">,</span>&nbsp;<span class="string" id="7958806">&#34;0.0&#34;</span><span class="op" id="7958811">}</span><span class="op" id="7958812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958815">{</span><span class="ident" id="7958816">Float</span><span class="op" id="7958821">,</span>&nbsp;<span class="string" id="7958823">&#34;1.0&#34;</span><span class="op" id="7958828">}</span><span class="op" id="7958829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958832">{</span><span class="ident" id="7958833">Float</span><span class="op" id="7958838">,</span>&nbsp;<span class="string" id="7958840">&#34;42.0&#34;</span><span class="op" id="7958846">}</span><span class="op" id="7958847">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958850">{</span><span class="ident" id="7958851">Float</span><span class="op" id="7958856">,</span>&nbsp;<span class="string" id="7958858">&#34;01234567890.0&#34;</span><span class="op" id="7958873">}</span><span class="op" id="7958874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958877">{</span><span class="ident" id="7958878">Float</span><span class="op" id="7958883">,</span>&nbsp;<span class="string" id="7958885">&#34;0e0&#34;</span><span class="op" id="7958890">}</span><span class="op" id="7958891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958894">{</span><span class="ident" id="7958895">Float</span><span class="op" id="7958900">,</span>&nbsp;<span class="string" id="7958902">&#34;1e0&#34;</span><span class="op" id="7958907">}</span><span class="op" id="7958908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958911">{</span><span class="ident" id="7958912">Float</span><span class="op" id="7958917">,</span>&nbsp;<span class="string" id="7958919">&#34;42e0&#34;</span><span class="op" id="7958925">}</span><span class="op" id="7958926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958929">{</span><span class="ident" id="7958930">Float</span><span class="op" id="7958935">,</span>&nbsp;<span class="string" id="7958937">&#34;01234567890e0&#34;</span><span class="op" id="7958952">}</span><span class="op" id="7958953">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958956">{</span><span class="ident" id="7958957">Float</span><span class="op" id="7958962">,</span>&nbsp;<span class="string" id="7958964">&#34;0E0&#34;</span><span class="op" id="7958969">}</span><span class="op" id="7958970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958973">{</span><span class="ident" id="7958974">Float</span><span class="op" id="7958979">,</span>&nbsp;<span class="string" id="7958981">&#34;1E0&#34;</span><span class="op" id="7958986">}</span><span class="op" id="7958987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7958990">{</span><span class="ident" id="7958991">Float</span><span class="op" id="7958996">,</span>&nbsp;<span class="string" id="7958998">&#34;42E0&#34;</span><span class="op" id="7959004">}</span><span class="op" id="7959005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959008">{</span><span class="ident" id="7959009">Float</span><span class="op" id="7959014">,</span>&nbsp;<span class="string" id="7959016">&#34;01234567890E0&#34;</span><span class="op" id="7959031">}</span><span class="op" id="7959032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959035">{</span><span class="ident" id="7959036">Float</span><span class="op" id="7959041">,</span>&nbsp;<span class="string" id="7959043">&#34;0e+10&#34;</span><span class="op" id="7959050">}</span><span class="op" id="7959051">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959054">{</span><span class="ident" id="7959055">Float</span><span class="op" id="7959060">,</span>&nbsp;<span class="string" id="7959062">&#34;1e-10&#34;</span><span class="op" id="7959069">}</span><span class="op" id="7959070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959073">{</span><span class="ident" id="7959074">Float</span><span class="op" id="7959079">,</span>&nbsp;<span class="string" id="7959081">&#34;42e+10&#34;</span><span class="op" id="7959089">}</span><span class="op" id="7959090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959093">{</span><span class="ident" id="7959094">Float</span><span class="op" id="7959099">,</span>&nbsp;<span class="string" id="7959101">&#34;01234567890e-10&#34;</span><span class="op" id="7959118">}</span><span class="op" id="7959119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959122">{</span><span class="ident" id="7959123">Float</span><span class="op" id="7959128">,</span>&nbsp;<span class="string" id="7959130">&#34;0E+10&#34;</span><span class="op" id="7959137">}</span><span class="op" id="7959138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959141">{</span><span class="ident" id="7959142">Float</span><span class="op" id="7959147">,</span>&nbsp;<span class="string" id="7959149">&#34;1E-10&#34;</span><span class="op" id="7959156">}</span><span class="op" id="7959157">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959160">{</span><span class="ident" id="7959161">Float</span><span class="op" id="7959166">,</span>&nbsp;<span class="string" id="7959168">&#34;42E+10&#34;</span><span class="op" id="7959176">}</span><span class="op" id="7959177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959180">{</span><span class="ident" id="7959181">Float</span><span class="op" id="7959186">,</span>&nbsp;<span class="string" id="7959188">&#34;01234567890E-10&#34;</span><span class="op" id="7959205">}</span><span class="op" id="7959206">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959210">{</span><span class="ident" id="7959211">Comment</span><span class="op" id="7959218">,</span>&nbsp;<span class="string" id="7959220">&#34;//&nbsp;chars&#34;</span><span class="op" id="7959230">}</span><span class="op" id="7959231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959234">{</span><span class="ident" id="7959235">Char</span><span class="op" id="7959239">,</span>&nbsp;<span class="string" id="7959241">`&#39;&nbsp;&#39;`</span><span class="op" id="7959246">}</span><span class="op" id="7959247">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959250">{</span><span class="ident" id="7959251">Char</span><span class="op" id="7959255">,</span>&nbsp;<span class="string" id="7959257">`&#39;a&#39;`</span><span class="op" id="7959262">}</span><span class="op" id="7959263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959266">{</span><span class="ident" id="7959267">Char</span><span class="op" id="7959271">,</span>&nbsp;<span class="string" id="7959273">`&#39;本&#39;`</span><span class="op" id="7959280">}</span><span class="op" id="7959281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959284">{</span><span class="ident" id="7959285">Char</span><span class="op" id="7959289">,</span>&nbsp;<span class="string" id="7959291">`&#39;\a&#39;`</span><span class="op" id="7959297">}</span><span class="op" id="7959298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959301">{</span><span class="ident" id="7959302">Char</span><span class="op" id="7959306">,</span>&nbsp;<span class="string" id="7959308">`&#39;\b&#39;`</span><span class="op" id="7959314">}</span><span class="op" id="7959315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959318">{</span><span class="ident" id="7959319">Char</span><span class="op" id="7959323">,</span>&nbsp;<span class="string" id="7959325">`&#39;\f&#39;`</span><span class="op" id="7959331">}</span><span class="op" id="7959332">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959335">{</span><span class="ident" id="7959336">Char</span><span class="op" id="7959340">,</span>&nbsp;<span class="string" id="7959342">`&#39;\n&#39;`</span><span class="op" id="7959348">}</span><span class="op" id="7959349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959352">{</span><span class="ident" id="7959353">Char</span><span class="op" id="7959357">,</span>&nbsp;<span class="string" id="7959359">`&#39;\r&#39;`</span><span class="op" id="7959365">}</span><span class="op" id="7959366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959369">{</span><span class="ident" id="7959370">Char</span><span class="op" id="7959374">,</span>&nbsp;<span class="string" id="7959376">`&#39;\t&#39;`</span><span class="op" id="7959382">}</span><span class="op" id="7959383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959386">{</span><span class="ident" id="7959387">Char</span><span class="op" id="7959391">,</span>&nbsp;<span class="string" id="7959393">`&#39;\v&#39;`</span><span class="op" id="7959399">}</span><span class="op" id="7959400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959403">{</span><span class="ident" id="7959404">Char</span><span class="op" id="7959408">,</span>&nbsp;<span class="string" id="7959410">`&#39;\&#39;&#39;`</span><span class="op" id="7959416">}</span><span class="op" id="7959417">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959420">{</span><span class="ident" id="7959421">Char</span><span class="op" id="7959425">,</span>&nbsp;<span class="string" id="7959427">`&#39;\000&#39;`</span><span class="op" id="7959435">}</span><span class="op" id="7959436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959439">{</span><span class="ident" id="7959440">Char</span><span class="op" id="7959444">,</span>&nbsp;<span class="string" id="7959446">`&#39;\777&#39;`</span><span class="op" id="7959454">}</span><span class="op" id="7959455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959458">{</span><span class="ident" id="7959459">Char</span><span class="op" id="7959463">,</span>&nbsp;<span class="string" id="7959465">`&#39;\x00&#39;`</span><span class="op" id="7959473">}</span><span class="op" id="7959474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959477">{</span><span class="ident" id="7959478">Char</span><span class="op" id="7959482">,</span>&nbsp;<span class="string" id="7959484">`&#39;\xff&#39;`</span><span class="op" id="7959492">}</span><span class="op" id="7959493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959496">{</span><span class="ident" id="7959497">Char</span><span class="op" id="7959501">,</span>&nbsp;<span class="string" id="7959503">`&#39;\u0000&#39;`</span><span class="op" id="7959513">}</span><span class="op" id="7959514">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959517">{</span><span class="ident" id="7959518">Char</span><span class="op" id="7959522">,</span>&nbsp;<span class="string" id="7959524">`&#39;\ufA16&#39;`</span><span class="op" id="7959534">}</span><span class="op" id="7959535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959538">{</span><span class="ident" id="7959539">Char</span><span class="op" id="7959543">,</span>&nbsp;<span class="string" id="7959545">`&#39;\U00000000&#39;`</span><span class="op" id="7959559">}</span><span class="op" id="7959560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959563">{</span><span class="ident" id="7959564">Char</span><span class="op" id="7959568">,</span>&nbsp;<span class="string" id="7959570">`&#39;\U0000ffAB&#39;`</span><span class="op" id="7959584">}</span><span class="op" id="7959585">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959589">{</span><span class="ident" id="7959590">Comment</span><span class="op" id="7959597">,</span>&nbsp;<span class="string" id="7959599">&#34;//&nbsp;strings&#34;</span><span class="op" id="7959611">}</span><span class="op" id="7959612">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959615">{</span><span class="ident" id="7959616">String</span><span class="op" id="7959622">,</span>&nbsp;<span class="string" id="7959624">`&#34;&nbsp;&#34;`</span><span class="op" id="7959629">}</span><span class="op" id="7959630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959633">{</span><span class="ident" id="7959634">String</span><span class="op" id="7959640">,</span>&nbsp;<span class="string" id="7959642">`&#34;a&#34;`</span><span class="op" id="7959647">}</span><span class="op" id="7959648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959651">{</span><span class="ident" id="7959652">String</span><span class="op" id="7959658">,</span>&nbsp;<span class="string" id="7959660">`&#34;本&#34;`</span><span class="op" id="7959667">}</span><span class="op" id="7959668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959671">{</span><span class="ident" id="7959672">String</span><span class="op" id="7959678">,</span>&nbsp;<span class="string" id="7959680">`&#34;\a&#34;`</span><span class="op" id="7959686">}</span><span class="op" id="7959687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959690">{</span><span class="ident" id="7959691">String</span><span class="op" id="7959697">,</span>&nbsp;<span class="string" id="7959699">`&#34;\b&#34;`</span><span class="op" id="7959705">}</span><span class="op" id="7959706">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959709">{</span><span class="ident" id="7959710">String</span><span class="op" id="7959716">,</span>&nbsp;<span class="string" id="7959718">`&#34;\f&#34;`</span><span class="op" id="7959724">}</span><span class="op" id="7959725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959728">{</span><span class="ident" id="7959729">String</span><span class="op" id="7959735">,</span>&nbsp;<span class="string" id="7959737">`&#34;\n&#34;`</span><span class="op" id="7959743">}</span><span class="op" id="7959744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959747">{</span><span class="ident" id="7959748">String</span><span class="op" id="7959754">,</span>&nbsp;<span class="string" id="7959756">`&#34;\r&#34;`</span><span class="op" id="7959762">}</span><span class="op" id="7959763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959766">{</span><span class="ident" id="7959767">String</span><span class="op" id="7959773">,</span>&nbsp;<span class="string" id="7959775">`&#34;\t&#34;`</span><span class="op" id="7959781">}</span><span class="op" id="7959782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959785">{</span><span class="ident" id="7959786">String</span><span class="op" id="7959792">,</span>&nbsp;<span class="string" id="7959794">`&#34;\v&#34;`</span><span class="op" id="7959800">}</span><span class="op" id="7959801">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959804">{</span><span class="ident" id="7959805">String</span><span class="op" id="7959811">,</span>&nbsp;<span class="string" id="7959813">`&#34;\&#34;&#34;`</span><span class="op" id="7959819">}</span><span class="op" id="7959820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959823">{</span><span class="ident" id="7959824">String</span><span class="op" id="7959830">,</span>&nbsp;<span class="string" id="7959832">`&#34;\000&#34;`</span><span class="op" id="7959840">}</span><span class="op" id="7959841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959844">{</span><span class="ident" id="7959845">String</span><span class="op" id="7959851">,</span>&nbsp;<span class="string" id="7959853">`&#34;\777&#34;`</span><span class="op" id="7959861">}</span><span class="op" id="7959862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959865">{</span><span class="ident" id="7959866">String</span><span class="op" id="7959872">,</span>&nbsp;<span class="string" id="7959874">`&#34;\x00&#34;`</span><span class="op" id="7959882">}</span><span class="op" id="7959883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959886">{</span><span class="ident" id="7959887">String</span><span class="op" id="7959893">,</span>&nbsp;<span class="string" id="7959895">`&#34;\xff&#34;`</span><span class="op" id="7959903">}</span><span class="op" id="7959904">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959907">{</span><span class="ident" id="7959908">String</span><span class="op" id="7959914">,</span>&nbsp;<span class="string" id="7959916">`&#34;\u0000&#34;`</span><span class="op" id="7959926">}</span><span class="op" id="7959927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959930">{</span><span class="ident" id="7959931">String</span><span class="op" id="7959937">,</span>&nbsp;<span class="string" id="7959939">`&#34;\ufA16&#34;`</span><span class="op" id="7959949">}</span><span class="op" id="7959950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959953">{</span><span class="ident" id="7959954">String</span><span class="op" id="7959960">,</span>&nbsp;<span class="string" id="7959962">`&#34;\U00000000&#34;`</span><span class="op" id="7959976">}</span><span class="op" id="7959977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959980">{</span><span class="ident" id="7959981">String</span><span class="op" id="7959987">,</span>&nbsp;<span class="string" id="7959989">`&#34;\U0000ffAB&#34;`</span><span class="op" id="7960003">}</span><span class="op" id="7960004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960007">{</span><span class="ident" id="7960008">String</span><span class="op" id="7960014">,</span>&nbsp;<span class="string" id="7960016">`&#34;`</span>&nbsp;<span class="op" id="7960020">+</span>&nbsp;<span class="ident" id="7960022">f100</span>&nbsp;<span class="op" id="7960027">+</span>&nbsp;<span class="string" id="7960029">`&#34;`</span><span class="op" id="7960032">}</span><span class="op" id="7960033">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960037">{</span><span class="ident" id="7960038">Comment</span><span class="op" id="7960045">,</span>&nbsp;<span class="string" id="7960047">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="7960063">}</span><span class="op" id="7960064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960067">{</span><span class="ident" id="7960068">String</span><span class="op" id="7960074">,</span>&nbsp;<span class="string" id="7960076">&#34;``&#34;</span><span class="op" id="7960080">}</span><span class="op" id="7960081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960084">{</span><span class="ident" id="7960085">String</span><span class="op" id="7960091">,</span>&nbsp;<span class="string" id="7960093">&#34;`\\`&#34;</span><span class="op" id="7960099">}</span><span class="op" id="7960100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960103">{</span><span class="ident" id="7960104">String</span><span class="op" id="7960110">,</span>&nbsp;<span class="string" id="7960112">&#34;`&#34;</span>&nbsp;<span class="op" id="7960116">+</span>&nbsp;<span class="string" id="7960118">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="7960141">+</span>&nbsp;<span class="string" id="7960143">&#34;`&#34;</span><span class="op" id="7960146">}</span><span class="op" id="7960147">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960150">{</span><span class="ident" id="7960151">String</span><span class="op" id="7960157">,</span>&nbsp;<span class="string" id="7960159">&#34;`&#34;</span>&nbsp;<span class="op" id="7960163">+</span>&nbsp;<span class="ident" id="7960165">f100</span>&nbsp;<span class="op" id="7960170">+</span>&nbsp;<span class="string" id="7960172">&#34;`&#34;</span><span class="op" id="7960175">}</span><span class="op" id="7960176">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960180">{</span><span class="ident" id="7960181">Comment</span><span class="op" id="7960188">,</span>&nbsp;<span class="string" id="7960190">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="7960216">}</span><span class="op" id="7960217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7960220">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960253">{</span><span class="string" id="7960254">&#39;\x01&#39;</span><span class="op" id="7960260">,</span>&nbsp;<span class="string" id="7960262">&#34;\x01&#34;</span><span class="op" id="7960268">}</span><span class="op" id="7960269">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960272">{</span><span class="string" id="7960273">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7960277">-</span>&nbsp;<span class="num" id="7960279">1</span><span class="op" id="7960280">,</span>&nbsp;<span class="builtintype" id="7960282">string</span><span class="op" id="7960288">(</span><span class="string" id="7960289">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7960293">-</span>&nbsp;<span class="num" id="7960295">1</span><span class="op" id="7960296">)</span><span class="op" id="7960297">}</span><span class="op" id="7960298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960301">{</span><span class="string" id="7960302">&#39;+&#39;</span><span class="op" id="7960305">,</span>&nbsp;<span class="string" id="7960307">&#34;+&#34;</span><span class="op" id="7960310">}</span><span class="op" id="7960311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960314">{</span><span class="string" id="7960315">&#39;/&#39;</span><span class="op" id="7960318">,</span>&nbsp;<span class="string" id="7960320">&#34;/&#34;</span><span class="op" id="7960323">}</span><span class="op" id="7960324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960327">{</span><span class="string" id="7960328">&#39;.&#39;</span><span class="op" id="7960331">,</span>&nbsp;<span class="string" id="7960333">&#34;.&#34;</span><span class="op" id="7960336">}</span><span class="op" id="7960337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960340">{</span><span class="string" id="7960341">&#39;~&#39;</span><span class="op" id="7960344">,</span>&nbsp;<span class="string" id="7960346">&#34;~&#34;</span><span class="op" id="7960349">}</span><span class="op" id="7960350">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960353">{</span><span class="string" id="7960354">&#39;(&#39;</span><span class="op" id="7960357">,</span>&nbsp;<span class="string" id="7960359">&#34;(&#34;</span><span class="op" id="7960362">}</span><span class="op" id="7960363">,</span><br>
<span class="lineno"></span><span class="op" id="7960365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7960368">func</span>&nbsp;<span class="ident" id="7960373">makeSource</span><span class="op" id="7960383">(</span><span class="ident" id="7960384">pattern</span>&nbsp;<span class="builtintype" id="7960392">string</span><span class="op" id="7960398">)</span>&nbsp;<span class="op" id="7960400">*</span><span class="ident" id="7960401">bytes</span><span class="op" id="7960406">.</span><span class="ident" id="7960407">Buffer</span>&nbsp;<span class="op" id="7960414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960417">var</span>&nbsp;<span class="ident" id="7960421">buf</span>&nbsp;<span class="ident" id="7960425">bytes</span><span class="op" id="7960430">.</span><span class="ident" id="7960431">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960439">for</span>&nbsp;<span class="ident" id="7960443">_</span><span class="op" id="7960444">,</span>&nbsp;<span class="ident" id="7960446">k</span>&nbsp;<span class="op" id="7960448">:=</span>&nbsp;<span class="keyword" id="7960451">range</span>&nbsp;<span class="ident" id="7960457">tokenList</span>&nbsp;<span class="op" id="7960467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960471">fmt</span><span class="op" id="7960474">.</span><span class="ident" id="7960475">Fprintf</span><span class="op" id="7960482">(</span><span class="op" id="7960483">&amp;</span><span class="ident" id="7960484">buf</span><span class="op" id="7960487">,</span>&nbsp;<span class="ident" id="7960489">pattern</span><span class="op" id="7960496">,</span>&nbsp;<span class="ident" id="7960498">k</span><span class="op" id="7960499">.</span><span class="ident" id="7960500">text</span><span class="op" id="7960504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960510">return</span>&nbsp;<span class="op" id="7960517">&amp;</span><span class="ident" id="7960518">buf</span><br>
<span class="lineno"></span><span class="op" id="7960522">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="7960525">func</span>&nbsp;<span class="ident" id="7960530">checkTok</span><span class="op" id="7960538">(</span><span class="ident" id="7960539">t</span>&nbsp;<span class="op" id="7960541">*</span><span class="ident" id="7960542">testing</span><span class="op" id="7960549">.</span><span class="ident" id="7960550">T</span><span class="op" id="7960551">,</span>&nbsp;<span class="ident" id="7960553">s</span>&nbsp;<span class="op" id="7960555">*</span><span class="ident" id="7960556">Scanner</span><span class="op" id="7960563">,</span>&nbsp;<span class="ident" id="7960565">line</span>&nbsp;<span class="builtintype" id="7960570">int</span><span class="op" id="7960573">,</span>&nbsp;<span class="ident" id="7960575">got</span><span class="op" id="7960578">,</span>&nbsp;<span class="ident" id="7960580">want</span>&nbsp;<span class="builtintype" id="7960585">rune</span><span class="op" id="7960589">,</span>&nbsp;<span class="ident" id="7960591">text</span>&nbsp;<span class="builtintype" id="7960596">string</span><span class="op" id="7960602">)</span>&nbsp;<span class="op" id="7960604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960607">if</span>&nbsp;<span class="ident" id="7960610">got</span>&nbsp;<span class="op" id="7960614">!=</span>&nbsp;<span class="ident" id="7960617">want</span>&nbsp;<span class="op" id="7960622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960626">t</span><span class="op" id="7960627">.</span><span class="ident" id="7960628">Fatalf</span><span class="op" id="7960634">(</span><span class="string" id="7960635">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7960661">,</span>&nbsp;<span class="ident" id="7960663">TokenString</span><span class="op" id="7960674">(</span><span class="ident" id="7960675">got</span><span class="op" id="7960678">)</span><span class="op" id="7960679">,</span>&nbsp;<span class="ident" id="7960681">TokenString</span><span class="op" id="7960692">(</span><span class="ident" id="7960693">want</span><span class="op" id="7960697">)</span><span class="op" id="7960698">,</span>&nbsp;<span class="ident" id="7960700">text</span><span class="op" id="7960704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960707">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960710">if</span>&nbsp;<span class="ident" id="7960713">s</span><span class="op" id="7960714">.</span><span class="ident" id="7960715">Line</span>&nbsp;<span class="op" id="7960720">!=</span>&nbsp;<span class="ident" id="7960723">line</span>&nbsp;<span class="op" id="7960728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960732">t</span><span class="op" id="7960733">.</span><span class="ident" id="7960734">Errorf</span><span class="op" id="7960740">(</span><span class="string" id="7960741">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7960768">,</span>&nbsp;<span class="ident" id="7960770">s</span><span class="op" id="7960771">.</span><span class="ident" id="7960772">Line</span><span class="op" id="7960776">,</span>&nbsp;<span class="ident" id="7960778">line</span><span class="op" id="7960782">,</span>&nbsp;<span class="ident" id="7960784">text</span><span class="op" id="7960788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960794">stext</span>&nbsp;<span class="op" id="7960800">:=</span>&nbsp;<span class="ident" id="7960803">s</span><span class="op" id="7960804">.</span><span class="ident" id="7960805">TokenText</span><span class="op" id="7960814">(</span><span class="op" id="7960815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960818">if</span>&nbsp;<span class="ident" id="7960821">stext</span>&nbsp;<span class="op" id="7960827">!=</span>&nbsp;<span class="ident" id="7960830">text</span>&nbsp;<span class="op" id="7960835">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960839">t</span><span class="op" id="7960840">.</span><span class="ident" id="7960841">Errorf</span><span class="op" id="7960847">(</span><span class="string" id="7960848">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7960868">,</span>&nbsp;<span class="ident" id="7960870">stext</span><span class="op" id="7960875">,</span>&nbsp;<span class="ident" id="7960877">text</span><span class="op" id="7960881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960884">}</span>&nbsp;<span class="keyword" id="7960886">else</span>&nbsp;<span class="op" id="7960891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7960895">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960938">stext</span>&nbsp;<span class="op" id="7960944">=</span>&nbsp;<span class="ident" id="7960946">s</span><span class="op" id="7960947">.</span><span class="ident" id="7960948">TokenText</span><span class="op" id="7960957">(</span><span class="op" id="7960958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7960962">if</span>&nbsp;<span class="ident" id="7960965">stext</span>&nbsp;<span class="op" id="7960971">!=</span>&nbsp;<span class="ident" id="7960974">text</span>&nbsp;<span class="op" id="7960979">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960984">t</span><span class="op" id="7960985">.</span><span class="ident" id="7960986">Errorf</span><span class="op" id="7960992">(</span><span class="string" id="7960993">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="7961033">,</span>&nbsp;<span class="ident" id="7961035">stext</span><span class="op" id="7961040">,</span>&nbsp;<span class="ident" id="7961042">text</span><span class="op" id="7961046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961053">}</span><br>
<span class="lineno"></span><span class="op" id="7961055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="7961058">func</span>&nbsp;<span class="ident" id="7961063">countNewlines</span><span class="op" id="7961076">(</span><span class="ident" id="7961077">s</span>&nbsp;<span class="builtintype" id="7961079">string</span><span class="op" id="7961085">)</span>&nbsp;<span class="builtintype" id="7961087">int</span>&nbsp;<span class="op" id="7961091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961094">n</span>&nbsp;<span class="op" id="7961096">:=</span>&nbsp;<span class="num" id="7961099">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961102">for</span>&nbsp;<span class="ident" id="7961106">_</span><span class="op" id="7961107">,</span>&nbsp;<span class="ident" id="7961109">ch</span>&nbsp;<span class="op" id="7961112">:=</span>&nbsp;<span class="keyword" id="7961115">range</span>&nbsp;<span class="ident" id="7961121">s</span>&nbsp;<span class="op" id="7961123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961127">if</span>&nbsp;<span class="ident" id="7961130">ch</span>&nbsp;<span class="op" id="7961133">==</span>&nbsp;<span class="string" id="7961136">&#39;\n&#39;</span>&nbsp;<span class="op" id="7961141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961146">n</span><span class="op" id="7961147">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961158">return</span>&nbsp;<span class="ident" id="7961165">n</span><br>
<span class="lineno"></span><span class="op" id="7961167">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="7961170">func</span>&nbsp;<span class="ident" id="7961175">testScan</span><span class="op" id="7961183">(</span><span class="ident" id="7961184">t</span>&nbsp;<span class="op" id="7961186">*</span><span class="ident" id="7961187">testing</span><span class="op" id="7961194">.</span><span class="ident" id="7961195">T</span><span class="op" id="7961196">,</span>&nbsp;<span class="ident" id="7961198">mode</span>&nbsp;<span class="builtintype" id="7961203">uint</span><span class="op" id="7961207">)</span>&nbsp;<span class="op" id="7961209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961212">s</span>&nbsp;<span class="op" id="7961214">:=</span>&nbsp;<span class="builtinfunc" id="7961217">new</span><span class="op" id="7961220">(</span><span class="ident" id="7961221">Scanner</span><span class="op" id="7961228">)</span><span class="op" id="7961229">.</span><span class="ident" id="7961230">Init</span><span class="op" id="7961234">(</span><span class="ident" id="7961235">makeSource</span><span class="op" id="7961245">(</span><span class="string" id="7961246">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="7961255">)</span><span class="op" id="7961256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961259">s</span><span class="op" id="7961260">.</span><span class="ident" id="7961261">Mode</span>&nbsp;<span class="op" id="7961266">=</span>&nbsp;<span class="ident" id="7961268">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961274">tok</span>&nbsp;<span class="op" id="7961278">:=</span>&nbsp;<span class="ident" id="7961281">s</span><span class="op" id="7961282">.</span><span class="ident" id="7961283">Scan</span><span class="op" id="7961287">(</span><span class="op" id="7961288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961291">line</span>&nbsp;<span class="op" id="7961296">:=</span>&nbsp;<span class="num" id="7961299">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961302">for</span>&nbsp;<span class="ident" id="7961306">_</span><span class="op" id="7961307">,</span>&nbsp;<span class="ident" id="7961309">k</span>&nbsp;<span class="op" id="7961311">:=</span>&nbsp;<span class="keyword" id="7961314">range</span>&nbsp;<span class="ident" id="7961320">tokenList</span>&nbsp;<span class="op" id="7961330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961334">if</span>&nbsp;<span class="ident" id="7961337">mode</span><span class="op" id="7961341">&amp;</span><span class="ident" id="7961342">SkipComments</span>&nbsp;<span class="op" id="7961355">==</span>&nbsp;<span class="num" id="7961358">0</span>&nbsp;<span class="op" id="7961360">||</span>&nbsp;<span class="ident" id="7961363">k</span><span class="op" id="7961364">.</span><span class="ident" id="7961365">tok</span>&nbsp;<span class="op" id="7961369">!=</span>&nbsp;<span class="ident" id="7961372">Comment</span>&nbsp;<span class="op" id="7961380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961385">checkTok</span><span class="op" id="7961393">(</span><span class="ident" id="7961394">t</span><span class="op" id="7961395">,</span>&nbsp;<span class="ident" id="7961397">s</span><span class="op" id="7961398">,</span>&nbsp;<span class="ident" id="7961400">line</span><span class="op" id="7961404">,</span>&nbsp;<span class="ident" id="7961406">tok</span><span class="op" id="7961409">,</span>&nbsp;<span class="ident" id="7961411">k</span><span class="op" id="7961412">.</span><span class="ident" id="7961413">tok</span><span class="op" id="7961416">,</span>&nbsp;<span class="ident" id="7961418">k</span><span class="op" id="7961419">.</span><span class="ident" id="7961420">text</span><span class="op" id="7961424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961429">tok</span>&nbsp;<span class="op" id="7961433">=</span>&nbsp;<span class="ident" id="7961435">s</span><span class="op" id="7961436">.</span><span class="ident" id="7961437">Scan</span><span class="op" id="7961441">(</span><span class="op" id="7961442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961446">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961450">line</span>&nbsp;<span class="op" id="7961455">+=</span>&nbsp;<span class="ident" id="7961458">countNewlines</span><span class="op" id="7961471">(</span><span class="ident" id="7961472">k</span><span class="op" id="7961473">.</span><span class="ident" id="7961474">text</span><span class="op" id="7961478">)</span>&nbsp;<span class="op" id="7961480">+</span>&nbsp;<span class="num" id="7961482">1</span>&nbsp;<span class="comment" id="7961484">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961519">checkTok</span><span class="op" id="7961527">(</span><span class="ident" id="7961528">t</span><span class="op" id="7961529">,</span>&nbsp;<span class="ident" id="7961531">s</span><span class="op" id="7961532">,</span>&nbsp;<span class="ident" id="7961534">line</span><span class="op" id="7961538">,</span>&nbsp;<span class="ident" id="7961540">tok</span><span class="op" id="7961543">,</span>&nbsp;<span class="ident" id="7961545">EOF</span><span class="op" id="7961548">,</span>&nbsp;<span class="string" id="7961550">&#34;&#34;</span><span class="op" id="7961552">)</span><br>
<span class="lineno"></span><span class="op" id="7961554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="7961557">func</span>&nbsp;<span class="ident" id="7961562">TestScan</span><span class="op" id="7961570">(</span><span class="ident" id="7961571">t</span>&nbsp;<span class="op" id="7961573">*</span><span class="ident" id="7961574">testing</span><span class="op" id="7961581">.</span><span class="ident" id="7961582">T</span><span class="op" id="7961583">)</span>&nbsp;<span class="op" id="7961585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961588">testScan</span><span class="op" id="7961596">(</span><span class="ident" id="7961597">t</span><span class="op" id="7961598">,</span>&nbsp;<span class="ident" id="7961600">GoTokens</span><span class="op" id="7961608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961611">testScan</span><span class="op" id="7961619">(</span><span class="ident" id="7961620">t</span><span class="op" id="7961621">,</span>&nbsp;<span class="ident" id="7961623">GoTokens</span><span class="op" id="7961631">&amp;^</span><span class="ident" id="7961633">SkipComments</span><span class="op" id="7961645">)</span><br>
<span class="lineno"></span><span class="op" id="7961647">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="7961650">func</span>&nbsp;<span class="ident" id="7961655">TestPosition</span><span class="op" id="7961667">(</span><span class="ident" id="7961668">t</span>&nbsp;<span class="op" id="7961670">*</span><span class="ident" id="7961671">testing</span><span class="op" id="7961678">.</span><span class="ident" id="7961679">T</span><span class="op" id="7961680">)</span>&nbsp;<span class="op" id="7961682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961685">src</span>&nbsp;<span class="op" id="7961689">:=</span>&nbsp;<span class="ident" id="7961692">makeSource</span><span class="op" id="7961702">(</span><span class="string" id="7961703">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="7961717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961720">s</span>&nbsp;<span class="op" id="7961722">:=</span>&nbsp;<span class="builtinfunc" id="7961725">new</span><span class="op" id="7961728">(</span><span class="ident" id="7961729">Scanner</span><span class="op" id="7961736">)</span><span class="op" id="7961737">.</span><span class="ident" id="7961738">Init</span><span class="op" id="7961742">(</span><span class="ident" id="7961743">src</span><span class="op" id="7961746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961749">s</span><span class="op" id="7961750">.</span><span class="ident" id="7961751">Mode</span>&nbsp;<span class="op" id="7961756">=</span>&nbsp;<span class="ident" id="7961758">GoTokens</span>&nbsp;<span class="op" id="7961767">&amp;^</span>&nbsp;<span class="ident" id="7961770">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961784">s</span><span class="op" id="7961785">.</span><span class="ident" id="7961786">Scan</span><span class="op" id="7961790">(</span><span class="op" id="7961791">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961794">pos</span>&nbsp;<span class="op" id="7961798">:=</span>&nbsp;<span class="ident" id="7961801">Position</span><span class="op" id="7961809">{</span><span class="string" id="7961810">&#34;&#34;</span><span class="op" id="7961812">,</span>&nbsp;<span class="num" id="7961814">4</span><span class="op" id="7961815">,</span>&nbsp;<span class="num" id="7961817">1</span><span class="op" id="7961818">,</span>&nbsp;<span class="num" id="7961820">5</span><span class="op" id="7961821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961824">for</span>&nbsp;<span class="ident" id="7961828">_</span><span class="op" id="7961829">,</span>&nbsp;<span class="ident" id="7961831">k</span>&nbsp;<span class="op" id="7961833">:=</span>&nbsp;<span class="keyword" id="7961836">range</span>&nbsp;<span class="ident" id="7961842">tokenList</span>&nbsp;<span class="op" id="7961852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961856">if</span>&nbsp;<span class="ident" id="7961859">s</span><span class="op" id="7961860">.</span><span class="ident" id="7961861">Offset</span>&nbsp;<span class="op" id="7961868">!=</span>&nbsp;<span class="ident" id="7961871">pos</span><span class="op" id="7961874">.</span><span class="ident" id="7961875">Offset</span>&nbsp;<span class="op" id="7961882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961887">t</span><span class="op" id="7961888">.</span><span class="ident" id="7961889">Errorf</span><span class="op" id="7961895">(</span><span class="string" id="7961896">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7961925">,</span>&nbsp;<span class="ident" id="7961927">s</span><span class="op" id="7961928">.</span><span class="ident" id="7961929">Offset</span><span class="op" id="7961935">,</span>&nbsp;<span class="ident" id="7961937">pos</span><span class="op" id="7961940">.</span><span class="ident" id="7961941">Offset</span><span class="op" id="7961947">,</span>&nbsp;<span class="ident" id="7961949">k</span><span class="op" id="7961950">.</span><span class="ident" id="7961951">text</span><span class="op" id="7961955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961959">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7961963">if</span>&nbsp;<span class="ident" id="7961966">s</span><span class="op" id="7961967">.</span><span class="ident" id="7961968">Line</span>&nbsp;<span class="op" id="7961973">!=</span>&nbsp;<span class="ident" id="7961976">pos</span><span class="op" id="7961979">.</span><span class="ident" id="7961980">Line</span>&nbsp;<span class="op" id="7961985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961990">t</span><span class="op" id="7961991">.</span><span class="ident" id="7961992">Errorf</span><span class="op" id="7961998">(</span><span class="string" id="7961999">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7962026">,</span>&nbsp;<span class="ident" id="7962028">s</span><span class="op" id="7962029">.</span><span class="ident" id="7962030">Line</span><span class="op" id="7962034">,</span>&nbsp;<span class="ident" id="7962036">pos</span><span class="op" id="7962039">.</span><span class="ident" id="7962040">Line</span><span class="op" id="7962044">,</span>&nbsp;<span class="ident" id="7962046">k</span><span class="op" id="7962047">.</span><span class="ident" id="7962048">text</span><span class="op" id="7962052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7962060">if</span>&nbsp;<span class="ident" id="7962063">s</span><span class="op" id="7962064">.</span><span class="ident" id="7962065">Column</span>&nbsp;<span class="op" id="7962072">!=</span>&nbsp;<span class="ident" id="7962075">pos</span><span class="op" id="7962078">.</span><span class="ident" id="7962079">Column</span>&nbsp;<span class="op" id="7962086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962091">t</span><span class="op" id="7962092">.</span><span class="ident" id="7962093">Errorf</span><span class="op" id="7962099">(</span><span class="string" id="7962100">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7962129">,</span>&nbsp;<span class="ident" id="7962131">s</span><span class="op" id="7962132">.</span><span class="ident" id="7962133">Column</span><span class="op" id="7962139">,</span>&nbsp;<span class="ident" id="7962141">pos</span><span class="op" id="7962144">.</span><span class="ident" id="7962145">Column</span><span class="op" id="7962151">,</span>&nbsp;<span class="ident" id="7962153">k</span><span class="op" id="7962154">.</span><span class="ident" id="7962155">text</span><span class="op" id="7962159">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962167">pos</span><span class="op" id="7962170">.</span><span class="ident" id="7962171">Offset</span>&nbsp;<span class="op" id="7962178">+=</span>&nbsp;<span class="num" id="7962181">4</span>&nbsp;<span class="op" id="7962183">+</span>&nbsp;<span class="builtinfunc" id="7962185">len</span><span class="op" id="7962188">(</span><span class="ident" id="7962189">k</span><span class="op" id="7962190">.</span><span class="ident" id="7962191">text</span><span class="op" id="7962195">)</span>&nbsp;<span class="op" id="7962197">+</span>&nbsp;<span class="num" id="7962199">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7962205">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962241">pos</span><span class="op" id="7962244">.</span><span class="ident" id="7962245">Line</span>&nbsp;<span class="op" id="7962250">+=</span>&nbsp;<span class="ident" id="7962253">countNewlines</span><span class="op" id="7962266">(</span><span class="ident" id="7962267">k</span><span class="op" id="7962268">.</span><span class="ident" id="7962269">text</span><span class="op" id="7962273">)</span>&nbsp;<span class="op" id="7962275">+</span>&nbsp;<span class="num" id="7962277">1</span>&nbsp;<span class="comment" id="7962279">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962312">s</span><span class="op" id="7962313">.</span><span class="ident" id="7962314">Scan</span><span class="op" id="7962318">(</span><span class="op" id="7962319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962322">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7962325">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7962395">if</span>&nbsp;<span class="ident" id="7962398">s</span><span class="op" id="7962399">.</span><span class="ident" id="7962400">ErrorCount</span>&nbsp;<span class="op" id="7962411">!=</span>&nbsp;<span class="num" id="7962414">0</span>&nbsp;<span class="op" id="7962416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962420">t</span><span class="op" id="7962421">.</span><span class="ident" id="7962422">Errorf</span><span class="op" id="7962428">(</span><span class="string" id="7962429">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7962440">,</span>&nbsp;<span class="ident" id="7962442">s</span><span class="op" id="7962443">.</span><span class="ident" id="7962444">ErrorCount</span><span class="op" id="7962454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962457">}</span><br>
<span class="lineno"></span><span class="op" id="7962459">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="7962462">func</span>&nbsp;<span class="ident" id="7962467">TestScanZeroMode</span><span class="op" id="7962483">(</span><span class="ident" id="7962484">t</span>&nbsp;<span class="op" id="7962486">*</span><span class="ident" id="7962487">testing</span><span class="op" id="7962494">.</span><span class="ident" id="7962495">T</span><span class="op" id="7962496">)</span>&nbsp;<span class="op" id="7962498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962501">src</span>&nbsp;<span class="op" id="7962505">:=</span>&nbsp;<span class="ident" id="7962508">makeSource</span><span class="op" id="7962518">(</span><span class="string" id="7962519">&#34;%s\n&#34;</span><span class="op" id="7962525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962528">str</span>&nbsp;<span class="op" id="7962532">:=</span>&nbsp;<span class="ident" id="7962535">src</span><span class="op" id="7962538">.</span><span class="ident" id="7962539">String</span><span class="op" id="7962545">(</span><span class="op" id="7962546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962549">s</span>&nbsp;<span class="op" id="7962551">:=</span>&nbsp;<span class="builtinfunc" id="7962554">new</span><span class="op" id="7962557">(</span><span class="ident" id="7962558">Scanner</span><span class="op" id="7962565">)</span><span class="op" id="7962566">.</span><span class="ident" id="7962567">Init</span><span class="op" id="7962571">(</span><span class="ident" id="7962572">src</span><span class="op" id="7962575">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962578">s</span><span class="op" id="7962579">.</span><span class="ident" id="7962580">Mode</span>&nbsp;<span class="op" id="7962585">=</span>&nbsp;<span class="num" id="7962587">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7962595">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962633">s</span><span class="op" id="7962634">.</span><span class="ident" id="7962635">Whitespace</span>&nbsp;<span class="op" id="7962646">=</span>&nbsp;<span class="num" id="7962648">0</span>&nbsp;<span class="comment" id="7962650">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962680">tok</span>&nbsp;<span class="op" id="7962684">:=</span>&nbsp;<span class="ident" id="7962687">s</span><span class="op" id="7962688">.</span><span class="ident" id="7962689">Scan</span><span class="op" id="7962693">(</span><span class="op" id="7962694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7962697">for</span>&nbsp;<span class="ident" id="7962701">i</span><span class="op" id="7962702">,</span>&nbsp;<span class="ident" id="7962704">ch</span>&nbsp;<span class="op" id="7962707">:=</span>&nbsp;<span class="keyword" id="7962710">range</span>&nbsp;<span class="ident" id="7962716">str</span>&nbsp;<span class="op" id="7962720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7962724">if</span>&nbsp;<span class="ident" id="7962727">tok</span>&nbsp;<span class="op" id="7962731">!=</span>&nbsp;<span class="ident" id="7962734">ch</span>&nbsp;<span class="op" id="7962737">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962742">t</span><span class="op" id="7962743">.</span><span class="ident" id="7962744">Fatalf</span><span class="op" id="7962750">(</span><span class="string" id="7962751">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7962774">,</span>&nbsp;<span class="ident" id="7962776">i</span><span class="op" id="7962777">,</span>&nbsp;<span class="ident" id="7962779">TokenString</span><span class="op" id="7962790">(</span><span class="ident" id="7962791">tok</span><span class="op" id="7962794">)</span><span class="op" id="7962795">,</span>&nbsp;<span class="ident" id="7962797">TokenString</span><span class="op" id="7962808">(</span><span class="ident" id="7962809">ch</span><span class="op" id="7962811">)</span><span class="op" id="7962812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962820">tok</span>&nbsp;<span class="op" id="7962824">=</span>&nbsp;<span class="ident" id="7962826">s</span><span class="op" id="7962827">.</span><span class="ident" id="7962828">Scan</span><span class="op" id="7962832">(</span><span class="op" id="7962833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7962839">if</span>&nbsp;<span class="ident" id="7962842">tok</span>&nbsp;<span class="op" id="7962846">!=</span>&nbsp;<span class="ident" id="7962849">EOF</span>&nbsp;<span class="op" id="7962853">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962857">t</span><span class="op" id="7962858">.</span><span class="ident" id="7962859">Fatalf</span><span class="op" id="7962865">(</span><span class="string" id="7962866">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7962886">,</span>&nbsp;<span class="ident" id="7962888">TokenString</span><span class="op" id="7962899">(</span><span class="ident" id="7962900">tok</span><span class="op" id="7962903">)</span><span class="op" id="7962904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7962910">if</span>&nbsp;<span class="ident" id="7962913">s</span><span class="op" id="7962914">.</span><span class="ident" id="7962915">ErrorCount</span>&nbsp;<span class="op" id="7962926">!=</span>&nbsp;<span class="num" id="7962929">0</span>&nbsp;<span class="op" id="7962931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962935">t</span><span class="op" id="7962936">.</span><span class="ident" id="7962937">Errorf</span><span class="op" id="7962943">(</span><span class="string" id="7962944">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7962955">,</span>&nbsp;<span class="ident" id="7962957">s</span><span class="op" id="7962958">.</span><span class="ident" id="7962959">ErrorCount</span><span class="op" id="7962969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962972">}</span><br>
<span class="lineno">330</span><span class="op" id="7962974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7962977">func</span>&nbsp;<span class="ident" id="7962982">testScanSelectedMode</span><span class="op" id="7963002">(</span><span class="ident" id="7963003">t</span>&nbsp;<span class="op" id="7963005">*</span><span class="ident" id="7963006">testing</span><span class="op" id="7963013">.</span><span class="ident" id="7963014">T</span><span class="op" id="7963015">,</span>&nbsp;<span class="ident" id="7963017">mode</span>&nbsp;<span class="builtintype" id="7963022">uint</span><span class="op" id="7963026">,</span>&nbsp;<span class="ident" id="7963028">class</span>&nbsp;<span class="builtintype" id="7963034">rune</span><span class="op" id="7963038">)</span>&nbsp;<span class="op" id="7963040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963043">src</span>&nbsp;<span class="op" id="7963047">:=</span>&nbsp;<span class="ident" id="7963050">makeSource</span><span class="op" id="7963060">(</span><span class="string" id="7963061">&#34;%s\n&#34;</span><span class="op" id="7963067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963070">s</span>&nbsp;<span class="op" id="7963072">:=</span>&nbsp;<span class="builtinfunc" id="7963075">new</span><span class="op" id="7963078">(</span><span class="ident" id="7963079">Scanner</span><span class="op" id="7963086">)</span><span class="op" id="7963087">.</span><span class="ident" id="7963088">Init</span><span class="op" id="7963092">(</span><span class="ident" id="7963093">src</span><span class="op" id="7963096">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963099">s</span><span class="op" id="7963100">.</span><span class="ident" id="7963101">Mode</span>&nbsp;<span class="op" id="7963106">=</span>&nbsp;<span class="ident" id="7963108">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963114">tok</span>&nbsp;<span class="op" id="7963118">:=</span>&nbsp;<span class="ident" id="7963121">s</span><span class="op" id="7963122">.</span><span class="ident" id="7963123">Scan</span><span class="op" id="7963127">(</span><span class="op" id="7963128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963131">for</span>&nbsp;<span class="ident" id="7963135">tok</span>&nbsp;<span class="op" id="7963139">!=</span>&nbsp;<span class="ident" id="7963142">EOF</span>&nbsp;<span class="op" id="7963146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963150">if</span>&nbsp;<span class="ident" id="7963153">tok</span>&nbsp;<span class="op" id="7963157">&lt;</span>&nbsp;<span class="num" id="7963159">0</span>&nbsp;<span class="op" id="7963161">&amp;&amp;</span>&nbsp;<span class="ident" id="7963164">tok</span>&nbsp;<span class="op" id="7963168">!=</span>&nbsp;<span class="ident" id="7963171">class</span>&nbsp;<span class="op" id="7963177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963182">t</span><span class="op" id="7963183">.</span><span class="ident" id="7963184">Fatalf</span><span class="op" id="7963190">(</span><span class="string" id="7963191">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7963210">,</span>&nbsp;<span class="ident" id="7963212">TokenString</span><span class="op" id="7963223">(</span><span class="ident" id="7963224">tok</span><span class="op" id="7963227">)</span><span class="op" id="7963228">,</span>&nbsp;<span class="ident" id="7963230">TokenString</span><span class="op" id="7963241">(</span><span class="ident" id="7963242">class</span><span class="op" id="7963247">)</span><span class="op" id="7963248">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963256">tok</span>&nbsp;<span class="op" id="7963260">=</span>&nbsp;<span class="ident" id="7963262">s</span><span class="op" id="7963263">.</span><span class="ident" id="7963264">Scan</span><span class="op" id="7963268">(</span><span class="op" id="7963269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963275">if</span>&nbsp;<span class="ident" id="7963278">s</span><span class="op" id="7963279">.</span><span class="ident" id="7963280">ErrorCount</span>&nbsp;<span class="op" id="7963291">!=</span>&nbsp;<span class="num" id="7963294">0</span>&nbsp;<span class="op" id="7963296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963300">t</span><span class="op" id="7963301">.</span><span class="ident" id="7963302">Errorf</span><span class="op" id="7963308">(</span><span class="string" id="7963309">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7963320">,</span>&nbsp;<span class="ident" id="7963322">s</span><span class="op" id="7963323">.</span><span class="ident" id="7963324">ErrorCount</span><span class="op" id="7963334">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963337">}</span><br>
<span class="lineno"></span><span class="op" id="7963339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7963342">func</span>&nbsp;<span class="ident" id="7963347">TestScanSelectedMask</span><span class="op" id="7963367">(</span><span class="ident" id="7963368">t</span>&nbsp;<span class="op" id="7963370">*</span><span class="ident" id="7963371">testing</span><span class="op" id="7963378">.</span><span class="ident" id="7963379">T</span><span class="op" id="7963380">)</span>&nbsp;<span class="op" id="7963382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963385">testScanSelectedMode</span><span class="op" id="7963405">(</span><span class="ident" id="7963406">t</span><span class="op" id="7963407">,</span>&nbsp;<span class="num" id="7963409">0</span><span class="op" id="7963410">,</span>&nbsp;<span class="num" id="7963412">0</span><span class="op" id="7963413">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963416">testScanSelectedMode</span><span class="op" id="7963436">(</span><span class="ident" id="7963437">t</span><span class="op" id="7963438">,</span>&nbsp;<span class="ident" id="7963440">ScanIdents</span><span class="op" id="7963450">,</span>&nbsp;<span class="ident" id="7963452">Ident</span><span class="op" id="7963457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7963460">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7963520">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7963580">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963632">testScanSelectedMode</span><span class="op" id="7963652">(</span><span class="ident" id="7963653">t</span><span class="op" id="7963654">,</span>&nbsp;<span class="ident" id="7963656">ScanChars</span><span class="op" id="7963665">,</span>&nbsp;<span class="ident" id="7963667">Char</span><span class="op" id="7963671">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963674">testScanSelectedMode</span><span class="op" id="7963694">(</span><span class="ident" id="7963695">t</span><span class="op" id="7963696">,</span>&nbsp;<span class="ident" id="7963698">ScanStrings</span><span class="op" id="7963709">,</span>&nbsp;<span class="ident" id="7963711">String</span><span class="op" id="7963717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963720">testScanSelectedMode</span><span class="op" id="7963740">(</span><span class="ident" id="7963741">t</span><span class="op" id="7963742">,</span>&nbsp;<span class="ident" id="7963744">SkipComments</span><span class="op" id="7963756">,</span>&nbsp;<span class="num" id="7963758">0</span><span class="op" id="7963759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963762">testScanSelectedMode</span><span class="op" id="7963782">(</span><span class="ident" id="7963783">t</span><span class="op" id="7963784">,</span>&nbsp;<span class="ident" id="7963786">ScanComments</span><span class="op" id="7963798">,</span>&nbsp;<span class="ident" id="7963800">Comment</span><span class="op" id="7963807">)</span><br>
<span class="lineno"></span><span class="op" id="7963809">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7963812">func</span>&nbsp;<span class="ident" id="7963817">TestScanCustomIdent</span><span class="op" id="7963836">(</span><span class="ident" id="7963837">t</span>&nbsp;<span class="op" id="7963839">*</span><span class="ident" id="7963840">testing</span><span class="op" id="7963847">.</span><span class="ident" id="7963848">T</span><span class="op" id="7963849">)</span>&nbsp;<span class="op" id="7963851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963854">const</span>&nbsp;<span class="ident" id="7963860">src</span>&nbsp;<span class="op" id="7963864">=</span>&nbsp;<span class="string" id="7963866">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963894">s</span>&nbsp;<span class="op" id="7963896">:=</span>&nbsp;<span class="builtinfunc" id="7963899">new</span><span class="op" id="7963902">(</span><span class="ident" id="7963903">Scanner</span><span class="op" id="7963910">)</span><span class="op" id="7963911">.</span><span class="ident" id="7963912">Init</span><span class="op" id="7963916">(</span><span class="ident" id="7963917">strings</span><span class="op" id="7963924">.</span><span class="ident" id="7963925">NewReader</span><span class="op" id="7963934">(</span><span class="ident" id="7963935">src</span><span class="op" id="7963938">)</span><span class="op" id="7963939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7963942">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7963980">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7964005">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964036">s</span><span class="op" id="7964037">.</span><span class="ident" id="7964038">IsIdentRune</span>&nbsp;<span class="op" id="7964050">=</span>&nbsp;<span class="keyword" id="7964052">func</span><span class="op" id="7964056">(</span><span class="ident" id="7964057">ch</span>&nbsp;<span class="builtintype" id="7964060">rune</span><span class="op" id="7964064">,</span>&nbsp;<span class="ident" id="7964066">i</span>&nbsp;<span class="builtintype" id="7964068">int</span><span class="op" id="7964071">)</span>&nbsp;<span class="builtintype" id="7964073">bool</span>&nbsp;<span class="op" id="7964078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964082">return</span>&nbsp;<span class="ident" id="7964089">i</span>&nbsp;<span class="op" id="7964091">==</span>&nbsp;<span class="num" id="7964094">0</span>&nbsp;<span class="op" id="7964096">&amp;&amp;</span>&nbsp;<span class="op" id="7964099">(</span><span class="ident" id="7964100">ch</span>&nbsp;<span class="op" id="7964103">==</span>&nbsp;<span class="string" id="7964106">&#39;a&#39;</span>&nbsp;<span class="op" id="7964110">||</span>&nbsp;<span class="ident" id="7964113">ch</span>&nbsp;<span class="op" id="7964116">==</span>&nbsp;<span class="string" id="7964119">&#39;b&#39;</span><span class="op" id="7964122">)</span>&nbsp;<span class="op" id="7964124">||</span>&nbsp;<span class="num" id="7964127">0</span>&nbsp;<span class="op" id="7964129">&lt;</span>&nbsp;<span class="ident" id="7964131">i</span>&nbsp;<span class="op" id="7964133">&amp;&amp;</span>&nbsp;<span class="ident" id="7964136">i</span>&nbsp;<span class="op" id="7964138">&lt;</span>&nbsp;<span class="num" id="7964140">4</span>&nbsp;<span class="op" id="7964142">&amp;&amp;</span>&nbsp;<span class="string" id="7964145">&#39;0&#39;</span>&nbsp;<span class="op" id="7964149">&lt;=</span>&nbsp;<span class="ident" id="7964152">ch</span>&nbsp;<span class="op" id="7964155">&amp;&amp;</span>&nbsp;<span class="ident" id="7964158">ch</span>&nbsp;<span class="op" id="7964161">&lt;=</span>&nbsp;<span class="string" id="7964164">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964172">checkTok</span><span class="op" id="7964180">(</span><span class="ident" id="7964181">t</span><span class="op" id="7964182">,</span>&nbsp;<span class="ident" id="7964184">s</span><span class="op" id="7964185">,</span>&nbsp;<span class="num" id="7964187">1</span><span class="op" id="7964188">,</span>&nbsp;<span class="ident" id="7964190">s</span><span class="op" id="7964191">.</span><span class="ident" id="7964192">Scan</span><span class="op" id="7964196">(</span><span class="op" id="7964197">)</span><span class="op" id="7964198">,</span>&nbsp;<span class="string" id="7964200">&#39;f&#39;</span><span class="op" id="7964203">,</span>&nbsp;<span class="string" id="7964205">&#34;f&#34;</span><span class="op" id="7964208">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964211">checkTok</span><span class="op" id="7964219">(</span><span class="ident" id="7964220">t</span><span class="op" id="7964221">,</span>&nbsp;<span class="ident" id="7964223">s</span><span class="op" id="7964224">,</span>&nbsp;<span class="num" id="7964226">1</span><span class="op" id="7964227">,</span>&nbsp;<span class="ident" id="7964229">s</span><span class="op" id="7964230">.</span><span class="ident" id="7964231">Scan</span><span class="op" id="7964235">(</span><span class="op" id="7964236">)</span><span class="op" id="7964237">,</span>&nbsp;<span class="ident" id="7964239">Ident</span><span class="op" id="7964244">,</span>&nbsp;<span class="string" id="7964246">&#34;a&#34;</span><span class="op" id="7964249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964252">checkTok</span><span class="op" id="7964260">(</span><span class="ident" id="7964261">t</span><span class="op" id="7964262">,</span>&nbsp;<span class="ident" id="7964264">s</span><span class="op" id="7964265">,</span>&nbsp;<span class="num" id="7964267">1</span><span class="op" id="7964268">,</span>&nbsp;<span class="ident" id="7964270">s</span><span class="op" id="7964271">.</span><span class="ident" id="7964272">Scan</span><span class="op" id="7964276">(</span><span class="op" id="7964277">)</span><span class="op" id="7964278">,</span>&nbsp;<span class="ident" id="7964280">Ident</span><span class="op" id="7964285">,</span>&nbsp;<span class="string" id="7964287">&#34;a&#34;</span><span class="op" id="7964290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964293">checkTok</span><span class="op" id="7964301">(</span><span class="ident" id="7964302">t</span><span class="op" id="7964303">,</span>&nbsp;<span class="ident" id="7964305">s</span><span class="op" id="7964306">,</span>&nbsp;<span class="num" id="7964308">1</span><span class="op" id="7964309">,</span>&nbsp;<span class="ident" id="7964311">s</span><span class="op" id="7964312">.</span><span class="ident" id="7964313">Scan</span><span class="op" id="7964317">(</span><span class="op" id="7964318">)</span><span class="op" id="7964319">,</span>&nbsp;<span class="ident" id="7964321">Ident</span><span class="op" id="7964326">,</span>&nbsp;<span class="string" id="7964328">&#34;b123&#34;</span><span class="op" id="7964334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964337">checkTok</span><span class="op" id="7964345">(</span><span class="ident" id="7964346">t</span><span class="op" id="7964347">,</span>&nbsp;<span class="ident" id="7964349">s</span><span class="op" id="7964350">,</span>&nbsp;<span class="num" id="7964352">1</span><span class="op" id="7964353">,</span>&nbsp;<span class="ident" id="7964355">s</span><span class="op" id="7964356">.</span><span class="ident" id="7964357">Scan</span><span class="op" id="7964361">(</span><span class="op" id="7964362">)</span><span class="op" id="7964363">,</span>&nbsp;<span class="ident" id="7964365">Int</span><span class="op" id="7964368">,</span>&nbsp;<span class="string" id="7964370">&#34;45&#34;</span><span class="op" id="7964374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964377">checkTok</span><span class="op" id="7964385">(</span><span class="ident" id="7964386">t</span><span class="op" id="7964387">,</span>&nbsp;<span class="ident" id="7964389">s</span><span class="op" id="7964390">,</span>&nbsp;<span class="num" id="7964392">1</span><span class="op" id="7964393">,</span>&nbsp;<span class="ident" id="7964395">s</span><span class="op" id="7964396">.</span><span class="ident" id="7964397">Scan</span><span class="op" id="7964401">(</span><span class="op" id="7964402">)</span><span class="op" id="7964403">,</span>&nbsp;<span class="ident" id="7964405">Ident</span><span class="op" id="7964410">,</span>&nbsp;<span class="string" id="7964412">&#34;a12&#34;</span><span class="op" id="7964417">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964420">checkTok</span><span class="op" id="7964428">(</span><span class="ident" id="7964429">t</span><span class="op" id="7964430">,</span>&nbsp;<span class="ident" id="7964432">s</span><span class="op" id="7964433">,</span>&nbsp;<span class="num" id="7964435">1</span><span class="op" id="7964436">,</span>&nbsp;<span class="ident" id="7964438">s</span><span class="op" id="7964439">.</span><span class="ident" id="7964440">Scan</span><span class="op" id="7964444">(</span><span class="op" id="7964445">)</span><span class="op" id="7964446">,</span>&nbsp;<span class="ident" id="7964448">Ident</span><span class="op" id="7964453">,</span>&nbsp;<span class="string" id="7964455">&#34;b123&#34;</span><span class="op" id="7964461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964464">checkTok</span><span class="op" id="7964472">(</span><span class="ident" id="7964473">t</span><span class="op" id="7964474">,</span>&nbsp;<span class="ident" id="7964476">s</span><span class="op" id="7964477">,</span>&nbsp;<span class="num" id="7964479">1</span><span class="op" id="7964480">,</span>&nbsp;<span class="ident" id="7964482">s</span><span class="op" id="7964483">.</span><span class="ident" id="7964484">Scan</span><span class="op" id="7964488">(</span><span class="op" id="7964489">)</span><span class="op" id="7964490">,</span>&nbsp;<span class="ident" id="7964492">Ident</span><span class="op" id="7964497">,</span>&nbsp;<span class="string" id="7964499">&#34;a12&#34;</span><span class="op" id="7964504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964507">checkTok</span><span class="op" id="7964515">(</span><span class="ident" id="7964516">t</span><span class="op" id="7964517">,</span>&nbsp;<span class="ident" id="7964519">s</span><span class="op" id="7964520">,</span>&nbsp;<span class="num" id="7964522">1</span><span class="op" id="7964523">,</span>&nbsp;<span class="ident" id="7964525">s</span><span class="op" id="7964526">.</span><span class="ident" id="7964527">Scan</span><span class="op" id="7964531">(</span><span class="op" id="7964532">)</span><span class="op" id="7964533">,</span>&nbsp;<span class="ident" id="7964535">Int</span><span class="op" id="7964538">,</span>&nbsp;<span class="string" id="7964540">&#34;3&#34;</span><span class="op" id="7964543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964546">checkTok</span><span class="op" id="7964554">(</span><span class="ident" id="7964555">t</span><span class="op" id="7964556">,</span>&nbsp;<span class="ident" id="7964558">s</span><span class="op" id="7964559">,</span>&nbsp;<span class="num" id="7964561">1</span><span class="op" id="7964562">,</span>&nbsp;<span class="ident" id="7964564">s</span><span class="op" id="7964565">.</span><span class="ident" id="7964566">Scan</span><span class="op" id="7964570">(</span><span class="op" id="7964571">)</span><span class="op" id="7964572">,</span>&nbsp;<span class="ident" id="7964574">Ident</span><span class="op" id="7964579">,</span>&nbsp;<span class="string" id="7964581">&#34;b&#34;</span><span class="op" id="7964584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964587">checkTok</span><span class="op" id="7964595">(</span><span class="ident" id="7964596">t</span><span class="op" id="7964597">,</span>&nbsp;<span class="ident" id="7964599">s</span><span class="op" id="7964600">,</span>&nbsp;<span class="num" id="7964602">1</span><span class="op" id="7964603">,</span>&nbsp;<span class="ident" id="7964605">s</span><span class="op" id="7964606">.</span><span class="ident" id="7964607">Scan</span><span class="op" id="7964611">(</span><span class="op" id="7964612">)</span><span class="op" id="7964613">,</span>&nbsp;<span class="ident" id="7964615">EOF</span><span class="op" id="7964618">,</span>&nbsp;<span class="string" id="7964620">&#34;&#34;</span><span class="op" id="7964622">)</span><br>
<span class="lineno">380</span><span class="op" id="7964624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7964627">func</span>&nbsp;<span class="ident" id="7964632">TestScanNext</span><span class="op" id="7964644">(</span><span class="ident" id="7964645">t</span>&nbsp;<span class="op" id="7964647">*</span><span class="ident" id="7964648">testing</span><span class="op" id="7964655">.</span><span class="ident" id="7964656">T</span><span class="op" id="7964657">)</span>&nbsp;<span class="op" id="7964659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964662">const</span>&nbsp;<span class="ident" id="7964668">BOM</span>&nbsp;<span class="op" id="7964672">=</span>&nbsp;<span class="string" id="7964674">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964684">BOMs</span>&nbsp;<span class="op" id="7964689">:=</span>&nbsp;<span class="builtintype" id="7964692">string</span><span class="op" id="7964698">(</span><span class="ident" id="7964699">BOM</span><span class="op" id="7964702">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964705">s</span>&nbsp;<span class="op" id="7964707">:=</span>&nbsp;<span class="builtinfunc" id="7964710">new</span><span class="op" id="7964713">(</span><span class="ident" id="7964714">Scanner</span><span class="op" id="7964721">)</span><span class="op" id="7964722">.</span><span class="ident" id="7964723">Init</span><span class="op" id="7964727">(</span><span class="ident" id="7964728">strings</span><span class="op" id="7964735">.</span><span class="ident" id="7964736">NewReader</span><span class="op" id="7964745">(</span><span class="ident" id="7964746">BOMs</span>&nbsp;<span class="op" id="7964751">+</span>&nbsp;<span class="string" id="7964753">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="7964774">+</span>&nbsp;<span class="ident" id="7964776">BOMs</span>&nbsp;<span class="op" id="7964781">+</span>&nbsp;<span class="string" id="7964783">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="7964808">+</span>&nbsp;<span class="ident" id="7964810">BOMs</span>&nbsp;<span class="op" id="7964815">+</span>&nbsp;<span class="string" id="7964817">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="7964848">)</span><span class="op" id="7964849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964852">checkTok</span><span class="op" id="7964860">(</span><span class="ident" id="7964861">t</span><span class="op" id="7964862">,</span>&nbsp;<span class="ident" id="7964864">s</span><span class="op" id="7964865">,</span>&nbsp;<span class="num" id="7964867">1</span><span class="op" id="7964868">,</span>&nbsp;<span class="ident" id="7964870">s</span><span class="op" id="7964871">.</span><span class="ident" id="7964872">Scan</span><span class="op" id="7964876">(</span><span class="op" id="7964877">)</span><span class="op" id="7964878">,</span>&nbsp;<span class="ident" id="7964880">Ident</span><span class="op" id="7964885">,</span>&nbsp;<span class="string" id="7964887">&#34;if&#34;</span><span class="op" id="7964891">)</span>&nbsp;<span class="comment" id="7964893">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964922">checkTok</span><span class="op" id="7964930">(</span><span class="ident" id="7964931">t</span><span class="op" id="7964932">,</span>&nbsp;<span class="ident" id="7964934">s</span><span class="op" id="7964935">,</span>&nbsp;<span class="num" id="7964937">1</span><span class="op" id="7964938">,</span>&nbsp;<span class="ident" id="7964940">s</span><span class="op" id="7964941">.</span><span class="ident" id="7964942">Scan</span><span class="op" id="7964946">(</span><span class="op" id="7964947">)</span><span class="op" id="7964948">,</span>&nbsp;<span class="ident" id="7964950">Ident</span><span class="op" id="7964955">,</span>&nbsp;<span class="string" id="7964957">&#34;a&#34;</span><span class="op" id="7964960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964963">checkTok</span><span class="op" id="7964971">(</span><span class="ident" id="7964972">t</span><span class="op" id="7964973">,</span>&nbsp;<span class="ident" id="7964975">s</span><span class="op" id="7964976">,</span>&nbsp;<span class="num" id="7964978">1</span><span class="op" id="7964979">,</span>&nbsp;<span class="ident" id="7964981">s</span><span class="op" id="7964982">.</span><span class="ident" id="7964983">Scan</span><span class="op" id="7964987">(</span><span class="op" id="7964988">)</span><span class="op" id="7964989">,</span>&nbsp;<span class="string" id="7964991">&#39;=&#39;</span><span class="op" id="7964994">,</span>&nbsp;<span class="string" id="7964996">&#34;=&#34;</span><span class="op" id="7964999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965002">checkTok</span><span class="op" id="7965010">(</span><span class="ident" id="7965011">t</span><span class="op" id="7965012">,</span>&nbsp;<span class="ident" id="7965014">s</span><span class="op" id="7965015">,</span>&nbsp;<span class="num" id="7965017">0</span><span class="op" id="7965018">,</span>&nbsp;<span class="ident" id="7965020">s</span><span class="op" id="7965021">.</span><span class="ident" id="7965022">Next</span><span class="op" id="7965026">(</span><span class="op" id="7965027">)</span><span class="op" id="7965028">,</span>&nbsp;<span class="string" id="7965030">&#39;=&#39;</span><span class="op" id="7965033">,</span>&nbsp;<span class="string" id="7965035">&#34;&#34;</span><span class="op" id="7965037">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965040">checkTok</span><span class="op" id="7965048">(</span><span class="ident" id="7965049">t</span><span class="op" id="7965050">,</span>&nbsp;<span class="ident" id="7965052">s</span><span class="op" id="7965053">,</span>&nbsp;<span class="num" id="7965055">0</span><span class="op" id="7965056">,</span>&nbsp;<span class="ident" id="7965058">s</span><span class="op" id="7965059">.</span><span class="ident" id="7965060">Next</span><span class="op" id="7965064">(</span><span class="op" id="7965065">)</span><span class="op" id="7965066">,</span>&nbsp;<span class="string" id="7965068">&#39;&nbsp;&#39;</span><span class="op" id="7965071">,</span>&nbsp;<span class="string" id="7965073">&#34;&#34;</span><span class="op" id="7965075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965078">checkTok</span><span class="op" id="7965086">(</span><span class="ident" id="7965087">t</span><span class="op" id="7965088">,</span>&nbsp;<span class="ident" id="7965090">s</span><span class="op" id="7965091">,</span>&nbsp;<span class="num" id="7965093">0</span><span class="op" id="7965094">,</span>&nbsp;<span class="ident" id="7965096">s</span><span class="op" id="7965097">.</span><span class="ident" id="7965098">Next</span><span class="op" id="7965102">(</span><span class="op" id="7965103">)</span><span class="op" id="7965104">,</span>&nbsp;<span class="string" id="7965106">&#39;b&#39;</span><span class="op" id="7965109">,</span>&nbsp;<span class="string" id="7965111">&#34;&#34;</span><span class="op" id="7965113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965116">checkTok</span><span class="op" id="7965124">(</span><span class="ident" id="7965125">t</span><span class="op" id="7965126">,</span>&nbsp;<span class="ident" id="7965128">s</span><span class="op" id="7965129">,</span>&nbsp;<span class="num" id="7965131">1</span><span class="op" id="7965132">,</span>&nbsp;<span class="ident" id="7965134">s</span><span class="op" id="7965135">.</span><span class="ident" id="7965136">Scan</span><span class="op" id="7965140">(</span><span class="op" id="7965141">)</span><span class="op" id="7965142">,</span>&nbsp;<span class="ident" id="7965144">Ident</span><span class="op" id="7965149">,</span>&nbsp;<span class="string" id="7965151">&#34;cd&#34;</span><span class="op" id="7965155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965158">checkTok</span><span class="op" id="7965166">(</span><span class="ident" id="7965167">t</span><span class="op" id="7965168">,</span>&nbsp;<span class="ident" id="7965170">s</span><span class="op" id="7965171">,</span>&nbsp;<span class="num" id="7965173">1</span><span class="op" id="7965174">,</span>&nbsp;<span class="ident" id="7965176">s</span><span class="op" id="7965177">.</span><span class="ident" id="7965178">Scan</span><span class="op" id="7965182">(</span><span class="op" id="7965183">)</span><span class="op" id="7965184">,</span>&nbsp;<span class="string" id="7965186">&#39;{&#39;</span><span class="op" id="7965189">,</span>&nbsp;<span class="string" id="7965191">&#34;{&#34;</span><span class="op" id="7965194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965197">checkTok</span><span class="op" id="7965205">(</span><span class="ident" id="7965206">t</span><span class="op" id="7965207">,</span>&nbsp;<span class="ident" id="7965209">s</span><span class="op" id="7965210">,</span>&nbsp;<span class="num" id="7965212">2</span><span class="op" id="7965213">,</span>&nbsp;<span class="ident" id="7965215">s</span><span class="op" id="7965216">.</span><span class="ident" id="7965217">Scan</span><span class="op" id="7965221">(</span><span class="op" id="7965222">)</span><span class="op" id="7965223">,</span>&nbsp;<span class="ident" id="7965225">Ident</span><span class="op" id="7965230">,</span>&nbsp;<span class="string" id="7965232">&#34;a&#34;</span><span class="op" id="7965235">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965238">checkTok</span><span class="op" id="7965246">(</span><span class="ident" id="7965247">t</span><span class="op" id="7965248">,</span>&nbsp;<span class="ident" id="7965250">s</span><span class="op" id="7965251">,</span>&nbsp;<span class="num" id="7965253">2</span><span class="op" id="7965254">,</span>&nbsp;<span class="ident" id="7965256">s</span><span class="op" id="7965257">.</span><span class="ident" id="7965258">Scan</span><span class="op" id="7965262">(</span><span class="op" id="7965263">)</span><span class="op" id="7965264">,</span>&nbsp;<span class="string" id="7965266">&#39;+&#39;</span><span class="op" id="7965269">,</span>&nbsp;<span class="string" id="7965271">&#34;+&#34;</span><span class="op" id="7965274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965277">checkTok</span><span class="op" id="7965285">(</span><span class="ident" id="7965286">t</span><span class="op" id="7965287">,</span>&nbsp;<span class="ident" id="7965289">s</span><span class="op" id="7965290">,</span>&nbsp;<span class="num" id="7965292">0</span><span class="op" id="7965293">,</span>&nbsp;<span class="ident" id="7965295">s</span><span class="op" id="7965296">.</span><span class="ident" id="7965297">Next</span><span class="op" id="7965301">(</span><span class="op" id="7965302">)</span><span class="op" id="7965303">,</span>&nbsp;<span class="string" id="7965305">&#39;=&#39;</span><span class="op" id="7965308">,</span>&nbsp;<span class="string" id="7965310">&#34;&#34;</span><span class="op" id="7965312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965315">checkTok</span><span class="op" id="7965323">(</span><span class="ident" id="7965324">t</span><span class="op" id="7965325">,</span>&nbsp;<span class="ident" id="7965327">s</span><span class="op" id="7965328">,</span>&nbsp;<span class="num" id="7965330">2</span><span class="op" id="7965331">,</span>&nbsp;<span class="ident" id="7965333">s</span><span class="op" id="7965334">.</span><span class="ident" id="7965335">Scan</span><span class="op" id="7965339">(</span><span class="op" id="7965340">)</span><span class="op" id="7965341">,</span>&nbsp;<span class="ident" id="7965343">Ident</span><span class="op" id="7965348">,</span>&nbsp;<span class="string" id="7965350">&#34;c&#34;</span><span class="op" id="7965353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965356">checkTok</span><span class="op" id="7965364">(</span><span class="ident" id="7965365">t</span><span class="op" id="7965366">,</span>&nbsp;<span class="ident" id="7965368">s</span><span class="op" id="7965369">,</span>&nbsp;<span class="num" id="7965371">3</span><span class="op" id="7965372">,</span>&nbsp;<span class="ident" id="7965374">s</span><span class="op" id="7965375">.</span><span class="ident" id="7965376">Scan</span><span class="op" id="7965380">(</span><span class="op" id="7965381">)</span><span class="op" id="7965382">,</span>&nbsp;<span class="string" id="7965384">&#39;}&#39;</span><span class="op" id="7965387">,</span>&nbsp;<span class="string" id="7965389">&#34;}&#34;</span><span class="op" id="7965392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965395">checkTok</span><span class="op" id="7965403">(</span><span class="ident" id="7965404">t</span><span class="op" id="7965405">,</span>&nbsp;<span class="ident" id="7965407">s</span><span class="op" id="7965408">,</span>&nbsp;<span class="num" id="7965410">3</span><span class="op" id="7965411">,</span>&nbsp;<span class="ident" id="7965413">s</span><span class="op" id="7965414">.</span><span class="ident" id="7965415">Scan</span><span class="op" id="7965419">(</span><span class="op" id="7965420">)</span><span class="op" id="7965421">,</span>&nbsp;<span class="ident" id="7965423">BOM</span><span class="op" id="7965426">,</span>&nbsp;<span class="ident" id="7965428">BOMs</span><span class="op" id="7965432">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965435">checkTok</span><span class="op" id="7965443">(</span><span class="ident" id="7965444">t</span><span class="op" id="7965445">,</span>&nbsp;<span class="ident" id="7965447">s</span><span class="op" id="7965448">,</span>&nbsp;<span class="num" id="7965450">3</span><span class="op" id="7965451">,</span>&nbsp;<span class="ident" id="7965453">s</span><span class="op" id="7965454">.</span><span class="ident" id="7965455">Scan</span><span class="op" id="7965459">(</span><span class="op" id="7965460">)</span><span class="op" id="7965461">,</span>&nbsp;<span class="op" id="7965463">-</span><span class="num" id="7965464">1</span><span class="op" id="7965465">,</span>&nbsp;<span class="string" id="7965467">&#34;&#34;</span><span class="op" id="7965469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965472">if</span>&nbsp;<span class="ident" id="7965475">s</span><span class="op" id="7965476">.</span><span class="ident" id="7965477">ErrorCount</span>&nbsp;<span class="op" id="7965488">!=</span>&nbsp;<span class="num" id="7965491">0</span>&nbsp;<span class="op" id="7965493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965497">t</span><span class="op" id="7965498">.</span><span class="ident" id="7965499">Errorf</span><span class="op" id="7965505">(</span><span class="string" id="7965506">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7965517">,</span>&nbsp;<span class="ident" id="7965519">s</span><span class="op" id="7965520">.</span><span class="ident" id="7965521">ErrorCount</span><span class="op" id="7965531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965534">}</span><br>
<span class="lineno"></span><span class="op" id="7965536">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="7965539">func</span>&nbsp;<span class="ident" id="7965544">TestScanWhitespace</span><span class="op" id="7965562">(</span><span class="ident" id="7965563">t</span>&nbsp;<span class="op" id="7965565">*</span><span class="ident" id="7965566">testing</span><span class="op" id="7965573">.</span><span class="ident" id="7965574">T</span><span class="op" id="7965575">)</span>&nbsp;<span class="op" id="7965577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965580">var</span>&nbsp;<span class="ident" id="7965584">buf</span>&nbsp;<span class="ident" id="7965588">bytes</span><span class="op" id="7965593">.</span><span class="ident" id="7965594">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965602">var</span>&nbsp;<span class="ident" id="7965606">ws</span>&nbsp;<span class="ident" id="7965609">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7965617">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965662">for</span>&nbsp;<span class="ident" id="7965666">ch</span>&nbsp;<span class="op" id="7965669">:=</span>&nbsp;<span class="builtintype" id="7965672">byte</span><span class="op" id="7965676">(</span><span class="num" id="7965677">1</span><span class="op" id="7965678">)</span><span class="op" id="7965679">;</span>&nbsp;<span class="ident" id="7965681">ch</span>&nbsp;<span class="op" id="7965684">&lt;</span>&nbsp;<span class="string" id="7965686">&#39;&nbsp;&#39;</span><span class="op" id="7965689">;</span>&nbsp;<span class="ident" id="7965691">ch</span><span class="op" id="7965693">++</span>&nbsp;<span class="op" id="7965696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965700">buf</span><span class="op" id="7965703">.</span><span class="ident" id="7965704">WriteByte</span><span class="op" id="7965713">(</span><span class="ident" id="7965714">ch</span><span class="op" id="7965716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965720">ws</span>&nbsp;<span class="op" id="7965723">|=</span>&nbsp;<span class="num" id="7965726">1</span>&nbsp;<span class="op" id="7965728">&lt;&lt;</span>&nbsp;<span class="ident" id="7965731">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965738">const</span>&nbsp;<span class="ident" id="7965744">orig</span>&nbsp;<span class="op" id="7965749">=</span>&nbsp;<span class="string" id="7965751">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965756">buf</span><span class="op" id="7965759">.</span><span class="ident" id="7965760">WriteByte</span><span class="op" id="7965769">(</span><span class="ident" id="7965770">orig</span><span class="op" id="7965774">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965778">s</span>&nbsp;<span class="op" id="7965780">:=</span>&nbsp;<span class="builtinfunc" id="7965783">new</span><span class="op" id="7965786">(</span><span class="ident" id="7965787">Scanner</span><span class="op" id="7965794">)</span><span class="op" id="7965795">.</span><span class="ident" id="7965796">Init</span><span class="op" id="7965800">(</span><span class="op" id="7965801">&amp;</span><span class="ident" id="7965802">buf</span><span class="op" id="7965805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965808">s</span><span class="op" id="7965809">.</span><span class="ident" id="7965810">Mode</span>&nbsp;<span class="op" id="7965815">=</span>&nbsp;<span class="num" id="7965817">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965820">s</span><span class="op" id="7965821">.</span><span class="ident" id="7965822">Whitespace</span>&nbsp;<span class="op" id="7965833">=</span>&nbsp;<span class="ident" id="7965835">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965839">tok</span>&nbsp;<span class="op" id="7965843">:=</span>&nbsp;<span class="ident" id="7965846">s</span><span class="op" id="7965847">.</span><span class="ident" id="7965848">Scan</span><span class="op" id="7965852">(</span><span class="op" id="7965853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965856">if</span>&nbsp;<span class="ident" id="7965859">tok</span>&nbsp;<span class="op" id="7965863">!=</span>&nbsp;<span class="ident" id="7965866">orig</span>&nbsp;<span class="op" id="7965871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965875">t</span><span class="op" id="7965876">.</span><span class="ident" id="7965877">Errorf</span><span class="op" id="7965883">(</span><span class="string" id="7965884">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7965903">,</span>&nbsp;<span class="ident" id="7965905">TokenString</span><span class="op" id="7965916">(</span><span class="ident" id="7965917">tok</span><span class="op" id="7965920">)</span><span class="op" id="7965921">,</span>&nbsp;<span class="ident" id="7965923">TokenString</span><span class="op" id="7965934">(</span><span class="ident" id="7965935">orig</span><span class="op" id="7965939">)</span><span class="op" id="7965940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965943">}</span><br>
<span class="lineno"></span><span class="op" id="7965945">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="7965948">func</span>&nbsp;<span class="ident" id="7965953">testError</span><span class="op" id="7965962">(</span><span class="ident" id="7965963">t</span>&nbsp;<span class="op" id="7965965">*</span><span class="ident" id="7965966">testing</span><span class="op" id="7965973">.</span><span class="ident" id="7965974">T</span><span class="op" id="7965975">,</span>&nbsp;<span class="ident" id="7965977">src</span><span class="op" id="7965980">,</span>&nbsp;<span class="ident" id="7965982">pos</span><span class="op" id="7965985">,</span>&nbsp;<span class="ident" id="7965987">msg</span>&nbsp;<span class="builtintype" id="7965991">string</span><span class="op" id="7965997">,</span>&nbsp;<span class="ident" id="7965999">tok</span>&nbsp;<span class="builtintype" id="7966003">rune</span><span class="op" id="7966007">)</span>&nbsp;<span class="op" id="7966009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966012">s</span>&nbsp;<span class="op" id="7966014">:=</span>&nbsp;<span class="builtinfunc" id="7966017">new</span><span class="op" id="7966020">(</span><span class="ident" id="7966021">Scanner</span><span class="op" id="7966028">)</span><span class="op" id="7966029">.</span><span class="ident" id="7966030">Init</span><span class="op" id="7966034">(</span><span class="ident" id="7966035">strings</span><span class="op" id="7966042">.</span><span class="ident" id="7966043">NewReader</span><span class="op" id="7966052">(</span><span class="ident" id="7966053">src</span><span class="op" id="7966056">)</span><span class="op" id="7966057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966060">errorCalled</span>&nbsp;<span class="op" id="7966072">:=</span>&nbsp;<span class="builtintype" id="7966075">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966082">s</span><span class="op" id="7966083">.</span><span class="ident" id="7966084">Error</span>&nbsp;<span class="op" id="7966090">=</span>&nbsp;<span class="keyword" id="7966092">func</span><span class="op" id="7966096">(</span><span class="ident" id="7966097">s</span>&nbsp;<span class="op" id="7966099">*</span><span class="ident" id="7966100">Scanner</span><span class="op" id="7966107">,</span>&nbsp;<span class="ident" id="7966109">m</span>&nbsp;<span class="builtintype" id="7966111">string</span><span class="op" id="7966117">)</span>&nbsp;<span class="op" id="7966119">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966123">if</span>&nbsp;<span class="op" id="7966126">!</span><span class="ident" id="7966127">errorCalled</span>&nbsp;<span class="op" id="7966139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7966144">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966175">if</span>&nbsp;<span class="ident" id="7966178">p</span>&nbsp;<span class="op" id="7966180">:=</span>&nbsp;<span class="ident" id="7966183">s</span><span class="op" id="7966184">.</span><span class="ident" id="7966185">Pos</span><span class="op" id="7966188">(</span><span class="op" id="7966189">)</span><span class="op" id="7966190">.</span><span class="ident" id="7966191">String</span><span class="op" id="7966197">(</span><span class="op" id="7966198">)</span><span class="op" id="7966199">;</span>&nbsp;<span class="ident" id="7966201">p</span>&nbsp;<span class="op" id="7966203">!=</span>&nbsp;<span class="ident" id="7966206">pos</span>&nbsp;<span class="op" id="7966210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966216">t</span><span class="op" id="7966217">.</span><span class="ident" id="7966218">Errorf</span><span class="op" id="7966224">(</span><span class="string" id="7966225">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7966251">,</span>&nbsp;<span class="ident" id="7966253">p</span><span class="op" id="7966254">,</span>&nbsp;<span class="ident" id="7966256">pos</span><span class="op" id="7966259">,</span>&nbsp;<span class="ident" id="7966261">src</span><span class="op" id="7966264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966269">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966274">if</span>&nbsp;<span class="ident" id="7966277">m</span>&nbsp;<span class="op" id="7966279">!=</span>&nbsp;<span class="ident" id="7966282">msg</span>&nbsp;<span class="op" id="7966286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966292">t</span><span class="op" id="7966293">.</span><span class="ident" id="7966294">Errorf</span><span class="op" id="7966300">(</span><span class="string" id="7966301">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7966327">,</span>&nbsp;<span class="ident" id="7966329">m</span><span class="op" id="7966330">,</span>&nbsp;<span class="ident" id="7966332">msg</span><span class="op" id="7966335">,</span>&nbsp;<span class="ident" id="7966337">src</span><span class="op" id="7966340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966345">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966350">errorCalled</span>&nbsp;<span class="op" id="7966362">=</span>&nbsp;<span class="builtintype" id="7966364">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966371">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966374">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966377">tk</span>&nbsp;<span class="op" id="7966380">:=</span>&nbsp;<span class="ident" id="7966383">s</span><span class="op" id="7966384">.</span><span class="ident" id="7966385">Scan</span><span class="op" id="7966389">(</span><span class="op" id="7966390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966393">if</span>&nbsp;<span class="ident" id="7966396">tk</span>&nbsp;<span class="op" id="7966399">!=</span>&nbsp;<span class="ident" id="7966402">tok</span>&nbsp;<span class="op" id="7966406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966410">t</span><span class="op" id="7966411">.</span><span class="ident" id="7966412">Errorf</span><span class="op" id="7966418">(</span><span class="string" id="7966419">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7966445">,</span>&nbsp;<span class="ident" id="7966447">TokenString</span><span class="op" id="7966458">(</span><span class="ident" id="7966459">tk</span><span class="op" id="7966461">)</span><span class="op" id="7966462">,</span>&nbsp;<span class="ident" id="7966464">TokenString</span><span class="op" id="7966475">(</span><span class="ident" id="7966476">tok</span><span class="op" id="7966479">)</span><span class="op" id="7966480">,</span>&nbsp;<span class="ident" id="7966482">src</span><span class="op" id="7966485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966488">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966491">if</span>&nbsp;<span class="op" id="7966494">!</span><span class="ident" id="7966495">errorCalled</span>&nbsp;<span class="op" id="7966507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966511">t</span><span class="op" id="7966512">.</span><span class="ident" id="7966513">Errorf</span><span class="op" id="7966519">(</span><span class="string" id="7966520">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7966553">,</span>&nbsp;<span class="ident" id="7966555">src</span><span class="op" id="7966558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966564">if</span>&nbsp;<span class="ident" id="7966567">s</span><span class="op" id="7966568">.</span><span class="ident" id="7966569">ErrorCount</span>&nbsp;<span class="op" id="7966580">==</span>&nbsp;<span class="num" id="7966583">0</span>&nbsp;<span class="op" id="7966585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966589">t</span><span class="op" id="7966590">.</span><span class="ident" id="7966591">Errorf</span><span class="op" id="7966597">(</span><span class="string" id="7966598">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7966627">,</span>&nbsp;<span class="ident" id="7966629">s</span><span class="op" id="7966630">.</span><span class="ident" id="7966631">ErrorCount</span><span class="op" id="7966641">,</span>&nbsp;<span class="ident" id="7966643">src</span><span class="op" id="7966646">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966649">}</span><br>
<span class="lineno"></span><span class="op" id="7966651">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7966654">func</span>&nbsp;<span class="ident" id="7966659">TestError</span><span class="op" id="7966668">(</span><span class="ident" id="7966669">t</span>&nbsp;<span class="op" id="7966671">*</span><span class="ident" id="7966672">testing</span><span class="op" id="7966679">.</span><span class="ident" id="7966680">T</span><span class="op" id="7966681">)</span>&nbsp;<span class="op" id="7966683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966686">testError</span><span class="op" id="7966695">(</span><span class="ident" id="7966696">t</span><span class="op" id="7966697">,</span>&nbsp;<span class="string" id="7966699">&#34;\x00&#34;</span><span class="op" id="7966705">,</span>&nbsp;<span class="string" id="7966707">&#34;1:1&#34;</span><span class="op" id="7966712">,</span>&nbsp;<span class="string" id="7966714">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7966737">,</span>&nbsp;<span class="num" id="7966739">0</span><span class="op" id="7966740">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966743">testError</span><span class="op" id="7966752">(</span><span class="ident" id="7966753">t</span><span class="op" id="7966754">,</span>&nbsp;<span class="string" id="7966756">&#34;\x80&#34;</span><span class="op" id="7966762">,</span>&nbsp;<span class="string" id="7966764">&#34;1:1&#34;</span><span class="op" id="7966769">,</span>&nbsp;<span class="string" id="7966771">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7966795">,</span>&nbsp;<span class="ident" id="7966797">utf8</span><span class="op" id="7966801">.</span><span class="ident" id="7966802">RuneError</span><span class="op" id="7966811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966814">testError</span><span class="op" id="7966823">(</span><span class="ident" id="7966824">t</span><span class="op" id="7966825">,</span>&nbsp;<span class="string" id="7966827">&#34;\xff&#34;</span><span class="op" id="7966833">,</span>&nbsp;<span class="string" id="7966835">&#34;1:1&#34;</span><span class="op" id="7966840">,</span>&nbsp;<span class="string" id="7966842">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7966866">,</span>&nbsp;<span class="ident" id="7966868">utf8</span><span class="op" id="7966872">.</span><span class="ident" id="7966873">RuneError</span><span class="op" id="7966882">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966886">testError</span><span class="op" id="7966895">(</span><span class="ident" id="7966896">t</span><span class="op" id="7966897">,</span>&nbsp;<span class="string" id="7966899">&#34;a\x00&#34;</span><span class="op" id="7966906">,</span>&nbsp;<span class="string" id="7966908">&#34;1:2&#34;</span><span class="op" id="7966913">,</span>&nbsp;<span class="string" id="7966915">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7966938">,</span>&nbsp;<span class="ident" id="7966940">Ident</span><span class="op" id="7966945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966948">testError</span><span class="op" id="7966957">(</span><span class="ident" id="7966958">t</span><span class="op" id="7966959">,</span>&nbsp;<span class="string" id="7966961">&#34;ab\x80&#34;</span><span class="op" id="7966969">,</span>&nbsp;<span class="string" id="7966971">&#34;1:3&#34;</span><span class="op" id="7966976">,</span>&nbsp;<span class="string" id="7966978">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7967002">,</span>&nbsp;<span class="ident" id="7967004">Ident</span><span class="op" id="7967009">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967012">testError</span><span class="op" id="7967021">(</span><span class="ident" id="7967022">t</span><span class="op" id="7967023">,</span>&nbsp;<span class="string" id="7967025">&#34;abc\xff&#34;</span><span class="op" id="7967034">,</span>&nbsp;<span class="string" id="7967036">&#34;1:4&#34;</span><span class="op" id="7967041">,</span>&nbsp;<span class="string" id="7967043">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7967067">,</span>&nbsp;<span class="ident" id="7967069">Ident</span><span class="op" id="7967074">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967078">testError</span><span class="op" id="7967087">(</span><span class="ident" id="7967088">t</span><span class="op" id="7967089">,</span>&nbsp;<span class="string" id="7967091">`&#34;a`</span><span class="op" id="7967095">+</span><span class="string" id="7967096">&#34;\x00&#34;</span><span class="op" id="7967102">,</span>&nbsp;<span class="string" id="7967104">&#34;1:3&#34;</span><span class="op" id="7967109">,</span>&nbsp;<span class="string" id="7967111">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7967134">,</span>&nbsp;<span class="ident" id="7967136">String</span><span class="op" id="7967142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967145">testError</span><span class="op" id="7967154">(</span><span class="ident" id="7967155">t</span><span class="op" id="7967156">,</span>&nbsp;<span class="string" id="7967158">`&#34;ab`</span><span class="op" id="7967163">+</span><span class="string" id="7967164">&#34;\x80&#34;</span><span class="op" id="7967170">,</span>&nbsp;<span class="string" id="7967172">&#34;1:4&#34;</span><span class="op" id="7967177">,</span>&nbsp;<span class="string" id="7967179">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7967203">,</span>&nbsp;<span class="ident" id="7967205">String</span><span class="op" id="7967211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967214">testError</span><span class="op" id="7967223">(</span><span class="ident" id="7967224">t</span><span class="op" id="7967225">,</span>&nbsp;<span class="string" id="7967227">`&#34;abc`</span><span class="op" id="7967233">+</span><span class="string" id="7967234">&#34;\xff&#34;</span><span class="op" id="7967240">,</span>&nbsp;<span class="string" id="7967242">&#34;1:5&#34;</span><span class="op" id="7967247">,</span>&nbsp;<span class="string" id="7967249">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7967273">,</span>&nbsp;<span class="ident" id="7967275">String</span><span class="op" id="7967281">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967285">testError</span><span class="op" id="7967294">(</span><span class="ident" id="7967295">t</span><span class="op" id="7967296">,</span>&nbsp;<span class="string" id="7967298">&#34;`a&#34;</span><span class="op" id="7967302">+</span><span class="string" id="7967303">&#34;\x00&#34;</span><span class="op" id="7967309">,</span>&nbsp;<span class="string" id="7967311">&#34;1:3&#34;</span><span class="op" id="7967316">,</span>&nbsp;<span class="string" id="7967318">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7967341">,</span>&nbsp;<span class="ident" id="7967343">String</span><span class="op" id="7967349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967352">testError</span><span class="op" id="7967361">(</span><span class="ident" id="7967362">t</span><span class="op" id="7967363">,</span>&nbsp;<span class="string" id="7967365">&#34;`ab&#34;</span><span class="op" id="7967370">+</span><span class="string" id="7967371">&#34;\x80&#34;</span><span class="op" id="7967377">,</span>&nbsp;<span class="string" id="7967379">&#34;1:4&#34;</span><span class="op" id="7967384">,</span>&nbsp;<span class="string" id="7967386">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7967410">,</span>&nbsp;<span class="ident" id="7967412">String</span><span class="op" id="7967418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967421">testError</span><span class="op" id="7967430">(</span><span class="ident" id="7967431">t</span><span class="op" id="7967432">,</span>&nbsp;<span class="string" id="7967434">&#34;`abc&#34;</span><span class="op" id="7967440">+</span><span class="string" id="7967441">&#34;\xff&#34;</span><span class="op" id="7967447">,</span>&nbsp;<span class="string" id="7967449">&#34;1:5&#34;</span><span class="op" id="7967454">,</span>&nbsp;<span class="string" id="7967456">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7967480">,</span>&nbsp;<span class="ident" id="7967482">String</span><span class="op" id="7967488">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967492">testError</span><span class="op" id="7967501">(</span><span class="ident" id="7967502">t</span><span class="op" id="7967503">,</span>&nbsp;<span class="string" id="7967505">`&#39;\&#34;&#39;`</span><span class="op" id="7967511">,</span>&nbsp;<span class="string" id="7967513">&#34;1:3&#34;</span><span class="op" id="7967518">,</span>&nbsp;<span class="string" id="7967520">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7967541">,</span>&nbsp;<span class="ident" id="7967543">Char</span><span class="op" id="7967547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967550">testError</span><span class="op" id="7967559">(</span><span class="ident" id="7967560">t</span><span class="op" id="7967561">,</span>&nbsp;<span class="string" id="7967563">`&#34;\&#39;&#34;`</span><span class="op" id="7967569">,</span>&nbsp;<span class="string" id="7967571">&#34;1:3&#34;</span><span class="op" id="7967576">,</span>&nbsp;<span class="string" id="7967578">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7967599">,</span>&nbsp;<span class="ident" id="7967601">String</span><span class="op" id="7967607">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967611">testError</span><span class="op" id="7967620">(</span><span class="ident" id="7967621">t</span><span class="op" id="7967622">,</span>&nbsp;<span class="string" id="7967624">`01238`</span><span class="op" id="7967631">,</span>&nbsp;<span class="string" id="7967633">&#34;1:6&#34;</span><span class="op" id="7967638">,</span>&nbsp;<span class="string" id="7967640">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7967662">,</span>&nbsp;<span class="ident" id="7967664">Int</span><span class="op" id="7967667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967670">testError</span><span class="op" id="7967679">(</span><span class="ident" id="7967680">t</span><span class="op" id="7967681">,</span>&nbsp;<span class="string" id="7967683">`01238123`</span><span class="op" id="7967693">,</span>&nbsp;<span class="string" id="7967695">&#34;1:9&#34;</span><span class="op" id="7967700">,</span>&nbsp;<span class="string" id="7967702">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7967724">,</span>&nbsp;<span class="ident" id="7967726">Int</span><span class="op" id="7967729">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967732">testError</span><span class="op" id="7967741">(</span><span class="ident" id="7967742">t</span><span class="op" id="7967743">,</span>&nbsp;<span class="string" id="7967745">`0x`</span><span class="op" id="7967749">,</span>&nbsp;<span class="string" id="7967751">&#34;1:3&#34;</span><span class="op" id="7967756">,</span>&nbsp;<span class="string" id="7967758">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7967786">,</span>&nbsp;<span class="ident" id="7967788">Int</span><span class="op" id="7967791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967794">testError</span><span class="op" id="7967803">(</span><span class="ident" id="7967804">t</span><span class="op" id="7967805">,</span>&nbsp;<span class="string" id="7967807">`0xg`</span><span class="op" id="7967812">,</span>&nbsp;<span class="string" id="7967814">&#34;1:3&#34;</span><span class="op" id="7967819">,</span>&nbsp;<span class="string" id="7967821">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7967849">,</span>&nbsp;<span class="ident" id="7967851">Int</span><span class="op" id="7967854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967857">testError</span><span class="op" id="7967866">(</span><span class="ident" id="7967867">t</span><span class="op" id="7967868">,</span>&nbsp;<span class="string" id="7967870">`&#39;aa&#39;`</span><span class="op" id="7967876">,</span>&nbsp;<span class="string" id="7967878">&#34;1:4&#34;</span><span class="op" id="7967883">,</span>&nbsp;<span class="string" id="7967885">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="7967907">,</span>&nbsp;<span class="ident" id="7967909">Char</span><span class="op" id="7967913">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967917">testError</span><span class="op" id="7967926">(</span><span class="ident" id="7967927">t</span><span class="op" id="7967928">,</span>&nbsp;<span class="string" id="7967930">`&#39;`</span><span class="op" id="7967933">,</span>&nbsp;<span class="string" id="7967935">&#34;1:2&#34;</span><span class="op" id="7967940">,</span>&nbsp;<span class="string" id="7967942">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7967966">,</span>&nbsp;<span class="ident" id="7967968">Char</span><span class="op" id="7967972">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7967975">testError</span><span class="op" id="7967984">(</span><span class="ident" id="7967985">t</span><span class="op" id="7967986">,</span>&nbsp;<span class="string" id="7967988">`&#39;`</span><span class="op" id="7967991">+</span><span class="string" id="7967992">&#34;\n&#34;</span><span class="op" id="7967996">,</span>&nbsp;<span class="string" id="7967998">&#34;1:2&#34;</span><span class="op" id="7968003">,</span>&nbsp;<span class="string" id="7968005">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7968029">,</span>&nbsp;<span class="ident" id="7968031">Char</span><span class="op" id="7968035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968038">testError</span><span class="op" id="7968047">(</span><span class="ident" id="7968048">t</span><span class="op" id="7968049">,</span>&nbsp;<span class="string" id="7968051">`&#34;abc`</span><span class="op" id="7968057">,</span>&nbsp;<span class="string" id="7968059">&#34;1:5&#34;</span><span class="op" id="7968064">,</span>&nbsp;<span class="string" id="7968066">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7968090">,</span>&nbsp;<span class="ident" id="7968092">String</span><span class="op" id="7968098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968101">testError</span><span class="op" id="7968110">(</span><span class="ident" id="7968111">t</span><span class="op" id="7968112">,</span>&nbsp;<span class="string" id="7968114">`&#34;abc`</span><span class="op" id="7968120">+</span><span class="string" id="7968121">&#34;\n&#34;</span><span class="op" id="7968125">,</span>&nbsp;<span class="string" id="7968127">&#34;1:5&#34;</span><span class="op" id="7968132">,</span>&nbsp;<span class="string" id="7968134">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7968158">,</span>&nbsp;<span class="ident" id="7968160">String</span><span class="op" id="7968166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968169">testError</span><span class="op" id="7968178">(</span><span class="ident" id="7968179">t</span><span class="op" id="7968180">,</span>&nbsp;<span class="string" id="7968182">&#34;`abc\n&#34;</span><span class="op" id="7968190">,</span>&nbsp;<span class="string" id="7968192">&#34;2:1&#34;</span><span class="op" id="7968197">,</span>&nbsp;<span class="string" id="7968199">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7968223">,</span>&nbsp;<span class="ident" id="7968225">String</span><span class="op" id="7968231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968234">testError</span><span class="op" id="7968243">(</span><span class="ident" id="7968244">t</span><span class="op" id="7968245">,</span>&nbsp;<span class="string" id="7968247">`/*/`</span><span class="op" id="7968252">,</span>&nbsp;<span class="string" id="7968254">&#34;1:4&#34;</span><span class="op" id="7968259">,</span>&nbsp;<span class="string" id="7968261">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7968285">,</span>&nbsp;<span class="ident" id="7968287">EOF</span><span class="op" id="7968290">)</span><br>
<span class="lineno">485</span><span class="op" id="7968292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7968295">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="7968353">type</span>&nbsp;<span class="ident" id="7968358">errReader</span>&nbsp;<span class="keyword" id="7968368">struct</span><span class="op" id="7968374">{</span><span class="op" id="7968375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="7968378">func</span>&nbsp;<span class="op" id="7968383">(</span><span class="ident" id="7968384">errReader</span><span class="op" id="7968393">)</span>&nbsp;<span class="ident" id="7968395">Read</span><span class="op" id="7968399">(</span><span class="ident" id="7968400">b</span>&nbsp;<span class="op" id="7968402">[</span><span class="op" id="7968403">]</span><span class="builtintype" id="7968404">byte</span><span class="op" id="7968408">)</span>&nbsp;<span class="op" id="7968410">(</span><span class="builtintype" id="7968411">int</span><span class="op" id="7968414">,</span>&nbsp;<span class="builtintype" id="7968416">error</span><span class="op" id="7968421">)</span>&nbsp;<span class="op" id="7968423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7968426">return</span>&nbsp;<span class="num" id="7968433">0</span><span class="op" id="7968434">,</span>&nbsp;<span class="ident" id="7968436">io</span><span class="op" id="7968438">.</span><span class="ident" id="7968439">ErrNoProgress</span>&nbsp;<span class="comment" id="7968453">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="7968486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7968489">func</span>&nbsp;<span class="ident" id="7968494">TestIOError</span><span class="op" id="7968505">(</span><span class="ident" id="7968506">t</span>&nbsp;<span class="op" id="7968508">*</span><span class="ident" id="7968509">testing</span><span class="op" id="7968516">.</span><span class="ident" id="7968517">T</span><span class="op" id="7968518">)</span>&nbsp;<span class="op" id="7968520">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968523">s</span>&nbsp;<span class="op" id="7968525">:=</span>&nbsp;<span class="builtinfunc" id="7968528">new</span><span class="op" id="7968531">(</span><span class="ident" id="7968532">Scanner</span><span class="op" id="7968539">)</span><span class="op" id="7968540">.</span><span class="ident" id="7968541">Init</span><span class="op" id="7968545">(</span><span class="ident" id="7968546">errReader</span><span class="op" id="7968555">{</span><span class="op" id="7968556">}</span><span class="op" id="7968557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968560">errorCalled</span>&nbsp;<span class="op" id="7968572">:=</span>&nbsp;<span class="builtintype" id="7968575">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968582">s</span><span class="op" id="7968583">.</span><span class="ident" id="7968584">Error</span>&nbsp;<span class="op" id="7968590">=</span>&nbsp;<span class="keyword" id="7968592">func</span><span class="op" id="7968596">(</span><span class="ident" id="7968597">s</span>&nbsp;<span class="op" id="7968599">*</span><span class="ident" id="7968600">Scanner</span><span class="op" id="7968607">,</span>&nbsp;<span class="ident" id="7968609">msg</span>&nbsp;<span class="builtintype" id="7968613">string</span><span class="op" id="7968619">)</span>&nbsp;<span class="op" id="7968621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7968625">if</span>&nbsp;<span class="op" id="7968628">!</span><span class="ident" id="7968629">errorCalled</span>&nbsp;<span class="op" id="7968641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7968646">if</span>&nbsp;<span class="ident" id="7968649">want</span>&nbsp;<span class="op" id="7968654">:=</span>&nbsp;<span class="ident" id="7968657">io</span><span class="op" id="7968659">.</span><span class="ident" id="7968660">ErrNoProgress</span><span class="op" id="7968673">.</span><span class="ident" id="7968674">Error</span><span class="op" id="7968679">(</span><span class="op" id="7968680">)</span><span class="op" id="7968681">;</span>&nbsp;<span class="ident" id="7968683">msg</span>&nbsp;<span class="op" id="7968687">!=</span>&nbsp;<span class="ident" id="7968690">want</span>&nbsp;<span class="op" id="7968695">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968701">t</span><span class="op" id="7968702">.</span><span class="ident" id="7968703">Errorf</span><span class="op" id="7968709">(</span><span class="string" id="7968710">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7968729">,</span>&nbsp;<span class="ident" id="7968731">msg</span><span class="op" id="7968734">,</span>&nbsp;<span class="ident" id="7968736">want</span><span class="op" id="7968740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7968745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968750">errorCalled</span>&nbsp;<span class="op" id="7968762">=</span>&nbsp;<span class="builtintype" id="7968764">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7968771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7968774">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968777">tok</span>&nbsp;<span class="op" id="7968781">:=</span>&nbsp;<span class="ident" id="7968784">s</span><span class="op" id="7968785">.</span><span class="ident" id="7968786">Scan</span><span class="op" id="7968790">(</span><span class="op" id="7968791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7968794">if</span>&nbsp;<span class="ident" id="7968797">tok</span>&nbsp;<span class="op" id="7968801">!=</span>&nbsp;<span class="ident" id="7968804">EOF</span>&nbsp;<span class="op" id="7968808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968812">t</span><span class="op" id="7968813">.</span><span class="ident" id="7968814">Errorf</span><span class="op" id="7968820">(</span><span class="string" id="7968821">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7968841">,</span>&nbsp;<span class="ident" id="7968843">TokenString</span><span class="op" id="7968854">(</span><span class="ident" id="7968855">tok</span><span class="op" id="7968858">)</span><span class="op" id="7968859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7968862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7968865">if</span>&nbsp;<span class="op" id="7968868">!</span><span class="ident" id="7968869">errorCalled</span>&nbsp;<span class="op" id="7968881">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7968885">t</span><span class="op" id="7968886">.</span><span class="ident" id="7968887">Errorf</span><span class="op" id="7968893">(</span><span class="string" id="7968894">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="7968920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7968923">}</span><br>
<span class="lineno"></span><span class="op" id="7968925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7968928">func</span>&nbsp;<span class="ident" id="7968933">checkPos</span><span class="op" id="7968941">(</span><span class="ident" id="7968942">t</span>&nbsp;<span class="op" id="7968944">*</span><span class="ident" id="7968945">testing</span><span class="op" id="7968952">.</span><span class="ident" id="7968953">T</span><span class="op" id="7968954">,</span>&nbsp;<span class="ident" id="7968956">got</span><span class="op" id="7968959">,</span>&nbsp;<span class="ident" id="7968961">want</span>&nbsp;<span class="ident" id="7968966">Position</span><span class="op" id="7968974">)</span>&nbsp;<span class="op" id="7968976">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7968979">if</span>&nbsp;<span class="ident" id="7968982">got</span><span class="op" id="7968985">.</span><span class="ident" id="7968986">Offset</span>&nbsp;<span class="op" id="7968993">!=</span>&nbsp;<span class="ident" id="7968996">want</span><span class="op" id="7969000">.</span><span class="ident" id="7969001">Offset</span>&nbsp;<span class="op" id="7969008">||</span>&nbsp;<span class="ident" id="7969011">got</span><span class="op" id="7969014">.</span><span class="ident" id="7969015">Line</span>&nbsp;<span class="op" id="7969020">!=</span>&nbsp;<span class="ident" id="7969023">want</span><span class="op" id="7969027">.</span><span class="ident" id="7969028">Line</span>&nbsp;<span class="op" id="7969033">||</span>&nbsp;<span class="ident" id="7969036">got</span><span class="op" id="7969039">.</span><span class="ident" id="7969040">Column</span>&nbsp;<span class="op" id="7969047">!=</span>&nbsp;<span class="ident" id="7969050">want</span><span class="op" id="7969054">.</span><span class="ident" id="7969055">Column</span>&nbsp;<span class="op" id="7969062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969066">t</span><span class="op" id="7969067">.</span><span class="ident" id="7969068">Errorf</span><span class="op" id="7969074">(</span><span class="string" id="7969075">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="7969131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969136">got</span><span class="op" id="7969139">.</span><span class="ident" id="7969140">Offset</span><span class="op" id="7969146">,</span>&nbsp;<span class="ident" id="7969148">got</span><span class="op" id="7969151">.</span><span class="ident" id="7969152">Line</span><span class="op" id="7969156">,</span>&nbsp;<span class="ident" id="7969158">got</span><span class="op" id="7969161">.</span><span class="ident" id="7969162">Column</span><span class="op" id="7969168">,</span>&nbsp;<span class="ident" id="7969170">want</span><span class="op" id="7969174">.</span><span class="ident" id="7969175">Offset</span><span class="op" id="7969181">,</span>&nbsp;<span class="ident" id="7969183">want</span><span class="op" id="7969187">.</span><span class="ident" id="7969188">Line</span><span class="op" id="7969192">,</span>&nbsp;<span class="ident" id="7969194">want</span><span class="op" id="7969198">.</span><span class="ident" id="7969199">Column</span><span class="op" id="7969205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7969208">}</span><br>
<span class="lineno"></span><span class="op" id="7969210">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="7969213">func</span>&nbsp;<span class="ident" id="7969218">checkNextPos</span><span class="op" id="7969230">(</span><span class="ident" id="7969231">t</span>&nbsp;<span class="op" id="7969233">*</span><span class="ident" id="7969234">testing</span><span class="op" id="7969241">.</span><span class="ident" id="7969242">T</span><span class="op" id="7969243">,</span>&nbsp;<span class="ident" id="7969245">s</span>&nbsp;<span class="op" id="7969247">*</span><span class="ident" id="7969248">Scanner</span><span class="op" id="7969255">,</span>&nbsp;<span class="ident" id="7969257">offset</span><span class="op" id="7969263">,</span>&nbsp;<span class="ident" id="7969265">line</span><span class="op" id="7969269">,</span>&nbsp;<span class="ident" id="7969271">column</span>&nbsp;<span class="builtintype" id="7969278">int</span><span class="op" id="7969281">,</span>&nbsp;<span class="ident" id="7969283">char</span>&nbsp;<span class="builtintype" id="7969288">rune</span><span class="op" id="7969292">)</span>&nbsp;<span class="op" id="7969294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7969297">if</span>&nbsp;<span class="ident" id="7969300">ch</span>&nbsp;<span class="op" id="7969303">:=</span>&nbsp;<span class="ident" id="7969306">s</span><span class="op" id="7969307">.</span><span class="ident" id="7969308">Next</span><span class="op" id="7969312">(</span><span class="op" id="7969313">)</span><span class="op" id="7969314">;</span>&nbsp;<span class="ident" id="7969316">ch</span>&nbsp;<span class="op" id="7969319">!=</span>&nbsp;<span class="ident" id="7969322">char</span>&nbsp;<span class="op" id="7969327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969331">t</span><span class="op" id="7969332">.</span><span class="ident" id="7969333">Errorf</span><span class="op" id="7969339">(</span><span class="string" id="7969340">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7969358">,</span>&nbsp;<span class="ident" id="7969360">TokenString</span><span class="op" id="7969371">(</span><span class="ident" id="7969372">ch</span><span class="op" id="7969374">)</span><span class="op" id="7969375">,</span>&nbsp;<span class="ident" id="7969377">TokenString</span><span class="op" id="7969388">(</span><span class="ident" id="7969389">char</span><span class="op" id="7969393">)</span><span class="op" id="7969394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7969397">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969400">want</span>&nbsp;<span class="op" id="7969405">:=</span>&nbsp;<span class="ident" id="7969408">Position</span><span class="op" id="7969416">{</span><span class="ident" id="7969417">Offset</span><span class="op" id="7969423">:</span>&nbsp;<span class="ident" id="7969425">offset</span><span class="op" id="7969431">,</span>&nbsp;<span class="ident" id="7969433">Line</span><span class="op" id="7969437">:</span>&nbsp;<span class="ident" id="7969439">line</span><span class="op" id="7969443">,</span>&nbsp;<span class="ident" id="7969445">Column</span><span class="op" id="7969451">:</span>&nbsp;<span class="ident" id="7969453">column</span><span class="op" id="7969459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969462">checkPos</span><span class="op" id="7969470">(</span><span class="ident" id="7969471">t</span><span class="op" id="7969472">,</span>&nbsp;<span class="ident" id="7969474">s</span><span class="op" id="7969475">.</span><span class="ident" id="7969476">Pos</span><span class="op" id="7969479">(</span><span class="op" id="7969480">)</span><span class="op" id="7969481">,</span>&nbsp;<span class="ident" id="7969483">want</span><span class="op" id="7969487">)</span><br>
<span class="lineno"></span><span class="op" id="7969489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7969492">func</span>&nbsp;<span class="ident" id="7969497">checkScanPos</span><span class="op" id="7969509">(</span><span class="ident" id="7969510">t</span>&nbsp;<span class="op" id="7969512">*</span><span class="ident" id="7969513">testing</span><span class="op" id="7969520">.</span><span class="ident" id="7969521">T</span><span class="op" id="7969522">,</span>&nbsp;<span class="ident" id="7969524">s</span>&nbsp;<span class="op" id="7969526">*</span><span class="ident" id="7969527">Scanner</span><span class="op" id="7969534">,</span>&nbsp;<span class="ident" id="7969536">offset</span><span class="op" id="7969542">,</span>&nbsp;<span class="ident" id="7969544">line</span><span class="op" id="7969548">,</span>&nbsp;<span class="ident" id="7969550">column</span>&nbsp;<span class="builtintype" id="7969557">int</span><span class="op" id="7969560">,</span>&nbsp;<span class="ident" id="7969562">char</span>&nbsp;<span class="builtintype" id="7969567">rune</span><span class="op" id="7969571">)</span>&nbsp;<span class="op" id="7969573">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969576">want</span>&nbsp;<span class="op" id="7969581">:=</span>&nbsp;<span class="ident" id="7969584">Position</span><span class="op" id="7969592">{</span><span class="ident" id="7969593">Offset</span><span class="op" id="7969599">:</span>&nbsp;<span class="ident" id="7969601">offset</span><span class="op" id="7969607">,</span>&nbsp;<span class="ident" id="7969609">Line</span><span class="op" id="7969613">:</span>&nbsp;<span class="ident" id="7969615">line</span><span class="op" id="7969619">,</span>&nbsp;<span class="ident" id="7969621">Column</span><span class="op" id="7969627">:</span>&nbsp;<span class="ident" id="7969629">column</span><span class="op" id="7969635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969638">checkPos</span><span class="op" id="7969646">(</span><span class="ident" id="7969647">t</span><span class="op" id="7969648">,</span>&nbsp;<span class="ident" id="7969650">s</span><span class="op" id="7969651">.</span><span class="ident" id="7969652">Pos</span><span class="op" id="7969655">(</span><span class="op" id="7969656">)</span><span class="op" id="7969657">,</span>&nbsp;<span class="ident" id="7969659">want</span><span class="op" id="7969663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7969666">if</span>&nbsp;<span class="ident" id="7969669">ch</span>&nbsp;<span class="op" id="7969672">:=</span>&nbsp;<span class="ident" id="7969675">s</span><span class="op" id="7969676">.</span><span class="ident" id="7969677">Scan</span><span class="op" id="7969681">(</span><span class="op" id="7969682">)</span><span class="op" id="7969683">;</span>&nbsp;<span class="ident" id="7969685">ch</span>&nbsp;<span class="op" id="7969688">!=</span>&nbsp;<span class="ident" id="7969691">char</span>&nbsp;<span class="op" id="7969696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969700">t</span><span class="op" id="7969701">.</span><span class="ident" id="7969702">Errorf</span><span class="op" id="7969708">(</span><span class="string" id="7969709">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7969727">,</span>&nbsp;<span class="ident" id="7969729">TokenString</span><span class="op" id="7969740">(</span><span class="ident" id="7969741">ch</span><span class="op" id="7969743">)</span><span class="op" id="7969744">,</span>&nbsp;<span class="ident" id="7969746">TokenString</span><span class="op" id="7969757">(</span><span class="ident" id="7969758">char</span><span class="op" id="7969762">)</span><span class="op" id="7969763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7969767">if</span>&nbsp;<span class="builtintype" id="7969770">string</span><span class="op" id="7969776">(</span><span class="ident" id="7969777">ch</span><span class="op" id="7969779">)</span>&nbsp;<span class="op" id="7969781">!=</span>&nbsp;<span class="ident" id="7969784">s</span><span class="op" id="7969785">.</span><span class="ident" id="7969786">TokenText</span><span class="op" id="7969795">(</span><span class="op" id="7969796">)</span>&nbsp;<span class="op" id="7969798">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969803">t</span><span class="op" id="7969804">.</span><span class="ident" id="7969805">Errorf</span><span class="op" id="7969811">(</span><span class="string" id="7969812">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7969831">,</span>&nbsp;<span class="ident" id="7969833">s</span><span class="op" id="7969834">.</span><span class="ident" id="7969835">TokenText</span><span class="op" id="7969844">(</span><span class="op" id="7969845">)</span><span class="op" id="7969846">,</span>&nbsp;<span class="builtintype" id="7969848">string</span><span class="op" id="7969854">(</span><span class="ident" id="7969855">ch</span><span class="op" id="7969857">)</span><span class="op" id="7969858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7969862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7969865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969868">checkPos</span><span class="op" id="7969876">(</span><span class="ident" id="7969877">t</span><span class="op" id="7969878">,</span>&nbsp;<span class="ident" id="7969880">s</span><span class="op" id="7969881">.</span><span class="ident" id="7969882">Position</span><span class="op" id="7969890">,</span>&nbsp;<span class="ident" id="7969892">want</span><span class="op" id="7969896">)</span><br>
<span class="lineno"></span><span class="op" id="7969898">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="7969901">func</span>&nbsp;<span class="ident" id="7969906">TestPos</span><span class="op" id="7969913">(</span><span class="ident" id="7969914">t</span>&nbsp;<span class="op" id="7969916">*</span><span class="ident" id="7969917">testing</span><span class="op" id="7969924">.</span><span class="ident" id="7969925">T</span><span class="op" id="7969926">)</span>&nbsp;<span class="op" id="7969928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7969931">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7969961">s</span>&nbsp;<span class="op" id="7969963">:=</span>&nbsp;<span class="builtinfunc" id="7969966">new</span><span class="op" id="7969969">(</span><span class="ident" id="7969970">Scanner</span><span class="op" id="7969977">)</span><span class="op" id="7969978">.</span><span class="ident" id="7969979">Init</span><span class="op" id="7969983">(</span><span class="ident" id="7969984">strings</span><span class="op" id="7969991">.</span><span class="ident" id="7969992">NewReader</span><span class="op" id="7970001">(</span><span class="string" id="7970002">&#34;&#34;</span><span class="op" id="7970004">)</span><span class="op" id="7970005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970008">checkPos</span><span class="op" id="7970016">(</span><span class="ident" id="7970017">t</span><span class="op" id="7970018">,</span>&nbsp;<span class="ident" id="7970020">s</span><span class="op" id="7970021">.</span><span class="ident" id="7970022">Pos</span><span class="op" id="7970025">(</span><span class="op" id="7970026">)</span><span class="op" id="7970027">,</span>&nbsp;<span class="ident" id="7970029">Position</span><span class="op" id="7970037">{</span><span class="ident" id="7970038">Offset</span><span class="op" id="7970044">:</span>&nbsp;<span class="num" id="7970046">0</span><span class="op" id="7970047">,</span>&nbsp;<span class="ident" id="7970049">Line</span><span class="op" id="7970053">:</span>&nbsp;<span class="num" id="7970055">1</span><span class="op" id="7970056">,</span>&nbsp;<span class="ident" id="7970058">Column</span><span class="op" id="7970064">:</span>&nbsp;<span class="num" id="7970066">1</span><span class="op" id="7970067">}</span><span class="op" id="7970068">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970071">s</span><span class="op" id="7970072">.</span><span class="ident" id="7970073">Peek</span><span class="op" id="7970077">(</span><span class="op" id="7970078">)</span>&nbsp;<span class="comment" id="7970080">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970117">checkPos</span><span class="op" id="7970125">(</span><span class="ident" id="7970126">t</span><span class="op" id="7970127">,</span>&nbsp;<span class="ident" id="7970129">s</span><span class="op" id="7970130">.</span><span class="ident" id="7970131">Pos</span><span class="op" id="7970134">(</span><span class="op" id="7970135">)</span><span class="op" id="7970136">,</span>&nbsp;<span class="ident" id="7970138">Position</span><span class="op" id="7970146">{</span><span class="ident" id="7970147">Offset</span><span class="op" id="7970153">:</span>&nbsp;<span class="num" id="7970155">0</span><span class="op" id="7970156">,</span>&nbsp;<span class="ident" id="7970158">Line</span><span class="op" id="7970162">:</span>&nbsp;<span class="num" id="7970164">1</span><span class="op" id="7970165">,</span>&nbsp;<span class="ident" id="7970167">Column</span><span class="op" id="7970173">:</span>&nbsp;<span class="num" id="7970175">1</span><span class="op" id="7970176">}</span><span class="op" id="7970177">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7970181">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970225">s</span>&nbsp;<span class="op" id="7970227">=</span>&nbsp;<span class="builtinfunc" id="7970229">new</span><span class="op" id="7970232">(</span><span class="ident" id="7970233">Scanner</span><span class="op" id="7970240">)</span><span class="op" id="7970241">.</span><span class="ident" id="7970242">Init</span><span class="op" id="7970246">(</span><span class="ident" id="7970247">strings</span><span class="op" id="7970254">.</span><span class="ident" id="7970255">NewReader</span><span class="op" id="7970264">(</span><span class="string" id="7970265">&#34;\n&#34;</span><span class="op" id="7970269">)</span><span class="op" id="7970270">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970273">checkPos</span><span class="op" id="7970281">(</span><span class="ident" id="7970282">t</span><span class="op" id="7970283">,</span>&nbsp;<span class="ident" id="7970285">s</span><span class="op" id="7970286">.</span><span class="ident" id="7970287">Pos</span><span class="op" id="7970290">(</span><span class="op" id="7970291">)</span><span class="op" id="7970292">,</span>&nbsp;<span class="ident" id="7970294">Position</span><span class="op" id="7970302">{</span><span class="ident" id="7970303">Offset</span><span class="op" id="7970309">:</span>&nbsp;<span class="num" id="7970311">0</span><span class="op" id="7970312">,</span>&nbsp;<span class="ident" id="7970314">Line</span><span class="op" id="7970318">:</span>&nbsp;<span class="num" id="7970320">1</span><span class="op" id="7970321">,</span>&nbsp;<span class="ident" id="7970323">Column</span><span class="op" id="7970329">:</span>&nbsp;<span class="num" id="7970331">1</span><span class="op" id="7970332">}</span><span class="op" id="7970333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970336">checkNextPos</span><span class="op" id="7970348">(</span><span class="ident" id="7970349">t</span><span class="op" id="7970350">,</span>&nbsp;<span class="ident" id="7970352">s</span><span class="op" id="7970353">,</span>&nbsp;<span class="num" id="7970355">1</span><span class="op" id="7970356">,</span>&nbsp;<span class="num" id="7970358">2</span><span class="op" id="7970359">,</span>&nbsp;<span class="num" id="7970361">1</span><span class="op" id="7970362">,</span>&nbsp;<span class="string" id="7970364">&#39;\n&#39;</span><span class="op" id="7970368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7970371">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7970409">for</span>&nbsp;<span class="ident" id="7970413">i</span>&nbsp;<span class="op" id="7970415">:=</span>&nbsp;<span class="num" id="7970418">10</span><span class="op" id="7970420">;</span>&nbsp;<span class="ident" id="7970422">i</span>&nbsp;<span class="op" id="7970424">&gt;</span>&nbsp;<span class="num" id="7970426">0</span><span class="op" id="7970427">;</span>&nbsp;<span class="ident" id="7970429">i</span><span class="op" id="7970430">--</span>&nbsp;<span class="op" id="7970433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970437">checkScanPos</span><span class="op" id="7970449">(</span><span class="ident" id="7970450">t</span><span class="op" id="7970451">,</span>&nbsp;<span class="ident" id="7970453">s</span><span class="op" id="7970454">,</span>&nbsp;<span class="num" id="7970456">1</span><span class="op" id="7970457">,</span>&nbsp;<span class="num" id="7970459">2</span><span class="op" id="7970460">,</span>&nbsp;<span class="num" id="7970462">1</span><span class="op" id="7970463">,</span>&nbsp;<span class="ident" id="7970465">EOF</span><span class="op" id="7970468">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7970471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7970474">if</span>&nbsp;<span class="ident" id="7970477">s</span><span class="op" id="7970478">.</span><span class="ident" id="7970479">ErrorCount</span>&nbsp;<span class="op" id="7970490">!=</span>&nbsp;<span class="num" id="7970493">0</span>&nbsp;<span class="op" id="7970495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970499">t</span><span class="op" id="7970500">.</span><span class="ident" id="7970501">Errorf</span><span class="op" id="7970507">(</span><span class="string" id="7970508">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7970519">,</span>&nbsp;<span class="ident" id="7970521">s</span><span class="op" id="7970522">.</span><span class="ident" id="7970523">ErrorCount</span><span class="op" id="7970533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7970536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7970540">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970593">s</span>&nbsp;<span class="op" id="7970595">=</span>&nbsp;<span class="builtinfunc" id="7970597">new</span><span class="op" id="7970600">(</span><span class="ident" id="7970601">Scanner</span><span class="op" id="7970608">)</span><span class="op" id="7970609">.</span><span class="ident" id="7970610">Init</span><span class="op" id="7970614">(</span><span class="ident" id="7970615">strings</span><span class="op" id="7970622">.</span><span class="ident" id="7970623">NewReader</span><span class="op" id="7970632">(</span><span class="string" id="7970633">&#34;本&#34;</span><span class="op" id="7970638">)</span><span class="op" id="7970639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970642">checkPos</span><span class="op" id="7970650">(</span><span class="ident" id="7970651">t</span><span class="op" id="7970652">,</span>&nbsp;<span class="ident" id="7970654">s</span><span class="op" id="7970655">.</span><span class="ident" id="7970656">Pos</span><span class="op" id="7970659">(</span><span class="op" id="7970660">)</span><span class="op" id="7970661">,</span>&nbsp;<span class="ident" id="7970663">Position</span><span class="op" id="7970671">{</span><span class="ident" id="7970672">Offset</span><span class="op" id="7970678">:</span>&nbsp;<span class="num" id="7970680">0</span><span class="op" id="7970681">,</span>&nbsp;<span class="ident" id="7970683">Line</span><span class="op" id="7970687">:</span>&nbsp;<span class="num" id="7970689">1</span><span class="op" id="7970690">,</span>&nbsp;<span class="ident" id="7970692">Column</span><span class="op" id="7970698">:</span>&nbsp;<span class="num" id="7970700">1</span><span class="op" id="7970701">}</span><span class="op" id="7970702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970705">checkNextPos</span><span class="op" id="7970717">(</span><span class="ident" id="7970718">t</span><span class="op" id="7970719">,</span>&nbsp;<span class="ident" id="7970721">s</span><span class="op" id="7970722">,</span>&nbsp;<span class="num" id="7970724">3</span><span class="op" id="7970725">,</span>&nbsp;<span class="num" id="7970727">1</span><span class="op" id="7970728">,</span>&nbsp;<span class="num" id="7970730">2</span><span class="op" id="7970731">,</span>&nbsp;<span class="string" id="7970733">&#39;本&#39;</span><span class="op" id="7970738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7970741">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7970779">for</span>&nbsp;<span class="ident" id="7970783">i</span>&nbsp;<span class="op" id="7970785">:=</span>&nbsp;<span class="num" id="7970788">10</span><span class="op" id="7970790">;</span>&nbsp;<span class="ident" id="7970792">i</span>&nbsp;<span class="op" id="7970794">&gt;</span>&nbsp;<span class="num" id="7970796">0</span><span class="op" id="7970797">;</span>&nbsp;<span class="ident" id="7970799">i</span><span class="op" id="7970800">--</span>&nbsp;<span class="op" id="7970803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970807">checkScanPos</span><span class="op" id="7970819">(</span><span class="ident" id="7970820">t</span><span class="op" id="7970821">,</span>&nbsp;<span class="ident" id="7970823">s</span><span class="op" id="7970824">,</span>&nbsp;<span class="num" id="7970826">3</span><span class="op" id="7970827">,</span>&nbsp;<span class="num" id="7970829">1</span><span class="op" id="7970830">,</span>&nbsp;<span class="num" id="7970832">2</span><span class="op" id="7970833">,</span>&nbsp;<span class="ident" id="7970835">EOF</span><span class="op" id="7970838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7970841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7970844">if</span>&nbsp;<span class="ident" id="7970847">s</span><span class="op" id="7970848">.</span><span class="ident" id="7970849">ErrorCount</span>&nbsp;<span class="op" id="7970860">!=</span>&nbsp;<span class="num" id="7970863">0</span>&nbsp;<span class="op" id="7970865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970869">t</span><span class="op" id="7970870">.</span><span class="ident" id="7970871">Errorf</span><span class="op" id="7970877">(</span><span class="string" id="7970878">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7970889">,</span>&nbsp;<span class="ident" id="7970891">s</span><span class="op" id="7970892">.</span><span class="ident" id="7970893">ErrorCount</span><span class="op" id="7970903">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7970906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7970910">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7970943">s</span>&nbsp;<span class="op" id="7970945">=</span>&nbsp;<span class="builtinfunc" id="7970947">new</span><span class="op" id="7970950">(</span><span class="ident" id="7970951">Scanner</span><span class="op" id="7970958">)</span><span class="op" id="7970959">.</span><span class="ident" id="7970960">Init</span><span class="op" id="7970964">(</span><span class="ident" id="7970965">strings</span><span class="op" id="7970972">.</span><span class="ident" id="7970973">NewReader</span><span class="op" id="7970982">(</span><span class="string" id="7970983">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="7971010">)</span><span class="op" id="7971011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971014">checkNextPos</span><span class="op" id="7971026">(</span><span class="ident" id="7971027">t</span><span class="op" id="7971028">,</span>&nbsp;<span class="ident" id="7971030">s</span><span class="op" id="7971031">,</span>&nbsp;<span class="num" id="7971033">1</span><span class="op" id="7971034">,</span>&nbsp;<span class="num" id="7971036">1</span><span class="op" id="7971037">,</span>&nbsp;<span class="num" id="7971039">2</span><span class="op" id="7971040">,</span>&nbsp;<span class="string" id="7971042">&#39;&nbsp;&#39;</span><span class="op" id="7971045">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971048">s</span><span class="op" id="7971049">.</span><span class="ident" id="7971050">Peek</span><span class="op" id="7971054">(</span><span class="op" id="7971055">)</span>&nbsp;<span class="comment" id="7971057">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971094">checkNextPos</span><span class="op" id="7971106">(</span><span class="ident" id="7971107">t</span><span class="op" id="7971108">,</span>&nbsp;<span class="ident" id="7971110">s</span><span class="op" id="7971111">,</span>&nbsp;<span class="num" id="7971113">2</span><span class="op" id="7971114">,</span>&nbsp;<span class="num" id="7971116">1</span><span class="op" id="7971117">,</span>&nbsp;<span class="num" id="7971119">3</span><span class="op" id="7971120">,</span>&nbsp;<span class="string" id="7971122">&#39;&nbsp;&#39;</span><span class="op" id="7971125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971128">checkNextPos</span><span class="op" id="7971140">(</span><span class="ident" id="7971141">t</span><span class="op" id="7971142">,</span>&nbsp;<span class="ident" id="7971144">s</span><span class="op" id="7971145">,</span>&nbsp;<span class="num" id="7971147">3</span><span class="op" id="7971148">,</span>&nbsp;<span class="num" id="7971150">1</span><span class="op" id="7971151">,</span>&nbsp;<span class="num" id="7971153">4</span><span class="op" id="7971154">,</span>&nbsp;<span class="string" id="7971156">&#39;f&#39;</span><span class="op" id="7971159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971162">checkNextPos</span><span class="op" id="7971174">(</span><span class="ident" id="7971175">t</span><span class="op" id="7971176">,</span>&nbsp;<span class="ident" id="7971178">s</span><span class="op" id="7971179">,</span>&nbsp;<span class="num" id="7971181">4</span><span class="op" id="7971182">,</span>&nbsp;<span class="num" id="7971184">1</span><span class="op" id="7971185">,</span>&nbsp;<span class="num" id="7971187">5</span><span class="op" id="7971188">,</span>&nbsp;<span class="string" id="7971190">&#39;o&#39;</span><span class="op" id="7971193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971196">checkNextPos</span><span class="op" id="7971208">(</span><span class="ident" id="7971209">t</span><span class="op" id="7971210">,</span>&nbsp;<span class="ident" id="7971212">s</span><span class="op" id="7971213">,</span>&nbsp;<span class="num" id="7971215">5</span><span class="op" id="7971216">,</span>&nbsp;<span class="num" id="7971218">1</span><span class="op" id="7971219">,</span>&nbsp;<span class="num" id="7971221">6</span><span class="op" id="7971222">,</span>&nbsp;<span class="string" id="7971224">&#39;o&#39;</span><span class="op" id="7971227">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971230">checkNextPos</span><span class="op" id="7971242">(</span><span class="ident" id="7971243">t</span><span class="op" id="7971244">,</span>&nbsp;<span class="ident" id="7971246">s</span><span class="op" id="7971247">,</span>&nbsp;<span class="num" id="7971249">8</span><span class="op" id="7971250">,</span>&nbsp;<span class="num" id="7971252">1</span><span class="op" id="7971253">,</span>&nbsp;<span class="num" id="7971255">7</span><span class="op" id="7971256">,</span>&nbsp;<span class="string" id="7971258">&#39;६&#39;</span><span class="op" id="7971263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971266">checkNextPos</span><span class="op" id="7971278">(</span><span class="ident" id="7971279">t</span><span class="op" id="7971280">,</span>&nbsp;<span class="ident" id="7971282">s</span><span class="op" id="7971283">,</span>&nbsp;<span class="num" id="7971285">11</span><span class="op" id="7971287">,</span>&nbsp;<span class="num" id="7971289">1</span><span class="op" id="7971290">,</span>&nbsp;<span class="num" id="7971292">8</span><span class="op" id="7971293">,</span>&nbsp;<span class="string" id="7971295">&#39;४&#39;</span><span class="op" id="7971300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971303">checkNextPos</span><span class="op" id="7971315">(</span><span class="ident" id="7971316">t</span><span class="op" id="7971317">,</span>&nbsp;<span class="ident" id="7971319">s</span><span class="op" id="7971320">,</span>&nbsp;<span class="num" id="7971322">12</span><span class="op" id="7971324">,</span>&nbsp;<span class="num" id="7971326">1</span><span class="op" id="7971327">,</span>&nbsp;<span class="num" id="7971329">9</span><span class="op" id="7971330">,</span>&nbsp;<span class="string" id="7971332">&#39;&nbsp;&#39;</span><span class="op" id="7971335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971338">checkNextPos</span><span class="op" id="7971350">(</span><span class="ident" id="7971351">t</span><span class="op" id="7971352">,</span>&nbsp;<span class="ident" id="7971354">s</span><span class="op" id="7971355">,</span>&nbsp;<span class="num" id="7971357">13</span><span class="op" id="7971359">,</span>&nbsp;<span class="num" id="7971361">1</span><span class="op" id="7971362">,</span>&nbsp;<span class="num" id="7971364">10</span><span class="op" id="7971366">,</span>&nbsp;<span class="string" id="7971368">&#39;&nbsp;&#39;</span><span class="op" id="7971371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971374">checkNextPos</span><span class="op" id="7971386">(</span><span class="ident" id="7971387">t</span><span class="op" id="7971388">,</span>&nbsp;<span class="ident" id="7971390">s</span><span class="op" id="7971391">,</span>&nbsp;<span class="num" id="7971393">14</span><span class="op" id="7971395">,</span>&nbsp;<span class="num" id="7971397">2</span><span class="op" id="7971398">,</span>&nbsp;<span class="num" id="7971400">1</span><span class="op" id="7971401">,</span>&nbsp;<span class="string" id="7971403">&#39;\n&#39;</span><span class="op" id="7971407">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971410">checkNextPos</span><span class="op" id="7971422">(</span><span class="ident" id="7971423">t</span><span class="op" id="7971424">,</span>&nbsp;<span class="ident" id="7971426">s</span><span class="op" id="7971427">,</span>&nbsp;<span class="num" id="7971429">15</span><span class="op" id="7971431">,</span>&nbsp;<span class="num" id="7971433">3</span><span class="op" id="7971434">,</span>&nbsp;<span class="num" id="7971436">1</span><span class="op" id="7971437">,</span>&nbsp;<span class="string" id="7971439">&#39;\n&#39;</span><span class="op" id="7971443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971446">checkNextPos</span><span class="op" id="7971458">(</span><span class="ident" id="7971459">t</span><span class="op" id="7971460">,</span>&nbsp;<span class="ident" id="7971462">s</span><span class="op" id="7971463">,</span>&nbsp;<span class="num" id="7971465">18</span><span class="op" id="7971467">,</span>&nbsp;<span class="num" id="7971469">3</span><span class="op" id="7971470">,</span>&nbsp;<span class="num" id="7971472">2</span><span class="op" id="7971473">,</span>&nbsp;<span class="string" id="7971475">&#39;本&#39;</span><span class="op" id="7971480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971483">checkNextPos</span><span class="op" id="7971495">(</span><span class="ident" id="7971496">t</span><span class="op" id="7971497">,</span>&nbsp;<span class="ident" id="7971499">s</span><span class="op" id="7971500">,</span>&nbsp;<span class="num" id="7971502">21</span><span class="op" id="7971504">,</span>&nbsp;<span class="num" id="7971506">3</span><span class="op" id="7971507">,</span>&nbsp;<span class="num" id="7971509">3</span><span class="op" id="7971510">,</span>&nbsp;<span class="string" id="7971512">&#39;語&#39;</span><span class="op" id="7971517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971520">checkNextPos</span><span class="op" id="7971532">(</span><span class="ident" id="7971533">t</span><span class="op" id="7971534">,</span>&nbsp;<span class="ident" id="7971536">s</span><span class="op" id="7971537">,</span>&nbsp;<span class="num" id="7971539">22</span><span class="op" id="7971541">,</span>&nbsp;<span class="num" id="7971543">4</span><span class="op" id="7971544">,</span>&nbsp;<span class="num" id="7971546">1</span><span class="op" id="7971547">,</span>&nbsp;<span class="string" id="7971549">&#39;\n&#39;</span><span class="op" id="7971553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7971556">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7971594">for</span>&nbsp;<span class="ident" id="7971598">i</span>&nbsp;<span class="op" id="7971600">:=</span>&nbsp;<span class="num" id="7971603">10</span><span class="op" id="7971605">;</span>&nbsp;<span class="ident" id="7971607">i</span>&nbsp;<span class="op" id="7971609">&gt;</span>&nbsp;<span class="num" id="7971611">0</span><span class="op" id="7971612">;</span>&nbsp;<span class="ident" id="7971614">i</span><span class="op" id="7971615">--</span>&nbsp;<span class="op" id="7971618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971622">checkScanPos</span><span class="op" id="7971634">(</span><span class="ident" id="7971635">t</span><span class="op" id="7971636">,</span>&nbsp;<span class="ident" id="7971638">s</span><span class="op" id="7971639">,</span>&nbsp;<span class="num" id="7971641">22</span><span class="op" id="7971643">,</span>&nbsp;<span class="num" id="7971645">4</span><span class="op" id="7971646">,</span>&nbsp;<span class="num" id="7971648">1</span><span class="op" id="7971649">,</span>&nbsp;<span class="ident" id="7971651">EOF</span><span class="op" id="7971654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7971657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7971660">if</span>&nbsp;<span class="ident" id="7971663">s</span><span class="op" id="7971664">.</span><span class="ident" id="7971665">ErrorCount</span>&nbsp;<span class="op" id="7971676">!=</span>&nbsp;<span class="num" id="7971679">0</span>&nbsp;<span class="op" id="7971681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971685">t</span><span class="op" id="7971686">.</span><span class="ident" id="7971687">Errorf</span><span class="op" id="7971693">(</span><span class="string" id="7971694">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7971705">,</span>&nbsp;<span class="ident" id="7971707">s</span><span class="op" id="7971708">.</span><span class="ident" id="7971709">ErrorCount</span><span class="op" id="7971719">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7971722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7971726">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971759">s</span>&nbsp;<span class="op" id="7971761">=</span>&nbsp;<span class="builtinfunc" id="7971763">new</span><span class="op" id="7971766">(</span><span class="ident" id="7971767">Scanner</span><span class="op" id="7971774">)</span><span class="op" id="7971775">.</span><span class="ident" id="7971776">Init</span><span class="op" id="7971780">(</span><span class="ident" id="7971781">strings</span><span class="op" id="7971788">.</span><span class="ident" id="7971789">NewReader</span><span class="op" id="7971798">(</span><span class="string" id="7971799">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="7971817">)</span><span class="op" id="7971818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971821">s</span><span class="op" id="7971822">.</span><span class="ident" id="7971823">Mode</span>&nbsp;<span class="op" id="7971828">=</span>&nbsp;<span class="num" id="7971830">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971833">s</span><span class="op" id="7971834">.</span><span class="ident" id="7971835">Whitespace</span>&nbsp;<span class="op" id="7971846">=</span>&nbsp;<span class="num" id="7971848">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971851">checkScanPos</span><span class="op" id="7971863">(</span><span class="ident" id="7971864">t</span><span class="op" id="7971865">,</span>&nbsp;<span class="ident" id="7971867">s</span><span class="op" id="7971868">,</span>&nbsp;<span class="num" id="7971870">0</span><span class="op" id="7971871">,</span>&nbsp;<span class="num" id="7971873">1</span><span class="op" id="7971874">,</span>&nbsp;<span class="num" id="7971876">1</span><span class="op" id="7971877">,</span>&nbsp;<span class="string" id="7971879">&#39;a&#39;</span><span class="op" id="7971882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971885">s</span><span class="op" id="7971886">.</span><span class="ident" id="7971887">Peek</span><span class="op" id="7971891">(</span><span class="op" id="7971892">)</span>&nbsp;<span class="comment" id="7971894">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971931">checkScanPos</span><span class="op" id="7971943">(</span><span class="ident" id="7971944">t</span><span class="op" id="7971945">,</span>&nbsp;<span class="ident" id="7971947">s</span><span class="op" id="7971948">,</span>&nbsp;<span class="num" id="7971950">1</span><span class="op" id="7971951">,</span>&nbsp;<span class="num" id="7971953">1</span><span class="op" id="7971954">,</span>&nbsp;<span class="num" id="7971956">2</span><span class="op" id="7971957">,</span>&nbsp;<span class="string" id="7971959">&#39;b&#39;</span><span class="op" id="7971962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971965">checkScanPos</span><span class="op" id="7971977">(</span><span class="ident" id="7971978">t</span><span class="op" id="7971979">,</span>&nbsp;<span class="ident" id="7971981">s</span><span class="op" id="7971982">,</span>&nbsp;<span class="num" id="7971984">2</span><span class="op" id="7971985">,</span>&nbsp;<span class="num" id="7971987">1</span><span class="op" id="7971988">,</span>&nbsp;<span class="num" id="7971990">3</span><span class="op" id="7971991">,</span>&nbsp;<span class="string" id="7971993">&#39;c&#39;</span><span class="op" id="7971996">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7971999">checkScanPos</span><span class="op" id="7972011">(</span><span class="ident" id="7972012">t</span><span class="op" id="7972013">,</span>&nbsp;<span class="ident" id="7972015">s</span><span class="op" id="7972016">,</span>&nbsp;<span class="num" id="7972018">3</span><span class="op" id="7972019">,</span>&nbsp;<span class="num" id="7972021">1</span><span class="op" id="7972022">,</span>&nbsp;<span class="num" id="7972024">4</span><span class="op" id="7972025">,</span>&nbsp;<span class="string" id="7972027">&#39;\n&#39;</span><span class="op" id="7972031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7972034">checkScanPos</span><span class="op" id="7972046">(</span><span class="ident" id="7972047">t</span><span class="op" id="7972048">,</span>&nbsp;<span class="ident" id="7972050">s</span><span class="op" id="7972051">,</span>&nbsp;<span class="num" id="7972053">4</span><span class="op" id="7972054">,</span>&nbsp;<span class="num" id="7972056">2</span><span class="op" id="7972057">,</span>&nbsp;<span class="num" id="7972059">1</span><span class="op" id="7972060">,</span>&nbsp;<span class="string" id="7972062">&#39;本&#39;</span><span class="op" id="7972067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7972070">checkScanPos</span><span class="op" id="7972082">(</span><span class="ident" id="7972083">t</span><span class="op" id="7972084">,</span>&nbsp;<span class="ident" id="7972086">s</span><span class="op" id="7972087">,</span>&nbsp;<span class="num" id="7972089">7</span><span class="op" id="7972090">,</span>&nbsp;<span class="num" id="7972092">2</span><span class="op" id="7972093">,</span>&nbsp;<span class="num" id="7972095">2</span><span class="op" id="7972096">,</span>&nbsp;<span class="string" id="7972098">&#39;語&#39;</span><span class="op" id="7972103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7972106">checkScanPos</span><span class="op" id="7972118">(</span><span class="ident" id="7972119">t</span><span class="op" id="7972120">,</span>&nbsp;<span class="ident" id="7972122">s</span><span class="op" id="7972123">,</span>&nbsp;<span class="num" id="7972125">10</span><span class="op" id="7972127">,</span>&nbsp;<span class="num" id="7972129">2</span><span class="op" id="7972130">,</span>&nbsp;<span class="num" id="7972132">3</span><span class="op" id="7972133">,</span>&nbsp;<span class="string" id="7972135">&#39;\n&#39;</span><span class="op" id="7972139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7972142">checkScanPos</span><span class="op" id="7972154">(</span><span class="ident" id="7972155">t</span><span class="op" id="7972156">,</span>&nbsp;<span class="ident" id="7972158">s</span><span class="op" id="7972159">,</span>&nbsp;<span class="num" id="7972161">11</span><span class="op" id="7972163">,</span>&nbsp;<span class="num" id="7972165">3</span><span class="op" id="7972166">,</span>&nbsp;<span class="num" id="7972168">1</span><span class="op" id="7972169">,</span>&nbsp;<span class="string" id="7972171">&#39;\n&#39;</span><span class="op" id="7972175">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7972178">checkScanPos</span><span class="op" id="7972190">(</span><span class="ident" id="7972191">t</span><span class="op" id="7972192">,</span>&nbsp;<span class="ident" id="7972194">s</span><span class="op" id="7972195">,</span>&nbsp;<span class="num" id="7972197">12</span><span class="op" id="7972199">,</span>&nbsp;<span class="num" id="7972201">4</span><span class="op" id="7972202">,</span>&nbsp;<span class="num" id="7972204">1</span><span class="op" id="7972205">,</span>&nbsp;<span class="string" id="7972207">&#39;x&#39;</span><span class="op" id="7972210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7972213">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7972251">for</span>&nbsp;<span class="ident" id="7972255">i</span>&nbsp;<span class="op" id="7972257">:=</span>&nbsp;<span class="num" id="7972260">10</span><span class="op" id="7972262">;</span>&nbsp;<span class="ident" id="7972264">i</span>&nbsp;<span class="op" id="7972266">&gt;</span>&nbsp;<span class="num" id="7972268">0</span><span class="op" id="7972269">;</span>&nbsp;<span class="ident" id="7972271">i</span><span class="op" id="7972272">--</span>&nbsp;<span class="op" id="7972275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7972279">checkScanPos</span><span class="op" id="7972291">(</span><span class="ident" id="7972292">t</span><span class="op" id="7972293">,</span>&nbsp;<span class="ident" id="7972295">s</span><span class="op" id="7972296">,</span>&nbsp;<span class="num" id="7972298">13</span><span class="op" id="7972300">,</span>&nbsp;<span class="num" id="7972302">4</span><span class="op" id="7972303">,</span>&nbsp;<span class="num" id="7972305">2</span><span class="op" id="7972306">,</span>&nbsp;<span class="ident" id="7972308">EOF</span><span class="op" id="7972311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7972314">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7972317">if</span>&nbsp;<span class="ident" id="7972320">s</span><span class="op" id="7972321">.</span><span class="ident" id="7972322">ErrorCount</span>&nbsp;<span class="op" id="7972333">!=</span>&nbsp;<span class="num" id="7972336">0</span>&nbsp;<span class="op" id="7972338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7972342">t</span><span class="op" id="7972343">.</span><span class="ident" id="7972344">Errorf</span><span class="op" id="7972350">(</span><span class="string" id="7972351">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7972362">,</span>&nbsp;<span class="ident" id="7972364">s</span><span class="op" id="7972365">.</span><span class="ident" id="7972366">ErrorCount</span><span class="op" id="7972376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7972379">}</span><br>
<span class="lineno"></span><span class="op" id="7972381">}</span>
</div>
</body>
</html>
