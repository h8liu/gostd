<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html" class="current">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7428057">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7428112">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7428166">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7428217">package</span>&nbsp;<span class="ident" id="7428225">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7428230">import</span>&nbsp;<span class="op" id="7428237">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7428240">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7428250">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7428257">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7428264">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7428275">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7428286">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7428296">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7428299">type</span>&nbsp;<span class="ident" id="7428304">shutdownCodec</span>&nbsp;<span class="keyword" id="7428318">struct</span>&nbsp;<span class="op" id="7428325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428328">responded</span>&nbsp;<span class="keyword" id="7428338">chan</span>&nbsp;<span class="builtintype" id="7428343">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428348">closed</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7428358">bool</span><br>
<span class="lineno"></span><span class="op" id="7428363">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7428366">func</span>&nbsp;<span class="op" id="7428371">(</span><span class="ident" id="7428372">c</span>&nbsp;<span class="op" id="7428374">*</span><span class="ident" id="7428375">shutdownCodec</span><span class="op" id="7428388">)</span>&nbsp;<span class="ident" id="7428390">WriteRequest</span><span class="op" id="7428402">(</span><span class="op" id="7428403">*</span><span class="ident" id="7428404">Request</span><span class="op" id="7428411">,</span>&nbsp;<span class="keyword" id="7428413">interface</span><span class="op" id="7428422">{</span><span class="op" id="7428423">}</span><span class="op" id="7428424">)</span>&nbsp;<span class="builtintype" id="7428426">error</span>&nbsp;<span class="op" id="7428432">{</span>&nbsp;<span class="keyword" id="7428434">return</span>&nbsp;<span class="builtintype" id="7428441">nil</span>&nbsp;<span class="op" id="7428445">}</span><br>
<span class="lineno"></span><span class="keyword" id="7428447">func</span>&nbsp;<span class="op" id="7428452">(</span><span class="ident" id="7428453">c</span>&nbsp;<span class="op" id="7428455">*</span><span class="ident" id="7428456">shutdownCodec</span><span class="op" id="7428469">)</span>&nbsp;<span class="ident" id="7428471">ReadResponseBody</span><span class="op" id="7428487">(</span><span class="keyword" id="7428488">interface</span><span class="op" id="7428497">{</span><span class="op" id="7428498">}</span><span class="op" id="7428499">)</span>&nbsp;<span class="builtintype" id="7428501">error</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428513">{</span>&nbsp;<span class="keyword" id="7428515">return</span>&nbsp;<span class="builtintype" id="7428522">nil</span>&nbsp;<span class="op" id="7428526">}</span><br>
<span class="lineno"></span><span class="keyword" id="7428528">func</span>&nbsp;<span class="op" id="7428533">(</span><span class="ident" id="7428534">c</span>&nbsp;<span class="op" id="7428536">*</span><span class="ident" id="7428537">shutdownCodec</span><span class="op" id="7428550">)</span>&nbsp;<span class="ident" id="7428552">ReadResponseHeader</span><span class="op" id="7428570">(</span><span class="op" id="7428571">*</span><span class="ident" id="7428572">Response</span><span class="op" id="7428580">)</span>&nbsp;<span class="builtintype" id="7428582">error</span>&nbsp;<span class="op" id="7428588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428591">c</span><span class="op" id="7428592">.</span><span class="ident" id="7428593">responded</span>&nbsp;<span class="op" id="7428603">&lt;-</span>&nbsp;<span class="num" id="7428606">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7428609">return</span>&nbsp;<span class="ident" id="7428616">errors</span><span class="op" id="7428622">.</span><span class="ident" id="7428623">New</span><span class="op" id="7428626">(</span><span class="string" id="7428627">&#34;shutdownCodec&nbsp;ReadResponseHeader&#34;</span><span class="op" id="7428661">)</span><br>
<span class="lineno"></span><span class="op" id="7428663">}</span><br>
<span class="lineno"></span><span class="keyword" id="7428665">func</span>&nbsp;<span class="op" id="7428670">(</span><span class="ident" id="7428671">c</span>&nbsp;<span class="op" id="7428673">*</span><span class="ident" id="7428674">shutdownCodec</span><span class="op" id="7428687">)</span>&nbsp;<span class="ident" id="7428689">Close</span><span class="op" id="7428694">(</span><span class="op" id="7428695">)</span>&nbsp;<span class="builtintype" id="7428697">error</span>&nbsp;<span class="op" id="7428703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428706">c</span><span class="op" id="7428707">.</span><span class="ident" id="7428708">closed</span>&nbsp;<span class="op" id="7428715">=</span>&nbsp;<span class="builtintype" id="7428717">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7428723">return</span>&nbsp;<span class="builtintype" id="7428730">nil</span><br>
<span class="lineno">30</span><span class="op" id="7428734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7428737">func</span>&nbsp;<span class="ident" id="7428742">TestCloseCodec</span><span class="op" id="7428756">(</span><span class="ident" id="7428757">t</span>&nbsp;<span class="op" id="7428759">*</span><span class="ident" id="7428760">testing</span><span class="op" id="7428767">.</span><span class="ident" id="7428768">T</span><span class="op" id="7428769">)</span>&nbsp;<span class="op" id="7428771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428774">codec</span>&nbsp;<span class="op" id="7428780">:=</span>&nbsp;<span class="op" id="7428783">&amp;</span><span class="ident" id="7428784">shutdownCodec</span><span class="op" id="7428797">{</span><span class="ident" id="7428798">responded</span><span class="op" id="7428807">:</span>&nbsp;<span class="builtinfunc" id="7428809">make</span><span class="op" id="7428813">(</span><span class="keyword" id="7428814">chan</span>&nbsp;<span class="builtintype" id="7428819">int</span><span class="op" id="7428822">)</span><span class="op" id="7428823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428826">client</span>&nbsp;<span class="op" id="7428833">:=</span>&nbsp;<span class="ident" id="7428836">NewClientWithCodec</span><span class="op" id="7428854">(</span><span class="ident" id="7428855">codec</span><span class="op" id="7428860">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428863">&lt;-</span><span class="ident" id="7428865">codec</span><span class="op" id="7428870">.</span><span class="ident" id="7428871">responded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428882">client</span><span class="op" id="7428888">.</span><span class="ident" id="7428889">Close</span><span class="op" id="7428894">(</span><span class="op" id="7428895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7428898">if</span>&nbsp;<span class="op" id="7428901">!</span><span class="ident" id="7428902">codec</span><span class="op" id="7428907">.</span><span class="ident" id="7428908">closed</span>&nbsp;<span class="op" id="7428915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7428919">t</span><span class="op" id="7428920">.</span><span class="ident" id="7428921">Error</span><span class="op" id="7428926">(</span><span class="string" id="7428927">&#34;client.Close&nbsp;did&nbsp;not&nbsp;close&nbsp;codec&#34;</span><span class="op" id="7428961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7428964">}</span><br>
<span class="lineno">40</span><span class="op" id="7428966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7428969">//&nbsp;Test&nbsp;that&nbsp;errors&nbsp;in&nbsp;gob&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp;Issue&nbsp;7689.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7429035">type</span>&nbsp;<span class="ident" id="7429040">R</span>&nbsp;<span class="keyword" id="7429042">struct</span>&nbsp;<span class="op" id="7429049">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429052">msg</span>&nbsp;<span class="op" id="7429056">[</span><span class="op" id="7429057">]</span><span class="builtintype" id="7429058">byte</span>&nbsp;<span class="comment" id="7429063">//&nbsp;Not&nbsp;exported,&nbsp;so&nbsp;R&nbsp;does&nbsp;not&nbsp;work&nbsp;with&nbsp;gob.</span><br>
<span class="lineno"></span><span class="op" id="7429109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7429112">type</span>&nbsp;<span class="ident" id="7429117">S</span>&nbsp;<span class="keyword" id="7429119">struct</span><span class="op" id="7429125">{</span><span class="op" id="7429126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="7429129">func</span>&nbsp;<span class="op" id="7429134">(</span><span class="ident" id="7429135">s</span>&nbsp;<span class="op" id="7429137">*</span><span class="ident" id="7429138">S</span><span class="op" id="7429139">)</span>&nbsp;<span class="ident" id="7429141">Recv</span><span class="op" id="7429145">(</span><span class="ident" id="7429146">nul</span>&nbsp;<span class="op" id="7429150">*</span><span class="keyword" id="7429151">struct</span><span class="op" id="7429157">{</span><span class="op" id="7429158">}</span><span class="op" id="7429159">,</span>&nbsp;<span class="ident" id="7429161">reply</span>&nbsp;<span class="op" id="7429167">*</span><span class="ident" id="7429168">R</span><span class="op" id="7429169">)</span>&nbsp;<span class="builtintype" id="7429171">error</span>&nbsp;<span class="op" id="7429177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429180">*</span><span class="ident" id="7429181">reply</span>&nbsp;<span class="op" id="7429187">=</span>&nbsp;<span class="ident" id="7429189">R</span><span class="op" id="7429190">{</span><span class="op" id="7429191">[</span><span class="op" id="7429192">]</span><span class="builtintype" id="7429193">byte</span><span class="op" id="7429197">(</span><span class="string" id="7429198">&#34;foo&#34;</span><span class="op" id="7429203">)</span><span class="op" id="7429204">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429207">return</span>&nbsp;<span class="builtintype" id="7429214">nil</span><br>
<span class="lineno"></span><span class="op" id="7429218">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7429221">func</span>&nbsp;<span class="ident" id="7429226">TestGobError</span><span class="op" id="7429238">(</span><span class="ident" id="7429239">t</span>&nbsp;<span class="op" id="7429241">*</span><span class="ident" id="7429242">testing</span><span class="op" id="7429249">.</span><span class="ident" id="7429250">T</span><span class="op" id="7429251">)</span>&nbsp;<span class="op" id="7429253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429256">if</span>&nbsp;<span class="ident" id="7429259">runtime</span><span class="op" id="7429266">.</span><span class="ident" id="7429267">GOOS</span>&nbsp;<span class="op" id="7429272">==</span>&nbsp;<span class="string" id="7429275">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7429283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429287">t</span><span class="op" id="7429288">.</span><span class="ident" id="7429289">Skip</span><span class="op" id="7429293">(</span><span class="string" id="7429294">&#34;skipping&nbsp;test;&nbsp;see&nbsp;http://golang.org/issue/8908&#34;</span><span class="op" id="7429343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429349">defer</span>&nbsp;<span class="keyword" id="7429355">func</span><span class="op" id="7429359">(</span><span class="op" id="7429360">)</span>&nbsp;<span class="op" id="7429362">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429366">err</span>&nbsp;<span class="op" id="7429370">:=</span>&nbsp;<span class="builtinfunc" id="7429373">recover</span><span class="op" id="7429380">(</span><span class="op" id="7429381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429385">if</span>&nbsp;<span class="ident" id="7429388">err</span>&nbsp;<span class="op" id="7429392">==</span>&nbsp;<span class="builtintype" id="7429395">nil</span>&nbsp;<span class="op" id="7429399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429404">t</span><span class="op" id="7429405">.</span><span class="ident" id="7429406">Fatal</span><span class="op" id="7429411">(</span><span class="string" id="7429412">&#34;no&nbsp;error&#34;</span><span class="op" id="7429422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429430">if</span>&nbsp;<span class="op" id="7429433">!</span><span class="ident" id="7429434">strings</span><span class="op" id="7429441">.</span><span class="ident" id="7429442">Contains</span><span class="op" id="7429450">(</span><span class="string" id="7429451">&#34;reading&nbsp;body&nbsp;EOF&#34;</span><span class="op" id="7429469">,</span>&nbsp;<span class="ident" id="7429471">err</span><span class="op" id="7429474">.</span><span class="op" id="7429475">(</span><span class="builtintype" id="7429476">error</span><span class="op" id="7429481">)</span><span class="op" id="7429482">.</span><span class="ident" id="7429483">Error</span><span class="op" id="7429488">(</span><span class="op" id="7429489">)</span><span class="op" id="7429490">)</span>&nbsp;<span class="op" id="7429492">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429497">t</span><span class="op" id="7429498">.</span><span class="ident" id="7429499">Fatal</span><span class="op" id="7429504">(</span><span class="string" id="7429505">&#34;expected&nbsp;`reading&nbsp;body&nbsp;EOF&#39;,&nbsp;got&#34;</span><span class="op" id="7429539">,</span>&nbsp;<span class="ident" id="7429541">err</span><span class="op" id="7429544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429551">}</span><span class="op" id="7429552">(</span><span class="op" id="7429553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429556">Register</span><span class="op" id="7429564">(</span><span class="builtinfunc" id="7429565">new</span><span class="op" id="7429568">(</span><span class="ident" id="7429569">S</span><span class="op" id="7429570">)</span><span class="op" id="7429571">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429575">listen</span><span class="op" id="7429581">,</span>&nbsp;<span class="ident" id="7429583">err</span>&nbsp;<span class="op" id="7429587">:=</span>&nbsp;<span class="ident" id="7429590">net</span><span class="op" id="7429593">.</span><span class="ident" id="7429594">Listen</span><span class="op" id="7429600">(</span><span class="string" id="7429601">&#34;tcp&#34;</span><span class="op" id="7429606">,</span>&nbsp;<span class="string" id="7429608">&#34;127.0.0.1:0&#34;</span><span class="op" id="7429621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429624">if</span>&nbsp;<span class="ident" id="7429627">err</span>&nbsp;<span class="op" id="7429631">!=</span>&nbsp;<span class="builtintype" id="7429634">nil</span>&nbsp;<span class="op" id="7429638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7429642">panic</span><span class="op" id="7429647">(</span><span class="ident" id="7429648">err</span><span class="op" id="7429651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429657">go</span>&nbsp;<span class="ident" id="7429660">Accept</span><span class="op" id="7429666">(</span><span class="ident" id="7429667">listen</span><span class="op" id="7429673">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429677">client</span><span class="op" id="7429683">,</span>&nbsp;<span class="ident" id="7429685">err</span>&nbsp;<span class="op" id="7429689">:=</span>&nbsp;<span class="ident" id="7429692">Dial</span><span class="op" id="7429696">(</span><span class="string" id="7429697">&#34;tcp&#34;</span><span class="op" id="7429702">,</span>&nbsp;<span class="ident" id="7429704">listen</span><span class="op" id="7429710">.</span><span class="ident" id="7429711">Addr</span><span class="op" id="7429715">(</span><span class="op" id="7429716">)</span><span class="op" id="7429717">.</span><span class="ident" id="7429718">String</span><span class="op" id="7429724">(</span><span class="op" id="7429725">)</span><span class="op" id="7429726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429729">if</span>&nbsp;<span class="ident" id="7429732">err</span>&nbsp;<span class="op" id="7429736">!=</span>&nbsp;<span class="builtintype" id="7429739">nil</span>&nbsp;<span class="op" id="7429743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7429747">panic</span><span class="op" id="7429752">(</span><span class="ident" id="7429753">err</span><span class="op" id="7429756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429759">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429763">var</span>&nbsp;<span class="ident" id="7429767">reply</span>&nbsp;<span class="ident" id="7429773">Reply</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429780">err</span>&nbsp;<span class="op" id="7429784">=</span>&nbsp;<span class="ident" id="7429786">client</span><span class="op" id="7429792">.</span><span class="ident" id="7429793">Call</span><span class="op" id="7429797">(</span><span class="string" id="7429798">&#34;S.Recv&#34;</span><span class="op" id="7429806">,</span>&nbsp;<span class="op" id="7429808">&amp;</span><span class="keyword" id="7429809">struct</span><span class="op" id="7429815">{</span><span class="op" id="7429816">}</span><span class="op" id="7429817">{</span><span class="op" id="7429818">}</span><span class="op" id="7429819">,</span>&nbsp;<span class="op" id="7429821">&amp;</span><span class="ident" id="7429822">reply</span><span class="op" id="7429827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7429830">if</span>&nbsp;<span class="ident" id="7429833">err</span>&nbsp;<span class="op" id="7429837">!=</span>&nbsp;<span class="builtintype" id="7429840">nil</span>&nbsp;<span class="op" id="7429844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7429848">panic</span><span class="op" id="7429853">(</span><span class="ident" id="7429854">err</span><span class="op" id="7429857">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7429860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429864">fmt</span><span class="op" id="7429867">.</span><span class="ident" id="7429868">Printf</span><span class="op" id="7429874">(</span><span class="string" id="7429875">&#34;%#v\n&#34;</span><span class="op" id="7429882">,</span>&nbsp;<span class="ident" id="7429884">reply</span><span class="op" id="7429889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429892">client</span><span class="op" id="7429898">.</span><span class="ident" id="7429899">Close</span><span class="op" id="7429904">(</span><span class="op" id="7429905">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7429909">listen</span><span class="op" id="7429915">.</span><span class="ident" id="7429916">Close</span><span class="op" id="7429921">(</span><span class="op" id="7429922">)</span><br>
<span class="lineno"></span><span class="op" id="7429924">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
