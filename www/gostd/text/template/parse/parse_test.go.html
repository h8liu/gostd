<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html" class="current">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8432787">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8432842">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8432896">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8432947">package</span>&nbsp;<span class="ident" id="8432955">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8432962">import</span>&nbsp;<span class="op" id="8432969">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8432972">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8432980">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8432987">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8432998">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8433008">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8433011">var</span>&nbsp;<span class="ident" id="8433015">debug</span>&nbsp;<span class="op" id="8433021">=</span>&nbsp;<span class="ident" id="8433023">flag</span><span class="op" id="8433027">.</span><span class="ident" id="8433028">Bool</span><span class="op" id="8433032">(</span><span class="string" id="8433033">&#34;debug&#34;</span><span class="op" id="8433040">,</span>&nbsp;<span class="builtintype" id="8433042">false</span><span class="op" id="8433047">,</span>&nbsp;<span class="string" id="8433049">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="8433093">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8433096">type</span>&nbsp;<span class="ident" id="8433101">numberTest</span>&nbsp;<span class="keyword" id="8433112">struct</span>&nbsp;<span class="op" id="8433119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8433122">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433132">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8433140">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433150">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8433156">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433166">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8433172">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433182">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8433188">isComplex</span>&nbsp;<span class="builtintype" id="8433198">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8433204">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8433211">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433219">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433228">complex128</span><br>
<span class="lineno"></span><span class="op" id="8433239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8433242">var</span>&nbsp;<span class="ident" id="8433246">numberTests</span>&nbsp;<span class="op" id="8433258">=</span>&nbsp;<span class="op" id="8433260">[</span><span class="op" id="8433261">]</span><span class="ident" id="8433262">numberTest</span><span class="op" id="8433272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8433275">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433286">{</span><span class="string" id="8433287">&#34;0&#34;</span><span class="op" id="8433290">,</span>&nbsp;<span class="builtintype" id="8433292">true</span><span class="op" id="8433296">,</span>&nbsp;<span class="builtintype" id="8433298">true</span><span class="op" id="8433302">,</span>&nbsp;<span class="builtintype" id="8433304">true</span><span class="op" id="8433308">,</span>&nbsp;<span class="builtintype" id="8433310">false</span><span class="op" id="8433315">,</span>&nbsp;<span class="num" id="8433317">0</span><span class="op" id="8433318">,</span>&nbsp;<span class="num" id="8433320">0</span><span class="op" id="8433321">,</span>&nbsp;<span class="num" id="8433323">0</span><span class="op" id="8433324">,</span>&nbsp;<span class="num" id="8433326">0</span><span class="op" id="8433327">}</span><span class="op" id="8433328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433331">{</span><span class="string" id="8433332">&#34;-0&#34;</span><span class="op" id="8433336">,</span>&nbsp;<span class="builtintype" id="8433338">true</span><span class="op" id="8433342">,</span>&nbsp;<span class="builtintype" id="8433344">true</span><span class="op" id="8433348">,</span>&nbsp;<span class="builtintype" id="8433350">true</span><span class="op" id="8433354">,</span>&nbsp;<span class="builtintype" id="8433356">false</span><span class="op" id="8433361">,</span>&nbsp;<span class="num" id="8433363">0</span><span class="op" id="8433364">,</span>&nbsp;<span class="num" id="8433366">0</span><span class="op" id="8433367">,</span>&nbsp;<span class="num" id="8433369">0</span><span class="op" id="8433370">,</span>&nbsp;<span class="num" id="8433372">0</span><span class="op" id="8433373">}</span><span class="op" id="8433374">,</span>&nbsp;<span class="comment" id="8433376">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433405">{</span><span class="string" id="8433406">&#34;73&#34;</span><span class="op" id="8433410">,</span>&nbsp;<span class="builtintype" id="8433412">true</span><span class="op" id="8433416">,</span>&nbsp;<span class="builtintype" id="8433418">true</span><span class="op" id="8433422">,</span>&nbsp;<span class="builtintype" id="8433424">true</span><span class="op" id="8433428">,</span>&nbsp;<span class="builtintype" id="8433430">false</span><span class="op" id="8433435">,</span>&nbsp;<span class="num" id="8433437">73</span><span class="op" id="8433439">,</span>&nbsp;<span class="num" id="8433441">73</span><span class="op" id="8433443">,</span>&nbsp;<span class="num" id="8433445">73</span><span class="op" id="8433447">,</span>&nbsp;<span class="num" id="8433449">0</span><span class="op" id="8433450">}</span><span class="op" id="8433451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433454">{</span><span class="string" id="8433455">&#34;073&#34;</span><span class="op" id="8433460">,</span>&nbsp;<span class="builtintype" id="8433462">true</span><span class="op" id="8433466">,</span>&nbsp;<span class="builtintype" id="8433468">true</span><span class="op" id="8433472">,</span>&nbsp;<span class="builtintype" id="8433474">true</span><span class="op" id="8433478">,</span>&nbsp;<span class="builtintype" id="8433480">false</span><span class="op" id="8433485">,</span>&nbsp;<span class="num" id="8433487">073</span><span class="op" id="8433490">,</span>&nbsp;<span class="num" id="8433492">073</span><span class="op" id="8433495">,</span>&nbsp;<span class="num" id="8433497">073</span><span class="op" id="8433500">,</span>&nbsp;<span class="num" id="8433502">0</span><span class="op" id="8433503">}</span><span class="op" id="8433504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433507">{</span><span class="string" id="8433508">&#34;0x73&#34;</span><span class="op" id="8433514">,</span>&nbsp;<span class="builtintype" id="8433516">true</span><span class="op" id="8433520">,</span>&nbsp;<span class="builtintype" id="8433522">true</span><span class="op" id="8433526">,</span>&nbsp;<span class="builtintype" id="8433528">true</span><span class="op" id="8433532">,</span>&nbsp;<span class="builtintype" id="8433534">false</span><span class="op" id="8433539">,</span>&nbsp;<span class="num" id="8433541">0x73</span><span class="op" id="8433545">,</span>&nbsp;<span class="num" id="8433547">0x73</span><span class="op" id="8433551">,</span>&nbsp;<span class="num" id="8433553">0x73</span><span class="op" id="8433557">,</span>&nbsp;<span class="num" id="8433559">0</span><span class="op" id="8433560">}</span><span class="op" id="8433561">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433564">{</span><span class="string" id="8433565">&#34;-73&#34;</span><span class="op" id="8433570">,</span>&nbsp;<span class="builtintype" id="8433572">true</span><span class="op" id="8433576">,</span>&nbsp;<span class="builtintype" id="8433578">false</span><span class="op" id="8433583">,</span>&nbsp;<span class="builtintype" id="8433585">true</span><span class="op" id="8433589">,</span>&nbsp;<span class="builtintype" id="8433591">false</span><span class="op" id="8433596">,</span>&nbsp;<span class="op" id="8433598">-</span><span class="num" id="8433599">73</span><span class="op" id="8433601">,</span>&nbsp;<span class="num" id="8433603">0</span><span class="op" id="8433604">,</span>&nbsp;<span class="op" id="8433606">-</span><span class="num" id="8433607">73</span><span class="op" id="8433609">,</span>&nbsp;<span class="num" id="8433611">0</span><span class="op" id="8433612">}</span><span class="op" id="8433613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433616">{</span><span class="string" id="8433617">&#34;+73&#34;</span><span class="op" id="8433622">,</span>&nbsp;<span class="builtintype" id="8433624">true</span><span class="op" id="8433628">,</span>&nbsp;<span class="builtintype" id="8433630">false</span><span class="op" id="8433635">,</span>&nbsp;<span class="builtintype" id="8433637">true</span><span class="op" id="8433641">,</span>&nbsp;<span class="builtintype" id="8433643">false</span><span class="op" id="8433648">,</span>&nbsp;<span class="num" id="8433650">73</span><span class="op" id="8433652">,</span>&nbsp;<span class="num" id="8433654">0</span><span class="op" id="8433655">,</span>&nbsp;<span class="num" id="8433657">73</span><span class="op" id="8433659">,</span>&nbsp;<span class="num" id="8433661">0</span><span class="op" id="8433662">}</span><span class="op" id="8433663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433666">{</span><span class="string" id="8433667">&#34;100&#34;</span><span class="op" id="8433672">,</span>&nbsp;<span class="builtintype" id="8433674">true</span><span class="op" id="8433678">,</span>&nbsp;<span class="builtintype" id="8433680">true</span><span class="op" id="8433684">,</span>&nbsp;<span class="builtintype" id="8433686">true</span><span class="op" id="8433690">,</span>&nbsp;<span class="builtintype" id="8433692">false</span><span class="op" id="8433697">,</span>&nbsp;<span class="num" id="8433699">100</span><span class="op" id="8433702">,</span>&nbsp;<span class="num" id="8433704">100</span><span class="op" id="8433707">,</span>&nbsp;<span class="num" id="8433709">100</span><span class="op" id="8433712">,</span>&nbsp;<span class="num" id="8433714">0</span><span class="op" id="8433715">}</span><span class="op" id="8433716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433719">{</span><span class="string" id="8433720">&#34;1e9&#34;</span><span class="op" id="8433725">,</span>&nbsp;<span class="builtintype" id="8433727">true</span><span class="op" id="8433731">,</span>&nbsp;<span class="builtintype" id="8433733">true</span><span class="op" id="8433737">,</span>&nbsp;<span class="builtintype" id="8433739">true</span><span class="op" id="8433743">,</span>&nbsp;<span class="builtintype" id="8433745">false</span><span class="op" id="8433750">,</span>&nbsp;<span class="num" id="8433752">1e9</span><span class="op" id="8433755">,</span>&nbsp;<span class="num" id="8433757">1e9</span><span class="op" id="8433760">,</span>&nbsp;<span class="num" id="8433762">1e9</span><span class="op" id="8433765">,</span>&nbsp;<span class="num" id="8433767">0</span><span class="op" id="8433768">}</span><span class="op" id="8433769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433772">{</span><span class="string" id="8433773">&#34;-1e9&#34;</span><span class="op" id="8433779">,</span>&nbsp;<span class="builtintype" id="8433781">true</span><span class="op" id="8433785">,</span>&nbsp;<span class="builtintype" id="8433787">false</span><span class="op" id="8433792">,</span>&nbsp;<span class="builtintype" id="8433794">true</span><span class="op" id="8433798">,</span>&nbsp;<span class="builtintype" id="8433800">false</span><span class="op" id="8433805">,</span>&nbsp;<span class="op" id="8433807">-</span><span class="num" id="8433808">1e9</span><span class="op" id="8433811">,</span>&nbsp;<span class="num" id="8433813">0</span><span class="op" id="8433814">,</span>&nbsp;<span class="op" id="8433816">-</span><span class="num" id="8433817">1e9</span><span class="op" id="8433820">,</span>&nbsp;<span class="num" id="8433822">0</span><span class="op" id="8433823">}</span><span class="op" id="8433824">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433827">{</span><span class="string" id="8433828">&#34;-1.2&#34;</span><span class="op" id="8433834">,</span>&nbsp;<span class="builtintype" id="8433836">false</span><span class="op" id="8433841">,</span>&nbsp;<span class="builtintype" id="8433843">false</span><span class="op" id="8433848">,</span>&nbsp;<span class="builtintype" id="8433850">true</span><span class="op" id="8433854">,</span>&nbsp;<span class="builtintype" id="8433856">false</span><span class="op" id="8433861">,</span>&nbsp;<span class="num" id="8433863">0</span><span class="op" id="8433864">,</span>&nbsp;<span class="num" id="8433866">0</span><span class="op" id="8433867">,</span>&nbsp;<span class="op" id="8433869">-</span><span class="num" id="8433870">1.2</span><span class="op" id="8433873">,</span>&nbsp;<span class="num" id="8433875">0</span><span class="op" id="8433876">}</span><span class="op" id="8433877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433880">{</span><span class="string" id="8433881">&#34;1e19&#34;</span><span class="op" id="8433887">,</span>&nbsp;<span class="builtintype" id="8433889">false</span><span class="op" id="8433894">,</span>&nbsp;<span class="builtintype" id="8433896">true</span><span class="op" id="8433900">,</span>&nbsp;<span class="builtintype" id="8433902">true</span><span class="op" id="8433906">,</span>&nbsp;<span class="builtintype" id="8433908">false</span><span class="op" id="8433913">,</span>&nbsp;<span class="num" id="8433915">0</span><span class="op" id="8433916">,</span>&nbsp;<span class="num" id="8433918">1e19</span><span class="op" id="8433922">,</span>&nbsp;<span class="num" id="8433924">1e19</span><span class="op" id="8433928">,</span>&nbsp;<span class="num" id="8433930">0</span><span class="op" id="8433931">}</span><span class="op" id="8433932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433935">{</span><span class="string" id="8433936">&#34;-1e19&#34;</span><span class="op" id="8433943">,</span>&nbsp;<span class="builtintype" id="8433945">false</span><span class="op" id="8433950">,</span>&nbsp;<span class="builtintype" id="8433952">false</span><span class="op" id="8433957">,</span>&nbsp;<span class="builtintype" id="8433959">true</span><span class="op" id="8433963">,</span>&nbsp;<span class="builtintype" id="8433965">false</span><span class="op" id="8433970">,</span>&nbsp;<span class="num" id="8433972">0</span><span class="op" id="8433973">,</span>&nbsp;<span class="num" id="8433975">0</span><span class="op" id="8433976">,</span>&nbsp;<span class="op" id="8433978">-</span><span class="num" id="8433979">1e19</span><span class="op" id="8433983">,</span>&nbsp;<span class="num" id="8433985">0</span><span class="op" id="8433986">}</span><span class="op" id="8433987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433990">{</span><span class="string" id="8433991">&#34;4i&#34;</span><span class="op" id="8433995">,</span>&nbsp;<span class="builtintype" id="8433997">false</span><span class="op" id="8434002">,</span>&nbsp;<span class="builtintype" id="8434004">false</span><span class="op" id="8434009">,</span>&nbsp;<span class="builtintype" id="8434011">false</span><span class="op" id="8434016">,</span>&nbsp;<span class="builtintype" id="8434018">true</span><span class="op" id="8434022">,</span>&nbsp;<span class="num" id="8434024">0</span><span class="op" id="8434025">,</span>&nbsp;<span class="num" id="8434027">0</span><span class="op" id="8434028">,</span>&nbsp;<span class="num" id="8434030">0</span><span class="op" id="8434031">,</span>&nbsp;<span class="num" id="8434033">4i</span><span class="op" id="8434035">}</span><span class="op" id="8434036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434039">{</span><span class="string" id="8434040">&#34;-1.2+4.2i&#34;</span><span class="op" id="8434051">,</span>&nbsp;<span class="builtintype" id="8434053">false</span><span class="op" id="8434058">,</span>&nbsp;<span class="builtintype" id="8434060">false</span><span class="op" id="8434065">,</span>&nbsp;<span class="builtintype" id="8434067">false</span><span class="op" id="8434072">,</span>&nbsp;<span class="builtintype" id="8434074">true</span><span class="op" id="8434078">,</span>&nbsp;<span class="num" id="8434080">0</span><span class="op" id="8434081">,</span>&nbsp;<span class="num" id="8434083">0</span><span class="op" id="8434084">,</span>&nbsp;<span class="num" id="8434086">0</span><span class="op" id="8434087">,</span>&nbsp;<span class="op" id="8434089">-</span><span class="num" id="8434090">1.2</span>&nbsp;<span class="op" id="8434094">+</span>&nbsp;<span class="num" id="8434096">4.2i</span><span class="op" id="8434100">}</span><span class="op" id="8434101">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434104">{</span><span class="string" id="8434105">&#34;073i&#34;</span><span class="op" id="8434111">,</span>&nbsp;<span class="builtintype" id="8434113">false</span><span class="op" id="8434118">,</span>&nbsp;<span class="builtintype" id="8434120">false</span><span class="op" id="8434125">,</span>&nbsp;<span class="builtintype" id="8434127">false</span><span class="op" id="8434132">,</span>&nbsp;<span class="builtintype" id="8434134">true</span><span class="op" id="8434138">,</span>&nbsp;<span class="num" id="8434140">0</span><span class="op" id="8434141">,</span>&nbsp;<span class="num" id="8434143">0</span><span class="op" id="8434144">,</span>&nbsp;<span class="num" id="8434146">0</span><span class="op" id="8434147">,</span>&nbsp;<span class="num" id="8434149">73i</span><span class="op" id="8434152">}</span><span class="op" id="8434153">,</span>&nbsp;<span class="comment" id="8434155">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8434170">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434229">{</span><span class="string" id="8434230">&#34;0i&#34;</span><span class="op" id="8434234">,</span>&nbsp;<span class="builtintype" id="8434236">true</span><span class="op" id="8434240">,</span>&nbsp;<span class="builtintype" id="8434242">true</span><span class="op" id="8434246">,</span>&nbsp;<span class="builtintype" id="8434248">true</span><span class="op" id="8434252">,</span>&nbsp;<span class="builtintype" id="8434254">true</span><span class="op" id="8434258">,</span>&nbsp;<span class="num" id="8434260">0</span><span class="op" id="8434261">,</span>&nbsp;<span class="num" id="8434263">0</span><span class="op" id="8434264">,</span>&nbsp;<span class="num" id="8434266">0</span><span class="op" id="8434267">,</span>&nbsp;<span class="num" id="8434269">0</span><span class="op" id="8434270">}</span><span class="op" id="8434271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434274">{</span><span class="string" id="8434275">&#34;-1.2+0i&#34;</span><span class="op" id="8434284">,</span>&nbsp;<span class="builtintype" id="8434286">false</span><span class="op" id="8434291">,</span>&nbsp;<span class="builtintype" id="8434293">false</span><span class="op" id="8434298">,</span>&nbsp;<span class="builtintype" id="8434300">true</span><span class="op" id="8434304">,</span>&nbsp;<span class="builtintype" id="8434306">true</span><span class="op" id="8434310">,</span>&nbsp;<span class="num" id="8434312">0</span><span class="op" id="8434313">,</span>&nbsp;<span class="num" id="8434315">0</span><span class="op" id="8434316">,</span>&nbsp;<span class="op" id="8434318">-</span><span class="num" id="8434319">1.2</span><span class="op" id="8434322">,</span>&nbsp;<span class="op" id="8434324">-</span><span class="num" id="8434325">1.2</span><span class="op" id="8434328">}</span><span class="op" id="8434329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434332">{</span><span class="string" id="8434333">&#34;-12+0i&#34;</span><span class="op" id="8434341">,</span>&nbsp;<span class="builtintype" id="8434343">true</span><span class="op" id="8434347">,</span>&nbsp;<span class="builtintype" id="8434349">false</span><span class="op" id="8434354">,</span>&nbsp;<span class="builtintype" id="8434356">true</span><span class="op" id="8434360">,</span>&nbsp;<span class="builtintype" id="8434362">true</span><span class="op" id="8434366">,</span>&nbsp;<span class="op" id="8434368">-</span><span class="num" id="8434369">12</span><span class="op" id="8434371">,</span>&nbsp;<span class="num" id="8434373">0</span><span class="op" id="8434374">,</span>&nbsp;<span class="op" id="8434376">-</span><span class="num" id="8434377">12</span><span class="op" id="8434379">,</span>&nbsp;<span class="op" id="8434381">-</span><span class="num" id="8434382">12</span><span class="op" id="8434384">}</span><span class="op" id="8434385">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434388">{</span><span class="string" id="8434389">&#34;13+0i&#34;</span><span class="op" id="8434396">,</span>&nbsp;<span class="builtintype" id="8434398">true</span><span class="op" id="8434402">,</span>&nbsp;<span class="builtintype" id="8434404">true</span><span class="op" id="8434408">,</span>&nbsp;<span class="builtintype" id="8434410">true</span><span class="op" id="8434414">,</span>&nbsp;<span class="builtintype" id="8434416">true</span><span class="op" id="8434420">,</span>&nbsp;<span class="num" id="8434422">13</span><span class="op" id="8434424">,</span>&nbsp;<span class="num" id="8434426">13</span><span class="op" id="8434428">,</span>&nbsp;<span class="num" id="8434430">13</span><span class="op" id="8434432">,</span>&nbsp;<span class="num" id="8434434">13</span><span class="op" id="8434436">}</span><span class="op" id="8434437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8434440">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434456">{</span><span class="string" id="8434457">&#34;0123&#34;</span><span class="op" id="8434463">,</span>&nbsp;<span class="builtintype" id="8434465">true</span><span class="op" id="8434469">,</span>&nbsp;<span class="builtintype" id="8434471">true</span><span class="op" id="8434475">,</span>&nbsp;<span class="builtintype" id="8434477">true</span><span class="op" id="8434481">,</span>&nbsp;<span class="builtintype" id="8434483">false</span><span class="op" id="8434488">,</span>&nbsp;<span class="num" id="8434490">0123</span><span class="op" id="8434494">,</span>&nbsp;<span class="num" id="8434496">0123</span><span class="op" id="8434500">,</span>&nbsp;<span class="num" id="8434502">0123</span><span class="op" id="8434506">,</span>&nbsp;<span class="num" id="8434508">0</span><span class="op" id="8434509">}</span><span class="op" id="8434510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434513">{</span><span class="string" id="8434514">&#34;-0x0&#34;</span><span class="op" id="8434520">,</span>&nbsp;<span class="builtintype" id="8434522">true</span><span class="op" id="8434526">,</span>&nbsp;<span class="builtintype" id="8434528">true</span><span class="op" id="8434532">,</span>&nbsp;<span class="builtintype" id="8434534">true</span><span class="op" id="8434538">,</span>&nbsp;<span class="builtintype" id="8434540">false</span><span class="op" id="8434545">,</span>&nbsp;<span class="num" id="8434547">0</span><span class="op" id="8434548">,</span>&nbsp;<span class="num" id="8434550">0</span><span class="op" id="8434551">,</span>&nbsp;<span class="num" id="8434553">0</span><span class="op" id="8434554">,</span>&nbsp;<span class="num" id="8434556">0</span><span class="op" id="8434557">}</span><span class="op" id="8434558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434561">{</span><span class="string" id="8434562">&#34;0xdeadbeef&#34;</span><span class="op" id="8434574">,</span>&nbsp;<span class="builtintype" id="8434576">true</span><span class="op" id="8434580">,</span>&nbsp;<span class="builtintype" id="8434582">true</span><span class="op" id="8434586">,</span>&nbsp;<span class="builtintype" id="8434588">true</span><span class="op" id="8434592">,</span>&nbsp;<span class="builtintype" id="8434594">false</span><span class="op" id="8434599">,</span>&nbsp;<span class="num" id="8434601">0xdeadbeef</span><span class="op" id="8434611">,</span>&nbsp;<span class="num" id="8434613">0xdeadbeef</span><span class="op" id="8434623">,</span>&nbsp;<span class="num" id="8434625">0xdeadbeef</span><span class="op" id="8434635">,</span>&nbsp;<span class="num" id="8434637">0</span><span class="op" id="8434638">}</span><span class="op" id="8434639">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8434642">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434666">{</span><span class="string" id="8434667">`&#39;a&#39;`</span><span class="op" id="8434672">,</span>&nbsp;<span class="builtintype" id="8434674">true</span><span class="op" id="8434678">,</span>&nbsp;<span class="builtintype" id="8434680">true</span><span class="op" id="8434684">,</span>&nbsp;<span class="builtintype" id="8434686">true</span><span class="op" id="8434690">,</span>&nbsp;<span class="builtintype" id="8434692">false</span><span class="op" id="8434697">,</span>&nbsp;<span class="string" id="8434699">&#39;a&#39;</span><span class="op" id="8434702">,</span>&nbsp;<span class="string" id="8434704">&#39;a&#39;</span><span class="op" id="8434707">,</span>&nbsp;<span class="string" id="8434709">&#39;a&#39;</span><span class="op" id="8434712">,</span>&nbsp;<span class="num" id="8434714">0</span><span class="op" id="8434715">}</span><span class="op" id="8434716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434719">{</span><span class="string" id="8434720">`&#39;\n&#39;`</span><span class="op" id="8434726">,</span>&nbsp;<span class="builtintype" id="8434728">true</span><span class="op" id="8434732">,</span>&nbsp;<span class="builtintype" id="8434734">true</span><span class="op" id="8434738">,</span>&nbsp;<span class="builtintype" id="8434740">true</span><span class="op" id="8434744">,</span>&nbsp;<span class="builtintype" id="8434746">false</span><span class="op" id="8434751">,</span>&nbsp;<span class="string" id="8434753">&#39;\n&#39;</span><span class="op" id="8434757">,</span>&nbsp;<span class="string" id="8434759">&#39;\n&#39;</span><span class="op" id="8434763">,</span>&nbsp;<span class="string" id="8434765">&#39;\n&#39;</span><span class="op" id="8434769">,</span>&nbsp;<span class="num" id="8434771">0</span><span class="op" id="8434772">}</span><span class="op" id="8434773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434776">{</span><span class="string" id="8434777">`&#39;\\&#39;`</span><span class="op" id="8434783">,</span>&nbsp;<span class="builtintype" id="8434785">true</span><span class="op" id="8434789">,</span>&nbsp;<span class="builtintype" id="8434791">true</span><span class="op" id="8434795">,</span>&nbsp;<span class="builtintype" id="8434797">true</span><span class="op" id="8434801">,</span>&nbsp;<span class="builtintype" id="8434803">false</span><span class="op" id="8434808">,</span>&nbsp;<span class="string" id="8434810">&#39;\\&#39;</span><span class="op" id="8434814">,</span>&nbsp;<span class="string" id="8434816">&#39;\\&#39;</span><span class="op" id="8434820">,</span>&nbsp;<span class="string" id="8434822">&#39;\\&#39;</span><span class="op" id="8434826">,</span>&nbsp;<span class="num" id="8434828">0</span><span class="op" id="8434829">}</span><span class="op" id="8434830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434833">{</span><span class="string" id="8434834">`&#39;\&#39;&#39;`</span><span class="op" id="8434840">,</span>&nbsp;<span class="builtintype" id="8434842">true</span><span class="op" id="8434846">,</span>&nbsp;<span class="builtintype" id="8434848">true</span><span class="op" id="8434852">,</span>&nbsp;<span class="builtintype" id="8434854">true</span><span class="op" id="8434858">,</span>&nbsp;<span class="builtintype" id="8434860">false</span><span class="op" id="8434865">,</span>&nbsp;<span class="string" id="8434867">&#39;\&#39;&#39;</span><span class="op" id="8434871">,</span>&nbsp;<span class="string" id="8434873">&#39;\&#39;&#39;</span><span class="op" id="8434877">,</span>&nbsp;<span class="string" id="8434879">&#39;\&#39;&#39;</span><span class="op" id="8434883">,</span>&nbsp;<span class="num" id="8434885">0</span><span class="op" id="8434886">}</span><span class="op" id="8434887">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434890">{</span><span class="string" id="8434891">`&#39;\xFF&#39;`</span><span class="op" id="8434899">,</span>&nbsp;<span class="builtintype" id="8434901">true</span><span class="op" id="8434905">,</span>&nbsp;<span class="builtintype" id="8434907">true</span><span class="op" id="8434911">,</span>&nbsp;<span class="builtintype" id="8434913">true</span><span class="op" id="8434917">,</span>&nbsp;<span class="builtintype" id="8434919">false</span><span class="op" id="8434924">,</span>&nbsp;<span class="num" id="8434926">0xFF</span><span class="op" id="8434930">,</span>&nbsp;<span class="num" id="8434932">0xFF</span><span class="op" id="8434936">,</span>&nbsp;<span class="num" id="8434938">0xFF</span><span class="op" id="8434942">,</span>&nbsp;<span class="num" id="8434944">0</span><span class="op" id="8434945">}</span><span class="op" id="8434946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434949">{</span><span class="string" id="8434950">`&#39;ãƒ‘&#39;`</span><span class="op" id="8434957">,</span>&nbsp;<span class="builtintype" id="8434959">true</span><span class="op" id="8434963">,</span>&nbsp;<span class="builtintype" id="8434965">true</span><span class="op" id="8434969">,</span>&nbsp;<span class="builtintype" id="8434971">true</span><span class="op" id="8434975">,</span>&nbsp;<span class="builtintype" id="8434977">false</span><span class="op" id="8434982">,</span>&nbsp;<span class="num" id="8434984">0x30d1</span><span class="op" id="8434990">,</span>&nbsp;<span class="num" id="8434992">0x30d1</span><span class="op" id="8434998">,</span>&nbsp;<span class="num" id="8435000">0x30d1</span><span class="op" id="8435006">,</span>&nbsp;<span class="num" id="8435008">0</span><span class="op" id="8435009">}</span><span class="op" id="8435010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435013">{</span><span class="string" id="8435014">`&#39;\u30d1&#39;`</span><span class="op" id="8435024">,</span>&nbsp;<span class="builtintype" id="8435026">true</span><span class="op" id="8435030">,</span>&nbsp;<span class="builtintype" id="8435032">true</span><span class="op" id="8435036">,</span>&nbsp;<span class="builtintype" id="8435038">true</span><span class="op" id="8435042">,</span>&nbsp;<span class="builtintype" id="8435044">false</span><span class="op" id="8435049">,</span>&nbsp;<span class="num" id="8435051">0x30d1</span><span class="op" id="8435057">,</span>&nbsp;<span class="num" id="8435059">0x30d1</span><span class="op" id="8435065">,</span>&nbsp;<span class="num" id="8435067">0x30d1</span><span class="op" id="8435073">,</span>&nbsp;<span class="num" id="8435075">0</span><span class="op" id="8435076">}</span><span class="op" id="8435077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435080">{</span><span class="string" id="8435081">`&#39;\U000030d1&#39;`</span><span class="op" id="8435095">,</span>&nbsp;<span class="builtintype" id="8435097">true</span><span class="op" id="8435101">,</span>&nbsp;<span class="builtintype" id="8435103">true</span><span class="op" id="8435107">,</span>&nbsp;<span class="builtintype" id="8435109">true</span><span class="op" id="8435113">,</span>&nbsp;<span class="builtintype" id="8435115">false</span><span class="op" id="8435120">,</span>&nbsp;<span class="num" id="8435122">0x30d1</span><span class="op" id="8435128">,</span>&nbsp;<span class="num" id="8435130">0x30d1</span><span class="op" id="8435136">,</span>&nbsp;<span class="num" id="8435138">0x30d1</span><span class="op" id="8435144">,</span>&nbsp;<span class="num" id="8435146">0</span><span class="op" id="8435147">}</span><span class="op" id="8435148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8435151">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435174">{</span><span class="ident" id="8435175">text</span><span class="op" id="8435179">:</span>&nbsp;<span class="string" id="8435181">&#34;+-2&#34;</span><span class="op" id="8435186">}</span><span class="op" id="8435187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435190">{</span><span class="ident" id="8435191">text</span><span class="op" id="8435195">:</span>&nbsp;<span class="string" id="8435197">&#34;0x123.&#34;</span><span class="op" id="8435205">}</span><span class="op" id="8435206">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435209">{</span><span class="ident" id="8435210">text</span><span class="op" id="8435214">:</span>&nbsp;<span class="string" id="8435216">&#34;1e.&#34;</span><span class="op" id="8435221">}</span><span class="op" id="8435222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435225">{</span><span class="ident" id="8435226">text</span><span class="op" id="8435230">:</span>&nbsp;<span class="string" id="8435232">&#34;0xi.&#34;</span><span class="op" id="8435238">}</span><span class="op" id="8435239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435242">{</span><span class="ident" id="8435243">text</span><span class="op" id="8435247">:</span>&nbsp;<span class="string" id="8435249">&#34;1+2.&#34;</span><span class="op" id="8435255">}</span><span class="op" id="8435256">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435259">{</span><span class="ident" id="8435260">text</span><span class="op" id="8435264">:</span>&nbsp;<span class="string" id="8435266">&#34;&#39;x&#34;</span><span class="op" id="8435270">}</span><span class="op" id="8435271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435274">{</span><span class="ident" id="8435275">text</span><span class="op" id="8435279">:</span>&nbsp;<span class="string" id="8435281">&#34;&#39;xx&#39;&#34;</span><span class="op" id="8435287">}</span><span class="op" id="8435288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8435291">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435357">{</span><span class="string" id="8435358">&#34;0xef&#34;</span><span class="op" id="8435364">,</span>&nbsp;<span class="builtintype" id="8435366">true</span><span class="op" id="8435370">,</span>&nbsp;<span class="builtintype" id="8435372">true</span><span class="op" id="8435376">,</span>&nbsp;<span class="builtintype" id="8435378">true</span><span class="op" id="8435382">,</span>&nbsp;<span class="builtintype" id="8435384">false</span><span class="op" id="8435389">,</span>&nbsp;<span class="num" id="8435391">0xef</span><span class="op" id="8435395">,</span>&nbsp;<span class="num" id="8435397">0xef</span><span class="op" id="8435401">,</span>&nbsp;<span class="num" id="8435403">0xef</span><span class="op" id="8435407">,</span>&nbsp;<span class="num" id="8435409">0</span><span class="op" id="8435410">}</span><span class="op" id="8435411">,</span><br>
<span class="lineno"></span><span class="op" id="8435413">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="8435416">func</span>&nbsp;<span class="ident" id="8435421">TestNumberParse</span><span class="op" id="8435436">(</span><span class="ident" id="8435437">t</span>&nbsp;<span class="op" id="8435439">*</span><span class="ident" id="8435440">testing</span><span class="op" id="8435447">.</span><span class="ident" id="8435448">T</span><span class="op" id="8435449">)</span>&nbsp;<span class="op" id="8435451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8435454">for</span>&nbsp;<span class="ident" id="8435458">_</span><span class="op" id="8435459">,</span>&nbsp;<span class="ident" id="8435461">test</span>&nbsp;<span class="op" id="8435466">:=</span>&nbsp;<span class="keyword" id="8435469">range</span>&nbsp;<span class="ident" id="8435475">numberTests</span>&nbsp;<span class="op" id="8435487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8435491">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8435571">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8435617">var</span>&nbsp;<span class="ident" id="8435621">c</span>&nbsp;<span class="builtintype" id="8435623">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8435636">typ</span>&nbsp;<span class="op" id="8435640">:=</span>&nbsp;<span class="ident" id="8435643">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8435656">var</span>&nbsp;<span class="ident" id="8435660">tree</span>&nbsp;<span class="op" id="8435665">*</span><span class="ident" id="8435666">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8435673">if</span>&nbsp;<span class="ident" id="8435676">test</span><span class="op" id="8435680">.</span><span class="ident" id="8435681">text</span><span class="op" id="8435685">[</span><span class="num" id="8435686">0</span><span class="op" id="8435687">]</span>&nbsp;<span class="op" id="8435689">==</span>&nbsp;<span class="string" id="8435692">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="8435697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8435702">typ</span>&nbsp;<span class="op" id="8435706">=</span>&nbsp;<span class="ident" id="8435708">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435727">}</span>&nbsp;<span class="keyword" id="8435729">else</span>&nbsp;<span class="op" id="8435734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8435739">_</span><span class="op" id="8435740">,</span>&nbsp;<span class="ident" id="8435742">err</span>&nbsp;<span class="op" id="8435746">:=</span>&nbsp;<span class="ident" id="8435749">fmt</span><span class="op" id="8435752">.</span><span class="ident" id="8435753">Sscan</span><span class="op" id="8435758">(</span><span class="ident" id="8435759">test</span><span class="op" id="8435763">.</span><span class="ident" id="8435764">text</span><span class="op" id="8435768">,</span>&nbsp;<span class="op" id="8435770">&amp;</span><span class="ident" id="8435771">c</span><span class="op" id="8435772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8435777">if</span>&nbsp;<span class="ident" id="8435780">err</span>&nbsp;<span class="op" id="8435784">==</span>&nbsp;<span class="ident" id="8435787">nil</span>&nbsp;<span class="op" id="8435791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8435797">typ</span>&nbsp;<span class="op" id="8435801">=</span>&nbsp;<span class="ident" id="8435803">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435818">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8435822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8435826">n</span><span class="op" id="8435827">,</span>&nbsp;<span class="ident" id="8435829">err</span>&nbsp;<span class="op" id="8435833">:=</span>&nbsp;<span class="ident" id="8435836">tree</span><span class="op" id="8435840">.</span><span class="ident" id="8435841">newNumber</span><span class="op" id="8435850">(</span><span class="num" id="8435851">0</span><span class="op" id="8435852">,</span>&nbsp;<span class="ident" id="8435854">test</span><span class="op" id="8435858">.</span><span class="ident" id="8435859">text</span><span class="op" id="8435863">,</span>&nbsp;<span class="ident" id="8435865">typ</span><span class="op" id="8435868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8435872">ok</span>&nbsp;<span class="op" id="8435875">:=</span>&nbsp;<span class="ident" id="8435878">test</span><span class="op" id="8435882">.</span><span class="ident" id="8435883">isInt</span>&nbsp;<span class="op" id="8435889">||</span>&nbsp;<span class="ident" id="8435892">test</span><span class="op" id="8435896">.</span><span class="ident" id="8435897">isUint</span>&nbsp;<span class="op" id="8435904">||</span>&nbsp;<span class="ident" id="8435907">test</span><span class="op" id="8435911">.</span><span class="ident" id="8435912">isFloat</span>&nbsp;<span class="op" id="8435920">||</span>&nbsp;<span class="ident" id="8435923">test</span><span class="op" id="8435927">.</span><span class="ident" id="8435928">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8435940">if</span>&nbsp;<span class="ident" id="8435943">ok</span>&nbsp;<span class="op" id="8435946">&amp;&amp;</span>&nbsp;<span class="ident" id="8435949">err</span>&nbsp;<span class="op" id="8435953">!=</span>&nbsp;<span class="ident" id="8435956">nil</span>&nbsp;<span class="op" id="8435960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8435965">t</span><span class="op" id="8435966">.</span><span class="ident" id="8435967">Errorf</span><span class="op" id="8435973">(</span><span class="string" id="8435974">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8436003">,</span>&nbsp;<span class="ident" id="8436005">test</span><span class="op" id="8436009">.</span><span class="ident" id="8436010">text</span><span class="op" id="8436014">,</span>&nbsp;<span class="ident" id="8436016">err</span><span class="op" id="8436019">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436024">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436039">if</span>&nbsp;<span class="op" id="8436042">!</span><span class="ident" id="8436043">ok</span>&nbsp;<span class="op" id="8436046">&amp;&amp;</span>&nbsp;<span class="ident" id="8436049">err</span>&nbsp;<span class="op" id="8436053">==</span>&nbsp;<span class="ident" id="8436056">nil</span>&nbsp;<span class="op" id="8436060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436065">t</span><span class="op" id="8436066">.</span><span class="ident" id="8436067">Errorf</span><span class="op" id="8436073">(</span><span class="string" id="8436074">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8436097">,</span>&nbsp;<span class="ident" id="8436099">test</span><span class="op" id="8436103">.</span><span class="ident" id="8436104">text</span><span class="op" id="8436108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436113">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436128">if</span>&nbsp;<span class="op" id="8436131">!</span><span class="ident" id="8436132">ok</span>&nbsp;<span class="op" id="8436135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436140">if</span>&nbsp;<span class="op" id="8436143">*</span><span class="ident" id="8436144">debug</span>&nbsp;<span class="op" id="8436150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436156">fmt</span><span class="op" id="8436159">.</span><span class="ident" id="8436160">Printf</span><span class="op" id="8436166">(</span><span class="string" id="8436167">&#34;%s\n\t%s\n&#34;</span><span class="op" id="8436179">,</span>&nbsp;<span class="ident" id="8436181">test</span><span class="op" id="8436185">.</span><span class="ident" id="8436186">text</span><span class="op" id="8436190">,</span>&nbsp;<span class="ident" id="8436192">err</span><span class="op" id="8436195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436200">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436205">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436220">if</span>&nbsp;<span class="ident" id="8436223">n</span><span class="op" id="8436224">.</span><span class="ident" id="8436225">IsComplex</span>&nbsp;<span class="op" id="8436235">!=</span>&nbsp;<span class="ident" id="8436238">test</span><span class="op" id="8436242">.</span><span class="ident" id="8436243">isComplex</span>&nbsp;<span class="op" id="8436253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436258">t</span><span class="op" id="8436259">.</span><span class="ident" id="8436260">Errorf</span><span class="op" id="8436266">(</span><span class="string" id="8436267">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="8436307">,</span>&nbsp;<span class="ident" id="8436309">test</span><span class="op" id="8436313">.</span><span class="ident" id="8436314">text</span><span class="op" id="8436318">,</span>&nbsp;<span class="ident" id="8436320">test</span><span class="op" id="8436324">.</span><span class="ident" id="8436325">isComplex</span><span class="op" id="8436334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436338">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436342">if</span>&nbsp;<span class="ident" id="8436345">test</span><span class="op" id="8436349">.</span><span class="ident" id="8436350">isInt</span>&nbsp;<span class="op" id="8436356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436361">if</span>&nbsp;<span class="op" id="8436364">!</span><span class="ident" id="8436365">n</span><span class="op" id="8436366">.</span><span class="ident" id="8436367">IsInt</span>&nbsp;<span class="op" id="8436373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436379">t</span><span class="op" id="8436380">.</span><span class="ident" id="8436381">Errorf</span><span class="op" id="8436387">(</span><span class="string" id="8436388">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8436413">,</span>&nbsp;<span class="ident" id="8436415">test</span><span class="op" id="8436419">.</span><span class="ident" id="8436420">text</span><span class="op" id="8436424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436434">if</span>&nbsp;<span class="ident" id="8436437">n</span><span class="op" id="8436438">.</span><span class="ident" id="8436439">Int64</span>&nbsp;<span class="op" id="8436445">!=</span>&nbsp;<span class="ident" id="8436448">test</span><span class="op" id="8436452">.</span><span class="ident" id="8436453">int64</span>&nbsp;<span class="op" id="8436459">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436465">t</span><span class="op" id="8436466">.</span><span class="ident" id="8436467">Errorf</span><span class="op" id="8436473">(</span><span class="string" id="8436474">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8436507">,</span>&nbsp;<span class="ident" id="8436509">test</span><span class="op" id="8436513">.</span><span class="ident" id="8436514">text</span><span class="op" id="8436518">,</span>&nbsp;<span class="ident" id="8436520">test</span><span class="op" id="8436524">.</span><span class="ident" id="8436525">int64</span><span class="op" id="8436530">,</span>&nbsp;<span class="ident" id="8436532">n</span><span class="op" id="8436533">.</span><span class="ident" id="8436534">Int64</span><span class="op" id="8436539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436548">}</span>&nbsp;<span class="keyword" id="8436550">else</span>&nbsp;<span class="keyword" id="8436555">if</span>&nbsp;<span class="ident" id="8436558">n</span><span class="op" id="8436559">.</span><span class="ident" id="8436560">IsInt</span>&nbsp;<span class="op" id="8436566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436571">t</span><span class="op" id="8436572">.</span><span class="ident" id="8436573">Errorf</span><span class="op" id="8436579">(</span><span class="string" id="8436580">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8436611">,</span>&nbsp;<span class="ident" id="8436613">test</span><span class="op" id="8436617">.</span><span class="ident" id="8436618">text</span><span class="op" id="8436622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436626">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436630">if</span>&nbsp;<span class="ident" id="8436633">test</span><span class="op" id="8436637">.</span><span class="ident" id="8436638">isUint</span>&nbsp;<span class="op" id="8436645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436650">if</span>&nbsp;<span class="op" id="8436653">!</span><span class="ident" id="8436654">n</span><span class="op" id="8436655">.</span><span class="ident" id="8436656">IsUint</span>&nbsp;<span class="op" id="8436663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436669">t</span><span class="op" id="8436670">.</span><span class="ident" id="8436671">Errorf</span><span class="op" id="8436677">(</span><span class="string" id="8436678">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8436712">,</span>&nbsp;<span class="ident" id="8436714">test</span><span class="op" id="8436718">.</span><span class="ident" id="8436719">text</span><span class="op" id="8436723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436733">if</span>&nbsp;<span class="ident" id="8436736">n</span><span class="op" id="8436737">.</span><span class="ident" id="8436738">Uint64</span>&nbsp;<span class="op" id="8436745">!=</span>&nbsp;<span class="ident" id="8436748">test</span><span class="op" id="8436752">.</span><span class="ident" id="8436753">uint64</span>&nbsp;<span class="op" id="8436760">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436766">t</span><span class="op" id="8436767">.</span><span class="ident" id="8436768">Errorf</span><span class="op" id="8436774">(</span><span class="string" id="8436775">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="8436809">,</span>&nbsp;<span class="ident" id="8436811">test</span><span class="op" id="8436815">.</span><span class="ident" id="8436816">text</span><span class="op" id="8436820">,</span>&nbsp;<span class="ident" id="8436822">test</span><span class="op" id="8436826">.</span><span class="ident" id="8436827">uint64</span><span class="op" id="8436833">,</span>&nbsp;<span class="ident" id="8436835">n</span><span class="op" id="8436836">.</span><span class="ident" id="8436837">Uint64</span><span class="op" id="8436843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436852">}</span>&nbsp;<span class="keyword" id="8436854">else</span>&nbsp;<span class="keyword" id="8436859">if</span>&nbsp;<span class="ident" id="8436862">n</span><span class="op" id="8436863">.</span><span class="ident" id="8436864">IsUint</span>&nbsp;<span class="op" id="8436871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436876">t</span><span class="op" id="8436877">.</span><span class="ident" id="8436878">Errorf</span><span class="op" id="8436884">(</span><span class="string" id="8436885">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8436925">,</span>&nbsp;<span class="ident" id="8436927">test</span><span class="op" id="8436931">.</span><span class="ident" id="8436932">text</span><span class="op" id="8436936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8436940">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436944">if</span>&nbsp;<span class="ident" id="8436947">test</span><span class="op" id="8436951">.</span><span class="ident" id="8436952">isFloat</span>&nbsp;<span class="op" id="8436960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8436965">if</span>&nbsp;<span class="op" id="8436968">!</span><span class="ident" id="8436969">n</span><span class="op" id="8436970">.</span><span class="ident" id="8436971">IsFloat</span>&nbsp;<span class="op" id="8436979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8436985">t</span><span class="op" id="8436986">.</span><span class="ident" id="8436987">Errorf</span><span class="op" id="8436993">(</span><span class="string" id="8436994">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8437017">,</span>&nbsp;<span class="ident" id="8437019">test</span><span class="op" id="8437023">.</span><span class="ident" id="8437024">text</span><span class="op" id="8437028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8437038">if</span>&nbsp;<span class="ident" id="8437041">n</span><span class="op" id="8437042">.</span><span class="ident" id="8437043">Float64</span>&nbsp;<span class="op" id="8437051">!=</span>&nbsp;<span class="ident" id="8437054">test</span><span class="op" id="8437058">.</span><span class="builtintype" id="8437059">float64</span>&nbsp;<span class="op" id="8437067">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437073">t</span><span class="op" id="8437074">.</span><span class="ident" id="8437075">Errorf</span><span class="op" id="8437081">(</span><span class="string" id="8437082">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8437117">,</span>&nbsp;<span class="ident" id="8437119">test</span><span class="op" id="8437123">.</span><span class="ident" id="8437124">text</span><span class="op" id="8437128">,</span>&nbsp;<span class="ident" id="8437130">test</span><span class="op" id="8437134">.</span><span class="builtintype" id="8437135">float64</span><span class="op" id="8437142">,</span>&nbsp;<span class="ident" id="8437144">n</span><span class="op" id="8437145">.</span><span class="ident" id="8437146">Float64</span><span class="op" id="8437153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437162">}</span>&nbsp;<span class="keyword" id="8437164">else</span>&nbsp;<span class="keyword" id="8437169">if</span>&nbsp;<span class="ident" id="8437172">n</span><span class="op" id="8437173">.</span><span class="ident" id="8437174">IsFloat</span>&nbsp;<span class="op" id="8437182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437187">t</span><span class="op" id="8437188">.</span><span class="ident" id="8437189">Errorf</span><span class="op" id="8437195">(</span><span class="string" id="8437196">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8437225">,</span>&nbsp;<span class="ident" id="8437227">test</span><span class="op" id="8437231">.</span><span class="ident" id="8437232">text</span><span class="op" id="8437236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437240">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8437244">if</span>&nbsp;<span class="ident" id="8437247">test</span><span class="op" id="8437251">.</span><span class="ident" id="8437252">isComplex</span>&nbsp;<span class="op" id="8437262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8437267">if</span>&nbsp;<span class="op" id="8437270">!</span><span class="ident" id="8437271">n</span><span class="op" id="8437272">.</span><span class="ident" id="8437273">IsComplex</span>&nbsp;<span class="op" id="8437283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437289">t</span><span class="op" id="8437290">.</span><span class="ident" id="8437291">Errorf</span><span class="op" id="8437297">(</span><span class="string" id="8437298">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8437323">,</span>&nbsp;<span class="ident" id="8437325">test</span><span class="op" id="8437329">.</span><span class="ident" id="8437330">text</span><span class="op" id="8437334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8437344">if</span>&nbsp;<span class="ident" id="8437347">n</span><span class="op" id="8437348">.</span><span class="ident" id="8437349">Complex128</span>&nbsp;<span class="op" id="8437360">!=</span>&nbsp;<span class="ident" id="8437363">test</span><span class="op" id="8437367">.</span><span class="builtintype" id="8437368">complex128</span>&nbsp;<span class="op" id="8437379">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437385">t</span><span class="op" id="8437386">.</span><span class="ident" id="8437387">Errorf</span><span class="op" id="8437393">(</span><span class="string" id="8437394">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="8437432">,</span>&nbsp;<span class="ident" id="8437434">test</span><span class="op" id="8437438">.</span><span class="ident" id="8437439">text</span><span class="op" id="8437443">,</span>&nbsp;<span class="ident" id="8437445">test</span><span class="op" id="8437449">.</span><span class="builtintype" id="8437450">complex128</span><span class="op" id="8437460">,</span>&nbsp;<span class="ident" id="8437462">n</span><span class="op" id="8437463">.</span><span class="ident" id="8437464">Complex128</span><span class="op" id="8437474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437483">}</span>&nbsp;<span class="keyword" id="8437485">else</span>&nbsp;<span class="keyword" id="8437490">if</span>&nbsp;<span class="ident" id="8437493">n</span><span class="op" id="8437494">.</span><span class="ident" id="8437495">IsComplex</span>&nbsp;<span class="op" id="8437505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437510">t</span><span class="op" id="8437511">.</span><span class="ident" id="8437512">Errorf</span><span class="op" id="8437518">(</span><span class="string" id="8437519">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8437550">,</span>&nbsp;<span class="ident" id="8437552">test</span><span class="op" id="8437556">.</span><span class="ident" id="8437557">text</span><span class="op" id="8437561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437565">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437568">}</span><br>
<span class="lineno"></span><span class="op" id="8437570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8437573">type</span>&nbsp;<span class="ident" id="8437578">parseTest</span>&nbsp;<span class="keyword" id="8437588">struct</span>&nbsp;<span class="op" id="8437595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437598">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8437605">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437613">input</span>&nbsp;&nbsp;<span class="builtintype" id="8437620">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437628">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8437635">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437641">result</span>&nbsp;<span class="builtintype" id="8437648">string</span>&nbsp;<span class="comment" id="8437655">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="8437703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8437706">const</span>&nbsp;<span class="op" id="8437712">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437715">noError</span>&nbsp;&nbsp;<span class="op" id="8437724">=</span>&nbsp;<span class="builtintype" id="8437726">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8437732">hasError</span>&nbsp;<span class="op" id="8437741">=</span>&nbsp;<span class="builtintype" id="8437743">false</span><br>
<span class="lineno"></span><span class="op" id="8437749">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="8437752">var</span>&nbsp;<span class="ident" id="8437756">parseTests</span>&nbsp;<span class="op" id="8437767">=</span>&nbsp;<span class="op" id="8437769">[</span><span class="op" id="8437770">]</span><span class="ident" id="8437771">parseTest</span><span class="op" id="8437780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437783">{</span><span class="string" id="8437784">&#34;empty&#34;</span><span class="op" id="8437791">,</span>&nbsp;<span class="string" id="8437793">&#34;&#34;</span><span class="op" id="8437795">,</span>&nbsp;<span class="ident" id="8437797">noError</span><span class="op" id="8437804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8437808">``</span><span class="op" id="8437810">}</span><span class="op" id="8437811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437814">{</span><span class="string" id="8437815">&#34;comment&#34;</span><span class="op" id="8437824">,</span>&nbsp;<span class="string" id="8437826">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="8437842">,</span>&nbsp;<span class="ident" id="8437844">noError</span><span class="op" id="8437851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8437855">``</span><span class="op" id="8437857">}</span><span class="op" id="8437858">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437861">{</span><span class="string" id="8437862">&#34;spaces&#34;</span><span class="op" id="8437870">,</span>&nbsp;<span class="string" id="8437872">&#34;&nbsp;\t\n&#34;</span><span class="op" id="8437879">,</span>&nbsp;<span class="ident" id="8437881">noError</span><span class="op" id="8437888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8437892">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="8437901">}</span><span class="op" id="8437902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437905">{</span><span class="string" id="8437906">&#34;text&#34;</span><span class="op" id="8437912">,</span>&nbsp;<span class="string" id="8437914">&#34;some&nbsp;text&#34;</span><span class="op" id="8437925">,</span>&nbsp;<span class="ident" id="8437927">noError</span><span class="op" id="8437934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8437938">`&#34;some&nbsp;text&#34;`</span><span class="op" id="8437951">}</span><span class="op" id="8437952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8437955">{</span><span class="string" id="8437956">&#34;emptyAction&#34;</span><span class="op" id="8437969">,</span>&nbsp;<span class="string" id="8437971">&#34;{{}}&#34;</span><span class="op" id="8437977">,</span>&nbsp;<span class="ident" id="8437979">hasError</span><span class="op" id="8437987">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8437991">`{{}}`</span><span class="op" id="8437997">}</span><span class="op" id="8437998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438001">{</span><span class="string" id="8438002">&#34;field&#34;</span><span class="op" id="8438009">,</span>&nbsp;<span class="string" id="8438011">&#34;{{.X}}&#34;</span><span class="op" id="8438019">,</span>&nbsp;<span class="ident" id="8438021">noError</span><span class="op" id="8438028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438032">`{{.X}}`</span><span class="op" id="8438040">}</span><span class="op" id="8438041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438044">{</span><span class="string" id="8438045">&#34;simple&nbsp;command&#34;</span><span class="op" id="8438061">,</span>&nbsp;<span class="string" id="8438063">&#34;{{printf}}&#34;</span><span class="op" id="8438075">,</span>&nbsp;<span class="ident" id="8438077">noError</span><span class="op" id="8438084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438088">`{{printf}}`</span><span class="op" id="8438100">}</span><span class="op" id="8438101">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438104">{</span><span class="string" id="8438105">&#34;$&nbsp;invocation&#34;</span><span class="op" id="8438119">,</span>&nbsp;<span class="string" id="8438121">&#34;{{$}}&#34;</span><span class="op" id="8438128">,</span>&nbsp;<span class="ident" id="8438130">noError</span><span class="op" id="8438137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438141">&#34;{{$}}&#34;</span><span class="op" id="8438148">}</span><span class="op" id="8438149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438152">{</span><span class="string" id="8438153">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="8438174">,</span>&nbsp;<span class="string" id="8438176">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8438210">,</span>&nbsp;<span class="ident" id="8438212">noError</span><span class="op" id="8438219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438223">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8438257">}</span><span class="op" id="8438258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438261">{</span><span class="string" id="8438262">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="8438284">,</span>&nbsp;<span class="string" id="8438286">&#34;{{$.I}}&#34;</span><span class="op" id="8438295">,</span>&nbsp;<span class="ident" id="8438297">noError</span><span class="op" id="8438304">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438308">&#34;{{$.I}}&#34;</span><span class="op" id="8438317">}</span><span class="op" id="8438318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438321">{</span><span class="string" id="8438322">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="8438342">,</span>&nbsp;<span class="string" id="8438344">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8438364">,</span>&nbsp;<span class="ident" id="8438366">noError</span><span class="op" id="8438373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438377">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="8438397">}</span><span class="op" id="8438398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438401">{</span><span class="string" id="8438402">&#34;pipeline&#34;</span><span class="op" id="8438412">,</span>&nbsp;<span class="string" id="8438414">&#34;{{.X|.Y}}&#34;</span><span class="op" id="8438425">,</span>&nbsp;<span class="ident" id="8438427">noError</span><span class="op" id="8438434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438438">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8438451">}</span><span class="op" id="8438452">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438455">{</span><span class="string" id="8438456">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="8438476">,</span>&nbsp;<span class="string" id="8438478">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="8438495">,</span>&nbsp;<span class="ident" id="8438497">noError</span><span class="op" id="8438504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438508">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="8438527">}</span><span class="op" id="8438528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438531">{</span><span class="string" id="8438532">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="8438549">,</span>&nbsp;<span class="string" id="8438551">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="8438585">,</span>&nbsp;<span class="ident" id="8438587">noError</span><span class="op" id="8438594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438598">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="8438632">}</span><span class="op" id="8438633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438636">{</span><span class="string" id="8438637">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8438667">,</span>&nbsp;<span class="string" id="8438669">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="8438688">,</span>&nbsp;<span class="ident" id="8438690">noError</span><span class="op" id="8438697">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438701">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="8438720">}</span><span class="op" id="8438721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438724">{</span><span class="string" id="8438725">&#34;simple&nbsp;if&#34;</span><span class="op" id="8438736">,</span>&nbsp;<span class="string" id="8438738">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8438761">,</span>&nbsp;<span class="ident" id="8438763">noError</span><span class="op" id="8438770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438774">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8438799">}</span><span class="op" id="8438800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438803">{</span><span class="string" id="8438804">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="8438818">,</span>&nbsp;<span class="string" id="8438820">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8438855">,</span>&nbsp;<span class="ident" id="8438857">noError</span><span class="op" id="8438864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438868">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8438907">}</span><span class="op" id="8438908">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8438911">{</span><span class="string" id="8438912">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="8438929">,</span>&nbsp;<span class="string" id="8438931">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="8438972">,</span>&nbsp;<span class="ident" id="8438974">noError</span><span class="op" id="8438981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8438985">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="8439040">}</span><span class="op" id="8439041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439044">{</span><span class="string" id="8439045">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="8439060">,</span>&nbsp;<span class="string" id="8439062">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="8439113">,</span>&nbsp;<span class="ident" id="8439115">noError</span><span class="op" id="8439122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439126">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="8439207">}</span><span class="op" id="8439208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439211">{</span><span class="string" id="8439212">&#34;simple&nbsp;range&#34;</span><span class="op" id="8439226">,</span>&nbsp;<span class="string" id="8439228">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8439254">,</span>&nbsp;<span class="ident" id="8439256">noError</span><span class="op" id="8439263">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439267">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8439295">}</span><span class="op" id="8439296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439299">{</span><span class="string" id="8439300">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="8439321">,</span>&nbsp;<span class="string" id="8439323">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="8439353">,</span>&nbsp;<span class="ident" id="8439355">noError</span><span class="op" id="8439362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439366">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="8439398">}</span><span class="op" id="8439399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439402">{</span><span class="string" id="8439403">&#34;nested&nbsp;range&#34;</span><span class="op" id="8439417">,</span>&nbsp;<span class="string" id="8439419">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="8439471">,</span>&nbsp;<span class="ident" id="8439473">noError</span><span class="op" id="8439480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439484">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="8439540">}</span><span class="op" id="8439541">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439544">{</span><span class="string" id="8439545">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="8439562">,</span>&nbsp;<span class="string" id="8439564">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="8439602">,</span>&nbsp;<span class="ident" id="8439604">noError</span><span class="op" id="8439611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439615">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8439657">}</span><span class="op" id="8439658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439661">{</span><span class="string" id="8439662">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="8439683">,</span>&nbsp;<span class="string" id="8439685">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="8439726">,</span>&nbsp;<span class="ident" id="8439728">noError</span><span class="op" id="8439735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439739">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="8439786">}</span><span class="op" id="8439787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439790">{</span><span class="string" id="8439791">&#34;range&nbsp;[]int&#34;</span><span class="op" id="8439804">,</span>&nbsp;<span class="string" id="8439806">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8439833">,</span>&nbsp;<span class="ident" id="8439835">noError</span><span class="op" id="8439842">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439846">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8439873">}</span><span class="op" id="8439874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439877">{</span><span class="string" id="8439878">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="8439891">,</span>&nbsp;<span class="string" id="8439893">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8439926">,</span>&nbsp;<span class="ident" id="8439928">noError</span><span class="op" id="8439935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8439939">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8439972">}</span><span class="op" id="8439973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8439976">{</span><span class="string" id="8439977">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="8439991">,</span>&nbsp;<span class="string" id="8439993">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="8440030">,</span>&nbsp;<span class="ident" id="8440032">noError</span><span class="op" id="8440039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8440043">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="8440080">}</span><span class="op" id="8440081">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440084">{</span><span class="string" id="8440085">&#34;constants&#34;</span><span class="op" id="8440096">,</span>&nbsp;<span class="string" id="8440098">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="8440147">,</span>&nbsp;<span class="ident" id="8440149">noError</span><span class="op" id="8440156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8440160">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="8440209">}</span><span class="op" id="8440210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440213">{</span><span class="string" id="8440214">&#34;template&#34;</span><span class="op" id="8440224">,</span>&nbsp;<span class="string" id="8440226">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="8440244">,</span>&nbsp;<span class="ident" id="8440246">noError</span><span class="op" id="8440253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8440257">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="8440275">}</span><span class="op" id="8440276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440279">{</span><span class="string" id="8440280">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="8440299">,</span>&nbsp;<span class="string" id="8440301">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="8440322">,</span>&nbsp;<span class="ident" id="8440324">noError</span><span class="op" id="8440331">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8440335">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="8440356">}</span><span class="op" id="8440357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440360">{</span><span class="string" id="8440361">&#34;with&#34;</span><span class="op" id="8440367">,</span>&nbsp;<span class="string" id="8440369">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="8440394">,</span>&nbsp;<span class="ident" id="8440396">noError</span><span class="op" id="8440403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8440407">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="8440434">}</span><span class="op" id="8440435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440438">{</span><span class="string" id="8440439">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="8440455">,</span>&nbsp;<span class="string" id="8440457">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="8440497">,</span>&nbsp;<span class="ident" id="8440499">noError</span><span class="op" id="8440506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8440510">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="8440554">}</span><span class="op" id="8440555">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8440558">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440570">{</span><span class="string" id="8440571">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="8440588">,</span>&nbsp;<span class="string" id="8440590">&#34;hello{{range&#34;</span><span class="op" id="8440604">,</span>&nbsp;<span class="ident" id="8440606">hasError</span><span class="op" id="8440614">,</span>&nbsp;<span class="string" id="8440616">&#34;&#34;</span><span class="op" id="8440618">}</span><span class="op" id="8440619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440622">{</span><span class="string" id="8440623">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="8440638">,</span>&nbsp;<span class="string" id="8440640">&#34;{{end}}&#34;</span><span class="op" id="8440649">,</span>&nbsp;<span class="ident" id="8440651">hasError</span><span class="op" id="8440659">,</span>&nbsp;<span class="string" id="8440661">&#34;&#34;</span><span class="op" id="8440663">}</span><span class="op" id="8440664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440667">{</span><span class="string" id="8440668">&#34;missing&nbsp;end&#34;</span><span class="op" id="8440681">,</span>&nbsp;<span class="string" id="8440683">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="8440702">,</span>&nbsp;<span class="ident" id="8440704">hasError</span><span class="op" id="8440712">,</span>&nbsp;<span class="string" id="8440714">&#34;&#34;</span><span class="op" id="8440716">}</span><span class="op" id="8440717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440720">{</span><span class="string" id="8440721">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="8440745">,</span>&nbsp;<span class="string" id="8440747">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="8440774">,</span>&nbsp;<span class="ident" id="8440776">hasError</span><span class="op" id="8440784">,</span>&nbsp;<span class="string" id="8440786">&#34;&#34;</span><span class="op" id="8440788">}</span><span class="op" id="8440789">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440792">{</span><span class="string" id="8440793">&#34;undefined&nbsp;function&#34;</span><span class="op" id="8440813">,</span>&nbsp;<span class="string" id="8440815">&#34;hello{{undefined}}&#34;</span><span class="op" id="8440835">,</span>&nbsp;<span class="ident" id="8440837">hasError</span><span class="op" id="8440845">,</span>&nbsp;<span class="string" id="8440847">&#34;&#34;</span><span class="op" id="8440849">}</span><span class="op" id="8440850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440853">{</span><span class="string" id="8440854">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="8440874">,</span>&nbsp;<span class="string" id="8440876">&#34;{{$x}}&#34;</span><span class="op" id="8440884">,</span>&nbsp;<span class="ident" id="8440886">hasError</span><span class="op" id="8440894">,</span>&nbsp;<span class="string" id="8440896">&#34;&#34;</span><span class="op" id="8440898">}</span><span class="op" id="8440899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440902">{</span><span class="string" id="8440903">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="8440933">,</span>&nbsp;<span class="string" id="8440935">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="8440966">,</span>&nbsp;<span class="ident" id="8440968">hasError</span><span class="op" id="8440976">,</span>&nbsp;<span class="string" id="8440978">&#34;&#34;</span><span class="op" id="8440980">}</span><span class="op" id="8440981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8440984">{</span><span class="string" id="8440985">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="8441017">,</span>&nbsp;<span class="string" id="8441019">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8441036">,</span>&nbsp;<span class="ident" id="8441038">hasError</span><span class="op" id="8441046">,</span>&nbsp;<span class="string" id="8441048">&#34;&#34;</span><span class="op" id="8441050">}</span><span class="op" id="8441051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441054">{</span><span class="string" id="8441055">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="8441075">,</span>&nbsp;<span class="string" id="8441077">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="8441104">,</span>&nbsp;<span class="ident" id="8441106">hasError</span><span class="op" id="8441114">,</span>&nbsp;<span class="string" id="8441116">&#34;&#34;</span><span class="op" id="8441118">}</span><span class="op" id="8441119">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441122">{</span><span class="string" id="8441123">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="8441148">,</span>&nbsp;<span class="string" id="8441150">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="8441167">,</span>&nbsp;<span class="ident" id="8441169">hasError</span><span class="op" id="8441177">,</span>&nbsp;<span class="string" id="8441179">&#34;&#34;</span><span class="op" id="8441181">}</span><span class="op" id="8441182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441185">{</span><span class="string" id="8441186">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="8441205">,</span>&nbsp;<span class="string" id="8441207">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="8441224">,</span>&nbsp;<span class="ident" id="8441226">hasError</span><span class="op" id="8441234">,</span>&nbsp;<span class="string" id="8441236">&#34;&#34;</span><span class="op" id="8441238">}</span><span class="op" id="8441239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441242">{</span><span class="string" id="8441243">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="8441264">,</span>&nbsp;<span class="string" id="8441266">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="8441283">,</span>&nbsp;<span class="ident" id="8441285">hasError</span><span class="op" id="8441293">,</span>&nbsp;<span class="string" id="8441295">&#34;&#34;</span><span class="op" id="8441297">}</span><span class="op" id="8441298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441301">{</span><span class="string" id="8441302">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="8441327">,</span>&nbsp;<span class="string" id="8441329">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8441358">,</span>&nbsp;<span class="ident" id="8441360">hasError</span><span class="op" id="8441368">,</span>&nbsp;<span class="string" id="8441370">&#34;&#34;</span><span class="op" id="8441372">}</span><span class="op" id="8441373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441376">{</span><span class="string" id="8441377">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="8441402">,</span>&nbsp;<span class="string" id="8441404">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8441438">,</span>&nbsp;<span class="ident" id="8441440">hasError</span><span class="op" id="8441448">,</span>&nbsp;<span class="string" id="8441450">&#34;&#34;</span><span class="op" id="8441452">}</span><span class="op" id="8441453">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441456">{</span><span class="string" id="8441457">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="8441485">,</span>&nbsp;<span class="string" id="8441487">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="8441511">,</span>&nbsp;<span class="ident" id="8441513">hasError</span><span class="op" id="8441521">,</span>&nbsp;<span class="string" id="8441523">&#34;&#34;</span><span class="op" id="8441525">}</span><span class="op" id="8441526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441529">{</span><span class="string" id="8441530">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="8441545">,</span>&nbsp;<span class="string" id="8441547">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="8441564">,</span>&nbsp;<span class="ident" id="8441566">hasError</span><span class="op" id="8441574">,</span>&nbsp;<span class="string" id="8441576">&#34;&#34;</span><span class="op" id="8441578">}</span><span class="op" id="8441579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441582">{</span><span class="string" id="8441583">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="8441605">,</span>&nbsp;<span class="string" id="8441607">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="8441624">,</span>&nbsp;<span class="ident" id="8441626">hasError</span><span class="op" id="8441634">,</span>&nbsp;<span class="string" id="8441636">&#34;&#34;</span><span class="op" id="8441638">}</span><span class="op" id="8441639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441642">{</span><span class="string" id="8441643">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="8441663">,</span>&nbsp;<span class="string" id="8441665">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="8441706">,</span>&nbsp;<span class="ident" id="8441708">hasError</span><span class="op" id="8441716">,</span>&nbsp;<span class="string" id="8441718">&#34;&#34;</span><span class="op" id="8441720">}</span><span class="op" id="8441721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8441724">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441784">{</span><span class="string" id="8441785">&#34;bug0a&#34;</span><span class="op" id="8441792">,</span>&nbsp;<span class="string" id="8441794">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8441813">,</span>&nbsp;<span class="ident" id="8441815">noError</span><span class="op" id="8441822">,</span>&nbsp;<span class="string" id="8441824">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="8441843">}</span><span class="op" id="8441844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441847">{</span><span class="string" id="8441848">&#34;bug0b&#34;</span><span class="op" id="8441855">,</span>&nbsp;<span class="string" id="8441857">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="8441875">,</span>&nbsp;<span class="ident" id="8441877">hasError</span><span class="op" id="8441885">,</span>&nbsp;<span class="string" id="8441887">&#34;&#34;</span><span class="op" id="8441889">}</span><span class="op" id="8441890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441893">{</span><span class="string" id="8441894">&#34;bug0c&#34;</span><span class="op" id="8441901">,</span>&nbsp;<span class="string" id="8441903">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="8441921">,</span>&nbsp;<span class="ident" id="8441923">hasError</span><span class="op" id="8441931">,</span>&nbsp;<span class="string" id="8441933">&#34;&#34;</span><span class="op" id="8441935">}</span><span class="op" id="8441936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8441939">{</span><span class="string" id="8441940">&#34;bug0d&#34;</span><span class="op" id="8441947">,</span>&nbsp;<span class="string" id="8441949">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="8441967">,</span>&nbsp;<span class="ident" id="8441969">hasError</span><span class="op" id="8441977">,</span>&nbsp;<span class="string" id="8441979">&#34;&#34;</span><span class="op" id="8441981">}</span><span class="op" id="8441982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8441985">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8442037">{</span><span class="string" id="8442038">&#34;bug0e&#34;</span><span class="op" id="8442045">,</span>&nbsp;<span class="string" id="8442047">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="8442079">,</span>&nbsp;<span class="ident" id="8442081">hasError</span><span class="op" id="8442089">,</span>&nbsp;<span class="string" id="8442091">&#34;&#34;</span><span class="op" id="8442093">}</span><span class="op" id="8442094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8442097">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8442163">{</span><span class="string" id="8442164">&#34;bug1a&#34;</span><span class="op" id="8442171">,</span>&nbsp;<span class="string" id="8442173">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="8442192">,</span>&nbsp;<span class="ident" id="8442194">hasError</span><span class="op" id="8442202">,</span>&nbsp;<span class="string" id="8442204">&#34;&#34;</span><span class="op" id="8442206">}</span><span class="op" id="8442207">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8442229">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8442257">{</span><span class="string" id="8442258">&#34;bug1b&#34;</span><span class="op" id="8442265">,</span>&nbsp;<span class="string" id="8442267">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="8442286">,</span>&nbsp;<span class="ident" id="8442288">hasError</span><span class="op" id="8442296">,</span>&nbsp;<span class="string" id="8442298">&#34;&#34;</span><span class="op" id="8442300">}</span><span class="op" id="8442301">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8442323">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8442363">{</span><span class="string" id="8442364">&#34;bug1c&#34;</span><span class="op" id="8442371">,</span>&nbsp;<span class="string" id="8442373">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8442393">,</span>&nbsp;<span class="ident" id="8442395">noError</span><span class="op" id="8442402">,</span>&nbsp;<span class="string" id="8442404">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="8442426">}</span><span class="op" id="8442427">,</span>&nbsp;<span class="comment" id="8442429">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="8442454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8442457">var</span>&nbsp;<span class="ident" id="8442461">builtins</span>&nbsp;<span class="op" id="8442470">=</span>&nbsp;<span class="keyword" id="8442472">map</span><span class="op" id="8442475">[</span><span class="builtintype" id="8442476">string</span><span class="op" id="8442482">]</span><span class="keyword" id="8442483">interface</span><span class="op" id="8442492">{</span><span class="op" id="8442493">}</span><span class="op" id="8442494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8442497">&#34;printf&#34;</span><span class="op" id="8442505">:</span>&nbsp;<span class="ident" id="8442507">fmt</span><span class="op" id="8442510">.</span><span class="ident" id="8442511">Sprintf</span><span class="op" id="8442518">,</span><br>
<span class="lineno"></span><span class="op" id="8442520">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="8442523">func</span>&nbsp;<span class="ident" id="8442528">testParse</span><span class="op" id="8442537">(</span><span class="ident" id="8442538">doCopy</span>&nbsp;<span class="builtintype" id="8442545">bool</span><span class="op" id="8442549">,</span>&nbsp;<span class="ident" id="8442551">t</span>&nbsp;<span class="op" id="8442553">*</span><span class="ident" id="8442554">testing</span><span class="op" id="8442561">.</span><span class="ident" id="8442562">T</span><span class="op" id="8442563">)</span>&nbsp;<span class="op" id="8442565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8442568">textFormat</span>&nbsp;<span class="op" id="8442579">=</span>&nbsp;<span class="string" id="8442581">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442587">defer</span>&nbsp;<span class="keyword" id="8442593">func</span><span class="op" id="8442597">(</span><span class="op" id="8442598">)</span>&nbsp;<span class="op" id="8442600">{</span>&nbsp;<span class="ident" id="8442602">textFormat</span>&nbsp;<span class="op" id="8442613">=</span>&nbsp;<span class="string" id="8442615">&#34;%s&#34;</span>&nbsp;<span class="op" id="8442620">}</span><span class="op" id="8442621">(</span><span class="op" id="8442622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442625">for</span>&nbsp;<span class="ident" id="8442629">_</span><span class="op" id="8442630">,</span>&nbsp;<span class="ident" id="8442632">test</span>&nbsp;<span class="op" id="8442637">:=</span>&nbsp;<span class="keyword" id="8442640">range</span>&nbsp;<span class="ident" id="8442646">parseTests</span>&nbsp;<span class="op" id="8442657">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8442661">tmpl</span><span class="op" id="8442665">,</span>&nbsp;<span class="ident" id="8442667">err</span>&nbsp;<span class="op" id="8442671">:=</span>&nbsp;<span class="ident" id="8442674">New</span><span class="op" id="8442677">(</span><span class="ident" id="8442678">test</span><span class="op" id="8442682">.</span><span class="ident" id="8442683">name</span><span class="op" id="8442687">)</span><span class="op" id="8442688">.</span><span class="ident" id="8442689">Parse</span><span class="op" id="8442694">(</span><span class="ident" id="8442695">test</span><span class="op" id="8442699">.</span><span class="ident" id="8442700">input</span><span class="op" id="8442705">,</span>&nbsp;<span class="string" id="8442707">&#34;&#34;</span><span class="op" id="8442709">,</span>&nbsp;<span class="string" id="8442711">&#34;&#34;</span><span class="op" id="8442713">,</span>&nbsp;<span class="builtinfunc" id="8442715">make</span><span class="op" id="8442719">(</span><span class="keyword" id="8442720">map</span><span class="op" id="8442723">[</span><span class="builtintype" id="8442724">string</span><span class="op" id="8442730">]</span><span class="op" id="8442731">*</span><span class="ident" id="8442732">Tree</span><span class="op" id="8442736">)</span><span class="op" id="8442737">,</span>&nbsp;<span class="ident" id="8442739">builtins</span><span class="op" id="8442747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442751">switch</span>&nbsp;<span class="op" id="8442758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442762">case</span>&nbsp;<span class="ident" id="8442767">err</span>&nbsp;<span class="op" id="8442771">==</span>&nbsp;<span class="ident" id="8442774">nil</span>&nbsp;<span class="op" id="8442778">&amp;&amp;</span>&nbsp;<span class="op" id="8442781">!</span><span class="ident" id="8442782">test</span><span class="op" id="8442786">.</span><span class="ident" id="8442787">ok</span><span class="op" id="8442789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8442794">t</span><span class="op" id="8442795">.</span><span class="ident" id="8442796">Errorf</span><span class="op" id="8442802">(</span><span class="string" id="8442803">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8442833">,</span>&nbsp;<span class="ident" id="8442835">test</span><span class="op" id="8442839">.</span><span class="ident" id="8442840">name</span><span class="op" id="8442844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442849">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442860">case</span>&nbsp;<span class="ident" id="8442865">err</span>&nbsp;<span class="op" id="8442869">!=</span>&nbsp;<span class="ident" id="8442872">nil</span>&nbsp;<span class="op" id="8442876">&amp;&amp;</span>&nbsp;<span class="ident" id="8442879">test</span><span class="op" id="8442883">.</span><span class="ident" id="8442884">ok</span><span class="op" id="8442886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8442891">t</span><span class="op" id="8442892">.</span><span class="ident" id="8442893">Errorf</span><span class="op" id="8442899">(</span><span class="string" id="8442900">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8442926">,</span>&nbsp;<span class="ident" id="8442928">test</span><span class="op" id="8442932">.</span><span class="ident" id="8442933">name</span><span class="op" id="8442937">,</span>&nbsp;<span class="ident" id="8442939">err</span><span class="op" id="8442942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442947">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8442958">case</span>&nbsp;<span class="ident" id="8442963">err</span>&nbsp;<span class="op" id="8442967">!=</span>&nbsp;<span class="ident" id="8442970">nil</span>&nbsp;<span class="op" id="8442974">&amp;&amp;</span>&nbsp;<span class="op" id="8442977">!</span><span class="ident" id="8442978">test</span><span class="op" id="8442982">.</span><span class="ident" id="8442983">ok</span><span class="op" id="8442985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8442990">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8443020">if</span>&nbsp;<span class="op" id="8443023">*</span><span class="ident" id="8443024">debug</span>&nbsp;<span class="op" id="8443030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443036">fmt</span><span class="op" id="8443039">.</span><span class="ident" id="8443040">Printf</span><span class="op" id="8443046">(</span><span class="string" id="8443047">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="8443063">,</span>&nbsp;<span class="ident" id="8443065">test</span><span class="op" id="8443069">.</span><span class="ident" id="8443070">name</span><span class="op" id="8443074">,</span>&nbsp;<span class="ident" id="8443076">test</span><span class="op" id="8443080">.</span><span class="ident" id="8443081">input</span><span class="op" id="8443086">,</span>&nbsp;<span class="ident" id="8443088">err</span><span class="op" id="8443091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8443101">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443112">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8443116">var</span>&nbsp;<span class="ident" id="8443120">result</span>&nbsp;<span class="builtintype" id="8443127">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8443136">if</span>&nbsp;<span class="ident" id="8443139">doCopy</span>&nbsp;<span class="op" id="8443146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443151">result</span>&nbsp;<span class="op" id="8443158">=</span>&nbsp;<span class="ident" id="8443160">tmpl</span><span class="op" id="8443164">.</span><span class="ident" id="8443165">Root</span><span class="op" id="8443169">.</span><span class="ident" id="8443170">Copy</span><span class="op" id="8443174">(</span><span class="op" id="8443175">)</span><span class="op" id="8443176">.</span><span class="ident" id="8443177">String</span><span class="op" id="8443183">(</span><span class="op" id="8443184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443188">}</span>&nbsp;<span class="keyword" id="8443190">else</span>&nbsp;<span class="op" id="8443195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443200">result</span>&nbsp;<span class="op" id="8443207">=</span>&nbsp;<span class="ident" id="8443209">tmpl</span><span class="op" id="8443213">.</span><span class="ident" id="8443214">Root</span><span class="op" id="8443218">.</span><span class="ident" id="8443219">String</span><span class="op" id="8443225">(</span><span class="op" id="8443226">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8443234">if</span>&nbsp;<span class="ident" id="8443237">result</span>&nbsp;<span class="op" id="8443244">!=</span>&nbsp;<span class="ident" id="8443247">test</span><span class="op" id="8443251">.</span><span class="ident" id="8443252">result</span>&nbsp;<span class="op" id="8443259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443264">t</span><span class="op" id="8443265">.</span><span class="ident" id="8443266">Errorf</span><span class="op" id="8443272">(</span><span class="string" id="8443273">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="8443309">,</span>&nbsp;<span class="ident" id="8443311">test</span><span class="op" id="8443315">.</span><span class="ident" id="8443316">name</span><span class="op" id="8443320">,</span>&nbsp;<span class="ident" id="8443322">test</span><span class="op" id="8443326">.</span><span class="ident" id="8443327">input</span><span class="op" id="8443332">,</span>&nbsp;<span class="ident" id="8443334">result</span><span class="op" id="8443340">,</span>&nbsp;<span class="ident" id="8443342">test</span><span class="op" id="8443346">.</span><span class="ident" id="8443347">result</span><span class="op" id="8443353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443360">}</span><br>
<span class="lineno">295</span><span class="op" id="8443362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8443365">func</span>&nbsp;<span class="ident" id="8443370">TestParse</span><span class="op" id="8443379">(</span><span class="ident" id="8443380">t</span>&nbsp;<span class="op" id="8443382">*</span><span class="ident" id="8443383">testing</span><span class="op" id="8443390">.</span><span class="ident" id="8443391">T</span><span class="op" id="8443392">)</span>&nbsp;<span class="op" id="8443394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443397">testParse</span><span class="op" id="8443406">(</span><span class="builtintype" id="8443407">false</span><span class="op" id="8443412">,</span>&nbsp;<span class="ident" id="8443414">t</span><span class="op" id="8443415">)</span><br>
<span class="lineno"></span><span class="op" id="8443417">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="8443420">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="8443469">func</span>&nbsp;<span class="ident" id="8443474">TestParseCopy</span><span class="op" id="8443487">(</span><span class="ident" id="8443488">t</span>&nbsp;<span class="op" id="8443490">*</span><span class="ident" id="8443491">testing</span><span class="op" id="8443498">.</span><span class="ident" id="8443499">T</span><span class="op" id="8443500">)</span>&nbsp;<span class="op" id="8443502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443505">testParse</span><span class="op" id="8443514">(</span><span class="builtintype" id="8443515">true</span><span class="op" id="8443519">,</span>&nbsp;<span class="ident" id="8443521">t</span><span class="op" id="8443522">)</span><br>
<span class="lineno"></span><span class="op" id="8443524">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="8443527">type</span>&nbsp;<span class="ident" id="8443532">isEmptyTest</span>&nbsp;<span class="keyword" id="8443544">struct</span>&nbsp;<span class="op" id="8443551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443554">name</span>&nbsp;&nbsp;<span class="builtintype" id="8443560">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443568">input</span>&nbsp;<span class="builtintype" id="8443574">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8443582">empty</span>&nbsp;<span class="builtintype" id="8443588">bool</span><br>
<span class="lineno">310</span><span class="op" id="8443593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8443596">var</span>&nbsp;<span class="ident" id="8443600">isEmptyTests</span>&nbsp;<span class="op" id="8443613">=</span>&nbsp;<span class="op" id="8443615">[</span><span class="op" id="8443616">]</span><span class="ident" id="8443617">isEmptyTest</span><span class="op" id="8443628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443631">{</span><span class="string" id="8443632">&#34;empty&#34;</span><span class="op" id="8443639">,</span>&nbsp;<span class="string" id="8443641">``</span><span class="op" id="8443643">,</span>&nbsp;<span class="builtintype" id="8443645">true</span><span class="op" id="8443649">}</span><span class="op" id="8443650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443653">{</span><span class="string" id="8443654">&#34;nonempty&#34;</span><span class="op" id="8443664">,</span>&nbsp;<span class="string" id="8443666">`hello`</span><span class="op" id="8443673">,</span>&nbsp;<span class="builtintype" id="8443675">false</span><span class="op" id="8443680">}</span><span class="op" id="8443681">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443684">{</span><span class="string" id="8443685">&#34;spaces&nbsp;only&#34;</span><span class="op" id="8443698">,</span>&nbsp;<span class="string" id="8443700">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="8443712">,</span>&nbsp;<span class="builtintype" id="8443714">true</span><span class="op" id="8443718">}</span><span class="op" id="8443719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443722">{</span><span class="string" id="8443723">&#34;definition&#34;</span><span class="op" id="8443735">,</span>&nbsp;<span class="string" id="8443737">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="8443769">,</span>&nbsp;<span class="builtintype" id="8443771">true</span><span class="op" id="8443775">}</span><span class="op" id="8443776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443779">{</span><span class="string" id="8443780">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="8443803">,</span>&nbsp;<span class="string" id="8443805">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="8443875">,</span>&nbsp;<span class="builtintype" id="8443877">true</span><span class="op" id="8443881">}</span><span class="op" id="8443882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443885">{</span><span class="string" id="8443886">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="8443908">,</span>&nbsp;<span class="string" id="8443910">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="8443982">,</span>&nbsp;<span class="builtintype" id="8443984">false</span><span class="op" id="8443989">}</span><span class="op" id="8443990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8443993">{</span><span class="string" id="8443994">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="8444017">,</span>&nbsp;<span class="string" id="8444019">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="8444069">,</span>&nbsp;<span class="builtintype" id="8444071">false</span><span class="op" id="8444076">}</span><span class="op" id="8444077">,</span><br>
<span class="lineno">320</span><span class="op" id="8444079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8444082">func</span>&nbsp;<span class="ident" id="8444087">TestIsEmpty</span><span class="op" id="8444098">(</span><span class="ident" id="8444099">t</span>&nbsp;<span class="op" id="8444101">*</span><span class="ident" id="8444102">testing</span><span class="op" id="8444109">.</span><span class="ident" id="8444110">T</span><span class="op" id="8444111">)</span>&nbsp;<span class="op" id="8444113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8444116">if</span>&nbsp;<span class="op" id="8444119">!</span><span class="ident" id="8444120">IsEmptyTree</span><span class="op" id="8444131">(</span><span class="ident" id="8444132">nil</span><span class="op" id="8444135">)</span>&nbsp;<span class="op" id="8444137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444141">t</span><span class="op" id="8444142">.</span><span class="ident" id="8444143">Errorf</span><span class="op" id="8444149">(</span><span class="string" id="8444150">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="8444173">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8444176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8444179">for</span>&nbsp;<span class="ident" id="8444183">_</span><span class="op" id="8444184">,</span>&nbsp;<span class="ident" id="8444186">test</span>&nbsp;<span class="op" id="8444191">:=</span>&nbsp;<span class="keyword" id="8444194">range</span>&nbsp;<span class="ident" id="8444200">isEmptyTests</span>&nbsp;<span class="op" id="8444213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444217">tree</span><span class="op" id="8444221">,</span>&nbsp;<span class="ident" id="8444223">err</span>&nbsp;<span class="op" id="8444227">:=</span>&nbsp;<span class="ident" id="8444230">New</span><span class="op" id="8444233">(</span><span class="string" id="8444234">&#34;root&#34;</span><span class="op" id="8444240">)</span><span class="op" id="8444241">.</span><span class="ident" id="8444242">Parse</span><span class="op" id="8444247">(</span><span class="ident" id="8444248">test</span><span class="op" id="8444252">.</span><span class="ident" id="8444253">input</span><span class="op" id="8444258">,</span>&nbsp;<span class="string" id="8444260">&#34;&#34;</span><span class="op" id="8444262">,</span>&nbsp;<span class="string" id="8444264">&#34;&#34;</span><span class="op" id="8444266">,</span>&nbsp;<span class="builtinfunc" id="8444268">make</span><span class="op" id="8444272">(</span><span class="keyword" id="8444273">map</span><span class="op" id="8444276">[</span><span class="builtintype" id="8444277">string</span><span class="op" id="8444283">]</span><span class="op" id="8444284">*</span><span class="ident" id="8444285">Tree</span><span class="op" id="8444289">)</span><span class="op" id="8444290">,</span>&nbsp;<span class="ident" id="8444292">nil</span><span class="op" id="8444295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8444299">if</span>&nbsp;<span class="ident" id="8444302">err</span>&nbsp;<span class="op" id="8444306">!=</span>&nbsp;<span class="ident" id="8444309">nil</span>&nbsp;<span class="op" id="8444313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444318">t</span><span class="op" id="8444319">.</span><span class="ident" id="8444320">Errorf</span><span class="op" id="8444326">(</span><span class="string" id="8444327">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8444353">,</span>&nbsp;<span class="ident" id="8444355">test</span><span class="op" id="8444359">.</span><span class="ident" id="8444360">name</span><span class="op" id="8444364">,</span>&nbsp;<span class="ident" id="8444366">err</span><span class="op" id="8444369">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8444374">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8444385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8444389">if</span>&nbsp;<span class="ident" id="8444392">empty</span>&nbsp;<span class="op" id="8444398">:=</span>&nbsp;<span class="ident" id="8444401">IsEmptyTree</span><span class="op" id="8444412">(</span><span class="ident" id="8444413">tree</span><span class="op" id="8444417">.</span><span class="ident" id="8444418">Root</span><span class="op" id="8444422">)</span><span class="op" id="8444423">;</span>&nbsp;<span class="ident" id="8444425">empty</span>&nbsp;<span class="op" id="8444431">!=</span>&nbsp;<span class="ident" id="8444434">test</span><span class="op" id="8444438">.</span><span class="ident" id="8444439">empty</span>&nbsp;<span class="op" id="8444445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444450">t</span><span class="op" id="8444451">.</span><span class="ident" id="8444452">Errorf</span><span class="op" id="8444458">(</span><span class="string" id="8444459">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="8444483">,</span>&nbsp;<span class="ident" id="8444485">test</span><span class="op" id="8444489">.</span><span class="ident" id="8444490">name</span><span class="op" id="8444494">,</span>&nbsp;<span class="ident" id="8444496">test</span><span class="op" id="8444500">.</span><span class="ident" id="8444501">empty</span><span class="op" id="8444506">,</span>&nbsp;<span class="ident" id="8444508">empty</span><span class="op" id="8444513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8444517">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8444520">}</span><br>
<span class="lineno"></span><span class="op" id="8444522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8444525">func</span>&nbsp;<span class="ident" id="8444530">TestErrorContextWithTreeCopy</span><span class="op" id="8444558">(</span><span class="ident" id="8444559">t</span>&nbsp;<span class="op" id="8444561">*</span><span class="ident" id="8444562">testing</span><span class="op" id="8444569">.</span><span class="ident" id="8444570">T</span><span class="op" id="8444571">)</span>&nbsp;<span class="op" id="8444573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444576">tree</span><span class="op" id="8444580">,</span>&nbsp;<span class="ident" id="8444582">err</span>&nbsp;<span class="op" id="8444586">:=</span>&nbsp;<span class="ident" id="8444589">New</span><span class="op" id="8444592">(</span><span class="string" id="8444593">&#34;root&#34;</span><span class="op" id="8444599">)</span><span class="op" id="8444600">.</span><span class="ident" id="8444601">Parse</span><span class="op" id="8444606">(</span><span class="string" id="8444607">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="8444627">,</span>&nbsp;<span class="string" id="8444629">&#34;&#34;</span><span class="op" id="8444631">,</span>&nbsp;<span class="string" id="8444633">&#34;&#34;</span><span class="op" id="8444635">,</span>&nbsp;<span class="builtinfunc" id="8444637">make</span><span class="op" id="8444641">(</span><span class="keyword" id="8444642">map</span><span class="op" id="8444645">[</span><span class="builtintype" id="8444646">string</span><span class="op" id="8444652">]</span><span class="op" id="8444653">*</span><span class="ident" id="8444654">Tree</span><span class="op" id="8444658">)</span><span class="op" id="8444659">,</span>&nbsp;<span class="ident" id="8444661">nil</span><span class="op" id="8444664">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8444667">if</span>&nbsp;<span class="ident" id="8444670">err</span>&nbsp;<span class="op" id="8444674">!=</span>&nbsp;<span class="ident" id="8444677">nil</span>&nbsp;<span class="op" id="8444681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444685">t</span><span class="op" id="8444686">.</span><span class="ident" id="8444687">Fatalf</span><span class="op" id="8444693">(</span><span class="string" id="8444694">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="8444729">,</span>&nbsp;<span class="ident" id="8444731">err</span><span class="op" id="8444734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8444737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444740">treeCopy</span>&nbsp;<span class="op" id="8444749">:=</span>&nbsp;<span class="ident" id="8444752">tree</span><span class="op" id="8444756">.</span><span class="ident" id="8444757">Copy</span><span class="op" id="8444761">(</span><span class="op" id="8444762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444765">wantLocation</span><span class="op" id="8444777">,</span>&nbsp;<span class="ident" id="8444779">wantContext</span>&nbsp;<span class="op" id="8444791">:=</span>&nbsp;<span class="ident" id="8444794">tree</span><span class="op" id="8444798">.</span><span class="ident" id="8444799">ErrorContext</span><span class="op" id="8444811">(</span><span class="ident" id="8444812">tree</span><span class="op" id="8444816">.</span><span class="ident" id="8444817">Root</span><span class="op" id="8444821">.</span><span class="ident" id="8444822">Nodes</span><span class="op" id="8444827">[</span><span class="num" id="8444828">0</span><span class="op" id="8444829">]</span><span class="op" id="8444830">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444833">gotLocation</span><span class="op" id="8444844">,</span>&nbsp;<span class="ident" id="8444846">gotContext</span>&nbsp;<span class="op" id="8444857">:=</span>&nbsp;<span class="ident" id="8444860">treeCopy</span><span class="op" id="8444868">.</span><span class="ident" id="8444869">ErrorContext</span><span class="op" id="8444881">(</span><span class="ident" id="8444882">treeCopy</span><span class="op" id="8444890">.</span><span class="ident" id="8444891">Root</span><span class="op" id="8444895">.</span><span class="ident" id="8444896">Nodes</span><span class="op" id="8444901">[</span><span class="num" id="8444902">0</span><span class="op" id="8444903">]</span><span class="op" id="8444904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8444907">if</span>&nbsp;<span class="ident" id="8444910">wantLocation</span>&nbsp;<span class="op" id="8444923">!=</span>&nbsp;<span class="ident" id="8444926">gotLocation</span>&nbsp;<span class="op" id="8444938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8444942">t</span><span class="op" id="8444943">.</span><span class="ident" id="8444944">Errorf</span><span class="op" id="8444950">(</span><span class="string" id="8444951">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8444988">,</span>&nbsp;<span class="ident" id="8444990">wantLocation</span><span class="op" id="8445002">,</span>&nbsp;<span class="ident" id="8445004">gotLocation</span><span class="op" id="8445015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445018">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8445021">if</span>&nbsp;<span class="ident" id="8445024">wantContext</span>&nbsp;<span class="op" id="8445036">!=</span>&nbsp;<span class="ident" id="8445039">gotContext</span>&nbsp;<span class="op" id="8445050">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445054">t</span><span class="op" id="8445055">.</span><span class="ident" id="8445056">Errorf</span><span class="op" id="8445062">(</span><span class="string" id="8445063">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8445100">,</span>&nbsp;<span class="ident" id="8445102">wantContext</span><span class="op" id="8445113">,</span>&nbsp;<span class="ident" id="8445115">gotContext</span><span class="op" id="8445125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445128">}</span><br>
<span class="lineno"></span><span class="op" id="8445130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8445133">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="8445216">var</span>&nbsp;<span class="ident" id="8445220">errorTests</span>&nbsp;<span class="op" id="8445231">=</span>&nbsp;<span class="op" id="8445233">[</span><span class="op" id="8445234">]</span><span class="ident" id="8445235">parseTest</span><span class="op" id="8445244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8445247">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445284">{</span><span class="string" id="8445285">&#34;unclosed1&#34;</span><span class="op" id="8445296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445300">&#34;line1\n{{&#34;</span><span class="op" id="8445311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445315">hasError</span><span class="op" id="8445323">,</span>&nbsp;<span class="string" id="8445325">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8445377">}</span><span class="op" id="8445378">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445381">{</span><span class="string" id="8445382">&#34;unclosed2&#34;</span><span class="op" id="8445393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445397">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="8445429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445433">hasError</span><span class="op" id="8445441">,</span>&nbsp;<span class="string" id="8445443">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="8445495">}</span><span class="op" id="8445496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8445499">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445520">{</span><span class="string" id="8445521">&#34;function&#34;</span><span class="op" id="8445531">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445535">&#34;{{foo}}&#34;</span><span class="op" id="8445544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445548">hasError</span><span class="op" id="8445556">,</span>&nbsp;<span class="string" id="8445558">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="8445586">}</span><span class="op" id="8445587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445590">{</span><span class="string" id="8445591">&#34;comment&#34;</span><span class="op" id="8445600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445604">&#34;{{/*}}&#34;</span><span class="op" id="8445612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445616">hasError</span><span class="op" id="8445624">,</span>&nbsp;<span class="string" id="8445626">`unclosed&nbsp;comment`</span><span class="op" id="8445644">}</span><span class="op" id="8445645">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445648">{</span><span class="string" id="8445649">&#34;lparen&#34;</span><span class="op" id="8445657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445661">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="8445676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445680">hasError</span><span class="op" id="8445688">,</span>&nbsp;<span class="string" id="8445690">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="8445711">}</span><span class="op" id="8445712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445715">{</span><span class="string" id="8445716">&#34;rparen&#34;</span><span class="op" id="8445724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445728">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="8445743">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445747">hasError</span><span class="op" id="8445755">,</span>&nbsp;<span class="string" id="8445757">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="8445773">}</span><span class="op" id="8445774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445777">{</span><span class="string" id="8445778">&#34;space&#34;</span><span class="op" id="8445785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445789">&#34;{{`x`3}}&#34;</span><span class="op" id="8445799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445803">hasError</span><span class="op" id="8445811">,</span>&nbsp;<span class="string" id="8445813">`missing&nbsp;space?`</span><span class="op" id="8445829">}</span><span class="op" id="8445830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445833">{</span><span class="string" id="8445834">&#34;idchar&#34;</span><span class="op" id="8445842">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445846">&#34;{{a#}}&#34;</span><span class="op" id="8445854">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445858">hasError</span><span class="op" id="8445866">,</span>&nbsp;<span class="string" id="8445868">`&#39;#&#39;`</span><span class="op" id="8445873">}</span><span class="op" id="8445874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445877">{</span><span class="string" id="8445878">&#34;charconst&#34;</span><span class="op" id="8445889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445893">&#34;{{&#39;a}}&#34;</span><span class="op" id="8445901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445905">hasError</span><span class="op" id="8445913">,</span>&nbsp;<span class="string" id="8445915">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="8445948">}</span><span class="op" id="8445949">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8445952">{</span><span class="string" id="8445953">&#34;stringconst&#34;</span><span class="op" id="8445966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8445970">`{{&#34;a}}`</span><span class="op" id="8445978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8445982">hasError</span><span class="op" id="8445990">,</span>&nbsp;<span class="string" id="8445992">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="8446020">}</span><span class="op" id="8446021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446024">{</span><span class="string" id="8446025">&#34;rawstringconst&#34;</span><span class="op" id="8446041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8446045">&#34;{{`a}}&#34;</span><span class="op" id="8446053">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446057">hasError</span><span class="op" id="8446065">,</span>&nbsp;<span class="string" id="8446067">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="8446099">}</span><span class="op" id="8446100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446103">{</span><span class="string" id="8446104">&#34;number&#34;</span><span class="op" id="8446112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8446116">&#34;{{0xi}}&#34;</span><span class="op" id="8446125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446129">hasError</span><span class="op" id="8446137">,</span>&nbsp;<span class="string" id="8446139">`number&nbsp;syntax`</span><span class="op" id="8446154">}</span><span class="op" id="8446155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446158">{</span><span class="string" id="8446159">&#34;multidefine&#34;</span><span class="op" id="8446172">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8446176">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="8446222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446226">hasError</span><span class="op" id="8446234">,</span>&nbsp;<span class="string" id="8446236">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="8446269">}</span><span class="op" id="8446270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446273">{</span><span class="string" id="8446274">&#34;eof&#34;</span><span class="op" id="8446279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8446283">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="8446297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446301">hasError</span><span class="op" id="8446309">,</span>&nbsp;<span class="string" id="8446311">`unexpected&nbsp;EOF`</span><span class="op" id="8446327">}</span><span class="op" id="8446328">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446331">{</span><span class="string" id="8446332">&#34;variable&#34;</span><span class="op" id="8446342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8446346">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8446445">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="8446493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446497">hasError</span><span class="op" id="8446505">,</span>&nbsp;<span class="string" id="8446507">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="8446524">}</span><span class="op" id="8446525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446528">{</span><span class="string" id="8446529">&#34;multidecl&#34;</span><span class="op" id="8446540">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8446544">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="8446564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446568">hasError</span><span class="op" id="8446576">,</span>&nbsp;<span class="string" id="8446578">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="8446601">}</span><span class="op" id="8446602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446605">{</span><span class="string" id="8446606">&#34;undefvar&#34;</span><span class="op" id="8446616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8446620">&#34;{{$a}}&#34;</span><span class="op" id="8446628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446632">hasError</span><span class="op" id="8446640">,</span>&nbsp;<span class="string" id="8446642">`undefined&nbsp;variable`</span><span class="op" id="8446662">}</span><span class="op" id="8446663">,</span><br>
<span class="lineno">410</span><span class="op" id="8446665">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8446668">func</span>&nbsp;<span class="ident" id="8446673">TestErrors</span><span class="op" id="8446683">(</span><span class="ident" id="8446684">t</span>&nbsp;<span class="op" id="8446686">*</span><span class="ident" id="8446687">testing</span><span class="op" id="8446694">.</span><span class="ident" id="8446695">T</span><span class="op" id="8446696">)</span>&nbsp;<span class="op" id="8446698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446701">for</span>&nbsp;<span class="ident" id="8446705">_</span><span class="op" id="8446706">,</span>&nbsp;<span class="ident" id="8446708">test</span>&nbsp;<span class="op" id="8446713">:=</span>&nbsp;<span class="keyword" id="8446716">range</span>&nbsp;<span class="ident" id="8446722">errorTests</span>&nbsp;<span class="op" id="8446733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446737">_</span><span class="op" id="8446738">,</span>&nbsp;<span class="ident" id="8446740">err</span>&nbsp;<span class="op" id="8446744">:=</span>&nbsp;<span class="ident" id="8446747">New</span><span class="op" id="8446750">(</span><span class="ident" id="8446751">test</span><span class="op" id="8446755">.</span><span class="ident" id="8446756">name</span><span class="op" id="8446760">)</span><span class="op" id="8446761">.</span><span class="ident" id="8446762">Parse</span><span class="op" id="8446767">(</span><span class="ident" id="8446768">test</span><span class="op" id="8446772">.</span><span class="ident" id="8446773">input</span><span class="op" id="8446778">,</span>&nbsp;<span class="string" id="8446780">&#34;&#34;</span><span class="op" id="8446782">,</span>&nbsp;<span class="string" id="8446784">&#34;&#34;</span><span class="op" id="8446786">,</span>&nbsp;<span class="builtinfunc" id="8446788">make</span><span class="op" id="8446792">(</span><span class="keyword" id="8446793">map</span><span class="op" id="8446796">[</span><span class="builtintype" id="8446797">string</span><span class="op" id="8446803">]</span><span class="op" id="8446804">*</span><span class="ident" id="8446805">Tree</span><span class="op" id="8446809">)</span><span class="op" id="8446810">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446814">if</span>&nbsp;<span class="ident" id="8446817">err</span>&nbsp;<span class="op" id="8446821">==</span>&nbsp;<span class="ident" id="8446824">nil</span>&nbsp;<span class="op" id="8446828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446833">t</span><span class="op" id="8446834">.</span><span class="ident" id="8446835">Errorf</span><span class="op" id="8446841">(</span><span class="string" id="8446842">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="8446862">,</span>&nbsp;<span class="ident" id="8446864">test</span><span class="op" id="8446868">.</span><span class="ident" id="8446869">name</span><span class="op" id="8446873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446878">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8446889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446893">if</span>&nbsp;<span class="op" id="8446896">!</span><span class="ident" id="8446897">strings</span><span class="op" id="8446904">.</span><span class="ident" id="8446905">Contains</span><span class="op" id="8446913">(</span><span class="ident" id="8446914">err</span><span class="op" id="8446917">.</span><span class="ident" id="8446918">Error</span><span class="op" id="8446923">(</span><span class="op" id="8446924">)</span><span class="op" id="8446925">,</span>&nbsp;<span class="ident" id="8446927">test</span><span class="op" id="8446931">.</span><span class="ident" id="8446932">result</span><span class="op" id="8446938">)</span>&nbsp;<span class="op" id="8446940">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8446945">t</span><span class="op" id="8446946">.</span><span class="ident" id="8446947">Errorf</span><span class="op" id="8446953">(</span><span class="string" id="8446954">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="8446988">,</span>&nbsp;<span class="ident" id="8446990">test</span><span class="op" id="8446994">.</span><span class="ident" id="8446995">name</span><span class="op" id="8446999">,</span>&nbsp;<span class="ident" id="8447001">err</span><span class="op" id="8447004">,</span>&nbsp;<span class="ident" id="8447006">test</span><span class="op" id="8447010">.</span><span class="ident" id="8447011">result</span><span class="op" id="8447017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8447024">}</span><br>
<span class="lineno"></span><span class="op" id="8447026">}</span>
</div>
</body>
</html>
