<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html" class="current">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2772135">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2772190">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2772244">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2772295">//&nbsp;Deep&nbsp;equality&nbsp;test&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2772333">package</span>&nbsp;<span class="ident" id="2772341">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2772350">//&nbsp;During&nbsp;deepValueEqual,&nbsp;must&nbsp;keep&nbsp;track&nbsp;of&nbsp;checks&nbsp;that&nbsp;are</span><br>
<span class="lineno">10</span><span class="comment" id="2772411">//&nbsp;in&nbsp;progress.&nbsp;&nbsp;The&nbsp;comparison&nbsp;algorithm&nbsp;assumes&nbsp;that&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="2772470">//&nbsp;checks&nbsp;in&nbsp;progress&nbsp;are&nbsp;true&nbsp;when&nbsp;it&nbsp;reencounters&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="2772528">//&nbsp;Visited&nbsp;comparisons&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;map&nbsp;indexed&nbsp;by&nbsp;visit.</span><br>
<span class="lineno"></span><span class="keyword" id="2772589">type</span>&nbsp;<span class="ident" id="2772594">visit</span>&nbsp;<span class="keyword" id="2772600">struct</span>&nbsp;<span class="op" id="2772607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2772610">a1</span>&nbsp;&nbsp;<span class="builtintype" id="2772614">uintptr</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2772623">a2</span>&nbsp;&nbsp;<span class="builtintype" id="2772627">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2772636">typ</span>&nbsp;<span class="ident" id="2772640"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><br>
<span class="lineno"></span><span class="op" id="2772645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2772648">//&nbsp;Tests&nbsp;for&nbsp;deep&nbsp;equality&nbsp;using&nbsp;reflected&nbsp;types.&nbsp;The&nbsp;map&nbsp;argument&nbsp;tracks</span><br>
<span class="lineno">20</span><span class="comment" id="2772722">//&nbsp;comparisons&nbsp;that&nbsp;have&nbsp;already&nbsp;been&nbsp;seen,&nbsp;which&nbsp;allows&nbsp;short&nbsp;circuiting&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="2772799">//&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="2772819">func</span>&nbsp;<span class="ident" id="2772824">deepValueEqual</span><span class="op" id="2772838">(</span><span class="ident" id="2772839">v1</span><span class="op" id="2772841">,</span>&nbsp;<span class="ident" id="2772843">v2</span>&nbsp;<span class="ident" id="2772846"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="2772851">,</span>&nbsp;<span class="ident" id="2772853">visited</span>&nbsp;<span class="keyword" id="2772861">map</span><span class="op" id="2772864">[</span><span class="ident" id="2772865"><a href="/gostd/reflect/deepequal.go.html#2772594">visit</a></span><span class="op" id="2772870">]</span><span class="builtintype" id="2772871">bool</span><span class="op" id="2772875">,</span>&nbsp;<span class="ident" id="2772877">depth</span>&nbsp;<span class="builtintype" id="2772883">int</span><span class="op" id="2772886">)</span>&nbsp;<span class="builtintype" id="2772888">bool</span>&nbsp;<span class="op" id="2772893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2772896">if</span>&nbsp;<span class="op" id="2772899">!</span><span class="ident" id="2772900"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2772902">.</span><span class="ident" id="2772903"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="2772910">(</span><span class="op" id="2772911">)</span>&nbsp;<span class="op" id="2772913">||</span>&nbsp;<span class="op" id="2772916">!</span><span class="ident" id="2772917"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2772919">.</span><span class="ident" id="2772920"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="2772927">(</span><span class="op" id="2772928">)</span>&nbsp;<span class="op" id="2772930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2772934">return</span>&nbsp;<span class="ident" id="2772941"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2772943">.</span><span class="ident" id="2772944"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="2772951">(</span><span class="op" id="2772952">)</span>&nbsp;<span class="op" id="2772954">==</span>&nbsp;<span class="ident" id="2772957"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2772959">.</span><span class="ident" id="2772960"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="2772967">(</span><span class="op" id="2772968">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2772971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2772974">if</span>&nbsp;<span class="ident" id="2772977"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2772979">.</span><span class="ident" id="2772980"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2772984">(</span><span class="op" id="2772985">)</span>&nbsp;<span class="op" id="2772987">!=</span>&nbsp;<span class="ident" id="2772990"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2772992">.</span><span class="ident" id="2772993"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2772997">(</span><span class="op" id="2772998">)</span>&nbsp;<span class="op" id="2773000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773004">return</span>&nbsp;<span class="builtintype" id="2773011">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2773022">//&nbsp;if&nbsp;depth&nbsp;&gt;&nbsp;10&nbsp;{&nbsp;panic(&#34;deepValueEqual&#34;)&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;for&nbsp;debugging</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2773085">hard</span>&nbsp;<span class="op" id="2773090">:=</span>&nbsp;<span class="keyword" id="2773093">func</span><span class="op" id="2773097">(</span><span class="ident" id="2773098">k</span>&nbsp;<span class="ident" id="2773100"><a href="/gostd/reflect/type.go.html#2787856">Kind</a></span><span class="op" id="2773104">)</span>&nbsp;<span class="builtintype" id="2773106">bool</span>&nbsp;<span class="op" id="2773111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773115">switch</span>&nbsp;<span class="ident" id="2773122"><a href="/gostd/reflect/deepequal.go.html#2773098">k</a></span>&nbsp;<span class="op" id="2773124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773128">case</span>&nbsp;<span class="ident" id="2773133"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2773138">,</span>&nbsp;<span class="ident" id="2773140"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2773143">,</span>&nbsp;<span class="ident" id="2773145"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2773150">,</span>&nbsp;<span class="ident" id="2773152"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="2773158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773163">return</span>&nbsp;<span class="builtintype" id="2773170">true</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773181">return</span>&nbsp;<span class="builtintype" id="2773188">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773199">if</span>&nbsp;<span class="ident" id="2773202"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773204">.</span><span class="ident" id="2773205"><a href="/gostd/reflect/value.go.html#2840824">CanAddr</a></span><span class="op" id="2773212">(</span><span class="op" id="2773213">)</span>&nbsp;<span class="op" id="2773215">&amp;&amp;</span>&nbsp;<span class="ident" id="2773218"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2773220">.</span><span class="ident" id="2773221"><a href="/gostd/reflect/value.go.html#2840824">CanAddr</a></span><span class="op" id="2773228">(</span><span class="op" id="2773229">)</span>&nbsp;<span class="op" id="2773231">&amp;&amp;</span>&nbsp;<span class="ident" id="2773234"><a href="/gostd/reflect/deepequal.go.html#2773085">hard</a></span><span class="op" id="2773238">(</span><span class="ident" id="2773239"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773241">.</span><span class="ident" id="2773242"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="2773246">(</span><span class="op" id="2773247">)</span><span class="op" id="2773248">)</span>&nbsp;<span class="op" id="2773250">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2773254">addr1</span>&nbsp;<span class="op" id="2773260">:=</span>&nbsp;<span class="ident" id="2773263"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773265">.</span><span class="ident" id="2773266"><a href="/gostd/reflect/value.go.html#2882318">UnsafeAddr</a></span><span class="op" id="2773276">(</span><span class="op" id="2773277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2773281">addr2</span>&nbsp;<span class="op" id="2773287">:=</span>&nbsp;<span class="ident" id="2773290"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2773292">.</span><span class="ident" id="2773293"><a href="/gostd/reflect/value.go.html#2882318">UnsafeAddr</a></span><span class="op" id="2773303">(</span><span class="op" id="2773304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773308">if</span>&nbsp;<span class="ident" id="2773311"><a href="/gostd/reflect/deepequal.go.html#2773254">addr1</a></span>&nbsp;<span class="op" id="2773317">&gt;</span>&nbsp;<span class="ident" id="2773319"><a href="/gostd/reflect/deepequal.go.html#2773281">addr2</a></span>&nbsp;<span class="op" id="2773325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2773330">//&nbsp;Canonicalize&nbsp;order&nbsp;to&nbsp;reduce&nbsp;number&nbsp;of&nbsp;entries&nbsp;in&nbsp;visited.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2773395"><a href="/gostd/reflect/deepequal.go.html#2773254">addr1</a></span><span class="op" id="2773400">,</span>&nbsp;<span class="ident" id="2773402"><a href="/gostd/reflect/deepequal.go.html#2773281">addr2</a></span>&nbsp;<span class="op" id="2773408">=</span>&nbsp;<span class="ident" id="2773410"><a href="/gostd/reflect/deepequal.go.html#2773281">addr2</a></span><span class="op" id="2773415">,</span>&nbsp;<span class="ident" id="2773417"><a href="/gostd/reflect/deepequal.go.html#2773254">addr1</a></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2773430">//&nbsp;Short&nbsp;circuit&nbsp;if&nbsp;references&nbsp;are&nbsp;identical&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773481">if</span>&nbsp;<span class="ident" id="2773484"><a href="/gostd/reflect/deepequal.go.html#2773254">addr1</a></span>&nbsp;<span class="op" id="2773490">==</span>&nbsp;<span class="ident" id="2773493"><a href="/gostd/reflect/deepequal.go.html#2773281">addr2</a></span>&nbsp;<span class="op" id="2773499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773504">return</span>&nbsp;<span class="builtintype" id="2773511">true</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2773523">//&nbsp;...&nbsp;or&nbsp;already&nbsp;seen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2773548">typ</span>&nbsp;<span class="op" id="2773552">:=</span>&nbsp;<span class="ident" id="2773555"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773557">.</span><span class="ident" id="2773558"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2773562">(</span><span class="op" id="2773563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2773567">v</span>&nbsp;<span class="op" id="2773569">:=</span>&nbsp;<span class="ident" id="2773572"><a href="/gostd/reflect/deepequal.go.html#2772594">visit</a></span><span class="op" id="2773577">{</span><span class="ident" id="2773578"><a href="/gostd/reflect/deepequal.go.html#2773254">addr1</a></span><span class="op" id="2773583">,</span>&nbsp;<span class="ident" id="2773585"><a href="/gostd/reflect/deepequal.go.html#2773281">addr2</a></span><span class="op" id="2773590">,</span>&nbsp;<span class="ident" id="2773592"><a href="/gostd/reflect/deepequal.go.html#2773548">typ</a></span><span class="op" id="2773595">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773599">if</span>&nbsp;<span class="ident" id="2773602"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2773609">[</span><span class="ident" id="2773610"><a href="/gostd/reflect/deepequal.go.html#2773567">v</a></span><span class="op" id="2773611">]</span>&nbsp;<span class="op" id="2773613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773618">return</span>&nbsp;<span class="builtintype" id="2773625">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2773637">//&nbsp;Remember&nbsp;for&nbsp;later.</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2773662"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2773669">[</span><span class="ident" id="2773670"><a href="/gostd/reflect/deepequal.go.html#2773567">v</a></span><span class="op" id="2773671">]</span>&nbsp;<span class="op" id="2773673">=</span>&nbsp;<span class="builtintype" id="2773675">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773685">switch</span>&nbsp;<span class="ident" id="2773692"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773694">.</span><span class="ident" id="2773695"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="2773699">(</span><span class="op" id="2773700">)</span>&nbsp;<span class="op" id="2773702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773705">case</span>&nbsp;<span class="ident" id="2773710"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="2773715">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773719">for</span>&nbsp;<span class="ident" id="2773723">i</span>&nbsp;<span class="op" id="2773725">:=</span>&nbsp;<span class="num" id="2773728">0</span><span class="op" id="2773729">;</span>&nbsp;<span class="ident" id="2773731"><a href="/gostd/reflect/deepequal.go.html#2773723">i</a></span>&nbsp;<span class="op" id="2773733">&lt;</span>&nbsp;<span class="ident" id="2773735"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773737">.</span><span class="ident" id="2773738"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="2773741">(</span><span class="op" id="2773742">)</span><span class="op" id="2773743">;</span>&nbsp;<span class="ident" id="2773745"><a href="/gostd/reflect/deepequal.go.html#2773723">i</a></span><span class="op" id="2773746">++</span>&nbsp;<span class="op" id="2773749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773754">if</span>&nbsp;<span class="op" id="2773757">!</span><span class="ident" id="2773758"><a href="/gostd/reflect/deepequal.go.html#2772824">deepValueEqual</a></span><span class="op" id="2773772">(</span><span class="ident" id="2773773"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773775">.</span><span class="ident" id="2773776"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="2773781">(</span><span class="ident" id="2773782"><a href="/gostd/reflect/deepequal.go.html#2773723">i</a></span><span class="op" id="2773783">)</span><span class="op" id="2773784">,</span>&nbsp;<span class="ident" id="2773786"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2773788">.</span><span class="ident" id="2773789"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="2773794">(</span><span class="ident" id="2773795"><a href="/gostd/reflect/deepequal.go.html#2773723">i</a></span><span class="op" id="2773796">)</span><span class="op" id="2773797">,</span>&nbsp;<span class="ident" id="2773799"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2773806">,</span>&nbsp;<span class="ident" id="2773808"><a href="/gostd/reflect/deepequal.go.html#2772877">depth</a></span><span class="op" id="2773813">+</span><span class="num" id="2773814">1</span><span class="op" id="2773815">)</span>&nbsp;<span class="op" id="2773817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773823">return</span>&nbsp;<span class="builtintype" id="2773830">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773843">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773847">return</span>&nbsp;<span class="builtintype" id="2773854">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773860">case</span>&nbsp;<span class="ident" id="2773865"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2773870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773874">if</span>&nbsp;<span class="ident" id="2773877"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773879">.</span><span class="ident" id="2773880"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2773885">(</span><span class="op" id="2773886">)</span>&nbsp;<span class="op" id="2773888">!=</span>&nbsp;<span class="ident" id="2773891"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2773893">.</span><span class="ident" id="2773894"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2773899">(</span><span class="op" id="2773900">)</span>&nbsp;<span class="op" id="2773902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773907">return</span>&nbsp;<span class="builtintype" id="2773914">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773922">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773926">if</span>&nbsp;<span class="ident" id="2773929"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773931">.</span><span class="ident" id="2773932"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="2773935">(</span><span class="op" id="2773936">)</span>&nbsp;<span class="op" id="2773938">!=</span>&nbsp;<span class="ident" id="2773941"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2773943">.</span><span class="ident" id="2773944"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="2773947">(</span><span class="op" id="2773948">)</span>&nbsp;<span class="op" id="2773950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773955">return</span>&nbsp;<span class="builtintype" id="2773962">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2773970">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2773974">if</span>&nbsp;<span class="ident" id="2773977"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2773979">.</span><span class="ident" id="2773980"><a href="/gostd/reflect/value.go.html#2868691">Pointer</a></span><span class="op" id="2773987">(</span><span class="op" id="2773988">)</span>&nbsp;<span class="op" id="2773990">==</span>&nbsp;<span class="ident" id="2773993"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2773995">.</span><span class="ident" id="2773996"><a href="/gostd/reflect/value.go.html#2868691">Pointer</a></span><span class="op" id="2774003">(</span><span class="op" id="2774004">)</span>&nbsp;<span class="op" id="2774006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774011">return</span>&nbsp;<span class="builtintype" id="2774018">true</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774029">for</span>&nbsp;<span class="ident" id="2774033">i</span>&nbsp;<span class="op" id="2774035">:=</span>&nbsp;<span class="num" id="2774038">0</span><span class="op" id="2774039">;</span>&nbsp;<span class="ident" id="2774041"><a href="/gostd/reflect/deepequal.go.html#2774033">i</a></span>&nbsp;<span class="op" id="2774043">&lt;</span>&nbsp;<span class="ident" id="2774045"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774047">.</span><span class="ident" id="2774048"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="2774051">(</span><span class="op" id="2774052">)</span><span class="op" id="2774053">;</span>&nbsp;<span class="ident" id="2774055"><a href="/gostd/reflect/deepequal.go.html#2774033">i</a></span><span class="op" id="2774056">++</span>&nbsp;<span class="op" id="2774059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774064">if</span>&nbsp;<span class="op" id="2774067">!</span><span class="ident" id="2774068"><a href="/gostd/reflect/deepequal.go.html#2772824">deepValueEqual</a></span><span class="op" id="2774082">(</span><span class="ident" id="2774083"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774085">.</span><span class="ident" id="2774086"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="2774091">(</span><span class="ident" id="2774092"><a href="/gostd/reflect/deepequal.go.html#2774033">i</a></span><span class="op" id="2774093">)</span><span class="op" id="2774094">,</span>&nbsp;<span class="ident" id="2774096"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774098">.</span><span class="ident" id="2774099"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="2774104">(</span><span class="ident" id="2774105"><a href="/gostd/reflect/deepequal.go.html#2774033">i</a></span><span class="op" id="2774106">)</span><span class="op" id="2774107">,</span>&nbsp;<span class="ident" id="2774109"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2774116">,</span>&nbsp;<span class="ident" id="2774118"><a href="/gostd/reflect/deepequal.go.html#2772877">depth</a></span><span class="op" id="2774123">+</span><span class="num" id="2774124">1</span><span class="op" id="2774125">)</span>&nbsp;<span class="op" id="2774127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774133">return</span>&nbsp;<span class="builtintype" id="2774140">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774149">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774157">return</span>&nbsp;<span class="builtintype" id="2774164">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774170">case</span>&nbsp;<span class="ident" id="2774175"><a href="/gostd/reflect/type.go.html#2788041">Interface</a></span><span class="op" id="2774184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774188">if</span>&nbsp;<span class="ident" id="2774191"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774193">.</span><span class="ident" id="2774194"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774199">(</span><span class="op" id="2774200">)</span>&nbsp;<span class="op" id="2774202">||</span>&nbsp;<span class="ident" id="2774205"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774207">.</span><span class="ident" id="2774208"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774213">(</span><span class="op" id="2774214">)</span>&nbsp;<span class="op" id="2774216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774221">return</span>&nbsp;<span class="ident" id="2774228"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774230">.</span><span class="ident" id="2774231"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774236">(</span><span class="op" id="2774237">)</span>&nbsp;<span class="op" id="2774239">==</span>&nbsp;<span class="ident" id="2774242"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774244">.</span><span class="ident" id="2774245"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774250">(</span><span class="op" id="2774251">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774259">return</span>&nbsp;<span class="ident" id="2774266"><a href="/gostd/reflect/deepequal.go.html#2772824">deepValueEqual</a></span><span class="op" id="2774280">(</span><span class="ident" id="2774281"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774283">.</span><span class="ident" id="2774284"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="2774288">(</span><span class="op" id="2774289">)</span><span class="op" id="2774290">,</span>&nbsp;<span class="ident" id="2774292"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774294">.</span><span class="ident" id="2774295"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="2774299">(</span><span class="op" id="2774300">)</span><span class="op" id="2774301">,</span>&nbsp;<span class="ident" id="2774303"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2774310">,</span>&nbsp;<span class="ident" id="2774312"><a href="/gostd/reflect/deepequal.go.html#2772877">depth</a></span><span class="op" id="2774317">+</span><span class="num" id="2774318">1</span><span class="op" id="2774319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774322">case</span>&nbsp;<span class="ident" id="2774327"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span><span class="op" id="2774330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774334">return</span>&nbsp;<span class="ident" id="2774341"><a href="/gostd/reflect/deepequal.go.html#2772824">deepValueEqual</a></span><span class="op" id="2774355">(</span><span class="ident" id="2774356"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774358">.</span><span class="ident" id="2774359"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="2774363">(</span><span class="op" id="2774364">)</span><span class="op" id="2774365">,</span>&nbsp;<span class="ident" id="2774367"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774369">.</span><span class="ident" id="2774370"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="2774374">(</span><span class="op" id="2774375">)</span><span class="op" id="2774376">,</span>&nbsp;<span class="ident" id="2774378"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2774385">,</span>&nbsp;<span class="ident" id="2774387"><a href="/gostd/reflect/deepequal.go.html#2772877">depth</a></span><span class="op" id="2774392">+</span><span class="num" id="2774393">1</span><span class="op" id="2774394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774397">case</span>&nbsp;<span class="ident" id="2774402"><a href="/gostd/reflect/type.go.html#2788077">Struct</a></span><span class="op" id="2774408">:</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774412">for</span>&nbsp;<span class="ident" id="2774416">i</span><span class="op" id="2774417">,</span>&nbsp;<span class="ident" id="2774419">n</span>&nbsp;<span class="op" id="2774421">:=</span>&nbsp;<span class="num" id="2774424">0</span><span class="op" id="2774425">,</span>&nbsp;<span class="ident" id="2774427"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774429">.</span><span class="ident" id="2774430"><a href="/gostd/reflect/value.go.html#2866109">NumField</a></span><span class="op" id="2774438">(</span><span class="op" id="2774439">)</span><span class="op" id="2774440">;</span>&nbsp;<span class="ident" id="2774442"><a href="/gostd/reflect/deepequal.go.html#2774416">i</a></span>&nbsp;<span class="op" id="2774444">&lt;</span>&nbsp;<span class="ident" id="2774446"><a href="/gostd/reflect/deepequal.go.html#2774419">n</a></span><span class="op" id="2774447">;</span>&nbsp;<span class="ident" id="2774449"><a href="/gostd/reflect/deepequal.go.html#2774416">i</a></span><span class="op" id="2774450">++</span>&nbsp;<span class="op" id="2774453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774458">if</span>&nbsp;<span class="op" id="2774461">!</span><span class="ident" id="2774462"><a href="/gostd/reflect/deepequal.go.html#2772824">deepValueEqual</a></span><span class="op" id="2774476">(</span><span class="ident" id="2774477"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774479">.</span><span class="ident" id="2774480"><a href="/gostd/reflect/value.go.html#2853921">Field</a></span><span class="op" id="2774485">(</span><span class="ident" id="2774486"><a href="/gostd/reflect/deepequal.go.html#2774416">i</a></span><span class="op" id="2774487">)</span><span class="op" id="2774488">,</span>&nbsp;<span class="ident" id="2774490"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774492">.</span><span class="ident" id="2774493"><a href="/gostd/reflect/value.go.html#2853921">Field</a></span><span class="op" id="2774498">(</span><span class="ident" id="2774499"><a href="/gostd/reflect/deepequal.go.html#2774416">i</a></span><span class="op" id="2774500">)</span><span class="op" id="2774501">,</span>&nbsp;<span class="ident" id="2774503"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2774510">,</span>&nbsp;<span class="ident" id="2774512"><a href="/gostd/reflect/deepequal.go.html#2772877">depth</a></span><span class="op" id="2774517">+</span><span class="num" id="2774518">1</span><span class="op" id="2774519">)</span>&nbsp;<span class="op" id="2774521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774527">return</span>&nbsp;<span class="builtintype" id="2774534">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774547">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774551">return</span>&nbsp;<span class="builtintype" id="2774558">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774564">case</span>&nbsp;<span class="ident" id="2774569"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="2774572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774576">if</span>&nbsp;<span class="ident" id="2774579"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774581">.</span><span class="ident" id="2774582"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774587">(</span><span class="op" id="2774588">)</span>&nbsp;<span class="op" id="2774590">!=</span>&nbsp;<span class="ident" id="2774593"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774595">.</span><span class="ident" id="2774596"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774601">(</span><span class="op" id="2774602">)</span>&nbsp;<span class="op" id="2774604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774609">return</span>&nbsp;<span class="builtintype" id="2774616">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774624">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774628">if</span>&nbsp;<span class="ident" id="2774631"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774633">.</span><span class="ident" id="2774634"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="2774637">(</span><span class="op" id="2774638">)</span>&nbsp;<span class="op" id="2774640">!=</span>&nbsp;<span class="ident" id="2774643"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774645">.</span><span class="ident" id="2774646"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="2774649">(</span><span class="op" id="2774650">)</span>&nbsp;<span class="op" id="2774652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774657">return</span>&nbsp;<span class="builtintype" id="2774664">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774676">if</span>&nbsp;<span class="ident" id="2774679"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774681">.</span><span class="ident" id="2774682"><a href="/gostd/reflect/value.go.html#2868691">Pointer</a></span><span class="op" id="2774689">(</span><span class="op" id="2774690">)</span>&nbsp;<span class="op" id="2774692">==</span>&nbsp;<span class="ident" id="2774695"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774697">.</span><span class="ident" id="2774698"><a href="/gostd/reflect/value.go.html#2868691">Pointer</a></span><span class="op" id="2774705">(</span><span class="op" id="2774706">)</span>&nbsp;<span class="op" id="2774708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774713">return</span>&nbsp;<span class="builtintype" id="2774720">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774731">for</span>&nbsp;<span class="ident" id="2774735">_</span><span class="op" id="2774736">,</span>&nbsp;<span class="ident" id="2774738">k</span>&nbsp;<span class="op" id="2774740">:=</span>&nbsp;<span class="keyword" id="2774743">range</span>&nbsp;<span class="ident" id="2774749"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774751">.</span><span class="ident" id="2774752"><a href="/gostd/reflect/value.go.html#2863601">MapKeys</a></span><span class="op" id="2774759">(</span><span class="op" id="2774760">)</span>&nbsp;<span class="op" id="2774762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774767">if</span>&nbsp;<span class="op" id="2774770">!</span><span class="ident" id="2774771"><a href="/gostd/reflect/deepequal.go.html#2772824">deepValueEqual</a></span><span class="op" id="2774785">(</span><span class="ident" id="2774786"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774788">.</span><span class="ident" id="2774789"><a href="/gostd/reflect/value.go.html#2862367">MapIndex</a></span><span class="op" id="2774797">(</span><span class="ident" id="2774798"><a href="/gostd/reflect/deepequal.go.html#2774738">k</a></span><span class="op" id="2774799">)</span><span class="op" id="2774800">,</span>&nbsp;<span class="ident" id="2774802"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774804">.</span><span class="ident" id="2774805"><a href="/gostd/reflect/value.go.html#2862367">MapIndex</a></span><span class="op" id="2774813">(</span><span class="ident" id="2774814"><a href="/gostd/reflect/deepequal.go.html#2774738">k</a></span><span class="op" id="2774815">)</span><span class="op" id="2774816">,</span>&nbsp;<span class="ident" id="2774818"><a href="/gostd/reflect/deepequal.go.html#2772853">visited</a></span><span class="op" id="2774825">,</span>&nbsp;<span class="ident" id="2774827"><a href="/gostd/reflect/deepequal.go.html#2772877">depth</a></span><span class="op" id="2774832">+</span><span class="num" id="2774833">1</span><span class="op" id="2774834">)</span>&nbsp;<span class="op" id="2774836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774842">return</span>&nbsp;<span class="builtintype" id="2774849">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774858">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774866">return</span>&nbsp;<span class="builtintype" id="2774873">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774879">case</span>&nbsp;<span class="ident" id="2774884"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span><span class="op" id="2774888">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774892">if</span>&nbsp;<span class="ident" id="2774895"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2774897">.</span><span class="ident" id="2774898"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774903">(</span><span class="op" id="2774904">)</span>&nbsp;<span class="op" id="2774906">&amp;&amp;</span>&nbsp;<span class="ident" id="2774909"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2774911">.</span><span class="ident" id="2774912"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="2774917">(</span><span class="op" id="2774918">)</span>&nbsp;<span class="op" id="2774920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774925">return</span>&nbsp;<span class="builtintype" id="2774932">true</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2774939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2774943">//&nbsp;Can&#39;t&nbsp;do&nbsp;better&nbsp;than&nbsp;this:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774975">return</span>&nbsp;<span class="builtintype" id="2774982">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2774989">default</span><span class="op" id="2774996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2775000">//&nbsp;Normal&nbsp;equality&nbsp;suffices</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2775030">return</span>&nbsp;<span class="ident" id="2775037"><a href="/gostd/reflect/value.go.html#2858758">valueInterface</a></span><span class="op" id="2775051">(</span><span class="ident" id="2775052"><a href="/gostd/reflect/deepequal.go.html#2772839">v1</a></span><span class="op" id="2775054">,</span>&nbsp;<span class="builtintype" id="2775056">false</span><span class="op" id="2775061">)</span>&nbsp;<span class="op" id="2775063">==</span>&nbsp;<span class="ident" id="2775066"><a href="/gostd/reflect/value.go.html#2858758">valueInterface</a></span><span class="op" id="2775080">(</span><span class="ident" id="2775081"><a href="/gostd/reflect/deepequal.go.html#2772843">v2</a></span><span class="op" id="2775083">,</span>&nbsp;<span class="builtintype" id="2775085">false</span><span class="op" id="2775090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2775093">}</span><br>
<span class="lineno"></span><span class="op" id="2775095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2775098">//&nbsp;DeepEqual&nbsp;tests&nbsp;for&nbsp;deep&nbsp;equality.&nbsp;It&nbsp;uses&nbsp;normal&nbsp;==&nbsp;equality&nbsp;where</span><br>
<span class="lineno">130</span><span class="comment" id="2775169">//&nbsp;possible&nbsp;but&nbsp;will&nbsp;scan&nbsp;elements&nbsp;of&nbsp;arrays,&nbsp;slices,&nbsp;maps,&nbsp;and&nbsp;fields&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2775243">//&nbsp;structs.&nbsp;In&nbsp;maps,&nbsp;keys&nbsp;are&nbsp;compared&nbsp;with&nbsp;==&nbsp;but&nbsp;elements&nbsp;use&nbsp;deep</span><br>
<span class="lineno"></span><span class="comment" id="2775312">//&nbsp;equality.&nbsp;DeepEqual&nbsp;correctly&nbsp;handles&nbsp;recursive&nbsp;types.&nbsp;Functions&nbsp;are&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2775390">//&nbsp;only&nbsp;if&nbsp;they&nbsp;are&nbsp;both&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="2775420">//&nbsp;An&nbsp;empty&nbsp;slice&nbsp;is&nbsp;not&nbsp;equal&nbsp;to&nbsp;a&nbsp;nil&nbsp;slice.</span><br>
<span class="lineno">135</span><span class="keyword" id="2775467">func</span>&nbsp;<span class="ident" id="2775472">DeepEqual</span><span class="op" id="2775481">(</span><span class="ident" id="2775482">a1</span><span class="op" id="2775484">,</span>&nbsp;<span class="ident" id="2775486">a2</span>&nbsp;<span class="keyword" id="2775489">interface</span><span class="op" id="2775498">{</span><span class="op" id="2775499">}</span><span class="op" id="2775500">)</span>&nbsp;<span class="builtintype" id="2775502">bool</span>&nbsp;<span class="op" id="2775507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2775510">if</span>&nbsp;<span class="ident" id="2775513"><a href="/gostd/reflect/deepequal.go.html#2775482">a1</a></span>&nbsp;<span class="op" id="2775516">==</span>&nbsp;<span class="builtintype" id="2775519">nil</span>&nbsp;<span class="op" id="2775523">||</span>&nbsp;<span class="ident" id="2775526"><a href="/gostd/reflect/deepequal.go.html#2775486">a2</a></span>&nbsp;<span class="op" id="2775529">==</span>&nbsp;<span class="builtintype" id="2775532">nil</span>&nbsp;<span class="op" id="2775536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2775540">return</span>&nbsp;<span class="ident" id="2775547"><a href="/gostd/reflect/deepequal.go.html#2775482">a1</a></span>&nbsp;<span class="op" id="2775550">==</span>&nbsp;<span class="ident" id="2775553"><a href="/gostd/reflect/deepequal.go.html#2775486">a2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2775557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2775560">v1</span>&nbsp;<span class="op" id="2775563">:=</span>&nbsp;<span class="ident" id="2775566"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="2775573">(</span><span class="ident" id="2775574"><a href="/gostd/reflect/deepequal.go.html#2775482">a1</a></span><span class="op" id="2775576">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2775579">v2</span>&nbsp;<span class="op" id="2775582">:=</span>&nbsp;<span class="ident" id="2775585"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="2775592">(</span><span class="ident" id="2775593"><a href="/gostd/reflect/deepequal.go.html#2775486">a2</a></span><span class="op" id="2775595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2775598">if</span>&nbsp;<span class="ident" id="2775601"><a href="/gostd/reflect/deepequal.go.html#2775560">v1</a></span><span class="op" id="2775603">.</span><span class="ident" id="2775604"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2775608">(</span><span class="op" id="2775609">)</span>&nbsp;<span class="op" id="2775611">!=</span>&nbsp;<span class="ident" id="2775614"><a href="/gostd/reflect/deepequal.go.html#2775579">v2</a></span><span class="op" id="2775616">.</span><span class="ident" id="2775617"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2775621">(</span><span class="op" id="2775622">)</span>&nbsp;<span class="op" id="2775624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2775628">return</span>&nbsp;<span class="builtintype" id="2775635">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2775642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2775645">return</span>&nbsp;<span class="ident" id="2775652"><a href="/gostd/reflect/deepequal.go.html#2772824">deepValueEqual</a></span><span class="op" id="2775666">(</span><span class="ident" id="2775667"><a href="/gostd/reflect/deepequal.go.html#2775560">v1</a></span><span class="op" id="2775669">,</span>&nbsp;<span class="ident" id="2775671"><a href="/gostd/reflect/deepequal.go.html#2775579">v2</a></span><span class="op" id="2775673">,</span>&nbsp;<span class="builtinfunc" id="2775675">make</span><span class="op" id="2775679">(</span><span class="keyword" id="2775680">map</span><span class="op" id="2775683">[</span><span class="ident" id="2775684"><a href="/gostd/reflect/deepequal.go.html#2772594">visit</a></span><span class="op" id="2775689">]</span><span class="builtintype" id="2775690">bool</span><span class="op" id="2775694">)</span><span class="op" id="2775695">,</span>&nbsp;<span class="num" id="2775697">0</span><span class="op" id="2775698">)</span><br>
<span class="lineno">145</span><span class="op" id="2775700">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
