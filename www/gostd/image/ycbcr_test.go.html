<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html" class="current">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8137814">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8137869">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8137923">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8137974">package</span>&nbsp;<span class="ident" id="8137982">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8137989">import</span>&nbsp;<span class="op" id="8137996">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8137999">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8138014">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8138024">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8138027">func</span>&nbsp;<span class="ident" id="8138032">TestYCbCr</span><span class="op" id="8138041">(</span><span class="ident" id="8138042">t</span>&nbsp;<span class="op" id="8138044">*</span><span class="ident" id="8138045">testing</span><span class="op" id="8138052">.</span><span class="ident" id="8138053">T</span><span class="op" id="8138054">)</span>&nbsp;<span class="op" id="8138056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138059">rects</span>&nbsp;<span class="op" id="8138065">:=</span>&nbsp;<span class="op" id="8138068">[</span><span class="op" id="8138069">]</span><span class="ident" id="8138070">Rectangle</span><span class="op" id="8138079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138083">Rect</span><span class="op" id="8138087">(</span><span class="num" id="8138088">0</span><span class="op" id="8138089">,</span>&nbsp;<span class="num" id="8138091">0</span><span class="op" id="8138092">,</span>&nbsp;<span class="num" id="8138094">16</span><span class="op" id="8138096">,</span>&nbsp;<span class="num" id="8138098">16</span><span class="op" id="8138100">)</span><span class="op" id="8138101">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138105">Rect</span><span class="op" id="8138109">(</span><span class="num" id="8138110">1</span><span class="op" id="8138111">,</span>&nbsp;<span class="num" id="8138113">0</span><span class="op" id="8138114">,</span>&nbsp;<span class="num" id="8138116">16</span><span class="op" id="8138118">,</span>&nbsp;<span class="num" id="8138120">16</span><span class="op" id="8138122">)</span><span class="op" id="8138123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138127">Rect</span><span class="op" id="8138131">(</span><span class="num" id="8138132">0</span><span class="op" id="8138133">,</span>&nbsp;<span class="num" id="8138135">1</span><span class="op" id="8138136">,</span>&nbsp;<span class="num" id="8138138">16</span><span class="op" id="8138140">,</span>&nbsp;<span class="num" id="8138142">16</span><span class="op" id="8138144">)</span><span class="op" id="8138145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138149">Rect</span><span class="op" id="8138153">(</span><span class="num" id="8138154">1</span><span class="op" id="8138155">,</span>&nbsp;<span class="num" id="8138157">1</span><span class="op" id="8138158">,</span>&nbsp;<span class="num" id="8138160">16</span><span class="op" id="8138162">,</span>&nbsp;<span class="num" id="8138164">16</span><span class="op" id="8138166">)</span><span class="op" id="8138167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138171">Rect</span><span class="op" id="8138175">(</span><span class="num" id="8138176">1</span><span class="op" id="8138177">,</span>&nbsp;<span class="num" id="8138179">1</span><span class="op" id="8138180">,</span>&nbsp;<span class="num" id="8138182">15</span><span class="op" id="8138184">,</span>&nbsp;<span class="num" id="8138186">16</span><span class="op" id="8138188">)</span><span class="op" id="8138189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138193">Rect</span><span class="op" id="8138197">(</span><span class="num" id="8138198">1</span><span class="op" id="8138199">,</span>&nbsp;<span class="num" id="8138201">1</span><span class="op" id="8138202">,</span>&nbsp;<span class="num" id="8138204">16</span><span class="op" id="8138206">,</span>&nbsp;<span class="num" id="8138208">15</span><span class="op" id="8138210">)</span><span class="op" id="8138211">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138215">Rect</span><span class="op" id="8138219">(</span><span class="num" id="8138220">1</span><span class="op" id="8138221">,</span>&nbsp;<span class="num" id="8138223">1</span><span class="op" id="8138224">,</span>&nbsp;<span class="num" id="8138226">15</span><span class="op" id="8138228">,</span>&nbsp;<span class="num" id="8138230">15</span><span class="op" id="8138232">)</span><span class="op" id="8138233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138237">Rect</span><span class="op" id="8138241">(</span><span class="num" id="8138242">2</span><span class="op" id="8138243">,</span>&nbsp;<span class="num" id="8138245">3</span><span class="op" id="8138246">,</span>&nbsp;<span class="num" id="8138248">14</span><span class="op" id="8138250">,</span>&nbsp;<span class="num" id="8138252">15</span><span class="op" id="8138254">)</span><span class="op" id="8138255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138259">Rect</span><span class="op" id="8138263">(</span><span class="num" id="8138264">7</span><span class="op" id="8138265">,</span>&nbsp;<span class="num" id="8138267">0</span><span class="op" id="8138268">,</span>&nbsp;<span class="num" id="8138270">7</span><span class="op" id="8138271">,</span>&nbsp;<span class="num" id="8138273">16</span><span class="op" id="8138275">)</span><span class="op" id="8138276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138280">Rect</span><span class="op" id="8138284">(</span><span class="num" id="8138285">0</span><span class="op" id="8138286">,</span>&nbsp;<span class="num" id="8138288">8</span><span class="op" id="8138289">,</span>&nbsp;<span class="num" id="8138291">16</span><span class="op" id="8138293">,</span>&nbsp;<span class="num" id="8138295">8</span><span class="op" id="8138296">)</span><span class="op" id="8138297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138301">Rect</span><span class="op" id="8138305">(</span><span class="num" id="8138306">0</span><span class="op" id="8138307">,</span>&nbsp;<span class="num" id="8138309">0</span><span class="op" id="8138310">,</span>&nbsp;<span class="num" id="8138312">10</span><span class="op" id="8138314">,</span>&nbsp;<span class="num" id="8138316">11</span><span class="op" id="8138318">)</span><span class="op" id="8138319">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138323">Rect</span><span class="op" id="8138327">(</span><span class="num" id="8138328">5</span><span class="op" id="8138329">,</span>&nbsp;<span class="num" id="8138331">6</span><span class="op" id="8138332">,</span>&nbsp;<span class="num" id="8138334">16</span><span class="op" id="8138336">,</span>&nbsp;<span class="num" id="8138338">16</span><span class="op" id="8138340">)</span><span class="op" id="8138341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138345">Rect</span><span class="op" id="8138349">(</span><span class="num" id="8138350">7</span><span class="op" id="8138351">,</span>&nbsp;<span class="num" id="8138353">7</span><span class="op" id="8138354">,</span>&nbsp;<span class="num" id="8138356">8</span><span class="op" id="8138357">,</span>&nbsp;<span class="num" id="8138359">8</span><span class="op" id="8138360">)</span><span class="op" id="8138361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138365">Rect</span><span class="op" id="8138369">(</span><span class="num" id="8138370">7</span><span class="op" id="8138371">,</span>&nbsp;<span class="num" id="8138373">8</span><span class="op" id="8138374">,</span>&nbsp;<span class="num" id="8138376">8</span><span class="op" id="8138377">,</span>&nbsp;<span class="num" id="8138379">9</span><span class="op" id="8138380">)</span><span class="op" id="8138381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138385">Rect</span><span class="op" id="8138389">(</span><span class="num" id="8138390">8</span><span class="op" id="8138391">,</span>&nbsp;<span class="num" id="8138393">7</span><span class="op" id="8138394">,</span>&nbsp;<span class="num" id="8138396">9</span><span class="op" id="8138397">,</span>&nbsp;<span class="num" id="8138399">8</span><span class="op" id="8138400">)</span><span class="op" id="8138401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138405">Rect</span><span class="op" id="8138409">(</span><span class="num" id="8138410">8</span><span class="op" id="8138411">,</span>&nbsp;<span class="num" id="8138413">8</span><span class="op" id="8138414">,</span>&nbsp;<span class="num" id="8138416">9</span><span class="op" id="8138417">,</span>&nbsp;<span class="num" id="8138419">9</span><span class="op" id="8138420">)</span><span class="op" id="8138421">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138425">Rect</span><span class="op" id="8138429">(</span><span class="num" id="8138430">7</span><span class="op" id="8138431">,</span>&nbsp;<span class="num" id="8138433">7</span><span class="op" id="8138434">,</span>&nbsp;<span class="num" id="8138436">17</span><span class="op" id="8138438">,</span>&nbsp;<span class="num" id="8138440">17</span><span class="op" id="8138442">)</span><span class="op" id="8138443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138447">Rect</span><span class="op" id="8138451">(</span><span class="num" id="8138452">8</span><span class="op" id="8138453">,</span>&nbsp;<span class="num" id="8138455">8</span><span class="op" id="8138456">,</span>&nbsp;<span class="num" id="8138458">17</span><span class="op" id="8138460">,</span>&nbsp;<span class="num" id="8138462">17</span><span class="op" id="8138464">)</span><span class="op" id="8138465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138469">Rect</span><span class="op" id="8138473">(</span><span class="num" id="8138474">9</span><span class="op" id="8138475">,</span>&nbsp;<span class="num" id="8138477">9</span><span class="op" id="8138478">,</span>&nbsp;<span class="num" id="8138480">17</span><span class="op" id="8138482">,</span>&nbsp;<span class="num" id="8138484">17</span><span class="op" id="8138486">)</span><span class="op" id="8138487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138491">Rect</span><span class="op" id="8138495">(</span><span class="num" id="8138496">10</span><span class="op" id="8138498">,</span>&nbsp;<span class="num" id="8138500">10</span><span class="op" id="8138502">,</span>&nbsp;<span class="num" id="8138504">17</span><span class="op" id="8138506">,</span>&nbsp;<span class="num" id="8138508">17</span><span class="op" id="8138510">)</span><span class="op" id="8138511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8138514">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138517">subsampleRatios</span>&nbsp;<span class="op" id="8138533">:=</span>&nbsp;<span class="op" id="8138536">[</span><span class="op" id="8138537">]</span><span class="ident" id="8138538">YCbCrSubsampleRatio</span><span class="op" id="8138557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138561">YCbCrSubsampleRatio444</span><span class="op" id="8138583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138587">YCbCrSubsampleRatio422</span><span class="op" id="8138609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138613">YCbCrSubsampleRatio420</span><span class="op" id="8138635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138639">YCbCrSubsampleRatio440</span><span class="op" id="8138661">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8138664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138667">deltas</span>&nbsp;<span class="op" id="8138674">:=</span>&nbsp;<span class="op" id="8138677">[</span><span class="op" id="8138678">]</span><span class="ident" id="8138679">Point</span><span class="op" id="8138684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138688">Pt</span><span class="op" id="8138690">(</span><span class="num" id="8138691">0</span><span class="op" id="8138692">,</span>&nbsp;<span class="num" id="8138694">0</span><span class="op" id="8138695">)</span><span class="op" id="8138696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138700">Pt</span><span class="op" id="8138702">(</span><span class="num" id="8138703">1000</span><span class="op" id="8138707">,</span>&nbsp;<span class="num" id="8138709">1001</span><span class="op" id="8138713">)</span><span class="op" id="8138714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138718">Pt</span><span class="op" id="8138720">(</span><span class="num" id="8138721">5001</span><span class="op" id="8138725">,</span>&nbsp;<span class="op" id="8138727">-</span><span class="num" id="8138728">400</span><span class="op" id="8138731">)</span><span class="op" id="8138732">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138736">Pt</span><span class="op" id="8138738">(</span><span class="op" id="8138739">-</span><span class="num" id="8138740">701</span><span class="op" id="8138743">,</span>&nbsp;<span class="op" id="8138745">-</span><span class="num" id="8138746">801</span><span class="op" id="8138749">)</span><span class="op" id="8138750">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8138753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8138756">for</span>&nbsp;<span class="ident" id="8138760">_</span><span class="op" id="8138761">,</span>&nbsp;<span class="ident" id="8138763">r</span>&nbsp;<span class="op" id="8138765">:=</span>&nbsp;<span class="keyword" id="8138768">range</span>&nbsp;<span class="ident" id="8138774">rects</span>&nbsp;<span class="op" id="8138780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8138784">for</span>&nbsp;<span class="ident" id="8138788">_</span><span class="op" id="8138789">,</span>&nbsp;<span class="ident" id="8138791">subsampleRatio</span>&nbsp;<span class="op" id="8138806">:=</span>&nbsp;<span class="keyword" id="8138809">range</span>&nbsp;<span class="ident" id="8138815">subsampleRatios</span>&nbsp;<span class="op" id="8138831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8138836">for</span>&nbsp;<span class="ident" id="8138840">_</span><span class="op" id="8138841">,</span>&nbsp;<span class="ident" id="8138843">delta</span>&nbsp;<span class="op" id="8138849">:=</span>&nbsp;<span class="keyword" id="8138852">range</span>&nbsp;<span class="ident" id="8138858">deltas</span>&nbsp;<span class="op" id="8138865">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8138871">testYCbCr</span><span class="op" id="8138880">(</span><span class="ident" id="8138881">t</span><span class="op" id="8138882">,</span>&nbsp;<span class="ident" id="8138884">r</span><span class="op" id="8138885">,</span>&nbsp;<span class="ident" id="8138887">subsampleRatio</span><span class="op" id="8138901">,</span>&nbsp;<span class="ident" id="8138903">delta</span><span class="op" id="8138908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8138913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8138917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8138921">if</span>&nbsp;<span class="ident" id="8138924">testing</span><span class="op" id="8138931">.</span><span class="ident" id="8138932">Short</span><span class="op" id="8138937">(</span><span class="op" id="8138938">)</span>&nbsp;<span class="op" id="8138940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8138945">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8138953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8138956">}</span><br>
<span class="lineno"></span><span class="op" id="8138958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8138961">func</span>&nbsp;<span class="ident" id="8138966">testYCbCr</span><span class="op" id="8138975">(</span><span class="ident" id="8138976">t</span>&nbsp;<span class="op" id="8138978">*</span><span class="ident" id="8138979">testing</span><span class="op" id="8138986">.</span><span class="ident" id="8138987">T</span><span class="op" id="8138988">,</span>&nbsp;<span class="ident" id="8138990">r</span>&nbsp;<span class="ident" id="8138992">Rectangle</span><span class="op" id="8139001">,</span>&nbsp;<span class="ident" id="8139003">subsampleRatio</span>&nbsp;<span class="ident" id="8139018">YCbCrSubsampleRatio</span><span class="op" id="8139037">,</span>&nbsp;<span class="ident" id="8139039">delta</span>&nbsp;<span class="ident" id="8139045">Point</span><span class="op" id="8139050">)</span>&nbsp;<span class="op" id="8139052">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8139055">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139136">r1</span>&nbsp;<span class="op" id="8139139">:=</span>&nbsp;<span class="ident" id="8139142">r</span><span class="op" id="8139143">.</span><span class="ident" id="8139144">Add</span><span class="op" id="8139147">(</span><span class="ident" id="8139148">delta</span><span class="op" id="8139153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139156">m</span>&nbsp;<span class="op" id="8139158">:=</span>&nbsp;<span class="ident" id="8139161">NewYCbCr</span><span class="op" id="8139169">(</span><span class="ident" id="8139170">r1</span><span class="op" id="8139172">,</span>&nbsp;<span class="ident" id="8139174">subsampleRatio</span><span class="op" id="8139188">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8139192">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8139294">if</span>&nbsp;<span class="builtinfunc" id="8139297">len</span><span class="op" id="8139300">(</span><span class="ident" id="8139301">m</span><span class="op" id="8139302">.</span><span class="ident" id="8139303">Y</span><span class="op" id="8139304">)</span>&nbsp;<span class="op" id="8139306">&gt;</span>&nbsp;<span class="num" id="8139308">100</span><span class="op" id="8139311">*</span><span class="num" id="8139312">100</span>&nbsp;<span class="op" id="8139316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139320">t</span><span class="op" id="8139321">.</span><span class="ident" id="8139322">Errorf</span><span class="op" id="8139328">(</span><span class="string" id="8139329">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="8139391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139396">r</span><span class="op" id="8139397">,</span>&nbsp;<span class="ident" id="8139399">subsampleRatio</span><span class="op" id="8139413">,</span>&nbsp;<span class="ident" id="8139415">delta</span><span class="op" id="8139420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8139424">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8139432">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8139436">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8139523">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8139605">for</span>&nbsp;<span class="ident" id="8139609">y</span>&nbsp;<span class="op" id="8139611">:=</span>&nbsp;<span class="ident" id="8139614">r1</span><span class="op" id="8139616">.</span><span class="ident" id="8139617">Min</span><span class="op" id="8139620">.</span><span class="ident" id="8139621">Y</span><span class="op" id="8139622">;</span>&nbsp;<span class="ident" id="8139624">y</span>&nbsp;<span class="op" id="8139626">&lt;</span>&nbsp;<span class="ident" id="8139628">r1</span><span class="op" id="8139630">.</span><span class="ident" id="8139631">Max</span><span class="op" id="8139634">.</span><span class="ident" id="8139635">Y</span><span class="op" id="8139636">;</span>&nbsp;<span class="ident" id="8139638">y</span><span class="op" id="8139639">++</span>&nbsp;<span class="op" id="8139642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8139646">for</span>&nbsp;<span class="ident" id="8139650">x</span>&nbsp;<span class="op" id="8139652">:=</span>&nbsp;<span class="ident" id="8139655">r1</span><span class="op" id="8139657">.</span><span class="ident" id="8139658">Min</span><span class="op" id="8139661">.</span><span class="ident" id="8139662">X</span><span class="op" id="8139663">;</span>&nbsp;<span class="ident" id="8139665">x</span>&nbsp;<span class="op" id="8139667">&lt;</span>&nbsp;<span class="ident" id="8139669">r1</span><span class="op" id="8139671">.</span><span class="ident" id="8139672">Max</span><span class="op" id="8139675">.</span><span class="ident" id="8139676">X</span><span class="op" id="8139677">;</span>&nbsp;<span class="ident" id="8139679">x</span><span class="op" id="8139680">++</span>&nbsp;<span class="op" id="8139683">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139688">yi</span>&nbsp;<span class="op" id="8139691">:=</span>&nbsp;<span class="ident" id="8139694">m</span><span class="op" id="8139695">.</span><span class="ident" id="8139696">YOffset</span><span class="op" id="8139703">(</span><span class="ident" id="8139704">x</span><span class="op" id="8139705">,</span>&nbsp;<span class="ident" id="8139707">y</span><span class="op" id="8139708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139713">ci</span>&nbsp;<span class="op" id="8139716">:=</span>&nbsp;<span class="ident" id="8139719">m</span><span class="op" id="8139720">.</span><span class="ident" id="8139721">COffset</span><span class="op" id="8139728">(</span><span class="ident" id="8139729">x</span><span class="op" id="8139730">,</span>&nbsp;<span class="ident" id="8139732">y</span><span class="op" id="8139733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139738">m</span><span class="op" id="8139739">.</span><span class="ident" id="8139740">Y</span><span class="op" id="8139741">[</span><span class="ident" id="8139742">yi</span><span class="op" id="8139744">]</span>&nbsp;<span class="op" id="8139746">=</span>&nbsp;<span class="builtintype" id="8139748">uint8</span><span class="op" id="8139753">(</span><span class="num" id="8139754">16</span><span class="op" id="8139756">*</span><span class="ident" id="8139757">y</span>&nbsp;<span class="op" id="8139759">+</span>&nbsp;<span class="ident" id="8139761">x</span><span class="op" id="8139762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139767">m</span><span class="op" id="8139768">.</span><span class="ident" id="8139769">Cb</span><span class="op" id="8139771">[</span><span class="ident" id="8139772">ci</span><span class="op" id="8139774">]</span>&nbsp;<span class="op" id="8139776">=</span>&nbsp;<span class="builtintype" id="8139778">uint8</span><span class="op" id="8139783">(</span><span class="ident" id="8139784">y</span>&nbsp;<span class="op" id="8139786">+</span>&nbsp;<span class="num" id="8139788">16</span><span class="op" id="8139790">*</span><span class="ident" id="8139791">x</span><span class="op" id="8139792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8139797">m</span><span class="op" id="8139798">.</span><span class="ident" id="8139799">Cr</span><span class="op" id="8139801">[</span><span class="ident" id="8139802">ci</span><span class="op" id="8139804">]</span>&nbsp;<span class="op" id="8139806">=</span>&nbsp;<span class="builtintype" id="8139808">uint8</span><span class="op" id="8139813">(</span><span class="ident" id="8139814">y</span>&nbsp;<span class="op" id="8139816">+</span>&nbsp;<span class="num" id="8139818">16</span><span class="op" id="8139820">*</span><span class="ident" id="8139821">x</span><span class="op" id="8139822">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8139826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8139829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8139833">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8139867">for</span>&nbsp;<span class="ident" id="8139871">y0</span>&nbsp;<span class="op" id="8139874">:=</span>&nbsp;<span class="ident" id="8139877">delta</span><span class="op" id="8139882">.</span><span class="ident" id="8139883">Y</span>&nbsp;<span class="op" id="8139885">+</span>&nbsp;<span class="num" id="8139887">3</span><span class="op" id="8139888">;</span>&nbsp;<span class="ident" id="8139890">y0</span>&nbsp;<span class="op" id="8139893">&lt;</span>&nbsp;<span class="ident" id="8139895">delta</span><span class="op" id="8139900">.</span><span class="ident" id="8139901">Y</span><span class="op" id="8139902">+</span><span class="num" id="8139903">7</span><span class="op" id="8139904">;</span>&nbsp;<span class="ident" id="8139906">y0</span><span class="op" id="8139908">++</span>&nbsp;<span class="op" id="8139911">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8139915">for</span>&nbsp;<span class="ident" id="8139919">y1</span>&nbsp;<span class="op" id="8139922">:=</span>&nbsp;<span class="ident" id="8139925">delta</span><span class="op" id="8139930">.</span><span class="ident" id="8139931">Y</span>&nbsp;<span class="op" id="8139933">+</span>&nbsp;<span class="num" id="8139935">8</span><span class="op" id="8139936">;</span>&nbsp;<span class="ident" id="8139938">y1</span>&nbsp;<span class="op" id="8139941">&lt;</span>&nbsp;<span class="ident" id="8139943">delta</span><span class="op" id="8139948">.</span><span class="ident" id="8139949">Y</span><span class="op" id="8139950">+</span><span class="num" id="8139951">13</span><span class="op" id="8139953">;</span>&nbsp;<span class="ident" id="8139955">y1</span><span class="op" id="8139957">++</span>&nbsp;<span class="op" id="8139960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8139965">for</span>&nbsp;<span class="ident" id="8139969">x0</span>&nbsp;<span class="op" id="8139972">:=</span>&nbsp;<span class="ident" id="8139975">delta</span><span class="op" id="8139980">.</span><span class="ident" id="8139981">X</span>&nbsp;<span class="op" id="8139983">+</span>&nbsp;<span class="num" id="8139985">3</span><span class="op" id="8139986">;</span>&nbsp;<span class="ident" id="8139988">x0</span>&nbsp;<span class="op" id="8139991">&lt;</span>&nbsp;<span class="ident" id="8139993">delta</span><span class="op" id="8139998">.</span><span class="ident" id="8139999">X</span><span class="op" id="8140000">+</span><span class="num" id="8140001">7</span><span class="op" id="8140002">;</span>&nbsp;<span class="ident" id="8140004">x0</span><span class="op" id="8140006">++</span>&nbsp;<span class="op" id="8140009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8140015">for</span>&nbsp;<span class="ident" id="8140019">x1</span>&nbsp;<span class="op" id="8140022">:=</span>&nbsp;<span class="ident" id="8140025">delta</span><span class="op" id="8140030">.</span><span class="ident" id="8140031">X</span>&nbsp;<span class="op" id="8140033">+</span>&nbsp;<span class="num" id="8140035">8</span><span class="op" id="8140036">;</span>&nbsp;<span class="ident" id="8140038">x1</span>&nbsp;<span class="op" id="8140041">&lt;</span>&nbsp;<span class="ident" id="8140043">delta</span><span class="op" id="8140048">.</span><span class="ident" id="8140049">X</span><span class="op" id="8140050">+</span><span class="num" id="8140051">13</span><span class="op" id="8140053">;</span>&nbsp;<span class="ident" id="8140055">x1</span><span class="op" id="8140057">++</span>&nbsp;<span class="op" id="8140060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8140067">subRect</span>&nbsp;<span class="op" id="8140075">:=</span>&nbsp;<span class="ident" id="8140078">Rect</span><span class="op" id="8140082">(</span><span class="ident" id="8140083">x0</span><span class="op" id="8140085">,</span>&nbsp;<span class="ident" id="8140087">y0</span><span class="op" id="8140089">,</span>&nbsp;<span class="ident" id="8140091">x1</span><span class="op" id="8140093">,</span>&nbsp;<span class="ident" id="8140095">y1</span><span class="op" id="8140097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8140104">sub</span>&nbsp;<span class="op" id="8140108">:=</span>&nbsp;<span class="ident" id="8140111">m</span><span class="op" id="8140112">.</span><span class="ident" id="8140113">SubImage</span><span class="op" id="8140121">(</span><span class="ident" id="8140122">subRect</span><span class="op" id="8140129">)</span><span class="op" id="8140130">.</span><span class="op" id="8140131">(</span><span class="op" id="8140132">*</span><span class="ident" id="8140133">YCbCr</span><span class="op" id="8140138">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8140146">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8140239">for</span>&nbsp;<span class="ident" id="8140243">y</span>&nbsp;<span class="op" id="8140245">:=</span>&nbsp;<span class="ident" id="8140248">sub</span><span class="op" id="8140251">.</span><span class="ident" id="8140252">Rect</span><span class="op" id="8140256">.</span><span class="ident" id="8140257">Min</span><span class="op" id="8140260">.</span><span class="ident" id="8140261">Y</span><span class="op" id="8140262">;</span>&nbsp;<span class="ident" id="8140264">y</span>&nbsp;<span class="op" id="8140266">&lt;</span>&nbsp;<span class="ident" id="8140268">sub</span><span class="op" id="8140271">.</span><span class="ident" id="8140272">Rect</span><span class="op" id="8140276">.</span><span class="ident" id="8140277">Max</span><span class="op" id="8140280">.</span><span class="ident" id="8140281">Y</span><span class="op" id="8140282">;</span>&nbsp;<span class="ident" id="8140284">y</span><span class="op" id="8140285">++</span>&nbsp;<span class="op" id="8140288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8140296">for</span>&nbsp;<span class="ident" id="8140300">x</span>&nbsp;<span class="op" id="8140302">:=</span>&nbsp;<span class="ident" id="8140305">sub</span><span class="op" id="8140308">.</span><span class="ident" id="8140309">Rect</span><span class="op" id="8140313">.</span><span class="ident" id="8140314">Min</span><span class="op" id="8140317">.</span><span class="ident" id="8140318">X</span><span class="op" id="8140319">;</span>&nbsp;<span class="ident" id="8140321">x</span>&nbsp;<span class="op" id="8140323">&lt;</span>&nbsp;<span class="ident" id="8140325">sub</span><span class="op" id="8140328">.</span><span class="ident" id="8140329">Rect</span><span class="op" id="8140333">.</span><span class="ident" id="8140334">Max</span><span class="op" id="8140337">.</span><span class="ident" id="8140338">X</span><span class="op" id="8140339">;</span>&nbsp;<span class="ident" id="8140341">x</span><span class="op" id="8140342">++</span>&nbsp;<span class="op" id="8140345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8140354">color0</span>&nbsp;<span class="op" id="8140361">:=</span>&nbsp;<span class="ident" id="8140364">m</span><span class="op" id="8140365">.</span><span class="ident" id="8140366">At</span><span class="op" id="8140368">(</span><span class="ident" id="8140369">x</span><span class="op" id="8140370">,</span>&nbsp;<span class="ident" id="8140372">y</span><span class="op" id="8140373">)</span><span class="op" id="8140374">.</span><span class="op" id="8140375">(</span><span class="ident" id="8140376">color</span><span class="op" id="8140381">.</span><span class="ident" id="8140382">YCbCr</span><span class="op" id="8140387">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8140396">color1</span>&nbsp;<span class="op" id="8140403">:=</span>&nbsp;<span class="ident" id="8140406">sub</span><span class="op" id="8140409">.</span><span class="ident" id="8140410">At</span><span class="op" id="8140412">(</span><span class="ident" id="8140413">x</span><span class="op" id="8140414">,</span>&nbsp;<span class="ident" id="8140416">y</span><span class="op" id="8140417">)</span><span class="op" id="8140418">.</span><span class="op" id="8140419">(</span><span class="ident" id="8140420">color</span><span class="op" id="8140425">.</span><span class="ident" id="8140426">YCbCr</span><span class="op" id="8140431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8140440">if</span>&nbsp;<span class="ident" id="8140443">color0</span>&nbsp;<span class="op" id="8140450">!=</span>&nbsp;<span class="ident" id="8140453">color1</span>&nbsp;<span class="op" id="8140460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8140470">t</span><span class="op" id="8140471">.</span><span class="ident" id="8140472">Errorf</span><span class="op" id="8140478">(</span><span class="string" id="8140479">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="8140548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8140559">r</span><span class="op" id="8140560">,</span>&nbsp;<span class="ident" id="8140562">subsampleRatio</span><span class="op" id="8140576">,</span>&nbsp;<span class="ident" id="8140578">delta</span><span class="op" id="8140583">,</span>&nbsp;<span class="ident" id="8140585">x</span><span class="op" id="8140586">,</span>&nbsp;<span class="ident" id="8140588">y</span><span class="op" id="8140589">,</span>&nbsp;<span class="ident" id="8140591">color0</span><span class="op" id="8140597">,</span>&nbsp;<span class="ident" id="8140599">color1</span><span class="op" id="8140605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8140615">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8140629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8140637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8140644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8140650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8140655">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8140659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8140662">}</span><br>
<span class="lineno"></span><span class="op" id="8140664">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
