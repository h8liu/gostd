<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3901351">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3901410">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3901465">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="3901519">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3901570">package</span>&nbsp;<span class="ident" id="3901578">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3901583">import</span>&nbsp;<span class="op" id="3901590">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3901593">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3901601">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="3901611">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3901614">var</span>&nbsp;<span class="ident" id="3901618">decArrayHelper</span>&nbsp;<span class="op" id="3901633">=</span>&nbsp;<span class="keyword" id="3901635">map</span><span class="op" id="3901638">[</span><span class="ident" id="3901639">reflect</span><span class="op" id="3901646">.</span><span class="ident" id="3901647">Kind</span><span class="op" id="3901651">]</span><span class="ident" id="3901652">decHelper</span><span class="op" id="3901661">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901664">reflect</span><span class="op" id="3901671">.</span><span class="ident" id="3901672">Bool</span><span class="op" id="3901676">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3901684">decBoolArray</span><span class="op" id="3901696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901699">reflect</span><span class="op" id="3901706">.</span><span class="ident" id="3901707">Complex64</span><span class="op" id="3901716">:</span>&nbsp;&nbsp;<span class="ident" id="3901719">decComplex64Array</span><span class="op" id="3901736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901739">reflect</span><span class="op" id="3901746">.</span><span class="ident" id="3901747">Complex128</span><span class="op" id="3901757">:</span>&nbsp;<span class="ident" id="3901759">decComplex128Array</span><span class="op" id="3901777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901780">reflect</span><span class="op" id="3901787">.</span><span class="ident" id="3901788">Float32</span><span class="op" id="3901795">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3901800">decFloat32Array</span><span class="op" id="3901815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901818">reflect</span><span class="op" id="3901825">.</span><span class="ident" id="3901826">Float64</span><span class="op" id="3901833">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3901838">decFloat64Array</span><span class="op" id="3901853">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901856">reflect</span><span class="op" id="3901863">.</span><span class="ident" id="3901864">Int</span><span class="op" id="3901867">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3901876">decIntArray</span><span class="op" id="3901887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901890">reflect</span><span class="op" id="3901897">.</span><span class="ident" id="3901898">Int16</span><span class="op" id="3901903">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3901910">decInt16Array</span><span class="op" id="3901923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901926">reflect</span><span class="op" id="3901933">.</span><span class="ident" id="3901934">Int32</span><span class="op" id="3901939">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3901946">decInt32Array</span><span class="op" id="3901959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901962">reflect</span><span class="op" id="3901969">.</span><span class="ident" id="3901970">Int64</span><span class="op" id="3901975">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3901982">decInt64Array</span><span class="op" id="3901995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3901998">reflect</span><span class="op" id="3902005">.</span><span class="ident" id="3902006">Int8</span><span class="op" id="3902010">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902018">decInt8Array</span><span class="op" id="3902030">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902033">reflect</span><span class="op" id="3902040">.</span><span class="ident" id="3902041">String</span><span class="op" id="3902047">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902053">decStringArray</span><span class="op" id="3902067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902070">reflect</span><span class="op" id="3902077">.</span><span class="ident" id="3902078">Uint</span><span class="op" id="3902082">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902090">decUintArray</span><span class="op" id="3902102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902105">reflect</span><span class="op" id="3902112">.</span><span class="ident" id="3902113">Uint16</span><span class="op" id="3902119">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902125">decUint16Array</span><span class="op" id="3902139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902142">reflect</span><span class="op" id="3902149">.</span><span class="ident" id="3902150">Uint32</span><span class="op" id="3902156">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902162">decUint32Array</span><span class="op" id="3902176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902179">reflect</span><span class="op" id="3902186">.</span><span class="ident" id="3902187">Uint64</span><span class="op" id="3902193">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902199">decUint64Array</span><span class="op" id="3902213">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902216">reflect</span><span class="op" id="3902223">.</span><span class="ident" id="3902224">Uintptr</span><span class="op" id="3902231">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902236">decUintptrArray</span><span class="op" id="3902251">,</span><br>
<span class="lineno"></span><span class="op" id="3902253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3902256">var</span>&nbsp;<span class="ident" id="3902260">decSliceHelper</span>&nbsp;<span class="op" id="3902275">=</span>&nbsp;<span class="keyword" id="3902277">map</span><span class="op" id="3902280">[</span><span class="ident" id="3902281">reflect</span><span class="op" id="3902288">.</span><span class="ident" id="3902289">Kind</span><span class="op" id="3902293">]</span><span class="ident" id="3902294">decHelper</span><span class="op" id="3902303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902306">reflect</span><span class="op" id="3902313">.</span><span class="ident" id="3902314">Bool</span><span class="op" id="3902318">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902326">decBoolSlice</span><span class="op" id="3902338">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902341">reflect</span><span class="op" id="3902348">.</span><span class="ident" id="3902349">Complex64</span><span class="op" id="3902358">:</span>&nbsp;&nbsp;<span class="ident" id="3902361">decComplex64Slice</span><span class="op" id="3902378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902381">reflect</span><span class="op" id="3902388">.</span><span class="ident" id="3902389">Complex128</span><span class="op" id="3902399">:</span>&nbsp;<span class="ident" id="3902401">decComplex128Slice</span><span class="op" id="3902419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902422">reflect</span><span class="op" id="3902429">.</span><span class="ident" id="3902430">Float32</span><span class="op" id="3902437">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902442">decFloat32Slice</span><span class="op" id="3902457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902460">reflect</span><span class="op" id="3902467">.</span><span class="ident" id="3902468">Float64</span><span class="op" id="3902475">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902480">decFloat64Slice</span><span class="op" id="3902495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902498">reflect</span><span class="op" id="3902505">.</span><span class="ident" id="3902506">Int</span><span class="op" id="3902509">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902518">decIntSlice</span><span class="op" id="3902529">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902532">reflect</span><span class="op" id="3902539">.</span><span class="ident" id="3902540">Int16</span><span class="op" id="3902545">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902552">decInt16Slice</span><span class="op" id="3902565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902568">reflect</span><span class="op" id="3902575">.</span><span class="ident" id="3902576">Int32</span><span class="op" id="3902581">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902588">decInt32Slice</span><span class="op" id="3902601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902604">reflect</span><span class="op" id="3902611">.</span><span class="ident" id="3902612">Int64</span><span class="op" id="3902617">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902624">decInt64Slice</span><span class="op" id="3902637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902640">reflect</span><span class="op" id="3902647">.</span><span class="ident" id="3902648">Int8</span><span class="op" id="3902652">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902660">decInt8Slice</span><span class="op" id="3902672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902675">reflect</span><span class="op" id="3902682">.</span><span class="ident" id="3902683">String</span><span class="op" id="3902689">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902695">decStringSlice</span><span class="op" id="3902709">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902712">reflect</span><span class="op" id="3902719">.</span><span class="ident" id="3902720">Uint</span><span class="op" id="3902724">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902732">decUintSlice</span><span class="op" id="3902744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902747">reflect</span><span class="op" id="3902754">.</span><span class="ident" id="3902755">Uint16</span><span class="op" id="3902761">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902767">decUint16Slice</span><span class="op" id="3902781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902784">reflect</span><span class="op" id="3902791">.</span><span class="ident" id="3902792">Uint32</span><span class="op" id="3902798">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902804">decUint32Slice</span><span class="op" id="3902818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902821">reflect</span><span class="op" id="3902828">.</span><span class="ident" id="3902829">Uint64</span><span class="op" id="3902835">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902841">decUint64Slice</span><span class="op" id="3902855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3902858">reflect</span><span class="op" id="3902865">.</span><span class="ident" id="3902866">Uintptr</span><span class="op" id="3902873">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3902878">decUintptrSlice</span><span class="op" id="3902893">,</span><br>
<span class="lineno">50</span><span class="op" id="3902895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3902898">func</span>&nbsp;<span class="ident" id="3902903">decBoolArray</span><span class="op" id="3902915">(</span><span class="ident" id="3902916">state</span>&nbsp;<span class="op" id="3902922">*</span><span class="ident" id="3902923">decoderState</span><span class="op" id="3902935">,</span>&nbsp;<span class="ident" id="3902937">v</span>&nbsp;<span class="ident" id="3902939">reflect</span><span class="op" id="3902946">.</span><span class="ident" id="3902947">Value</span><span class="op" id="3902952">,</span>&nbsp;<span class="ident" id="3902954">length</span>&nbsp;<span class="builtintype" id="3902961">int</span><span class="op" id="3902964">,</span>&nbsp;<span class="ident" id="3902966">ovfl</span>&nbsp;<span class="builtintype" id="3902971">error</span><span class="op" id="3902976">)</span>&nbsp;<span class="builtintype" id="3902978">bool</span>&nbsp;<span class="op" id="3902983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3902986">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903027">if</span>&nbsp;<span class="op" id="3903030">!</span><span class="ident" id="3903031">v</span><span class="op" id="3903032">.</span><span class="ident" id="3903033">CanAddr</span><span class="op" id="3903040">(</span><span class="op" id="3903041">)</span>&nbsp;<span class="op" id="3903043">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903047">return</span>&nbsp;<span class="builtintype" id="3903054">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3903061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903064">return</span>&nbsp;<span class="ident" id="3903071">decBoolSlice</span><span class="op" id="3903083">(</span><span class="ident" id="3903084">state</span><span class="op" id="3903089">,</span>&nbsp;<span class="ident" id="3903091">v</span><span class="op" id="3903092">.</span><span class="ident" id="3903093">Slice</span><span class="op" id="3903098">(</span><span class="num" id="3903099">0</span><span class="op" id="3903100">,</span>&nbsp;<span class="ident" id="3903102">v</span><span class="op" id="3903103">.</span><span class="ident" id="3903104">Len</span><span class="op" id="3903107">(</span><span class="op" id="3903108">)</span><span class="op" id="3903109">)</span><span class="op" id="3903110">,</span>&nbsp;<span class="ident" id="3903112">length</span><span class="op" id="3903118">,</span>&nbsp;<span class="ident" id="3903120">ovfl</span><span class="op" id="3903124">)</span><br>
<span class="lineno"></span><span class="op" id="3903126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="3903129">func</span>&nbsp;<span class="ident" id="3903134">decBoolSlice</span><span class="op" id="3903146">(</span><span class="ident" id="3903147">state</span>&nbsp;<span class="op" id="3903153">*</span><span class="ident" id="3903154">decoderState</span><span class="op" id="3903166">,</span>&nbsp;<span class="ident" id="3903168">v</span>&nbsp;<span class="ident" id="3903170">reflect</span><span class="op" id="3903177">.</span><span class="ident" id="3903178">Value</span><span class="op" id="3903183">,</span>&nbsp;<span class="ident" id="3903185">length</span>&nbsp;<span class="builtintype" id="3903192">int</span><span class="op" id="3903195">,</span>&nbsp;<span class="ident" id="3903197">ovfl</span>&nbsp;<span class="builtintype" id="3903202">error</span><span class="op" id="3903207">)</span>&nbsp;<span class="builtintype" id="3903209">bool</span>&nbsp;<span class="op" id="3903214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3903217">slice</span><span class="op" id="3903222">,</span>&nbsp;<span class="ident" id="3903224">ok</span>&nbsp;<span class="op" id="3903227">:=</span>&nbsp;<span class="ident" id="3903230">v</span><span class="op" id="3903231">.</span><span class="ident" id="3903232">Interface</span><span class="op" id="3903241">(</span><span class="op" id="3903242">)</span><span class="op" id="3903243">.</span><span class="op" id="3903244">(</span><span class="op" id="3903245">[</span><span class="op" id="3903246">]</span><span class="builtintype" id="3903247">bool</span><span class="op" id="3903251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903254">if</span>&nbsp;<span class="op" id="3903257">!</span><span class="ident" id="3903258">ok</span>&nbsp;<span class="op" id="3903261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3903265">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903340">return</span>&nbsp;<span class="builtintype" id="3903347">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3903354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903357">for</span>&nbsp;<span class="ident" id="3903361">i</span>&nbsp;<span class="op" id="3903363">:=</span>&nbsp;<span class="num" id="3903366">0</span><span class="op" id="3903367">;</span>&nbsp;<span class="ident" id="3903369">i</span>&nbsp;<span class="op" id="3903371">&lt;</span>&nbsp;<span class="ident" id="3903373">length</span><span class="op" id="3903379">;</span>&nbsp;<span class="ident" id="3903381">i</span><span class="op" id="3903382">++</span>&nbsp;<span class="op" id="3903385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903389">if</span>&nbsp;<span class="ident" id="3903392">state</span><span class="op" id="3903397">.</span><span class="ident" id="3903398">b</span><span class="op" id="3903399">.</span><span class="ident" id="3903400">Len</span><span class="op" id="3903403">(</span><span class="op" id="3903404">)</span>&nbsp;<span class="op" id="3903406">==</span>&nbsp;<span class="num" id="3903409">0</span>&nbsp;<span class="op" id="3903411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3903416">errorf</span><span class="op" id="3903422">(</span><span class="string" id="3903423">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3903494">,</span>&nbsp;<span class="ident" id="3903496">length</span><span class="op" id="3903502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3903506">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3903510">slice</span><span class="op" id="3903515">[</span><span class="ident" id="3903516">i</span><span class="op" id="3903517">]</span>&nbsp;<span class="op" id="3903519">=</span>&nbsp;<span class="ident" id="3903521">state</span><span class="op" id="3903526">.</span><span class="ident" id="3903527">decodeUint</span><span class="op" id="3903537">(</span><span class="op" id="3903538">)</span>&nbsp;<span class="op" id="3903540">!=</span>&nbsp;<span class="num" id="3903543">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3903546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903549">return</span>&nbsp;<span class="builtintype" id="3903556">true</span><br>
<span class="lineno"></span><span class="op" id="3903561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="3903564">func</span>&nbsp;<span class="ident" id="3903569">decComplex64Array</span><span class="op" id="3903586">(</span><span class="ident" id="3903587">state</span>&nbsp;<span class="op" id="3903593">*</span><span class="ident" id="3903594">decoderState</span><span class="op" id="3903606">,</span>&nbsp;<span class="ident" id="3903608">v</span>&nbsp;<span class="ident" id="3903610">reflect</span><span class="op" id="3903617">.</span><span class="ident" id="3903618">Value</span><span class="op" id="3903623">,</span>&nbsp;<span class="ident" id="3903625">length</span>&nbsp;<span class="builtintype" id="3903632">int</span><span class="op" id="3903635">,</span>&nbsp;<span class="ident" id="3903637">ovfl</span>&nbsp;<span class="builtintype" id="3903642">error</span><span class="op" id="3903647">)</span>&nbsp;<span class="builtintype" id="3903649">bool</span>&nbsp;<span class="op" id="3903654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3903657">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903698">if</span>&nbsp;<span class="op" id="3903701">!</span><span class="ident" id="3903702">v</span><span class="op" id="3903703">.</span><span class="ident" id="3903704">CanAddr</span><span class="op" id="3903711">(</span><span class="op" id="3903712">)</span>&nbsp;<span class="op" id="3903714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903718">return</span>&nbsp;<span class="builtintype" id="3903725">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3903732">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903735">return</span>&nbsp;<span class="ident" id="3903742">decComplex64Slice</span><span class="op" id="3903759">(</span><span class="ident" id="3903760">state</span><span class="op" id="3903765">,</span>&nbsp;<span class="ident" id="3903767">v</span><span class="op" id="3903768">.</span><span class="ident" id="3903769">Slice</span><span class="op" id="3903774">(</span><span class="num" id="3903775">0</span><span class="op" id="3903776">,</span>&nbsp;<span class="ident" id="3903778">v</span><span class="op" id="3903779">.</span><span class="ident" id="3903780">Len</span><span class="op" id="3903783">(</span><span class="op" id="3903784">)</span><span class="op" id="3903785">)</span><span class="op" id="3903786">,</span>&nbsp;<span class="ident" id="3903788">length</span><span class="op" id="3903794">,</span>&nbsp;<span class="ident" id="3903796">ovfl</span><span class="op" id="3903800">)</span><br>
<span class="lineno"></span><span class="op" id="3903802">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3903805">func</span>&nbsp;<span class="ident" id="3903810">decComplex64Slice</span><span class="op" id="3903827">(</span><span class="ident" id="3903828">state</span>&nbsp;<span class="op" id="3903834">*</span><span class="ident" id="3903835">decoderState</span><span class="op" id="3903847">,</span>&nbsp;<span class="ident" id="3903849">v</span>&nbsp;<span class="ident" id="3903851">reflect</span><span class="op" id="3903858">.</span><span class="ident" id="3903859">Value</span><span class="op" id="3903864">,</span>&nbsp;<span class="ident" id="3903866">length</span>&nbsp;<span class="builtintype" id="3903873">int</span><span class="op" id="3903876">,</span>&nbsp;<span class="ident" id="3903878">ovfl</span>&nbsp;<span class="builtintype" id="3903883">error</span><span class="op" id="3903888">)</span>&nbsp;<span class="builtintype" id="3903890">bool</span>&nbsp;<span class="op" id="3903895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3903898">slice</span><span class="op" id="3903903">,</span>&nbsp;<span class="ident" id="3903905">ok</span>&nbsp;<span class="op" id="3903908">:=</span>&nbsp;<span class="ident" id="3903911">v</span><span class="op" id="3903912">.</span><span class="ident" id="3903913">Interface</span><span class="op" id="3903922">(</span><span class="op" id="3903923">)</span><span class="op" id="3903924">.</span><span class="op" id="3903925">(</span><span class="op" id="3903926">[</span><span class="op" id="3903927">]</span><span class="builtintype" id="3903928">complex64</span><span class="op" id="3903937">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3903940">if</span>&nbsp;<span class="op" id="3903943">!</span><span class="ident" id="3903944">ok</span>&nbsp;<span class="op" id="3903947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3903951">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904036">return</span>&nbsp;<span class="builtintype" id="3904043">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3904050">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904053">for</span>&nbsp;<span class="ident" id="3904057">i</span>&nbsp;<span class="op" id="3904059">:=</span>&nbsp;<span class="num" id="3904062">0</span><span class="op" id="3904063">;</span>&nbsp;<span class="ident" id="3904065">i</span>&nbsp;<span class="op" id="3904067">&lt;</span>&nbsp;<span class="ident" id="3904069">length</span><span class="op" id="3904075">;</span>&nbsp;<span class="ident" id="3904077">i</span><span class="op" id="3904078">++</span>&nbsp;<span class="op" id="3904081">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904085">if</span>&nbsp;<span class="ident" id="3904088">state</span><span class="op" id="3904093">.</span><span class="ident" id="3904094">b</span><span class="op" id="3904095">.</span><span class="ident" id="3904096">Len</span><span class="op" id="3904099">(</span><span class="op" id="3904100">)</span>&nbsp;<span class="op" id="3904102">==</span>&nbsp;<span class="num" id="3904105">0</span>&nbsp;<span class="op" id="3904107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3904112">errorf</span><span class="op" id="3904118">(</span><span class="string" id="3904119">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3904195">,</span>&nbsp;<span class="ident" id="3904197">length</span><span class="op" id="3904203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3904207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3904211">real</span>&nbsp;<span class="op" id="3904216">:=</span>&nbsp;<span class="ident" id="3904219">float32FromBits</span><span class="op" id="3904234">(</span><span class="ident" id="3904235">state</span><span class="op" id="3904240">.</span><span class="ident" id="3904241">decodeUint</span><span class="op" id="3904251">(</span><span class="op" id="3904252">)</span><span class="op" id="3904253">,</span>&nbsp;<span class="ident" id="3904255">ovfl</span><span class="op" id="3904259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3904263">imag</span>&nbsp;<span class="op" id="3904268">:=</span>&nbsp;<span class="ident" id="3904271">float32FromBits</span><span class="op" id="3904286">(</span><span class="ident" id="3904287">state</span><span class="op" id="3904292">.</span><span class="ident" id="3904293">decodeUint</span><span class="op" id="3904303">(</span><span class="op" id="3904304">)</span><span class="op" id="3904305">,</span>&nbsp;<span class="ident" id="3904307">ovfl</span><span class="op" id="3904311">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3904315">slice</span><span class="op" id="3904320">[</span><span class="ident" id="3904321">i</span><span class="op" id="3904322">]</span>&nbsp;<span class="op" id="3904324">=</span>&nbsp;<span class="builtinfunc" id="3904326">complex</span><span class="op" id="3904333">(</span><span class="builtintype" id="3904334">float32</span><span class="op" id="3904341">(</span><span class="builtinfunc" id="3904342">real</span><span class="op" id="3904346">)</span><span class="op" id="3904347">,</span>&nbsp;<span class="builtintype" id="3904349">float32</span><span class="op" id="3904356">(</span><span class="builtinfunc" id="3904357">imag</span><span class="op" id="3904361">)</span><span class="op" id="3904362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3904365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904368">return</span>&nbsp;<span class="builtintype" id="3904375">true</span><br>
<span class="lineno"></span><span class="op" id="3904380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="3904383">func</span>&nbsp;<span class="ident" id="3904388">decComplex128Array</span><span class="op" id="3904406">(</span><span class="ident" id="3904407">state</span>&nbsp;<span class="op" id="3904413">*</span><span class="ident" id="3904414">decoderState</span><span class="op" id="3904426">,</span>&nbsp;<span class="ident" id="3904428">v</span>&nbsp;<span class="ident" id="3904430">reflect</span><span class="op" id="3904437">.</span><span class="ident" id="3904438">Value</span><span class="op" id="3904443">,</span>&nbsp;<span class="ident" id="3904445">length</span>&nbsp;<span class="builtintype" id="3904452">int</span><span class="op" id="3904455">,</span>&nbsp;<span class="ident" id="3904457">ovfl</span>&nbsp;<span class="builtintype" id="3904462">error</span><span class="op" id="3904467">)</span>&nbsp;<span class="builtintype" id="3904469">bool</span>&nbsp;<span class="op" id="3904474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3904477">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904518">if</span>&nbsp;<span class="op" id="3904521">!</span><span class="ident" id="3904522">v</span><span class="op" id="3904523">.</span><span class="ident" id="3904524">CanAddr</span><span class="op" id="3904531">(</span><span class="op" id="3904532">)</span>&nbsp;<span class="op" id="3904534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904538">return</span>&nbsp;<span class="builtintype" id="3904545">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3904552">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904555">return</span>&nbsp;<span class="ident" id="3904562">decComplex128Slice</span><span class="op" id="3904580">(</span><span class="ident" id="3904581">state</span><span class="op" id="3904586">,</span>&nbsp;<span class="ident" id="3904588">v</span><span class="op" id="3904589">.</span><span class="ident" id="3904590">Slice</span><span class="op" id="3904595">(</span><span class="num" id="3904596">0</span><span class="op" id="3904597">,</span>&nbsp;<span class="ident" id="3904599">v</span><span class="op" id="3904600">.</span><span class="ident" id="3904601">Len</span><span class="op" id="3904604">(</span><span class="op" id="3904605">)</span><span class="op" id="3904606">)</span><span class="op" id="3904607">,</span>&nbsp;<span class="ident" id="3904609">length</span><span class="op" id="3904615">,</span>&nbsp;<span class="ident" id="3904617">ovfl</span><span class="op" id="3904621">)</span><br>
<span class="lineno"></span><span class="op" id="3904623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3904626">func</span>&nbsp;<span class="ident" id="3904631">decComplex128Slice</span><span class="op" id="3904649">(</span><span class="ident" id="3904650">state</span>&nbsp;<span class="op" id="3904656">*</span><span class="ident" id="3904657">decoderState</span><span class="op" id="3904669">,</span>&nbsp;<span class="ident" id="3904671">v</span>&nbsp;<span class="ident" id="3904673">reflect</span><span class="op" id="3904680">.</span><span class="ident" id="3904681">Value</span><span class="op" id="3904686">,</span>&nbsp;<span class="ident" id="3904688">length</span>&nbsp;<span class="builtintype" id="3904695">int</span><span class="op" id="3904698">,</span>&nbsp;<span class="ident" id="3904700">ovfl</span>&nbsp;<span class="builtintype" id="3904705">error</span><span class="op" id="3904710">)</span>&nbsp;<span class="builtintype" id="3904712">bool</span>&nbsp;<span class="op" id="3904717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3904720">slice</span><span class="op" id="3904725">,</span>&nbsp;<span class="ident" id="3904727">ok</span>&nbsp;<span class="op" id="3904730">:=</span>&nbsp;<span class="ident" id="3904733">v</span><span class="op" id="3904734">.</span><span class="ident" id="3904735">Interface</span><span class="op" id="3904744">(</span><span class="op" id="3904745">)</span><span class="op" id="3904746">.</span><span class="op" id="3904747">(</span><span class="op" id="3904748">[</span><span class="op" id="3904749">]</span><span class="builtintype" id="3904750">complex128</span><span class="op" id="3904760">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904763">if</span>&nbsp;<span class="op" id="3904766">!</span><span class="ident" id="3904767">ok</span>&nbsp;<span class="op" id="3904770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3904774">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904861">return</span>&nbsp;<span class="builtintype" id="3904868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3904875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904878">for</span>&nbsp;<span class="ident" id="3904882">i</span>&nbsp;<span class="op" id="3904884">:=</span>&nbsp;<span class="num" id="3904887">0</span><span class="op" id="3904888">;</span>&nbsp;<span class="ident" id="3904890">i</span>&nbsp;<span class="op" id="3904892">&lt;</span>&nbsp;<span class="ident" id="3904894">length</span><span class="op" id="3904900">;</span>&nbsp;<span class="ident" id="3904902">i</span><span class="op" id="3904903">++</span>&nbsp;<span class="op" id="3904906">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3904910">if</span>&nbsp;<span class="ident" id="3904913">state</span><span class="op" id="3904918">.</span><span class="ident" id="3904919">b</span><span class="op" id="3904920">.</span><span class="ident" id="3904921">Len</span><span class="op" id="3904924">(</span><span class="op" id="3904925">)</span>&nbsp;<span class="op" id="3904927">==</span>&nbsp;<span class="num" id="3904930">0</span>&nbsp;<span class="op" id="3904932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3904937">errorf</span><span class="op" id="3904943">(</span><span class="string" id="3904944">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3905021">,</span>&nbsp;<span class="ident" id="3905023">length</span><span class="op" id="3905029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3905037">real</span>&nbsp;<span class="op" id="3905042">:=</span>&nbsp;<span class="ident" id="3905045">float64FromBits</span><span class="op" id="3905060">(</span><span class="ident" id="3905061">state</span><span class="op" id="3905066">.</span><span class="ident" id="3905067">decodeUint</span><span class="op" id="3905077">(</span><span class="op" id="3905078">)</span><span class="op" id="3905079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3905083">imag</span>&nbsp;<span class="op" id="3905088">:=</span>&nbsp;<span class="ident" id="3905091">float64FromBits</span><span class="op" id="3905106">(</span><span class="ident" id="3905107">state</span><span class="op" id="3905112">.</span><span class="ident" id="3905113">decodeUint</span><span class="op" id="3905123">(</span><span class="op" id="3905124">)</span><span class="op" id="3905125">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905129">slice</span><span class="op" id="3905134">[</span><span class="ident" id="3905135">i</span><span class="op" id="3905136">]</span>&nbsp;<span class="op" id="3905138">=</span>&nbsp;<span class="builtinfunc" id="3905140">complex</span><span class="op" id="3905147">(</span><span class="builtinfunc" id="3905148">real</span><span class="op" id="3905152">,</span>&nbsp;<span class="builtinfunc" id="3905154">imag</span><span class="op" id="3905158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905164">return</span>&nbsp;<span class="builtintype" id="3905171">true</span><br>
<span class="lineno"></span><span class="op" id="3905176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="3905179">func</span>&nbsp;<span class="ident" id="3905184">decFloat32Array</span><span class="op" id="3905199">(</span><span class="ident" id="3905200">state</span>&nbsp;<span class="op" id="3905206">*</span><span class="ident" id="3905207">decoderState</span><span class="op" id="3905219">,</span>&nbsp;<span class="ident" id="3905221">v</span>&nbsp;<span class="ident" id="3905223">reflect</span><span class="op" id="3905230">.</span><span class="ident" id="3905231">Value</span><span class="op" id="3905236">,</span>&nbsp;<span class="ident" id="3905238">length</span>&nbsp;<span class="builtintype" id="3905245">int</span><span class="op" id="3905248">,</span>&nbsp;<span class="ident" id="3905250">ovfl</span>&nbsp;<span class="builtintype" id="3905255">error</span><span class="op" id="3905260">)</span>&nbsp;<span class="builtintype" id="3905262">bool</span>&nbsp;<span class="op" id="3905267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3905270">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905311">if</span>&nbsp;<span class="op" id="3905314">!</span><span class="ident" id="3905315">v</span><span class="op" id="3905316">.</span><span class="ident" id="3905317">CanAddr</span><span class="op" id="3905324">(</span><span class="op" id="3905325">)</span>&nbsp;<span class="op" id="3905327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905331">return</span>&nbsp;<span class="builtintype" id="3905338">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905345">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905348">return</span>&nbsp;<span class="ident" id="3905355">decFloat32Slice</span><span class="op" id="3905370">(</span><span class="ident" id="3905371">state</span><span class="op" id="3905376">,</span>&nbsp;<span class="ident" id="3905378">v</span><span class="op" id="3905379">.</span><span class="ident" id="3905380">Slice</span><span class="op" id="3905385">(</span><span class="num" id="3905386">0</span><span class="op" id="3905387">,</span>&nbsp;<span class="ident" id="3905389">v</span><span class="op" id="3905390">.</span><span class="ident" id="3905391">Len</span><span class="op" id="3905394">(</span><span class="op" id="3905395">)</span><span class="op" id="3905396">)</span><span class="op" id="3905397">,</span>&nbsp;<span class="ident" id="3905399">length</span><span class="op" id="3905405">,</span>&nbsp;<span class="ident" id="3905407">ovfl</span><span class="op" id="3905411">)</span><br>
<span class="lineno"></span><span class="op" id="3905413">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3905416">func</span>&nbsp;<span class="ident" id="3905421">decFloat32Slice</span><span class="op" id="3905436">(</span><span class="ident" id="3905437">state</span>&nbsp;<span class="op" id="3905443">*</span><span class="ident" id="3905444">decoderState</span><span class="op" id="3905456">,</span>&nbsp;<span class="ident" id="3905458">v</span>&nbsp;<span class="ident" id="3905460">reflect</span><span class="op" id="3905467">.</span><span class="ident" id="3905468">Value</span><span class="op" id="3905473">,</span>&nbsp;<span class="ident" id="3905475">length</span>&nbsp;<span class="builtintype" id="3905482">int</span><span class="op" id="3905485">,</span>&nbsp;<span class="ident" id="3905487">ovfl</span>&nbsp;<span class="builtintype" id="3905492">error</span><span class="op" id="3905497">)</span>&nbsp;<span class="builtintype" id="3905499">bool</span>&nbsp;<span class="op" id="3905504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905507">slice</span><span class="op" id="3905512">,</span>&nbsp;<span class="ident" id="3905514">ok</span>&nbsp;<span class="op" id="3905517">:=</span>&nbsp;<span class="ident" id="3905520">v</span><span class="op" id="3905521">.</span><span class="ident" id="3905522">Interface</span><span class="op" id="3905531">(</span><span class="op" id="3905532">)</span><span class="op" id="3905533">.</span><span class="op" id="3905534">(</span><span class="op" id="3905535">[</span><span class="op" id="3905536">]</span><span class="builtintype" id="3905537">float32</span><span class="op" id="3905544">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905547">if</span>&nbsp;<span class="op" id="3905550">!</span><span class="ident" id="3905551">ok</span>&nbsp;<span class="op" id="3905554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3905558">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905639">return</span>&nbsp;<span class="builtintype" id="3905646">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905656">for</span>&nbsp;<span class="ident" id="3905660">i</span>&nbsp;<span class="op" id="3905662">:=</span>&nbsp;<span class="num" id="3905665">0</span><span class="op" id="3905666">;</span>&nbsp;<span class="ident" id="3905668">i</span>&nbsp;<span class="op" id="3905670">&lt;</span>&nbsp;<span class="ident" id="3905672">length</span><span class="op" id="3905678">;</span>&nbsp;<span class="ident" id="3905680">i</span><span class="op" id="3905681">++</span>&nbsp;<span class="op" id="3905684">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905688">if</span>&nbsp;<span class="ident" id="3905691">state</span><span class="op" id="3905696">.</span><span class="ident" id="3905697">b</span><span class="op" id="3905698">.</span><span class="ident" id="3905699">Len</span><span class="op" id="3905702">(</span><span class="op" id="3905703">)</span>&nbsp;<span class="op" id="3905705">==</span>&nbsp;<span class="num" id="3905708">0</span>&nbsp;<span class="op" id="3905710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905715">errorf</span><span class="op" id="3905721">(</span><span class="string" id="3905722">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3905796">,</span>&nbsp;<span class="ident" id="3905798">length</span><span class="op" id="3905804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3905812">slice</span><span class="op" id="3905817">[</span><span class="ident" id="3905818">i</span><span class="op" id="3905819">]</span>&nbsp;<span class="op" id="3905821">=</span>&nbsp;<span class="builtintype" id="3905823">float32</span><span class="op" id="3905830">(</span><span class="ident" id="3905831">float32FromBits</span><span class="op" id="3905846">(</span><span class="ident" id="3905847">state</span><span class="op" id="3905852">.</span><span class="ident" id="3905853">decodeUint</span><span class="op" id="3905863">(</span><span class="op" id="3905864">)</span><span class="op" id="3905865">,</span>&nbsp;<span class="ident" id="3905867">ovfl</span><span class="op" id="3905871">)</span><span class="op" id="3905872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3905875">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3905878">return</span>&nbsp;<span class="builtintype" id="3905885">true</span><br>
<span class="lineno"></span><span class="op" id="3905890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3905893">func</span>&nbsp;<span class="ident" id="3905898">decFloat64Array</span><span class="op" id="3905913">(</span><span class="ident" id="3905914">state</span>&nbsp;<span class="op" id="3905920">*</span><span class="ident" id="3905921">decoderState</span><span class="op" id="3905933">,</span>&nbsp;<span class="ident" id="3905935">v</span>&nbsp;<span class="ident" id="3905937">reflect</span><span class="op" id="3905944">.</span><span class="ident" id="3905945">Value</span><span class="op" id="3905950">,</span>&nbsp;<span class="ident" id="3905952">length</span>&nbsp;<span class="builtintype" id="3905959">int</span><span class="op" id="3905962">,</span>&nbsp;<span class="ident" id="3905964">ovfl</span>&nbsp;<span class="builtintype" id="3905969">error</span><span class="op" id="3905974">)</span>&nbsp;<span class="builtintype" id="3905976">bool</span>&nbsp;<span class="op" id="3905981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3905984">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906025">if</span>&nbsp;<span class="op" id="3906028">!</span><span class="ident" id="3906029">v</span><span class="op" id="3906030">.</span><span class="ident" id="3906031">CanAddr</span><span class="op" id="3906038">(</span><span class="op" id="3906039">)</span>&nbsp;<span class="op" id="3906041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906045">return</span>&nbsp;<span class="builtintype" id="3906052">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3906059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906062">return</span>&nbsp;<span class="ident" id="3906069">decFloat64Slice</span><span class="op" id="3906084">(</span><span class="ident" id="3906085">state</span><span class="op" id="3906090">,</span>&nbsp;<span class="ident" id="3906092">v</span><span class="op" id="3906093">.</span><span class="ident" id="3906094">Slice</span><span class="op" id="3906099">(</span><span class="num" id="3906100">0</span><span class="op" id="3906101">,</span>&nbsp;<span class="ident" id="3906103">v</span><span class="op" id="3906104">.</span><span class="ident" id="3906105">Len</span><span class="op" id="3906108">(</span><span class="op" id="3906109">)</span><span class="op" id="3906110">)</span><span class="op" id="3906111">,</span>&nbsp;<span class="ident" id="3906113">length</span><span class="op" id="3906119">,</span>&nbsp;<span class="ident" id="3906121">ovfl</span><span class="op" id="3906125">)</span><br>
<span class="lineno"></span><span class="op" id="3906127">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="3906130">func</span>&nbsp;<span class="ident" id="3906135">decFloat64Slice</span><span class="op" id="3906150">(</span><span class="ident" id="3906151">state</span>&nbsp;<span class="op" id="3906157">*</span><span class="ident" id="3906158">decoderState</span><span class="op" id="3906170">,</span>&nbsp;<span class="ident" id="3906172">v</span>&nbsp;<span class="ident" id="3906174">reflect</span><span class="op" id="3906181">.</span><span class="ident" id="3906182">Value</span><span class="op" id="3906187">,</span>&nbsp;<span class="ident" id="3906189">length</span>&nbsp;<span class="builtintype" id="3906196">int</span><span class="op" id="3906199">,</span>&nbsp;<span class="ident" id="3906201">ovfl</span>&nbsp;<span class="builtintype" id="3906206">error</span><span class="op" id="3906211">)</span>&nbsp;<span class="builtintype" id="3906213">bool</span>&nbsp;<span class="op" id="3906218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906221">slice</span><span class="op" id="3906226">,</span>&nbsp;<span class="ident" id="3906228">ok</span>&nbsp;<span class="op" id="3906231">:=</span>&nbsp;<span class="ident" id="3906234">v</span><span class="op" id="3906235">.</span><span class="ident" id="3906236">Interface</span><span class="op" id="3906245">(</span><span class="op" id="3906246">)</span><span class="op" id="3906247">.</span><span class="op" id="3906248">(</span><span class="op" id="3906249">[</span><span class="op" id="3906250">]</span><span class="builtintype" id="3906251">float64</span><span class="op" id="3906258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906261">if</span>&nbsp;<span class="op" id="3906264">!</span><span class="ident" id="3906265">ok</span>&nbsp;<span class="op" id="3906268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3906272">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906353">return</span>&nbsp;<span class="builtintype" id="3906360">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3906367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906370">for</span>&nbsp;<span class="ident" id="3906374">i</span>&nbsp;<span class="op" id="3906376">:=</span>&nbsp;<span class="num" id="3906379">0</span><span class="op" id="3906380">;</span>&nbsp;<span class="ident" id="3906382">i</span>&nbsp;<span class="op" id="3906384">&lt;</span>&nbsp;<span class="ident" id="3906386">length</span><span class="op" id="3906392">;</span>&nbsp;<span class="ident" id="3906394">i</span><span class="op" id="3906395">++</span>&nbsp;<span class="op" id="3906398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906402">if</span>&nbsp;<span class="ident" id="3906405">state</span><span class="op" id="3906410">.</span><span class="ident" id="3906411">b</span><span class="op" id="3906412">.</span><span class="ident" id="3906413">Len</span><span class="op" id="3906416">(</span><span class="op" id="3906417">)</span>&nbsp;<span class="op" id="3906419">==</span>&nbsp;<span class="num" id="3906422">0</span>&nbsp;<span class="op" id="3906424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906429">errorf</span><span class="op" id="3906435">(</span><span class="string" id="3906436">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3906510">,</span>&nbsp;<span class="ident" id="3906512">length</span><span class="op" id="3906518">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3906522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906526">slice</span><span class="op" id="3906531">[</span><span class="ident" id="3906532">i</span><span class="op" id="3906533">]</span>&nbsp;<span class="op" id="3906535">=</span>&nbsp;<span class="ident" id="3906537">float64FromBits</span><span class="op" id="3906552">(</span><span class="ident" id="3906553">state</span><span class="op" id="3906558">.</span><span class="ident" id="3906559">decodeUint</span><span class="op" id="3906569">(</span><span class="op" id="3906570">)</span><span class="op" id="3906571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3906574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906577">return</span>&nbsp;<span class="builtintype" id="3906584">true</span><br>
<span class="lineno"></span><span class="op" id="3906589">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="3906592">func</span>&nbsp;<span class="ident" id="3906597">decIntArray</span><span class="op" id="3906608">(</span><span class="ident" id="3906609">state</span>&nbsp;<span class="op" id="3906615">*</span><span class="ident" id="3906616">decoderState</span><span class="op" id="3906628">,</span>&nbsp;<span class="ident" id="3906630">v</span>&nbsp;<span class="ident" id="3906632">reflect</span><span class="op" id="3906639">.</span><span class="ident" id="3906640">Value</span><span class="op" id="3906645">,</span>&nbsp;<span class="ident" id="3906647">length</span>&nbsp;<span class="builtintype" id="3906654">int</span><span class="op" id="3906657">,</span>&nbsp;<span class="ident" id="3906659">ovfl</span>&nbsp;<span class="builtintype" id="3906664">error</span><span class="op" id="3906669">)</span>&nbsp;<span class="builtintype" id="3906671">bool</span>&nbsp;<span class="op" id="3906676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3906679">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906720">if</span>&nbsp;<span class="op" id="3906723">!</span><span class="ident" id="3906724">v</span><span class="op" id="3906725">.</span><span class="ident" id="3906726">CanAddr</span><span class="op" id="3906733">(</span><span class="op" id="3906734">)</span>&nbsp;<span class="op" id="3906736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906740">return</span>&nbsp;<span class="builtintype" id="3906747">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3906754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906757">return</span>&nbsp;<span class="ident" id="3906764">decIntSlice</span><span class="op" id="3906775">(</span><span class="ident" id="3906776">state</span><span class="op" id="3906781">,</span>&nbsp;<span class="ident" id="3906783">v</span><span class="op" id="3906784">.</span><span class="ident" id="3906785">Slice</span><span class="op" id="3906790">(</span><span class="num" id="3906791">0</span><span class="op" id="3906792">,</span>&nbsp;<span class="ident" id="3906794">v</span><span class="op" id="3906795">.</span><span class="ident" id="3906796">Len</span><span class="op" id="3906799">(</span><span class="op" id="3906800">)</span><span class="op" id="3906801">)</span><span class="op" id="3906802">,</span>&nbsp;<span class="ident" id="3906804">length</span><span class="op" id="3906810">,</span>&nbsp;<span class="ident" id="3906812">ovfl</span><span class="op" id="3906816">)</span><br>
<span class="lineno"></span><span class="op" id="3906818">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3906821">func</span>&nbsp;<span class="ident" id="3906826">decIntSlice</span><span class="op" id="3906837">(</span><span class="ident" id="3906838">state</span>&nbsp;<span class="op" id="3906844">*</span><span class="ident" id="3906845">decoderState</span><span class="op" id="3906857">,</span>&nbsp;<span class="ident" id="3906859">v</span>&nbsp;<span class="ident" id="3906861">reflect</span><span class="op" id="3906868">.</span><span class="ident" id="3906869">Value</span><span class="op" id="3906874">,</span>&nbsp;<span class="ident" id="3906876">length</span>&nbsp;<span class="builtintype" id="3906883">int</span><span class="op" id="3906886">,</span>&nbsp;<span class="ident" id="3906888">ovfl</span>&nbsp;<span class="builtintype" id="3906893">error</span><span class="op" id="3906898">)</span>&nbsp;<span class="builtintype" id="3906900">bool</span>&nbsp;<span class="op" id="3906905">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3906908">slice</span><span class="op" id="3906913">,</span>&nbsp;<span class="ident" id="3906915">ok</span>&nbsp;<span class="op" id="3906918">:=</span>&nbsp;<span class="ident" id="3906921">v</span><span class="op" id="3906922">.</span><span class="ident" id="3906923">Interface</span><span class="op" id="3906932">(</span><span class="op" id="3906933">)</span><span class="op" id="3906934">.</span><span class="op" id="3906935">(</span><span class="op" id="3906936">[</span><span class="op" id="3906937">]</span><span class="builtintype" id="3906938">int</span><span class="op" id="3906941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3906944">if</span>&nbsp;<span class="op" id="3906947">!</span><span class="ident" id="3906948">ok</span>&nbsp;<span class="op" id="3906951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3906955">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907028">return</span>&nbsp;<span class="builtintype" id="3907035">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907042">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907045">for</span>&nbsp;<span class="ident" id="3907049">i</span>&nbsp;<span class="op" id="3907051">:=</span>&nbsp;<span class="num" id="3907054">0</span><span class="op" id="3907055">;</span>&nbsp;<span class="ident" id="3907057">i</span>&nbsp;<span class="op" id="3907059">&lt;</span>&nbsp;<span class="ident" id="3907061">length</span><span class="op" id="3907067">;</span>&nbsp;<span class="ident" id="3907069">i</span><span class="op" id="3907070">++</span>&nbsp;<span class="op" id="3907073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907077">if</span>&nbsp;<span class="ident" id="3907080">state</span><span class="op" id="3907085">.</span><span class="ident" id="3907086">b</span><span class="op" id="3907087">.</span><span class="ident" id="3907088">Len</span><span class="op" id="3907091">(</span><span class="op" id="3907092">)</span>&nbsp;<span class="op" id="3907094">==</span>&nbsp;<span class="num" id="3907097">0</span>&nbsp;<span class="op" id="3907099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907104">errorf</span><span class="op" id="3907110">(</span><span class="string" id="3907111">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3907181">,</span>&nbsp;<span class="ident" id="3907183">length</span><span class="op" id="3907189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907197">x</span>&nbsp;<span class="op" id="3907199">:=</span>&nbsp;<span class="ident" id="3907202">state</span><span class="op" id="3907207">.</span><span class="ident" id="3907208">decodeInt</span><span class="op" id="3907217">(</span><span class="op" id="3907218">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907222">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907245">if</span>&nbsp;<span class="ident" id="3907248">x</span>&nbsp;<span class="op" id="3907250">&lt;</span>&nbsp;<span class="op" id="3907252">^</span><span class="ident" id="3907253">int64</span><span class="op" id="3907258">(</span><span class="op" id="3907259">^</span><span class="builtintype" id="3907260">uint</span><span class="op" id="3907264">(</span><span class="num" id="3907265">0</span><span class="op" id="3907266">)</span><span class="op" id="3907267">&gt;&gt;</span><span class="num" id="3907269">1</span><span class="op" id="3907270">)</span>&nbsp;<span class="op" id="3907272">||</span>&nbsp;<span class="ident" id="3907275">int64</span><span class="op" id="3907280">(</span><span class="op" id="3907281">^</span><span class="builtintype" id="3907282">uint</span><span class="op" id="3907286">(</span><span class="num" id="3907287">0</span><span class="op" id="3907288">)</span><span class="op" id="3907289">&gt;&gt;</span><span class="num" id="3907291">1</span><span class="op" id="3907292">)</span>&nbsp;<span class="op" id="3907294">&lt;</span>&nbsp;<span class="ident" id="3907296">x</span>&nbsp;<span class="op" id="3907298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907303">error_</span><span class="op" id="3907309">(</span><span class="ident" id="3907310">ovfl</span><span class="op" id="3907314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907322">slice</span><span class="op" id="3907327">[</span><span class="ident" id="3907328">i</span><span class="op" id="3907329">]</span>&nbsp;<span class="op" id="3907331">=</span>&nbsp;<span class="builtintype" id="3907333">int</span><span class="op" id="3907336">(</span><span class="ident" id="3907337">x</span><span class="op" id="3907338">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907341">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907344">return</span>&nbsp;<span class="builtintype" id="3907351">true</span><br>
<span class="lineno"></span><span class="op" id="3907356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3907359">func</span>&nbsp;<span class="ident" id="3907364">decInt16Array</span><span class="op" id="3907377">(</span><span class="ident" id="3907378">state</span>&nbsp;<span class="op" id="3907384">*</span><span class="ident" id="3907385">decoderState</span><span class="op" id="3907397">,</span>&nbsp;<span class="ident" id="3907399">v</span>&nbsp;<span class="ident" id="3907401">reflect</span><span class="op" id="3907408">.</span><span class="ident" id="3907409">Value</span><span class="op" id="3907414">,</span>&nbsp;<span class="ident" id="3907416">length</span>&nbsp;<span class="builtintype" id="3907423">int</span><span class="op" id="3907426">,</span>&nbsp;<span class="ident" id="3907428">ovfl</span>&nbsp;<span class="builtintype" id="3907433">error</span><span class="op" id="3907438">)</span>&nbsp;<span class="builtintype" id="3907440">bool</span>&nbsp;<span class="op" id="3907445">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907448">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907489">if</span>&nbsp;<span class="op" id="3907492">!</span><span class="ident" id="3907493">v</span><span class="op" id="3907494">.</span><span class="ident" id="3907495">CanAddr</span><span class="op" id="3907502">(</span><span class="op" id="3907503">)</span>&nbsp;<span class="op" id="3907505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907509">return</span>&nbsp;<span class="builtintype" id="3907516">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907526">return</span>&nbsp;<span class="ident" id="3907533">decInt16Slice</span><span class="op" id="3907546">(</span><span class="ident" id="3907547">state</span><span class="op" id="3907552">,</span>&nbsp;<span class="ident" id="3907554">v</span><span class="op" id="3907555">.</span><span class="ident" id="3907556">Slice</span><span class="op" id="3907561">(</span><span class="num" id="3907562">0</span><span class="op" id="3907563">,</span>&nbsp;<span class="ident" id="3907565">v</span><span class="op" id="3907566">.</span><span class="ident" id="3907567">Len</span><span class="op" id="3907570">(</span><span class="op" id="3907571">)</span><span class="op" id="3907572">)</span><span class="op" id="3907573">,</span>&nbsp;<span class="ident" id="3907575">length</span><span class="op" id="3907581">,</span>&nbsp;<span class="ident" id="3907583">ovfl</span><span class="op" id="3907587">)</span><br>
<span class="lineno">205</span><span class="op" id="3907589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3907592">func</span>&nbsp;<span class="ident" id="3907597">decInt16Slice</span><span class="op" id="3907610">(</span><span class="ident" id="3907611">state</span>&nbsp;<span class="op" id="3907617">*</span><span class="ident" id="3907618">decoderState</span><span class="op" id="3907630">,</span>&nbsp;<span class="ident" id="3907632">v</span>&nbsp;<span class="ident" id="3907634">reflect</span><span class="op" id="3907641">.</span><span class="ident" id="3907642">Value</span><span class="op" id="3907647">,</span>&nbsp;<span class="ident" id="3907649">length</span>&nbsp;<span class="builtintype" id="3907656">int</span><span class="op" id="3907659">,</span>&nbsp;<span class="ident" id="3907661">ovfl</span>&nbsp;<span class="builtintype" id="3907666">error</span><span class="op" id="3907671">)</span>&nbsp;<span class="builtintype" id="3907673">bool</span>&nbsp;<span class="op" id="3907678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907681">slice</span><span class="op" id="3907686">,</span>&nbsp;<span class="ident" id="3907688">ok</span>&nbsp;<span class="op" id="3907691">:=</span>&nbsp;<span class="ident" id="3907694">v</span><span class="op" id="3907695">.</span><span class="ident" id="3907696">Interface</span><span class="op" id="3907705">(</span><span class="op" id="3907706">)</span><span class="op" id="3907707">.</span><span class="op" id="3907708">(</span><span class="op" id="3907709">[</span><span class="op" id="3907710">]</span><span class="builtintype" id="3907711">int16</span><span class="op" id="3907716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907719">if</span>&nbsp;<span class="op" id="3907722">!</span><span class="ident" id="3907723">ok</span>&nbsp;<span class="op" id="3907726">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3907730">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907807">return</span>&nbsp;<span class="builtintype" id="3907814">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907824">for</span>&nbsp;<span class="ident" id="3907828">i</span>&nbsp;<span class="op" id="3907830">:=</span>&nbsp;<span class="num" id="3907833">0</span><span class="op" id="3907834">;</span>&nbsp;<span class="ident" id="3907836">i</span>&nbsp;<span class="op" id="3907838">&lt;</span>&nbsp;<span class="ident" id="3907840">length</span><span class="op" id="3907846">;</span>&nbsp;<span class="ident" id="3907848">i</span><span class="op" id="3907849">++</span>&nbsp;<span class="op" id="3907852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3907856">if</span>&nbsp;<span class="ident" id="3907859">state</span><span class="op" id="3907864">.</span><span class="ident" id="3907865">b</span><span class="op" id="3907866">.</span><span class="ident" id="3907867">Len</span><span class="op" id="3907870">(</span><span class="op" id="3907871">)</span>&nbsp;<span class="op" id="3907873">==</span>&nbsp;<span class="num" id="3907876">0</span>&nbsp;<span class="op" id="3907878">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907883">errorf</span><span class="op" id="3907889">(</span><span class="string" id="3907890">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3907962">,</span>&nbsp;<span class="ident" id="3907964">length</span><span class="op" id="3907970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3907974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3907978">x</span>&nbsp;<span class="op" id="3907980">:=</span>&nbsp;<span class="ident" id="3907983">state</span><span class="op" id="3907988">.</span><span class="ident" id="3907989">decodeInt</span><span class="op" id="3907998">(</span><span class="op" id="3907999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908003">if</span>&nbsp;<span class="ident" id="3908006">x</span>&nbsp;<span class="op" id="3908008">&lt;</span>&nbsp;<span class="ident" id="3908010">math</span><span class="op" id="3908014">.</span><span class="ident" id="3908015">MinInt16</span>&nbsp;<span class="op" id="3908024">||</span>&nbsp;<span class="ident" id="3908027">math</span><span class="op" id="3908031">.</span><span class="ident" id="3908032">MaxInt16</span>&nbsp;<span class="op" id="3908041">&lt;</span>&nbsp;<span class="ident" id="3908043">x</span>&nbsp;<span class="op" id="3908045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908050">error_</span><span class="op" id="3908056">(</span><span class="ident" id="3908057">ovfl</span><span class="op" id="3908061">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908065">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908069">slice</span><span class="op" id="3908074">[</span><span class="ident" id="3908075">i</span><span class="op" id="3908076">]</span>&nbsp;<span class="op" id="3908078">=</span>&nbsp;<span class="builtintype" id="3908080">int16</span><span class="op" id="3908085">(</span><span class="ident" id="3908086">x</span><span class="op" id="3908087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908093">return</span>&nbsp;<span class="builtintype" id="3908100">true</span><br>
<span class="lineno"></span><span class="op" id="3908105">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="3908108">func</span>&nbsp;<span class="ident" id="3908113">decInt32Array</span><span class="op" id="3908126">(</span><span class="ident" id="3908127">state</span>&nbsp;<span class="op" id="3908133">*</span><span class="ident" id="3908134">decoderState</span><span class="op" id="3908146">,</span>&nbsp;<span class="ident" id="3908148">v</span>&nbsp;<span class="ident" id="3908150">reflect</span><span class="op" id="3908157">.</span><span class="ident" id="3908158">Value</span><span class="op" id="3908163">,</span>&nbsp;<span class="ident" id="3908165">length</span>&nbsp;<span class="builtintype" id="3908172">int</span><span class="op" id="3908175">,</span>&nbsp;<span class="ident" id="3908177">ovfl</span>&nbsp;<span class="builtintype" id="3908182">error</span><span class="op" id="3908187">)</span>&nbsp;<span class="builtintype" id="3908189">bool</span>&nbsp;<span class="op" id="3908194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3908197">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908238">if</span>&nbsp;<span class="op" id="3908241">!</span><span class="ident" id="3908242">v</span><span class="op" id="3908243">.</span><span class="ident" id="3908244">CanAddr</span><span class="op" id="3908251">(</span><span class="op" id="3908252">)</span>&nbsp;<span class="op" id="3908254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908258">return</span>&nbsp;<span class="builtintype" id="3908265">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908275">return</span>&nbsp;<span class="ident" id="3908282">decInt32Slice</span><span class="op" id="3908295">(</span><span class="ident" id="3908296">state</span><span class="op" id="3908301">,</span>&nbsp;<span class="ident" id="3908303">v</span><span class="op" id="3908304">.</span><span class="ident" id="3908305">Slice</span><span class="op" id="3908310">(</span><span class="num" id="3908311">0</span><span class="op" id="3908312">,</span>&nbsp;<span class="ident" id="3908314">v</span><span class="op" id="3908315">.</span><span class="ident" id="3908316">Len</span><span class="op" id="3908319">(</span><span class="op" id="3908320">)</span><span class="op" id="3908321">)</span><span class="op" id="3908322">,</span>&nbsp;<span class="ident" id="3908324">length</span><span class="op" id="3908330">,</span>&nbsp;<span class="ident" id="3908332">ovfl</span><span class="op" id="3908336">)</span><br>
<span class="lineno"></span><span class="op" id="3908338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3908341">func</span>&nbsp;<span class="ident" id="3908346">decInt32Slice</span><span class="op" id="3908359">(</span><span class="ident" id="3908360">state</span>&nbsp;<span class="op" id="3908366">*</span><span class="ident" id="3908367">decoderState</span><span class="op" id="3908379">,</span>&nbsp;<span class="ident" id="3908381">v</span>&nbsp;<span class="ident" id="3908383">reflect</span><span class="op" id="3908390">.</span><span class="ident" id="3908391">Value</span><span class="op" id="3908396">,</span>&nbsp;<span class="ident" id="3908398">length</span>&nbsp;<span class="builtintype" id="3908405">int</span><span class="op" id="3908408">,</span>&nbsp;<span class="ident" id="3908410">ovfl</span>&nbsp;<span class="builtintype" id="3908415">error</span><span class="op" id="3908420">)</span>&nbsp;<span class="builtintype" id="3908422">bool</span>&nbsp;<span class="op" id="3908427">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908430">slice</span><span class="op" id="3908435">,</span>&nbsp;<span class="ident" id="3908437">ok</span>&nbsp;<span class="op" id="3908440">:=</span>&nbsp;<span class="ident" id="3908443">v</span><span class="op" id="3908444">.</span><span class="ident" id="3908445">Interface</span><span class="op" id="3908454">(</span><span class="op" id="3908455">)</span><span class="op" id="3908456">.</span><span class="op" id="3908457">(</span><span class="op" id="3908458">[</span><span class="op" id="3908459">]</span><span class="builtintype" id="3908460">int32</span><span class="op" id="3908465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908468">if</span>&nbsp;<span class="op" id="3908471">!</span><span class="ident" id="3908472">ok</span>&nbsp;<span class="op" id="3908475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3908479">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908556">return</span>&nbsp;<span class="builtintype" id="3908563">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908570">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908573">for</span>&nbsp;<span class="ident" id="3908577">i</span>&nbsp;<span class="op" id="3908579">:=</span>&nbsp;<span class="num" id="3908582">0</span><span class="op" id="3908583">;</span>&nbsp;<span class="ident" id="3908585">i</span>&nbsp;<span class="op" id="3908587">&lt;</span>&nbsp;<span class="ident" id="3908589">length</span><span class="op" id="3908595">;</span>&nbsp;<span class="ident" id="3908597">i</span><span class="op" id="3908598">++</span>&nbsp;<span class="op" id="3908601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908605">if</span>&nbsp;<span class="ident" id="3908608">state</span><span class="op" id="3908613">.</span><span class="ident" id="3908614">b</span><span class="op" id="3908615">.</span><span class="ident" id="3908616">Len</span><span class="op" id="3908619">(</span><span class="op" id="3908620">)</span>&nbsp;<span class="op" id="3908622">==</span>&nbsp;<span class="num" id="3908625">0</span>&nbsp;<span class="op" id="3908627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908632">errorf</span><span class="op" id="3908638">(</span><span class="string" id="3908639">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3908711">,</span>&nbsp;<span class="ident" id="3908713">length</span><span class="op" id="3908719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908727">x</span>&nbsp;<span class="op" id="3908729">:=</span>&nbsp;<span class="ident" id="3908732">state</span><span class="op" id="3908737">.</span><span class="ident" id="3908738">decodeInt</span><span class="op" id="3908747">(</span><span class="op" id="3908748">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908752">if</span>&nbsp;<span class="ident" id="3908755">x</span>&nbsp;<span class="op" id="3908757">&lt;</span>&nbsp;<span class="ident" id="3908759">math</span><span class="op" id="3908763">.</span><span class="ident" id="3908764">MinInt32</span>&nbsp;<span class="op" id="3908773">||</span>&nbsp;<span class="ident" id="3908776">math</span><span class="op" id="3908780">.</span><span class="ident" id="3908781">MaxInt32</span>&nbsp;<span class="op" id="3908790">&lt;</span>&nbsp;<span class="ident" id="3908792">x</span>&nbsp;<span class="op" id="3908794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908799">error_</span><span class="op" id="3908805">(</span><span class="ident" id="3908806">ovfl</span><span class="op" id="3908810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3908818">slice</span><span class="op" id="3908823">[</span><span class="ident" id="3908824">i</span><span class="op" id="3908825">]</span>&nbsp;<span class="op" id="3908827">=</span>&nbsp;<span class="builtintype" id="3908829">int32</span><span class="op" id="3908834">(</span><span class="ident" id="3908835">x</span><span class="op" id="3908836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3908839">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908842">return</span>&nbsp;<span class="builtintype" id="3908849">true</span><br>
<span class="lineno"></span><span class="op" id="3908854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3908857">func</span>&nbsp;<span class="ident" id="3908862">decInt64Array</span><span class="op" id="3908875">(</span><span class="ident" id="3908876">state</span>&nbsp;<span class="op" id="3908882">*</span><span class="ident" id="3908883">decoderState</span><span class="op" id="3908895">,</span>&nbsp;<span class="ident" id="3908897">v</span>&nbsp;<span class="ident" id="3908899">reflect</span><span class="op" id="3908906">.</span><span class="ident" id="3908907">Value</span><span class="op" id="3908912">,</span>&nbsp;<span class="ident" id="3908914">length</span>&nbsp;<span class="builtintype" id="3908921">int</span><span class="op" id="3908924">,</span>&nbsp;<span class="ident" id="3908926">ovfl</span>&nbsp;<span class="builtintype" id="3908931">error</span><span class="op" id="3908936">)</span>&nbsp;<span class="builtintype" id="3908938">bool</span>&nbsp;<span class="op" id="3908943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3908946">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3908987">if</span>&nbsp;<span class="op" id="3908990">!</span><span class="ident" id="3908991">v</span><span class="op" id="3908992">.</span><span class="ident" id="3908993">CanAddr</span><span class="op" id="3909000">(</span><span class="op" id="3909001">)</span>&nbsp;<span class="op" id="3909003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909007">return</span>&nbsp;<span class="builtintype" id="3909014">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3909021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909024">return</span>&nbsp;<span class="ident" id="3909031">decInt64Slice</span><span class="op" id="3909044">(</span><span class="ident" id="3909045">state</span><span class="op" id="3909050">,</span>&nbsp;<span class="ident" id="3909052">v</span><span class="op" id="3909053">.</span><span class="ident" id="3909054">Slice</span><span class="op" id="3909059">(</span><span class="num" id="3909060">0</span><span class="op" id="3909061">,</span>&nbsp;<span class="ident" id="3909063">v</span><span class="op" id="3909064">.</span><span class="ident" id="3909065">Len</span><span class="op" id="3909068">(</span><span class="op" id="3909069">)</span><span class="op" id="3909070">)</span><span class="op" id="3909071">,</span>&nbsp;<span class="ident" id="3909073">length</span><span class="op" id="3909079">,</span>&nbsp;<span class="ident" id="3909081">ovfl</span><span class="op" id="3909085">)</span><br>
<span class="lineno"></span><span class="op" id="3909087">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="3909090">func</span>&nbsp;<span class="ident" id="3909095">decInt64Slice</span><span class="op" id="3909108">(</span><span class="ident" id="3909109">state</span>&nbsp;<span class="op" id="3909115">*</span><span class="ident" id="3909116">decoderState</span><span class="op" id="3909128">,</span>&nbsp;<span class="ident" id="3909130">v</span>&nbsp;<span class="ident" id="3909132">reflect</span><span class="op" id="3909139">.</span><span class="ident" id="3909140">Value</span><span class="op" id="3909145">,</span>&nbsp;<span class="ident" id="3909147">length</span>&nbsp;<span class="builtintype" id="3909154">int</span><span class="op" id="3909157">,</span>&nbsp;<span class="ident" id="3909159">ovfl</span>&nbsp;<span class="builtintype" id="3909164">error</span><span class="op" id="3909169">)</span>&nbsp;<span class="builtintype" id="3909171">bool</span>&nbsp;<span class="op" id="3909176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3909179">slice</span><span class="op" id="3909184">,</span>&nbsp;<span class="ident" id="3909186">ok</span>&nbsp;<span class="op" id="3909189">:=</span>&nbsp;<span class="ident" id="3909192">v</span><span class="op" id="3909193">.</span><span class="ident" id="3909194">Interface</span><span class="op" id="3909203">(</span><span class="op" id="3909204">)</span><span class="op" id="3909205">.</span><span class="op" id="3909206">(</span><span class="op" id="3909207">[</span><span class="op" id="3909208">]</span><span class="ident" id="3909209">int64</span><span class="op" id="3909214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909217">if</span>&nbsp;<span class="op" id="3909220">!</span><span class="ident" id="3909221">ok</span>&nbsp;<span class="op" id="3909224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3909228">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909305">return</span>&nbsp;<span class="builtintype" id="3909312">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3909319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909322">for</span>&nbsp;<span class="ident" id="3909326">i</span>&nbsp;<span class="op" id="3909328">:=</span>&nbsp;<span class="num" id="3909331">0</span><span class="op" id="3909332">;</span>&nbsp;<span class="ident" id="3909334">i</span>&nbsp;<span class="op" id="3909336">&lt;</span>&nbsp;<span class="ident" id="3909338">length</span><span class="op" id="3909344">;</span>&nbsp;<span class="ident" id="3909346">i</span><span class="op" id="3909347">++</span>&nbsp;<span class="op" id="3909350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909354">if</span>&nbsp;<span class="ident" id="3909357">state</span><span class="op" id="3909362">.</span><span class="ident" id="3909363">b</span><span class="op" id="3909364">.</span><span class="ident" id="3909365">Len</span><span class="op" id="3909368">(</span><span class="op" id="3909369">)</span>&nbsp;<span class="op" id="3909371">==</span>&nbsp;<span class="num" id="3909374">0</span>&nbsp;<span class="op" id="3909376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3909381">errorf</span><span class="op" id="3909387">(</span><span class="string" id="3909388">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3909460">,</span>&nbsp;<span class="ident" id="3909462">length</span><span class="op" id="3909468">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3909472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3909476">slice</span><span class="op" id="3909481">[</span><span class="ident" id="3909482">i</span><span class="op" id="3909483">]</span>&nbsp;<span class="op" id="3909485">=</span>&nbsp;<span class="ident" id="3909487">state</span><span class="op" id="3909492">.</span><span class="ident" id="3909493">decodeInt</span><span class="op" id="3909502">(</span><span class="op" id="3909503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3909506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909509">return</span>&nbsp;<span class="builtintype" id="3909516">true</span><br>
<span class="lineno"></span><span class="op" id="3909521">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="3909524">func</span>&nbsp;<span class="ident" id="3909529">decInt8Array</span><span class="op" id="3909541">(</span><span class="ident" id="3909542">state</span>&nbsp;<span class="op" id="3909548">*</span><span class="ident" id="3909549">decoderState</span><span class="op" id="3909561">,</span>&nbsp;<span class="ident" id="3909563">v</span>&nbsp;<span class="ident" id="3909565">reflect</span><span class="op" id="3909572">.</span><span class="ident" id="3909573">Value</span><span class="op" id="3909578">,</span>&nbsp;<span class="ident" id="3909580">length</span>&nbsp;<span class="builtintype" id="3909587">int</span><span class="op" id="3909590">,</span>&nbsp;<span class="ident" id="3909592">ovfl</span>&nbsp;<span class="builtintype" id="3909597">error</span><span class="op" id="3909602">)</span>&nbsp;<span class="builtintype" id="3909604">bool</span>&nbsp;<span class="op" id="3909609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3909612">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909653">if</span>&nbsp;<span class="op" id="3909656">!</span><span class="ident" id="3909657">v</span><span class="op" id="3909658">.</span><span class="ident" id="3909659">CanAddr</span><span class="op" id="3909666">(</span><span class="op" id="3909667">)</span>&nbsp;<span class="op" id="3909669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909673">return</span>&nbsp;<span class="builtintype" id="3909680">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3909687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909690">return</span>&nbsp;<span class="ident" id="3909697">decInt8Slice</span><span class="op" id="3909709">(</span><span class="ident" id="3909710">state</span><span class="op" id="3909715">,</span>&nbsp;<span class="ident" id="3909717">v</span><span class="op" id="3909718">.</span><span class="ident" id="3909719">Slice</span><span class="op" id="3909724">(</span><span class="num" id="3909725">0</span><span class="op" id="3909726">,</span>&nbsp;<span class="ident" id="3909728">v</span><span class="op" id="3909729">.</span><span class="ident" id="3909730">Len</span><span class="op" id="3909733">(</span><span class="op" id="3909734">)</span><span class="op" id="3909735">)</span><span class="op" id="3909736">,</span>&nbsp;<span class="ident" id="3909738">length</span><span class="op" id="3909744">,</span>&nbsp;<span class="ident" id="3909746">ovfl</span><span class="op" id="3909750">)</span><br>
<span class="lineno"></span><span class="op" id="3909752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3909755">func</span>&nbsp;<span class="ident" id="3909760">decInt8Slice</span><span class="op" id="3909772">(</span><span class="ident" id="3909773">state</span>&nbsp;<span class="op" id="3909779">*</span><span class="ident" id="3909780">decoderState</span><span class="op" id="3909792">,</span>&nbsp;<span class="ident" id="3909794">v</span>&nbsp;<span class="ident" id="3909796">reflect</span><span class="op" id="3909803">.</span><span class="ident" id="3909804">Value</span><span class="op" id="3909809">,</span>&nbsp;<span class="ident" id="3909811">length</span>&nbsp;<span class="builtintype" id="3909818">int</span><span class="op" id="3909821">,</span>&nbsp;<span class="ident" id="3909823">ovfl</span>&nbsp;<span class="builtintype" id="3909828">error</span><span class="op" id="3909833">)</span>&nbsp;<span class="builtintype" id="3909835">bool</span>&nbsp;<span class="op" id="3909840">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3909843">slice</span><span class="op" id="3909848">,</span>&nbsp;<span class="ident" id="3909850">ok</span>&nbsp;<span class="op" id="3909853">:=</span>&nbsp;<span class="ident" id="3909856">v</span><span class="op" id="3909857">.</span><span class="ident" id="3909858">Interface</span><span class="op" id="3909867">(</span><span class="op" id="3909868">)</span><span class="op" id="3909869">.</span><span class="op" id="3909870">(</span><span class="op" id="3909871">[</span><span class="op" id="3909872">]</span><span class="builtintype" id="3909873">int8</span><span class="op" id="3909877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909880">if</span>&nbsp;<span class="op" id="3909883">!</span><span class="ident" id="3909884">ok</span>&nbsp;<span class="op" id="3909887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3909891">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909966">return</span>&nbsp;<span class="builtintype" id="3909973">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3909980">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3909983">for</span>&nbsp;<span class="ident" id="3909987">i</span>&nbsp;<span class="op" id="3909989">:=</span>&nbsp;<span class="num" id="3909992">0</span><span class="op" id="3909993">;</span>&nbsp;<span class="ident" id="3909995">i</span>&nbsp;<span class="op" id="3909997">&lt;</span>&nbsp;<span class="ident" id="3909999">length</span><span class="op" id="3910005">;</span>&nbsp;<span class="ident" id="3910007">i</span><span class="op" id="3910008">++</span>&nbsp;<span class="op" id="3910011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910015">if</span>&nbsp;<span class="ident" id="3910018">state</span><span class="op" id="3910023">.</span><span class="ident" id="3910024">b</span><span class="op" id="3910025">.</span><span class="ident" id="3910026">Len</span><span class="op" id="3910029">(</span><span class="op" id="3910030">)</span>&nbsp;<span class="op" id="3910032">==</span>&nbsp;<span class="num" id="3910035">0</span>&nbsp;<span class="op" id="3910037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910042">errorf</span><span class="op" id="3910048">(</span><span class="string" id="3910049">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3910120">,</span>&nbsp;<span class="ident" id="3910122">length</span><span class="op" id="3910128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3910132">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910136">x</span>&nbsp;<span class="op" id="3910138">:=</span>&nbsp;<span class="ident" id="3910141">state</span><span class="op" id="3910146">.</span><span class="ident" id="3910147">decodeInt</span><span class="op" id="3910156">(</span><span class="op" id="3910157">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910161">if</span>&nbsp;<span class="ident" id="3910164">x</span>&nbsp;<span class="op" id="3910166">&lt;</span>&nbsp;<span class="ident" id="3910168">math</span><span class="op" id="3910172">.</span><span class="ident" id="3910173">MinInt8</span>&nbsp;<span class="op" id="3910181">||</span>&nbsp;<span class="ident" id="3910184">math</span><span class="op" id="3910188">.</span><span class="ident" id="3910189">MaxInt8</span>&nbsp;<span class="op" id="3910197">&lt;</span>&nbsp;<span class="ident" id="3910199">x</span>&nbsp;<span class="op" id="3910201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910206">error_</span><span class="op" id="3910212">(</span><span class="ident" id="3910213">ovfl</span><span class="op" id="3910217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3910221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910225">slice</span><span class="op" id="3910230">[</span><span class="ident" id="3910231">i</span><span class="op" id="3910232">]</span>&nbsp;<span class="op" id="3910234">=</span>&nbsp;<span class="builtintype" id="3910236">int8</span><span class="op" id="3910240">(</span><span class="ident" id="3910241">x</span><span class="op" id="3910242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3910245">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910248">return</span>&nbsp;<span class="builtintype" id="3910255">true</span><br>
<span class="lineno"></span><span class="op" id="3910260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3910263">func</span>&nbsp;<span class="ident" id="3910268">decStringArray</span><span class="op" id="3910282">(</span><span class="ident" id="3910283">state</span>&nbsp;<span class="op" id="3910289">*</span><span class="ident" id="3910290">decoderState</span><span class="op" id="3910302">,</span>&nbsp;<span class="ident" id="3910304">v</span>&nbsp;<span class="ident" id="3910306">reflect</span><span class="op" id="3910313">.</span><span class="ident" id="3910314">Value</span><span class="op" id="3910319">,</span>&nbsp;<span class="ident" id="3910321">length</span>&nbsp;<span class="builtintype" id="3910328">int</span><span class="op" id="3910331">,</span>&nbsp;<span class="ident" id="3910333">ovfl</span>&nbsp;<span class="builtintype" id="3910338">error</span><span class="op" id="3910343">)</span>&nbsp;<span class="builtintype" id="3910345">bool</span>&nbsp;<span class="op" id="3910350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3910353">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910394">if</span>&nbsp;<span class="op" id="3910397">!</span><span class="ident" id="3910398">v</span><span class="op" id="3910399">.</span><span class="ident" id="3910400">CanAddr</span><span class="op" id="3910407">(</span><span class="op" id="3910408">)</span>&nbsp;<span class="op" id="3910410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910414">return</span>&nbsp;<span class="builtintype" id="3910421">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3910428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910431">return</span>&nbsp;<span class="ident" id="3910438">decStringSlice</span><span class="op" id="3910452">(</span><span class="ident" id="3910453">state</span><span class="op" id="3910458">,</span>&nbsp;<span class="ident" id="3910460">v</span><span class="op" id="3910461">.</span><span class="ident" id="3910462">Slice</span><span class="op" id="3910467">(</span><span class="num" id="3910468">0</span><span class="op" id="3910469">,</span>&nbsp;<span class="ident" id="3910471">v</span><span class="op" id="3910472">.</span><span class="ident" id="3910473">Len</span><span class="op" id="3910476">(</span><span class="op" id="3910477">)</span><span class="op" id="3910478">)</span><span class="op" id="3910479">,</span>&nbsp;<span class="ident" id="3910481">length</span><span class="op" id="3910487">,</span>&nbsp;<span class="ident" id="3910489">ovfl</span><span class="op" id="3910493">)</span><br>
<span class="lineno"></span><span class="op" id="3910495">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="3910498">func</span>&nbsp;<span class="ident" id="3910503">decStringSlice</span><span class="op" id="3910517">(</span><span class="ident" id="3910518">state</span>&nbsp;<span class="op" id="3910524">*</span><span class="ident" id="3910525">decoderState</span><span class="op" id="3910537">,</span>&nbsp;<span class="ident" id="3910539">v</span>&nbsp;<span class="ident" id="3910541">reflect</span><span class="op" id="3910548">.</span><span class="ident" id="3910549">Value</span><span class="op" id="3910554">,</span>&nbsp;<span class="ident" id="3910556">length</span>&nbsp;<span class="builtintype" id="3910563">int</span><span class="op" id="3910566">,</span>&nbsp;<span class="ident" id="3910568">ovfl</span>&nbsp;<span class="builtintype" id="3910573">error</span><span class="op" id="3910578">)</span>&nbsp;<span class="builtintype" id="3910580">bool</span>&nbsp;<span class="op" id="3910585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910588">slice</span><span class="op" id="3910593">,</span>&nbsp;<span class="ident" id="3910595">ok</span>&nbsp;<span class="op" id="3910598">:=</span>&nbsp;<span class="ident" id="3910601">v</span><span class="op" id="3910602">.</span><span class="ident" id="3910603">Interface</span><span class="op" id="3910612">(</span><span class="op" id="3910613">)</span><span class="op" id="3910614">.</span><span class="op" id="3910615">(</span><span class="op" id="3910616">[</span><span class="op" id="3910617">]</span><span class="builtintype" id="3910618">string</span><span class="op" id="3910624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910627">if</span>&nbsp;<span class="op" id="3910630">!</span><span class="ident" id="3910631">ok</span>&nbsp;<span class="op" id="3910634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3910638">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910717">return</span>&nbsp;<span class="builtintype" id="3910724">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3910731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910734">for</span>&nbsp;<span class="ident" id="3910738">i</span>&nbsp;<span class="op" id="3910740">:=</span>&nbsp;<span class="num" id="3910743">0</span><span class="op" id="3910744">;</span>&nbsp;<span class="ident" id="3910746">i</span>&nbsp;<span class="op" id="3910748">&lt;</span>&nbsp;<span class="ident" id="3910750">length</span><span class="op" id="3910756">;</span>&nbsp;<span class="ident" id="3910758">i</span><span class="op" id="3910759">++</span>&nbsp;<span class="op" id="3910762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910766">if</span>&nbsp;<span class="ident" id="3910769">state</span><span class="op" id="3910774">.</span><span class="ident" id="3910775">b</span><span class="op" id="3910776">.</span><span class="ident" id="3910777">Len</span><span class="op" id="3910780">(</span><span class="op" id="3910781">)</span>&nbsp;<span class="op" id="3910783">==</span>&nbsp;<span class="num" id="3910786">0</span>&nbsp;<span class="op" id="3910788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910793">errorf</span><span class="op" id="3910799">(</span><span class="string" id="3910800">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3910873">,</span>&nbsp;<span class="ident" id="3910875">length</span><span class="op" id="3910881">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3910885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910889">u</span>&nbsp;<span class="op" id="3910891">:=</span>&nbsp;<span class="ident" id="3910894">state</span><span class="op" id="3910899">.</span><span class="ident" id="3910900">decodeUint</span><span class="op" id="3910910">(</span><span class="op" id="3910911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910915">n</span>&nbsp;<span class="op" id="3910917">:=</span>&nbsp;<span class="builtintype" id="3910920">int</span><span class="op" id="3910923">(</span><span class="ident" id="3910924">u</span><span class="op" id="3910925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3910929">if</span>&nbsp;<span class="ident" id="3910932">n</span>&nbsp;<span class="op" id="3910934">&lt;</span>&nbsp;<span class="num" id="3910936">0</span>&nbsp;<span class="op" id="3910938">||</span>&nbsp;<span class="ident" id="3910941">uint64</span><span class="op" id="3910947">(</span><span class="ident" id="3910948">n</span><span class="op" id="3910949">)</span>&nbsp;<span class="op" id="3910951">!=</span>&nbsp;<span class="ident" id="3910954">u</span>&nbsp;<span class="op" id="3910956">||</span>&nbsp;<span class="ident" id="3910959">n</span>&nbsp;<span class="op" id="3910961">&gt;</span>&nbsp;<span class="ident" id="3910963">state</span><span class="op" id="3910968">.</span><span class="ident" id="3910969">b</span><span class="op" id="3910970">.</span><span class="ident" id="3910971">Len</span><span class="op" id="3910974">(</span><span class="op" id="3910975">)</span>&nbsp;<span class="op" id="3910977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3910982">errorf</span><span class="op" id="3910988">(</span><span class="string" id="3910989">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="3911037">,</span>&nbsp;<span class="ident" id="3911039">u</span><span class="op" id="3911040">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3911044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911048">if</span>&nbsp;<span class="ident" id="3911051">n</span>&nbsp;<span class="op" id="3911053">&gt;</span>&nbsp;<span class="ident" id="3911055">state</span><span class="op" id="3911060">.</span><span class="ident" id="3911061">b</span><span class="op" id="3911062">.</span><span class="ident" id="3911063">Len</span><span class="op" id="3911066">(</span><span class="op" id="3911067">)</span>&nbsp;<span class="op" id="3911069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3911074">errorf</span><span class="op" id="3911080">(</span><span class="string" id="3911081">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="3911118">,</span>&nbsp;<span class="ident" id="3911120">n</span><span class="op" id="3911121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3911125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3911129">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3911149">data</span>&nbsp;<span class="op" id="3911154">:=</span>&nbsp;<span class="builtinfunc" id="3911157">make</span><span class="op" id="3911161">(</span><span class="op" id="3911162">[</span><span class="op" id="3911163">]</span><span class="builtintype" id="3911164">byte</span><span class="op" id="3911168">,</span>&nbsp;<span class="ident" id="3911170">n</span><span class="op" id="3911171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911175">if</span>&nbsp;<span class="ident" id="3911178">_</span><span class="op" id="3911179">,</span>&nbsp;<span class="ident" id="3911181">err</span>&nbsp;<span class="op" id="3911185">:=</span>&nbsp;<span class="ident" id="3911188">state</span><span class="op" id="3911193">.</span><span class="ident" id="3911194">b</span><span class="op" id="3911195">.</span><span class="ident" id="3911196">Read</span><span class="op" id="3911200">(</span><span class="ident" id="3911201">data</span><span class="op" id="3911205">)</span><span class="op" id="3911206">;</span>&nbsp;<span class="ident" id="3911208">err</span>&nbsp;<span class="op" id="3911212">!=</span>&nbsp;<span class="ident" id="3911215">nil</span>&nbsp;<span class="op" id="3911219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3911224">errorf</span><span class="op" id="3911230">(</span><span class="string" id="3911231">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="3911258">,</span>&nbsp;<span class="ident" id="3911260">err</span><span class="op" id="3911263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3911267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3911271">slice</span><span class="op" id="3911276">[</span><span class="ident" id="3911277">i</span><span class="op" id="3911278">]</span>&nbsp;<span class="op" id="3911280">=</span>&nbsp;<span class="builtintype" id="3911282">string</span><span class="op" id="3911288">(</span><span class="ident" id="3911289">data</span><span class="op" id="3911293">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3911296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911299">return</span>&nbsp;<span class="builtintype" id="3911306">true</span><br>
<span class="lineno"></span><span class="op" id="3911311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3911314">func</span>&nbsp;<span class="ident" id="3911319">decUintArray</span><span class="op" id="3911331">(</span><span class="ident" id="3911332">state</span>&nbsp;<span class="op" id="3911338">*</span><span class="ident" id="3911339">decoderState</span><span class="op" id="3911351">,</span>&nbsp;<span class="ident" id="3911353">v</span>&nbsp;<span class="ident" id="3911355">reflect</span><span class="op" id="3911362">.</span><span class="ident" id="3911363">Value</span><span class="op" id="3911368">,</span>&nbsp;<span class="ident" id="3911370">length</span>&nbsp;<span class="builtintype" id="3911377">int</span><span class="op" id="3911380">,</span>&nbsp;<span class="ident" id="3911382">ovfl</span>&nbsp;<span class="builtintype" id="3911387">error</span><span class="op" id="3911392">)</span>&nbsp;<span class="builtintype" id="3911394">bool</span>&nbsp;<span class="op" id="3911399">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3911402">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911443">if</span>&nbsp;<span class="op" id="3911446">!</span><span class="ident" id="3911447">v</span><span class="op" id="3911448">.</span><span class="ident" id="3911449">CanAddr</span><span class="op" id="3911456">(</span><span class="op" id="3911457">)</span>&nbsp;<span class="op" id="3911459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911463">return</span>&nbsp;<span class="builtintype" id="3911470">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3911477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911480">return</span>&nbsp;<span class="ident" id="3911487">decUintSlice</span><span class="op" id="3911499">(</span><span class="ident" id="3911500">state</span><span class="op" id="3911505">,</span>&nbsp;<span class="ident" id="3911507">v</span><span class="op" id="3911508">.</span><span class="ident" id="3911509">Slice</span><span class="op" id="3911514">(</span><span class="num" id="3911515">0</span><span class="op" id="3911516">,</span>&nbsp;<span class="ident" id="3911518">v</span><span class="op" id="3911519">.</span><span class="ident" id="3911520">Len</span><span class="op" id="3911523">(</span><span class="op" id="3911524">)</span><span class="op" id="3911525">)</span><span class="op" id="3911526">,</span>&nbsp;<span class="ident" id="3911528">length</span><span class="op" id="3911534">,</span>&nbsp;<span class="ident" id="3911536">ovfl</span><span class="op" id="3911540">)</span><br>
<span class="lineno">345</span><span class="op" id="3911542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3911545">func</span>&nbsp;<span class="ident" id="3911550">decUintSlice</span><span class="op" id="3911562">(</span><span class="ident" id="3911563">state</span>&nbsp;<span class="op" id="3911569">*</span><span class="ident" id="3911570">decoderState</span><span class="op" id="3911582">,</span>&nbsp;<span class="ident" id="3911584">v</span>&nbsp;<span class="ident" id="3911586">reflect</span><span class="op" id="3911593">.</span><span class="ident" id="3911594">Value</span><span class="op" id="3911599">,</span>&nbsp;<span class="ident" id="3911601">length</span>&nbsp;<span class="builtintype" id="3911608">int</span><span class="op" id="3911611">,</span>&nbsp;<span class="ident" id="3911613">ovfl</span>&nbsp;<span class="builtintype" id="3911618">error</span><span class="op" id="3911623">)</span>&nbsp;<span class="builtintype" id="3911625">bool</span>&nbsp;<span class="op" id="3911630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3911633">slice</span><span class="op" id="3911638">,</span>&nbsp;<span class="ident" id="3911640">ok</span>&nbsp;<span class="op" id="3911643">:=</span>&nbsp;<span class="ident" id="3911646">v</span><span class="op" id="3911647">.</span><span class="ident" id="3911648">Interface</span><span class="op" id="3911657">(</span><span class="op" id="3911658">)</span><span class="op" id="3911659">.</span><span class="op" id="3911660">(</span><span class="op" id="3911661">[</span><span class="op" id="3911662">]</span><span class="builtintype" id="3911663">uint</span><span class="op" id="3911667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911670">if</span>&nbsp;<span class="op" id="3911673">!</span><span class="ident" id="3911674">ok</span>&nbsp;<span class="op" id="3911677">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3911681">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911756">return</span>&nbsp;<span class="builtintype" id="3911763">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3911770">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911773">for</span>&nbsp;<span class="ident" id="3911777">i</span>&nbsp;<span class="op" id="3911779">:=</span>&nbsp;<span class="num" id="3911782">0</span><span class="op" id="3911783">;</span>&nbsp;<span class="ident" id="3911785">i</span>&nbsp;<span class="op" id="3911787">&lt;</span>&nbsp;<span class="ident" id="3911789">length</span><span class="op" id="3911795">;</span>&nbsp;<span class="ident" id="3911797">i</span><span class="op" id="3911798">++</span>&nbsp;<span class="op" id="3911801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3911805">if</span>&nbsp;<span class="ident" id="3911808">state</span><span class="op" id="3911813">.</span><span class="ident" id="3911814">b</span><span class="op" id="3911815">.</span><span class="ident" id="3911816">Len</span><span class="op" id="3911819">(</span><span class="op" id="3911820">)</span>&nbsp;<span class="op" id="3911822">==</span>&nbsp;<span class="num" id="3911825">0</span>&nbsp;<span class="op" id="3911827">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3911832">errorf</span><span class="op" id="3911838">(</span><span class="string" id="3911839">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3911910">,</span>&nbsp;<span class="ident" id="3911912">length</span><span class="op" id="3911918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3911922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3911926">x</span>&nbsp;<span class="op" id="3911928">:=</span>&nbsp;<span class="ident" id="3911931">state</span><span class="op" id="3911936">.</span><span class="ident" id="3911937">decodeUint</span><span class="op" id="3911947">(</span><span class="op" id="3911948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3911952">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3912007">slice</span><span class="op" id="3912012">[</span><span class="ident" id="3912013">i</span><span class="op" id="3912014">]</span>&nbsp;<span class="op" id="3912016">=</span>&nbsp;<span class="builtintype" id="3912018">uint</span><span class="op" id="3912022">(</span><span class="ident" id="3912023">x</span><span class="op" id="3912024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3912027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912030">return</span>&nbsp;<span class="builtintype" id="3912037">true</span><br>
<span class="lineno"></span><span class="op" id="3912042">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="3912045">func</span>&nbsp;<span class="ident" id="3912050">decUint16Array</span><span class="op" id="3912064">(</span><span class="ident" id="3912065">state</span>&nbsp;<span class="op" id="3912071">*</span><span class="ident" id="3912072">decoderState</span><span class="op" id="3912084">,</span>&nbsp;<span class="ident" id="3912086">v</span>&nbsp;<span class="ident" id="3912088">reflect</span><span class="op" id="3912095">.</span><span class="ident" id="3912096">Value</span><span class="op" id="3912101">,</span>&nbsp;<span class="ident" id="3912103">length</span>&nbsp;<span class="builtintype" id="3912110">int</span><span class="op" id="3912113">,</span>&nbsp;<span class="ident" id="3912115">ovfl</span>&nbsp;<span class="builtintype" id="3912120">error</span><span class="op" id="3912125">)</span>&nbsp;<span class="builtintype" id="3912127">bool</span>&nbsp;<span class="op" id="3912132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3912135">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912176">if</span>&nbsp;<span class="op" id="3912179">!</span><span class="ident" id="3912180">v</span><span class="op" id="3912181">.</span><span class="ident" id="3912182">CanAddr</span><span class="op" id="3912189">(</span><span class="op" id="3912190">)</span>&nbsp;<span class="op" id="3912192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912196">return</span>&nbsp;<span class="builtintype" id="3912203">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3912210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912213">return</span>&nbsp;<span class="ident" id="3912220">decUint16Slice</span><span class="op" id="3912234">(</span><span class="ident" id="3912235">state</span><span class="op" id="3912240">,</span>&nbsp;<span class="ident" id="3912242">v</span><span class="op" id="3912243">.</span><span class="ident" id="3912244">Slice</span><span class="op" id="3912249">(</span><span class="num" id="3912250">0</span><span class="op" id="3912251">,</span>&nbsp;<span class="ident" id="3912253">v</span><span class="op" id="3912254">.</span><span class="ident" id="3912255">Len</span><span class="op" id="3912258">(</span><span class="op" id="3912259">)</span><span class="op" id="3912260">)</span><span class="op" id="3912261">,</span>&nbsp;<span class="ident" id="3912263">length</span><span class="op" id="3912269">,</span>&nbsp;<span class="ident" id="3912271">ovfl</span><span class="op" id="3912275">)</span><br>
<span class="lineno"></span><span class="op" id="3912277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3912280">func</span>&nbsp;<span class="ident" id="3912285">decUint16Slice</span><span class="op" id="3912299">(</span><span class="ident" id="3912300">state</span>&nbsp;<span class="op" id="3912306">*</span><span class="ident" id="3912307">decoderState</span><span class="op" id="3912319">,</span>&nbsp;<span class="ident" id="3912321">v</span>&nbsp;<span class="ident" id="3912323">reflect</span><span class="op" id="3912330">.</span><span class="ident" id="3912331">Value</span><span class="op" id="3912336">,</span>&nbsp;<span class="ident" id="3912338">length</span>&nbsp;<span class="builtintype" id="3912345">int</span><span class="op" id="3912348">,</span>&nbsp;<span class="ident" id="3912350">ovfl</span>&nbsp;<span class="builtintype" id="3912355">error</span><span class="op" id="3912360">)</span>&nbsp;<span class="builtintype" id="3912362">bool</span>&nbsp;<span class="op" id="3912367">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3912370">slice</span><span class="op" id="3912375">,</span>&nbsp;<span class="ident" id="3912377">ok</span>&nbsp;<span class="op" id="3912380">:=</span>&nbsp;<span class="ident" id="3912383">v</span><span class="op" id="3912384">.</span><span class="ident" id="3912385">Interface</span><span class="op" id="3912394">(</span><span class="op" id="3912395">)</span><span class="op" id="3912396">.</span><span class="op" id="3912397">(</span><span class="op" id="3912398">[</span><span class="op" id="3912399">]</span><span class="builtintype" id="3912400">uint16</span><span class="op" id="3912406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912409">if</span>&nbsp;<span class="op" id="3912412">!</span><span class="ident" id="3912413">ok</span>&nbsp;<span class="op" id="3912416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3912420">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912499">return</span>&nbsp;<span class="builtintype" id="3912506">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3912513">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912516">for</span>&nbsp;<span class="ident" id="3912520">i</span>&nbsp;<span class="op" id="3912522">:=</span>&nbsp;<span class="num" id="3912525">0</span><span class="op" id="3912526">;</span>&nbsp;<span class="ident" id="3912528">i</span>&nbsp;<span class="op" id="3912530">&lt;</span>&nbsp;<span class="ident" id="3912532">length</span><span class="op" id="3912538">;</span>&nbsp;<span class="ident" id="3912540">i</span><span class="op" id="3912541">++</span>&nbsp;<span class="op" id="3912544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912548">if</span>&nbsp;<span class="ident" id="3912551">state</span><span class="op" id="3912556">.</span><span class="ident" id="3912557">b</span><span class="op" id="3912558">.</span><span class="ident" id="3912559">Len</span><span class="op" id="3912562">(</span><span class="op" id="3912563">)</span>&nbsp;<span class="op" id="3912565">==</span>&nbsp;<span class="num" id="3912568">0</span>&nbsp;<span class="op" id="3912570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3912575">errorf</span><span class="op" id="3912581">(</span><span class="string" id="3912582">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3912655">,</span>&nbsp;<span class="ident" id="3912657">length</span><span class="op" id="3912663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3912667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3912671">x</span>&nbsp;<span class="op" id="3912673">:=</span>&nbsp;<span class="ident" id="3912676">state</span><span class="op" id="3912681">.</span><span class="ident" id="3912682">decodeUint</span><span class="op" id="3912692">(</span><span class="op" id="3912693">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912697">if</span>&nbsp;<span class="ident" id="3912700">math</span><span class="op" id="3912704">.</span><span class="ident" id="3912705">MaxUint16</span>&nbsp;<span class="op" id="3912715">&lt;</span>&nbsp;<span class="ident" id="3912717">x</span>&nbsp;<span class="op" id="3912719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3912724">error_</span><span class="op" id="3912730">(</span><span class="ident" id="3912731">ovfl</span><span class="op" id="3912735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3912739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3912743">slice</span><span class="op" id="3912748">[</span><span class="ident" id="3912749">i</span><span class="op" id="3912750">]</span>&nbsp;<span class="op" id="3912752">=</span>&nbsp;<span class="builtintype" id="3912754">uint16</span><span class="op" id="3912760">(</span><span class="ident" id="3912761">x</span><span class="op" id="3912762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3912765">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912768">return</span>&nbsp;<span class="builtintype" id="3912775">true</span><br>
<span class="lineno"></span><span class="op" id="3912780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3912783">func</span>&nbsp;<span class="ident" id="3912788">decUint32Array</span><span class="op" id="3912802">(</span><span class="ident" id="3912803">state</span>&nbsp;<span class="op" id="3912809">*</span><span class="ident" id="3912810">decoderState</span><span class="op" id="3912822">,</span>&nbsp;<span class="ident" id="3912824">v</span>&nbsp;<span class="ident" id="3912826">reflect</span><span class="op" id="3912833">.</span><span class="ident" id="3912834">Value</span><span class="op" id="3912839">,</span>&nbsp;<span class="ident" id="3912841">length</span>&nbsp;<span class="builtintype" id="3912848">int</span><span class="op" id="3912851">,</span>&nbsp;<span class="ident" id="3912853">ovfl</span>&nbsp;<span class="builtintype" id="3912858">error</span><span class="op" id="3912863">)</span>&nbsp;<span class="builtintype" id="3912865">bool</span>&nbsp;<span class="op" id="3912870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3912873">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912914">if</span>&nbsp;<span class="op" id="3912917">!</span><span class="ident" id="3912918">v</span><span class="op" id="3912919">.</span><span class="ident" id="3912920">CanAddr</span><span class="op" id="3912927">(</span><span class="op" id="3912928">)</span>&nbsp;<span class="op" id="3912930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912934">return</span>&nbsp;<span class="builtintype" id="3912941">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3912948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3912951">return</span>&nbsp;<span class="ident" id="3912958">decUint32Slice</span><span class="op" id="3912972">(</span><span class="ident" id="3912973">state</span><span class="op" id="3912978">,</span>&nbsp;<span class="ident" id="3912980">v</span><span class="op" id="3912981">.</span><span class="ident" id="3912982">Slice</span><span class="op" id="3912987">(</span><span class="num" id="3912988">0</span><span class="op" id="3912989">,</span>&nbsp;<span class="ident" id="3912991">v</span><span class="op" id="3912992">.</span><span class="ident" id="3912993">Len</span><span class="op" id="3912996">(</span><span class="op" id="3912997">)</span><span class="op" id="3912998">)</span><span class="op" id="3912999">,</span>&nbsp;<span class="ident" id="3913001">length</span><span class="op" id="3913007">,</span>&nbsp;<span class="ident" id="3913009">ovfl</span><span class="op" id="3913013">)</span><br>
<span class="lineno"></span><span class="op" id="3913015">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="3913018">func</span>&nbsp;<span class="ident" id="3913023">decUint32Slice</span><span class="op" id="3913037">(</span><span class="ident" id="3913038">state</span>&nbsp;<span class="op" id="3913044">*</span><span class="ident" id="3913045">decoderState</span><span class="op" id="3913057">,</span>&nbsp;<span class="ident" id="3913059">v</span>&nbsp;<span class="ident" id="3913061">reflect</span><span class="op" id="3913068">.</span><span class="ident" id="3913069">Value</span><span class="op" id="3913074">,</span>&nbsp;<span class="ident" id="3913076">length</span>&nbsp;<span class="builtintype" id="3913083">int</span><span class="op" id="3913086">,</span>&nbsp;<span class="ident" id="3913088">ovfl</span>&nbsp;<span class="builtintype" id="3913093">error</span><span class="op" id="3913098">)</span>&nbsp;<span class="builtintype" id="3913100">bool</span>&nbsp;<span class="op" id="3913105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3913108">slice</span><span class="op" id="3913113">,</span>&nbsp;<span class="ident" id="3913115">ok</span>&nbsp;<span class="op" id="3913118">:=</span>&nbsp;<span class="ident" id="3913121">v</span><span class="op" id="3913122">.</span><span class="ident" id="3913123">Interface</span><span class="op" id="3913132">(</span><span class="op" id="3913133">)</span><span class="op" id="3913134">.</span><span class="op" id="3913135">(</span><span class="op" id="3913136">[</span><span class="op" id="3913137">]</span><span class="builtintype" id="3913138">uint32</span><span class="op" id="3913144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913147">if</span>&nbsp;<span class="op" id="3913150">!</span><span class="ident" id="3913151">ok</span>&nbsp;<span class="op" id="3913154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3913158">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913237">return</span>&nbsp;<span class="builtintype" id="3913244">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3913251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913254">for</span>&nbsp;<span class="ident" id="3913258">i</span>&nbsp;<span class="op" id="3913260">:=</span>&nbsp;<span class="num" id="3913263">0</span><span class="op" id="3913264">;</span>&nbsp;<span class="ident" id="3913266">i</span>&nbsp;<span class="op" id="3913268">&lt;</span>&nbsp;<span class="ident" id="3913270">length</span><span class="op" id="3913276">;</span>&nbsp;<span class="ident" id="3913278">i</span><span class="op" id="3913279">++</span>&nbsp;<span class="op" id="3913282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913286">if</span>&nbsp;<span class="ident" id="3913289">state</span><span class="op" id="3913294">.</span><span class="ident" id="3913295">b</span><span class="op" id="3913296">.</span><span class="ident" id="3913297">Len</span><span class="op" id="3913300">(</span><span class="op" id="3913301">)</span>&nbsp;<span class="op" id="3913303">==</span>&nbsp;<span class="num" id="3913306">0</span>&nbsp;<span class="op" id="3913308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3913313">errorf</span><span class="op" id="3913319">(</span><span class="string" id="3913320">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3913393">,</span>&nbsp;<span class="ident" id="3913395">length</span><span class="op" id="3913401">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3913405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3913409">x</span>&nbsp;<span class="op" id="3913411">:=</span>&nbsp;<span class="ident" id="3913414">state</span><span class="op" id="3913419">.</span><span class="ident" id="3913420">decodeUint</span><span class="op" id="3913430">(</span><span class="op" id="3913431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913435">if</span>&nbsp;<span class="ident" id="3913438">math</span><span class="op" id="3913442">.</span><span class="ident" id="3913443">MaxUint32</span>&nbsp;<span class="op" id="3913453">&lt;</span>&nbsp;<span class="ident" id="3913455">x</span>&nbsp;<span class="op" id="3913457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3913462">error_</span><span class="op" id="3913468">(</span><span class="ident" id="3913469">ovfl</span><span class="op" id="3913473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3913477">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3913481">slice</span><span class="op" id="3913486">[</span><span class="ident" id="3913487">i</span><span class="op" id="3913488">]</span>&nbsp;<span class="op" id="3913490">=</span>&nbsp;<span class="builtintype" id="3913492">uint32</span><span class="op" id="3913498">(</span><span class="ident" id="3913499">x</span><span class="op" id="3913500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3913503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913506">return</span>&nbsp;<span class="builtintype" id="3913513">true</span><br>
<span class="lineno"></span><span class="op" id="3913518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="3913521">func</span>&nbsp;<span class="ident" id="3913526">decUint64Array</span><span class="op" id="3913540">(</span><span class="ident" id="3913541">state</span>&nbsp;<span class="op" id="3913547">*</span><span class="ident" id="3913548">decoderState</span><span class="op" id="3913560">,</span>&nbsp;<span class="ident" id="3913562">v</span>&nbsp;<span class="ident" id="3913564">reflect</span><span class="op" id="3913571">.</span><span class="ident" id="3913572">Value</span><span class="op" id="3913577">,</span>&nbsp;<span class="ident" id="3913579">length</span>&nbsp;<span class="builtintype" id="3913586">int</span><span class="op" id="3913589">,</span>&nbsp;<span class="ident" id="3913591">ovfl</span>&nbsp;<span class="builtintype" id="3913596">error</span><span class="op" id="3913601">)</span>&nbsp;<span class="builtintype" id="3913603">bool</span>&nbsp;<span class="op" id="3913608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3913611">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913652">if</span>&nbsp;<span class="op" id="3913655">!</span><span class="ident" id="3913656">v</span><span class="op" id="3913657">.</span><span class="ident" id="3913658">CanAddr</span><span class="op" id="3913665">(</span><span class="op" id="3913666">)</span>&nbsp;<span class="op" id="3913668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913672">return</span>&nbsp;<span class="builtintype" id="3913679">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3913686">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913689">return</span>&nbsp;<span class="ident" id="3913696">decUint64Slice</span><span class="op" id="3913710">(</span><span class="ident" id="3913711">state</span><span class="op" id="3913716">,</span>&nbsp;<span class="ident" id="3913718">v</span><span class="op" id="3913719">.</span><span class="ident" id="3913720">Slice</span><span class="op" id="3913725">(</span><span class="num" id="3913726">0</span><span class="op" id="3913727">,</span>&nbsp;<span class="ident" id="3913729">v</span><span class="op" id="3913730">.</span><span class="ident" id="3913731">Len</span><span class="op" id="3913734">(</span><span class="op" id="3913735">)</span><span class="op" id="3913736">)</span><span class="op" id="3913737">,</span>&nbsp;<span class="ident" id="3913739">length</span><span class="op" id="3913745">,</span>&nbsp;<span class="ident" id="3913747">ovfl</span><span class="op" id="3913751">)</span><br>
<span class="lineno"></span><span class="op" id="3913753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3913756">func</span>&nbsp;<span class="ident" id="3913761">decUint64Slice</span><span class="op" id="3913775">(</span><span class="ident" id="3913776">state</span>&nbsp;<span class="op" id="3913782">*</span><span class="ident" id="3913783">decoderState</span><span class="op" id="3913795">,</span>&nbsp;<span class="ident" id="3913797">v</span>&nbsp;<span class="ident" id="3913799">reflect</span><span class="op" id="3913806">.</span><span class="ident" id="3913807">Value</span><span class="op" id="3913812">,</span>&nbsp;<span class="ident" id="3913814">length</span>&nbsp;<span class="builtintype" id="3913821">int</span><span class="op" id="3913824">,</span>&nbsp;<span class="ident" id="3913826">ovfl</span>&nbsp;<span class="builtintype" id="3913831">error</span><span class="op" id="3913836">)</span>&nbsp;<span class="builtintype" id="3913838">bool</span>&nbsp;<span class="op" id="3913843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3913846">slice</span><span class="op" id="3913851">,</span>&nbsp;<span class="ident" id="3913853">ok</span>&nbsp;<span class="op" id="3913856">:=</span>&nbsp;<span class="ident" id="3913859">v</span><span class="op" id="3913860">.</span><span class="ident" id="3913861">Interface</span><span class="op" id="3913870">(</span><span class="op" id="3913871">)</span><span class="op" id="3913872">.</span><span class="op" id="3913873">(</span><span class="op" id="3913874">[</span><span class="op" id="3913875">]</span><span class="ident" id="3913876">uint64</span><span class="op" id="3913882">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913885">if</span>&nbsp;<span class="op" id="3913888">!</span><span class="ident" id="3913889">ok</span>&nbsp;<span class="op" id="3913892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3913896">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913975">return</span>&nbsp;<span class="builtintype" id="3913982">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3913989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3913992">for</span>&nbsp;<span class="ident" id="3913996">i</span>&nbsp;<span class="op" id="3913998">:=</span>&nbsp;<span class="num" id="3914001">0</span><span class="op" id="3914002">;</span>&nbsp;<span class="ident" id="3914004">i</span>&nbsp;<span class="op" id="3914006">&lt;</span>&nbsp;<span class="ident" id="3914008">length</span><span class="op" id="3914014">;</span>&nbsp;<span class="ident" id="3914016">i</span><span class="op" id="3914017">++</span>&nbsp;<span class="op" id="3914020">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914024">if</span>&nbsp;<span class="ident" id="3914027">state</span><span class="op" id="3914032">.</span><span class="ident" id="3914033">b</span><span class="op" id="3914034">.</span><span class="ident" id="3914035">Len</span><span class="op" id="3914038">(</span><span class="op" id="3914039">)</span>&nbsp;<span class="op" id="3914041">==</span>&nbsp;<span class="num" id="3914044">0</span>&nbsp;<span class="op" id="3914046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3914051">errorf</span><span class="op" id="3914057">(</span><span class="string" id="3914058">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3914131">,</span>&nbsp;<span class="ident" id="3914133">length</span><span class="op" id="3914139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3914143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3914147">slice</span><span class="op" id="3914152">[</span><span class="ident" id="3914153">i</span><span class="op" id="3914154">]</span>&nbsp;<span class="op" id="3914156">=</span>&nbsp;<span class="ident" id="3914158">state</span><span class="op" id="3914163">.</span><span class="ident" id="3914164">decodeUint</span><span class="op" id="3914174">(</span><span class="op" id="3914175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3914178">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914181">return</span>&nbsp;<span class="builtintype" id="3914188">true</span><br>
<span class="lineno"></span><span class="op" id="3914193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3914196">func</span>&nbsp;<span class="ident" id="3914201">decUintptrArray</span><span class="op" id="3914216">(</span><span class="ident" id="3914217">state</span>&nbsp;<span class="op" id="3914223">*</span><span class="ident" id="3914224">decoderState</span><span class="op" id="3914236">,</span>&nbsp;<span class="ident" id="3914238">v</span>&nbsp;<span class="ident" id="3914240">reflect</span><span class="op" id="3914247">.</span><span class="ident" id="3914248">Value</span><span class="op" id="3914253">,</span>&nbsp;<span class="ident" id="3914255">length</span>&nbsp;<span class="builtintype" id="3914262">int</span><span class="op" id="3914265">,</span>&nbsp;<span class="ident" id="3914267">ovfl</span>&nbsp;<span class="builtintype" id="3914272">error</span><span class="op" id="3914277">)</span>&nbsp;<span class="builtintype" id="3914279">bool</span>&nbsp;<span class="op" id="3914284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3914287">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914328">if</span>&nbsp;<span class="op" id="3914331">!</span><span class="ident" id="3914332">v</span><span class="op" id="3914333">.</span><span class="ident" id="3914334">CanAddr</span><span class="op" id="3914341">(</span><span class="op" id="3914342">)</span>&nbsp;<span class="op" id="3914344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914348">return</span>&nbsp;<span class="builtintype" id="3914355">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3914362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914365">return</span>&nbsp;<span class="ident" id="3914372">decUintptrSlice</span><span class="op" id="3914387">(</span><span class="ident" id="3914388">state</span><span class="op" id="3914393">,</span>&nbsp;<span class="ident" id="3914395">v</span><span class="op" id="3914396">.</span><span class="ident" id="3914397">Slice</span><span class="op" id="3914402">(</span><span class="num" id="3914403">0</span><span class="op" id="3914404">,</span>&nbsp;<span class="ident" id="3914406">v</span><span class="op" id="3914407">.</span><span class="ident" id="3914408">Len</span><span class="op" id="3914411">(</span><span class="op" id="3914412">)</span><span class="op" id="3914413">)</span><span class="op" id="3914414">,</span>&nbsp;<span class="ident" id="3914416">length</span><span class="op" id="3914422">,</span>&nbsp;<span class="ident" id="3914424">ovfl</span><span class="op" id="3914428">)</span><br>
<span class="lineno"></span><span class="op" id="3914430">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="3914433">func</span>&nbsp;<span class="ident" id="3914438">decUintptrSlice</span><span class="op" id="3914453">(</span><span class="ident" id="3914454">state</span>&nbsp;<span class="op" id="3914460">*</span><span class="ident" id="3914461">decoderState</span><span class="op" id="3914473">,</span>&nbsp;<span class="ident" id="3914475">v</span>&nbsp;<span class="ident" id="3914477">reflect</span><span class="op" id="3914484">.</span><span class="ident" id="3914485">Value</span><span class="op" id="3914490">,</span>&nbsp;<span class="ident" id="3914492">length</span>&nbsp;<span class="builtintype" id="3914499">int</span><span class="op" id="3914502">,</span>&nbsp;<span class="ident" id="3914504">ovfl</span>&nbsp;<span class="builtintype" id="3914509">error</span><span class="op" id="3914514">)</span>&nbsp;<span class="builtintype" id="3914516">bool</span>&nbsp;<span class="op" id="3914521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3914524">slice</span><span class="op" id="3914529">,</span>&nbsp;<span class="ident" id="3914531">ok</span>&nbsp;<span class="op" id="3914534">:=</span>&nbsp;<span class="ident" id="3914537">v</span><span class="op" id="3914538">.</span><span class="ident" id="3914539">Interface</span><span class="op" id="3914548">(</span><span class="op" id="3914549">)</span><span class="op" id="3914550">.</span><span class="op" id="3914551">(</span><span class="op" id="3914552">[</span><span class="op" id="3914553">]</span><span class="builtintype" id="3914554">uintptr</span><span class="op" id="3914561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914564">if</span>&nbsp;<span class="op" id="3914567">!</span><span class="ident" id="3914568">ok</span>&nbsp;<span class="op" id="3914571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3914575">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914656">return</span>&nbsp;<span class="builtintype" id="3914663">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3914670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914673">for</span>&nbsp;<span class="ident" id="3914677">i</span>&nbsp;<span class="op" id="3914679">:=</span>&nbsp;<span class="num" id="3914682">0</span><span class="op" id="3914683">;</span>&nbsp;<span class="ident" id="3914685">i</span>&nbsp;<span class="op" id="3914687">&lt;</span>&nbsp;<span class="ident" id="3914689">length</span><span class="op" id="3914695">;</span>&nbsp;<span class="ident" id="3914697">i</span><span class="op" id="3914698">++</span>&nbsp;<span class="op" id="3914701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914705">if</span>&nbsp;<span class="ident" id="3914708">state</span><span class="op" id="3914713">.</span><span class="ident" id="3914714">b</span><span class="op" id="3914715">.</span><span class="ident" id="3914716">Len</span><span class="op" id="3914719">(</span><span class="op" id="3914720">)</span>&nbsp;<span class="op" id="3914722">==</span>&nbsp;<span class="num" id="3914725">0</span>&nbsp;<span class="op" id="3914727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3914732">errorf</span><span class="op" id="3914738">(</span><span class="string" id="3914739">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="3914813">,</span>&nbsp;<span class="ident" id="3914815">length</span><span class="op" id="3914821">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3914825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3914829">x</span>&nbsp;<span class="op" id="3914831">:=</span>&nbsp;<span class="ident" id="3914834">state</span><span class="op" id="3914839">.</span><span class="ident" id="3914840">decodeUint</span><span class="op" id="3914850">(</span><span class="op" id="3914851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914855">if</span>&nbsp;<span class="ident" id="3914858">uint64</span><span class="op" id="3914864">(</span><span class="op" id="3914865">^</span><span class="builtintype" id="3914866">uintptr</span><span class="op" id="3914873">(</span><span class="num" id="3914874">0</span><span class="op" id="3914875">)</span><span class="op" id="3914876">)</span>&nbsp;<span class="op" id="3914878">&lt;</span>&nbsp;<span class="ident" id="3914880">x</span>&nbsp;<span class="op" id="3914882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3914887">error_</span><span class="op" id="3914893">(</span><span class="ident" id="3914894">ovfl</span><span class="op" id="3914898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3914902">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3914906">slice</span><span class="op" id="3914911">[</span><span class="ident" id="3914912">i</span><span class="op" id="3914913">]</span>&nbsp;<span class="op" id="3914915">=</span>&nbsp;<span class="builtintype" id="3914917">uintptr</span><span class="op" id="3914924">(</span><span class="ident" id="3914925">x</span><span class="op" id="3914926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3914929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3914932">return</span>&nbsp;<span class="builtintype" id="3914939">true</span><br>
<span class="lineno"></span><span class="op" id="3914944">}</span>
</div>
</body>
</html>
