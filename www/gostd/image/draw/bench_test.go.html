<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8089538">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8089593">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8089647">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8089698">package</span>&nbsp;<span class="ident" id="8089706">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8089712">import</span>&nbsp;<span class="op" id="8089719">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8089722">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8089731">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8089746">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8089756">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8089759">const</span>&nbsp;<span class="op" id="8089765">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8089768">dstw</span><span class="op" id="8089772">,</span>&nbsp;<span class="ident" id="8089774">dsth</span>&nbsp;<span class="op" id="8089779">=</span>&nbsp;<span class="num" id="8089781">640</span><span class="op" id="8089784">,</span>&nbsp;<span class="num" id="8089786">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8089791">srcw</span><span class="op" id="8089795">,</span>&nbsp;<span class="ident" id="8089797">srch</span>&nbsp;<span class="op" id="8089802">=</span>&nbsp;<span class="num" id="8089804">400</span><span class="op" id="8089807">,</span>&nbsp;<span class="num" id="8089809">300</span><br>
<span class="lineno"></span><span class="op" id="8089813">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8089816">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8089890">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="8089952">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="8090018">func</span>&nbsp;<span class="ident" id="8090023">bench</span><span class="op" id="8090028">(</span><span class="ident" id="8090029">b</span>&nbsp;<span class="op" id="8090031">*</span><span class="ident" id="8090032">testing</span><span class="op" id="8090039">.</span><span class="ident" id="8090040">B</span><span class="op" id="8090041">,</span>&nbsp;<span class="ident" id="8090043">dcm</span><span class="op" id="8090046">,</span>&nbsp;<span class="ident" id="8090048">scm</span><span class="op" id="8090051">,</span>&nbsp;<span class="ident" id="8090053">mcm</span>&nbsp;<span class="ident" id="8090057">color</span><span class="op" id="8090062">.</span><span class="ident" id="8090063">Model</span><span class="op" id="8090068">,</span>&nbsp;<span class="ident" id="8090070">op</span>&nbsp;<span class="ident" id="8090073">Op</span><span class="op" id="8090075">)</span>&nbsp;<span class="op" id="8090077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090080">b</span><span class="op" id="8090081">.</span><span class="ident" id="8090082">StopTimer</span><span class="op" id="8090091">(</span><span class="op" id="8090092">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090096">var</span>&nbsp;<span class="ident" id="8090100">dst</span>&nbsp;<span class="ident" id="8090104">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090111">switch</span>&nbsp;<span class="ident" id="8090118">dcm</span>&nbsp;<span class="op" id="8090122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090125">case</span>&nbsp;<span class="ident" id="8090130">color</span><span class="op" id="8090135">.</span><span class="ident" id="8090136">RGBAModel</span><span class="op" id="8090145">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090149">dst1</span>&nbsp;<span class="op" id="8090154">:=</span>&nbsp;<span class="ident" id="8090157">image</span><span class="op" id="8090162">.</span><span class="ident" id="8090163">NewRGBA</span><span class="op" id="8090170">(</span><span class="ident" id="8090171">image</span><span class="op" id="8090176">.</span><span class="ident" id="8090177">Rect</span><span class="op" id="8090181">(</span><span class="num" id="8090182">0</span><span class="op" id="8090183">,</span>&nbsp;<span class="num" id="8090185">0</span><span class="op" id="8090186">,</span>&nbsp;<span class="ident" id="8090188">dstw</span><span class="op" id="8090192">,</span>&nbsp;<span class="ident" id="8090194">dsth</span><span class="op" id="8090198">)</span><span class="op" id="8090199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090203">for</span>&nbsp;<span class="ident" id="8090207">y</span>&nbsp;<span class="op" id="8090209">:=</span>&nbsp;<span class="num" id="8090212">0</span><span class="op" id="8090213">;</span>&nbsp;<span class="ident" id="8090215">y</span>&nbsp;<span class="op" id="8090217">&lt;</span>&nbsp;<span class="ident" id="8090219">dsth</span><span class="op" id="8090223">;</span>&nbsp;<span class="ident" id="8090225">y</span><span class="op" id="8090226">++</span>&nbsp;<span class="op" id="8090229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090234">for</span>&nbsp;<span class="ident" id="8090238">x</span>&nbsp;<span class="op" id="8090240">:=</span>&nbsp;<span class="num" id="8090243">0</span><span class="op" id="8090244">;</span>&nbsp;<span class="ident" id="8090246">x</span>&nbsp;<span class="op" id="8090248">&lt;</span>&nbsp;<span class="ident" id="8090250">dstw</span><span class="op" id="8090254">;</span>&nbsp;<span class="ident" id="8090256">x</span><span class="op" id="8090257">++</span>&nbsp;<span class="op" id="8090260">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090266">dst1</span><span class="op" id="8090270">.</span><span class="ident" id="8090271">SetRGBA</span><span class="op" id="8090278">(</span><span class="ident" id="8090279">x</span><span class="op" id="8090280">,</span>&nbsp;<span class="ident" id="8090282">y</span><span class="op" id="8090283">,</span>&nbsp;<span class="ident" id="8090285">color</span><span class="op" id="8090290">.</span><span class="ident" id="8090291">RGBA</span><span class="op" id="8090295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8090302">uint8</span><span class="op" id="8090307">(</span><span class="num" id="8090308">5</span>&nbsp;<span class="op" id="8090310">*</span>&nbsp;<span class="ident" id="8090312">x</span>&nbsp;<span class="op" id="8090314">%</span>&nbsp;<span class="num" id="8090316">0x100</span><span class="op" id="8090321">)</span><span class="op" id="8090322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8090329">uint8</span><span class="op" id="8090334">(</span><span class="num" id="8090335">7</span>&nbsp;<span class="op" id="8090337">*</span>&nbsp;<span class="ident" id="8090339">y</span>&nbsp;<span class="op" id="8090341">%</span>&nbsp;<span class="num" id="8090343">0x100</span><span class="op" id="8090348">)</span><span class="op" id="8090349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8090356">uint8</span><span class="op" id="8090361">(</span><span class="op" id="8090362">(</span><span class="num" id="8090363">7</span><span class="op" id="8090364">*</span><span class="ident" id="8090365">x</span>&nbsp;<span class="op" id="8090367">+</span>&nbsp;<span class="num" id="8090369">5</span><span class="op" id="8090370">*</span><span class="ident" id="8090371">y</span><span class="op" id="8090372">)</span>&nbsp;<span class="op" id="8090374">%</span>&nbsp;<span class="num" id="8090376">0x100</span><span class="op" id="8090381">)</span><span class="op" id="8090382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8090389">0xff</span><span class="op" id="8090393">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090399">}</span><span class="op" id="8090400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090413">dst</span>&nbsp;<span class="op" id="8090417">=</span>&nbsp;<span class="ident" id="8090419">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090425">case</span>&nbsp;<span class="ident" id="8090430">color</span><span class="op" id="8090435">.</span><span class="ident" id="8090436">RGBA64Model</span><span class="op" id="8090447">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090451">dst1</span>&nbsp;<span class="op" id="8090456">:=</span>&nbsp;<span class="ident" id="8090459">image</span><span class="op" id="8090464">.</span><span class="ident" id="8090465">NewRGBA64</span><span class="op" id="8090474">(</span><span class="ident" id="8090475">image</span><span class="op" id="8090480">.</span><span class="ident" id="8090481">Rect</span><span class="op" id="8090485">(</span><span class="num" id="8090486">0</span><span class="op" id="8090487">,</span>&nbsp;<span class="num" id="8090489">0</span><span class="op" id="8090490">,</span>&nbsp;<span class="ident" id="8090492">dstw</span><span class="op" id="8090496">,</span>&nbsp;<span class="ident" id="8090498">dsth</span><span class="op" id="8090502">)</span><span class="op" id="8090503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090507">for</span>&nbsp;<span class="ident" id="8090511">y</span>&nbsp;<span class="op" id="8090513">:=</span>&nbsp;<span class="num" id="8090516">0</span><span class="op" id="8090517">;</span>&nbsp;<span class="ident" id="8090519">y</span>&nbsp;<span class="op" id="8090521">&lt;</span>&nbsp;<span class="ident" id="8090523">dsth</span><span class="op" id="8090527">;</span>&nbsp;<span class="ident" id="8090529">y</span><span class="op" id="8090530">++</span>&nbsp;<span class="op" id="8090533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090538">for</span>&nbsp;<span class="ident" id="8090542">x</span>&nbsp;<span class="op" id="8090544">:=</span>&nbsp;<span class="num" id="8090547">0</span><span class="op" id="8090548">;</span>&nbsp;<span class="ident" id="8090550">x</span>&nbsp;<span class="op" id="8090552">&lt;</span>&nbsp;<span class="ident" id="8090554">dstw</span><span class="op" id="8090558">;</span>&nbsp;<span class="ident" id="8090560">x</span><span class="op" id="8090561">++</span>&nbsp;<span class="op" id="8090564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090570">dst1</span><span class="op" id="8090574">.</span><span class="ident" id="8090575">SetRGBA64</span><span class="op" id="8090584">(</span><span class="ident" id="8090585">x</span><span class="op" id="8090586">,</span>&nbsp;<span class="ident" id="8090588">y</span><span class="op" id="8090589">,</span>&nbsp;<span class="ident" id="8090591">color</span><span class="op" id="8090596">.</span><span class="ident" id="8090597">RGBA64</span><span class="op" id="8090603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8090610">uint16</span><span class="op" id="8090616">(</span><span class="num" id="8090617">53</span>&nbsp;<span class="op" id="8090620">*</span>&nbsp;<span class="ident" id="8090622">x</span>&nbsp;<span class="op" id="8090624">%</span>&nbsp;<span class="num" id="8090626">0x10000</span><span class="op" id="8090633">)</span><span class="op" id="8090634">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8090641">uint16</span><span class="op" id="8090647">(</span><span class="num" id="8090648">59</span>&nbsp;<span class="op" id="8090651">*</span>&nbsp;<span class="ident" id="8090653">y</span>&nbsp;<span class="op" id="8090655">%</span>&nbsp;<span class="num" id="8090657">0x10000</span><span class="op" id="8090664">)</span><span class="op" id="8090665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8090672">uint16</span><span class="op" id="8090678">(</span><span class="op" id="8090679">(</span><span class="num" id="8090680">59</span><span class="op" id="8090682">*</span><span class="ident" id="8090683">x</span>&nbsp;<span class="op" id="8090685">+</span>&nbsp;<span class="num" id="8090687">53</span><span class="op" id="8090689">*</span><span class="ident" id="8090690">y</span><span class="op" id="8090691">)</span>&nbsp;<span class="op" id="8090693">%</span>&nbsp;<span class="num" id="8090695">0x10000</span><span class="op" id="8090702">)</span><span class="op" id="8090703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8090710">0xffff</span><span class="op" id="8090716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090722">}</span><span class="op" id="8090723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090728">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090736">dst</span>&nbsp;<span class="op" id="8090740">=</span>&nbsp;<span class="ident" id="8090742">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090748">default</span><span class="op" id="8090755">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090759">b</span><span class="op" id="8090760">.</span><span class="ident" id="8090761">Fatal</span><span class="op" id="8090766">(</span><span class="string" id="8090767">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="8090800">,</span>&nbsp;<span class="ident" id="8090802">dcm</span><span class="op" id="8090805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090808">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090812">var</span>&nbsp;<span class="ident" id="8090816">src</span>&nbsp;<span class="ident" id="8090820">image</span><span class="op" id="8090825">.</span><span class="ident" id="8090826">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090833">switch</span>&nbsp;<span class="ident" id="8090840">scm</span>&nbsp;<span class="op" id="8090844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090847">case</span>&nbsp;<span class="builtintype" id="8090852">nil</span><span class="op" id="8090855">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090859">src</span>&nbsp;<span class="op" id="8090863">=</span>&nbsp;<span class="op" id="8090865">&amp;</span><span class="ident" id="8090866">image</span><span class="op" id="8090871">.</span><span class="ident" id="8090872">Uniform</span><span class="op" id="8090879">{</span><span class="ident" id="8090880">C</span><span class="op" id="8090881">:</span>&nbsp;<span class="ident" id="8090883">color</span><span class="op" id="8090888">.</span><span class="ident" id="8090889">RGBA</span><span class="op" id="8090893">{</span><span class="num" id="8090894">0x11</span><span class="op" id="8090898">,</span>&nbsp;<span class="num" id="8090900">0x22</span><span class="op" id="8090904">,</span>&nbsp;<span class="num" id="8090906">0x33</span><span class="op" id="8090910">,</span>&nbsp;<span class="num" id="8090912">0xff</span><span class="op" id="8090916">}</span><span class="op" id="8090917">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090920">case</span>&nbsp;<span class="ident" id="8090925">color</span><span class="op" id="8090930">.</span><span class="ident" id="8090931">RGBAModel</span><span class="op" id="8090940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8090944">src1</span>&nbsp;<span class="op" id="8090949">:=</span>&nbsp;<span class="ident" id="8090952">image</span><span class="op" id="8090957">.</span><span class="ident" id="8090958">NewRGBA</span><span class="op" id="8090965">(</span><span class="ident" id="8090966">image</span><span class="op" id="8090971">.</span><span class="ident" id="8090972">Rect</span><span class="op" id="8090976">(</span><span class="num" id="8090977">0</span><span class="op" id="8090978">,</span>&nbsp;<span class="num" id="8090980">0</span><span class="op" id="8090981">,</span>&nbsp;<span class="ident" id="8090983">srcw</span><span class="op" id="8090987">,</span>&nbsp;<span class="ident" id="8090989">srch</span><span class="op" id="8090993">)</span><span class="op" id="8090994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8090998">for</span>&nbsp;<span class="ident" id="8091002">y</span>&nbsp;<span class="op" id="8091004">:=</span>&nbsp;<span class="num" id="8091007">0</span><span class="op" id="8091008">;</span>&nbsp;<span class="ident" id="8091010">y</span>&nbsp;<span class="op" id="8091012">&lt;</span>&nbsp;<span class="ident" id="8091014">srch</span><span class="op" id="8091018">;</span>&nbsp;<span class="ident" id="8091020">y</span><span class="op" id="8091021">++</span>&nbsp;<span class="op" id="8091024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091029">for</span>&nbsp;<span class="ident" id="8091033">x</span>&nbsp;<span class="op" id="8091035">:=</span>&nbsp;<span class="num" id="8091038">0</span><span class="op" id="8091039">;</span>&nbsp;<span class="ident" id="8091041">x</span>&nbsp;<span class="op" id="8091043">&lt;</span>&nbsp;<span class="ident" id="8091045">srcw</span><span class="op" id="8091049">;</span>&nbsp;<span class="ident" id="8091051">x</span><span class="op" id="8091052">++</span>&nbsp;<span class="op" id="8091055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091061">src1</span><span class="op" id="8091065">.</span><span class="ident" id="8091066">SetRGBA</span><span class="op" id="8091073">(</span><span class="ident" id="8091074">x</span><span class="op" id="8091075">,</span>&nbsp;<span class="ident" id="8091077">y</span><span class="op" id="8091078">,</span>&nbsp;<span class="ident" id="8091080">color</span><span class="op" id="8091085">.</span><span class="ident" id="8091086">RGBA</span><span class="op" id="8091090">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091097">uint8</span><span class="op" id="8091102">(</span><span class="num" id="8091103">13</span>&nbsp;<span class="op" id="8091106">*</span>&nbsp;<span class="ident" id="8091108">x</span>&nbsp;<span class="op" id="8091110">%</span>&nbsp;<span class="num" id="8091112">0x80</span><span class="op" id="8091116">)</span><span class="op" id="8091117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091124">uint8</span><span class="op" id="8091129">(</span><span class="num" id="8091130">11</span>&nbsp;<span class="op" id="8091133">*</span>&nbsp;<span class="ident" id="8091135">y</span>&nbsp;<span class="op" id="8091137">%</span>&nbsp;<span class="num" id="8091139">0x80</span><span class="op" id="8091143">)</span><span class="op" id="8091144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091151">uint8</span><span class="op" id="8091156">(</span><span class="op" id="8091157">(</span><span class="num" id="8091158">11</span><span class="op" id="8091160">*</span><span class="ident" id="8091161">x</span>&nbsp;<span class="op" id="8091163">+</span>&nbsp;<span class="num" id="8091165">13</span><span class="op" id="8091167">*</span><span class="ident" id="8091168">y</span><span class="op" id="8091169">)</span>&nbsp;<span class="op" id="8091171">%</span>&nbsp;<span class="num" id="8091173">0x80</span><span class="op" id="8091177">)</span><span class="op" id="8091178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8091185">0x7f</span><span class="op" id="8091189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091195">}</span><span class="op" id="8091196">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091209">src</span>&nbsp;<span class="op" id="8091213">=</span>&nbsp;<span class="ident" id="8091215">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091221">case</span>&nbsp;<span class="ident" id="8091226">color</span><span class="op" id="8091231">.</span><span class="ident" id="8091232">RGBA64Model</span><span class="op" id="8091243">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091247">src1</span>&nbsp;<span class="op" id="8091252">:=</span>&nbsp;<span class="ident" id="8091255">image</span><span class="op" id="8091260">.</span><span class="ident" id="8091261">NewRGBA64</span><span class="op" id="8091270">(</span><span class="ident" id="8091271">image</span><span class="op" id="8091276">.</span><span class="ident" id="8091277">Rect</span><span class="op" id="8091281">(</span><span class="num" id="8091282">0</span><span class="op" id="8091283">,</span>&nbsp;<span class="num" id="8091285">0</span><span class="op" id="8091286">,</span>&nbsp;<span class="ident" id="8091288">srcw</span><span class="op" id="8091292">,</span>&nbsp;<span class="ident" id="8091294">srch</span><span class="op" id="8091298">)</span><span class="op" id="8091299">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091303">for</span>&nbsp;<span class="ident" id="8091307">y</span>&nbsp;<span class="op" id="8091309">:=</span>&nbsp;<span class="num" id="8091312">0</span><span class="op" id="8091313">;</span>&nbsp;<span class="ident" id="8091315">y</span>&nbsp;<span class="op" id="8091317">&lt;</span>&nbsp;<span class="ident" id="8091319">srch</span><span class="op" id="8091323">;</span>&nbsp;<span class="ident" id="8091325">y</span><span class="op" id="8091326">++</span>&nbsp;<span class="op" id="8091329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091334">for</span>&nbsp;<span class="ident" id="8091338">x</span>&nbsp;<span class="op" id="8091340">:=</span>&nbsp;<span class="num" id="8091343">0</span><span class="op" id="8091344">;</span>&nbsp;<span class="ident" id="8091346">x</span>&nbsp;<span class="op" id="8091348">&lt;</span>&nbsp;<span class="ident" id="8091350">srcw</span><span class="op" id="8091354">;</span>&nbsp;<span class="ident" id="8091356">x</span><span class="op" id="8091357">++</span>&nbsp;<span class="op" id="8091360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091366">src1</span><span class="op" id="8091370">.</span><span class="ident" id="8091371">SetRGBA64</span><span class="op" id="8091380">(</span><span class="ident" id="8091381">x</span><span class="op" id="8091382">,</span>&nbsp;<span class="ident" id="8091384">y</span><span class="op" id="8091385">,</span>&nbsp;<span class="ident" id="8091387">color</span><span class="op" id="8091392">.</span><span class="ident" id="8091393">RGBA64</span><span class="op" id="8091399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091406">uint16</span><span class="op" id="8091412">(</span><span class="num" id="8091413">103</span>&nbsp;<span class="op" id="8091417">*</span>&nbsp;<span class="ident" id="8091419">x</span>&nbsp;<span class="op" id="8091421">%</span>&nbsp;<span class="num" id="8091423">0x8000</span><span class="op" id="8091429">)</span><span class="op" id="8091430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091437">uint16</span><span class="op" id="8091443">(</span><span class="num" id="8091444">101</span>&nbsp;<span class="op" id="8091448">*</span>&nbsp;<span class="ident" id="8091450">y</span>&nbsp;<span class="op" id="8091452">%</span>&nbsp;<span class="num" id="8091454">0x8000</span><span class="op" id="8091460">)</span><span class="op" id="8091461">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091468">uint16</span><span class="op" id="8091474">(</span><span class="op" id="8091475">(</span><span class="num" id="8091476">101</span><span class="op" id="8091479">*</span><span class="ident" id="8091480">x</span>&nbsp;<span class="op" id="8091482">+</span>&nbsp;<span class="num" id="8091484">103</span><span class="op" id="8091487">*</span><span class="ident" id="8091488">y</span><span class="op" id="8091489">)</span>&nbsp;<span class="op" id="8091491">%</span>&nbsp;<span class="num" id="8091493">0x8000</span><span class="op" id="8091499">)</span><span class="op" id="8091500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8091507">0x7fff</span><span class="op" id="8091513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091519">}</span><span class="op" id="8091520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091529">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091533">src</span>&nbsp;<span class="op" id="8091537">=</span>&nbsp;<span class="ident" id="8091539">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091545">case</span>&nbsp;<span class="ident" id="8091550">color</span><span class="op" id="8091555">.</span><span class="ident" id="8091556">NRGBAModel</span><span class="op" id="8091566">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091570">src1</span>&nbsp;<span class="op" id="8091575">:=</span>&nbsp;<span class="ident" id="8091578">image</span><span class="op" id="8091583">.</span><span class="ident" id="8091584">NewNRGBA</span><span class="op" id="8091592">(</span><span class="ident" id="8091593">image</span><span class="op" id="8091598">.</span><span class="ident" id="8091599">Rect</span><span class="op" id="8091603">(</span><span class="num" id="8091604">0</span><span class="op" id="8091605">,</span>&nbsp;<span class="num" id="8091607">0</span><span class="op" id="8091608">,</span>&nbsp;<span class="ident" id="8091610">srcw</span><span class="op" id="8091614">,</span>&nbsp;<span class="ident" id="8091616">srch</span><span class="op" id="8091620">)</span><span class="op" id="8091621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091625">for</span>&nbsp;<span class="ident" id="8091629">y</span>&nbsp;<span class="op" id="8091631">:=</span>&nbsp;<span class="num" id="8091634">0</span><span class="op" id="8091635">;</span>&nbsp;<span class="ident" id="8091637">y</span>&nbsp;<span class="op" id="8091639">&lt;</span>&nbsp;<span class="ident" id="8091641">srch</span><span class="op" id="8091645">;</span>&nbsp;<span class="ident" id="8091647">y</span><span class="op" id="8091648">++</span>&nbsp;<span class="op" id="8091651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091656">for</span>&nbsp;<span class="ident" id="8091660">x</span>&nbsp;<span class="op" id="8091662">:=</span>&nbsp;<span class="num" id="8091665">0</span><span class="op" id="8091666">;</span>&nbsp;<span class="ident" id="8091668">x</span>&nbsp;<span class="op" id="8091670">&lt;</span>&nbsp;<span class="ident" id="8091672">srcw</span><span class="op" id="8091676">;</span>&nbsp;<span class="ident" id="8091678">x</span><span class="op" id="8091679">++</span>&nbsp;<span class="op" id="8091682">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091688">src1</span><span class="op" id="8091692">.</span><span class="ident" id="8091693">SetNRGBA</span><span class="op" id="8091701">(</span><span class="ident" id="8091702">x</span><span class="op" id="8091703">,</span>&nbsp;<span class="ident" id="8091705">y</span><span class="op" id="8091706">,</span>&nbsp;<span class="ident" id="8091708">color</span><span class="op" id="8091713">.</span><span class="ident" id="8091714">NRGBA</span><span class="op" id="8091719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091726">uint8</span><span class="op" id="8091731">(</span><span class="num" id="8091732">13</span>&nbsp;<span class="op" id="8091735">*</span>&nbsp;<span class="ident" id="8091737">x</span>&nbsp;<span class="op" id="8091739">%</span>&nbsp;<span class="num" id="8091741">0x100</span><span class="op" id="8091746">)</span><span class="op" id="8091747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091754">uint8</span><span class="op" id="8091759">(</span><span class="num" id="8091760">11</span>&nbsp;<span class="op" id="8091763">*</span>&nbsp;<span class="ident" id="8091765">y</span>&nbsp;<span class="op" id="8091767">%</span>&nbsp;<span class="num" id="8091769">0x100</span><span class="op" id="8091774">)</span><span class="op" id="8091775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8091782">uint8</span><span class="op" id="8091787">(</span><span class="op" id="8091788">(</span><span class="num" id="8091789">11</span><span class="op" id="8091791">*</span><span class="ident" id="8091792">x</span>&nbsp;<span class="op" id="8091794">+</span>&nbsp;<span class="num" id="8091796">13</span><span class="op" id="8091798">*</span><span class="ident" id="8091799">y</span><span class="op" id="8091800">)</span>&nbsp;<span class="op" id="8091802">%</span>&nbsp;<span class="num" id="8091804">0x100</span><span class="op" id="8091809">)</span><span class="op" id="8091810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8091817">0x7f</span><span class="op" id="8091821">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091827">}</span><span class="op" id="8091828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091841">src</span>&nbsp;<span class="op" id="8091845">=</span>&nbsp;<span class="ident" id="8091847">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091853">case</span>&nbsp;<span class="ident" id="8091858">color</span><span class="op" id="8091863">.</span><span class="ident" id="8091864">YCbCrModel</span><span class="op" id="8091874">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091878">yy</span>&nbsp;<span class="op" id="8091881">:=</span>&nbsp;<span class="builtinfunc" id="8091884">make</span><span class="op" id="8091888">(</span><span class="op" id="8091889">[</span><span class="op" id="8091890">]</span><span class="builtintype" id="8091891">uint8</span><span class="op" id="8091896">,</span>&nbsp;<span class="ident" id="8091898">srcw</span><span class="op" id="8091902">*</span><span class="ident" id="8091903">srch</span><span class="op" id="8091907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091911">cb</span>&nbsp;<span class="op" id="8091914">:=</span>&nbsp;<span class="builtinfunc" id="8091917">make</span><span class="op" id="8091921">(</span><span class="op" id="8091922">[</span><span class="op" id="8091923">]</span><span class="builtintype" id="8091924">uint8</span><span class="op" id="8091929">,</span>&nbsp;<span class="ident" id="8091931">srcw</span><span class="op" id="8091935">*</span><span class="ident" id="8091936">srch</span><span class="op" id="8091940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8091944">cr</span>&nbsp;<span class="op" id="8091947">:=</span>&nbsp;<span class="builtinfunc" id="8091950">make</span><span class="op" id="8091954">(</span><span class="op" id="8091955">[</span><span class="op" id="8091956">]</span><span class="builtintype" id="8091957">uint8</span><span class="op" id="8091962">,</span>&nbsp;<span class="ident" id="8091964">srcw</span><span class="op" id="8091968">*</span><span class="ident" id="8091969">srch</span><span class="op" id="8091973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8091977">for</span>&nbsp;<span class="ident" id="8091981">i</span>&nbsp;<span class="op" id="8091983">:=</span>&nbsp;<span class="keyword" id="8091986">range</span>&nbsp;<span class="ident" id="8091992">yy</span>&nbsp;<span class="op" id="8091995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092000">yy</span><span class="op" id="8092002">[</span><span class="ident" id="8092003">i</span><span class="op" id="8092004">]</span>&nbsp;<span class="op" id="8092006">=</span>&nbsp;<span class="builtintype" id="8092008">uint8</span><span class="op" id="8092013">(</span><span class="num" id="8092014">3</span>&nbsp;<span class="op" id="8092016">*</span>&nbsp;<span class="ident" id="8092018">i</span>&nbsp;<span class="op" id="8092020">%</span>&nbsp;<span class="num" id="8092022">0x100</span><span class="op" id="8092027">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092032">cb</span><span class="op" id="8092034">[</span><span class="ident" id="8092035">i</span><span class="op" id="8092036">]</span>&nbsp;<span class="op" id="8092038">=</span>&nbsp;<span class="builtintype" id="8092040">uint8</span><span class="op" id="8092045">(</span><span class="num" id="8092046">5</span>&nbsp;<span class="op" id="8092048">*</span>&nbsp;<span class="ident" id="8092050">i</span>&nbsp;<span class="op" id="8092052">%</span>&nbsp;<span class="num" id="8092054">0x100</span><span class="op" id="8092059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092064">cr</span><span class="op" id="8092066">[</span><span class="ident" id="8092067">i</span><span class="op" id="8092068">]</span>&nbsp;<span class="op" id="8092070">=</span>&nbsp;<span class="builtintype" id="8092072">uint8</span><span class="op" id="8092077">(</span><span class="num" id="8092078">7</span>&nbsp;<span class="op" id="8092080">*</span>&nbsp;<span class="ident" id="8092082">i</span>&nbsp;<span class="op" id="8092084">%</span>&nbsp;<span class="num" id="8092086">0x100</span><span class="op" id="8092091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092099">src</span>&nbsp;<span class="op" id="8092103">=</span>&nbsp;<span class="op" id="8092105">&amp;</span><span class="ident" id="8092106">image</span><span class="op" id="8092111">.</span><span class="ident" id="8092112">YCbCr</span><span class="op" id="8092117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092122">Y</span><span class="op" id="8092123">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092138">yy</span><span class="op" id="8092140">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092145">Cb</span><span class="op" id="8092147">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092161">cb</span><span class="op" id="8092163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092168">Cr</span><span class="op" id="8092170">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092184">cr</span><span class="op" id="8092186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092191">YStride</span><span class="op" id="8092198">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092207">srcw</span><span class="op" id="8092211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092216">CStride</span><span class="op" id="8092223">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092232">srcw</span><span class="op" id="8092236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092241">SubsampleRatio</span><span class="op" id="8092255">:</span>&nbsp;<span class="ident" id="8092257">image</span><span class="op" id="8092262">.</span><span class="ident" id="8092263">YCbCrSubsampleRatio444</span><span class="op" id="8092285">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092290">Rect</span><span class="op" id="8092294">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092306">image</span><span class="op" id="8092311">.</span><span class="ident" id="8092312">Rect</span><span class="op" id="8092316">(</span><span class="num" id="8092317">0</span><span class="op" id="8092318">,</span>&nbsp;<span class="num" id="8092320">0</span><span class="op" id="8092321">,</span>&nbsp;<span class="ident" id="8092323">srcw</span><span class="op" id="8092327">,</span>&nbsp;<span class="ident" id="8092329">srch</span><span class="op" id="8092333">)</span><span class="op" id="8092334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092341">default</span><span class="op" id="8092348">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092352">b</span><span class="op" id="8092353">.</span><span class="ident" id="8092354">Fatal</span><span class="op" id="8092359">(</span><span class="string" id="8092360">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="8092388">,</span>&nbsp;<span class="ident" id="8092390">scm</span><span class="op" id="8092393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092396">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092400">var</span>&nbsp;<span class="ident" id="8092404">mask</span>&nbsp;<span class="ident" id="8092409">image</span><span class="op" id="8092414">.</span><span class="ident" id="8092415">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092422">switch</span>&nbsp;<span class="ident" id="8092429">mcm</span>&nbsp;<span class="op" id="8092433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092436">case</span>&nbsp;<span class="builtintype" id="8092441">nil</span><span class="op" id="8092444">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8092448">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092459">case</span>&nbsp;<span class="ident" id="8092464">color</span><span class="op" id="8092469">.</span><span class="ident" id="8092470">AlphaModel</span><span class="op" id="8092480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092484">mask1</span>&nbsp;<span class="op" id="8092490">:=</span>&nbsp;<span class="ident" id="8092493">image</span><span class="op" id="8092498">.</span><span class="ident" id="8092499">NewAlpha</span><span class="op" id="8092507">(</span><span class="ident" id="8092508">image</span><span class="op" id="8092513">.</span><span class="ident" id="8092514">Rect</span><span class="op" id="8092518">(</span><span class="num" id="8092519">0</span><span class="op" id="8092520">,</span>&nbsp;<span class="num" id="8092522">0</span><span class="op" id="8092523">,</span>&nbsp;<span class="ident" id="8092525">srcw</span><span class="op" id="8092529">,</span>&nbsp;<span class="ident" id="8092531">srch</span><span class="op" id="8092535">)</span><span class="op" id="8092536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092540">for</span>&nbsp;<span class="ident" id="8092544">y</span>&nbsp;<span class="op" id="8092546">:=</span>&nbsp;<span class="num" id="8092549">0</span><span class="op" id="8092550">;</span>&nbsp;<span class="ident" id="8092552">y</span>&nbsp;<span class="op" id="8092554">&lt;</span>&nbsp;<span class="ident" id="8092556">srch</span><span class="op" id="8092560">;</span>&nbsp;<span class="ident" id="8092562">y</span><span class="op" id="8092563">++</span>&nbsp;<span class="op" id="8092566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092571">for</span>&nbsp;<span class="ident" id="8092575">x</span>&nbsp;<span class="op" id="8092577">:=</span>&nbsp;<span class="num" id="8092580">0</span><span class="op" id="8092581">;</span>&nbsp;<span class="ident" id="8092583">x</span>&nbsp;<span class="op" id="8092585">&lt;</span>&nbsp;<span class="ident" id="8092587">srcw</span><span class="op" id="8092591">;</span>&nbsp;<span class="ident" id="8092593">x</span><span class="op" id="8092594">++</span>&nbsp;<span class="op" id="8092597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092603">a</span>&nbsp;<span class="op" id="8092605">:=</span>&nbsp;<span class="builtintype" id="8092608">uint8</span><span class="op" id="8092613">(</span><span class="op" id="8092614">(</span><span class="num" id="8092615">23</span><span class="op" id="8092617">*</span><span class="ident" id="8092618">x</span>&nbsp;<span class="op" id="8092620">+</span>&nbsp;<span class="num" id="8092622">29</span><span class="op" id="8092624">*</span><span class="ident" id="8092625">y</span><span class="op" id="8092626">)</span>&nbsp;<span class="op" id="8092628">%</span>&nbsp;<span class="num" id="8092630">0x100</span><span class="op" id="8092635">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8092641">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8092687">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092738">if</span>&nbsp;<span class="ident" id="8092741">a</span>&nbsp;<span class="op" id="8092743">&gt;=</span>&nbsp;<span class="num" id="8092746">0xc0</span>&nbsp;<span class="op" id="8092751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092758">mask1</span><span class="op" id="8092763">.</span><span class="ident" id="8092764">SetAlpha</span><span class="op" id="8092772">(</span><span class="ident" id="8092773">x</span><span class="op" id="8092774">,</span>&nbsp;<span class="ident" id="8092776">y</span><span class="op" id="8092777">,</span>&nbsp;<span class="ident" id="8092779">color</span><span class="op" id="8092784">.</span><span class="ident" id="8092785">Alpha</span><span class="op" id="8092790">{</span><span class="ident" id="8092791">a</span><span class="op" id="8092792">}</span><span class="op" id="8092793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092799">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092812">mask</span>&nbsp;<span class="op" id="8092817">=</span>&nbsp;<span class="ident" id="8092819">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092826">default</span><span class="op" id="8092833">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092837">b</span><span class="op" id="8092838">.</span><span class="ident" id="8092839">Fatal</span><span class="op" id="8092844">(</span><span class="string" id="8092845">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="8092871">,</span>&nbsp;<span class="ident" id="8092873">mcm</span><span class="op" id="8092876">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8092879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092883">b</span><span class="op" id="8092884">.</span><span class="ident" id="8092885">StartTimer</span><span class="op" id="8092895">(</span><span class="op" id="8092896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8092899">for</span>&nbsp;<span class="ident" id="8092903">i</span>&nbsp;<span class="op" id="8092905">:=</span>&nbsp;<span class="num" id="8092908">0</span><span class="op" id="8092909">;</span>&nbsp;<span class="ident" id="8092911">i</span>&nbsp;<span class="op" id="8092913">&lt;</span>&nbsp;<span class="ident" id="8092915">b</span><span class="op" id="8092916">.</span><span class="ident" id="8092917">N</span><span class="op" id="8092918">;</span>&nbsp;<span class="ident" id="8092920">i</span><span class="op" id="8092921">++</span>&nbsp;<span class="op" id="8092924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8092928">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8092981">x</span>&nbsp;<span class="op" id="8092983">:=</span>&nbsp;<span class="num" id="8092986">3</span>&nbsp;<span class="op" id="8092988">*</span>&nbsp;<span class="ident" id="8092990">i</span>&nbsp;<span class="op" id="8092992">%</span>&nbsp;<span class="op" id="8092994">(</span><span class="ident" id="8092995">dstw</span>&nbsp;<span class="op" id="8093000">-</span>&nbsp;<span class="ident" id="8093002">srcw</span><span class="op" id="8093006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093010">y</span>&nbsp;<span class="op" id="8093012">:=</span>&nbsp;<span class="num" id="8093015">7</span>&nbsp;<span class="op" id="8093017">*</span>&nbsp;<span class="ident" id="8093019">i</span>&nbsp;<span class="op" id="8093021">%</span>&nbsp;<span class="op" id="8093023">(</span><span class="ident" id="8093024">dsth</span>&nbsp;<span class="op" id="8093029">-</span>&nbsp;<span class="ident" id="8093031">srch</span><span class="op" id="8093035">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093040">DrawMask</span><span class="op" id="8093048">(</span><span class="ident" id="8093049">dst</span><span class="op" id="8093052">,</span>&nbsp;<span class="ident" id="8093054">dst</span><span class="op" id="8093057">.</span><span class="ident" id="8093058">Bounds</span><span class="op" id="8093064">(</span><span class="op" id="8093065">)</span><span class="op" id="8093066">.</span><span class="ident" id="8093067">Add</span><span class="op" id="8093070">(</span><span class="ident" id="8093071">image</span><span class="op" id="8093076">.</span><span class="ident" id="8093077">Pt</span><span class="op" id="8093079">(</span><span class="ident" id="8093080">x</span><span class="op" id="8093081">,</span>&nbsp;<span class="ident" id="8093083">y</span><span class="op" id="8093084">)</span><span class="op" id="8093085">)</span><span class="op" id="8093086">,</span>&nbsp;<span class="ident" id="8093088">src</span><span class="op" id="8093091">,</span>&nbsp;<span class="ident" id="8093093">image</span><span class="op" id="8093098">.</span><span class="ident" id="8093099">ZP</span><span class="op" id="8093101">,</span>&nbsp;<span class="ident" id="8093103">mask</span><span class="op" id="8093107">,</span>&nbsp;<span class="ident" id="8093109">image</span><span class="op" id="8093114">.</span><span class="ident" id="8093115">ZP</span><span class="op" id="8093117">,</span>&nbsp;<span class="ident" id="8093119">op</span><span class="op" id="8093121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8093124">}</span><br>
<span class="lineno">150</span><span class="op" id="8093126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8093129">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8093210">func</span>&nbsp;<span class="ident" id="8093215">BenchmarkFillOver</span><span class="op" id="8093232">(</span><span class="ident" id="8093233">b</span>&nbsp;<span class="op" id="8093235">*</span><span class="ident" id="8093236">testing</span><span class="op" id="8093243">.</span><span class="ident" id="8093244">B</span><span class="op" id="8093245">)</span>&nbsp;<span class="op" id="8093247">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093250">bench</span><span class="op" id="8093255">(</span><span class="ident" id="8093256">b</span><span class="op" id="8093257">,</span>&nbsp;<span class="ident" id="8093259">color</span><span class="op" id="8093264">.</span><span class="ident" id="8093265">RGBAModel</span><span class="op" id="8093274">,</span>&nbsp;<span class="builtintype" id="8093276">nil</span><span class="op" id="8093279">,</span>&nbsp;<span class="builtintype" id="8093281">nil</span><span class="op" id="8093284">,</span>&nbsp;<span class="ident" id="8093286">Over</span><span class="op" id="8093290">)</span><br>
<span class="lineno"></span><span class="op" id="8093292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8093295">func</span>&nbsp;<span class="ident" id="8093300">BenchmarkFillSrc</span><span class="op" id="8093316">(</span><span class="ident" id="8093317">b</span>&nbsp;<span class="op" id="8093319">*</span><span class="ident" id="8093320">testing</span><span class="op" id="8093327">.</span><span class="ident" id="8093328">B</span><span class="op" id="8093329">)</span>&nbsp;<span class="op" id="8093331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093334">bench</span><span class="op" id="8093339">(</span><span class="ident" id="8093340">b</span><span class="op" id="8093341">,</span>&nbsp;<span class="ident" id="8093343">color</span><span class="op" id="8093348">.</span><span class="ident" id="8093349">RGBAModel</span><span class="op" id="8093358">,</span>&nbsp;<span class="builtintype" id="8093360">nil</span><span class="op" id="8093363">,</span>&nbsp;<span class="builtintype" id="8093365">nil</span><span class="op" id="8093368">,</span>&nbsp;<span class="ident" id="8093370">Src</span><span class="op" id="8093373">)</span><br>
<span class="lineno">160</span><span class="op" id="8093375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8093378">func</span>&nbsp;<span class="ident" id="8093383">BenchmarkCopyOver</span><span class="op" id="8093400">(</span><span class="ident" id="8093401">b</span>&nbsp;<span class="op" id="8093403">*</span><span class="ident" id="8093404">testing</span><span class="op" id="8093411">.</span><span class="ident" id="8093412">B</span><span class="op" id="8093413">)</span>&nbsp;<span class="op" id="8093415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093418">bench</span><span class="op" id="8093423">(</span><span class="ident" id="8093424">b</span><span class="op" id="8093425">,</span>&nbsp;<span class="ident" id="8093427">color</span><span class="op" id="8093432">.</span><span class="ident" id="8093433">RGBAModel</span><span class="op" id="8093442">,</span>&nbsp;<span class="ident" id="8093444">color</span><span class="op" id="8093449">.</span><span class="ident" id="8093450">RGBAModel</span><span class="op" id="8093459">,</span>&nbsp;<span class="builtintype" id="8093461">nil</span><span class="op" id="8093464">,</span>&nbsp;<span class="ident" id="8093466">Over</span><span class="op" id="8093470">)</span><br>
<span class="lineno"></span><span class="op" id="8093472">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="8093475">func</span>&nbsp;<span class="ident" id="8093480">BenchmarkCopySrc</span><span class="op" id="8093496">(</span><span class="ident" id="8093497">b</span>&nbsp;<span class="op" id="8093499">*</span><span class="ident" id="8093500">testing</span><span class="op" id="8093507">.</span><span class="ident" id="8093508">B</span><span class="op" id="8093509">)</span>&nbsp;<span class="op" id="8093511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093514">bench</span><span class="op" id="8093519">(</span><span class="ident" id="8093520">b</span><span class="op" id="8093521">,</span>&nbsp;<span class="ident" id="8093523">color</span><span class="op" id="8093528">.</span><span class="ident" id="8093529">RGBAModel</span><span class="op" id="8093538">,</span>&nbsp;<span class="ident" id="8093540">color</span><span class="op" id="8093545">.</span><span class="ident" id="8093546">RGBAModel</span><span class="op" id="8093555">,</span>&nbsp;<span class="builtintype" id="8093557">nil</span><span class="op" id="8093560">,</span>&nbsp;<span class="ident" id="8093562">Src</span><span class="op" id="8093565">)</span><br>
<span class="lineno"></span><span class="op" id="8093567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8093570">func</span>&nbsp;<span class="ident" id="8093575">BenchmarkNRGBAOver</span><span class="op" id="8093593">(</span><span class="ident" id="8093594">b</span>&nbsp;<span class="op" id="8093596">*</span><span class="ident" id="8093597">testing</span><span class="op" id="8093604">.</span><span class="ident" id="8093605">B</span><span class="op" id="8093606">)</span>&nbsp;<span class="op" id="8093608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093611">bench</span><span class="op" id="8093616">(</span><span class="ident" id="8093617">b</span><span class="op" id="8093618">,</span>&nbsp;<span class="ident" id="8093620">color</span><span class="op" id="8093625">.</span><span class="ident" id="8093626">RGBAModel</span><span class="op" id="8093635">,</span>&nbsp;<span class="ident" id="8093637">color</span><span class="op" id="8093642">.</span><span class="ident" id="8093643">NRGBAModel</span><span class="op" id="8093653">,</span>&nbsp;<span class="builtintype" id="8093655">nil</span><span class="op" id="8093658">,</span>&nbsp;<span class="ident" id="8093660">Over</span><span class="op" id="8093664">)</span><br>
<span class="lineno"></span><span class="op" id="8093666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8093669">func</span>&nbsp;<span class="ident" id="8093674">BenchmarkNRGBASrc</span><span class="op" id="8093691">(</span><span class="ident" id="8093692">b</span>&nbsp;<span class="op" id="8093694">*</span><span class="ident" id="8093695">testing</span><span class="op" id="8093702">.</span><span class="ident" id="8093703">B</span><span class="op" id="8093704">)</span>&nbsp;<span class="op" id="8093706">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093709">bench</span><span class="op" id="8093714">(</span><span class="ident" id="8093715">b</span><span class="op" id="8093716">,</span>&nbsp;<span class="ident" id="8093718">color</span><span class="op" id="8093723">.</span><span class="ident" id="8093724">RGBAModel</span><span class="op" id="8093733">,</span>&nbsp;<span class="ident" id="8093735">color</span><span class="op" id="8093740">.</span><span class="ident" id="8093741">NRGBAModel</span><span class="op" id="8093751">,</span>&nbsp;<span class="builtintype" id="8093753">nil</span><span class="op" id="8093756">,</span>&nbsp;<span class="ident" id="8093758">Src</span><span class="op" id="8093761">)</span><br>
<span class="lineno"></span><span class="op" id="8093763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8093766">func</span>&nbsp;<span class="ident" id="8093771">BenchmarkYCbCr</span><span class="op" id="8093785">(</span><span class="ident" id="8093786">b</span>&nbsp;<span class="op" id="8093788">*</span><span class="ident" id="8093789">testing</span><span class="op" id="8093796">.</span><span class="ident" id="8093797">B</span><span class="op" id="8093798">)</span>&nbsp;<span class="op" id="8093800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093803">bench</span><span class="op" id="8093808">(</span><span class="ident" id="8093809">b</span><span class="op" id="8093810">,</span>&nbsp;<span class="ident" id="8093812">color</span><span class="op" id="8093817">.</span><span class="ident" id="8093818">RGBAModel</span><span class="op" id="8093827">,</span>&nbsp;<span class="ident" id="8093829">color</span><span class="op" id="8093834">.</span><span class="ident" id="8093835">YCbCrModel</span><span class="op" id="8093845">,</span>&nbsp;<span class="builtintype" id="8093847">nil</span><span class="op" id="8093850">,</span>&nbsp;<span class="ident" id="8093852">Over</span><span class="op" id="8093856">)</span><br>
<span class="lineno">180</span><span class="op" id="8093858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8093861">func</span>&nbsp;<span class="ident" id="8093866">BenchmarkGlyphOver</span><span class="op" id="8093884">(</span><span class="ident" id="8093885">b</span>&nbsp;<span class="op" id="8093887">*</span><span class="ident" id="8093888">testing</span><span class="op" id="8093895">.</span><span class="ident" id="8093896">B</span><span class="op" id="8093897">)</span>&nbsp;<span class="op" id="8093899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093902">bench</span><span class="op" id="8093907">(</span><span class="ident" id="8093908">b</span><span class="op" id="8093909">,</span>&nbsp;<span class="ident" id="8093911">color</span><span class="op" id="8093916">.</span><span class="ident" id="8093917">RGBAModel</span><span class="op" id="8093926">,</span>&nbsp;<span class="builtintype" id="8093928">nil</span><span class="op" id="8093931">,</span>&nbsp;<span class="ident" id="8093933">color</span><span class="op" id="8093938">.</span><span class="ident" id="8093939">AlphaModel</span><span class="op" id="8093949">,</span>&nbsp;<span class="ident" id="8093951">Over</span><span class="op" id="8093955">)</span><br>
<span class="lineno"></span><span class="op" id="8093957">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="8093960">func</span>&nbsp;<span class="ident" id="8093965">BenchmarkRGBA</span><span class="op" id="8093978">(</span><span class="ident" id="8093979">b</span>&nbsp;<span class="op" id="8093981">*</span><span class="ident" id="8093982">testing</span><span class="op" id="8093989">.</span><span class="ident" id="8093990">B</span><span class="op" id="8093991">)</span>&nbsp;<span class="op" id="8093993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8093996">bench</span><span class="op" id="8094001">(</span><span class="ident" id="8094002">b</span><span class="op" id="8094003">,</span>&nbsp;<span class="ident" id="8094005">color</span><span class="op" id="8094010">.</span><span class="ident" id="8094011">RGBAModel</span><span class="op" id="8094020">,</span>&nbsp;<span class="ident" id="8094022">color</span><span class="op" id="8094027">.</span><span class="ident" id="8094028">RGBA64Model</span><span class="op" id="8094039">,</span>&nbsp;<span class="builtintype" id="8094041">nil</span><span class="op" id="8094044">,</span>&nbsp;<span class="ident" id="8094046">Src</span><span class="op" id="8094049">)</span><br>
<span class="lineno"></span><span class="op" id="8094051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="8094054">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8094130">func</span>&nbsp;<span class="ident" id="8094135">BenchmarkGenericOver</span><span class="op" id="8094155">(</span><span class="ident" id="8094156">b</span>&nbsp;<span class="op" id="8094158">*</span><span class="ident" id="8094159">testing</span><span class="op" id="8094166">.</span><span class="ident" id="8094167">B</span><span class="op" id="8094168">)</span>&nbsp;<span class="op" id="8094170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094173">bench</span><span class="op" id="8094178">(</span><span class="ident" id="8094179">b</span><span class="op" id="8094180">,</span>&nbsp;<span class="ident" id="8094182">color</span><span class="op" id="8094187">.</span><span class="ident" id="8094188">RGBA64Model</span><span class="op" id="8094199">,</span>&nbsp;<span class="ident" id="8094201">color</span><span class="op" id="8094206">.</span><span class="ident" id="8094207">RGBA64Model</span><span class="op" id="8094218">,</span>&nbsp;<span class="builtintype" id="8094220">nil</span><span class="op" id="8094223">,</span>&nbsp;<span class="ident" id="8094225">Over</span><span class="op" id="8094229">)</span><br>
<span class="lineno"></span><span class="op" id="8094231">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="8094234">func</span>&nbsp;<span class="ident" id="8094239">BenchmarkGenericMaskOver</span><span class="op" id="8094263">(</span><span class="ident" id="8094264">b</span>&nbsp;<span class="op" id="8094266">*</span><span class="ident" id="8094267">testing</span><span class="op" id="8094274">.</span><span class="ident" id="8094275">B</span><span class="op" id="8094276">)</span>&nbsp;<span class="op" id="8094278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094281">bench</span><span class="op" id="8094286">(</span><span class="ident" id="8094287">b</span><span class="op" id="8094288">,</span>&nbsp;<span class="ident" id="8094290">color</span><span class="op" id="8094295">.</span><span class="ident" id="8094296">RGBA64Model</span><span class="op" id="8094307">,</span>&nbsp;<span class="ident" id="8094309">color</span><span class="op" id="8094314">.</span><span class="ident" id="8094315">RGBA64Model</span><span class="op" id="8094326">,</span>&nbsp;<span class="ident" id="8094328">color</span><span class="op" id="8094333">.</span><span class="ident" id="8094334">AlphaModel</span><span class="op" id="8094344">,</span>&nbsp;<span class="ident" id="8094346">Over</span><span class="op" id="8094350">)</span><br>
<span class="lineno"></span><span class="op" id="8094352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="8094355">func</span>&nbsp;<span class="ident" id="8094360">BenchmarkGenericSrc</span><span class="op" id="8094379">(</span><span class="ident" id="8094380">b</span>&nbsp;<span class="op" id="8094382">*</span><span class="ident" id="8094383">testing</span><span class="op" id="8094390">.</span><span class="ident" id="8094391">B</span><span class="op" id="8094392">)</span>&nbsp;<span class="op" id="8094394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094397">bench</span><span class="op" id="8094402">(</span><span class="ident" id="8094403">b</span><span class="op" id="8094404">,</span>&nbsp;<span class="ident" id="8094406">color</span><span class="op" id="8094411">.</span><span class="ident" id="8094412">RGBA64Model</span><span class="op" id="8094423">,</span>&nbsp;<span class="ident" id="8094425">color</span><span class="op" id="8094430">.</span><span class="ident" id="8094431">RGBA64Model</span><span class="op" id="8094442">,</span>&nbsp;<span class="builtintype" id="8094444">nil</span><span class="op" id="8094447">,</span>&nbsp;<span class="ident" id="8094449">Src</span><span class="op" id="8094452">)</span><br>
<span class="lineno"></span><span class="op" id="8094454">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8094457">func</span>&nbsp;<span class="ident" id="8094462">BenchmarkGenericMaskSrc</span><span class="op" id="8094485">(</span><span class="ident" id="8094486">b</span>&nbsp;<span class="op" id="8094488">*</span><span class="ident" id="8094489">testing</span><span class="op" id="8094496">.</span><span class="ident" id="8094497">B</span><span class="op" id="8094498">)</span>&nbsp;<span class="op" id="8094500">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8094503">bench</span><span class="op" id="8094508">(</span><span class="ident" id="8094509">b</span><span class="op" id="8094510">,</span>&nbsp;<span class="ident" id="8094512">color</span><span class="op" id="8094517">.</span><span class="ident" id="8094518">RGBA64Model</span><span class="op" id="8094529">,</span>&nbsp;<span class="ident" id="8094531">color</span><span class="op" id="8094536">.</span><span class="ident" id="8094537">RGBA64Model</span><span class="op" id="8094548">,</span>&nbsp;<span class="ident" id="8094550">color</span><span class="op" id="8094555">.</span><span class="ident" id="8094556">AlphaModel</span><span class="op" id="8094566">,</span>&nbsp;<span class="ident" id="8094568">Src</span><span class="op" id="8094571">)</span><br>
<span class="lineno"></span><span class="op" id="8094573">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
