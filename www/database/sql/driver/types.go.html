<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5930352">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5930407">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5930461">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5930512">package</span>&nbsp;<span class="ident" id="5930520">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5930528">import</span>&nbsp;<span class="op" id="5930535">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5930538">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5930545">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5930556">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5930567">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="5930574">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5930577">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="5930647">//</span><br>
<span class="lineno"></span><span class="comment" id="5930650">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5930715">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="5930786">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="5930846">//</span><br>
<span class="lineno">20</span><span class="comment" id="5930849">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="5930918">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5930988">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5931049">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="5931078">//</span><br>
<span class="lineno">25</span><span class="comment" id="5931081">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5931149">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5931175">//</span><br>
<span class="lineno"></span><span class="comment" id="5931178">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="5931246">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="5931280">type</span>&nbsp;<span class="ident" id="5931285">ValueConverter</span>&nbsp;<span class="keyword" id="5931300">interface</span>&nbsp;<span class="op" id="5931310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5931313">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5931366">ConvertValue</span><span class="op" id="5931378">(</span><span class="ident" id="5931379">v</span>&nbsp;<span class="keyword" id="5931381">interface</span><span class="op" id="5931390">{</span><span class="op" id="5931391">}</span><span class="op" id="5931392">)</span>&nbsp;<span class="op" id="5931394">(</span><span class="ident" id="5931395">Value</span><span class="op" id="5931400">,</span>&nbsp;<span class="builtintype" id="5931402">error</span><span class="op" id="5931407">)</span><br>
<span class="lineno"></span><span class="op" id="5931409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5931412">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="5931467">//</span><br>
<span class="lineno"></span><span class="comment" id="5931470">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="5931529">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="5931562">type</span>&nbsp;<span class="ident" id="5931567">Valuer</span>&nbsp;<span class="keyword" id="5931574">interface</span>&nbsp;<span class="op" id="5931584">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5931587">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5931621">Value</span><span class="op" id="5931626">(</span><span class="op" id="5931627">)</span>&nbsp;<span class="op" id="5931629">(</span><span class="ident" id="5931630">Value</span><span class="op" id="5931635">,</span>&nbsp;<span class="builtintype" id="5931637">error</span><span class="op" id="5931642">)</span><br>
<span class="lineno"></span><span class="op" id="5931644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5931647">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="5931712">//</span><br>
<span class="lineno"></span><span class="comment" id="5931715">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="5931744">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="5931782">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="5931807">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="5931826">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="5931847">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="5931884">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="5931946">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="5931981">var</span>&nbsp;<span class="ident" id="5931985">Bool</span>&nbsp;<span class="ident" id="5931990">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5932000">type</span>&nbsp;<span class="ident" id="5932005">boolType</span>&nbsp;<span class="keyword" id="5932014">struct</span><span class="op" id="5932020">{</span><span class="op" id="5932021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5932024">var</span>&nbsp;<span class="ident" id="5932028">_</span>&nbsp;<span class="ident" id="5932030">ValueConverter</span>&nbsp;<span class="op" id="5932045">=</span>&nbsp;<span class="ident" id="5932047">boolType</span><span class="op" id="5932055">{</span><span class="op" id="5932056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5932059">func</span>&nbsp;<span class="op" id="5932064">(</span><span class="ident" id="5932065">boolType</span><span class="op" id="5932073">)</span>&nbsp;<span class="ident" id="5932075">String</span><span class="op" id="5932081">(</span><span class="op" id="5932082">)</span>&nbsp;<span class="builtintype" id="5932084">string</span>&nbsp;<span class="op" id="5932091">{</span>&nbsp;<span class="keyword" id="5932093">return</span>&nbsp;<span class="string" id="5932100">&#34;Bool&#34;</span>&nbsp;<span class="op" id="5932107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5932110">func</span>&nbsp;<span class="op" id="5932115">(</span><span class="ident" id="5932116">boolType</span><span class="op" id="5932124">)</span>&nbsp;<span class="ident" id="5932126">ConvertValue</span><span class="op" id="5932138">(</span><span class="ident" id="5932139">src</span>&nbsp;<span class="keyword" id="5932143">interface</span><span class="op" id="5932152">{</span><span class="op" id="5932153">}</span><span class="op" id="5932154">)</span>&nbsp;<span class="op" id="5932156">(</span><span class="ident" id="5932157">Value</span><span class="op" id="5932162">,</span>&nbsp;<span class="builtintype" id="5932164">error</span><span class="op" id="5932169">)</span>&nbsp;<span class="op" id="5932171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932174">switch</span>&nbsp;<span class="ident" id="5932181">s</span>&nbsp;<span class="op" id="5932183">:=</span>&nbsp;<span class="ident" id="5932186">src</span><span class="op" id="5932189">.</span><span class="op" id="5932190">(</span><span class="keyword" id="5932191">type</span><span class="op" id="5932195">)</span>&nbsp;<span class="op" id="5932197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932200">case</span>&nbsp;<span class="builtintype" id="5932205">bool</span><span class="op" id="5932209">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932213">return</span>&nbsp;<span class="ident" id="5932220">s</span><span class="op" id="5932221">,</span>&nbsp;<span class="ident" id="5932223">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932228">case</span>&nbsp;<span class="builtintype" id="5932233">string</span><span class="op" id="5932239">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5932243">b</span><span class="op" id="5932244">,</span>&nbsp;<span class="ident" id="5932246">err</span>&nbsp;<span class="op" id="5932250">:=</span>&nbsp;<span class="ident" id="5932253">strconv</span><span class="op" id="5932260">.</span><span class="ident" id="5932261">ParseBool</span><span class="op" id="5932270">(</span><span class="ident" id="5932271">s</span><span class="op" id="5932272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932276">if</span>&nbsp;<span class="ident" id="5932279">err</span>&nbsp;<span class="op" id="5932283">!=</span>&nbsp;<span class="ident" id="5932286">nil</span>&nbsp;<span class="op" id="5932290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932295">return</span>&nbsp;<span class="ident" id="5932302">nil</span><span class="op" id="5932305">,</span>&nbsp;<span class="ident" id="5932307">fmt</span><span class="op" id="5932310">.</span><span class="ident" id="5932311">Errorf</span><span class="op" id="5932317">(</span><span class="string" id="5932318">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5932366">,</span>&nbsp;<span class="ident" id="5932368">s</span><span class="op" id="5932369">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5932373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932377">return</span>&nbsp;<span class="ident" id="5932384">b</span><span class="op" id="5932385">,</span>&nbsp;<span class="ident" id="5932387">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932392">case</span>&nbsp;<span class="op" id="5932397">[</span><span class="op" id="5932398">]</span><span class="builtintype" id="5932399">byte</span><span class="op" id="5932403">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5932407">b</span><span class="op" id="5932408">,</span>&nbsp;<span class="ident" id="5932410">err</span>&nbsp;<span class="op" id="5932414">:=</span>&nbsp;<span class="ident" id="5932417">strconv</span><span class="op" id="5932424">.</span><span class="ident" id="5932425">ParseBool</span><span class="op" id="5932434">(</span><span class="builtintype" id="5932435">string</span><span class="op" id="5932441">(</span><span class="ident" id="5932442">s</span><span class="op" id="5932443">)</span><span class="op" id="5932444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932448">if</span>&nbsp;<span class="ident" id="5932451">err</span>&nbsp;<span class="op" id="5932455">!=</span>&nbsp;<span class="ident" id="5932458">nil</span>&nbsp;<span class="op" id="5932462">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932467">return</span>&nbsp;<span class="ident" id="5932474">nil</span><span class="op" id="5932477">,</span>&nbsp;<span class="ident" id="5932479">fmt</span><span class="op" id="5932482">.</span><span class="ident" id="5932483">Errorf</span><span class="op" id="5932489">(</span><span class="string" id="5932490">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5932538">,</span>&nbsp;<span class="ident" id="5932540">s</span><span class="op" id="5932541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5932545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932549">return</span>&nbsp;<span class="ident" id="5932556">b</span><span class="op" id="5932557">,</span>&nbsp;<span class="ident" id="5932559">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5932564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5932568">sv</span>&nbsp;<span class="op" id="5932571">:=</span>&nbsp;<span class="ident" id="5932574">reflect</span><span class="op" id="5932581">.</span><span class="ident" id="5932582">ValueOf</span><span class="op" id="5932589">(</span><span class="ident" id="5932590">src</span><span class="op" id="5932593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932596">switch</span>&nbsp;<span class="ident" id="5932603">sv</span><span class="op" id="5932605">.</span><span class="ident" id="5932606">Kind</span><span class="op" id="5932610">(</span><span class="op" id="5932611">)</span>&nbsp;<span class="op" id="5932613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932616">case</span>&nbsp;<span class="ident" id="5932621">reflect</span><span class="op" id="5932628">.</span><span class="ident" id="5932629">Int</span><span class="op" id="5932632">,</span>&nbsp;<span class="ident" id="5932634">reflect</span><span class="op" id="5932641">.</span><span class="ident" id="5932642">Int8</span><span class="op" id="5932646">,</span>&nbsp;<span class="ident" id="5932648">reflect</span><span class="op" id="5932655">.</span><span class="ident" id="5932656">Int16</span><span class="op" id="5932661">,</span>&nbsp;<span class="ident" id="5932663">reflect</span><span class="op" id="5932670">.</span><span class="ident" id="5932671">Int32</span><span class="op" id="5932676">,</span>&nbsp;<span class="ident" id="5932678">reflect</span><span class="op" id="5932685">.</span><span class="ident" id="5932686">Int64</span><span class="op" id="5932691">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5932695">iv</span>&nbsp;<span class="op" id="5932698">:=</span>&nbsp;<span class="ident" id="5932701">sv</span><span class="op" id="5932703">.</span><span class="ident" id="5932704">Int</span><span class="op" id="5932707">(</span><span class="op" id="5932708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932712">if</span>&nbsp;<span class="ident" id="5932715">iv</span>&nbsp;<span class="op" id="5932718">==</span>&nbsp;<span class="num" id="5932721">1</span>&nbsp;<span class="op" id="5932723">||</span>&nbsp;<span class="ident" id="5932726">iv</span>&nbsp;<span class="op" id="5932729">==</span>&nbsp;<span class="num" id="5932732">0</span>&nbsp;<span class="op" id="5932734">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932739">return</span>&nbsp;<span class="ident" id="5932746">iv</span>&nbsp;<span class="op" id="5932749">==</span>&nbsp;<span class="num" id="5932752">1</span><span class="op" id="5932753">,</span>&nbsp;<span class="ident" id="5932755">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5932761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932765">return</span>&nbsp;<span class="ident" id="5932772">nil</span><span class="op" id="5932775">,</span>&nbsp;<span class="ident" id="5932777">fmt</span><span class="op" id="5932780">.</span><span class="ident" id="5932781">Errorf</span><span class="op" id="5932787">(</span><span class="string" id="5932788">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5932836">,</span>&nbsp;<span class="ident" id="5932838">iv</span><span class="op" id="5932840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932843">case</span>&nbsp;<span class="ident" id="5932848">reflect</span><span class="op" id="5932855">.</span><span class="ident" id="5932856">Uint</span><span class="op" id="5932860">,</span>&nbsp;<span class="ident" id="5932862">reflect</span><span class="op" id="5932869">.</span><span class="ident" id="5932870">Uint8</span><span class="op" id="5932875">,</span>&nbsp;<span class="ident" id="5932877">reflect</span><span class="op" id="5932884">.</span><span class="ident" id="5932885">Uint16</span><span class="op" id="5932891">,</span>&nbsp;<span class="ident" id="5932893">reflect</span><span class="op" id="5932900">.</span><span class="ident" id="5932901">Uint32</span><span class="op" id="5932907">,</span>&nbsp;<span class="ident" id="5932909">reflect</span><span class="op" id="5932916">.</span><span class="ident" id="5932917">Uint64</span><span class="op" id="5932923">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5932927">uv</span>&nbsp;<span class="op" id="5932930">:=</span>&nbsp;<span class="ident" id="5932933">sv</span><span class="op" id="5932935">.</span><span class="ident" id="5932936">Uint</span><span class="op" id="5932940">(</span><span class="op" id="5932941">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932945">if</span>&nbsp;<span class="ident" id="5932948">uv</span>&nbsp;<span class="op" id="5932951">==</span>&nbsp;<span class="num" id="5932954">1</span>&nbsp;<span class="op" id="5932956">||</span>&nbsp;<span class="ident" id="5932959">uv</span>&nbsp;<span class="op" id="5932962">==</span>&nbsp;<span class="num" id="5932965">0</span>&nbsp;<span class="op" id="5932967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932972">return</span>&nbsp;<span class="ident" id="5932979">uv</span>&nbsp;<span class="op" id="5932982">==</span>&nbsp;<span class="num" id="5932985">1</span><span class="op" id="5932986">,</span>&nbsp;<span class="ident" id="5932988">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5932994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5932998">return</span>&nbsp;<span class="ident" id="5933005">nil</span><span class="op" id="5933008">,</span>&nbsp;<span class="ident" id="5933010">fmt</span><span class="op" id="5933013">.</span><span class="ident" id="5933014">Errorf</span><span class="op" id="5933020">(</span><span class="string" id="5933021">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5933069">,</span>&nbsp;<span class="ident" id="5933071">uv</span><span class="op" id="5933073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5933076">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933080">return</span>&nbsp;<span class="ident" id="5933087">nil</span><span class="op" id="5933090">,</span>&nbsp;<span class="ident" id="5933092">fmt</span><span class="op" id="5933095">.</span><span class="ident" id="5933096">Errorf</span><span class="op" id="5933102">(</span><span class="string" id="5933103">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5933156">,</span>&nbsp;<span class="ident" id="5933158">src</span><span class="op" id="5933161">,</span>&nbsp;<span class="ident" id="5933163">src</span><span class="op" id="5933166">)</span><br>
<span class="lineno"></span><span class="op" id="5933168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5933171">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="5933237">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5933281">var</span>&nbsp;<span class="ident" id="5933285">Int32</span>&nbsp;<span class="ident" id="5933291">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5933302">type</span>&nbsp;<span class="ident" id="5933307">int32Type</span>&nbsp;<span class="keyword" id="5933317">struct</span><span class="op" id="5933323">{</span><span class="op" id="5933324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5933327">var</span>&nbsp;<span class="ident" id="5933331">_</span>&nbsp;<span class="ident" id="5933333">ValueConverter</span>&nbsp;<span class="op" id="5933348">=</span>&nbsp;<span class="ident" id="5933350">int32Type</span><span class="op" id="5933359">{</span><span class="op" id="5933360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5933363">func</span>&nbsp;<span class="op" id="5933368">(</span><span class="ident" id="5933369">int32Type</span><span class="op" id="5933378">)</span>&nbsp;<span class="ident" id="5933380">ConvertValue</span><span class="op" id="5933392">(</span><span class="ident" id="5933393">v</span>&nbsp;<span class="keyword" id="5933395">interface</span><span class="op" id="5933404">{</span><span class="op" id="5933405">}</span><span class="op" id="5933406">)</span>&nbsp;<span class="op" id="5933408">(</span><span class="ident" id="5933409">Value</span><span class="op" id="5933414">,</span>&nbsp;<span class="builtintype" id="5933416">error</span><span class="op" id="5933421">)</span>&nbsp;<span class="op" id="5933423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5933426">rv</span>&nbsp;<span class="op" id="5933429">:=</span>&nbsp;<span class="ident" id="5933432">reflect</span><span class="op" id="5933439">.</span><span class="ident" id="5933440">ValueOf</span><span class="op" id="5933447">(</span><span class="ident" id="5933448">v</span><span class="op" id="5933449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933452">switch</span>&nbsp;<span class="ident" id="5933459">rv</span><span class="op" id="5933461">.</span><span class="ident" id="5933462">Kind</span><span class="op" id="5933466">(</span><span class="op" id="5933467">)</span>&nbsp;<span class="op" id="5933469">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933472">case</span>&nbsp;<span class="ident" id="5933477">reflect</span><span class="op" id="5933484">.</span><span class="ident" id="5933485">Int</span><span class="op" id="5933488">,</span>&nbsp;<span class="ident" id="5933490">reflect</span><span class="op" id="5933497">.</span><span class="ident" id="5933498">Int8</span><span class="op" id="5933502">,</span>&nbsp;<span class="ident" id="5933504">reflect</span><span class="op" id="5933511">.</span><span class="ident" id="5933512">Int16</span><span class="op" id="5933517">,</span>&nbsp;<span class="ident" id="5933519">reflect</span><span class="op" id="5933526">.</span><span class="ident" id="5933527">Int32</span><span class="op" id="5933532">,</span>&nbsp;<span class="ident" id="5933534">reflect</span><span class="op" id="5933541">.</span><span class="ident" id="5933542">Int64</span><span class="op" id="5933547">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5933551">i64</span>&nbsp;<span class="op" id="5933555">:=</span>&nbsp;<span class="ident" id="5933558">rv</span><span class="op" id="5933560">.</span><span class="ident" id="5933561">Int</span><span class="op" id="5933564">(</span><span class="op" id="5933565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933569">if</span>&nbsp;<span class="ident" id="5933572">i64</span>&nbsp;<span class="op" id="5933576">&gt;</span>&nbsp;<span class="op" id="5933578">(</span><span class="num" id="5933579">1</span><span class="op" id="5933580">&lt;&lt;</span><span class="num" id="5933582">31</span><span class="op" id="5933584">)</span><span class="op" id="5933585">-</span><span class="num" id="5933586">1</span>&nbsp;<span class="op" id="5933588">||</span>&nbsp;<span class="ident" id="5933591">i64</span>&nbsp;<span class="op" id="5933595">&lt;</span>&nbsp;<span class="op" id="5933597">-</span><span class="op" id="5933598">(</span><span class="num" id="5933599">1</span><span class="op" id="5933600">&lt;&lt;</span><span class="num" id="5933602">31</span><span class="op" id="5933604">)</span>&nbsp;<span class="op" id="5933606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933611">return</span>&nbsp;<span class="ident" id="5933618">nil</span><span class="op" id="5933621">,</span>&nbsp;<span class="ident" id="5933623">fmt</span><span class="op" id="5933626">.</span><span class="ident" id="5933627">Errorf</span><span class="op" id="5933633">(</span><span class="string" id="5933634">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5933672">,</span>&nbsp;<span class="ident" id="5933674">v</span><span class="op" id="5933675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5933679">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933683">return</span>&nbsp;<span class="ident" id="5933690">i64</span><span class="op" id="5933693">,</span>&nbsp;<span class="ident" id="5933695">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933700">case</span>&nbsp;<span class="ident" id="5933705">reflect</span><span class="op" id="5933712">.</span><span class="ident" id="5933713">Uint</span><span class="op" id="5933717">,</span>&nbsp;<span class="ident" id="5933719">reflect</span><span class="op" id="5933726">.</span><span class="ident" id="5933727">Uint8</span><span class="op" id="5933732">,</span>&nbsp;<span class="ident" id="5933734">reflect</span><span class="op" id="5933741">.</span><span class="ident" id="5933742">Uint16</span><span class="op" id="5933748">,</span>&nbsp;<span class="ident" id="5933750">reflect</span><span class="op" id="5933757">.</span><span class="ident" id="5933758">Uint32</span><span class="op" id="5933764">,</span>&nbsp;<span class="ident" id="5933766">reflect</span><span class="op" id="5933773">.</span><span class="ident" id="5933774">Uint64</span><span class="op" id="5933780">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5933784">u64</span>&nbsp;<span class="op" id="5933788">:=</span>&nbsp;<span class="ident" id="5933791">rv</span><span class="op" id="5933793">.</span><span class="ident" id="5933794">Uint</span><span class="op" id="5933798">(</span><span class="op" id="5933799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933803">if</span>&nbsp;<span class="ident" id="5933806">u64</span>&nbsp;<span class="op" id="5933810">&gt;</span>&nbsp;<span class="op" id="5933812">(</span><span class="num" id="5933813">1</span><span class="op" id="5933814">&lt;&lt;</span><span class="num" id="5933816">31</span><span class="op" id="5933818">)</span><span class="op" id="5933819">-</span><span class="num" id="5933820">1</span>&nbsp;<span class="op" id="5933822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933827">return</span>&nbsp;<span class="ident" id="5933834">nil</span><span class="op" id="5933837">,</span>&nbsp;<span class="ident" id="5933839">fmt</span><span class="op" id="5933842">.</span><span class="ident" id="5933843">Errorf</span><span class="op" id="5933849">(</span><span class="string" id="5933850">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5933888">,</span>&nbsp;<span class="ident" id="5933890">v</span><span class="op" id="5933891">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5933895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933899">return</span>&nbsp;<span class="ident" id="5933906">int64</span><span class="op" id="5933911">(</span><span class="ident" id="5933912">u64</span><span class="op" id="5933915">)</span><span class="op" id="5933916">,</span>&nbsp;<span class="ident" id="5933918">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933923">case</span>&nbsp;<span class="ident" id="5933928">reflect</span><span class="op" id="5933935">.</span><span class="ident" id="5933936">String</span><span class="op" id="5933942">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5933946">i</span><span class="op" id="5933947">,</span>&nbsp;<span class="ident" id="5933949">err</span>&nbsp;<span class="op" id="5933953">:=</span>&nbsp;<span class="ident" id="5933956">strconv</span><span class="op" id="5933963">.</span><span class="ident" id="5933964">Atoi</span><span class="op" id="5933968">(</span><span class="ident" id="5933969">rv</span><span class="op" id="5933971">.</span><span class="ident" id="5933972">String</span><span class="op" id="5933978">(</span><span class="op" id="5933979">)</span><span class="op" id="5933980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5933984">if</span>&nbsp;<span class="ident" id="5933987">err</span>&nbsp;<span class="op" id="5933991">!=</span>&nbsp;<span class="ident" id="5933994">nil</span>&nbsp;<span class="op" id="5933998">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934003">return</span>&nbsp;<span class="ident" id="5934010">nil</span><span class="op" id="5934013">,</span>&nbsp;<span class="ident" id="5934015">fmt</span><span class="op" id="5934018">.</span><span class="ident" id="5934019">Errorf</span><span class="op" id="5934025">(</span><span class="string" id="5934026">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5934076">,</span>&nbsp;<span class="ident" id="5934078">v</span><span class="op" id="5934079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5934083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934087">return</span>&nbsp;<span class="ident" id="5934094">int64</span><span class="op" id="5934099">(</span><span class="ident" id="5934100">i</span><span class="op" id="5934101">)</span><span class="op" id="5934102">,</span>&nbsp;<span class="ident" id="5934104">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5934109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934112">return</span>&nbsp;<span class="ident" id="5934119">nil</span><span class="op" id="5934122">,</span>&nbsp;<span class="ident" id="5934124">fmt</span><span class="op" id="5934127">.</span><span class="ident" id="5934128">Errorf</span><span class="op" id="5934134">(</span><span class="string" id="5934135">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5934199">,</span>&nbsp;<span class="ident" id="5934201">v</span><span class="op" id="5934202">,</span>&nbsp;<span class="ident" id="5934204">v</span><span class="op" id="5934205">)</span><br>
<span class="lineno">130</span><span class="op" id="5934207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5934210">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="5934277">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="5934340">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="5934405">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="5934435">var</span>&nbsp;<span class="ident" id="5934439">String</span>&nbsp;<span class="ident" id="5934446">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5934458">type</span>&nbsp;<span class="ident" id="5934463">stringType</span>&nbsp;<span class="keyword" id="5934474">struct</span><span class="op" id="5934480">{</span><span class="op" id="5934481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="5934484">func</span>&nbsp;<span class="op" id="5934489">(</span><span class="ident" id="5934490">stringType</span><span class="op" id="5934500">)</span>&nbsp;<span class="ident" id="5934502">ConvertValue</span><span class="op" id="5934514">(</span><span class="ident" id="5934515">v</span>&nbsp;<span class="keyword" id="5934517">interface</span><span class="op" id="5934526">{</span><span class="op" id="5934527">}</span><span class="op" id="5934528">)</span>&nbsp;<span class="op" id="5934530">(</span><span class="ident" id="5934531">Value</span><span class="op" id="5934536">,</span>&nbsp;<span class="builtintype" id="5934538">error</span><span class="op" id="5934543">)</span>&nbsp;<span class="op" id="5934545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934548">switch</span>&nbsp;<span class="ident" id="5934555">v</span><span class="op" id="5934556">.</span><span class="op" id="5934557">(</span><span class="keyword" id="5934558">type</span><span class="op" id="5934562">)</span>&nbsp;<span class="op" id="5934564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934567">case</span>&nbsp;<span class="builtintype" id="5934572">string</span><span class="op" id="5934578">,</span>&nbsp;<span class="op" id="5934580">[</span><span class="op" id="5934581">]</span><span class="builtintype" id="5934582">byte</span><span class="op" id="5934586">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934590">return</span>&nbsp;<span class="ident" id="5934597">v</span><span class="op" id="5934598">,</span>&nbsp;<span class="ident" id="5934600">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5934605">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934608">return</span>&nbsp;<span class="ident" id="5934615">fmt</span><span class="op" id="5934618">.</span><span class="ident" id="5934619">Sprintf</span><span class="op" id="5934626">(</span><span class="string" id="5934627">&#34;%v&#34;</span><span class="op" id="5934631">,</span>&nbsp;<span class="ident" id="5934633">v</span><span class="op" id="5934634">)</span><span class="op" id="5934635">,</span>&nbsp;<span class="ident" id="5934637">nil</span><br>
<span class="lineno"></span><span class="op" id="5934641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5934644">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5934709">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="5934771">type</span>&nbsp;<span class="ident" id="5934776">Null</span>&nbsp;<span class="keyword" id="5934781">struct</span>&nbsp;<span class="op" id="5934788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5934791">Converter</span>&nbsp;<span class="ident" id="5934801">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="5934816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5934819">func</span>&nbsp;<span class="op" id="5934824">(</span><span class="ident" id="5934825">n</span>&nbsp;<span class="ident" id="5934827">Null</span><span class="op" id="5934831">)</span>&nbsp;<span class="ident" id="5934833">ConvertValue</span><span class="op" id="5934845">(</span><span class="ident" id="5934846">v</span>&nbsp;<span class="keyword" id="5934848">interface</span><span class="op" id="5934857">{</span><span class="op" id="5934858">}</span><span class="op" id="5934859">)</span>&nbsp;<span class="op" id="5934861">(</span><span class="ident" id="5934862">Value</span><span class="op" id="5934867">,</span>&nbsp;<span class="builtintype" id="5934869">error</span><span class="op" id="5934874">)</span>&nbsp;<span class="op" id="5934876">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934879">if</span>&nbsp;<span class="ident" id="5934882">v</span>&nbsp;<span class="op" id="5934884">==</span>&nbsp;<span class="ident" id="5934887">nil</span>&nbsp;<span class="op" id="5934891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934895">return</span>&nbsp;<span class="ident" id="5934902">nil</span><span class="op" id="5934905">,</span>&nbsp;<span class="ident" id="5934907">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5934912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5934915">return</span>&nbsp;<span class="ident" id="5934922">n</span><span class="op" id="5934923">.</span><span class="ident" id="5934924">Converter</span><span class="op" id="5934933">.</span><span class="ident" id="5934934">ConvertValue</span><span class="op" id="5934946">(</span><span class="ident" id="5934947">v</span><span class="op" id="5934948">)</span><br>
<span class="lineno"></span><span class="op" id="5934950">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="5934953">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5935024">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="5935086">type</span>&nbsp;<span class="ident" id="5935091">NotNull</span>&nbsp;<span class="keyword" id="5935099">struct</span>&nbsp;<span class="op" id="5935106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5935109">Converter</span>&nbsp;<span class="ident" id="5935119">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="5935134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5935137">func</span>&nbsp;<span class="op" id="5935142">(</span><span class="ident" id="5935143">n</span>&nbsp;<span class="ident" id="5935145">NotNull</span><span class="op" id="5935152">)</span>&nbsp;<span class="ident" id="5935154">ConvertValue</span><span class="op" id="5935166">(</span><span class="ident" id="5935167">v</span>&nbsp;<span class="keyword" id="5935169">interface</span><span class="op" id="5935178">{</span><span class="op" id="5935179">}</span><span class="op" id="5935180">)</span>&nbsp;<span class="op" id="5935182">(</span><span class="ident" id="5935183">Value</span><span class="op" id="5935188">,</span>&nbsp;<span class="builtintype" id="5935190">error</span><span class="op" id="5935195">)</span>&nbsp;<span class="op" id="5935197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935200">if</span>&nbsp;<span class="ident" id="5935203">v</span>&nbsp;<span class="op" id="5935205">==</span>&nbsp;<span class="ident" id="5935208">nil</span>&nbsp;<span class="op" id="5935212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935216">return</span>&nbsp;<span class="ident" id="5935223">nil</span><span class="op" id="5935226">,</span>&nbsp;<span class="ident" id="5935228">fmt</span><span class="op" id="5935231">.</span><span class="ident" id="5935232">Errorf</span><span class="op" id="5935238">(</span><span class="string" id="5935239">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="5935262">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5935265">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935268">return</span>&nbsp;<span class="ident" id="5935275">n</span><span class="op" id="5935276">.</span><span class="ident" id="5935277">Converter</span><span class="op" id="5935286">.</span><span class="ident" id="5935287">ConvertValue</span><span class="op" id="5935299">(</span><span class="ident" id="5935300">v</span><span class="op" id="5935301">)</span><br>
<span class="lineno"></span><span class="op" id="5935303">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5935306">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="5935368">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5935424">func</span>&nbsp;<span class="ident" id="5935429">IsValue</span><span class="op" id="5935436">(</span><span class="ident" id="5935437">v</span>&nbsp;<span class="keyword" id="5935439">interface</span><span class="op" id="5935448">{</span><span class="op" id="5935449">}</span><span class="op" id="5935450">)</span>&nbsp;<span class="builtintype" id="5935452">bool</span>&nbsp;<span class="op" id="5935457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935460">if</span>&nbsp;<span class="ident" id="5935463">IsScanValue</span><span class="op" id="5935474">(</span><span class="ident" id="5935475">v</span><span class="op" id="5935476">)</span>&nbsp;<span class="op" id="5935478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935482">return</span>&nbsp;<span class="ident" id="5935489">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5935495">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935498">if</span>&nbsp;<span class="ident" id="5935501">_</span><span class="op" id="5935502">,</span>&nbsp;<span class="ident" id="5935504">ok</span>&nbsp;<span class="op" id="5935507">:=</span>&nbsp;<span class="ident" id="5935510">v</span><span class="op" id="5935511">.</span><span class="op" id="5935512">(</span><span class="builtintype" id="5935513">string</span><span class="op" id="5935519">)</span><span class="op" id="5935520">;</span>&nbsp;<span class="ident" id="5935522">ok</span>&nbsp;<span class="op" id="5935525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935529">return</span>&nbsp;<span class="ident" id="5935536">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5935542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935545">return</span>&nbsp;<span class="ident" id="5935552">false</span><br>
<span class="lineno"></span><span class="op" id="5935558">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="5935561">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="5935622">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5935686">func</span>&nbsp;<span class="ident" id="5935691">IsScanValue</span><span class="op" id="5935702">(</span><span class="ident" id="5935703">v</span>&nbsp;<span class="keyword" id="5935705">interface</span><span class="op" id="5935714">{</span><span class="op" id="5935715">}</span><span class="op" id="5935716">)</span>&nbsp;<span class="builtintype" id="5935718">bool</span>&nbsp;<span class="op" id="5935723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935726">if</span>&nbsp;<span class="ident" id="5935729">v</span>&nbsp;<span class="op" id="5935731">==</span>&nbsp;<span class="ident" id="5935734">nil</span>&nbsp;<span class="op" id="5935738">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935742">return</span>&nbsp;<span class="ident" id="5935749">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5935755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935758">switch</span>&nbsp;<span class="ident" id="5935765">v</span><span class="op" id="5935766">.</span><span class="op" id="5935767">(</span><span class="keyword" id="5935768">type</span><span class="op" id="5935772">)</span>&nbsp;<span class="op" id="5935774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935777">case</span>&nbsp;<span class="ident" id="5935782">int64</span><span class="op" id="5935787">,</span>&nbsp;<span class="builtintype" id="5935789">float64</span><span class="op" id="5935796">,</span>&nbsp;<span class="op" id="5935798">[</span><span class="op" id="5935799">]</span><span class="builtintype" id="5935800">byte</span><span class="op" id="5935804">,</span>&nbsp;<span class="builtintype" id="5935806">bool</span><span class="op" id="5935810">,</span>&nbsp;<span class="ident" id="5935812">time</span><span class="op" id="5935816">.</span><span class="ident" id="5935817">Time</span><span class="op" id="5935821">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935825">return</span>&nbsp;<span class="ident" id="5935832">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5935838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5935841">return</span>&nbsp;<span class="ident" id="5935848">false</span><br>
<span class="lineno"></span><span class="op" id="5935854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5935857">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="5935919">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="5935979">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="5935999">//</span><br>
<span class="lineno"></span><span class="comment" id="5936002">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5936067">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="5936127">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="5936196">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5936209">var</span>&nbsp;<span class="ident" id="5936213">DefaultParameterConverter</span>&nbsp;<span class="ident" id="5936239">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5936257">type</span>&nbsp;<span class="ident" id="5936262">defaultConverter</span>&nbsp;<span class="keyword" id="5936279">struct</span><span class="op" id="5936285">{</span><span class="op" id="5936286">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="5936289">var</span>&nbsp;<span class="ident" id="5936293">_</span>&nbsp;<span class="ident" id="5936295">ValueConverter</span>&nbsp;<span class="op" id="5936310">=</span>&nbsp;<span class="ident" id="5936312">defaultConverter</span><span class="op" id="5936328">{</span><span class="op" id="5936329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5936332">func</span>&nbsp;<span class="op" id="5936337">(</span><span class="ident" id="5936338">defaultConverter</span><span class="op" id="5936354">)</span>&nbsp;<span class="ident" id="5936356">ConvertValue</span><span class="op" id="5936368">(</span><span class="ident" id="5936369">v</span>&nbsp;<span class="keyword" id="5936371">interface</span><span class="op" id="5936380">{</span><span class="op" id="5936381">}</span><span class="op" id="5936382">)</span>&nbsp;<span class="op" id="5936384">(</span><span class="ident" id="5936385">Value</span><span class="op" id="5936390">,</span>&nbsp;<span class="builtintype" id="5936392">error</span><span class="op" id="5936397">)</span>&nbsp;<span class="op" id="5936399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936402">if</span>&nbsp;<span class="ident" id="5936405">IsValue</span><span class="op" id="5936412">(</span><span class="ident" id="5936413">v</span><span class="op" id="5936414">)</span>&nbsp;<span class="op" id="5936416">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936420">return</span>&nbsp;<span class="ident" id="5936427">v</span><span class="op" id="5936428">,</span>&nbsp;<span class="ident" id="5936430">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5936435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936439">if</span>&nbsp;<span class="ident" id="5936442">svi</span><span class="op" id="5936445">,</span>&nbsp;<span class="ident" id="5936447">ok</span>&nbsp;<span class="op" id="5936450">:=</span>&nbsp;<span class="ident" id="5936453">v</span><span class="op" id="5936454">.</span><span class="op" id="5936455">(</span><span class="ident" id="5936456">Valuer</span><span class="op" id="5936462">)</span><span class="op" id="5936463">;</span>&nbsp;<span class="ident" id="5936465">ok</span>&nbsp;<span class="op" id="5936468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5936472">sv</span><span class="op" id="5936474">,</span>&nbsp;<span class="ident" id="5936476">err</span>&nbsp;<span class="op" id="5936480">:=</span>&nbsp;<span class="ident" id="5936483">svi</span><span class="op" id="5936486">.</span><span class="ident" id="5936487">Value</span><span class="op" id="5936492">(</span><span class="op" id="5936493">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936497">if</span>&nbsp;<span class="ident" id="5936500">err</span>&nbsp;<span class="op" id="5936504">!=</span>&nbsp;<span class="ident" id="5936507">nil</span>&nbsp;<span class="op" id="5936511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936516">return</span>&nbsp;<span class="ident" id="5936523">nil</span><span class="op" id="5936526">,</span>&nbsp;<span class="ident" id="5936528">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5936534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936538">if</span>&nbsp;<span class="op" id="5936541">!</span><span class="ident" id="5936542">IsValue</span><span class="op" id="5936549">(</span><span class="ident" id="5936550">sv</span><span class="op" id="5936552">)</span>&nbsp;<span class="op" id="5936554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936559">return</span>&nbsp;<span class="ident" id="5936566">nil</span><span class="op" id="5936569">,</span>&nbsp;<span class="ident" id="5936571">fmt</span><span class="op" id="5936574">.</span><span class="ident" id="5936575">Errorf</span><span class="op" id="5936581">(</span><span class="string" id="5936582">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="5936621">,</span>&nbsp;<span class="ident" id="5936623">sv</span><span class="op" id="5936625">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5936629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936633">return</span>&nbsp;<span class="ident" id="5936640">sv</span><span class="op" id="5936642">,</span>&nbsp;<span class="ident" id="5936644">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5936649">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5936653">rv</span>&nbsp;<span class="op" id="5936656">:=</span>&nbsp;<span class="ident" id="5936659">reflect</span><span class="op" id="5936666">.</span><span class="ident" id="5936667">ValueOf</span><span class="op" id="5936674">(</span><span class="ident" id="5936675">v</span><span class="op" id="5936676">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936679">switch</span>&nbsp;<span class="ident" id="5936686">rv</span><span class="op" id="5936688">.</span><span class="ident" id="5936689">Kind</span><span class="op" id="5936693">(</span><span class="op" id="5936694">)</span>&nbsp;<span class="op" id="5936696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936699">case</span>&nbsp;<span class="ident" id="5936704">reflect</span><span class="op" id="5936711">.</span><span class="ident" id="5936712">Ptr</span><span class="op" id="5936715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5936719">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936742">if</span>&nbsp;<span class="ident" id="5936745">rv</span><span class="op" id="5936747">.</span><span class="ident" id="5936748">IsNil</span><span class="op" id="5936753">(</span><span class="op" id="5936754">)</span>&nbsp;<span class="op" id="5936756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936761">return</span>&nbsp;<span class="ident" id="5936768">nil</span><span class="op" id="5936771">,</span>&nbsp;<span class="ident" id="5936773">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5936779">}</span>&nbsp;<span class="keyword" id="5936781">else</span>&nbsp;<span class="op" id="5936786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936791">return</span>&nbsp;<span class="ident" id="5936798">defaultConverter</span><span class="op" id="5936814">{</span><span class="op" id="5936815">}</span><span class="op" id="5936816">.</span><span class="ident" id="5936817">ConvertValue</span><span class="op" id="5936829">(</span><span class="ident" id="5936830">rv</span><span class="op" id="5936832">.</span><span class="ident" id="5936833">Elem</span><span class="op" id="5936837">(</span><span class="op" id="5936838">)</span><span class="op" id="5936839">.</span><span class="ident" id="5936840">Interface</span><span class="op" id="5936849">(</span><span class="op" id="5936850">)</span><span class="op" id="5936851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5936855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936858">case</span>&nbsp;<span class="ident" id="5936863">reflect</span><span class="op" id="5936870">.</span><span class="ident" id="5936871">Int</span><span class="op" id="5936874">,</span>&nbsp;<span class="ident" id="5936876">reflect</span><span class="op" id="5936883">.</span><span class="ident" id="5936884">Int8</span><span class="op" id="5936888">,</span>&nbsp;<span class="ident" id="5936890">reflect</span><span class="op" id="5936897">.</span><span class="ident" id="5936898">Int16</span><span class="op" id="5936903">,</span>&nbsp;<span class="ident" id="5936905">reflect</span><span class="op" id="5936912">.</span><span class="ident" id="5936913">Int32</span><span class="op" id="5936918">,</span>&nbsp;<span class="ident" id="5936920">reflect</span><span class="op" id="5936927">.</span><span class="ident" id="5936928">Int64</span><span class="op" id="5936933">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936937">return</span>&nbsp;<span class="ident" id="5936944">rv</span><span class="op" id="5936946">.</span><span class="ident" id="5936947">Int</span><span class="op" id="5936950">(</span><span class="op" id="5936951">)</span><span class="op" id="5936952">,</span>&nbsp;<span class="ident" id="5936954">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5936959">case</span>&nbsp;<span class="ident" id="5936964">reflect</span><span class="op" id="5936971">.</span><span class="ident" id="5936972">Uint</span><span class="op" id="5936976">,</span>&nbsp;<span class="ident" id="5936978">reflect</span><span class="op" id="5936985">.</span><span class="ident" id="5936986">Uint8</span><span class="op" id="5936991">,</span>&nbsp;<span class="ident" id="5936993">reflect</span><span class="op" id="5937000">.</span><span class="ident" id="5937001">Uint16</span><span class="op" id="5937007">,</span>&nbsp;<span class="ident" id="5937009">reflect</span><span class="op" id="5937016">.</span><span class="ident" id="5937017">Uint32</span><span class="op" id="5937023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937027">return</span>&nbsp;<span class="ident" id="5937034">int64</span><span class="op" id="5937039">(</span><span class="ident" id="5937040">rv</span><span class="op" id="5937042">.</span><span class="ident" id="5937043">Uint</span><span class="op" id="5937047">(</span><span class="op" id="5937048">)</span><span class="op" id="5937049">)</span><span class="op" id="5937050">,</span>&nbsp;<span class="ident" id="5937052">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937057">case</span>&nbsp;<span class="ident" id="5937062">reflect</span><span class="op" id="5937069">.</span><span class="ident" id="5937070">Uint64</span><span class="op" id="5937076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5937080">u64</span>&nbsp;<span class="op" id="5937084">:=</span>&nbsp;<span class="ident" id="5937087">rv</span><span class="op" id="5937089">.</span><span class="ident" id="5937090">Uint</span><span class="op" id="5937094">(</span><span class="op" id="5937095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937099">if</span>&nbsp;<span class="ident" id="5937102">u64</span>&nbsp;<span class="op" id="5937106">&gt;=</span>&nbsp;<span class="num" id="5937109">1</span><span class="op" id="5937110">&lt;&lt;</span><span class="num" id="5937112">63</span>&nbsp;<span class="op" id="5937115">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937120">return</span>&nbsp;<span class="ident" id="5937127">nil</span><span class="op" id="5937130">,</span>&nbsp;<span class="ident" id="5937132">fmt</span><span class="op" id="5937135">.</span><span class="ident" id="5937136">Errorf</span><span class="op" id="5937142">(</span><span class="string" id="5937143">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="5937194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5937198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937202">return</span>&nbsp;<span class="ident" id="5937209">int64</span><span class="op" id="5937214">(</span><span class="ident" id="5937215">u64</span><span class="op" id="5937218">)</span><span class="op" id="5937219">,</span>&nbsp;<span class="ident" id="5937221">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937226">case</span>&nbsp;<span class="ident" id="5937231">reflect</span><span class="op" id="5937238">.</span><span class="ident" id="5937239">Float32</span><span class="op" id="5937246">,</span>&nbsp;<span class="ident" id="5937248">reflect</span><span class="op" id="5937255">.</span><span class="ident" id="5937256">Float64</span><span class="op" id="5937263">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937267">return</span>&nbsp;<span class="ident" id="5937274">rv</span><span class="op" id="5937276">.</span><span class="ident" id="5937277">Float</span><span class="op" id="5937282">(</span><span class="op" id="5937283">)</span><span class="op" id="5937284">,</span>&nbsp;<span class="ident" id="5937286">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5937291">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5937294">return</span>&nbsp;<span class="ident" id="5937301">nil</span><span class="op" id="5937304">,</span>&nbsp;<span class="ident" id="5937306">fmt</span><span class="op" id="5937309">.</span><span class="ident" id="5937310">Errorf</span><span class="op" id="5937316">(</span><span class="string" id="5937317">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="5937344">,</span>&nbsp;<span class="ident" id="5937346">v</span><span class="op" id="5937347">,</span>&nbsp;<span class="ident" id="5937349">rv</span><span class="op" id="5937351">.</span><span class="ident" id="5937352">Kind</span><span class="op" id="5937356">(</span><span class="op" id="5937357">)</span><span class="op" id="5937358">)</span><br>
<span class="lineno"></span><span class="op" id="5937360">}</span>
</div>
</body>
</html>
