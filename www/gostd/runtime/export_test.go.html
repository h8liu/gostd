<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6879868">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6879924">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6879978">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6880029">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880058">package</span>&nbsp;<span class="ident" id="6880066">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880075">import</span>&nbsp;<span class="string" id="6880082">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6880092">var</span>&nbsp;<span class="ident" id="6880096">Fadd64</span>&nbsp;<span class="op" id="6880103">=</span>&nbsp;<span class="ident" id="6880105">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="6880112">var</span>&nbsp;<span class="ident" id="6880116">Fsub64</span>&nbsp;<span class="op" id="6880123">=</span>&nbsp;<span class="ident" id="6880125">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="6880132">var</span>&nbsp;<span class="ident" id="6880136">Fmul64</span>&nbsp;<span class="op" id="6880143">=</span>&nbsp;<span class="ident" id="6880145">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="6880152">var</span>&nbsp;<span class="ident" id="6880156">Fdiv64</span>&nbsp;<span class="op" id="6880163">=</span>&nbsp;<span class="ident" id="6880165">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="6880172">var</span>&nbsp;<span class="ident" id="6880176">F64to32</span>&nbsp;<span class="op" id="6880184">=</span>&nbsp;<span class="ident" id="6880186">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="6880194">var</span>&nbsp;<span class="ident" id="6880198">F32to64</span>&nbsp;<span class="op" id="6880206">=</span>&nbsp;<span class="ident" id="6880208">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="6880216">var</span>&nbsp;<span class="ident" id="6880220">Fcmp64</span>&nbsp;<span class="op" id="6880227">=</span>&nbsp;<span class="ident" id="6880229">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="6880236">var</span>&nbsp;<span class="ident" id="6880240">Fintto64</span>&nbsp;<span class="op" id="6880249">=</span>&nbsp;<span class="ident" id="6880251">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="6880260">var</span>&nbsp;<span class="ident" id="6880264">F64toint</span>&nbsp;<span class="op" id="6880273">=</span>&nbsp;<span class="ident" id="6880275">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6880285">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="6880299">func</span>&nbsp;<span class="ident" id="6880304">stackguard</span><span class="op" id="6880314">(</span><span class="op" id="6880315">)</span>&nbsp;<span class="op" id="6880317">(</span><span class="ident" id="6880318">sp</span><span class="op" id="6880320">,</span>&nbsp;<span class="ident" id="6880322">limit</span>&nbsp;<span class="builtintype" id="6880328">uintptr</span><span class="op" id="6880335">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880338">var</span>&nbsp;<span class="ident" id="6880342">Entersyscall</span>&nbsp;<span class="op" id="6880355">=</span>&nbsp;<span class="ident" id="6880357">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="6880370">var</span>&nbsp;<span class="ident" id="6880374">Exitsyscall</span>&nbsp;<span class="op" id="6880386">=</span>&nbsp;<span class="ident" id="6880388">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="6880400">var</span>&nbsp;<span class="ident" id="6880404">LockedOSThread</span>&nbsp;<span class="op" id="6880419">=</span>&nbsp;<span class="ident" id="6880421">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880437">type</span>&nbsp;<span class="ident" id="6880442">LFNode</span>&nbsp;<span class="keyword" id="6880449">struct</span>&nbsp;<span class="op" id="6880456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880459">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880467">*</span><span class="ident" id="6880468">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880476">Pushcnt</span>&nbsp;<span class="builtintype" id="6880484">uintptr</span><br>
<span class="lineno"></span><span class="op" id="6880492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880495">func</span>&nbsp;<span class="ident" id="6880500">lfstackpush_m</span><span class="op" id="6880513">(</span><span class="op" id="6880514">)</span><br>
<span class="lineno"></span><span class="keyword" id="6880516">func</span>&nbsp;<span class="ident" id="6880521">lfstackpop_m</span><span class="op" id="6880533">(</span><span class="op" id="6880534">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="6880537">func</span>&nbsp;<span class="ident" id="6880542">LFStackPush</span><span class="op" id="6880553">(</span><span class="ident" id="6880554">head</span>&nbsp;<span class="op" id="6880559">*</span><span class="ident" id="6880560">uint64</span><span class="op" id="6880566">,</span>&nbsp;<span class="ident" id="6880568">node</span>&nbsp;<span class="op" id="6880573">*</span><span class="ident" id="6880574">LFNode</span><span class="op" id="6880580">)</span>&nbsp;<span class="op" id="6880582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880585">mp</span>&nbsp;<span class="op" id="6880588">:=</span>&nbsp;<span class="ident" id="6880591">acquirem</span><span class="op" id="6880599">(</span><span class="op" id="6880600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880603">mp</span><span class="op" id="6880605">.</span><span class="ident" id="6880606">ptrarg</span><span class="op" id="6880612">[</span><span class="num" id="6880613">0</span><span class="op" id="6880614">]</span>&nbsp;<span class="op" id="6880616">=</span>&nbsp;<span class="ident" id="6880618">unsafe</span><span class="op" id="6880624">.</span><span class="ident" id="6880625">Pointer</span><span class="op" id="6880632">(</span><span class="ident" id="6880633">head</span><span class="op" id="6880637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880640">mp</span><span class="op" id="6880642">.</span><span class="ident" id="6880643">ptrarg</span><span class="op" id="6880649">[</span><span class="num" id="6880650">1</span><span class="op" id="6880651">]</span>&nbsp;<span class="op" id="6880653">=</span>&nbsp;<span class="ident" id="6880655">unsafe</span><span class="op" id="6880661">.</span><span class="ident" id="6880662">Pointer</span><span class="op" id="6880669">(</span><span class="ident" id="6880670">node</span><span class="op" id="6880674">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880677">onM</span><span class="op" id="6880680">(</span><span class="ident" id="6880681">lfstackpush_m</span><span class="op" id="6880694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880697">releasem</span><span class="op" id="6880705">(</span><span class="ident" id="6880706">mp</span><span class="op" id="6880708">)</span><br>
<span class="lineno"></span><span class="op" id="6880710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880713">func</span>&nbsp;<span class="ident" id="6880718">LFStackPop</span><span class="op" id="6880728">(</span><span class="ident" id="6880729">head</span>&nbsp;<span class="op" id="6880734">*</span><span class="ident" id="6880735">uint64</span><span class="op" id="6880741">)</span>&nbsp;<span class="op" id="6880743">*</span><span class="ident" id="6880744">LFNode</span>&nbsp;<span class="op" id="6880751">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880754">mp</span>&nbsp;<span class="op" id="6880757">:=</span>&nbsp;<span class="ident" id="6880760">acquirem</span><span class="op" id="6880768">(</span><span class="op" id="6880769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880772">mp</span><span class="op" id="6880774">.</span><span class="ident" id="6880775">ptrarg</span><span class="op" id="6880781">[</span><span class="num" id="6880782">0</span><span class="op" id="6880783">]</span>&nbsp;<span class="op" id="6880785">=</span>&nbsp;<span class="ident" id="6880787">unsafe</span><span class="op" id="6880793">.</span><span class="ident" id="6880794">Pointer</span><span class="op" id="6880801">(</span><span class="ident" id="6880802">head</span><span class="op" id="6880806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880809">onM</span><span class="op" id="6880812">(</span><span class="ident" id="6880813">lfstackpop_m</span><span class="op" id="6880825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880828">node</span>&nbsp;<span class="op" id="6880833">:=</span>&nbsp;<span class="op" id="6880836">(</span><span class="op" id="6880837">*</span><span class="ident" id="6880838">LFNode</span><span class="op" id="6880844">)</span><span class="op" id="6880845">(</span><span class="ident" id="6880846">unsafe</span><span class="op" id="6880852">.</span><span class="ident" id="6880853">Pointer</span><span class="op" id="6880860">(</span><span class="ident" id="6880861">mp</span><span class="op" id="6880863">.</span><span class="ident" id="6880864">ptrarg</span><span class="op" id="6880870">[</span><span class="num" id="6880871">0</span><span class="op" id="6880872">]</span><span class="op" id="6880873">)</span><span class="op" id="6880874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880877">mp</span><span class="op" id="6880879">.</span><span class="ident" id="6880880">ptrarg</span><span class="op" id="6880886">[</span><span class="num" id="6880887">0</span><span class="op" id="6880888">]</span>&nbsp;<span class="op" id="6880890">=</span>&nbsp;<span class="ident" id="6880892">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880897">releasem</span><span class="op" id="6880905">(</span><span class="ident" id="6880906">mp</span><span class="op" id="6880908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6880911">return</span>&nbsp;<span class="ident" id="6880918">node</span><br>
<span class="lineno"></span><span class="op" id="6880923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6880926">type</span>&nbsp;<span class="ident" id="6880931">ParFor</span>&nbsp;<span class="keyword" id="6880938">struct</span>&nbsp;<span class="op" id="6880945">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880948">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6880956">*</span><span class="builtintype" id="6880957">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880963">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6880971">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880979">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6880987">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6880995">nthrmax</span>&nbsp;<span class="builtintype" id="6881003">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881011">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="6881019">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881027">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6881035">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881043">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6881051">*</span><span class="builtintype" id="6881052">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881058">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6881066">bool</span><br>
<span class="lineno"></span><span class="op" id="6881071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="6881074">func</span>&nbsp;<span class="ident" id="6881079">newparfor_m</span><span class="op" id="6881090">(</span><span class="op" id="6881091">)</span><br>
<span class="lineno"></span><span class="keyword" id="6881093">func</span>&nbsp;<span class="ident" id="6881098">parforsetup_m</span><span class="op" id="6881111">(</span><span class="op" id="6881112">)</span><br>
<span class="lineno"></span><span class="keyword" id="6881114">func</span>&nbsp;<span class="ident" id="6881119">parfordo_m</span><span class="op" id="6881129">(</span><span class="op" id="6881130">)</span><br>
<span class="lineno"></span><span class="keyword" id="6881132">func</span>&nbsp;<span class="ident" id="6881137">parforiters_m</span><span class="op" id="6881150">(</span><span class="op" id="6881151">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6881154">func</span>&nbsp;<span class="ident" id="6881159">NewParFor</span><span class="op" id="6881168">(</span><span class="ident" id="6881169">nthrmax</span>&nbsp;<span class="builtintype" id="6881177">uint32</span><span class="op" id="6881183">)</span>&nbsp;<span class="op" id="6881185">*</span><span class="ident" id="6881186">ParFor</span>&nbsp;<span class="op" id="6881193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881196">mp</span>&nbsp;<span class="op" id="6881199">:=</span>&nbsp;<span class="ident" id="6881202">acquirem</span><span class="op" id="6881210">(</span><span class="op" id="6881211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881214">mp</span><span class="op" id="6881216">.</span><span class="ident" id="6881217">scalararg</span><span class="op" id="6881226">[</span><span class="num" id="6881227">0</span><span class="op" id="6881228">]</span>&nbsp;<span class="op" id="6881230">=</span>&nbsp;<span class="builtintype" id="6881232">uintptr</span><span class="op" id="6881239">(</span><span class="ident" id="6881240">nthrmax</span><span class="op" id="6881247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881250">onM</span><span class="op" id="6881253">(</span><span class="ident" id="6881254">newparfor_m</span><span class="op" id="6881265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881268">desc</span>&nbsp;<span class="op" id="6881273">:=</span>&nbsp;<span class="op" id="6881276">(</span><span class="op" id="6881277">*</span><span class="ident" id="6881278">ParFor</span><span class="op" id="6881284">)</span><span class="op" id="6881285">(</span><span class="ident" id="6881286">mp</span><span class="op" id="6881288">.</span><span class="ident" id="6881289">ptrarg</span><span class="op" id="6881295">[</span><span class="num" id="6881296">0</span><span class="op" id="6881297">]</span><span class="op" id="6881298">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881301">mp</span><span class="op" id="6881303">.</span><span class="ident" id="6881304">ptrarg</span><span class="op" id="6881310">[</span><span class="num" id="6881311">0</span><span class="op" id="6881312">]</span>&nbsp;<span class="op" id="6881314">=</span>&nbsp;<span class="ident" id="6881316">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881321">releasem</span><span class="op" id="6881329">(</span><span class="ident" id="6881330">mp</span><span class="op" id="6881332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881335">return</span>&nbsp;<span class="ident" id="6881342">desc</span><br>
<span class="lineno"></span><span class="op" id="6881347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="6881350">func</span>&nbsp;<span class="ident" id="6881355">ParForSetup</span><span class="op" id="6881366">(</span><span class="ident" id="6881367">desc</span>&nbsp;<span class="op" id="6881372">*</span><span class="ident" id="6881373">ParFor</span><span class="op" id="6881379">,</span>&nbsp;<span class="ident" id="6881381">nthr</span><span class="op" id="6881385">,</span>&nbsp;<span class="ident" id="6881387">n</span>&nbsp;<span class="builtintype" id="6881389">uint32</span><span class="op" id="6881395">,</span>&nbsp;<span class="ident" id="6881397">ctx</span>&nbsp;<span class="op" id="6881401">*</span><span class="builtintype" id="6881402">byte</span><span class="op" id="6881406">,</span>&nbsp;<span class="ident" id="6881408">wait</span>&nbsp;<span class="builtintype" id="6881413">bool</span><span class="op" id="6881417">,</span>&nbsp;<span class="ident" id="6881419">body</span>&nbsp;<span class="keyword" id="6881424">func</span><span class="op" id="6881428">(</span><span class="op" id="6881429">*</span><span class="ident" id="6881430">ParFor</span><span class="op" id="6881436">,</span>&nbsp;<span class="builtintype" id="6881438">uint32</span><span class="op" id="6881444">)</span><span class="op" id="6881445">)</span>&nbsp;<span class="op" id="6881447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881450">mp</span>&nbsp;<span class="op" id="6881453">:=</span>&nbsp;<span class="ident" id="6881456">acquirem</span><span class="op" id="6881464">(</span><span class="op" id="6881465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881468">mp</span><span class="op" id="6881470">.</span><span class="ident" id="6881471">ptrarg</span><span class="op" id="6881477">[</span><span class="num" id="6881478">0</span><span class="op" id="6881479">]</span>&nbsp;<span class="op" id="6881481">=</span>&nbsp;<span class="ident" id="6881483">unsafe</span><span class="op" id="6881489">.</span><span class="ident" id="6881490">Pointer</span><span class="op" id="6881497">(</span><span class="ident" id="6881498">desc</span><span class="op" id="6881502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881505">mp</span><span class="op" id="6881507">.</span><span class="ident" id="6881508">ptrarg</span><span class="op" id="6881514">[</span><span class="num" id="6881515">1</span><span class="op" id="6881516">]</span>&nbsp;<span class="op" id="6881518">=</span>&nbsp;<span class="ident" id="6881520">unsafe</span><span class="op" id="6881526">.</span><span class="ident" id="6881527">Pointer</span><span class="op" id="6881534">(</span><span class="ident" id="6881535">ctx</span><span class="op" id="6881538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881541">mp</span><span class="op" id="6881543">.</span><span class="ident" id="6881544">ptrarg</span><span class="op" id="6881550">[</span><span class="num" id="6881551">2</span><span class="op" id="6881552">]</span>&nbsp;<span class="op" id="6881554">=</span>&nbsp;<span class="ident" id="6881556">unsafe</span><span class="op" id="6881562">.</span><span class="ident" id="6881563">Pointer</span><span class="op" id="6881570">(</span><span class="ident" id="6881571">funcPC</span><span class="op" id="6881577">(</span><span class="ident" id="6881578">body</span><span class="op" id="6881582">)</span><span class="op" id="6881583">)</span>&nbsp;<span class="comment" id="6881585">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881620">mp</span><span class="op" id="6881622">.</span><span class="ident" id="6881623">scalararg</span><span class="op" id="6881632">[</span><span class="num" id="6881633">0</span><span class="op" id="6881634">]</span>&nbsp;<span class="op" id="6881636">=</span>&nbsp;<span class="builtintype" id="6881638">uintptr</span><span class="op" id="6881645">(</span><span class="ident" id="6881646">nthr</span><span class="op" id="6881650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881653">mp</span><span class="op" id="6881655">.</span><span class="ident" id="6881656">scalararg</span><span class="op" id="6881665">[</span><span class="num" id="6881666">1</span><span class="op" id="6881667">]</span>&nbsp;<span class="op" id="6881669">=</span>&nbsp;<span class="builtintype" id="6881671">uintptr</span><span class="op" id="6881678">(</span><span class="ident" id="6881679">n</span><span class="op" id="6881680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881683">mp</span><span class="op" id="6881685">.</span><span class="ident" id="6881686">scalararg</span><span class="op" id="6881695">[</span><span class="num" id="6881696">2</span><span class="op" id="6881697">]</span>&nbsp;<span class="op" id="6881699">=</span>&nbsp;<span class="num" id="6881701">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6881704">if</span>&nbsp;<span class="ident" id="6881707">wait</span>&nbsp;<span class="op" id="6881712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881716">mp</span><span class="op" id="6881718">.</span><span class="ident" id="6881719">scalararg</span><span class="op" id="6881728">[</span><span class="num" id="6881729">2</span><span class="op" id="6881730">]</span>&nbsp;<span class="op" id="6881732">=</span>&nbsp;<span class="num" id="6881734">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6881737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881740">onM</span><span class="op" id="6881743">(</span><span class="ident" id="6881744">parforsetup_m</span><span class="op" id="6881757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881760">releasem</span><span class="op" id="6881768">(</span><span class="ident" id="6881769">mp</span><span class="op" id="6881771">)</span><br>
<span class="lineno"></span><span class="op" id="6881773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6881776">func</span>&nbsp;<span class="ident" id="6881781">ParForDo</span><span class="op" id="6881789">(</span><span class="ident" id="6881790">desc</span>&nbsp;<span class="op" id="6881795">*</span><span class="ident" id="6881796">ParFor</span><span class="op" id="6881802">)</span>&nbsp;<span class="op" id="6881804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881807">mp</span>&nbsp;<span class="op" id="6881810">:=</span>&nbsp;<span class="ident" id="6881813">acquirem</span><span class="op" id="6881821">(</span><span class="op" id="6881822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881825">mp</span><span class="op" id="6881827">.</span><span class="ident" id="6881828">ptrarg</span><span class="op" id="6881834">[</span><span class="num" id="6881835">0</span><span class="op" id="6881836">]</span>&nbsp;<span class="op" id="6881838">=</span>&nbsp;<span class="ident" id="6881840">unsafe</span><span class="op" id="6881846">.</span><span class="ident" id="6881847">Pointer</span><span class="op" id="6881854">(</span><span class="ident" id="6881855">desc</span><span class="op" id="6881859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881862">onM</span><span class="op" id="6881865">(</span><span class="ident" id="6881866">parfordo_m</span><span class="op" id="6881876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881879">releasem</span><span class="op" id="6881887">(</span><span class="ident" id="6881888">mp</span><span class="op" id="6881890">)</span><br>
<span class="lineno">100</span><span class="op" id="6881892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6881895">func</span>&nbsp;<span class="ident" id="6881900">ParForIters</span><span class="op" id="6881911">(</span><span class="ident" id="6881912">desc</span>&nbsp;<span class="op" id="6881917">*</span><span class="ident" id="6881918">ParFor</span><span class="op" id="6881924">,</span>&nbsp;<span class="ident" id="6881926">tid</span>&nbsp;<span class="builtintype" id="6881930">uint32</span><span class="op" id="6881936">)</span>&nbsp;<span class="op" id="6881938">(</span><span class="builtintype" id="6881939">uint32</span><span class="op" id="6881945">,</span>&nbsp;<span class="builtintype" id="6881947">uint32</span><span class="op" id="6881953">)</span>&nbsp;<span class="op" id="6881955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881958">mp</span>&nbsp;<span class="op" id="6881961">:=</span>&nbsp;<span class="ident" id="6881964">acquirem</span><span class="op" id="6881972">(</span><span class="op" id="6881973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6881976">mp</span><span class="op" id="6881978">.</span><span class="ident" id="6881979">ptrarg</span><span class="op" id="6881985">[</span><span class="num" id="6881986">0</span><span class="op" id="6881987">]</span>&nbsp;<span class="op" id="6881989">=</span>&nbsp;<span class="ident" id="6881991">unsafe</span><span class="op" id="6881997">.</span><span class="ident" id="6881998">Pointer</span><span class="op" id="6882005">(</span><span class="ident" id="6882006">desc</span><span class="op" id="6882010">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882013">mp</span><span class="op" id="6882015">.</span><span class="ident" id="6882016">scalararg</span><span class="op" id="6882025">[</span><span class="num" id="6882026">0</span><span class="op" id="6882027">]</span>&nbsp;<span class="op" id="6882029">=</span>&nbsp;<span class="builtintype" id="6882031">uintptr</span><span class="op" id="6882038">(</span><span class="ident" id="6882039">tid</span><span class="op" id="6882042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882045">onM</span><span class="op" id="6882048">(</span><span class="ident" id="6882049">parforiters_m</span><span class="op" id="6882062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882065">begin</span>&nbsp;<span class="op" id="6882071">:=</span>&nbsp;<span class="builtintype" id="6882074">uint32</span><span class="op" id="6882080">(</span><span class="ident" id="6882081">mp</span><span class="op" id="6882083">.</span><span class="ident" id="6882084">scalararg</span><span class="op" id="6882093">[</span><span class="num" id="6882094">0</span><span class="op" id="6882095">]</span><span class="op" id="6882096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882099">end</span>&nbsp;<span class="op" id="6882103">:=</span>&nbsp;<span class="builtintype" id="6882106">uint32</span><span class="op" id="6882112">(</span><span class="ident" id="6882113">mp</span><span class="op" id="6882115">.</span><span class="ident" id="6882116">scalararg</span><span class="op" id="6882125">[</span><span class="num" id="6882126">1</span><span class="op" id="6882127">]</span><span class="op" id="6882128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882131">releasem</span><span class="op" id="6882139">(</span><span class="ident" id="6882140">mp</span><span class="op" id="6882142">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882145">return</span>&nbsp;<span class="ident" id="6882152">begin</span><span class="op" id="6882157">,</span>&nbsp;<span class="ident" id="6882159">end</span><br>
<span class="lineno"></span><span class="op" id="6882163">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6882166">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="6882179">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="6882193">func</span>&nbsp;<span class="ident" id="6882198">getgcmask</span><span class="op" id="6882207">(</span><span class="ident" id="6882208">data</span>&nbsp;<span class="ident" id="6882213">unsafe</span><span class="op" id="6882219">.</span><span class="ident" id="6882220">Pointer</span><span class="op" id="6882227">,</span>&nbsp;<span class="ident" id="6882229">typ</span>&nbsp;<span class="op" id="6882233">*</span><span class="ident" id="6882234">_type</span><span class="op" id="6882239">,</span>&nbsp;<span class="ident" id="6882241">array</span>&nbsp;<span class="op" id="6882247">*</span><span class="op" id="6882248">*</span><span class="builtintype" id="6882249">byte</span><span class="op" id="6882253">,</span>&nbsp;<span class="builtinfunc" id="6882255">len</span>&nbsp;<span class="op" id="6882259">*</span><span class="builtintype" id="6882260">uint</span><span class="op" id="6882264">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882267">func</span>&nbsp;<span class="ident" id="6882272">GCMask</span><span class="op" id="6882278">(</span><span class="ident" id="6882279">x</span>&nbsp;<span class="keyword" id="6882281">interface</span><span class="op" id="6882290">{</span><span class="op" id="6882291">}</span><span class="op" id="6882292">)</span>&nbsp;<span class="op" id="6882294">(</span><span class="ident" id="6882295">ret</span>&nbsp;<span class="op" id="6882299">[</span><span class="op" id="6882300">]</span><span class="builtintype" id="6882301">byte</span><span class="op" id="6882305">)</span>&nbsp;<span class="op" id="6882307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882310">e</span>&nbsp;<span class="op" id="6882312">:=</span>&nbsp;<span class="op" id="6882315">(</span><span class="op" id="6882316">*</span><span class="ident" id="6882317">eface</span><span class="op" id="6882322">)</span><span class="op" id="6882323">(</span><span class="ident" id="6882324">unsafe</span><span class="op" id="6882330">.</span><span class="ident" id="6882331">Pointer</span><span class="op" id="6882338">(</span><span class="op" id="6882339">&amp;</span><span class="ident" id="6882340">x</span><span class="op" id="6882341">)</span><span class="op" id="6882342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882345">s</span>&nbsp;<span class="op" id="6882347">:=</span>&nbsp;<span class="op" id="6882350">(</span><span class="op" id="6882351">*</span><span class="ident" id="6882352">slice</span><span class="op" id="6882357">)</span><span class="op" id="6882358">(</span><span class="ident" id="6882359">unsafe</span><span class="op" id="6882365">.</span><span class="ident" id="6882366">Pointer</span><span class="op" id="6882373">(</span><span class="op" id="6882374">&amp;</span><span class="ident" id="6882375">ret</span><span class="op" id="6882378">)</span><span class="op" id="6882379">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882382">onM</span><span class="op" id="6882385">(</span><span class="keyword" id="6882386">func</span><span class="op" id="6882390">(</span><span class="op" id="6882391">)</span>&nbsp;<span class="op" id="6882393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882397">getgcmask</span><span class="op" id="6882406">(</span><span class="ident" id="6882407">e</span><span class="op" id="6882408">.</span><span class="ident" id="6882409">data</span><span class="op" id="6882413">,</span>&nbsp;<span class="ident" id="6882415">e</span><span class="op" id="6882416">.</span><span class="ident" id="6882417">_type</span><span class="op" id="6882422">,</span>&nbsp;<span class="op" id="6882424">&amp;</span><span class="ident" id="6882425">s</span><span class="op" id="6882426">.</span><span class="ident" id="6882427">array</span><span class="op" id="6882432">,</span>&nbsp;<span class="op" id="6882434">&amp;</span><span class="ident" id="6882435">s</span><span class="op" id="6882436">.</span><span class="builtinfunc" id="6882437">len</span><span class="op" id="6882440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882444">s</span><span class="op" id="6882445">.</span><span class="builtinfunc" id="6882446">cap</span>&nbsp;<span class="op" id="6882450">=</span>&nbsp;<span class="ident" id="6882452">s</span><span class="op" id="6882453">.</span><span class="builtinfunc" id="6882454">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6882459">}</span><span class="op" id="6882460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882463">return</span><br>
<span class="lineno">125</span><span class="op" id="6882470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6882473">func</span>&nbsp;<span class="ident" id="6882478">testSchedLocalQueue</span><span class="op" id="6882497">(</span><span class="op" id="6882498">)</span><br>
<span class="lineno"></span><span class="keyword" id="6882500">func</span>&nbsp;<span class="ident" id="6882505">testSchedLocalQueueSteal</span><span class="op" id="6882529">(</span><span class="op" id="6882530">)</span><br>
<span class="lineno"></span><span class="keyword" id="6882532">func</span>&nbsp;<span class="ident" id="6882537">RunSchedLocalQueueTest</span><span class="op" id="6882559">(</span><span class="op" id="6882560">)</span>&nbsp;<span class="op" id="6882562">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882565">onM</span><span class="op" id="6882568">(</span><span class="ident" id="6882569">testSchedLocalQueue</span><span class="op" id="6882588">)</span><br>
<span class="lineno"></span><span class="op" id="6882590">}</span><br>
<span class="lineno"></span><span class="keyword" id="6882592">func</span>&nbsp;<span class="ident" id="6882597">RunSchedLocalQueueStealTest</span><span class="op" id="6882624">(</span><span class="op" id="6882625">)</span>&nbsp;<span class="op" id="6882627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6882630">onM</span><span class="op" id="6882633">(</span><span class="ident" id="6882634">testSchedLocalQueueSteal</span><span class="op" id="6882658">)</span><br>
<span class="lineno"></span><span class="op" id="6882660">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="6882663">var</span>&nbsp;<span class="ident" id="6882667">HaveGoodHash</span>&nbsp;<span class="op" id="6882680">=</span>&nbsp;<span class="ident" id="6882682">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="6882695">var</span>&nbsp;<span class="ident" id="6882699">StringHash</span>&nbsp;<span class="op" id="6882710">=</span>&nbsp;<span class="ident" id="6882712">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="6882723">var</span>&nbsp;<span class="ident" id="6882727">BytesHash</span>&nbsp;<span class="op" id="6882737">=</span>&nbsp;<span class="ident" id="6882739">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="6882749">var</span>&nbsp;<span class="ident" id="6882753">Int32Hash</span>&nbsp;<span class="op" id="6882763">=</span>&nbsp;<span class="ident" id="6882765">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="6882775">var</span>&nbsp;<span class="ident" id="6882779">Int64Hash</span>&nbsp;<span class="op" id="6882789">=</span>&nbsp;<span class="ident" id="6882791">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="6882801">var</span>&nbsp;<span class="ident" id="6882805">EfaceHash</span>&nbsp;<span class="op" id="6882815">=</span>&nbsp;<span class="ident" id="6882817">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="6882827">var</span>&nbsp;<span class="ident" id="6882831">IfaceHash</span>&nbsp;<span class="op" id="6882841">=</span>&nbsp;<span class="ident" id="6882843">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="6882853">var</span>&nbsp;<span class="ident" id="6882857">MemclrBytes</span>&nbsp;<span class="op" id="6882869">=</span>&nbsp;<span class="ident" id="6882871">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="6882884">var</span>&nbsp;<span class="ident" id="6882888">HashLoad</span>&nbsp;<span class="op" id="6882897">=</span>&nbsp;<span class="op" id="6882899">&amp;</span><span class="ident" id="6882900">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6882910">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="6882926">func</span>&nbsp;<span class="ident" id="6882931">GogoBytes</span><span class="op" id="6882940">(</span><span class="op" id="6882941">)</span>&nbsp;<span class="builtintype" id="6882943">int32</span>&nbsp;<span class="op" id="6882949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6882952">return</span>&nbsp;<span class="ident" id="6882959">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="6882977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6882980">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="6882995">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="6883009">func</span>&nbsp;<span class="ident" id="6883014">gostringw</span><span class="op" id="6883023">(</span><span class="ident" id="6883024">w</span>&nbsp;<span class="op" id="6883026">*</span><span class="builtintype" id="6883027">uint16</span><span class="op" id="6883033">)</span>&nbsp;<span class="builtintype" id="6883035">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="6883043">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="6883070">func</span>&nbsp;<span class="ident" id="6883075">GostringW</span><span class="op" id="6883084">(</span><span class="ident" id="6883085">w</span>&nbsp;<span class="op" id="6883087">[</span><span class="op" id="6883088">]</span><span class="builtintype" id="6883089">uint16</span><span class="op" id="6883095">)</span>&nbsp;<span class="op" id="6883097">(</span><span class="ident" id="6883098">s</span>&nbsp;<span class="builtintype" id="6883100">string</span><span class="op" id="6883106">)</span>&nbsp;<span class="op" id="6883108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883111">onM</span><span class="op" id="6883114">(</span><span class="keyword" id="6883115">func</span><span class="op" id="6883119">(</span><span class="op" id="6883120">)</span>&nbsp;<span class="op" id="6883122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6883126">s</span>&nbsp;<span class="op" id="6883128">=</span>&nbsp;<span class="ident" id="6883130">gostringw</span><span class="op" id="6883139">(</span><span class="op" id="6883140">&amp;</span><span class="ident" id="6883141">w</span><span class="op" id="6883142">[</span><span class="num" id="6883143">0</span><span class="op" id="6883144">]</span><span class="op" id="6883145">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6883148">}</span><span class="op" id="6883149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6883152">return</span><br>
<span class="lineno"></span><span class="op" id="6883159">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6883162">var</span>&nbsp;<span class="ident" id="6883166">Gostringnocopy</span>&nbsp;<span class="op" id="6883181">=</span>&nbsp;<span class="ident" id="6883183">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="6883198">var</span>&nbsp;<span class="ident" id="6883202">Maxstring</span>&nbsp;<span class="op" id="6883212">=</span>&nbsp;<span class="op" id="6883214">&amp;</span><span class="ident" id="6883215">maxstring</span>
</div>
</body>
</html>
