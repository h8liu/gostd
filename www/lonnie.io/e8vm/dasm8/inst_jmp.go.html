<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="4961046">package</span>&nbsp;<span class="ident" id="4961054">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4961061">import</span>&nbsp;<span class="op" id="4961068">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4961071">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4961077">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4961080">var</span>&nbsp;<span class="op" id="4961084">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961087">opJmpMap</span>&nbsp;<span class="op" id="4961096">=</span>&nbsp;<span class="keyword" id="4961098">map</span><span class="op" id="4961101">[</span><span class="builtintype" id="4961102">uint32</span><span class="op" id="4961108">]</span><span class="builtintype" id="4961109">string</span><span class="op" id="4961115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4961119">2</span><span class="op" id="4961120">:</span>&nbsp;<span class="string" id="4961122">&#34;j&#34;</span><span class="op" id="4961125">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4961129">3</span><span class="op" id="4961130">:</span>&nbsp;<span class="string" id="4961132">&#34;jal&#34;</span><span class="op" id="4961137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4961140">}</span><br>
<span class="lineno"></span><span class="op" id="4961142">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4961145">func</span>&nbsp;<span class="ident" id="4961150">instJmp</span><span class="op" id="4961157">(</span><span class="ident" id="4961158">addr</span>&nbsp;<span class="builtintype" id="4961163">uint32</span><span class="op" id="4961169">,</span>&nbsp;<span class="ident" id="4961171">in</span>&nbsp;<span class="builtintype" id="4961174">uint32</span><span class="op" id="4961180">)</span>&nbsp;<span class="op" id="4961182">*</span><span class="ident" id="4961183">Line</span>&nbsp;<span class="op" id="4961188">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961191">op</span>&nbsp;<span class="op" id="4961194">:=</span>&nbsp;<span class="op" id="4961197">(</span><span class="ident" id="4961198">in</span>&nbsp;<span class="op" id="4961201">&gt;&gt;</span>&nbsp;<span class="num" id="4961204">30</span><span class="op" id="4961206">)</span>&nbsp;<span class="op" id="4961208">&amp;</span>&nbsp;<span class="num" id="4961210">0x3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961215">off</span>&nbsp;<span class="op" id="4961219">:=</span>&nbsp;<span class="builtintype" id="4961222">int32</span><span class="op" id="4961227">(</span><span class="op" id="4961228">(</span><span class="ident" id="4961229">in</span>&nbsp;<span class="op" id="4961232">&amp;</span>&nbsp;<span class="num" id="4961234">0x3fffffff</span><span class="op" id="4961244">)</span>&nbsp;<span class="op" id="4961246">&lt;&lt;</span>&nbsp;<span class="num" id="4961249">2</span><span class="op" id="4961250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961253">ret</span>&nbsp;<span class="op" id="4961257">:=</span>&nbsp;<span class="ident" id="4961260">newLine</span><span class="op" id="4961267">(</span><span class="ident" id="4961268">addr</span><span class="op" id="4961272">,</span>&nbsp;<span class="ident" id="4961274">in</span><span class="op" id="4961276">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4961280">if</span>&nbsp;<span class="ident" id="4961283">opStr</span><span class="op" id="4961288">,</span>&nbsp;<span class="ident" id="4961290">found</span>&nbsp;<span class="op" id="4961296">:=</span>&nbsp;<span class="ident" id="4961299">opJmpMap</span><span class="op" id="4961307">[</span><span class="ident" id="4961308">op</span><span class="op" id="4961310">]</span><span class="op" id="4961311">;</span>&nbsp;<span class="ident" id="4961313">found</span>&nbsp;<span class="op" id="4961319">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961323">s</span>&nbsp;<span class="op" id="4961325">:=</span>&nbsp;<span class="ident" id="4961328">fmt</span><span class="op" id="4961331">.</span><span class="ident" id="4961332">Sprintf</span><span class="op" id="4961339">(</span><span class="string" id="4961340">&#34;%s&nbsp;%d&#34;</span><span class="op" id="4961347">,</span>&nbsp;<span class="ident" id="4961349">opStr</span><span class="op" id="4961354">,</span>&nbsp;<span class="ident" id="4961356">off</span><span class="op" id="4961359">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961364">ret</span><span class="op" id="4961367">.</span><span class="ident" id="4961368">Str</span>&nbsp;<span class="op" id="4961372">=</span>&nbsp;<span class="ident" id="4961374">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961378">ret</span><span class="op" id="4961381">.</span><span class="ident" id="4961382">IsJump</span>&nbsp;<span class="op" id="4961389">=</span>&nbsp;<span class="ident" id="4961391">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961398">ret</span><span class="op" id="4961401">.</span><span class="ident" id="4961402">To</span>&nbsp;<span class="op" id="4961405">=</span>&nbsp;<span class="ident" id="4961407">addr</span>&nbsp;<span class="op" id="4961412">+</span>&nbsp;<span class="num" id="4961414">4</span>&nbsp;<span class="op" id="4961416">+</span>&nbsp;<span class="builtintype" id="4961418">uint32</span><span class="op" id="4961424">(</span><span class="ident" id="4961425">off</span><span class="op" id="4961428">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4961431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4961435">return</span>&nbsp;<span class="ident" id="4961442">ret</span><br>
<span class="lineno"></span><span class="op" id="4961446">}</span>
</div>
</body>
</html>
