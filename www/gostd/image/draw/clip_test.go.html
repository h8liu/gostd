<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html" class="current">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6432351">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6432406">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6432460">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6432511">package</span>&nbsp;<span class="ident" id="6432519">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6432525">import</span>&nbsp;<span class="op" id="6432532">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432535">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432544">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6432554">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6432557">type</span>&nbsp;<span class="ident" id="6432562">clipTest</span>&nbsp;<span class="keyword" id="6432571">struct</span>&nbsp;<span class="op" id="6432578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432581">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6432595">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432603">r</span><span class="op" id="6432604">,</span>&nbsp;<span class="ident" id="6432606">dr</span><span class="op" id="6432608">,</span>&nbsp;<span class="ident" id="6432610">sr</span><span class="op" id="6432612">,</span>&nbsp;<span class="ident" id="6432614">mr</span>&nbsp;<span class="ident" id="6432617">image</span><span class="op" id="6432622">.</span><span class="ident" id="6432623">Rectangle</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432634">sp</span><span class="op" id="6432636">,</span>&nbsp;<span class="ident" id="6432638">mp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6432648">image</span><span class="op" id="6432653">.</span><span class="ident" id="6432654">Point</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432661">nilMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6432675">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432681">r0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6432695">image</span><span class="op" id="6432700">.</span><span class="ident" id="6432701">Rectangle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432712">sp0</span><span class="op" id="6432715">,</span>&nbsp;<span class="ident" id="6432717">mp0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6432726">image</span><span class="op" id="6432731">.</span><span class="ident" id="6432732">Point</span><br>
<span class="lineno"></span><span class="op" id="6432738">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6432741">var</span>&nbsp;<span class="ident" id="6432745">clipTests</span>&nbsp;<span class="op" id="6432755">=</span>&nbsp;<span class="op" id="6432757">[</span><span class="op" id="6432758">]</span><span class="ident" id="6432759">clipTest</span><span class="op" id="6432767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6432770">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6432815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6432819">&#34;basic&#34;</span><span class="op" id="6432826">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432830">image</span><span class="op" id="6432835">.</span><span class="ident" id="6432836">Rect</span><span class="op" id="6432840">(</span><span class="num" id="6432841">0</span><span class="op" id="6432842">,</span>&nbsp;<span class="num" id="6432844">0</span><span class="op" id="6432845">,</span>&nbsp;<span class="num" id="6432847">100</span><span class="op" id="6432850">,</span>&nbsp;<span class="num" id="6432852">100</span><span class="op" id="6432855">)</span><span class="op" id="6432856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432860">image</span><span class="op" id="6432865">.</span><span class="ident" id="6432866">Rect</span><span class="op" id="6432870">(</span><span class="num" id="6432871">0</span><span class="op" id="6432872">,</span>&nbsp;<span class="num" id="6432874">0</span><span class="op" id="6432875">,</span>&nbsp;<span class="num" id="6432877">100</span><span class="op" id="6432880">,</span>&nbsp;<span class="num" id="6432882">100</span><span class="op" id="6432885">)</span><span class="op" id="6432886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432890">image</span><span class="op" id="6432895">.</span><span class="ident" id="6432896">Rect</span><span class="op" id="6432900">(</span><span class="num" id="6432901">0</span><span class="op" id="6432902">,</span>&nbsp;<span class="num" id="6432904">0</span><span class="op" id="6432905">,</span>&nbsp;<span class="num" id="6432907">100</span><span class="op" id="6432910">,</span>&nbsp;<span class="num" id="6432912">100</span><span class="op" id="6432915">)</span><span class="op" id="6432916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432920">image</span><span class="op" id="6432925">.</span><span class="ident" id="6432926">ZR</span><span class="op" id="6432928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432932">image</span><span class="op" id="6432937">.</span><span class="ident" id="6432938">ZP</span><span class="op" id="6432940">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432944">image</span><span class="op" id="6432949">.</span><span class="ident" id="6432950">ZP</span><span class="op" id="6432952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6432956">true</span><span class="op" id="6432960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432964">image</span><span class="op" id="6432969">.</span><span class="ident" id="6432970">Rect</span><span class="op" id="6432974">(</span><span class="num" id="6432975">0</span><span class="op" id="6432976">,</span>&nbsp;<span class="num" id="6432978">0</span><span class="op" id="6432979">,</span>&nbsp;<span class="num" id="6432981">100</span><span class="op" id="6432984">,</span>&nbsp;<span class="num" id="6432986">100</span><span class="op" id="6432989">)</span><span class="op" id="6432990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6432994">image</span><span class="op" id="6432999">.</span><span class="ident" id="6433000">ZP</span><span class="op" id="6433002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433006">image</span><span class="op" id="6433011">.</span><span class="ident" id="6433012">ZP</span><span class="op" id="6433014">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433017">}</span><span class="op" id="6433018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6433025">&#34;clip&nbsp;dr&#34;</span><span class="op" id="6433034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433038">image</span><span class="op" id="6433043">.</span><span class="ident" id="6433044">Rect</span><span class="op" id="6433048">(</span><span class="num" id="6433049">0</span><span class="op" id="6433050">,</span>&nbsp;<span class="num" id="6433052">0</span><span class="op" id="6433053">,</span>&nbsp;<span class="num" id="6433055">100</span><span class="op" id="6433058">,</span>&nbsp;<span class="num" id="6433060">100</span><span class="op" id="6433063">)</span><span class="op" id="6433064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433068">image</span><span class="op" id="6433073">.</span><span class="ident" id="6433074">Rect</span><span class="op" id="6433078">(</span><span class="num" id="6433079">40</span><span class="op" id="6433081">,</span>&nbsp;<span class="num" id="6433083">40</span><span class="op" id="6433085">,</span>&nbsp;<span class="num" id="6433087">60</span><span class="op" id="6433089">,</span>&nbsp;<span class="num" id="6433091">60</span><span class="op" id="6433093">)</span><span class="op" id="6433094">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433098">image</span><span class="op" id="6433103">.</span><span class="ident" id="6433104">Rect</span><span class="op" id="6433108">(</span><span class="num" id="6433109">0</span><span class="op" id="6433110">,</span>&nbsp;<span class="num" id="6433112">0</span><span class="op" id="6433113">,</span>&nbsp;<span class="num" id="6433115">100</span><span class="op" id="6433118">,</span>&nbsp;<span class="num" id="6433120">100</span><span class="op" id="6433123">)</span><span class="op" id="6433124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433128">image</span><span class="op" id="6433133">.</span><span class="ident" id="6433134">ZR</span><span class="op" id="6433136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433140">image</span><span class="op" id="6433145">.</span><span class="ident" id="6433146">ZP</span><span class="op" id="6433148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433152">image</span><span class="op" id="6433157">.</span><span class="ident" id="6433158">ZP</span><span class="op" id="6433160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6433164">true</span><span class="op" id="6433168">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433172">image</span><span class="op" id="6433177">.</span><span class="ident" id="6433178">Rect</span><span class="op" id="6433182">(</span><span class="num" id="6433183">40</span><span class="op" id="6433185">,</span>&nbsp;<span class="num" id="6433187">40</span><span class="op" id="6433189">,</span>&nbsp;<span class="num" id="6433191">60</span><span class="op" id="6433193">,</span>&nbsp;<span class="num" id="6433195">60</span><span class="op" id="6433197">)</span><span class="op" id="6433198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433202">image</span><span class="op" id="6433207">.</span><span class="ident" id="6433208">Pt</span><span class="op" id="6433210">(</span><span class="num" id="6433211">40</span><span class="op" id="6433213">,</span>&nbsp;<span class="num" id="6433215">40</span><span class="op" id="6433217">)</span><span class="op" id="6433218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433222">image</span><span class="op" id="6433227">.</span><span class="ident" id="6433228">ZP</span><span class="op" id="6433230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433233">}</span><span class="op" id="6433234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433237">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6433241">&#34;clip&nbsp;sr&#34;</span><span class="op" id="6433250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433254">image</span><span class="op" id="6433259">.</span><span class="ident" id="6433260">Rect</span><span class="op" id="6433264">(</span><span class="num" id="6433265">0</span><span class="op" id="6433266">,</span>&nbsp;<span class="num" id="6433268">0</span><span class="op" id="6433269">,</span>&nbsp;<span class="num" id="6433271">100</span><span class="op" id="6433274">,</span>&nbsp;<span class="num" id="6433276">100</span><span class="op" id="6433279">)</span><span class="op" id="6433280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433284">image</span><span class="op" id="6433289">.</span><span class="ident" id="6433290">Rect</span><span class="op" id="6433294">(</span><span class="num" id="6433295">0</span><span class="op" id="6433296">,</span>&nbsp;<span class="num" id="6433298">0</span><span class="op" id="6433299">,</span>&nbsp;<span class="num" id="6433301">100</span><span class="op" id="6433304">,</span>&nbsp;<span class="num" id="6433306">100</span><span class="op" id="6433309">)</span><span class="op" id="6433310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433314">image</span><span class="op" id="6433319">.</span><span class="ident" id="6433320">Rect</span><span class="op" id="6433324">(</span><span class="num" id="6433325">20</span><span class="op" id="6433327">,</span>&nbsp;<span class="num" id="6433329">20</span><span class="op" id="6433331">,</span>&nbsp;<span class="num" id="6433333">80</span><span class="op" id="6433335">,</span>&nbsp;<span class="num" id="6433337">80</span><span class="op" id="6433339">)</span><span class="op" id="6433340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433344">image</span><span class="op" id="6433349">.</span><span class="ident" id="6433350">ZR</span><span class="op" id="6433352">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433356">image</span><span class="op" id="6433361">.</span><span class="ident" id="6433362">ZP</span><span class="op" id="6433364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433368">image</span><span class="op" id="6433373">.</span><span class="ident" id="6433374">ZP</span><span class="op" id="6433376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6433380">true</span><span class="op" id="6433384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433388">image</span><span class="op" id="6433393">.</span><span class="ident" id="6433394">Rect</span><span class="op" id="6433398">(</span><span class="num" id="6433399">20</span><span class="op" id="6433401">,</span>&nbsp;<span class="num" id="6433403">20</span><span class="op" id="6433405">,</span>&nbsp;<span class="num" id="6433407">80</span><span class="op" id="6433409">,</span>&nbsp;<span class="num" id="6433411">80</span><span class="op" id="6433413">)</span><span class="op" id="6433414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433418">image</span><span class="op" id="6433423">.</span><span class="ident" id="6433424">Pt</span><span class="op" id="6433426">(</span><span class="num" id="6433427">20</span><span class="op" id="6433429">,</span>&nbsp;<span class="num" id="6433431">20</span><span class="op" id="6433433">)</span><span class="op" id="6433434">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433438">image</span><span class="op" id="6433443">.</span><span class="ident" id="6433444">ZP</span><span class="op" id="6433446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433449">}</span><span class="op" id="6433450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6433457">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr&#34;</span><span class="op" id="6433473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433477">image</span><span class="op" id="6433482">.</span><span class="ident" id="6433483">Rect</span><span class="op" id="6433487">(</span><span class="num" id="6433488">0</span><span class="op" id="6433489">,</span>&nbsp;<span class="num" id="6433491">0</span><span class="op" id="6433492">,</span>&nbsp;<span class="num" id="6433494">100</span><span class="op" id="6433497">,</span>&nbsp;<span class="num" id="6433499">100</span><span class="op" id="6433502">)</span><span class="op" id="6433503">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433507">image</span><span class="op" id="6433512">.</span><span class="ident" id="6433513">Rect</span><span class="op" id="6433517">(</span><span class="num" id="6433518">0</span><span class="op" id="6433519">,</span>&nbsp;<span class="num" id="6433521">0</span><span class="op" id="6433522">,</span>&nbsp;<span class="num" id="6433524">50</span><span class="op" id="6433526">,</span>&nbsp;<span class="num" id="6433528">100</span><span class="op" id="6433531">)</span><span class="op" id="6433532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433536">image</span><span class="op" id="6433541">.</span><span class="ident" id="6433542">Rect</span><span class="op" id="6433546">(</span><span class="num" id="6433547">20</span><span class="op" id="6433549">,</span>&nbsp;<span class="num" id="6433551">20</span><span class="op" id="6433553">,</span>&nbsp;<span class="num" id="6433555">80</span><span class="op" id="6433557">,</span>&nbsp;<span class="num" id="6433559">80</span><span class="op" id="6433561">)</span><span class="op" id="6433562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433566">image</span><span class="op" id="6433571">.</span><span class="ident" id="6433572">ZR</span><span class="op" id="6433574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433578">image</span><span class="op" id="6433583">.</span><span class="ident" id="6433584">ZP</span><span class="op" id="6433586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433590">image</span><span class="op" id="6433595">.</span><span class="ident" id="6433596">ZP</span><span class="op" id="6433598">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6433602">true</span><span class="op" id="6433606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433610">image</span><span class="op" id="6433615">.</span><span class="ident" id="6433616">Rect</span><span class="op" id="6433620">(</span><span class="num" id="6433621">20</span><span class="op" id="6433623">,</span>&nbsp;<span class="num" id="6433625">20</span><span class="op" id="6433627">,</span>&nbsp;<span class="num" id="6433629">50</span><span class="op" id="6433631">,</span>&nbsp;<span class="num" id="6433633">80</span><span class="op" id="6433635">)</span><span class="op" id="6433636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433640">image</span><span class="op" id="6433645">.</span><span class="ident" id="6433646">Pt</span><span class="op" id="6433648">(</span><span class="num" id="6433649">20</span><span class="op" id="6433651">,</span>&nbsp;<span class="num" id="6433653">20</span><span class="op" id="6433655">)</span><span class="op" id="6433656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433660">image</span><span class="op" id="6433665">.</span><span class="ident" id="6433666">ZP</span><span class="op" id="6433668">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433671">}</span><span class="op" id="6433672">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6433679">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(top-left)&#34;</span><span class="op" id="6433721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433725">image</span><span class="op" id="6433730">.</span><span class="ident" id="6433731">Rect</span><span class="op" id="6433735">(</span><span class="num" id="6433736">0</span><span class="op" id="6433737">,</span>&nbsp;<span class="num" id="6433739">0</span><span class="op" id="6433740">,</span>&nbsp;<span class="num" id="6433742">100</span><span class="op" id="6433745">,</span>&nbsp;<span class="num" id="6433747">100</span><span class="op" id="6433750">)</span><span class="op" id="6433751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433755">image</span><span class="op" id="6433760">.</span><span class="ident" id="6433761">Rect</span><span class="op" id="6433765">(</span><span class="num" id="6433766">0</span><span class="op" id="6433767">,</span>&nbsp;<span class="num" id="6433769">0</span><span class="op" id="6433770">,</span>&nbsp;<span class="num" id="6433772">50</span><span class="op" id="6433774">,</span>&nbsp;<span class="num" id="6433776">100</span><span class="op" id="6433779">)</span><span class="op" id="6433780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433784">image</span><span class="op" id="6433789">.</span><span class="ident" id="6433790">Rect</span><span class="op" id="6433794">(</span><span class="num" id="6433795">20</span><span class="op" id="6433797">,</span>&nbsp;<span class="num" id="6433799">20</span><span class="op" id="6433801">,</span>&nbsp;<span class="num" id="6433803">80</span><span class="op" id="6433805">,</span>&nbsp;<span class="num" id="6433807">80</span><span class="op" id="6433809">)</span><span class="op" id="6433810">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433814">image</span><span class="op" id="6433819">.</span><span class="ident" id="6433820">ZR</span><span class="op" id="6433822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433826">image</span><span class="op" id="6433831">.</span><span class="ident" id="6433832">Pt</span><span class="op" id="6433834">(</span><span class="num" id="6433835">15</span><span class="op" id="6433837">,</span>&nbsp;<span class="num" id="6433839">8</span><span class="op" id="6433840">)</span><span class="op" id="6433841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433845">image</span><span class="op" id="6433850">.</span><span class="ident" id="6433851">ZP</span><span class="op" id="6433853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6433857">true</span><span class="op" id="6433861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433865">image</span><span class="op" id="6433870">.</span><span class="ident" id="6433871">Rect</span><span class="op" id="6433875">(</span><span class="num" id="6433876">5</span><span class="op" id="6433877">,</span>&nbsp;<span class="num" id="6433879">12</span><span class="op" id="6433881">,</span>&nbsp;<span class="num" id="6433883">50</span><span class="op" id="6433885">,</span>&nbsp;<span class="num" id="6433887">72</span><span class="op" id="6433889">)</span><span class="op" id="6433890">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433894">image</span><span class="op" id="6433899">.</span><span class="ident" id="6433900">Pt</span><span class="op" id="6433902">(</span><span class="num" id="6433903">20</span><span class="op" id="6433905">,</span>&nbsp;<span class="num" id="6433907">20</span><span class="op" id="6433909">)</span><span class="op" id="6433910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433914">image</span><span class="op" id="6433919">.</span><span class="ident" id="6433920">ZP</span><span class="op" id="6433922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433925">}</span><span class="op" id="6433926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6433929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6433933">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(middle-left)&#34;</span><span class="op" id="6433978">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6433982">image</span><span class="op" id="6433987">.</span><span class="ident" id="6433988">Rect</span><span class="op" id="6433992">(</span><span class="num" id="6433993">0</span><span class="op" id="6433994">,</span>&nbsp;<span class="num" id="6433996">0</span><span class="op" id="6433997">,</span>&nbsp;<span class="num" id="6433999">100</span><span class="op" id="6434002">,</span>&nbsp;<span class="num" id="6434004">100</span><span class="op" id="6434007">)</span><span class="op" id="6434008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434012">image</span><span class="op" id="6434017">.</span><span class="ident" id="6434018">Rect</span><span class="op" id="6434022">(</span><span class="num" id="6434023">0</span><span class="op" id="6434024">,</span>&nbsp;<span class="num" id="6434026">0</span><span class="op" id="6434027">,</span>&nbsp;<span class="num" id="6434029">50</span><span class="op" id="6434031">,</span>&nbsp;<span class="num" id="6434033">100</span><span class="op" id="6434036">)</span><span class="op" id="6434037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434041">image</span><span class="op" id="6434046">.</span><span class="ident" id="6434047">Rect</span><span class="op" id="6434051">(</span><span class="num" id="6434052">20</span><span class="op" id="6434054">,</span>&nbsp;<span class="num" id="6434056">20</span><span class="op" id="6434058">,</span>&nbsp;<span class="num" id="6434060">80</span><span class="op" id="6434062">,</span>&nbsp;<span class="num" id="6434064">80</span><span class="op" id="6434066">)</span><span class="op" id="6434067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434071">image</span><span class="op" id="6434076">.</span><span class="ident" id="6434077">ZR</span><span class="op" id="6434079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434083">image</span><span class="op" id="6434088">.</span><span class="ident" id="6434089">Pt</span><span class="op" id="6434091">(</span><span class="num" id="6434092">15</span><span class="op" id="6434094">,</span>&nbsp;<span class="num" id="6434096">66</span><span class="op" id="6434098">)</span><span class="op" id="6434099">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434103">image</span><span class="op" id="6434108">.</span><span class="ident" id="6434109">ZP</span><span class="op" id="6434111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6434115">true</span><span class="op" id="6434119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434123">image</span><span class="op" id="6434128">.</span><span class="ident" id="6434129">Rect</span><span class="op" id="6434133">(</span><span class="num" id="6434134">5</span><span class="op" id="6434135">,</span>&nbsp;<span class="num" id="6434137">0</span><span class="op" id="6434138">,</span>&nbsp;<span class="num" id="6434140">50</span><span class="op" id="6434142">,</span>&nbsp;<span class="num" id="6434144">14</span><span class="op" id="6434146">)</span><span class="op" id="6434147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434151">image</span><span class="op" id="6434156">.</span><span class="ident" id="6434157">Pt</span><span class="op" id="6434159">(</span><span class="num" id="6434160">20</span><span class="op" id="6434162">,</span>&nbsp;<span class="num" id="6434164">66</span><span class="op" id="6434166">)</span><span class="op" id="6434167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434171">image</span><span class="op" id="6434176">.</span><span class="ident" id="6434177">ZP</span><span class="op" id="6434179">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434182">}</span><span class="op" id="6434183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6434190">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;outside&nbsp;sr&nbsp;(bottom-left)&#34;</span><span class="op" id="6434235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434239">image</span><span class="op" id="6434244">.</span><span class="ident" id="6434245">Rect</span><span class="op" id="6434249">(</span><span class="num" id="6434250">0</span><span class="op" id="6434251">,</span>&nbsp;<span class="num" id="6434253">0</span><span class="op" id="6434254">,</span>&nbsp;<span class="num" id="6434256">100</span><span class="op" id="6434259">,</span>&nbsp;<span class="num" id="6434261">100</span><span class="op" id="6434264">)</span><span class="op" id="6434265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434269">image</span><span class="op" id="6434274">.</span><span class="ident" id="6434275">Rect</span><span class="op" id="6434279">(</span><span class="num" id="6434280">0</span><span class="op" id="6434281">,</span>&nbsp;<span class="num" id="6434283">0</span><span class="op" id="6434284">,</span>&nbsp;<span class="num" id="6434286">50</span><span class="op" id="6434288">,</span>&nbsp;<span class="num" id="6434290">100</span><span class="op" id="6434293">)</span><span class="op" id="6434294">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434298">image</span><span class="op" id="6434303">.</span><span class="ident" id="6434304">Rect</span><span class="op" id="6434308">(</span><span class="num" id="6434309">20</span><span class="op" id="6434311">,</span>&nbsp;<span class="num" id="6434313">20</span><span class="op" id="6434315">,</span>&nbsp;<span class="num" id="6434317">80</span><span class="op" id="6434319">,</span>&nbsp;<span class="num" id="6434321">80</span><span class="op" id="6434323">)</span><span class="op" id="6434324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434328">image</span><span class="op" id="6434333">.</span><span class="ident" id="6434334">ZR</span><span class="op" id="6434336">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434340">image</span><span class="op" id="6434345">.</span><span class="ident" id="6434346">Pt</span><span class="op" id="6434348">(</span><span class="num" id="6434349">15</span><span class="op" id="6434351">,</span>&nbsp;<span class="num" id="6434353">91</span><span class="op" id="6434355">)</span><span class="op" id="6434356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434360">image</span><span class="op" id="6434365">.</span><span class="ident" id="6434366">ZP</span><span class="op" id="6434368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6434372">true</span><span class="op" id="6434376">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434380">image</span><span class="op" id="6434385">.</span><span class="ident" id="6434386">ZR</span><span class="op" id="6434388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434392">image</span><span class="op" id="6434397">.</span><span class="ident" id="6434398">Pt</span><span class="op" id="6434400">(</span><span class="num" id="6434401">15</span><span class="op" id="6434403">,</span>&nbsp;<span class="num" id="6434405">91</span><span class="op" id="6434407">)</span><span class="op" id="6434408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434412">image</span><span class="op" id="6434417">.</span><span class="ident" id="6434418">ZP</span><span class="op" id="6434420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434423">}</span><span class="op" id="6434424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434427">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6434431">&#34;clip&nbsp;dr&nbsp;and&nbsp;sr,&nbsp;sp&nbsp;inside&nbsp;sr&#34;</span><span class="op" id="6434461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434465">image</span><span class="op" id="6434470">.</span><span class="ident" id="6434471">Rect</span><span class="op" id="6434475">(</span><span class="num" id="6434476">0</span><span class="op" id="6434477">,</span>&nbsp;<span class="num" id="6434479">0</span><span class="op" id="6434480">,</span>&nbsp;<span class="num" id="6434482">100</span><span class="op" id="6434485">,</span>&nbsp;<span class="num" id="6434487">100</span><span class="op" id="6434490">)</span><span class="op" id="6434491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434495">image</span><span class="op" id="6434500">.</span><span class="ident" id="6434501">Rect</span><span class="op" id="6434505">(</span><span class="num" id="6434506">0</span><span class="op" id="6434507">,</span>&nbsp;<span class="num" id="6434509">0</span><span class="op" id="6434510">,</span>&nbsp;<span class="num" id="6434512">50</span><span class="op" id="6434514">,</span>&nbsp;<span class="num" id="6434516">100</span><span class="op" id="6434519">)</span><span class="op" id="6434520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434524">image</span><span class="op" id="6434529">.</span><span class="ident" id="6434530">Rect</span><span class="op" id="6434534">(</span><span class="num" id="6434535">20</span><span class="op" id="6434537">,</span>&nbsp;<span class="num" id="6434539">20</span><span class="op" id="6434541">,</span>&nbsp;<span class="num" id="6434543">80</span><span class="op" id="6434545">,</span>&nbsp;<span class="num" id="6434547">80</span><span class="op" id="6434549">)</span><span class="op" id="6434550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434554">image</span><span class="op" id="6434559">.</span><span class="ident" id="6434560">ZR</span><span class="op" id="6434562">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434566">image</span><span class="op" id="6434571">.</span><span class="ident" id="6434572">Pt</span><span class="op" id="6434574">(</span><span class="num" id="6434575">44</span><span class="op" id="6434577">,</span>&nbsp;<span class="num" id="6434579">33</span><span class="op" id="6434581">)</span><span class="op" id="6434582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434586">image</span><span class="op" id="6434591">.</span><span class="ident" id="6434592">ZP</span><span class="op" id="6434594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6434598">true</span><span class="op" id="6434602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434606">image</span><span class="op" id="6434611">.</span><span class="ident" id="6434612">Rect</span><span class="op" id="6434616">(</span><span class="num" id="6434617">0</span><span class="op" id="6434618">,</span>&nbsp;<span class="num" id="6434620">0</span><span class="op" id="6434621">,</span>&nbsp;<span class="num" id="6434623">36</span><span class="op" id="6434625">,</span>&nbsp;<span class="num" id="6434627">47</span><span class="op" id="6434629">)</span><span class="op" id="6434630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434634">image</span><span class="op" id="6434639">.</span><span class="ident" id="6434640">Pt</span><span class="op" id="6434642">(</span><span class="num" id="6434643">44</span><span class="op" id="6434645">,</span>&nbsp;<span class="num" id="6434647">33</span><span class="op" id="6434649">)</span><span class="op" id="6434650">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434654">image</span><span class="op" id="6434659">.</span><span class="ident" id="6434660">ZP</span><span class="op" id="6434662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434665">}</span><span class="op" id="6434666">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6434670">//&nbsp;The&nbsp;following&nbsp;tests&nbsp;all&nbsp;have&nbsp;a&nbsp;non-nil&nbsp;mask.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434719">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6434723">&#34;basic&nbsp;mask&#34;</span><span class="op" id="6434735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434739">image</span><span class="op" id="6434744">.</span><span class="ident" id="6434745">Rect</span><span class="op" id="6434749">(</span><span class="num" id="6434750">0</span><span class="op" id="6434751">,</span>&nbsp;<span class="num" id="6434753">0</span><span class="op" id="6434754">,</span>&nbsp;<span class="num" id="6434756">80</span><span class="op" id="6434758">,</span>&nbsp;<span class="num" id="6434760">80</span><span class="op" id="6434762">)</span><span class="op" id="6434763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434767">image</span><span class="op" id="6434772">.</span><span class="ident" id="6434773">Rect</span><span class="op" id="6434777">(</span><span class="num" id="6434778">20</span><span class="op" id="6434780">,</span>&nbsp;<span class="num" id="6434782">0</span><span class="op" id="6434783">,</span>&nbsp;<span class="num" id="6434785">100</span><span class="op" id="6434788">,</span>&nbsp;<span class="num" id="6434790">80</span><span class="op" id="6434792">)</span><span class="op" id="6434793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434797">image</span><span class="op" id="6434802">.</span><span class="ident" id="6434803">Rect</span><span class="op" id="6434807">(</span><span class="num" id="6434808">0</span><span class="op" id="6434809">,</span>&nbsp;<span class="num" id="6434811">0</span><span class="op" id="6434812">,</span>&nbsp;<span class="num" id="6434814">50</span><span class="op" id="6434816">,</span>&nbsp;<span class="num" id="6434818">49</span><span class="op" id="6434820">)</span><span class="op" id="6434821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434825">image</span><span class="op" id="6434830">.</span><span class="ident" id="6434831">Rect</span><span class="op" id="6434835">(</span><span class="num" id="6434836">0</span><span class="op" id="6434837">,</span>&nbsp;<span class="num" id="6434839">0</span><span class="op" id="6434840">,</span>&nbsp;<span class="num" id="6434842">46</span><span class="op" id="6434844">,</span>&nbsp;<span class="num" id="6434846">47</span><span class="op" id="6434848">)</span><span class="op" id="6434849">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434853">image</span><span class="op" id="6434858">.</span><span class="ident" id="6434859">ZP</span><span class="op" id="6434861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434865">image</span><span class="op" id="6434870">.</span><span class="ident" id="6434871">ZP</span><span class="op" id="6434873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="6434877">false</span><span class="op" id="6434882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434886">image</span><span class="op" id="6434891">.</span><span class="ident" id="6434892">Rect</span><span class="op" id="6434896">(</span><span class="num" id="6434897">20</span><span class="op" id="6434899">,</span>&nbsp;<span class="num" id="6434901">0</span><span class="op" id="6434902">,</span>&nbsp;<span class="num" id="6434904">46</span><span class="op" id="6434906">,</span>&nbsp;<span class="num" id="6434908">47</span><span class="op" id="6434910">)</span><span class="op" id="6434911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434915">image</span><span class="op" id="6434920">.</span><span class="ident" id="6434921">Pt</span><span class="op" id="6434923">(</span><span class="num" id="6434924">20</span><span class="op" id="6434926">,</span>&nbsp;<span class="num" id="6434928">0</span><span class="op" id="6434929">)</span><span class="op" id="6434930">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6434934">image</span><span class="op" id="6434939">.</span><span class="ident" id="6434940">Pt</span><span class="op" id="6434942">(</span><span class="num" id="6434943">20</span><span class="op" id="6434945">,</span>&nbsp;<span class="num" id="6434947">0</span><span class="op" id="6434948">)</span><span class="op" id="6434949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6434952">}</span><span class="op" id="6434953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6434956">//&nbsp;TODO(nigeltao):&nbsp;write&nbsp;more&nbsp;tests.</span><br>
<span class="lineno"></span><span class="op" id="6434993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="6434996">func</span>&nbsp;<span class="ident" id="6435001">TestClip</span><span class="op" id="6435009">(</span><span class="ident" id="6435010">t</span>&nbsp;<span class="op" id="6435012">*</span><span class="ident" id="6435013">testing</span><span class="op" id="6435020">.</span><span class="ident" id="6435021">T</span><span class="op" id="6435022">)</span>&nbsp;<span class="op" id="6435024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435027">dst0</span>&nbsp;<span class="op" id="6435032">:=</span>&nbsp;<span class="ident" id="6435035">image</span><span class="op" id="6435040">.</span><span class="ident" id="6435041">NewRGBA</span><span class="op" id="6435048">(</span><span class="ident" id="6435049">image</span><span class="op" id="6435054">.</span><span class="ident" id="6435055">Rect</span><span class="op" id="6435059">(</span><span class="num" id="6435060">0</span><span class="op" id="6435061">,</span>&nbsp;<span class="num" id="6435063">0</span><span class="op" id="6435064">,</span>&nbsp;<span class="num" id="6435066">100</span><span class="op" id="6435069">,</span>&nbsp;<span class="num" id="6435071">100</span><span class="op" id="6435074">)</span><span class="op" id="6435075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435078">src0</span>&nbsp;<span class="op" id="6435083">:=</span>&nbsp;<span class="ident" id="6435086">image</span><span class="op" id="6435091">.</span><span class="ident" id="6435092">NewRGBA</span><span class="op" id="6435099">(</span><span class="ident" id="6435100">image</span><span class="op" id="6435105">.</span><span class="ident" id="6435106">Rect</span><span class="op" id="6435110">(</span><span class="num" id="6435111">0</span><span class="op" id="6435112">,</span>&nbsp;<span class="num" id="6435114">0</span><span class="op" id="6435115">,</span>&nbsp;<span class="num" id="6435117">100</span><span class="op" id="6435120">,</span>&nbsp;<span class="num" id="6435122">100</span><span class="op" id="6435125">)</span><span class="op" id="6435126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435129">mask0</span>&nbsp;<span class="op" id="6435135">:=</span>&nbsp;<span class="ident" id="6435138">image</span><span class="op" id="6435143">.</span><span class="ident" id="6435144">NewRGBA</span><span class="op" id="6435151">(</span><span class="ident" id="6435152">image</span><span class="op" id="6435157">.</span><span class="ident" id="6435158">Rect</span><span class="op" id="6435162">(</span><span class="num" id="6435163">0</span><span class="op" id="6435164">,</span>&nbsp;<span class="num" id="6435166">0</span><span class="op" id="6435167">,</span>&nbsp;<span class="num" id="6435169">100</span><span class="op" id="6435172">,</span>&nbsp;<span class="num" id="6435174">100</span><span class="op" id="6435177">)</span><span class="op" id="6435178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435181">for</span>&nbsp;<span class="ident" id="6435185">_</span><span class="op" id="6435186">,</span>&nbsp;<span class="ident" id="6435188">c</span>&nbsp;<span class="op" id="6435190">:=</span>&nbsp;<span class="keyword" id="6435193">range</span>&nbsp;<span class="ident" id="6435199">clipTests</span>&nbsp;<span class="op" id="6435209">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435213">dst</span>&nbsp;<span class="op" id="6435217">:=</span>&nbsp;<span class="ident" id="6435220">dst0</span><span class="op" id="6435224">.</span><span class="ident" id="6435225">SubImage</span><span class="op" id="6435233">(</span><span class="ident" id="6435234">c</span><span class="op" id="6435235">.</span><span class="ident" id="6435236">dr</span><span class="op" id="6435238">)</span><span class="op" id="6435239">.</span><span class="op" id="6435240">(</span><span class="op" id="6435241">*</span><span class="ident" id="6435242">image</span><span class="op" id="6435247">.</span><span class="ident" id="6435248">RGBA</span><span class="op" id="6435252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435256">src</span>&nbsp;<span class="op" id="6435260">:=</span>&nbsp;<span class="ident" id="6435263">src0</span><span class="op" id="6435267">.</span><span class="ident" id="6435268">SubImage</span><span class="op" id="6435276">(</span><span class="ident" id="6435277">c</span><span class="op" id="6435278">.</span><span class="ident" id="6435279">sr</span><span class="op" id="6435281">)</span><span class="op" id="6435282">.</span><span class="op" id="6435283">(</span><span class="op" id="6435284">*</span><span class="ident" id="6435285">image</span><span class="op" id="6435290">.</span><span class="ident" id="6435291">RGBA</span><span class="op" id="6435295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435299">var</span>&nbsp;<span class="ident" id="6435303">mask</span>&nbsp;<span class="ident" id="6435308">image</span><span class="op" id="6435313">.</span><span class="ident" id="6435314">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435322">if</span>&nbsp;<span class="op" id="6435325">!</span><span class="ident" id="6435326">c</span><span class="op" id="6435327">.</span><span class="ident" id="6435328">nilMask</span>&nbsp;<span class="op" id="6435336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435341">mask</span>&nbsp;<span class="op" id="6435346">=</span>&nbsp;<span class="ident" id="6435348">mask0</span><span class="op" id="6435353">.</span><span class="ident" id="6435354">SubImage</span><span class="op" id="6435362">(</span><span class="ident" id="6435363">c</span><span class="op" id="6435364">.</span><span class="ident" id="6435365">mr</span><span class="op" id="6435367">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435375">r</span><span class="op" id="6435376">,</span>&nbsp;<span class="ident" id="6435378">sp</span><span class="op" id="6435380">,</span>&nbsp;<span class="ident" id="6435382">mp</span>&nbsp;<span class="op" id="6435385">:=</span>&nbsp;<span class="ident" id="6435388">c</span><span class="op" id="6435389">.</span><span class="ident" id="6435390">r</span><span class="op" id="6435391">,</span>&nbsp;<span class="ident" id="6435393">c</span><span class="op" id="6435394">.</span><span class="ident" id="6435395">sp</span><span class="op" id="6435397">,</span>&nbsp;<span class="ident" id="6435399">c</span><span class="op" id="6435400">.</span><span class="ident" id="6435401">mp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435406">clip</span><span class="op" id="6435410">(</span><span class="ident" id="6435411">dst</span><span class="op" id="6435414">,</span>&nbsp;<span class="op" id="6435416">&amp;</span><span class="ident" id="6435417">r</span><span class="op" id="6435418">,</span>&nbsp;<span class="ident" id="6435420">src</span><span class="op" id="6435423">,</span>&nbsp;<span class="op" id="6435425">&amp;</span><span class="ident" id="6435426">sp</span><span class="op" id="6435428">,</span>&nbsp;<span class="ident" id="6435430">mask</span><span class="op" id="6435434">,</span>&nbsp;<span class="op" id="6435436">&amp;</span><span class="ident" id="6435437">mp</span><span class="op" id="6435439">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6435444">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;actual&nbsp;results&nbsp;equal&nbsp;the&nbsp;expected&nbsp;results.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435507">if</span>&nbsp;<span class="op" id="6435510">!</span><span class="ident" id="6435511">c</span><span class="op" id="6435512">.</span><span class="ident" id="6435513">r0</span><span class="op" id="6435515">.</span><span class="ident" id="6435516">Eq</span><span class="op" id="6435518">(</span><span class="ident" id="6435519">r</span><span class="op" id="6435520">)</span>&nbsp;<span class="op" id="6435522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435527">t</span><span class="op" id="6435528">.</span><span class="ident" id="6435529">Errorf</span><span class="op" id="6435535">(</span><span class="string" id="6435536">&#34;%s:&nbsp;clip&nbsp;rectangle&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6435571">,</span>&nbsp;<span class="ident" id="6435573">c</span><span class="op" id="6435574">.</span><span class="ident" id="6435575">desc</span><span class="op" id="6435579">,</span>&nbsp;<span class="ident" id="6435581">c</span><span class="op" id="6435582">.</span><span class="ident" id="6435583">r0</span><span class="op" id="6435585">,</span>&nbsp;<span class="ident" id="6435587">r</span><span class="op" id="6435588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435593">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435608">if</span>&nbsp;<span class="op" id="6435611">!</span><span class="ident" id="6435612">c</span><span class="op" id="6435613">.</span><span class="ident" id="6435614">sp0</span><span class="op" id="6435617">.</span><span class="ident" id="6435618">Eq</span><span class="op" id="6435620">(</span><span class="ident" id="6435621">sp</span><span class="op" id="6435623">)</span>&nbsp;<span class="op" id="6435625">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435630">t</span><span class="op" id="6435631">.</span><span class="ident" id="6435632">Errorf</span><span class="op" id="6435638">(</span><span class="string" id="6435639">&#34;%s:&nbsp;sp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6435662">,</span>&nbsp;<span class="ident" id="6435664">c</span><span class="op" id="6435665">.</span><span class="ident" id="6435666">desc</span><span class="op" id="6435670">,</span>&nbsp;<span class="ident" id="6435672">c</span><span class="op" id="6435673">.</span><span class="ident" id="6435674">sp0</span><span class="op" id="6435677">,</span>&nbsp;<span class="ident" id="6435679">sp</span><span class="op" id="6435681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435686">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435701">if</span>&nbsp;<span class="op" id="6435704">!</span><span class="ident" id="6435705">c</span><span class="op" id="6435706">.</span><span class="ident" id="6435707">nilMask</span>&nbsp;<span class="op" id="6435715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435720">if</span>&nbsp;<span class="op" id="6435723">!</span><span class="ident" id="6435724">c</span><span class="op" id="6435725">.</span><span class="ident" id="6435726">mp0</span><span class="op" id="6435729">.</span><span class="ident" id="6435730">Eq</span><span class="op" id="6435732">(</span><span class="ident" id="6435733">mp</span><span class="op" id="6435735">)</span>&nbsp;<span class="op" id="6435737">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435743">t</span><span class="op" id="6435744">.</span><span class="ident" id="6435745">Errorf</span><span class="op" id="6435751">(</span><span class="string" id="6435752">&#34;%s:&nbsp;mp&nbsp;want&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6435775">,</span>&nbsp;<span class="ident" id="6435777">c</span><span class="op" id="6435778">.</span><span class="ident" id="6435779">desc</span><span class="op" id="6435783">,</span>&nbsp;<span class="ident" id="6435785">c</span><span class="op" id="6435786">.</span><span class="ident" id="6435787">mp0</span><span class="op" id="6435790">,</span>&nbsp;<span class="ident" id="6435792">mp</span><span class="op" id="6435794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435800">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6435816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6435821">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;clipped&nbsp;rectangle&nbsp;is&nbsp;contained&nbsp;by&nbsp;the&nbsp;dst&nbsp;/&nbsp;src&nbsp;/&nbsp;mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6435896">//&nbsp;rectangles,&nbsp;in&nbsp;their&nbsp;respective&nbsp;co-ordinate&nbsp;spaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6435953">if</span>&nbsp;<span class="op" id="6435956">!</span><span class="ident" id="6435957">r</span><span class="op" id="6435958">.</span><span class="ident" id="6435959">In</span><span class="op" id="6435961">(</span><span class="ident" id="6435962">c</span><span class="op" id="6435963">.</span><span class="ident" id="6435964">dr</span><span class="op" id="6435966">)</span>&nbsp;<span class="op" id="6435968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6435973">t</span><span class="op" id="6435974">.</span><span class="ident" id="6435975">Errorf</span><span class="op" id="6435981">(</span><span class="string" id="6435982">&#34;%s:&nbsp;c.dr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;r&nbsp;%v&#34;</span><span class="op" id="6436017">,</span>&nbsp;<span class="ident" id="6436019">c</span><span class="op" id="6436020">.</span><span class="ident" id="6436021">desc</span><span class="op" id="6436025">,</span>&nbsp;<span class="ident" id="6436027">c</span><span class="op" id="6436028">.</span><span class="ident" id="6436029">dr</span><span class="op" id="6436031">,</span>&nbsp;<span class="ident" id="6436033">r</span><span class="op" id="6436034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436038">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6436042">//&nbsp;sr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;src&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436096">sr</span>&nbsp;<span class="op" id="6436099">:=</span>&nbsp;<span class="ident" id="6436102">r</span><span class="op" id="6436103">.</span><span class="ident" id="6436104">Add</span><span class="op" id="6436107">(</span><span class="ident" id="6436108">c</span><span class="op" id="6436109">.</span><span class="ident" id="6436110">sp</span><span class="op" id="6436112">.</span><span class="ident" id="6436113">Sub</span><span class="op" id="6436116">(</span><span class="ident" id="6436117">c</span><span class="op" id="6436118">.</span><span class="ident" id="6436119">dr</span><span class="op" id="6436121">.</span><span class="ident" id="6436122">Min</span><span class="op" id="6436125">)</span><span class="op" id="6436126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436130">if</span>&nbsp;<span class="op" id="6436133">!</span><span class="ident" id="6436134">sr</span><span class="op" id="6436136">.</span><span class="ident" id="6436137">In</span><span class="op" id="6436139">(</span><span class="ident" id="6436140">c</span><span class="op" id="6436141">.</span><span class="ident" id="6436142">sr</span><span class="op" id="6436144">)</span>&nbsp;<span class="op" id="6436146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436151">t</span><span class="op" id="6436152">.</span><span class="ident" id="6436153">Errorf</span><span class="op" id="6436159">(</span><span class="string" id="6436160">&#34;%s:&nbsp;c.sr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;sr&nbsp;%v&#34;</span><span class="op" id="6436196">,</span>&nbsp;<span class="ident" id="6436198">c</span><span class="op" id="6436199">.</span><span class="ident" id="6436200">desc</span><span class="op" id="6436204">,</span>&nbsp;<span class="ident" id="6436206">c</span><span class="op" id="6436207">.</span><span class="ident" id="6436208">sr</span><span class="op" id="6436210">,</span>&nbsp;<span class="ident" id="6436212">sr</span><span class="op" id="6436214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436218">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436222">if</span>&nbsp;<span class="op" id="6436225">!</span><span class="ident" id="6436226">c</span><span class="op" id="6436227">.</span><span class="ident" id="6436228">nilMask</span>&nbsp;<span class="op" id="6436236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6436241">//&nbsp;mr&nbsp;is&nbsp;r&nbsp;translated&nbsp;into&nbsp;mask&#39;s&nbsp;co-ordinate&nbsp;space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436297">mr</span>&nbsp;<span class="op" id="6436300">:=</span>&nbsp;<span class="ident" id="6436303">r</span><span class="op" id="6436304">.</span><span class="ident" id="6436305">Add</span><span class="op" id="6436308">(</span><span class="ident" id="6436309">c</span><span class="op" id="6436310">.</span><span class="ident" id="6436311">mp</span><span class="op" id="6436313">.</span><span class="ident" id="6436314">Sub</span><span class="op" id="6436317">(</span><span class="ident" id="6436318">c</span><span class="op" id="6436319">.</span><span class="ident" id="6436320">dr</span><span class="op" id="6436322">.</span><span class="ident" id="6436323">Min</span><span class="op" id="6436326">)</span><span class="op" id="6436327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6436332">if</span>&nbsp;<span class="op" id="6436335">!</span><span class="ident" id="6436336">mr</span><span class="op" id="6436338">.</span><span class="ident" id="6436339">In</span><span class="op" id="6436341">(</span><span class="ident" id="6436342">c</span><span class="op" id="6436343">.</span><span class="ident" id="6436344">mr</span><span class="op" id="6436346">)</span>&nbsp;<span class="op" id="6436348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6436354">t</span><span class="op" id="6436355">.</span><span class="ident" id="6436356">Errorf</span><span class="op" id="6436362">(</span><span class="string" id="6436363">&#34;%s:&nbsp;c.mr&nbsp;%v&nbsp;does&nbsp;not&nbsp;contain&nbsp;mr&nbsp;%v&#34;</span><span class="op" id="6436399">,</span>&nbsp;<span class="ident" id="6436401">c</span><span class="op" id="6436402">.</span><span class="ident" id="6436403">desc</span><span class="op" id="6436407">,</span>&nbsp;<span class="ident" id="6436409">c</span><span class="op" id="6436410">.</span><span class="ident" id="6436411">mr</span><span class="op" id="6436413">,</span>&nbsp;<span class="ident" id="6436415">mr</span><span class="op" id="6436417">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6436429">}</span><br>
<span class="lineno"></span><span class="op" id="6436431">}</span>
</div>
</body>
</html>
