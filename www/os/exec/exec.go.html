<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5502008">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5502063">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5502117">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5502168">//&nbsp;Package&nbsp;exec&nbsp;runs&nbsp;external&nbsp;commands.&nbsp;It&nbsp;wraps&nbsp;os.StartProcess&nbsp;to&nbsp;make&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5502244">//&nbsp;easier&nbsp;to&nbsp;remap&nbsp;stdin&nbsp;and&nbsp;stdout,&nbsp;connect&nbsp;I/O&nbsp;with&nbsp;pipes,&nbsp;and&nbsp;do&nbsp;other</span><br>
<span class="lineno"></span><span class="comment" id="5502318">//&nbsp;adjustments.</span><br>
<span class="lineno"></span><span class="keyword" id="5502334">package</span>&nbsp;<span class="ident" id="5502342">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5502348">import</span>&nbsp;<span class="op" id="5502355">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502358">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502367">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502377">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502383">&#34;os&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502389">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502406">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502417">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502428">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502439">&#34;sync&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5502447">&#34;syscall&#34;</span><br>
<span class="lineno"></span><span class="op" id="5502457">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5502460">//&nbsp;Error&nbsp;records&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;binary&nbsp;that&nbsp;failed&nbsp;to&nbsp;be&nbsp;executed</span><br>
<span class="lineno"></span><span class="comment" id="5502525">//&nbsp;and&nbsp;the&nbsp;reason&nbsp;it&nbsp;failed.</span><br>
<span class="lineno">25</span><span class="keyword" id="5502554">type</span>&nbsp;<span class="ident" id="5502559">Error</span>&nbsp;<span class="keyword" id="5502565">struct</span>&nbsp;<span class="op" id="5502572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5502575">Name</span>&nbsp;<span class="builtintype" id="5502580">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5502588">Err</span>&nbsp;&nbsp;<span class="builtintype" id="5502593">error</span><br>
<span class="lineno"></span><span class="op" id="5502599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="5502602">func</span>&nbsp;<span class="op" id="5502607">(</span><span class="ident" id="5502608">e</span>&nbsp;<span class="op" id="5502610">*</span><span class="ident" id="5502611"><a href="/os/exec/exec.go.html#5502559">Error</a></span><span class="op" id="5502616">)</span>&nbsp;<span class="ident" id="5502618">Error</span><span class="op" id="5502623">(</span><span class="op" id="5502624">)</span>&nbsp;<span class="builtintype" id="5502626">string</span>&nbsp;<span class="op" id="5502633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5502636">return</span>&nbsp;<span class="string" id="5502643">&#34;exec:&nbsp;&#34;</span>&nbsp;<span class="op" id="5502652">+</span>&nbsp;<span class="ident" id="5502654"><a href="/os/exec/exec.go.html#5502417">strconv</a></span><span class="op" id="5502661">.</span><span class="ident" id="5502662">Quote</span><span class="op" id="5502667">(</span><span class="ident" id="5502668"><a href="/os/exec/exec.go.html#5502608">e</a></span><span class="op" id="5502669">.</span><span class="ident" id="5502670">Name</span><span class="op" id="5502674">)</span>&nbsp;<span class="op" id="5502676">+</span>&nbsp;<span class="string" id="5502678">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="5502683">+</span>&nbsp;<span class="ident" id="5502685"><a href="/os/exec/exec.go.html#5502608">e</a></span><span class="op" id="5502686">.</span><span class="ident" id="5502687">Err</span><span class="op" id="5502690">.</span><span class="ident" id="5502691">Error</span><span class="op" id="5502696">(</span><span class="op" id="5502697">)</span><br>
<span class="lineno"></span><span class="op" id="5502699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5502702">//&nbsp;Cmd&nbsp;represents&nbsp;an&nbsp;external&nbsp;command&nbsp;being&nbsp;prepared&nbsp;or&nbsp;run.</span><br>
<span class="lineno">35</span><span class="keyword" id="5502763">type</span>&nbsp;<span class="ident" id="5502768">Cmd</span>&nbsp;<span class="keyword" id="5502772">struct</span>&nbsp;<span class="op" id="5502779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5502782">//&nbsp;Path&nbsp;is&nbsp;the&nbsp;path&nbsp;of&nbsp;the&nbsp;command&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5502826">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5502830">//&nbsp;This&nbsp;is&nbsp;the&nbsp;only&nbsp;field&nbsp;that&nbsp;must&nbsp;be&nbsp;set&nbsp;to&nbsp;a&nbsp;non-zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5502888">//&nbsp;value.&nbsp;If&nbsp;Path&nbsp;is&nbsp;relative,&nbsp;it&nbsp;is&nbsp;evaluated&nbsp;relative</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5502945">//&nbsp;to&nbsp;Dir.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5502957">Path</span>&nbsp;<span class="builtintype" id="5502962">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5502971">//&nbsp;Args&nbsp;holds&nbsp;command&nbsp;line&nbsp;arguments,&nbsp;including&nbsp;the&nbsp;command&nbsp;as&nbsp;Args[0].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503044">//&nbsp;If&nbsp;the&nbsp;Args&nbsp;field&nbsp;is&nbsp;empty&nbsp;or&nbsp;nil,&nbsp;Run&nbsp;uses&nbsp;{Path}.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503100">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503104">//&nbsp;In&nbsp;typical&nbsp;use,&nbsp;both&nbsp;Path&nbsp;and&nbsp;Args&nbsp;are&nbsp;set&nbsp;by&nbsp;calling&nbsp;Command.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503171">Args</span>&nbsp;<span class="op" id="5503176">[</span><span class="op" id="5503177">]</span><span class="builtintype" id="5503178">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503187">//&nbsp;Env&nbsp;specifies&nbsp;the&nbsp;environment&nbsp;of&nbsp;the&nbsp;process.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503237">//&nbsp;If&nbsp;Env&nbsp;is&nbsp;nil,&nbsp;Run&nbsp;uses&nbsp;the&nbsp;current&nbsp;process&#39;s&nbsp;environment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503300">Env</span>&nbsp;<span class="op" id="5503304">[</span><span class="op" id="5503305">]</span><span class="builtintype" id="5503306">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503315">//&nbsp;Dir&nbsp;specifies&nbsp;the&nbsp;working&nbsp;directory&nbsp;of&nbsp;the&nbsp;command.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503371">//&nbsp;If&nbsp;Dir&nbsp;is&nbsp;the&nbsp;empty&nbsp;string,&nbsp;Run&nbsp;runs&nbsp;the&nbsp;command&nbsp;in&nbsp;the</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503431">//&nbsp;calling&nbsp;process&#39;s&nbsp;current&nbsp;directory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5503472">Dir</span>&nbsp;<span class="builtintype" id="5503476">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503485">//&nbsp;Stdin&nbsp;specifies&nbsp;the&nbsp;process&#39;s&nbsp;standard&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503535">//&nbsp;If&nbsp;Stdin&nbsp;is&nbsp;nil,&nbsp;the&nbsp;process&nbsp;reads&nbsp;from&nbsp;the&nbsp;null&nbsp;device&nbsp;(os.DevNull).</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503609">//&nbsp;If&nbsp;Stdin&nbsp;is&nbsp;an&nbsp;*os.File,&nbsp;the&nbsp;process&#39;s&nbsp;standard&nbsp;input&nbsp;is&nbsp;connected</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503680">//&nbsp;directly&nbsp;to&nbsp;that&nbsp;file.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503707">//&nbsp;Otherwise,&nbsp;during&nbsp;the&nbsp;execution&nbsp;of&nbsp;the&nbsp;command&nbsp;a&nbsp;separate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503769">//&nbsp;goroutine&nbsp;reads&nbsp;from&nbsp;Stdin&nbsp;and&nbsp;delivers&nbsp;that&nbsp;data&nbsp;to&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503838">//&nbsp;over&nbsp;a&nbsp;pipe.&nbsp;In&nbsp;this&nbsp;case,&nbsp;Wait&nbsp;does&nbsp;not&nbsp;complete&nbsp;until&nbsp;the&nbsp;goroutine</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503912">//&nbsp;stops&nbsp;copying,&nbsp;either&nbsp;because&nbsp;it&nbsp;has&nbsp;reached&nbsp;the&nbsp;end&nbsp;of&nbsp;Stdin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5503978">//&nbsp;(EOF&nbsp;or&nbsp;a&nbsp;read&nbsp;error)&nbsp;or&nbsp;because&nbsp;writing&nbsp;to&nbsp;the&nbsp;pipe&nbsp;returned&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5504054">Stdin</span>&nbsp;<span class="ident" id="5504060"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5504062">.</span><span class="ident" id="5504063">Reader</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504072">//&nbsp;Stdout&nbsp;and&nbsp;Stderr&nbsp;specify&nbsp;the&nbsp;process&#39;s&nbsp;standard&nbsp;output&nbsp;and&nbsp;error.</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504143">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504147">//&nbsp;If&nbsp;either&nbsp;is&nbsp;nil,&nbsp;Run&nbsp;connects&nbsp;the&nbsp;corresponding&nbsp;file&nbsp;descriptor</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504216">//&nbsp;to&nbsp;the&nbsp;null&nbsp;device&nbsp;(os.DevNull).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504253">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504257">//&nbsp;If&nbsp;Stdout&nbsp;and&nbsp;Stderr&nbsp;are&nbsp;the&nbsp;same&nbsp;writer,&nbsp;at&nbsp;most&nbsp;one</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504315">//&nbsp;goroutine&nbsp;at&nbsp;a&nbsp;time&nbsp;will&nbsp;call&nbsp;Write.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5504356">Stdout</span>&nbsp;<span class="ident" id="5504363"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5504365">.</span><span class="ident" id="5504366">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5504374">Stderr</span>&nbsp;<span class="ident" id="5504381"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5504383">.</span><span class="ident" id="5504384">Writer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504393">//&nbsp;ExtraFiles&nbsp;specifies&nbsp;additional&nbsp;open&nbsp;files&nbsp;to&nbsp;be&nbsp;inherited&nbsp;by&nbsp;the</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504463">//&nbsp;new&nbsp;process.&nbsp;It&nbsp;does&nbsp;not&nbsp;include&nbsp;standard&nbsp;input,&nbsp;standard&nbsp;output,&nbsp;or</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504536">//&nbsp;standard&nbsp;error.&nbsp;If&nbsp;non-nil,&nbsp;entry&nbsp;i&nbsp;becomes&nbsp;file&nbsp;descriptor&nbsp;3+i.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504605">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504609">//&nbsp;BUG:&nbsp;on&nbsp;OS&nbsp;X&nbsp;10.6,&nbsp;child&nbsp;processes&nbsp;may&nbsp;sometimes&nbsp;inherit&nbsp;unwanted&nbsp;fds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504684">//&nbsp;http://golang.org/issue/2603</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5504717">ExtraFiles</span>&nbsp;<span class="op" id="5504728">[</span><span class="op" id="5504729">]</span><span class="op" id="5504730">*</span><span class="ident" id="5504731"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5504733">.</span><span class="ident" id="5504734">File</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504741">//&nbsp;SysProcAttr&nbsp;holds&nbsp;optional,&nbsp;operating&nbsp;system-specific&nbsp;attributes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504811">//&nbsp;Run&nbsp;passes&nbsp;it&nbsp;to&nbsp;os.StartProcess&nbsp;as&nbsp;the&nbsp;os.ProcAttr&#39;s&nbsp;Sys&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5504880">SysProcAttr</span>&nbsp;<span class="op" id="5504892">*</span><span class="ident" id="5504893"><a href="/os/exec/exec.go.html#5502447">syscall</a></span><span class="op" id="5504900">.</span><span class="ident" id="5504901">SysProcAttr</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504915">//&nbsp;Process&nbsp;is&nbsp;the&nbsp;underlying&nbsp;process,&nbsp;once&nbsp;started.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5504968">Process</span>&nbsp;<span class="op" id="5504976">*</span><span class="ident" id="5504977"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5504979">.</span><span class="ident" id="5504980">Process</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5504990">//&nbsp;ProcessState&nbsp;contains&nbsp;information&nbsp;about&nbsp;an&nbsp;exited&nbsp;process,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5505053">//&nbsp;available&nbsp;after&nbsp;a&nbsp;call&nbsp;to&nbsp;Wait&nbsp;or&nbsp;Run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505096">ProcessState</span>&nbsp;<span class="op" id="5505109">*</span><span class="ident" id="5505110"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5505112">.</span><span class="ident" id="5505113">ProcessState</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505128">lookPathErr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5505144">error</span>&nbsp;<span class="comment" id="5505150">//&nbsp;LookPath&nbsp;error,&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505178">finished</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5505194">bool</span>&nbsp;&nbsp;<span class="comment" id="5505200">//&nbsp;when&nbsp;Wait&nbsp;was&nbsp;called</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505225">childFiles</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5505241">[</span><span class="op" id="5505242">]</span><span class="op" id="5505243">*</span><span class="ident" id="5505244"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5505246">.</span><span class="ident" id="5505247">File</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505253">closeAfterStart</span>&nbsp;<span class="op" id="5505269">[</span><span class="op" id="5505270">]</span><span class="ident" id="5505271"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5505273">.</span><span class="ident" id="5505274">Closer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505282">closeAfterWait</span>&nbsp;&nbsp;<span class="op" id="5505298">[</span><span class="op" id="5505299">]</span><span class="ident" id="5505300"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5505302">.</span><span class="ident" id="5505303">Closer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505311">goroutine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5505327">[</span><span class="op" id="5505328">]</span><span class="keyword" id="5505329">func</span><span class="op" id="5505333">(</span><span class="op" id="5505334">)</span>&nbsp;<span class="builtintype" id="5505336">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505343">errch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5505359">chan</span>&nbsp;<span class="builtintype" id="5505364">error</span>&nbsp;<span class="comment" id="5505370">//&nbsp;one&nbsp;send&nbsp;per&nbsp;goroutine</span><br>
<span class="lineno">105</span><span class="op" id="5505396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5505399">//&nbsp;Command&nbsp;returns&nbsp;the&nbsp;Cmd&nbsp;struct&nbsp;to&nbsp;execute&nbsp;the&nbsp;named&nbsp;program&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5505467">//&nbsp;the&nbsp;given&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="comment" id="5505491">//</span><br>
<span class="lineno">110</span><span class="comment" id="5505494">//&nbsp;It&nbsp;sets&nbsp;only&nbsp;the&nbsp;Path&nbsp;and&nbsp;Args&nbsp;in&nbsp;the&nbsp;returned&nbsp;structure.</span><br>
<span class="lineno"></span><span class="comment" id="5505555">//</span><br>
<span class="lineno"></span><span class="comment" id="5505558">//&nbsp;If&nbsp;name&nbsp;contains&nbsp;no&nbsp;path&nbsp;separators,&nbsp;Command&nbsp;uses&nbsp;LookPath&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5505623">//&nbsp;resolve&nbsp;the&nbsp;path&nbsp;to&nbsp;a&nbsp;complete&nbsp;name&nbsp;if&nbsp;possible.&nbsp;Otherwise&nbsp;it&nbsp;uses</span><br>
<span class="lineno"></span><span class="comment" id="5505693">//&nbsp;name&nbsp;directly.</span><br>
<span class="lineno">115</span><span class="comment" id="5505711">//</span><br>
<span class="lineno"></span><span class="comment" id="5505714">//&nbsp;The&nbsp;returned&nbsp;Cmd&#39;s&nbsp;Args&nbsp;field&nbsp;is&nbsp;constructed&nbsp;from&nbsp;the&nbsp;command&nbsp;name</span><br>
<span class="lineno"></span><span class="comment" id="5505784">//&nbsp;followed&nbsp;by&nbsp;the&nbsp;elements&nbsp;of&nbsp;arg,&nbsp;so&nbsp;arg&nbsp;should&nbsp;not&nbsp;include&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5505850">//&nbsp;command&nbsp;name&nbsp;itself.&nbsp;For&nbsp;example,&nbsp;Command(&#34;echo&#34;,&nbsp;&#34;hello&#34;)</span><br>
<span class="lineno"></span><span class="keyword" id="5505912">func</span>&nbsp;<span class="ident" id="5505917">Command</span><span class="op" id="5505924">(</span><span class="ident" id="5505925">name</span>&nbsp;<span class="builtintype" id="5505930">string</span><span class="op" id="5505936">,</span>&nbsp;<span class="ident" id="5505938">arg</span>&nbsp;<span class="op" id="5505942">...</span><span class="builtintype" id="5505945">string</span><span class="op" id="5505951">)</span>&nbsp;<span class="op" id="5505953">*</span><span class="ident" id="5505954"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span>&nbsp;<span class="op" id="5505958">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505961">cmd</span>&nbsp;<span class="op" id="5505965">:=</span>&nbsp;<span class="op" id="5505968">&amp;</span><span class="ident" id="5505969"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5505972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505976">Path</span><span class="op" id="5505980">:</span>&nbsp;<span class="ident" id="5505982"><a href="/os/exec/exec.go.html#5505925">name</a></span><span class="op" id="5505986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5505990">Args</span><span class="op" id="5505994">:</span>&nbsp;<span class="builtinfunc" id="5505996">append</span><span class="op" id="5506002">(</span><span class="op" id="5506003">[</span><span class="op" id="5506004">]</span><span class="builtintype" id="5506005">string</span><span class="op" id="5506011">{</span><span class="ident" id="5506012"><a href="/os/exec/exec.go.html#5505925">name</a></span><span class="op" id="5506016">}</span><span class="op" id="5506017">,</span>&nbsp;<span class="ident" id="5506019"><a href="/os/exec/exec.go.html#5505938">arg</a></span><span class="op" id="5506022">...</span><span class="op" id="5506025">)</span><span class="op" id="5506026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506032">if</span>&nbsp;<span class="ident" id="5506035"><a href="/os/exec/exec.go.html#5502389">filepath</a></span><span class="op" id="5506043">.</span><span class="ident" id="5506044">Base</span><span class="op" id="5506048">(</span><span class="ident" id="5506049"><a href="/os/exec/exec.go.html#5505925">name</a></span><span class="op" id="5506053">)</span>&nbsp;<span class="op" id="5506055">==</span>&nbsp;<span class="ident" id="5506058"><a href="/os/exec/exec.go.html#5505925">name</a></span>&nbsp;<span class="op" id="5506063">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506067">if</span>&nbsp;<span class="ident" id="5506070">lp</span><span class="op" id="5506072">,</span>&nbsp;<span class="ident" id="5506074">err</span>&nbsp;<span class="op" id="5506078">:=</span>&nbsp;<span class="ident" id="5506081"><a href="/os/exec/lp_unix.go.html#5516280">LookPath</a></span><span class="op" id="5506089">(</span><span class="ident" id="5506090"><a href="/os/exec/exec.go.html#5505925">name</a></span><span class="op" id="5506094">)</span><span class="op" id="5506095">;</span>&nbsp;<span class="ident" id="5506097"><a href="/os/exec/exec.go.html#5506074">err</a></span>&nbsp;<span class="op" id="5506101">!=</span>&nbsp;<span class="ident" id="5506104">nil</span>&nbsp;<span class="op" id="5506108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506113"><a href="/os/exec/exec.go.html#5505961">cmd</a></span><span class="op" id="5506116">.</span><span class="ident" id="5506117">lookPathErr</span>&nbsp;<span class="op" id="5506129">=</span>&nbsp;<span class="ident" id="5506131"><a href="/os/exec/exec.go.html#5506074">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506137">}</span>&nbsp;<span class="keyword" id="5506139">else</span>&nbsp;<span class="op" id="5506144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506149"><a href="/os/exec/exec.go.html#5505961">cmd</a></span><span class="op" id="5506152">.</span><span class="ident" id="5506153">Path</span>&nbsp;<span class="op" id="5506158">=</span>&nbsp;<span class="ident" id="5506160"><a href="/os/exec/exec.go.html#5506070">lp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506165">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506171">return</span>&nbsp;<span class="ident" id="5506178"><a href="/os/exec/exec.go.html#5505961">cmd</a></span><br>
<span class="lineno"></span><span class="op" id="5506182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5506185">//&nbsp;interfaceEqual&nbsp;protects&nbsp;against&nbsp;panics&nbsp;from&nbsp;doing&nbsp;equality&nbsp;tests&nbsp;on</span><br>
<span class="lineno">135</span><span class="comment" id="5506256">//&nbsp;two&nbsp;interfaces&nbsp;with&nbsp;non-comparable&nbsp;underlying&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="5506312">func</span>&nbsp;<span class="ident" id="5506317">interfaceEqual</span><span class="op" id="5506331">(</span><span class="ident" id="5506332">a</span><span class="op" id="5506333">,</span>&nbsp;<span class="ident" id="5506335">b</span>&nbsp;<span class="keyword" id="5506337">interface</span><span class="op" id="5506346">{</span><span class="op" id="5506347">}</span><span class="op" id="5506348">)</span>&nbsp;<span class="builtintype" id="5506350">bool</span>&nbsp;<span class="op" id="5506355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506358">defer</span>&nbsp;<span class="keyword" id="5506364">func</span><span class="op" id="5506368">(</span><span class="op" id="5506369">)</span>&nbsp;<span class="op" id="5506371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5506375">recover</span><span class="op" id="5506382">(</span><span class="op" id="5506383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506386">}</span><span class="op" id="5506387">(</span><span class="op" id="5506388">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506391">return</span>&nbsp;<span class="ident" id="5506398"><a href="/os/exec/exec.go.html#5506332">a</a></span>&nbsp;<span class="op" id="5506400">==</span>&nbsp;<span class="ident" id="5506403"><a href="/os/exec/exec.go.html#5506335">b</a></span><br>
<span class="lineno"></span><span class="op" id="5506405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5506408">func</span>&nbsp;<span class="op" id="5506413">(</span><span class="ident" id="5506414">c</span>&nbsp;<span class="op" id="5506416">*</span><span class="ident" id="5506417"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5506420">)</span>&nbsp;<span class="ident" id="5506422">envv</span><span class="op" id="5506426">(</span><span class="op" id="5506427">)</span>&nbsp;<span class="op" id="5506429">[</span><span class="op" id="5506430">]</span><span class="builtintype" id="5506431">string</span>&nbsp;<span class="op" id="5506438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506441">if</span>&nbsp;<span class="ident" id="5506444"><a href="/os/exec/exec.go.html#5506414">c</a></span><span class="op" id="5506445">.</span><span class="ident" id="5506446">Env</span>&nbsp;<span class="op" id="5506450">!=</span>&nbsp;<span class="ident" id="5506453">nil</span>&nbsp;<span class="op" id="5506457">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506461">return</span>&nbsp;<span class="ident" id="5506468"><a href="/os/exec/exec.go.html#5506414">c</a></span><span class="op" id="5506469">.</span><span class="ident" id="5506470">Env</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506478">return</span>&nbsp;<span class="ident" id="5506485"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5506487">.</span><span class="ident" id="5506488">Environ</span><span class="op" id="5506495">(</span><span class="op" id="5506496">)</span><br>
<span class="lineno"></span><span class="op" id="5506498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="5506501">func</span>&nbsp;<span class="op" id="5506506">(</span><span class="ident" id="5506507">c</span>&nbsp;<span class="op" id="5506509">*</span><span class="ident" id="5506510"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5506513">)</span>&nbsp;<span class="ident" id="5506515">argv</span><span class="op" id="5506519">(</span><span class="op" id="5506520">)</span>&nbsp;<span class="op" id="5506522">[</span><span class="op" id="5506523">]</span><span class="builtintype" id="5506524">string</span>&nbsp;<span class="op" id="5506531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506534">if</span>&nbsp;<span class="builtinfunc" id="5506537">len</span><span class="op" id="5506540">(</span><span class="ident" id="5506541"><a href="/os/exec/exec.go.html#5506507">c</a></span><span class="op" id="5506542">.</span><span class="ident" id="5506543">Args</span><span class="op" id="5506547">)</span>&nbsp;<span class="op" id="5506549">&gt;</span>&nbsp;<span class="num" id="5506551">0</span>&nbsp;<span class="op" id="5506553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506557">return</span>&nbsp;<span class="ident" id="5506564"><a href="/os/exec/exec.go.html#5506507">c</a></span><span class="op" id="5506565">.</span><span class="ident" id="5506566">Args</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506575">return</span>&nbsp;<span class="op" id="5506582">[</span><span class="op" id="5506583">]</span><span class="builtintype" id="5506584">string</span><span class="op" id="5506590">{</span><span class="ident" id="5506591"><a href="/os/exec/exec.go.html#5506507">c</a></span><span class="op" id="5506592">.</span><span class="ident" id="5506593">Path</span><span class="op" id="5506597">}</span><br>
<span class="lineno">155</span><span class="op" id="5506599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5506602">func</span>&nbsp;<span class="op" id="5506607">(</span><span class="ident" id="5506608">c</span>&nbsp;<span class="op" id="5506610">*</span><span class="ident" id="5506611"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5506614">)</span>&nbsp;<span class="ident" id="5506616">stdin</span><span class="op" id="5506621">(</span><span class="op" id="5506622">)</span>&nbsp;<span class="op" id="5506624">(</span><span class="ident" id="5506625">f</span>&nbsp;<span class="op" id="5506627">*</span><span class="ident" id="5506628"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5506630">.</span><span class="ident" id="5506631">File</span><span class="op" id="5506635">,</span>&nbsp;<span class="ident" id="5506637">err</span>&nbsp;<span class="builtintype" id="5506641">error</span><span class="op" id="5506646">)</span>&nbsp;<span class="op" id="5506648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506651">if</span>&nbsp;<span class="ident" id="5506654"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506655">.</span><span class="ident" id="5506656">Stdin</span>&nbsp;<span class="op" id="5506662">==</span>&nbsp;<span class="ident" id="5506665">nil</span>&nbsp;<span class="op" id="5506669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506673"><a href="/os/exec/exec.go.html#5506625">f</a></span><span class="op" id="5506674">,</span>&nbsp;<span class="ident" id="5506676"><a href="/os/exec/exec.go.html#5506637">err</a></span>&nbsp;<span class="op" id="5506680">=</span>&nbsp;<span class="ident" id="5506682"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5506684">.</span><span class="ident" id="5506685">Open</span><span class="op" id="5506689">(</span><span class="ident" id="5506690"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5506692">.</span><span class="ident" id="5506693">DevNull</span><span class="op" id="5506700">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506704">if</span>&nbsp;<span class="ident" id="5506707"><a href="/os/exec/exec.go.html#5506637">err</a></span>&nbsp;<span class="op" id="5506711">!=</span>&nbsp;<span class="ident" id="5506714">nil</span>&nbsp;<span class="op" id="5506718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506723">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506736"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506737">.</span><span class="ident" id="5506738">closeAfterStart</span>&nbsp;<span class="op" id="5506754">=</span>&nbsp;<span class="builtinfunc" id="5506756">append</span><span class="op" id="5506762">(</span><span class="ident" id="5506763"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506764">.</span><span class="ident" id="5506765">closeAfterStart</span><span class="op" id="5506780">,</span>&nbsp;<span class="ident" id="5506782"><a href="/os/exec/exec.go.html#5506625">f</a></span><span class="op" id="5506783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506787">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506799">if</span>&nbsp;<span class="ident" id="5506802">f</span><span class="op" id="5506803">,</span>&nbsp;<span class="ident" id="5506805">ok</span>&nbsp;<span class="op" id="5506808">:=</span>&nbsp;<span class="ident" id="5506811"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506812">.</span><span class="ident" id="5506813">Stdin</span><span class="op" id="5506818">.</span><span class="op" id="5506819">(</span><span class="op" id="5506820">*</span><span class="ident" id="5506821"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5506823">.</span><span class="ident" id="5506824">File</span><span class="op" id="5506828">)</span><span class="op" id="5506829">;</span>&nbsp;<span class="ident" id="5506831"><a href="/os/exec/exec.go.html#5506805">ok</a></span>&nbsp;<span class="op" id="5506834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506838">return</span>&nbsp;<span class="ident" id="5506845"><a href="/os/exec/exec.go.html#5506802">f</a></span><span class="op" id="5506846">,</span>&nbsp;<span class="ident" id="5506848">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506853">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506857">pr</span><span class="op" id="5506859">,</span>&nbsp;<span class="ident" id="5506861">pw</span><span class="op" id="5506863">,</span>&nbsp;<span class="ident" id="5506865"><a href="/os/exec/exec.go.html#5506637">err</a></span>&nbsp;<span class="op" id="5506869">:=</span>&nbsp;<span class="ident" id="5506872"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5506874">.</span><span class="ident" id="5506875">Pipe</span><span class="op" id="5506879">(</span><span class="op" id="5506880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506883">if</span>&nbsp;<span class="ident" id="5506886"><a href="/os/exec/exec.go.html#5506637">err</a></span>&nbsp;<span class="op" id="5506890">!=</span>&nbsp;<span class="ident" id="5506893">nil</span>&nbsp;<span class="op" id="5506897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5506901">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5506909">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506913"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506914">.</span><span class="ident" id="5506915">closeAfterStart</span>&nbsp;<span class="op" id="5506931">=</span>&nbsp;<span class="builtinfunc" id="5506933">append</span><span class="op" id="5506939">(</span><span class="ident" id="5506940"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506941">.</span><span class="ident" id="5506942">closeAfterStart</span><span class="op" id="5506957">,</span>&nbsp;<span class="ident" id="5506959"><a href="/os/exec/exec.go.html#5506857">pr</a></span><span class="op" id="5506961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5506964"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506965">.</span><span class="ident" id="5506966">closeAfterWait</span>&nbsp;<span class="op" id="5506981">=</span>&nbsp;<span class="builtinfunc" id="5506983">append</span><span class="op" id="5506989">(</span><span class="ident" id="5506990"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5506991">.</span><span class="ident" id="5506992">closeAfterWait</span><span class="op" id="5507006">,</span>&nbsp;<span class="ident" id="5507008"><a href="/os/exec/exec.go.html#5506861">pw</a></span><span class="op" id="5507010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507013"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5507014">.</span><span class="ident" id="5507015">goroutine</span>&nbsp;<span class="op" id="5507025">=</span>&nbsp;<span class="builtinfunc" id="5507027">append</span><span class="op" id="5507033">(</span><span class="ident" id="5507034"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5507035">.</span><span class="ident" id="5507036">goroutine</span><span class="op" id="5507045">,</span>&nbsp;<span class="keyword" id="5507047">func</span><span class="op" id="5507051">(</span><span class="op" id="5507052">)</span>&nbsp;<span class="builtintype" id="5507054">error</span>&nbsp;<span class="op" id="5507060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507064">_</span><span class="op" id="5507065">,</span>&nbsp;<span class="ident" id="5507067">err</span>&nbsp;<span class="op" id="5507071">:=</span>&nbsp;<span class="ident" id="5507074"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5507076">.</span><span class="ident" id="5507077">Copy</span><span class="op" id="5507081">(</span><span class="ident" id="5507082"><a href="/os/exec/exec.go.html#5506861">pw</a></span><span class="op" id="5507084">,</span>&nbsp;<span class="ident" id="5507086"><a href="/os/exec/exec.go.html#5506608">c</a></span><span class="op" id="5507087">.</span><span class="ident" id="5507088">Stdin</span><span class="op" id="5507093">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507097">if</span>&nbsp;<span class="ident" id="5507100">err1</span>&nbsp;<span class="op" id="5507105">:=</span>&nbsp;<span class="ident" id="5507108"><a href="/os/exec/exec.go.html#5506861">pw</a></span><span class="op" id="5507110">.</span><span class="ident" id="5507111">Close</span><span class="op" id="5507116">(</span><span class="op" id="5507117">)</span><span class="op" id="5507118">;</span>&nbsp;<span class="ident" id="5507120"><a href="/os/exec/exec.go.html#5507067">err</a></span>&nbsp;<span class="op" id="5507124">==</span>&nbsp;<span class="ident" id="5507127">nil</span>&nbsp;<span class="op" id="5507131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507136"><a href="/os/exec/exec.go.html#5507067">err</a></span>&nbsp;<span class="op" id="5507140">=</span>&nbsp;<span class="ident" id="5507142"><a href="/os/exec/exec.go.html#5507100">err1</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507153">return</span>&nbsp;<span class="ident" id="5507160"><a href="/os/exec/exec.go.html#5507067">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507165">}</span><span class="op" id="5507166">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507169">return</span>&nbsp;<span class="ident" id="5507176"><a href="/os/exec/exec.go.html#5506857">pr</a></span><span class="op" id="5507178">,</span>&nbsp;<span class="ident" id="5507180">nil</span><br>
<span class="lineno"></span><span class="op" id="5507184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5507187">func</span>&nbsp;<span class="op" id="5507192">(</span><span class="ident" id="5507193">c</span>&nbsp;<span class="op" id="5507195">*</span><span class="ident" id="5507196"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5507199">)</span>&nbsp;<span class="ident" id="5507201">stdout</span><span class="op" id="5507207">(</span><span class="op" id="5507208">)</span>&nbsp;<span class="op" id="5507210">(</span><span class="ident" id="5507211">f</span>&nbsp;<span class="op" id="5507213">*</span><span class="ident" id="5507214"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507216">.</span><span class="ident" id="5507217">File</span><span class="op" id="5507221">,</span>&nbsp;<span class="ident" id="5507223">err</span>&nbsp;<span class="builtintype" id="5507227">error</span><span class="op" id="5507232">)</span>&nbsp;<span class="op" id="5507234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507237">return</span>&nbsp;<span class="ident" id="5507244"><a href="/os/exec/exec.go.html#5507193">c</a></span><span class="op" id="5507245">.</span><span class="ident" id="5507246">writerDescriptor</span><span class="op" id="5507262">(</span><span class="ident" id="5507263"><a href="/os/exec/exec.go.html#5507193">c</a></span><span class="op" id="5507264">.</span><span class="ident" id="5507265">Stdout</span><span class="op" id="5507271">)</span><br>
<span class="lineno">190</span><span class="op" id="5507273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5507276">func</span>&nbsp;<span class="op" id="5507281">(</span><span class="ident" id="5507282">c</span>&nbsp;<span class="op" id="5507284">*</span><span class="ident" id="5507285"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5507288">)</span>&nbsp;<span class="ident" id="5507290">stderr</span><span class="op" id="5507296">(</span><span class="op" id="5507297">)</span>&nbsp;<span class="op" id="5507299">(</span><span class="ident" id="5507300">f</span>&nbsp;<span class="op" id="5507302">*</span><span class="ident" id="5507303"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507305">.</span><span class="ident" id="5507306">File</span><span class="op" id="5507310">,</span>&nbsp;<span class="ident" id="5507312">err</span>&nbsp;<span class="builtintype" id="5507316">error</span><span class="op" id="5507321">)</span>&nbsp;<span class="op" id="5507323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507326">if</span>&nbsp;<span class="ident" id="5507329"><a href="/os/exec/exec.go.html#5507282">c</a></span><span class="op" id="5507330">.</span><span class="ident" id="5507331">Stderr</span>&nbsp;<span class="op" id="5507338">!=</span>&nbsp;<span class="ident" id="5507341">nil</span>&nbsp;<span class="op" id="5507345">&amp;&amp;</span>&nbsp;<span class="ident" id="5507348"><a href="/os/exec/exec.go.html#5506317">interfaceEqual</a></span><span class="op" id="5507362">(</span><span class="ident" id="5507363"><a href="/os/exec/exec.go.html#5507282">c</a></span><span class="op" id="5507364">.</span><span class="ident" id="5507365">Stderr</span><span class="op" id="5507371">,</span>&nbsp;<span class="ident" id="5507373"><a href="/os/exec/exec.go.html#5507282">c</a></span><span class="op" id="5507374">.</span><span class="ident" id="5507375">Stdout</span><span class="op" id="5507381">)</span>&nbsp;<span class="op" id="5507383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507387">return</span>&nbsp;<span class="ident" id="5507394"><a href="/os/exec/exec.go.html#5507282">c</a></span><span class="op" id="5507395">.</span><span class="ident" id="5507396">childFiles</span><span class="op" id="5507406">[</span><span class="num" id="5507407">1</span><span class="op" id="5507408">]</span><span class="op" id="5507409">,</span>&nbsp;<span class="ident" id="5507411">nil</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507419">return</span>&nbsp;<span class="ident" id="5507426"><a href="/os/exec/exec.go.html#5507282">c</a></span><span class="op" id="5507427">.</span><span class="ident" id="5507428">writerDescriptor</span><span class="op" id="5507444">(</span><span class="ident" id="5507445"><a href="/os/exec/exec.go.html#5507282">c</a></span><span class="op" id="5507446">.</span><span class="ident" id="5507447">Stderr</span><span class="op" id="5507453">)</span><br>
<span class="lineno"></span><span class="op" id="5507455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5507458">func</span>&nbsp;<span class="op" id="5507463">(</span><span class="ident" id="5507464">c</span>&nbsp;<span class="op" id="5507466">*</span><span class="ident" id="5507467"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5507470">)</span>&nbsp;<span class="ident" id="5507472">writerDescriptor</span><span class="op" id="5507488">(</span><span class="ident" id="5507489">w</span>&nbsp;<span class="ident" id="5507491"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5507493">.</span><span class="ident" id="5507494">Writer</span><span class="op" id="5507500">)</span>&nbsp;<span class="op" id="5507502">(</span><span class="ident" id="5507503">f</span>&nbsp;<span class="op" id="5507505">*</span><span class="ident" id="5507506"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507508">.</span><span class="ident" id="5507509">File</span><span class="op" id="5507513">,</span>&nbsp;<span class="ident" id="5507515">err</span>&nbsp;<span class="builtintype" id="5507519">error</span><span class="op" id="5507524">)</span>&nbsp;<span class="op" id="5507526">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507529">if</span>&nbsp;<span class="ident" id="5507532"><a href="/os/exec/exec.go.html#5507489">w</a></span>&nbsp;<span class="op" id="5507534">==</span>&nbsp;<span class="ident" id="5507537">nil</span>&nbsp;<span class="op" id="5507541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507545"><a href="/os/exec/exec.go.html#5507503">f</a></span><span class="op" id="5507546">,</span>&nbsp;<span class="ident" id="5507548"><a href="/os/exec/exec.go.html#5507515">err</a></span>&nbsp;<span class="op" id="5507552">=</span>&nbsp;<span class="ident" id="5507554"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507556">.</span><span class="ident" id="5507557">OpenFile</span><span class="op" id="5507565">(</span><span class="ident" id="5507566"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507568">.</span><span class="ident" id="5507569">DevNull</span><span class="op" id="5507576">,</span>&nbsp;<span class="ident" id="5507578"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507580">.</span><span class="ident" id="5507581">O_WRONLY</span><span class="op" id="5507589">,</span>&nbsp;<span class="num" id="5507591">0</span><span class="op" id="5507592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507596">if</span>&nbsp;<span class="ident" id="5507599"><a href="/os/exec/exec.go.html#5507515">err</a></span>&nbsp;<span class="op" id="5507603">!=</span>&nbsp;<span class="ident" id="5507606">nil</span>&nbsp;<span class="op" id="5507610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507615">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507624">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507628"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507629">.</span><span class="ident" id="5507630">closeAfterStart</span>&nbsp;<span class="op" id="5507646">=</span>&nbsp;<span class="builtinfunc" id="5507648">append</span><span class="op" id="5507654">(</span><span class="ident" id="5507655"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507656">.</span><span class="ident" id="5507657">closeAfterStart</span><span class="op" id="5507672">,</span>&nbsp;<span class="ident" id="5507674"><a href="/os/exec/exec.go.html#5507503">f</a></span><span class="op" id="5507675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507679">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507691">if</span>&nbsp;<span class="ident" id="5507694">f</span><span class="op" id="5507695">,</span>&nbsp;<span class="ident" id="5507697">ok</span>&nbsp;<span class="op" id="5507700">:=</span>&nbsp;<span class="ident" id="5507703"><a href="/os/exec/exec.go.html#5507489">w</a></span><span class="op" id="5507704">.</span><span class="op" id="5507705">(</span><span class="op" id="5507706">*</span><span class="ident" id="5507707"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507709">.</span><span class="ident" id="5507710">File</span><span class="op" id="5507714">)</span><span class="op" id="5507715">;</span>&nbsp;<span class="ident" id="5507717"><a href="/os/exec/exec.go.html#5507697">ok</a></span>&nbsp;<span class="op" id="5507720">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507724">return</span>&nbsp;<span class="ident" id="5507731"><a href="/os/exec/exec.go.html#5507694">f</a></span><span class="op" id="5507732">,</span>&nbsp;<span class="ident" id="5507734">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507743">pr</span><span class="op" id="5507745">,</span>&nbsp;<span class="ident" id="5507747">pw</span><span class="op" id="5507749">,</span>&nbsp;<span class="ident" id="5507751"><a href="/os/exec/exec.go.html#5507515">err</a></span>&nbsp;<span class="op" id="5507755">:=</span>&nbsp;<span class="ident" id="5507758"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5507760">.</span><span class="ident" id="5507761">Pipe</span><span class="op" id="5507765">(</span><span class="op" id="5507766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507769">if</span>&nbsp;<span class="ident" id="5507772"><a href="/os/exec/exec.go.html#5507515">err</a></span>&nbsp;<span class="op" id="5507776">!=</span>&nbsp;<span class="ident" id="5507779">nil</span>&nbsp;<span class="op" id="5507783">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507787">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507799"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507800">.</span><span class="ident" id="5507801">closeAfterStart</span>&nbsp;<span class="op" id="5507817">=</span>&nbsp;<span class="builtinfunc" id="5507819">append</span><span class="op" id="5507825">(</span><span class="ident" id="5507826"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507827">.</span><span class="ident" id="5507828">closeAfterStart</span><span class="op" id="5507843">,</span>&nbsp;<span class="ident" id="5507845"><a href="/os/exec/exec.go.html#5507747">pw</a></span><span class="op" id="5507847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507850"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507851">.</span><span class="ident" id="5507852">closeAfterWait</span>&nbsp;<span class="op" id="5507867">=</span>&nbsp;<span class="builtinfunc" id="5507869">append</span><span class="op" id="5507875">(</span><span class="ident" id="5507876"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507877">.</span><span class="ident" id="5507878">closeAfterWait</span><span class="op" id="5507892">,</span>&nbsp;<span class="ident" id="5507894"><a href="/os/exec/exec.go.html#5507743">pr</a></span><span class="op" id="5507896">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507899"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507900">.</span><span class="ident" id="5507901">goroutine</span>&nbsp;<span class="op" id="5507911">=</span>&nbsp;<span class="builtinfunc" id="5507913">append</span><span class="op" id="5507919">(</span><span class="ident" id="5507920"><a href="/os/exec/exec.go.html#5507464">c</a></span><span class="op" id="5507921">.</span><span class="ident" id="5507922">goroutine</span><span class="op" id="5507931">,</span>&nbsp;<span class="keyword" id="5507933">func</span><span class="op" id="5507937">(</span><span class="op" id="5507938">)</span>&nbsp;<span class="builtintype" id="5507940">error</span>&nbsp;<span class="op" id="5507946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5507950">_</span><span class="op" id="5507951">,</span>&nbsp;<span class="ident" id="5507953">err</span>&nbsp;<span class="op" id="5507957">:=</span>&nbsp;<span class="ident" id="5507960"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5507962">.</span><span class="ident" id="5507963">Copy</span><span class="op" id="5507967">(</span><span class="ident" id="5507968"><a href="/os/exec/exec.go.html#5507489">w</a></span><span class="op" id="5507969">,</span>&nbsp;<span class="ident" id="5507971"><a href="/os/exec/exec.go.html#5507743">pr</a></span><span class="op" id="5507973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507977">return</span>&nbsp;<span class="ident" id="5507984"><a href="/os/exec/exec.go.html#5507953">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5507989">}</span><span class="op" id="5507990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5507993">return</span>&nbsp;<span class="ident" id="5508000"><a href="/os/exec/exec.go.html#5507747">pw</a></span><span class="op" id="5508002">,</span>&nbsp;<span class="ident" id="5508004">nil</span><br>
<span class="lineno">225</span><span class="op" id="5508008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5508011">func</span>&nbsp;<span class="op" id="5508016">(</span><span class="ident" id="5508017">c</span>&nbsp;<span class="op" id="5508019">*</span><span class="ident" id="5508020"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5508023">)</span>&nbsp;<span class="ident" id="5508025">closeDescriptors</span><span class="op" id="5508041">(</span><span class="ident" id="5508042">closers</span>&nbsp;<span class="op" id="5508050">[</span><span class="op" id="5508051">]</span><span class="ident" id="5508052"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5508054">.</span><span class="ident" id="5508055">Closer</span><span class="op" id="5508061">)</span>&nbsp;<span class="op" id="5508063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508066">for</span>&nbsp;<span class="ident" id="5508070">_</span><span class="op" id="5508071">,</span>&nbsp;<span class="ident" id="5508073">fd</span>&nbsp;<span class="op" id="5508076">:=</span>&nbsp;<span class="keyword" id="5508079">range</span>&nbsp;<span class="ident" id="5508085"><a href="/os/exec/exec.go.html#5508042">closers</a></span>&nbsp;<span class="op" id="5508093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508097"><a href="/os/exec/exec.go.html#5508073">fd</a></span><span class="op" id="5508099">.</span><span class="ident" id="5508100">Close</span><span class="op" id="5508105">(</span><span class="op" id="5508106">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508109">}</span><br>
<span class="lineno"></span><span class="op" id="5508111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5508114">//&nbsp;Run&nbsp;starts&nbsp;the&nbsp;specified&nbsp;command&nbsp;and&nbsp;waits&nbsp;for&nbsp;it&nbsp;to&nbsp;complete.</span><br>
<span class="lineno"></span><span class="comment" id="5508180">//</span><br>
<span class="lineno">235</span><span class="comment" id="5508183">//&nbsp;The&nbsp;returned&nbsp;error&nbsp;is&nbsp;nil&nbsp;if&nbsp;the&nbsp;command&nbsp;runs,&nbsp;has&nbsp;no&nbsp;problems</span><br>
<span class="lineno"></span><span class="comment" id="5508249">//&nbsp;copying&nbsp;stdin,&nbsp;stdout,&nbsp;and&nbsp;stderr,&nbsp;and&nbsp;exits&nbsp;with&nbsp;a&nbsp;zero&nbsp;exit</span><br>
<span class="lineno"></span><span class="comment" id="5508314">//&nbsp;status.</span><br>
<span class="lineno"></span><span class="comment" id="5508325">//</span><br>
<span class="lineno"></span><span class="comment" id="5508328">//&nbsp;If&nbsp;the&nbsp;command&nbsp;fails&nbsp;to&nbsp;run&nbsp;or&nbsp;doesn&#39;t&nbsp;complete&nbsp;successfully,&nbsp;the</span><br>
<span class="lineno">240</span><span class="comment" id="5508397">//&nbsp;error&nbsp;is&nbsp;of&nbsp;type&nbsp;*ExitError.&nbsp;Other&nbsp;error&nbsp;types&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5508454">//&nbsp;returned&nbsp;for&nbsp;I/O&nbsp;problems.</span><br>
<span class="lineno"></span><span class="keyword" id="5508484">func</span>&nbsp;<span class="op" id="5508489">(</span><span class="ident" id="5508490">c</span>&nbsp;<span class="op" id="5508492">*</span><span class="ident" id="5508493"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5508496">)</span>&nbsp;<span class="ident" id="5508498">Run</span><span class="op" id="5508501">(</span><span class="op" id="5508502">)</span>&nbsp;<span class="builtintype" id="5508504">error</span>&nbsp;<span class="op" id="5508510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508513">if</span>&nbsp;<span class="ident" id="5508516">err</span>&nbsp;<span class="op" id="5508520">:=</span>&nbsp;<span class="ident" id="5508523"><a href="/os/exec/exec.go.html#5508490">c</a></span><span class="op" id="5508524">.</span><span class="ident" id="5508525">Start</span><span class="op" id="5508530">(</span><span class="op" id="5508531">)</span><span class="op" id="5508532">;</span>&nbsp;<span class="ident" id="5508534"><a href="/os/exec/exec.go.html#5508516">err</a></span>&nbsp;<span class="op" id="5508538">!=</span>&nbsp;<span class="ident" id="5508541">nil</span>&nbsp;<span class="op" id="5508545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508549">return</span>&nbsp;<span class="ident" id="5508556"><a href="/os/exec/exec.go.html#5508516">err</a></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508564">return</span>&nbsp;<span class="ident" id="5508571"><a href="/os/exec/exec.go.html#5508490">c</a></span><span class="op" id="5508572">.</span><span class="ident" id="5508573">Wait</span><span class="op" id="5508577">(</span><span class="op" id="5508578">)</span><br>
<span class="lineno"></span><span class="op" id="5508580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5508583">//&nbsp;lookExtensions&nbsp;finds&nbsp;windows&nbsp;executable&nbsp;by&nbsp;its&nbsp;dir&nbsp;and&nbsp;path.</span><br>
<span class="lineno">250</span><span class="comment" id="5508647">//&nbsp;It&nbsp;uses&nbsp;LookPath&nbsp;to&nbsp;try&nbsp;appropriate&nbsp;extensions.</span><br>
<span class="lineno"></span><span class="comment" id="5508698">//&nbsp;lookExtensions&nbsp;does&nbsp;not&nbsp;search&nbsp;PATH,&nbsp;instead&nbsp;it&nbsp;converts&nbsp;`prog`&nbsp;into&nbsp;`.\prog`.</span><br>
<span class="lineno"></span><span class="keyword" id="5508780">func</span>&nbsp;<span class="ident" id="5508785">lookExtensions</span><span class="op" id="5508799">(</span><span class="ident" id="5508800">path</span><span class="op" id="5508804">,</span>&nbsp;<span class="ident" id="5508806">dir</span>&nbsp;<span class="builtintype" id="5508810">string</span><span class="op" id="5508816">)</span>&nbsp;<span class="op" id="5508818">(</span><span class="builtintype" id="5508819">string</span><span class="op" id="5508825">,</span>&nbsp;<span class="builtintype" id="5508827">error</span><span class="op" id="5508832">)</span>&nbsp;<span class="op" id="5508834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508837">if</span>&nbsp;<span class="ident" id="5508840"><a href="/os/exec/exec.go.html#5502389">filepath</a></span><span class="op" id="5508848">.</span><span class="ident" id="5508849">Base</span><span class="op" id="5508853">(</span><span class="ident" id="5508854"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5508858">)</span>&nbsp;<span class="op" id="5508860">==</span>&nbsp;<span class="ident" id="5508863"><a href="/os/exec/exec.go.html#5508800">path</a></span>&nbsp;<span class="op" id="5508868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5508872"><a href="/os/exec/exec.go.html#5508800">path</a></span>&nbsp;<span class="op" id="5508877">=</span>&nbsp;<span class="ident" id="5508879"><a href="/os/exec/exec.go.html#5502389">filepath</a></span><span class="op" id="5508887">.</span><span class="ident" id="5508888">Join</span><span class="op" id="5508892">(</span><span class="string" id="5508893">&#34;.&#34;</span><span class="op" id="5508896">,</span>&nbsp;<span class="ident" id="5508898"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5508902">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508908">if</span>&nbsp;<span class="ident" id="5508911"><a href="/os/exec/exec.go.html#5508806">dir</a></span>&nbsp;<span class="op" id="5508915">==</span>&nbsp;<span class="string" id="5508918">&#34;&#34;</span>&nbsp;<span class="op" id="5508921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508925">return</span>&nbsp;<span class="ident" id="5508932"><a href="/os/exec/lp_unix.go.html#5516280">LookPath</a></span><span class="op" id="5508940">(</span><span class="ident" id="5508941"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5508945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5508948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508951">if</span>&nbsp;<span class="ident" id="5508954"><a href="/os/exec/exec.go.html#5502389">filepath</a></span><span class="op" id="5508962">.</span><span class="ident" id="5508963">VolumeName</span><span class="op" id="5508973">(</span><span class="ident" id="5508974"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5508978">)</span>&nbsp;<span class="op" id="5508980">!=</span>&nbsp;<span class="string" id="5508983">&#34;&#34;</span>&nbsp;<span class="op" id="5508986">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5508990">return</span>&nbsp;<span class="ident" id="5508997"><a href="/os/exec/lp_unix.go.html#5516280">LookPath</a></span><span class="op" id="5509005">(</span><span class="ident" id="5509006"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5509010">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509016">if</span>&nbsp;<span class="builtinfunc" id="5509019">len</span><span class="op" id="5509022">(</span><span class="ident" id="5509023"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5509027">)</span>&nbsp;<span class="op" id="5509029">&gt;</span>&nbsp;<span class="num" id="5509031">1</span>&nbsp;<span class="op" id="5509033">&amp;&amp;</span>&nbsp;<span class="ident" id="5509036"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5509038">.</span><span class="ident" id="5509039">IsPathSeparator</span><span class="op" id="5509054">(</span><span class="ident" id="5509055"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5509059">[</span><span class="num" id="5509060">0</span><span class="op" id="5509061">]</span><span class="op" id="5509062">)</span>&nbsp;<span class="op" id="5509064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509068">return</span>&nbsp;<span class="ident" id="5509075"><a href="/os/exec/lp_unix.go.html#5516280">LookPath</a></span><span class="op" id="5509083">(</span><span class="ident" id="5509084"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5509088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509091">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509094">dirandpath</span>&nbsp;<span class="op" id="5509105">:=</span>&nbsp;<span class="ident" id="5509108"><a href="/os/exec/exec.go.html#5502389">filepath</a></span><span class="op" id="5509116">.</span><span class="ident" id="5509117">Join</span><span class="op" id="5509121">(</span><span class="ident" id="5509122"><a href="/os/exec/exec.go.html#5508806">dir</a></span><span class="op" id="5509125">,</span>&nbsp;<span class="ident" id="5509127"><a href="/os/exec/exec.go.html#5508800">path</a></span><span class="op" id="5509131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5509134">//&nbsp;We&nbsp;assume&nbsp;that&nbsp;LookPath&nbsp;will&nbsp;only&nbsp;add&nbsp;file&nbsp;extension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509192">lp</span><span class="op" id="5509194">,</span>&nbsp;<span class="ident" id="5509196">err</span>&nbsp;<span class="op" id="5509200">:=</span>&nbsp;<span class="ident" id="5509203"><a href="/os/exec/lp_unix.go.html#5516280">LookPath</a></span><span class="op" id="5509211">(</span><span class="ident" id="5509212"><a href="/os/exec/exec.go.html#5509094">dirandpath</a></span><span class="op" id="5509222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509225">if</span>&nbsp;<span class="ident" id="5509228"><a href="/os/exec/exec.go.html#5509196">err</a></span>&nbsp;<span class="op" id="5509232">!=</span>&nbsp;<span class="ident" id="5509235">nil</span>&nbsp;<span class="op" id="5509239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509243">return</span>&nbsp;<span class="string" id="5509250">&#34;&#34;</span><span class="op" id="5509252">,</span>&nbsp;<span class="ident" id="5509254"><a href="/os/exec/exec.go.html#5509196">err</a></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509262">ext</span>&nbsp;<span class="op" id="5509266">:=</span>&nbsp;<span class="ident" id="5509269"><a href="/os/exec/exec.go.html#5502428">strings</a></span><span class="op" id="5509276">.</span><span class="ident" id="5509277">TrimPrefix</span><span class="op" id="5509287">(</span><span class="ident" id="5509288"><a href="/os/exec/exec.go.html#5509192">lp</a></span><span class="op" id="5509290">,</span>&nbsp;<span class="ident" id="5509292"><a href="/os/exec/exec.go.html#5509094">dirandpath</a></span><span class="op" id="5509302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509305">return</span>&nbsp;<span class="ident" id="5509312"><a href="/os/exec/exec.go.html#5508800">path</a></span>&nbsp;<span class="op" id="5509317">+</span>&nbsp;<span class="ident" id="5509319"><a href="/os/exec/exec.go.html#5509262">ext</a></span><span class="op" id="5509322">,</span>&nbsp;<span class="ident" id="5509324">nil</span><br>
<span class="lineno"></span><span class="op" id="5509328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span><span class="comment" id="5509331">//&nbsp;Start&nbsp;starts&nbsp;the&nbsp;specified&nbsp;command&nbsp;but&nbsp;does&nbsp;not&nbsp;wait&nbsp;for&nbsp;it&nbsp;to&nbsp;complete.</span><br>
<span class="lineno"></span><span class="comment" id="5509407">//</span><br>
<span class="lineno"></span><span class="comment" id="5509410">//&nbsp;The&nbsp;Wait&nbsp;method&nbsp;will&nbsp;return&nbsp;the&nbsp;exit&nbsp;code&nbsp;and&nbsp;release&nbsp;associated&nbsp;resources</span><br>
<span class="lineno"></span><span class="comment" id="5509488">//&nbsp;once&nbsp;the&nbsp;command&nbsp;exits.</span><br>
<span class="lineno"></span><span class="keyword" id="5509515">func</span>&nbsp;<span class="op" id="5509520">(</span><span class="ident" id="5509521">c</span>&nbsp;<span class="op" id="5509523">*</span><span class="ident" id="5509524"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5509527">)</span>&nbsp;<span class="ident" id="5509529">Start</span><span class="op" id="5509534">(</span><span class="op" id="5509535">)</span>&nbsp;<span class="builtintype" id="5509537">error</span>&nbsp;<span class="op" id="5509543">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509546">if</span>&nbsp;<span class="ident" id="5509549"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509550">.</span><span class="ident" id="5509551">lookPathErr</span>&nbsp;<span class="op" id="5509563">!=</span>&nbsp;<span class="ident" id="5509566">nil</span>&nbsp;<span class="op" id="5509570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509574"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509575">.</span><span class="ident" id="5509576">closeDescriptors</span><span class="op" id="5509592">(</span><span class="ident" id="5509593"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509594">.</span><span class="ident" id="5509595">closeAfterStart</span><span class="op" id="5509610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509614"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509615">.</span><span class="ident" id="5509616">closeDescriptors</span><span class="op" id="5509632">(</span><span class="ident" id="5509633"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509634">.</span><span class="ident" id="5509635">closeAfterWait</span><span class="op" id="5509649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509653">return</span>&nbsp;<span class="ident" id="5509660"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509661">.</span><span class="ident" id="5509662">lookPathErr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509675">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509678">if</span>&nbsp;<span class="ident" id="5509681"><a href="/os/exec/exec.go.html#5502406">runtime</a></span><span class="op" id="5509688">.</span><span class="ident" id="5509689">GOOS</span>&nbsp;<span class="op" id="5509694">==</span>&nbsp;<span class="string" id="5509697">&#34;windows&#34;</span>&nbsp;<span class="op" id="5509707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509711">lp</span><span class="op" id="5509713">,</span>&nbsp;<span class="ident" id="5509715">err</span>&nbsp;<span class="op" id="5509719">:=</span>&nbsp;<span class="ident" id="5509722"><a href="/os/exec/exec.go.html#5508785">lookExtensions</a></span><span class="op" id="5509736">(</span><span class="ident" id="5509737"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509738">.</span><span class="ident" id="5509739">Path</span><span class="op" id="5509743">,</span>&nbsp;<span class="ident" id="5509745"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509746">.</span><span class="ident" id="5509747">Dir</span><span class="op" id="5509750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509754">if</span>&nbsp;<span class="ident" id="5509757"><a href="/os/exec/exec.go.html#5509715">err</a></span>&nbsp;<span class="op" id="5509761">!=</span>&nbsp;<span class="ident" id="5509764">nil</span>&nbsp;<span class="op" id="5509768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509773"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509774">.</span><span class="ident" id="5509775">closeDescriptors</span><span class="op" id="5509791">(</span><span class="ident" id="5509792"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509793">.</span><span class="ident" id="5509794">closeAfterStart</span><span class="op" id="5509809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509814"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509815">.</span><span class="ident" id="5509816">closeDescriptors</span><span class="op" id="5509832">(</span><span class="ident" id="5509833"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509834">.</span><span class="ident" id="5509835">closeAfterWait</span><span class="op" id="5509849">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509854">return</span>&nbsp;<span class="ident" id="5509861"><a href="/os/exec/exec.go.html#5509715">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5509871"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509872">.</span><span class="ident" id="5509873">Path</span>&nbsp;<span class="op" id="5509878">=</span>&nbsp;<span class="ident" id="5509880"><a href="/os/exec/exec.go.html#5509711">lp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509887">if</span>&nbsp;<span class="ident" id="5509890"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5509891">.</span><span class="ident" id="5509892">Process</span>&nbsp;<span class="op" id="5509900">!=</span>&nbsp;<span class="ident" id="5509903">nil</span>&nbsp;<span class="op" id="5509907">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509911">return</span>&nbsp;<span class="ident" id="5509918"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5509924">.</span><span class="ident" id="5509925">New</span><span class="op" id="5509928">(</span><span class="string" id="5509929">&#34;exec:&nbsp;already&nbsp;started&#34;</span><span class="op" id="5509952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5509955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509959">type</span>&nbsp;<span class="ident" id="5509964">F</span>&nbsp;<span class="keyword" id="5509966">func</span><span class="op" id="5509970">(</span><span class="op" id="5509971">*</span><span class="ident" id="5509972"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5509975">)</span>&nbsp;<span class="op" id="5509977">(</span><span class="op" id="5509978">*</span><span class="ident" id="5509979"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5509981">.</span><span class="ident" id="5509982">File</span><span class="op" id="5509986">,</span>&nbsp;<span class="builtintype" id="5509988">error</span><span class="op" id="5509993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5509996">for</span>&nbsp;<span class="ident" id="5510000">_</span><span class="op" id="5510001">,</span>&nbsp;<span class="ident" id="5510003">setupFd</span>&nbsp;<span class="op" id="5510011">:=</span>&nbsp;<span class="keyword" id="5510014">range</span>&nbsp;<span class="op" id="5510020">[</span><span class="op" id="5510021">]</span><span class="ident" id="5510022"><a href="/os/exec/exec.go.html#5509964">F</a></span><span class="op" id="5510023">{</span><span class="op" id="5510024">(</span><span class="op" id="5510025">*</span><span class="ident" id="5510026"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5510029">)</span><span class="op" id="5510030">.</span><span class="ident" id="5510031">stdin</span><span class="op" id="5510036">,</span>&nbsp;<span class="op" id="5510038">(</span><span class="op" id="5510039">*</span><span class="ident" id="5510040"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5510043">)</span><span class="op" id="5510044">.</span><span class="ident" id="5510045">stdout</span><span class="op" id="5510051">,</span>&nbsp;<span class="op" id="5510053">(</span><span class="op" id="5510054">*</span><span class="ident" id="5510055"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5510058">)</span><span class="op" id="5510059">.</span><span class="ident" id="5510060">stderr</span><span class="op" id="5510066">}</span>&nbsp;<span class="op" id="5510068">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510072">fd</span><span class="op" id="5510074">,</span>&nbsp;<span class="ident" id="5510076">err</span>&nbsp;<span class="op" id="5510080">:=</span>&nbsp;<span class="ident" id="5510083"><a href="/os/exec/exec.go.html#5510003">setupFd</a></span><span class="op" id="5510090">(</span><span class="ident" id="5510091"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510096">if</span>&nbsp;<span class="ident" id="5510099"><a href="/os/exec/exec.go.html#5510076">err</a></span>&nbsp;<span class="op" id="5510103">!=</span>&nbsp;<span class="ident" id="5510106">nil</span>&nbsp;<span class="op" id="5510110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510115"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510116">.</span><span class="ident" id="5510117">closeDescriptors</span><span class="op" id="5510133">(</span><span class="ident" id="5510134"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510135">.</span><span class="ident" id="5510136">closeAfterStart</span><span class="op" id="5510151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510156"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510157">.</span><span class="ident" id="5510158">closeDescriptors</span><span class="op" id="5510174">(</span><span class="ident" id="5510175"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510176">.</span><span class="ident" id="5510177">closeAfterWait</span><span class="op" id="5510191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510196">return</span>&nbsp;<span class="ident" id="5510203"><a href="/os/exec/exec.go.html#5510076">err</a></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510209">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510213"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510214">.</span><span class="ident" id="5510215">childFiles</span>&nbsp;<span class="op" id="5510226">=</span>&nbsp;<span class="builtinfunc" id="5510228">append</span><span class="op" id="5510234">(</span><span class="ident" id="5510235"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510236">.</span><span class="ident" id="5510237">childFiles</span><span class="op" id="5510247">,</span>&nbsp;<span class="ident" id="5510249"><a href="/os/exec/exec.go.html#5510072">fd</a></span><span class="op" id="5510251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510257"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510258">.</span><span class="ident" id="5510259">childFiles</span>&nbsp;<span class="op" id="5510270">=</span>&nbsp;<span class="builtinfunc" id="5510272">append</span><span class="op" id="5510278">(</span><span class="ident" id="5510279"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510280">.</span><span class="ident" id="5510281">childFiles</span><span class="op" id="5510291">,</span>&nbsp;<span class="ident" id="5510293"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510294">.</span><span class="ident" id="5510295">ExtraFiles</span><span class="op" id="5510305">...</span><span class="op" id="5510308">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510312">var</span>&nbsp;<span class="ident" id="5510316">err</span>&nbsp;<span class="builtintype" id="5510320">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510327"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510328">.</span><span class="ident" id="5510329">Process</span><span class="op" id="5510336">,</span>&nbsp;<span class="ident" id="5510338"><a href="/os/exec/exec.go.html#5510316">err</a></span>&nbsp;<span class="op" id="5510342">=</span>&nbsp;<span class="ident" id="5510344"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5510346">.</span><span class="ident" id="5510347">StartProcess</span><span class="op" id="5510359">(</span><span class="ident" id="5510360"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510361">.</span><span class="ident" id="5510362">Path</span><span class="op" id="5510366">,</span>&nbsp;<span class="ident" id="5510368"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510369">.</span><span class="ident" id="5510370">argv</span><span class="op" id="5510374">(</span><span class="op" id="5510375">)</span><span class="op" id="5510376">,</span>&nbsp;<span class="op" id="5510378">&amp;</span><span class="ident" id="5510379"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5510381">.</span><span class="ident" id="5510382">ProcAttr</span><span class="op" id="5510390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510394">Dir</span><span class="op" id="5510397">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5510401"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510402">.</span><span class="ident" id="5510403">Dir</span><span class="op" id="5510406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510410">Files</span><span class="op" id="5510415">:</span>&nbsp;<span class="ident" id="5510417"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510418">.</span><span class="ident" id="5510419">childFiles</span><span class="op" id="5510429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510433">Env</span><span class="op" id="5510436">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5510440"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510441">.</span><span class="ident" id="5510442">envv</span><span class="op" id="5510446">(</span><span class="op" id="5510447">)</span><span class="op" id="5510448">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510452">Sys</span><span class="op" id="5510455">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5510459"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510460">.</span><span class="ident" id="5510461">SysProcAttr</span><span class="op" id="5510472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510475">}</span><span class="op" id="5510476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510479">if</span>&nbsp;<span class="ident" id="5510482"><a href="/os/exec/exec.go.html#5510316">err</a></span>&nbsp;<span class="op" id="5510486">!=</span>&nbsp;<span class="ident" id="5510489">nil</span>&nbsp;<span class="op" id="5510493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510497"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510498">.</span><span class="ident" id="5510499">closeDescriptors</span><span class="op" id="5510515">(</span><span class="ident" id="5510516"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510517">.</span><span class="ident" id="5510518">closeAfterStart</span><span class="op" id="5510533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510537"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510538">.</span><span class="ident" id="5510539">closeDescriptors</span><span class="op" id="5510555">(</span><span class="ident" id="5510556"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510557">.</span><span class="ident" id="5510558">closeAfterWait</span><span class="op" id="5510572">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510576">return</span>&nbsp;<span class="ident" id="5510583"><a href="/os/exec/exec.go.html#5510316">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510592"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510593">.</span><span class="ident" id="5510594">closeDescriptors</span><span class="op" id="5510610">(</span><span class="ident" id="5510611"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510612">.</span><span class="ident" id="5510613">closeAfterStart</span><span class="op" id="5510628">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510632"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510633">.</span><span class="ident" id="5510634">errch</span>&nbsp;<span class="op" id="5510640">=</span>&nbsp;<span class="builtinfunc" id="5510642">make</span><span class="op" id="5510646">(</span><span class="keyword" id="5510647">chan</span>&nbsp;<span class="builtintype" id="5510652">error</span><span class="op" id="5510657">,</span>&nbsp;<span class="builtinfunc" id="5510659">len</span><span class="op" id="5510662">(</span><span class="ident" id="5510663"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510664">.</span><span class="ident" id="5510665">goroutine</span><span class="op" id="5510674">)</span><span class="op" id="5510675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510678">for</span>&nbsp;<span class="ident" id="5510682">_</span><span class="op" id="5510683">,</span>&nbsp;<span class="ident" id="5510685">fn</span>&nbsp;<span class="op" id="5510688">:=</span>&nbsp;<span class="keyword" id="5510691">range</span>&nbsp;<span class="ident" id="5510697"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510698">.</span><span class="ident" id="5510699">goroutine</span>&nbsp;<span class="op" id="5510709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510713">go</span>&nbsp;<span class="keyword" id="5510716">func</span><span class="op" id="5510720">(</span><span class="ident" id="5510721">fn</span>&nbsp;<span class="keyword" id="5510724">func</span><span class="op" id="5510728">(</span><span class="op" id="5510729">)</span>&nbsp;<span class="builtintype" id="5510731">error</span><span class="op" id="5510736">)</span>&nbsp;<span class="op" id="5510738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5510743"><a href="/os/exec/exec.go.html#5509521">c</a></span><span class="op" id="5510744">.</span><span class="ident" id="5510745">errch</span>&nbsp;<span class="op" id="5510751">&lt;-</span>&nbsp;<span class="ident" id="5510754"><a href="/os/exec/exec.go.html#5510721">fn</a></span><span class="op" id="5510756">(</span><span class="op" id="5510757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510761">}</span><span class="op" id="5510762">(</span><span class="ident" id="5510763"><a href="/os/exec/exec.go.html#5510685">fn</a></span><span class="op" id="5510765">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510772">return</span>&nbsp;<span class="ident" id="5510779">nil</span><br>
<span class="lineno"></span><span class="op" id="5510783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">335</span><span class="comment" id="5510786">//&nbsp;An&nbsp;ExitError&nbsp;reports&nbsp;an&nbsp;unsuccessful&nbsp;exit&nbsp;by&nbsp;a&nbsp;command.</span><br>
<span class="lineno"></span><span class="keyword" id="5510845">type</span>&nbsp;<span class="ident" id="5510850">ExitError</span>&nbsp;<span class="keyword" id="5510860">struct</span>&nbsp;<span class="op" id="5510867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5510870">*</span><span class="ident" id="5510871"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5510873">.</span><span class="ident" id="5510874">ProcessState</span><br>
<span class="lineno"></span><span class="op" id="5510887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span><span class="keyword" id="5510890">func</span>&nbsp;<span class="op" id="5510895">(</span><span class="ident" id="5510896">e</span>&nbsp;<span class="op" id="5510898">*</span><span class="ident" id="5510899"><a href="/os/exec/exec.go.html#5510850">ExitError</a></span><span class="op" id="5510908">)</span>&nbsp;<span class="ident" id="5510910">Error</span><span class="op" id="5510915">(</span><span class="op" id="5510916">)</span>&nbsp;<span class="builtintype" id="5510918">string</span>&nbsp;<span class="op" id="5510925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5510928">return</span>&nbsp;<span class="ident" id="5510935"><a href="/os/exec/exec.go.html#5510896">e</a></span><span class="op" id="5510936">.</span><span class="ident" id="5510937">ProcessState</span><span class="op" id="5510949">.</span><span class="ident" id="5510950">String</span><span class="op" id="5510956">(</span><span class="op" id="5510957">)</span><br>
<span class="lineno"></span><span class="op" id="5510959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5510962">//&nbsp;Wait&nbsp;waits&nbsp;for&nbsp;the&nbsp;command&nbsp;to&nbsp;exit.</span><br>
<span class="lineno">345</span><span class="comment" id="5511001">//&nbsp;It&nbsp;must&nbsp;have&nbsp;been&nbsp;started&nbsp;by&nbsp;Start.</span><br>
<span class="lineno"></span><span class="comment" id="5511040">//</span><br>
<span class="lineno"></span><span class="comment" id="5511043">//&nbsp;The&nbsp;returned&nbsp;error&nbsp;is&nbsp;nil&nbsp;if&nbsp;the&nbsp;command&nbsp;runs,&nbsp;has&nbsp;no&nbsp;problems</span><br>
<span class="lineno"></span><span class="comment" id="5511109">//&nbsp;copying&nbsp;stdin,&nbsp;stdout,&nbsp;and&nbsp;stderr,&nbsp;and&nbsp;exits&nbsp;with&nbsp;a&nbsp;zero&nbsp;exit</span><br>
<span class="lineno"></span><span class="comment" id="5511174">//&nbsp;status.</span><br>
<span class="lineno">350</span><span class="comment" id="5511185">//</span><br>
<span class="lineno"></span><span class="comment" id="5511188">//&nbsp;If&nbsp;the&nbsp;command&nbsp;fails&nbsp;to&nbsp;run&nbsp;or&nbsp;doesn&#39;t&nbsp;complete&nbsp;successfully,&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5511257">//&nbsp;error&nbsp;is&nbsp;of&nbsp;type&nbsp;*ExitError.&nbsp;Other&nbsp;error&nbsp;types&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5511314">//&nbsp;returned&nbsp;for&nbsp;I/O&nbsp;problems.</span><br>
<span class="lineno"></span><span class="comment" id="5511344">//</span><br>
<span class="lineno">355</span><span class="comment" id="5511347">//&nbsp;Wait&nbsp;releases&nbsp;any&nbsp;resources&nbsp;associated&nbsp;with&nbsp;the&nbsp;Cmd.</span><br>
<span class="lineno"></span><span class="keyword" id="5511403">func</span>&nbsp;<span class="op" id="5511408">(</span><span class="ident" id="5511409">c</span>&nbsp;<span class="op" id="5511411">*</span><span class="ident" id="5511412"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5511415">)</span>&nbsp;<span class="ident" id="5511417">Wait</span><span class="op" id="5511421">(</span><span class="op" id="5511422">)</span>&nbsp;<span class="builtintype" id="5511424">error</span>&nbsp;<span class="op" id="5511430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511433">if</span>&nbsp;<span class="ident" id="5511436"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511437">.</span><span class="ident" id="5511438">Process</span>&nbsp;<span class="op" id="5511446">==</span>&nbsp;<span class="ident" id="5511449">nil</span>&nbsp;<span class="op" id="5511453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511457">return</span>&nbsp;<span class="ident" id="5511464"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5511470">.</span><span class="ident" id="5511471">New</span><span class="op" id="5511474">(</span><span class="string" id="5511475">&#34;exec:&nbsp;not&nbsp;started&#34;</span><span class="op" id="5511494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511497">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511500">if</span>&nbsp;<span class="ident" id="5511503"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511504">.</span><span class="ident" id="5511505">finished</span>&nbsp;<span class="op" id="5511514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511518">return</span>&nbsp;<span class="ident" id="5511525"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5511531">.</span><span class="ident" id="5511532">New</span><span class="op" id="5511535">(</span><span class="string" id="5511536">&#34;exec:&nbsp;Wait&nbsp;was&nbsp;already&nbsp;called&#34;</span><span class="op" id="5511567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511573"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511574">.</span><span class="ident" id="5511575">finished</span>&nbsp;<span class="op" id="5511584">=</span>&nbsp;<span class="ident" id="5511586">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511592">state</span><span class="op" id="5511597">,</span>&nbsp;<span class="ident" id="5511599">err</span>&nbsp;<span class="op" id="5511603">:=</span>&nbsp;<span class="ident" id="5511606"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511607">.</span><span class="ident" id="5511608">Process</span><span class="op" id="5511615">.</span><span class="ident" id="5511616">Wait</span><span class="op" id="5511620">(</span><span class="op" id="5511621">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511624"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511625">.</span><span class="ident" id="5511626">ProcessState</span>&nbsp;<span class="op" id="5511639">=</span>&nbsp;<span class="ident" id="5511641"><a href="/os/exec/exec.go.html#5511592">state</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511649">var</span>&nbsp;<span class="ident" id="5511653">copyError</span>&nbsp;<span class="builtintype" id="5511663">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511670">for</span>&nbsp;<span class="keyword" id="5511674">range</span>&nbsp;<span class="ident" id="5511680"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511681">.</span><span class="ident" id="5511682">goroutine</span>&nbsp;<span class="op" id="5511692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511696">if</span>&nbsp;<span class="ident" id="5511699">err</span>&nbsp;<span class="op" id="5511703">:=</span>&nbsp;<span class="op" id="5511706">&lt;-</span><span class="ident" id="5511708"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511709">.</span><span class="ident" id="5511710">errch</span><span class="op" id="5511715">;</span>&nbsp;<span class="ident" id="5511717"><a href="/os/exec/exec.go.html#5511699">err</a></span>&nbsp;<span class="op" id="5511721">!=</span>&nbsp;<span class="ident" id="5511724">nil</span>&nbsp;<span class="op" id="5511728">&amp;&amp;</span>&nbsp;<span class="ident" id="5511731"><a href="/os/exec/exec.go.html#5511653">copyError</a></span>&nbsp;<span class="op" id="5511741">==</span>&nbsp;<span class="ident" id="5511744">nil</span>&nbsp;<span class="op" id="5511748">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511753"><a href="/os/exec/exec.go.html#5511653">copyError</a></span>&nbsp;<span class="op" id="5511763">=</span>&nbsp;<span class="ident" id="5511765"><a href="/os/exec/exec.go.html#5511699">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5511778"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511779">.</span><span class="ident" id="5511780">closeDescriptors</span><span class="op" id="5511796">(</span><span class="ident" id="5511797"><a href="/os/exec/exec.go.html#5511409">c</a></span><span class="op" id="5511798">.</span><span class="ident" id="5511799">closeAfterWait</span><span class="op" id="5511813">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511817">if</span>&nbsp;<span class="ident" id="5511820"><a href="/os/exec/exec.go.html#5511599">err</a></span>&nbsp;<span class="op" id="5511824">!=</span>&nbsp;<span class="ident" id="5511827">nil</span>&nbsp;<span class="op" id="5511831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511835">return</span>&nbsp;<span class="ident" id="5511842"><a href="/os/exec/exec.go.html#5511599">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511847">}</span>&nbsp;<span class="keyword" id="5511849">else</span>&nbsp;<span class="keyword" id="5511854">if</span>&nbsp;<span class="op" id="5511857">!</span><span class="ident" id="5511858"><a href="/os/exec/exec.go.html#5511592">state</a></span><span class="op" id="5511863">.</span><span class="ident" id="5511864">Success</span><span class="op" id="5511871">(</span><span class="op" id="5511872">)</span>&nbsp;<span class="op" id="5511874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511878">return</span>&nbsp;<span class="op" id="5511885">&amp;</span><span class="ident" id="5511886"><a href="/os/exec/exec.go.html#5510850">ExitError</a></span><span class="op" id="5511895">{</span><span class="ident" id="5511896"><a href="/os/exec/exec.go.html#5511592">state</a></span><span class="op" id="5511901">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5511904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5511908">return</span>&nbsp;<span class="ident" id="5511915"><a href="/os/exec/exec.go.html#5511653">copyError</a></span><br>
<span class="lineno"></span><span class="op" id="5511925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span><span class="comment" id="5511928">//&nbsp;Output&nbsp;runs&nbsp;the&nbsp;command&nbsp;and&nbsp;returns&nbsp;its&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="5511988">func</span>&nbsp;<span class="op" id="5511993">(</span><span class="ident" id="5511994">c</span>&nbsp;<span class="op" id="5511996">*</span><span class="ident" id="5511997"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5512000">)</span>&nbsp;<span class="ident" id="5512002">Output</span><span class="op" id="5512008">(</span><span class="op" id="5512009">)</span>&nbsp;<span class="op" id="5512011">(</span><span class="op" id="5512012">[</span><span class="op" id="5512013">]</span><span class="builtintype" id="5512014">byte</span><span class="op" id="5512018">,</span>&nbsp;<span class="builtintype" id="5512020">error</span><span class="op" id="5512025">)</span>&nbsp;<span class="op" id="5512027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512030">if</span>&nbsp;<span class="ident" id="5512033"><a href="/os/exec/exec.go.html#5511994">c</a></span><span class="op" id="5512034">.</span><span class="ident" id="5512035">Stdout</span>&nbsp;<span class="op" id="5512042">!=</span>&nbsp;<span class="ident" id="5512045">nil</span>&nbsp;<span class="op" id="5512049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512053">return</span>&nbsp;<span class="ident" id="5512060">nil</span><span class="op" id="5512063">,</span>&nbsp;<span class="ident" id="5512065"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5512071">.</span><span class="ident" id="5512072">New</span><span class="op" id="5512075">(</span><span class="string" id="5512076">&#34;exec:&nbsp;Stdout&nbsp;already&nbsp;set&#34;</span><span class="op" id="5512102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512105">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512108">var</span>&nbsp;<span class="ident" id="5512112">b</span>&nbsp;<span class="ident" id="5512114"><a href="/os/exec/exec.go.html#5502358">bytes</a></span><span class="op" id="5512119">.</span><span class="ident" id="5512120">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512128"><a href="/os/exec/exec.go.html#5511994">c</a></span><span class="op" id="5512129">.</span><span class="ident" id="5512130">Stdout</span>&nbsp;<span class="op" id="5512137">=</span>&nbsp;<span class="op" id="5512139">&amp;</span><span class="ident" id="5512140"><a href="/os/exec/exec.go.html#5512112">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512143">err</span>&nbsp;<span class="op" id="5512147">:=</span>&nbsp;<span class="ident" id="5512150"><a href="/os/exec/exec.go.html#5511994">c</a></span><span class="op" id="5512151">.</span><span class="ident" id="5512152">Run</span><span class="op" id="5512155">(</span><span class="op" id="5512156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512159">return</span>&nbsp;<span class="ident" id="5512166"><a href="/os/exec/exec.go.html#5512112">b</a></span><span class="op" id="5512167">.</span><span class="ident" id="5512168">Bytes</span><span class="op" id="5512173">(</span><span class="op" id="5512174">)</span><span class="op" id="5512175">,</span>&nbsp;<span class="ident" id="5512177"><a href="/os/exec/exec.go.html#5512143">err</a></span><br>
<span class="lineno"></span><span class="op" id="5512181">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span><span class="comment" id="5512184">//&nbsp;CombinedOutput&nbsp;runs&nbsp;the&nbsp;command&nbsp;and&nbsp;returns&nbsp;its&nbsp;combined&nbsp;standard</span><br>
<span class="lineno"></span><span class="comment" id="5512253">//&nbsp;output&nbsp;and&nbsp;standard&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5512283">func</span>&nbsp;<span class="op" id="5512288">(</span><span class="ident" id="5512289">c</span>&nbsp;<span class="op" id="5512291">*</span><span class="ident" id="5512292"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5512295">)</span>&nbsp;<span class="ident" id="5512297">CombinedOutput</span><span class="op" id="5512311">(</span><span class="op" id="5512312">)</span>&nbsp;<span class="op" id="5512314">(</span><span class="op" id="5512315">[</span><span class="op" id="5512316">]</span><span class="builtintype" id="5512317">byte</span><span class="op" id="5512321">,</span>&nbsp;<span class="builtintype" id="5512323">error</span><span class="op" id="5512328">)</span>&nbsp;<span class="op" id="5512330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512333">if</span>&nbsp;<span class="ident" id="5512336"><a href="/os/exec/exec.go.html#5512289">c</a></span><span class="op" id="5512337">.</span><span class="ident" id="5512338">Stdout</span>&nbsp;<span class="op" id="5512345">!=</span>&nbsp;<span class="ident" id="5512348">nil</span>&nbsp;<span class="op" id="5512352">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512356">return</span>&nbsp;<span class="ident" id="5512363">nil</span><span class="op" id="5512366">,</span>&nbsp;<span class="ident" id="5512368"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5512374">.</span><span class="ident" id="5512375">New</span><span class="op" id="5512378">(</span><span class="string" id="5512379">&#34;exec:&nbsp;Stdout&nbsp;already&nbsp;set&#34;</span><span class="op" id="5512405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512411">if</span>&nbsp;<span class="ident" id="5512414"><a href="/os/exec/exec.go.html#5512289">c</a></span><span class="op" id="5512415">.</span><span class="ident" id="5512416">Stderr</span>&nbsp;<span class="op" id="5512423">!=</span>&nbsp;<span class="ident" id="5512426">nil</span>&nbsp;<span class="op" id="5512430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512434">return</span>&nbsp;<span class="ident" id="5512441">nil</span><span class="op" id="5512444">,</span>&nbsp;<span class="ident" id="5512446"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5512452">.</span><span class="ident" id="5512453">New</span><span class="op" id="5512456">(</span><span class="string" id="5512457">&#34;exec:&nbsp;Stderr&nbsp;already&nbsp;set&#34;</span><span class="op" id="5512483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5512486">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512489">var</span>&nbsp;<span class="ident" id="5512493">b</span>&nbsp;<span class="ident" id="5512495"><a href="/os/exec/exec.go.html#5502358">bytes</a></span><span class="op" id="5512500">.</span><span class="ident" id="5512501">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512509"><a href="/os/exec/exec.go.html#5512289">c</a></span><span class="op" id="5512510">.</span><span class="ident" id="5512511">Stdout</span>&nbsp;<span class="op" id="5512518">=</span>&nbsp;<span class="op" id="5512520">&amp;</span><span class="ident" id="5512521"><a href="/os/exec/exec.go.html#5512493">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512524"><a href="/os/exec/exec.go.html#5512289">c</a></span><span class="op" id="5512525">.</span><span class="ident" id="5512526">Stderr</span>&nbsp;<span class="op" id="5512533">=</span>&nbsp;<span class="op" id="5512535">&amp;</span><span class="ident" id="5512536"><a href="/os/exec/exec.go.html#5512493">b</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5512539">err</span>&nbsp;<span class="op" id="5512543">:=</span>&nbsp;<span class="ident" id="5512546"><a href="/os/exec/exec.go.html#5512289">c</a></span><span class="op" id="5512547">.</span><span class="ident" id="5512548">Run</span><span class="op" id="5512551">(</span><span class="op" id="5512552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5512555">return</span>&nbsp;<span class="ident" id="5512562"><a href="/os/exec/exec.go.html#5512493">b</a></span><span class="op" id="5512563">.</span><span class="ident" id="5512564">Bytes</span><span class="op" id="5512569">(</span><span class="op" id="5512570">)</span><span class="op" id="5512571">,</span>&nbsp;<span class="ident" id="5512573"><a href="/os/exec/exec.go.html#5512539">err</a></span><br>
<span class="lineno">410</span><span class="op" id="5512577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5512580">//&nbsp;StdinPipe&nbsp;returns&nbsp;a&nbsp;pipe&nbsp;that&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;the&nbsp;command&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5512648">//&nbsp;standard&nbsp;input&nbsp;when&nbsp;the&nbsp;command&nbsp;starts.</span><br>
<span class="lineno"></span><span class="comment" id="5512691">//&nbsp;The&nbsp;pipe&nbsp;will&nbsp;be&nbsp;closed&nbsp;automatically&nbsp;after&nbsp;Wait&nbsp;sees&nbsp;the&nbsp;command&nbsp;exit.</span><br>
<span class="lineno">415</span><span class="comment" id="5512766">//&nbsp;A&nbsp;caller&nbsp;need&nbsp;only&nbsp;call&nbsp;Close&nbsp;to&nbsp;force&nbsp;the&nbsp;pipe&nbsp;to&nbsp;close&nbsp;sooner.</span><br>
<span class="lineno"></span><span class="comment" id="5512834">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;the&nbsp;command&nbsp;being&nbsp;run&nbsp;will&nbsp;not&nbsp;exit&nbsp;until&nbsp;standard&nbsp;input</span><br>
<span class="lineno"></span><span class="comment" id="5512910">//&nbsp;is&nbsp;closed,&nbsp;the&nbsp;caller&nbsp;must&nbsp;close&nbsp;the&nbsp;pipe.</span><br>
<span class="lineno"></span><span class="keyword" id="5512956">func</span>&nbsp;<span class="op" id="5512961">(</span><span class="ident" id="5512962">c</span>&nbsp;<span class="op" id="5512964">*</span><span class="ident" id="5512965"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5512968">)</span>&nbsp;<span class="ident" id="5512970">StdinPipe</span><span class="op" id="5512979">(</span><span class="op" id="5512980">)</span>&nbsp;<span class="op" id="5512982">(</span><span class="ident" id="5512983"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5512985">.</span><span class="ident" id="5512986">WriteCloser</span><span class="op" id="5512997">,</span>&nbsp;<span class="builtintype" id="5512999">error</span><span class="op" id="5513004">)</span>&nbsp;<span class="op" id="5513006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513009">if</span>&nbsp;<span class="ident" id="5513012"><a href="/os/exec/exec.go.html#5512962">c</a></span><span class="op" id="5513013">.</span><span class="ident" id="5513014">Stdin</span>&nbsp;<span class="op" id="5513020">!=</span>&nbsp;<span class="ident" id="5513023">nil</span>&nbsp;<span class="op" id="5513027">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513031">return</span>&nbsp;<span class="ident" id="5513038">nil</span><span class="op" id="5513041">,</span>&nbsp;<span class="ident" id="5513043"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5513049">.</span><span class="ident" id="5513050">New</span><span class="op" id="5513053">(</span><span class="string" id="5513054">&#34;exec:&nbsp;Stdin&nbsp;already&nbsp;set&#34;</span><span class="op" id="5513079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5513082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513085">if</span>&nbsp;<span class="ident" id="5513088"><a href="/os/exec/exec.go.html#5512962">c</a></span><span class="op" id="5513089">.</span><span class="ident" id="5513090">Process</span>&nbsp;<span class="op" id="5513098">!=</span>&nbsp;<span class="ident" id="5513101">nil</span>&nbsp;<span class="op" id="5513105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513109">return</span>&nbsp;<span class="ident" id="5513116">nil</span><span class="op" id="5513119">,</span>&nbsp;<span class="ident" id="5513121"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5513127">.</span><span class="ident" id="5513128">New</span><span class="op" id="5513131">(</span><span class="string" id="5513132">&#34;exec:&nbsp;StdinPipe&nbsp;after&nbsp;process&nbsp;started&#34;</span><span class="op" id="5513171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5513174">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513177">pr</span><span class="op" id="5513179">,</span>&nbsp;<span class="ident" id="5513181">pw</span><span class="op" id="5513183">,</span>&nbsp;<span class="ident" id="5513185">err</span>&nbsp;<span class="op" id="5513189">:=</span>&nbsp;<span class="ident" id="5513192"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5513194">.</span><span class="ident" id="5513195">Pipe</span><span class="op" id="5513199">(</span><span class="op" id="5513200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513203">if</span>&nbsp;<span class="ident" id="5513206"><a href="/os/exec/exec.go.html#5513185">err</a></span>&nbsp;<span class="op" id="5513210">!=</span>&nbsp;<span class="ident" id="5513213">nil</span>&nbsp;<span class="op" id="5513217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513221">return</span>&nbsp;<span class="ident" id="5513228">nil</span><span class="op" id="5513231">,</span>&nbsp;<span class="ident" id="5513233"><a href="/os/exec/exec.go.html#5513185">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5513238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513241"><a href="/os/exec/exec.go.html#5512962">c</a></span><span class="op" id="5513242">.</span><span class="ident" id="5513243">Stdin</span>&nbsp;<span class="op" id="5513249">=</span>&nbsp;<span class="ident" id="5513251"><a href="/os/exec/exec.go.html#5513177">pr</a></span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513255"><a href="/os/exec/exec.go.html#5512962">c</a></span><span class="op" id="5513256">.</span><span class="ident" id="5513257">closeAfterStart</span>&nbsp;<span class="op" id="5513273">=</span>&nbsp;<span class="builtinfunc" id="5513275">append</span><span class="op" id="5513281">(</span><span class="ident" id="5513282"><a href="/os/exec/exec.go.html#5512962">c</a></span><span class="op" id="5513283">.</span><span class="ident" id="5513284">closeAfterStart</span><span class="op" id="5513299">,</span>&nbsp;<span class="ident" id="5513301"><a href="/os/exec/exec.go.html#5513177">pr</a></span><span class="op" id="5513303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513306">wc</span>&nbsp;<span class="op" id="5513309">:=</span>&nbsp;<span class="op" id="5513312">&amp;</span><span class="ident" id="5513313"><a href="/os/exec/exec.go.html#5513406">closeOnce</a></span><span class="op" id="5513322">{</span><span class="ident" id="5513323">File</span><span class="op" id="5513327">:</span>&nbsp;<span class="ident" id="5513329"><a href="/os/exec/exec.go.html#5513181">pw</a></span><span class="op" id="5513331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513334"><a href="/os/exec/exec.go.html#5512962">c</a></span><span class="op" id="5513335">.</span><span class="ident" id="5513336">closeAfterWait</span>&nbsp;<span class="op" id="5513351">=</span>&nbsp;<span class="builtinfunc" id="5513353">append</span><span class="op" id="5513359">(</span><span class="ident" id="5513360"><a href="/os/exec/exec.go.html#5512962">c</a></span><span class="op" id="5513361">.</span><span class="ident" id="5513362">closeAfterWait</span><span class="op" id="5513376">,</span>&nbsp;<span class="ident" id="5513378"><a href="/os/exec/exec.go.html#5513306">wc</a></span><span class="op" id="5513380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513383">return</span>&nbsp;<span class="ident" id="5513390"><a href="/os/exec/exec.go.html#5513306">wc</a></span><span class="op" id="5513392">,</span>&nbsp;<span class="ident" id="5513394">nil</span><br>
<span class="lineno"></span><span class="op" id="5513398">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="keyword" id="5513401">type</span>&nbsp;<span class="ident" id="5513406">closeOnce</span>&nbsp;<span class="keyword" id="5513416">struct</span>&nbsp;<span class="op" id="5513423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5513426">*</span><span class="ident" id="5513427"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5513429">.</span><span class="ident" id="5513430">File</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513437">once</span>&nbsp;<span class="ident" id="5513442"><a href="/os/exec/exec.go.html#5502439">sync</a></span><span class="op" id="5513446">.</span><span class="ident" id="5513447">Once</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513453">err</span>&nbsp;&nbsp;<span class="builtintype" id="5513458">error</span><br>
<span class="lineno"></span><span class="op" id="5513464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5513467">func</span>&nbsp;<span class="op" id="5513472">(</span><span class="ident" id="5513473">c</span>&nbsp;<span class="op" id="5513475">*</span><span class="ident" id="5513476"><a href="/os/exec/exec.go.html#5513406">closeOnce</a></span><span class="op" id="5513485">)</span>&nbsp;<span class="ident" id="5513487">Close</span><span class="op" id="5513492">(</span><span class="op" id="5513493">)</span>&nbsp;<span class="builtintype" id="5513495">error</span>&nbsp;<span class="op" id="5513501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513504"><a href="/os/exec/exec.go.html#5513473">c</a></span><span class="op" id="5513505">.</span><span class="ident" id="5513506">once</span><span class="op" id="5513510">.</span><span class="ident" id="5513511">Do</span><span class="op" id="5513513">(</span><span class="ident" id="5513514"><a href="/os/exec/exec.go.html#5513473">c</a></span><span class="op" id="5513515">.</span><span class="builtinfunc" id="5513516">close</span><span class="op" id="5513521">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5513524">return</span>&nbsp;<span class="ident" id="5513531"><a href="/os/exec/exec.go.html#5513473">c</a></span><span class="op" id="5513532">.</span><span class="ident" id="5513533">err</span><br>
<span class="lineno"></span><span class="op" id="5513537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5513540">func</span>&nbsp;<span class="op" id="5513545">(</span><span class="ident" id="5513546">c</span>&nbsp;<span class="op" id="5513548">*</span><span class="ident" id="5513549"><a href="/os/exec/exec.go.html#5513406">closeOnce</a></span><span class="op" id="5513558">)</span>&nbsp;<span class="builtinfunc" id="5513560">close</span><span class="op" id="5513565">(</span><span class="op" id="5513566">)</span>&nbsp;<span class="op" id="5513568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5513571"><a href="/os/exec/exec.go.html#5513546">c</a></span><span class="op" id="5513572">.</span><span class="ident" id="5513573">err</span>&nbsp;<span class="op" id="5513577">=</span>&nbsp;<span class="ident" id="5513579"><a href="/os/exec/exec.go.html#5513546">c</a></span><span class="op" id="5513580">.</span><span class="ident" id="5513581">File</span><span class="op" id="5513585">.</span><span class="ident" id="5513586">Close</span><span class="op" id="5513591">(</span><span class="op" id="5513592">)</span><br>
<span class="lineno">450</span><span class="op" id="5513594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5513597">//&nbsp;StdoutPipe&nbsp;returns&nbsp;a&nbsp;pipe&nbsp;that&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;the&nbsp;command&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5513666">//&nbsp;standard&nbsp;output&nbsp;when&nbsp;the&nbsp;command&nbsp;starts.</span><br>
<span class="lineno"></span><span class="comment" id="5513710">//</span><br>
<span class="lineno">455</span><span class="comment" id="5513713">//&nbsp;Wait&nbsp;will&nbsp;close&nbsp;the&nbsp;pipe&nbsp;after&nbsp;seeing&nbsp;the&nbsp;command&nbsp;exit,&nbsp;so&nbsp;most&nbsp;callers</span><br>
<span class="lineno"></span><span class="comment" id="5513788">//&nbsp;need&nbsp;not&nbsp;close&nbsp;the&nbsp;pipe&nbsp;themselves;&nbsp;however,&nbsp;an&nbsp;implication&nbsp;is&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="5513859">//&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;call&nbsp;Wait&nbsp;before&nbsp;all&nbsp;reads&nbsp;from&nbsp;the&nbsp;pipe&nbsp;have&nbsp;completed.</span><br>
<span class="lineno"></span><span class="comment" id="5513938">//&nbsp;For&nbsp;the&nbsp;same&nbsp;reason,&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;call&nbsp;Run&nbsp;when&nbsp;using&nbsp;StdoutPipe.</span><br>
<span class="lineno"></span><span class="comment" id="5514013">//&nbsp;See&nbsp;the&nbsp;example&nbsp;for&nbsp;idiomatic&nbsp;usage.</span><br>
<span class="lineno">460</span><span class="keyword" id="5514053">func</span>&nbsp;<span class="op" id="5514058">(</span><span class="ident" id="5514059">c</span>&nbsp;<span class="op" id="5514061">*</span><span class="ident" id="5514062"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5514065">)</span>&nbsp;<span class="ident" id="5514067">StdoutPipe</span><span class="op" id="5514077">(</span><span class="op" id="5514078">)</span>&nbsp;<span class="op" id="5514080">(</span><span class="ident" id="5514081"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5514083">.</span><span class="ident" id="5514084">ReadCloser</span><span class="op" id="5514094">,</span>&nbsp;<span class="builtintype" id="5514096">error</span><span class="op" id="5514101">)</span>&nbsp;<span class="op" id="5514103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514106">if</span>&nbsp;<span class="ident" id="5514109"><a href="/os/exec/exec.go.html#5514059">c</a></span><span class="op" id="5514110">.</span><span class="ident" id="5514111">Stdout</span>&nbsp;<span class="op" id="5514118">!=</span>&nbsp;<span class="ident" id="5514121">nil</span>&nbsp;<span class="op" id="5514125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514129">return</span>&nbsp;<span class="ident" id="5514136">nil</span><span class="op" id="5514139">,</span>&nbsp;<span class="ident" id="5514141"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5514147">.</span><span class="ident" id="5514148">New</span><span class="op" id="5514151">(</span><span class="string" id="5514152">&#34;exec:&nbsp;Stdout&nbsp;already&nbsp;set&#34;</span><span class="op" id="5514178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5514181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514184">if</span>&nbsp;<span class="ident" id="5514187"><a href="/os/exec/exec.go.html#5514059">c</a></span><span class="op" id="5514188">.</span><span class="ident" id="5514189">Process</span>&nbsp;<span class="op" id="5514197">!=</span>&nbsp;<span class="ident" id="5514200">nil</span>&nbsp;<span class="op" id="5514204">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514208">return</span>&nbsp;<span class="ident" id="5514215">nil</span><span class="op" id="5514218">,</span>&nbsp;<span class="ident" id="5514220"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5514226">.</span><span class="ident" id="5514227">New</span><span class="op" id="5514230">(</span><span class="string" id="5514231">&#34;exec:&nbsp;StdoutPipe&nbsp;after&nbsp;process&nbsp;started&#34;</span><span class="op" id="5514271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5514274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514277">pr</span><span class="op" id="5514279">,</span>&nbsp;<span class="ident" id="5514281">pw</span><span class="op" id="5514283">,</span>&nbsp;<span class="ident" id="5514285">err</span>&nbsp;<span class="op" id="5514289">:=</span>&nbsp;<span class="ident" id="5514292"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5514294">.</span><span class="ident" id="5514295">Pipe</span><span class="op" id="5514299">(</span><span class="op" id="5514300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514303">if</span>&nbsp;<span class="ident" id="5514306"><a href="/os/exec/exec.go.html#5514285">err</a></span>&nbsp;<span class="op" id="5514310">!=</span>&nbsp;<span class="ident" id="5514313">nil</span>&nbsp;<span class="op" id="5514317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514321">return</span>&nbsp;<span class="ident" id="5514328">nil</span><span class="op" id="5514331">,</span>&nbsp;<span class="ident" id="5514333"><a href="/os/exec/exec.go.html#5514285">err</a></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5514338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514341"><a href="/os/exec/exec.go.html#5514059">c</a></span><span class="op" id="5514342">.</span><span class="ident" id="5514343">Stdout</span>&nbsp;<span class="op" id="5514350">=</span>&nbsp;<span class="ident" id="5514352"><a href="/os/exec/exec.go.html#5514281">pw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514356"><a href="/os/exec/exec.go.html#5514059">c</a></span><span class="op" id="5514357">.</span><span class="ident" id="5514358">closeAfterStart</span>&nbsp;<span class="op" id="5514374">=</span>&nbsp;<span class="builtinfunc" id="5514376">append</span><span class="op" id="5514382">(</span><span class="ident" id="5514383"><a href="/os/exec/exec.go.html#5514059">c</a></span><span class="op" id="5514384">.</span><span class="ident" id="5514385">closeAfterStart</span><span class="op" id="5514400">,</span>&nbsp;<span class="ident" id="5514402"><a href="/os/exec/exec.go.html#5514281">pw</a></span><span class="op" id="5514404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5514407"><a href="/os/exec/exec.go.html#5514059">c</a></span><span class="op" id="5514408">.</span><span class="ident" id="5514409">closeAfterWait</span>&nbsp;<span class="op" id="5514424">=</span>&nbsp;<span class="builtinfunc" id="5514426">append</span><span class="op" id="5514432">(</span><span class="ident" id="5514433"><a href="/os/exec/exec.go.html#5514059">c</a></span><span class="op" id="5514434">.</span><span class="ident" id="5514435">closeAfterWait</span><span class="op" id="5514449">,</span>&nbsp;<span class="ident" id="5514451"><a href="/os/exec/exec.go.html#5514277">pr</a></span><span class="op" id="5514453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514456">return</span>&nbsp;<span class="ident" id="5514463"><a href="/os/exec/exec.go.html#5514277">pr</a></span><span class="op" id="5514465">,</span>&nbsp;<span class="ident" id="5514467">nil</span><br>
<span class="lineno">475</span><span class="op" id="5514471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5514474">//&nbsp;StderrPipe&nbsp;returns&nbsp;a&nbsp;pipe&nbsp;that&nbsp;will&nbsp;be&nbsp;connected&nbsp;to&nbsp;the&nbsp;command&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5514543">//&nbsp;standard&nbsp;error&nbsp;when&nbsp;the&nbsp;command&nbsp;starts.</span><br>
<span class="lineno"></span><span class="comment" id="5514586">//</span><br>
<span class="lineno">480</span><span class="comment" id="5514589">//&nbsp;Wait&nbsp;will&nbsp;close&nbsp;the&nbsp;pipe&nbsp;after&nbsp;seeing&nbsp;the&nbsp;command&nbsp;exit,&nbsp;so&nbsp;most&nbsp;callers</span><br>
<span class="lineno"></span><span class="comment" id="5514664">//&nbsp;need&nbsp;not&nbsp;close&nbsp;the&nbsp;pipe&nbsp;themselves;&nbsp;however,&nbsp;an&nbsp;implication&nbsp;is&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="5514735">//&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;call&nbsp;Wait&nbsp;before&nbsp;all&nbsp;reads&nbsp;from&nbsp;the&nbsp;pipe&nbsp;have&nbsp;completed.</span><br>
<span class="lineno"></span><span class="comment" id="5514814">//&nbsp;For&nbsp;the&nbsp;same&nbsp;reason,&nbsp;it&nbsp;is&nbsp;incorrect&nbsp;to&nbsp;use&nbsp;Run&nbsp;when&nbsp;using&nbsp;StderrPipe.</span><br>
<span class="lineno"></span><span class="comment" id="5514888">//&nbsp;See&nbsp;the&nbsp;StdoutPipe&nbsp;example&nbsp;for&nbsp;idiomatic&nbsp;usage.</span><br>
<span class="lineno">485</span><span class="keyword" id="5514939">func</span>&nbsp;<span class="op" id="5514944">(</span><span class="ident" id="5514945">c</span>&nbsp;<span class="op" id="5514947">*</span><span class="ident" id="5514948"><a href="/os/exec/exec.go.html#5502768">Cmd</a></span><span class="op" id="5514951">)</span>&nbsp;<span class="ident" id="5514953">StderrPipe</span><span class="op" id="5514963">(</span><span class="op" id="5514964">)</span>&nbsp;<span class="op" id="5514966">(</span><span class="ident" id="5514967"><a href="/os/exec/exec.go.html#5502377">io</a></span><span class="op" id="5514969">.</span><span class="ident" id="5514970">ReadCloser</span><span class="op" id="5514980">,</span>&nbsp;<span class="builtintype" id="5514982">error</span><span class="op" id="5514987">)</span>&nbsp;<span class="op" id="5514989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5514992">if</span>&nbsp;<span class="ident" id="5514995"><a href="/os/exec/exec.go.html#5514945">c</a></span><span class="op" id="5514996">.</span><span class="ident" id="5514997">Stderr</span>&nbsp;<span class="op" id="5515004">!=</span>&nbsp;<span class="ident" id="5515007">nil</span>&nbsp;<span class="op" id="5515011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515015">return</span>&nbsp;<span class="ident" id="5515022">nil</span><span class="op" id="5515025">,</span>&nbsp;<span class="ident" id="5515027"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5515033">.</span><span class="ident" id="5515034">New</span><span class="op" id="5515037">(</span><span class="string" id="5515038">&#34;exec:&nbsp;Stderr&nbsp;already&nbsp;set&#34;</span><span class="op" id="5515064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5515067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515070">if</span>&nbsp;<span class="ident" id="5515073"><a href="/os/exec/exec.go.html#5514945">c</a></span><span class="op" id="5515074">.</span><span class="ident" id="5515075">Process</span>&nbsp;<span class="op" id="5515083">!=</span>&nbsp;<span class="ident" id="5515086">nil</span>&nbsp;<span class="op" id="5515090">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515094">return</span>&nbsp;<span class="ident" id="5515101">nil</span><span class="op" id="5515104">,</span>&nbsp;<span class="ident" id="5515106"><a href="/os/exec/exec.go.html#5502367">errors</a></span><span class="op" id="5515112">.</span><span class="ident" id="5515113">New</span><span class="op" id="5515116">(</span><span class="string" id="5515117">&#34;exec:&nbsp;StderrPipe&nbsp;after&nbsp;process&nbsp;started&#34;</span><span class="op" id="5515157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5515160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515163">pr</span><span class="op" id="5515165">,</span>&nbsp;<span class="ident" id="5515167">pw</span><span class="op" id="5515169">,</span>&nbsp;<span class="ident" id="5515171">err</span>&nbsp;<span class="op" id="5515175">:=</span>&nbsp;<span class="ident" id="5515178"><a href="/os/exec/exec.go.html#5502383">os</a></span><span class="op" id="5515180">.</span><span class="ident" id="5515181">Pipe</span><span class="op" id="5515185">(</span><span class="op" id="5515186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515189">if</span>&nbsp;<span class="ident" id="5515192"><a href="/os/exec/exec.go.html#5515171">err</a></span>&nbsp;<span class="op" id="5515196">!=</span>&nbsp;<span class="ident" id="5515199">nil</span>&nbsp;<span class="op" id="5515203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515207">return</span>&nbsp;<span class="ident" id="5515214">nil</span><span class="op" id="5515217">,</span>&nbsp;<span class="ident" id="5515219"><a href="/os/exec/exec.go.html#5515171">err</a></span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5515224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515227"><a href="/os/exec/exec.go.html#5514945">c</a></span><span class="op" id="5515228">.</span><span class="ident" id="5515229">Stderr</span>&nbsp;<span class="op" id="5515236">=</span>&nbsp;<span class="ident" id="5515238"><a href="/os/exec/exec.go.html#5515167">pw</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515242"><a href="/os/exec/exec.go.html#5514945">c</a></span><span class="op" id="5515243">.</span><span class="ident" id="5515244">closeAfterStart</span>&nbsp;<span class="op" id="5515260">=</span>&nbsp;<span class="builtinfunc" id="5515262">append</span><span class="op" id="5515268">(</span><span class="ident" id="5515269"><a href="/os/exec/exec.go.html#5514945">c</a></span><span class="op" id="5515270">.</span><span class="ident" id="5515271">closeAfterStart</span><span class="op" id="5515286">,</span>&nbsp;<span class="ident" id="5515288"><a href="/os/exec/exec.go.html#5515167">pw</a></span><span class="op" id="5515290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5515293"><a href="/os/exec/exec.go.html#5514945">c</a></span><span class="op" id="5515294">.</span><span class="ident" id="5515295">closeAfterWait</span>&nbsp;<span class="op" id="5515310">=</span>&nbsp;<span class="builtinfunc" id="5515312">append</span><span class="op" id="5515318">(</span><span class="ident" id="5515319"><a href="/os/exec/exec.go.html#5514945">c</a></span><span class="op" id="5515320">.</span><span class="ident" id="5515321">closeAfterWait</span><span class="op" id="5515335">,</span>&nbsp;<span class="ident" id="5515337"><a href="/os/exec/exec.go.html#5515163">pr</a></span><span class="op" id="5515339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5515342">return</span>&nbsp;<span class="ident" id="5515349"><a href="/os/exec/exec.go.html#5515163">pr</a></span><span class="op" id="5515351">,</span>&nbsp;<span class="ident" id="5515353">nil</span><br>
<span class="lineno">500</span><span class="op" id="5515357">}</span>
</div>
</body>
</html>
