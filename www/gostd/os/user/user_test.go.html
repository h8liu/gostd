<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/user</h2>
<ul>
<li><a href="/gostd/os/user/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/os/user/lookup_stubs.go.html">lookup_stubs.go</a></li>
<li><a href="/gostd/os/user/user.go.html">user.go</a></li>
<li><a href="/gostd/os/user/user_test.go.html" class="current">user_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8099240">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8099295">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8099349">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8099400">package</span>&nbsp;<span class="ident" id="8099408">user</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8099414">import</span>&nbsp;<span class="op" id="8099421">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8099424">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8099435">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8099445">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8099448">func</span>&nbsp;<span class="ident" id="8099453">check</span><span class="op" id="8099458">(</span><span class="ident" id="8099459">t</span>&nbsp;<span class="op" id="8099461">*</span><span class="ident" id="8099462">testing</span><span class="op" id="8099469">.</span><span class="ident" id="8099470">T</span><span class="op" id="8099471">)</span>&nbsp;<span class="op" id="8099473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8099476">if</span>&nbsp;<span class="op" id="8099479">!</span><span class="ident" id="8099480">implemented</span>&nbsp;<span class="op" id="8099492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099496">t</span><span class="op" id="8099497">.</span><span class="ident" id="8099498">Skip</span><span class="op" id="8099502">(</span><span class="string" id="8099503">&#34;user:&nbsp;not&nbsp;implemented;&nbsp;skipping&nbsp;tests&#34;</span><span class="op" id="8099542">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8099545">}</span><br>
<span class="lineno"></span><span class="op" id="8099547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8099550">func</span>&nbsp;<span class="ident" id="8099555">TestCurrent</span><span class="op" id="8099566">(</span><span class="ident" id="8099567">t</span>&nbsp;<span class="op" id="8099569">*</span><span class="ident" id="8099570">testing</span><span class="op" id="8099577">.</span><span class="ident" id="8099578">T</span><span class="op" id="8099579">)</span>&nbsp;<span class="op" id="8099581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099584">check</span><span class="op" id="8099589">(</span><span class="ident" id="8099590">t</span><span class="op" id="8099591">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099595">u</span><span class="op" id="8099596">,</span>&nbsp;<span class="ident" id="8099598">err</span>&nbsp;<span class="op" id="8099602">:=</span>&nbsp;<span class="ident" id="8099605">Current</span><span class="op" id="8099612">(</span><span class="op" id="8099613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8099616">if</span>&nbsp;<span class="ident" id="8099619">err</span>&nbsp;<span class="op" id="8099623">!=</span>&nbsp;<span class="builtintype" id="8099626">nil</span>&nbsp;<span class="op" id="8099630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099634">t</span><span class="op" id="8099635">.</span><span class="ident" id="8099636">Fatalf</span><span class="op" id="8099642">(</span><span class="string" id="8099643">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8099656">,</span>&nbsp;<span class="ident" id="8099658">err</span><span class="op" id="8099661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8099664">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8099667">if</span>&nbsp;<span class="ident" id="8099670">u</span><span class="op" id="8099671">.</span><span class="ident" id="8099672">HomeDir</span>&nbsp;<span class="op" id="8099680">==</span>&nbsp;<span class="string" id="8099683">&#34;&#34;</span>&nbsp;<span class="op" id="8099686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099690">t</span><span class="op" id="8099691">.</span><span class="ident" id="8099692">Errorf</span><span class="op" id="8099698">(</span><span class="string" id="8099699">&#34;didn&#39;t&nbsp;get&nbsp;a&nbsp;HomeDir&#34;</span><span class="op" id="8099721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8099724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8099727">if</span>&nbsp;<span class="ident" id="8099730">u</span><span class="op" id="8099731">.</span><span class="ident" id="8099732">Username</span>&nbsp;<span class="op" id="8099741">==</span>&nbsp;<span class="string" id="8099744">&#34;&#34;</span>&nbsp;<span class="op" id="8099747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099751">t</span><span class="op" id="8099752">.</span><span class="ident" id="8099753">Errorf</span><span class="op" id="8099759">(</span><span class="string" id="8099760">&#34;didn&#39;t&nbsp;get&nbsp;a&nbsp;username&#34;</span><span class="op" id="8099783">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8099786">}</span><br>
<span class="lineno"></span><span class="op" id="8099788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8099791">func</span>&nbsp;<span class="ident" id="8099796">compare</span><span class="op" id="8099803">(</span><span class="ident" id="8099804">t</span>&nbsp;<span class="op" id="8099806">*</span><span class="ident" id="8099807">testing</span><span class="op" id="8099814">.</span><span class="ident" id="8099815">T</span><span class="op" id="8099816">,</span>&nbsp;<span class="ident" id="8099818">want</span><span class="op" id="8099822">,</span>&nbsp;<span class="ident" id="8099824">got</span>&nbsp;<span class="op" id="8099828">*</span><span class="ident" id="8099829">User</span><span class="op" id="8099833">)</span>&nbsp;<span class="op" id="8099835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8099838">if</span>&nbsp;<span class="ident" id="8099841">want</span><span class="op" id="8099845">.</span><span class="ident" id="8099846">Uid</span>&nbsp;<span class="op" id="8099850">!=</span>&nbsp;<span class="ident" id="8099853">got</span><span class="op" id="8099856">.</span><span class="ident" id="8099857">Uid</span>&nbsp;<span class="op" id="8099861">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099865">t</span><span class="op" id="8099866">.</span><span class="ident" id="8099867">Errorf</span><span class="op" id="8099873">(</span><span class="string" id="8099874">&#34;got&nbsp;Uid=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8099895">,</span>&nbsp;<span class="ident" id="8099897">got</span><span class="op" id="8099900">.</span><span class="ident" id="8099901">Uid</span><span class="op" id="8099904">,</span>&nbsp;<span class="ident" id="8099906">want</span><span class="op" id="8099910">.</span><span class="ident" id="8099911">Uid</span><span class="op" id="8099914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8099917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8099920">if</span>&nbsp;<span class="ident" id="8099923">want</span><span class="op" id="8099927">.</span><span class="ident" id="8099928">Username</span>&nbsp;<span class="op" id="8099937">!=</span>&nbsp;<span class="ident" id="8099940">got</span><span class="op" id="8099943">.</span><span class="ident" id="8099944">Username</span>&nbsp;<span class="op" id="8099953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8099957">t</span><span class="op" id="8099958">.</span><span class="ident" id="8099959">Errorf</span><span class="op" id="8099965">(</span><span class="string" id="8099966">&#34;got&nbsp;Username=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8099992">,</span>&nbsp;<span class="ident" id="8099994">got</span><span class="op" id="8099997">.</span><span class="ident" id="8099998">Username</span><span class="op" id="8100006">,</span>&nbsp;<span class="ident" id="8100008">want</span><span class="op" id="8100012">.</span><span class="ident" id="8100013">Username</span><span class="op" id="8100021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100024">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100027">if</span>&nbsp;<span class="ident" id="8100030">want</span><span class="op" id="8100034">.</span><span class="ident" id="8100035">Name</span>&nbsp;<span class="op" id="8100040">!=</span>&nbsp;<span class="ident" id="8100043">got</span><span class="op" id="8100046">.</span><span class="ident" id="8100047">Name</span>&nbsp;<span class="op" id="8100052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100056">t</span><span class="op" id="8100057">.</span><span class="ident" id="8100058">Errorf</span><span class="op" id="8100064">(</span><span class="string" id="8100065">&#34;got&nbsp;Name=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8100087">,</span>&nbsp;<span class="ident" id="8100089">got</span><span class="op" id="8100092">.</span><span class="ident" id="8100093">Name</span><span class="op" id="8100097">,</span>&nbsp;<span class="ident" id="8100099">want</span><span class="op" id="8100103">.</span><span class="ident" id="8100104">Name</span><span class="op" id="8100108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8100114">//&nbsp;TODO(brainman):&nbsp;fix&nbsp;it&nbsp;once&nbsp;we&nbsp;know&nbsp;how.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100159">if</span>&nbsp;<span class="ident" id="8100162">runtime</span><span class="op" id="8100169">.</span><span class="ident" id="8100170">GOOS</span>&nbsp;<span class="op" id="8100175">==</span>&nbsp;<span class="string" id="8100178">&#34;windows&#34;</span>&nbsp;<span class="op" id="8100188">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100192">t</span><span class="op" id="8100193">.</span><span class="ident" id="8100194">Skip</span><span class="op" id="8100198">(</span><span class="string" id="8100199">&#34;skipping&nbsp;Gid&nbsp;and&nbsp;HomeDir&nbsp;comparisons&#34;</span><span class="op" id="8100237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100243">if</span>&nbsp;<span class="ident" id="8100246">want</span><span class="op" id="8100250">.</span><span class="ident" id="8100251">Gid</span>&nbsp;<span class="op" id="8100255">!=</span>&nbsp;<span class="ident" id="8100258">got</span><span class="op" id="8100261">.</span><span class="ident" id="8100262">Gid</span>&nbsp;<span class="op" id="8100266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100270">t</span><span class="op" id="8100271">.</span><span class="ident" id="8100272">Errorf</span><span class="op" id="8100278">(</span><span class="string" id="8100279">&#34;got&nbsp;Gid=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8100300">,</span>&nbsp;<span class="ident" id="8100302">got</span><span class="op" id="8100305">.</span><span class="ident" id="8100306">Gid</span><span class="op" id="8100309">,</span>&nbsp;<span class="ident" id="8100311">want</span><span class="op" id="8100315">.</span><span class="ident" id="8100316">Gid</span><span class="op" id="8100319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100322">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100325">if</span>&nbsp;<span class="ident" id="8100328">want</span><span class="op" id="8100332">.</span><span class="ident" id="8100333">HomeDir</span>&nbsp;<span class="op" id="8100341">!=</span>&nbsp;<span class="ident" id="8100344">got</span><span class="op" id="8100347">.</span><span class="ident" id="8100348">HomeDir</span>&nbsp;<span class="op" id="8100356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100360">t</span><span class="op" id="8100361">.</span><span class="ident" id="8100362">Errorf</span><span class="op" id="8100368">(</span><span class="string" id="8100369">&#34;got&nbsp;HomeDir=%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8100394">,</span>&nbsp;<span class="ident" id="8100396">got</span><span class="op" id="8100399">.</span><span class="ident" id="8100400">HomeDir</span><span class="op" id="8100407">,</span>&nbsp;<span class="ident" id="8100409">want</span><span class="op" id="8100413">.</span><span class="ident" id="8100414">HomeDir</span><span class="op" id="8100421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100424">}</span><br>
<span class="lineno"></span><span class="op" id="8100426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8100429">func</span>&nbsp;<span class="ident" id="8100434">TestLookup</span><span class="op" id="8100444">(</span><span class="ident" id="8100445">t</span>&nbsp;<span class="op" id="8100447">*</span><span class="ident" id="8100448">testing</span><span class="op" id="8100455">.</span><span class="ident" id="8100456">T</span><span class="op" id="8100457">)</span>&nbsp;<span class="op" id="8100459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100462">check</span><span class="op" id="8100467">(</span><span class="ident" id="8100468">t</span><span class="op" id="8100469">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100473">if</span>&nbsp;<span class="ident" id="8100476">runtime</span><span class="op" id="8100483">.</span><span class="ident" id="8100484">GOOS</span>&nbsp;<span class="op" id="8100489">==</span>&nbsp;<span class="string" id="8100492">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8100500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100504">t</span><span class="op" id="8100505">.</span><span class="ident" id="8100506">Skipf</span><span class="op" id="8100511">(</span><span class="string" id="8100512">&#34;Lookup&nbsp;not&nbsp;implemented&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8100542">,</span>&nbsp;<span class="ident" id="8100544">runtime</span><span class="op" id="8100551">.</span><span class="ident" id="8100552">GOOS</span><span class="op" id="8100556">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100563">want</span><span class="op" id="8100567">,</span>&nbsp;<span class="ident" id="8100569">err</span>&nbsp;<span class="op" id="8100573">:=</span>&nbsp;<span class="ident" id="8100576">Current</span><span class="op" id="8100583">(</span><span class="op" id="8100584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100587">if</span>&nbsp;<span class="ident" id="8100590">err</span>&nbsp;<span class="op" id="8100594">!=</span>&nbsp;<span class="builtintype" id="8100597">nil</span>&nbsp;<span class="op" id="8100601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100605">t</span><span class="op" id="8100606">.</span><span class="ident" id="8100607">Fatalf</span><span class="op" id="8100613">(</span><span class="string" id="8100614">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8100627">,</span>&nbsp;<span class="ident" id="8100629">err</span><span class="op" id="8100632">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100638">got</span><span class="op" id="8100641">,</span>&nbsp;<span class="ident" id="8100643">err</span>&nbsp;<span class="op" id="8100647">:=</span>&nbsp;<span class="ident" id="8100650">Lookup</span><span class="op" id="8100656">(</span><span class="ident" id="8100657">want</span><span class="op" id="8100661">.</span><span class="ident" id="8100662">Username</span><span class="op" id="8100670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100673">if</span>&nbsp;<span class="ident" id="8100676">err</span>&nbsp;<span class="op" id="8100680">!=</span>&nbsp;<span class="builtintype" id="8100683">nil</span>&nbsp;<span class="op" id="8100687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100691">t</span><span class="op" id="8100692">.</span><span class="ident" id="8100693">Fatalf</span><span class="op" id="8100699">(</span><span class="string" id="8100700">&#34;Lookup:&nbsp;%v&#34;</span><span class="op" id="8100712">,</span>&nbsp;<span class="ident" id="8100714">err</span><span class="op" id="8100717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100720">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100723">compare</span><span class="op" id="8100730">(</span><span class="ident" id="8100731">t</span><span class="op" id="8100732">,</span>&nbsp;<span class="ident" id="8100734">want</span><span class="op" id="8100738">,</span>&nbsp;<span class="ident" id="8100740">got</span><span class="op" id="8100743">)</span><br>
<span class="lineno"></span><span class="op" id="8100745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8100748">func</span>&nbsp;<span class="ident" id="8100753">TestLookupId</span><span class="op" id="8100765">(</span><span class="ident" id="8100766">t</span>&nbsp;<span class="op" id="8100768">*</span><span class="ident" id="8100769">testing</span><span class="op" id="8100776">.</span><span class="ident" id="8100777">T</span><span class="op" id="8100778">)</span>&nbsp;<span class="op" id="8100780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100783">check</span><span class="op" id="8100788">(</span><span class="ident" id="8100789">t</span><span class="op" id="8100790">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100794">if</span>&nbsp;<span class="ident" id="8100797">runtime</span><span class="op" id="8100804">.</span><span class="ident" id="8100805">GOOS</span>&nbsp;<span class="op" id="8100810">==</span>&nbsp;<span class="string" id="8100813">&#34;plan9&#34;</span>&nbsp;<span class="op" id="8100821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100825">t</span><span class="op" id="8100826">.</span><span class="ident" id="8100827">Skipf</span><span class="op" id="8100832">(</span><span class="string" id="8100833">&#34;LookupId&nbsp;not&nbsp;implemented&nbsp;on&nbsp;%q&#34;</span><span class="op" id="8100865">,</span>&nbsp;<span class="ident" id="8100867">runtime</span><span class="op" id="8100874">.</span><span class="ident" id="8100875">GOOS</span><span class="op" id="8100879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100886">want</span><span class="op" id="8100890">,</span>&nbsp;<span class="ident" id="8100892">err</span>&nbsp;<span class="op" id="8100896">:=</span>&nbsp;<span class="ident" id="8100899">Current</span><span class="op" id="8100906">(</span><span class="op" id="8100907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100910">if</span>&nbsp;<span class="ident" id="8100913">err</span>&nbsp;<span class="op" id="8100917">!=</span>&nbsp;<span class="builtintype" id="8100920">nil</span>&nbsp;<span class="op" id="8100924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100928">t</span><span class="op" id="8100929">.</span><span class="ident" id="8100930">Fatalf</span><span class="op" id="8100936">(</span><span class="string" id="8100937">&#34;Current:&nbsp;%v&#34;</span><span class="op" id="8100950">,</span>&nbsp;<span class="ident" id="8100952">err</span><span class="op" id="8100955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8100961">got</span><span class="op" id="8100964">,</span>&nbsp;<span class="ident" id="8100966">err</span>&nbsp;<span class="op" id="8100970">:=</span>&nbsp;<span class="ident" id="8100973">LookupId</span><span class="op" id="8100981">(</span><span class="ident" id="8100982">want</span><span class="op" id="8100986">.</span><span class="ident" id="8100987">Uid</span><span class="op" id="8100990">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8100993">if</span>&nbsp;<span class="ident" id="8100996">err</span>&nbsp;<span class="op" id="8101000">!=</span>&nbsp;<span class="builtintype" id="8101003">nil</span>&nbsp;<span class="op" id="8101007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8101011">t</span><span class="op" id="8101012">.</span><span class="ident" id="8101013">Fatalf</span><span class="op" id="8101019">(</span><span class="string" id="8101020">&#34;LookupId:&nbsp;%v&#34;</span><span class="op" id="8101034">,</span>&nbsp;<span class="ident" id="8101036">err</span><span class="op" id="8101039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8101042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8101045">compare</span><span class="op" id="8101052">(</span><span class="ident" id="8101053">t</span><span class="op" id="8101054">,</span>&nbsp;<span class="ident" id="8101056">want</span><span class="op" id="8101060">,</span>&nbsp;<span class="ident" id="8101062">got</span><span class="op" id="8101065">)</span><br>
<span class="lineno"></span><span class="op" id="8101067">}</span>
</div>
</body>
</html>
