<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2011244">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2011300">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2011354">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2011405">package</span>&nbsp;<span class="ident" id="2011413">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2011422">func</span>&nbsp;<span class="ident" id="2011427">setMaxStack</span><span class="op" id="2011438">(</span><span class="ident" id="2011439">in</span>&nbsp;<span class="builtintype" id="2011442">int</span><span class="op" id="2011445">)</span>&nbsp;<span class="op" id="2011447">(</span><span class="ident" id="2011448">out</span>&nbsp;<span class="builtintype" id="2011452">int</span><span class="op" id="2011455">)</span>&nbsp;<span class="op" id="2011457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011460">out</span>&nbsp;<span class="op" id="2011464">=</span>&nbsp;<span class="builtintype" id="2011466">int</span><span class="op" id="2011469">(</span><span class="ident" id="2011470">maxstacksize</span><span class="op" id="2011482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011485">maxstacksize</span>&nbsp;<span class="op" id="2011498">=</span>&nbsp;<span class="builtintype" id="2011500">uintptr</span><span class="op" id="2011507">(</span><span class="ident" id="2011508">in</span><span class="op" id="2011510">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011513">return</span>&nbsp;<span class="ident" id="2011520">out</span><br>
<span class="lineno"></span><span class="op" id="2011524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2011527">func</span>&nbsp;<span class="ident" id="2011532">setGCPercent</span><span class="op" id="2011544">(</span><span class="ident" id="2011545">in</span>&nbsp;<span class="builtintype" id="2011548">int32</span><span class="op" id="2011553">)</span>&nbsp;<span class="op" id="2011555">(</span><span class="ident" id="2011556">out</span>&nbsp;<span class="builtintype" id="2011560">int32</span><span class="op" id="2011565">)</span>&nbsp;<span class="op" id="2011567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011570">mp</span>&nbsp;<span class="op" id="2011573">:=</span>&nbsp;<span class="ident" id="2011576">acquirem</span><span class="op" id="2011584">(</span><span class="op" id="2011585">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011588">mp</span><span class="op" id="2011590">.</span><span class="ident" id="2011591">scalararg</span><span class="op" id="2011600">[</span><span class="num" id="2011601">0</span><span class="op" id="2011602">]</span>&nbsp;<span class="op" id="2011604">=</span>&nbsp;<span class="builtintype" id="2011606">uintptr</span><span class="op" id="2011613">(</span><span class="builtintype" id="2011614">int</span><span class="op" id="2011617">(</span><span class="ident" id="2011618">in</span><span class="op" id="2011620">)</span><span class="op" id="2011621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011624">onM</span><span class="op" id="2011627">(</span><span class="ident" id="2011628">setgcpercent_m</span><span class="op" id="2011642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011645">out</span>&nbsp;<span class="op" id="2011649">=</span>&nbsp;<span class="builtintype" id="2011651">int32</span><span class="op" id="2011656">(</span><span class="builtintype" id="2011657">int</span><span class="op" id="2011660">(</span><span class="ident" id="2011661">mp</span><span class="op" id="2011663">.</span><span class="ident" id="2011664">scalararg</span><span class="op" id="2011673">[</span><span class="num" id="2011674">0</span><span class="op" id="2011675">]</span><span class="op" id="2011676">)</span><span class="op" id="2011677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011680">releasem</span><span class="op" id="2011688">(</span><span class="ident" id="2011689">mp</span><span class="op" id="2011691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011694">return</span>&nbsp;<span class="ident" id="2011701">out</span><br>
<span class="lineno">20</span><span class="op" id="2011705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2011708">func</span>&nbsp;<span class="ident" id="2011713">setPanicOnFault</span><span class="op" id="2011728">(</span><span class="builtinfunc" id="2011729">new</span>&nbsp;<span class="builtintype" id="2011733">bool</span><span class="op" id="2011737">)</span>&nbsp;<span class="op" id="2011739">(</span><span class="ident" id="2011740">old</span>&nbsp;<span class="builtintype" id="2011744">bool</span><span class="op" id="2011748">)</span>&nbsp;<span class="op" id="2011750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011753">mp</span>&nbsp;<span class="op" id="2011756">:=</span>&nbsp;<span class="ident" id="2011759">acquirem</span><span class="op" id="2011767">(</span><span class="op" id="2011768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011771">old</span>&nbsp;<span class="op" id="2011775">=</span>&nbsp;<span class="ident" id="2011777">mp</span><span class="op" id="2011779">.</span><span class="ident" id="2011780">curg</span><span class="op" id="2011784">.</span><span class="ident" id="2011785">paniconfault</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011799">mp</span><span class="op" id="2011801">.</span><span class="ident" id="2011802">curg</span><span class="op" id="2011806">.</span><span class="ident" id="2011807">paniconfault</span>&nbsp;<span class="op" id="2011820">=</span>&nbsp;<span class="builtinfunc" id="2011822">new</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011827">releasem</span><span class="op" id="2011835">(</span><span class="ident" id="2011836">mp</span><span class="op" id="2011838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2011841">return</span>&nbsp;<span class="ident" id="2011848">old</span><br>
<span class="lineno"></span><span class="op" id="2011852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="2011855">func</span>&nbsp;<span class="ident" id="2011860">setMaxThreads</span><span class="op" id="2011873">(</span><span class="ident" id="2011874">in</span>&nbsp;<span class="builtintype" id="2011877">int</span><span class="op" id="2011880">)</span>&nbsp;<span class="op" id="2011882">(</span><span class="ident" id="2011883">out</span>&nbsp;<span class="builtintype" id="2011887">int</span><span class="op" id="2011890">)</span>&nbsp;<span class="op" id="2011892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011895">mp</span>&nbsp;<span class="op" id="2011898">:=</span>&nbsp;<span class="ident" id="2011901">acquirem</span><span class="op" id="2011909">(</span><span class="op" id="2011910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011913">mp</span><span class="op" id="2011915">.</span><span class="ident" id="2011916">scalararg</span><span class="op" id="2011925">[</span><span class="num" id="2011926">0</span><span class="op" id="2011927">]</span>&nbsp;<span class="op" id="2011929">=</span>&nbsp;<span class="builtintype" id="2011931">uintptr</span><span class="op" id="2011938">(</span><span class="ident" id="2011939">in</span><span class="op" id="2011941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011944">onM</span><span class="op" id="2011947">(</span><span class="ident" id="2011948">setmaxthreads_m</span><span class="op" id="2011963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011966">out</span>&nbsp;<span class="op" id="2011970">=</span>&nbsp;<span class="builtintype" id="2011972">int</span><span class="op" id="2011975">(</span><span class="ident" id="2011976">mp</span><span class="op" id="2011978">.</span><span class="ident" id="2011979">scalararg</span><span class="op" id="2011988">[</span><span class="num" id="2011989">0</span><span class="op" id="2011990">]</span><span class="op" id="2011991">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2011994">releasem</span><span class="op" id="2012002">(</span><span class="ident" id="2012003">mp</span><span class="op" id="2012005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2012008">return</span>&nbsp;<span class="ident" id="2012015">out</span><br>
<span class="lineno"></span><span class="op" id="2012019">}</span>
</div>
</body>
</html>
