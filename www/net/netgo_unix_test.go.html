<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7501886">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7501941">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7501995">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7502046">//&nbsp;+build&nbsp;!cgo&nbsp;netgo</span><br>
<span class="lineno"></span><span class="comment" id="7502067">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7502132">package</span>&nbsp;<span class="ident" id="7502140">net</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="7502145">import</span>&nbsp;<span class="string" id="7502152">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7502163">func</span>&nbsp;<span class="ident" id="7502168">TestGoLookupIP</span><span class="op" id="7502182">(</span><span class="ident" id="7502183">t</span>&nbsp;<span class="op" id="7502185">*</span><span class="ident" id="7502186">testing</span><span class="op" id="7502193">.</span><span class="ident" id="7502194">T</span><span class="op" id="7502195">)</span>&nbsp;<span class="op" id="7502197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502200">host</span>&nbsp;<span class="op" id="7502205">:=</span>&nbsp;<span class="string" id="7502208">&#34;localhost&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502221">_</span><span class="op" id="7502222">,</span>&nbsp;<span class="ident" id="7502224">err</span><span class="op" id="7502227">,</span>&nbsp;<span class="ident" id="7502229">ok</span>&nbsp;<span class="op" id="7502232">:=</span>&nbsp;<span class="ident" id="7502235">cgoLookupIP</span><span class="op" id="7502246">(</span><span class="ident" id="7502247">host</span><span class="op" id="7502251">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502254">if</span>&nbsp;<span class="ident" id="7502257">ok</span>&nbsp;<span class="op" id="7502260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502264">t</span><span class="op" id="7502265">.</span><span class="ident" id="7502266">Errorf</span><span class="op" id="7502272">(</span><span class="string" id="7502273">&#34;cgoLookupIP&nbsp;must&nbsp;be&nbsp;a&nbsp;placeholder&#34;</span><span class="op" id="7502308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502314">if</span>&nbsp;<span class="ident" id="7502317">err</span>&nbsp;<span class="op" id="7502321">!=</span>&nbsp;<span class="ident" id="7502324">nil</span>&nbsp;<span class="op" id="7502328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502332">t</span><span class="op" id="7502333">.</span><span class="ident" id="7502334">Errorf</span><span class="op" id="7502340">(</span><span class="string" id="7502341">&#34;cgoLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7502365">,</span>&nbsp;<span class="ident" id="7502367">err</span><span class="op" id="7502370">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7502376">if</span>&nbsp;<span class="ident" id="7502379">_</span><span class="op" id="7502380">,</span>&nbsp;<span class="ident" id="7502382">err</span>&nbsp;<span class="op" id="7502386">:=</span>&nbsp;<span class="ident" id="7502389">goLookupIP</span><span class="op" id="7502399">(</span><span class="ident" id="7502400">host</span><span class="op" id="7502404">)</span><span class="op" id="7502405">;</span>&nbsp;<span class="ident" id="7502407">err</span>&nbsp;<span class="op" id="7502411">!=</span>&nbsp;<span class="ident" id="7502414">nil</span>&nbsp;<span class="op" id="7502418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502422">t</span><span class="op" id="7502423">.</span><span class="ident" id="7502424">Errorf</span><span class="op" id="7502430">(</span><span class="string" id="7502431">&#34;goLookupIP&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7502454">,</span>&nbsp;<span class="ident" id="7502456">err</span><span class="op" id="7502459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502462">}</span><br>
<span class="lineno"></span><span class="op" id="7502464">}</span>
</div>
</body>
</html>
