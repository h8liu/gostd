<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7214293">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7214348">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7214402">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7214453">package</span>&nbsp;<span class="ident" id="7214461">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7214470">func</span>&nbsp;<span class="op" id="7214475">(</span><span class="ident" id="7214476">r</span>&nbsp;<span class="op" id="7214478">*</span><span class="ident" id="7214479"><a href="/gostd/strings/replace.go.html#2948685">Replacer</a></span><span class="op" id="7214487">)</span>&nbsp;<span class="ident" id="7214489">Replacer</span><span class="op" id="7214497">(</span><span class="op" id="7214498">)</span>&nbsp;<span class="keyword" id="7214500">interface</span><span class="op" id="7214509">{</span><span class="op" id="7214510">}</span>&nbsp;<span class="op" id="7214512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7214515">return</span>&nbsp;<span class="ident" id="7214522"><a href="/gostd/strings/export_test.go.html#7214476">r</a></span><span class="op" id="7214523">.</span><span class="ident" id="7214524"><a href="/gostd/strings/replace.go.html#2948704">r</a></span><br>
<span class="lineno"></span><span class="op" id="7214526">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7214529">func</span>&nbsp;<span class="op" id="7214534">(</span><span class="ident" id="7214535">r</span>&nbsp;<span class="op" id="7214537">*</span><span class="ident" id="7214538"><a href="/gostd/strings/replace.go.html#2948685">Replacer</a></span><span class="op" id="7214546">)</span>&nbsp;<span class="ident" id="7214548">PrintTrie</span><span class="op" id="7214557">(</span><span class="op" id="7214558">)</span>&nbsp;<span class="builtintype" id="7214560">string</span>&nbsp;<span class="op" id="7214567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7214570">gen</span>&nbsp;<span class="op" id="7214574">:=</span>&nbsp;<span class="ident" id="7214577"><a href="/gostd/strings/export_test.go.html#7214535">r</a></span><span class="op" id="7214578">.</span><span class="ident" id="7214579"><a href="/gostd/strings/replace.go.html#2948704">r</a></span><span class="op" id="7214580">.</span><span class="op" id="7214581">(</span><span class="op" id="7214582">*</span><span class="ident" id="7214583"><a href="/gostd/strings/replace.go.html#2955061">genericReplacer</a></span><span class="op" id="7214598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7214601">return</span>&nbsp;<span class="ident" id="7214608"><a href="/gostd/strings/export_test.go.html#7214570">gen</a></span><span class="op" id="7214611">.</span><span class="ident" id="7214612"><a href="/gostd/strings/export_test.go.html#7214665">printNode</a></span><span class="op" id="7214621">(</span><span class="op" id="7214622">&amp;</span><span class="ident" id="7214623"><a href="/gostd/strings/export_test.go.html#7214570">gen</a></span><span class="op" id="7214626">.</span><span class="ident" id="7214627"><a href="/gostd/strings/replace.go.html#2955087">root</a></span><span class="op" id="7214631">,</span>&nbsp;<span class="num" id="7214633">0</span><span class="op" id="7214634">)</span><br>
<span class="lineno"></span><span class="op" id="7214636">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7214639">func</span>&nbsp;<span class="op" id="7214644">(</span><span class="ident" id="7214645">r</span>&nbsp;<span class="op" id="7214647">*</span><span class="ident" id="7214648"><a href="/gostd/strings/replace.go.html#2955061">genericReplacer</a></span><span class="op" id="7214663">)</span>&nbsp;<span class="ident" id="7214665">printNode</span><span class="op" id="7214674">(</span><span class="ident" id="7214675">t</span>&nbsp;<span class="op" id="7214677">*</span><span class="ident" id="7214678"><a href="/gostd/strings/replace.go.html#2950982">trieNode</a></span><span class="op" id="7214686">,</span>&nbsp;<span class="ident" id="7214688">depth</span>&nbsp;<span class="builtintype" id="7214694">int</span><span class="op" id="7214697">)</span>&nbsp;<span class="op" id="7214699">(</span><span class="ident" id="7214700">s</span>&nbsp;<span class="builtintype" id="7214702">string</span><span class="op" id="7214708">)</span>&nbsp;<span class="op" id="7214710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7214713">if</span>&nbsp;<span class="ident" id="7214716"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7214717">.</span><span class="ident" id="7214718"><a href="/gostd/strings/replace.go.html#2951453">priority</a></span>&nbsp;<span class="op" id="7214727">&gt;</span>&nbsp;<span class="num" id="7214729">0</span>&nbsp;<span class="op" id="7214731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7214735"><a href="/gostd/strings/export_test.go.html#7214700">s</a></span>&nbsp;<span class="op" id="7214737">+=</span>&nbsp;<span class="string" id="7214740">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7214745">}</span>&nbsp;<span class="keyword" id="7214747">else</span>&nbsp;<span class="op" id="7214752">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7214756"><a href="/gostd/strings/export_test.go.html#7214700">s</a></span>&nbsp;<span class="op" id="7214758">+=</span>&nbsp;<span class="string" id="7214761">&#34;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7214766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7214769"><a href="/gostd/strings/export_test.go.html#7214700">s</a></span>&nbsp;<span class="op" id="7214771">+=</span>&nbsp;<span class="string" id="7214774">&#34;\n&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7214781">if</span>&nbsp;<span class="ident" id="7214784"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7214785">.</span><span class="ident" id="7214786"><a href="/gostd/strings/replace.go.html#2952074">prefix</a></span>&nbsp;<span class="op" id="7214793">!=</span>&nbsp;<span class="string" id="7214796">&#34;&#34;</span>&nbsp;<span class="op" id="7214799">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7214803"><a href="/gostd/strings/export_test.go.html#7214700">s</a></span>&nbsp;<span class="op" id="7214805">+=</span>&nbsp;<span class="ident" id="7214808"><a href="/gostd/strings/strings.go.html#2976882">Repeat</a></span><span class="op" id="7214814">(</span><span class="string" id="7214815">&#34;.&#34;</span><span class="op" id="7214818">,</span>&nbsp;<span class="ident" id="7214820"><a href="/gostd/strings/export_test.go.html#7214688">depth</a></span><span class="op" id="7214825">)</span>&nbsp;<span class="op" id="7214827">+</span>&nbsp;<span class="ident" id="7214829"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7214830">.</span><span class="ident" id="7214831"><a href="/gostd/strings/replace.go.html#2952074">prefix</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7214840"><a href="/gostd/strings/export_test.go.html#7214700">s</a></span>&nbsp;<span class="op" id="7214842">+=</span>&nbsp;<span class="ident" id="7214845"><a href="/gostd/strings/export_test.go.html#7214645">r</a></span><span class="op" id="7214846">.</span><span class="ident" id="7214847"><a href="/gostd/strings/export_test.go.html#7214665">printNode</a></span><span class="op" id="7214856">(</span><span class="ident" id="7214857"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7214858">.</span><span class="ident" id="7214859"><a href="/gostd/strings/replace.go.html#2952089">next</a></span><span class="op" id="7214863">,</span>&nbsp;<span class="ident" id="7214865"><a href="/gostd/strings/export_test.go.html#7214688">depth</a></span><span class="op" id="7214870">+</span><span class="builtinfunc" id="7214871">len</span><span class="op" id="7214874">(</span><span class="ident" id="7214875"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7214876">.</span><span class="ident" id="7214877"><a href="/gostd/strings/replace.go.html#2952074">prefix</a></span><span class="op" id="7214883">)</span><span class="op" id="7214884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7214887">}</span>&nbsp;<span class="keyword" id="7214889">else</span>&nbsp;<span class="keyword" id="7214894">if</span>&nbsp;<span class="ident" id="7214897"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7214898">.</span><span class="ident" id="7214899"><a href="/gostd/strings/replace.go.html#2952563">table</a></span>&nbsp;<span class="op" id="7214905">!=</span>&nbsp;<span class="builtintype" id="7214908">nil</span>&nbsp;<span class="op" id="7214912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7214916">for</span>&nbsp;<span class="ident" id="7214920">b</span><span class="op" id="7214921">,</span>&nbsp;<span class="ident" id="7214923">m</span>&nbsp;<span class="op" id="7214925">:=</span>&nbsp;<span class="keyword" id="7214928">range</span>&nbsp;<span class="ident" id="7214934"><a href="/gostd/strings/export_test.go.html#7214645">r</a></span><span class="op" id="7214935">.</span><span class="ident" id="7214936"><a href="/gostd/strings/replace.go.html#2955285">mapping</a></span>&nbsp;<span class="op" id="7214944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7214949">if</span>&nbsp;<span class="builtintype" id="7214952">int</span><span class="op" id="7214955">(</span><span class="ident" id="7214956"><a href="/gostd/strings/export_test.go.html#7214923">m</a></span><span class="op" id="7214957">)</span>&nbsp;<span class="op" id="7214959">!=</span>&nbsp;<span class="ident" id="7214962"><a href="/gostd/strings/export_test.go.html#7214645">r</a></span><span class="op" id="7214963">.</span><span class="ident" id="7214964"><a href="/gostd/strings/replace.go.html#2955201">tableSize</a></span>&nbsp;<span class="op" id="7214974">&amp;&amp;</span>&nbsp;<span class="ident" id="7214977"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7214978">.</span><span class="ident" id="7214979"><a href="/gostd/strings/replace.go.html#2952563">table</a></span><span class="op" id="7214984">[</span><span class="ident" id="7214985"><a href="/gostd/strings/export_test.go.html#7214923">m</a></span><span class="op" id="7214986">]</span>&nbsp;<span class="op" id="7214988">!=</span>&nbsp;<span class="builtintype" id="7214991">nil</span>&nbsp;<span class="op" id="7214995">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7215001"><a href="/gostd/strings/export_test.go.html#7214700">s</a></span>&nbsp;<span class="op" id="7215003">+=</span>&nbsp;<span class="ident" id="7215006"><a href="/gostd/strings/strings.go.html#2976882">Repeat</a></span><span class="op" id="7215012">(</span><span class="string" id="7215013">&#34;.&#34;</span><span class="op" id="7215016">,</span>&nbsp;<span class="ident" id="7215018"><a href="/gostd/strings/export_test.go.html#7214688">depth</a></span><span class="op" id="7215023">)</span>&nbsp;<span class="op" id="7215025">+</span>&nbsp;<span class="builtintype" id="7215027">string</span><span class="op" id="7215033">(</span><span class="op" id="7215034">[</span><span class="op" id="7215035">]</span><span class="builtintype" id="7215036">byte</span><span class="op" id="7215040">{</span><span class="builtintype" id="7215041">byte</span><span class="op" id="7215045">(</span><span class="ident" id="7215046"><a href="/gostd/strings/export_test.go.html#7214920">b</a></span><span class="op" id="7215047">)</span><span class="op" id="7215048">}</span><span class="op" id="7215049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7215055"><a href="/gostd/strings/export_test.go.html#7214700">s</a></span>&nbsp;<span class="op" id="7215057">+=</span>&nbsp;<span class="ident" id="7215060"><a href="/gostd/strings/export_test.go.html#7214645">r</a></span><span class="op" id="7215061">.</span><span class="ident" id="7215062"><a href="/gostd/strings/export_test.go.html#7214665">printNode</a></span><span class="op" id="7215071">(</span><span class="ident" id="7215072"><a href="/gostd/strings/export_test.go.html#7214675">t</a></span><span class="op" id="7215073">.</span><span class="ident" id="7215074"><a href="/gostd/strings/replace.go.html#2952563">table</a></span><span class="op" id="7215079">[</span><span class="ident" id="7215080"><a href="/gostd/strings/export_test.go.html#7214923">m</a></span><span class="op" id="7215081">]</span><span class="op" id="7215082">,</span>&nbsp;<span class="ident" id="7215084"><a href="/gostd/strings/export_test.go.html#7214688">depth</a></span><span class="op" id="7215089">+</span><span class="num" id="7215090">1</span><span class="op" id="7215091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7215096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7215100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7215103">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7215106">return</span><br>
<span class="lineno"></span><span class="op" id="7215113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7215116">func</span>&nbsp;<span class="ident" id="7215121">StringFind</span><span class="op" id="7215131">(</span><span class="ident" id="7215132">pattern</span><span class="op" id="7215139">,</span>&nbsp;<span class="ident" id="7215141">text</span>&nbsp;<span class="builtintype" id="7215146">string</span><span class="op" id="7215152">)</span>&nbsp;<span class="builtintype" id="7215154">int</span>&nbsp;<span class="op" id="7215158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7215161">return</span>&nbsp;<span class="ident" id="7215168"><a href="/gostd/strings/search.go.html#2963551">makeStringFinder</a></span><span class="op" id="7215184">(</span><span class="ident" id="7215185"><a href="/gostd/strings/export_test.go.html#7215132">pattern</a></span><span class="op" id="7215192">)</span><span class="op" id="7215193">.</span><span class="ident" id="7215194"><a href="/gostd/strings/search.go.html#2965199">next</a></span><span class="op" id="7215198">(</span><span class="ident" id="7215199"><a href="/gostd/strings/export_test.go.html#7215141">text</a></span><span class="op" id="7215203">)</span><br>
<span class="lineno">40</span><span class="op" id="7215205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7215208">func</span>&nbsp;<span class="ident" id="7215213">DumpTables</span><span class="op" id="7215223">(</span><span class="ident" id="7215224">pattern</span>&nbsp;<span class="builtintype" id="7215232">string</span><span class="op" id="7215238">)</span>&nbsp;<span class="op" id="7215240">(</span><span class="op" id="7215241">[</span><span class="op" id="7215242">]</span><span class="builtintype" id="7215243">int</span><span class="op" id="7215246">,</span>&nbsp;<span class="op" id="7215248">[</span><span class="op" id="7215249">]</span><span class="builtintype" id="7215250">int</span><span class="op" id="7215253">)</span>&nbsp;<span class="op" id="7215255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7215258">finder</span>&nbsp;<span class="op" id="7215265">:=</span>&nbsp;<span class="ident" id="7215268"><a href="/gostd/strings/search.go.html#2963551">makeStringFinder</a></span><span class="op" id="7215284">(</span><span class="ident" id="7215285"><a href="/gostd/strings/export_test.go.html#7215224">pattern</a></span><span class="op" id="7215292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7215295">return</span>&nbsp;<span class="ident" id="7215302"><a href="/gostd/strings/export_test.go.html#7215258">finder</a></span><span class="op" id="7215308">.</span><span class="ident" id="7215309"><a href="/gostd/strings/search.go.html#2962290">badCharSkip</a></span><span class="op" id="7215320">[</span><span class="op" id="7215321">:</span><span class="op" id="7215322">]</span><span class="op" id="7215323">,</span>&nbsp;<span class="ident" id="7215325"><a href="/gostd/strings/export_test.go.html#7215258">finder</a></span><span class="op" id="7215331">.</span><span class="ident" id="7215332"><a href="/gostd/strings/search.go.html#2963522">goodSuffixSkip</a></span><br>
<span class="lineno">45</span><span class="op" id="7215347">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
