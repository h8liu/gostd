<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3239627">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3239683">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3239737">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3239788">package</span>&nbsp;<span class="ident" id="3239796">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3239801">import</span>&nbsp;<span class="string" id="3239808">&#34;time&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3239816">//&nbsp;protocols&nbsp;contains&nbsp;minimal&nbsp;mappings&nbsp;between&nbsp;internet&nbsp;protocol</span><br>
<span class="lineno">10</span><span class="comment" id="3239881">//&nbsp;names&nbsp;and&nbsp;numbers&nbsp;for&nbsp;platforms&nbsp;that&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;complete&nbsp;list&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3239951">//&nbsp;protocol&nbsp;numbers.</span><br>
<span class="lineno"></span><span class="comment" id="3239972">//</span><br>
<span class="lineno"></span><span class="comment" id="3239975">//&nbsp;See&nbsp;http://www.iana.org/assignments/protocol-numbers</span><br>
<span class="lineno"></span><span class="keyword" id="3240031">var</span>&nbsp;<span class="ident" id="3240035">protocols</span>&nbsp;<span class="op" id="3240045">=</span>&nbsp;<span class="keyword" id="3240047">map</span><span class="op" id="3240050">[</span><span class="builtintype" id="3240051">string</span><span class="op" id="3240057">]</span><span class="builtintype" id="3240058">int</span><span class="op" id="3240061">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240064">&#34;icmp&#34;</span><span class="op" id="3240070">:</span>&nbsp;<span class="num" id="3240072">1</span><span class="op" id="3240073">,</span>&nbsp;<span class="string" id="3240075">&#34;ICMP&#34;</span><span class="op" id="3240081">:</span>&nbsp;<span class="num" id="3240083">1</span><span class="op" id="3240084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240087">&#34;igmp&#34;</span><span class="op" id="3240093">:</span>&nbsp;<span class="num" id="3240095">2</span><span class="op" id="3240096">,</span>&nbsp;<span class="string" id="3240098">&#34;IGMP&#34;</span><span class="op" id="3240104">:</span>&nbsp;<span class="num" id="3240106">2</span><span class="op" id="3240107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240110">&#34;tcp&#34;</span><span class="op" id="3240115">:</span>&nbsp;<span class="num" id="3240117">6</span><span class="op" id="3240118">,</span>&nbsp;<span class="string" id="3240120">&#34;TCP&#34;</span><span class="op" id="3240125">:</span>&nbsp;<span class="num" id="3240127">6</span><span class="op" id="3240128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240131">&#34;udp&#34;</span><span class="op" id="3240136">:</span>&nbsp;<span class="num" id="3240138">17</span><span class="op" id="3240140">,</span>&nbsp;<span class="string" id="3240142">&#34;UDP&#34;</span><span class="op" id="3240147">:</span>&nbsp;<span class="num" id="3240149">17</span><span class="op" id="3240151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3240154">&#34;ipv6-icmp&#34;</span><span class="op" id="3240165">:</span>&nbsp;<span class="num" id="3240167">58</span><span class="op" id="3240169">,</span>&nbsp;<span class="string" id="3240171">&#34;IPV6-ICMP&#34;</span><span class="op" id="3240182">:</span>&nbsp;<span class="num" id="3240184">58</span><span class="op" id="3240186">,</span>&nbsp;<span class="string" id="3240188">&#34;IPv6-ICMP&#34;</span><span class="op" id="3240199">:</span>&nbsp;<span class="num" id="3240201">58</span><span class="op" id="3240203">,</span><br>
<span class="lineno">20</span><span class="op" id="3240205">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3240208">//&nbsp;LookupHost&nbsp;looks&nbsp;up&nbsp;the&nbsp;given&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3240272">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;addresses.</span><br>
<span class="lineno"></span><span class="keyword" id="3240321">func</span>&nbsp;<span class="ident" id="3240326">LookupHost</span><span class="op" id="3240336">(</span><span class="ident" id="3240337">host</span>&nbsp;<span class="builtintype" id="3240342">string</span><span class="op" id="3240348">)</span>&nbsp;<span class="op" id="3240350">(</span><span class="ident" id="3240351">addrs</span>&nbsp;<span class="op" id="3240357">[</span><span class="op" id="3240358">]</span><span class="builtintype" id="3240359">string</span><span class="op" id="3240365">,</span>&nbsp;<span class="ident" id="3240367">err</span>&nbsp;<span class="builtintype" id="3240371">error</span><span class="op" id="3240376">)</span>&nbsp;<span class="op" id="3240378">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3240381">return</span>&nbsp;<span class="ident" id="3240388">lookupHost</span><span class="op" id="3240398">(</span><span class="ident" id="3240399">host</span><span class="op" id="3240403">)</span><br>
<span class="lineno"></span><span class="op" id="3240405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3240408">//&nbsp;LookupIP&nbsp;looks&nbsp;up&nbsp;host&nbsp;using&nbsp;the&nbsp;local&nbsp;resolver.</span><br>
<span class="lineno"></span><span class="comment" id="3240460">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;array&nbsp;of&nbsp;that&nbsp;host&#39;s&nbsp;IPv4&nbsp;and&nbsp;IPv6&nbsp;addresses.</span><br>
<span class="lineno">30</span><span class="keyword" id="3240523">func</span>&nbsp;<span class="ident" id="3240528">LookupIP</span><span class="op" id="3240536">(</span><span class="ident" id="3240537">host</span>&nbsp;<span class="builtintype" id="3240542">string</span><span class="op" id="3240548">)</span>&nbsp;<span class="op" id="3240550">(</span><span class="ident" id="3240551">addrs</span>&nbsp;<span class="op" id="3240557">[</span><span class="op" id="3240558">]</span><span class="ident" id="3240559">IP</span><span class="op" id="3240561">,</span>&nbsp;<span class="ident" id="3240563">err</span>&nbsp;<span class="builtintype" id="3240567">error</span><span class="op" id="3240572">)</span>&nbsp;<span class="op" id="3240574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3240577">return</span>&nbsp;<span class="ident" id="3240584">lookupIPMerge</span><span class="op" id="3240597">(</span><span class="ident" id="3240598">host</span><span class="op" id="3240602">)</span><br>
<span class="lineno"></span><span class="op" id="3240604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3240607">var</span>&nbsp;<span class="ident" id="3240611">lookupGroup</span>&nbsp;<span class="ident" id="3240623">singleflight</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="3240637">//&nbsp;lookupIPMerge&nbsp;wraps&nbsp;lookupIP,&nbsp;but&nbsp;makes&nbsp;sure&nbsp;that&nbsp;for&nbsp;any&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="3240704">//&nbsp;host,&nbsp;only&nbsp;one&nbsp;lookup&nbsp;is&nbsp;in-flight&nbsp;at&nbsp;a&nbsp;time.&nbsp;The&nbsp;returned&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="3240773">//&nbsp;is&nbsp;always&nbsp;owned&nbsp;by&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span><span class="keyword" id="3240807">func</span>&nbsp;<span class="ident" id="3240812">lookupIPMerge</span><span class="op" id="3240825">(</span><span class="ident" id="3240826">host</span>&nbsp;<span class="builtintype" id="3240831">string</span><span class="op" id="3240837">)</span>&nbsp;<span class="op" id="3240839">(</span><span class="ident" id="3240840">addrs</span>&nbsp;<span class="op" id="3240846">[</span><span class="op" id="3240847">]</span><span class="ident" id="3240848">IP</span><span class="op" id="3240850">,</span>&nbsp;<span class="ident" id="3240852">err</span>&nbsp;<span class="builtintype" id="3240856">error</span><span class="op" id="3240861">)</span>&nbsp;<span class="op" id="3240863">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3240866">addrsi</span><span class="op" id="3240872">,</span>&nbsp;<span class="ident" id="3240874">err</span><span class="op" id="3240877">,</span>&nbsp;<span class="ident" id="3240879">shared</span>&nbsp;<span class="op" id="3240886">:=</span>&nbsp;<span class="ident" id="3240889">lookupGroup</span><span class="op" id="3240900">.</span><span class="ident" id="3240901">Do</span><span class="op" id="3240903">(</span><span class="ident" id="3240904">host</span><span class="op" id="3240908">,</span>&nbsp;<span class="keyword" id="3240910">func</span><span class="op" id="3240914">(</span><span class="op" id="3240915">)</span>&nbsp;<span class="op" id="3240917">(</span><span class="keyword" id="3240918">interface</span><span class="op" id="3240927">{</span><span class="op" id="3240928">}</span><span class="op" id="3240929">,</span>&nbsp;<span class="builtintype" id="3240931">error</span><span class="op" id="3240936">)</span>&nbsp;<span class="op" id="3240938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3240942">return</span>&nbsp;<span class="ident" id="3240949">lookupIP</span><span class="op" id="3240957">(</span><span class="ident" id="3240958">host</span><span class="op" id="3240962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3240965">}</span><span class="op" id="3240966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3240969">return</span>&nbsp;<span class="ident" id="3240976">lookupIPReturn</span><span class="op" id="3240990">(</span><span class="ident" id="3240991">addrsi</span><span class="op" id="3240997">,</span>&nbsp;<span class="ident" id="3240999">err</span><span class="op" id="3241002">,</span>&nbsp;<span class="ident" id="3241004">shared</span><span class="op" id="3241010">)</span><br>
<span class="lineno"></span><span class="op" id="3241012">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="3241015">//&nbsp;lookupIPReturn&nbsp;turns&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;singleflight.Do&nbsp;into</span><br>
<span class="lineno"></span><span class="comment" id="3241083">//&nbsp;the&nbsp;return&nbsp;values&nbsp;from&nbsp;LookupIP.</span><br>
<span class="lineno"></span><span class="keyword" id="3241119">func</span>&nbsp;<span class="ident" id="3241124">lookupIPReturn</span><span class="op" id="3241138">(</span><span class="ident" id="3241139">addrsi</span>&nbsp;<span class="keyword" id="3241146">interface</span><span class="op" id="3241155">{</span><span class="op" id="3241156">}</span><span class="op" id="3241157">,</span>&nbsp;<span class="ident" id="3241159">err</span>&nbsp;<span class="builtintype" id="3241163">error</span><span class="op" id="3241168">,</span>&nbsp;<span class="ident" id="3241170">shared</span>&nbsp;<span class="builtintype" id="3241177">bool</span><span class="op" id="3241181">)</span>&nbsp;<span class="op" id="3241183">(</span><span class="op" id="3241184">[</span><span class="op" id="3241185">]</span><span class="ident" id="3241186">IP</span><span class="op" id="3241188">,</span>&nbsp;<span class="builtintype" id="3241190">error</span><span class="op" id="3241195">)</span>&nbsp;<span class="op" id="3241197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241200">if</span>&nbsp;<span class="ident" id="3241203">err</span>&nbsp;<span class="op" id="3241207">!=</span>&nbsp;<span class="ident" id="3241210">nil</span>&nbsp;<span class="op" id="3241214">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241218">return</span>&nbsp;<span class="ident" id="3241225">nil</span><span class="op" id="3241228">,</span>&nbsp;<span class="ident" id="3241230">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3241235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3241238">addrs</span>&nbsp;<span class="op" id="3241244">:=</span>&nbsp;<span class="ident" id="3241247">addrsi</span><span class="op" id="3241253">.</span><span class="op" id="3241254">(</span><span class="op" id="3241255">[</span><span class="op" id="3241256">]</span><span class="ident" id="3241257">IP</span><span class="op" id="3241259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241262">if</span>&nbsp;<span class="ident" id="3241265">shared</span>&nbsp;<span class="op" id="3241272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3241276">clone</span>&nbsp;<span class="op" id="3241282">:=</span>&nbsp;<span class="builtinfunc" id="3241285">make</span><span class="op" id="3241289">(</span><span class="op" id="3241290">[</span><span class="op" id="3241291">]</span><span class="ident" id="3241292">IP</span><span class="op" id="3241294">,</span>&nbsp;<span class="builtinfunc" id="3241296">len</span><span class="op" id="3241299">(</span><span class="ident" id="3241300">addrs</span><span class="op" id="3241305">)</span><span class="op" id="3241306">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3241310">copy</span><span class="op" id="3241314">(</span><span class="ident" id="3241315">clone</span><span class="op" id="3241320">,</span>&nbsp;<span class="ident" id="3241322">addrs</span><span class="op" id="3241327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3241331">addrs</span>&nbsp;<span class="op" id="3241337">=</span>&nbsp;<span class="ident" id="3241339">clone</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3241346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241349">return</span>&nbsp;<span class="ident" id="3241356">addrs</span><span class="op" id="3241361">,</span>&nbsp;<span class="ident" id="3241363">nil</span><br>
<span class="lineno"></span><span class="op" id="3241367">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="3241370">//&nbsp;lookupIPDeadline&nbsp;looks&nbsp;up&nbsp;a&nbsp;hostname&nbsp;with&nbsp;a&nbsp;deadline.</span><br>
<span class="lineno"></span><span class="keyword" id="3241427">func</span>&nbsp;<span class="ident" id="3241432">lookupIPDeadline</span><span class="op" id="3241448">(</span><span class="ident" id="3241449">host</span>&nbsp;<span class="builtintype" id="3241454">string</span><span class="op" id="3241460">,</span>&nbsp;<span class="ident" id="3241462">deadline</span>&nbsp;<span class="ident" id="3241471">time</span><span class="op" id="3241475">.</span><span class="ident" id="3241476">Time</span><span class="op" id="3241480">)</span>&nbsp;<span class="op" id="3241482">(</span><span class="ident" id="3241483">addrs</span>&nbsp;<span class="op" id="3241489">[</span><span class="op" id="3241490">]</span><span class="ident" id="3241491">IP</span><span class="op" id="3241493">,</span>&nbsp;<span class="ident" id="3241495">err</span>&nbsp;<span class="builtintype" id="3241499">error</span><span class="op" id="3241504">)</span>&nbsp;<span class="op" id="3241506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241509">if</span>&nbsp;<span class="ident" id="3241512">deadline</span><span class="op" id="3241520">.</span><span class="ident" id="3241521">IsZero</span><span class="op" id="3241527">(</span><span class="op" id="3241528">)</span>&nbsp;<span class="op" id="3241530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241534">return</span>&nbsp;<span class="ident" id="3241541">lookupIPMerge</span><span class="op" id="3241554">(</span><span class="ident" id="3241555">host</span><span class="op" id="3241559">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3241562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3241566">//&nbsp;We&nbsp;could&nbsp;push&nbsp;the&nbsp;deadline&nbsp;down&nbsp;into&nbsp;the&nbsp;name&nbsp;resolution</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3241627">//&nbsp;functions.&nbsp;&nbsp;However,&nbsp;the&nbsp;most&nbsp;commonly&nbsp;used&nbsp;implementation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3241690">//&nbsp;calls&nbsp;getaddrinfo,&nbsp;which&nbsp;has&nbsp;no&nbsp;timeout.</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3241736">timeout</span>&nbsp;<span class="op" id="3241744">:=</span>&nbsp;<span class="ident" id="3241747">deadline</span><span class="op" id="3241755">.</span><span class="ident" id="3241756">Sub</span><span class="op" id="3241759">(</span><span class="ident" id="3241760">time</span><span class="op" id="3241764">.</span><span class="ident" id="3241765">Now</span><span class="op" id="3241768">(</span><span class="op" id="3241769">)</span><span class="op" id="3241770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241773">if</span>&nbsp;<span class="ident" id="3241776">timeout</span>&nbsp;<span class="op" id="3241784">&lt;=</span>&nbsp;<span class="num" id="3241787">0</span>&nbsp;<span class="op" id="3241789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241793">return</span>&nbsp;<span class="ident" id="3241800">nil</span><span class="op" id="3241803">,</span>&nbsp;<span class="ident" id="3241805">errTimeout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3241817">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3241820">t</span>&nbsp;<span class="op" id="3241822">:=</span>&nbsp;<span class="ident" id="3241825">time</span><span class="op" id="3241829">.</span><span class="ident" id="3241830">NewTimer</span><span class="op" id="3241838">(</span><span class="ident" id="3241839">timeout</span><span class="op" id="3241846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241849">defer</span>&nbsp;<span class="ident" id="3241855">t</span><span class="op" id="3241856">.</span><span class="ident" id="3241857">Stop</span><span class="op" id="3241861">(</span><span class="op" id="3241862">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3241866">ch</span>&nbsp;<span class="op" id="3241869">:=</span>&nbsp;<span class="ident" id="3241872">lookupGroup</span><span class="op" id="3241883">.</span><span class="ident" id="3241884">DoChan</span><span class="op" id="3241890">(</span><span class="ident" id="3241891">host</span><span class="op" id="3241895">,</span>&nbsp;<span class="keyword" id="3241897">func</span><span class="op" id="3241901">(</span><span class="op" id="3241902">)</span>&nbsp;<span class="op" id="3241904">(</span><span class="keyword" id="3241905">interface</span><span class="op" id="3241914">{</span><span class="op" id="3241915">}</span><span class="op" id="3241916">,</span>&nbsp;<span class="builtintype" id="3241918">error</span><span class="op" id="3241923">)</span>&nbsp;<span class="op" id="3241925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241929">return</span>&nbsp;<span class="ident" id="3241936">lookupIP</span><span class="op" id="3241944">(</span><span class="ident" id="3241945">host</span><span class="op" id="3241949">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3241952">}</span><span class="op" id="3241953">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241957">select</span>&nbsp;<span class="op" id="3241964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3241967">case</span>&nbsp;<span class="op" id="3241972">&lt;-</span><span class="ident" id="3241974">t</span><span class="op" id="3241975">.</span><span class="ident" id="3241976">C</span><span class="op" id="3241977">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3241981">//&nbsp;The&nbsp;DNS&nbsp;lookup&nbsp;timed&nbsp;out&nbsp;for&nbsp;some&nbsp;reason.&nbsp;&nbsp;Force</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242035">//&nbsp;future&nbsp;requests&nbsp;to&nbsp;start&nbsp;the&nbsp;DNS&nbsp;lookup&nbsp;again</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242086">//&nbsp;rather&nbsp;than&nbsp;waiting&nbsp;for&nbsp;the&nbsp;current&nbsp;lookup&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3242137">//&nbsp;complete.&nbsp;&nbsp;See&nbsp;issue&nbsp;8602.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3242169">lookupGroup</span><span class="op" id="3242180">.</span><span class="ident" id="3242181">Forget</span><span class="op" id="3242187">(</span><span class="ident" id="3242188">host</span><span class="op" id="3242192">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242197">return</span>&nbsp;<span class="ident" id="3242204">nil</span><span class="op" id="3242207">,</span>&nbsp;<span class="ident" id="3242209">errTimeout</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242222">case</span>&nbsp;<span class="ident" id="3242227">r</span>&nbsp;<span class="op" id="3242229">:=</span>&nbsp;<span class="op" id="3242232">&lt;-</span><span class="ident" id="3242234">ch</span><span class="op" id="3242236">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242240">return</span>&nbsp;<span class="ident" id="3242247">lookupIPReturn</span><span class="op" id="3242261">(</span><span class="ident" id="3242262">r</span><span class="op" id="3242263">.</span><span class="ident" id="3242264">v</span><span class="op" id="3242265">,</span>&nbsp;<span class="ident" id="3242267">r</span><span class="op" id="3242268">.</span><span class="ident" id="3242269">err</span><span class="op" id="3242272">,</span>&nbsp;<span class="ident" id="3242274">r</span><span class="op" id="3242275">.</span><span class="ident" id="3242276">shared</span><span class="op" id="3242282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3242285">}</span><br>
<span class="lineno">95</span><span class="op" id="3242287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3242290">//&nbsp;LookupPort&nbsp;looks&nbsp;up&nbsp;the&nbsp;port&nbsp;for&nbsp;the&nbsp;given&nbsp;network&nbsp;and&nbsp;service.</span><br>
<span class="lineno"></span><span class="keyword" id="3242357">func</span>&nbsp;<span class="ident" id="3242362">LookupPort</span><span class="op" id="3242372">(</span><span class="ident" id="3242373">network</span><span class="op" id="3242380">,</span>&nbsp;<span class="ident" id="3242382">service</span>&nbsp;<span class="builtintype" id="3242390">string</span><span class="op" id="3242396">)</span>&nbsp;<span class="op" id="3242398">(</span><span class="ident" id="3242399">port</span>&nbsp;<span class="builtintype" id="3242404">int</span><span class="op" id="3242407">,</span>&nbsp;<span class="ident" id="3242409">err</span>&nbsp;<span class="builtintype" id="3242413">error</span><span class="op" id="3242418">)</span>&nbsp;<span class="op" id="3242420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242423">return</span>&nbsp;<span class="ident" id="3242430">lookupPort</span><span class="op" id="3242440">(</span><span class="ident" id="3242441">network</span><span class="op" id="3242448">,</span>&nbsp;<span class="ident" id="3242450">service</span><span class="op" id="3242457">)</span><br>
<span class="lineno">100</span><span class="op" id="3242459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3242462">//&nbsp;LookupCNAME&nbsp;returns&nbsp;the&nbsp;canonical&nbsp;DNS&nbsp;host&nbsp;for&nbsp;the&nbsp;given&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="3242528">//&nbsp;Callers&nbsp;that&nbsp;do&nbsp;not&nbsp;care&nbsp;about&nbsp;the&nbsp;canonical&nbsp;name&nbsp;can&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="3242590">//&nbsp;LookupHost&nbsp;or&nbsp;LookupIP&nbsp;directly;&nbsp;both&nbsp;take&nbsp;care&nbsp;of&nbsp;resolving</span><br>
<span class="lineno">105</span><span class="comment" id="3242654">//&nbsp;the&nbsp;canonical&nbsp;name&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;lookup.</span><br>
<span class="lineno"></span><span class="keyword" id="3242699">func</span>&nbsp;<span class="ident" id="3242704">LookupCNAME</span><span class="op" id="3242715">(</span><span class="ident" id="3242716">name</span>&nbsp;<span class="builtintype" id="3242721">string</span><span class="op" id="3242727">)</span>&nbsp;<span class="op" id="3242729">(</span><span class="ident" id="3242730">cname</span>&nbsp;<span class="builtintype" id="3242736">string</span><span class="op" id="3242742">,</span>&nbsp;<span class="ident" id="3242744">err</span>&nbsp;<span class="builtintype" id="3242748">error</span><span class="op" id="3242753">)</span>&nbsp;<span class="op" id="3242755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3242758">return</span>&nbsp;<span class="ident" id="3242765">lookupCNAME</span><span class="op" id="3242776">(</span><span class="ident" id="3242777">name</span><span class="op" id="3242781">)</span><br>
<span class="lineno"></span><span class="op" id="3242783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="3242786">//&nbsp;LookupSRV&nbsp;tries&nbsp;to&nbsp;resolve&nbsp;an&nbsp;SRV&nbsp;query&nbsp;of&nbsp;the&nbsp;given&nbsp;service,</span><br>
<span class="lineno"></span><span class="comment" id="3242851">//&nbsp;protocol,&nbsp;and&nbsp;domain&nbsp;name.&nbsp;&nbsp;The&nbsp;proto&nbsp;is&nbsp;&#34;tcp&#34;&nbsp;or&nbsp;&#34;udp&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3242911">//&nbsp;The&nbsp;returned&nbsp;records&nbsp;are&nbsp;sorted&nbsp;by&nbsp;priority&nbsp;and&nbsp;randomized</span><br>
<span class="lineno"></span><span class="comment" id="3242973">//&nbsp;by&nbsp;weight&nbsp;within&nbsp;a&nbsp;priority.</span><br>
<span class="lineno"></span><span class="comment" id="3243005">//</span><br>
<span class="lineno">115</span><span class="comment" id="3243008">//&nbsp;LookupSRV&nbsp;constructs&nbsp;the&nbsp;DNS&nbsp;name&nbsp;to&nbsp;look&nbsp;up&nbsp;following&nbsp;RFC&nbsp;2782.</span><br>
<span class="lineno"></span><span class="comment" id="3243076">//&nbsp;That&nbsp;is,&nbsp;it&nbsp;looks&nbsp;up&nbsp;_service._proto.name.&nbsp;&nbsp;To&nbsp;accommodate&nbsp;services</span><br>
<span class="lineno"></span><span class="comment" id="3243147">//&nbsp;publishing&nbsp;SRV&nbsp;records&nbsp;under&nbsp;non-standard&nbsp;names,&nbsp;if&nbsp;both&nbsp;service</span><br>
<span class="lineno"></span><span class="comment" id="3243215">//&nbsp;and&nbsp;proto&nbsp;are&nbsp;empty&nbsp;strings,&nbsp;LookupSRV&nbsp;looks&nbsp;up&nbsp;name&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="3243281">func</span>&nbsp;<span class="ident" id="3243286">LookupSRV</span><span class="op" id="3243295">(</span><span class="ident" id="3243296">service</span><span class="op" id="3243303">,</span>&nbsp;<span class="ident" id="3243305">proto</span><span class="op" id="3243310">,</span>&nbsp;<span class="ident" id="3243312">name</span>&nbsp;<span class="builtintype" id="3243317">string</span><span class="op" id="3243323">)</span>&nbsp;<span class="op" id="3243325">(</span><span class="ident" id="3243326">cname</span>&nbsp;<span class="builtintype" id="3243332">string</span><span class="op" id="3243338">,</span>&nbsp;<span class="ident" id="3243340">addrs</span>&nbsp;<span class="op" id="3243346">[</span><span class="op" id="3243347">]</span><span class="op" id="3243348">*</span><span class="ident" id="3243349">SRV</span><span class="op" id="3243352">,</span>&nbsp;<span class="ident" id="3243354">err</span>&nbsp;<span class="builtintype" id="3243358">error</span><span class="op" id="3243363">)</span>&nbsp;<span class="op" id="3243365">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243368">return</span>&nbsp;<span class="ident" id="3243375">lookupSRV</span><span class="op" id="3243384">(</span><span class="ident" id="3243385">service</span><span class="op" id="3243392">,</span>&nbsp;<span class="ident" id="3243394">proto</span><span class="op" id="3243399">,</span>&nbsp;<span class="ident" id="3243401">name</span><span class="op" id="3243405">)</span><br>
<span class="lineno"></span><span class="op" id="3243407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3243410">//&nbsp;LookupMX&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;MX&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name&nbsp;sorted&nbsp;by&nbsp;preference.</span><br>
<span class="lineno"></span><span class="keyword" id="3243497">func</span>&nbsp;<span class="ident" id="3243502">LookupMX</span><span class="op" id="3243510">(</span><span class="ident" id="3243511">name</span>&nbsp;<span class="builtintype" id="3243516">string</span><span class="op" id="3243522">)</span>&nbsp;<span class="op" id="3243524">(</span><span class="ident" id="3243525">mx</span>&nbsp;<span class="op" id="3243528">[</span><span class="op" id="3243529">]</span><span class="op" id="3243530">*</span><span class="ident" id="3243531">MX</span><span class="op" id="3243533">,</span>&nbsp;<span class="ident" id="3243535">err</span>&nbsp;<span class="builtintype" id="3243539">error</span><span class="op" id="3243544">)</span>&nbsp;<span class="op" id="3243546">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243549">return</span>&nbsp;<span class="ident" id="3243556">lookupMX</span><span class="op" id="3243564">(</span><span class="ident" id="3243565">name</span><span class="op" id="3243569">)</span><br>
<span class="lineno"></span><span class="op" id="3243571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3243574">//&nbsp;LookupNS&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;NS&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3243640">func</span>&nbsp;<span class="ident" id="3243645">LookupNS</span><span class="op" id="3243653">(</span><span class="ident" id="3243654">name</span>&nbsp;<span class="builtintype" id="3243659">string</span><span class="op" id="3243665">)</span>&nbsp;<span class="op" id="3243667">(</span><span class="ident" id="3243668">ns</span>&nbsp;<span class="op" id="3243671">[</span><span class="op" id="3243672">]</span><span class="op" id="3243673">*</span><span class="ident" id="3243674">NS</span><span class="op" id="3243676">,</span>&nbsp;<span class="ident" id="3243678">err</span>&nbsp;<span class="builtintype" id="3243682">error</span><span class="op" id="3243687">)</span>&nbsp;<span class="op" id="3243689">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243692">return</span>&nbsp;<span class="ident" id="3243699">lookupNS</span><span class="op" id="3243707">(</span><span class="ident" id="3243708">name</span><span class="op" id="3243712">)</span><br>
<span class="lineno"></span><span class="op" id="3243714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3243717">//&nbsp;LookupTXT&nbsp;returns&nbsp;the&nbsp;DNS&nbsp;TXT&nbsp;records&nbsp;for&nbsp;the&nbsp;given&nbsp;domain&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3243785">func</span>&nbsp;<span class="ident" id="3243790">LookupTXT</span><span class="op" id="3243799">(</span><span class="ident" id="3243800">name</span>&nbsp;<span class="builtintype" id="3243805">string</span><span class="op" id="3243811">)</span>&nbsp;<span class="op" id="3243813">(</span><span class="ident" id="3243814">txt</span>&nbsp;<span class="op" id="3243818">[</span><span class="op" id="3243819">]</span><span class="builtintype" id="3243820">string</span><span class="op" id="3243826">,</span>&nbsp;<span class="ident" id="3243828">err</span>&nbsp;<span class="builtintype" id="3243832">error</span><span class="op" id="3243837">)</span>&nbsp;<span class="op" id="3243839">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3243842">return</span>&nbsp;<span class="ident" id="3243849">lookupTXT</span><span class="op" id="3243858">(</span><span class="ident" id="3243859">name</span><span class="op" id="3243863">)</span><br>
<span class="lineno"></span><span class="op" id="3243865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3243868">//&nbsp;LookupAddr&nbsp;performs&nbsp;a&nbsp;reverse&nbsp;lookup&nbsp;for&nbsp;the&nbsp;given&nbsp;address,&nbsp;returning&nbsp;a&nbsp;list</span><br>
<span class="lineno"></span><span class="comment" id="3243948">//&nbsp;of&nbsp;names&nbsp;mapping&nbsp;to&nbsp;that&nbsp;address.</span><br>
<span class="lineno">140</span><span class="keyword" id="3243985">func</span>&nbsp;<span class="ident" id="3243990">LookupAddr</span><span class="op" id="3244000">(</span><span class="ident" id="3244001">addr</span>&nbsp;<span class="builtintype" id="3244006">string</span><span class="op" id="3244012">)</span>&nbsp;<span class="op" id="3244014">(</span><span class="ident" id="3244015">name</span>&nbsp;<span class="op" id="3244020">[</span><span class="op" id="3244021">]</span><span class="builtintype" id="3244022">string</span><span class="op" id="3244028">,</span>&nbsp;<span class="ident" id="3244030">err</span>&nbsp;<span class="builtintype" id="3244034">error</span><span class="op" id="3244039">)</span>&nbsp;<span class="op" id="3244041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3244044">return</span>&nbsp;<span class="ident" id="3244051">lookupAddr</span><span class="op" id="3244061">(</span><span class="ident" id="3244062">addr</span><span class="op" id="3244066">)</span><br>
<span class="lineno"></span><span class="op" id="3244068">}</span>
</div>
</body>
</html>
