<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html" class="current">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7238285">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7238340">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7238394">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7238445">package</span>&nbsp;<span class="ident" id="7238453">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7238458">import</span>&nbsp;<span class="op" id="7238465">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7238468">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7238474">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7238485">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7238496">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7238507">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7238514">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="7238517">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7238562">func</span>&nbsp;<span class="ident" id="7238567">TestUnmarshalFeed</span><span class="op" id="7238584">(</span><span class="ident" id="7238585">t</span>&nbsp;<span class="op" id="7238587">*</span><span class="ident" id="7238588">testing</span><span class="op" id="7238595">.</span><span class="ident" id="7238596">T</span><span class="op" id="7238597">)</span>&nbsp;<span class="op" id="7238599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7238602">var</span>&nbsp;<span class="ident" id="7238606">f</span>&nbsp;<span class="ident" id="7238608">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7238614">if</span>&nbsp;<span class="ident" id="7238617">err</span>&nbsp;<span class="op" id="7238621">:=</span>&nbsp;<span class="ident" id="7238624">Unmarshal</span><span class="op" id="7238633">(</span><span class="op" id="7238634">[</span><span class="op" id="7238635">]</span><span class="builtintype" id="7238636">byte</span><span class="op" id="7238640">(</span><span class="ident" id="7238641">atomFeedString</span><span class="op" id="7238655">)</span><span class="op" id="7238656">,</span>&nbsp;<span class="op" id="7238658">&amp;</span><span class="ident" id="7238659">f</span><span class="op" id="7238660">)</span><span class="op" id="7238661">;</span>&nbsp;<span class="ident" id="7238663">err</span>&nbsp;<span class="op" id="7238667">!=</span>&nbsp;<span class="builtintype" id="7238670">nil</span>&nbsp;<span class="op" id="7238674">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7238678">t</span><span class="op" id="7238679">.</span><span class="ident" id="7238680">Fatalf</span><span class="op" id="7238686">(</span><span class="string" id="7238687">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7238702">,</span>&nbsp;<span class="ident" id="7238704">err</span><span class="op" id="7238707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7238710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7238713">if</span>&nbsp;<span class="op" id="7238716">!</span><span class="ident" id="7238717">reflect</span><span class="op" id="7238724">.</span><span class="ident" id="7238725">DeepEqual</span><span class="op" id="7238734">(</span><span class="ident" id="7238735">f</span><span class="op" id="7238736">,</span>&nbsp;<span class="ident" id="7238738">atomFeed</span><span class="op" id="7238746">)</span>&nbsp;<span class="op" id="7238748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7238752">t</span><span class="op" id="7238753">.</span><span class="ident" id="7238754">Fatalf</span><span class="op" id="7238760">(</span><span class="string" id="7238761">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7238781">,</span>&nbsp;<span class="ident" id="7238783">f</span><span class="op" id="7238784">,</span>&nbsp;<span class="ident" id="7238786">atomFeed</span><span class="op" id="7238794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7238797">}</span><br>
<span class="lineno">25</span><span class="op" id="7238799">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7238802">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="7238853">const</span>&nbsp;<span class="ident" id="7238859">atomFeedString</span>&nbsp;<span class="op" id="7238874">=</span>&nbsp;<span class="string" id="7238876">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7241865">type</span>&nbsp;<span class="ident" id="7241870">Feed</span>&nbsp;<span class="keyword" id="7241875">struct</span>&nbsp;<span class="op" id="7241882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7241885">XMLName</span>&nbsp;<span class="ident" id="7241893">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7241903">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7241945">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7241953">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7241963">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7241978">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7241986">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7241996">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242008">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7242016">[</span><span class="op" id="7242017">]</span><span class="ident" id="7242018">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242026">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242040">Updated</span>&nbsp;<span class="ident" id="7242048">time</span><span class="op" id="7242052">.</span><span class="ident" id="7242053">Time</span>&nbsp;<span class="string" id="7242058">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242080">Author</span>&nbsp;&nbsp;<span class="ident" id="7242088">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242098">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242114">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7242122">[</span><span class="op" id="7242123">]</span><span class="ident" id="7242124">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7242132">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7242146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7242149">type</span>&nbsp;<span class="ident" id="7242154">Entry</span>&nbsp;<span class="keyword" id="7242160">struct</span>&nbsp;<span class="op" id="7242167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242170">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7242178">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242188">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242203">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7242211">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242221">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242233">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7242241">[</span><span class="op" id="7242242">]</span><span class="ident" id="7242243">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242251">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242265">Updated</span>&nbsp;<span class="ident" id="7242273">time</span><span class="op" id="7242277">.</span><span class="ident" id="7242278">Time</span>&nbsp;<span class="string" id="7242283">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242300">Author</span>&nbsp;&nbsp;<span class="ident" id="7242308">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242318">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242334">Summary</span>&nbsp;<span class="ident" id="7242342">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242352">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="7242368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7242371">type</span>&nbsp;<span class="ident" id="7242376">Link</span>&nbsp;<span class="keyword" id="7242381">struct</span>&nbsp;<span class="op" id="7242388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242391">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="7242396">string</span>&nbsp;<span class="string" id="7242403">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242431">Href</span>&nbsp;<span class="builtintype" id="7242436">string</span>&nbsp;<span class="string" id="7242443">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="7242461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7242464">type</span>&nbsp;<span class="ident" id="7242469">Person</span>&nbsp;<span class="keyword" id="7242476">struct</span>&nbsp;<span class="op" id="7242483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242486">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7242495">string</span>&nbsp;<span class="string" id="7242502">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242516">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7242525">string</span>&nbsp;<span class="string" id="7242532">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242545">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7242554">string</span>&nbsp;<span class="string" id="7242561">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242576">InnerXML</span>&nbsp;<span class="builtintype" id="7242585">string</span>&nbsp;<span class="string" id="7242592">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7242610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7242613">type</span>&nbsp;<span class="ident" id="7242618">Text</span>&nbsp;<span class="keyword" id="7242623">struct</span>&nbsp;<span class="op" id="7242630">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242633">Type</span>&nbsp;<span class="builtintype" id="7242638">string</span>&nbsp;<span class="string" id="7242645">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242674">Body</span>&nbsp;<span class="builtintype" id="7242679">string</span>&nbsp;<span class="string" id="7242686">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7242704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7242707">var</span>&nbsp;<span class="ident" id="7242711">atomFeed</span>&nbsp;<span class="op" id="7242720">=</span>&nbsp;<span class="ident" id="7242722">Feed</span><span class="op" id="7242726">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242729">XMLName</span><span class="op" id="7242736">:</span>&nbsp;<span class="ident" id="7242738">Name</span><span class="op" id="7242742">{</span><span class="string" id="7242743">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="7242772">,</span>&nbsp;<span class="string" id="7242774">&#34;feed&#34;</span><span class="op" id="7242780">}</span><span class="op" id="7242781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242784">Title</span><span class="op" id="7242789">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7242793">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="7242818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242821">Link</span><span class="op" id="7242825">:</span>&nbsp;<span class="op" id="7242827">[</span><span class="op" id="7242828">]</span><span class="ident" id="7242829">Link</span><span class="op" id="7242833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7242837">{</span><span class="ident" id="7242838">Rel</span><span class="op" id="7242841">:</span>&nbsp;<span class="string" id="7242843">&#34;alternate&#34;</span><span class="op" id="7242854">,</span>&nbsp;<span class="ident" id="7242856">Href</span><span class="op" id="7242860">:</span>&nbsp;<span class="string" id="7242862">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7242894">}</span><span class="op" id="7242895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7242899">{</span><span class="ident" id="7242900">Rel</span><span class="op" id="7242903">:</span>&nbsp;<span class="string" id="7242905">&#34;self&#34;</span><span class="op" id="7242911">,</span>&nbsp;<span class="ident" id="7242913">Href</span><span class="op" id="7242917">:</span>&nbsp;<span class="string" id="7242919">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="7242963">}</span><span class="op" id="7242964">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7242967">}</span><span class="op" id="7242968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7242971">Id</span><span class="op" id="7242973">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7242980">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7243012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243015">Updated</span><span class="op" id="7243022">:</span>&nbsp;<span class="ident" id="7243024">ParseTime</span><span class="op" id="7243033">(</span><span class="string" id="7243034">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7243061">)</span><span class="op" id="7243062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243065">Author</span><span class="op" id="7243071">:</span>&nbsp;<span class="ident" id="7243073">Person</span><span class="op" id="7243079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243083">Name</span><span class="op" id="7243087">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7243093">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="7243105">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243109">InnerXML</span><span class="op" id="7243117">:</span>&nbsp;<span class="string" id="7243119">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="7243150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7243153">}</span><span class="op" id="7243154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243157">Entry</span><span class="op" id="7243162">:</span>&nbsp;<span class="op" id="7243164">[</span><span class="op" id="7243165">]</span><span class="ident" id="7243166">Entry</span><span class="op" id="7243171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7243175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243180">Title</span><span class="op" id="7243185">:</span>&nbsp;<span class="string" id="7243187">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="7243227">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243232">Link</span><span class="op" id="7243236">:</span>&nbsp;<span class="op" id="7243238">[</span><span class="op" id="7243239">]</span><span class="ident" id="7243240">Link</span><span class="op" id="7243244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7243250">{</span><span class="ident" id="7243251">Rel</span><span class="op" id="7243254">:</span>&nbsp;<span class="string" id="7243256">&#34;alternate&#34;</span><span class="op" id="7243267">,</span>&nbsp;<span class="ident" id="7243269">Href</span><span class="op" id="7243273">:</span>&nbsp;<span class="string" id="7243275">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="7243313">}</span><span class="op" id="7243314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7243319">}</span><span class="op" id="7243320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243325">Updated</span><span class="op" id="7243332">:</span>&nbsp;<span class="ident" id="7243334">ParseTime</span><span class="op" id="7243343">(</span><span class="string" id="7243344">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7243371">)</span><span class="op" id="7243372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243377">Author</span><span class="op" id="7243383">:</span>&nbsp;<span class="ident" id="7243385">Person</span><span class="op" id="7243391">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243397">Name</span><span class="op" id="7243401">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7243407">&#34;email-address-removed&#34;</span><span class="op" id="7243430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243436">InnerXML</span><span class="op" id="7243444">:</span>&nbsp;<span class="string" id="7243446">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7243482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7243487">}</span><span class="op" id="7243488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243493">Id</span><span class="op" id="7243495">:</span>&nbsp;<span class="string" id="7243497">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="7243539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243544">Summary</span><span class="op" id="7243551">:</span>&nbsp;<span class="ident" id="7243553">Text</span><span class="op" id="7243557">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243563">Type</span><span class="op" id="7243567">:</span>&nbsp;<span class="string" id="7243569">&#34;html&#34;</span><span class="op" id="7243575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7243581">Body</span><span class="op" id="7243585">:</span>&nbsp;<span class="string" id="7243587">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="7244819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7244824">}</span><span class="op" id="7244825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7244829">}</span><span class="op" id="7244830">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7244834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7244839">Title</span><span class="op" id="7244844">:</span>&nbsp;<span class="string" id="7244846">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="7244880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7244885">Link</span><span class="op" id="7244889">:</span>&nbsp;<span class="op" id="7244891">[</span><span class="op" id="7244892">]</span><span class="ident" id="7244893">Link</span><span class="op" id="7244897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7244903">{</span><span class="ident" id="7244904">Rel</span><span class="op" id="7244907">:</span>&nbsp;<span class="string" id="7244909">&#34;alternate&#34;</span><span class="op" id="7244920">,</span>&nbsp;<span class="ident" id="7244922">Href</span><span class="op" id="7244926">:</span>&nbsp;<span class="string" id="7244928">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="7244966">}</span><span class="op" id="7244967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7244972">}</span><span class="op" id="7244973">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7244978">Updated</span><span class="op" id="7244985">:</span>&nbsp;<span class="ident" id="7244987">ParseTime</span><span class="op" id="7244996">(</span><span class="string" id="7244997">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="7245024">)</span><span class="op" id="7245025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7245030">Author</span><span class="op" id="7245036">:</span>&nbsp;<span class="ident" id="7245038">Person</span><span class="op" id="7245044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7245050">Name</span><span class="op" id="7245054">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7245060">&#34;email-address-removed&#34;</span><span class="op" id="7245083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7245089">InnerXML</span><span class="op" id="7245097">:</span>&nbsp;<span class="string" id="7245099">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7245135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7245140">}</span><span class="op" id="7245141">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7245146">Id</span><span class="op" id="7245148">:</span>&nbsp;<span class="string" id="7245150">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="7245192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7245197">Summary</span><span class="op" id="7245204">:</span>&nbsp;<span class="ident" id="7245206">Text</span><span class="op" id="7245210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7245216">Type</span><span class="op" id="7245220">:</span>&nbsp;<span class="string" id="7245222">&#34;html&#34;</span><span class="op" id="7245228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7245234">Body</span><span class="op" id="7245238">:</span>&nbsp;<span class="string" id="7245240">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="7245918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7245923">}</span><span class="op" id="7245924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7245928">}</span><span class="op" id="7245929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7245932">}</span><span class="op" id="7245933">,</span><br>
<span class="lineno">215</span><span class="op" id="7245935">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7245938">const</span>&nbsp;<span class="ident" id="7245944">pathTestString</span>&nbsp;<span class="op" id="7245959">=</span>&nbsp;<span class="string" id="7245961">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246323">type</span>&nbsp;<span class="ident" id="7246328">PathTestItem</span>&nbsp;<span class="keyword" id="7246341">struct</span>&nbsp;<span class="op" id="7246348">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246351">Value</span>&nbsp;<span class="builtintype" id="7246357">string</span><br>
<span class="lineno"></span><span class="op" id="7246364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246367">type</span>&nbsp;<span class="ident" id="7246372">PathTestA</span>&nbsp;<span class="keyword" id="7246382">struct</span>&nbsp;<span class="op" id="7246389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246392">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7246406">[</span><span class="op" id="7246407">]</span><span class="ident" id="7246408">PathTestItem</span>&nbsp;<span class="string" id="7246421">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246437">Before</span><span class="op" id="7246443">,</span>&nbsp;<span class="ident" id="7246445">After</span>&nbsp;<span class="builtintype" id="7246451">string</span><br>
<span class="lineno"></span><span class="op" id="7246458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246461">type</span>&nbsp;<span class="ident" id="7246466">PathTestB</span>&nbsp;<span class="keyword" id="7246476">struct</span>&nbsp;<span class="op" id="7246483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246486">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7246500">[</span><span class="op" id="7246501">]</span><span class="ident" id="7246502">PathTestItem</span>&nbsp;<span class="string" id="7246515">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246536">Before</span><span class="op" id="7246542">,</span>&nbsp;<span class="ident" id="7246544">After</span>&nbsp;<span class="builtintype" id="7246550">string</span><br>
<span class="lineno"></span><span class="op" id="7246557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246560">type</span>&nbsp;<span class="ident" id="7246565">PathTestC</span>&nbsp;<span class="keyword" id="7246575">struct</span>&nbsp;<span class="op" id="7246582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246585">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7246599">[</span><span class="op" id="7246600">]</span><span class="builtintype" id="7246601">string</span>&nbsp;<span class="string" id="7246608">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246635">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7246649">[</span><span class="op" id="7246650">]</span><span class="builtintype" id="7246651">string</span>&nbsp;<span class="string" id="7246658">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246685">Before</span><span class="op" id="7246691">,</span>&nbsp;<span class="ident" id="7246693">After</span>&nbsp;<span class="builtintype" id="7246699">string</span><br>
<span class="lineno"></span><span class="op" id="7246706">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246709">type</span>&nbsp;<span class="ident" id="7246714">PathTestSet</span>&nbsp;<span class="keyword" id="7246726">struct</span>&nbsp;<span class="op" id="7246733">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246736">Item1</span>&nbsp;<span class="op" id="7246742">[</span><span class="op" id="7246743">]</span><span class="ident" id="7246744">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="7246757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246760">type</span>&nbsp;<span class="ident" id="7246765">PathTestD</span>&nbsp;<span class="keyword" id="7246775">struct</span>&nbsp;<span class="op" id="7246782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246785">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246799">PathTestSet</span>&nbsp;<span class="string" id="7246811">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246826">Before</span><span class="op" id="7246832">,</span>&nbsp;<span class="ident" id="7246834">After</span>&nbsp;<span class="builtintype" id="7246840">string</span><br>
<span class="lineno"></span><span class="op" id="7246847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246850">type</span>&nbsp;<span class="ident" id="7246855">PathTestE</span>&nbsp;<span class="keyword" id="7246865">struct</span>&nbsp;<span class="op" id="7246872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246875">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7246889">string</span>&nbsp;<span class="string" id="7246896">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7246919">Before</span><span class="op" id="7246925">,</span>&nbsp;<span class="ident" id="7246927">After</span>&nbsp;<span class="builtintype" id="7246933">string</span><br>
<span class="lineno"></span><span class="op" id="7246940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7246943">var</span>&nbsp;<span class="ident" id="7246947">pathTests</span>&nbsp;<span class="op" id="7246957">=</span>&nbsp;<span class="op" id="7246959">[</span><span class="op" id="7246960">]</span><span class="keyword" id="7246961">interface</span><span class="op" id="7246970">{</span><span class="op" id="7246971">}</span><span class="op" id="7246972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7246975">&amp;</span><span class="ident" id="7246976">PathTestA</span><span class="op" id="7246985">{</span><span class="ident" id="7246986">Items</span><span class="op" id="7246991">:</span>&nbsp;<span class="op" id="7246993">[</span><span class="op" id="7246994">]</span><span class="ident" id="7246995">PathTestItem</span><span class="op" id="7247007">{</span><span class="op" id="7247008">{</span><span class="string" id="7247009">&#34;A&#34;</span><span class="op" id="7247012">}</span><span class="op" id="7247013">,</span>&nbsp;<span class="op" id="7247015">{</span><span class="string" id="7247016">&#34;D&#34;</span><span class="op" id="7247019">}</span><span class="op" id="7247020">}</span><span class="op" id="7247021">,</span>&nbsp;<span class="ident" id="7247023">Before</span><span class="op" id="7247029">:</span>&nbsp;<span class="string" id="7247031">&#34;1&#34;</span><span class="op" id="7247034">,</span>&nbsp;<span class="ident" id="7247036">After</span><span class="op" id="7247041">:</span>&nbsp;<span class="string" id="7247043">&#34;2&#34;</span><span class="op" id="7247046">}</span><span class="op" id="7247047">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7247050">&amp;</span><span class="ident" id="7247051">PathTestB</span><span class="op" id="7247060">{</span><span class="ident" id="7247061">Other</span><span class="op" id="7247066">:</span>&nbsp;<span class="op" id="7247068">[</span><span class="op" id="7247069">]</span><span class="ident" id="7247070">PathTestItem</span><span class="op" id="7247082">{</span><span class="op" id="7247083">{</span><span class="string" id="7247084">&#34;A&#34;</span><span class="op" id="7247087">}</span><span class="op" id="7247088">,</span>&nbsp;<span class="op" id="7247090">{</span><span class="string" id="7247091">&#34;D&#34;</span><span class="op" id="7247094">}</span><span class="op" id="7247095">}</span><span class="op" id="7247096">,</span>&nbsp;<span class="ident" id="7247098">Before</span><span class="op" id="7247104">:</span>&nbsp;<span class="string" id="7247106">&#34;1&#34;</span><span class="op" id="7247109">,</span>&nbsp;<span class="ident" id="7247111">After</span><span class="op" id="7247116">:</span>&nbsp;<span class="string" id="7247118">&#34;2&#34;</span><span class="op" id="7247121">}</span><span class="op" id="7247122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7247125">&amp;</span><span class="ident" id="7247126">PathTestC</span><span class="op" id="7247135">{</span><span class="ident" id="7247136">Values1</span><span class="op" id="7247143">:</span>&nbsp;<span class="op" id="7247145">[</span><span class="op" id="7247146">]</span><span class="builtintype" id="7247147">string</span><span class="op" id="7247153">{</span><span class="string" id="7247154">&#34;A&#34;</span><span class="op" id="7247157">,</span>&nbsp;<span class="string" id="7247159">&#34;C&#34;</span><span class="op" id="7247162">,</span>&nbsp;<span class="string" id="7247164">&#34;D&#34;</span><span class="op" id="7247167">}</span><span class="op" id="7247168">,</span>&nbsp;<span class="ident" id="7247170">Values2</span><span class="op" id="7247177">:</span>&nbsp;<span class="op" id="7247179">[</span><span class="op" id="7247180">]</span><span class="builtintype" id="7247181">string</span><span class="op" id="7247187">{</span><span class="string" id="7247188">&#34;B&#34;</span><span class="op" id="7247191">}</span><span class="op" id="7247192">,</span>&nbsp;<span class="ident" id="7247194">Before</span><span class="op" id="7247200">:</span>&nbsp;<span class="string" id="7247202">&#34;1&#34;</span><span class="op" id="7247205">,</span>&nbsp;<span class="ident" id="7247207">After</span><span class="op" id="7247212">:</span>&nbsp;<span class="string" id="7247214">&#34;2&#34;</span><span class="op" id="7247217">}</span><span class="op" id="7247218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7247221">&amp;</span><span class="ident" id="7247222">PathTestD</span><span class="op" id="7247231">{</span><span class="ident" id="7247232">Other</span><span class="op" id="7247237">:</span>&nbsp;<span class="ident" id="7247239">PathTestSet</span><span class="op" id="7247250">{</span><span class="ident" id="7247251">Item1</span><span class="op" id="7247256">:</span>&nbsp;<span class="op" id="7247258">[</span><span class="op" id="7247259">]</span><span class="ident" id="7247260">PathTestItem</span><span class="op" id="7247272">{</span><span class="op" id="7247273">{</span><span class="string" id="7247274">&#34;A&#34;</span><span class="op" id="7247277">}</span><span class="op" id="7247278">,</span>&nbsp;<span class="op" id="7247280">{</span><span class="string" id="7247281">&#34;D&#34;</span><span class="op" id="7247284">}</span><span class="op" id="7247285">}</span><span class="op" id="7247286">}</span><span class="op" id="7247287">,</span>&nbsp;<span class="ident" id="7247289">Before</span><span class="op" id="7247295">:</span>&nbsp;<span class="string" id="7247297">&#34;1&#34;</span><span class="op" id="7247300">,</span>&nbsp;<span class="ident" id="7247302">After</span><span class="op" id="7247307">:</span>&nbsp;<span class="string" id="7247309">&#34;2&#34;</span><span class="op" id="7247312">}</span><span class="op" id="7247313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7247316">&amp;</span><span class="ident" id="7247317">PathTestE</span><span class="op" id="7247326">{</span><span class="ident" id="7247327">Underline</span><span class="op" id="7247336">:</span>&nbsp;<span class="string" id="7247338">&#34;E&#34;</span><span class="op" id="7247341">,</span>&nbsp;<span class="ident" id="7247343">Before</span><span class="op" id="7247349">:</span>&nbsp;<span class="string" id="7247351">&#34;1&#34;</span><span class="op" id="7247354">,</span>&nbsp;<span class="ident" id="7247356">After</span><span class="op" id="7247361">:</span>&nbsp;<span class="string" id="7247363">&#34;2&#34;</span><span class="op" id="7247366">}</span><span class="op" id="7247367">,</span><br>
<span class="lineno"></span><span class="op" id="7247369">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7247372">func</span>&nbsp;<span class="ident" id="7247377">TestUnmarshalPaths</span><span class="op" id="7247395">(</span><span class="ident" id="7247396">t</span>&nbsp;<span class="op" id="7247398">*</span><span class="ident" id="7247399">testing</span><span class="op" id="7247406">.</span><span class="ident" id="7247407">T</span><span class="op" id="7247408">)</span>&nbsp;<span class="op" id="7247410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7247413">for</span>&nbsp;<span class="ident" id="7247417">_</span><span class="op" id="7247418">,</span>&nbsp;<span class="ident" id="7247420">pt</span>&nbsp;<span class="op" id="7247423">:=</span>&nbsp;<span class="keyword" id="7247426">range</span>&nbsp;<span class="ident" id="7247432">pathTests</span>&nbsp;<span class="op" id="7247442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247446">v</span>&nbsp;<span class="op" id="7247448">:=</span>&nbsp;<span class="ident" id="7247451">reflect</span><span class="op" id="7247458">.</span><span class="ident" id="7247459">New</span><span class="op" id="7247462">(</span><span class="ident" id="7247463">reflect</span><span class="op" id="7247470">.</span><span class="ident" id="7247471">TypeOf</span><span class="op" id="7247477">(</span><span class="ident" id="7247478">pt</span><span class="op" id="7247480">)</span><span class="op" id="7247481">.</span><span class="ident" id="7247482">Elem</span><span class="op" id="7247486">(</span><span class="op" id="7247487">)</span><span class="op" id="7247488">)</span><span class="op" id="7247489">.</span><span class="ident" id="7247490">Interface</span><span class="op" id="7247499">(</span><span class="op" id="7247500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7247504">if</span>&nbsp;<span class="ident" id="7247507">err</span>&nbsp;<span class="op" id="7247511">:=</span>&nbsp;<span class="ident" id="7247514">Unmarshal</span><span class="op" id="7247523">(</span><span class="op" id="7247524">[</span><span class="op" id="7247525">]</span><span class="builtintype" id="7247526">byte</span><span class="op" id="7247530">(</span><span class="ident" id="7247531">pathTestString</span><span class="op" id="7247545">)</span><span class="op" id="7247546">,</span>&nbsp;<span class="ident" id="7247548">v</span><span class="op" id="7247549">)</span><span class="op" id="7247550">;</span>&nbsp;<span class="ident" id="7247552">err</span>&nbsp;<span class="op" id="7247556">!=</span>&nbsp;<span class="builtintype" id="7247559">nil</span>&nbsp;<span class="op" id="7247563">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247568">t</span><span class="op" id="7247569">.</span><span class="ident" id="7247570">Fatalf</span><span class="op" id="7247576">(</span><span class="string" id="7247577">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7247592">,</span>&nbsp;<span class="ident" id="7247594">err</span><span class="op" id="7247597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7247601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7247605">if</span>&nbsp;<span class="op" id="7247608">!</span><span class="ident" id="7247609">reflect</span><span class="op" id="7247616">.</span><span class="ident" id="7247617">DeepEqual</span><span class="op" id="7247626">(</span><span class="ident" id="7247627">v</span><span class="op" id="7247628">,</span>&nbsp;<span class="ident" id="7247630">pt</span><span class="op" id="7247632">)</span>&nbsp;<span class="op" id="7247634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247639">t</span><span class="op" id="7247640">.</span><span class="ident" id="7247641">Fatalf</span><span class="op" id="7247647">(</span><span class="string" id="7247648">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7247668">,</span>&nbsp;<span class="ident" id="7247670">v</span><span class="op" id="7247671">,</span>&nbsp;<span class="ident" id="7247673">pt</span><span class="op" id="7247675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7247679">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7247682">}</span><br>
<span class="lineno"></span><span class="op" id="7247684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7247687">type</span>&nbsp;<span class="ident" id="7247692">BadPathTestA</span>&nbsp;<span class="keyword" id="7247705">struct</span>&nbsp;<span class="op" id="7247712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247715">First</span>&nbsp;&nbsp;<span class="builtintype" id="7247722">string</span>&nbsp;<span class="string" id="7247729">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247750">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7247757">string</span>&nbsp;<span class="string" id="7247764">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247785">Second</span>&nbsp;<span class="builtintype" id="7247792">string</span>&nbsp;<span class="string" id="7247799">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7247813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7247816">type</span>&nbsp;<span class="ident" id="7247821">BadPathTestB</span>&nbsp;<span class="keyword" id="7247834">struct</span>&nbsp;<span class="op" id="7247841">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247844">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7247851">string</span>&nbsp;<span class="string" id="7247858">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247885">First</span>&nbsp;&nbsp;<span class="builtintype" id="7247892">string</span>&nbsp;<span class="string" id="7247899">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247920">Second</span>&nbsp;<span class="builtintype" id="7247927">string</span>&nbsp;<span class="string" id="7247934">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7247960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="7247963">type</span>&nbsp;<span class="ident" id="7247968">BadPathTestC</span>&nbsp;<span class="keyword" id="7247981">struct</span>&nbsp;<span class="op" id="7247988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7247991">First</span>&nbsp;&nbsp;<span class="builtintype" id="7247998">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248006">Second</span>&nbsp;<span class="builtintype" id="7248013">string</span>&nbsp;<span class="string" id="7248020">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7248034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="7248037">type</span>&nbsp;<span class="ident" id="7248042">BadPathTestD</span>&nbsp;<span class="keyword" id="7248055">struct</span>&nbsp;<span class="op" id="7248062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248065">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248083">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="7248100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7248103">type</span>&nbsp;<span class="ident" id="7248108">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="7248125">struct</span>&nbsp;<span class="op" id="7248132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248135">First</span>&nbsp;<span class="builtintype" id="7248141">string</span><br>
<span class="lineno"></span><span class="op" id="7248148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7248151">type</span>&nbsp;<span class="ident" id="7248156">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="7248173">struct</span>&nbsp;<span class="op" id="7248180">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248183">Second</span>&nbsp;<span class="builtintype" id="7248190">string</span>&nbsp;<span class="string" id="7248197">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7248211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7248214">var</span>&nbsp;<span class="ident" id="7248218">badPathTests</span>&nbsp;<span class="op" id="7248231">=</span>&nbsp;<span class="op" id="7248233">[</span><span class="op" id="7248234">]</span><span class="keyword" id="7248235">struct</span>&nbsp;<span class="op" id="7248242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248245">v</span><span class="op" id="7248246">,</span>&nbsp;<span class="ident" id="7248248">e</span>&nbsp;<span class="keyword" id="7248250">interface</span><span class="op" id="7248259">{</span><span class="op" id="7248260">}</span><br>
<span class="lineno">325</span><span class="op" id="7248262">}</span><span class="op" id="7248263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248266">{</span><span class="op" id="7248267">&amp;</span><span class="ident" id="7248268">BadPathTestA</span><span class="op" id="7248280">{</span><span class="op" id="7248281">}</span><span class="op" id="7248282">,</span>&nbsp;<span class="op" id="7248284">&amp;</span><span class="ident" id="7248285">TagPathError</span><span class="op" id="7248297">{</span><span class="ident" id="7248298">reflect</span><span class="op" id="7248305">.</span><span class="ident" id="7248306">TypeOf</span><span class="op" id="7248312">(</span><span class="ident" id="7248313">BadPathTestA</span><span class="op" id="7248325">{</span><span class="op" id="7248326">}</span><span class="op" id="7248327">)</span><span class="op" id="7248328">,</span>&nbsp;<span class="string" id="7248330">&#34;First&#34;</span><span class="op" id="7248337">,</span>&nbsp;<span class="string" id="7248339">&#34;items&gt;item1&#34;</span><span class="op" id="7248352">,</span>&nbsp;<span class="string" id="7248354">&#34;Second&#34;</span><span class="op" id="7248362">,</span>&nbsp;<span class="string" id="7248364">&#34;items&#34;</span><span class="op" id="7248371">}</span><span class="op" id="7248372">}</span><span class="op" id="7248373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248376">{</span><span class="op" id="7248377">&amp;</span><span class="ident" id="7248378">BadPathTestB</span><span class="op" id="7248390">{</span><span class="op" id="7248391">}</span><span class="op" id="7248392">,</span>&nbsp;<span class="op" id="7248394">&amp;</span><span class="ident" id="7248395">TagPathError</span><span class="op" id="7248407">{</span><span class="ident" id="7248408">reflect</span><span class="op" id="7248415">.</span><span class="ident" id="7248416">TypeOf</span><span class="op" id="7248422">(</span><span class="ident" id="7248423">BadPathTestB</span><span class="op" id="7248435">{</span><span class="op" id="7248436">}</span><span class="op" id="7248437">)</span><span class="op" id="7248438">,</span>&nbsp;<span class="string" id="7248440">&#34;First&#34;</span><span class="op" id="7248447">,</span>&nbsp;<span class="string" id="7248449">&#34;items&gt;item1&#34;</span><span class="op" id="7248462">,</span>&nbsp;<span class="string" id="7248464">&#34;Second&#34;</span><span class="op" id="7248472">,</span>&nbsp;<span class="string" id="7248474">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="7248493">}</span><span class="op" id="7248494">}</span><span class="op" id="7248495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248498">{</span><span class="op" id="7248499">&amp;</span><span class="ident" id="7248500">BadPathTestC</span><span class="op" id="7248512">{</span><span class="op" id="7248513">}</span><span class="op" id="7248514">,</span>&nbsp;<span class="op" id="7248516">&amp;</span><span class="ident" id="7248517">TagPathError</span><span class="op" id="7248529">{</span><span class="ident" id="7248530">reflect</span><span class="op" id="7248537">.</span><span class="ident" id="7248538">TypeOf</span><span class="op" id="7248544">(</span><span class="ident" id="7248545">BadPathTestC</span><span class="op" id="7248557">{</span><span class="op" id="7248558">}</span><span class="op" id="7248559">)</span><span class="op" id="7248560">,</span>&nbsp;<span class="string" id="7248562">&#34;First&#34;</span><span class="op" id="7248569">,</span>&nbsp;<span class="string" id="7248571">&#34;&#34;</span><span class="op" id="7248573">,</span>&nbsp;<span class="string" id="7248575">&#34;Second&#34;</span><span class="op" id="7248583">,</span>&nbsp;<span class="string" id="7248585">&#34;First&#34;</span><span class="op" id="7248592">}</span><span class="op" id="7248593">}</span><span class="op" id="7248594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248597">{</span><span class="op" id="7248598">&amp;</span><span class="ident" id="7248599">BadPathTestD</span><span class="op" id="7248611">{</span><span class="op" id="7248612">}</span><span class="op" id="7248613">,</span>&nbsp;<span class="op" id="7248615">&amp;</span><span class="ident" id="7248616">TagPathError</span><span class="op" id="7248628">{</span><span class="ident" id="7248629">reflect</span><span class="op" id="7248636">.</span><span class="ident" id="7248637">TypeOf</span><span class="op" id="7248643">(</span><span class="ident" id="7248644">BadPathTestD</span><span class="op" id="7248656">{</span><span class="op" id="7248657">}</span><span class="op" id="7248658">)</span><span class="op" id="7248659">,</span>&nbsp;<span class="string" id="7248661">&#34;First&#34;</span><span class="op" id="7248668">,</span>&nbsp;<span class="string" id="7248670">&#34;&#34;</span><span class="op" id="7248672">,</span>&nbsp;<span class="string" id="7248674">&#34;Second&#34;</span><span class="op" id="7248682">,</span>&nbsp;<span class="string" id="7248684">&#34;First&#34;</span><span class="op" id="7248691">}</span><span class="op" id="7248692">}</span><span class="op" id="7248693">,</span><br>
<span class="lineno">330</span><span class="op" id="7248695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7248698">func</span>&nbsp;<span class="ident" id="7248703">TestUnmarshalBadPaths</span><span class="op" id="7248724">(</span><span class="ident" id="7248725">t</span>&nbsp;<span class="op" id="7248727">*</span><span class="ident" id="7248728">testing</span><span class="op" id="7248735">.</span><span class="ident" id="7248736">T</span><span class="op" id="7248737">)</span>&nbsp;<span class="op" id="7248739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7248742">for</span>&nbsp;<span class="ident" id="7248746">_</span><span class="op" id="7248747">,</span>&nbsp;<span class="ident" id="7248749">tt</span>&nbsp;<span class="op" id="7248752">:=</span>&nbsp;<span class="keyword" id="7248755">range</span>&nbsp;<span class="ident" id="7248761">badPathTests</span>&nbsp;<span class="op" id="7248774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248778">err</span>&nbsp;<span class="op" id="7248782">:=</span>&nbsp;<span class="ident" id="7248785">Unmarshal</span><span class="op" id="7248794">(</span><span class="op" id="7248795">[</span><span class="op" id="7248796">]</span><span class="builtintype" id="7248797">byte</span><span class="op" id="7248801">(</span><span class="ident" id="7248802">pathTestString</span><span class="op" id="7248816">)</span><span class="op" id="7248817">,</span>&nbsp;<span class="ident" id="7248819">tt</span><span class="op" id="7248821">.</span><span class="ident" id="7248822">v</span><span class="op" id="7248823">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7248827">if</span>&nbsp;<span class="op" id="7248830">!</span><span class="ident" id="7248831">reflect</span><span class="op" id="7248838">.</span><span class="ident" id="7248839">DeepEqual</span><span class="op" id="7248848">(</span><span class="ident" id="7248849">err</span><span class="op" id="7248852">,</span>&nbsp;<span class="ident" id="7248854">tt</span><span class="op" id="7248856">.</span><span class="ident" id="7248857">e</span><span class="op" id="7248858">)</span>&nbsp;<span class="op" id="7248860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7248865">t</span><span class="op" id="7248866">.</span><span class="ident" id="7248867">Fatalf</span><span class="op" id="7248873">(</span><span class="string" id="7248874">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="7248937">,</span>&nbsp;<span class="ident" id="7248939">tt</span><span class="op" id="7248941">.</span><span class="ident" id="7248942">v</span><span class="op" id="7248943">,</span>&nbsp;<span class="ident" id="7248945">err</span><span class="op" id="7248948">,</span>&nbsp;<span class="ident" id="7248950">tt</span><span class="op" id="7248952">.</span><span class="ident" id="7248953">e</span><span class="op" id="7248954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7248961">}</span><br>
<span class="lineno"></span><span class="op" id="7248963">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7248966">const</span>&nbsp;<span class="ident" id="7248972">OK</span>&nbsp;<span class="op" id="7248975">=</span>&nbsp;<span class="string" id="7248977">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7248982">const</span>&nbsp;<span class="ident" id="7248988">withoutNameTypeData</span>&nbsp;<span class="op" id="7249008">=</span>&nbsp;<span class="string" id="7249010">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="7249072">type</span>&nbsp;<span class="ident" id="7249077">TestThree</span>&nbsp;<span class="keyword" id="7249087">struct</span>&nbsp;<span class="op" id="7249094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249097">XMLName</span>&nbsp;<span class="ident" id="7249105">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7249112">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249127">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7249135">string</span>&nbsp;<span class="string" id="7249142">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7249156">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7249159">func</span>&nbsp;<span class="ident" id="7249164">TestUnmarshalWithoutNameType</span><span class="op" id="7249192">(</span><span class="ident" id="7249193">t</span>&nbsp;<span class="op" id="7249195">*</span><span class="ident" id="7249196">testing</span><span class="op" id="7249203">.</span><span class="ident" id="7249204">T</span><span class="op" id="7249205">)</span>&nbsp;<span class="op" id="7249207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249210">var</span>&nbsp;<span class="ident" id="7249214">x</span>&nbsp;<span class="ident" id="7249216">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249227">if</span>&nbsp;<span class="ident" id="7249230">err</span>&nbsp;<span class="op" id="7249234">:=</span>&nbsp;<span class="ident" id="7249237">Unmarshal</span><span class="op" id="7249246">(</span><span class="op" id="7249247">[</span><span class="op" id="7249248">]</span><span class="builtintype" id="7249249">byte</span><span class="op" id="7249253">(</span><span class="ident" id="7249254">withoutNameTypeData</span><span class="op" id="7249273">)</span><span class="op" id="7249274">,</span>&nbsp;<span class="op" id="7249276">&amp;</span><span class="ident" id="7249277">x</span><span class="op" id="7249278">)</span><span class="op" id="7249279">;</span>&nbsp;<span class="ident" id="7249281">err</span>&nbsp;<span class="op" id="7249285">!=</span>&nbsp;<span class="builtintype" id="7249288">nil</span>&nbsp;<span class="op" id="7249292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249296">t</span><span class="op" id="7249297">.</span><span class="ident" id="7249298">Fatalf</span><span class="op" id="7249304">(</span><span class="string" id="7249305">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7249320">,</span>&nbsp;<span class="ident" id="7249322">err</span><span class="op" id="7249325">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249331">if</span>&nbsp;<span class="ident" id="7249334">x</span><span class="op" id="7249335">.</span><span class="ident" id="7249336">Attr</span>&nbsp;<span class="op" id="7249341">!=</span>&nbsp;<span class="ident" id="7249344">OK</span>&nbsp;<span class="op" id="7249347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249351">t</span><span class="op" id="7249352">.</span><span class="ident" id="7249353">Fatalf</span><span class="op" id="7249359">(</span><span class="string" id="7249360">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="7249378">,</span>&nbsp;<span class="ident" id="7249380">x</span><span class="op" id="7249381">.</span><span class="ident" id="7249382">Attr</span><span class="op" id="7249386">,</span>&nbsp;<span class="ident" id="7249388">OK</span><span class="op" id="7249390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249393">}</span><br>
<span class="lineno"></span><span class="op" id="7249395">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="7249398">func</span>&nbsp;<span class="ident" id="7249403">TestUnmarshalAttr</span><span class="op" id="7249420">(</span><span class="ident" id="7249421">t</span>&nbsp;<span class="op" id="7249423">*</span><span class="ident" id="7249424">testing</span><span class="op" id="7249431">.</span><span class="ident" id="7249432">T</span><span class="op" id="7249433">)</span>&nbsp;<span class="op" id="7249435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249438">type</span>&nbsp;<span class="ident" id="7249443">ParamVal</span>&nbsp;<span class="keyword" id="7249452">struct</span>&nbsp;<span class="op" id="7249459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249463">Int</span>&nbsp;<span class="builtintype" id="7249467">int</span>&nbsp;<span class="string" id="7249471">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249489">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249493">type</span>&nbsp;<span class="ident" id="7249498">ParamPtr</span>&nbsp;<span class="keyword" id="7249507">struct</span>&nbsp;<span class="op" id="7249514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249518">Int</span>&nbsp;<span class="op" id="7249522">*</span><span class="builtintype" id="7249523">int</span>&nbsp;<span class="string" id="7249527">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249549">type</span>&nbsp;<span class="ident" id="7249554">ParamStringPtr</span>&nbsp;<span class="keyword" id="7249569">struct</span>&nbsp;<span class="op" id="7249576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249580">Int</span>&nbsp;<span class="op" id="7249584">*</span><span class="builtintype" id="7249585">string</span>&nbsp;<span class="string" id="7249592">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249614">x</span>&nbsp;<span class="op" id="7249616">:=</span>&nbsp;<span class="op" id="7249619">[</span><span class="op" id="7249620">]</span><span class="builtintype" id="7249621">byte</span><span class="op" id="7249625">(</span><span class="string" id="7249626">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="7249645">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249649">p1</span>&nbsp;<span class="op" id="7249652">:=</span>&nbsp;<span class="op" id="7249655">&amp;</span><span class="ident" id="7249656">ParamPtr</span><span class="op" id="7249664">{</span><span class="op" id="7249665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249668">if</span>&nbsp;<span class="ident" id="7249671">err</span>&nbsp;<span class="op" id="7249675">:=</span>&nbsp;<span class="ident" id="7249678">Unmarshal</span><span class="op" id="7249687">(</span><span class="ident" id="7249688">x</span><span class="op" id="7249689">,</span>&nbsp;<span class="ident" id="7249691">p1</span><span class="op" id="7249693">)</span><span class="op" id="7249694">;</span>&nbsp;<span class="ident" id="7249696">err</span>&nbsp;<span class="op" id="7249700">!=</span>&nbsp;<span class="builtintype" id="7249703">nil</span>&nbsp;<span class="op" id="7249707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249711">t</span><span class="op" id="7249712">.</span><span class="ident" id="7249713">Fatalf</span><span class="op" id="7249719">(</span><span class="string" id="7249720">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7249735">,</span>&nbsp;<span class="ident" id="7249737">err</span><span class="op" id="7249740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249743">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249746">if</span>&nbsp;<span class="ident" id="7249749">p1</span><span class="op" id="7249751">.</span><span class="ident" id="7249752">Int</span>&nbsp;<span class="op" id="7249756">==</span>&nbsp;<span class="builtintype" id="7249759">nil</span>&nbsp;<span class="op" id="7249763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249767">t</span><span class="op" id="7249768">.</span><span class="ident" id="7249769">Fatalf</span><span class="op" id="7249775">(</span><span class="string" id="7249776">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="7249811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249814">}</span>&nbsp;<span class="keyword" id="7249816">else</span>&nbsp;<span class="keyword" id="7249821">if</span>&nbsp;<span class="op" id="7249824">*</span><span class="ident" id="7249825">p1</span><span class="op" id="7249827">.</span><span class="ident" id="7249828">Int</span>&nbsp;<span class="op" id="7249832">!=</span>&nbsp;<span class="num" id="7249835">1</span>&nbsp;<span class="op" id="7249837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249841">t</span><span class="op" id="7249842">.</span><span class="ident" id="7249843">Fatalf</span><span class="op" id="7249849">(</span><span class="string" id="7249850">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7249899">,</span>&nbsp;<span class="ident" id="7249901">x</span><span class="op" id="7249902">,</span>&nbsp;<span class="ident" id="7249904">p1</span><span class="op" id="7249906">.</span><span class="ident" id="7249907">Int</span><span class="op" id="7249910">,</span>&nbsp;<span class="num" id="7249912">1</span><span class="op" id="7249913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7249916">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249920">p2</span>&nbsp;<span class="op" id="7249923">:=</span>&nbsp;<span class="op" id="7249926">&amp;</span><span class="ident" id="7249927">ParamVal</span><span class="op" id="7249935">{</span><span class="op" id="7249936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7249939">if</span>&nbsp;<span class="ident" id="7249942">err</span>&nbsp;<span class="op" id="7249946">:=</span>&nbsp;<span class="ident" id="7249949">Unmarshal</span><span class="op" id="7249958">(</span><span class="ident" id="7249959">x</span><span class="op" id="7249960">,</span>&nbsp;<span class="ident" id="7249962">p2</span><span class="op" id="7249964">)</span><span class="op" id="7249965">;</span>&nbsp;<span class="ident" id="7249967">err</span>&nbsp;<span class="op" id="7249971">!=</span>&nbsp;<span class="builtintype" id="7249974">nil</span>&nbsp;<span class="op" id="7249978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7249982">t</span><span class="op" id="7249983">.</span><span class="ident" id="7249984">Fatalf</span><span class="op" id="7249990">(</span><span class="string" id="7249991">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7250006">,</span>&nbsp;<span class="ident" id="7250008">err</span><span class="op" id="7250011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250014">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250017">if</span>&nbsp;<span class="ident" id="7250020">p2</span><span class="op" id="7250022">.</span><span class="ident" id="7250023">Int</span>&nbsp;<span class="op" id="7250027">!=</span>&nbsp;<span class="num" id="7250030">1</span>&nbsp;<span class="op" id="7250032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250036">t</span><span class="op" id="7250037">.</span><span class="ident" id="7250038">Fatalf</span><span class="op" id="7250044">(</span><span class="string" id="7250045">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7250094">,</span>&nbsp;<span class="ident" id="7250096">x</span><span class="op" id="7250097">,</span>&nbsp;<span class="ident" id="7250099">p2</span><span class="op" id="7250101">.</span><span class="ident" id="7250102">Int</span><span class="op" id="7250105">,</span>&nbsp;<span class="num" id="7250107">1</span><span class="op" id="7250108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250115">p3</span>&nbsp;<span class="op" id="7250118">:=</span>&nbsp;<span class="op" id="7250121">&amp;</span><span class="ident" id="7250122">ParamStringPtr</span><span class="op" id="7250136">{</span><span class="op" id="7250137">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250140">if</span>&nbsp;<span class="ident" id="7250143">err</span>&nbsp;<span class="op" id="7250147">:=</span>&nbsp;<span class="ident" id="7250150">Unmarshal</span><span class="op" id="7250159">(</span><span class="ident" id="7250160">x</span><span class="op" id="7250161">,</span>&nbsp;<span class="ident" id="7250163">p3</span><span class="op" id="7250165">)</span><span class="op" id="7250166">;</span>&nbsp;<span class="ident" id="7250168">err</span>&nbsp;<span class="op" id="7250172">!=</span>&nbsp;<span class="builtintype" id="7250175">nil</span>&nbsp;<span class="op" id="7250179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250183">t</span><span class="op" id="7250184">.</span><span class="ident" id="7250185">Fatalf</span><span class="op" id="7250191">(</span><span class="string" id="7250192">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7250207">,</span>&nbsp;<span class="ident" id="7250209">err</span><span class="op" id="7250212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7250218">if</span>&nbsp;<span class="ident" id="7250221">p3</span><span class="op" id="7250223">.</span><span class="ident" id="7250224">Int</span>&nbsp;<span class="op" id="7250228">==</span>&nbsp;<span class="builtintype" id="7250231">nil</span>&nbsp;<span class="op" id="7250235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250239">t</span><span class="op" id="7250240">.</span><span class="ident" id="7250241">Fatalf</span><span class="op" id="7250247">(</span><span class="string" id="7250248">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="7250286">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250289">}</span>&nbsp;<span class="keyword" id="7250291">else</span>&nbsp;<span class="keyword" id="7250296">if</span>&nbsp;<span class="op" id="7250299">*</span><span class="ident" id="7250300">p3</span><span class="op" id="7250302">.</span><span class="ident" id="7250303">Int</span>&nbsp;<span class="op" id="7250307">!=</span>&nbsp;<span class="string" id="7250310">&#34;1&#34;</span>&nbsp;<span class="op" id="7250314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250318">t</span><span class="op" id="7250319">.</span><span class="ident" id="7250320">Fatalf</span><span class="op" id="7250326">(</span><span class="string" id="7250327">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7250376">,</span>&nbsp;<span class="ident" id="7250378">x</span><span class="op" id="7250379">,</span>&nbsp;<span class="ident" id="7250381">p3</span><span class="op" id="7250383">.</span><span class="ident" id="7250384">Int</span><span class="op" id="7250387">,</span>&nbsp;<span class="num" id="7250389">1</span><span class="op" id="7250390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250393">}</span><br>
<span class="lineno"></span><span class="op" id="7250395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7250398">type</span>&nbsp;<span class="ident" id="7250403">Tables</span>&nbsp;<span class="keyword" id="7250410">struct</span>&nbsp;<span class="op" id="7250417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250420">HTable</span>&nbsp;<span class="builtintype" id="7250427">string</span>&nbsp;<span class="string" id="7250434">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250477">FTable</span>&nbsp;<span class="builtintype" id="7250484">string</span>&nbsp;<span class="string" id="7250491">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7250540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="7250543">var</span>&nbsp;<span class="ident" id="7250547">tables</span>&nbsp;<span class="op" id="7250554">=</span>&nbsp;<span class="op" id="7250556">[</span><span class="op" id="7250557">]</span><span class="keyword" id="7250558">struct</span>&nbsp;<span class="op" id="7250565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250568">xml</span>&nbsp;<span class="builtintype" id="7250572">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250580">tab</span>&nbsp;<span class="ident" id="7250584">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250592">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7250596">string</span><br>
<span class="lineno"></span><span class="op" id="7250603">}</span><span class="op" id="7250604">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250611">xml</span><span class="op" id="7250614">:</span>&nbsp;<span class="string" id="7250616">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7250627">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7250632">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7250691">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7250696">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7250762">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7250767">`&lt;/Tables&gt;`</span><span class="op" id="7250778">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250782">tab</span><span class="op" id="7250785">:</span>&nbsp;<span class="ident" id="7250787">Tables</span><span class="op" id="7250793">{</span><span class="string" id="7250794">&#34;hello&#34;</span><span class="op" id="7250801">,</span>&nbsp;<span class="string" id="7250803">&#34;world&#34;</span><span class="op" id="7250810">}</span><span class="op" id="7250811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250814">}</span><span class="op" id="7250815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7250818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250822">xml</span><span class="op" id="7250825">:</span>&nbsp;<span class="string" id="7250827">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7250838">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7250843">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7250909">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7250914">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7250973">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7250978">`&lt;/Tables&gt;`</span><span class="op" id="7250989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7250993">tab</span><span class="op" id="7250996">:</span>&nbsp;<span class="ident" id="7250998">Tables</span><span class="op" id="7251004">{</span><span class="string" id="7251005">&#34;hello&#34;</span><span class="op" id="7251012">,</span>&nbsp;<span class="string" id="7251014">&#34;world&#34;</span><span class="op" id="7251021">}</span><span class="op" id="7251022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251025">}</span><span class="op" id="7251026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251029">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251033">xml</span><span class="op" id="7251036">:</span>&nbsp;<span class="string" id="7251038">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="7251132">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251137">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="7251164">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251169">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="7251196">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251201">`&lt;/Tables&gt;`</span><span class="op" id="7251212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251216">tab</span><span class="op" id="7251219">:</span>&nbsp;<span class="ident" id="7251221">Tables</span><span class="op" id="7251227">{</span><span class="string" id="7251228">&#34;hello&#34;</span><span class="op" id="7251235">,</span>&nbsp;<span class="string" id="7251237">&#34;world&#34;</span><span class="op" id="7251244">}</span><span class="op" id="7251245">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251248">}</span><span class="op" id="7251249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251256">xml</span><span class="op" id="7251259">:</span>&nbsp;<span class="string" id="7251261">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7251272">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251277">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="7251300">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251305">`&lt;/Tables&gt;`</span><span class="op" id="7251316">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251320">tab</span><span class="op" id="7251323">:</span>&nbsp;<span class="ident" id="7251325">Tables</span><span class="op" id="7251331">{</span><span class="op" id="7251332">}</span><span class="op" id="7251333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251336">}</span><span class="op" id="7251337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251344">xml</span><span class="op" id="7251347">:</span>&nbsp;<span class="string" id="7251349">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7251360">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251365">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7251387">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251392">`&lt;/Tables&gt;`</span><span class="op" id="7251403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251407">tab</span><span class="op" id="7251410">:</span>&nbsp;<span class="ident" id="7251412">Tables</span><span class="op" id="7251418">{</span><span class="ident" id="7251419">HTable</span><span class="op" id="7251425">:</span>&nbsp;<span class="string" id="7251427">&#34;only&#34;</span><span class="op" id="7251433">}</span><span class="op" id="7251434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251438">ns</span><span class="op" id="7251440">:</span>&nbsp;&nbsp;<span class="string" id="7251443">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7251472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251475">}</span><span class="op" id="7251476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251479">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251483">xml</span><span class="op" id="7251486">:</span>&nbsp;<span class="string" id="7251488">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7251499">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251504">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7251526">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251531">`&lt;/Tables&gt;`</span><span class="op" id="7251542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251546">tab</span><span class="op" id="7251549">:</span>&nbsp;<span class="ident" id="7251551">Tables</span><span class="op" id="7251557">{</span><span class="ident" id="7251558">FTable</span><span class="op" id="7251564">:</span>&nbsp;<span class="string" id="7251566">&#34;only&#34;</span><span class="op" id="7251572">}</span><span class="op" id="7251573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251577">ns</span><span class="op" id="7251579">:</span>&nbsp;&nbsp;<span class="string" id="7251582">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7251618">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251621">}</span><span class="op" id="7251622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251629">xml</span><span class="op" id="7251632">:</span>&nbsp;<span class="string" id="7251634">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7251645">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251650">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7251672">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7251677">`&lt;/Tables&gt;`</span><span class="op" id="7251688">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251692">tab</span><span class="op" id="7251695">:</span>&nbsp;<span class="ident" id="7251697">Tables</span><span class="op" id="7251703">{</span><span class="op" id="7251704">}</span><span class="op" id="7251705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251709">ns</span><span class="op" id="7251711">:</span>&nbsp;&nbsp;<span class="string" id="7251714">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7251739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251742">}</span><span class="op" id="7251743">,</span><br>
<span class="lineno"></span><span class="op" id="7251745">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="7251748">func</span>&nbsp;<span class="ident" id="7251753">TestUnmarshalNS</span><span class="op" id="7251768">(</span><span class="ident" id="7251769">t</span>&nbsp;<span class="op" id="7251771">*</span><span class="ident" id="7251772">testing</span><span class="op" id="7251779">.</span><span class="ident" id="7251780">T</span><span class="op" id="7251781">)</span>&nbsp;<span class="op" id="7251783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251786">for</span>&nbsp;<span class="ident" id="7251790">i</span><span class="op" id="7251791">,</span>&nbsp;<span class="ident" id="7251793">tt</span>&nbsp;<span class="op" id="7251796">:=</span>&nbsp;<span class="keyword" id="7251799">range</span>&nbsp;<span class="ident" id="7251805">tables</span>&nbsp;<span class="op" id="7251812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251816">var</span>&nbsp;<span class="ident" id="7251820">dst</span>&nbsp;<span class="ident" id="7251824">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251833">var</span>&nbsp;<span class="ident" id="7251837">err</span>&nbsp;<span class="builtintype" id="7251841">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7251849">if</span>&nbsp;<span class="ident" id="7251852">tt</span><span class="op" id="7251854">.</span><span class="ident" id="7251855">ns</span>&nbsp;<span class="op" id="7251858">!=</span>&nbsp;<span class="string" id="7251861">&#34;&#34;</span>&nbsp;<span class="op" id="7251864">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251869">d</span>&nbsp;<span class="op" id="7251871">:=</span>&nbsp;<span class="ident" id="7251874">NewDecoder</span><span class="op" id="7251884">(</span><span class="ident" id="7251885">strings</span><span class="op" id="7251892">.</span><span class="ident" id="7251893">NewReader</span><span class="op" id="7251902">(</span><span class="ident" id="7251903">tt</span><span class="op" id="7251905">.</span><span class="ident" id="7251906">xml</span><span class="op" id="7251909">)</span><span class="op" id="7251910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251915">d</span><span class="op" id="7251916">.</span><span class="ident" id="7251917">DefaultSpace</span>&nbsp;<span class="op" id="7251930">=</span>&nbsp;<span class="ident" id="7251932">tt</span><span class="op" id="7251934">.</span><span class="ident" id="7251935">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251941">err</span>&nbsp;<span class="op" id="7251945">=</span>&nbsp;<span class="ident" id="7251947">d</span><span class="op" id="7251948">.</span><span class="ident" id="7251949">Decode</span><span class="op" id="7251955">(</span><span class="op" id="7251956">&amp;</span><span class="ident" id="7251957">dst</span><span class="op" id="7251960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7251964">}</span>&nbsp;<span class="keyword" id="7251966">else</span>&nbsp;<span class="op" id="7251971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7251976">err</span>&nbsp;<span class="op" id="7251980">=</span>&nbsp;<span class="ident" id="7251982">Unmarshal</span><span class="op" id="7251991">(</span><span class="op" id="7251992">[</span><span class="op" id="7251993">]</span><span class="builtintype" id="7251994">byte</span><span class="op" id="7251998">(</span><span class="ident" id="7251999">tt</span><span class="op" id="7252001">.</span><span class="ident" id="7252002">xml</span><span class="op" id="7252005">)</span><span class="op" id="7252006">,</span>&nbsp;<span class="op" id="7252008">&amp;</span><span class="ident" id="7252009">dst</span><span class="op" id="7252012">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252020">if</span>&nbsp;<span class="ident" id="7252023">err</span>&nbsp;<span class="op" id="7252027">!=</span>&nbsp;<span class="builtintype" id="7252030">nil</span>&nbsp;<span class="op" id="7252034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252039">t</span><span class="op" id="7252040">.</span><span class="ident" id="7252041">Errorf</span><span class="op" id="7252047">(</span><span class="string" id="7252048">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7252068">,</span>&nbsp;<span class="ident" id="7252070">i</span><span class="op" id="7252071">,</span>&nbsp;<span class="ident" id="7252073">err</span><span class="op" id="7252076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252081">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252092">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252096">want</span>&nbsp;<span class="op" id="7252101">:=</span>&nbsp;<span class="ident" id="7252104">tt</span><span class="op" id="7252106">.</span><span class="ident" id="7252107">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252113">if</span>&nbsp;<span class="ident" id="7252116">dst</span>&nbsp;<span class="op" id="7252120">!=</span>&nbsp;<span class="ident" id="7252123">want</span>&nbsp;<span class="op" id="7252128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252133">t</span><span class="op" id="7252134">.</span><span class="ident" id="7252135">Errorf</span><span class="op" id="7252141">(</span><span class="string" id="7252142">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7252166">,</span>&nbsp;<span class="ident" id="7252168">i</span><span class="op" id="7252169">,</span>&nbsp;<span class="ident" id="7252171">dst</span><span class="op" id="7252174">,</span>&nbsp;<span class="ident" id="7252176">want</span><span class="op" id="7252180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252187">}</span><br>
<span class="lineno">485</span><span class="op" id="7252189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7252192">func</span>&nbsp;<span class="ident" id="7252197">TestMarshalNS</span><span class="op" id="7252210">(</span><span class="ident" id="7252211">t</span>&nbsp;<span class="op" id="7252213">*</span><span class="ident" id="7252214">testing</span><span class="op" id="7252221">.</span><span class="ident" id="7252222">T</span><span class="op" id="7252223">)</span>&nbsp;<span class="op" id="7252225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252228">dst</span>&nbsp;<span class="op" id="7252232">:=</span>&nbsp;<span class="ident" id="7252235">Tables</span><span class="op" id="7252241">{</span><span class="string" id="7252242">&#34;hello&#34;</span><span class="op" id="7252249">,</span>&nbsp;<span class="string" id="7252251">&#34;world&#34;</span><span class="op" id="7252258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252261">data</span><span class="op" id="7252265">,</span>&nbsp;<span class="ident" id="7252267">err</span>&nbsp;<span class="op" id="7252271">:=</span>&nbsp;<span class="ident" id="7252274">Marshal</span><span class="op" id="7252281">(</span><span class="op" id="7252282">&amp;</span><span class="ident" id="7252283">dst</span><span class="op" id="7252286">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252289">if</span>&nbsp;<span class="ident" id="7252292">err</span>&nbsp;<span class="op" id="7252296">!=</span>&nbsp;<span class="builtintype" id="7252299">nil</span>&nbsp;<span class="op" id="7252303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252307">t</span><span class="op" id="7252308">.</span><span class="ident" id="7252309">Fatalf</span><span class="op" id="7252315">(</span><span class="string" id="7252316">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7252329">,</span>&nbsp;<span class="ident" id="7252331">err</span><span class="op" id="7252334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252340">want</span>&nbsp;<span class="op" id="7252345">:=</span>&nbsp;<span class="string" id="7252348">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252488">str</span>&nbsp;<span class="op" id="7252492">:=</span>&nbsp;<span class="builtintype" id="7252495">string</span><span class="op" id="7252501">(</span><span class="ident" id="7252502">data</span><span class="op" id="7252506">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7252509">if</span>&nbsp;<span class="ident" id="7252512">str</span>&nbsp;<span class="op" id="7252516">!=</span>&nbsp;<span class="ident" id="7252519">want</span>&nbsp;<span class="op" id="7252524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252528">t</span><span class="op" id="7252529">.</span><span class="ident" id="7252530">Errorf</span><span class="op" id="7252536">(</span><span class="string" id="7252537">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="7252559">,</span>&nbsp;<span class="ident" id="7252561">str</span><span class="op" id="7252564">,</span>&nbsp;<span class="ident" id="7252566">want</span><span class="op" id="7252570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7252573">}</span><br>
<span class="lineno"></span><span class="op" id="7252575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="7252578">type</span>&nbsp;<span class="ident" id="7252583">TableAttrs</span>&nbsp;<span class="keyword" id="7252594">struct</span>&nbsp;<span class="op" id="7252601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252604">TAttr</span>&nbsp;<span class="ident" id="7252610">TAttr</span><br>
<span class="lineno"></span><span class="op" id="7252616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7252619">type</span>&nbsp;<span class="ident" id="7252624">TAttr</span>&nbsp;<span class="keyword" id="7252630">struct</span>&nbsp;<span class="op" id="7252637">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252640">HTable</span>&nbsp;<span class="builtintype" id="7252647">string</span>&nbsp;<span class="string" id="7252654">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252702">FTable</span>&nbsp;<span class="builtintype" id="7252709">string</span>&nbsp;<span class="string" id="7252716">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252771">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7252778">string</span>&nbsp;<span class="string" id="7252785">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252851">Other1</span>&nbsp;<span class="builtintype" id="7252858">string</span>&nbsp;<span class="string" id="7252865">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252918">Other2</span>&nbsp;<span class="builtintype" id="7252925">string</span>&nbsp;<span class="string" id="7252932">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7252988">Other3</span>&nbsp;<span class="builtintype" id="7252995">string</span>&nbsp;<span class="string" id="7253002">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253056">Other4</span>&nbsp;<span class="builtintype" id="7253063">string</span>&nbsp;<span class="string" id="7253070">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7253125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7253128">var</span>&nbsp;<span class="ident" id="7253132">tableAttrs</span>&nbsp;<span class="op" id="7253143">=</span>&nbsp;<span class="op" id="7253145">[</span><span class="op" id="7253146">]</span><span class="keyword" id="7253147">struct</span>&nbsp;<span class="op" id="7253154">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253157">xml</span>&nbsp;<span class="builtintype" id="7253161">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253169">tab</span>&nbsp;<span class="ident" id="7253173">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253185">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7253189">string</span><br>
<span class="lineno"></span><span class="op" id="7253196">}</span><span class="op" id="7253197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253200">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253204">xml</span><span class="op" id="7253207">:</span>&nbsp;<span class="string" id="7253209">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7253314">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253319">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7253354">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253359">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7253376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253380">tab</span><span class="op" id="7253383">:</span>&nbsp;<span class="ident" id="7253385">TableAttrs</span><span class="op" id="7253395">{</span><span class="ident" id="7253396">TAttr</span><span class="op" id="7253401">{</span><span class="ident" id="7253402">HTable</span><span class="op" id="7253408">:</span>&nbsp;<span class="string" id="7253410">&#34;hello&#34;</span><span class="op" id="7253417">,</span>&nbsp;<span class="ident" id="7253419">FTable</span><span class="op" id="7253425">:</span>&nbsp;<span class="string" id="7253427">&#34;world&#34;</span><span class="op" id="7253434">}</span><span class="op" id="7253435">}</span><span class="op" id="7253436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253439">}</span><span class="op" id="7253440">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253447">xml</span><span class="op" id="7253450">:</span>&nbsp;<span class="string" id="7253452">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7253557">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253562">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7253597">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253602">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7253619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253623">tab</span><span class="op" id="7253626">:</span>&nbsp;<span class="ident" id="7253628">TableAttrs</span><span class="op" id="7253638">{</span><span class="ident" id="7253639">TAttr</span><span class="op" id="7253644">{</span><span class="ident" id="7253645">HTable</span><span class="op" id="7253651">:</span>&nbsp;<span class="string" id="7253653">&#34;hello&#34;</span><span class="op" id="7253660">,</span>&nbsp;<span class="ident" id="7253662">FTable</span><span class="op" id="7253668">:</span>&nbsp;<span class="string" id="7253670">&#34;world&#34;</span><span class="op" id="7253677">}</span><span class="op" id="7253678">}</span><span class="op" id="7253679">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253682">}</span><span class="op" id="7253683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253690">xml</span><span class="op" id="7253693">:</span>&nbsp;<span class="string" id="7253695">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7253717">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253722">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7253840">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7253845">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7253862">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253866">tab</span><span class="op" id="7253869">:</span>&nbsp;<span class="ident" id="7253871">TableAttrs</span><span class="op" id="7253881">{</span><span class="ident" id="7253882">TAttr</span><span class="op" id="7253887">{</span><span class="ident" id="7253888">HTable</span><span class="op" id="7253894">:</span>&nbsp;<span class="string" id="7253896">&#34;hello&#34;</span><span class="op" id="7253903">,</span>&nbsp;<span class="ident" id="7253905">FTable</span><span class="op" id="7253911">:</span>&nbsp;<span class="string" id="7253913">&#34;world&#34;</span><span class="op" id="7253920">}</span><span class="op" id="7253921">}</span><span class="op" id="7253922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253925">}</span><span class="op" id="7253926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7253929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7253933">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7253987">xml</span><span class="op" id="7253990">:</span>&nbsp;<span class="string" id="7253992">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7254095">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254100">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7254133">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254138">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7254155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254159">tab</span><span class="op" id="7254162">:</span>&nbsp;<span class="ident" id="7254164">TableAttrs</span><span class="op" id="7254174">{</span><span class="ident" id="7254175">TAttr</span><span class="op" id="7254180">{</span><span class="ident" id="7254181">HTable</span><span class="op" id="7254187">:</span>&nbsp;<span class="string" id="7254189">&#34;hello&#34;</span><span class="op" id="7254196">,</span>&nbsp;<span class="ident" id="7254198">FTable</span><span class="op" id="7254204">:</span>&nbsp;<span class="string" id="7254206">&#34;&#34;</span><span class="op" id="7254208">}</span><span class="op" id="7254209">}</span><span class="op" id="7254210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254213">}</span><span class="op" id="7254214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254217">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7254221">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254275">xml</span><span class="op" id="7254278">:</span>&nbsp;<span class="string" id="7254280">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7254383">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254388">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7254421">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254426">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7254443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254447">tab</span><span class="op" id="7254450">:</span>&nbsp;<span class="ident" id="7254452">TableAttrs</span><span class="op" id="7254462">{</span><span class="ident" id="7254463">TAttr</span><span class="op" id="7254468">{</span><span class="ident" id="7254469">HTable</span><span class="op" id="7254475">:</span>&nbsp;<span class="string" id="7254477">&#34;&#34;</span><span class="op" id="7254479">,</span>&nbsp;<span class="ident" id="7254481">FTable</span><span class="op" id="7254487">:</span>&nbsp;<span class="string" id="7254489">&#34;world&#34;</span><span class="op" id="7254496">}</span><span class="op" id="7254497">}</span><span class="op" id="7254498">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254501">}</span><span class="op" id="7254502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254509">xml</span><span class="op" id="7254512">:</span>&nbsp;<span class="string" id="7254514">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7254536">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254541">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7254558">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254563">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7254580">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254584">tab</span><span class="op" id="7254587">:</span>&nbsp;<span class="ident" id="7254589">TableAttrs</span><span class="op" id="7254599">{</span><span class="op" id="7254600">}</span><span class="op" id="7254601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254604">}</span><span class="op" id="7254605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7254612">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254666">xml</span><span class="op" id="7254669">:</span>&nbsp;<span class="string" id="7254671">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7254731">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254736">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7254769">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7254774">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7254791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254795">tab</span><span class="op" id="7254798">:</span>&nbsp;<span class="ident" id="7254800">TableAttrs</span><span class="op" id="7254810">{</span><span class="ident" id="7254811">TAttr</span><span class="op" id="7254816">{</span><span class="ident" id="7254817">HTable</span><span class="op" id="7254823">:</span>&nbsp;<span class="string" id="7254825">&#34;hello&#34;</span><span class="op" id="7254832">,</span>&nbsp;<span class="ident" id="7254834">FTable</span><span class="op" id="7254840">:</span>&nbsp;<span class="string" id="7254842">&#34;&#34;</span><span class="op" id="7254844">}</span><span class="op" id="7254845">}</span><span class="op" id="7254846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254850">ns</span><span class="op" id="7254852">:</span>&nbsp;&nbsp;<span class="string" id="7254855">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7254891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254894">}</span><span class="op" id="7254895">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7254898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7254902">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7254956">xml</span><span class="op" id="7254959">:</span>&nbsp;<span class="string" id="7254961">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7255028">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7255033">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7255066">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7255071">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7255088">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255092">tab</span><span class="op" id="7255095">:</span>&nbsp;<span class="ident" id="7255097">TableAttrs</span><span class="op" id="7255107">{</span><span class="ident" id="7255108">TAttr</span><span class="op" id="7255113">{</span><span class="ident" id="7255114">HTable</span><span class="op" id="7255120">:</span>&nbsp;<span class="string" id="7255122">&#34;&#34;</span><span class="op" id="7255124">,</span>&nbsp;<span class="ident" id="7255126">FTable</span><span class="op" id="7255132">:</span>&nbsp;<span class="string" id="7255134">&#34;world&#34;</span><span class="op" id="7255141">}</span><span class="op" id="7255142">}</span><span class="op" id="7255143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255147">ns</span><span class="op" id="7255149">:</span>&nbsp;&nbsp;<span class="string" id="7255152">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7255181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255184">}</span><span class="op" id="7255185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255192">xml</span><span class="op" id="7255195">:</span>&nbsp;<span class="string" id="7255197">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7255219">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7255224">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7255241">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7255246">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7255263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255267">tab</span><span class="op" id="7255270">:</span>&nbsp;<span class="ident" id="7255272">TableAttrs</span><span class="op" id="7255282">{</span><span class="op" id="7255283">}</span><span class="op" id="7255284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255288">ns</span><span class="op" id="7255290">:</span>&nbsp;&nbsp;<span class="string" id="7255293">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7255318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255321">}</span><span class="op" id="7255322">,</span><br>
<span class="lineno">580</span><span class="op" id="7255324">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7255327">func</span>&nbsp;<span class="ident" id="7255332">TestUnmarshalNSAttr</span><span class="op" id="7255351">(</span><span class="ident" id="7255352">t</span>&nbsp;<span class="op" id="7255354">*</span><span class="ident" id="7255355">testing</span><span class="op" id="7255362">.</span><span class="ident" id="7255363">T</span><span class="op" id="7255364">)</span>&nbsp;<span class="op" id="7255366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255369">for</span>&nbsp;<span class="ident" id="7255373">i</span><span class="op" id="7255374">,</span>&nbsp;<span class="ident" id="7255376">tt</span>&nbsp;<span class="op" id="7255379">:=</span>&nbsp;<span class="keyword" id="7255382">range</span>&nbsp;<span class="ident" id="7255388">tableAttrs</span>&nbsp;<span class="op" id="7255399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255403">var</span>&nbsp;<span class="ident" id="7255407">dst</span>&nbsp;<span class="ident" id="7255411">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255424">var</span>&nbsp;<span class="ident" id="7255428">err</span>&nbsp;<span class="builtintype" id="7255432">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255440">if</span>&nbsp;<span class="ident" id="7255443">tt</span><span class="op" id="7255445">.</span><span class="ident" id="7255446">ns</span>&nbsp;<span class="op" id="7255449">!=</span>&nbsp;<span class="string" id="7255452">&#34;&#34;</span>&nbsp;<span class="op" id="7255455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255460">d</span>&nbsp;<span class="op" id="7255462">:=</span>&nbsp;<span class="ident" id="7255465">NewDecoder</span><span class="op" id="7255475">(</span><span class="ident" id="7255476">strings</span><span class="op" id="7255483">.</span><span class="ident" id="7255484">NewReader</span><span class="op" id="7255493">(</span><span class="ident" id="7255494">tt</span><span class="op" id="7255496">.</span><span class="ident" id="7255497">xml</span><span class="op" id="7255500">)</span><span class="op" id="7255501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255506">d</span><span class="op" id="7255507">.</span><span class="ident" id="7255508">DefaultSpace</span>&nbsp;<span class="op" id="7255521">=</span>&nbsp;<span class="ident" id="7255523">tt</span><span class="op" id="7255525">.</span><span class="ident" id="7255526">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255532">err</span>&nbsp;<span class="op" id="7255536">=</span>&nbsp;<span class="ident" id="7255538">d</span><span class="op" id="7255539">.</span><span class="ident" id="7255540">Decode</span><span class="op" id="7255546">(</span><span class="op" id="7255547">&amp;</span><span class="ident" id="7255548">dst</span><span class="op" id="7255551">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255555">}</span>&nbsp;<span class="keyword" id="7255557">else</span>&nbsp;<span class="op" id="7255562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255567">err</span>&nbsp;<span class="op" id="7255571">=</span>&nbsp;<span class="ident" id="7255573">Unmarshal</span><span class="op" id="7255582">(</span><span class="op" id="7255583">[</span><span class="op" id="7255584">]</span><span class="builtintype" id="7255585">byte</span><span class="op" id="7255589">(</span><span class="ident" id="7255590">tt</span><span class="op" id="7255592">.</span><span class="ident" id="7255593">xml</span><span class="op" id="7255596">)</span><span class="op" id="7255597">,</span>&nbsp;<span class="op" id="7255599">&amp;</span><span class="ident" id="7255600">dst</span><span class="op" id="7255603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255611">if</span>&nbsp;<span class="ident" id="7255614">err</span>&nbsp;<span class="op" id="7255618">!=</span>&nbsp;<span class="builtintype" id="7255621">nil</span>&nbsp;<span class="op" id="7255625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255630">t</span><span class="op" id="7255631">.</span><span class="ident" id="7255632">Errorf</span><span class="op" id="7255638">(</span><span class="string" id="7255639">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7255659">,</span>&nbsp;<span class="ident" id="7255661">i</span><span class="op" id="7255662">,</span>&nbsp;<span class="ident" id="7255664">err</span><span class="op" id="7255667">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255672">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255687">want</span>&nbsp;<span class="op" id="7255692">:=</span>&nbsp;<span class="ident" id="7255695">tt</span><span class="op" id="7255697">.</span><span class="ident" id="7255698">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255704">if</span>&nbsp;<span class="ident" id="7255707">dst</span>&nbsp;<span class="op" id="7255711">!=</span>&nbsp;<span class="ident" id="7255714">want</span>&nbsp;<span class="op" id="7255719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255724">t</span><span class="op" id="7255725">.</span><span class="ident" id="7255726">Errorf</span><span class="op" id="7255732">(</span><span class="string" id="7255733">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7255757">,</span>&nbsp;<span class="ident" id="7255759">i</span><span class="op" id="7255760">,</span>&nbsp;<span class="ident" id="7255762">dst</span><span class="op" id="7255765">,</span>&nbsp;<span class="ident" id="7255767">want</span><span class="op" id="7255771">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255778">}</span><br>
<span class="lineno"></span><span class="op" id="7255780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7255783">func</span>&nbsp;<span class="ident" id="7255788">TestMarshalNSAttr</span><span class="op" id="7255805">(</span><span class="ident" id="7255806">t</span>&nbsp;<span class="op" id="7255808">*</span><span class="ident" id="7255809">testing</span><span class="op" id="7255816">.</span><span class="ident" id="7255817">T</span><span class="op" id="7255818">)</span>&nbsp;<span class="op" id="7255820">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255823">src</span>&nbsp;<span class="op" id="7255827">:=</span>&nbsp;<span class="ident" id="7255830">TableAttrs</span><span class="op" id="7255840">{</span><span class="ident" id="7255841">TAttr</span><span class="op" id="7255846">{</span><span class="string" id="7255847">&#34;hello&#34;</span><span class="op" id="7255854">,</span>&nbsp;<span class="string" id="7255856">&#34;world&#34;</span><span class="op" id="7255863">,</span>&nbsp;<span class="string" id="7255865">&#34;en_US&#34;</span><span class="op" id="7255872">,</span>&nbsp;<span class="string" id="7255874">&#34;other1&#34;</span><span class="op" id="7255882">,</span>&nbsp;<span class="string" id="7255884">&#34;other2&#34;</span><span class="op" id="7255892">,</span>&nbsp;<span class="string" id="7255894">&#34;other3&#34;</span><span class="op" id="7255902">,</span>&nbsp;<span class="string" id="7255904">&#34;other4&#34;</span><span class="op" id="7255912">}</span><span class="op" id="7255913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255916">data</span><span class="op" id="7255920">,</span>&nbsp;<span class="ident" id="7255922">err</span>&nbsp;<span class="op" id="7255926">:=</span>&nbsp;<span class="ident" id="7255929">Marshal</span><span class="op" id="7255936">(</span><span class="op" id="7255937">&amp;</span><span class="ident" id="7255938">src</span><span class="op" id="7255941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7255944">if</span>&nbsp;<span class="ident" id="7255947">err</span>&nbsp;<span class="op" id="7255951">!=</span>&nbsp;<span class="builtintype" id="7255954">nil</span>&nbsp;<span class="op" id="7255958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255962">t</span><span class="op" id="7255963">.</span><span class="ident" id="7255964">Fatalf</span><span class="op" id="7255970">(</span><span class="string" id="7255971">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7255984">,</span>&nbsp;<span class="ident" id="7255986">err</span><span class="op" id="7255989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7255992">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7255995">want</span>&nbsp;<span class="op" id="7256000">:=</span>&nbsp;<span class="string" id="7256003">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256444">str</span>&nbsp;<span class="op" id="7256448">:=</span>&nbsp;<span class="builtintype" id="7256451">string</span><span class="op" id="7256457">(</span><span class="ident" id="7256458">data</span><span class="op" id="7256462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256465">if</span>&nbsp;<span class="ident" id="7256468">str</span>&nbsp;<span class="op" id="7256472">!=</span>&nbsp;<span class="ident" id="7256475">want</span>&nbsp;<span class="op" id="7256480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256484">t</span><span class="op" id="7256485">.</span><span class="ident" id="7256486">Errorf</span><span class="op" id="7256492">(</span><span class="string" id="7256493">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="7256527">,</span>&nbsp;<span class="ident" id="7256529">str</span><span class="op" id="7256532">,</span>&nbsp;<span class="ident" id="7256534">want</span><span class="op" id="7256538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256541">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256545">var</span>&nbsp;<span class="ident" id="7256549">dst</span>&nbsp;<span class="ident" id="7256553">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256565">if</span>&nbsp;<span class="ident" id="7256568">err</span>&nbsp;<span class="op" id="7256572">:=</span>&nbsp;<span class="ident" id="7256575">Unmarshal</span><span class="op" id="7256584">(</span><span class="ident" id="7256585">data</span><span class="op" id="7256589">,</span>&nbsp;<span class="op" id="7256591">&amp;</span><span class="ident" id="7256592">dst</span><span class="op" id="7256595">)</span><span class="op" id="7256596">;</span>&nbsp;<span class="ident" id="7256598">err</span>&nbsp;<span class="op" id="7256602">!=</span>&nbsp;<span class="builtintype" id="7256605">nil</span>&nbsp;<span class="op" id="7256609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256613">t</span><span class="op" id="7256614">.</span><span class="ident" id="7256615">Errorf</span><span class="op" id="7256621">(</span><span class="string" id="7256622">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7256637">,</span>&nbsp;<span class="ident" id="7256639">err</span><span class="op" id="7256642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256645">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256649">if</span>&nbsp;<span class="ident" id="7256652">dst</span>&nbsp;<span class="op" id="7256656">!=</span>&nbsp;<span class="ident" id="7256659">src</span>&nbsp;<span class="op" id="7256663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256667">t</span><span class="op" id="7256668">.</span><span class="ident" id="7256669">Errorf</span><span class="op" id="7256675">(</span><span class="string" id="7256676">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7256701">,</span>&nbsp;<span class="ident" id="7256703">dst</span><span class="op" id="7256706">,</span>&nbsp;<span class="ident" id="7256708">src</span><span class="op" id="7256711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256714">}</span><br>
<span class="lineno"></span><span class="op" id="7256716">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="7256719">type</span>&nbsp;<span class="ident" id="7256724">MyCharData</span>&nbsp;<span class="keyword" id="7256735">struct</span>&nbsp;<span class="op" id="7256742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256745">body</span>&nbsp;<span class="builtintype" id="7256750">string</span><br>
<span class="lineno"></span><span class="op" id="7256757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="7256760">func</span>&nbsp;<span class="op" id="7256765">(</span><span class="ident" id="7256766">m</span>&nbsp;<span class="op" id="7256768">*</span><span class="ident" id="7256769">MyCharData</span><span class="op" id="7256779">)</span>&nbsp;<span class="ident" id="7256781">UnmarshalXML</span><span class="op" id="7256793">(</span><span class="ident" id="7256794">d</span>&nbsp;<span class="op" id="7256796">*</span><span class="ident" id="7256797">Decoder</span><span class="op" id="7256804">,</span>&nbsp;<span class="ident" id="7256806">start</span>&nbsp;<span class="ident" id="7256812">StartElement</span><span class="op" id="7256824">)</span>&nbsp;<span class="builtintype" id="7256826">error</span>&nbsp;<span class="op" id="7256832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256835">for</span>&nbsp;<span class="op" id="7256839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256843">t</span><span class="op" id="7256844">,</span>&nbsp;<span class="ident" id="7256846">err</span>&nbsp;<span class="op" id="7256850">:=</span>&nbsp;<span class="ident" id="7256853">d</span><span class="op" id="7256854">.</span><span class="ident" id="7256855">Token</span><span class="op" id="7256860">(</span><span class="op" id="7256861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256865">if</span>&nbsp;<span class="ident" id="7256868">err</span>&nbsp;<span class="op" id="7256872">==</span>&nbsp;<span class="ident" id="7256875">io</span><span class="op" id="7256877">.</span><span class="ident" id="7256878">EOF</span>&nbsp;<span class="op" id="7256882">{</span>&nbsp;<span class="comment" id="7256884">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256911">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256923">if</span>&nbsp;<span class="ident" id="7256926">err</span>&nbsp;<span class="op" id="7256930">!=</span>&nbsp;<span class="builtintype" id="7256933">nil</span>&nbsp;<span class="op" id="7256937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256942">return</span>&nbsp;<span class="ident" id="7256949">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7256959">if</span>&nbsp;<span class="ident" id="7256962">char</span><span class="op" id="7256966">,</span>&nbsp;<span class="ident" id="7256968">ok</span>&nbsp;<span class="op" id="7256971">:=</span>&nbsp;<span class="ident" id="7256974">t</span><span class="op" id="7256975">.</span><span class="op" id="7256976">(</span><span class="ident" id="7256977">CharData</span><span class="op" id="7256985">)</span><span class="op" id="7256986">;</span>&nbsp;<span class="ident" id="7256988">ok</span>&nbsp;<span class="op" id="7256991">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256996">m</span><span class="op" id="7256997">.</span><span class="ident" id="7256998">body</span>&nbsp;<span class="op" id="7257003">+=</span>&nbsp;<span class="builtintype" id="7257006">string</span><span class="op" id="7257012">(</span><span class="ident" id="7257013">char</span><span class="op" id="7257017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257027">return</span>&nbsp;<span class="builtintype" id="7257034">nil</span><br>
<span class="lineno"></span><span class="op" id="7257038">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="7257041">var</span>&nbsp;<span class="ident" id="7257045">_</span>&nbsp;<span class="ident" id="7257047">Unmarshaler</span>&nbsp;<span class="op" id="7257059">=</span>&nbsp;<span class="op" id="7257061">(</span><span class="op" id="7257062">*</span><span class="ident" id="7257063">MyCharData</span><span class="op" id="7257073">)</span><span class="op" id="7257074">(</span><span class="builtintype" id="7257075">nil</span><span class="op" id="7257078">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257081">func</span>&nbsp;<span class="op" id="7257086">(</span><span class="ident" id="7257087">m</span>&nbsp;<span class="op" id="7257089">*</span><span class="ident" id="7257090">MyCharData</span><span class="op" id="7257100">)</span>&nbsp;<span class="ident" id="7257102">UnmarshalXMLAttr</span><span class="op" id="7257118">(</span><span class="ident" id="7257119">attr</span>&nbsp;<span class="ident" id="7257124">Attr</span><span class="op" id="7257128">)</span>&nbsp;<span class="builtintype" id="7257130">error</span>&nbsp;<span class="op" id="7257136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="7257139">panic</span><span class="op" id="7257144">(</span><span class="string" id="7257145">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="7257160">)</span><br>
<span class="lineno">650</span><span class="op" id="7257162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257165">type</span>&nbsp;<span class="ident" id="7257170">MyAttr</span>&nbsp;<span class="keyword" id="7257177">struct</span>&nbsp;<span class="op" id="7257184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257187">attr</span>&nbsp;<span class="builtintype" id="7257192">string</span><br>
<span class="lineno"></span><span class="op" id="7257199">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="7257202">func</span>&nbsp;<span class="op" id="7257207">(</span><span class="ident" id="7257208">m</span>&nbsp;<span class="op" id="7257210">*</span><span class="ident" id="7257211">MyAttr</span><span class="op" id="7257217">)</span>&nbsp;<span class="ident" id="7257219">UnmarshalXMLAttr</span><span class="op" id="7257235">(</span><span class="ident" id="7257236">attr</span>&nbsp;<span class="ident" id="7257241">Attr</span><span class="op" id="7257245">)</span>&nbsp;<span class="builtintype" id="7257247">error</span>&nbsp;<span class="op" id="7257253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257256">m</span><span class="op" id="7257257">.</span><span class="ident" id="7257258">attr</span>&nbsp;<span class="op" id="7257263">=</span>&nbsp;<span class="ident" id="7257265">attr</span><span class="op" id="7257269">.</span><span class="ident" id="7257270">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257277">return</span>&nbsp;<span class="builtintype" id="7257284">nil</span><br>
<span class="lineno"></span><span class="op" id="7257288">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7257291">var</span>&nbsp;<span class="ident" id="7257295">_</span>&nbsp;<span class="ident" id="7257297">UnmarshalerAttr</span>&nbsp;<span class="op" id="7257313">=</span>&nbsp;<span class="op" id="7257315">(</span><span class="op" id="7257316">*</span><span class="ident" id="7257317">MyAttr</span><span class="op" id="7257323">)</span><span class="op" id="7257324">(</span><span class="builtintype" id="7257325">nil</span><span class="op" id="7257328">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257331">type</span>&nbsp;<span class="ident" id="7257336">MyStruct</span>&nbsp;<span class="keyword" id="7257345">struct</span>&nbsp;<span class="op" id="7257352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257355">Data</span>&nbsp;<span class="op" id="7257360">*</span><span class="ident" id="7257361">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257373">Attr</span>&nbsp;<span class="op" id="7257378">*</span><span class="ident" id="7257379">MyAttr</span>&nbsp;<span class="string" id="7257386">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257402">Data2</span>&nbsp;<span class="ident" id="7257408">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257420">Attr2</span>&nbsp;<span class="ident" id="7257426">MyAttr</span>&nbsp;<span class="string" id="7257433">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7257447">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="7257450">func</span>&nbsp;<span class="ident" id="7257455">TestUnmarshaler</span><span class="op" id="7257470">(</span><span class="ident" id="7257471">t</span>&nbsp;<span class="op" id="7257473">*</span><span class="ident" id="7257474">testing</span><span class="op" id="7257481">.</span><span class="ident" id="7257482">T</span><span class="op" id="7257483">)</span>&nbsp;<span class="op" id="7257485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257488">xml</span>&nbsp;<span class="op" id="7257492">:=</span>&nbsp;<span class="string" id="7257495">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257682">var</span>&nbsp;<span class="ident" id="7257686">m</span>&nbsp;<span class="ident" id="7257688">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257698">if</span>&nbsp;<span class="ident" id="7257701">err</span>&nbsp;<span class="op" id="7257705">:=</span>&nbsp;<span class="ident" id="7257708">Unmarshal</span><span class="op" id="7257717">(</span><span class="op" id="7257718">[</span><span class="op" id="7257719">]</span><span class="builtintype" id="7257720">byte</span><span class="op" id="7257724">(</span><span class="ident" id="7257725">xml</span><span class="op" id="7257728">)</span><span class="op" id="7257729">,</span>&nbsp;<span class="op" id="7257731">&amp;</span><span class="ident" id="7257732">m</span><span class="op" id="7257733">)</span><span class="op" id="7257734">;</span>&nbsp;<span class="ident" id="7257736">err</span>&nbsp;<span class="op" id="7257740">!=</span>&nbsp;<span class="builtintype" id="7257743">nil</span>&nbsp;<span class="op" id="7257747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257751">t</span><span class="op" id="7257752">.</span><span class="ident" id="7257753">Fatal</span><span class="op" id="7257758">(</span><span class="ident" id="7257759">err</span><span class="op" id="7257762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7257769">if</span>&nbsp;<span class="ident" id="7257772">m</span><span class="op" id="7257773">.</span><span class="ident" id="7257774">Data</span>&nbsp;<span class="op" id="7257779">==</span>&nbsp;<span class="builtintype" id="7257782">nil</span>&nbsp;<span class="op" id="7257786">||</span>&nbsp;<span class="ident" id="7257789">m</span><span class="op" id="7257790">.</span><span class="ident" id="7257791">Attr</span>&nbsp;<span class="op" id="7257796">==</span>&nbsp;<span class="builtintype" id="7257799">nil</span>&nbsp;<span class="op" id="7257803">||</span>&nbsp;<span class="ident" id="7257806">m</span><span class="op" id="7257807">.</span><span class="ident" id="7257808">Data</span><span class="op" id="7257812">.</span><span class="ident" id="7257813">body</span>&nbsp;<span class="op" id="7257818">!=</span>&nbsp;<span class="string" id="7257821">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="7257835">||</span>&nbsp;<span class="ident" id="7257838">m</span><span class="op" id="7257839">.</span><span class="ident" id="7257840">Attr</span><span class="op" id="7257844">.</span><span class="ident" id="7257845">attr</span>&nbsp;<span class="op" id="7257850">!=</span>&nbsp;<span class="string" id="7257853">&#34;attr1&#34;</span>&nbsp;<span class="op" id="7257861">||</span>&nbsp;<span class="ident" id="7257864">m</span><span class="op" id="7257865">.</span><span class="ident" id="7257866">Data2</span><span class="op" id="7257871">.</span><span class="ident" id="7257872">body</span>&nbsp;<span class="op" id="7257877">!=</span>&nbsp;<span class="string" id="7257880">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="7257894">||</span>&nbsp;<span class="ident" id="7257897">m</span><span class="op" id="7257898">.</span><span class="ident" id="7257899">Attr2</span><span class="op" id="7257904">.</span><span class="ident" id="7257905">attr</span>&nbsp;<span class="op" id="7257910">!=</span>&nbsp;<span class="string" id="7257913">&#34;attr2&#34;</span>&nbsp;<span class="op" id="7257921">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257925">t</span><span class="op" id="7257926">.</span><span class="ident" id="7257927">Errorf</span><span class="op" id="7257933">(</span><span class="string" id="7257934">&#34;m=%#+v\n&#34;</span><span class="op" id="7257944">,</span>&nbsp;<span class="ident" id="7257946">m</span><span class="op" id="7257947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257950">}</span><br>
<span class="lineno"></span><span class="op" id="7257952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257955">type</span>&nbsp;<span class="ident" id="7257960">Pea</span>&nbsp;<span class="keyword" id="7257964">struct</span>&nbsp;<span class="op" id="7257971">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7257974">Cotelydon</span>&nbsp;<span class="builtintype" id="7257984">string</span><br>
<span class="lineno"></span><span class="op" id="7257991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7257994">type</span>&nbsp;<span class="ident" id="7257999">Pod</span>&nbsp;<span class="keyword" id="7258003">struct</span>&nbsp;<span class="op" id="7258010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258013">Pea</span>&nbsp;<span class="keyword" id="7258017">interface</span><span class="op" id="7258026">{</span><span class="op" id="7258027">}</span>&nbsp;<span class="string" id="7258029">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="7258041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7258044">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="7258098">func</span>&nbsp;<span class="ident" id="7258103">TestUnmarshalIntoInterface</span><span class="op" id="7258129">(</span><span class="ident" id="7258130">t</span>&nbsp;<span class="op" id="7258132">*</span><span class="ident" id="7258133">testing</span><span class="op" id="7258140">.</span><span class="ident" id="7258141">T</span><span class="op" id="7258142">)</span>&nbsp;<span class="op" id="7258144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258147">pod</span>&nbsp;<span class="op" id="7258151">:=</span>&nbsp;<span class="builtinfunc" id="7258154">new</span><span class="op" id="7258157">(</span><span class="ident" id="7258158">Pod</span><span class="op" id="7258161">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258164">pod</span><span class="op" id="7258167">.</span><span class="ident" id="7258168">Pea</span>&nbsp;<span class="op" id="7258172">=</span>&nbsp;<span class="builtinfunc" id="7258174">new</span><span class="op" id="7258177">(</span><span class="ident" id="7258178">Pea</span><span class="op" id="7258181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258184">xml</span>&nbsp;<span class="op" id="7258188">:=</span>&nbsp;<span class="string" id="7258191">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258251">err</span>&nbsp;<span class="op" id="7258255">:=</span>&nbsp;<span class="ident" id="7258258">Unmarshal</span><span class="op" id="7258267">(</span><span class="op" id="7258268">[</span><span class="op" id="7258269">]</span><span class="builtintype" id="7258270">byte</span><span class="op" id="7258274">(</span><span class="ident" id="7258275">xml</span><span class="op" id="7258278">)</span><span class="op" id="7258279">,</span>&nbsp;<span class="ident" id="7258281">pod</span><span class="op" id="7258284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7258287">if</span>&nbsp;<span class="ident" id="7258290">err</span>&nbsp;<span class="op" id="7258294">!=</span>&nbsp;<span class="builtintype" id="7258297">nil</span>&nbsp;<span class="op" id="7258301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258305">t</span><span class="op" id="7258306">.</span><span class="ident" id="7258307">Fatalf</span><span class="op" id="7258313">(</span><span class="string" id="7258314">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7258342">,</span>&nbsp;<span class="ident" id="7258344">xml</span><span class="op" id="7258347">,</span>&nbsp;<span class="ident" id="7258349">err</span><span class="op" id="7258352">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258358">pea</span><span class="op" id="7258361">,</span>&nbsp;<span class="ident" id="7258363">ok</span>&nbsp;<span class="op" id="7258366">:=</span>&nbsp;<span class="ident" id="7258369">pod</span><span class="op" id="7258372">.</span><span class="ident" id="7258373">Pea</span><span class="op" id="7258376">.</span><span class="op" id="7258377">(</span><span class="op" id="7258378">*</span><span class="ident" id="7258379">Pea</span><span class="op" id="7258382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7258385">if</span>&nbsp;<span class="op" id="7258388">!</span><span class="ident" id="7258389">ok</span>&nbsp;<span class="op" id="7258392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258396">t</span><span class="op" id="7258397">.</span><span class="ident" id="7258398">Fatalf</span><span class="op" id="7258404">(</span><span class="string" id="7258405">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="7258454">,</span>&nbsp;<span class="ident" id="7258456">pod</span><span class="op" id="7258459">.</span><span class="ident" id="7258460">Pea</span><span class="op" id="7258463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258466">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258469">have</span><span class="op" id="7258473">,</span>&nbsp;<span class="ident" id="7258475">want</span>&nbsp;<span class="op" id="7258480">:=</span>&nbsp;<span class="ident" id="7258483">pea</span><span class="op" id="7258486">.</span><span class="ident" id="7258487">Cotelydon</span><span class="op" id="7258496">,</span>&nbsp;<span class="string" id="7258498">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7258513">if</span>&nbsp;<span class="ident" id="7258516">have</span>&nbsp;<span class="op" id="7258521">!=</span>&nbsp;<span class="ident" id="7258524">want</span>&nbsp;<span class="op" id="7258529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7258533">t</span><span class="op" id="7258534">.</span><span class="ident" id="7258535">Errorf</span><span class="op" id="7258541">(</span><span class="string" id="7258542">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7258595">,</span>&nbsp;<span class="ident" id="7258597">have</span><span class="op" id="7258601">,</span>&nbsp;<span class="ident" id="7258603">want</span><span class="op" id="7258607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258610">}</span><br>
<span class="lineno"></span><span class="op" id="7258612">}</span>
</div>
</body>
</html>
