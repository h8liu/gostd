<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path/filepath</h2>
<ul>
<li><a href="/gostd/path/filepath/example_unix_test.go.html">example_unix_test.go</a></li>
<li><a href="/gostd/path/filepath/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/path/filepath/match.go.html">match.go</a></li>
<li><a href="/gostd/path/filepath/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/filepath/path.go.html">path.go</a></li>
<li><a href="/gostd/path/filepath/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/path/filepath/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/path/filepath/symlink.go.html" class="current">symlink.go</a></li>
<li><a href="/gostd/path/filepath/symlink_unix.go.html">symlink_unix.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3166075">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3166130">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3166184">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3166235">package</span>&nbsp;<span class="ident" id="3166243">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3166253">import</span>&nbsp;<span class="op" id="3166260">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3166263">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3166272">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3166282">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3166287">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3166290">const</span>&nbsp;<span class="ident" id="3166296">utf8RuneSelf</span>&nbsp;<span class="op" id="3166309">=</span>&nbsp;<span class="num" id="3166311">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3166317">func</span>&nbsp;<span class="ident" id="3166322">walkSymlinks</span><span class="op" id="3166334">(</span><span class="ident" id="3166335">path</span>&nbsp;<span class="builtintype" id="3166340">string</span><span class="op" id="3166346">)</span>&nbsp;<span class="op" id="3166348">(</span><span class="builtintype" id="3166349">string</span><span class="op" id="3166355">,</span>&nbsp;<span class="builtintype" id="3166357">error</span><span class="op" id="3166362">)</span>&nbsp;<span class="op" id="3166364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166367">const</span>&nbsp;<span class="ident" id="3166373">maxIter</span>&nbsp;<span class="op" id="3166381">=</span>&nbsp;<span class="num" id="3166383">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166388">originalPath</span>&nbsp;<span class="op" id="3166401">:=</span>&nbsp;<span class="ident" id="3166404">path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3166410">//&nbsp;consume&nbsp;path&nbsp;by&nbsp;taking&nbsp;each&nbsp;frontmost&nbsp;path&nbsp;element,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3166466">//&nbsp;expanding&nbsp;it&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;and&nbsp;appending&nbsp;it&nbsp;to&nbsp;b</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166524">var</span>&nbsp;<span class="ident" id="3166528">b</span>&nbsp;<span class="ident" id="3166530">bytes</span><span class="op" id="3166535">.</span><span class="ident" id="3166536">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166544">for</span>&nbsp;<span class="ident" id="3166548">n</span>&nbsp;<span class="op" id="3166550">:=</span>&nbsp;<span class="num" id="3166553">0</span><span class="op" id="3166554">;</span>&nbsp;<span class="ident" id="3166556">path</span>&nbsp;<span class="op" id="3166561">!=</span>&nbsp;<span class="string" id="3166564">&#34;&#34;</span><span class="op" id="3166566">;</span>&nbsp;<span class="ident" id="3166568">n</span><span class="op" id="3166569">++</span>&nbsp;<span class="op" id="3166572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166576">if</span>&nbsp;<span class="ident" id="3166579">n</span>&nbsp;<span class="op" id="3166581">&gt;</span>&nbsp;<span class="ident" id="3166583">maxIter</span>&nbsp;<span class="op" id="3166591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166596">return</span>&nbsp;<span class="string" id="3166603">&#34;&#34;</span><span class="op" id="3166605">,</span>&nbsp;<span class="ident" id="3166607">errors</span><span class="op" id="3166613">.</span><span class="ident" id="3166614">New</span><span class="op" id="3166617">(</span><span class="string" id="3166618">&#34;EvalSymlinks:&nbsp;too&nbsp;many&nbsp;links&nbsp;in&nbsp;&#34;</span>&nbsp;<span class="op" id="3166653">+</span>&nbsp;<span class="ident" id="3166655">originalPath</span><span class="op" id="3166667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166671">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3166676">//&nbsp;find&nbsp;next&nbsp;path&nbsp;component,&nbsp;p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166709">var</span>&nbsp;<span class="ident" id="3166713">i</span>&nbsp;<span class="op" id="3166715">=</span>&nbsp;<span class="op" id="3166717">-</span><span class="num" id="3166718">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166722">for</span>&nbsp;<span class="ident" id="3166726">j</span><span class="op" id="3166727">,</span>&nbsp;<span class="ident" id="3166729">c</span>&nbsp;<span class="op" id="3166731">:=</span>&nbsp;<span class="keyword" id="3166734">range</span>&nbsp;<span class="ident" id="3166740">path</span>&nbsp;<span class="op" id="3166745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166750">if</span>&nbsp;<span class="ident" id="3166753">c</span>&nbsp;<span class="op" id="3166755">&lt;</span>&nbsp;<span class="ident" id="3166757">utf8RuneSelf</span>&nbsp;<span class="op" id="3166770">&amp;&amp;</span>&nbsp;<span class="ident" id="3166773">os</span><span class="op" id="3166775">.</span><span class="ident" id="3166776">IsPathSeparator</span><span class="op" id="3166791">(</span><span class="builtintype" id="3166792">uint8</span><span class="op" id="3166797">(</span><span class="ident" id="3166798">c</span><span class="op" id="3166799">)</span><span class="op" id="3166800">)</span>&nbsp;<span class="op" id="3166802">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166808">i</span>&nbsp;<span class="op" id="3166810">=</span>&nbsp;<span class="ident" id="3166812">j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166818">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166831">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166835">var</span>&nbsp;<span class="ident" id="3166839">p</span>&nbsp;<span class="builtintype" id="3166841">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166850">if</span>&nbsp;<span class="ident" id="3166853">i</span>&nbsp;<span class="op" id="3166855">==</span>&nbsp;<span class="op" id="3166858">-</span><span class="num" id="3166859">1</span>&nbsp;<span class="op" id="3166861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166866">p</span><span class="op" id="3166867">,</span>&nbsp;<span class="ident" id="3166869">path</span>&nbsp;<span class="op" id="3166874">=</span>&nbsp;<span class="ident" id="3166876">path</span><span class="op" id="3166880">,</span>&nbsp;<span class="string" id="3166882">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166887">}</span>&nbsp;<span class="keyword" id="3166889">else</span>&nbsp;<span class="op" id="3166894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3166899">p</span><span class="op" id="3166900">,</span>&nbsp;<span class="ident" id="3166902">path</span>&nbsp;<span class="op" id="3166907">=</span>&nbsp;<span class="ident" id="3166909">path</span><span class="op" id="3166913">[</span><span class="op" id="3166914">:</span><span class="ident" id="3166915">i</span><span class="op" id="3166916">]</span><span class="op" id="3166917">,</span>&nbsp;<span class="ident" id="3166919">path</span><span class="op" id="3166923">[</span><span class="ident" id="3166924">i</span><span class="op" id="3166925">+</span><span class="num" id="3166926">1</span><span class="op" id="3166927">:</span><span class="op" id="3166928">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3166932">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166937">if</span>&nbsp;<span class="ident" id="3166940">p</span>&nbsp;<span class="op" id="3166942">==</span>&nbsp;<span class="string" id="3166945">&#34;&#34;</span>&nbsp;<span class="op" id="3166948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3166953">if</span>&nbsp;<span class="ident" id="3166956">b</span><span class="op" id="3166957">.</span><span class="ident" id="3166958">Len</span><span class="op" id="3166961">(</span><span class="op" id="3166962">)</span>&nbsp;<span class="op" id="3166964">==</span>&nbsp;<span class="num" id="3166967">0</span>&nbsp;<span class="op" id="3166969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3166975">//&nbsp;must&nbsp;be&nbsp;absolute&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167004">b</span><span class="op" id="3167005">.</span><span class="ident" id="3167006">WriteRune</span><span class="op" id="3167015">(</span><span class="ident" id="3167016">Separator</span><span class="op" id="3167025">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167035">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167051">fi</span><span class="op" id="3167053">,</span>&nbsp;<span class="ident" id="3167055">err</span>&nbsp;<span class="op" id="3167059">:=</span>&nbsp;<span class="ident" id="3167062">os</span><span class="op" id="3167064">.</span><span class="ident" id="3167065">Lstat</span><span class="op" id="3167070">(</span><span class="ident" id="3167071">b</span><span class="op" id="3167072">.</span><span class="ident" id="3167073">String</span><span class="op" id="3167079">(</span><span class="op" id="3167080">)</span>&nbsp;<span class="op" id="3167082">+</span>&nbsp;<span class="ident" id="3167084">p</span><span class="op" id="3167085">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167089">if</span>&nbsp;<span class="ident" id="3167092">err</span>&nbsp;<span class="op" id="3167096">!=</span>&nbsp;<span class="builtintype" id="3167099">nil</span>&nbsp;<span class="op" id="3167103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167108">return</span>&nbsp;<span class="string" id="3167115">&#34;&#34;</span><span class="op" id="3167117">,</span>&nbsp;<span class="ident" id="3167119">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167129">if</span>&nbsp;<span class="ident" id="3167132">fi</span><span class="op" id="3167134">.</span><span class="ident" id="3167135">Mode</span><span class="op" id="3167139">(</span><span class="op" id="3167140">)</span><span class="op" id="3167141">&amp;</span><span class="ident" id="3167142">os</span><span class="op" id="3167144">.</span><span class="ident" id="3167145">ModeSymlink</span>&nbsp;<span class="op" id="3167157">==</span>&nbsp;<span class="num" id="3167160">0</span>&nbsp;<span class="op" id="3167162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167167">b</span><span class="op" id="3167168">.</span><span class="ident" id="3167169">WriteString</span><span class="op" id="3167180">(</span><span class="ident" id="3167181">p</span><span class="op" id="3167182">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167187">if</span>&nbsp;<span class="ident" id="3167190">path</span>&nbsp;<span class="op" id="3167195">!=</span>&nbsp;<span class="string" id="3167198">&#34;&#34;</span>&nbsp;<span class="op" id="3167201">||</span>&nbsp;<span class="op" id="3167204">(</span><span class="ident" id="3167205">b</span><span class="op" id="3167206">.</span><span class="ident" id="3167207">Len</span><span class="op" id="3167210">(</span><span class="op" id="3167211">)</span>&nbsp;<span class="op" id="3167213">==</span>&nbsp;<span class="num" id="3167216">2</span>&nbsp;<span class="op" id="3167218">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3167221">len</span><span class="op" id="3167224">(</span><span class="ident" id="3167225">p</span><span class="op" id="3167226">)</span>&nbsp;<span class="op" id="3167228">==</span>&nbsp;<span class="num" id="3167231">2</span>&nbsp;<span class="op" id="3167233">&amp;&amp;</span>&nbsp;<span class="ident" id="3167236">p</span><span class="op" id="3167237">[</span><span class="num" id="3167238">1</span><span class="op" id="3167239">]</span>&nbsp;<span class="op" id="3167241">==</span>&nbsp;<span class="string" id="3167244">&#39;:&#39;</span><span class="op" id="3167247">)</span>&nbsp;<span class="op" id="3167249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167255">b</span><span class="op" id="3167256">.</span><span class="ident" id="3167257">WriteRune</span><span class="op" id="3167266">(</span><span class="ident" id="3167267">Separator</span><span class="op" id="3167276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167286">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167297">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3167302">//&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;put&nbsp;it&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167351">dest</span><span class="op" id="3167355">,</span>&nbsp;<span class="ident" id="3167357">err</span>&nbsp;<span class="op" id="3167361">:=</span>&nbsp;<span class="ident" id="3167364">os</span><span class="op" id="3167366">.</span><span class="ident" id="3167367">Readlink</span><span class="op" id="3167375">(</span><span class="ident" id="3167376">b</span><span class="op" id="3167377">.</span><span class="ident" id="3167378">String</span><span class="op" id="3167384">(</span><span class="op" id="3167385">)</span>&nbsp;<span class="op" id="3167387">+</span>&nbsp;<span class="ident" id="3167389">p</span><span class="op" id="3167390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167394">if</span>&nbsp;<span class="ident" id="3167397">err</span>&nbsp;<span class="op" id="3167401">!=</span>&nbsp;<span class="builtintype" id="3167404">nil</span>&nbsp;<span class="op" id="3167408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167413">return</span>&nbsp;<span class="string" id="3167420">&#34;&#34;</span><span class="op" id="3167422">,</span>&nbsp;<span class="ident" id="3167424">err</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167434">if</span>&nbsp;<span class="ident" id="3167437">IsAbs</span><span class="op" id="3167442">(</span><span class="ident" id="3167443">dest</span><span class="op" id="3167447">)</span>&nbsp;<span class="op" id="3167449">||</span>&nbsp;<span class="ident" id="3167452">os</span><span class="op" id="3167454">.</span><span class="ident" id="3167455">IsPathSeparator</span><span class="op" id="3167470">(</span><span class="ident" id="3167471">dest</span><span class="op" id="3167475">[</span><span class="num" id="3167476">0</span><span class="op" id="3167477">]</span><span class="op" id="3167478">)</span>&nbsp;<span class="op" id="3167480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167485">b</span><span class="op" id="3167486">.</span><span class="ident" id="3167487">Reset</span><span class="op" id="3167492">(</span><span class="op" id="3167493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3167501">path</span>&nbsp;<span class="op" id="3167506">=</span>&nbsp;<span class="ident" id="3167508">dest</span>&nbsp;<span class="op" id="3167513">+</span>&nbsp;<span class="builtintype" id="3167515">string</span><span class="op" id="3167521">(</span><span class="ident" id="3167522">Separator</span><span class="op" id="3167531">)</span>&nbsp;<span class="op" id="3167533">+</span>&nbsp;<span class="ident" id="3167535">path</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3167541">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3167544">return</span>&nbsp;<span class="ident" id="3167551">Clean</span><span class="op" id="3167556">(</span><span class="ident" id="3167557">b</span><span class="op" id="3167558">.</span><span class="ident" id="3167559">String</span><span class="op" id="3167565">(</span><span class="op" id="3167566">)</span><span class="op" id="3167567">)</span><span class="op" id="3167568">,</span>&nbsp;<span class="builtintype" id="3167570">nil</span><br>
<span class="lineno"></span><span class="op" id="3167574">}</span>
</div>
</body>
</html>
