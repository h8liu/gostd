<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html" class="current">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8056658">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8056714">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8056768">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8056819">package</span>&nbsp;<span class="ident" id="8056827">binary</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8056835">import</span>&nbsp;<span class="op" id="8056842">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8056845">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8056854">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8056860">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8056868">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8056879">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8056890">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8056900">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8056903">type</span>&nbsp;<span class="ident" id="8056908">Struct</span>&nbsp;<span class="keyword" id="8056915">struct</span>&nbsp;<span class="op" id="8056922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056925">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8056936">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056942">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8056953">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056960">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8056971">int32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056978">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056989">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8056996">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8057007">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057014">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8057025">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057033">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8057044">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057052">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057063">uint64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057071">Float32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8057082">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057091">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8057102">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057111">Complex64</span>&nbsp;&nbsp;<span class="builtintype" id="8057122">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057133">Complex128</span>&nbsp;<span class="builtintype" id="8057144">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057156">Array</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057167">[</span><span class="num" id="8057168">4</span><span class="op" id="8057169">]</span><span class="builtintype" id="8057170">uint8</span><br>
<span class="lineno">30</span><span class="op" id="8057176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8057179">type</span>&nbsp;<span class="ident" id="8057184">T</span>&nbsp;<span class="keyword" id="8057186">struct</span>&nbsp;<span class="op" id="8057193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057196">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8057204">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057209">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8057217">uint</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057223">Uintptr</span>&nbsp;<span class="builtintype" id="8057231">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057240">Array</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8057248">[</span><span class="num" id="8057249">4</span><span class="op" id="8057250">]</span><span class="builtintype" id="8057251">int</span><br>
<span class="lineno"></span><span class="op" id="8057255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8057258">var</span>&nbsp;<span class="ident" id="8057262">s</span>&nbsp;<span class="op" id="8057264">=</span>&nbsp;<span class="ident" id="8057266">Struct</span><span class="op" id="8057272">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057275">0x01</span><span class="op" id="8057279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057282">0x0203</span><span class="op" id="8057288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057291">0x04050607</span><span class="op" id="8057301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057304">0x08090a0b0c0d0e0f</span><span class="op" id="8057322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057325">0x10</span><span class="op" id="8057329">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057332">0x1112</span><span class="op" id="8057338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057341">0x13141516</span><span class="op" id="8057351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057354">0x1718191a1b1c1d1e</span><span class="op" id="8057372">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057376">math</span><span class="op" id="8057380">.</span><span class="ident" id="8057381">Float32frombits</span><span class="op" id="8057396">(</span><span class="num" id="8057397">0x1f202122</span><span class="op" id="8057407">)</span><span class="op" id="8057408">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057411">math</span><span class="op" id="8057415">.</span><span class="ident" id="8057416">Float64frombits</span><span class="op" id="8057431">(</span><span class="num" id="8057432">0x232425262728292a</span><span class="op" id="8057450">)</span><span class="op" id="8057451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8057454">complex</span><span class="op" id="8057461">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057465">math</span><span class="op" id="8057469">.</span><span class="ident" id="8057470">Float32frombits</span><span class="op" id="8057485">(</span><span class="num" id="8057486">0x2b2c2d2e</span><span class="op" id="8057496">)</span><span class="op" id="8057497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057501">math</span><span class="op" id="8057505">.</span><span class="ident" id="8057506">Float32frombits</span><span class="op" id="8057521">(</span><span class="num" id="8057522">0x2f303132</span><span class="op" id="8057532">)</span><span class="op" id="8057533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057536">)</span><span class="op" id="8057537">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8057540">complex</span><span class="op" id="8057547">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057551">math</span><span class="op" id="8057555">.</span><span class="ident" id="8057556">Float64frombits</span><span class="op" id="8057571">(</span><span class="num" id="8057572">0x333435363738393a</span><span class="op" id="8057590">)</span><span class="op" id="8057591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8057595">math</span><span class="op" id="8057599">.</span><span class="ident" id="8057600">Float64frombits</span><span class="op" id="8057615">(</span><span class="num" id="8057616">0x3b3c3d3e3f404142</span><span class="op" id="8057634">)</span><span class="op" id="8057635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057638">)</span><span class="op" id="8057639">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8057643">[</span><span class="num" id="8057644">4</span><span class="op" id="8057645">]</span><span class="builtintype" id="8057646">uint8</span><span class="op" id="8057651">{</span><span class="num" id="8057652">0x43</span><span class="op" id="8057656">,</span>&nbsp;<span class="num" id="8057658">0x44</span><span class="op" id="8057662">,</span>&nbsp;<span class="num" id="8057664">0x45</span><span class="op" id="8057668">,</span>&nbsp;<span class="num" id="8057670">0x46</span><span class="op" id="8057674">}</span><span class="op" id="8057675">,</span><br>
<span class="lineno"></span><span class="op" id="8057677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8057680">var</span>&nbsp;<span class="ident" id="8057684">big</span>&nbsp;<span class="op" id="8057688">=</span>&nbsp;<span class="op" id="8057690">[</span><span class="op" id="8057691">]</span><span class="builtintype" id="8057692">byte</span><span class="op" id="8057696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057699">1</span><span class="op" id="8057700">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057703">2</span><span class="op" id="8057704">,</span>&nbsp;<span class="num" id="8057706">3</span><span class="op" id="8057707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057710">4</span><span class="op" id="8057711">,</span>&nbsp;<span class="num" id="8057713">5</span><span class="op" id="8057714">,</span>&nbsp;<span class="num" id="8057716">6</span><span class="op" id="8057717">,</span>&nbsp;<span class="num" id="8057719">7</span><span class="op" id="8057720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057723">8</span><span class="op" id="8057724">,</span>&nbsp;<span class="num" id="8057726">9</span><span class="op" id="8057727">,</span>&nbsp;<span class="num" id="8057729">10</span><span class="op" id="8057731">,</span>&nbsp;<span class="num" id="8057733">11</span><span class="op" id="8057735">,</span>&nbsp;<span class="num" id="8057737">12</span><span class="op" id="8057739">,</span>&nbsp;<span class="num" id="8057741">13</span><span class="op" id="8057743">,</span>&nbsp;<span class="num" id="8057745">14</span><span class="op" id="8057747">,</span>&nbsp;<span class="num" id="8057749">15</span><span class="op" id="8057751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057754">16</span><span class="op" id="8057756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057759">17</span><span class="op" id="8057761">,</span>&nbsp;<span class="num" id="8057763">18</span><span class="op" id="8057765">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057768">19</span><span class="op" id="8057770">,</span>&nbsp;<span class="num" id="8057772">20</span><span class="op" id="8057774">,</span>&nbsp;<span class="num" id="8057776">21</span><span class="op" id="8057778">,</span>&nbsp;<span class="num" id="8057780">22</span><span class="op" id="8057782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057785">23</span><span class="op" id="8057787">,</span>&nbsp;<span class="num" id="8057789">24</span><span class="op" id="8057791">,</span>&nbsp;<span class="num" id="8057793">25</span><span class="op" id="8057795">,</span>&nbsp;<span class="num" id="8057797">26</span><span class="op" id="8057799">,</span>&nbsp;<span class="num" id="8057801">27</span><span class="op" id="8057803">,</span>&nbsp;<span class="num" id="8057805">28</span><span class="op" id="8057807">,</span>&nbsp;<span class="num" id="8057809">29</span><span class="op" id="8057811">,</span>&nbsp;<span class="num" id="8057813">30</span><span class="op" id="8057815">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057819">31</span><span class="op" id="8057821">,</span>&nbsp;<span class="num" id="8057823">32</span><span class="op" id="8057825">,</span>&nbsp;<span class="num" id="8057827">33</span><span class="op" id="8057829">,</span>&nbsp;<span class="num" id="8057831">34</span><span class="op" id="8057833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057836">35</span><span class="op" id="8057838">,</span>&nbsp;<span class="num" id="8057840">36</span><span class="op" id="8057842">,</span>&nbsp;<span class="num" id="8057844">37</span><span class="op" id="8057846">,</span>&nbsp;<span class="num" id="8057848">38</span><span class="op" id="8057850">,</span>&nbsp;<span class="num" id="8057852">39</span><span class="op" id="8057854">,</span>&nbsp;<span class="num" id="8057856">40</span><span class="op" id="8057858">,</span>&nbsp;<span class="num" id="8057860">41</span><span class="op" id="8057862">,</span>&nbsp;<span class="num" id="8057864">42</span><span class="op" id="8057866">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057869">43</span><span class="op" id="8057871">,</span>&nbsp;<span class="num" id="8057873">44</span><span class="op" id="8057875">,</span>&nbsp;<span class="num" id="8057877">45</span><span class="op" id="8057879">,</span>&nbsp;<span class="num" id="8057881">46</span><span class="op" id="8057883">,</span>&nbsp;<span class="num" id="8057885">47</span><span class="op" id="8057887">,</span>&nbsp;<span class="num" id="8057889">48</span><span class="op" id="8057891">,</span>&nbsp;<span class="num" id="8057893">49</span><span class="op" id="8057895">,</span>&nbsp;<span class="num" id="8057897">50</span><span class="op" id="8057899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057902">51</span><span class="op" id="8057904">,</span>&nbsp;<span class="num" id="8057906">52</span><span class="op" id="8057908">,</span>&nbsp;<span class="num" id="8057910">53</span><span class="op" id="8057912">,</span>&nbsp;<span class="num" id="8057914">54</span><span class="op" id="8057916">,</span>&nbsp;<span class="num" id="8057918">55</span><span class="op" id="8057920">,</span>&nbsp;<span class="num" id="8057922">56</span><span class="op" id="8057924">,</span>&nbsp;<span class="num" id="8057926">57</span><span class="op" id="8057928">,</span>&nbsp;<span class="num" id="8057930">58</span><span class="op" id="8057932">,</span>&nbsp;<span class="num" id="8057934">59</span><span class="op" id="8057936">,</span>&nbsp;<span class="num" id="8057938">60</span><span class="op" id="8057940">,</span>&nbsp;<span class="num" id="8057942">61</span><span class="op" id="8057944">,</span>&nbsp;<span class="num" id="8057946">62</span><span class="op" id="8057948">,</span>&nbsp;<span class="num" id="8057950">63</span><span class="op" id="8057952">,</span>&nbsp;<span class="num" id="8057954">64</span><span class="op" id="8057956">,</span>&nbsp;<span class="num" id="8057958">65</span><span class="op" id="8057960">,</span>&nbsp;<span class="num" id="8057962">66</span><span class="op" id="8057964">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8057968">67</span><span class="op" id="8057970">,</span>&nbsp;<span class="num" id="8057972">68</span><span class="op" id="8057974">,</span>&nbsp;<span class="num" id="8057976">69</span><span class="op" id="8057978">,</span>&nbsp;<span class="num" id="8057980">70</span><span class="op" id="8057982">,</span><br>
<span class="lineno"></span><span class="op" id="8057984">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="8057987">var</span>&nbsp;<span class="ident" id="8057991">little</span>&nbsp;<span class="op" id="8057998">=</span>&nbsp;<span class="op" id="8058000">[</span><span class="op" id="8058001">]</span><span class="builtintype" id="8058002">byte</span><span class="op" id="8058006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058009">1</span><span class="op" id="8058010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058013">3</span><span class="op" id="8058014">,</span>&nbsp;<span class="num" id="8058016">2</span><span class="op" id="8058017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058020">7</span><span class="op" id="8058021">,</span>&nbsp;<span class="num" id="8058023">6</span><span class="op" id="8058024">,</span>&nbsp;<span class="num" id="8058026">5</span><span class="op" id="8058027">,</span>&nbsp;<span class="num" id="8058029">4</span><span class="op" id="8058030">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058033">15</span><span class="op" id="8058035">,</span>&nbsp;<span class="num" id="8058037">14</span><span class="op" id="8058039">,</span>&nbsp;<span class="num" id="8058041">13</span><span class="op" id="8058043">,</span>&nbsp;<span class="num" id="8058045">12</span><span class="op" id="8058047">,</span>&nbsp;<span class="num" id="8058049">11</span><span class="op" id="8058051">,</span>&nbsp;<span class="num" id="8058053">10</span><span class="op" id="8058055">,</span>&nbsp;<span class="num" id="8058057">9</span><span class="op" id="8058058">,</span>&nbsp;<span class="num" id="8058060">8</span><span class="op" id="8058061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058064">16</span><span class="op" id="8058066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058069">18</span><span class="op" id="8058071">,</span>&nbsp;<span class="num" id="8058073">17</span><span class="op" id="8058075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058078">22</span><span class="op" id="8058080">,</span>&nbsp;<span class="num" id="8058082">21</span><span class="op" id="8058084">,</span>&nbsp;<span class="num" id="8058086">20</span><span class="op" id="8058088">,</span>&nbsp;<span class="num" id="8058090">19</span><span class="op" id="8058092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058095">30</span><span class="op" id="8058097">,</span>&nbsp;<span class="num" id="8058099">29</span><span class="op" id="8058101">,</span>&nbsp;<span class="num" id="8058103">28</span><span class="op" id="8058105">,</span>&nbsp;<span class="num" id="8058107">27</span><span class="op" id="8058109">,</span>&nbsp;<span class="num" id="8058111">26</span><span class="op" id="8058113">,</span>&nbsp;<span class="num" id="8058115">25</span><span class="op" id="8058117">,</span>&nbsp;<span class="num" id="8058119">24</span><span class="op" id="8058121">,</span>&nbsp;<span class="num" id="8058123">23</span><span class="op" id="8058125">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058129">34</span><span class="op" id="8058131">,</span>&nbsp;<span class="num" id="8058133">33</span><span class="op" id="8058135">,</span>&nbsp;<span class="num" id="8058137">32</span><span class="op" id="8058139">,</span>&nbsp;<span class="num" id="8058141">31</span><span class="op" id="8058143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058146">42</span><span class="op" id="8058148">,</span>&nbsp;<span class="num" id="8058150">41</span><span class="op" id="8058152">,</span>&nbsp;<span class="num" id="8058154">40</span><span class="op" id="8058156">,</span>&nbsp;<span class="num" id="8058158">39</span><span class="op" id="8058160">,</span>&nbsp;<span class="num" id="8058162">38</span><span class="op" id="8058164">,</span>&nbsp;<span class="num" id="8058166">37</span><span class="op" id="8058168">,</span>&nbsp;<span class="num" id="8058170">36</span><span class="op" id="8058172">,</span>&nbsp;<span class="num" id="8058174">35</span><span class="op" id="8058176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058179">46</span><span class="op" id="8058181">,</span>&nbsp;<span class="num" id="8058183">45</span><span class="op" id="8058185">,</span>&nbsp;<span class="num" id="8058187">44</span><span class="op" id="8058189">,</span>&nbsp;<span class="num" id="8058191">43</span><span class="op" id="8058193">,</span>&nbsp;<span class="num" id="8058195">50</span><span class="op" id="8058197">,</span>&nbsp;<span class="num" id="8058199">49</span><span class="op" id="8058201">,</span>&nbsp;<span class="num" id="8058203">48</span><span class="op" id="8058205">,</span>&nbsp;<span class="num" id="8058207">47</span><span class="op" id="8058209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058212">58</span><span class="op" id="8058214">,</span>&nbsp;<span class="num" id="8058216">57</span><span class="op" id="8058218">,</span>&nbsp;<span class="num" id="8058220">56</span><span class="op" id="8058222">,</span>&nbsp;<span class="num" id="8058224">55</span><span class="op" id="8058226">,</span>&nbsp;<span class="num" id="8058228">54</span><span class="op" id="8058230">,</span>&nbsp;<span class="num" id="8058232">53</span><span class="op" id="8058234">,</span>&nbsp;<span class="num" id="8058236">52</span><span class="op" id="8058238">,</span>&nbsp;<span class="num" id="8058240">51</span><span class="op" id="8058242">,</span>&nbsp;<span class="num" id="8058244">66</span><span class="op" id="8058246">,</span>&nbsp;<span class="num" id="8058248">65</span><span class="op" id="8058250">,</span>&nbsp;<span class="num" id="8058252">64</span><span class="op" id="8058254">,</span>&nbsp;<span class="num" id="8058256">63</span><span class="op" id="8058258">,</span>&nbsp;<span class="num" id="8058260">62</span><span class="op" id="8058262">,</span>&nbsp;<span class="num" id="8058264">61</span><span class="op" id="8058266">,</span>&nbsp;<span class="num" id="8058268">60</span><span class="op" id="8058270">,</span>&nbsp;<span class="num" id="8058272">59</span><span class="op" id="8058274">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8058278">67</span><span class="op" id="8058280">,</span>&nbsp;<span class="num" id="8058282">68</span><span class="op" id="8058284">,</span>&nbsp;<span class="num" id="8058286">69</span><span class="op" id="8058288">,</span>&nbsp;<span class="num" id="8058290">70</span><span class="op" id="8058292">,</span><br>
<span class="lineno"></span><span class="op" id="8058294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8058297">var</span>&nbsp;<span class="ident" id="8058301">src</span>&nbsp;<span class="op" id="8058305">=</span>&nbsp;<span class="op" id="8058307">[</span><span class="op" id="8058308">]</span><span class="builtintype" id="8058309">byte</span><span class="op" id="8058313">{</span><span class="num" id="8058314">1</span><span class="op" id="8058315">,</span>&nbsp;<span class="num" id="8058317">2</span><span class="op" id="8058318">,</span>&nbsp;<span class="num" id="8058320">3</span><span class="op" id="8058321">,</span>&nbsp;<span class="num" id="8058323">4</span><span class="op" id="8058324">,</span>&nbsp;<span class="num" id="8058326">5</span><span class="op" id="8058327">,</span>&nbsp;<span class="num" id="8058329">6</span><span class="op" id="8058330">,</span>&nbsp;<span class="num" id="8058332">7</span><span class="op" id="8058333">,</span>&nbsp;<span class="num" id="8058335">8</span><span class="op" id="8058336">}</span><br>
<span class="lineno">100</span><span class="keyword" id="8058338">var</span>&nbsp;<span class="ident" id="8058342">res</span>&nbsp;<span class="op" id="8058346">=</span>&nbsp;<span class="op" id="8058348">[</span><span class="op" id="8058349">]</span><span class="builtintype" id="8058350">int32</span><span class="op" id="8058355">{</span><span class="num" id="8058356">0x01020304</span><span class="op" id="8058366">,</span>&nbsp;<span class="num" id="8058368">0x05060708</span><span class="op" id="8058378">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8058381">func</span>&nbsp;<span class="ident" id="8058386">checkResult</span><span class="op" id="8058397">(</span><span class="ident" id="8058398">t</span>&nbsp;<span class="op" id="8058400">*</span><span class="ident" id="8058401">testing</span><span class="op" id="8058408">.</span><span class="ident" id="8058409">T</span><span class="op" id="8058410">,</span>&nbsp;<span class="ident" id="8058412">dir</span>&nbsp;<span class="builtintype" id="8058416">string</span><span class="op" id="8058422">,</span>&nbsp;<span class="ident" id="8058424">order</span>&nbsp;<span class="ident" id="8058430">ByteOrder</span><span class="op" id="8058439">,</span>&nbsp;<span class="ident" id="8058441">err</span>&nbsp;<span class="builtintype" id="8058445">error</span><span class="op" id="8058450">,</span>&nbsp;<span class="ident" id="8058452">have</span><span class="op" id="8058456">,</span>&nbsp;<span class="ident" id="8058458">want</span>&nbsp;<span class="keyword" id="8058463">interface</span><span class="op" id="8058472">{</span><span class="op" id="8058473">}</span><span class="op" id="8058474">)</span>&nbsp;<span class="op" id="8058476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8058479">if</span>&nbsp;<span class="ident" id="8058482">err</span>&nbsp;<span class="op" id="8058486">!=</span>&nbsp;<span class="builtintype" id="8058489">nil</span>&nbsp;<span class="op" id="8058493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058497">t</span><span class="op" id="8058498">.</span><span class="ident" id="8058499">Errorf</span><span class="op" id="8058505">(</span><span class="string" id="8058506">&#34;%v&nbsp;%v:&nbsp;%v&#34;</span><span class="op" id="8058517">,</span>&nbsp;<span class="ident" id="8058519">dir</span><span class="op" id="8058522">,</span>&nbsp;<span class="ident" id="8058524">order</span><span class="op" id="8058529">,</span>&nbsp;<span class="ident" id="8058531">err</span><span class="op" id="8058534">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8058538">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8058549">if</span>&nbsp;<span class="op" id="8058552">!</span><span class="ident" id="8058553">reflect</span><span class="op" id="8058560">.</span><span class="ident" id="8058561">DeepEqual</span><span class="op" id="8058570">(</span><span class="ident" id="8058571">have</span><span class="op" id="8058575">,</span>&nbsp;<span class="ident" id="8058577">want</span><span class="op" id="8058581">)</span>&nbsp;<span class="op" id="8058583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058587">t</span><span class="op" id="8058588">.</span><span class="ident" id="8058589">Errorf</span><span class="op" id="8058595">(</span><span class="string" id="8058596">&#34;%v&nbsp;%v:\n\thave&nbsp;%+v\n\twant&nbsp;%+v&#34;</span><span class="op" id="8058628">,</span>&nbsp;<span class="ident" id="8058630">dir</span><span class="op" id="8058633">,</span>&nbsp;<span class="ident" id="8058635">order</span><span class="op" id="8058640">,</span>&nbsp;<span class="ident" id="8058642">have</span><span class="op" id="8058646">,</span>&nbsp;<span class="ident" id="8058648">want</span><span class="op" id="8058652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8058655">}</span><br>
<span class="lineno">110</span><span class="op" id="8058657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8058660">func</span>&nbsp;<span class="ident" id="8058665">testRead</span><span class="op" id="8058673">(</span><span class="ident" id="8058674">t</span>&nbsp;<span class="op" id="8058676">*</span><span class="ident" id="8058677">testing</span><span class="op" id="8058684">.</span><span class="ident" id="8058685">T</span><span class="op" id="8058686">,</span>&nbsp;<span class="ident" id="8058688">order</span>&nbsp;<span class="ident" id="8058694">ByteOrder</span><span class="op" id="8058703">,</span>&nbsp;<span class="ident" id="8058705">b</span>&nbsp;<span class="op" id="8058707">[</span><span class="op" id="8058708">]</span><span class="builtintype" id="8058709">byte</span><span class="op" id="8058713">,</span>&nbsp;<span class="ident" id="8058715">s1</span>&nbsp;<span class="keyword" id="8058718">interface</span><span class="op" id="8058727">{</span><span class="op" id="8058728">}</span><span class="op" id="8058729">)</span>&nbsp;<span class="op" id="8058731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8058734">var</span>&nbsp;<span class="ident" id="8058738">s2</span>&nbsp;<span class="ident" id="8058741">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058749">err</span>&nbsp;<span class="op" id="8058753">:=</span>&nbsp;<span class="ident" id="8058756">Read</span><span class="op" id="8058760">(</span><span class="ident" id="8058761">bytes</span><span class="op" id="8058766">.</span><span class="ident" id="8058767">NewReader</span><span class="op" id="8058776">(</span><span class="ident" id="8058777">b</span><span class="op" id="8058778">)</span><span class="op" id="8058779">,</span>&nbsp;<span class="ident" id="8058781">order</span><span class="op" id="8058786">,</span>&nbsp;<span class="op" id="8058788">&amp;</span><span class="ident" id="8058789">s2</span><span class="op" id="8058791">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058794">checkResult</span><span class="op" id="8058805">(</span><span class="ident" id="8058806">t</span><span class="op" id="8058807">,</span>&nbsp;<span class="string" id="8058809">&#34;Read&#34;</span><span class="op" id="8058815">,</span>&nbsp;<span class="ident" id="8058817">order</span><span class="op" id="8058822">,</span>&nbsp;<span class="ident" id="8058824">err</span><span class="op" id="8058827">,</span>&nbsp;<span class="ident" id="8058829">s2</span><span class="op" id="8058831">,</span>&nbsp;<span class="ident" id="8058833">s1</span><span class="op" id="8058835">)</span><br>
<span class="lineno"></span><span class="op" id="8058837">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8058840">func</span>&nbsp;<span class="ident" id="8058845">testWrite</span><span class="op" id="8058854">(</span><span class="ident" id="8058855">t</span>&nbsp;<span class="op" id="8058857">*</span><span class="ident" id="8058858">testing</span><span class="op" id="8058865">.</span><span class="ident" id="8058866">T</span><span class="op" id="8058867">,</span>&nbsp;<span class="ident" id="8058869">order</span>&nbsp;<span class="ident" id="8058875">ByteOrder</span><span class="op" id="8058884">,</span>&nbsp;<span class="ident" id="8058886">b</span>&nbsp;<span class="op" id="8058888">[</span><span class="op" id="8058889">]</span><span class="builtintype" id="8058890">byte</span><span class="op" id="8058894">,</span>&nbsp;<span class="ident" id="8058896">s1</span>&nbsp;<span class="keyword" id="8058899">interface</span><span class="op" id="8058908">{</span><span class="op" id="8058909">}</span><span class="op" id="8058910">)</span>&nbsp;<span class="op" id="8058912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058915">buf</span>&nbsp;<span class="op" id="8058919">:=</span>&nbsp;<span class="builtinfunc" id="8058922">new</span><span class="op" id="8058925">(</span><span class="ident" id="8058926">bytes</span><span class="op" id="8058931">.</span><span class="ident" id="8058932">Buffer</span><span class="op" id="8058938">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058941">err</span>&nbsp;<span class="op" id="8058945">:=</span>&nbsp;<span class="ident" id="8058948">Write</span><span class="op" id="8058953">(</span><span class="ident" id="8058954">buf</span><span class="op" id="8058957">,</span>&nbsp;<span class="ident" id="8058959">order</span><span class="op" id="8058964">,</span>&nbsp;<span class="ident" id="8058966">s1</span><span class="op" id="8058968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8058971">checkResult</span><span class="op" id="8058982">(</span><span class="ident" id="8058983">t</span><span class="op" id="8058984">,</span>&nbsp;<span class="string" id="8058986">&#34;Write&#34;</span><span class="op" id="8058993">,</span>&nbsp;<span class="ident" id="8058995">order</span><span class="op" id="8059000">,</span>&nbsp;<span class="ident" id="8059002">err</span><span class="op" id="8059005">,</span>&nbsp;<span class="ident" id="8059007">buf</span><span class="op" id="8059010">.</span><span class="ident" id="8059011">Bytes</span><span class="op" id="8059016">(</span><span class="op" id="8059017">)</span><span class="op" id="8059018">,</span>&nbsp;<span class="ident" id="8059020">b</span><span class="op" id="8059021">)</span><br>
<span class="lineno"></span><span class="op" id="8059023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8059026">func</span>&nbsp;<span class="ident" id="8059031">TestLittleEndianRead</span><span class="op" id="8059051">(</span><span class="ident" id="8059052">t</span>&nbsp;<span class="op" id="8059054">*</span><span class="ident" id="8059055">testing</span><span class="op" id="8059062">.</span><span class="ident" id="8059063">T</span><span class="op" id="8059064">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8059070">{</span>&nbsp;<span class="ident" id="8059072">testRead</span><span class="op" id="8059080">(</span><span class="ident" id="8059081">t</span><span class="op" id="8059082">,</span>&nbsp;<span class="ident" id="8059084">LittleEndian</span><span class="op" id="8059096">,</span>&nbsp;<span class="ident" id="8059098">little</span><span class="op" id="8059104">,</span>&nbsp;<span class="ident" id="8059106">s</span><span class="op" id="8059107">)</span>&nbsp;<span class="op" id="8059109">}</span><br>
<span class="lineno">125</span><span class="keyword" id="8059111">func</span>&nbsp;<span class="ident" id="8059116">TestLittleEndianWrite</span><span class="op" id="8059137">(</span><span class="ident" id="8059138">t</span>&nbsp;<span class="op" id="8059140">*</span><span class="ident" id="8059141">testing</span><span class="op" id="8059148">.</span><span class="ident" id="8059149">T</span><span class="op" id="8059150">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8059155">{</span>&nbsp;<span class="ident" id="8059157">testWrite</span><span class="op" id="8059166">(</span><span class="ident" id="8059167">t</span><span class="op" id="8059168">,</span>&nbsp;<span class="ident" id="8059170">LittleEndian</span><span class="op" id="8059182">,</span>&nbsp;<span class="ident" id="8059184">little</span><span class="op" id="8059190">,</span>&nbsp;<span class="ident" id="8059192">s</span><span class="op" id="8059193">)</span>&nbsp;<span class="op" id="8059195">}</span><br>
<span class="lineno"></span><span class="keyword" id="8059197">func</span>&nbsp;<span class="ident" id="8059202">TestLittleEndianPtrWrite</span><span class="op" id="8059226">(</span><span class="ident" id="8059227">t</span>&nbsp;<span class="op" id="8059229">*</span><span class="ident" id="8059230">testing</span><span class="op" id="8059237">.</span><span class="ident" id="8059238">T</span><span class="op" id="8059239">)</span>&nbsp;<span class="op" id="8059241">{</span>&nbsp;<span class="ident" id="8059243">testWrite</span><span class="op" id="8059252">(</span><span class="ident" id="8059253">t</span><span class="op" id="8059254">,</span>&nbsp;<span class="ident" id="8059256">LittleEndian</span><span class="op" id="8059268">,</span>&nbsp;<span class="ident" id="8059270">little</span><span class="op" id="8059276">,</span>&nbsp;<span class="op" id="8059278">&amp;</span><span class="ident" id="8059279">s</span><span class="op" id="8059280">)</span>&nbsp;<span class="op" id="8059282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8059285">func</span>&nbsp;<span class="ident" id="8059290">TestBigEndianRead</span><span class="op" id="8059307">(</span><span class="ident" id="8059308">t</span>&nbsp;<span class="op" id="8059310">*</span><span class="ident" id="8059311">testing</span><span class="op" id="8059318">.</span><span class="ident" id="8059319">T</span><span class="op" id="8059320">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8059326">{</span>&nbsp;<span class="ident" id="8059328">testRead</span><span class="op" id="8059336">(</span><span class="ident" id="8059337">t</span><span class="op" id="8059338">,</span>&nbsp;<span class="ident" id="8059340">BigEndian</span><span class="op" id="8059349">,</span>&nbsp;<span class="ident" id="8059351">big</span><span class="op" id="8059354">,</span>&nbsp;<span class="ident" id="8059356">s</span><span class="op" id="8059357">)</span>&nbsp;<span class="op" id="8059359">}</span><br>
<span class="lineno"></span><span class="keyword" id="8059361">func</span>&nbsp;<span class="ident" id="8059366">TestBigEndianWrite</span><span class="op" id="8059384">(</span><span class="ident" id="8059385">t</span>&nbsp;<span class="op" id="8059387">*</span><span class="ident" id="8059388">testing</span><span class="op" id="8059395">.</span><span class="ident" id="8059396">T</span><span class="op" id="8059397">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8059402">{</span>&nbsp;<span class="ident" id="8059404">testWrite</span><span class="op" id="8059413">(</span><span class="ident" id="8059414">t</span><span class="op" id="8059415">,</span>&nbsp;<span class="ident" id="8059417">BigEndian</span><span class="op" id="8059426">,</span>&nbsp;<span class="ident" id="8059428">big</span><span class="op" id="8059431">,</span>&nbsp;<span class="ident" id="8059433">s</span><span class="op" id="8059434">)</span>&nbsp;<span class="op" id="8059436">}</span><br>
<span class="lineno">130</span><span class="keyword" id="8059438">func</span>&nbsp;<span class="ident" id="8059443">TestBigEndianPtrWrite</span><span class="op" id="8059464">(</span><span class="ident" id="8059465">t</span>&nbsp;<span class="op" id="8059467">*</span><span class="ident" id="8059468">testing</span><span class="op" id="8059475">.</span><span class="ident" id="8059476">T</span><span class="op" id="8059477">)</span>&nbsp;<span class="op" id="8059479">{</span>&nbsp;<span class="ident" id="8059481">testWrite</span><span class="op" id="8059490">(</span><span class="ident" id="8059491">t</span><span class="op" id="8059492">,</span>&nbsp;<span class="ident" id="8059494">BigEndian</span><span class="op" id="8059503">,</span>&nbsp;<span class="ident" id="8059505">big</span><span class="op" id="8059508">,</span>&nbsp;<span class="op" id="8059510">&amp;</span><span class="ident" id="8059511">s</span><span class="op" id="8059512">)</span>&nbsp;<span class="op" id="8059514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8059517">func</span>&nbsp;<span class="ident" id="8059522">TestReadSlice</span><span class="op" id="8059535">(</span><span class="ident" id="8059536">t</span>&nbsp;<span class="op" id="8059538">*</span><span class="ident" id="8059539">testing</span><span class="op" id="8059546">.</span><span class="ident" id="8059547">T</span><span class="op" id="8059548">)</span>&nbsp;<span class="op" id="8059550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8059553">slice</span>&nbsp;<span class="op" id="8059559">:=</span>&nbsp;<span class="builtinfunc" id="8059562">make</span><span class="op" id="8059566">(</span><span class="op" id="8059567">[</span><span class="op" id="8059568">]</span><span class="builtintype" id="8059569">int32</span><span class="op" id="8059574">,</span>&nbsp;<span class="num" id="8059576">2</span><span class="op" id="8059577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8059580">err</span>&nbsp;<span class="op" id="8059584">:=</span>&nbsp;<span class="ident" id="8059587">Read</span><span class="op" id="8059591">(</span><span class="ident" id="8059592">bytes</span><span class="op" id="8059597">.</span><span class="ident" id="8059598">NewReader</span><span class="op" id="8059607">(</span><span class="ident" id="8059608">src</span><span class="op" id="8059611">)</span><span class="op" id="8059612">,</span>&nbsp;<span class="ident" id="8059614">BigEndian</span><span class="op" id="8059623">,</span>&nbsp;<span class="ident" id="8059625">slice</span><span class="op" id="8059630">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8059633">checkResult</span><span class="op" id="8059644">(</span><span class="ident" id="8059645">t</span><span class="op" id="8059646">,</span>&nbsp;<span class="string" id="8059648">&#34;ReadSlice&#34;</span><span class="op" id="8059659">,</span>&nbsp;<span class="ident" id="8059661">BigEndian</span><span class="op" id="8059670">,</span>&nbsp;<span class="ident" id="8059672">err</span><span class="op" id="8059675">,</span>&nbsp;<span class="ident" id="8059677">slice</span><span class="op" id="8059682">,</span>&nbsp;<span class="ident" id="8059684">res</span><span class="op" id="8059687">)</span><br>
<span class="lineno"></span><span class="op" id="8059689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8059692">func</span>&nbsp;<span class="ident" id="8059697">TestWriteSlice</span><span class="op" id="8059711">(</span><span class="ident" id="8059712">t</span>&nbsp;<span class="op" id="8059714">*</span><span class="ident" id="8059715">testing</span><span class="op" id="8059722">.</span><span class="ident" id="8059723">T</span><span class="op" id="8059724">)</span>&nbsp;<span class="op" id="8059726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8059729">buf</span>&nbsp;<span class="op" id="8059733">:=</span>&nbsp;<span class="builtinfunc" id="8059736">new</span><span class="op" id="8059739">(</span><span class="ident" id="8059740">bytes</span><span class="op" id="8059745">.</span><span class="ident" id="8059746">Buffer</span><span class="op" id="8059752">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8059755">err</span>&nbsp;<span class="op" id="8059759">:=</span>&nbsp;<span class="ident" id="8059762">Write</span><span class="op" id="8059767">(</span><span class="ident" id="8059768">buf</span><span class="op" id="8059771">,</span>&nbsp;<span class="ident" id="8059773">BigEndian</span><span class="op" id="8059782">,</span>&nbsp;<span class="ident" id="8059784">res</span><span class="op" id="8059787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8059790">checkResult</span><span class="op" id="8059801">(</span><span class="ident" id="8059802">t</span><span class="op" id="8059803">,</span>&nbsp;<span class="string" id="8059805">&#34;WriteSlice&#34;</span><span class="op" id="8059817">,</span>&nbsp;<span class="ident" id="8059819">BigEndian</span><span class="op" id="8059828">,</span>&nbsp;<span class="ident" id="8059830">err</span><span class="op" id="8059833">,</span>&nbsp;<span class="ident" id="8059835">buf</span><span class="op" id="8059838">.</span><span class="ident" id="8059839">Bytes</span><span class="op" id="8059844">(</span><span class="op" id="8059845">)</span><span class="op" id="8059846">,</span>&nbsp;<span class="ident" id="8059848">src</span><span class="op" id="8059851">)</span><br>
<span class="lineno"></span><span class="op" id="8059853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8059856">//&nbsp;Addresses&nbsp;of&nbsp;arrays&nbsp;are&nbsp;easier&nbsp;to&nbsp;manipulate&nbsp;with&nbsp;reflection&nbsp;than&nbsp;are&nbsp;slices.</span><br>
<span class="lineno">145</span><span class="keyword" id="8059937">var</span>&nbsp;<span class="ident" id="8059941">intArrays</span>&nbsp;<span class="op" id="8059951">=</span>&nbsp;<span class="op" id="8059953">[</span><span class="op" id="8059954">]</span><span class="keyword" id="8059955">interface</span><span class="op" id="8059964">{</span><span class="op" id="8059965">}</span><span class="op" id="8059966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8059969">&amp;</span><span class="op" id="8059970">[</span><span class="num" id="8059971">100</span><span class="op" id="8059974">]</span><span class="builtintype" id="8059975">int8</span><span class="op" id="8059979">{</span><span class="op" id="8059980">}</span><span class="op" id="8059981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8059984">&amp;</span><span class="op" id="8059985">[</span><span class="num" id="8059986">100</span><span class="op" id="8059989">]</span><span class="builtintype" id="8059990">int16</span><span class="op" id="8059995">{</span><span class="op" id="8059996">}</span><span class="op" id="8059997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060000">&amp;</span><span class="op" id="8060001">[</span><span class="num" id="8060002">100</span><span class="op" id="8060005">]</span><span class="builtintype" id="8060006">int32</span><span class="op" id="8060011">{</span><span class="op" id="8060012">}</span><span class="op" id="8060013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060016">&amp;</span><span class="op" id="8060017">[</span><span class="num" id="8060018">100</span><span class="op" id="8060021">]</span><span class="ident" id="8060022">int64</span><span class="op" id="8060027">{</span><span class="op" id="8060028">}</span><span class="op" id="8060029">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060032">&amp;</span><span class="op" id="8060033">[</span><span class="num" id="8060034">100</span><span class="op" id="8060037">]</span><span class="builtintype" id="8060038">uint8</span><span class="op" id="8060043">{</span><span class="op" id="8060044">}</span><span class="op" id="8060045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060048">&amp;</span><span class="op" id="8060049">[</span><span class="num" id="8060050">100</span><span class="op" id="8060053">]</span><span class="builtintype" id="8060054">uint16</span><span class="op" id="8060060">{</span><span class="op" id="8060061">}</span><span class="op" id="8060062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060065">&amp;</span><span class="op" id="8060066">[</span><span class="num" id="8060067">100</span><span class="op" id="8060070">]</span><span class="builtintype" id="8060071">uint32</span><span class="op" id="8060077">{</span><span class="op" id="8060078">}</span><span class="op" id="8060079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060082">&amp;</span><span class="op" id="8060083">[</span><span class="num" id="8060084">100</span><span class="op" id="8060087">]</span><span class="ident" id="8060088">uint64</span><span class="op" id="8060094">{</span><span class="op" id="8060095">}</span><span class="op" id="8060096">,</span><br>
<span class="lineno"></span><span class="op" id="8060098">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="8060101">func</span>&nbsp;<span class="ident" id="8060106">TestSliceRoundTrip</span><span class="op" id="8060124">(</span><span class="ident" id="8060125">t</span>&nbsp;<span class="op" id="8060127">*</span><span class="ident" id="8060128">testing</span><span class="op" id="8060135">.</span><span class="ident" id="8060136">T</span><span class="op" id="8060137">)</span>&nbsp;<span class="op" id="8060139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060142">buf</span>&nbsp;<span class="op" id="8060146">:=</span>&nbsp;<span class="builtinfunc" id="8060149">new</span><span class="op" id="8060152">(</span><span class="ident" id="8060153">bytes</span><span class="op" id="8060158">.</span><span class="ident" id="8060159">Buffer</span><span class="op" id="8060165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060168">for</span>&nbsp;<span class="ident" id="8060172">_</span><span class="op" id="8060173">,</span>&nbsp;<span class="ident" id="8060175">array</span>&nbsp;<span class="op" id="8060181">:=</span>&nbsp;<span class="keyword" id="8060184">range</span>&nbsp;<span class="ident" id="8060190">intArrays</span>&nbsp;<span class="op" id="8060200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060204">src</span>&nbsp;<span class="op" id="8060208">:=</span>&nbsp;<span class="ident" id="8060211">reflect</span><span class="op" id="8060218">.</span><span class="ident" id="8060219">ValueOf</span><span class="op" id="8060226">(</span><span class="ident" id="8060227">array</span><span class="op" id="8060232">)</span><span class="op" id="8060233">.</span><span class="ident" id="8060234">Elem</span><span class="op" id="8060238">(</span><span class="op" id="8060239">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060243">unsigned</span>&nbsp;<span class="op" id="8060252">:=</span>&nbsp;<span class="builtintype" id="8060255">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060263">switch</span>&nbsp;<span class="ident" id="8060270">src</span><span class="op" id="8060273">.</span><span class="ident" id="8060274">Index</span><span class="op" id="8060279">(</span><span class="num" id="8060280">0</span><span class="op" id="8060281">)</span><span class="op" id="8060282">.</span><span class="ident" id="8060283">Kind</span><span class="op" id="8060287">(</span><span class="op" id="8060288">)</span>&nbsp;<span class="op" id="8060290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060294">case</span>&nbsp;<span class="ident" id="8060299">reflect</span><span class="op" id="8060306">.</span><span class="ident" id="8060307">Uint8</span><span class="op" id="8060312">,</span>&nbsp;<span class="ident" id="8060314">reflect</span><span class="op" id="8060321">.</span><span class="ident" id="8060322">Uint16</span><span class="op" id="8060328">,</span>&nbsp;<span class="ident" id="8060330">reflect</span><span class="op" id="8060337">.</span><span class="ident" id="8060338">Uint32</span><span class="op" id="8060344">,</span>&nbsp;<span class="ident" id="8060346">reflect</span><span class="op" id="8060353">.</span><span class="ident" id="8060354">Uint64</span><span class="op" id="8060360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060365">unsigned</span>&nbsp;<span class="op" id="8060374">=</span>&nbsp;<span class="builtintype" id="8060376">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060383">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060387">for</span>&nbsp;<span class="ident" id="8060391">i</span>&nbsp;<span class="op" id="8060393">:=</span>&nbsp;<span class="num" id="8060396">0</span><span class="op" id="8060397">;</span>&nbsp;<span class="ident" id="8060399">i</span>&nbsp;<span class="op" id="8060401">&lt;</span>&nbsp;<span class="ident" id="8060403">src</span><span class="op" id="8060406">.</span><span class="ident" id="8060407">Len</span><span class="op" id="8060410">(</span><span class="op" id="8060411">)</span><span class="op" id="8060412">;</span>&nbsp;<span class="ident" id="8060414">i</span><span class="op" id="8060415">++</span>&nbsp;<span class="op" id="8060418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060423">if</span>&nbsp;<span class="ident" id="8060426">unsigned</span>&nbsp;<span class="op" id="8060435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060441">src</span><span class="op" id="8060444">.</span><span class="ident" id="8060445">Index</span><span class="op" id="8060450">(</span><span class="ident" id="8060451">i</span><span class="op" id="8060452">)</span><span class="op" id="8060453">.</span><span class="ident" id="8060454">SetUint</span><span class="op" id="8060461">(</span><span class="ident" id="8060462">uint64</span><span class="op" id="8060468">(</span><span class="ident" id="8060469">i</span>&nbsp;<span class="op" id="8060471">*</span>&nbsp;<span class="num" id="8060473">0x07654321</span><span class="op" id="8060483">)</span><span class="op" id="8060484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060489">}</span>&nbsp;<span class="keyword" id="8060491">else</span>&nbsp;<span class="op" id="8060496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060502">src</span><span class="op" id="8060505">.</span><span class="ident" id="8060506">Index</span><span class="op" id="8060511">(</span><span class="ident" id="8060512">i</span><span class="op" id="8060513">)</span><span class="op" id="8060514">.</span><span class="ident" id="8060515">SetInt</span><span class="op" id="8060521">(</span><span class="ident" id="8060522">int64</span><span class="op" id="8060527">(</span><span class="ident" id="8060528">i</span>&nbsp;<span class="op" id="8060530">*</span>&nbsp;<span class="num" id="8060532">0x07654321</span><span class="op" id="8060542">)</span><span class="op" id="8060543">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060556">buf</span><span class="op" id="8060559">.</span><span class="ident" id="8060560">Reset</span><span class="op" id="8060565">(</span><span class="op" id="8060566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060570">srcSlice</span>&nbsp;<span class="op" id="8060579">:=</span>&nbsp;<span class="ident" id="8060582">src</span><span class="op" id="8060585">.</span><span class="ident" id="8060586">Slice</span><span class="op" id="8060591">(</span><span class="num" id="8060592">0</span><span class="op" id="8060593">,</span>&nbsp;<span class="ident" id="8060595">src</span><span class="op" id="8060598">.</span><span class="ident" id="8060599">Len</span><span class="op" id="8060602">(</span><span class="op" id="8060603">)</span><span class="op" id="8060604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060608">err</span>&nbsp;<span class="op" id="8060612">:=</span>&nbsp;<span class="ident" id="8060615">Write</span><span class="op" id="8060620">(</span><span class="ident" id="8060621">buf</span><span class="op" id="8060624">,</span>&nbsp;<span class="ident" id="8060626">BigEndian</span><span class="op" id="8060635">,</span>&nbsp;<span class="ident" id="8060637">srcSlice</span><span class="op" id="8060645">.</span><span class="ident" id="8060646">Interface</span><span class="op" id="8060655">(</span><span class="op" id="8060656">)</span><span class="op" id="8060657">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060661">if</span>&nbsp;<span class="ident" id="8060664">err</span>&nbsp;<span class="op" id="8060668">!=</span>&nbsp;<span class="builtintype" id="8060671">nil</span>&nbsp;<span class="op" id="8060675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060680">t</span><span class="op" id="8060681">.</span><span class="ident" id="8060682">Fatal</span><span class="op" id="8060687">(</span><span class="ident" id="8060688">err</span><span class="op" id="8060691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060699">dst</span>&nbsp;<span class="op" id="8060703">:=</span>&nbsp;<span class="ident" id="8060706">reflect</span><span class="op" id="8060713">.</span><span class="ident" id="8060714">New</span><span class="op" id="8060717">(</span><span class="ident" id="8060718">src</span><span class="op" id="8060721">.</span><span class="ident" id="8060722">Type</span><span class="op" id="8060726">(</span><span class="op" id="8060727">)</span><span class="op" id="8060728">)</span><span class="op" id="8060729">.</span><span class="ident" id="8060730">Elem</span><span class="op" id="8060734">(</span><span class="op" id="8060735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060739">dstSlice</span>&nbsp;<span class="op" id="8060748">:=</span>&nbsp;<span class="ident" id="8060751">dst</span><span class="op" id="8060754">.</span><span class="ident" id="8060755">Slice</span><span class="op" id="8060760">(</span><span class="num" id="8060761">0</span><span class="op" id="8060762">,</span>&nbsp;<span class="ident" id="8060764">dst</span><span class="op" id="8060767">.</span><span class="ident" id="8060768">Len</span><span class="op" id="8060771">(</span><span class="op" id="8060772">)</span><span class="op" id="8060773">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060777">err</span>&nbsp;<span class="op" id="8060781">=</span>&nbsp;<span class="ident" id="8060783">Read</span><span class="op" id="8060787">(</span><span class="ident" id="8060788">buf</span><span class="op" id="8060791">,</span>&nbsp;<span class="ident" id="8060793">BigEndian</span><span class="op" id="8060802">,</span>&nbsp;<span class="ident" id="8060804">dstSlice</span><span class="op" id="8060812">.</span><span class="ident" id="8060813">Interface</span><span class="op" id="8060822">(</span><span class="op" id="8060823">)</span><span class="op" id="8060824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060828">if</span>&nbsp;<span class="ident" id="8060831">err</span>&nbsp;<span class="op" id="8060835">!=</span>&nbsp;<span class="builtintype" id="8060838">nil</span>&nbsp;<span class="op" id="8060842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060847">t</span><span class="op" id="8060848">.</span><span class="ident" id="8060849">Fatal</span><span class="op" id="8060854">(</span><span class="ident" id="8060855">err</span><span class="op" id="8060858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8060866">if</span>&nbsp;<span class="op" id="8060869">!</span><span class="ident" id="8060870">reflect</span><span class="op" id="8060877">.</span><span class="ident" id="8060878">DeepEqual</span><span class="op" id="8060887">(</span><span class="ident" id="8060888">src</span><span class="op" id="8060891">.</span><span class="ident" id="8060892">Interface</span><span class="op" id="8060901">(</span><span class="op" id="8060902">)</span><span class="op" id="8060903">,</span>&nbsp;<span class="ident" id="8060905">dst</span><span class="op" id="8060908">.</span><span class="ident" id="8060909">Interface</span><span class="op" id="8060918">(</span><span class="op" id="8060919">)</span><span class="op" id="8060920">)</span>&nbsp;<span class="op" id="8060922">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060927">t</span><span class="op" id="8060928">.</span><span class="ident" id="8060929">Fatal</span><span class="op" id="8060934">(</span><span class="ident" id="8060935">src</span><span class="op" id="8060938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8060945">}</span><br>
<span class="lineno"></span><span class="op" id="8060947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="8060950">func</span>&nbsp;<span class="ident" id="8060955">TestWriteT</span><span class="op" id="8060965">(</span><span class="ident" id="8060966">t</span>&nbsp;<span class="op" id="8060968">*</span><span class="ident" id="8060969">testing</span><span class="op" id="8060976">.</span><span class="ident" id="8060977">T</span><span class="op" id="8060978">)</span>&nbsp;<span class="op" id="8060980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8060983">buf</span>&nbsp;<span class="op" id="8060987">:=</span>&nbsp;<span class="builtinfunc" id="8060990">new</span><span class="op" id="8060993">(</span><span class="ident" id="8060994">bytes</span><span class="op" id="8060999">.</span><span class="ident" id="8061000">Buffer</span><span class="op" id="8061006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061009">ts</span>&nbsp;<span class="op" id="8061012">:=</span>&nbsp;<span class="ident" id="8061015">T</span><span class="op" id="8061016">{</span><span class="op" id="8061017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8061020">if</span>&nbsp;<span class="ident" id="8061023">err</span>&nbsp;<span class="op" id="8061027">:=</span>&nbsp;<span class="ident" id="8061030">Write</span><span class="op" id="8061035">(</span><span class="ident" id="8061036">buf</span><span class="op" id="8061039">,</span>&nbsp;<span class="ident" id="8061041">BigEndian</span><span class="op" id="8061050">,</span>&nbsp;<span class="ident" id="8061052">ts</span><span class="op" id="8061054">)</span><span class="op" id="8061055">;</span>&nbsp;<span class="ident" id="8061057">err</span>&nbsp;<span class="op" id="8061061">==</span>&nbsp;<span class="builtintype" id="8061064">nil</span>&nbsp;<span class="op" id="8061068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061072">t</span><span class="op" id="8061073">.</span><span class="ident" id="8061074">Errorf</span><span class="op" id="8061080">(</span><span class="string" id="8061081">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8061120">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061127">tv</span>&nbsp;<span class="op" id="8061130">:=</span>&nbsp;<span class="ident" id="8061133">reflect</span><span class="op" id="8061140">.</span><span class="ident" id="8061141">Indirect</span><span class="op" id="8061149">(</span><span class="ident" id="8061150">reflect</span><span class="op" id="8061157">.</span><span class="ident" id="8061158">ValueOf</span><span class="op" id="8061165">(</span><span class="ident" id="8061166">ts</span><span class="op" id="8061168">)</span><span class="op" id="8061169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8061172">for</span>&nbsp;<span class="ident" id="8061176">i</span><span class="op" id="8061177">,</span>&nbsp;<span class="ident" id="8061179">n</span>&nbsp;<span class="op" id="8061181">:=</span>&nbsp;<span class="num" id="8061184">0</span><span class="op" id="8061185">,</span>&nbsp;<span class="ident" id="8061187">tv</span><span class="op" id="8061189">.</span><span class="ident" id="8061190">NumField</span><span class="op" id="8061198">(</span><span class="op" id="8061199">)</span><span class="op" id="8061200">;</span>&nbsp;<span class="ident" id="8061202">i</span>&nbsp;<span class="op" id="8061204">&lt;</span>&nbsp;<span class="ident" id="8061206">n</span><span class="op" id="8061207">;</span>&nbsp;<span class="ident" id="8061209">i</span><span class="op" id="8061210">++</span>&nbsp;<span class="op" id="8061213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061217">typ</span>&nbsp;<span class="op" id="8061221">:=</span>&nbsp;<span class="ident" id="8061224">tv</span><span class="op" id="8061226">.</span><span class="ident" id="8061227">Field</span><span class="op" id="8061232">(</span><span class="ident" id="8061233">i</span><span class="op" id="8061234">)</span><span class="op" id="8061235">.</span><span class="ident" id="8061236">Type</span><span class="op" id="8061240">(</span><span class="op" id="8061241">)</span><span class="op" id="8061242">.</span><span class="ident" id="8061243">String</span><span class="op" id="8061249">(</span><span class="op" id="8061250">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8061254">if</span>&nbsp;<span class="ident" id="8061257">typ</span>&nbsp;<span class="op" id="8061261">==</span>&nbsp;<span class="string" id="8061264">&#34;[4]int&#34;</span>&nbsp;<span class="op" id="8061273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061278">typ</span>&nbsp;<span class="op" id="8061282">=</span>&nbsp;<span class="string" id="8061284">&#34;int&#34;</span>&nbsp;<span class="comment" id="8061290">//&nbsp;the&nbsp;problem&nbsp;is&nbsp;int,&nbsp;not&nbsp;the&nbsp;[4]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8061331">if</span>&nbsp;<span class="ident" id="8061334">err</span>&nbsp;<span class="op" id="8061338">:=</span>&nbsp;<span class="ident" id="8061341">Write</span><span class="op" id="8061346">(</span><span class="ident" id="8061347">buf</span><span class="op" id="8061350">,</span>&nbsp;<span class="ident" id="8061352">BigEndian</span><span class="op" id="8061361">,</span>&nbsp;<span class="ident" id="8061363">tv</span><span class="op" id="8061365">.</span><span class="ident" id="8061366">Field</span><span class="op" id="8061371">(</span><span class="ident" id="8061372">i</span><span class="op" id="8061373">)</span><span class="op" id="8061374">.</span><span class="ident" id="8061375">Interface</span><span class="op" id="8061384">(</span><span class="op" id="8061385">)</span><span class="op" id="8061386">)</span><span class="op" id="8061387">;</span>&nbsp;<span class="ident" id="8061389">err</span>&nbsp;<span class="op" id="8061393">==</span>&nbsp;<span class="builtintype" id="8061396">nil</span>&nbsp;<span class="op" id="8061400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061405">t</span><span class="op" id="8061406">.</span><span class="ident" id="8061407">Errorf</span><span class="op" id="8061413">(</span><span class="string" id="8061414">&#34;WriteT.%v:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="8061456">,</span>&nbsp;<span class="ident" id="8061458">tv</span><span class="op" id="8061460">.</span><span class="ident" id="8061461">Field</span><span class="op" id="8061466">(</span><span class="ident" id="8061467">i</span><span class="op" id="8061468">)</span><span class="op" id="8061469">.</span><span class="ident" id="8061470">Type</span><span class="op" id="8061474">(</span><span class="op" id="8061475">)</span><span class="op" id="8061476">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061480">}</span>&nbsp;<span class="keyword" id="8061482">else</span>&nbsp;<span class="keyword" id="8061487">if</span>&nbsp;<span class="op" id="8061490">!</span><span class="ident" id="8061491">strings</span><span class="op" id="8061498">.</span><span class="ident" id="8061499">Contains</span><span class="op" id="8061507">(</span><span class="ident" id="8061508">err</span><span class="op" id="8061511">.</span><span class="ident" id="8061512">Error</span><span class="op" id="8061517">(</span><span class="op" id="8061518">)</span><span class="op" id="8061519">,</span>&nbsp;<span class="ident" id="8061521">typ</span><span class="op" id="8061524">)</span>&nbsp;<span class="op" id="8061526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061531">t</span><span class="op" id="8061532">.</span><span class="ident" id="8061533">Errorf</span><span class="op" id="8061539">(</span><span class="string" id="8061540">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;%q,&nbsp;want&nbsp;it&nbsp;to&nbsp;mention&nbsp;%s&#34;</span><span class="op" id="8061587">,</span>&nbsp;<span class="ident" id="8061589">err</span><span class="op" id="8061592">,</span>&nbsp;<span class="ident" id="8061594">typ</span><span class="op" id="8061597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061604">}</span><br>
<span class="lineno"></span><span class="op" id="8061606">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="8061609">type</span>&nbsp;<span class="ident" id="8061614">BlankFields</span>&nbsp;<span class="keyword" id="8061626">struct</span>&nbsp;<span class="op" id="8061633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061636">A</span>&nbsp;<span class="builtintype" id="8061638">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061646">_</span>&nbsp;<span class="builtintype" id="8061648">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061655">B</span>&nbsp;<span class="builtintype" id="8061657">float64</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061666">_</span>&nbsp;<span class="op" id="8061668">[</span><span class="num" id="8061669">4</span><span class="op" id="8061670">]</span><span class="builtintype" id="8061671">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061678">C</span>&nbsp;<span class="builtintype" id="8061680">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061686">_</span>&nbsp;<span class="op" id="8061688">[</span><span class="num" id="8061689">7</span><span class="op" id="8061690">]</span><span class="builtintype" id="8061691">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061697">_</span>&nbsp;<span class="keyword" id="8061699">struct</span>&nbsp;<span class="op" id="8061706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061710">f</span>&nbsp;<span class="op" id="8061712">[</span><span class="num" id="8061713">8</span><span class="op" id="8061714">]</span><span class="builtintype" id="8061715">float32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061724">}</span><br>
<span class="lineno"></span><span class="op" id="8061726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8061729">type</span>&nbsp;<span class="ident" id="8061734">BlankFieldsProbe</span>&nbsp;<span class="keyword" id="8061751">struct</span>&nbsp;<span class="op" id="8061758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061761">A</span>&nbsp;&nbsp;<span class="builtintype" id="8061764">uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061772">P0</span>&nbsp;<span class="builtintype" id="8061775">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061782">B</span>&nbsp;&nbsp;<span class="builtintype" id="8061785">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061794">P1</span>&nbsp;<span class="op" id="8061797">[</span><span class="num" id="8061798">4</span><span class="op" id="8061799">]</span><span class="builtintype" id="8061800">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061807">C</span>&nbsp;&nbsp;<span class="builtintype" id="8061810">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061816">P2</span>&nbsp;<span class="op" id="8061819">[</span><span class="num" id="8061820">7</span><span class="op" id="8061821">]</span><span class="builtintype" id="8061822">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061828">P3</span>&nbsp;<span class="keyword" id="8061831">struct</span>&nbsp;<span class="op" id="8061838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061842">F</span>&nbsp;<span class="op" id="8061844">[</span><span class="num" id="8061845">8</span><span class="op" id="8061846">]</span><span class="builtintype" id="8061847">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8061856">}</span><br>
<span class="lineno"></span><span class="op" id="8061858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8061861">func</span>&nbsp;<span class="ident" id="8061866">TestBlankFields</span><span class="op" id="8061881">(</span><span class="ident" id="8061882">t</span>&nbsp;<span class="op" id="8061884">*</span><span class="ident" id="8061885">testing</span><span class="op" id="8061892">.</span><span class="ident" id="8061893">T</span><span class="op" id="8061894">)</span>&nbsp;<span class="op" id="8061896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061899">buf</span>&nbsp;<span class="op" id="8061903">:=</span>&nbsp;<span class="builtinfunc" id="8061906">new</span><span class="op" id="8061909">(</span><span class="ident" id="8061910">bytes</span><span class="op" id="8061915">.</span><span class="ident" id="8061916">Buffer</span><span class="op" id="8061922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8061925">b1</span>&nbsp;<span class="op" id="8061928">:=</span>&nbsp;<span class="ident" id="8061931">BlankFields</span><span class="op" id="8061942">{</span><span class="ident" id="8061943">A</span><span class="op" id="8061944">:</span>&nbsp;<span class="num" id="8061946">1234567890</span><span class="op" id="8061956">,</span>&nbsp;<span class="ident" id="8061958">B</span><span class="op" id="8061959">:</span>&nbsp;<span class="num" id="8061961">2.718281828</span><span class="op" id="8061972">,</span>&nbsp;<span class="ident" id="8061974">C</span><span class="op" id="8061975">:</span>&nbsp;<span class="num" id="8061977">42</span><span class="op" id="8061979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8061982">if</span>&nbsp;<span class="ident" id="8061985">err</span>&nbsp;<span class="op" id="8061989">:=</span>&nbsp;<span class="ident" id="8061992">Write</span><span class="op" id="8061997">(</span><span class="ident" id="8061998">buf</span><span class="op" id="8062001">,</span>&nbsp;<span class="ident" id="8062003">LittleEndian</span><span class="op" id="8062015">,</span>&nbsp;<span class="op" id="8062017">&amp;</span><span class="ident" id="8062018">b1</span><span class="op" id="8062020">)</span><span class="op" id="8062021">;</span>&nbsp;<span class="ident" id="8062023">err</span>&nbsp;<span class="op" id="8062027">!=</span>&nbsp;<span class="builtintype" id="8062030">nil</span>&nbsp;<span class="op" id="8062034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062038">t</span><span class="op" id="8062039">.</span><span class="ident" id="8062040">Error</span><span class="op" id="8062045">(</span><span class="ident" id="8062046">err</span><span class="op" id="8062049">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8062056">//&nbsp;zero&nbsp;values&nbsp;must&nbsp;have&nbsp;been&nbsp;written&nbsp;for&nbsp;blank&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062112">var</span>&nbsp;<span class="ident" id="8062116">p</span>&nbsp;<span class="ident" id="8062118">BlankFieldsProbe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062136">if</span>&nbsp;<span class="ident" id="8062139">err</span>&nbsp;<span class="op" id="8062143">:=</span>&nbsp;<span class="ident" id="8062146">Read</span><span class="op" id="8062150">(</span><span class="ident" id="8062151">buf</span><span class="op" id="8062154">,</span>&nbsp;<span class="ident" id="8062156">LittleEndian</span><span class="op" id="8062168">,</span>&nbsp;<span class="op" id="8062170">&amp;</span><span class="ident" id="8062171">p</span><span class="op" id="8062172">)</span><span class="op" id="8062173">;</span>&nbsp;<span class="ident" id="8062175">err</span>&nbsp;<span class="op" id="8062179">!=</span>&nbsp;<span class="builtintype" id="8062182">nil</span>&nbsp;<span class="op" id="8062186">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062190">t</span><span class="op" id="8062191">.</span><span class="ident" id="8062192">Error</span><span class="op" id="8062197">(</span><span class="ident" id="8062198">err</span><span class="op" id="8062201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8062208">//&nbsp;quick&nbsp;test:&nbsp;only&nbsp;check&nbsp;first&nbsp;value&nbsp;of&nbsp;slices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062257">if</span>&nbsp;<span class="ident" id="8062260">p</span><span class="op" id="8062261">.</span><span class="ident" id="8062262">P0</span>&nbsp;<span class="op" id="8062265">!=</span>&nbsp;<span class="num" id="8062268">0</span>&nbsp;<span class="op" id="8062270">||</span>&nbsp;<span class="ident" id="8062273">p</span><span class="op" id="8062274">.</span><span class="ident" id="8062275">P1</span><span class="op" id="8062277">[</span><span class="num" id="8062278">0</span><span class="op" id="8062279">]</span>&nbsp;<span class="op" id="8062281">!=</span>&nbsp;<span class="num" id="8062284">0</span>&nbsp;<span class="op" id="8062286">||</span>&nbsp;<span class="ident" id="8062289">p</span><span class="op" id="8062290">.</span><span class="ident" id="8062291">P2</span><span class="op" id="8062293">[</span><span class="num" id="8062294">0</span><span class="op" id="8062295">]</span>&nbsp;<span class="op" id="8062297">!=</span>&nbsp;<span class="num" id="8062300">0</span>&nbsp;<span class="op" id="8062302">||</span>&nbsp;<span class="ident" id="8062305">p</span><span class="op" id="8062306">.</span><span class="ident" id="8062307">P3</span><span class="op" id="8062309">.</span><span class="ident" id="8062310">F</span><span class="op" id="8062311">[</span><span class="num" id="8062312">0</span><span class="op" id="8062313">]</span>&nbsp;<span class="op" id="8062315">!=</span>&nbsp;<span class="num" id="8062318">0</span>&nbsp;<span class="op" id="8062320">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062324">t</span><span class="op" id="8062325">.</span><span class="ident" id="8062326">Errorf</span><span class="op" id="8062332">(</span><span class="string" id="8062333">&#34;non-zero&nbsp;values&nbsp;for&nbsp;originally&nbsp;blank&nbsp;fields:&nbsp;%#v&#34;</span><span class="op" id="8062383">,</span>&nbsp;<span class="ident" id="8062385">p</span><span class="op" id="8062386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8062393">//&nbsp;write&nbsp;p&nbsp;and&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;probe&nbsp;only&nbsp;some&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062446">if</span>&nbsp;<span class="ident" id="8062449">err</span>&nbsp;<span class="op" id="8062453">:=</span>&nbsp;<span class="ident" id="8062456">Write</span><span class="op" id="8062461">(</span><span class="ident" id="8062462">buf</span><span class="op" id="8062465">,</span>&nbsp;<span class="ident" id="8062467">LittleEndian</span><span class="op" id="8062479">,</span>&nbsp;<span class="op" id="8062481">&amp;</span><span class="ident" id="8062482">p</span><span class="op" id="8062483">)</span><span class="op" id="8062484">;</span>&nbsp;<span class="ident" id="8062486">err</span>&nbsp;<span class="op" id="8062490">!=</span>&nbsp;<span class="builtintype" id="8062493">nil</span>&nbsp;<span class="op" id="8062497">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062501">t</span><span class="op" id="8062502">.</span><span class="ident" id="8062503">Error</span><span class="op" id="8062508">(</span><span class="ident" id="8062509">err</span><span class="op" id="8062512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062515">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8062519">//&nbsp;read&nbsp;should&nbsp;ignore&nbsp;blank&nbsp;fields&nbsp;in&nbsp;b2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062561">var</span>&nbsp;<span class="ident" id="8062565">b2</span>&nbsp;<span class="ident" id="8062568">BlankFields</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062581">if</span>&nbsp;<span class="ident" id="8062584">err</span>&nbsp;<span class="op" id="8062588">:=</span>&nbsp;<span class="ident" id="8062591">Read</span><span class="op" id="8062595">(</span><span class="ident" id="8062596">buf</span><span class="op" id="8062599">,</span>&nbsp;<span class="ident" id="8062601">LittleEndian</span><span class="op" id="8062613">,</span>&nbsp;<span class="op" id="8062615">&amp;</span><span class="ident" id="8062616">b2</span><span class="op" id="8062618">)</span><span class="op" id="8062619">;</span>&nbsp;<span class="ident" id="8062621">err</span>&nbsp;<span class="op" id="8062625">!=</span>&nbsp;<span class="builtintype" id="8062628">nil</span>&nbsp;<span class="op" id="8062632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062636">t</span><span class="op" id="8062637">.</span><span class="ident" id="8062638">Error</span><span class="op" id="8062643">(</span><span class="ident" id="8062644">err</span><span class="op" id="8062647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062653">if</span>&nbsp;<span class="ident" id="8062656">b1</span><span class="op" id="8062658">.</span><span class="ident" id="8062659">A</span>&nbsp;<span class="op" id="8062661">!=</span>&nbsp;<span class="ident" id="8062664">b2</span><span class="op" id="8062666">.</span><span class="ident" id="8062667">A</span>&nbsp;<span class="op" id="8062669">||</span>&nbsp;<span class="ident" id="8062672">b1</span><span class="op" id="8062674">.</span><span class="ident" id="8062675">B</span>&nbsp;<span class="op" id="8062677">!=</span>&nbsp;<span class="ident" id="8062680">b2</span><span class="op" id="8062682">.</span><span class="ident" id="8062683">B</span>&nbsp;<span class="op" id="8062685">||</span>&nbsp;<span class="ident" id="8062688">b1</span><span class="op" id="8062690">.</span><span class="ident" id="8062691">C</span>&nbsp;<span class="op" id="8062693">!=</span>&nbsp;<span class="ident" id="8062696">b2</span><span class="op" id="8062698">.</span><span class="ident" id="8062699">C</span>&nbsp;<span class="op" id="8062701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062705">t</span><span class="op" id="8062706">.</span><span class="ident" id="8062707">Errorf</span><span class="op" id="8062713">(</span><span class="string" id="8062714">&#34;%#v&nbsp;!=&nbsp;%#v&#34;</span><span class="op" id="8062726">,</span>&nbsp;<span class="ident" id="8062728">b1</span><span class="op" id="8062730">,</span>&nbsp;<span class="ident" id="8062732">b2</span><span class="op" id="8062734">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8062737">}</span><br>
<span class="lineno"></span><span class="op" id="8062739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8062742">//&nbsp;An&nbsp;attempt&nbsp;to&nbsp;read&nbsp;into&nbsp;a&nbsp;struct&nbsp;with&nbsp;an&nbsp;unexported&nbsp;field&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="8062808">//&nbsp;panic.&nbsp;&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;best&nbsp;choice,&nbsp;but&nbsp;at&nbsp;this&nbsp;point</span><br>
<span class="lineno">270</span><span class="comment" id="8062875">//&nbsp;anything&nbsp;else&nbsp;would&nbsp;be&nbsp;an&nbsp;API&nbsp;change.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8062917">type</span>&nbsp;<span class="ident" id="8062922">Unexported</span>&nbsp;<span class="keyword" id="8062933">struct</span>&nbsp;<span class="op" id="8062940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8062943">a</span>&nbsp;<span class="builtintype" id="8062945">int32</span><br>
<span class="lineno"></span><span class="op" id="8062951">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="8062954">func</span>&nbsp;<span class="ident" id="8062959">TestUnexportedRead</span><span class="op" id="8062977">(</span><span class="ident" id="8062978">t</span>&nbsp;<span class="op" id="8062980">*</span><span class="ident" id="8062981">testing</span><span class="op" id="8062988">.</span><span class="ident" id="8062989">T</span><span class="op" id="8062990">)</span>&nbsp;<span class="op" id="8062992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8062995">var</span>&nbsp;<span class="ident" id="8062999">buf</span>&nbsp;<span class="ident" id="8063003">bytes</span><span class="op" id="8063008">.</span><span class="ident" id="8063009">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063017">u1</span>&nbsp;<span class="op" id="8063020">:=</span>&nbsp;<span class="ident" id="8063023">Unexported</span><span class="op" id="8063033">{</span><span class="ident" id="8063034">a</span><span class="op" id="8063035">:</span>&nbsp;<span class="num" id="8063037">1</span><span class="op" id="8063038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063041">if</span>&nbsp;<span class="ident" id="8063044">err</span>&nbsp;<span class="op" id="8063048">:=</span>&nbsp;<span class="ident" id="8063051">Write</span><span class="op" id="8063056">(</span><span class="op" id="8063057">&amp;</span><span class="ident" id="8063058">buf</span><span class="op" id="8063061">,</span>&nbsp;<span class="ident" id="8063063">LittleEndian</span><span class="op" id="8063075">,</span>&nbsp;<span class="op" id="8063077">&amp;</span><span class="ident" id="8063078">u1</span><span class="op" id="8063080">)</span><span class="op" id="8063081">;</span>&nbsp;<span class="ident" id="8063083">err</span>&nbsp;<span class="op" id="8063087">!=</span>&nbsp;<span class="builtintype" id="8063090">nil</span>&nbsp;<span class="op" id="8063094">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063098">t</span><span class="op" id="8063099">.</span><span class="ident" id="8063100">Fatal</span><span class="op" id="8063105">(</span><span class="ident" id="8063106">err</span><span class="op" id="8063109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063112">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063116">defer</span>&nbsp;<span class="keyword" id="8063122">func</span><span class="op" id="8063126">(</span><span class="op" id="8063127">)</span>&nbsp;<span class="op" id="8063129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063133">if</span>&nbsp;<span class="builtinfunc" id="8063136">recover</span><span class="op" id="8063143">(</span><span class="op" id="8063144">)</span>&nbsp;<span class="op" id="8063146">==</span>&nbsp;<span class="builtintype" id="8063149">nil</span>&nbsp;<span class="op" id="8063153">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063158">t</span><span class="op" id="8063159">.</span><span class="ident" id="8063160">Fatal</span><span class="op" id="8063165">(</span><span class="string" id="8063166">&#34;did&nbsp;not&nbsp;panic&#34;</span><span class="op" id="8063181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063188">}</span><span class="op" id="8063189">(</span><span class="op" id="8063190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063193">var</span>&nbsp;<span class="ident" id="8063197">u2</span>&nbsp;<span class="ident" id="8063200">Unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063212">Read</span><span class="op" id="8063216">(</span><span class="op" id="8063217">&amp;</span><span class="ident" id="8063218">buf</span><span class="op" id="8063221">,</span>&nbsp;<span class="ident" id="8063223">LittleEndian</span><span class="op" id="8063235">,</span>&nbsp;<span class="op" id="8063237">&amp;</span><span class="ident" id="8063238">u2</span><span class="op" id="8063240">)</span><br>
<span class="lineno">290</span><span class="op" id="8063242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8063245">func</span>&nbsp;<span class="ident" id="8063250">TestReadErrorMsg</span><span class="op" id="8063266">(</span><span class="ident" id="8063267">t</span>&nbsp;<span class="op" id="8063269">*</span><span class="ident" id="8063270">testing</span><span class="op" id="8063277">.</span><span class="ident" id="8063278">T</span><span class="op" id="8063279">)</span>&nbsp;<span class="op" id="8063281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063284">var</span>&nbsp;<span class="ident" id="8063288">buf</span>&nbsp;<span class="ident" id="8063292">bytes</span><span class="op" id="8063297">.</span><span class="ident" id="8063298">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063306">read</span>&nbsp;<span class="op" id="8063311">:=</span>&nbsp;<span class="keyword" id="8063314">func</span><span class="op" id="8063318">(</span><span class="ident" id="8063319">data</span>&nbsp;<span class="keyword" id="8063324">interface</span><span class="op" id="8063333">{</span><span class="op" id="8063334">}</span><span class="op" id="8063335">)</span>&nbsp;<span class="op" id="8063337">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063341">err</span>&nbsp;<span class="op" id="8063345">:=</span>&nbsp;<span class="ident" id="8063348">Read</span><span class="op" id="8063352">(</span><span class="op" id="8063353">&amp;</span><span class="ident" id="8063354">buf</span><span class="op" id="8063357">,</span>&nbsp;<span class="ident" id="8063359">LittleEndian</span><span class="op" id="8063371">,</span>&nbsp;<span class="ident" id="8063373">data</span><span class="op" id="8063377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063381">want</span>&nbsp;<span class="op" id="8063386">:=</span>&nbsp;<span class="string" id="8063389">&#34;binary.Read:&nbsp;invalid&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="8063418">+</span>&nbsp;<span class="ident" id="8063420">reflect</span><span class="op" id="8063427">.</span><span class="ident" id="8063428">TypeOf</span><span class="op" id="8063434">(</span><span class="ident" id="8063435">data</span><span class="op" id="8063439">)</span><span class="op" id="8063440">.</span><span class="ident" id="8063441">String</span><span class="op" id="8063447">(</span><span class="op" id="8063448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063452">if</span>&nbsp;<span class="ident" id="8063455">err</span>&nbsp;<span class="op" id="8063459">==</span>&nbsp;<span class="builtintype" id="8063462">nil</span>&nbsp;<span class="op" id="8063466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063471">t</span><span class="op" id="8063472">.</span><span class="ident" id="8063473">Errorf</span><span class="op" id="8063479">(</span><span class="string" id="8063480">&#34;%T:&nbsp;got&nbsp;no&nbsp;error;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8063507">,</span>&nbsp;<span class="ident" id="8063509">data</span><span class="op" id="8063513">,</span>&nbsp;<span class="ident" id="8063515">want</span><span class="op" id="8063519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063524">return</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063537">if</span>&nbsp;<span class="ident" id="8063540">got</span>&nbsp;<span class="op" id="8063544">:=</span>&nbsp;<span class="ident" id="8063547">err</span><span class="op" id="8063550">.</span><span class="ident" id="8063551">Error</span><span class="op" id="8063556">(</span><span class="op" id="8063557">)</span><span class="op" id="8063558">;</span>&nbsp;<span class="ident" id="8063560">got</span>&nbsp;<span class="op" id="8063564">!=</span>&nbsp;<span class="ident" id="8063567">want</span>&nbsp;<span class="op" id="8063572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063577">t</span><span class="op" id="8063578">.</span><span class="ident" id="8063579">Errorf</span><span class="op" id="8063585">(</span><span class="string" id="8063586">&#34;%T:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8063607">,</span>&nbsp;<span class="ident" id="8063609">data</span><span class="op" id="8063613">,</span>&nbsp;<span class="ident" id="8063615">got</span><span class="op" id="8063618">,</span>&nbsp;<span class="ident" id="8063620">want</span><span class="op" id="8063624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063628">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8063631">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063634">read</span><span class="op" id="8063638">(</span><span class="num" id="8063639">0</span><span class="op" id="8063640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063643">s</span>&nbsp;<span class="op" id="8063645">:=</span>&nbsp;<span class="builtinfunc" id="8063648">new</span><span class="op" id="8063651">(</span><span class="keyword" id="8063652">struct</span><span class="op" id="8063658">{</span><span class="op" id="8063659">}</span><span class="op" id="8063660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063663">read</span><span class="op" id="8063667">(</span><span class="op" id="8063668">&amp;</span><span class="ident" id="8063669">s</span><span class="op" id="8063670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063673">p</span>&nbsp;<span class="op" id="8063675">:=</span>&nbsp;<span class="op" id="8063678">&amp;</span><span class="ident" id="8063679">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063682">read</span><span class="op" id="8063686">(</span><span class="op" id="8063687">&amp;</span><span class="ident" id="8063688">p</span><span class="op" id="8063689">)</span><br>
<span class="lineno">310</span><span class="op" id="8063691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8063694">type</span>&nbsp;<span class="ident" id="8063699">byteSliceReader</span>&nbsp;<span class="keyword" id="8063715">struct</span>&nbsp;<span class="op" id="8063722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063725">remain</span>&nbsp;<span class="op" id="8063732">[</span><span class="op" id="8063733">]</span><span class="builtintype" id="8063734">byte</span><br>
<span class="lineno"></span><span class="op" id="8063739">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="8063742">func</span>&nbsp;<span class="op" id="8063747">(</span><span class="ident" id="8063748">br</span>&nbsp;<span class="op" id="8063751">*</span><span class="ident" id="8063752">byteSliceReader</span><span class="op" id="8063767">)</span>&nbsp;<span class="ident" id="8063769">Read</span><span class="op" id="8063773">(</span><span class="ident" id="8063774">p</span>&nbsp;<span class="op" id="8063776">[</span><span class="op" id="8063777">]</span><span class="builtintype" id="8063778">byte</span><span class="op" id="8063782">)</span>&nbsp;<span class="op" id="8063784">(</span><span class="builtintype" id="8063785">int</span><span class="op" id="8063788">,</span>&nbsp;<span class="builtintype" id="8063790">error</span><span class="op" id="8063795">)</span>&nbsp;<span class="op" id="8063797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063800">n</span>&nbsp;<span class="op" id="8063802">:=</span>&nbsp;<span class="builtinfunc" id="8063805">copy</span><span class="op" id="8063809">(</span><span class="ident" id="8063810">p</span><span class="op" id="8063811">,</span>&nbsp;<span class="ident" id="8063813">br</span><span class="op" id="8063815">.</span><span class="ident" id="8063816">remain</span><span class="op" id="8063822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063825">br</span><span class="op" id="8063827">.</span><span class="ident" id="8063828">remain</span>&nbsp;<span class="op" id="8063835">=</span>&nbsp;<span class="ident" id="8063837">br</span><span class="op" id="8063839">.</span><span class="ident" id="8063840">remain</span><span class="op" id="8063846">[</span><span class="ident" id="8063847">n</span><span class="op" id="8063848">:</span><span class="op" id="8063849">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8063852">return</span>&nbsp;<span class="ident" id="8063859">n</span><span class="op" id="8063860">,</span>&nbsp;<span class="builtintype" id="8063862">nil</span><br>
<span class="lineno">320</span><span class="op" id="8063866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8063869">func</span>&nbsp;<span class="ident" id="8063874">BenchmarkReadSlice1000Int32s</span><span class="op" id="8063902">(</span><span class="ident" id="8063903">b</span>&nbsp;<span class="op" id="8063905">*</span><span class="ident" id="8063906">testing</span><span class="op" id="8063913">.</span><span class="ident" id="8063914">B</span><span class="op" id="8063915">)</span>&nbsp;<span class="op" id="8063917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063920">bsr</span>&nbsp;<span class="op" id="8063924">:=</span>&nbsp;<span class="op" id="8063927">&amp;</span><span class="ident" id="8063928">byteSliceReader</span><span class="op" id="8063943">{</span><span class="op" id="8063944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063947">slice</span>&nbsp;<span class="op" id="8063953">:=</span>&nbsp;<span class="builtinfunc" id="8063956">make</span><span class="op" id="8063960">(</span><span class="op" id="8063961">[</span><span class="op" id="8063962">]</span><span class="builtintype" id="8063963">int32</span><span class="op" id="8063968">,</span>&nbsp;<span class="num" id="8063970">1000</span><span class="op" id="8063974">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8063977">buf</span>&nbsp;<span class="op" id="8063981">:=</span>&nbsp;<span class="builtinfunc" id="8063984">make</span><span class="op" id="8063988">(</span><span class="op" id="8063989">[</span><span class="op" id="8063990">]</span><span class="builtintype" id="8063991">byte</span><span class="op" id="8063995">,</span>&nbsp;<span class="builtinfunc" id="8063997">len</span><span class="op" id="8064000">(</span><span class="ident" id="8064001">slice</span><span class="op" id="8064006">)</span><span class="op" id="8064007">*</span><span class="num" id="8064008">4</span><span class="op" id="8064009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064012">b</span><span class="op" id="8064013">.</span><span class="ident" id="8064014">SetBytes</span><span class="op" id="8064022">(</span><span class="ident" id="8064023">int64</span><span class="op" id="8064028">(</span><span class="builtinfunc" id="8064029">len</span><span class="op" id="8064032">(</span><span class="ident" id="8064033">buf</span><span class="op" id="8064036">)</span><span class="op" id="8064037">)</span><span class="op" id="8064038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064041">b</span><span class="op" id="8064042">.</span><span class="ident" id="8064043">ResetTimer</span><span class="op" id="8064053">(</span><span class="op" id="8064054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064057">for</span>&nbsp;<span class="ident" id="8064061">i</span>&nbsp;<span class="op" id="8064063">:=</span>&nbsp;<span class="num" id="8064066">0</span><span class="op" id="8064067">;</span>&nbsp;<span class="ident" id="8064069">i</span>&nbsp;<span class="op" id="8064071">&lt;</span>&nbsp;<span class="ident" id="8064073">b</span><span class="op" id="8064074">.</span><span class="ident" id="8064075">N</span><span class="op" id="8064076">;</span>&nbsp;<span class="ident" id="8064078">i</span><span class="op" id="8064079">++</span>&nbsp;<span class="op" id="8064082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064086">bsr</span><span class="op" id="8064089">.</span><span class="ident" id="8064090">remain</span>&nbsp;<span class="op" id="8064097">=</span>&nbsp;<span class="ident" id="8064099">buf</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064105">Read</span><span class="op" id="8064109">(</span><span class="ident" id="8064110">bsr</span><span class="op" id="8064113">,</span>&nbsp;<span class="ident" id="8064115">BigEndian</span><span class="op" id="8064124">,</span>&nbsp;<span class="ident" id="8064126">slice</span><span class="op" id="8064131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064134">}</span><br>
<span class="lineno"></span><span class="op" id="8064136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8064139">func</span>&nbsp;<span class="ident" id="8064144">BenchmarkReadStruct</span><span class="op" id="8064163">(</span><span class="ident" id="8064164">b</span>&nbsp;<span class="op" id="8064166">*</span><span class="ident" id="8064167">testing</span><span class="op" id="8064174">.</span><span class="ident" id="8064175">B</span><span class="op" id="8064176">)</span>&nbsp;<span class="op" id="8064178">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064181">bsr</span>&nbsp;<span class="op" id="8064185">:=</span>&nbsp;<span class="op" id="8064188">&amp;</span><span class="ident" id="8064189">byteSliceReader</span><span class="op" id="8064204">{</span><span class="op" id="8064205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064208">var</span>&nbsp;<span class="ident" id="8064212">buf</span>&nbsp;<span class="ident" id="8064216">bytes</span><span class="op" id="8064221">.</span><span class="ident" id="8064222">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064230">Write</span><span class="op" id="8064235">(</span><span class="op" id="8064236">&amp;</span><span class="ident" id="8064237">buf</span><span class="op" id="8064240">,</span>&nbsp;<span class="ident" id="8064242">BigEndian</span><span class="op" id="8064251">,</span>&nbsp;<span class="op" id="8064253">&amp;</span><span class="ident" id="8064254">s</span><span class="op" id="8064255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064258">b</span><span class="op" id="8064259">.</span><span class="ident" id="8064260">SetBytes</span><span class="op" id="8064268">(</span><span class="ident" id="8064269">int64</span><span class="op" id="8064274">(</span><span class="ident" id="8064275">dataSize</span><span class="op" id="8064283">(</span><span class="ident" id="8064284">reflect</span><span class="op" id="8064291">.</span><span class="ident" id="8064292">ValueOf</span><span class="op" id="8064299">(</span><span class="ident" id="8064300">s</span><span class="op" id="8064301">)</span><span class="op" id="8064302">)</span><span class="op" id="8064303">)</span><span class="op" id="8064304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064307">t</span>&nbsp;<span class="op" id="8064309">:=</span>&nbsp;<span class="ident" id="8064312">s</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064315">b</span><span class="op" id="8064316">.</span><span class="ident" id="8064317">ResetTimer</span><span class="op" id="8064327">(</span><span class="op" id="8064328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064331">for</span>&nbsp;<span class="ident" id="8064335">i</span>&nbsp;<span class="op" id="8064337">:=</span>&nbsp;<span class="num" id="8064340">0</span><span class="op" id="8064341">;</span>&nbsp;<span class="ident" id="8064343">i</span>&nbsp;<span class="op" id="8064345">&lt;</span>&nbsp;<span class="ident" id="8064347">b</span><span class="op" id="8064348">.</span><span class="ident" id="8064349">N</span><span class="op" id="8064350">;</span>&nbsp;<span class="ident" id="8064352">i</span><span class="op" id="8064353">++</span>&nbsp;<span class="op" id="8064356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064360">bsr</span><span class="op" id="8064363">.</span><span class="ident" id="8064364">remain</span>&nbsp;<span class="op" id="8064371">=</span>&nbsp;<span class="ident" id="8064373">buf</span><span class="op" id="8064376">.</span><span class="ident" id="8064377">Bytes</span><span class="op" id="8064382">(</span><span class="op" id="8064383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064387">Read</span><span class="op" id="8064391">(</span><span class="ident" id="8064392">bsr</span><span class="op" id="8064395">,</span>&nbsp;<span class="ident" id="8064397">BigEndian</span><span class="op" id="8064406">,</span>&nbsp;<span class="op" id="8064408">&amp;</span><span class="ident" id="8064409">t</span><span class="op" id="8064410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064413">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064416">b</span><span class="op" id="8064417">.</span><span class="ident" id="8064418">StopTimer</span><span class="op" id="8064427">(</span><span class="op" id="8064428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064431">if</span>&nbsp;<span class="op" id="8064434">!</span><span class="ident" id="8064435">reflect</span><span class="op" id="8064442">.</span><span class="ident" id="8064443">DeepEqual</span><span class="op" id="8064452">(</span><span class="ident" id="8064453">s</span><span class="op" id="8064454">,</span>&nbsp;<span class="ident" id="8064456">t</span><span class="op" id="8064457">)</span>&nbsp;<span class="op" id="8064459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064463">b</span><span class="op" id="8064464">.</span><span class="ident" id="8064465">Fatal</span><span class="op" id="8064470">(</span><span class="string" id="8064471">&#34;no&nbsp;match&#34;</span><span class="op" id="8064481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064484">}</span><br>
<span class="lineno"></span><span class="op" id="8064486">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="8064489">func</span>&nbsp;<span class="ident" id="8064494">BenchmarkReadInts</span><span class="op" id="8064511">(</span><span class="ident" id="8064512">b</span>&nbsp;<span class="op" id="8064514">*</span><span class="ident" id="8064515">testing</span><span class="op" id="8064522">.</span><span class="ident" id="8064523">B</span><span class="op" id="8064524">)</span>&nbsp;<span class="op" id="8064526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064529">var</span>&nbsp;<span class="ident" id="8064533">ls</span>&nbsp;<span class="ident" id="8064536">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064544">bsr</span>&nbsp;<span class="op" id="8064548">:=</span>&nbsp;<span class="op" id="8064551">&amp;</span><span class="ident" id="8064552">byteSliceReader</span><span class="op" id="8064567">{</span><span class="op" id="8064568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064571">var</span>&nbsp;<span class="ident" id="8064575">r</span>&nbsp;<span class="ident" id="8064577">io</span><span class="op" id="8064579">.</span><span class="ident" id="8064580">Reader</span>&nbsp;<span class="op" id="8064587">=</span>&nbsp;<span class="ident" id="8064589">bsr</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064594">b</span><span class="op" id="8064595">.</span><span class="ident" id="8064596">SetBytes</span><span class="op" id="8064604">(</span><span class="num" id="8064605">2</span>&nbsp;<span class="op" id="8064607">*</span>&nbsp;<span class="op" id="8064609">(</span><span class="num" id="8064610">1</span>&nbsp;<span class="op" id="8064612">+</span>&nbsp;<span class="num" id="8064614">2</span>&nbsp;<span class="op" id="8064616">+</span>&nbsp;<span class="num" id="8064618">4</span>&nbsp;<span class="op" id="8064620">+</span>&nbsp;<span class="num" id="8064622">8</span><span class="op" id="8064623">)</span><span class="op" id="8064624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064627">b</span><span class="op" id="8064628">.</span><span class="ident" id="8064629">ResetTimer</span><span class="op" id="8064639">(</span><span class="op" id="8064640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8064643">for</span>&nbsp;<span class="ident" id="8064647">i</span>&nbsp;<span class="op" id="8064649">:=</span>&nbsp;<span class="num" id="8064652">0</span><span class="op" id="8064653">;</span>&nbsp;<span class="ident" id="8064655">i</span>&nbsp;<span class="op" id="8064657">&lt;</span>&nbsp;<span class="ident" id="8064659">b</span><span class="op" id="8064660">.</span><span class="ident" id="8064661">N</span><span class="op" id="8064662">;</span>&nbsp;<span class="ident" id="8064664">i</span><span class="op" id="8064665">++</span>&nbsp;<span class="op" id="8064668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064672">bsr</span><span class="op" id="8064675">.</span><span class="ident" id="8064676">remain</span>&nbsp;<span class="op" id="8064683">=</span>&nbsp;<span class="ident" id="8064685">big</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064691">Read</span><span class="op" id="8064695">(</span><span class="ident" id="8064696">r</span><span class="op" id="8064697">,</span>&nbsp;<span class="ident" id="8064699">BigEndian</span><span class="op" id="8064708">,</span>&nbsp;<span class="op" id="8064710">&amp;</span><span class="ident" id="8064711">ls</span><span class="op" id="8064713">.</span><span class="ident" id="8064714">Int8</span><span class="op" id="8064718">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064722">Read</span><span class="op" id="8064726">(</span><span class="ident" id="8064727">r</span><span class="op" id="8064728">,</span>&nbsp;<span class="ident" id="8064730">BigEndian</span><span class="op" id="8064739">,</span>&nbsp;<span class="op" id="8064741">&amp;</span><span class="ident" id="8064742">ls</span><span class="op" id="8064744">.</span><span class="ident" id="8064745">Int16</span><span class="op" id="8064750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064754">Read</span><span class="op" id="8064758">(</span><span class="ident" id="8064759">r</span><span class="op" id="8064760">,</span>&nbsp;<span class="ident" id="8064762">BigEndian</span><span class="op" id="8064771">,</span>&nbsp;<span class="op" id="8064773">&amp;</span><span class="ident" id="8064774">ls</span><span class="op" id="8064776">.</span><span class="ident" id="8064777">Int32</span><span class="op" id="8064782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064786">Read</span><span class="op" id="8064790">(</span><span class="ident" id="8064791">r</span><span class="op" id="8064792">,</span>&nbsp;<span class="ident" id="8064794">BigEndian</span><span class="op" id="8064803">,</span>&nbsp;<span class="op" id="8064805">&amp;</span><span class="ident" id="8064806">ls</span><span class="op" id="8064808">.</span><span class="ident" id="8064809">Int64</span><span class="op" id="8064814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064818">Read</span><span class="op" id="8064822">(</span><span class="ident" id="8064823">r</span><span class="op" id="8064824">,</span>&nbsp;<span class="ident" id="8064826">BigEndian</span><span class="op" id="8064835">,</span>&nbsp;<span class="op" id="8064837">&amp;</span><span class="ident" id="8064838">ls</span><span class="op" id="8064840">.</span><span class="ident" id="8064841">Uint8</span><span class="op" id="8064846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064850">Read</span><span class="op" id="8064854">(</span><span class="ident" id="8064855">r</span><span class="op" id="8064856">,</span>&nbsp;<span class="ident" id="8064858">BigEndian</span><span class="op" id="8064867">,</span>&nbsp;<span class="op" id="8064869">&amp;</span><span class="ident" id="8064870">ls</span><span class="op" id="8064872">.</span><span class="ident" id="8064873">Uint16</span><span class="op" id="8064879">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064883">Read</span><span class="op" id="8064887">(</span><span class="ident" id="8064888">r</span><span class="op" id="8064889">,</span>&nbsp;<span class="ident" id="8064891">BigEndian</span><span class="op" id="8064900">,</span>&nbsp;<span class="op" id="8064902">&amp;</span><span class="ident" id="8064903">ls</span><span class="op" id="8064905">.</span><span class="ident" id="8064906">Uint32</span><span class="op" id="8064912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064916">Read</span><span class="op" id="8064920">(</span><span class="ident" id="8064921">r</span><span class="op" id="8064922">,</span>&nbsp;<span class="ident" id="8064924">BigEndian</span><span class="op" id="8064933">,</span>&nbsp;<span class="op" id="8064935">&amp;</span><span class="ident" id="8064936">ls</span><span class="op" id="8064938">.</span><span class="ident" id="8064939">Uint64</span><span class="op" id="8064945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8064948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064952">want</span>&nbsp;<span class="op" id="8064957">:=</span>&nbsp;<span class="ident" id="8064960">s</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064963">want</span><span class="op" id="8064967">.</span><span class="ident" id="8064968">Float32</span>&nbsp;<span class="op" id="8064976">=</span>&nbsp;<span class="num" id="8064978">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064981">want</span><span class="op" id="8064985">.</span><span class="ident" id="8064986">Float64</span>&nbsp;<span class="op" id="8064994">=</span>&nbsp;<span class="num" id="8064996">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8064999">want</span><span class="op" id="8065003">.</span><span class="ident" id="8065004">Complex64</span>&nbsp;<span class="op" id="8065014">=</span>&nbsp;<span class="num" id="8065016">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065019">want</span><span class="op" id="8065023">.</span><span class="ident" id="8065024">Complex128</span>&nbsp;<span class="op" id="8065035">=</span>&nbsp;<span class="num" id="8065037">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065040">for</span>&nbsp;<span class="ident" id="8065044">i</span>&nbsp;<span class="op" id="8065046">:=</span>&nbsp;<span class="keyword" id="8065049">range</span>&nbsp;<span class="ident" id="8065055">want</span><span class="op" id="8065059">.</span><span class="ident" id="8065060">Array</span>&nbsp;<span class="op" id="8065066">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065070">want</span><span class="op" id="8065074">.</span><span class="ident" id="8065075">Array</span><span class="op" id="8065080">[</span><span class="ident" id="8065081">i</span><span class="op" id="8065082">]</span>&nbsp;<span class="op" id="8065084">=</span>&nbsp;<span class="num" id="8065086">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065092">b</span><span class="op" id="8065093">.</span><span class="ident" id="8065094">StopTimer</span><span class="op" id="8065103">(</span><span class="op" id="8065104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065107">if</span>&nbsp;<span class="op" id="8065110">!</span><span class="ident" id="8065111">reflect</span><span class="op" id="8065118">.</span><span class="ident" id="8065119">DeepEqual</span><span class="op" id="8065128">(</span><span class="ident" id="8065129">ls</span><span class="op" id="8065131">,</span>&nbsp;<span class="ident" id="8065133">want</span><span class="op" id="8065137">)</span>&nbsp;<span class="op" id="8065139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8065143">panic</span><span class="op" id="8065148">(</span><span class="string" id="8065149">&#34;no&nbsp;match&#34;</span><span class="op" id="8065159">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065162">}</span><br>
<span class="lineno"></span><span class="op" id="8065164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8065167">func</span>&nbsp;<span class="ident" id="8065172">BenchmarkWriteInts</span><span class="op" id="8065190">(</span><span class="ident" id="8065191">b</span>&nbsp;<span class="op" id="8065193">*</span><span class="ident" id="8065194">testing</span><span class="op" id="8065201">.</span><span class="ident" id="8065202">B</span><span class="op" id="8065203">)</span>&nbsp;<span class="op" id="8065205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065208">buf</span>&nbsp;<span class="op" id="8065212">:=</span>&nbsp;<span class="builtinfunc" id="8065215">new</span><span class="op" id="8065218">(</span><span class="ident" id="8065219">bytes</span><span class="op" id="8065224">.</span><span class="ident" id="8065225">Buffer</span><span class="op" id="8065231">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065234">var</span>&nbsp;<span class="ident" id="8065238">w</span>&nbsp;<span class="ident" id="8065240">io</span><span class="op" id="8065242">.</span><span class="ident" id="8065243">Writer</span>&nbsp;<span class="op" id="8065250">=</span>&nbsp;<span class="ident" id="8065252">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065257">b</span><span class="op" id="8065258">.</span><span class="ident" id="8065259">SetBytes</span><span class="op" id="8065267">(</span><span class="num" id="8065268">2</span>&nbsp;<span class="op" id="8065270">*</span>&nbsp;<span class="op" id="8065272">(</span><span class="num" id="8065273">1</span>&nbsp;<span class="op" id="8065275">+</span>&nbsp;<span class="num" id="8065277">2</span>&nbsp;<span class="op" id="8065279">+</span>&nbsp;<span class="num" id="8065281">4</span>&nbsp;<span class="op" id="8065283">+</span>&nbsp;<span class="num" id="8065285">8</span><span class="op" id="8065286">)</span><span class="op" id="8065287">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065290">b</span><span class="op" id="8065291">.</span><span class="ident" id="8065292">ResetTimer</span><span class="op" id="8065302">(</span><span class="op" id="8065303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065306">for</span>&nbsp;<span class="ident" id="8065310">i</span>&nbsp;<span class="op" id="8065312">:=</span>&nbsp;<span class="num" id="8065315">0</span><span class="op" id="8065316">;</span>&nbsp;<span class="ident" id="8065318">i</span>&nbsp;<span class="op" id="8065320">&lt;</span>&nbsp;<span class="ident" id="8065322">b</span><span class="op" id="8065323">.</span><span class="ident" id="8065324">N</span><span class="op" id="8065325">;</span>&nbsp;<span class="ident" id="8065327">i</span><span class="op" id="8065328">++</span>&nbsp;<span class="op" id="8065331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065335">buf</span><span class="op" id="8065338">.</span><span class="ident" id="8065339">Reset</span><span class="op" id="8065344">(</span><span class="op" id="8065345">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065349">Write</span><span class="op" id="8065354">(</span><span class="ident" id="8065355">w</span><span class="op" id="8065356">,</span>&nbsp;<span class="ident" id="8065358">BigEndian</span><span class="op" id="8065367">,</span>&nbsp;<span class="ident" id="8065369">s</span><span class="op" id="8065370">.</span><span class="ident" id="8065371">Int8</span><span class="op" id="8065375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065379">Write</span><span class="op" id="8065384">(</span><span class="ident" id="8065385">w</span><span class="op" id="8065386">,</span>&nbsp;<span class="ident" id="8065388">BigEndian</span><span class="op" id="8065397">,</span>&nbsp;<span class="ident" id="8065399">s</span><span class="op" id="8065400">.</span><span class="ident" id="8065401">Int16</span><span class="op" id="8065406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065410">Write</span><span class="op" id="8065415">(</span><span class="ident" id="8065416">w</span><span class="op" id="8065417">,</span>&nbsp;<span class="ident" id="8065419">BigEndian</span><span class="op" id="8065428">,</span>&nbsp;<span class="ident" id="8065430">s</span><span class="op" id="8065431">.</span><span class="ident" id="8065432">Int32</span><span class="op" id="8065437">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065441">Write</span><span class="op" id="8065446">(</span><span class="ident" id="8065447">w</span><span class="op" id="8065448">,</span>&nbsp;<span class="ident" id="8065450">BigEndian</span><span class="op" id="8065459">,</span>&nbsp;<span class="ident" id="8065461">s</span><span class="op" id="8065462">.</span><span class="ident" id="8065463">Int64</span><span class="op" id="8065468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065472">Write</span><span class="op" id="8065477">(</span><span class="ident" id="8065478">w</span><span class="op" id="8065479">,</span>&nbsp;<span class="ident" id="8065481">BigEndian</span><span class="op" id="8065490">,</span>&nbsp;<span class="ident" id="8065492">s</span><span class="op" id="8065493">.</span><span class="ident" id="8065494">Uint8</span><span class="op" id="8065499">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065503">Write</span><span class="op" id="8065508">(</span><span class="ident" id="8065509">w</span><span class="op" id="8065510">,</span>&nbsp;<span class="ident" id="8065512">BigEndian</span><span class="op" id="8065521">,</span>&nbsp;<span class="ident" id="8065523">s</span><span class="op" id="8065524">.</span><span class="ident" id="8065525">Uint16</span><span class="op" id="8065531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065535">Write</span><span class="op" id="8065540">(</span><span class="ident" id="8065541">w</span><span class="op" id="8065542">,</span>&nbsp;<span class="ident" id="8065544">BigEndian</span><span class="op" id="8065553">,</span>&nbsp;<span class="ident" id="8065555">s</span><span class="op" id="8065556">.</span><span class="ident" id="8065557">Uint32</span><span class="op" id="8065563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065567">Write</span><span class="op" id="8065572">(</span><span class="ident" id="8065573">w</span><span class="op" id="8065574">,</span>&nbsp;<span class="ident" id="8065576">BigEndian</span><span class="op" id="8065585">,</span>&nbsp;<span class="ident" id="8065587">s</span><span class="op" id="8065588">.</span><span class="ident" id="8065589">Uint64</span><span class="op" id="8065595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065601">b</span><span class="op" id="8065602">.</span><span class="ident" id="8065603">StopTimer</span><span class="op" id="8065612">(</span><span class="op" id="8065613">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065616">if</span>&nbsp;<span class="op" id="8065619">!</span><span class="ident" id="8065620">bytes</span><span class="op" id="8065625">.</span><span class="ident" id="8065626">Equal</span><span class="op" id="8065631">(</span><span class="ident" id="8065632">buf</span><span class="op" id="8065635">.</span><span class="ident" id="8065636">Bytes</span><span class="op" id="8065641">(</span><span class="op" id="8065642">)</span><span class="op" id="8065643">,</span>&nbsp;<span class="ident" id="8065645">big</span><span class="op" id="8065648">[</span><span class="op" id="8065649">:</span><span class="num" id="8065650">30</span><span class="op" id="8065652">]</span><span class="op" id="8065653">)</span>&nbsp;<span class="op" id="8065655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065659">b</span><span class="op" id="8065660">.</span><span class="ident" id="8065661">Fatalf</span><span class="op" id="8065667">(</span><span class="string" id="8065668">&#34;first&nbsp;half&nbsp;doesn&#39;t&nbsp;match:&nbsp;%x&nbsp;%x&#34;</span><span class="op" id="8065701">,</span>&nbsp;<span class="ident" id="8065703">buf</span><span class="op" id="8065706">.</span><span class="ident" id="8065707">Bytes</span><span class="op" id="8065712">(</span><span class="op" id="8065713">)</span><span class="op" id="8065714">,</span>&nbsp;<span class="ident" id="8065716">big</span><span class="op" id="8065719">[</span><span class="op" id="8065720">:</span><span class="num" id="8065721">30</span><span class="op" id="8065723">]</span><span class="op" id="8065724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065727">}</span><br>
<span class="lineno"></span><span class="op" id="8065729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="8065732">func</span>&nbsp;<span class="ident" id="8065737">BenchmarkWriteSlice1000Int32s</span><span class="op" id="8065766">(</span><span class="ident" id="8065767">b</span>&nbsp;<span class="op" id="8065769">*</span><span class="ident" id="8065770">testing</span><span class="op" id="8065777">.</span><span class="ident" id="8065778">B</span><span class="op" id="8065779">)</span>&nbsp;<span class="op" id="8065781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065784">slice</span>&nbsp;<span class="op" id="8065790">:=</span>&nbsp;<span class="builtinfunc" id="8065793">make</span><span class="op" id="8065797">(</span><span class="op" id="8065798">[</span><span class="op" id="8065799">]</span><span class="builtintype" id="8065800">int32</span><span class="op" id="8065805">,</span>&nbsp;<span class="num" id="8065807">1000</span><span class="op" id="8065811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065814">buf</span>&nbsp;<span class="op" id="8065818">:=</span>&nbsp;<span class="builtinfunc" id="8065821">new</span><span class="op" id="8065824">(</span><span class="ident" id="8065825">bytes</span><span class="op" id="8065830">.</span><span class="ident" id="8065831">Buffer</span><span class="op" id="8065837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065840">var</span>&nbsp;<span class="ident" id="8065844">w</span>&nbsp;<span class="ident" id="8065846">io</span><span class="op" id="8065848">.</span><span class="ident" id="8065849">Writer</span>&nbsp;<span class="op" id="8065856">=</span>&nbsp;<span class="ident" id="8065858">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065863">b</span><span class="op" id="8065864">.</span><span class="ident" id="8065865">SetBytes</span><span class="op" id="8065873">(</span><span class="num" id="8065874">4</span>&nbsp;<span class="op" id="8065876">*</span>&nbsp;<span class="num" id="8065878">1000</span><span class="op" id="8065882">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065885">b</span><span class="op" id="8065886">.</span><span class="ident" id="8065887">ResetTimer</span><span class="op" id="8065897">(</span><span class="op" id="8065898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8065901">for</span>&nbsp;<span class="ident" id="8065905">i</span>&nbsp;<span class="op" id="8065907">:=</span>&nbsp;<span class="num" id="8065910">0</span><span class="op" id="8065911">;</span>&nbsp;<span class="ident" id="8065913">i</span>&nbsp;<span class="op" id="8065915">&lt;</span>&nbsp;<span class="ident" id="8065917">b</span><span class="op" id="8065918">.</span><span class="ident" id="8065919">N</span><span class="op" id="8065920">;</span>&nbsp;<span class="ident" id="8065922">i</span><span class="op" id="8065923">++</span>&nbsp;<span class="op" id="8065926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065930">buf</span><span class="op" id="8065933">.</span><span class="ident" id="8065934">Reset</span><span class="op" id="8065939">(</span><span class="op" id="8065940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065944">Write</span><span class="op" id="8065949">(</span><span class="ident" id="8065950">w</span><span class="op" id="8065951">,</span>&nbsp;<span class="ident" id="8065953">BigEndian</span><span class="op" id="8065962">,</span>&nbsp;<span class="ident" id="8065964">slice</span><span class="op" id="8065969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8065972">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8065975">b</span><span class="op" id="8065976">.</span><span class="ident" id="8065977">StopTimer</span><span class="op" id="8065986">(</span><span class="op" id="8065987">)</span><br>
<span class="lineno"></span><span class="op" id="8065989">}</span>
</div>
</body>
</html>
