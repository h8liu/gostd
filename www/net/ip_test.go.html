<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7450507">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7450562">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7450616">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7450667">package</span>&nbsp;<span class="ident" id="7450675">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7450680">import</span>&nbsp;<span class="op" id="7450687">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450690">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450701">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7450712">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7450722">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7450725">var</span>&nbsp;<span class="ident" id="7450729">parseIPTests</span>&nbsp;<span class="op" id="7450742">=</span>&nbsp;<span class="op" id="7450744">[</span><span class="op" id="7450745">]</span><span class="keyword" id="7450746">struct</span>&nbsp;<span class="op" id="7450753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450756">in</span>&nbsp;&nbsp;<span class="builtintype" id="7450760">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7450768">out</span>&nbsp;<span class="ident" id="7450772">IP</span><br>
<span class="lineno"></span><span class="op" id="7450775">}</span><span class="op" id="7450776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450779">{</span><span class="string" id="7450780">&#34;127.0.1.2&#34;</span><span class="op" id="7450791">,</span>&nbsp;<span class="ident" id="7450793">IPv4</span><span class="op" id="7450797">(</span><span class="num" id="7450798">127</span><span class="op" id="7450801">,</span>&nbsp;<span class="num" id="7450803">0</span><span class="op" id="7450804">,</span>&nbsp;<span class="num" id="7450806">1</span><span class="op" id="7450807">,</span>&nbsp;<span class="num" id="7450809">2</span><span class="op" id="7450810">)</span><span class="op" id="7450811">}</span><span class="op" id="7450812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450815">{</span><span class="string" id="7450816">&#34;127.0.0.1&#34;</span><span class="op" id="7450827">,</span>&nbsp;<span class="ident" id="7450829">IPv4</span><span class="op" id="7450833">(</span><span class="num" id="7450834">127</span><span class="op" id="7450837">,</span>&nbsp;<span class="num" id="7450839">0</span><span class="op" id="7450840">,</span>&nbsp;<span class="num" id="7450842">0</span><span class="op" id="7450843">,</span>&nbsp;<span class="num" id="7450845">1</span><span class="op" id="7450846">)</span><span class="op" id="7450847">}</span><span class="op" id="7450848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450851">{</span><span class="string" id="7450852">&#34;127.0.0.256&#34;</span><span class="op" id="7450865">,</span>&nbsp;<span class="ident" id="7450867">nil</span><span class="op" id="7450870">}</span><span class="op" id="7450871">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450874">{</span><span class="string" id="7450875">&#34;abc&#34;</span><span class="op" id="7450880">,</span>&nbsp;<span class="ident" id="7450882">nil</span><span class="op" id="7450885">}</span><span class="op" id="7450886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450889">{</span><span class="string" id="7450890">&#34;123:&#34;</span><span class="op" id="7450896">,</span>&nbsp;<span class="ident" id="7450898">nil</span><span class="op" id="7450901">}</span><span class="op" id="7450902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450905">{</span><span class="string" id="7450906">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="7450924">,</span>&nbsp;<span class="ident" id="7450926">IPv4</span><span class="op" id="7450930">(</span><span class="num" id="7450931">127</span><span class="op" id="7450934">,</span>&nbsp;<span class="num" id="7450936">0</span><span class="op" id="7450937">,</span>&nbsp;<span class="num" id="7450939">0</span><span class="op" id="7450940">,</span>&nbsp;<span class="num" id="7450942">1</span><span class="op" id="7450943">)</span><span class="op" id="7450944">}</span><span class="op" id="7450945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7450948">{</span><span class="string" id="7450949">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="7450971">,</span>&nbsp;<span class="ident" id="7450973">IP</span><span class="op" id="7450975">{</span><span class="num" id="7450976">0x20</span><span class="op" id="7450980">,</span>&nbsp;<span class="num" id="7450982">0x01</span><span class="op" id="7450986">,</span>&nbsp;<span class="num" id="7450988">0x48</span><span class="op" id="7450992">,</span>&nbsp;<span class="num" id="7450994">0x60</span><span class="op" id="7450998">,</span>&nbsp;<span class="num" id="7451000">0</span><span class="op" id="7451001">,</span>&nbsp;<span class="num" id="7451003">0</span><span class="op" id="7451004">,</span>&nbsp;<span class="num" id="7451006">0x20</span><span class="op" id="7451010">,</span>&nbsp;<span class="num" id="7451012">0x01</span><span class="op" id="7451016">,</span>&nbsp;<span class="num" id="7451018">0</span><span class="op" id="7451019">,</span>&nbsp;<span class="num" id="7451021">0</span><span class="op" id="7451022">,</span>&nbsp;<span class="num" id="7451024">0</span><span class="op" id="7451025">,</span>&nbsp;<span class="num" id="7451027">0</span><span class="op" id="7451028">,</span>&nbsp;<span class="num" id="7451030">0</span><span class="op" id="7451031">,</span>&nbsp;<span class="num" id="7451033">0</span><span class="op" id="7451034">,</span>&nbsp;<span class="num" id="7451036">0x00</span><span class="op" id="7451040">,</span>&nbsp;<span class="num" id="7451042">0x68</span><span class="op" id="7451046">}</span><span class="op" id="7451047">}</span><span class="op" id="7451048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451051">{</span><span class="string" id="7451052">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="7451070">,</span>&nbsp;<span class="ident" id="7451072">IPv4</span><span class="op" id="7451076">(</span><span class="num" id="7451077">74</span><span class="op" id="7451079">,</span>&nbsp;<span class="num" id="7451081">125</span><span class="op" id="7451084">,</span>&nbsp;<span class="num" id="7451086">19</span><span class="op" id="7451088">,</span>&nbsp;<span class="num" id="7451090">99</span><span class="op" id="7451092">)</span><span class="op" id="7451093">}</span><span class="op" id="7451094">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451097">{</span><span class="string" id="7451098">&#34;fe80::1%lo0&#34;</span><span class="op" id="7451111">,</span>&nbsp;<span class="ident" id="7451113">nil</span><span class="op" id="7451116">}</span><span class="op" id="7451117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451120">{</span><span class="string" id="7451121">&#34;fe80::1%911&#34;</span><span class="op" id="7451134">,</span>&nbsp;<span class="ident" id="7451136">nil</span><span class="op" id="7451139">}</span><span class="op" id="7451140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451143">{</span><span class="string" id="7451144">&#34;&#34;</span><span class="op" id="7451146">,</span>&nbsp;<span class="ident" id="7451148">nil</span><span class="op" id="7451151">}</span><span class="op" id="7451152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451155">{</span><span class="string" id="7451156">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="7451182">,</span>&nbsp;<span class="ident" id="7451184">nil</span><span class="op" id="7451187">}</span><span class="op" id="7451188">,</span>&nbsp;<span class="comment" id="7451190">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="7451204">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="7451207">func</span>&nbsp;<span class="ident" id="7451212">TestParseIP</span><span class="op" id="7451223">(</span><span class="ident" id="7451224">t</span>&nbsp;<span class="op" id="7451226">*</span><span class="ident" id="7451227">testing</span><span class="op" id="7451234">.</span><span class="ident" id="7451235">T</span><span class="op" id="7451236">)</span>&nbsp;<span class="op" id="7451238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451241">for</span>&nbsp;<span class="ident" id="7451245">_</span><span class="op" id="7451246">,</span>&nbsp;<span class="ident" id="7451248">tt</span>&nbsp;<span class="op" id="7451251">:=</span>&nbsp;<span class="keyword" id="7451254">range</span>&nbsp;<span class="ident" id="7451260">parseIPTests</span>&nbsp;<span class="op" id="7451273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451277">if</span>&nbsp;<span class="ident" id="7451280">out</span>&nbsp;<span class="op" id="7451284">:=</span>&nbsp;<span class="ident" id="7451287">ParseIP</span><span class="op" id="7451294">(</span><span class="ident" id="7451295">tt</span><span class="op" id="7451297">.</span><span class="ident" id="7451298">in</span><span class="op" id="7451300">)</span><span class="op" id="7451301">;</span>&nbsp;<span class="op" id="7451303">!</span><span class="ident" id="7451304">reflect</span><span class="op" id="7451311">.</span><span class="ident" id="7451312">DeepEqual</span><span class="op" id="7451321">(</span><span class="ident" id="7451322">out</span><span class="op" id="7451325">,</span>&nbsp;<span class="ident" id="7451327">tt</span><span class="op" id="7451329">.</span><span class="ident" id="7451330">out</span><span class="op" id="7451333">)</span>&nbsp;<span class="op" id="7451335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451340">t</span><span class="op" id="7451341">.</span><span class="ident" id="7451342">Errorf</span><span class="op" id="7451348">(</span><span class="string" id="7451349">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7451376">,</span>&nbsp;<span class="ident" id="7451378">tt</span><span class="op" id="7451380">.</span><span class="ident" id="7451381">in</span><span class="op" id="7451383">,</span>&nbsp;<span class="ident" id="7451385">out</span><span class="op" id="7451388">,</span>&nbsp;<span class="ident" id="7451390">tt</span><span class="op" id="7451392">.</span><span class="ident" id="7451393">out</span><span class="op" id="7451396">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451404">if</span>&nbsp;<span class="ident" id="7451407">tt</span><span class="op" id="7451409">.</span><span class="ident" id="7451410">in</span>&nbsp;<span class="op" id="7451413">==</span>&nbsp;<span class="string" id="7451416">&#34;&#34;</span>&nbsp;<span class="op" id="7451419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7451424">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451466">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451477">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451481">var</span>&nbsp;<span class="ident" id="7451485">out</span>&nbsp;<span class="ident" id="7451489">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451494">if</span>&nbsp;<span class="ident" id="7451497">err</span>&nbsp;<span class="op" id="7451501">:=</span>&nbsp;<span class="ident" id="7451504">out</span><span class="op" id="7451507">.</span><span class="ident" id="7451508">UnmarshalText</span><span class="op" id="7451521">(</span><span class="op" id="7451522">[</span><span class="op" id="7451523">]</span><span class="builtintype" id="7451524">byte</span><span class="op" id="7451528">(</span><span class="ident" id="7451529">tt</span><span class="op" id="7451531">.</span><span class="ident" id="7451532">in</span><span class="op" id="7451534">)</span><span class="op" id="7451535">)</span><span class="op" id="7451536">;</span>&nbsp;<span class="op" id="7451538">!</span><span class="ident" id="7451539">reflect</span><span class="op" id="7451546">.</span><span class="ident" id="7451547">DeepEqual</span><span class="op" id="7451556">(</span><span class="ident" id="7451557">out</span><span class="op" id="7451560">,</span>&nbsp;<span class="ident" id="7451562">tt</span><span class="op" id="7451564">.</span><span class="ident" id="7451565">out</span><span class="op" id="7451568">)</span>&nbsp;<span class="op" id="7451570">||</span>&nbsp;<span class="op" id="7451573">(</span><span class="ident" id="7451574">tt</span><span class="op" id="7451576">.</span><span class="ident" id="7451577">out</span>&nbsp;<span class="op" id="7451581">==</span>&nbsp;<span class="ident" id="7451584">nil</span><span class="op" id="7451587">)</span>&nbsp;<span class="op" id="7451589">!=</span>&nbsp;<span class="op" id="7451592">(</span><span class="ident" id="7451593">err</span>&nbsp;<span class="op" id="7451597">!=</span>&nbsp;<span class="ident" id="7451600">nil</span><span class="op" id="7451603">)</span>&nbsp;<span class="op" id="7451605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451610">t</span><span class="op" id="7451611">.</span><span class="ident" id="7451612">Errorf</span><span class="op" id="7451618">(</span><span class="string" id="7451619">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7451659">,</span>&nbsp;<span class="ident" id="7451661">tt</span><span class="op" id="7451663">.</span><span class="ident" id="7451664">in</span><span class="op" id="7451666">,</span>&nbsp;<span class="ident" id="7451668">out</span><span class="op" id="7451671">,</span>&nbsp;<span class="ident" id="7451673">err</span><span class="op" id="7451676">,</span>&nbsp;<span class="ident" id="7451678">tt</span><span class="op" id="7451680">.</span><span class="ident" id="7451681">out</span><span class="op" id="7451684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451691">}</span><br>
<span class="lineno">45</span><span class="op" id="7451693">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7451696">func</span>&nbsp;<span class="ident" id="7451701">BenchmarkParseIP</span><span class="op" id="7451717">(</span><span class="ident" id="7451718">b</span>&nbsp;<span class="op" id="7451720">*</span><span class="ident" id="7451721">testing</span><span class="op" id="7451728">.</span><span class="ident" id="7451729">B</span><span class="op" id="7451730">)</span>&nbsp;<span class="op" id="7451732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451735">for</span>&nbsp;<span class="ident" id="7451739">i</span>&nbsp;<span class="op" id="7451741">:=</span>&nbsp;<span class="num" id="7451744">0</span><span class="op" id="7451745">;</span>&nbsp;<span class="ident" id="7451747">i</span>&nbsp;<span class="op" id="7451749">&lt;</span>&nbsp;<span class="ident" id="7451751">b</span><span class="op" id="7451752">.</span><span class="ident" id="7451753">N</span><span class="op" id="7451754">;</span>&nbsp;<span class="ident" id="7451756">i</span><span class="op" id="7451757">++</span>&nbsp;<span class="op" id="7451760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451764">for</span>&nbsp;<span class="ident" id="7451768">_</span><span class="op" id="7451769">,</span>&nbsp;<span class="ident" id="7451771">tt</span>&nbsp;<span class="op" id="7451774">:=</span>&nbsp;<span class="keyword" id="7451777">range</span>&nbsp;<span class="ident" id="7451783">parseIPTests</span>&nbsp;<span class="op" id="7451796">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7451801">ParseIP</span><span class="op" id="7451808">(</span><span class="ident" id="7451809">tt</span><span class="op" id="7451811">.</span><span class="ident" id="7451812">in</span><span class="op" id="7451814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7451821">}</span><br>
<span class="lineno"></span><span class="op" id="7451823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="7451826">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="7451840">func</span>&nbsp;<span class="ident" id="7451845">TestMarshalEmptyIP</span><span class="op" id="7451863">(</span><span class="ident" id="7451864">t</span>&nbsp;<span class="op" id="7451866">*</span><span class="ident" id="7451867">testing</span><span class="op" id="7451874">.</span><span class="ident" id="7451875">T</span><span class="op" id="7451876">)</span>&nbsp;<span class="op" id="7451878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451881">for</span>&nbsp;<span class="ident" id="7451885">_</span><span class="op" id="7451886">,</span>&nbsp;<span class="ident" id="7451888">in</span>&nbsp;<span class="op" id="7451891">:=</span>&nbsp;<span class="keyword" id="7451894">range</span>&nbsp;<span class="op" id="7451900">[</span><span class="op" id="7451901">]</span><span class="op" id="7451902">[</span><span class="op" id="7451903">]</span><span class="builtintype" id="7451904">byte</span><span class="op" id="7451908">{</span><span class="ident" id="7451909">nil</span><span class="op" id="7451912">,</span>&nbsp;<span class="op" id="7451914">[</span><span class="op" id="7451915">]</span><span class="builtintype" id="7451916">byte</span><span class="op" id="7451920">(</span><span class="string" id="7451921">&#34;&#34;</span><span class="op" id="7451923">)</span><span class="op" id="7451924">}</span>&nbsp;<span class="op" id="7451926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451930">var</span>&nbsp;<span class="ident" id="7451934">out</span>&nbsp;<span class="op" id="7451938">=</span>&nbsp;<span class="ident" id="7451940">IP</span><span class="op" id="7451942">{</span><span class="num" id="7451943">1</span><span class="op" id="7451944">,</span>&nbsp;<span class="num" id="7451946">2</span><span class="op" id="7451947">,</span>&nbsp;<span class="num" id="7451949">3</span><span class="op" id="7451950">,</span>&nbsp;<span class="num" id="7451952">4</span><span class="op" id="7451953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7451957">if</span>&nbsp;<span class="ident" id="7451960">err</span>&nbsp;<span class="op" id="7451964">:=</span>&nbsp;<span class="ident" id="7451967">out</span><span class="op" id="7451970">.</span><span class="ident" id="7451971">UnmarshalText</span><span class="op" id="7451984">(</span><span class="ident" id="7451985">in</span><span class="op" id="7451987">)</span><span class="op" id="7451988">;</span>&nbsp;<span class="ident" id="7451990">err</span>&nbsp;<span class="op" id="7451994">!=</span>&nbsp;<span class="ident" id="7451997">nil</span>&nbsp;<span class="op" id="7452001">||</span>&nbsp;<span class="ident" id="7452004">out</span>&nbsp;<span class="op" id="7452008">!=</span>&nbsp;<span class="ident" id="7452011">nil</span>&nbsp;<span class="op" id="7452015">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452020">t</span><span class="op" id="7452021">.</span><span class="ident" id="7452022">Errorf</span><span class="op" id="7452028">(</span><span class="string" id="7452029">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="7452072">,</span>&nbsp;<span class="ident" id="7452074">in</span><span class="op" id="7452076">,</span>&nbsp;<span class="ident" id="7452078">out</span><span class="op" id="7452081">,</span>&nbsp;<span class="ident" id="7452083">err</span><span class="op" id="7452086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7452096">var</span>&nbsp;<span class="ident" id="7452100">ip</span>&nbsp;<span class="ident" id="7452103">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452107">got</span><span class="op" id="7452110">,</span>&nbsp;<span class="ident" id="7452112">err</span>&nbsp;<span class="op" id="7452116">:=</span>&nbsp;<span class="ident" id="7452119">ip</span><span class="op" id="7452121">.</span><span class="ident" id="7452122">MarshalText</span><span class="op" id="7452133">(</span><span class="op" id="7452134">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7452137">if</span>&nbsp;<span class="ident" id="7452140">err</span>&nbsp;<span class="op" id="7452144">!=</span>&nbsp;<span class="ident" id="7452147">nil</span>&nbsp;<span class="op" id="7452151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452155">t</span><span class="op" id="7452156">.</span><span class="ident" id="7452157">Fatal</span><span class="op" id="7452162">(</span><span class="ident" id="7452163">err</span><span class="op" id="7452166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7452172">if</span>&nbsp;<span class="op" id="7452175">!</span><span class="ident" id="7452176">reflect</span><span class="op" id="7452183">.</span><span class="ident" id="7452184">DeepEqual</span><span class="op" id="7452193">(</span><span class="ident" id="7452194">got</span><span class="op" id="7452197">,</span>&nbsp;<span class="op" id="7452199">[</span><span class="op" id="7452200">]</span><span class="builtintype" id="7452201">byte</span><span class="op" id="7452205">(</span><span class="string" id="7452206">&#34;&#34;</span><span class="op" id="7452208">)</span><span class="op" id="7452209">)</span>&nbsp;<span class="op" id="7452211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452215">t</span><span class="op" id="7452216">.</span><span class="ident" id="7452217">Errorf</span><span class="op" id="7452223">(</span><span class="string" id="7452224">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="7452250">,</span>&nbsp;<span class="ident" id="7452252">got</span><span class="op" id="7452255">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452258">}</span><br>
<span class="lineno"></span><span class="op" id="7452260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7452263">var</span>&nbsp;<span class="ident" id="7452267">ipStringTests</span>&nbsp;<span class="op" id="7452281">=</span>&nbsp;<span class="op" id="7452283">[</span><span class="op" id="7452284">]</span><span class="keyword" id="7452285">struct</span>&nbsp;<span class="op" id="7452292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452295">in</span>&nbsp;&nbsp;<span class="ident" id="7452299">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7452303">out</span>&nbsp;<span class="builtintype" id="7452307">string</span>&nbsp;<span class="comment" id="7452314">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="7452330">}</span><span class="op" id="7452331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452334">{</span><span class="ident" id="7452335">IP</span><span class="op" id="7452337">{</span><span class="num" id="7452338">0x20</span><span class="op" id="7452342">,</span>&nbsp;<span class="num" id="7452344">0x1</span><span class="op" id="7452347">,</span>&nbsp;<span class="num" id="7452349">0xd</span><span class="op" id="7452352">,</span>&nbsp;<span class="num" id="7452354">0xb8</span><span class="op" id="7452358">,</span>&nbsp;<span class="num" id="7452360">0</span><span class="op" id="7452361">,</span>&nbsp;<span class="num" id="7452363">0</span><span class="op" id="7452364">,</span>&nbsp;<span class="num" id="7452366">0</span><span class="op" id="7452367">,</span>&nbsp;<span class="num" id="7452369">0</span><span class="op" id="7452370">,</span>&nbsp;<span class="num" id="7452372">0</span><span class="op" id="7452373">,</span>&nbsp;<span class="num" id="7452375">0</span><span class="op" id="7452376">,</span>&nbsp;<span class="num" id="7452378">0x1</span><span class="op" id="7452381">,</span>&nbsp;<span class="num" id="7452383">0x23</span><span class="op" id="7452387">,</span>&nbsp;<span class="num" id="7452389">0</span><span class="op" id="7452390">,</span>&nbsp;<span class="num" id="7452392">0x12</span><span class="op" id="7452396">,</span>&nbsp;<span class="num" id="7452398">0</span><span class="op" id="7452399">,</span>&nbsp;<span class="num" id="7452401">0x1</span><span class="op" id="7452404">}</span><span class="op" id="7452405">,</span>&nbsp;<span class="string" id="7452407">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="7452427">}</span><span class="op" id="7452428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452431">{</span><span class="ident" id="7452432">IP</span><span class="op" id="7452434">{</span><span class="num" id="7452435">0x20</span><span class="op" id="7452439">,</span>&nbsp;<span class="num" id="7452441">0x1</span><span class="op" id="7452444">,</span>&nbsp;<span class="num" id="7452446">0xd</span><span class="op" id="7452449">,</span>&nbsp;<span class="num" id="7452451">0xb8</span><span class="op" id="7452455">,</span>&nbsp;<span class="num" id="7452457">0</span><span class="op" id="7452458">,</span>&nbsp;<span class="num" id="7452460">0</span><span class="op" id="7452461">,</span>&nbsp;<span class="num" id="7452463">0</span><span class="op" id="7452464">,</span>&nbsp;<span class="num" id="7452466">0</span><span class="op" id="7452467">,</span>&nbsp;<span class="num" id="7452469">0</span><span class="op" id="7452470">,</span>&nbsp;<span class="num" id="7452472">0</span><span class="op" id="7452473">,</span>&nbsp;<span class="num" id="7452475">0</span><span class="op" id="7452476">,</span>&nbsp;<span class="num" id="7452478">0</span><span class="op" id="7452479">,</span>&nbsp;<span class="num" id="7452481">0</span><span class="op" id="7452482">,</span>&nbsp;<span class="num" id="7452484">0</span><span class="op" id="7452485">,</span>&nbsp;<span class="num" id="7452487">0</span><span class="op" id="7452488">,</span>&nbsp;<span class="num" id="7452490">0x1</span><span class="op" id="7452493">}</span><span class="op" id="7452494">,</span>&nbsp;<span class="string" id="7452496">&#34;2001:db8::1&#34;</span><span class="op" id="7452509">}</span><span class="op" id="7452510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452513">{</span><span class="ident" id="7452514">IP</span><span class="op" id="7452516">{</span><span class="num" id="7452517">0x20</span><span class="op" id="7452521">,</span>&nbsp;<span class="num" id="7452523">0x1</span><span class="op" id="7452526">,</span>&nbsp;<span class="num" id="7452528">0xd</span><span class="op" id="7452531">,</span>&nbsp;<span class="num" id="7452533">0xb8</span><span class="op" id="7452537">,</span>&nbsp;<span class="num" id="7452539">0</span><span class="op" id="7452540">,</span>&nbsp;<span class="num" id="7452542">0</span><span class="op" id="7452543">,</span>&nbsp;<span class="num" id="7452545">0</span><span class="op" id="7452546">,</span>&nbsp;<span class="num" id="7452548">0x1</span><span class="op" id="7452551">,</span>&nbsp;<span class="num" id="7452553">0</span><span class="op" id="7452554">,</span>&nbsp;<span class="num" id="7452556">0</span><span class="op" id="7452557">,</span>&nbsp;<span class="num" id="7452559">0</span><span class="op" id="7452560">,</span>&nbsp;<span class="num" id="7452562">0x1</span><span class="op" id="7452565">,</span>&nbsp;<span class="num" id="7452567">0</span><span class="op" id="7452568">,</span>&nbsp;<span class="num" id="7452570">0</span><span class="op" id="7452571">,</span>&nbsp;<span class="num" id="7452573">0</span><span class="op" id="7452574">,</span>&nbsp;<span class="num" id="7452576">0x1</span><span class="op" id="7452579">}</span><span class="op" id="7452580">,</span>&nbsp;<span class="string" id="7452582">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="7452604">}</span><span class="op" id="7452605">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452608">{</span><span class="ident" id="7452609">IP</span><span class="op" id="7452611">{</span><span class="num" id="7452612">0x20</span><span class="op" id="7452616">,</span>&nbsp;<span class="num" id="7452618">0x1</span><span class="op" id="7452621">,</span>&nbsp;<span class="num" id="7452623">0xd</span><span class="op" id="7452626">,</span>&nbsp;<span class="num" id="7452628">0xb8</span><span class="op" id="7452632">,</span>&nbsp;<span class="num" id="7452634">0</span><span class="op" id="7452635">,</span>&nbsp;<span class="num" id="7452637">0x1</span><span class="op" id="7452640">,</span>&nbsp;<span class="num" id="7452642">0</span><span class="op" id="7452643">,</span>&nbsp;<span class="num" id="7452645">0</span><span class="op" id="7452646">,</span>&nbsp;<span class="num" id="7452648">0</span><span class="op" id="7452649">,</span>&nbsp;<span class="num" id="7452651">0x1</span><span class="op" id="7452654">,</span>&nbsp;<span class="num" id="7452656">0</span><span class="op" id="7452657">,</span>&nbsp;<span class="num" id="7452659">0</span><span class="op" id="7452660">,</span>&nbsp;<span class="num" id="7452662">0</span><span class="op" id="7452663">,</span>&nbsp;<span class="num" id="7452665">0x1</span><span class="op" id="7452668">,</span>&nbsp;<span class="num" id="7452670">0</span><span class="op" id="7452671">,</span>&nbsp;<span class="num" id="7452673">0</span><span class="op" id="7452674">}</span><span class="op" id="7452675">,</span>&nbsp;<span class="string" id="7452677">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="7452699">}</span><span class="op" id="7452700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452703">{</span><span class="ident" id="7452704">IP</span><span class="op" id="7452706">{</span><span class="num" id="7452707">0x20</span><span class="op" id="7452711">,</span>&nbsp;<span class="num" id="7452713">0x1</span><span class="op" id="7452716">,</span>&nbsp;<span class="num" id="7452718">0</span><span class="op" id="7452719">,</span>&nbsp;<span class="num" id="7452721">0</span><span class="op" id="7452722">,</span>&nbsp;<span class="num" id="7452724">0</span><span class="op" id="7452725">,</span>&nbsp;<span class="num" id="7452727">0</span><span class="op" id="7452728">,</span>&nbsp;<span class="num" id="7452730">0</span><span class="op" id="7452731">,</span>&nbsp;<span class="num" id="7452733">0</span><span class="op" id="7452734">,</span>&nbsp;<span class="num" id="7452736">0</span><span class="op" id="7452737">,</span>&nbsp;<span class="num" id="7452739">0x1</span><span class="op" id="7452742">,</span>&nbsp;<span class="num" id="7452744">0</span><span class="op" id="7452745">,</span>&nbsp;<span class="num" id="7452747">0</span><span class="op" id="7452748">,</span>&nbsp;<span class="num" id="7452750">0</span><span class="op" id="7452751">,</span>&nbsp;<span class="num" id="7452753">0</span><span class="op" id="7452754">,</span>&nbsp;<span class="num" id="7452756">0</span><span class="op" id="7452757">,</span>&nbsp;<span class="num" id="7452759">0x1</span><span class="op" id="7452762">}</span><span class="op" id="7452763">,</span>&nbsp;<span class="string" id="7452765">&#34;2001::1:0:0:1&#34;</span><span class="op" id="7452780">}</span><span class="op" id="7452781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452784">{</span><span class="ident" id="7452785">IP</span><span class="op" id="7452787">{</span><span class="num" id="7452788">0x20</span><span class="op" id="7452792">,</span>&nbsp;<span class="num" id="7452794">0x1</span><span class="op" id="7452797">,</span>&nbsp;<span class="num" id="7452799">0xd</span><span class="op" id="7452802">,</span>&nbsp;<span class="num" id="7452804">0xb8</span><span class="op" id="7452808">,</span>&nbsp;<span class="num" id="7452810">0</span><span class="op" id="7452811">,</span>&nbsp;<span class="num" id="7452813">0</span><span class="op" id="7452814">,</span>&nbsp;<span class="num" id="7452816">0</span><span class="op" id="7452817">,</span>&nbsp;<span class="num" id="7452819">0</span><span class="op" id="7452820">,</span>&nbsp;<span class="num" id="7452822">0</span><span class="op" id="7452823">,</span>&nbsp;<span class="num" id="7452825">0x1</span><span class="op" id="7452828">,</span>&nbsp;<span class="num" id="7452830">0</span><span class="op" id="7452831">,</span>&nbsp;<span class="num" id="7452833">0</span><span class="op" id="7452834">,</span>&nbsp;<span class="num" id="7452836">0</span><span class="op" id="7452837">,</span>&nbsp;<span class="num" id="7452839">0</span><span class="op" id="7452840">,</span>&nbsp;<span class="num" id="7452842">0</span><span class="op" id="7452843">,</span>&nbsp;<span class="num" id="7452845">0</span><span class="op" id="7452846">}</span><span class="op" id="7452847">,</span>&nbsp;<span class="string" id="7452849">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="7452867">}</span><span class="op" id="7452868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452871">{</span><span class="ident" id="7452872">IP</span><span class="op" id="7452874">{</span><span class="num" id="7452875">0x20</span><span class="op" id="7452879">,</span>&nbsp;<span class="num" id="7452881">0x1</span><span class="op" id="7452884">,</span>&nbsp;<span class="num" id="7452886">0xd</span><span class="op" id="7452889">,</span>&nbsp;<span class="num" id="7452891">0xb8</span><span class="op" id="7452895">,</span>&nbsp;<span class="num" id="7452897">0</span><span class="op" id="7452898">,</span>&nbsp;<span class="num" id="7452900">0</span><span class="op" id="7452901">,</span>&nbsp;<span class="num" id="7452903">0</span><span class="op" id="7452904">,</span>&nbsp;<span class="num" id="7452906">0</span><span class="op" id="7452907">,</span>&nbsp;<span class="num" id="7452909">0</span><span class="op" id="7452910">,</span>&nbsp;<span class="num" id="7452912">0x1</span><span class="op" id="7452915">,</span>&nbsp;<span class="num" id="7452917">0</span><span class="op" id="7452918">,</span>&nbsp;<span class="num" id="7452920">0</span><span class="op" id="7452921">,</span>&nbsp;<span class="num" id="7452923">0</span><span class="op" id="7452924">,</span>&nbsp;<span class="num" id="7452926">0</span><span class="op" id="7452927">,</span>&nbsp;<span class="num" id="7452929">0</span><span class="op" id="7452930">,</span>&nbsp;<span class="num" id="7452932">0x1</span><span class="op" id="7452935">}</span><span class="op" id="7452936">,</span>&nbsp;<span class="string" id="7452938">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="7452957">}</span><span class="op" id="7452958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7452961">{</span><span class="ident" id="7452962">IP</span><span class="op" id="7452964">{</span><span class="num" id="7452965">0x20</span><span class="op" id="7452969">,</span>&nbsp;<span class="num" id="7452971">0x1</span><span class="op" id="7452974">,</span>&nbsp;<span class="num" id="7452976">0xD</span><span class="op" id="7452979">,</span>&nbsp;<span class="num" id="7452981">0xB8</span><span class="op" id="7452985">,</span>&nbsp;<span class="num" id="7452987">0</span><span class="op" id="7452988">,</span>&nbsp;<span class="num" id="7452990">0</span><span class="op" id="7452991">,</span>&nbsp;<span class="num" id="7452993">0</span><span class="op" id="7452994">,</span>&nbsp;<span class="num" id="7452996">0</span><span class="op" id="7452997">,</span>&nbsp;<span class="num" id="7452999">0</span><span class="op" id="7453000">,</span>&nbsp;<span class="num" id="7453002">0xA</span><span class="op" id="7453005">,</span>&nbsp;<span class="num" id="7453007">0</span><span class="op" id="7453008">,</span>&nbsp;<span class="num" id="7453010">0xB</span><span class="op" id="7453013">,</span>&nbsp;<span class="num" id="7453015">0</span><span class="op" id="7453016">,</span>&nbsp;<span class="num" id="7453018">0xC</span><span class="op" id="7453021">,</span>&nbsp;<span class="num" id="7453023">0</span><span class="op" id="7453024">,</span>&nbsp;<span class="num" id="7453026">0xD</span><span class="op" id="7453029">}</span><span class="op" id="7453030">,</span>&nbsp;<span class="string" id="7453032">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="7453051">}</span><span class="op" id="7453052">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453055">{</span><span class="ident" id="7453056">IPv4</span><span class="op" id="7453060">(</span><span class="num" id="7453061">192</span><span class="op" id="7453064">,</span>&nbsp;<span class="num" id="7453066">168</span><span class="op" id="7453069">,</span>&nbsp;<span class="num" id="7453071">0</span><span class="op" id="7453072">,</span>&nbsp;<span class="num" id="7453074">1</span><span class="op" id="7453075">)</span><span class="op" id="7453076">,</span>&nbsp;<span class="string" id="7453078">&#34;192.168.0.1&#34;</span><span class="op" id="7453091">}</span><span class="op" id="7453092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453095">{</span><span class="ident" id="7453096">nil</span><span class="op" id="7453099">,</span>&nbsp;<span class="string" id="7453101">&#34;&#34;</span><span class="op" id="7453103">}</span><span class="op" id="7453104">,</span><br>
<span class="lineno"></span><span class="op" id="7453106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7453109">func</span>&nbsp;<span class="ident" id="7453114">TestIPString</span><span class="op" id="7453126">(</span><span class="ident" id="7453127">t</span>&nbsp;<span class="op" id="7453129">*</span><span class="ident" id="7453130">testing</span><span class="op" id="7453137">.</span><span class="ident" id="7453138">T</span><span class="op" id="7453139">)</span>&nbsp;<span class="op" id="7453141">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453144">for</span>&nbsp;<span class="ident" id="7453148">_</span><span class="op" id="7453149">,</span>&nbsp;<span class="ident" id="7453151">tt</span>&nbsp;<span class="op" id="7453154">:=</span>&nbsp;<span class="keyword" id="7453157">range</span>&nbsp;<span class="ident" id="7453163">ipStringTests</span>&nbsp;<span class="op" id="7453177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453181">if</span>&nbsp;<span class="ident" id="7453184">tt</span><span class="op" id="7453186">.</span><span class="ident" id="7453187">in</span>&nbsp;<span class="op" id="7453190">!=</span>&nbsp;<span class="ident" id="7453193">nil</span>&nbsp;<span class="op" id="7453197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453202">if</span>&nbsp;<span class="ident" id="7453205">out</span>&nbsp;<span class="op" id="7453209">:=</span>&nbsp;<span class="ident" id="7453212">tt</span><span class="op" id="7453214">.</span><span class="ident" id="7453215">in</span><span class="op" id="7453217">.</span><span class="ident" id="7453218">String</span><span class="op" id="7453224">(</span><span class="op" id="7453225">)</span><span class="op" id="7453226">;</span>&nbsp;<span class="ident" id="7453228">out</span>&nbsp;<span class="op" id="7453232">!=</span>&nbsp;<span class="ident" id="7453235">tt</span><span class="op" id="7453237">.</span><span class="ident" id="7453238">out</span>&nbsp;<span class="op" id="7453242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453248">t</span><span class="op" id="7453249">.</span><span class="ident" id="7453250">Errorf</span><span class="op" id="7453256">(</span><span class="string" id="7453257">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7453286">,</span>&nbsp;<span class="ident" id="7453288">tt</span><span class="op" id="7453290">.</span><span class="ident" id="7453291">in</span><span class="op" id="7453293">,</span>&nbsp;<span class="ident" id="7453295">out</span><span class="op" id="7453298">,</span>&nbsp;<span class="ident" id="7453300">tt</span><span class="op" id="7453302">.</span><span class="ident" id="7453303">out</span><span class="op" id="7453306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453311">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453319">if</span>&nbsp;<span class="ident" id="7453322">out</span><span class="op" id="7453325">,</span>&nbsp;<span class="ident" id="7453327">err</span>&nbsp;<span class="op" id="7453331">:=</span>&nbsp;<span class="ident" id="7453334">tt</span><span class="op" id="7453336">.</span><span class="ident" id="7453337">in</span><span class="op" id="7453339">.</span><span class="ident" id="7453340">MarshalText</span><span class="op" id="7453351">(</span><span class="op" id="7453352">)</span><span class="op" id="7453353">;</span>&nbsp;<span class="builtintype" id="7453355">string</span><span class="op" id="7453361">(</span><span class="ident" id="7453362">out</span><span class="op" id="7453365">)</span>&nbsp;<span class="op" id="7453367">!=</span>&nbsp;<span class="ident" id="7453370">tt</span><span class="op" id="7453372">.</span><span class="ident" id="7453373">out</span>&nbsp;<span class="op" id="7453377">||</span>&nbsp;<span class="ident" id="7453380">err</span>&nbsp;<span class="op" id="7453384">!=</span>&nbsp;<span class="ident" id="7453387">nil</span>&nbsp;<span class="op" id="7453391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453396">t</span><span class="op" id="7453397">.</span><span class="ident" id="7453398">Errorf</span><span class="op" id="7453404">(</span><span class="string" id="7453405">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="7453448">,</span>&nbsp;<span class="ident" id="7453450">tt</span><span class="op" id="7453452">.</span><span class="ident" id="7453453">in</span><span class="op" id="7453455">,</span>&nbsp;<span class="ident" id="7453457">out</span><span class="op" id="7453460">,</span>&nbsp;<span class="ident" id="7453462">err</span><span class="op" id="7453465">,</span>&nbsp;<span class="ident" id="7453467">tt</span><span class="op" id="7453469">.</span><span class="ident" id="7453470">out</span><span class="op" id="7453473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453480">}</span><br>
<span class="lineno">100</span><span class="op" id="7453482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7453485">func</span>&nbsp;<span class="ident" id="7453490">BenchmarkIPString</span><span class="op" id="7453507">(</span><span class="ident" id="7453508">b</span>&nbsp;<span class="op" id="7453510">*</span><span class="ident" id="7453511">testing</span><span class="op" id="7453518">.</span><span class="ident" id="7453519">B</span><span class="op" id="7453520">)</span>&nbsp;<span class="op" id="7453522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453525">for</span>&nbsp;<span class="ident" id="7453529">i</span>&nbsp;<span class="op" id="7453531">:=</span>&nbsp;<span class="num" id="7453534">0</span><span class="op" id="7453535">;</span>&nbsp;<span class="ident" id="7453537">i</span>&nbsp;<span class="op" id="7453539">&lt;</span>&nbsp;<span class="ident" id="7453541">b</span><span class="op" id="7453542">.</span><span class="ident" id="7453543">N</span><span class="op" id="7453544">;</span>&nbsp;<span class="ident" id="7453546">i</span><span class="op" id="7453547">++</span>&nbsp;<span class="op" id="7453550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453554">for</span>&nbsp;<span class="ident" id="7453558">_</span><span class="op" id="7453559">,</span>&nbsp;<span class="ident" id="7453561">tt</span>&nbsp;<span class="op" id="7453564">:=</span>&nbsp;<span class="keyword" id="7453567">range</span>&nbsp;<span class="ident" id="7453573">ipStringTests</span>&nbsp;<span class="op" id="7453587">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7453592">if</span>&nbsp;<span class="ident" id="7453595">tt</span><span class="op" id="7453597">.</span><span class="ident" id="7453598">in</span>&nbsp;<span class="op" id="7453601">!=</span>&nbsp;<span class="ident" id="7453604">nil</span>&nbsp;<span class="op" id="7453608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453614">tt</span><span class="op" id="7453616">.</span><span class="ident" id="7453617">in</span><span class="op" id="7453619">.</span><span class="ident" id="7453620">String</span><span class="op" id="7453626">(</span><span class="op" id="7453627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453639">}</span><br>
<span class="lineno">110</span><span class="op" id="7453641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7453644">var</span>&nbsp;<span class="ident" id="7453648">ipMaskTests</span>&nbsp;<span class="op" id="7453660">=</span>&nbsp;<span class="op" id="7453662">[</span><span class="op" id="7453663">]</span><span class="keyword" id="7453664">struct</span>&nbsp;<span class="op" id="7453671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453674">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7453679">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453683">mask</span>&nbsp;<span class="ident" id="7453688">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7453696">out</span>&nbsp;&nbsp;<span class="ident" id="7453701">IP</span><br>
<span class="lineno"></span><span class="op" id="7453704">}</span><span class="op" id="7453705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453708">{</span><span class="ident" id="7453709">IPv4</span><span class="op" id="7453713">(</span><span class="num" id="7453714">192</span><span class="op" id="7453717">,</span>&nbsp;<span class="num" id="7453719">168</span><span class="op" id="7453722">,</span>&nbsp;<span class="num" id="7453724">1</span><span class="op" id="7453725">,</span>&nbsp;<span class="num" id="7453727">127</span><span class="op" id="7453730">)</span><span class="op" id="7453731">,</span>&nbsp;<span class="ident" id="7453733">IPv4Mask</span><span class="op" id="7453741">(</span><span class="num" id="7453742">255</span><span class="op" id="7453745">,</span>&nbsp;<span class="num" id="7453747">255</span><span class="op" id="7453750">,</span>&nbsp;<span class="num" id="7453752">255</span><span class="op" id="7453755">,</span>&nbsp;<span class="num" id="7453757">128</span><span class="op" id="7453760">)</span><span class="op" id="7453761">,</span>&nbsp;<span class="ident" id="7453763">IPv4</span><span class="op" id="7453767">(</span><span class="num" id="7453768">192</span><span class="op" id="7453771">,</span>&nbsp;<span class="num" id="7453773">168</span><span class="op" id="7453776">,</span>&nbsp;<span class="num" id="7453778">1</span><span class="op" id="7453779">,</span>&nbsp;<span class="num" id="7453781">0</span><span class="op" id="7453782">)</span><span class="op" id="7453783">}</span><span class="op" id="7453784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453787">{</span><span class="ident" id="7453788">IPv4</span><span class="op" id="7453792">(</span><span class="num" id="7453793">192</span><span class="op" id="7453796">,</span>&nbsp;<span class="num" id="7453798">168</span><span class="op" id="7453801">,</span>&nbsp;<span class="num" id="7453803">1</span><span class="op" id="7453804">,</span>&nbsp;<span class="num" id="7453806">127</span><span class="op" id="7453809">)</span><span class="op" id="7453810">,</span>&nbsp;<span class="ident" id="7453812">IPMask</span><span class="op" id="7453818">(</span><span class="ident" id="7453819">ParseIP</span><span class="op" id="7453826">(</span><span class="string" id="7453827">&#34;255.255.255.192&#34;</span><span class="op" id="7453844">)</span><span class="op" id="7453845">)</span><span class="op" id="7453846">,</span>&nbsp;<span class="ident" id="7453848">IPv4</span><span class="op" id="7453852">(</span><span class="num" id="7453853">192</span><span class="op" id="7453856">,</span>&nbsp;<span class="num" id="7453858">168</span><span class="op" id="7453861">,</span>&nbsp;<span class="num" id="7453863">1</span><span class="op" id="7453864">,</span>&nbsp;<span class="num" id="7453866">64</span><span class="op" id="7453868">)</span><span class="op" id="7453869">}</span><span class="op" id="7453870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453873">{</span><span class="ident" id="7453874">IPv4</span><span class="op" id="7453878">(</span><span class="num" id="7453879">192</span><span class="op" id="7453882">,</span>&nbsp;<span class="num" id="7453884">168</span><span class="op" id="7453887">,</span>&nbsp;<span class="num" id="7453889">1</span><span class="op" id="7453890">,</span>&nbsp;<span class="num" id="7453892">127</span><span class="op" id="7453895">)</span><span class="op" id="7453896">,</span>&nbsp;<span class="ident" id="7453898">IPMask</span><span class="op" id="7453904">(</span><span class="ident" id="7453905">ParseIP</span><span class="op" id="7453912">(</span><span class="string" id="7453913">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="7453954">)</span><span class="op" id="7453955">)</span><span class="op" id="7453956">,</span>&nbsp;<span class="ident" id="7453958">IPv4</span><span class="op" id="7453962">(</span><span class="num" id="7453963">192</span><span class="op" id="7453966">,</span>&nbsp;<span class="num" id="7453968">168</span><span class="op" id="7453971">,</span>&nbsp;<span class="num" id="7453973">1</span><span class="op" id="7453974">,</span>&nbsp;<span class="num" id="7453976">96</span><span class="op" id="7453978">)</span><span class="op" id="7453979">}</span><span class="op" id="7453980">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7453983">{</span><span class="ident" id="7453984">IPv4</span><span class="op" id="7453988">(</span><span class="num" id="7453989">192</span><span class="op" id="7453992">,</span>&nbsp;<span class="num" id="7453994">168</span><span class="op" id="7453997">,</span>&nbsp;<span class="num" id="7453999">1</span><span class="op" id="7454000">,</span>&nbsp;<span class="num" id="7454002">127</span><span class="op" id="7454005">)</span><span class="op" id="7454006">,</span>&nbsp;<span class="ident" id="7454008">IPv4Mask</span><span class="op" id="7454016">(</span><span class="num" id="7454017">255</span><span class="op" id="7454020">,</span>&nbsp;<span class="num" id="7454022">0</span><span class="op" id="7454023">,</span>&nbsp;<span class="num" id="7454025">255</span><span class="op" id="7454028">,</span>&nbsp;<span class="num" id="7454030">0</span><span class="op" id="7454031">)</span><span class="op" id="7454032">,</span>&nbsp;<span class="ident" id="7454034">IPv4</span><span class="op" id="7454038">(</span><span class="num" id="7454039">192</span><span class="op" id="7454042">,</span>&nbsp;<span class="num" id="7454044">0</span><span class="op" id="7454045">,</span>&nbsp;<span class="num" id="7454047">1</span><span class="op" id="7454048">,</span>&nbsp;<span class="num" id="7454050">0</span><span class="op" id="7454051">)</span><span class="op" id="7454052">}</span><span class="op" id="7454053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454056">{</span><span class="ident" id="7454057">ParseIP</span><span class="op" id="7454064">(</span><span class="string" id="7454065">&#34;2001:db8::1&#34;</span><span class="op" id="7454078">)</span><span class="op" id="7454079">,</span>&nbsp;<span class="ident" id="7454081">IPMask</span><span class="op" id="7454087">(</span><span class="ident" id="7454088">ParseIP</span><span class="op" id="7454095">(</span><span class="string" id="7454096">&#34;ffff:ff80::&#34;</span><span class="op" id="7454109">)</span><span class="op" id="7454110">)</span><span class="op" id="7454111">,</span>&nbsp;<span class="ident" id="7454113">ParseIP</span><span class="op" id="7454120">(</span><span class="string" id="7454121">&#34;2001:d80::&#34;</span><span class="op" id="7454133">)</span><span class="op" id="7454134">}</span><span class="op" id="7454135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454138">{</span><span class="ident" id="7454139">ParseIP</span><span class="op" id="7454146">(</span><span class="string" id="7454147">&#34;2001:db8::1&#34;</span><span class="op" id="7454160">)</span><span class="op" id="7454161">,</span>&nbsp;<span class="ident" id="7454163">IPMask</span><span class="op" id="7454169">(</span><span class="ident" id="7454170">ParseIP</span><span class="op" id="7454177">(</span><span class="string" id="7454178">&#34;f0f0:0f0f::&#34;</span><span class="op" id="7454191">)</span><span class="op" id="7454192">)</span><span class="op" id="7454193">,</span>&nbsp;<span class="ident" id="7454195">ParseIP</span><span class="op" id="7454202">(</span><span class="string" id="7454203">&#34;2000:d08::&#34;</span><span class="op" id="7454215">)</span><span class="op" id="7454216">}</span><span class="op" id="7454217">,</span><br>
<span class="lineno"></span><span class="op" id="7454219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7454222">func</span>&nbsp;<span class="ident" id="7454227">TestIPMask</span><span class="op" id="7454237">(</span><span class="ident" id="7454238">t</span>&nbsp;<span class="op" id="7454240">*</span><span class="ident" id="7454241">testing</span><span class="op" id="7454248">.</span><span class="ident" id="7454249">T</span><span class="op" id="7454250">)</span>&nbsp;<span class="op" id="7454252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454255">for</span>&nbsp;<span class="ident" id="7454259">_</span><span class="op" id="7454260">,</span>&nbsp;<span class="ident" id="7454262">tt</span>&nbsp;<span class="op" id="7454265">:=</span>&nbsp;<span class="keyword" id="7454268">range</span>&nbsp;<span class="ident" id="7454274">ipMaskTests</span>&nbsp;<span class="op" id="7454286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454290">if</span>&nbsp;<span class="ident" id="7454293">out</span>&nbsp;<span class="op" id="7454297">:=</span>&nbsp;<span class="ident" id="7454300">tt</span><span class="op" id="7454302">.</span><span class="ident" id="7454303">in</span><span class="op" id="7454305">.</span><span class="ident" id="7454306">Mask</span><span class="op" id="7454310">(</span><span class="ident" id="7454311">tt</span><span class="op" id="7454313">.</span><span class="ident" id="7454314">mask</span><span class="op" id="7454318">)</span><span class="op" id="7454319">;</span>&nbsp;<span class="ident" id="7454321">out</span>&nbsp;<span class="op" id="7454325">==</span>&nbsp;<span class="ident" id="7454328">nil</span>&nbsp;<span class="op" id="7454332">||</span>&nbsp;<span class="op" id="7454335">!</span><span class="ident" id="7454336">tt</span><span class="op" id="7454338">.</span><span class="ident" id="7454339">out</span><span class="op" id="7454342">.</span><span class="ident" id="7454343">Equal</span><span class="op" id="7454348">(</span><span class="ident" id="7454349">out</span><span class="op" id="7454352">)</span>&nbsp;<span class="op" id="7454354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454359">t</span><span class="op" id="7454360">.</span><span class="ident" id="7454361">Errorf</span><span class="op" id="7454367">(</span><span class="string" id="7454368">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7454399">,</span>&nbsp;<span class="ident" id="7454401">tt</span><span class="op" id="7454403">.</span><span class="ident" id="7454404">in</span><span class="op" id="7454406">,</span>&nbsp;<span class="ident" id="7454408">tt</span><span class="op" id="7454410">.</span><span class="ident" id="7454411">mask</span><span class="op" id="7454415">,</span>&nbsp;<span class="ident" id="7454417">out</span><span class="op" id="7454420">,</span>&nbsp;<span class="ident" id="7454422">tt</span><span class="op" id="7454424">.</span><span class="ident" id="7454425">out</span><span class="op" id="7454428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454432">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454435">}</span><br>
<span class="lineno"></span><span class="op" id="7454437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454440">var</span>&nbsp;<span class="ident" id="7454444">ipMaskStringTests</span>&nbsp;<span class="op" id="7454462">=</span>&nbsp;<span class="op" id="7454464">[</span><span class="op" id="7454465">]</span><span class="keyword" id="7454466">struct</span>&nbsp;<span class="op" id="7454473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454476">in</span>&nbsp;&nbsp;<span class="ident" id="7454480">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454488">out</span>&nbsp;<span class="builtintype" id="7454492">string</span><br>
<span class="lineno"></span><span class="op" id="7454499">}</span><span class="op" id="7454500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454503">{</span><span class="ident" id="7454504">IPv4Mask</span><span class="op" id="7454512">(</span><span class="num" id="7454513">255</span><span class="op" id="7454516">,</span>&nbsp;<span class="num" id="7454518">255</span><span class="op" id="7454521">,</span>&nbsp;<span class="num" id="7454523">255</span><span class="op" id="7454526">,</span>&nbsp;<span class="num" id="7454528">240</span><span class="op" id="7454531">)</span><span class="op" id="7454532">,</span>&nbsp;<span class="string" id="7454534">&#34;fffffff0&#34;</span><span class="op" id="7454544">}</span><span class="op" id="7454545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454548">{</span><span class="ident" id="7454549">IPv4Mask</span><span class="op" id="7454557">(</span><span class="num" id="7454558">255</span><span class="op" id="7454561">,</span>&nbsp;<span class="num" id="7454563">0</span><span class="op" id="7454564">,</span>&nbsp;<span class="num" id="7454566">128</span><span class="op" id="7454569">,</span>&nbsp;<span class="num" id="7454571">0</span><span class="op" id="7454572">)</span><span class="op" id="7454573">,</span>&nbsp;<span class="string" id="7454575">&#34;ff008000&#34;</span><span class="op" id="7454585">}</span><span class="op" id="7454586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454589">{</span><span class="ident" id="7454590">IPMask</span><span class="op" id="7454596">(</span><span class="ident" id="7454597">ParseIP</span><span class="op" id="7454604">(</span><span class="string" id="7454605">&#34;ffff:ff80::&#34;</span><span class="op" id="7454618">)</span><span class="op" id="7454619">)</span><span class="op" id="7454620">,</span>&nbsp;<span class="string" id="7454622">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="7454656">}</span><span class="op" id="7454657">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454660">{</span><span class="ident" id="7454661">IPMask</span><span class="op" id="7454667">(</span><span class="ident" id="7454668">ParseIP</span><span class="op" id="7454675">(</span><span class="string" id="7454676">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="7454695">)</span><span class="op" id="7454696">)</span><span class="op" id="7454697">,</span>&nbsp;<span class="string" id="7454699">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="7454733">}</span><span class="op" id="7454734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454737">{</span><span class="ident" id="7454738">nil</span><span class="op" id="7454741">,</span>&nbsp;<span class="string" id="7454743">&#34;&lt;nil&gt;&#34;</span><span class="op" id="7454750">}</span><span class="op" id="7454751">,</span><br>
<span class="lineno"></span><span class="op" id="7454753">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454756">func</span>&nbsp;<span class="ident" id="7454761">TestIPMaskString</span><span class="op" id="7454777">(</span><span class="ident" id="7454778">t</span>&nbsp;<span class="op" id="7454780">*</span><span class="ident" id="7454781">testing</span><span class="op" id="7454788">.</span><span class="ident" id="7454789">T</span><span class="op" id="7454790">)</span>&nbsp;<span class="op" id="7454792">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454795">for</span>&nbsp;<span class="ident" id="7454799">_</span><span class="op" id="7454800">,</span>&nbsp;<span class="ident" id="7454802">tt</span>&nbsp;<span class="op" id="7454805">:=</span>&nbsp;<span class="keyword" id="7454808">range</span>&nbsp;<span class="ident" id="7454814">ipMaskStringTests</span>&nbsp;<span class="op" id="7454832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454836">if</span>&nbsp;<span class="ident" id="7454839">out</span>&nbsp;<span class="op" id="7454843">:=</span>&nbsp;<span class="ident" id="7454846">tt</span><span class="op" id="7454848">.</span><span class="ident" id="7454849">in</span><span class="op" id="7454851">.</span><span class="ident" id="7454852">String</span><span class="op" id="7454858">(</span><span class="op" id="7454859">)</span><span class="op" id="7454860">;</span>&nbsp;<span class="ident" id="7454862">out</span>&nbsp;<span class="op" id="7454866">!=</span>&nbsp;<span class="ident" id="7454869">tt</span><span class="op" id="7454871">.</span><span class="ident" id="7454872">out</span>&nbsp;<span class="op" id="7454876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7454881">t</span><span class="op" id="7454882">.</span><span class="ident" id="7454883">Errorf</span><span class="op" id="7454889">(</span><span class="string" id="7454890">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7454923">,</span>&nbsp;<span class="ident" id="7454925">tt</span><span class="op" id="7454927">.</span><span class="ident" id="7454928">in</span><span class="op" id="7454930">,</span>&nbsp;<span class="ident" id="7454932">out</span><span class="op" id="7454935">,</span>&nbsp;<span class="ident" id="7454937">tt</span><span class="op" id="7454939">.</span><span class="ident" id="7454940">out</span><span class="op" id="7454943">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7454950">}</span><br>
<span class="lineno">150</span><span class="op" id="7454952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7454955">func</span>&nbsp;<span class="ident" id="7454960">BenchmarkIPMaskString</span><span class="op" id="7454981">(</span><span class="ident" id="7454982">b</span>&nbsp;<span class="op" id="7454984">*</span><span class="ident" id="7454985">testing</span><span class="op" id="7454992">.</span><span class="ident" id="7454993">B</span><span class="op" id="7454994">)</span>&nbsp;<span class="op" id="7454996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7454999">for</span>&nbsp;<span class="ident" id="7455003">i</span>&nbsp;<span class="op" id="7455005">:=</span>&nbsp;<span class="num" id="7455008">0</span><span class="op" id="7455009">;</span>&nbsp;<span class="ident" id="7455011">i</span>&nbsp;<span class="op" id="7455013">&lt;</span>&nbsp;<span class="ident" id="7455015">b</span><span class="op" id="7455016">.</span><span class="ident" id="7455017">N</span><span class="op" id="7455018">;</span>&nbsp;<span class="ident" id="7455020">i</span><span class="op" id="7455021">++</span>&nbsp;<span class="op" id="7455024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7455028">for</span>&nbsp;<span class="ident" id="7455032">_</span><span class="op" id="7455033">,</span>&nbsp;<span class="ident" id="7455035">tt</span>&nbsp;<span class="op" id="7455038">:=</span>&nbsp;<span class="keyword" id="7455041">range</span>&nbsp;<span class="ident" id="7455047">ipMaskStringTests</span>&nbsp;<span class="op" id="7455065">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455070">tt</span><span class="op" id="7455072">.</span><span class="ident" id="7455073">in</span><span class="op" id="7455075">.</span><span class="ident" id="7455076">String</span><span class="op" id="7455082">(</span><span class="op" id="7455083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455090">}</span><br>
<span class="lineno"></span><span class="op" id="7455092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7455095">var</span>&nbsp;<span class="ident" id="7455099">parseCIDRTests</span>&nbsp;<span class="op" id="7455114">=</span>&nbsp;<span class="op" id="7455116">[</span><span class="op" id="7455117">]</span><span class="keyword" id="7455118">struct</span>&nbsp;<span class="op" id="7455125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455128">in</span>&nbsp;&nbsp;<span class="builtintype" id="7455132">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455140">ip</span>&nbsp;&nbsp;<span class="ident" id="7455144">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455148">net</span>&nbsp;<span class="op" id="7455152">*</span><span class="ident" id="7455153">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7455160">err</span>&nbsp;<span class="builtintype" id="7455164">error</span><br>
<span class="lineno">165</span><span class="op" id="7455170">}</span><span class="op" id="7455171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455174">{</span><span class="string" id="7455175">&#34;135.104.0.0/32&#34;</span><span class="op" id="7455191">,</span>&nbsp;<span class="ident" id="7455193">IPv4</span><span class="op" id="7455197">(</span><span class="num" id="7455198">135</span><span class="op" id="7455201">,</span>&nbsp;<span class="num" id="7455203">104</span><span class="op" id="7455206">,</span>&nbsp;<span class="num" id="7455208">0</span><span class="op" id="7455209">,</span>&nbsp;<span class="num" id="7455211">0</span><span class="op" id="7455212">)</span><span class="op" id="7455213">,</span>&nbsp;<span class="op" id="7455215">&amp;</span><span class="ident" id="7455216">IPNet</span><span class="op" id="7455221">{</span><span class="ident" id="7455222">IP</span><span class="op" id="7455224">:</span>&nbsp;<span class="ident" id="7455226">IPv4</span><span class="op" id="7455230">(</span><span class="num" id="7455231">135</span><span class="op" id="7455234">,</span>&nbsp;<span class="num" id="7455236">104</span><span class="op" id="7455239">,</span>&nbsp;<span class="num" id="7455241">0</span><span class="op" id="7455242">,</span>&nbsp;<span class="num" id="7455244">0</span><span class="op" id="7455245">)</span><span class="op" id="7455246">,</span>&nbsp;<span class="ident" id="7455248">Mask</span><span class="op" id="7455252">:</span>&nbsp;<span class="ident" id="7455254">IPv4Mask</span><span class="op" id="7455262">(</span><span class="num" id="7455263">255</span><span class="op" id="7455266">,</span>&nbsp;<span class="num" id="7455268">255</span><span class="op" id="7455271">,</span>&nbsp;<span class="num" id="7455273">255</span><span class="op" id="7455276">,</span>&nbsp;<span class="num" id="7455278">255</span><span class="op" id="7455281">)</span><span class="op" id="7455282">}</span><span class="op" id="7455283">,</span>&nbsp;<span class="ident" id="7455285">nil</span><span class="op" id="7455288">}</span><span class="op" id="7455289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455292">{</span><span class="string" id="7455293">&#34;0.0.0.0/24&#34;</span><span class="op" id="7455305">,</span>&nbsp;<span class="ident" id="7455307">IPv4</span><span class="op" id="7455311">(</span><span class="num" id="7455312">0</span><span class="op" id="7455313">,</span>&nbsp;<span class="num" id="7455315">0</span><span class="op" id="7455316">,</span>&nbsp;<span class="num" id="7455318">0</span><span class="op" id="7455319">,</span>&nbsp;<span class="num" id="7455321">0</span><span class="op" id="7455322">)</span><span class="op" id="7455323">,</span>&nbsp;<span class="op" id="7455325">&amp;</span><span class="ident" id="7455326">IPNet</span><span class="op" id="7455331">{</span><span class="ident" id="7455332">IP</span><span class="op" id="7455334">:</span>&nbsp;<span class="ident" id="7455336">IPv4</span><span class="op" id="7455340">(</span><span class="num" id="7455341">0</span><span class="op" id="7455342">,</span>&nbsp;<span class="num" id="7455344">0</span><span class="op" id="7455345">,</span>&nbsp;<span class="num" id="7455347">0</span><span class="op" id="7455348">,</span>&nbsp;<span class="num" id="7455350">0</span><span class="op" id="7455351">)</span><span class="op" id="7455352">,</span>&nbsp;<span class="ident" id="7455354">Mask</span><span class="op" id="7455358">:</span>&nbsp;<span class="ident" id="7455360">IPv4Mask</span><span class="op" id="7455368">(</span><span class="num" id="7455369">255</span><span class="op" id="7455372">,</span>&nbsp;<span class="num" id="7455374">255</span><span class="op" id="7455377">,</span>&nbsp;<span class="num" id="7455379">255</span><span class="op" id="7455382">,</span>&nbsp;<span class="num" id="7455384">0</span><span class="op" id="7455385">)</span><span class="op" id="7455386">}</span><span class="op" id="7455387">,</span>&nbsp;<span class="ident" id="7455389">nil</span><span class="op" id="7455392">}</span><span class="op" id="7455393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455396">{</span><span class="string" id="7455397">&#34;135.104.0.0/24&#34;</span><span class="op" id="7455413">,</span>&nbsp;<span class="ident" id="7455415">IPv4</span><span class="op" id="7455419">(</span><span class="num" id="7455420">135</span><span class="op" id="7455423">,</span>&nbsp;<span class="num" id="7455425">104</span><span class="op" id="7455428">,</span>&nbsp;<span class="num" id="7455430">0</span><span class="op" id="7455431">,</span>&nbsp;<span class="num" id="7455433">0</span><span class="op" id="7455434">)</span><span class="op" id="7455435">,</span>&nbsp;<span class="op" id="7455437">&amp;</span><span class="ident" id="7455438">IPNet</span><span class="op" id="7455443">{</span><span class="ident" id="7455444">IP</span><span class="op" id="7455446">:</span>&nbsp;<span class="ident" id="7455448">IPv4</span><span class="op" id="7455452">(</span><span class="num" id="7455453">135</span><span class="op" id="7455456">,</span>&nbsp;<span class="num" id="7455458">104</span><span class="op" id="7455461">,</span>&nbsp;<span class="num" id="7455463">0</span><span class="op" id="7455464">,</span>&nbsp;<span class="num" id="7455466">0</span><span class="op" id="7455467">)</span><span class="op" id="7455468">,</span>&nbsp;<span class="ident" id="7455470">Mask</span><span class="op" id="7455474">:</span>&nbsp;<span class="ident" id="7455476">IPv4Mask</span><span class="op" id="7455484">(</span><span class="num" id="7455485">255</span><span class="op" id="7455488">,</span>&nbsp;<span class="num" id="7455490">255</span><span class="op" id="7455493">,</span>&nbsp;<span class="num" id="7455495">255</span><span class="op" id="7455498">,</span>&nbsp;<span class="num" id="7455500">0</span><span class="op" id="7455501">)</span><span class="op" id="7455502">}</span><span class="op" id="7455503">,</span>&nbsp;<span class="ident" id="7455505">nil</span><span class="op" id="7455508">}</span><span class="op" id="7455509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455512">{</span><span class="string" id="7455513">&#34;135.104.0.1/32&#34;</span><span class="op" id="7455529">,</span>&nbsp;<span class="ident" id="7455531">IPv4</span><span class="op" id="7455535">(</span><span class="num" id="7455536">135</span><span class="op" id="7455539">,</span>&nbsp;<span class="num" id="7455541">104</span><span class="op" id="7455544">,</span>&nbsp;<span class="num" id="7455546">0</span><span class="op" id="7455547">,</span>&nbsp;<span class="num" id="7455549">1</span><span class="op" id="7455550">)</span><span class="op" id="7455551">,</span>&nbsp;<span class="op" id="7455553">&amp;</span><span class="ident" id="7455554">IPNet</span><span class="op" id="7455559">{</span><span class="ident" id="7455560">IP</span><span class="op" id="7455562">:</span>&nbsp;<span class="ident" id="7455564">IPv4</span><span class="op" id="7455568">(</span><span class="num" id="7455569">135</span><span class="op" id="7455572">,</span>&nbsp;<span class="num" id="7455574">104</span><span class="op" id="7455577">,</span>&nbsp;<span class="num" id="7455579">0</span><span class="op" id="7455580">,</span>&nbsp;<span class="num" id="7455582">1</span><span class="op" id="7455583">)</span><span class="op" id="7455584">,</span>&nbsp;<span class="ident" id="7455586">Mask</span><span class="op" id="7455590">:</span>&nbsp;<span class="ident" id="7455592">IPv4Mask</span><span class="op" id="7455600">(</span><span class="num" id="7455601">255</span><span class="op" id="7455604">,</span>&nbsp;<span class="num" id="7455606">255</span><span class="op" id="7455609">,</span>&nbsp;<span class="num" id="7455611">255</span><span class="op" id="7455614">,</span>&nbsp;<span class="num" id="7455616">255</span><span class="op" id="7455619">)</span><span class="op" id="7455620">}</span><span class="op" id="7455621">,</span>&nbsp;<span class="ident" id="7455623">nil</span><span class="op" id="7455626">}</span><span class="op" id="7455627">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455630">{</span><span class="string" id="7455631">&#34;135.104.0.1/24&#34;</span><span class="op" id="7455647">,</span>&nbsp;<span class="ident" id="7455649">IPv4</span><span class="op" id="7455653">(</span><span class="num" id="7455654">135</span><span class="op" id="7455657">,</span>&nbsp;<span class="num" id="7455659">104</span><span class="op" id="7455662">,</span>&nbsp;<span class="num" id="7455664">0</span><span class="op" id="7455665">,</span>&nbsp;<span class="num" id="7455667">1</span><span class="op" id="7455668">)</span><span class="op" id="7455669">,</span>&nbsp;<span class="op" id="7455671">&amp;</span><span class="ident" id="7455672">IPNet</span><span class="op" id="7455677">{</span><span class="ident" id="7455678">IP</span><span class="op" id="7455680">:</span>&nbsp;<span class="ident" id="7455682">IPv4</span><span class="op" id="7455686">(</span><span class="num" id="7455687">135</span><span class="op" id="7455690">,</span>&nbsp;<span class="num" id="7455692">104</span><span class="op" id="7455695">,</span>&nbsp;<span class="num" id="7455697">0</span><span class="op" id="7455698">,</span>&nbsp;<span class="num" id="7455700">0</span><span class="op" id="7455701">)</span><span class="op" id="7455702">,</span>&nbsp;<span class="ident" id="7455704">Mask</span><span class="op" id="7455708">:</span>&nbsp;<span class="ident" id="7455710">IPv4Mask</span><span class="op" id="7455718">(</span><span class="num" id="7455719">255</span><span class="op" id="7455722">,</span>&nbsp;<span class="num" id="7455724">255</span><span class="op" id="7455727">,</span>&nbsp;<span class="num" id="7455729">255</span><span class="op" id="7455732">,</span>&nbsp;<span class="num" id="7455734">0</span><span class="op" id="7455735">)</span><span class="op" id="7455736">}</span><span class="op" id="7455737">,</span>&nbsp;<span class="ident" id="7455739">nil</span><span class="op" id="7455742">}</span><span class="op" id="7455743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455746">{</span><span class="string" id="7455747">&#34;::1/128&#34;</span><span class="op" id="7455756">,</span>&nbsp;<span class="ident" id="7455758">ParseIP</span><span class="op" id="7455765">(</span><span class="string" id="7455766">&#34;::1&#34;</span><span class="op" id="7455771">)</span><span class="op" id="7455772">,</span>&nbsp;<span class="op" id="7455774">&amp;</span><span class="ident" id="7455775">IPNet</span><span class="op" id="7455780">{</span><span class="ident" id="7455781">IP</span><span class="op" id="7455783">:</span>&nbsp;<span class="ident" id="7455785">ParseIP</span><span class="op" id="7455792">(</span><span class="string" id="7455793">&#34;::1&#34;</span><span class="op" id="7455798">)</span><span class="op" id="7455799">,</span>&nbsp;<span class="ident" id="7455801">Mask</span><span class="op" id="7455805">:</span>&nbsp;<span class="ident" id="7455807">IPMask</span><span class="op" id="7455813">(</span><span class="ident" id="7455814">ParseIP</span><span class="op" id="7455821">(</span><span class="string" id="7455822">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="7455863">)</span><span class="op" id="7455864">)</span><span class="op" id="7455865">}</span><span class="op" id="7455866">,</span>&nbsp;<span class="ident" id="7455868">nil</span><span class="op" id="7455871">}</span><span class="op" id="7455872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7455875">{</span><span class="string" id="7455876">&#34;abcd:2345::/127&#34;</span><span class="op" id="7455893">,</span>&nbsp;<span class="ident" id="7455895">ParseIP</span><span class="op" id="7455902">(</span><span class="string" id="7455903">&#34;abcd:2345::&#34;</span><span class="op" id="7455916">)</span><span class="op" id="7455917">,</span>&nbsp;<span class="op" id="7455919">&amp;</span><span class="ident" id="7455920">IPNet</span><span class="op" id="7455925">{</span><span class="ident" id="7455926">IP</span><span class="op" id="7455928">:</span>&nbsp;<span class="ident" id="7455930">ParseIP</span><span class="op" id="7455937">(</span><span class="string" id="7455938">&#34;abcd:2345::&#34;</span><span class="op" id="7455951">)</span><span class="op" id="7455952">,</span>&nbsp;<span class="ident" id="7455954">Mask</span><span class="op" id="7455958">:</span>&nbsp;<span class="ident" id="7455960">IPMask</span><span class="op" id="7455966">(</span><span class="ident" id="7455967">ParseIP</span><span class="op" id="7455974">(</span><span class="string" id="7455975">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="7456016">)</span><span class="op" id="7456017">)</span><span class="op" id="7456018">}</span><span class="op" id="7456019">,</span>&nbsp;<span class="ident" id="7456021">nil</span><span class="op" id="7456024">}</span><span class="op" id="7456025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456028">{</span><span class="string" id="7456029">&#34;abcd:2345::/65&#34;</span><span class="op" id="7456045">,</span>&nbsp;<span class="ident" id="7456047">ParseIP</span><span class="op" id="7456054">(</span><span class="string" id="7456055">&#34;abcd:2345::&#34;</span><span class="op" id="7456068">)</span><span class="op" id="7456069">,</span>&nbsp;<span class="op" id="7456071">&amp;</span><span class="ident" id="7456072">IPNet</span><span class="op" id="7456077">{</span><span class="ident" id="7456078">IP</span><span class="op" id="7456080">:</span>&nbsp;<span class="ident" id="7456082">ParseIP</span><span class="op" id="7456089">(</span><span class="string" id="7456090">&#34;abcd:2345::&#34;</span><span class="op" id="7456103">)</span><span class="op" id="7456104">,</span>&nbsp;<span class="ident" id="7456106">Mask</span><span class="op" id="7456110">:</span>&nbsp;<span class="ident" id="7456112">IPMask</span><span class="op" id="7456118">(</span><span class="ident" id="7456119">ParseIP</span><span class="op" id="7456126">(</span><span class="string" id="7456127">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="7456155">)</span><span class="op" id="7456156">)</span><span class="op" id="7456157">}</span><span class="op" id="7456158">,</span>&nbsp;<span class="ident" id="7456160">nil</span><span class="op" id="7456163">}</span><span class="op" id="7456164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456167">{</span><span class="string" id="7456168">&#34;abcd:2345::/64&#34;</span><span class="op" id="7456184">,</span>&nbsp;<span class="ident" id="7456186">ParseIP</span><span class="op" id="7456193">(</span><span class="string" id="7456194">&#34;abcd:2345::&#34;</span><span class="op" id="7456207">)</span><span class="op" id="7456208">,</span>&nbsp;<span class="op" id="7456210">&amp;</span><span class="ident" id="7456211">IPNet</span><span class="op" id="7456216">{</span><span class="ident" id="7456217">IP</span><span class="op" id="7456219">:</span>&nbsp;<span class="ident" id="7456221">ParseIP</span><span class="op" id="7456228">(</span><span class="string" id="7456229">&#34;abcd:2345::&#34;</span><span class="op" id="7456242">)</span><span class="op" id="7456243">,</span>&nbsp;<span class="ident" id="7456245">Mask</span><span class="op" id="7456249">:</span>&nbsp;<span class="ident" id="7456251">IPMask</span><span class="op" id="7456257">(</span><span class="ident" id="7456258">ParseIP</span><span class="op" id="7456265">(</span><span class="string" id="7456266">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="7456289">)</span><span class="op" id="7456290">)</span><span class="op" id="7456291">}</span><span class="op" id="7456292">,</span>&nbsp;<span class="ident" id="7456294">nil</span><span class="op" id="7456297">}</span><span class="op" id="7456298">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456301">{</span><span class="string" id="7456302">&#34;abcd:2345::/63&#34;</span><span class="op" id="7456318">,</span>&nbsp;<span class="ident" id="7456320">ParseIP</span><span class="op" id="7456327">(</span><span class="string" id="7456328">&#34;abcd:2345::&#34;</span><span class="op" id="7456341">)</span><span class="op" id="7456342">,</span>&nbsp;<span class="op" id="7456344">&amp;</span><span class="ident" id="7456345">IPNet</span><span class="op" id="7456350">{</span><span class="ident" id="7456351">IP</span><span class="op" id="7456353">:</span>&nbsp;<span class="ident" id="7456355">ParseIP</span><span class="op" id="7456362">(</span><span class="string" id="7456363">&#34;abcd:2345::&#34;</span><span class="op" id="7456376">)</span><span class="op" id="7456377">,</span>&nbsp;<span class="ident" id="7456379">Mask</span><span class="op" id="7456383">:</span>&nbsp;<span class="ident" id="7456385">IPMask</span><span class="op" id="7456391">(</span><span class="ident" id="7456392">ParseIP</span><span class="op" id="7456399">(</span><span class="string" id="7456400">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="7456423">)</span><span class="op" id="7456424">)</span><span class="op" id="7456425">}</span><span class="op" id="7456426">,</span>&nbsp;<span class="ident" id="7456428">nil</span><span class="op" id="7456431">}</span><span class="op" id="7456432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456435">{</span><span class="string" id="7456436">&#34;abcd:2345::/33&#34;</span><span class="op" id="7456452">,</span>&nbsp;<span class="ident" id="7456454">ParseIP</span><span class="op" id="7456461">(</span><span class="string" id="7456462">&#34;abcd:2345::&#34;</span><span class="op" id="7456475">)</span><span class="op" id="7456476">,</span>&nbsp;<span class="op" id="7456478">&amp;</span><span class="ident" id="7456479">IPNet</span><span class="op" id="7456484">{</span><span class="ident" id="7456485">IP</span><span class="op" id="7456487">:</span>&nbsp;<span class="ident" id="7456489">ParseIP</span><span class="op" id="7456496">(</span><span class="string" id="7456497">&#34;abcd:2345::&#34;</span><span class="op" id="7456510">)</span><span class="op" id="7456511">,</span>&nbsp;<span class="ident" id="7456513">Mask</span><span class="op" id="7456517">:</span>&nbsp;<span class="ident" id="7456519">IPMask</span><span class="op" id="7456525">(</span><span class="ident" id="7456526">ParseIP</span><span class="op" id="7456533">(</span><span class="string" id="7456534">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="7456552">)</span><span class="op" id="7456553">)</span><span class="op" id="7456554">}</span><span class="op" id="7456555">,</span>&nbsp;<span class="ident" id="7456557">nil</span><span class="op" id="7456560">}</span><span class="op" id="7456561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456564">{</span><span class="string" id="7456565">&#34;abcd:2345::/32&#34;</span><span class="op" id="7456581">,</span>&nbsp;<span class="ident" id="7456583">ParseIP</span><span class="op" id="7456590">(</span><span class="string" id="7456591">&#34;abcd:2345::&#34;</span><span class="op" id="7456604">)</span><span class="op" id="7456605">,</span>&nbsp;<span class="op" id="7456607">&amp;</span><span class="ident" id="7456608">IPNet</span><span class="op" id="7456613">{</span><span class="ident" id="7456614">IP</span><span class="op" id="7456616">:</span>&nbsp;<span class="ident" id="7456618">ParseIP</span><span class="op" id="7456625">(</span><span class="string" id="7456626">&#34;abcd:2345::&#34;</span><span class="op" id="7456639">)</span><span class="op" id="7456640">,</span>&nbsp;<span class="ident" id="7456642">Mask</span><span class="op" id="7456646">:</span>&nbsp;<span class="ident" id="7456648">IPMask</span><span class="op" id="7456654">(</span><span class="ident" id="7456655">ParseIP</span><span class="op" id="7456662">(</span><span class="string" id="7456663">&#34;ffff:ffff::&#34;</span><span class="op" id="7456676">)</span><span class="op" id="7456677">)</span><span class="op" id="7456678">}</span><span class="op" id="7456679">,</span>&nbsp;<span class="ident" id="7456681">nil</span><span class="op" id="7456684">}</span><span class="op" id="7456685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456688">{</span><span class="string" id="7456689">&#34;abcd:2344::/31&#34;</span><span class="op" id="7456705">,</span>&nbsp;<span class="ident" id="7456707">ParseIP</span><span class="op" id="7456714">(</span><span class="string" id="7456715">&#34;abcd:2344::&#34;</span><span class="op" id="7456728">)</span><span class="op" id="7456729">,</span>&nbsp;<span class="op" id="7456731">&amp;</span><span class="ident" id="7456732">IPNet</span><span class="op" id="7456737">{</span><span class="ident" id="7456738">IP</span><span class="op" id="7456740">:</span>&nbsp;<span class="ident" id="7456742">ParseIP</span><span class="op" id="7456749">(</span><span class="string" id="7456750">&#34;abcd:2344::&#34;</span><span class="op" id="7456763">)</span><span class="op" id="7456764">,</span>&nbsp;<span class="ident" id="7456766">Mask</span><span class="op" id="7456770">:</span>&nbsp;<span class="ident" id="7456772">IPMask</span><span class="op" id="7456778">(</span><span class="ident" id="7456779">ParseIP</span><span class="op" id="7456786">(</span><span class="string" id="7456787">&#34;ffff:fffe::&#34;</span><span class="op" id="7456800">)</span><span class="op" id="7456801">)</span><span class="op" id="7456802">}</span><span class="op" id="7456803">,</span>&nbsp;<span class="ident" id="7456805">nil</span><span class="op" id="7456808">}</span><span class="op" id="7456809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456812">{</span><span class="string" id="7456813">&#34;abcd:2300::/24&#34;</span><span class="op" id="7456829">,</span>&nbsp;<span class="ident" id="7456831">ParseIP</span><span class="op" id="7456838">(</span><span class="string" id="7456839">&#34;abcd:2300::&#34;</span><span class="op" id="7456852">)</span><span class="op" id="7456853">,</span>&nbsp;<span class="op" id="7456855">&amp;</span><span class="ident" id="7456856">IPNet</span><span class="op" id="7456861">{</span><span class="ident" id="7456862">IP</span><span class="op" id="7456864">:</span>&nbsp;<span class="ident" id="7456866">ParseIP</span><span class="op" id="7456873">(</span><span class="string" id="7456874">&#34;abcd:2300::&#34;</span><span class="op" id="7456887">)</span><span class="op" id="7456888">,</span>&nbsp;<span class="ident" id="7456890">Mask</span><span class="op" id="7456894">:</span>&nbsp;<span class="ident" id="7456896">IPMask</span><span class="op" id="7456902">(</span><span class="ident" id="7456903">ParseIP</span><span class="op" id="7456910">(</span><span class="string" id="7456911">&#34;ffff:ff00::&#34;</span><span class="op" id="7456924">)</span><span class="op" id="7456925">)</span><span class="op" id="7456926">}</span><span class="op" id="7456927">,</span>&nbsp;<span class="ident" id="7456929">nil</span><span class="op" id="7456932">}</span><span class="op" id="7456933">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7456936">{</span><span class="string" id="7456937">&#34;abcd:2345::/24&#34;</span><span class="op" id="7456953">,</span>&nbsp;<span class="ident" id="7456955">ParseIP</span><span class="op" id="7456962">(</span><span class="string" id="7456963">&#34;abcd:2345::&#34;</span><span class="op" id="7456976">)</span><span class="op" id="7456977">,</span>&nbsp;<span class="op" id="7456979">&amp;</span><span class="ident" id="7456980">IPNet</span><span class="op" id="7456985">{</span><span class="ident" id="7456986">IP</span><span class="op" id="7456988">:</span>&nbsp;<span class="ident" id="7456990">ParseIP</span><span class="op" id="7456997">(</span><span class="string" id="7456998">&#34;abcd:2300::&#34;</span><span class="op" id="7457011">)</span><span class="op" id="7457012">,</span>&nbsp;<span class="ident" id="7457014">Mask</span><span class="op" id="7457018">:</span>&nbsp;<span class="ident" id="7457020">IPMask</span><span class="op" id="7457026">(</span><span class="ident" id="7457027">ParseIP</span><span class="op" id="7457034">(</span><span class="string" id="7457035">&#34;ffff:ff00::&#34;</span><span class="op" id="7457048">)</span><span class="op" id="7457049">)</span><span class="op" id="7457050">}</span><span class="op" id="7457051">,</span>&nbsp;<span class="ident" id="7457053">nil</span><span class="op" id="7457056">}</span><span class="op" id="7457057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457060">{</span><span class="string" id="7457061">&#34;2001:DB8::/48&#34;</span><span class="op" id="7457076">,</span>&nbsp;<span class="ident" id="7457078">ParseIP</span><span class="op" id="7457085">(</span><span class="string" id="7457086">&#34;2001:DB8::&#34;</span><span class="op" id="7457098">)</span><span class="op" id="7457099">,</span>&nbsp;<span class="op" id="7457101">&amp;</span><span class="ident" id="7457102">IPNet</span><span class="op" id="7457107">{</span><span class="ident" id="7457108">IP</span><span class="op" id="7457110">:</span>&nbsp;<span class="ident" id="7457112">ParseIP</span><span class="op" id="7457119">(</span><span class="string" id="7457120">&#34;2001:DB8::&#34;</span><span class="op" id="7457132">)</span><span class="op" id="7457133">,</span>&nbsp;<span class="ident" id="7457135">Mask</span><span class="op" id="7457139">:</span>&nbsp;<span class="ident" id="7457141">IPMask</span><span class="op" id="7457147">(</span><span class="ident" id="7457148">ParseIP</span><span class="op" id="7457155">(</span><span class="string" id="7457156">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="7457174">)</span><span class="op" id="7457175">)</span><span class="op" id="7457176">}</span><span class="op" id="7457177">,</span>&nbsp;<span class="ident" id="7457179">nil</span><span class="op" id="7457182">}</span><span class="op" id="7457183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457186">{</span><span class="string" id="7457187">&#34;2001:DB8::1/48&#34;</span><span class="op" id="7457203">,</span>&nbsp;<span class="ident" id="7457205">ParseIP</span><span class="op" id="7457212">(</span><span class="string" id="7457213">&#34;2001:DB8::1&#34;</span><span class="op" id="7457226">)</span><span class="op" id="7457227">,</span>&nbsp;<span class="op" id="7457229">&amp;</span><span class="ident" id="7457230">IPNet</span><span class="op" id="7457235">{</span><span class="ident" id="7457236">IP</span><span class="op" id="7457238">:</span>&nbsp;<span class="ident" id="7457240">ParseIP</span><span class="op" id="7457247">(</span><span class="string" id="7457248">&#34;2001:DB8::&#34;</span><span class="op" id="7457260">)</span><span class="op" id="7457261">,</span>&nbsp;<span class="ident" id="7457263">Mask</span><span class="op" id="7457267">:</span>&nbsp;<span class="ident" id="7457269">IPMask</span><span class="op" id="7457275">(</span><span class="ident" id="7457276">ParseIP</span><span class="op" id="7457283">(</span><span class="string" id="7457284">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="7457302">)</span><span class="op" id="7457303">)</span><span class="op" id="7457304">}</span><span class="op" id="7457305">,</span>&nbsp;<span class="ident" id="7457307">nil</span><span class="op" id="7457310">}</span><span class="op" id="7457311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457314">{</span><span class="string" id="7457315">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="7457342">,</span>&nbsp;<span class="ident" id="7457344">nil</span><span class="op" id="7457347">,</span>&nbsp;<span class="ident" id="7457349">nil</span><span class="op" id="7457352">,</span>&nbsp;<span class="op" id="7457354">&amp;</span><span class="ident" id="7457355">ParseError</span><span class="op" id="7457365">{</span><span class="string" id="7457366">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7457380">,</span>&nbsp;<span class="string" id="7457382">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="7457409">}</span><span class="op" id="7457410">}</span><span class="op" id="7457411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457414">{</span><span class="string" id="7457415">&#34;192.168.1.1/35&#34;</span><span class="op" id="7457431">,</span>&nbsp;<span class="ident" id="7457433">nil</span><span class="op" id="7457436">,</span>&nbsp;<span class="ident" id="7457438">nil</span><span class="op" id="7457441">,</span>&nbsp;<span class="op" id="7457443">&amp;</span><span class="ident" id="7457444">ParseError</span><span class="op" id="7457454">{</span><span class="string" id="7457455">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7457469">,</span>&nbsp;<span class="string" id="7457471">&#34;192.168.1.1/35&#34;</span><span class="op" id="7457487">}</span><span class="op" id="7457488">}</span><span class="op" id="7457489">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457492">{</span><span class="string" id="7457493">&#34;2001:db8::1/-1&#34;</span><span class="op" id="7457509">,</span>&nbsp;<span class="ident" id="7457511">nil</span><span class="op" id="7457514">,</span>&nbsp;<span class="ident" id="7457516">nil</span><span class="op" id="7457519">,</span>&nbsp;<span class="op" id="7457521">&amp;</span><span class="ident" id="7457522">ParseError</span><span class="op" id="7457532">{</span><span class="string" id="7457533">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7457547">,</span>&nbsp;<span class="string" id="7457549">&#34;2001:db8::1/-1&#34;</span><span class="op" id="7457565">}</span><span class="op" id="7457566">}</span><span class="op" id="7457567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457570">{</span><span class="string" id="7457571">&#34;&#34;</span><span class="op" id="7457573">,</span>&nbsp;<span class="ident" id="7457575">nil</span><span class="op" id="7457578">,</span>&nbsp;<span class="ident" id="7457580">nil</span><span class="op" id="7457583">,</span>&nbsp;<span class="op" id="7457585">&amp;</span><span class="ident" id="7457586">ParseError</span><span class="op" id="7457596">{</span><span class="string" id="7457597">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="7457611">,</span>&nbsp;<span class="string" id="7457613">&#34;&#34;</span><span class="op" id="7457615">}</span><span class="op" id="7457616">}</span><span class="op" id="7457617">,</span><br>
<span class="lineno"></span><span class="op" id="7457619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7457622">func</span>&nbsp;<span class="ident" id="7457627">TestParseCIDR</span><span class="op" id="7457640">(</span><span class="ident" id="7457641">t</span>&nbsp;<span class="op" id="7457643">*</span><span class="ident" id="7457644">testing</span><span class="op" id="7457651">.</span><span class="ident" id="7457652">T</span><span class="op" id="7457653">)</span>&nbsp;<span class="op" id="7457655">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457658">for</span>&nbsp;<span class="ident" id="7457662">_</span><span class="op" id="7457663">,</span>&nbsp;<span class="ident" id="7457665">tt</span>&nbsp;<span class="op" id="7457668">:=</span>&nbsp;<span class="keyword" id="7457671">range</span>&nbsp;<span class="ident" id="7457677">parseCIDRTests</span>&nbsp;<span class="op" id="7457692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457696">ip</span><span class="op" id="7457698">,</span>&nbsp;<span class="ident" id="7457700">net</span><span class="op" id="7457703">,</span>&nbsp;<span class="ident" id="7457705">err</span>&nbsp;<span class="op" id="7457709">:=</span>&nbsp;<span class="ident" id="7457712">ParseCIDR</span><span class="op" id="7457721">(</span><span class="ident" id="7457722">tt</span><span class="op" id="7457724">.</span><span class="ident" id="7457725">in</span><span class="op" id="7457727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457731">if</span>&nbsp;<span class="op" id="7457734">!</span><span class="ident" id="7457735">reflect</span><span class="op" id="7457742">.</span><span class="ident" id="7457743">DeepEqual</span><span class="op" id="7457752">(</span><span class="ident" id="7457753">err</span><span class="op" id="7457756">,</span>&nbsp;<span class="ident" id="7457758">tt</span><span class="op" id="7457760">.</span><span class="ident" id="7457761">err</span><span class="op" id="7457764">)</span>&nbsp;<span class="op" id="7457766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457771">t</span><span class="op" id="7457772">.</span><span class="ident" id="7457773">Errorf</span><span class="op" id="7457779">(</span><span class="string" id="7457780">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="7457817">,</span>&nbsp;<span class="ident" id="7457819">tt</span><span class="op" id="7457821">.</span><span class="ident" id="7457822">in</span><span class="op" id="7457824">,</span>&nbsp;<span class="ident" id="7457826">ip</span><span class="op" id="7457828">,</span>&nbsp;<span class="ident" id="7457830">net</span><span class="op" id="7457833">,</span>&nbsp;<span class="ident" id="7457835">tt</span><span class="op" id="7457837">.</span><span class="ident" id="7457838">ip</span><span class="op" id="7457840">,</span>&nbsp;<span class="ident" id="7457842">tt</span><span class="op" id="7457844">.</span><span class="ident" id="7457845">net</span><span class="op" id="7457848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7457852">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7457856">if</span>&nbsp;<span class="ident" id="7457859">err</span>&nbsp;<span class="op" id="7457863">==</span>&nbsp;<span class="ident" id="7457866">nil</span>&nbsp;<span class="op" id="7457870">&amp;&amp;</span>&nbsp;<span class="op" id="7457873">(</span><span class="op" id="7457874">!</span><span class="ident" id="7457875">tt</span><span class="op" id="7457877">.</span><span class="ident" id="7457878">ip</span><span class="op" id="7457880">.</span><span class="ident" id="7457881">Equal</span><span class="op" id="7457886">(</span><span class="ident" id="7457887">ip</span><span class="op" id="7457889">)</span>&nbsp;<span class="op" id="7457891">||</span>&nbsp;<span class="op" id="7457894">!</span><span class="ident" id="7457895">tt</span><span class="op" id="7457897">.</span><span class="ident" id="7457898">net</span><span class="op" id="7457901">.</span><span class="ident" id="7457902">IP</span><span class="op" id="7457904">.</span><span class="ident" id="7457905">Equal</span><span class="op" id="7457910">(</span><span class="ident" id="7457911">net</span><span class="op" id="7457914">.</span><span class="ident" id="7457915">IP</span><span class="op" id="7457917">)</span>&nbsp;<span class="op" id="7457919">||</span>&nbsp;<span class="op" id="7457922">!</span><span class="ident" id="7457923">reflect</span><span class="op" id="7457930">.</span><span class="ident" id="7457931">DeepEqual</span><span class="op" id="7457940">(</span><span class="ident" id="7457941">net</span><span class="op" id="7457944">.</span><span class="ident" id="7457945">Mask</span><span class="op" id="7457949">,</span>&nbsp;<span class="ident" id="7457951">tt</span><span class="op" id="7457953">.</span><span class="ident" id="7457954">net</span><span class="op" id="7457957">.</span><span class="ident" id="7457958">Mask</span><span class="op" id="7457962">)</span><span class="op" id="7457963">)</span>&nbsp;<span class="op" id="7457965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7457970">t</span><span class="op" id="7457971">.</span><span class="ident" id="7457972">Errorf</span><span class="op" id="7457978">(</span><span class="string" id="7457979">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="7458028">,</span>&nbsp;<span class="ident" id="7458030">tt</span><span class="op" id="7458032">.</span><span class="ident" id="7458033">in</span><span class="op" id="7458035">,</span>&nbsp;<span class="ident" id="7458037">ip</span><span class="op" id="7458039">,</span>&nbsp;<span class="ident" id="7458041">net</span><span class="op" id="7458044">.</span><span class="ident" id="7458045">IP</span><span class="op" id="7458047">,</span>&nbsp;<span class="ident" id="7458049">net</span><span class="op" id="7458052">.</span><span class="ident" id="7458053">Mask</span><span class="op" id="7458057">,</span>&nbsp;<span class="ident" id="7458059">tt</span><span class="op" id="7458061">.</span><span class="ident" id="7458062">ip</span><span class="op" id="7458064">,</span>&nbsp;<span class="ident" id="7458066">tt</span><span class="op" id="7458068">.</span><span class="ident" id="7458069">net</span><span class="op" id="7458072">.</span><span class="ident" id="7458073">IP</span><span class="op" id="7458075">,</span>&nbsp;<span class="ident" id="7458077">tt</span><span class="op" id="7458079">.</span><span class="ident" id="7458080">net</span><span class="op" id="7458083">.</span><span class="ident" id="7458084">Mask</span><span class="op" id="7458088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458095">}</span><br>
<span class="lineno"></span><span class="op" id="7458097">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="7458100">var</span>&nbsp;<span class="ident" id="7458104">ipNetContainsTests</span>&nbsp;<span class="op" id="7458123">=</span>&nbsp;<span class="op" id="7458125">[</span><span class="op" id="7458126">]</span><span class="keyword" id="7458127">struct</span>&nbsp;<span class="op" id="7458134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458137">ip</span>&nbsp;&nbsp;<span class="ident" id="7458141">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458145">net</span>&nbsp;<span class="op" id="7458149">*</span><span class="ident" id="7458150">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7458157">ok</span>&nbsp;&nbsp;<span class="builtintype" id="7458161">bool</span><br>
<span class="lineno">205</span><span class="op" id="7458166">}</span><span class="op" id="7458167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458170">{</span><span class="ident" id="7458171">IPv4</span><span class="op" id="7458175">(</span><span class="num" id="7458176">172</span><span class="op" id="7458179">,</span>&nbsp;<span class="num" id="7458181">16</span><span class="op" id="7458183">,</span>&nbsp;<span class="num" id="7458185">1</span><span class="op" id="7458186">,</span>&nbsp;<span class="num" id="7458188">1</span><span class="op" id="7458189">)</span><span class="op" id="7458190">,</span>&nbsp;<span class="op" id="7458192">&amp;</span><span class="ident" id="7458193">IPNet</span><span class="op" id="7458198">{</span><span class="ident" id="7458199">IP</span><span class="op" id="7458201">:</span>&nbsp;<span class="ident" id="7458203">IPv4</span><span class="op" id="7458207">(</span><span class="num" id="7458208">172</span><span class="op" id="7458211">,</span>&nbsp;<span class="num" id="7458213">16</span><span class="op" id="7458215">,</span>&nbsp;<span class="num" id="7458217">0</span><span class="op" id="7458218">,</span>&nbsp;<span class="num" id="7458220">0</span><span class="op" id="7458221">)</span><span class="op" id="7458222">,</span>&nbsp;<span class="ident" id="7458224">Mask</span><span class="op" id="7458228">:</span>&nbsp;<span class="ident" id="7458230">CIDRMask</span><span class="op" id="7458238">(</span><span class="num" id="7458239">12</span><span class="op" id="7458241">,</span>&nbsp;<span class="num" id="7458243">32</span><span class="op" id="7458245">)</span><span class="op" id="7458246">}</span><span class="op" id="7458247">,</span>&nbsp;<span class="ident" id="7458249">true</span><span class="op" id="7458253">}</span><span class="op" id="7458254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458257">{</span><span class="ident" id="7458258">IPv4</span><span class="op" id="7458262">(</span><span class="num" id="7458263">172</span><span class="op" id="7458266">,</span>&nbsp;<span class="num" id="7458268">24</span><span class="op" id="7458270">,</span>&nbsp;<span class="num" id="7458272">0</span><span class="op" id="7458273">,</span>&nbsp;<span class="num" id="7458275">1</span><span class="op" id="7458276">)</span><span class="op" id="7458277">,</span>&nbsp;<span class="op" id="7458279">&amp;</span><span class="ident" id="7458280">IPNet</span><span class="op" id="7458285">{</span><span class="ident" id="7458286">IP</span><span class="op" id="7458288">:</span>&nbsp;<span class="ident" id="7458290">IPv4</span><span class="op" id="7458294">(</span><span class="num" id="7458295">172</span><span class="op" id="7458298">,</span>&nbsp;<span class="num" id="7458300">16</span><span class="op" id="7458302">,</span>&nbsp;<span class="num" id="7458304">0</span><span class="op" id="7458305">,</span>&nbsp;<span class="num" id="7458307">0</span><span class="op" id="7458308">)</span><span class="op" id="7458309">,</span>&nbsp;<span class="ident" id="7458311">Mask</span><span class="op" id="7458315">:</span>&nbsp;<span class="ident" id="7458317">CIDRMask</span><span class="op" id="7458325">(</span><span class="num" id="7458326">13</span><span class="op" id="7458328">,</span>&nbsp;<span class="num" id="7458330">32</span><span class="op" id="7458332">)</span><span class="op" id="7458333">}</span><span class="op" id="7458334">,</span>&nbsp;<span class="ident" id="7458336">false</span><span class="op" id="7458341">}</span><span class="op" id="7458342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458345">{</span><span class="ident" id="7458346">IPv4</span><span class="op" id="7458350">(</span><span class="num" id="7458351">192</span><span class="op" id="7458354">,</span>&nbsp;<span class="num" id="7458356">168</span><span class="op" id="7458359">,</span>&nbsp;<span class="num" id="7458361">0</span><span class="op" id="7458362">,</span>&nbsp;<span class="num" id="7458364">3</span><span class="op" id="7458365">)</span><span class="op" id="7458366">,</span>&nbsp;<span class="op" id="7458368">&amp;</span><span class="ident" id="7458369">IPNet</span><span class="op" id="7458374">{</span><span class="ident" id="7458375">IP</span><span class="op" id="7458377">:</span>&nbsp;<span class="ident" id="7458379">IPv4</span><span class="op" id="7458383">(</span><span class="num" id="7458384">192</span><span class="op" id="7458387">,</span>&nbsp;<span class="num" id="7458389">168</span><span class="op" id="7458392">,</span>&nbsp;<span class="num" id="7458394">0</span><span class="op" id="7458395">,</span>&nbsp;<span class="num" id="7458397">0</span><span class="op" id="7458398">)</span><span class="op" id="7458399">,</span>&nbsp;<span class="ident" id="7458401">Mask</span><span class="op" id="7458405">:</span>&nbsp;<span class="ident" id="7458407">IPv4Mask</span><span class="op" id="7458415">(</span><span class="num" id="7458416">0</span><span class="op" id="7458417">,</span>&nbsp;<span class="num" id="7458419">0</span><span class="op" id="7458420">,</span>&nbsp;<span class="num" id="7458422">255</span><span class="op" id="7458425">,</span>&nbsp;<span class="num" id="7458427">252</span><span class="op" id="7458430">)</span><span class="op" id="7458431">}</span><span class="op" id="7458432">,</span>&nbsp;<span class="ident" id="7458434">true</span><span class="op" id="7458438">}</span><span class="op" id="7458439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458442">{</span><span class="ident" id="7458443">IPv4</span><span class="op" id="7458447">(</span><span class="num" id="7458448">192</span><span class="op" id="7458451">,</span>&nbsp;<span class="num" id="7458453">168</span><span class="op" id="7458456">,</span>&nbsp;<span class="num" id="7458458">0</span><span class="op" id="7458459">,</span>&nbsp;<span class="num" id="7458461">4</span><span class="op" id="7458462">)</span><span class="op" id="7458463">,</span>&nbsp;<span class="op" id="7458465">&amp;</span><span class="ident" id="7458466">IPNet</span><span class="op" id="7458471">{</span><span class="ident" id="7458472">IP</span><span class="op" id="7458474">:</span>&nbsp;<span class="ident" id="7458476">IPv4</span><span class="op" id="7458480">(</span><span class="num" id="7458481">192</span><span class="op" id="7458484">,</span>&nbsp;<span class="num" id="7458486">168</span><span class="op" id="7458489">,</span>&nbsp;<span class="num" id="7458491">0</span><span class="op" id="7458492">,</span>&nbsp;<span class="num" id="7458494">0</span><span class="op" id="7458495">)</span><span class="op" id="7458496">,</span>&nbsp;<span class="ident" id="7458498">Mask</span><span class="op" id="7458502">:</span>&nbsp;<span class="ident" id="7458504">IPv4Mask</span><span class="op" id="7458512">(</span><span class="num" id="7458513">0</span><span class="op" id="7458514">,</span>&nbsp;<span class="num" id="7458516">255</span><span class="op" id="7458519">,</span>&nbsp;<span class="num" id="7458521">0</span><span class="op" id="7458522">,</span>&nbsp;<span class="num" id="7458524">252</span><span class="op" id="7458527">)</span><span class="op" id="7458528">}</span><span class="op" id="7458529">,</span>&nbsp;<span class="ident" id="7458531">false</span><span class="op" id="7458536">}</span><span class="op" id="7458537">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458540">{</span><span class="ident" id="7458541">ParseIP</span><span class="op" id="7458548">(</span><span class="string" id="7458549">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7458566">)</span><span class="op" id="7458567">,</span>&nbsp;<span class="op" id="7458569">&amp;</span><span class="ident" id="7458570">IPNet</span><span class="op" id="7458575">{</span><span class="ident" id="7458576">IP</span><span class="op" id="7458578">:</span>&nbsp;<span class="ident" id="7458580">ParseIP</span><span class="op" id="7458587">(</span><span class="string" id="7458588">&#34;2001:db8:1::&#34;</span><span class="op" id="7458602">)</span><span class="op" id="7458603">,</span>&nbsp;<span class="ident" id="7458605">Mask</span><span class="op" id="7458609">:</span>&nbsp;<span class="ident" id="7458611">CIDRMask</span><span class="op" id="7458619">(</span><span class="num" id="7458620">47</span><span class="op" id="7458622">,</span>&nbsp;<span class="num" id="7458624">128</span><span class="op" id="7458627">)</span><span class="op" id="7458628">}</span><span class="op" id="7458629">,</span>&nbsp;<span class="ident" id="7458631">true</span><span class="op" id="7458635">}</span><span class="op" id="7458636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458639">{</span><span class="ident" id="7458640">ParseIP</span><span class="op" id="7458647">(</span><span class="string" id="7458648">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7458665">)</span><span class="op" id="7458666">,</span>&nbsp;<span class="op" id="7458668">&amp;</span><span class="ident" id="7458669">IPNet</span><span class="op" id="7458674">{</span><span class="ident" id="7458675">IP</span><span class="op" id="7458677">:</span>&nbsp;<span class="ident" id="7458679">ParseIP</span><span class="op" id="7458686">(</span><span class="string" id="7458687">&#34;2001:db8:2::&#34;</span><span class="op" id="7458701">)</span><span class="op" id="7458702">,</span>&nbsp;<span class="ident" id="7458704">Mask</span><span class="op" id="7458708">:</span>&nbsp;<span class="ident" id="7458710">CIDRMask</span><span class="op" id="7458718">(</span><span class="num" id="7458719">47</span><span class="op" id="7458721">,</span>&nbsp;<span class="num" id="7458723">128</span><span class="op" id="7458726">)</span><span class="op" id="7458727">}</span><span class="op" id="7458728">,</span>&nbsp;<span class="ident" id="7458730">false</span><span class="op" id="7458735">}</span><span class="op" id="7458736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458739">{</span><span class="ident" id="7458740">ParseIP</span><span class="op" id="7458747">(</span><span class="string" id="7458748">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7458765">)</span><span class="op" id="7458766">,</span>&nbsp;<span class="op" id="7458768">&amp;</span><span class="ident" id="7458769">IPNet</span><span class="op" id="7458774">{</span><span class="ident" id="7458775">IP</span><span class="op" id="7458777">:</span>&nbsp;<span class="ident" id="7458779">ParseIP</span><span class="op" id="7458786">(</span><span class="string" id="7458787">&#34;2001:db8:1::&#34;</span><span class="op" id="7458801">)</span><span class="op" id="7458802">,</span>&nbsp;<span class="ident" id="7458804">Mask</span><span class="op" id="7458808">:</span>&nbsp;<span class="ident" id="7458810">IPMask</span><span class="op" id="7458816">(</span><span class="ident" id="7458817">ParseIP</span><span class="op" id="7458824">(</span><span class="string" id="7458825">&#34;ffff:0:ffff::&#34;</span><span class="op" id="7458840">)</span><span class="op" id="7458841">)</span><span class="op" id="7458842">}</span><span class="op" id="7458843">,</span>&nbsp;<span class="ident" id="7458845">true</span><span class="op" id="7458849">}</span><span class="op" id="7458850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7458853">{</span><span class="ident" id="7458854">ParseIP</span><span class="op" id="7458861">(</span><span class="string" id="7458862">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="7458879">)</span><span class="op" id="7458880">,</span>&nbsp;<span class="op" id="7458882">&amp;</span><span class="ident" id="7458883">IPNet</span><span class="op" id="7458888">{</span><span class="ident" id="7458889">IP</span><span class="op" id="7458891">:</span>&nbsp;<span class="ident" id="7458893">ParseIP</span><span class="op" id="7458900">(</span><span class="string" id="7458901">&#34;2001:db8:1::&#34;</span><span class="op" id="7458915">)</span><span class="op" id="7458916">,</span>&nbsp;<span class="ident" id="7458918">Mask</span><span class="op" id="7458922">:</span>&nbsp;<span class="ident" id="7458924">IPMask</span><span class="op" id="7458930">(</span><span class="ident" id="7458931">ParseIP</span><span class="op" id="7458938">(</span><span class="string" id="7458939">&#34;0:0:0:ffff::&#34;</span><span class="op" id="7458953">)</span><span class="op" id="7458954">)</span><span class="op" id="7458955">}</span><span class="op" id="7458956">,</span>&nbsp;<span class="ident" id="7458958">false</span><span class="op" id="7458963">}</span><span class="op" id="7458964">,</span><br>
<span class="lineno"></span><span class="op" id="7458966">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="7458969">func</span>&nbsp;<span class="ident" id="7458974">TestIPNetContains</span><span class="op" id="7458991">(</span><span class="ident" id="7458992">t</span>&nbsp;<span class="op" id="7458994">*</span><span class="ident" id="7458995">testing</span><span class="op" id="7459002">.</span><span class="ident" id="7459003">T</span><span class="op" id="7459004">)</span>&nbsp;<span class="op" id="7459006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459009">for</span>&nbsp;<span class="ident" id="7459013">_</span><span class="op" id="7459014">,</span>&nbsp;<span class="ident" id="7459016">tt</span>&nbsp;<span class="op" id="7459019">:=</span>&nbsp;<span class="keyword" id="7459022">range</span>&nbsp;<span class="ident" id="7459028">ipNetContainsTests</span>&nbsp;<span class="op" id="7459047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459051">if</span>&nbsp;<span class="ident" id="7459054">ok</span>&nbsp;<span class="op" id="7459057">:=</span>&nbsp;<span class="ident" id="7459060">tt</span><span class="op" id="7459062">.</span><span class="ident" id="7459063">net</span><span class="op" id="7459066">.</span><span class="ident" id="7459067">Contains</span><span class="op" id="7459075">(</span><span class="ident" id="7459076">tt</span><span class="op" id="7459078">.</span><span class="ident" id="7459079">ip</span><span class="op" id="7459081">)</span><span class="op" id="7459082">;</span>&nbsp;<span class="ident" id="7459084">ok</span>&nbsp;<span class="op" id="7459087">!=</span>&nbsp;<span class="ident" id="7459090">tt</span><span class="op" id="7459092">.</span><span class="ident" id="7459093">ok</span>&nbsp;<span class="op" id="7459096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459101">t</span><span class="op" id="7459102">.</span><span class="ident" id="7459103">Errorf</span><span class="op" id="7459109">(</span><span class="string" id="7459110">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7459148">,</span>&nbsp;<span class="ident" id="7459150">tt</span><span class="op" id="7459152">.</span><span class="ident" id="7459153">net</span><span class="op" id="7459156">,</span>&nbsp;<span class="ident" id="7459158">tt</span><span class="op" id="7459160">.</span><span class="ident" id="7459161">ip</span><span class="op" id="7459163">,</span>&nbsp;<span class="ident" id="7459165">ok</span><span class="op" id="7459167">,</span>&nbsp;<span class="ident" id="7459169">tt</span><span class="op" id="7459171">.</span><span class="ident" id="7459172">ok</span><span class="op" id="7459174">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459181">}</span><br>
<span class="lineno"></span><span class="op" id="7459183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459186">var</span>&nbsp;<span class="ident" id="7459190">ipNetStringTests</span>&nbsp;<span class="op" id="7459207">=</span>&nbsp;<span class="op" id="7459209">[</span><span class="op" id="7459210">]</span><span class="keyword" id="7459211">struct</span>&nbsp;<span class="op" id="7459218">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459221">in</span>&nbsp;&nbsp;<span class="op" id="7459225">*</span><span class="ident" id="7459226">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459233">out</span>&nbsp;<span class="builtintype" id="7459237">string</span><br>
<span class="lineno"></span><span class="op" id="7459244">}</span><span class="op" id="7459245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459248">{</span><span class="op" id="7459249">&amp;</span><span class="ident" id="7459250">IPNet</span><span class="op" id="7459255">{</span><span class="ident" id="7459256">IP</span><span class="op" id="7459258">:</span>&nbsp;<span class="ident" id="7459260">IPv4</span><span class="op" id="7459264">(</span><span class="num" id="7459265">192</span><span class="op" id="7459268">,</span>&nbsp;<span class="num" id="7459270">168</span><span class="op" id="7459273">,</span>&nbsp;<span class="num" id="7459275">1</span><span class="op" id="7459276">,</span>&nbsp;<span class="num" id="7459278">0</span><span class="op" id="7459279">)</span><span class="op" id="7459280">,</span>&nbsp;<span class="ident" id="7459282">Mask</span><span class="op" id="7459286">:</span>&nbsp;<span class="ident" id="7459288">CIDRMask</span><span class="op" id="7459296">(</span><span class="num" id="7459297">26</span><span class="op" id="7459299">,</span>&nbsp;<span class="num" id="7459301">32</span><span class="op" id="7459303">)</span><span class="op" id="7459304">}</span><span class="op" id="7459305">,</span>&nbsp;<span class="string" id="7459307">&#34;192.168.1.0/26&#34;</span><span class="op" id="7459323">}</span><span class="op" id="7459324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459327">{</span><span class="op" id="7459328">&amp;</span><span class="ident" id="7459329">IPNet</span><span class="op" id="7459334">{</span><span class="ident" id="7459335">IP</span><span class="op" id="7459337">:</span>&nbsp;<span class="ident" id="7459339">IPv4</span><span class="op" id="7459343">(</span><span class="num" id="7459344">192</span><span class="op" id="7459347">,</span>&nbsp;<span class="num" id="7459349">168</span><span class="op" id="7459352">,</span>&nbsp;<span class="num" id="7459354">1</span><span class="op" id="7459355">,</span>&nbsp;<span class="num" id="7459357">0</span><span class="op" id="7459358">)</span><span class="op" id="7459359">,</span>&nbsp;<span class="ident" id="7459361">Mask</span><span class="op" id="7459365">:</span>&nbsp;<span class="ident" id="7459367">IPv4Mask</span><span class="op" id="7459375">(</span><span class="num" id="7459376">255</span><span class="op" id="7459379">,</span>&nbsp;<span class="num" id="7459381">0</span><span class="op" id="7459382">,</span>&nbsp;<span class="num" id="7459384">255</span><span class="op" id="7459387">,</span>&nbsp;<span class="num" id="7459389">0</span><span class="op" id="7459390">)</span><span class="op" id="7459391">}</span><span class="op" id="7459392">,</span>&nbsp;<span class="string" id="7459394">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="7459416">}</span><span class="op" id="7459417">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459420">{</span><span class="op" id="7459421">&amp;</span><span class="ident" id="7459422">IPNet</span><span class="op" id="7459427">{</span><span class="ident" id="7459428">IP</span><span class="op" id="7459430">:</span>&nbsp;<span class="ident" id="7459432">ParseIP</span><span class="op" id="7459439">(</span><span class="string" id="7459440">&#34;2001:db8::&#34;</span><span class="op" id="7459452">)</span><span class="op" id="7459453">,</span>&nbsp;<span class="ident" id="7459455">Mask</span><span class="op" id="7459459">:</span>&nbsp;<span class="ident" id="7459461">CIDRMask</span><span class="op" id="7459469">(</span><span class="num" id="7459470">55</span><span class="op" id="7459472">,</span>&nbsp;<span class="num" id="7459474">128</span><span class="op" id="7459477">)</span><span class="op" id="7459478">}</span><span class="op" id="7459479">,</span>&nbsp;<span class="string" id="7459481">&#34;2001:db8::/55&#34;</span><span class="op" id="7459496">}</span><span class="op" id="7459497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459500">{</span><span class="op" id="7459501">&amp;</span><span class="ident" id="7459502">IPNet</span><span class="op" id="7459507">{</span><span class="ident" id="7459508">IP</span><span class="op" id="7459510">:</span>&nbsp;<span class="ident" id="7459512">ParseIP</span><span class="op" id="7459519">(</span><span class="string" id="7459520">&#34;2001:db8::&#34;</span><span class="op" id="7459532">)</span><span class="op" id="7459533">,</span>&nbsp;<span class="ident" id="7459535">Mask</span><span class="op" id="7459539">:</span>&nbsp;<span class="ident" id="7459541">IPMask</span><span class="op" id="7459547">(</span><span class="ident" id="7459548">ParseIP</span><span class="op" id="7459555">(</span><span class="string" id="7459556">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="7459576">)</span><span class="op" id="7459577">)</span><span class="op" id="7459578">}</span><span class="op" id="7459579">,</span>&nbsp;<span class="string" id="7459581">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="7459626">}</span><span class="op" id="7459627">,</span><br>
<span class="lineno"></span><span class="op" id="7459629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459632">func</span>&nbsp;<span class="ident" id="7459637">TestIPNetString</span><span class="op" id="7459652">(</span><span class="ident" id="7459653">t</span>&nbsp;<span class="op" id="7459655">*</span><span class="ident" id="7459656">testing</span><span class="op" id="7459663">.</span><span class="ident" id="7459664">T</span><span class="op" id="7459665">)</span>&nbsp;<span class="op" id="7459667">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459670">for</span>&nbsp;<span class="ident" id="7459674">_</span><span class="op" id="7459675">,</span>&nbsp;<span class="ident" id="7459677">tt</span>&nbsp;<span class="op" id="7459680">:=</span>&nbsp;<span class="keyword" id="7459683">range</span>&nbsp;<span class="ident" id="7459689">ipNetStringTests</span>&nbsp;<span class="op" id="7459706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7459710">if</span>&nbsp;<span class="ident" id="7459713">out</span>&nbsp;<span class="op" id="7459717">:=</span>&nbsp;<span class="ident" id="7459720">tt</span><span class="op" id="7459722">.</span><span class="ident" id="7459723">in</span><span class="op" id="7459725">.</span><span class="ident" id="7459726">String</span><span class="op" id="7459732">(</span><span class="op" id="7459733">)</span><span class="op" id="7459734">;</span>&nbsp;<span class="ident" id="7459736">out</span>&nbsp;<span class="op" id="7459740">!=</span>&nbsp;<span class="ident" id="7459743">tt</span><span class="op" id="7459745">.</span><span class="ident" id="7459746">out</span>&nbsp;<span class="op" id="7459750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459755">t</span><span class="op" id="7459756">.</span><span class="ident" id="7459757">Errorf</span><span class="op" id="7459763">(</span><span class="string" id="7459764">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7459796">,</span>&nbsp;<span class="ident" id="7459798">tt</span><span class="op" id="7459800">.</span><span class="ident" id="7459801">in</span><span class="op" id="7459803">,</span>&nbsp;<span class="ident" id="7459805">out</span><span class="op" id="7459808">,</span>&nbsp;<span class="ident" id="7459810">tt</span><span class="op" id="7459812">.</span><span class="ident" id="7459813">out</span><span class="op" id="7459816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459823">}</span><br>
<span class="lineno">240</span><span class="op" id="7459825">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7459828">var</span>&nbsp;<span class="ident" id="7459832">cidrMaskTests</span>&nbsp;<span class="op" id="7459846">=</span>&nbsp;<span class="op" id="7459848">[</span><span class="op" id="7459849">]</span><span class="keyword" id="7459850">struct</span>&nbsp;<span class="op" id="7459857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459860">ones</span>&nbsp;<span class="builtintype" id="7459865">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459870">bits</span>&nbsp;<span class="builtintype" id="7459875">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7459880">out</span>&nbsp;&nbsp;<span class="ident" id="7459885">IPMask</span><br>
<span class="lineno"></span><span class="op" id="7459892">}</span><span class="op" id="7459893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459896">{</span><span class="num" id="7459897">0</span><span class="op" id="7459898">,</span>&nbsp;<span class="num" id="7459900">32</span><span class="op" id="7459902">,</span>&nbsp;<span class="ident" id="7459904">IPv4Mask</span><span class="op" id="7459912">(</span><span class="num" id="7459913">0</span><span class="op" id="7459914">,</span>&nbsp;<span class="num" id="7459916">0</span><span class="op" id="7459917">,</span>&nbsp;<span class="num" id="7459919">0</span><span class="op" id="7459920">,</span>&nbsp;<span class="num" id="7459922">0</span><span class="op" id="7459923">)</span><span class="op" id="7459924">}</span><span class="op" id="7459925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459928">{</span><span class="num" id="7459929">12</span><span class="op" id="7459931">,</span>&nbsp;<span class="num" id="7459933">32</span><span class="op" id="7459935">,</span>&nbsp;<span class="ident" id="7459937">IPv4Mask</span><span class="op" id="7459945">(</span><span class="num" id="7459946">255</span><span class="op" id="7459949">,</span>&nbsp;<span class="num" id="7459951">240</span><span class="op" id="7459954">,</span>&nbsp;<span class="num" id="7459956">0</span><span class="op" id="7459957">,</span>&nbsp;<span class="num" id="7459959">0</span><span class="op" id="7459960">)</span><span class="op" id="7459961">}</span><span class="op" id="7459962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7459965">{</span><span class="num" id="7459966">24</span><span class="op" id="7459968">,</span>&nbsp;<span class="num" id="7459970">32</span><span class="op" id="7459972">,</span>&nbsp;<span class="ident" id="7459974">IPv4Mask</span><span class="op" id="7459982">(</span><span class="num" id="7459983">255</span><span class="op" id="7459986">,</span>&nbsp;<span class="num" id="7459988">255</span><span class="op" id="7459991">,</span>&nbsp;<span class="num" id="7459993">255</span><span class="op" id="7459996">,</span>&nbsp;<span class="num" id="7459998">0</span><span class="op" id="7459999">)</span><span class="op" id="7460000">}</span><span class="op" id="7460001">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460004">{</span><span class="num" id="7460005">32</span><span class="op" id="7460007">,</span>&nbsp;<span class="num" id="7460009">32</span><span class="op" id="7460011">,</span>&nbsp;<span class="ident" id="7460013">IPv4Mask</span><span class="op" id="7460021">(</span><span class="num" id="7460022">255</span><span class="op" id="7460025">,</span>&nbsp;<span class="num" id="7460027">255</span><span class="op" id="7460030">,</span>&nbsp;<span class="num" id="7460032">255</span><span class="op" id="7460035">,</span>&nbsp;<span class="num" id="7460037">255</span><span class="op" id="7460040">)</span><span class="op" id="7460041">}</span><span class="op" id="7460042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460045">{</span><span class="num" id="7460046">0</span><span class="op" id="7460047">,</span>&nbsp;<span class="num" id="7460049">128</span><span class="op" id="7460052">,</span>&nbsp;<span class="ident" id="7460054">IPMask</span><span class="op" id="7460060">{</span><span class="num" id="7460061">0</span><span class="op" id="7460062">,</span>&nbsp;<span class="num" id="7460064">0</span><span class="op" id="7460065">,</span>&nbsp;<span class="num" id="7460067">0</span><span class="op" id="7460068">,</span>&nbsp;<span class="num" id="7460070">0</span><span class="op" id="7460071">,</span>&nbsp;<span class="num" id="7460073">0</span><span class="op" id="7460074">,</span>&nbsp;<span class="num" id="7460076">0</span><span class="op" id="7460077">,</span>&nbsp;<span class="num" id="7460079">0</span><span class="op" id="7460080">,</span>&nbsp;<span class="num" id="7460082">0</span><span class="op" id="7460083">,</span>&nbsp;<span class="num" id="7460085">0</span><span class="op" id="7460086">,</span>&nbsp;<span class="num" id="7460088">0</span><span class="op" id="7460089">,</span>&nbsp;<span class="num" id="7460091">0</span><span class="op" id="7460092">,</span>&nbsp;<span class="num" id="7460094">0</span><span class="op" id="7460095">,</span>&nbsp;<span class="num" id="7460097">0</span><span class="op" id="7460098">,</span>&nbsp;<span class="num" id="7460100">0</span><span class="op" id="7460101">,</span>&nbsp;<span class="num" id="7460103">0</span><span class="op" id="7460104">,</span>&nbsp;<span class="num" id="7460106">0</span><span class="op" id="7460107">}</span><span class="op" id="7460108">}</span><span class="op" id="7460109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460112">{</span><span class="num" id="7460113">4</span><span class="op" id="7460114">,</span>&nbsp;<span class="num" id="7460116">128</span><span class="op" id="7460119">,</span>&nbsp;<span class="ident" id="7460121">IPMask</span><span class="op" id="7460127">{</span><span class="num" id="7460128">0xf0</span><span class="op" id="7460132">,</span>&nbsp;<span class="num" id="7460134">0</span><span class="op" id="7460135">,</span>&nbsp;<span class="num" id="7460137">0</span><span class="op" id="7460138">,</span>&nbsp;<span class="num" id="7460140">0</span><span class="op" id="7460141">,</span>&nbsp;<span class="num" id="7460143">0</span><span class="op" id="7460144">,</span>&nbsp;<span class="num" id="7460146">0</span><span class="op" id="7460147">,</span>&nbsp;<span class="num" id="7460149">0</span><span class="op" id="7460150">,</span>&nbsp;<span class="num" id="7460152">0</span><span class="op" id="7460153">,</span>&nbsp;<span class="num" id="7460155">0</span><span class="op" id="7460156">,</span>&nbsp;<span class="num" id="7460158">0</span><span class="op" id="7460159">,</span>&nbsp;<span class="num" id="7460161">0</span><span class="op" id="7460162">,</span>&nbsp;<span class="num" id="7460164">0</span><span class="op" id="7460165">,</span>&nbsp;<span class="num" id="7460167">0</span><span class="op" id="7460168">,</span>&nbsp;<span class="num" id="7460170">0</span><span class="op" id="7460171">,</span>&nbsp;<span class="num" id="7460173">0</span><span class="op" id="7460174">,</span>&nbsp;<span class="num" id="7460176">0</span><span class="op" id="7460177">}</span><span class="op" id="7460178">}</span><span class="op" id="7460179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460182">{</span><span class="num" id="7460183">48</span><span class="op" id="7460185">,</span>&nbsp;<span class="num" id="7460187">128</span><span class="op" id="7460190">,</span>&nbsp;<span class="ident" id="7460192">IPMask</span><span class="op" id="7460198">{</span><span class="num" id="7460199">0xff</span><span class="op" id="7460203">,</span>&nbsp;<span class="num" id="7460205">0xff</span><span class="op" id="7460209">,</span>&nbsp;<span class="num" id="7460211">0xff</span><span class="op" id="7460215">,</span>&nbsp;<span class="num" id="7460217">0xff</span><span class="op" id="7460221">,</span>&nbsp;<span class="num" id="7460223">0xff</span><span class="op" id="7460227">,</span>&nbsp;<span class="num" id="7460229">0xff</span><span class="op" id="7460233">,</span>&nbsp;<span class="num" id="7460235">0</span><span class="op" id="7460236">,</span>&nbsp;<span class="num" id="7460238">0</span><span class="op" id="7460239">,</span>&nbsp;<span class="num" id="7460241">0</span><span class="op" id="7460242">,</span>&nbsp;<span class="num" id="7460244">0</span><span class="op" id="7460245">,</span>&nbsp;<span class="num" id="7460247">0</span><span class="op" id="7460248">,</span>&nbsp;<span class="num" id="7460250">0</span><span class="op" id="7460251">,</span>&nbsp;<span class="num" id="7460253">0</span><span class="op" id="7460254">,</span>&nbsp;<span class="num" id="7460256">0</span><span class="op" id="7460257">,</span>&nbsp;<span class="num" id="7460259">0</span><span class="op" id="7460260">,</span>&nbsp;<span class="num" id="7460262">0</span><span class="op" id="7460263">}</span><span class="op" id="7460264">}</span><span class="op" id="7460265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460268">{</span><span class="num" id="7460269">128</span><span class="op" id="7460272">,</span>&nbsp;<span class="num" id="7460274">128</span><span class="op" id="7460277">,</span>&nbsp;<span class="ident" id="7460279">IPMask</span><span class="op" id="7460285">{</span><span class="num" id="7460286">0xff</span><span class="op" id="7460290">,</span>&nbsp;<span class="num" id="7460292">0xff</span><span class="op" id="7460296">,</span>&nbsp;<span class="num" id="7460298">0xff</span><span class="op" id="7460302">,</span>&nbsp;<span class="num" id="7460304">0xff</span><span class="op" id="7460308">,</span>&nbsp;<span class="num" id="7460310">0xff</span><span class="op" id="7460314">,</span>&nbsp;<span class="num" id="7460316">0xff</span><span class="op" id="7460320">,</span>&nbsp;<span class="num" id="7460322">0xff</span><span class="op" id="7460326">,</span>&nbsp;<span class="num" id="7460328">0xff</span><span class="op" id="7460332">,</span>&nbsp;<span class="num" id="7460334">0xff</span><span class="op" id="7460338">,</span>&nbsp;<span class="num" id="7460340">0xff</span><span class="op" id="7460344">,</span>&nbsp;<span class="num" id="7460346">0xff</span><span class="op" id="7460350">,</span>&nbsp;<span class="num" id="7460352">0xff</span><span class="op" id="7460356">,</span>&nbsp;<span class="num" id="7460358">0xff</span><span class="op" id="7460362">,</span>&nbsp;<span class="num" id="7460364">0xff</span><span class="op" id="7460368">,</span>&nbsp;<span class="num" id="7460370">0xff</span><span class="op" id="7460374">,</span>&nbsp;<span class="num" id="7460376">0xff</span><span class="op" id="7460380">}</span><span class="op" id="7460381">}</span><span class="op" id="7460382">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460385">{</span><span class="num" id="7460386">33</span><span class="op" id="7460388">,</span>&nbsp;<span class="num" id="7460390">32</span><span class="op" id="7460392">,</span>&nbsp;<span class="ident" id="7460394">nil</span><span class="op" id="7460397">}</span><span class="op" id="7460398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460401">{</span><span class="num" id="7460402">32</span><span class="op" id="7460404">,</span>&nbsp;<span class="num" id="7460406">33</span><span class="op" id="7460408">,</span>&nbsp;<span class="ident" id="7460410">nil</span><span class="op" id="7460413">}</span><span class="op" id="7460414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460417">{</span><span class="op" id="7460418">-</span><span class="num" id="7460419">1</span><span class="op" id="7460420">,</span>&nbsp;<span class="num" id="7460422">128</span><span class="op" id="7460425">,</span>&nbsp;<span class="ident" id="7460427">nil</span><span class="op" id="7460430">}</span><span class="op" id="7460431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460434">{</span><span class="num" id="7460435">128</span><span class="op" id="7460438">,</span>&nbsp;<span class="op" id="7460440">-</span><span class="num" id="7460441">1</span><span class="op" id="7460442">,</span>&nbsp;<span class="ident" id="7460444">nil</span><span class="op" id="7460447">}</span><span class="op" id="7460448">,</span><br>
<span class="lineno"></span><span class="op" id="7460450">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="7460453">func</span>&nbsp;<span class="ident" id="7460458">TestCIDRMask</span><span class="op" id="7460470">(</span><span class="ident" id="7460471">t</span>&nbsp;<span class="op" id="7460473">*</span><span class="ident" id="7460474">testing</span><span class="op" id="7460481">.</span><span class="ident" id="7460482">T</span><span class="op" id="7460483">)</span>&nbsp;<span class="op" id="7460485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460488">for</span>&nbsp;<span class="ident" id="7460492">_</span><span class="op" id="7460493">,</span>&nbsp;<span class="ident" id="7460495">tt</span>&nbsp;<span class="op" id="7460498">:=</span>&nbsp;<span class="keyword" id="7460501">range</span>&nbsp;<span class="ident" id="7460507">cidrMaskTests</span>&nbsp;<span class="op" id="7460521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7460525">if</span>&nbsp;<span class="ident" id="7460528">out</span>&nbsp;<span class="op" id="7460532">:=</span>&nbsp;<span class="ident" id="7460535">CIDRMask</span><span class="op" id="7460543">(</span><span class="ident" id="7460544">tt</span><span class="op" id="7460546">.</span><span class="ident" id="7460547">ones</span><span class="op" id="7460551">,</span>&nbsp;<span class="ident" id="7460553">tt</span><span class="op" id="7460555">.</span><span class="ident" id="7460556">bits</span><span class="op" id="7460560">)</span><span class="op" id="7460561">;</span>&nbsp;<span class="op" id="7460563">!</span><span class="ident" id="7460564">reflect</span><span class="op" id="7460571">.</span><span class="ident" id="7460572">DeepEqual</span><span class="op" id="7460581">(</span><span class="ident" id="7460582">out</span><span class="op" id="7460585">,</span>&nbsp;<span class="ident" id="7460587">tt</span><span class="op" id="7460589">.</span><span class="ident" id="7460590">out</span><span class="op" id="7460593">)</span>&nbsp;<span class="op" id="7460595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460600">t</span><span class="op" id="7460601">.</span><span class="ident" id="7460602">Errorf</span><span class="op" id="7460608">(</span><span class="string" id="7460609">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7460641">,</span>&nbsp;<span class="ident" id="7460643">tt</span><span class="op" id="7460645">.</span><span class="ident" id="7460646">ones</span><span class="op" id="7460650">,</span>&nbsp;<span class="ident" id="7460652">tt</span><span class="op" id="7460654">.</span><span class="ident" id="7460655">bits</span><span class="op" id="7460659">,</span>&nbsp;<span class="ident" id="7460661">out</span><span class="op" id="7460664">,</span>&nbsp;<span class="ident" id="7460666">tt</span><span class="op" id="7460668">.</span><span class="ident" id="7460669">out</span><span class="op" id="7460672">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7460679">}</span><br>
<span class="lineno"></span><span class="op" id="7460681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7460684">var</span>&nbsp;<span class="op" id="7460688">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460691">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7460706">=</span>&nbsp;<span class="ident" id="7460708">IP</span><span class="op" id="7460710">{</span><span class="num" id="7460711">192</span><span class="op" id="7460714">,</span>&nbsp;<span class="num" id="7460716">168</span><span class="op" id="7460719">,</span>&nbsp;<span class="num" id="7460721">0</span><span class="op" id="7460722">,</span>&nbsp;<span class="num" id="7460724">1</span><span class="op" id="7460725">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460728">v4mappedv6addr</span>&nbsp;<span class="op" id="7460743">=</span>&nbsp;<span class="ident" id="7460745">IP</span><span class="op" id="7460747">{</span><span class="num" id="7460748">0</span><span class="op" id="7460749">,</span>&nbsp;<span class="num" id="7460751">0</span><span class="op" id="7460752">,</span>&nbsp;<span class="num" id="7460754">0</span><span class="op" id="7460755">,</span>&nbsp;<span class="num" id="7460757">0</span><span class="op" id="7460758">,</span>&nbsp;<span class="num" id="7460760">0</span><span class="op" id="7460761">,</span>&nbsp;<span class="num" id="7460763">0</span><span class="op" id="7460764">,</span>&nbsp;<span class="num" id="7460766">0</span><span class="op" id="7460767">,</span>&nbsp;<span class="num" id="7460769">0</span><span class="op" id="7460770">,</span>&nbsp;<span class="num" id="7460772">0</span><span class="op" id="7460773">,</span>&nbsp;<span class="num" id="7460775">0</span><span class="op" id="7460776">,</span>&nbsp;<span class="num" id="7460778">0xff</span><span class="op" id="7460782">,</span>&nbsp;<span class="num" id="7460784">0xff</span><span class="op" id="7460788">,</span>&nbsp;<span class="num" id="7460790">192</span><span class="op" id="7460793">,</span>&nbsp;<span class="num" id="7460795">168</span><span class="op" id="7460798">,</span>&nbsp;<span class="num" id="7460800">0</span><span class="op" id="7460801">,</span>&nbsp;<span class="num" id="7460803">1</span><span class="op" id="7460804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460807">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7460822">=</span>&nbsp;<span class="ident" id="7460824">IP</span><span class="op" id="7460826">{</span><span class="num" id="7460827">0x20</span><span class="op" id="7460831">,</span>&nbsp;<span class="num" id="7460833">0x1</span><span class="op" id="7460836">,</span>&nbsp;<span class="num" id="7460838">0xd</span><span class="op" id="7460841">,</span>&nbsp;<span class="num" id="7460843">0xb8</span><span class="op" id="7460847">,</span>&nbsp;<span class="num" id="7460849">0</span><span class="op" id="7460850">,</span>&nbsp;<span class="num" id="7460852">0</span><span class="op" id="7460853">,</span>&nbsp;<span class="num" id="7460855">0</span><span class="op" id="7460856">,</span>&nbsp;<span class="num" id="7460858">0</span><span class="op" id="7460859">,</span>&nbsp;<span class="num" id="7460861">0</span><span class="op" id="7460862">,</span>&nbsp;<span class="num" id="7460864">0</span><span class="op" id="7460865">,</span>&nbsp;<span class="num" id="7460867">0x1</span><span class="op" id="7460870">,</span>&nbsp;<span class="num" id="7460872">0x23</span><span class="op" id="7460876">,</span>&nbsp;<span class="num" id="7460878">0</span><span class="op" id="7460879">,</span>&nbsp;<span class="num" id="7460881">0x12</span><span class="op" id="7460885">,</span>&nbsp;<span class="num" id="7460887">0</span><span class="op" id="7460888">,</span>&nbsp;<span class="num" id="7460890">0x1</span><span class="op" id="7460893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460896">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7460911">=</span>&nbsp;<span class="ident" id="7460913">IPMask</span><span class="op" id="7460919">{</span><span class="num" id="7460920">255</span><span class="op" id="7460923">,</span>&nbsp;<span class="num" id="7460925">255</span><span class="op" id="7460928">,</span>&nbsp;<span class="num" id="7460930">255</span><span class="op" id="7460933">,</span>&nbsp;<span class="num" id="7460935">0</span><span class="op" id="7460936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7460939">v4mappedv6mask</span>&nbsp;<span class="op" id="7460954">=</span>&nbsp;<span class="ident" id="7460956">IPMask</span><span class="op" id="7460962">{</span><span class="num" id="7460963">0xff</span><span class="op" id="7460967">,</span>&nbsp;<span class="num" id="7460969">0xff</span><span class="op" id="7460973">,</span>&nbsp;<span class="num" id="7460975">0xff</span><span class="op" id="7460979">,</span>&nbsp;<span class="num" id="7460981">0xff</span><span class="op" id="7460985">,</span>&nbsp;<span class="num" id="7460987">0xff</span><span class="op" id="7460991">,</span>&nbsp;<span class="num" id="7460993">0xff</span><span class="op" id="7460997">,</span>&nbsp;<span class="num" id="7460999">0xff</span><span class="op" id="7461003">,</span>&nbsp;<span class="num" id="7461005">0xff</span><span class="op" id="7461009">,</span>&nbsp;<span class="num" id="7461011">0xff</span><span class="op" id="7461015">,</span>&nbsp;<span class="num" id="7461017">0xff</span><span class="op" id="7461021">,</span>&nbsp;<span class="num" id="7461023">0xff</span><span class="op" id="7461027">,</span>&nbsp;<span class="num" id="7461029">0xff</span><span class="op" id="7461033">,</span>&nbsp;<span class="num" id="7461035">255</span><span class="op" id="7461038">,</span>&nbsp;<span class="num" id="7461040">255</span><span class="op" id="7461043">,</span>&nbsp;<span class="num" id="7461045">255</span><span class="op" id="7461048">,</span>&nbsp;<span class="num" id="7461050">0</span><span class="op" id="7461051">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461054">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7461069">=</span>&nbsp;<span class="ident" id="7461071">IPMask</span><span class="op" id="7461077">{</span><span class="num" id="7461078">0xff</span><span class="op" id="7461082">,</span>&nbsp;<span class="num" id="7461084">0xff</span><span class="op" id="7461088">,</span>&nbsp;<span class="num" id="7461090">0xff</span><span class="op" id="7461094">,</span>&nbsp;<span class="num" id="7461096">0xff</span><span class="op" id="7461100">,</span>&nbsp;<span class="num" id="7461102">0xff</span><span class="op" id="7461106">,</span>&nbsp;<span class="num" id="7461108">0xff</span><span class="op" id="7461112">,</span>&nbsp;<span class="num" id="7461114">0xff</span><span class="op" id="7461118">,</span>&nbsp;<span class="num" id="7461120">0xff</span><span class="op" id="7461124">,</span>&nbsp;<span class="num" id="7461126">0</span><span class="op" id="7461127">,</span>&nbsp;<span class="num" id="7461129">0</span><span class="op" id="7461130">,</span>&nbsp;<span class="num" id="7461132">0</span><span class="op" id="7461133">,</span>&nbsp;<span class="num" id="7461135">0</span><span class="op" id="7461136">,</span>&nbsp;<span class="num" id="7461138">0</span><span class="op" id="7461139">,</span>&nbsp;<span class="num" id="7461141">0</span><span class="op" id="7461142">,</span>&nbsp;<span class="num" id="7461144">0</span><span class="op" id="7461145">,</span>&nbsp;<span class="num" id="7461147">0</span><span class="op" id="7461148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461151">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7461166">=</span>&nbsp;<span class="ident" id="7461168">IP</span><span class="op" id="7461170">{</span><span class="num" id="7461171">192</span><span class="op" id="7461174">,</span>&nbsp;<span class="num" id="7461176">168</span><span class="op" id="7461179">,</span>&nbsp;<span class="num" id="7461181">0</span><span class="op" id="7461182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461185">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7461200">=</span>&nbsp;<span class="ident" id="7461202">IPMask</span><span class="op" id="7461208">{</span><span class="num" id="7461209">255</span><span class="op" id="7461212">,</span>&nbsp;<span class="num" id="7461214">255</span><span class="op" id="7461217">,</span>&nbsp;<span class="num" id="7461219">0</span><span class="op" id="7461220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461223">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7461238">=</span>&nbsp;<span class="ident" id="7461240">IPMask</span><span class="op" id="7461246">{</span><span class="num" id="7461247">0</span><span class="op" id="7461248">,</span>&nbsp;<span class="num" id="7461250">0</span><span class="op" id="7461251">,</span>&nbsp;<span class="num" id="7461253">0</span><span class="op" id="7461254">,</span>&nbsp;<span class="num" id="7461256">0</span><span class="op" id="7461257">}</span><br>
<span class="lineno"></span><span class="op" id="7461259">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7461262">var</span>&nbsp;<span class="ident" id="7461266">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="7461292">=</span>&nbsp;<span class="op" id="7461294">[</span><span class="op" id="7461295">]</span><span class="keyword" id="7461296">struct</span>&nbsp;<span class="op" id="7461303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461306">in</span>&nbsp;&nbsp;<span class="ident" id="7461310">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7461317">out</span>&nbsp;<span class="ident" id="7461321">IPNet</span><br>
<span class="lineno"></span><span class="op" id="7461327">}</span><span class="op" id="7461328">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461331">{</span><span class="ident" id="7461332">IPNet</span><span class="op" id="7461337">{</span><span class="ident" id="7461338">IP</span><span class="op" id="7461340">:</span>&nbsp;<span class="ident" id="7461342">v4addr</span><span class="op" id="7461348">,</span>&nbsp;<span class="ident" id="7461350">Mask</span><span class="op" id="7461354">:</span>&nbsp;<span class="ident" id="7461356">v4mask</span><span class="op" id="7461362">}</span><span class="op" id="7461363">,</span>&nbsp;<span class="ident" id="7461365">IPNet</span><span class="op" id="7461370">{</span><span class="ident" id="7461371">IP</span><span class="op" id="7461373">:</span>&nbsp;<span class="ident" id="7461375">v4addr</span><span class="op" id="7461381">,</span>&nbsp;<span class="ident" id="7461383">Mask</span><span class="op" id="7461387">:</span>&nbsp;<span class="ident" id="7461389">v4mask</span><span class="op" id="7461395">}</span><span class="op" id="7461396">}</span><span class="op" id="7461397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461400">{</span><span class="ident" id="7461401">IPNet</span><span class="op" id="7461406">{</span><span class="ident" id="7461407">IP</span><span class="op" id="7461409">:</span>&nbsp;<span class="ident" id="7461411">v4addr</span><span class="op" id="7461417">,</span>&nbsp;<span class="ident" id="7461419">Mask</span><span class="op" id="7461423">:</span>&nbsp;<span class="ident" id="7461425">v4mappedv6mask</span><span class="op" id="7461439">}</span><span class="op" id="7461440">,</span>&nbsp;<span class="ident" id="7461442">IPNet</span><span class="op" id="7461447">{</span><span class="ident" id="7461448">IP</span><span class="op" id="7461450">:</span>&nbsp;<span class="ident" id="7461452">v4addr</span><span class="op" id="7461458">,</span>&nbsp;<span class="ident" id="7461460">Mask</span><span class="op" id="7461464">:</span>&nbsp;<span class="ident" id="7461466">v4mask</span><span class="op" id="7461472">}</span><span class="op" id="7461473">}</span><span class="op" id="7461474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461477">{</span><span class="ident" id="7461478">IPNet</span><span class="op" id="7461483">{</span><span class="ident" id="7461484">IP</span><span class="op" id="7461486">:</span>&nbsp;<span class="ident" id="7461488">v4mappedv6addr</span><span class="op" id="7461502">,</span>&nbsp;<span class="ident" id="7461504">Mask</span><span class="op" id="7461508">:</span>&nbsp;<span class="ident" id="7461510">v4mappedv6mask</span><span class="op" id="7461524">}</span><span class="op" id="7461525">,</span>&nbsp;<span class="ident" id="7461527">IPNet</span><span class="op" id="7461532">{</span><span class="ident" id="7461533">IP</span><span class="op" id="7461535">:</span>&nbsp;<span class="ident" id="7461537">v4addr</span><span class="op" id="7461543">,</span>&nbsp;<span class="ident" id="7461545">Mask</span><span class="op" id="7461549">:</span>&nbsp;<span class="ident" id="7461551">v4mask</span><span class="op" id="7461557">}</span><span class="op" id="7461558">}</span><span class="op" id="7461559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461562">{</span><span class="ident" id="7461563">IPNet</span><span class="op" id="7461568">{</span><span class="ident" id="7461569">IP</span><span class="op" id="7461571">:</span>&nbsp;<span class="ident" id="7461573">v4mappedv6addr</span><span class="op" id="7461587">,</span>&nbsp;<span class="ident" id="7461589">Mask</span><span class="op" id="7461593">:</span>&nbsp;<span class="ident" id="7461595">v6mask</span><span class="op" id="7461601">}</span><span class="op" id="7461602">,</span>&nbsp;<span class="ident" id="7461604">IPNet</span><span class="op" id="7461609">{</span><span class="ident" id="7461610">IP</span><span class="op" id="7461612">:</span>&nbsp;<span class="ident" id="7461614">v4addr</span><span class="op" id="7461620">,</span>&nbsp;<span class="ident" id="7461622">Mask</span><span class="op" id="7461626">:</span>&nbsp;<span class="ident" id="7461628">v4maskzero</span><span class="op" id="7461638">}</span><span class="op" id="7461639">}</span><span class="op" id="7461640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461643">{</span><span class="ident" id="7461644">IPNet</span><span class="op" id="7461649">{</span><span class="ident" id="7461650">IP</span><span class="op" id="7461652">:</span>&nbsp;<span class="ident" id="7461654">v4addr</span><span class="op" id="7461660">,</span>&nbsp;<span class="ident" id="7461662">Mask</span><span class="op" id="7461666">:</span>&nbsp;<span class="ident" id="7461668">v6mask</span><span class="op" id="7461674">}</span><span class="op" id="7461675">,</span>&nbsp;<span class="ident" id="7461677">IPNet</span><span class="op" id="7461682">{</span><span class="ident" id="7461683">IP</span><span class="op" id="7461685">:</span>&nbsp;<span class="ident" id="7461687">v4addr</span><span class="op" id="7461693">,</span>&nbsp;<span class="ident" id="7461695">Mask</span><span class="op" id="7461699">:</span>&nbsp;<span class="ident" id="7461701">v4maskzero</span><span class="op" id="7461711">}</span><span class="op" id="7461712">}</span><span class="op" id="7461713">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461716">{</span><span class="ident" id="7461717">IPNet</span><span class="op" id="7461722">{</span><span class="ident" id="7461723">IP</span><span class="op" id="7461725">:</span>&nbsp;<span class="ident" id="7461727">v6addr</span><span class="op" id="7461733">,</span>&nbsp;<span class="ident" id="7461735">Mask</span><span class="op" id="7461739">:</span>&nbsp;<span class="ident" id="7461741">v6mask</span><span class="op" id="7461747">}</span><span class="op" id="7461748">,</span>&nbsp;<span class="ident" id="7461750">IPNet</span><span class="op" id="7461755">{</span><span class="ident" id="7461756">IP</span><span class="op" id="7461758">:</span>&nbsp;<span class="ident" id="7461760">v6addr</span><span class="op" id="7461766">,</span>&nbsp;<span class="ident" id="7461768">Mask</span><span class="op" id="7461772">:</span>&nbsp;<span class="ident" id="7461774">v6mask</span><span class="op" id="7461780">}</span><span class="op" id="7461781">}</span><span class="op" id="7461782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461785">{</span><span class="ident" id="7461786">IPNet</span><span class="op" id="7461791">{</span><span class="ident" id="7461792">IP</span><span class="op" id="7461794">:</span>&nbsp;<span class="ident" id="7461796">v6addr</span><span class="op" id="7461802">,</span>&nbsp;<span class="ident" id="7461804">Mask</span><span class="op" id="7461808">:</span>&nbsp;<span class="ident" id="7461810">v4mappedv6mask</span><span class="op" id="7461824">}</span><span class="op" id="7461825">,</span>&nbsp;<span class="ident" id="7461827">IPNet</span><span class="op" id="7461832">{</span><span class="ident" id="7461833">IP</span><span class="op" id="7461835">:</span>&nbsp;<span class="ident" id="7461837">v6addr</span><span class="op" id="7461843">,</span>&nbsp;<span class="ident" id="7461845">Mask</span><span class="op" id="7461849">:</span>&nbsp;<span class="ident" id="7461851">v4mappedv6mask</span><span class="op" id="7461865">}</span><span class="op" id="7461866">}</span><span class="op" id="7461867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461870">{</span><span class="ident" id="7461871">in</span><span class="op" id="7461873">:</span>&nbsp;<span class="ident" id="7461875">IPNet</span><span class="op" id="7461880">{</span><span class="ident" id="7461881">IP</span><span class="op" id="7461883">:</span>&nbsp;<span class="ident" id="7461885">v6addr</span><span class="op" id="7461891">,</span>&nbsp;<span class="ident" id="7461893">Mask</span><span class="op" id="7461897">:</span>&nbsp;<span class="ident" id="7461899">v4mask</span><span class="op" id="7461905">}</span><span class="op" id="7461906">}</span><span class="op" id="7461907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461910">{</span><span class="ident" id="7461911">in</span><span class="op" id="7461913">:</span>&nbsp;<span class="ident" id="7461915">IPNet</span><span class="op" id="7461920">{</span><span class="ident" id="7461921">IP</span><span class="op" id="7461923">:</span>&nbsp;<span class="ident" id="7461925">v4addr</span><span class="op" id="7461931">,</span>&nbsp;<span class="ident" id="7461933">Mask</span><span class="op" id="7461937">:</span>&nbsp;<span class="ident" id="7461939">badmask</span><span class="op" id="7461946">}</span><span class="op" id="7461947">}</span><span class="op" id="7461948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7461951">{</span><span class="ident" id="7461952">in</span><span class="op" id="7461954">:</span>&nbsp;<span class="ident" id="7461956">IPNet</span><span class="op" id="7461961">{</span><span class="ident" id="7461962">IP</span><span class="op" id="7461964">:</span>&nbsp;<span class="ident" id="7461966">v4mappedv6addr</span><span class="op" id="7461980">,</span>&nbsp;<span class="ident" id="7461982">Mask</span><span class="op" id="7461986">:</span>&nbsp;<span class="ident" id="7461988">badmask</span><span class="op" id="7461995">}</span><span class="op" id="7461996">}</span><span class="op" id="7461997">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462000">{</span><span class="ident" id="7462001">in</span><span class="op" id="7462003">:</span>&nbsp;<span class="ident" id="7462005">IPNet</span><span class="op" id="7462010">{</span><span class="ident" id="7462011">IP</span><span class="op" id="7462013">:</span>&nbsp;<span class="ident" id="7462015">v6addr</span><span class="op" id="7462021">,</span>&nbsp;<span class="ident" id="7462023">Mask</span><span class="op" id="7462027">:</span>&nbsp;<span class="ident" id="7462029">badmask</span><span class="op" id="7462036">}</span><span class="op" id="7462037">}</span><span class="op" id="7462038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462041">{</span><span class="ident" id="7462042">in</span><span class="op" id="7462044">:</span>&nbsp;<span class="ident" id="7462046">IPNet</span><span class="op" id="7462051">{</span><span class="ident" id="7462052">IP</span><span class="op" id="7462054">:</span>&nbsp;<span class="ident" id="7462056">badaddr</span><span class="op" id="7462063">,</span>&nbsp;<span class="ident" id="7462065">Mask</span><span class="op" id="7462069">:</span>&nbsp;<span class="ident" id="7462071">v4mask</span><span class="op" id="7462077">}</span><span class="op" id="7462078">}</span><span class="op" id="7462079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462082">{</span><span class="ident" id="7462083">in</span><span class="op" id="7462085">:</span>&nbsp;<span class="ident" id="7462087">IPNet</span><span class="op" id="7462092">{</span><span class="ident" id="7462093">IP</span><span class="op" id="7462095">:</span>&nbsp;<span class="ident" id="7462097">badaddr</span><span class="op" id="7462104">,</span>&nbsp;<span class="ident" id="7462106">Mask</span><span class="op" id="7462110">:</span>&nbsp;<span class="ident" id="7462112">v4mappedv6mask</span><span class="op" id="7462126">}</span><span class="op" id="7462127">}</span><span class="op" id="7462128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462131">{</span><span class="ident" id="7462132">in</span><span class="op" id="7462134">:</span>&nbsp;<span class="ident" id="7462136">IPNet</span><span class="op" id="7462141">{</span><span class="ident" id="7462142">IP</span><span class="op" id="7462144">:</span>&nbsp;<span class="ident" id="7462146">badaddr</span><span class="op" id="7462153">,</span>&nbsp;<span class="ident" id="7462155">Mask</span><span class="op" id="7462159">:</span>&nbsp;<span class="ident" id="7462161">v6mask</span><span class="op" id="7462167">}</span><span class="op" id="7462168">}</span><span class="op" id="7462169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462172">{</span><span class="ident" id="7462173">in</span><span class="op" id="7462175">:</span>&nbsp;<span class="ident" id="7462177">IPNet</span><span class="op" id="7462182">{</span><span class="ident" id="7462183">IP</span><span class="op" id="7462185">:</span>&nbsp;<span class="ident" id="7462187">badaddr</span><span class="op" id="7462194">,</span>&nbsp;<span class="ident" id="7462196">Mask</span><span class="op" id="7462200">:</span>&nbsp;<span class="ident" id="7462202">badmask</span><span class="op" id="7462209">}</span><span class="op" id="7462210">}</span><span class="op" id="7462211">,</span><br>
<span class="lineno">300</span><span class="op" id="7462213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7462216">func</span>&nbsp;<span class="ident" id="7462221">TestNetworkNumberAndMask</span><span class="op" id="7462245">(</span><span class="ident" id="7462246">t</span>&nbsp;<span class="op" id="7462248">*</span><span class="ident" id="7462249">testing</span><span class="op" id="7462256">.</span><span class="ident" id="7462257">T</span><span class="op" id="7462258">)</span>&nbsp;<span class="op" id="7462260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462263">for</span>&nbsp;<span class="ident" id="7462267">_</span><span class="op" id="7462268">,</span>&nbsp;<span class="ident" id="7462270">tt</span>&nbsp;<span class="op" id="7462273">:=</span>&nbsp;<span class="keyword" id="7462276">range</span>&nbsp;<span class="ident" id="7462282">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="7462308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462312">ip</span><span class="op" id="7462314">,</span>&nbsp;<span class="ident" id="7462316">m</span>&nbsp;<span class="op" id="7462318">:=</span>&nbsp;<span class="ident" id="7462321">networkNumberAndMask</span><span class="op" id="7462341">(</span><span class="op" id="7462342">&amp;</span><span class="ident" id="7462343">tt</span><span class="op" id="7462345">.</span><span class="ident" id="7462346">in</span><span class="op" id="7462348">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462352">out</span>&nbsp;<span class="op" id="7462356">:=</span>&nbsp;<span class="op" id="7462359">&amp;</span><span class="ident" id="7462360">IPNet</span><span class="op" id="7462365">{</span><span class="ident" id="7462366">IP</span><span class="op" id="7462368">:</span>&nbsp;<span class="ident" id="7462370">ip</span><span class="op" id="7462372">,</span>&nbsp;<span class="ident" id="7462374">Mask</span><span class="op" id="7462378">:</span>&nbsp;<span class="ident" id="7462380">m</span><span class="op" id="7462381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7462385">if</span>&nbsp;<span class="op" id="7462388">!</span><span class="ident" id="7462389">reflect</span><span class="op" id="7462396">.</span><span class="ident" id="7462397">DeepEqual</span><span class="op" id="7462406">(</span><span class="op" id="7462407">&amp;</span><span class="ident" id="7462408">tt</span><span class="op" id="7462410">.</span><span class="ident" id="7462411">out</span><span class="op" id="7462414">,</span>&nbsp;<span class="ident" id="7462416">out</span><span class="op" id="7462419">)</span>&nbsp;<span class="op" id="7462421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462426">t</span><span class="op" id="7462427">.</span><span class="ident" id="7462428">Errorf</span><span class="op" id="7462434">(</span><span class="string" id="7462435">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7462475">,</span>&nbsp;<span class="ident" id="7462477">tt</span><span class="op" id="7462479">.</span><span class="ident" id="7462480">in</span><span class="op" id="7462482">,</span>&nbsp;<span class="ident" id="7462484">out</span><span class="op" id="7462487">,</span>&nbsp;<span class="op" id="7462489">&amp;</span><span class="ident" id="7462490">tt</span><span class="op" id="7462492">.</span><span class="ident" id="7462493">out</span><span class="op" id="7462496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462503">}</span><br>
<span class="lineno">310</span><span class="op" id="7462505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7462508">var</span>&nbsp;<span class="ident" id="7462512">splitJoinTests</span>&nbsp;<span class="op" id="7462527">=</span>&nbsp;<span class="op" id="7462529">[</span><span class="op" id="7462530">]</span><span class="keyword" id="7462531">struct</span>&nbsp;<span class="op" id="7462538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462541">host</span>&nbsp;<span class="builtintype" id="7462546">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462554">port</span>&nbsp;<span class="builtintype" id="7462559">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7462567">join</span>&nbsp;<span class="builtintype" id="7462572">string</span><br>
<span class="lineno"></span><span class="op" id="7462579">}</span><span class="op" id="7462580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462583">{</span><span class="string" id="7462584">&#34;www.google.com&#34;</span><span class="op" id="7462600">,</span>&nbsp;<span class="string" id="7462602">&#34;80&#34;</span><span class="op" id="7462606">,</span>&nbsp;<span class="string" id="7462608">&#34;www.google.com:80&#34;</span><span class="op" id="7462627">}</span><span class="op" id="7462628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462631">{</span><span class="string" id="7462632">&#34;127.0.0.1&#34;</span><span class="op" id="7462643">,</span>&nbsp;<span class="string" id="7462645">&#34;1234&#34;</span><span class="op" id="7462651">,</span>&nbsp;<span class="string" id="7462653">&#34;127.0.0.1:1234&#34;</span><span class="op" id="7462669">}</span><span class="op" id="7462670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462673">{</span><span class="string" id="7462674">&#34;::1&#34;</span><span class="op" id="7462679">,</span>&nbsp;<span class="string" id="7462681">&#34;80&#34;</span><span class="op" id="7462685">,</span>&nbsp;<span class="string" id="7462687">&#34;[::1]:80&#34;</span><span class="op" id="7462697">}</span><span class="op" id="7462698">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462701">{</span><span class="string" id="7462702">&#34;fe80::1%lo0&#34;</span><span class="op" id="7462715">,</span>&nbsp;<span class="string" id="7462717">&#34;80&#34;</span><span class="op" id="7462721">,</span>&nbsp;<span class="string" id="7462723">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="7462741">}</span><span class="op" id="7462742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462745">{</span><span class="string" id="7462746">&#34;localhost%lo0&#34;</span><span class="op" id="7462761">,</span>&nbsp;<span class="string" id="7462763">&#34;80&#34;</span><span class="op" id="7462767">,</span>&nbsp;<span class="string" id="7462769">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="7462789">}</span><span class="op" id="7462790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462793">{</span><span class="string" id="7462794">&#34;&#34;</span><span class="op" id="7462796">,</span>&nbsp;<span class="string" id="7462798">&#34;0&#34;</span><span class="op" id="7462801">,</span>&nbsp;<span class="string" id="7462803">&#34;:0&#34;</span><span class="op" id="7462807">}</span><span class="op" id="7462808">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462812">{</span><span class="string" id="7462813">&#34;google.com&#34;</span><span class="op" id="7462825">,</span>&nbsp;<span class="string" id="7462827">&#34;https%foo&#34;</span><span class="op" id="7462838">,</span>&nbsp;<span class="string" id="7462840">&#34;google.com:https%foo&#34;</span><span class="op" id="7462862">}</span><span class="op" id="7462863">,</span>&nbsp;<span class="comment" id="7462865">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462885">{</span><span class="string" id="7462886">&#34;127.0.0.1&#34;</span><span class="op" id="7462897">,</span>&nbsp;<span class="string" id="7462899">&#34;&#34;</span><span class="op" id="7462901">,</span>&nbsp;<span class="string" id="7462903">&#34;127.0.0.1:&#34;</span><span class="op" id="7462915">}</span><span class="op" id="7462916">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7462938">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7462959">{</span><span class="string" id="7462960">&#34;www.google.com&#34;</span><span class="op" id="7462976">,</span>&nbsp;<span class="string" id="7462978">&#34;&#34;</span><span class="op" id="7462980">,</span>&nbsp;<span class="string" id="7462982">&#34;www.google.com:&#34;</span><span class="op" id="7462999">}</span><span class="op" id="7463000">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7463012">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="7463032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7463035">var</span>&nbsp;<span class="ident" id="7463039">splitFailureTests</span>&nbsp;<span class="op" id="7463057">=</span>&nbsp;<span class="op" id="7463059">[</span><span class="op" id="7463060">]</span><span class="keyword" id="7463061">struct</span>&nbsp;<span class="op" id="7463068">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463071">hostPort</span>&nbsp;<span class="builtintype" id="7463080">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7463088">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7463097">string</span><br>
<span class="lineno"></span><span class="op" id="7463104">}</span><span class="op" id="7463105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463108">{</span><span class="string" id="7463109">&#34;www.google.com&#34;</span><span class="op" id="7463125">,</span>&nbsp;<span class="string" id="7463127">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463152">}</span><span class="op" id="7463153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463156">{</span><span class="string" id="7463157">&#34;127.0.0.1&#34;</span><span class="op" id="7463168">,</span>&nbsp;<span class="string" id="7463170">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463195">}</span><span class="op" id="7463196">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463199">{</span><span class="string" id="7463200">&#34;[::1]&#34;</span><span class="op" id="7463207">,</span>&nbsp;<span class="string" id="7463209">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463234">}</span><span class="op" id="7463235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463238">{</span><span class="string" id="7463239">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="7463254">,</span>&nbsp;<span class="string" id="7463256">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463281">}</span><span class="op" id="7463282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463285">{</span><span class="string" id="7463286">&#34;[localhost%lo0]&#34;</span><span class="op" id="7463303">,</span>&nbsp;<span class="string" id="7463305">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463330">}</span><span class="op" id="7463331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463334">{</span><span class="string" id="7463335">&#34;localhost%lo0&#34;</span><span class="op" id="7463350">,</span>&nbsp;<span class="string" id="7463352">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463377">}</span><span class="op" id="7463378">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463382">{</span><span class="string" id="7463383">&#34;::1&#34;</span><span class="op" id="7463388">,</span>&nbsp;<span class="string" id="7463390">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463418">}</span><span class="op" id="7463419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463422">{</span><span class="string" id="7463423">&#34;fe80::1%lo0&#34;</span><span class="op" id="7463436">,</span>&nbsp;<span class="string" id="7463438">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463466">}</span><span class="op" id="7463467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463470">{</span><span class="string" id="7463471">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="7463487">,</span>&nbsp;<span class="string" id="7463489">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463517">}</span><span class="op" id="7463518">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463522">{</span><span class="string" id="7463523">&#34;localhost%lo0:80&#34;</span><span class="op" id="7463541">,</span>&nbsp;<span class="string" id="7463543">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463572">}</span><span class="op" id="7463573">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7463577">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463620">{</span><span class="string" id="7463621">&#34;[foo:bar]&#34;</span><span class="op" id="7463632">,</span>&nbsp;<span class="string" id="7463634">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463659">}</span><span class="op" id="7463660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463663">{</span><span class="string" id="7463664">&#34;[foo:bar]baz&#34;</span><span class="op" id="7463678">,</span>&nbsp;<span class="string" id="7463680">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463705">}</span><span class="op" id="7463706">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463709">{</span><span class="string" id="7463710">&#34;[foo]bar:baz&#34;</span><span class="op" id="7463724">,</span>&nbsp;<span class="string" id="7463726">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463751">}</span><span class="op" id="7463752">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463756">{</span><span class="string" id="7463757">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="7463774">,</span>&nbsp;<span class="string" id="7463776">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463804">}</span><span class="op" id="7463805">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463809">{</span><span class="string" id="7463810">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="7463826">,</span>&nbsp;<span class="string" id="7463828">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463855">}</span><span class="op" id="7463856">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463859">{</span><span class="string" id="7463860">&#34;foo[bar]:baz&#34;</span><span class="op" id="7463874">,</span>&nbsp;<span class="string" id="7463876">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463903">}</span><span class="op" id="7463904">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7463908">{</span><span class="string" id="7463909">&#34;foo]bar:baz&#34;</span><span class="op" id="7463922">,</span>&nbsp;<span class="string" id="7463924">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="7463951">}</span><span class="op" id="7463952">,</span><br>
<span class="lineno"></span><span class="op" id="7463954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7463957">func</span>&nbsp;<span class="ident" id="7463962">TestSplitHostPort</span><span class="op" id="7463979">(</span><span class="ident" id="7463980">t</span>&nbsp;<span class="op" id="7463982">*</span><span class="ident" id="7463983">testing</span><span class="op" id="7463990">.</span><span class="ident" id="7463991">T</span><span class="op" id="7463992">)</span>&nbsp;<span class="op" id="7463994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7463997">for</span>&nbsp;<span class="ident" id="7464001">_</span><span class="op" id="7464002">,</span>&nbsp;<span class="ident" id="7464004">tt</span>&nbsp;<span class="op" id="7464007">:=</span>&nbsp;<span class="keyword" id="7464010">range</span>&nbsp;<span class="ident" id="7464016">splitJoinTests</span>&nbsp;<span class="op" id="7464031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464035">if</span>&nbsp;<span class="ident" id="7464038">host</span><span class="op" id="7464042">,</span>&nbsp;<span class="ident" id="7464044">port</span><span class="op" id="7464048">,</span>&nbsp;<span class="ident" id="7464050">err</span>&nbsp;<span class="op" id="7464054">:=</span>&nbsp;<span class="ident" id="7464057">SplitHostPort</span><span class="op" id="7464070">(</span><span class="ident" id="7464071">tt</span><span class="op" id="7464073">.</span><span class="ident" id="7464074">join</span><span class="op" id="7464078">)</span><span class="op" id="7464079">;</span>&nbsp;<span class="ident" id="7464081">host</span>&nbsp;<span class="op" id="7464086">!=</span>&nbsp;<span class="ident" id="7464089">tt</span><span class="op" id="7464091">.</span><span class="ident" id="7464092">host</span>&nbsp;<span class="op" id="7464097">||</span>&nbsp;<span class="ident" id="7464100">port</span>&nbsp;<span class="op" id="7464105">!=</span>&nbsp;<span class="ident" id="7464108">tt</span><span class="op" id="7464110">.</span><span class="ident" id="7464111">port</span>&nbsp;<span class="op" id="7464116">||</span>&nbsp;<span class="ident" id="7464119">err</span>&nbsp;<span class="op" id="7464123">!=</span>&nbsp;<span class="ident" id="7464126">nil</span>&nbsp;<span class="op" id="7464130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464135">t</span><span class="op" id="7464136">.</span><span class="ident" id="7464137">Errorf</span><span class="op" id="7464143">(</span><span class="string" id="7464144">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="7464194">,</span>&nbsp;<span class="ident" id="7464196">tt</span><span class="op" id="7464198">.</span><span class="ident" id="7464199">join</span><span class="op" id="7464203">,</span>&nbsp;<span class="ident" id="7464205">host</span><span class="op" id="7464209">,</span>&nbsp;<span class="ident" id="7464211">port</span><span class="op" id="7464215">,</span>&nbsp;<span class="ident" id="7464217">err</span><span class="op" id="7464220">,</span>&nbsp;<span class="ident" id="7464222">tt</span><span class="op" id="7464224">.</span><span class="ident" id="7464225">host</span><span class="op" id="7464229">,</span>&nbsp;<span class="ident" id="7464231">tt</span><span class="op" id="7464233">.</span><span class="ident" id="7464234">port</span><span class="op" id="7464238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464242">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464248">for</span>&nbsp;<span class="ident" id="7464252">_</span><span class="op" id="7464253">,</span>&nbsp;<span class="ident" id="7464255">tt</span>&nbsp;<span class="op" id="7464258">:=</span>&nbsp;<span class="keyword" id="7464261">range</span>&nbsp;<span class="ident" id="7464267">splitFailureTests</span>&nbsp;<span class="op" id="7464285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464289">if</span>&nbsp;<span class="ident" id="7464292">_</span><span class="op" id="7464293">,</span>&nbsp;<span class="ident" id="7464295">_</span><span class="op" id="7464296">,</span>&nbsp;<span class="ident" id="7464298">err</span>&nbsp;<span class="op" id="7464302">:=</span>&nbsp;<span class="ident" id="7464305">SplitHostPort</span><span class="op" id="7464318">(</span><span class="ident" id="7464319">tt</span><span class="op" id="7464321">.</span><span class="ident" id="7464322">hostPort</span><span class="op" id="7464330">)</span><span class="op" id="7464331">;</span>&nbsp;<span class="ident" id="7464333">err</span>&nbsp;<span class="op" id="7464337">==</span>&nbsp;<span class="ident" id="7464340">nil</span>&nbsp;<span class="op" id="7464344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464349">t</span><span class="op" id="7464350">.</span><span class="ident" id="7464351">Errorf</span><span class="op" id="7464357">(</span><span class="string" id="7464358">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7464396">,</span>&nbsp;<span class="ident" id="7464398">tt</span><span class="op" id="7464400">.</span><span class="ident" id="7464401">hostPort</span><span class="op" id="7464409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464413">}</span>&nbsp;<span class="keyword" id="7464415">else</span>&nbsp;<span class="op" id="7464420">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464425">e</span>&nbsp;<span class="op" id="7464427">:=</span>&nbsp;<span class="ident" id="7464430">err</span><span class="op" id="7464433">.</span><span class="op" id="7464434">(</span><span class="op" id="7464435">*</span><span class="ident" id="7464436">AddrError</span><span class="op" id="7464445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464450">if</span>&nbsp;<span class="ident" id="7464453">e</span><span class="op" id="7464454">.</span><span class="ident" id="7464455">Err</span>&nbsp;<span class="op" id="7464459">!=</span>&nbsp;<span class="ident" id="7464462">tt</span><span class="op" id="7464464">.</span><span class="ident" id="7464465">err</span>&nbsp;<span class="op" id="7464469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464475">t</span><span class="op" id="7464476">.</span><span class="ident" id="7464477">Errorf</span><span class="op" id="7464483">(</span><span class="string" id="7464484">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7464523">,</span>&nbsp;<span class="ident" id="7464525">tt</span><span class="op" id="7464527">.</span><span class="ident" id="7464528">hostPort</span><span class="op" id="7464536">,</span>&nbsp;<span class="ident" id="7464538">e</span><span class="op" id="7464539">.</span><span class="ident" id="7464540">Err</span><span class="op" id="7464543">,</span>&nbsp;<span class="ident" id="7464545">tt</span><span class="op" id="7464547">.</span><span class="ident" id="7464548">err</span><span class="op" id="7464551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464560">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464563">}</span><br>
<span class="lineno"></span><span class="op" id="7464565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7464568">func</span>&nbsp;<span class="ident" id="7464573">TestJoinHostPort</span><span class="op" id="7464589">(</span><span class="ident" id="7464590">t</span>&nbsp;<span class="op" id="7464592">*</span><span class="ident" id="7464593">testing</span><span class="op" id="7464600">.</span><span class="ident" id="7464601">T</span><span class="op" id="7464602">)</span>&nbsp;<span class="op" id="7464604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464607">for</span>&nbsp;<span class="ident" id="7464611">_</span><span class="op" id="7464612">,</span>&nbsp;<span class="ident" id="7464614">tt</span>&nbsp;<span class="op" id="7464617">:=</span>&nbsp;<span class="keyword" id="7464620">range</span>&nbsp;<span class="ident" id="7464626">splitJoinTests</span>&nbsp;<span class="op" id="7464641">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7464645">if</span>&nbsp;<span class="ident" id="7464648">join</span>&nbsp;<span class="op" id="7464653">:=</span>&nbsp;<span class="ident" id="7464656">JoinHostPort</span><span class="op" id="7464668">(</span><span class="ident" id="7464669">tt</span><span class="op" id="7464671">.</span><span class="ident" id="7464672">host</span><span class="op" id="7464676">,</span>&nbsp;<span class="ident" id="7464678">tt</span><span class="op" id="7464680">.</span><span class="ident" id="7464681">port</span><span class="op" id="7464685">)</span><span class="op" id="7464686">;</span>&nbsp;<span class="ident" id="7464688">join</span>&nbsp;<span class="op" id="7464693">!=</span>&nbsp;<span class="ident" id="7464696">tt</span><span class="op" id="7464698">.</span><span class="ident" id="7464699">join</span>&nbsp;<span class="op" id="7464704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464709">t</span><span class="op" id="7464710">.</span><span class="ident" id="7464711">Errorf</span><span class="op" id="7464717">(</span><span class="string" id="7464718">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7464754">,</span>&nbsp;<span class="ident" id="7464756">tt</span><span class="op" id="7464758">.</span><span class="ident" id="7464759">host</span><span class="op" id="7464763">,</span>&nbsp;<span class="ident" id="7464765">tt</span><span class="op" id="7464767">.</span><span class="ident" id="7464768">port</span><span class="op" id="7464772">,</span>&nbsp;<span class="ident" id="7464774">join</span><span class="op" id="7464778">,</span>&nbsp;<span class="ident" id="7464780">tt</span><span class="op" id="7464782">.</span><span class="ident" id="7464783">join</span><span class="op" id="7464787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464794">}</span><br>
<span class="lineno"></span><span class="op" id="7464796">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="7464799">var</span>&nbsp;<span class="ident" id="7464803">ipAddrFamilyTests</span>&nbsp;<span class="op" id="7464821">=</span>&nbsp;<span class="op" id="7464823">[</span><span class="op" id="7464824">]</span><span class="keyword" id="7464825">struct</span>&nbsp;<span class="op" id="7464832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464835">in</span>&nbsp;&nbsp;<span class="ident" id="7464839">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464843">af4</span>&nbsp;<span class="builtintype" id="7464847">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7464853">af6</span>&nbsp;<span class="builtintype" id="7464857">bool</span><br>
<span class="lineno">390</span><span class="op" id="7464862">}</span><span class="op" id="7464863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464866">{</span><span class="ident" id="7464867">IPv4bcast</span><span class="op" id="7464876">,</span>&nbsp;<span class="ident" id="7464878">true</span><span class="op" id="7464882">,</span>&nbsp;<span class="ident" id="7464884">false</span><span class="op" id="7464889">}</span><span class="op" id="7464890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464893">{</span><span class="ident" id="7464894">IPv4allsys</span><span class="op" id="7464904">,</span>&nbsp;<span class="ident" id="7464906">true</span><span class="op" id="7464910">,</span>&nbsp;<span class="ident" id="7464912">false</span><span class="op" id="7464917">}</span><span class="op" id="7464918">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464921">{</span><span class="ident" id="7464922">IPv4allrouter</span><span class="op" id="7464935">,</span>&nbsp;<span class="ident" id="7464937">true</span><span class="op" id="7464941">,</span>&nbsp;<span class="ident" id="7464943">false</span><span class="op" id="7464948">}</span><span class="op" id="7464949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464952">{</span><span class="ident" id="7464953">IPv4zero</span><span class="op" id="7464961">,</span>&nbsp;<span class="ident" id="7464963">true</span><span class="op" id="7464967">,</span>&nbsp;<span class="ident" id="7464969">false</span><span class="op" id="7464974">}</span><span class="op" id="7464975">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7464978">{</span><span class="ident" id="7464979">IPv4</span><span class="op" id="7464983">(</span><span class="num" id="7464984">224</span><span class="op" id="7464987">,</span>&nbsp;<span class="num" id="7464989">0</span><span class="op" id="7464990">,</span>&nbsp;<span class="num" id="7464992">0</span><span class="op" id="7464993">,</span>&nbsp;<span class="num" id="7464995">1</span><span class="op" id="7464996">)</span><span class="op" id="7464997">,</span>&nbsp;<span class="ident" id="7464999">true</span><span class="op" id="7465003">,</span>&nbsp;<span class="ident" id="7465005">false</span><span class="op" id="7465010">}</span><span class="op" id="7465011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465014">{</span><span class="ident" id="7465015">IPv4</span><span class="op" id="7465019">(</span><span class="num" id="7465020">127</span><span class="op" id="7465023">,</span>&nbsp;<span class="num" id="7465025">0</span><span class="op" id="7465026">,</span>&nbsp;<span class="num" id="7465028">0</span><span class="op" id="7465029">,</span>&nbsp;<span class="num" id="7465031">1</span><span class="op" id="7465032">)</span><span class="op" id="7465033">,</span>&nbsp;<span class="ident" id="7465035">true</span><span class="op" id="7465039">,</span>&nbsp;<span class="ident" id="7465041">false</span><span class="op" id="7465046">}</span><span class="op" id="7465047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465050">{</span><span class="ident" id="7465051">IPv4</span><span class="op" id="7465055">(</span><span class="num" id="7465056">240</span><span class="op" id="7465059">,</span>&nbsp;<span class="num" id="7465061">0</span><span class="op" id="7465062">,</span>&nbsp;<span class="num" id="7465064">0</span><span class="op" id="7465065">,</span>&nbsp;<span class="num" id="7465067">1</span><span class="op" id="7465068">)</span><span class="op" id="7465069">,</span>&nbsp;<span class="ident" id="7465071">true</span><span class="op" id="7465075">,</span>&nbsp;<span class="ident" id="7465077">false</span><span class="op" id="7465082">}</span><span class="op" id="7465083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465086">{</span><span class="ident" id="7465087">IPv6unspecified</span><span class="op" id="7465102">,</span>&nbsp;<span class="ident" id="7465104">false</span><span class="op" id="7465109">,</span>&nbsp;<span class="ident" id="7465111">true</span><span class="op" id="7465115">}</span><span class="op" id="7465116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465119">{</span><span class="ident" id="7465120">IPv6loopback</span><span class="op" id="7465132">,</span>&nbsp;<span class="ident" id="7465134">false</span><span class="op" id="7465139">,</span>&nbsp;<span class="ident" id="7465141">true</span><span class="op" id="7465145">}</span><span class="op" id="7465146">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465149">{</span><span class="ident" id="7465150">IPv6interfacelocalallnodes</span><span class="op" id="7465176">,</span>&nbsp;<span class="ident" id="7465178">false</span><span class="op" id="7465183">,</span>&nbsp;<span class="ident" id="7465185">true</span><span class="op" id="7465189">}</span><span class="op" id="7465190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465193">{</span><span class="ident" id="7465194">IPv6linklocalallnodes</span><span class="op" id="7465215">,</span>&nbsp;<span class="ident" id="7465217">false</span><span class="op" id="7465222">,</span>&nbsp;<span class="ident" id="7465224">true</span><span class="op" id="7465228">}</span><span class="op" id="7465229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465232">{</span><span class="ident" id="7465233">IPv6linklocalallrouters</span><span class="op" id="7465256">,</span>&nbsp;<span class="ident" id="7465258">false</span><span class="op" id="7465263">,</span>&nbsp;<span class="ident" id="7465265">true</span><span class="op" id="7465269">}</span><span class="op" id="7465270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465273">{</span><span class="ident" id="7465274">ParseIP</span><span class="op" id="7465281">(</span><span class="string" id="7465282">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="7465297">)</span><span class="op" id="7465298">,</span>&nbsp;<span class="ident" id="7465300">false</span><span class="op" id="7465305">,</span>&nbsp;<span class="ident" id="7465307">true</span><span class="op" id="7465311">}</span><span class="op" id="7465312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465315">{</span><span class="ident" id="7465316">ParseIP</span><span class="op" id="7465323">(</span><span class="string" id="7465324">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="7465339">)</span><span class="op" id="7465340">,</span>&nbsp;<span class="ident" id="7465342">false</span><span class="op" id="7465347">,</span>&nbsp;<span class="ident" id="7465349">true</span><span class="op" id="7465353">}</span><span class="op" id="7465354">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465357">{</span><span class="ident" id="7465358">ParseIP</span><span class="op" id="7465365">(</span><span class="string" id="7465366">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="7465386">)</span><span class="op" id="7465387">,</span>&nbsp;<span class="ident" id="7465389">false</span><span class="op" id="7465394">,</span>&nbsp;<span class="ident" id="7465396">true</span><span class="op" id="7465400">}</span><span class="op" id="7465401">,</span><br>
<span class="lineno"></span><span class="op" id="7465403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7465406">func</span>&nbsp;<span class="ident" id="7465411">TestIPAddrFamily</span><span class="op" id="7465427">(</span><span class="ident" id="7465428">t</span>&nbsp;<span class="op" id="7465430">*</span><span class="ident" id="7465431">testing</span><span class="op" id="7465438">.</span><span class="ident" id="7465439">T</span><span class="op" id="7465440">)</span>&nbsp;<span class="op" id="7465442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465445">for</span>&nbsp;<span class="ident" id="7465449">_</span><span class="op" id="7465450">,</span>&nbsp;<span class="ident" id="7465452">tt</span>&nbsp;<span class="op" id="7465455">:=</span>&nbsp;<span class="keyword" id="7465458">range</span>&nbsp;<span class="ident" id="7465464">ipAddrFamilyTests</span>&nbsp;<span class="op" id="7465482">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465486">if</span>&nbsp;<span class="ident" id="7465489">af</span>&nbsp;<span class="op" id="7465492">:=</span>&nbsp;<span class="ident" id="7465495">tt</span><span class="op" id="7465497">.</span><span class="ident" id="7465498">in</span><span class="op" id="7465500">.</span><span class="ident" id="7465501">To4</span><span class="op" id="7465504">(</span><span class="op" id="7465505">)</span>&nbsp;<span class="op" id="7465507">!=</span>&nbsp;<span class="ident" id="7465510">nil</span><span class="op" id="7465513">;</span>&nbsp;<span class="ident" id="7465515">af</span>&nbsp;<span class="op" id="7465518">!=</span>&nbsp;<span class="ident" id="7465521">tt</span><span class="op" id="7465523">.</span><span class="ident" id="7465524">af4</span>&nbsp;<span class="op" id="7465528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465533">t</span><span class="op" id="7465534">.</span><span class="ident" id="7465535">Errorf</span><span class="op" id="7465541">(</span><span class="string" id="7465542">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7465594">,</span>&nbsp;<span class="ident" id="7465596">tt</span><span class="op" id="7465598">.</span><span class="ident" id="7465599">in</span><span class="op" id="7465601">,</span>&nbsp;<span class="ident" id="7465603">af</span><span class="op" id="7465605">,</span>&nbsp;<span class="ident" id="7465607">tt</span><span class="op" id="7465609">.</span><span class="ident" id="7465610">af4</span><span class="op" id="7465613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7465621">if</span>&nbsp;<span class="ident" id="7465624">af</span>&nbsp;<span class="op" id="7465627">:=</span>&nbsp;<span class="builtinfunc" id="7465630">len</span><span class="op" id="7465633">(</span><span class="ident" id="7465634">tt</span><span class="op" id="7465636">.</span><span class="ident" id="7465637">in</span><span class="op" id="7465639">)</span>&nbsp;<span class="op" id="7465641">==</span>&nbsp;<span class="ident" id="7465644">IPv6len</span>&nbsp;<span class="op" id="7465652">&amp;&amp;</span>&nbsp;<span class="ident" id="7465655">tt</span><span class="op" id="7465657">.</span><span class="ident" id="7465658">in</span><span class="op" id="7465660">.</span><span class="ident" id="7465661">To4</span><span class="op" id="7465664">(</span><span class="op" id="7465665">)</span>&nbsp;<span class="op" id="7465667">==</span>&nbsp;<span class="ident" id="7465670">nil</span><span class="op" id="7465673">;</span>&nbsp;<span class="ident" id="7465675">af</span>&nbsp;<span class="op" id="7465678">!=</span>&nbsp;<span class="ident" id="7465681">tt</span><span class="op" id="7465683">.</span><span class="ident" id="7465684">af6</span>&nbsp;<span class="op" id="7465688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465693">t</span><span class="op" id="7465694">.</span><span class="ident" id="7465695">Errorf</span><span class="op" id="7465701">(</span><span class="string" id="7465702">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7465754">,</span>&nbsp;<span class="ident" id="7465756">tt</span><span class="op" id="7465758">.</span><span class="ident" id="7465759">in</span><span class="op" id="7465761">,</span>&nbsp;<span class="ident" id="7465763">af</span><span class="op" id="7465765">,</span>&nbsp;<span class="ident" id="7465767">tt</span><span class="op" id="7465769">.</span><span class="ident" id="7465770">af6</span><span class="op" id="7465773">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465780">}</span><br>
<span class="lineno"></span><span class="op" id="7465782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7465785">var</span>&nbsp;<span class="ident" id="7465789">ipAddrScopeTests</span>&nbsp;<span class="op" id="7465806">=</span>&nbsp;<span class="op" id="7465808">[</span><span class="op" id="7465809">]</span><span class="keyword" id="7465810">struct</span>&nbsp;<span class="op" id="7465817">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465820">scope</span>&nbsp;<span class="keyword" id="7465826">func</span><span class="op" id="7465830">(</span><span class="ident" id="7465831">IP</span><span class="op" id="7465833">)</span>&nbsp;<span class="builtintype" id="7465835">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465841">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7465847">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7465851">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7465857">bool</span><br>
<span class="lineno"></span><span class="op" id="7465862">}</span><span class="op" id="7465863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465866">{</span><span class="ident" id="7465867">IP</span><span class="op" id="7465869">.</span><span class="ident" id="7465870">IsUnspecified</span><span class="op" id="7465883">,</span>&nbsp;<span class="ident" id="7465885">IPv4zero</span><span class="op" id="7465893">,</span>&nbsp;<span class="ident" id="7465895">true</span><span class="op" id="7465899">}</span><span class="op" id="7465900">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465903">{</span><span class="ident" id="7465904">IP</span><span class="op" id="7465906">.</span><span class="ident" id="7465907">IsUnspecified</span><span class="op" id="7465920">,</span>&nbsp;<span class="ident" id="7465922">IPv4</span><span class="op" id="7465926">(</span><span class="num" id="7465927">127</span><span class="op" id="7465930">,</span>&nbsp;<span class="num" id="7465932">0</span><span class="op" id="7465933">,</span>&nbsp;<span class="num" id="7465935">0</span><span class="op" id="7465936">,</span>&nbsp;<span class="num" id="7465938">1</span><span class="op" id="7465939">)</span><span class="op" id="7465940">,</span>&nbsp;<span class="ident" id="7465942">false</span><span class="op" id="7465947">}</span><span class="op" id="7465948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465951">{</span><span class="ident" id="7465952">IP</span><span class="op" id="7465954">.</span><span class="ident" id="7465955">IsUnspecified</span><span class="op" id="7465968">,</span>&nbsp;<span class="ident" id="7465970">IPv6unspecified</span><span class="op" id="7465985">,</span>&nbsp;<span class="ident" id="7465987">true</span><span class="op" id="7465991">}</span><span class="op" id="7465992">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7465995">{</span><span class="ident" id="7465996">IP</span><span class="op" id="7465998">.</span><span class="ident" id="7465999">IsUnspecified</span><span class="op" id="7466012">,</span>&nbsp;<span class="ident" id="7466014">IPv6interfacelocalallnodes</span><span class="op" id="7466040">,</span>&nbsp;<span class="ident" id="7466042">false</span><span class="op" id="7466047">}</span><span class="op" id="7466048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466051">{</span><span class="ident" id="7466052">IP</span><span class="op" id="7466054">.</span><span class="ident" id="7466055">IsLoopback</span><span class="op" id="7466065">,</span>&nbsp;<span class="ident" id="7466067">IPv4</span><span class="op" id="7466071">(</span><span class="num" id="7466072">127</span><span class="op" id="7466075">,</span>&nbsp;<span class="num" id="7466077">0</span><span class="op" id="7466078">,</span>&nbsp;<span class="num" id="7466080">0</span><span class="op" id="7466081">,</span>&nbsp;<span class="num" id="7466083">1</span><span class="op" id="7466084">)</span><span class="op" id="7466085">,</span>&nbsp;<span class="ident" id="7466087">true</span><span class="op" id="7466091">}</span><span class="op" id="7466092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466095">{</span><span class="ident" id="7466096">IP</span><span class="op" id="7466098">.</span><span class="ident" id="7466099">IsLoopback</span><span class="op" id="7466109">,</span>&nbsp;<span class="ident" id="7466111">IPv4</span><span class="op" id="7466115">(</span><span class="num" id="7466116">127</span><span class="op" id="7466119">,</span>&nbsp;<span class="num" id="7466121">255</span><span class="op" id="7466124">,</span>&nbsp;<span class="num" id="7466126">255</span><span class="op" id="7466129">,</span>&nbsp;<span class="num" id="7466131">254</span><span class="op" id="7466134">)</span><span class="op" id="7466135">,</span>&nbsp;<span class="ident" id="7466137">true</span><span class="op" id="7466141">}</span><span class="op" id="7466142">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466145">{</span><span class="ident" id="7466146">IP</span><span class="op" id="7466148">.</span><span class="ident" id="7466149">IsLoopback</span><span class="op" id="7466159">,</span>&nbsp;<span class="ident" id="7466161">IPv4</span><span class="op" id="7466165">(</span><span class="num" id="7466166">128</span><span class="op" id="7466169">,</span>&nbsp;<span class="num" id="7466171">1</span><span class="op" id="7466172">,</span>&nbsp;<span class="num" id="7466174">2</span><span class="op" id="7466175">,</span>&nbsp;<span class="num" id="7466177">3</span><span class="op" id="7466178">)</span><span class="op" id="7466179">,</span>&nbsp;<span class="ident" id="7466181">false</span><span class="op" id="7466186">}</span><span class="op" id="7466187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466190">{</span><span class="ident" id="7466191">IP</span><span class="op" id="7466193">.</span><span class="ident" id="7466194">IsLoopback</span><span class="op" id="7466204">,</span>&nbsp;<span class="ident" id="7466206">IPv6loopback</span><span class="op" id="7466218">,</span>&nbsp;<span class="ident" id="7466220">true</span><span class="op" id="7466224">}</span><span class="op" id="7466225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466228">{</span><span class="ident" id="7466229">IP</span><span class="op" id="7466231">.</span><span class="ident" id="7466232">IsLoopback</span><span class="op" id="7466242">,</span>&nbsp;<span class="ident" id="7466244">IPv6linklocalallrouters</span><span class="op" id="7466267">,</span>&nbsp;<span class="ident" id="7466269">false</span><span class="op" id="7466274">}</span><span class="op" id="7466275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466278">{</span><span class="ident" id="7466279">IP</span><span class="op" id="7466281">.</span><span class="ident" id="7466282">IsMulticast</span><span class="op" id="7466293">,</span>&nbsp;<span class="ident" id="7466295">IPv4</span><span class="op" id="7466299">(</span><span class="num" id="7466300">224</span><span class="op" id="7466303">,</span>&nbsp;<span class="num" id="7466305">0</span><span class="op" id="7466306">,</span>&nbsp;<span class="num" id="7466308">0</span><span class="op" id="7466309">,</span>&nbsp;<span class="num" id="7466311">0</span><span class="op" id="7466312">)</span><span class="op" id="7466313">,</span>&nbsp;<span class="ident" id="7466315">true</span><span class="op" id="7466319">}</span><span class="op" id="7466320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466323">{</span><span class="ident" id="7466324">IP</span><span class="op" id="7466326">.</span><span class="ident" id="7466327">IsMulticast</span><span class="op" id="7466338">,</span>&nbsp;<span class="ident" id="7466340">IPv4</span><span class="op" id="7466344">(</span><span class="num" id="7466345">239</span><span class="op" id="7466348">,</span>&nbsp;<span class="num" id="7466350">0</span><span class="op" id="7466351">,</span>&nbsp;<span class="num" id="7466353">0</span><span class="op" id="7466354">,</span>&nbsp;<span class="num" id="7466356">0</span><span class="op" id="7466357">)</span><span class="op" id="7466358">,</span>&nbsp;<span class="ident" id="7466360">true</span><span class="op" id="7466364">}</span><span class="op" id="7466365">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466368">{</span><span class="ident" id="7466369">IP</span><span class="op" id="7466371">.</span><span class="ident" id="7466372">IsMulticast</span><span class="op" id="7466383">,</span>&nbsp;<span class="ident" id="7466385">IPv4</span><span class="op" id="7466389">(</span><span class="num" id="7466390">240</span><span class="op" id="7466393">,</span>&nbsp;<span class="num" id="7466395">0</span><span class="op" id="7466396">,</span>&nbsp;<span class="num" id="7466398">0</span><span class="op" id="7466399">,</span>&nbsp;<span class="num" id="7466401">0</span><span class="op" id="7466402">)</span><span class="op" id="7466403">,</span>&nbsp;<span class="ident" id="7466405">false</span><span class="op" id="7466410">}</span><span class="op" id="7466411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466414">{</span><span class="ident" id="7466415">IP</span><span class="op" id="7466417">.</span><span class="ident" id="7466418">IsMulticast</span><span class="op" id="7466429">,</span>&nbsp;<span class="ident" id="7466431">IPv6linklocalallnodes</span><span class="op" id="7466452">,</span>&nbsp;<span class="ident" id="7466454">true</span><span class="op" id="7466458">}</span><span class="op" id="7466459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466462">{</span><span class="ident" id="7466463">IP</span><span class="op" id="7466465">.</span><span class="ident" id="7466466">IsMulticast</span><span class="op" id="7466477">,</span>&nbsp;<span class="ident" id="7466479">IP</span><span class="op" id="7466481">{</span><span class="num" id="7466482">0xff</span><span class="op" id="7466486">,</span>&nbsp;<span class="num" id="7466488">0x05</span><span class="op" id="7466492">,</span>&nbsp;<span class="num" id="7466494">0</span><span class="op" id="7466495">,</span>&nbsp;<span class="num" id="7466497">0</span><span class="op" id="7466498">,</span>&nbsp;<span class="num" id="7466500">0</span><span class="op" id="7466501">,</span>&nbsp;<span class="num" id="7466503">0</span><span class="op" id="7466504">,</span>&nbsp;<span class="num" id="7466506">0</span><span class="op" id="7466507">,</span>&nbsp;<span class="num" id="7466509">0</span><span class="op" id="7466510">,</span>&nbsp;<span class="num" id="7466512">0</span><span class="op" id="7466513">,</span>&nbsp;<span class="num" id="7466515">0</span><span class="op" id="7466516">,</span>&nbsp;<span class="num" id="7466518">0</span><span class="op" id="7466519">,</span>&nbsp;<span class="num" id="7466521">0</span><span class="op" id="7466522">,</span>&nbsp;<span class="num" id="7466524">0</span><span class="op" id="7466525">,</span>&nbsp;<span class="num" id="7466527">0</span><span class="op" id="7466528">,</span>&nbsp;<span class="num" id="7466530">0</span><span class="op" id="7466531">,</span>&nbsp;<span class="num" id="7466533">0</span><span class="op" id="7466534">}</span><span class="op" id="7466535">,</span>&nbsp;<span class="ident" id="7466537">true</span><span class="op" id="7466541">}</span><span class="op" id="7466542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466545">{</span><span class="ident" id="7466546">IP</span><span class="op" id="7466548">.</span><span class="ident" id="7466549">IsMulticast</span><span class="op" id="7466560">,</span>&nbsp;<span class="ident" id="7466562">IP</span><span class="op" id="7466564">{</span><span class="num" id="7466565">0xfe</span><span class="op" id="7466569">,</span>&nbsp;<span class="num" id="7466571">0x80</span><span class="op" id="7466575">,</span>&nbsp;<span class="num" id="7466577">0</span><span class="op" id="7466578">,</span>&nbsp;<span class="num" id="7466580">0</span><span class="op" id="7466581">,</span>&nbsp;<span class="num" id="7466583">0</span><span class="op" id="7466584">,</span>&nbsp;<span class="num" id="7466586">0</span><span class="op" id="7466587">,</span>&nbsp;<span class="num" id="7466589">0</span><span class="op" id="7466590">,</span>&nbsp;<span class="num" id="7466592">0</span><span class="op" id="7466593">,</span>&nbsp;<span class="num" id="7466595">0</span><span class="op" id="7466596">,</span>&nbsp;<span class="num" id="7466598">0</span><span class="op" id="7466599">,</span>&nbsp;<span class="num" id="7466601">0</span><span class="op" id="7466602">,</span>&nbsp;<span class="num" id="7466604">0</span><span class="op" id="7466605">,</span>&nbsp;<span class="num" id="7466607">0</span><span class="op" id="7466608">,</span>&nbsp;<span class="num" id="7466610">0</span><span class="op" id="7466611">,</span>&nbsp;<span class="num" id="7466613">0</span><span class="op" id="7466614">,</span>&nbsp;<span class="num" id="7466616">0</span><span class="op" id="7466617">}</span><span class="op" id="7466618">,</span>&nbsp;<span class="ident" id="7466620">false</span><span class="op" id="7466625">}</span><span class="op" id="7466626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466629">{</span><span class="ident" id="7466630">IP</span><span class="op" id="7466632">.</span><span class="ident" id="7466633">IsLinkLocalMulticast</span><span class="op" id="7466653">,</span>&nbsp;<span class="ident" id="7466655">IPv4</span><span class="op" id="7466659">(</span><span class="num" id="7466660">224</span><span class="op" id="7466663">,</span>&nbsp;<span class="num" id="7466665">0</span><span class="op" id="7466666">,</span>&nbsp;<span class="num" id="7466668">0</span><span class="op" id="7466669">,</span>&nbsp;<span class="num" id="7466671">0</span><span class="op" id="7466672">)</span><span class="op" id="7466673">,</span>&nbsp;<span class="ident" id="7466675">true</span><span class="op" id="7466679">}</span><span class="op" id="7466680">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466683">{</span><span class="ident" id="7466684">IP</span><span class="op" id="7466686">.</span><span class="ident" id="7466687">IsLinkLocalMulticast</span><span class="op" id="7466707">,</span>&nbsp;<span class="ident" id="7466709">IPv4</span><span class="op" id="7466713">(</span><span class="num" id="7466714">239</span><span class="op" id="7466717">,</span>&nbsp;<span class="num" id="7466719">0</span><span class="op" id="7466720">,</span>&nbsp;<span class="num" id="7466722">0</span><span class="op" id="7466723">,</span>&nbsp;<span class="num" id="7466725">0</span><span class="op" id="7466726">)</span><span class="op" id="7466727">,</span>&nbsp;<span class="ident" id="7466729">false</span><span class="op" id="7466734">}</span><span class="op" id="7466735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466738">{</span><span class="ident" id="7466739">IP</span><span class="op" id="7466741">.</span><span class="ident" id="7466742">IsLinkLocalMulticast</span><span class="op" id="7466762">,</span>&nbsp;<span class="ident" id="7466764">IPv6linklocalallrouters</span><span class="op" id="7466787">,</span>&nbsp;<span class="ident" id="7466789">true</span><span class="op" id="7466793">}</span><span class="op" id="7466794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466797">{</span><span class="ident" id="7466798">IP</span><span class="op" id="7466800">.</span><span class="ident" id="7466801">IsLinkLocalMulticast</span><span class="op" id="7466821">,</span>&nbsp;<span class="ident" id="7466823">IP</span><span class="op" id="7466825">{</span><span class="num" id="7466826">0xff</span><span class="op" id="7466830">,</span>&nbsp;<span class="num" id="7466832">0x05</span><span class="op" id="7466836">,</span>&nbsp;<span class="num" id="7466838">0</span><span class="op" id="7466839">,</span>&nbsp;<span class="num" id="7466841">0</span><span class="op" id="7466842">,</span>&nbsp;<span class="num" id="7466844">0</span><span class="op" id="7466845">,</span>&nbsp;<span class="num" id="7466847">0</span><span class="op" id="7466848">,</span>&nbsp;<span class="num" id="7466850">0</span><span class="op" id="7466851">,</span>&nbsp;<span class="num" id="7466853">0</span><span class="op" id="7466854">,</span>&nbsp;<span class="num" id="7466856">0</span><span class="op" id="7466857">,</span>&nbsp;<span class="num" id="7466859">0</span><span class="op" id="7466860">,</span>&nbsp;<span class="num" id="7466862">0</span><span class="op" id="7466863">,</span>&nbsp;<span class="num" id="7466865">0</span><span class="op" id="7466866">,</span>&nbsp;<span class="num" id="7466868">0</span><span class="op" id="7466869">,</span>&nbsp;<span class="num" id="7466871">0</span><span class="op" id="7466872">,</span>&nbsp;<span class="num" id="7466874">0</span><span class="op" id="7466875">,</span>&nbsp;<span class="num" id="7466877">0</span><span class="op" id="7466878">}</span><span class="op" id="7466879">,</span>&nbsp;<span class="ident" id="7466881">false</span><span class="op" id="7466886">}</span><span class="op" id="7466887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466890">{</span><span class="ident" id="7466891">IP</span><span class="op" id="7466893">.</span><span class="ident" id="7466894">IsLinkLocalUnicast</span><span class="op" id="7466912">,</span>&nbsp;<span class="ident" id="7466914">IPv4</span><span class="op" id="7466918">(</span><span class="num" id="7466919">169</span><span class="op" id="7466922">,</span>&nbsp;<span class="num" id="7466924">254</span><span class="op" id="7466927">,</span>&nbsp;<span class="num" id="7466929">0</span><span class="op" id="7466930">,</span>&nbsp;<span class="num" id="7466932">0</span><span class="op" id="7466933">)</span><span class="op" id="7466934">,</span>&nbsp;<span class="ident" id="7466936">true</span><span class="op" id="7466940">}</span><span class="op" id="7466941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466944">{</span><span class="ident" id="7466945">IP</span><span class="op" id="7466947">.</span><span class="ident" id="7466948">IsLinkLocalUnicast</span><span class="op" id="7466966">,</span>&nbsp;<span class="ident" id="7466968">IPv4</span><span class="op" id="7466972">(</span><span class="num" id="7466973">169</span><span class="op" id="7466976">,</span>&nbsp;<span class="num" id="7466978">255</span><span class="op" id="7466981">,</span>&nbsp;<span class="num" id="7466983">0</span><span class="op" id="7466984">,</span>&nbsp;<span class="num" id="7466986">0</span><span class="op" id="7466987">)</span><span class="op" id="7466988">,</span>&nbsp;<span class="ident" id="7466990">false</span><span class="op" id="7466995">}</span><span class="op" id="7466996">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7466999">{</span><span class="ident" id="7467000">IP</span><span class="op" id="7467002">.</span><span class="ident" id="7467003">IsLinkLocalUnicast</span><span class="op" id="7467021">,</span>&nbsp;<span class="ident" id="7467023">IP</span><span class="op" id="7467025">{</span><span class="num" id="7467026">0xfe</span><span class="op" id="7467030">,</span>&nbsp;<span class="num" id="7467032">0x80</span><span class="op" id="7467036">,</span>&nbsp;<span class="num" id="7467038">0</span><span class="op" id="7467039">,</span>&nbsp;<span class="num" id="7467041">0</span><span class="op" id="7467042">,</span>&nbsp;<span class="num" id="7467044">0</span><span class="op" id="7467045">,</span>&nbsp;<span class="num" id="7467047">0</span><span class="op" id="7467048">,</span>&nbsp;<span class="num" id="7467050">0</span><span class="op" id="7467051">,</span>&nbsp;<span class="num" id="7467053">0</span><span class="op" id="7467054">,</span>&nbsp;<span class="num" id="7467056">0</span><span class="op" id="7467057">,</span>&nbsp;<span class="num" id="7467059">0</span><span class="op" id="7467060">,</span>&nbsp;<span class="num" id="7467062">0</span><span class="op" id="7467063">,</span>&nbsp;<span class="num" id="7467065">0</span><span class="op" id="7467066">,</span>&nbsp;<span class="num" id="7467068">0</span><span class="op" id="7467069">,</span>&nbsp;<span class="num" id="7467071">0</span><span class="op" id="7467072">,</span>&nbsp;<span class="num" id="7467074">0</span><span class="op" id="7467075">,</span>&nbsp;<span class="num" id="7467077">0</span><span class="op" id="7467078">}</span><span class="op" id="7467079">,</span>&nbsp;<span class="ident" id="7467081">true</span><span class="op" id="7467085">}</span><span class="op" id="7467086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467089">{</span><span class="ident" id="7467090">IP</span><span class="op" id="7467092">.</span><span class="ident" id="7467093">IsLinkLocalUnicast</span><span class="op" id="7467111">,</span>&nbsp;<span class="ident" id="7467113">IP</span><span class="op" id="7467115">{</span><span class="num" id="7467116">0xfe</span><span class="op" id="7467120">,</span>&nbsp;<span class="num" id="7467122">0xc0</span><span class="op" id="7467126">,</span>&nbsp;<span class="num" id="7467128">0</span><span class="op" id="7467129">,</span>&nbsp;<span class="num" id="7467131">0</span><span class="op" id="7467132">,</span>&nbsp;<span class="num" id="7467134">0</span><span class="op" id="7467135">,</span>&nbsp;<span class="num" id="7467137">0</span><span class="op" id="7467138">,</span>&nbsp;<span class="num" id="7467140">0</span><span class="op" id="7467141">,</span>&nbsp;<span class="num" id="7467143">0</span><span class="op" id="7467144">,</span>&nbsp;<span class="num" id="7467146">0</span><span class="op" id="7467147">,</span>&nbsp;<span class="num" id="7467149">0</span><span class="op" id="7467150">,</span>&nbsp;<span class="num" id="7467152">0</span><span class="op" id="7467153">,</span>&nbsp;<span class="num" id="7467155">0</span><span class="op" id="7467156">,</span>&nbsp;<span class="num" id="7467158">0</span><span class="op" id="7467159">,</span>&nbsp;<span class="num" id="7467161">0</span><span class="op" id="7467162">,</span>&nbsp;<span class="num" id="7467164">0</span><span class="op" id="7467165">,</span>&nbsp;<span class="num" id="7467167">0</span><span class="op" id="7467168">}</span><span class="op" id="7467169">,</span>&nbsp;<span class="ident" id="7467171">false</span><span class="op" id="7467176">}</span><span class="op" id="7467177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467180">{</span><span class="ident" id="7467181">IP</span><span class="op" id="7467183">.</span><span class="ident" id="7467184">IsGlobalUnicast</span><span class="op" id="7467199">,</span>&nbsp;<span class="ident" id="7467201">IPv4</span><span class="op" id="7467205">(</span><span class="num" id="7467206">240</span><span class="op" id="7467209">,</span>&nbsp;<span class="num" id="7467211">0</span><span class="op" id="7467212">,</span>&nbsp;<span class="num" id="7467214">0</span><span class="op" id="7467215">,</span>&nbsp;<span class="num" id="7467217">0</span><span class="op" id="7467218">)</span><span class="op" id="7467219">,</span>&nbsp;<span class="ident" id="7467221">true</span><span class="op" id="7467225">}</span><span class="op" id="7467226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467229">{</span><span class="ident" id="7467230">IP</span><span class="op" id="7467232">.</span><span class="ident" id="7467233">IsGlobalUnicast</span><span class="op" id="7467248">,</span>&nbsp;<span class="ident" id="7467250">IPv4</span><span class="op" id="7467254">(</span><span class="num" id="7467255">232</span><span class="op" id="7467258">,</span>&nbsp;<span class="num" id="7467260">0</span><span class="op" id="7467261">,</span>&nbsp;<span class="num" id="7467263">0</span><span class="op" id="7467264">,</span>&nbsp;<span class="num" id="7467266">0</span><span class="op" id="7467267">)</span><span class="op" id="7467268">,</span>&nbsp;<span class="ident" id="7467270">false</span><span class="op" id="7467275">}</span><span class="op" id="7467276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467279">{</span><span class="ident" id="7467280">IP</span><span class="op" id="7467282">.</span><span class="ident" id="7467283">IsGlobalUnicast</span><span class="op" id="7467298">,</span>&nbsp;<span class="ident" id="7467300">IPv4</span><span class="op" id="7467304">(</span><span class="num" id="7467305">169</span><span class="op" id="7467308">,</span>&nbsp;<span class="num" id="7467310">254</span><span class="op" id="7467313">,</span>&nbsp;<span class="num" id="7467315">0</span><span class="op" id="7467316">,</span>&nbsp;<span class="num" id="7467318">0</span><span class="op" id="7467319">)</span><span class="op" id="7467320">,</span>&nbsp;<span class="ident" id="7467322">false</span><span class="op" id="7467327">}</span><span class="op" id="7467328">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467331">{</span><span class="ident" id="7467332">IP</span><span class="op" id="7467334">.</span><span class="ident" id="7467335">IsGlobalUnicast</span><span class="op" id="7467350">,</span>&nbsp;<span class="ident" id="7467352">IP</span><span class="op" id="7467354">{</span><span class="num" id="7467355">0x20</span><span class="op" id="7467359">,</span>&nbsp;<span class="num" id="7467361">0x1</span><span class="op" id="7467364">,</span>&nbsp;<span class="num" id="7467366">0xd</span><span class="op" id="7467369">,</span>&nbsp;<span class="num" id="7467371">0xb8</span><span class="op" id="7467375">,</span>&nbsp;<span class="num" id="7467377">0</span><span class="op" id="7467378">,</span>&nbsp;<span class="num" id="7467380">0</span><span class="op" id="7467381">,</span>&nbsp;<span class="num" id="7467383">0</span><span class="op" id="7467384">,</span>&nbsp;<span class="num" id="7467386">0</span><span class="op" id="7467387">,</span>&nbsp;<span class="num" id="7467389">0</span><span class="op" id="7467390">,</span>&nbsp;<span class="num" id="7467392">0</span><span class="op" id="7467393">,</span>&nbsp;<span class="num" id="7467395">0x1</span><span class="op" id="7467398">,</span>&nbsp;<span class="num" id="7467400">0x23</span><span class="op" id="7467404">,</span>&nbsp;<span class="num" id="7467406">0</span><span class="op" id="7467407">,</span>&nbsp;<span class="num" id="7467409">0x12</span><span class="op" id="7467413">,</span>&nbsp;<span class="num" id="7467415">0</span><span class="op" id="7467416">,</span>&nbsp;<span class="num" id="7467418">0x1</span><span class="op" id="7467421">}</span><span class="op" id="7467422">,</span>&nbsp;<span class="ident" id="7467424">true</span><span class="op" id="7467428">}</span><span class="op" id="7467429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467432">{</span><span class="ident" id="7467433">IP</span><span class="op" id="7467435">.</span><span class="ident" id="7467436">IsGlobalUnicast</span><span class="op" id="7467451">,</span>&nbsp;<span class="ident" id="7467453">IP</span><span class="op" id="7467455">{</span><span class="num" id="7467456">0xfe</span><span class="op" id="7467460">,</span>&nbsp;<span class="num" id="7467462">0x80</span><span class="op" id="7467466">,</span>&nbsp;<span class="num" id="7467468">0</span><span class="op" id="7467469">,</span>&nbsp;<span class="num" id="7467471">0</span><span class="op" id="7467472">,</span>&nbsp;<span class="num" id="7467474">0</span><span class="op" id="7467475">,</span>&nbsp;<span class="num" id="7467477">0</span><span class="op" id="7467478">,</span>&nbsp;<span class="num" id="7467480">0</span><span class="op" id="7467481">,</span>&nbsp;<span class="num" id="7467483">0</span><span class="op" id="7467484">,</span>&nbsp;<span class="num" id="7467486">0</span><span class="op" id="7467487">,</span>&nbsp;<span class="num" id="7467489">0</span><span class="op" id="7467490">,</span>&nbsp;<span class="num" id="7467492">0</span><span class="op" id="7467493">,</span>&nbsp;<span class="num" id="7467495">0</span><span class="op" id="7467496">,</span>&nbsp;<span class="num" id="7467498">0</span><span class="op" id="7467499">,</span>&nbsp;<span class="num" id="7467501">0</span><span class="op" id="7467502">,</span>&nbsp;<span class="num" id="7467504">0</span><span class="op" id="7467505">,</span>&nbsp;<span class="num" id="7467507">0</span><span class="op" id="7467508">}</span><span class="op" id="7467509">,</span>&nbsp;<span class="ident" id="7467511">false</span><span class="op" id="7467516">}</span><span class="op" id="7467517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467520">{</span><span class="ident" id="7467521">IP</span><span class="op" id="7467523">.</span><span class="ident" id="7467524">IsGlobalUnicast</span><span class="op" id="7467539">,</span>&nbsp;<span class="ident" id="7467541">IP</span><span class="op" id="7467543">{</span><span class="num" id="7467544">0xff</span><span class="op" id="7467548">,</span>&nbsp;<span class="num" id="7467550">0x05</span><span class="op" id="7467554">,</span>&nbsp;<span class="num" id="7467556">0</span><span class="op" id="7467557">,</span>&nbsp;<span class="num" id="7467559">0</span><span class="op" id="7467560">,</span>&nbsp;<span class="num" id="7467562">0</span><span class="op" id="7467563">,</span>&nbsp;<span class="num" id="7467565">0</span><span class="op" id="7467566">,</span>&nbsp;<span class="num" id="7467568">0</span><span class="op" id="7467569">,</span>&nbsp;<span class="num" id="7467571">0</span><span class="op" id="7467572">,</span>&nbsp;<span class="num" id="7467574">0</span><span class="op" id="7467575">,</span>&nbsp;<span class="num" id="7467577">0</span><span class="op" id="7467578">,</span>&nbsp;<span class="num" id="7467580">0</span><span class="op" id="7467581">,</span>&nbsp;<span class="num" id="7467583">0</span><span class="op" id="7467584">,</span>&nbsp;<span class="num" id="7467586">0</span><span class="op" id="7467587">,</span>&nbsp;<span class="num" id="7467589">0</span><span class="op" id="7467590">,</span>&nbsp;<span class="num" id="7467592">0</span><span class="op" id="7467593">,</span>&nbsp;<span class="num" id="7467595">0</span><span class="op" id="7467596">}</span><span class="op" id="7467597">,</span>&nbsp;<span class="ident" id="7467599">false</span><span class="op" id="7467604">}</span><span class="op" id="7467605">,</span><br>
<span class="lineno"></span><span class="op" id="7467607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="7467610">func</span>&nbsp;<span class="ident" id="7467615">name</span><span class="op" id="7467619">(</span><span class="ident" id="7467620">f</span>&nbsp;<span class="keyword" id="7467622">interface</span><span class="op" id="7467631">{</span><span class="op" id="7467632">}</span><span class="op" id="7467633">)</span>&nbsp;<span class="builtintype" id="7467635">string</span>&nbsp;<span class="op" id="7467642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467645">return</span>&nbsp;<span class="ident" id="7467652">runtime</span><span class="op" id="7467659">.</span><span class="ident" id="7467660">FuncForPC</span><span class="op" id="7467669">(</span><span class="ident" id="7467670">reflect</span><span class="op" id="7467677">.</span><span class="ident" id="7467678">ValueOf</span><span class="op" id="7467685">(</span><span class="ident" id="7467686">f</span><span class="op" id="7467687">)</span><span class="op" id="7467688">.</span><span class="ident" id="7467689">Pointer</span><span class="op" id="7467696">(</span><span class="op" id="7467697">)</span><span class="op" id="7467698">)</span><span class="op" id="7467699">.</span><span class="ident" id="7467700">Name</span><span class="op" id="7467704">(</span><span class="op" id="7467705">)</span><br>
<span class="lineno"></span><span class="op" id="7467707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7467710">func</span>&nbsp;<span class="ident" id="7467715">TestIPAddrScope</span><span class="op" id="7467730">(</span><span class="ident" id="7467731">t</span>&nbsp;<span class="op" id="7467733">*</span><span class="ident" id="7467734">testing</span><span class="op" id="7467741">.</span><span class="ident" id="7467742">T</span><span class="op" id="7467743">)</span>&nbsp;<span class="op" id="7467745">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467748">for</span>&nbsp;<span class="ident" id="7467752">_</span><span class="op" id="7467753">,</span>&nbsp;<span class="ident" id="7467755">tt</span>&nbsp;<span class="op" id="7467758">:=</span>&nbsp;<span class="keyword" id="7467761">range</span>&nbsp;<span class="ident" id="7467767">ipAddrScopeTests</span>&nbsp;<span class="op" id="7467784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7467788">if</span>&nbsp;<span class="ident" id="7467791">ok</span>&nbsp;<span class="op" id="7467794">:=</span>&nbsp;<span class="ident" id="7467797">tt</span><span class="op" id="7467799">.</span><span class="ident" id="7467800">scope</span><span class="op" id="7467805">(</span><span class="ident" id="7467806">tt</span><span class="op" id="7467808">.</span><span class="ident" id="7467809">in</span><span class="op" id="7467811">)</span><span class="op" id="7467812">;</span>&nbsp;<span class="ident" id="7467814">ok</span>&nbsp;<span class="op" id="7467817">!=</span>&nbsp;<span class="ident" id="7467820">tt</span><span class="op" id="7467822">.</span><span class="ident" id="7467823">ok</span>&nbsp;<span class="op" id="7467826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7467831">t</span><span class="op" id="7467832">.</span><span class="ident" id="7467833">Errorf</span><span class="op" id="7467839">(</span><span class="string" id="7467840">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7467862">,</span>&nbsp;<span class="ident" id="7467864">name</span><span class="op" id="7467868">(</span><span class="ident" id="7467869">tt</span><span class="op" id="7467871">.</span><span class="ident" id="7467872">scope</span><span class="op" id="7467877">)</span><span class="op" id="7467878">,</span>&nbsp;<span class="ident" id="7467880">tt</span><span class="op" id="7467882">.</span><span class="ident" id="7467883">in</span><span class="op" id="7467885">,</span>&nbsp;<span class="ident" id="7467887">ok</span><span class="op" id="7467889">,</span>&nbsp;<span class="ident" id="7467891">tt</span><span class="op" id="7467893">.</span><span class="ident" id="7467894">ok</span><span class="op" id="7467896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7467903">}</span><br>
<span class="lineno">465</span><span class="op" id="7467905">}</span>
</div>
</body>
</html>
