<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html" class="current">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1997876">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1997932">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1997986">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1998037">//&nbsp;DWARF&nbsp;type&nbsp;information&nbsp;structures.</span><br>
<span class="lineno"></span><span class="comment" id="1998075">//&nbsp;The&nbsp;format&nbsp;is&nbsp;heavily&nbsp;biased&nbsp;toward&nbsp;C,&nbsp;but&nbsp;for&nbsp;simplicity</span><br>
<span class="lineno"></span><span class="comment" id="1998136">//&nbsp;the&nbsp;String&nbsp;methods&nbsp;use&nbsp;a&nbsp;pseudo-Go&nbsp;syntax.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1998183">package</span>&nbsp;<span class="ident" id="1998191">dwarf</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1998198">import</span>&nbsp;<span class="string" id="1998205">&#34;strconv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1998216">//&nbsp;A&nbsp;Type&nbsp;conventionally&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;to&nbsp;any&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1998276">//&nbsp;specific&nbsp;Type&nbsp;structures&nbsp;(CharType,&nbsp;StructType,&nbsp;etc.).</span><br>
<span class="lineno">15</span><span class="keyword" id="1998334">type</span>&nbsp;<span class="ident" id="1998339">Type</span>&nbsp;<span class="keyword" id="1998344">interface</span>&nbsp;<span class="op" id="1998354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998357">Common</span><span class="op" id="1998363">(</span><span class="op" id="1998364">)</span>&nbsp;<span class="op" id="1998366">*</span><span class="ident" id="1998367">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998379">String</span><span class="op" id="1998385">(</span><span class="op" id="1998386">)</span>&nbsp;<span class="builtintype" id="1998388">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998396">Size</span><span class="op" id="1998400">(</span><span class="op" id="1998401">)</span>&nbsp;<span class="ident" id="1998403">int64</span><br>
<span class="lineno"></span><span class="op" id="1998409">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="1998412">//&nbsp;A&nbsp;CommonType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;multiple&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="1998467">//&nbsp;If&nbsp;a&nbsp;field&nbsp;is&nbsp;not&nbsp;known&nbsp;or&nbsp;not&nbsp;applicable&nbsp;for&nbsp;a&nbsp;given&nbsp;type,</span><br>
<span class="lineno"></span><span class="comment" id="1998530">//&nbsp;the&nbsp;zero&nbsp;value&nbsp;is&nbsp;used.</span><br>
<span class="lineno"></span><span class="keyword" id="1998557">type</span>&nbsp;<span class="ident" id="1998562">CommonType</span>&nbsp;<span class="keyword" id="1998573">struct</span>&nbsp;<span class="op" id="1998580">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998583">ByteSize</span>&nbsp;<span class="ident" id="1998592">int64</span>&nbsp;&nbsp;<span class="comment" id="1998599">//&nbsp;size&nbsp;of&nbsp;value&nbsp;of&nbsp;this&nbsp;type,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998640">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1998649">string</span>&nbsp;<span class="comment" id="1998656">//&nbsp;name&nbsp;that&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;refer&nbsp;to&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="1998698">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1998701">func</span>&nbsp;<span class="op" id="1998706">(</span><span class="ident" id="1998707">c</span>&nbsp;<span class="op" id="1998709">*</span><span class="ident" id="1998710">CommonType</span><span class="op" id="1998720">)</span>&nbsp;<span class="ident" id="1998722">Common</span><span class="op" id="1998728">(</span><span class="op" id="1998729">)</span>&nbsp;<span class="op" id="1998731">*</span><span class="ident" id="1998732">CommonType</span>&nbsp;<span class="op" id="1998743">{</span>&nbsp;<span class="keyword" id="1998745">return</span>&nbsp;<span class="ident" id="1998752">c</span>&nbsp;<span class="op" id="1998754">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="1998757">func</span>&nbsp;<span class="op" id="1998762">(</span><span class="ident" id="1998763">c</span>&nbsp;<span class="op" id="1998765">*</span><span class="ident" id="1998766">CommonType</span><span class="op" id="1998776">)</span>&nbsp;<span class="ident" id="1998778">Size</span><span class="op" id="1998782">(</span><span class="op" id="1998783">)</span>&nbsp;<span class="ident" id="1998785">int64</span>&nbsp;<span class="op" id="1998791">{</span>&nbsp;<span class="keyword" id="1998793">return</span>&nbsp;<span class="ident" id="1998800">c</span><span class="op" id="1998801">.</span><span class="ident" id="1998802">ByteSize</span>&nbsp;<span class="op" id="1998811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1998814">//&nbsp;Basic&nbsp;types</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="1998830">//&nbsp;A&nbsp;BasicType&nbsp;holds&nbsp;fields&nbsp;common&nbsp;to&nbsp;all&nbsp;basic&nbsp;types.</span><br>
<span class="lineno"></span><span class="keyword" id="1998885">type</span>&nbsp;<span class="ident" id="1998890">BasicType</span>&nbsp;<span class="keyword" id="1998900">struct</span>&nbsp;<span class="op" id="1998907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998910">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998922">BitSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="1998932">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1998939">BitOffset</span>&nbsp;<span class="ident" id="1998949">int64</span><br>
<span class="lineno">40</span><span class="op" id="1998955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1998958">func</span>&nbsp;<span class="op" id="1998963">(</span><span class="ident" id="1998964">b</span>&nbsp;<span class="op" id="1998966">*</span><span class="ident" id="1998967">BasicType</span><span class="op" id="1998976">)</span>&nbsp;<span class="ident" id="1998978">Basic</span><span class="op" id="1998983">(</span><span class="op" id="1998984">)</span>&nbsp;<span class="op" id="1998986">*</span><span class="ident" id="1998987">BasicType</span>&nbsp;<span class="op" id="1998997">{</span>&nbsp;<span class="keyword" id="1998999">return</span>&nbsp;<span class="ident" id="1999006">b</span>&nbsp;<span class="op" id="1999008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1999011">func</span>&nbsp;<span class="op" id="1999016">(</span><span class="ident" id="1999017">t</span>&nbsp;<span class="op" id="1999019">*</span><span class="ident" id="1999020">BasicType</span><span class="op" id="1999029">)</span>&nbsp;<span class="ident" id="1999031">String</span><span class="op" id="1999037">(</span><span class="op" id="1999038">)</span>&nbsp;<span class="builtintype" id="1999040">string</span>&nbsp;<span class="op" id="1999047">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1999050">if</span>&nbsp;<span class="ident" id="1999053">t</span><span class="op" id="1999054">.</span><span class="ident" id="1999055">Name</span>&nbsp;<span class="op" id="1999060">!=</span>&nbsp;<span class="string" id="1999063">&#34;&#34;</span>&nbsp;<span class="op" id="1999066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1999070">return</span>&nbsp;<span class="ident" id="1999077">t</span><span class="op" id="1999078">.</span><span class="ident" id="1999079">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1999085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1999088">return</span>&nbsp;<span class="string" id="1999095">&#34;?&#34;</span><br>
<span class="lineno"></span><span class="op" id="1999099">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="1999102">//&nbsp;A&nbsp;CharType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999152">type</span>&nbsp;<span class="ident" id="1999157">CharType</span>&nbsp;<span class="keyword" id="1999166">struct</span>&nbsp;<span class="op" id="1999173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999176">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999186">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="1999189">//&nbsp;A&nbsp;UcharType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;character&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999243">type</span>&nbsp;<span class="ident" id="1999248">UcharType</span>&nbsp;<span class="keyword" id="1999258">struct</span>&nbsp;<span class="op" id="1999265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999268">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999278">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="1999281">//&nbsp;An&nbsp;IntType&nbsp;represents&nbsp;a&nbsp;signed&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999329">type</span>&nbsp;<span class="ident" id="1999334">IntType</span>&nbsp;<span class="keyword" id="1999342">struct</span>&nbsp;<span class="op" id="1999349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999352">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999362">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="1999365">//&nbsp;A&nbsp;UintType&nbsp;represents&nbsp;an&nbsp;unsigned&nbsp;integer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999416">type</span>&nbsp;<span class="ident" id="1999421">UintType</span>&nbsp;<span class="keyword" id="1999430">struct</span>&nbsp;<span class="op" id="1999437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999440">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999450">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="1999453">//&nbsp;A&nbsp;FloatType&nbsp;represents&nbsp;a&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999502">type</span>&nbsp;<span class="ident" id="1999507">FloatType</span>&nbsp;<span class="keyword" id="1999517">struct</span>&nbsp;<span class="op" id="1999524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999527">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999537">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1999540">//&nbsp;A&nbsp;ComplexType&nbsp;represents&nbsp;a&nbsp;complex&nbsp;floating&nbsp;point&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999599">type</span>&nbsp;<span class="ident" id="1999604">ComplexType</span>&nbsp;<span class="keyword" id="1999616">struct</span>&nbsp;<span class="op" id="1999623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999626">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999636">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="1999639">//&nbsp;A&nbsp;BoolType&nbsp;represents&nbsp;a&nbsp;boolean&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999680">type</span>&nbsp;<span class="ident" id="1999685">BoolType</span>&nbsp;<span class="keyword" id="1999694">struct</span>&nbsp;<span class="op" id="1999701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999704">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999714">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="comment" id="1999717">//&nbsp;An&nbsp;AddrType&nbsp;represents&nbsp;a&nbsp;machine&nbsp;address&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999767">type</span>&nbsp;<span class="ident" id="1999772">AddrType</span>&nbsp;<span class="keyword" id="1999781">struct</span>&nbsp;<span class="op" id="1999788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999791">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999801">}</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span><span class="comment" id="1999804">//&nbsp;An&nbsp;UnspecifiedType&nbsp;represents&nbsp;an&nbsp;implicit,&nbsp;unknown,&nbsp;ambiguous&nbsp;or&nbsp;nonexistent&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="1999890">type</span>&nbsp;<span class="ident" id="1999895">UnspecifiedType</span>&nbsp;<span class="keyword" id="1999911">struct</span>&nbsp;<span class="op" id="1999918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1999921">BasicType</span><br>
<span class="lineno"></span><span class="op" id="1999931">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="1999934">//&nbsp;qualifiers</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1999949">//&nbsp;A&nbsp;QualType&nbsp;represents&nbsp;a&nbsp;type&nbsp;that&nbsp;has&nbsp;the&nbsp;C/C++&nbsp;&#34;const&#34;,&nbsp;&#34;restrict&#34;,&nbsp;or&nbsp;&#34;volatile&#34;&nbsp;qualifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2000046">type</span>&nbsp;<span class="ident" id="2000051">QualType</span>&nbsp;<span class="keyword" id="2000060">struct</span>&nbsp;<span class="op" id="2000067">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000070">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000082">Qual</span>&nbsp;<span class="builtintype" id="2000087">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000095">Type</span>&nbsp;<span class="ident" id="2000100">Type</span><br>
<span class="lineno"></span><span class="op" id="2000105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="2000108">func</span>&nbsp;<span class="op" id="2000113">(</span><span class="ident" id="2000114">t</span>&nbsp;<span class="op" id="2000116">*</span><span class="ident" id="2000117">QualType</span><span class="op" id="2000125">)</span>&nbsp;<span class="ident" id="2000127">String</span><span class="op" id="2000133">(</span><span class="op" id="2000134">)</span>&nbsp;<span class="builtintype" id="2000136">string</span>&nbsp;<span class="op" id="2000143">{</span>&nbsp;<span class="keyword" id="2000145">return</span>&nbsp;<span class="ident" id="2000152">t</span><span class="op" id="2000153">.</span><span class="ident" id="2000154">Qual</span>&nbsp;<span class="op" id="2000159">+</span>&nbsp;<span class="string" id="2000161">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2000165">+</span>&nbsp;<span class="ident" id="2000167">t</span><span class="op" id="2000168">.</span><span class="ident" id="2000169">Type</span><span class="op" id="2000173">.</span><span class="ident" id="2000174">String</span><span class="op" id="2000180">(</span><span class="op" id="2000181">)</span>&nbsp;<span class="op" id="2000183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2000186">func</span>&nbsp;<span class="op" id="2000191">(</span><span class="ident" id="2000192">t</span>&nbsp;<span class="op" id="2000194">*</span><span class="ident" id="2000195">QualType</span><span class="op" id="2000203">)</span>&nbsp;<span class="ident" id="2000205">Size</span><span class="op" id="2000209">(</span><span class="op" id="2000210">)</span>&nbsp;<span class="ident" id="2000212">int64</span>&nbsp;<span class="op" id="2000218">{</span>&nbsp;<span class="keyword" id="2000220">return</span>&nbsp;<span class="ident" id="2000227">t</span><span class="op" id="2000228">.</span><span class="ident" id="2000229">Type</span><span class="op" id="2000233">.</span><span class="ident" id="2000234">Size</span><span class="op" id="2000238">(</span><span class="op" id="2000239">)</span>&nbsp;<span class="op" id="2000241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2000244">//&nbsp;An&nbsp;ArrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;size&nbsp;array&nbsp;type.</span><br>
<span class="lineno">110</span><span class="keyword" id="2000296">type</span>&nbsp;<span class="ident" id="2000301">ArrayType</span>&nbsp;<span class="keyword" id="2000311">struct</span>&nbsp;<span class="op" id="2000318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000321">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000333">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000347">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000353">StrideBitSize</span>&nbsp;<span class="ident" id="2000367">int64</span>&nbsp;<span class="comment" id="2000373">//&nbsp;if&nbsp;&gt;&nbsp;0,&nbsp;number&nbsp;of&nbsp;bits&nbsp;to&nbsp;hold&nbsp;each&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000421">Count</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000435">int64</span>&nbsp;<span class="comment" id="2000441">//&nbsp;if&nbsp;==&nbsp;-1,&nbsp;an&nbsp;incomplete&nbsp;array,&nbsp;like&nbsp;char&nbsp;x[].</span><br>
<span class="lineno">115</span><span class="op" id="2000490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2000493">func</span>&nbsp;<span class="op" id="2000498">(</span><span class="ident" id="2000499">t</span>&nbsp;<span class="op" id="2000501">*</span><span class="ident" id="2000502">ArrayType</span><span class="op" id="2000511">)</span>&nbsp;<span class="ident" id="2000513">String</span><span class="op" id="2000519">(</span><span class="op" id="2000520">)</span>&nbsp;<span class="builtintype" id="2000522">string</span>&nbsp;<span class="op" id="2000529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2000532">return</span>&nbsp;<span class="string" id="2000539">&#34;[&#34;</span>&nbsp;<span class="op" id="2000543">+</span>&nbsp;<span class="ident" id="2000545">strconv</span><span class="op" id="2000552">.</span><span class="ident" id="2000553">FormatInt</span><span class="op" id="2000562">(</span><span class="ident" id="2000563">t</span><span class="op" id="2000564">.</span><span class="ident" id="2000565">Count</span><span class="op" id="2000570">,</span>&nbsp;<span class="num" id="2000572">10</span><span class="op" id="2000574">)</span>&nbsp;<span class="op" id="2000576">+</span>&nbsp;<span class="string" id="2000578">&#34;]&#34;</span>&nbsp;<span class="op" id="2000582">+</span>&nbsp;<span class="ident" id="2000584">t</span><span class="op" id="2000585">.</span><span class="ident" id="2000586">Type</span><span class="op" id="2000590">.</span><span class="ident" id="2000591">String</span><span class="op" id="2000597">(</span><span class="op" id="2000598">)</span><br>
<span class="lineno"></span><span class="op" id="2000600">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="2000603">func</span>&nbsp;<span class="op" id="2000608">(</span><span class="ident" id="2000609">t</span>&nbsp;<span class="op" id="2000611">*</span><span class="ident" id="2000612">ArrayType</span><span class="op" id="2000621">)</span>&nbsp;<span class="ident" id="2000623">Size</span><span class="op" id="2000627">(</span><span class="op" id="2000628">)</span>&nbsp;<span class="ident" id="2000630">int64</span>&nbsp;<span class="op" id="2000636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2000639">if</span>&nbsp;<span class="ident" id="2000642">t</span><span class="op" id="2000643">.</span><span class="ident" id="2000644">Count</span>&nbsp;<span class="op" id="2000650">==</span>&nbsp;<span class="op" id="2000653">-</span><span class="num" id="2000654">1</span>&nbsp;<span class="op" id="2000656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2000660">return</span>&nbsp;<span class="num" id="2000667">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2000670">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2000673">return</span>&nbsp;<span class="ident" id="2000680">t</span><span class="op" id="2000681">.</span><span class="ident" id="2000682">Count</span>&nbsp;<span class="op" id="2000688">*</span>&nbsp;<span class="ident" id="2000690">t</span><span class="op" id="2000691">.</span><span class="ident" id="2000692">Type</span><span class="op" id="2000696">.</span><span class="ident" id="2000697">Size</span><span class="op" id="2000701">(</span><span class="op" id="2000702">)</span><br>
<span class="lineno"></span><span class="op" id="2000704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2000707">//&nbsp;A&nbsp;VoidType&nbsp;represents&nbsp;the&nbsp;C&nbsp;void&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2000749">type</span>&nbsp;<span class="ident" id="2000754">VoidType</span>&nbsp;<span class="keyword" id="2000763">struct</span>&nbsp;<span class="op" id="2000770">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000773">CommonType</span><br>
<span class="lineno"></span><span class="op" id="2000784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2000787">func</span>&nbsp;<span class="op" id="2000792">(</span><span class="ident" id="2000793">t</span>&nbsp;<span class="op" id="2000795">*</span><span class="ident" id="2000796">VoidType</span><span class="op" id="2000804">)</span>&nbsp;<span class="ident" id="2000806">String</span><span class="op" id="2000812">(</span><span class="op" id="2000813">)</span>&nbsp;<span class="builtintype" id="2000815">string</span>&nbsp;<span class="op" id="2000822">{</span>&nbsp;<span class="keyword" id="2000824">return</span>&nbsp;<span class="string" id="2000831">&#34;void&#34;</span>&nbsp;<span class="op" id="2000838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="comment" id="2000841">//&nbsp;A&nbsp;PtrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2000881">type</span>&nbsp;<span class="ident" id="2000886">PtrType</span>&nbsp;<span class="keyword" id="2000894">struct</span>&nbsp;<span class="op" id="2000901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000904">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2000916">Type</span>&nbsp;<span class="ident" id="2000921">Type</span><br>
<span class="lineno"></span><span class="op" id="2000926">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="2000929">func</span>&nbsp;<span class="op" id="2000934">(</span><span class="ident" id="2000935">t</span>&nbsp;<span class="op" id="2000937">*</span><span class="ident" id="2000938">PtrType</span><span class="op" id="2000945">)</span>&nbsp;<span class="ident" id="2000947">String</span><span class="op" id="2000953">(</span><span class="op" id="2000954">)</span>&nbsp;<span class="builtintype" id="2000956">string</span>&nbsp;<span class="op" id="2000963">{</span>&nbsp;<span class="keyword" id="2000965">return</span>&nbsp;<span class="string" id="2000972">&#34;*&#34;</span>&nbsp;<span class="op" id="2000976">+</span>&nbsp;<span class="ident" id="2000978">t</span><span class="op" id="2000979">.</span><span class="ident" id="2000980">Type</span><span class="op" id="2000984">.</span><span class="ident" id="2000985">String</span><span class="op" id="2000991">(</span><span class="op" id="2000992">)</span>&nbsp;<span class="op" id="2000994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2000997">//&nbsp;A&nbsp;StructType&nbsp;represents&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2001060">type</span>&nbsp;<span class="ident" id="2001065">StructType</span>&nbsp;<span class="keyword" id="2001076">struct</span>&nbsp;<span class="op" id="2001083">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001086">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001098">StructName</span>&nbsp;<span class="builtintype" id="2001109">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001117">Kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2001128">string</span>&nbsp;<span class="comment" id="2001135">//&nbsp;&#34;struct&#34;,&nbsp;&#34;union&#34;,&nbsp;or&nbsp;&#34;class&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001170">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2001181">[</span><span class="op" id="2001182">]</span><span class="op" id="2001183">*</span><span class="ident" id="2001184">StructField</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001197">Incomplete</span>&nbsp;<span class="builtintype" id="2001208">bool</span>&nbsp;<span class="comment" id="2001213">//&nbsp;if&nbsp;true,&nbsp;struct,&nbsp;union,&nbsp;class&nbsp;is&nbsp;declared&nbsp;but&nbsp;not&nbsp;defined</span><br>
<span class="lineno">150</span><span class="op" id="2001274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2001277">//&nbsp;A&nbsp;StructField&nbsp;represents&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;C++&nbsp;class&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2001352">type</span>&nbsp;<span class="ident" id="2001357">StructField</span>&nbsp;<span class="keyword" id="2001369">struct</span>&nbsp;<span class="op" id="2001376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001379">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2001390">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001398">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001409">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001415">ByteOffset</span>&nbsp;<span class="ident" id="2001426">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001433">ByteSize</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2001444">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001451">BitOffset</span>&nbsp;&nbsp;<span class="ident" id="2001462">int64</span>&nbsp;<span class="comment" id="2001468">//&nbsp;within&nbsp;the&nbsp;ByteSize&nbsp;bytes&nbsp;at&nbsp;ByteOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001512">BitSize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001523">int64</span>&nbsp;<span class="comment" id="2001529">//&nbsp;zero&nbsp;if&nbsp;not&nbsp;a&nbsp;bit&nbsp;field</span><br>
<span class="lineno">160</span><span class="op" id="2001556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2001559">func</span>&nbsp;<span class="op" id="2001564">(</span><span class="ident" id="2001565">t</span>&nbsp;<span class="op" id="2001567">*</span><span class="ident" id="2001568">StructType</span><span class="op" id="2001578">)</span>&nbsp;<span class="ident" id="2001580">String</span><span class="op" id="2001586">(</span><span class="op" id="2001587">)</span>&nbsp;<span class="builtintype" id="2001589">string</span>&nbsp;<span class="op" id="2001596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001599">if</span>&nbsp;<span class="ident" id="2001602">t</span><span class="op" id="2001603">.</span><span class="ident" id="2001604">StructName</span>&nbsp;<span class="op" id="2001615">!=</span>&nbsp;<span class="string" id="2001618">&#34;&#34;</span>&nbsp;<span class="op" id="2001621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001625">return</span>&nbsp;<span class="ident" id="2001632">t</span><span class="op" id="2001633">.</span><span class="ident" id="2001634">Kind</span>&nbsp;<span class="op" id="2001639">+</span>&nbsp;<span class="string" id="2001641">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2001645">+</span>&nbsp;<span class="ident" id="2001647">t</span><span class="op" id="2001648">.</span><span class="ident" id="2001649">StructName</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2001661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001664">return</span>&nbsp;<span class="ident" id="2001671">t</span><span class="op" id="2001672">.</span><span class="ident" id="2001673">Defn</span><span class="op" id="2001677">(</span><span class="op" id="2001678">)</span><br>
<span class="lineno"></span><span class="op" id="2001680">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2001683">func</span>&nbsp;<span class="op" id="2001688">(</span><span class="ident" id="2001689">t</span>&nbsp;<span class="op" id="2001691">*</span><span class="ident" id="2001692">StructType</span><span class="op" id="2001702">)</span>&nbsp;<span class="ident" id="2001704">Defn</span><span class="op" id="2001708">(</span><span class="op" id="2001709">)</span>&nbsp;<span class="builtintype" id="2001711">string</span>&nbsp;<span class="op" id="2001718">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001721">s</span>&nbsp;<span class="op" id="2001723">:=</span>&nbsp;<span class="ident" id="2001726">t</span><span class="op" id="2001727">.</span><span class="ident" id="2001728">Kind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001734">if</span>&nbsp;<span class="ident" id="2001737">t</span><span class="op" id="2001738">.</span><span class="ident" id="2001739">StructName</span>&nbsp;<span class="op" id="2001750">!=</span>&nbsp;<span class="string" id="2001753">&#34;&#34;</span>&nbsp;<span class="op" id="2001756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001760">s</span>&nbsp;<span class="op" id="2001762">+=</span>&nbsp;<span class="string" id="2001765">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2001769">+</span>&nbsp;<span class="ident" id="2001771">t</span><span class="op" id="2001772">.</span><span class="ident" id="2001773">StructName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2001785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001788">if</span>&nbsp;<span class="ident" id="2001791">t</span><span class="op" id="2001792">.</span><span class="ident" id="2001793">Incomplete</span>&nbsp;<span class="op" id="2001804">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001808">s</span>&nbsp;<span class="op" id="2001810">+=</span>&nbsp;<span class="string" id="2001813">&#34;&nbsp;/*incomplete*/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001833">return</span>&nbsp;<span class="ident" id="2001840">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2001843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001846">s</span>&nbsp;<span class="op" id="2001848">+=</span>&nbsp;<span class="string" id="2001851">&#34;&nbsp;{&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001857">for</span>&nbsp;<span class="ident" id="2001861">i</span><span class="op" id="2001862">,</span>&nbsp;<span class="ident" id="2001864">f</span>&nbsp;<span class="op" id="2001866">:=</span>&nbsp;<span class="keyword" id="2001869">range</span>&nbsp;<span class="ident" id="2001875">t</span><span class="op" id="2001876">.</span><span class="ident" id="2001877">Field</span>&nbsp;<span class="op" id="2001883">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2001887">if</span>&nbsp;<span class="ident" id="2001890">i</span>&nbsp;<span class="op" id="2001892">&gt;</span>&nbsp;<span class="num" id="2001894">0</span>&nbsp;<span class="op" id="2001896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001901">s</span>&nbsp;<span class="op" id="2001903">+=</span>&nbsp;<span class="string" id="2001906">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2001913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001917">s</span>&nbsp;<span class="op" id="2001919">+=</span>&nbsp;<span class="ident" id="2001922">f</span><span class="op" id="2001923">.</span><span class="ident" id="2001924">Name</span>&nbsp;<span class="op" id="2001929">+</span>&nbsp;<span class="string" id="2001931">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2001935">+</span>&nbsp;<span class="ident" id="2001937">f</span><span class="op" id="2001938">.</span><span class="ident" id="2001939">Type</span><span class="op" id="2001943">.</span><span class="ident" id="2001944">String</span><span class="op" id="2001950">(</span><span class="op" id="2001951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2001955">s</span>&nbsp;<span class="op" id="2001957">+=</span>&nbsp;<span class="string" id="2001960">&#34;@&#34;</span>&nbsp;<span class="op" id="2001964">+</span>&nbsp;<span class="ident" id="2001966">strconv</span><span class="op" id="2001973">.</span><span class="ident" id="2001974">FormatInt</span><span class="op" id="2001983">(</span><span class="ident" id="2001984">f</span><span class="op" id="2001985">.</span><span class="ident" id="2001986">ByteOffset</span><span class="op" id="2001996">,</span>&nbsp;<span class="num" id="2001998">10</span><span class="op" id="2002000">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002004">if</span>&nbsp;<span class="ident" id="2002007">f</span><span class="op" id="2002008">.</span><span class="ident" id="2002009">BitSize</span>&nbsp;<span class="op" id="2002017">&gt;</span>&nbsp;<span class="num" id="2002019">0</span>&nbsp;<span class="op" id="2002021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002026">s</span>&nbsp;<span class="op" id="2002028">+=</span>&nbsp;<span class="string" id="2002031">&#34;&nbsp;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2002037">+</span>&nbsp;<span class="ident" id="2002039">strconv</span><span class="op" id="2002046">.</span><span class="ident" id="2002047">FormatInt</span><span class="op" id="2002056">(</span><span class="ident" id="2002057">f</span><span class="op" id="2002058">.</span><span class="ident" id="2002059">BitSize</span><span class="op" id="2002066">,</span>&nbsp;<span class="num" id="2002068">10</span><span class="op" id="2002070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002075">s</span>&nbsp;<span class="op" id="2002077">+=</span>&nbsp;<span class="string" id="2002080">&#34;@&#34;</span>&nbsp;<span class="op" id="2002084">+</span>&nbsp;<span class="ident" id="2002086">strconv</span><span class="op" id="2002093">.</span><span class="ident" id="2002094">FormatInt</span><span class="op" id="2002103">(</span><span class="ident" id="2002104">f</span><span class="op" id="2002105">.</span><span class="ident" id="2002106">BitOffset</span><span class="op" id="2002115">,</span>&nbsp;<span class="num" id="2002117">10</span><span class="op" id="2002119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002126">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002129">s</span>&nbsp;<span class="op" id="2002131">+=</span>&nbsp;<span class="string" id="2002134">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002139">return</span>&nbsp;<span class="ident" id="2002146">s</span><br>
<span class="lineno"></span><span class="op" id="2002148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2002151">//&nbsp;An&nbsp;EnumType&nbsp;represents&nbsp;an&nbsp;enumerated&nbsp;type.</span><br>
<span class="lineno">195</span><span class="comment" id="2002197">//&nbsp;The&nbsp;only&nbsp;indication&nbsp;of&nbsp;its&nbsp;native&nbsp;integer&nbsp;type&nbsp;is&nbsp;its&nbsp;ByteSize</span><br>
<span class="lineno"></span><span class="comment" id="2002263">//&nbsp;(inside&nbsp;CommonType).</span><br>
<span class="lineno"></span><span class="keyword" id="2002287">type</span>&nbsp;<span class="ident" id="2002292">EnumType</span>&nbsp;<span class="keyword" id="2002301">struct</span>&nbsp;<span class="op" id="2002308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002311">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002323">EnumName</span>&nbsp;<span class="builtintype" id="2002332">string</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002340">Val</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002349">[</span><span class="op" id="2002350">]</span><span class="op" id="2002351">*</span><span class="ident" id="2002352">EnumValue</span><br>
<span class="lineno"></span><span class="op" id="2002362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2002365">//&nbsp;An&nbsp;EnumValue&nbsp;represents&nbsp;a&nbsp;single&nbsp;enumeration&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2002420">type</span>&nbsp;<span class="ident" id="2002425">EnumValue</span>&nbsp;<span class="keyword" id="2002435">struct</span>&nbsp;<span class="op" id="2002442">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002445">Name</span>&nbsp;<span class="builtintype" id="2002450">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002458">Val</span>&nbsp;&nbsp;<span class="ident" id="2002463">int64</span><br>
<span class="lineno"></span><span class="op" id="2002469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2002472">func</span>&nbsp;<span class="op" id="2002477">(</span><span class="ident" id="2002478">t</span>&nbsp;<span class="op" id="2002480">*</span><span class="ident" id="2002481">EnumType</span><span class="op" id="2002489">)</span>&nbsp;<span class="ident" id="2002491">String</span><span class="op" id="2002497">(</span><span class="op" id="2002498">)</span>&nbsp;<span class="builtintype" id="2002500">string</span>&nbsp;<span class="op" id="2002507">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002510">s</span>&nbsp;<span class="op" id="2002512">:=</span>&nbsp;<span class="string" id="2002515">&#34;enum&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002523">if</span>&nbsp;<span class="ident" id="2002526">t</span><span class="op" id="2002527">.</span><span class="ident" id="2002528">EnumName</span>&nbsp;<span class="op" id="2002537">!=</span>&nbsp;<span class="string" id="2002540">&#34;&#34;</span>&nbsp;<span class="op" id="2002543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002547">s</span>&nbsp;<span class="op" id="2002549">+=</span>&nbsp;<span class="string" id="2002552">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2002556">+</span>&nbsp;<span class="ident" id="2002558">t</span><span class="op" id="2002559">.</span><span class="ident" id="2002560">EnumName</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002573">s</span>&nbsp;<span class="op" id="2002575">+=</span>&nbsp;<span class="string" id="2002578">&#34;&nbsp;{&#34;</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002584">for</span>&nbsp;<span class="ident" id="2002588">i</span><span class="op" id="2002589">,</span>&nbsp;<span class="ident" id="2002591">v</span>&nbsp;<span class="op" id="2002593">:=</span>&nbsp;<span class="keyword" id="2002596">range</span>&nbsp;<span class="ident" id="2002602">t</span><span class="op" id="2002603">.</span><span class="ident" id="2002604">Val</span>&nbsp;<span class="op" id="2002608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002612">if</span>&nbsp;<span class="ident" id="2002615">i</span>&nbsp;<span class="op" id="2002617">&gt;</span>&nbsp;<span class="num" id="2002619">0</span>&nbsp;<span class="op" id="2002621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002626">s</span>&nbsp;<span class="op" id="2002628">+=</span>&nbsp;<span class="string" id="2002631">&#34;;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002642">s</span>&nbsp;<span class="op" id="2002644">+=</span>&nbsp;<span class="ident" id="2002647">v</span><span class="op" id="2002648">.</span><span class="ident" id="2002649">Name</span>&nbsp;<span class="op" id="2002654">+</span>&nbsp;<span class="string" id="2002656">&#34;=&#34;</span>&nbsp;<span class="op" id="2002660">+</span>&nbsp;<span class="ident" id="2002662">strconv</span><span class="op" id="2002669">.</span><span class="ident" id="2002670">FormatInt</span><span class="op" id="2002679">(</span><span class="ident" id="2002680">v</span><span class="op" id="2002681">.</span><span class="ident" id="2002682">Val</span><span class="op" id="2002685">,</span>&nbsp;<span class="num" id="2002687">10</span><span class="op" id="2002689">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002695">s</span>&nbsp;<span class="op" id="2002697">+=</span>&nbsp;<span class="string" id="2002700">&#34;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002705">return</span>&nbsp;<span class="ident" id="2002712">s</span><br>
<span class="lineno"></span><span class="op" id="2002714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="2002717">//&nbsp;A&nbsp;FuncType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2002759">type</span>&nbsp;<span class="ident" id="2002764">FuncType</span>&nbsp;<span class="keyword" id="2002773">struct</span>&nbsp;<span class="op" id="2002780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002783">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002795">ReturnType</span>&nbsp;<span class="ident" id="2002806">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002812">ParamType</span>&nbsp;&nbsp;<span class="op" id="2002823">[</span><span class="op" id="2002824">]</span><span class="ident" id="2002825">Type</span><br>
<span class="lineno">230</span><span class="op" id="2002830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2002833">func</span>&nbsp;<span class="op" id="2002838">(</span><span class="ident" id="2002839">t</span>&nbsp;<span class="op" id="2002841">*</span><span class="ident" id="2002842">FuncType</span><span class="op" id="2002850">)</span>&nbsp;<span class="ident" id="2002852">String</span><span class="op" id="2002858">(</span><span class="op" id="2002859">)</span>&nbsp;<span class="builtintype" id="2002861">string</span>&nbsp;<span class="op" id="2002868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002871">s</span>&nbsp;<span class="op" id="2002873">:=</span>&nbsp;<span class="string" id="2002876">&#34;func(&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002885">for</span>&nbsp;<span class="ident" id="2002889">i</span><span class="op" id="2002890">,</span>&nbsp;<span class="ident" id="2002892">t</span>&nbsp;<span class="op" id="2002894">:=</span>&nbsp;<span class="keyword" id="2002897">range</span>&nbsp;<span class="ident" id="2002903">t</span><span class="op" id="2002904">.</span><span class="ident" id="2002905">ParamType</span>&nbsp;<span class="op" id="2002915">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002919">if</span>&nbsp;<span class="ident" id="2002922">i</span>&nbsp;<span class="op" id="2002924">&gt;</span>&nbsp;<span class="num" id="2002926">0</span>&nbsp;<span class="op" id="2002928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002933">s</span>&nbsp;<span class="op" id="2002935">+=</span>&nbsp;<span class="string" id="2002938">&#34;,&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002949">s</span>&nbsp;<span class="op" id="2002951">+=</span>&nbsp;<span class="ident" id="2002954">t</span><span class="op" id="2002955">.</span><span class="ident" id="2002956">String</span><span class="op" id="2002962">(</span><span class="op" id="2002963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2002966">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2002969">s</span>&nbsp;<span class="op" id="2002971">+=</span>&nbsp;<span class="string" id="2002974">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2002979">if</span>&nbsp;<span class="ident" id="2002982">t</span><span class="op" id="2002983">.</span><span class="ident" id="2002984">ReturnType</span>&nbsp;<span class="op" id="2002995">!=</span>&nbsp;<span class="ident" id="2002998">nil</span>&nbsp;<span class="op" id="2003002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003006">s</span>&nbsp;<span class="op" id="2003008">+=</span>&nbsp;<span class="string" id="2003011">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2003015">+</span>&nbsp;<span class="ident" id="2003017">t</span><span class="op" id="2003018">.</span><span class="ident" id="2003019">ReturnType</span><span class="op" id="2003029">.</span><span class="ident" id="2003030">String</span><span class="op" id="2003036">(</span><span class="op" id="2003037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2003040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2003043">return</span>&nbsp;<span class="ident" id="2003050">s</span><br>
<span class="lineno">245</span><span class="op" id="2003052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2003055">//&nbsp;A&nbsp;DotDotDotType&nbsp;represents&nbsp;the&nbsp;variadic&nbsp;...&nbsp;function&nbsp;parameter.</span><br>
<span class="lineno"></span><span class="keyword" id="2003122">type</span>&nbsp;<span class="ident" id="2003127">DotDotDotType</span>&nbsp;<span class="keyword" id="2003141">struct</span>&nbsp;<span class="op" id="2003148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003151">CommonType</span><br>
<span class="lineno">250</span><span class="op" id="2003162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2003165">func</span>&nbsp;<span class="op" id="2003170">(</span><span class="ident" id="2003171">t</span>&nbsp;<span class="op" id="2003173">*</span><span class="ident" id="2003174">DotDotDotType</span><span class="op" id="2003187">)</span>&nbsp;<span class="ident" id="2003189">String</span><span class="op" id="2003195">(</span><span class="op" id="2003196">)</span>&nbsp;<span class="builtintype" id="2003198">string</span>&nbsp;<span class="op" id="2003205">{</span>&nbsp;<span class="keyword" id="2003207">return</span>&nbsp;<span class="string" id="2003214">&#34;...&#34;</span>&nbsp;<span class="op" id="2003220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2003223">//&nbsp;A&nbsp;TypedefType&nbsp;represents&nbsp;a&nbsp;named&nbsp;type.</span><br>
<span class="lineno">255</span><span class="keyword" id="2003265">type</span>&nbsp;<span class="ident" id="2003270">TypedefType</span>&nbsp;<span class="keyword" id="2003282">struct</span>&nbsp;<span class="op" id="2003289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003292">CommonType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003304">Type</span>&nbsp;<span class="ident" id="2003309">Type</span><br>
<span class="lineno"></span><span class="op" id="2003314">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="2003317">func</span>&nbsp;<span class="op" id="2003322">(</span><span class="ident" id="2003323">t</span>&nbsp;<span class="op" id="2003325">*</span><span class="ident" id="2003326">TypedefType</span><span class="op" id="2003337">)</span>&nbsp;<span class="ident" id="2003339">String</span><span class="op" id="2003345">(</span><span class="op" id="2003346">)</span>&nbsp;<span class="builtintype" id="2003348">string</span>&nbsp;<span class="op" id="2003355">{</span>&nbsp;<span class="keyword" id="2003357">return</span>&nbsp;<span class="ident" id="2003364">t</span><span class="op" id="2003365">.</span><span class="ident" id="2003366">Name</span>&nbsp;<span class="op" id="2003371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2003374">func</span>&nbsp;<span class="op" id="2003379">(</span><span class="ident" id="2003380">t</span>&nbsp;<span class="op" id="2003382">*</span><span class="ident" id="2003383">TypedefType</span><span class="op" id="2003394">)</span>&nbsp;<span class="ident" id="2003396">Size</span><span class="op" id="2003400">(</span><span class="op" id="2003401">)</span>&nbsp;<span class="ident" id="2003403">int64</span>&nbsp;<span class="op" id="2003409">{</span>&nbsp;<span class="keyword" id="2003411">return</span>&nbsp;<span class="ident" id="2003418">t</span><span class="op" id="2003419">.</span><span class="ident" id="2003420">Type</span><span class="op" id="2003424">.</span><span class="ident" id="2003425">Size</span><span class="op" id="2003429">(</span><span class="op" id="2003430">)</span>&nbsp;<span class="op" id="2003432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2003435">//&nbsp;typeReader&nbsp;is&nbsp;used&nbsp;to&nbsp;read&nbsp;from&nbsp;either&nbsp;the&nbsp;info&nbsp;section&nbsp;or&nbsp;the</span><br>
<span class="lineno">265</span><span class="comment" id="2003501">//&nbsp;types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="2003519">type</span>&nbsp;<span class="ident" id="2003524">typeReader</span>&nbsp;<span class="keyword" id="2003535">interface</span>&nbsp;<span class="op" id="2003545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003548">Seek</span><span class="op" id="2003552">(</span><span class="ident" id="2003553">Offset</span><span class="op" id="2003559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003562">Next</span><span class="op" id="2003566">(</span><span class="op" id="2003567">)</span>&nbsp;<span class="op" id="2003569">(</span><span class="op" id="2003570">*</span><span class="ident" id="2003571">Entry</span><span class="op" id="2003576">,</span>&nbsp;<span class="builtintype" id="2003578">error</span><span class="op" id="2003583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003586">clone</span><span class="op" id="2003591">(</span><span class="op" id="2003592">)</span>&nbsp;<span class="ident" id="2003594">typeReader</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2003606">offset</span><span class="op" id="2003612">(</span><span class="op" id="2003613">)</span>&nbsp;<span class="ident" id="2003615">Offset</span><br>
<span class="lineno"></span><span class="op" id="2003622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2003625">//&nbsp;Type&nbsp;reads&nbsp;the&nbsp;type&nbsp;at&nbsp;off&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="2003686">func</span>&nbsp;<span class="op" id="2003691">(</span><span class="ident" id="2003692">d</span>&nbsp;<span class="op" id="2003694">*</span><span class="ident" id="2003695">Data</span><span class="op" id="2003699">)</span>&nbsp;<span class="ident" id="2003701">Type</span><span class="op" id="2003705">(</span><span class="ident" id="2003706">off</span>&nbsp;<span class="ident" id="2003710">Offset</span><span class="op" id="2003716">)</span>&nbsp;<span class="op" id="2003718">(</span><span class="ident" id="2003719">Type</span><span class="op" id="2003723">,</span>&nbsp;<span class="builtintype" id="2003725">error</span><span class="op" id="2003730">)</span>&nbsp;<span class="op" id="2003732">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2003735">return</span>&nbsp;<span class="ident" id="2003742">d</span><span class="op" id="2003743">.</span><span class="ident" id="2003744">readType</span><span class="op" id="2003752">(</span><span class="string" id="2003753">&#34;info&#34;</span><span class="op" id="2003759">,</span>&nbsp;<span class="ident" id="2003761">d</span><span class="op" id="2003762">.</span><span class="ident" id="2003763">Reader</span><span class="op" id="2003769">(</span><span class="op" id="2003770">)</span><span class="op" id="2003771">,</span>&nbsp;<span class="ident" id="2003773">off</span><span class="op" id="2003776">,</span>&nbsp;<span class="ident" id="2003778">d</span><span class="op" id="2003779">.</span><span class="ident" id="2003780">typeCache</span><span class="op" id="2003789">)</span><br>
<span class="lineno"></span><span class="op" id="2003791">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2003794">//&nbsp;readType&nbsp;reads&nbsp;a&nbsp;type&nbsp;from&nbsp;r&nbsp;at&nbsp;off&nbsp;of&nbsp;name&nbsp;using&nbsp;and&nbsp;updating&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2003862">//&nbsp;type&nbsp;cache.</span><br>
<span class="lineno">280</span><span class="keyword" id="2003877">func</span>&nbsp;<span class="op" id="2003882">(</span><span class="ident" id="2003883">d</span>&nbsp;<span class="op" id="2003885">*</span><span class="ident" id="2003886">Data</span><span class="op" id="2003890">)</span>&nbsp;<span class="ident" id="2003892">readType</span><span class="op" id="2003900">(</span><span class="ident" id="2003901">name</span>&nbsp;<span class="builtintype" id="2003906">string</span><span class="op" id="2003912">,</span>&nbsp;<span class="ident" id="2003914">r</span>&nbsp;<span class="ident" id="2003916">typeReader</span><span class="op" id="2003926">,</span>&nbsp;<span class="ident" id="2003928">off</span>&nbsp;<span class="ident" id="2003932">Offset</span><span class="op" id="2003938">,</span>&nbsp;<span class="ident" id="2003940">typeCache</span>&nbsp;<span class="keyword" id="2003950">map</span><span class="op" id="2003953">[</span><span class="ident" id="2003954">Offset</span><span class="op" id="2003960">]</span><span class="ident" id="2003961">Type</span><span class="op" id="2003965">)</span>&nbsp;<span class="op" id="2003967">(</span><span class="ident" id="2003968">Type</span><span class="op" id="2003972">,</span>&nbsp;<span class="builtintype" id="2003974">error</span><span class="op" id="2003979">)</span>&nbsp;<span class="op" id="2003981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2003984">if</span>&nbsp;<span class="ident" id="2003987">t</span><span class="op" id="2003988">,</span>&nbsp;<span class="ident" id="2003990">ok</span>&nbsp;<span class="op" id="2003993">:=</span>&nbsp;<span class="ident" id="2003996">typeCache</span><span class="op" id="2004005">[</span><span class="ident" id="2004006">off</span><span class="op" id="2004009">]</span><span class="op" id="2004010">;</span>&nbsp;<span class="ident" id="2004012">ok</span>&nbsp;<span class="op" id="2004015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004019">return</span>&nbsp;<span class="ident" id="2004026">t</span><span class="op" id="2004027">,</span>&nbsp;<span class="ident" id="2004029">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004037">r</span><span class="op" id="2004038">.</span><span class="ident" id="2004039">Seek</span><span class="op" id="2004043">(</span><span class="ident" id="2004044">off</span><span class="op" id="2004047">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004050">e</span><span class="op" id="2004051">,</span>&nbsp;<span class="ident" id="2004053">err</span>&nbsp;<span class="op" id="2004057">:=</span>&nbsp;<span class="ident" id="2004060">r</span><span class="op" id="2004061">.</span><span class="ident" id="2004062">Next</span><span class="op" id="2004066">(</span><span class="op" id="2004067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004070">if</span>&nbsp;<span class="ident" id="2004073">err</span>&nbsp;<span class="op" id="2004077">!=</span>&nbsp;<span class="ident" id="2004080">nil</span>&nbsp;<span class="op" id="2004084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004088">return</span>&nbsp;<span class="ident" id="2004095">nil</span><span class="op" id="2004098">,</span>&nbsp;<span class="ident" id="2004100">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004105">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004108">if</span>&nbsp;<span class="ident" id="2004111">e</span>&nbsp;<span class="op" id="2004113">==</span>&nbsp;<span class="ident" id="2004116">nil</span>&nbsp;<span class="op" id="2004120">||</span>&nbsp;<span class="ident" id="2004123">e</span><span class="op" id="2004124">.</span><span class="ident" id="2004125">Offset</span>&nbsp;<span class="op" id="2004132">!=</span>&nbsp;<span class="ident" id="2004135">off</span>&nbsp;<span class="op" id="2004139">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004143">return</span>&nbsp;<span class="ident" id="2004150">nil</span><span class="op" id="2004153">,</span>&nbsp;<span class="ident" id="2004155">DecodeError</span><span class="op" id="2004166">{</span><span class="ident" id="2004167">name</span><span class="op" id="2004171">,</span>&nbsp;<span class="ident" id="2004173">off</span><span class="op" id="2004176">,</span>&nbsp;<span class="string" id="2004178">&#34;no&nbsp;type&nbsp;at&nbsp;offset&#34;</span><span class="op" id="2004197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004204">//&nbsp;Parse&nbsp;type&nbsp;from&nbsp;Entry.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004231">//&nbsp;Must&nbsp;always&nbsp;set&nbsp;typeCache[off]&nbsp;before&nbsp;calling</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004281">//&nbsp;d.Type&nbsp;recursively,&nbsp;to&nbsp;handle&nbsp;circular&nbsp;types&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004341">var</span>&nbsp;<span class="ident" id="2004345">typ</span>&nbsp;<span class="ident" id="2004349">Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004356">nextDepth</span>&nbsp;<span class="op" id="2004366">:=</span>&nbsp;<span class="num" id="2004369">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004373">//&nbsp;Get&nbsp;next&nbsp;child;&nbsp;set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004419">next</span>&nbsp;<span class="op" id="2004424">:=</span>&nbsp;<span class="keyword" id="2004427">func</span><span class="op" id="2004431">(</span><span class="op" id="2004432">)</span>&nbsp;<span class="op" id="2004434">*</span><span class="ident" id="2004435">Entry</span>&nbsp;<span class="op" id="2004441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004445">if</span>&nbsp;<span class="op" id="2004448">!</span><span class="ident" id="2004449">e</span><span class="op" id="2004450">.</span><span class="ident" id="2004451">Children</span>&nbsp;<span class="op" id="2004460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004465">return</span>&nbsp;<span class="ident" id="2004472">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004478">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004482">//&nbsp;Only&nbsp;return&nbsp;direct&nbsp;children.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004516">//&nbsp;Skip&nbsp;over&nbsp;composite&nbsp;entries&nbsp;that&nbsp;happen&nbsp;to&nbsp;be&nbsp;nested</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004574">//&nbsp;inside&nbsp;this&nbsp;one.&nbsp;Most&nbsp;DWARF&nbsp;generators&nbsp;wouldn&#39;t&nbsp;generate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004636">//&nbsp;such&nbsp;a&nbsp;thing,&nbsp;but&nbsp;clang&nbsp;does.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2004671">//&nbsp;See&nbsp;golang.org/issue/6472.</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004703">for</span>&nbsp;<span class="op" id="2004707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004712">kid</span><span class="op" id="2004715">,</span>&nbsp;<span class="ident" id="2004717">err1</span>&nbsp;<span class="op" id="2004722">:=</span>&nbsp;<span class="ident" id="2004725">r</span><span class="op" id="2004726">.</span><span class="ident" id="2004727">Next</span><span class="op" id="2004731">(</span><span class="op" id="2004732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004737">if</span>&nbsp;<span class="ident" id="2004740">err1</span>&nbsp;<span class="op" id="2004745">!=</span>&nbsp;<span class="ident" id="2004748">nil</span>&nbsp;<span class="op" id="2004752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004758">err</span>&nbsp;<span class="op" id="2004762">=</span>&nbsp;<span class="ident" id="2004764">err1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004773">return</span>&nbsp;<span class="ident" id="2004780">nil</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004792">if</span>&nbsp;<span class="ident" id="2004795">kid</span>&nbsp;<span class="op" id="2004799">==</span>&nbsp;<span class="ident" id="2004802">nil</span>&nbsp;<span class="op" id="2004806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004812">err</span>&nbsp;<span class="op" id="2004816">=</span>&nbsp;<span class="ident" id="2004818">DecodeError</span><span class="op" id="2004829">{</span><span class="ident" id="2004830">name</span><span class="op" id="2004834">,</span>&nbsp;<span class="ident" id="2004836">r</span><span class="op" id="2004837">.</span><span class="ident" id="2004838">offset</span><span class="op" id="2004844">(</span><span class="op" id="2004845">)</span><span class="op" id="2004846">,</span>&nbsp;<span class="string" id="2004848">&#34;unexpected&nbsp;end&nbsp;of&nbsp;DWARF&nbsp;entries&#34;</span><span class="op" id="2004881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004887">return</span>&nbsp;<span class="ident" id="2004894">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004901">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004906">if</span>&nbsp;<span class="ident" id="2004909">kid</span><span class="op" id="2004912">.</span><span class="ident" id="2004913">Tag</span>&nbsp;<span class="op" id="2004917">==</span>&nbsp;<span class="num" id="2004920">0</span>&nbsp;<span class="op" id="2004922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004928">if</span>&nbsp;<span class="ident" id="2004931">nextDepth</span>&nbsp;<span class="op" id="2004941">&gt;</span>&nbsp;<span class="num" id="2004943">0</span>&nbsp;<span class="op" id="2004945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2004952">nextDepth</span><span class="op" id="2004961">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004969">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2004982">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2004988">return</span>&nbsp;<span class="ident" id="2004995">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005007">if</span>&nbsp;<span class="ident" id="2005010">kid</span><span class="op" id="2005013">.</span><span class="ident" id="2005014">Children</span>&nbsp;<span class="op" id="2005023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005029">nextDepth</span><span class="op" id="2005038">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005044">}</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005049">if</span>&nbsp;<span class="ident" id="2005052">nextDepth</span>&nbsp;<span class="op" id="2005062">&gt;</span>&nbsp;<span class="num" id="2005064">0</span>&nbsp;<span class="op" id="2005066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005072">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005089">return</span>&nbsp;<span class="ident" id="2005096">kid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005102">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005109">//&nbsp;Get&nbsp;Type&nbsp;referred&nbsp;to&nbsp;by&nbsp;Entry&#39;s&nbsp;AttrType&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005161">//&nbsp;Set&nbsp;err&nbsp;if&nbsp;error&nbsp;happens.&nbsp;&nbsp;Not&nbsp;having&nbsp;a&nbsp;type&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005223">typeOf</span>&nbsp;<span class="op" id="2005230">:=</span>&nbsp;<span class="keyword" id="2005233">func</span><span class="op" id="2005237">(</span><span class="ident" id="2005238">e</span>&nbsp;<span class="op" id="2005240">*</span><span class="ident" id="2005241">Entry</span><span class="op" id="2005246">)</span>&nbsp;<span class="ident" id="2005248">Type</span>&nbsp;<span class="op" id="2005253">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005257">tval</span>&nbsp;<span class="op" id="2005262">:=</span>&nbsp;<span class="ident" id="2005265">e</span><span class="op" id="2005266">.</span><span class="ident" id="2005267">Val</span><span class="op" id="2005270">(</span><span class="ident" id="2005271">AttrType</span><span class="op" id="2005279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005283">var</span>&nbsp;<span class="ident" id="2005287">t</span>&nbsp;<span class="ident" id="2005289">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005296">switch</span>&nbsp;<span class="ident" id="2005303">toff</span>&nbsp;<span class="op" id="2005308">:=</span>&nbsp;<span class="ident" id="2005311">tval</span><span class="op" id="2005315">.</span><span class="op" id="2005316">(</span><span class="keyword" id="2005317">type</span><span class="op" id="2005321">)</span>&nbsp;<span class="op" id="2005323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005327">case</span>&nbsp;<span class="ident" id="2005332">Offset</span><span class="op" id="2005338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005343">if</span>&nbsp;<span class="ident" id="2005346">t</span><span class="op" id="2005347">,</span>&nbsp;<span class="ident" id="2005349">err</span>&nbsp;<span class="op" id="2005353">=</span>&nbsp;<span class="ident" id="2005355">d</span><span class="op" id="2005356">.</span><span class="ident" id="2005357">readType</span><span class="op" id="2005365">(</span><span class="ident" id="2005366">name</span><span class="op" id="2005370">,</span>&nbsp;<span class="ident" id="2005372">r</span><span class="op" id="2005373">.</span><span class="ident" id="2005374">clone</span><span class="op" id="2005379">(</span><span class="op" id="2005380">)</span><span class="op" id="2005381">,</span>&nbsp;<span class="ident" id="2005383">toff</span><span class="op" id="2005387">,</span>&nbsp;<span class="ident" id="2005389">typeCache</span><span class="op" id="2005398">)</span><span class="op" id="2005399">;</span>&nbsp;<span class="ident" id="2005401">err</span>&nbsp;<span class="op" id="2005405">!=</span>&nbsp;<span class="ident" id="2005408">nil</span>&nbsp;<span class="op" id="2005412">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005418">return</span>&nbsp;<span class="ident" id="2005425">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005436">case</span>&nbsp;<span class="ident" id="2005441">uint64</span><span class="op" id="2005447">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005452">if</span>&nbsp;<span class="ident" id="2005455">t</span><span class="op" id="2005456">,</span>&nbsp;<span class="ident" id="2005458">err</span>&nbsp;<span class="op" id="2005462">=</span>&nbsp;<span class="ident" id="2005464">d</span><span class="op" id="2005465">.</span><span class="ident" id="2005466">sigToType</span><span class="op" id="2005475">(</span><span class="ident" id="2005476">toff</span><span class="op" id="2005480">)</span><span class="op" id="2005481">;</span>&nbsp;<span class="ident" id="2005483">err</span>&nbsp;<span class="op" id="2005487">!=</span>&nbsp;<span class="ident" id="2005490">nil</span>&nbsp;<span class="op" id="2005494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005500">return</span>&nbsp;<span class="ident" id="2005507">nil</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005518">default</span><span class="op" id="2005525">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005530">//&nbsp;It&nbsp;appears&nbsp;that&nbsp;no&nbsp;Type&nbsp;means&nbsp;&#34;void&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005574">return</span>&nbsp;<span class="builtinfunc" id="2005581">new</span><span class="op" id="2005584">(</span><span class="ident" id="2005585">VoidType</span><span class="op" id="2005593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005597">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005601">return</span>&nbsp;<span class="ident" id="2005608">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2005611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005615">switch</span>&nbsp;<span class="ident" id="2005622">e</span><span class="op" id="2005623">.</span><span class="ident" id="2005624">Tag</span>&nbsp;<span class="op" id="2005628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2005631">case</span>&nbsp;<span class="ident" id="2005636">TagArrayType</span><span class="op" id="2005648">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005652">//&nbsp;Multi-dimensional&nbsp;array.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.4)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005700">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005717">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:subtype&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005750">//&nbsp;&nbsp;&nbsp;&nbsp;AttrStrideSize:&nbsp;size&nbsp;in&nbsp;bits&nbsp;of&nbsp;each&nbsp;element&nbsp;of&nbsp;the&nbsp;array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005813">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;size&nbsp;of&nbsp;entire&nbsp;array</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005853">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005868">//&nbsp;&nbsp;&nbsp;&nbsp;TagSubrangeType&nbsp;or&nbsp;TagEnumerationType&nbsp;giving&nbsp;one&nbsp;dimension.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2005933">//&nbsp;&nbsp;&nbsp;&nbsp;dimensions&nbsp;are&nbsp;in&nbsp;left&nbsp;to&nbsp;right&nbsp;order.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005977">t</span>&nbsp;<span class="op" id="2005979">:=</span>&nbsp;<span class="builtinfunc" id="2005982">new</span><span class="op" id="2005985">(</span><span class="ident" id="2005986">ArrayType</span><span class="op" id="2005995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2005999">typ</span>&nbsp;<span class="op" id="2006003">=</span>&nbsp;<span class="ident" id="2006005">t</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006009">typeCache</span><span class="op" id="2006018">[</span><span class="ident" id="2006019">off</span><span class="op" id="2006022">]</span>&nbsp;<span class="op" id="2006024">=</span>&nbsp;<span class="ident" id="2006026">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006030">if</span>&nbsp;<span class="ident" id="2006033">t</span><span class="op" id="2006034">.</span><span class="ident" id="2006035">Type</span>&nbsp;<span class="op" id="2006040">=</span>&nbsp;<span class="ident" id="2006042">typeOf</span><span class="op" id="2006048">(</span><span class="ident" id="2006049">e</span><span class="op" id="2006050">)</span><span class="op" id="2006051">;</span>&nbsp;<span class="ident" id="2006053">err</span>&nbsp;<span class="op" id="2006057">!=</span>&nbsp;<span class="ident" id="2006060">nil</span>&nbsp;<span class="op" id="2006064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006069">goto</span>&nbsp;<span class="ident" id="2006074">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006086">t</span><span class="op" id="2006087">.</span><span class="ident" id="2006088">StrideBitSize</span><span class="op" id="2006101">,</span>&nbsp;<span class="ident" id="2006103">_</span>&nbsp;<span class="op" id="2006105">=</span>&nbsp;<span class="ident" id="2006107">e</span><span class="op" id="2006108">.</span><span class="ident" id="2006109">Val</span><span class="op" id="2006112">(</span><span class="ident" id="2006113">AttrStrideSize</span><span class="op" id="2006127">)</span><span class="op" id="2006128">.</span><span class="op" id="2006129">(</span><span class="ident" id="2006130">int64</span><span class="op" id="2006135">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2006140">//&nbsp;Accumulate&nbsp;dimensions,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006168">var</span>&nbsp;<span class="ident" id="2006172">dims</span>&nbsp;<span class="op" id="2006177">[</span><span class="op" id="2006178">]</span><span class="ident" id="2006179">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006187">for</span>&nbsp;<span class="ident" id="2006191">kid</span>&nbsp;<span class="op" id="2006195">:=</span>&nbsp;<span class="ident" id="2006198">next</span><span class="op" id="2006202">(</span><span class="op" id="2006203">)</span><span class="op" id="2006204">;</span>&nbsp;<span class="ident" id="2006206">kid</span>&nbsp;<span class="op" id="2006210">!=</span>&nbsp;<span class="ident" id="2006213">nil</span><span class="op" id="2006216">;</span>&nbsp;<span class="ident" id="2006218">kid</span>&nbsp;<span class="op" id="2006222">=</span>&nbsp;<span class="ident" id="2006224">next</span><span class="op" id="2006228">(</span><span class="op" id="2006229">)</span>&nbsp;<span class="op" id="2006231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2006236">//&nbsp;TODO(rsc):&nbsp;Can&nbsp;also&nbsp;be&nbsp;TagEnumerationType</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2006284">//&nbsp;but&nbsp;haven&#39;t&nbsp;seen&nbsp;that&nbsp;in&nbsp;the&nbsp;wild&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006329">switch</span>&nbsp;<span class="ident" id="2006336">kid</span><span class="op" id="2006339">.</span><span class="ident" id="2006340">Tag</span>&nbsp;<span class="op" id="2006344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006349">case</span>&nbsp;<span class="ident" id="2006354">TagSubrangeType</span><span class="op" id="2006369">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006375">count</span><span class="op" id="2006380">,</span>&nbsp;<span class="ident" id="2006382">ok</span>&nbsp;<span class="op" id="2006385">:=</span>&nbsp;<span class="ident" id="2006388">kid</span><span class="op" id="2006391">.</span><span class="ident" id="2006392">Val</span><span class="op" id="2006395">(</span><span class="ident" id="2006396">AttrCount</span><span class="op" id="2006405">)</span><span class="op" id="2006406">.</span><span class="op" id="2006407">(</span><span class="ident" id="2006408">int64</span><span class="op" id="2006413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006419">if</span>&nbsp;<span class="op" id="2006422">!</span><span class="ident" id="2006423">ok</span>&nbsp;<span class="op" id="2006426">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2006433">//&nbsp;Old&nbsp;binaries&nbsp;may&nbsp;have&nbsp;an&nbsp;upper&nbsp;bound&nbsp;instead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006487">count</span><span class="op" id="2006492">,</span>&nbsp;<span class="ident" id="2006494">ok</span>&nbsp;<span class="op" id="2006497">=</span>&nbsp;<span class="ident" id="2006499">kid</span><span class="op" id="2006502">.</span><span class="ident" id="2006503">Val</span><span class="op" id="2006506">(</span><span class="ident" id="2006507">AttrUpperBound</span><span class="op" id="2006521">)</span><span class="op" id="2006522">.</span><span class="op" id="2006523">(</span><span class="ident" id="2006524">int64</span><span class="op" id="2006529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006536">if</span>&nbsp;<span class="ident" id="2006539">ok</span>&nbsp;<span class="op" id="2006542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006550">count</span><span class="op" id="2006555">++</span>&nbsp;<span class="comment" id="2006558">//&nbsp;Length&nbsp;is&nbsp;one&nbsp;more&nbsp;than&nbsp;upper&nbsp;bound.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006603">}</span>&nbsp;<span class="keyword" id="2006605">else</span>&nbsp;<span class="keyword" id="2006610">if</span>&nbsp;<span class="builtinfunc" id="2006613">len</span><span class="op" id="2006616">(</span><span class="ident" id="2006617">dims</span><span class="op" id="2006621">)</span>&nbsp;<span class="op" id="2006623">==</span>&nbsp;<span class="num" id="2006626">0</span>&nbsp;<span class="op" id="2006628">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006636">count</span>&nbsp;<span class="op" id="2006642">=</span>&nbsp;<span class="op" id="2006644">-</span><span class="num" id="2006645">1</span>&nbsp;<span class="comment" id="2006647">//&nbsp;As&nbsp;in&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006678">dims</span>&nbsp;<span class="op" id="2006683">=</span>&nbsp;<span class="builtinfunc" id="2006685">append</span><span class="op" id="2006691">(</span><span class="ident" id="2006692">dims</span><span class="op" id="2006696">,</span>&nbsp;<span class="ident" id="2006698">count</span><span class="op" id="2006703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006708">case</span>&nbsp;<span class="ident" id="2006713">TagEnumerationType</span><span class="op" id="2006731">:</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006737">err</span>&nbsp;<span class="op" id="2006741">=</span>&nbsp;<span class="ident" id="2006743">DecodeError</span><span class="op" id="2006754">{</span><span class="ident" id="2006755">name</span><span class="op" id="2006759">,</span>&nbsp;<span class="ident" id="2006761">kid</span><span class="op" id="2006764">.</span><span class="ident" id="2006765">Offset</span><span class="op" id="2006771">,</span>&nbsp;<span class="string" id="2006773">&#34;cannot&nbsp;handle&nbsp;enumeration&nbsp;type&nbsp;as&nbsp;array&nbsp;bound&#34;</span><span class="op" id="2006820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006826">goto</span>&nbsp;<span class="ident" id="2006831">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006848">if</span>&nbsp;<span class="builtinfunc" id="2006851">len</span><span class="op" id="2006854">(</span><span class="ident" id="2006855">dims</span><span class="op" id="2006859">)</span>&nbsp;<span class="op" id="2006861">==</span>&nbsp;<span class="num" id="2006864">0</span>&nbsp;<span class="op" id="2006866">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2006871">//&nbsp;LLVM&nbsp;generates&nbsp;this&nbsp;for&nbsp;x[].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006906">dims</span>&nbsp;<span class="op" id="2006911">=</span>&nbsp;<span class="op" id="2006913">[</span><span class="op" id="2006914">]</span><span class="ident" id="2006915">int64</span><span class="op" id="2006920">{</span><span class="op" id="2006921">-</span><span class="num" id="2006922">1</span><span class="op" id="2006923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2006927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006932">t</span><span class="op" id="2006933">.</span><span class="ident" id="2006934">Count</span>&nbsp;<span class="op" id="2006940">=</span>&nbsp;<span class="ident" id="2006942">dims</span><span class="op" id="2006946">[</span><span class="num" id="2006947">0</span><span class="op" id="2006948">]</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2006952">for</span>&nbsp;<span class="ident" id="2006956">i</span>&nbsp;<span class="op" id="2006958">:=</span>&nbsp;<span class="builtinfunc" id="2006961">len</span><span class="op" id="2006964">(</span><span class="ident" id="2006965">dims</span><span class="op" id="2006969">)</span>&nbsp;<span class="op" id="2006971">-</span>&nbsp;<span class="num" id="2006973">1</span><span class="op" id="2006974">;</span>&nbsp;<span class="ident" id="2006976">i</span>&nbsp;<span class="op" id="2006978">&gt;=</span>&nbsp;<span class="num" id="2006981">1</span><span class="op" id="2006982">;</span>&nbsp;<span class="ident" id="2006984">i</span><span class="op" id="2006985">--</span>&nbsp;<span class="op" id="2006988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2006993">t</span><span class="op" id="2006994">.</span><span class="ident" id="2006995">Type</span>&nbsp;<span class="op" id="2007000">=</span>&nbsp;<span class="op" id="2007002">&amp;</span><span class="ident" id="2007003">ArrayType</span><span class="op" id="2007012">{</span><span class="ident" id="2007013">Type</span><span class="op" id="2007017">:</span>&nbsp;<span class="ident" id="2007019">t</span><span class="op" id="2007020">.</span><span class="ident" id="2007021">Type</span><span class="op" id="2007025">,</span>&nbsp;<span class="ident" id="2007027">Count</span><span class="op" id="2007032">:</span>&nbsp;<span class="ident" id="2007034">dims</span><span class="op" id="2007038">[</span><span class="ident" id="2007039">i</span><span class="op" id="2007040">]</span><span class="op" id="2007041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2007045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007049">case</span>&nbsp;<span class="ident" id="2007054">TagBaseType</span><span class="op" id="2007065">:</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007069">//&nbsp;Basic&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.1)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007104">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007121">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;base&nbsp;type&nbsp;in&nbsp;programming&nbsp;language&nbsp;of&nbsp;the&nbsp;compilation&nbsp;unit&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007213">//&nbsp;&nbsp;&nbsp;&nbsp;AttrEncoding:&nbsp;encoding&nbsp;value&nbsp;for&nbsp;type&nbsp;(encFloat&nbsp;etc)&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007282">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes&nbsp;[required]</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007334">//&nbsp;&nbsp;&nbsp;&nbsp;AttrBitOffset:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;size&nbsp;in&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007387">//&nbsp;&nbsp;&nbsp;&nbsp;AttrBitSize:&nbsp;for&nbsp;sub-byte&nbsp;types,&nbsp;bit&nbsp;offset&nbsp;of&nbsp;high&nbsp;order&nbsp;bit&nbsp;in&nbsp;the&nbsp;AttrByteSize&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007480">name</span><span class="op" id="2007484">,</span>&nbsp;<span class="ident" id="2007486">_</span>&nbsp;<span class="op" id="2007488">:=</span>&nbsp;<span class="ident" id="2007491">e</span><span class="op" id="2007492">.</span><span class="ident" id="2007493">Val</span><span class="op" id="2007496">(</span><span class="ident" id="2007497">AttrName</span><span class="op" id="2007505">)</span><span class="op" id="2007506">.</span><span class="op" id="2007507">(</span><span class="builtintype" id="2007508">string</span><span class="op" id="2007514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007518">enc</span><span class="op" id="2007521">,</span>&nbsp;<span class="ident" id="2007523">ok</span>&nbsp;<span class="op" id="2007526">:=</span>&nbsp;<span class="ident" id="2007529">e</span><span class="op" id="2007530">.</span><span class="ident" id="2007531">Val</span><span class="op" id="2007534">(</span><span class="ident" id="2007535">AttrEncoding</span><span class="op" id="2007547">)</span><span class="op" id="2007548">.</span><span class="op" id="2007549">(</span><span class="ident" id="2007550">int64</span><span class="op" id="2007555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007559">if</span>&nbsp;<span class="op" id="2007562">!</span><span class="ident" id="2007563">ok</span>&nbsp;<span class="op" id="2007566">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007571">err</span>&nbsp;<span class="op" id="2007575">=</span>&nbsp;<span class="ident" id="2007577">DecodeError</span><span class="op" id="2007588">{</span><span class="ident" id="2007589">name</span><span class="op" id="2007593">,</span>&nbsp;<span class="ident" id="2007595">e</span><span class="op" id="2007596">.</span><span class="ident" id="2007597">Offset</span><span class="op" id="2007603">,</span>&nbsp;<span class="string" id="2007605">&#34;missing&nbsp;encoding&nbsp;attribute&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="2007639">+</span>&nbsp;<span class="ident" id="2007641">name</span><span class="op" id="2007645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007650">goto</span>&nbsp;<span class="ident" id="2007655">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2007663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007667">switch</span>&nbsp;<span class="ident" id="2007674">enc</span>&nbsp;<span class="op" id="2007678">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007682">default</span><span class="op" id="2007689">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007694">err</span>&nbsp;<span class="op" id="2007698">=</span>&nbsp;<span class="ident" id="2007700">DecodeError</span><span class="op" id="2007711">{</span><span class="ident" id="2007712">name</span><span class="op" id="2007716">,</span>&nbsp;<span class="ident" id="2007718">e</span><span class="op" id="2007719">.</span><span class="ident" id="2007720">Offset</span><span class="op" id="2007726">,</span>&nbsp;<span class="string" id="2007728">&#34;unrecognized&nbsp;encoding&nbsp;attribute&nbsp;value&#34;</span><span class="op" id="2007767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007772">goto</span>&nbsp;<span class="ident" id="2007777">Error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007786">case</span>&nbsp;<span class="ident" id="2007791">encAddress</span><span class="op" id="2007801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007806">typ</span>&nbsp;<span class="op" id="2007810">=</span>&nbsp;<span class="builtinfunc" id="2007812">new</span><span class="op" id="2007815">(</span><span class="ident" id="2007816">AddrType</span><span class="op" id="2007824">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007828">case</span>&nbsp;<span class="ident" id="2007833">encBoolean</span><span class="op" id="2007843">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007848">typ</span>&nbsp;<span class="op" id="2007852">=</span>&nbsp;<span class="builtinfunc" id="2007854">new</span><span class="op" id="2007857">(</span><span class="ident" id="2007858">BoolType</span><span class="op" id="2007866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007870">case</span>&nbsp;<span class="ident" id="2007875">encComplexFloat</span><span class="op" id="2007890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2007895">typ</span>&nbsp;<span class="op" id="2007899">=</span>&nbsp;<span class="builtinfunc" id="2007901">new</span><span class="op" id="2007904">(</span><span class="ident" id="2007905">ComplexType</span><span class="op" id="2007916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2007921">if</span>&nbsp;<span class="ident" id="2007924">name</span>&nbsp;<span class="op" id="2007929">==</span>&nbsp;<span class="string" id="2007932">&#34;complex&#34;</span>&nbsp;<span class="op" id="2007942">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2007948">//&nbsp;clang&nbsp;writes&nbsp;out&nbsp;&#39;complex&#39;&nbsp;instead&nbsp;of&nbsp;&#39;complex&nbsp;float&#39;&nbsp;or&nbsp;&#39;complex&nbsp;double&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008030">//&nbsp;clang&nbsp;also&nbsp;writes&nbsp;out&nbsp;a&nbsp;byte&nbsp;size&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;to&nbsp;distinguish.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008103">//&nbsp;See&nbsp;issue&nbsp;8694.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008126">switch</span>&nbsp;<span class="ident" id="2008133">byteSize</span><span class="op" id="2008141">,</span>&nbsp;<span class="ident" id="2008143">_</span>&nbsp;<span class="op" id="2008145">:=</span>&nbsp;<span class="ident" id="2008148">e</span><span class="op" id="2008149">.</span><span class="ident" id="2008150">Val</span><span class="op" id="2008153">(</span><span class="ident" id="2008154">AttrByteSize</span><span class="op" id="2008166">)</span><span class="op" id="2008167">.</span><span class="op" id="2008168">(</span><span class="ident" id="2008169">int64</span><span class="op" id="2008174">)</span><span class="op" id="2008175">;</span>&nbsp;<span class="ident" id="2008177">byteSize</span>&nbsp;<span class="op" id="2008186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008192">case</span>&nbsp;<span class="num" id="2008197">8</span><span class="op" id="2008198">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008205">name</span>&nbsp;<span class="op" id="2008210">=</span>&nbsp;<span class="string" id="2008212">&#34;complex&nbsp;float&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008232">case</span>&nbsp;<span class="num" id="2008237">16</span><span class="op" id="2008239">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008246">name</span>&nbsp;<span class="op" id="2008251">=</span>&nbsp;<span class="string" id="2008253">&#34;complex&nbsp;double&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2008274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2008279">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008283">case</span>&nbsp;<span class="ident" id="2008288">encFloat</span><span class="op" id="2008296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008301">typ</span>&nbsp;<span class="op" id="2008305">=</span>&nbsp;<span class="builtinfunc" id="2008307">new</span><span class="op" id="2008310">(</span><span class="ident" id="2008311">FloatType</span><span class="op" id="2008320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008324">case</span>&nbsp;<span class="ident" id="2008329">encSigned</span><span class="op" id="2008338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008343">typ</span>&nbsp;<span class="op" id="2008347">=</span>&nbsp;<span class="builtinfunc" id="2008349">new</span><span class="op" id="2008352">(</span><span class="ident" id="2008353">IntType</span><span class="op" id="2008360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008364">case</span>&nbsp;<span class="ident" id="2008369">encUnsigned</span><span class="op" id="2008380">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008385">typ</span>&nbsp;<span class="op" id="2008389">=</span>&nbsp;<span class="builtinfunc" id="2008391">new</span><span class="op" id="2008394">(</span><span class="ident" id="2008395">UintType</span><span class="op" id="2008403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008407">case</span>&nbsp;<span class="ident" id="2008412">encSignedChar</span><span class="op" id="2008425">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008430">typ</span>&nbsp;<span class="op" id="2008434">=</span>&nbsp;<span class="builtinfunc" id="2008436">new</span><span class="op" id="2008439">(</span><span class="ident" id="2008440">CharType</span><span class="op" id="2008448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008452">case</span>&nbsp;<span class="ident" id="2008457">encUnsignedChar</span><span class="op" id="2008472">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008477">typ</span>&nbsp;<span class="op" id="2008481">=</span>&nbsp;<span class="builtinfunc" id="2008483">new</span><span class="op" id="2008486">(</span><span class="ident" id="2008487">UcharType</span><span class="op" id="2008496">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2008500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008504">typeCache</span><span class="op" id="2008513">[</span><span class="ident" id="2008514">off</span><span class="op" id="2008517">]</span>&nbsp;<span class="op" id="2008519">=</span>&nbsp;<span class="ident" id="2008521">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008527">t</span>&nbsp;<span class="op" id="2008529">:=</span>&nbsp;<span class="ident" id="2008532">typ</span><span class="op" id="2008535">.</span><span class="op" id="2008536">(</span><span class="keyword" id="2008537">interface</span>&nbsp;<span class="op" id="2008547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008552">Basic</span><span class="op" id="2008557">(</span><span class="op" id="2008558">)</span>&nbsp;<span class="op" id="2008560">*</span><span class="ident" id="2008561">BasicType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2008573">}</span><span class="op" id="2008574">)</span><span class="op" id="2008575">.</span><span class="ident" id="2008576">Basic</span><span class="op" id="2008581">(</span><span class="op" id="2008582">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008586">t</span><span class="op" id="2008587">.</span><span class="ident" id="2008588">Name</span>&nbsp;<span class="op" id="2008593">=</span>&nbsp;<span class="ident" id="2008595">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008602">t</span><span class="op" id="2008603">.</span><span class="ident" id="2008604">BitSize</span><span class="op" id="2008611">,</span>&nbsp;<span class="ident" id="2008613">_</span>&nbsp;<span class="op" id="2008615">=</span>&nbsp;<span class="ident" id="2008617">e</span><span class="op" id="2008618">.</span><span class="ident" id="2008619">Val</span><span class="op" id="2008622">(</span><span class="ident" id="2008623">AttrBitSize</span><span class="op" id="2008634">)</span><span class="op" id="2008635">.</span><span class="op" id="2008636">(</span><span class="ident" id="2008637">int64</span><span class="op" id="2008642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2008646">t</span><span class="op" id="2008647">.</span><span class="ident" id="2008648">BitOffset</span><span class="op" id="2008657">,</span>&nbsp;<span class="ident" id="2008659">_</span>&nbsp;<span class="op" id="2008661">=</span>&nbsp;<span class="ident" id="2008663">e</span><span class="op" id="2008664">.</span><span class="ident" id="2008665">Val</span><span class="op" id="2008668">(</span><span class="ident" id="2008669">AttrBitOffset</span><span class="op" id="2008682">)</span><span class="op" id="2008683">.</span><span class="op" id="2008684">(</span><span class="ident" id="2008685">int64</span><span class="op" id="2008690">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2008694">case</span>&nbsp;<span class="ident" id="2008699">TagClassType</span><span class="op" id="2008711">,</span>&nbsp;<span class="ident" id="2008713">TagStructType</span><span class="op" id="2008726">,</span>&nbsp;<span class="ident" id="2008728">TagUnionType</span><span class="op" id="2008740">:</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008744">//&nbsp;Structure,&nbsp;union,&nbsp;or&nbsp;class&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.5)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008800">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008817">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;struct,&nbsp;union,&nbsp;or&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008864">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;byte&nbsp;size&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008904">//&nbsp;&nbsp;&nbsp;&nbsp;AttrDeclaration:&nbsp;if&nbsp;true,&nbsp;struct/union/class&nbsp;is&nbsp;incomplete</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008968">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2008983">//&nbsp;&nbsp;&nbsp;&nbsp;TagMember&nbsp;to&nbsp;describe&nbsp;one&nbsp;member.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2009022">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2009064">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;of&nbsp;member&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2009106">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2009140">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrBitOffset:&nbsp;bit&nbsp;offset&nbsp;within&nbsp;bytes&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2009200">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrBitSize:&nbsp;bit&nbsp;size&nbsp;for&nbsp;bit&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2009243">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrDataMemberLoc:&nbsp;location&nbsp;within&nbsp;struct&nbsp;[required&nbsp;for&nbsp;struct,&nbsp;class]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2009320">//&nbsp;There&nbsp;is&nbsp;much&nbsp;more&nbsp;to&nbsp;handle&nbsp;C++,&nbsp;all&nbsp;ignored&nbsp;for&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009380">t</span>&nbsp;<span class="op" id="2009382">:=</span>&nbsp;<span class="builtinfunc" id="2009385">new</span><span class="op" id="2009388">(</span><span class="ident" id="2009389">StructType</span><span class="op" id="2009399">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009403">typ</span>&nbsp;<span class="op" id="2009407">=</span>&nbsp;<span class="ident" id="2009409">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009413">typeCache</span><span class="op" id="2009422">[</span><span class="ident" id="2009423">off</span><span class="op" id="2009426">]</span>&nbsp;<span class="op" id="2009428">=</span>&nbsp;<span class="ident" id="2009430">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009434">switch</span>&nbsp;<span class="ident" id="2009441">e</span><span class="op" id="2009442">.</span><span class="ident" id="2009443">Tag</span>&nbsp;<span class="op" id="2009447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009451">case</span>&nbsp;<span class="ident" id="2009456">TagClassType</span><span class="op" id="2009468">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009473">t</span><span class="op" id="2009474">.</span><span class="ident" id="2009475">Kind</span>&nbsp;<span class="op" id="2009480">=</span>&nbsp;<span class="string" id="2009482">&#34;class&#34;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009492">case</span>&nbsp;<span class="ident" id="2009497">TagStructType</span><span class="op" id="2009510">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009515">t</span><span class="op" id="2009516">.</span><span class="ident" id="2009517">Kind</span>&nbsp;<span class="op" id="2009522">=</span>&nbsp;<span class="string" id="2009524">&#34;struct&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009535">case</span>&nbsp;<span class="ident" id="2009540">TagUnionType</span><span class="op" id="2009552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009557">t</span><span class="op" id="2009558">.</span><span class="ident" id="2009559">Kind</span>&nbsp;<span class="op" id="2009564">=</span>&nbsp;<span class="string" id="2009566">&#34;union&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2009576">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009580">t</span><span class="op" id="2009581">.</span><span class="ident" id="2009582">StructName</span><span class="op" id="2009592">,</span>&nbsp;<span class="ident" id="2009594">_</span>&nbsp;<span class="op" id="2009596">=</span>&nbsp;<span class="ident" id="2009598">e</span><span class="op" id="2009599">.</span><span class="ident" id="2009600">Val</span><span class="op" id="2009603">(</span><span class="ident" id="2009604">AttrName</span><span class="op" id="2009612">)</span><span class="op" id="2009613">.</span><span class="op" id="2009614">(</span><span class="builtintype" id="2009615">string</span><span class="op" id="2009621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009625">t</span><span class="op" id="2009626">.</span><span class="ident" id="2009627">Incomplete</span>&nbsp;<span class="op" id="2009638">=</span>&nbsp;<span class="ident" id="2009640">e</span><span class="op" id="2009641">.</span><span class="ident" id="2009642">Val</span><span class="op" id="2009645">(</span><span class="ident" id="2009646">AttrDeclaration</span><span class="op" id="2009661">)</span>&nbsp;<span class="op" id="2009663">!=</span>&nbsp;<span class="ident" id="2009666">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009672">t</span><span class="op" id="2009673">.</span><span class="ident" id="2009674">Field</span>&nbsp;<span class="op" id="2009680">=</span>&nbsp;<span class="builtinfunc" id="2009682">make</span><span class="op" id="2009686">(</span><span class="op" id="2009687">[</span><span class="op" id="2009688">]</span><span class="op" id="2009689">*</span><span class="ident" id="2009690">StructField</span><span class="op" id="2009701">,</span>&nbsp;<span class="num" id="2009703">0</span><span class="op" id="2009704">,</span>&nbsp;<span class="num" id="2009706">8</span><span class="op" id="2009707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009711">var</span>&nbsp;<span class="ident" id="2009715">lastFieldType</span>&nbsp;<span class="op" id="2009729">*</span><span class="ident" id="2009730">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009737">var</span>&nbsp;<span class="ident" id="2009741">lastFieldBitOffset</span>&nbsp;<span class="ident" id="2009760">int64</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009768">for</span>&nbsp;<span class="ident" id="2009772">kid</span>&nbsp;<span class="op" id="2009776">:=</span>&nbsp;<span class="ident" id="2009779">next</span><span class="op" id="2009783">(</span><span class="op" id="2009784">)</span><span class="op" id="2009785">;</span>&nbsp;<span class="ident" id="2009787">kid</span>&nbsp;<span class="op" id="2009791">!=</span>&nbsp;<span class="ident" id="2009794">nil</span><span class="op" id="2009797">;</span>&nbsp;<span class="ident" id="2009799">kid</span>&nbsp;<span class="op" id="2009803">=</span>&nbsp;<span class="ident" id="2009805">next</span><span class="op" id="2009809">(</span><span class="op" id="2009810">)</span>&nbsp;<span class="op" id="2009812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009817">if</span>&nbsp;<span class="ident" id="2009820">kid</span><span class="op" id="2009823">.</span><span class="ident" id="2009824">Tag</span>&nbsp;<span class="op" id="2009828">==</span>&nbsp;<span class="ident" id="2009831">TagMember</span>&nbsp;<span class="op" id="2009841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2009847">f</span>&nbsp;<span class="op" id="2009849">:=</span>&nbsp;<span class="builtinfunc" id="2009852">new</span><span class="op" id="2009855">(</span><span class="ident" id="2009856">StructField</span><span class="op" id="2009867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009873">if</span>&nbsp;<span class="ident" id="2009876">f</span><span class="op" id="2009877">.</span><span class="ident" id="2009878">Type</span>&nbsp;<span class="op" id="2009883">=</span>&nbsp;<span class="ident" id="2009885">typeOf</span><span class="op" id="2009891">(</span><span class="ident" id="2009892">kid</span><span class="op" id="2009895">)</span><span class="op" id="2009896">;</span>&nbsp;<span class="ident" id="2009898">err</span>&nbsp;<span class="op" id="2009902">!=</span>&nbsp;<span class="ident" id="2009905">nil</span>&nbsp;<span class="op" id="2009909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009916">goto</span>&nbsp;<span class="ident" id="2009921">Error</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2009931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009937">switch</span>&nbsp;<span class="ident" id="2009944">loc</span>&nbsp;<span class="op" id="2009948">:=</span>&nbsp;<span class="ident" id="2009951">kid</span><span class="op" id="2009954">.</span><span class="ident" id="2009955">Val</span><span class="op" id="2009958">(</span><span class="ident" id="2009959">AttrDataMemberLoc</span><span class="op" id="2009976">)</span><span class="op" id="2009977">.</span><span class="op" id="2009978">(</span><span class="keyword" id="2009979">type</span><span class="op" id="2009983">)</span>&nbsp;<span class="op" id="2009985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2009991">case</span>&nbsp;<span class="op" id="2009996">[</span><span class="op" id="2009997">]</span><span class="builtintype" id="2009998">byte</span><span class="op" id="2010002">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2010009">//&nbsp;TODO:&nbsp;Should&nbsp;have&nbsp;original&nbsp;compilation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2010056">//&nbsp;unit&nbsp;here,&nbsp;not&nbsp;unknownFormat.</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010094">b</span>&nbsp;<span class="op" id="2010096">:=</span>&nbsp;<span class="ident" id="2010099">makeBuf</span><span class="op" id="2010106">(</span><span class="ident" id="2010107">d</span><span class="op" id="2010108">,</span>&nbsp;<span class="ident" id="2010110">unknownFormat</span><span class="op" id="2010123">{</span><span class="op" id="2010124">}</span><span class="op" id="2010125">,</span>&nbsp;<span class="string" id="2010127">&#34;location&#34;</span><span class="op" id="2010137">,</span>&nbsp;<span class="num" id="2010139">0</span><span class="op" id="2010140">,</span>&nbsp;<span class="ident" id="2010142">loc</span><span class="op" id="2010145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2010152">if</span>&nbsp;<span class="ident" id="2010155">b</span><span class="op" id="2010156">.</span><span class="builtintype" id="2010157">uint8</span><span class="op" id="2010162">(</span><span class="op" id="2010163">)</span>&nbsp;<span class="op" id="2010165">!=</span>&nbsp;<span class="ident" id="2010168">opPlusUconst</span>&nbsp;<span class="op" id="2010181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010189">err</span>&nbsp;<span class="op" id="2010193">=</span>&nbsp;<span class="ident" id="2010195">DecodeError</span><span class="op" id="2010206">{</span><span class="ident" id="2010207">name</span><span class="op" id="2010211">,</span>&nbsp;<span class="ident" id="2010213">kid</span><span class="op" id="2010216">.</span><span class="ident" id="2010217">Offset</span><span class="op" id="2010223">,</span>&nbsp;<span class="string" id="2010225">&#34;unexpected&nbsp;opcode&#34;</span><span class="op" id="2010244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2010252">goto</span>&nbsp;<span class="ident" id="2010257">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2010268">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010275">f</span><span class="op" id="2010276">.</span><span class="ident" id="2010277">ByteOffset</span>&nbsp;<span class="op" id="2010288">=</span>&nbsp;<span class="ident" id="2010290">int64</span><span class="op" id="2010295">(</span><span class="ident" id="2010296">b</span><span class="op" id="2010297">.</span><span class="builtintype" id="2010298">uint</span><span class="op" id="2010302">(</span><span class="op" id="2010303">)</span><span class="op" id="2010304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2010311">if</span>&nbsp;<span class="ident" id="2010314">b</span><span class="op" id="2010315">.</span><span class="ident" id="2010316">err</span>&nbsp;<span class="op" id="2010320">!=</span>&nbsp;<span class="ident" id="2010323">nil</span>&nbsp;<span class="op" id="2010327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010335">err</span>&nbsp;<span class="op" id="2010339">=</span>&nbsp;<span class="ident" id="2010341">b</span><span class="op" id="2010342">.</span><span class="ident" id="2010343">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2010353">goto</span>&nbsp;<span class="ident" id="2010358">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2010369">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2010375">case</span>&nbsp;<span class="ident" id="2010380">int64</span><span class="op" id="2010385">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010392">f</span><span class="op" id="2010393">.</span><span class="ident" id="2010394">ByteOffset</span>&nbsp;<span class="op" id="2010405">=</span>&nbsp;<span class="ident" id="2010407">loc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2010415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010422">haveBitOffset</span>&nbsp;<span class="op" id="2010436">:=</span>&nbsp;<span class="builtintype" id="2010439">false</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010449">f</span><span class="op" id="2010450">.</span><span class="ident" id="2010451">Name</span><span class="op" id="2010455">,</span>&nbsp;<span class="ident" id="2010457">_</span>&nbsp;<span class="op" id="2010459">=</span>&nbsp;<span class="ident" id="2010461">kid</span><span class="op" id="2010464">.</span><span class="ident" id="2010465">Val</span><span class="op" id="2010468">(</span><span class="ident" id="2010469">AttrName</span><span class="op" id="2010477">)</span><span class="op" id="2010478">.</span><span class="op" id="2010479">(</span><span class="builtintype" id="2010480">string</span><span class="op" id="2010486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010492">f</span><span class="op" id="2010493">.</span><span class="ident" id="2010494">ByteSize</span><span class="op" id="2010502">,</span>&nbsp;<span class="ident" id="2010504">_</span>&nbsp;<span class="op" id="2010506">=</span>&nbsp;<span class="ident" id="2010508">kid</span><span class="op" id="2010511">.</span><span class="ident" id="2010512">Val</span><span class="op" id="2010515">(</span><span class="ident" id="2010516">AttrByteSize</span><span class="op" id="2010528">)</span><span class="op" id="2010529">.</span><span class="op" id="2010530">(</span><span class="ident" id="2010531">int64</span><span class="op" id="2010536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010542">f</span><span class="op" id="2010543">.</span><span class="ident" id="2010544">BitOffset</span><span class="op" id="2010553">,</span>&nbsp;<span class="ident" id="2010555">haveBitOffset</span>&nbsp;<span class="op" id="2010569">=</span>&nbsp;<span class="ident" id="2010571">kid</span><span class="op" id="2010574">.</span><span class="ident" id="2010575">Val</span><span class="op" id="2010578">(</span><span class="ident" id="2010579">AttrBitOffset</span><span class="op" id="2010592">)</span><span class="op" id="2010593">.</span><span class="op" id="2010594">(</span><span class="ident" id="2010595">int64</span><span class="op" id="2010600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010606">f</span><span class="op" id="2010607">.</span><span class="ident" id="2010608">BitSize</span><span class="op" id="2010615">,</span>&nbsp;<span class="ident" id="2010617">_</span>&nbsp;<span class="op" id="2010619">=</span>&nbsp;<span class="ident" id="2010621">kid</span><span class="op" id="2010624">.</span><span class="ident" id="2010625">Val</span><span class="op" id="2010628">(</span><span class="ident" id="2010629">AttrBitSize</span><span class="op" id="2010640">)</span><span class="op" id="2010641">.</span><span class="op" id="2010642">(</span><span class="ident" id="2010643">int64</span><span class="op" id="2010648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010654">t</span><span class="op" id="2010655">.</span><span class="ident" id="2010656">Field</span>&nbsp;<span class="op" id="2010662">=</span>&nbsp;<span class="builtinfunc" id="2010664">append</span><span class="op" id="2010670">(</span><span class="ident" id="2010671">t</span><span class="op" id="2010672">.</span><span class="ident" id="2010673">Field</span><span class="op" id="2010678">,</span>&nbsp;<span class="ident" id="2010680">f</span><span class="op" id="2010681">)</span><br>
<span class="lineno">525</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010688">bito</span>&nbsp;<span class="op" id="2010693">:=</span>&nbsp;<span class="ident" id="2010696">f</span><span class="op" id="2010697">.</span><span class="ident" id="2010698">BitOffset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2010712">if</span>&nbsp;<span class="op" id="2010715">!</span><span class="ident" id="2010716">haveBitOffset</span>&nbsp;<span class="op" id="2010730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010737">bito</span>&nbsp;<span class="op" id="2010742">=</span>&nbsp;<span class="ident" id="2010744">f</span><span class="op" id="2010745">.</span><span class="ident" id="2010746">ByteOffset</span>&nbsp;<span class="op" id="2010757">*</span>&nbsp;<span class="num" id="2010759">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2010765">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2010771">if</span>&nbsp;<span class="ident" id="2010774">bito</span>&nbsp;<span class="op" id="2010779">==</span>&nbsp;<span class="ident" id="2010782">lastFieldBitOffset</span>&nbsp;<span class="op" id="2010801">&amp;&amp;</span>&nbsp;<span class="ident" id="2010804">t</span><span class="op" id="2010805">.</span><span class="ident" id="2010806">Kind</span>&nbsp;<span class="op" id="2010811">!=</span>&nbsp;<span class="string" id="2010814">&#34;union&#34;</span>&nbsp;<span class="op" id="2010822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2010829">//&nbsp;Last&nbsp;field&nbsp;was&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2010883">//&nbsp;(DWARF&nbsp;writes&nbsp;out&nbsp;0-length&nbsp;arrays&nbsp;as&nbsp;if&nbsp;they&nbsp;were&nbsp;1-length&nbsp;arrays.)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010959">zeroArray</span><span class="op" id="2010968">(</span><span class="ident" id="2010969">lastFieldType</span><span class="op" id="2010982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2010988">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2010994">lastFieldType</span>&nbsp;<span class="op" id="2011008">=</span>&nbsp;<span class="op" id="2011010">&amp;</span><span class="ident" id="2011011">f</span><span class="op" id="2011012">.</span><span class="ident" id="2011013">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011022">lastFieldBitOffset</span>&nbsp;<span class="op" id="2011041">=</span>&nbsp;<span class="ident" id="2011043">bito</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2011051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2011055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011059">if</span>&nbsp;<span class="ident" id="2011062">t</span><span class="op" id="2011063">.</span><span class="ident" id="2011064">Kind</span>&nbsp;<span class="op" id="2011069">!=</span>&nbsp;<span class="string" id="2011072">&#34;union&#34;</span>&nbsp;<span class="op" id="2011080">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011085">b</span><span class="op" id="2011086">,</span>&nbsp;<span class="ident" id="2011088">ok</span>&nbsp;<span class="op" id="2011091">:=</span>&nbsp;<span class="ident" id="2011094">e</span><span class="op" id="2011095">.</span><span class="ident" id="2011096">Val</span><span class="op" id="2011099">(</span><span class="ident" id="2011100">AttrByteSize</span><span class="op" id="2011112">)</span><span class="op" id="2011113">.</span><span class="op" id="2011114">(</span><span class="ident" id="2011115">int64</span><span class="op" id="2011120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011125">if</span>&nbsp;<span class="ident" id="2011128">ok</span>&nbsp;<span class="op" id="2011131">&amp;&amp;</span>&nbsp;<span class="ident" id="2011134">b</span><span class="op" id="2011135">*</span><span class="num" id="2011136">8</span>&nbsp;<span class="op" id="2011138">==</span>&nbsp;<span class="ident" id="2011141">lastFieldBitOffset</span>&nbsp;<span class="op" id="2011160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011166">//&nbsp;Final&nbsp;field&nbsp;must&nbsp;be&nbsp;zero&nbsp;width.&nbsp;&nbsp;Fix&nbsp;array&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011224">zeroArray</span><span class="op" id="2011233">(</span><span class="ident" id="2011234">lastFieldType</span><span class="op" id="2011247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2011252">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2011256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011260">case</span>&nbsp;<span class="ident" id="2011265">TagConstType</span><span class="op" id="2011277">,</span>&nbsp;<span class="ident" id="2011279">TagVolatileType</span><span class="op" id="2011294">,</span>&nbsp;<span class="ident" id="2011296">TagRestrictType</span><span class="op" id="2011311">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011315">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011351">//&nbsp;Attributes:</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011368">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;subtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011391">t</span>&nbsp;<span class="op" id="2011393">:=</span>&nbsp;<span class="builtinfunc" id="2011396">new</span><span class="op" id="2011399">(</span><span class="ident" id="2011400">QualType</span><span class="op" id="2011408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011412">typ</span>&nbsp;<span class="op" id="2011416">=</span>&nbsp;<span class="ident" id="2011418">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011422">typeCache</span><span class="op" id="2011431">[</span><span class="ident" id="2011432">off</span><span class="op" id="2011435">]</span>&nbsp;<span class="op" id="2011437">=</span>&nbsp;<span class="ident" id="2011439">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011443">if</span>&nbsp;<span class="ident" id="2011446">t</span><span class="op" id="2011447">.</span><span class="ident" id="2011448">Type</span>&nbsp;<span class="op" id="2011453">=</span>&nbsp;<span class="ident" id="2011455">typeOf</span><span class="op" id="2011461">(</span><span class="ident" id="2011462">e</span><span class="op" id="2011463">)</span><span class="op" id="2011464">;</span>&nbsp;<span class="ident" id="2011466">err</span>&nbsp;<span class="op" id="2011470">!=</span>&nbsp;<span class="ident" id="2011473">nil</span>&nbsp;<span class="op" id="2011477">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011482">goto</span>&nbsp;<span class="ident" id="2011487">Error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2011495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011499">switch</span>&nbsp;<span class="ident" id="2011506">e</span><span class="op" id="2011507">.</span><span class="ident" id="2011508">Tag</span>&nbsp;<span class="op" id="2011512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011516">case</span>&nbsp;<span class="ident" id="2011521">TagConstType</span><span class="op" id="2011533">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011538">t</span><span class="op" id="2011539">.</span><span class="ident" id="2011540">Qual</span>&nbsp;<span class="op" id="2011545">=</span>&nbsp;<span class="string" id="2011547">&#34;const&#34;</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011557">case</span>&nbsp;<span class="ident" id="2011562">TagRestrictType</span><span class="op" id="2011577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011582">t</span><span class="op" id="2011583">.</span><span class="ident" id="2011584">Qual</span>&nbsp;<span class="op" id="2011589">=</span>&nbsp;<span class="string" id="2011591">&#34;restrict&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011604">case</span>&nbsp;<span class="ident" id="2011609">TagVolatileType</span><span class="op" id="2011624">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011629">t</span><span class="op" id="2011630">.</span><span class="ident" id="2011631">Qual</span>&nbsp;<span class="op" id="2011636">=</span>&nbsp;<span class="string" id="2011638">&#34;volatile&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2011651">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2011655">case</span>&nbsp;<span class="ident" id="2011660">TagEnumerationType</span><span class="op" id="2011678">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011682">//&nbsp;Enumeration&nbsp;type&nbsp;(DWARF&nbsp;v2&nbsp;§5.6)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011721">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011738">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;enum&nbsp;name&nbsp;if&nbsp;any</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011770">//&nbsp;&nbsp;&nbsp;&nbsp;AttrByteSize:&nbsp;bytes&nbsp;required&nbsp;to&nbsp;represent&nbsp;largest&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011831">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011846">//&nbsp;&nbsp;&nbsp;&nbsp;TagEnumerator:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011866">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;of&nbsp;constant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2011899">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrConstValue:&nbsp;value&nbsp;of&nbsp;constant</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011939">t</span>&nbsp;<span class="op" id="2011941">:=</span>&nbsp;<span class="builtinfunc" id="2011944">new</span><span class="op" id="2011947">(</span><span class="ident" id="2011948">EnumType</span><span class="op" id="2011956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011960">typ</span>&nbsp;<span class="op" id="2011964">=</span>&nbsp;<span class="ident" id="2011966">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011970">typeCache</span><span class="op" id="2011979">[</span><span class="ident" id="2011980">off</span><span class="op" id="2011983">]</span>&nbsp;<span class="op" id="2011985">=</span>&nbsp;<span class="ident" id="2011987">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2011991">t</span><span class="op" id="2011992">.</span><span class="ident" id="2011993">EnumName</span><span class="op" id="2012001">,</span>&nbsp;<span class="ident" id="2012003">_</span>&nbsp;<span class="op" id="2012005">=</span>&nbsp;<span class="ident" id="2012007">e</span><span class="op" id="2012008">.</span><span class="ident" id="2012009">Val</span><span class="op" id="2012012">(</span><span class="ident" id="2012013">AttrName</span><span class="op" id="2012021">)</span><span class="op" id="2012022">.</span><span class="op" id="2012023">(</span><span class="builtintype" id="2012024">string</span><span class="op" id="2012030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012034">t</span><span class="op" id="2012035">.</span><span class="ident" id="2012036">Val</span>&nbsp;<span class="op" id="2012040">=</span>&nbsp;<span class="builtinfunc" id="2012042">make</span><span class="op" id="2012046">(</span><span class="op" id="2012047">[</span><span class="op" id="2012048">]</span><span class="op" id="2012049">*</span><span class="ident" id="2012050">EnumValue</span><span class="op" id="2012059">,</span>&nbsp;<span class="num" id="2012061">0</span><span class="op" id="2012062">,</span>&nbsp;<span class="num" id="2012064">8</span><span class="op" id="2012065">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2012069">for</span>&nbsp;<span class="ident" id="2012073">kid</span>&nbsp;<span class="op" id="2012077">:=</span>&nbsp;<span class="ident" id="2012080">next</span><span class="op" id="2012084">(</span><span class="op" id="2012085">)</span><span class="op" id="2012086">;</span>&nbsp;<span class="ident" id="2012088">kid</span>&nbsp;<span class="op" id="2012092">!=</span>&nbsp;<span class="ident" id="2012095">nil</span><span class="op" id="2012098">;</span>&nbsp;<span class="ident" id="2012100">kid</span>&nbsp;<span class="op" id="2012104">=</span>&nbsp;<span class="ident" id="2012106">next</span><span class="op" id="2012110">(</span><span class="op" id="2012111">)</span>&nbsp;<span class="op" id="2012113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2012118">if</span>&nbsp;<span class="ident" id="2012121">kid</span><span class="op" id="2012124">.</span><span class="ident" id="2012125">Tag</span>&nbsp;<span class="op" id="2012129">==</span>&nbsp;<span class="ident" id="2012132">TagEnumerator</span>&nbsp;<span class="op" id="2012146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012152">f</span>&nbsp;<span class="op" id="2012154">:=</span>&nbsp;<span class="builtinfunc" id="2012157">new</span><span class="op" id="2012160">(</span><span class="ident" id="2012161">EnumValue</span><span class="op" id="2012170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012176">f</span><span class="op" id="2012177">.</span><span class="ident" id="2012178">Name</span><span class="op" id="2012182">,</span>&nbsp;<span class="ident" id="2012184">_</span>&nbsp;<span class="op" id="2012186">=</span>&nbsp;<span class="ident" id="2012188">kid</span><span class="op" id="2012191">.</span><span class="ident" id="2012192">Val</span><span class="op" id="2012195">(</span><span class="ident" id="2012196">AttrName</span><span class="op" id="2012204">)</span><span class="op" id="2012205">.</span><span class="op" id="2012206">(</span><span class="builtintype" id="2012207">string</span><span class="op" id="2012213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012219">f</span><span class="op" id="2012220">.</span><span class="ident" id="2012221">Val</span><span class="op" id="2012224">,</span>&nbsp;<span class="ident" id="2012226">_</span>&nbsp;<span class="op" id="2012228">=</span>&nbsp;<span class="ident" id="2012230">kid</span><span class="op" id="2012233">.</span><span class="ident" id="2012234">Val</span><span class="op" id="2012237">(</span><span class="ident" id="2012238">AttrConstValue</span><span class="op" id="2012252">)</span><span class="op" id="2012253">.</span><span class="op" id="2012254">(</span><span class="ident" id="2012255">int64</span><span class="op" id="2012260">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012266">n</span>&nbsp;<span class="op" id="2012268">:=</span>&nbsp;<span class="builtinfunc" id="2012271">len</span><span class="op" id="2012274">(</span><span class="ident" id="2012275">t</span><span class="op" id="2012276">.</span><span class="ident" id="2012277">Val</span><span class="op" id="2012280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2012286">if</span>&nbsp;<span class="ident" id="2012289">n</span>&nbsp;<span class="op" id="2012291">&gt;=</span>&nbsp;<span class="builtinfunc" id="2012294">cap</span><span class="op" id="2012297">(</span><span class="ident" id="2012298">t</span><span class="op" id="2012299">.</span><span class="ident" id="2012300">Val</span><span class="op" id="2012303">)</span>&nbsp;<span class="op" id="2012305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012312">val</span>&nbsp;<span class="op" id="2012316">:=</span>&nbsp;<span class="builtinfunc" id="2012319">make</span><span class="op" id="2012323">(</span><span class="op" id="2012324">[</span><span class="op" id="2012325">]</span><span class="op" id="2012326">*</span><span class="ident" id="2012327">EnumValue</span><span class="op" id="2012336">,</span>&nbsp;<span class="ident" id="2012338">n</span><span class="op" id="2012339">,</span>&nbsp;<span class="ident" id="2012341">n</span><span class="op" id="2012342">*</span><span class="num" id="2012343">2</span><span class="op" id="2012344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2012351">copy</span><span class="op" id="2012355">(</span><span class="ident" id="2012356">val</span><span class="op" id="2012359">,</span>&nbsp;<span class="ident" id="2012361">t</span><span class="op" id="2012362">.</span><span class="ident" id="2012363">Val</span><span class="op" id="2012366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012373">t</span><span class="op" id="2012374">.</span><span class="ident" id="2012375">Val</span>&nbsp;<span class="op" id="2012379">=</span>&nbsp;<span class="ident" id="2012381">val</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2012389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012395">t</span><span class="op" id="2012396">.</span><span class="ident" id="2012397">Val</span>&nbsp;<span class="op" id="2012401">=</span>&nbsp;<span class="ident" id="2012403">t</span><span class="op" id="2012404">.</span><span class="ident" id="2012405">Val</span><span class="op" id="2012408">[</span><span class="num" id="2012409">0</span>&nbsp;<span class="op" id="2012411">:</span>&nbsp;<span class="ident" id="2012413">n</span><span class="op" id="2012414">+</span><span class="num" id="2012415">1</span><span class="op" id="2012416">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012422">t</span><span class="op" id="2012423">.</span><span class="ident" id="2012424">Val</span><span class="op" id="2012427">[</span><span class="ident" id="2012428">n</span><span class="op" id="2012429">]</span>&nbsp;<span class="op" id="2012431">=</span>&nbsp;<span class="ident" id="2012433">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2012438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2012442">}</span><br>
<span class="lineno">595</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2012446">case</span>&nbsp;<span class="ident" id="2012451">TagPointerType</span><span class="op" id="2012465">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012469">//&nbsp;Type&nbsp;modifier&nbsp;(DWARF&nbsp;v2&nbsp;§5.2)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012505">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012522">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;subtype&nbsp;[not&nbsp;required!&nbsp;&nbsp;void*&nbsp;has&nbsp;no&nbsp;AttrType]</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012584">//&nbsp;&nbsp;&nbsp;&nbsp;AttrAddrClass:&nbsp;address&nbsp;class&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012628">t</span>&nbsp;<span class="op" id="2012630">:=</span>&nbsp;<span class="builtinfunc" id="2012633">new</span><span class="op" id="2012636">(</span><span class="ident" id="2012637">PtrType</span><span class="op" id="2012644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012648">typ</span>&nbsp;<span class="op" id="2012652">=</span>&nbsp;<span class="ident" id="2012654">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012658">typeCache</span><span class="op" id="2012667">[</span><span class="ident" id="2012668">off</span><span class="op" id="2012671">]</span>&nbsp;<span class="op" id="2012673">=</span>&nbsp;<span class="ident" id="2012675">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2012679">if</span>&nbsp;<span class="ident" id="2012682">e</span><span class="op" id="2012683">.</span><span class="ident" id="2012684">Val</span><span class="op" id="2012687">(</span><span class="ident" id="2012688">AttrType</span><span class="op" id="2012696">)</span>&nbsp;<span class="op" id="2012698">==</span>&nbsp;<span class="ident" id="2012701">nil</span>&nbsp;<span class="op" id="2012705">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012710">t</span><span class="op" id="2012711">.</span><span class="ident" id="2012712">Type</span>&nbsp;<span class="op" id="2012717">=</span>&nbsp;<span class="op" id="2012719">&amp;</span><span class="ident" id="2012720">VoidType</span><span class="op" id="2012728">{</span><span class="op" id="2012729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2012734">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2012742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2012746">t</span><span class="op" id="2012747">.</span><span class="ident" id="2012748">Type</span>&nbsp;<span class="op" id="2012753">=</span>&nbsp;<span class="ident" id="2012755">typeOf</span><span class="op" id="2012761">(</span><span class="ident" id="2012762">e</span><span class="op" id="2012763">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2012767">case</span>&nbsp;<span class="ident" id="2012772">TagSubroutineType</span><span class="op" id="2012789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012793">//&nbsp;Subroutine&nbsp;type.&nbsp;&nbsp;(DWARF&nbsp;v2&nbsp;§5.7)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012833">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012850">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;of&nbsp;return&nbsp;value&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012893">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;possible&nbsp;name&nbsp;of&nbsp;type&nbsp;[ignored]</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2012940">//&nbsp;&nbsp;&nbsp;&nbsp;AttrPrototyped:&nbsp;whether&nbsp;used&nbsp;ANSI&nbsp;C&nbsp;prototype&nbsp;[ignored]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013001">//&nbsp;Children:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013016">//&nbsp;&nbsp;&nbsp;&nbsp;TagFormalParameter:&nbsp;typed&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013057">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;of&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013091">//&nbsp;&nbsp;&nbsp;&nbsp;TagUnspecifiedParameter:&nbsp;final&nbsp;...</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013131">t</span>&nbsp;<span class="op" id="2013133">:=</span>&nbsp;<span class="builtinfunc" id="2013136">new</span><span class="op" id="2013139">(</span><span class="ident" id="2013140">FuncType</span><span class="op" id="2013148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013152">typ</span>&nbsp;<span class="op" id="2013156">=</span>&nbsp;<span class="ident" id="2013158">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013162">typeCache</span><span class="op" id="2013171">[</span><span class="ident" id="2013172">off</span><span class="op" id="2013175">]</span>&nbsp;<span class="op" id="2013177">=</span>&nbsp;<span class="ident" id="2013179">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013183">if</span>&nbsp;<span class="ident" id="2013186">t</span><span class="op" id="2013187">.</span><span class="ident" id="2013188">ReturnType</span>&nbsp;<span class="op" id="2013199">=</span>&nbsp;<span class="ident" id="2013201">typeOf</span><span class="op" id="2013207">(</span><span class="ident" id="2013208">e</span><span class="op" id="2013209">)</span><span class="op" id="2013210">;</span>&nbsp;<span class="ident" id="2013212">err</span>&nbsp;<span class="op" id="2013216">!=</span>&nbsp;<span class="ident" id="2013219">nil</span>&nbsp;<span class="op" id="2013223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013228">goto</span>&nbsp;<span class="ident" id="2013233">Error</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2013241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013245">t</span><span class="op" id="2013246">.</span><span class="ident" id="2013247">ParamType</span>&nbsp;<span class="op" id="2013257">=</span>&nbsp;<span class="builtinfunc" id="2013259">make</span><span class="op" id="2013263">(</span><span class="op" id="2013264">[</span><span class="op" id="2013265">]</span><span class="ident" id="2013266">Type</span><span class="op" id="2013270">,</span>&nbsp;<span class="num" id="2013272">0</span><span class="op" id="2013273">,</span>&nbsp;<span class="num" id="2013275">8</span><span class="op" id="2013276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013280">for</span>&nbsp;<span class="ident" id="2013284">kid</span>&nbsp;<span class="op" id="2013288">:=</span>&nbsp;<span class="ident" id="2013291">next</span><span class="op" id="2013295">(</span><span class="op" id="2013296">)</span><span class="op" id="2013297">;</span>&nbsp;<span class="ident" id="2013299">kid</span>&nbsp;<span class="op" id="2013303">!=</span>&nbsp;<span class="ident" id="2013306">nil</span><span class="op" id="2013309">;</span>&nbsp;<span class="ident" id="2013311">kid</span>&nbsp;<span class="op" id="2013315">=</span>&nbsp;<span class="ident" id="2013317">next</span><span class="op" id="2013321">(</span><span class="op" id="2013322">)</span>&nbsp;<span class="op" id="2013324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013329">var</span>&nbsp;<span class="ident" id="2013333">tkid</span>&nbsp;<span class="ident" id="2013338">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013346">switch</span>&nbsp;<span class="ident" id="2013353">kid</span><span class="op" id="2013356">.</span><span class="ident" id="2013357">Tag</span>&nbsp;<span class="op" id="2013361">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013366">default</span><span class="op" id="2013373">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013379">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013391">case</span>&nbsp;<span class="ident" id="2013396">TagFormalParameter</span><span class="op" id="2013414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013420">if</span>&nbsp;<span class="ident" id="2013423">tkid</span>&nbsp;<span class="op" id="2013428">=</span>&nbsp;<span class="ident" id="2013430">typeOf</span><span class="op" id="2013436">(</span><span class="ident" id="2013437">kid</span><span class="op" id="2013440">)</span><span class="op" id="2013441">;</span>&nbsp;<span class="ident" id="2013443">err</span>&nbsp;<span class="op" id="2013447">!=</span>&nbsp;<span class="ident" id="2013450">nil</span>&nbsp;<span class="op" id="2013454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013461">goto</span>&nbsp;<span class="ident" id="2013466">Error</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2013476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013481">case</span>&nbsp;<span class="ident" id="2013486">TagUnspecifiedParameters</span><span class="op" id="2013510">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013516">tkid</span>&nbsp;<span class="op" id="2013521">=</span>&nbsp;<span class="op" id="2013523">&amp;</span><span class="ident" id="2013524">DotDotDotType</span><span class="op" id="2013537">{</span><span class="op" id="2013538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2013543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013548">t</span><span class="op" id="2013549">.</span><span class="ident" id="2013550">ParamType</span>&nbsp;<span class="op" id="2013560">=</span>&nbsp;<span class="builtinfunc" id="2013562">append</span><span class="op" id="2013568">(</span><span class="ident" id="2013569">t</span><span class="op" id="2013570">.</span><span class="ident" id="2013571">ParamType</span><span class="op" id="2013580">,</span>&nbsp;<span class="ident" id="2013582">tkid</span><span class="op" id="2013586">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2013590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013594">case</span>&nbsp;<span class="ident" id="2013599">TagTypedef</span><span class="op" id="2013609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013613">//&nbsp;Typedef&nbsp;(DWARF&nbsp;v2&nbsp;§5.3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013643">//&nbsp;Attributes:</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013660">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013691">//&nbsp;&nbsp;&nbsp;&nbsp;AttrType:&nbsp;type&nbsp;definition&nbsp;[required]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013733">t</span>&nbsp;<span class="op" id="2013735">:=</span>&nbsp;<span class="builtinfunc" id="2013738">new</span><span class="op" id="2013741">(</span><span class="ident" id="2013742">TypedefType</span><span class="op" id="2013753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013757">typ</span>&nbsp;<span class="op" id="2013761">=</span>&nbsp;<span class="ident" id="2013763">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013767">typeCache</span><span class="op" id="2013776">[</span><span class="ident" id="2013777">off</span><span class="op" id="2013780">]</span>&nbsp;<span class="op" id="2013782">=</span>&nbsp;<span class="ident" id="2013784">t</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013788">t</span><span class="op" id="2013789">.</span><span class="ident" id="2013790">Name</span><span class="op" id="2013794">,</span>&nbsp;<span class="ident" id="2013796">_</span>&nbsp;<span class="op" id="2013798">=</span>&nbsp;<span class="ident" id="2013800">e</span><span class="op" id="2013801">.</span><span class="ident" id="2013802">Val</span><span class="op" id="2013805">(</span><span class="ident" id="2013806">AttrName</span><span class="op" id="2013814">)</span><span class="op" id="2013815">.</span><span class="op" id="2013816">(</span><span class="builtintype" id="2013817">string</span><span class="op" id="2013823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013827">t</span><span class="op" id="2013828">.</span><span class="ident" id="2013829">Type</span>&nbsp;<span class="op" id="2013834">=</span>&nbsp;<span class="ident" id="2013836">typeOf</span><span class="op" id="2013842">(</span><span class="ident" id="2013843">e</span><span class="op" id="2013844">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2013848">case</span>&nbsp;<span class="ident" id="2013853">TagUnspecifiedType</span><span class="op" id="2013871">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013875">//&nbsp;Unspecified&nbsp;type&nbsp;(DWARF&nbsp;v3&nbsp;§5.2)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013914">//&nbsp;Attributes:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2013931">//&nbsp;&nbsp;&nbsp;&nbsp;AttrName:&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013951">t</span>&nbsp;<span class="op" id="2013953">:=</span>&nbsp;<span class="builtinfunc" id="2013956">new</span><span class="op" id="2013959">(</span><span class="ident" id="2013960">UnspecifiedType</span><span class="op" id="2013975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013979">typ</span>&nbsp;<span class="op" id="2013983">=</span>&nbsp;<span class="ident" id="2013985">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2013989">typeCache</span><span class="op" id="2013998">[</span><span class="ident" id="2013999">off</span><span class="op" id="2014002">]</span>&nbsp;<span class="op" id="2014004">=</span>&nbsp;<span class="ident" id="2014006">t</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2014010">t</span><span class="op" id="2014011">.</span><span class="ident" id="2014012">Name</span><span class="op" id="2014016">,</span>&nbsp;<span class="ident" id="2014018">_</span>&nbsp;<span class="op" id="2014020">=</span>&nbsp;<span class="ident" id="2014022">e</span><span class="op" id="2014023">.</span><span class="ident" id="2014024">Val</span><span class="op" id="2014027">(</span><span class="ident" id="2014028">AttrName</span><span class="op" id="2014036">)</span><span class="op" id="2014037">.</span><span class="op" id="2014038">(</span><span class="builtintype" id="2014039">string</span><span class="op" id="2014045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014052">if</span>&nbsp;<span class="ident" id="2014055">err</span>&nbsp;<span class="op" id="2014059">!=</span>&nbsp;<span class="ident" id="2014062">nil</span>&nbsp;<span class="op" id="2014066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014070">goto</span>&nbsp;<span class="ident" id="2014075">Error</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2014090">b</span><span class="op" id="2014091">,</span>&nbsp;<span class="ident" id="2014093">ok</span>&nbsp;<span class="op" id="2014096">:=</span>&nbsp;<span class="ident" id="2014099">e</span><span class="op" id="2014100">.</span><span class="ident" id="2014101">Val</span><span class="op" id="2014104">(</span><span class="ident" id="2014105">AttrByteSize</span><span class="op" id="2014117">)</span><span class="op" id="2014118">.</span><span class="op" id="2014119">(</span><span class="ident" id="2014120">int64</span><span class="op" id="2014125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014129">if</span>&nbsp;<span class="op" id="2014132">!</span><span class="ident" id="2014133">ok</span>&nbsp;<span class="op" id="2014136">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2014141">b</span>&nbsp;<span class="op" id="2014143">=</span>&nbsp;<span class="op" id="2014145">-</span><span class="num" id="2014146">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2014154">typ</span><span class="op" id="2014157">.</span><span class="ident" id="2014158">Common</span><span class="op" id="2014164">(</span><span class="op" id="2014165">)</span><span class="op" id="2014166">.</span><span class="ident" id="2014167">ByteSize</span>&nbsp;<span class="op" id="2014176">=</span>&nbsp;<span class="ident" id="2014178">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014184">return</span>&nbsp;<span class="ident" id="2014191">typ</span><span class="op" id="2014194">,</span>&nbsp;<span class="ident" id="2014196">nil</span><br>
<span class="lineno">675</span><br>
<span class="lineno"></span><span class="ident" id="2014201">Error</span><span class="op" id="2014206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2014209">//&nbsp;If&nbsp;the&nbsp;parse&nbsp;fails,&nbsp;take&nbsp;the&nbsp;type&nbsp;out&nbsp;of&nbsp;the&nbsp;cache</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2014264">//&nbsp;so&nbsp;that&nbsp;the&nbsp;next&nbsp;call&nbsp;with&nbsp;this&nbsp;offset&nbsp;doesn&#39;t&nbsp;hit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2014319">//&nbsp;the&nbsp;cache&nbsp;and&nbsp;return&nbsp;success.</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2014353">delete</span><span class="op" id="2014359">(</span><span class="ident" id="2014360">typeCache</span><span class="op" id="2014369">,</span>&nbsp;<span class="ident" id="2014371">off</span><span class="op" id="2014374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014377">return</span>&nbsp;<span class="ident" id="2014384">nil</span><span class="op" id="2014387">,</span>&nbsp;<span class="ident" id="2014389">err</span><br>
<span class="lineno"></span><span class="op" id="2014393">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2014396">func</span>&nbsp;<span class="ident" id="2014401">zeroArray</span><span class="op" id="2014410">(</span><span class="ident" id="2014411">t</span>&nbsp;<span class="op" id="2014413">*</span><span class="ident" id="2014414">Type</span><span class="op" id="2014418">)</span>&nbsp;<span class="op" id="2014420">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014423">if</span>&nbsp;<span class="ident" id="2014426">t</span>&nbsp;<span class="op" id="2014428">==</span>&nbsp;<span class="ident" id="2014431">nil</span>&nbsp;<span class="op" id="2014435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014439">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2014450">at</span><span class="op" id="2014452">,</span>&nbsp;<span class="ident" id="2014454">ok</span>&nbsp;<span class="op" id="2014457">:=</span>&nbsp;<span class="op" id="2014460">(</span><span class="op" id="2014461">*</span><span class="ident" id="2014462">t</span><span class="op" id="2014463">)</span><span class="op" id="2014464">.</span><span class="op" id="2014465">(</span><span class="op" id="2014466">*</span><span class="ident" id="2014467">ArrayType</span><span class="op" id="2014476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014479">if</span>&nbsp;<span class="op" id="2014482">!</span><span class="ident" id="2014483">ok</span>&nbsp;<span class="op" id="2014486">||</span>&nbsp;<span class="ident" id="2014489">at</span><span class="op" id="2014491">.</span><span class="ident" id="2014492">Type</span><span class="op" id="2014496">.</span><span class="ident" id="2014497">Size</span><span class="op" id="2014501">(</span><span class="op" id="2014502">)</span>&nbsp;<span class="op" id="2014504">==</span>&nbsp;<span class="num" id="2014507">0</span>&nbsp;<span class="op" id="2014509">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2014513">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2014524">//&nbsp;Make&nbsp;a&nbsp;copy&nbsp;to&nbsp;avoid&nbsp;invalidating&nbsp;typeCache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2014573">tt</span>&nbsp;<span class="op" id="2014576">:=</span>&nbsp;<span class="op" id="2014579">*</span><span class="ident" id="2014580">at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2014584">tt</span><span class="op" id="2014586">.</span><span class="ident" id="2014587">Count</span>&nbsp;<span class="op" id="2014593">=</span>&nbsp;<span class="num" id="2014595">0</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2014598">*</span><span class="ident" id="2014599">t</span>&nbsp;<span class="op" id="2014601">=</span>&nbsp;<span class="op" id="2014603">&amp;</span><span class="ident" id="2014604">tt</span><br>
<span class="lineno"></span><span class="op" id="2014607">}</span>
</div>
</body>
</html>
