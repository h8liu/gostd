<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html" class="current">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6687780">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6687836">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6687890">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6687941">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6687998">package</span>&nbsp;<span class="ident" id="6688006">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6688011">import</span>&nbsp;<span class="op" id="6688018">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6688021">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6688027">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6688038">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6688049">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6688060">&#34;time&#34;</span><br>
<span class="lineno">15</span><span class="op" id="6688067">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6688070">type</span>&nbsp;<span class="ident" id="6688075">testInterface</span>&nbsp;<span class="keyword" id="6688089">struct</span>&nbsp;<span class="op" id="6688096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688099">name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6688112">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688120">local</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6688133">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688141">remote</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6688154">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688162">setupCmds</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688175">[</span><span class="op" id="6688176">]</span><span class="op" id="6688177">*</span><span class="ident" id="6688178">exec</span><span class="op" id="6688182">.</span><span class="ident" id="6688183">Cmd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688188">teardownCmds</span>&nbsp;<span class="op" id="6688201">[</span><span class="op" id="6688202">]</span><span class="op" id="6688203">*</span><span class="ident" id="6688204">exec</span><span class="op" id="6688208">.</span><span class="ident" id="6688209">Cmd</span><br>
<span class="lineno"></span><span class="op" id="6688213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6688216">func</span>&nbsp;<span class="op" id="6688221">(</span><span class="ident" id="6688222">ti</span>&nbsp;<span class="op" id="6688225">*</span><span class="ident" id="6688226">testInterface</span><span class="op" id="6688239">)</span>&nbsp;<span class="ident" id="6688241">setup</span><span class="op" id="6688246">(</span><span class="op" id="6688247">)</span>&nbsp;<span class="builtintype" id="6688249">error</span>&nbsp;<span class="op" id="6688255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688258">for</span>&nbsp;<span class="ident" id="6688262">_</span><span class="op" id="6688263">,</span>&nbsp;<span class="ident" id="6688265">cmd</span>&nbsp;<span class="op" id="6688269">:=</span>&nbsp;<span class="keyword" id="6688272">range</span>&nbsp;<span class="ident" id="6688278">ti</span><span class="op" id="6688280">.</span><span class="ident" id="6688281">setupCmds</span>&nbsp;<span class="op" id="6688291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688295">if</span>&nbsp;<span class="ident" id="6688298">err</span>&nbsp;<span class="op" id="6688302">:=</span>&nbsp;<span class="ident" id="6688305">cmd</span><span class="op" id="6688308">.</span><span class="ident" id="6688309">Run</span><span class="op" id="6688312">(</span><span class="op" id="6688313">)</span><span class="op" id="6688314">;</span>&nbsp;<span class="ident" id="6688316">err</span>&nbsp;<span class="op" id="6688320">!=</span>&nbsp;<span class="builtintype" id="6688323">nil</span>&nbsp;<span class="op" id="6688327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688332">return</span>&nbsp;<span class="ident" id="6688339">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688345">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688351">return</span>&nbsp;<span class="builtintype" id="6688358">nil</span><br>
<span class="lineno"></span><span class="op" id="6688362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6688365">func</span>&nbsp;<span class="op" id="6688370">(</span><span class="ident" id="6688371">ti</span>&nbsp;<span class="op" id="6688374">*</span><span class="ident" id="6688375">testInterface</span><span class="op" id="6688388">)</span>&nbsp;<span class="ident" id="6688390">teardown</span><span class="op" id="6688398">(</span><span class="op" id="6688399">)</span>&nbsp;<span class="builtintype" id="6688401">error</span>&nbsp;<span class="op" id="6688407">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688410">for</span>&nbsp;<span class="ident" id="6688414">_</span><span class="op" id="6688415">,</span>&nbsp;<span class="ident" id="6688417">cmd</span>&nbsp;<span class="op" id="6688421">:=</span>&nbsp;<span class="keyword" id="6688424">range</span>&nbsp;<span class="ident" id="6688430">ti</span><span class="op" id="6688432">.</span><span class="ident" id="6688433">teardownCmds</span>&nbsp;<span class="op" id="6688446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688450">if</span>&nbsp;<span class="ident" id="6688453">err</span>&nbsp;<span class="op" id="6688457">:=</span>&nbsp;<span class="ident" id="6688460">cmd</span><span class="op" id="6688463">.</span><span class="ident" id="6688464">Run</span><span class="op" id="6688467">(</span><span class="op" id="6688468">)</span><span class="op" id="6688469">;</span>&nbsp;<span class="ident" id="6688471">err</span>&nbsp;<span class="op" id="6688475">!=</span>&nbsp;<span class="builtintype" id="6688478">nil</span>&nbsp;<span class="op" id="6688482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688487">return</span>&nbsp;<span class="ident" id="6688494">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688503">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688506">return</span>&nbsp;<span class="builtintype" id="6688513">nil</span><br>
<span class="lineno"></span><span class="op" id="6688517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6688520">func</span>&nbsp;<span class="ident" id="6688525">TestPointToPointInterface</span><span class="op" id="6688550">(</span><span class="ident" id="6688551">t</span>&nbsp;<span class="op" id="6688553">*</span><span class="ident" id="6688554">testing</span><span class="op" id="6688561">.</span><span class="ident" id="6688562">T</span><span class="op" id="6688563">)</span>&nbsp;<span class="op" id="6688565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688568">if</span>&nbsp;<span class="ident" id="6688571">testing</span><span class="op" id="6688578">.</span><span class="ident" id="6688579">Short</span><span class="op" id="6688584">(</span><span class="op" id="6688585">)</span>&nbsp;<span class="op" id="6688587">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688591">t</span><span class="op" id="6688592">.</span><span class="ident" id="6688593">Skip</span><span class="op" id="6688597">(</span><span class="string" id="6688598">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6688627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688633">switch</span>&nbsp;<span class="op" id="6688640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688643">case</span>&nbsp;<span class="ident" id="6688648">runtime</span><span class="op" id="6688655">.</span><span class="ident" id="6688656">GOOS</span>&nbsp;<span class="op" id="6688661">==</span>&nbsp;<span class="string" id="6688664">&#34;darwin&#34;</span><span class="op" id="6688672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688676">t</span><span class="op" id="6688677">.</span><span class="ident" id="6688678">Skipf</span><span class="op" id="6688683">(</span><span class="string" id="6688684">&#34;skipping&nbsp;read&nbsp;test&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6688710">,</span>&nbsp;<span class="ident" id="6688712">runtime</span><span class="op" id="6688719">.</span><span class="ident" id="6688720">GOOS</span><span class="op" id="6688724">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688730">if</span>&nbsp;<span class="ident" id="6688733">os</span><span class="op" id="6688735">.</span><span class="ident" id="6688736">Getuid</span><span class="op" id="6688742">(</span><span class="op" id="6688743">)</span>&nbsp;<span class="op" id="6688745">!=</span>&nbsp;<span class="num" id="6688748">0</span>&nbsp;<span class="op" id="6688750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688754">t</span><span class="op" id="6688755">.</span><span class="ident" id="6688756">Skip</span><span class="op" id="6688760">(</span><span class="string" id="6688761">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="6688790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6688793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688797">local</span><span class="op" id="6688802">,</span>&nbsp;<span class="ident" id="6688804">remote</span>&nbsp;<span class="op" id="6688811">:=</span>&nbsp;<span class="string" id="6688814">&#34;169.254.0.1&#34;</span><span class="op" id="6688827">,</span>&nbsp;<span class="string" id="6688829">&#34;169.254.0.254&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688846">ip</span>&nbsp;<span class="op" id="6688849">:=</span>&nbsp;<span class="ident" id="6688852">ParseIP</span><span class="op" id="6688859">(</span><span class="ident" id="6688860">remote</span><span class="op" id="6688866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688869">for</span>&nbsp;<span class="ident" id="6688873">i</span>&nbsp;<span class="op" id="6688875">:=</span>&nbsp;<span class="num" id="6688878">0</span><span class="op" id="6688879">;</span>&nbsp;<span class="ident" id="6688881">i</span>&nbsp;<span class="op" id="6688883">&lt;</span>&nbsp;<span class="num" id="6688885">3</span><span class="op" id="6688886">;</span>&nbsp;<span class="ident" id="6688888">i</span><span class="op" id="6688889">++</span>&nbsp;<span class="op" id="6688892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688896">ti</span>&nbsp;<span class="op" id="6688899">:=</span>&nbsp;<span class="op" id="6688902">&amp;</span><span class="ident" id="6688903">testInterface</span><span class="op" id="6688916">{</span><span class="op" id="6688917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6688921">if</span>&nbsp;<span class="ident" id="6688924">err</span>&nbsp;<span class="op" id="6688928">:=</span>&nbsp;<span class="ident" id="6688931">ti</span><span class="op" id="6688933">.</span><span class="ident" id="6688934">setPointToPoint</span><span class="op" id="6688949">(</span><span class="num" id="6688950">5963</span><span class="op" id="6688954">+</span><span class="ident" id="6688955">i</span><span class="op" id="6688956">,</span>&nbsp;<span class="ident" id="6688958">local</span><span class="op" id="6688963">,</span>&nbsp;<span class="ident" id="6688965">remote</span><span class="op" id="6688971">)</span><span class="op" id="6688972">;</span>&nbsp;<span class="ident" id="6688974">err</span>&nbsp;<span class="op" id="6688978">!=</span>&nbsp;<span class="builtintype" id="6688981">nil</span>&nbsp;<span class="op" id="6688985">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6688990">t</span><span class="op" id="6688991">.</span><span class="ident" id="6688992">Skipf</span><span class="op" id="6688997">(</span><span class="string" id="6688998">&#34;test&nbsp;requries&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="6689034">,</span>&nbsp;<span class="ident" id="6689036">err</span><span class="op" id="6689039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689047">if</span>&nbsp;<span class="ident" id="6689050">err</span>&nbsp;<span class="op" id="6689054">:=</span>&nbsp;<span class="ident" id="6689057">ti</span><span class="op" id="6689059">.</span><span class="ident" id="6689060">setup</span><span class="op" id="6689065">(</span><span class="op" id="6689066">)</span><span class="op" id="6689067">;</span>&nbsp;<span class="ident" id="6689069">err</span>&nbsp;<span class="op" id="6689073">!=</span>&nbsp;<span class="builtintype" id="6689076">nil</span>&nbsp;<span class="op" id="6689080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689085">t</span><span class="op" id="6689086">.</span><span class="ident" id="6689087">Fatalf</span><span class="op" id="6689093">(</span><span class="string" id="6689094">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6689126">,</span>&nbsp;<span class="ident" id="6689128">err</span><span class="op" id="6689131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689135">}</span>&nbsp;<span class="keyword" id="6689137">else</span>&nbsp;<span class="op" id="6689142">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689147">time</span><span class="op" id="6689151">.</span><span class="ident" id="6689152">Sleep</span><span class="op" id="6689157">(</span><span class="num" id="6689158">3</span>&nbsp;<span class="op" id="6689160">*</span>&nbsp;<span class="ident" id="6689162">time</span><span class="op" id="6689166">.</span><span class="ident" id="6689167">Millisecond</span><span class="op" id="6689178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689186">ift</span><span class="op" id="6689189">,</span>&nbsp;<span class="ident" id="6689191">err</span>&nbsp;<span class="op" id="6689195">:=</span>&nbsp;<span class="ident" id="6689198">Interfaces</span><span class="op" id="6689208">(</span><span class="op" id="6689209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689213">if</span>&nbsp;<span class="ident" id="6689216">err</span>&nbsp;<span class="op" id="6689220">!=</span>&nbsp;<span class="builtintype" id="6689223">nil</span>&nbsp;<span class="op" id="6689227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689232">ti</span><span class="op" id="6689234">.</span><span class="ident" id="6689235">teardown</span><span class="op" id="6689243">(</span><span class="op" id="6689244">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689249">t</span><span class="op" id="6689250">.</span><span class="ident" id="6689251">Fatalf</span><span class="op" id="6689257">(</span><span class="string" id="6689258">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6689281">,</span>&nbsp;<span class="ident" id="6689283">err</span><span class="op" id="6689286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689294">for</span>&nbsp;<span class="ident" id="6689298">_</span><span class="op" id="6689299">,</span>&nbsp;<span class="ident" id="6689301">ifi</span>&nbsp;<span class="op" id="6689305">:=</span>&nbsp;<span class="keyword" id="6689308">range</span>&nbsp;<span class="ident" id="6689314">ift</span>&nbsp;<span class="op" id="6689318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689323">if</span>&nbsp;<span class="ident" id="6689326">ti</span><span class="op" id="6689328">.</span><span class="ident" id="6689329">name</span>&nbsp;<span class="op" id="6689334">==</span>&nbsp;<span class="ident" id="6689337">ifi</span><span class="op" id="6689340">.</span><span class="ident" id="6689341">Name</span>&nbsp;<span class="op" id="6689346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689352">ifat</span><span class="op" id="6689356">,</span>&nbsp;<span class="ident" id="6689358">err</span>&nbsp;<span class="op" id="6689362">:=</span>&nbsp;<span class="ident" id="6689365">ifi</span><span class="op" id="6689368">.</span><span class="ident" id="6689369">Addrs</span><span class="op" id="6689374">(</span><span class="op" id="6689375">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689381">if</span>&nbsp;<span class="ident" id="6689384">err</span>&nbsp;<span class="op" id="6689388">!=</span>&nbsp;<span class="builtintype" id="6689391">nil</span>&nbsp;<span class="op" id="6689395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689402">ti</span><span class="op" id="6689404">.</span><span class="ident" id="6689405">teardown</span><span class="op" id="6689413">(</span><span class="op" id="6689414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689421">t</span><span class="op" id="6689422">.</span><span class="ident" id="6689423">Fatalf</span><span class="op" id="6689429">(</span><span class="string" id="6689430">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6689458">,</span>&nbsp;<span class="ident" id="6689460">err</span><span class="op" id="6689463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689475">for</span>&nbsp;<span class="ident" id="6689479">_</span><span class="op" id="6689480">,</span>&nbsp;<span class="ident" id="6689482">ifa</span>&nbsp;<span class="op" id="6689486">:=</span>&nbsp;<span class="keyword" id="6689489">range</span>&nbsp;<span class="ident" id="6689495">ifat</span>&nbsp;<span class="op" id="6689500">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689507">if</span>&nbsp;<span class="ident" id="6689510">ip</span><span class="op" id="6689512">.</span><span class="ident" id="6689513">Equal</span><span class="op" id="6689518">(</span><span class="ident" id="6689519">ifa</span><span class="op" id="6689522">.</span><span class="op" id="6689523">(</span><span class="op" id="6689524">*</span><span class="ident" id="6689525">IPNet</span><span class="op" id="6689530">)</span><span class="op" id="6689531">.</span><span class="ident" id="6689532">IP</span><span class="op" id="6689534">)</span>&nbsp;<span class="op" id="6689536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689544">ti</span><span class="op" id="6689546">.</span><span class="ident" id="6689547">teardown</span><span class="op" id="6689555">(</span><span class="op" id="6689556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689564">t</span><span class="op" id="6689565">.</span><span class="ident" id="6689566">Fatalf</span><span class="op" id="6689572">(</span><span class="string" id="6689573">&#34;got&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6689590">,</span>&nbsp;<span class="ident" id="6689592">ip</span><span class="op" id="6689594">,</span>&nbsp;<span class="ident" id="6689596">local</span><span class="op" id="6689601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689608">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689614">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689627">if</span>&nbsp;<span class="ident" id="6689630">err</span>&nbsp;<span class="op" id="6689634">:=</span>&nbsp;<span class="ident" id="6689637">ti</span><span class="op" id="6689639">.</span><span class="ident" id="6689640">teardown</span><span class="op" id="6689648">(</span><span class="op" id="6689649">)</span><span class="op" id="6689650">;</span>&nbsp;<span class="ident" id="6689652">err</span>&nbsp;<span class="op" id="6689656">!=</span>&nbsp;<span class="builtintype" id="6689659">nil</span>&nbsp;<span class="op" id="6689663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689668">t</span><span class="op" id="6689669">.</span><span class="ident" id="6689670">Fatalf</span><span class="op" id="6689676">(</span><span class="string" id="6689677">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6689712">,</span>&nbsp;<span class="ident" id="6689714">err</span><span class="op" id="6689717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689721">}</span>&nbsp;<span class="keyword" id="6689723">else</span>&nbsp;<span class="op" id="6689728">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689733">time</span><span class="op" id="6689737">.</span><span class="ident" id="6689738">Sleep</span><span class="op" id="6689743">(</span><span class="num" id="6689744">3</span>&nbsp;<span class="op" id="6689746">*</span>&nbsp;<span class="ident" id="6689748">time</span><span class="op" id="6689752">.</span><span class="ident" id="6689753">Millisecond</span><span class="op" id="6689764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689771">}</span><br>
<span class="lineno"></span><span class="op" id="6689773">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6689776">func</span>&nbsp;<span class="ident" id="6689781">TestInterfaceArrivalAndDeparture</span><span class="op" id="6689813">(</span><span class="ident" id="6689814">t</span>&nbsp;<span class="op" id="6689816">*</span><span class="ident" id="6689817">testing</span><span class="op" id="6689824">.</span><span class="ident" id="6689825">T</span><span class="op" id="6689826">)</span>&nbsp;<span class="op" id="6689828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689831">if</span>&nbsp;<span class="ident" id="6689834">testing</span><span class="op" id="6689841">.</span><span class="ident" id="6689842">Short</span><span class="op" id="6689847">(</span><span class="op" id="6689848">)</span>&nbsp;<span class="op" id="6689850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689854">t</span><span class="op" id="6689855">.</span><span class="ident" id="6689856">Skip</span><span class="op" id="6689860">(</span><span class="string" id="6689861">&#34;skipping&nbsp;test&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6689890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689896">if</span>&nbsp;<span class="ident" id="6689899">os</span><span class="op" id="6689901">.</span><span class="ident" id="6689902">Getuid</span><span class="op" id="6689908">(</span><span class="op" id="6689909">)</span>&nbsp;<span class="op" id="6689911">!=</span>&nbsp;<span class="num" id="6689914">0</span>&nbsp;<span class="op" id="6689916">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689920">t</span><span class="op" id="6689921">.</span><span class="ident" id="6689922">Skip</span><span class="op" id="6689926">(</span><span class="string" id="6689927">&#34;skipping&nbsp;test;&nbsp;must&nbsp;be&nbsp;root&#34;</span><span class="op" id="6689956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6689959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6689963">for</span>&nbsp;<span class="ident" id="6689967">i</span>&nbsp;<span class="op" id="6689969">:=</span>&nbsp;<span class="num" id="6689972">0</span><span class="op" id="6689973">;</span>&nbsp;<span class="ident" id="6689975">i</span>&nbsp;<span class="op" id="6689977">&lt;</span>&nbsp;<span class="num" id="6689979">3</span><span class="op" id="6689980">;</span>&nbsp;<span class="ident" id="6689982">i</span><span class="op" id="6689983">++</span>&nbsp;<span class="op" id="6689986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6689990">ift1</span><span class="op" id="6689994">,</span>&nbsp;<span class="ident" id="6689996">err</span>&nbsp;<span class="op" id="6690000">:=</span>&nbsp;<span class="ident" id="6690003">Interfaces</span><span class="op" id="6690013">(</span><span class="op" id="6690014">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690018">if</span>&nbsp;<span class="ident" id="6690021">err</span>&nbsp;<span class="op" id="6690025">!=</span>&nbsp;<span class="builtintype" id="6690028">nil</span>&nbsp;<span class="op" id="6690032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690037">t</span><span class="op" id="6690038">.</span><span class="ident" id="6690039">Fatalf</span><span class="op" id="6690045">(</span><span class="string" id="6690046">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6690069">,</span>&nbsp;<span class="ident" id="6690071">err</span><span class="op" id="6690074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690082">ti</span>&nbsp;<span class="op" id="6690085">:=</span>&nbsp;<span class="op" id="6690088">&amp;</span><span class="ident" id="6690089">testInterface</span><span class="op" id="6690102">{</span><span class="op" id="6690103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690107">if</span>&nbsp;<span class="ident" id="6690110">err</span>&nbsp;<span class="op" id="6690114">:=</span>&nbsp;<span class="ident" id="6690117">ti</span><span class="op" id="6690119">.</span><span class="ident" id="6690120">setBroadcast</span><span class="op" id="6690132">(</span><span class="num" id="6690133">5682</span>&nbsp;<span class="op" id="6690138">+</span>&nbsp;<span class="ident" id="6690140">i</span><span class="op" id="6690141">)</span><span class="op" id="6690142">;</span>&nbsp;<span class="ident" id="6690144">err</span>&nbsp;<span class="op" id="6690148">!=</span>&nbsp;<span class="builtintype" id="6690151">nil</span>&nbsp;<span class="op" id="6690155">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690160">t</span><span class="op" id="6690161">.</span><span class="ident" id="6690162">Skipf</span><span class="op" id="6690167">(</span><span class="string" id="6690168">&#34;test&nbsp;requires&nbsp;external&nbsp;command:&nbsp;%v&#34;</span><span class="op" id="6690204">,</span>&nbsp;<span class="ident" id="6690206">err</span><span class="op" id="6690209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690217">if</span>&nbsp;<span class="ident" id="6690220">err</span>&nbsp;<span class="op" id="6690224">:=</span>&nbsp;<span class="ident" id="6690227">ti</span><span class="op" id="6690229">.</span><span class="ident" id="6690230">setup</span><span class="op" id="6690235">(</span><span class="op" id="6690236">)</span><span class="op" id="6690237">;</span>&nbsp;<span class="ident" id="6690239">err</span>&nbsp;<span class="op" id="6690243">!=</span>&nbsp;<span class="builtintype" id="6690246">nil</span>&nbsp;<span class="op" id="6690250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690255">t</span><span class="op" id="6690256">.</span><span class="ident" id="6690257">Fatalf</span><span class="op" id="6690263">(</span><span class="string" id="6690264">&#34;testInterface.setup&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6690296">,</span>&nbsp;<span class="ident" id="6690298">err</span><span class="op" id="6690301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690305">}</span>&nbsp;<span class="keyword" id="6690307">else</span>&nbsp;<span class="op" id="6690312">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690317">time</span><span class="op" id="6690321">.</span><span class="ident" id="6690322">Sleep</span><span class="op" id="6690327">(</span><span class="num" id="6690328">3</span>&nbsp;<span class="op" id="6690330">*</span>&nbsp;<span class="ident" id="6690332">time</span><span class="op" id="6690336">.</span><span class="ident" id="6690337">Millisecond</span><span class="op" id="6690348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690356">ift2</span><span class="op" id="6690360">,</span>&nbsp;<span class="ident" id="6690362">err</span>&nbsp;<span class="op" id="6690366">:=</span>&nbsp;<span class="ident" id="6690369">Interfaces</span><span class="op" id="6690379">(</span><span class="op" id="6690380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690384">if</span>&nbsp;<span class="ident" id="6690387">err</span>&nbsp;<span class="op" id="6690391">!=</span>&nbsp;<span class="builtintype" id="6690394">nil</span>&nbsp;<span class="op" id="6690398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690403">ti</span><span class="op" id="6690405">.</span><span class="ident" id="6690406">teardown</span><span class="op" id="6690414">(</span><span class="op" id="6690415">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690420">t</span><span class="op" id="6690421">.</span><span class="ident" id="6690422">Fatalf</span><span class="op" id="6690428">(</span><span class="string" id="6690429">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6690452">,</span>&nbsp;<span class="ident" id="6690454">err</span><span class="op" id="6690457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690465">if</span>&nbsp;<span class="builtinfunc" id="6690468">len</span><span class="op" id="6690471">(</span><span class="ident" id="6690472">ift2</span><span class="op" id="6690476">)</span>&nbsp;<span class="op" id="6690478">&lt;=</span>&nbsp;<span class="builtinfunc" id="6690481">len</span><span class="op" id="6690484">(</span><span class="ident" id="6690485">ift1</span><span class="op" id="6690489">)</span>&nbsp;<span class="op" id="6690491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690496">for</span>&nbsp;<span class="ident" id="6690500">_</span><span class="op" id="6690501">,</span>&nbsp;<span class="ident" id="6690503">ifi</span>&nbsp;<span class="op" id="6690507">:=</span>&nbsp;<span class="keyword" id="6690510">range</span>&nbsp;<span class="ident" id="6690516">ift1</span>&nbsp;<span class="op" id="6690521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690527">t</span><span class="op" id="6690528">.</span><span class="ident" id="6690529">Logf</span><span class="op" id="6690533">(</span><span class="string" id="6690534">&#34;before:&nbsp;%v&#34;</span><span class="op" id="6690546">,</span>&nbsp;<span class="ident" id="6690548">ifi</span><span class="op" id="6690551">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690561">for</span>&nbsp;<span class="ident" id="6690565">_</span><span class="op" id="6690566">,</span>&nbsp;<span class="ident" id="6690568">ifi</span>&nbsp;<span class="op" id="6690572">:=</span>&nbsp;<span class="keyword" id="6690575">range</span>&nbsp;<span class="ident" id="6690581">ift2</span>&nbsp;<span class="op" id="6690586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690592">t</span><span class="op" id="6690593">.</span><span class="ident" id="6690594">Logf</span><span class="op" id="6690598">(</span><span class="string" id="6690599">&#34;after:&nbsp;%v&#34;</span><span class="op" id="6690610">,</span>&nbsp;<span class="ident" id="6690612">ifi</span><span class="op" id="6690615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690625">ti</span><span class="op" id="6690627">.</span><span class="ident" id="6690628">teardown</span><span class="op" id="6690636">(</span><span class="op" id="6690637">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690642">t</span><span class="op" id="6690643">.</span><span class="ident" id="6690644">Fatalf</span><span class="op" id="6690650">(</span><span class="string" id="6690651">&#34;got&nbsp;%v;&nbsp;want&nbsp;gt&nbsp;%v&#34;</span><span class="op" id="6690671">,</span>&nbsp;<span class="builtinfunc" id="6690673">len</span><span class="op" id="6690676">(</span><span class="ident" id="6690677">ift2</span><span class="op" id="6690681">)</span><span class="op" id="6690682">,</span>&nbsp;<span class="builtinfunc" id="6690684">len</span><span class="op" id="6690687">(</span><span class="ident" id="6690688">ift1</span><span class="op" id="6690692">)</span><span class="op" id="6690693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690701">if</span>&nbsp;<span class="ident" id="6690704">err</span>&nbsp;<span class="op" id="6690708">:=</span>&nbsp;<span class="ident" id="6690711">ti</span><span class="op" id="6690713">.</span><span class="ident" id="6690714">teardown</span><span class="op" id="6690722">(</span><span class="op" id="6690723">)</span><span class="op" id="6690724">;</span>&nbsp;<span class="ident" id="6690726">err</span>&nbsp;<span class="op" id="6690730">!=</span>&nbsp;<span class="builtintype" id="6690733">nil</span>&nbsp;<span class="op" id="6690737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690742">t</span><span class="op" id="6690743">.</span><span class="ident" id="6690744">Fatalf</span><span class="op" id="6690750">(</span><span class="string" id="6690751">&#34;testInterface.teardown&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6690786">,</span>&nbsp;<span class="ident" id="6690788">err</span><span class="op" id="6690791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690795">}</span>&nbsp;<span class="keyword" id="6690797">else</span>&nbsp;<span class="op" id="6690802">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690807">time</span><span class="op" id="6690811">.</span><span class="ident" id="6690812">Sleep</span><span class="op" id="6690817">(</span><span class="num" id="6690818">3</span>&nbsp;<span class="op" id="6690820">*</span>&nbsp;<span class="ident" id="6690822">time</span><span class="op" id="6690826">.</span><span class="ident" id="6690827">Millisecond</span><span class="op" id="6690838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690846">ift3</span><span class="op" id="6690850">,</span>&nbsp;<span class="ident" id="6690852">err</span>&nbsp;<span class="op" id="6690856">:=</span>&nbsp;<span class="ident" id="6690859">Interfaces</span><span class="op" id="6690869">(</span><span class="op" id="6690870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690874">if</span>&nbsp;<span class="ident" id="6690877">err</span>&nbsp;<span class="op" id="6690881">!=</span>&nbsp;<span class="builtintype" id="6690884">nil</span>&nbsp;<span class="op" id="6690888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6690893">t</span><span class="op" id="6690894">.</span><span class="ident" id="6690895">Fatalf</span><span class="op" id="6690901">(</span><span class="string" id="6690902">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6690925">,</span>&nbsp;<span class="ident" id="6690927">err</span><span class="op" id="6690930">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6690934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690938">if</span>&nbsp;<span class="builtinfunc" id="6690941">len</span><span class="op" id="6690944">(</span><span class="ident" id="6690945">ift3</span><span class="op" id="6690949">)</span>&nbsp;<span class="op" id="6690951">&gt;=</span>&nbsp;<span class="builtinfunc" id="6690954">len</span><span class="op" id="6690957">(</span><span class="ident" id="6690958">ift2</span><span class="op" id="6690962">)</span>&nbsp;<span class="op" id="6690964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6690969">for</span>&nbsp;<span class="ident" id="6690973">_</span><span class="op" id="6690974">,</span>&nbsp;<span class="ident" id="6690976">ifi</span>&nbsp;<span class="op" id="6690980">:=</span>&nbsp;<span class="keyword" id="6690983">range</span>&nbsp;<span class="ident" id="6690989">ift2</span>&nbsp;<span class="op" id="6690994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691000">t</span><span class="op" id="6691001">.</span><span class="ident" id="6691002">Logf</span><span class="op" id="6691006">(</span><span class="string" id="6691007">&#34;before:&nbsp;%v&#34;</span><span class="op" id="6691019">,</span>&nbsp;<span class="ident" id="6691021">ifi</span><span class="op" id="6691024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691029">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6691034">for</span>&nbsp;<span class="ident" id="6691038">_</span><span class="op" id="6691039">,</span>&nbsp;<span class="ident" id="6691041">ifi</span>&nbsp;<span class="op" id="6691045">:=</span>&nbsp;<span class="keyword" id="6691048">range</span>&nbsp;<span class="ident" id="6691054">ift3</span>&nbsp;<span class="op" id="6691059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691065">t</span><span class="op" id="6691066">.</span><span class="ident" id="6691067">Logf</span><span class="op" id="6691071">(</span><span class="string" id="6691072">&#34;after:&nbsp;%v&#34;</span><span class="op" id="6691083">,</span>&nbsp;<span class="ident" id="6691085">ifi</span><span class="op" id="6691088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6691098">t</span><span class="op" id="6691099">.</span><span class="ident" id="6691100">Fatalf</span><span class="op" id="6691106">(</span><span class="string" id="6691107">&#34;got&nbsp;%v;&nbsp;want&nbsp;lt&nbsp;%v&#34;</span><span class="op" id="6691127">,</span>&nbsp;<span class="builtinfunc" id="6691129">len</span><span class="op" id="6691132">(</span><span class="ident" id="6691133">ift3</span><span class="op" id="6691137">)</span><span class="op" id="6691138">,</span>&nbsp;<span class="builtinfunc" id="6691140">len</span><span class="op" id="6691143">(</span><span class="ident" id="6691144">ift2</span><span class="op" id="6691148">)</span><span class="op" id="6691149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691153">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691156">}</span><br>
<span class="lineno"></span><span class="op" id="6691158">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
