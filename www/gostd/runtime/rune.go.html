<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html" class="current">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1638607">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1639436">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1639552">package</span>&nbsp;<span class="ident" id="1639560">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1639569">const</span>&nbsp;<span class="op" id="1639575">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639578">bit1</span>&nbsp;<span class="op" id="1639583">=</span>&nbsp;<span class="num" id="1639585">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639588">bitx</span>&nbsp;<span class="op" id="1639593">=</span>&nbsp;<span class="num" id="1639595">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639598">bit2</span>&nbsp;<span class="op" id="1639603">=</span>&nbsp;<span class="num" id="1639605">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639608">bit3</span>&nbsp;<span class="op" id="1639613">=</span>&nbsp;<span class="num" id="1639615">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639618">bit4</span>&nbsp;<span class="op" id="1639623">=</span>&nbsp;<span class="num" id="1639625">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639628">bit5</span>&nbsp;<span class="op" id="1639633">=</span>&nbsp;<span class="num" id="1639635">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639639">t1</span>&nbsp;<span class="op" id="1639642">=</span>&nbsp;<span class="op" id="1639644">(</span><span class="op" id="1639645">(</span><span class="num" id="1639646">1</span>&nbsp;<span class="op" id="1639648">&lt;&lt;</span>&nbsp;<span class="op" id="1639651">(</span><span class="ident" id="1639652">bit1</span>&nbsp;<span class="op" id="1639657">+</span>&nbsp;<span class="num" id="1639659">1</span><span class="op" id="1639660">)</span><span class="op" id="1639661">)</span>&nbsp;<span class="op" id="1639663">-</span>&nbsp;<span class="num" id="1639665">1</span><span class="op" id="1639666">)</span>&nbsp;<span class="op" id="1639668">^</span>&nbsp;<span class="num" id="1639670">0xFF</span>&nbsp;<span class="comment" id="1639675">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639692">tx</span>&nbsp;<span class="op" id="1639695">=</span>&nbsp;<span class="op" id="1639697">(</span><span class="op" id="1639698">(</span><span class="num" id="1639699">1</span>&nbsp;<span class="op" id="1639701">&lt;&lt;</span>&nbsp;<span class="op" id="1639704">(</span><span class="ident" id="1639705">bitx</span>&nbsp;<span class="op" id="1639710">+</span>&nbsp;<span class="num" id="1639712">1</span><span class="op" id="1639713">)</span><span class="op" id="1639714">)</span>&nbsp;<span class="op" id="1639716">-</span>&nbsp;<span class="num" id="1639718">1</span><span class="op" id="1639719">)</span>&nbsp;<span class="op" id="1639721">^</span>&nbsp;<span class="num" id="1639723">0xFF</span>&nbsp;<span class="comment" id="1639728">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639745">t2</span>&nbsp;<span class="op" id="1639748">=</span>&nbsp;<span class="op" id="1639750">(</span><span class="op" id="1639751">(</span><span class="num" id="1639752">1</span>&nbsp;<span class="op" id="1639754">&lt;&lt;</span>&nbsp;<span class="op" id="1639757">(</span><span class="ident" id="1639758">bit2</span>&nbsp;<span class="op" id="1639763">+</span>&nbsp;<span class="num" id="1639765">1</span><span class="op" id="1639766">)</span><span class="op" id="1639767">)</span>&nbsp;<span class="op" id="1639769">-</span>&nbsp;<span class="num" id="1639771">1</span><span class="op" id="1639772">)</span>&nbsp;<span class="op" id="1639774">^</span>&nbsp;<span class="num" id="1639776">0xFF</span>&nbsp;<span class="comment" id="1639781">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639798">t3</span>&nbsp;<span class="op" id="1639801">=</span>&nbsp;<span class="op" id="1639803">(</span><span class="op" id="1639804">(</span><span class="num" id="1639805">1</span>&nbsp;<span class="op" id="1639807">&lt;&lt;</span>&nbsp;<span class="op" id="1639810">(</span><span class="ident" id="1639811">bit3</span>&nbsp;<span class="op" id="1639816">+</span>&nbsp;<span class="num" id="1639818">1</span><span class="op" id="1639819">)</span><span class="op" id="1639820">)</span>&nbsp;<span class="op" id="1639822">-</span>&nbsp;<span class="num" id="1639824">1</span><span class="op" id="1639825">)</span>&nbsp;<span class="op" id="1639827">^</span>&nbsp;<span class="num" id="1639829">0xFF</span>&nbsp;<span class="comment" id="1639834">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639851">t4</span>&nbsp;<span class="op" id="1639854">=</span>&nbsp;<span class="op" id="1639856">(</span><span class="op" id="1639857">(</span><span class="num" id="1639858">1</span>&nbsp;<span class="op" id="1639860">&lt;&lt;</span>&nbsp;<span class="op" id="1639863">(</span><span class="ident" id="1639864">bit4</span>&nbsp;<span class="op" id="1639869">+</span>&nbsp;<span class="num" id="1639871">1</span><span class="op" id="1639872">)</span><span class="op" id="1639873">)</span>&nbsp;<span class="op" id="1639875">-</span>&nbsp;<span class="num" id="1639877">1</span><span class="op" id="1639878">)</span>&nbsp;<span class="op" id="1639880">^</span>&nbsp;<span class="num" id="1639882">0xFF</span>&nbsp;<span class="comment" id="1639887">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639904">t5</span>&nbsp;<span class="op" id="1639907">=</span>&nbsp;<span class="op" id="1639909">(</span><span class="op" id="1639910">(</span><span class="num" id="1639911">1</span>&nbsp;<span class="op" id="1639913">&lt;&lt;</span>&nbsp;<span class="op" id="1639916">(</span><span class="ident" id="1639917">bit5</span>&nbsp;<span class="op" id="1639922">+</span>&nbsp;<span class="num" id="1639924">1</span><span class="op" id="1639925">)</span><span class="op" id="1639926">)</span>&nbsp;<span class="op" id="1639928">-</span>&nbsp;<span class="num" id="1639930">1</span><span class="op" id="1639931">)</span>&nbsp;<span class="op" id="1639933">^</span>&nbsp;<span class="num" id="1639935">0xFF</span>&nbsp;<span class="comment" id="1639940">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1639958">rune1</span>&nbsp;<span class="op" id="1639964">=</span>&nbsp;<span class="op" id="1639966">(</span><span class="num" id="1639967">1</span>&nbsp;<span class="op" id="1639969">&lt;&lt;</span>&nbsp;<span class="op" id="1639972">(</span><span class="ident" id="1639973">bit1</span>&nbsp;<span class="op" id="1639978">+</span>&nbsp;<span class="num" id="1639980">0</span><span class="op" id="1639981">*</span><span class="ident" id="1639982">bitx</span><span class="op" id="1639986">)</span><span class="op" id="1639987">)</span>&nbsp;<span class="op" id="1639989">-</span>&nbsp;<span class="num" id="1639991">1</span>&nbsp;<span class="comment" id="1639993">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640020">rune2</span>&nbsp;<span class="op" id="1640026">=</span>&nbsp;<span class="op" id="1640028">(</span><span class="num" id="1640029">1</span>&nbsp;<span class="op" id="1640031">&lt;&lt;</span>&nbsp;<span class="op" id="1640034">(</span><span class="ident" id="1640035">bit2</span>&nbsp;<span class="op" id="1640040">+</span>&nbsp;<span class="num" id="1640042">1</span><span class="op" id="1640043">*</span><span class="ident" id="1640044">bitx</span><span class="op" id="1640048">)</span><span class="op" id="1640049">)</span>&nbsp;<span class="op" id="1640051">-</span>&nbsp;<span class="num" id="1640053">1</span>&nbsp;<span class="comment" id="1640055">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640082">rune3</span>&nbsp;<span class="op" id="1640088">=</span>&nbsp;<span class="op" id="1640090">(</span><span class="num" id="1640091">1</span>&nbsp;<span class="op" id="1640093">&lt;&lt;</span>&nbsp;<span class="op" id="1640096">(</span><span class="ident" id="1640097">bit3</span>&nbsp;<span class="op" id="1640102">+</span>&nbsp;<span class="num" id="1640104">2</span><span class="op" id="1640105">*</span><span class="ident" id="1640106">bitx</span><span class="op" id="1640110">)</span><span class="op" id="1640111">)</span>&nbsp;<span class="op" id="1640113">-</span>&nbsp;<span class="num" id="1640115">1</span>&nbsp;<span class="comment" id="1640117">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640144">rune4</span>&nbsp;<span class="op" id="1640150">=</span>&nbsp;<span class="op" id="1640152">(</span><span class="num" id="1640153">1</span>&nbsp;<span class="op" id="1640155">&lt;&lt;</span>&nbsp;<span class="op" id="1640158">(</span><span class="ident" id="1640159">bit4</span>&nbsp;<span class="op" id="1640164">+</span>&nbsp;<span class="num" id="1640166">3</span><span class="op" id="1640167">*</span><span class="ident" id="1640168">bitx</span><span class="op" id="1640172">)</span><span class="op" id="1640173">)</span>&nbsp;<span class="op" id="1640175">-</span>&nbsp;<span class="num" id="1640177">1</span>&nbsp;<span class="comment" id="1640179">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640217">maskx</span>&nbsp;<span class="op" id="1640223">=</span>&nbsp;<span class="op" id="1640225">(</span><span class="num" id="1640226">1</span>&nbsp;<span class="op" id="1640228">&lt;&lt;</span>&nbsp;<span class="ident" id="1640231">bitx</span><span class="op" id="1640235">)</span>&nbsp;<span class="op" id="1640237">-</span>&nbsp;<span class="num" id="1640239">1</span>&nbsp;<span class="comment" id="1640241">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640258">testx</span>&nbsp;<span class="op" id="1640264">=</span>&nbsp;<span class="ident" id="1640266">maskx</span>&nbsp;<span class="op" id="1640272">^</span>&nbsp;<span class="num" id="1640274">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1640282">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640300">runeerror</span>&nbsp;<span class="op" id="1640310">=</span>&nbsp;<span class="num" id="1640312">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640320">runeself</span>&nbsp;&nbsp;<span class="op" id="1640330">=</span>&nbsp;<span class="num" id="1640332">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640339">surrogateMin</span>&nbsp;<span class="op" id="1640352">=</span>&nbsp;<span class="num" id="1640354">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640362">surrogateMax</span>&nbsp;<span class="op" id="1640375">=</span>&nbsp;<span class="num" id="1640377">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640386">bad</span>&nbsp;<span class="op" id="1640390">=</span>&nbsp;<span class="ident" id="1640392">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1640404">runemax</span>&nbsp;<span class="op" id="1640412">=</span>&nbsp;<span class="num" id="1640414">0x10FFFF</span>&nbsp;<span class="comment" id="1640423">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1640448">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1640451">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1641146">func</span>&nbsp;<span class="ident" id="1641151">charntorune</span><span class="op" id="1641162">(</span><span class="ident" id="1641163">s</span>&nbsp;<span class="builtintype" id="1641165">string</span><span class="op" id="1641171">)</span>&nbsp;<span class="op" id="1641173">(</span><span class="builtintype" id="1641174">rune</span><span class="op" id="1641178">,</span>&nbsp;<span class="builtintype" id="1641180">int</span><span class="op" id="1641183">)</span>&nbsp;<span class="op" id="1641185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1641188">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641235">if</span>&nbsp;<span class="builtinfunc" id="1641238">len</span><span class="op" id="1641241">(</span><span class="ident" id="1641242">s</span><span class="op" id="1641243">)</span>&nbsp;<span class="op" id="1641245">&lt;=</span>&nbsp;<span class="num" id="1641248">0</span>&nbsp;<span class="op" id="1641250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641254">return</span>&nbsp;<span class="ident" id="1641261">bad</span><span class="op" id="1641264">,</span>&nbsp;<span class="num" id="1641266">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641269">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1641273">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1641345">c</span>&nbsp;<span class="op" id="1641347">:=</span>&nbsp;<span class="ident" id="1641350">s</span><span class="op" id="1641351">[</span><span class="num" id="1641352">0</span><span class="op" id="1641353">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641356">if</span>&nbsp;<span class="ident" id="1641359">c</span>&nbsp;<span class="op" id="1641361">&lt;</span>&nbsp;<span class="ident" id="1641363">tx</span>&nbsp;<span class="op" id="1641366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641370">return</span>&nbsp;<span class="builtintype" id="1641377">rune</span><span class="op" id="1641381">(</span><span class="ident" id="1641382">c</span><span class="op" id="1641383">)</span><span class="op" id="1641384">,</span>&nbsp;<span class="num" id="1641386">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1641393">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641451">if</span>&nbsp;<span class="builtinfunc" id="1641454">len</span><span class="op" id="1641457">(</span><span class="ident" id="1641458">s</span><span class="op" id="1641459">)</span>&nbsp;<span class="op" id="1641461">&lt;=</span>&nbsp;<span class="num" id="1641464">1</span>&nbsp;<span class="op" id="1641466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641470">return</span>&nbsp;<span class="ident" id="1641477">bad</span><span class="op" id="1641480">,</span>&nbsp;<span class="num" id="1641482">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1641489">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1641563">c1</span>&nbsp;<span class="op" id="1641566">:=</span>&nbsp;<span class="ident" id="1641569">s</span><span class="op" id="1641570">[</span><span class="num" id="1641571">1</span><span class="op" id="1641572">]</span>&nbsp;<span class="op" id="1641574">^</span>&nbsp;<span class="ident" id="1641576">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641580">if</span>&nbsp;<span class="op" id="1641583">(</span><span class="ident" id="1641584">c1</span>&nbsp;<span class="op" id="1641587">&amp;</span>&nbsp;<span class="ident" id="1641589">testx</span><span class="op" id="1641594">)</span>&nbsp;<span class="op" id="1641596">!=</span>&nbsp;<span class="num" id="1641599">0</span>&nbsp;<span class="op" id="1641601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641605">return</span>&nbsp;<span class="ident" id="1641612">bad</span><span class="op" id="1641615">,</span>&nbsp;<span class="num" id="1641617">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641623">if</span>&nbsp;<span class="ident" id="1641626">c</span>&nbsp;<span class="op" id="1641628">&lt;</span>&nbsp;<span class="ident" id="1641630">t3</span>&nbsp;<span class="op" id="1641633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641637">if</span>&nbsp;<span class="ident" id="1641640">c</span>&nbsp;<span class="op" id="1641642">&lt;</span>&nbsp;<span class="ident" id="1641644">t2</span>&nbsp;<span class="op" id="1641647">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641652">return</span>&nbsp;<span class="ident" id="1641659">bad</span><span class="op" id="1641662">,</span>&nbsp;<span class="num" id="1641664">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1641672">l</span>&nbsp;<span class="op" id="1641674">:=</span>&nbsp;<span class="op" id="1641677">(</span><span class="op" id="1641678">(</span><span class="builtintype" id="1641679">rune</span><span class="op" id="1641683">(</span><span class="ident" id="1641684">c</span><span class="op" id="1641685">)</span>&nbsp;<span class="op" id="1641687">&lt;&lt;</span>&nbsp;<span class="ident" id="1641690">bitx</span><span class="op" id="1641694">)</span>&nbsp;<span class="op" id="1641696">|</span>&nbsp;<span class="builtintype" id="1641698">rune</span><span class="op" id="1641702">(</span><span class="ident" id="1641703">c1</span><span class="op" id="1641705">)</span><span class="op" id="1641706">)</span>&nbsp;<span class="op" id="1641708">&amp;</span>&nbsp;<span class="ident" id="1641710">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641718">if</span>&nbsp;<span class="ident" id="1641721">l</span>&nbsp;<span class="op" id="1641723">&lt;=</span>&nbsp;<span class="ident" id="1641726">rune1</span>&nbsp;<span class="op" id="1641732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641737">return</span>&nbsp;<span class="ident" id="1641744">bad</span><span class="op" id="1641747">,</span>&nbsp;<span class="num" id="1641749">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641757">return</span>&nbsp;<span class="ident" id="1641764">l</span><span class="op" id="1641765">,</span>&nbsp;<span class="num" id="1641767">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1641774">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641833">if</span>&nbsp;<span class="builtinfunc" id="1641836">len</span><span class="op" id="1641839">(</span><span class="ident" id="1641840">s</span><span class="op" id="1641841">)</span>&nbsp;<span class="op" id="1641843">&lt;=</span>&nbsp;<span class="num" id="1641846">2</span>&nbsp;<span class="op" id="1641848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641852">return</span>&nbsp;<span class="ident" id="1641859">bad</span><span class="op" id="1641862">,</span>&nbsp;<span class="num" id="1641864">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1641867">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1641871">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1641950">c2</span>&nbsp;<span class="op" id="1641953">:=</span>&nbsp;<span class="ident" id="1641956">s</span><span class="op" id="1641957">[</span><span class="num" id="1641958">2</span><span class="op" id="1641959">]</span>&nbsp;<span class="op" id="1641961">^</span>&nbsp;<span class="ident" id="1641963">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641967">if</span>&nbsp;<span class="op" id="1641970">(</span><span class="ident" id="1641971">c2</span>&nbsp;<span class="op" id="1641974">&amp;</span>&nbsp;<span class="ident" id="1641976">testx</span><span class="op" id="1641981">)</span>&nbsp;<span class="op" id="1641983">!=</span>&nbsp;<span class="num" id="1641986">0</span>&nbsp;<span class="op" id="1641988">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1641992">return</span>&nbsp;<span class="ident" id="1641999">bad</span><span class="op" id="1642002">,</span>&nbsp;<span class="num" id="1642004">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642010">if</span>&nbsp;<span class="ident" id="1642013">c</span>&nbsp;<span class="op" id="1642015">&lt;</span>&nbsp;<span class="ident" id="1642017">t4</span>&nbsp;<span class="op" id="1642020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1642024">l</span>&nbsp;<span class="op" id="1642026">:=</span>&nbsp;<span class="op" id="1642029">(</span><span class="op" id="1642030">(</span><span class="op" id="1642031">(</span><span class="op" id="1642032">(</span><span class="builtintype" id="1642033">rune</span><span class="op" id="1642037">(</span><span class="ident" id="1642038">c</span><span class="op" id="1642039">)</span>&nbsp;<span class="op" id="1642041">&lt;&lt;</span>&nbsp;<span class="ident" id="1642044">bitx</span><span class="op" id="1642048">)</span>&nbsp;<span class="op" id="1642050">|</span>&nbsp;<span class="builtintype" id="1642052">rune</span><span class="op" id="1642056">(</span><span class="ident" id="1642057">c1</span><span class="op" id="1642059">)</span><span class="op" id="1642060">)</span>&nbsp;<span class="op" id="1642062">&lt;&lt;</span>&nbsp;<span class="ident" id="1642065">bitx</span><span class="op" id="1642069">)</span>&nbsp;<span class="op" id="1642071">|</span>&nbsp;<span class="builtintype" id="1642073">rune</span><span class="op" id="1642077">(</span><span class="ident" id="1642078">c2</span><span class="op" id="1642080">)</span><span class="op" id="1642081">)</span>&nbsp;<span class="op" id="1642083">&amp;</span>&nbsp;<span class="ident" id="1642085">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642093">if</span>&nbsp;<span class="ident" id="1642096">l</span>&nbsp;<span class="op" id="1642098">&lt;=</span>&nbsp;<span class="ident" id="1642101">rune2</span>&nbsp;<span class="op" id="1642107">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642112">return</span>&nbsp;<span class="ident" id="1642119">bad</span><span class="op" id="1642122">,</span>&nbsp;<span class="num" id="1642124">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642132">if</span>&nbsp;<span class="ident" id="1642135">surrogateMin</span>&nbsp;<span class="op" id="1642148">&lt;=</span>&nbsp;<span class="ident" id="1642151">l</span>&nbsp;<span class="op" id="1642153">&amp;&amp;</span>&nbsp;<span class="ident" id="1642156">l</span>&nbsp;<span class="op" id="1642158">&lt;=</span>&nbsp;<span class="ident" id="1642161">surrogateMax</span>&nbsp;<span class="op" id="1642174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642179">return</span>&nbsp;<span class="ident" id="1642186">bad</span><span class="op" id="1642189">,</span>&nbsp;<span class="num" id="1642191">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642195">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642199">return</span>&nbsp;<span class="ident" id="1642206">l</span><span class="op" id="1642207">,</span>&nbsp;<span class="num" id="1642209">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642216">if</span>&nbsp;<span class="builtinfunc" id="1642219">len</span><span class="op" id="1642222">(</span><span class="ident" id="1642223">s</span><span class="op" id="1642224">)</span>&nbsp;<span class="op" id="1642226">&lt;=</span>&nbsp;<span class="num" id="1642229">3</span>&nbsp;<span class="op" id="1642231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642235">return</span>&nbsp;<span class="ident" id="1642242">bad</span><span class="op" id="1642245">,</span>&nbsp;<span class="num" id="1642247">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1642254">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1642338">c3</span>&nbsp;<span class="op" id="1642341">:=</span>&nbsp;<span class="ident" id="1642344">s</span><span class="op" id="1642345">[</span><span class="num" id="1642346">3</span><span class="op" id="1642347">]</span>&nbsp;<span class="op" id="1642349">^</span>&nbsp;<span class="ident" id="1642351">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642355">if</span>&nbsp;<span class="op" id="1642358">(</span><span class="ident" id="1642359">c3</span>&nbsp;<span class="op" id="1642362">&amp;</span>&nbsp;<span class="ident" id="1642364">testx</span><span class="op" id="1642369">)</span>&nbsp;<span class="op" id="1642371">!=</span>&nbsp;<span class="num" id="1642374">0</span>&nbsp;<span class="op" id="1642376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642380">return</span>&nbsp;<span class="ident" id="1642387">bad</span><span class="op" id="1642390">,</span>&nbsp;<span class="num" id="1642392">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642395">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642398">if</span>&nbsp;<span class="ident" id="1642401">c</span>&nbsp;<span class="op" id="1642403">&lt;</span>&nbsp;<span class="ident" id="1642405">t5</span>&nbsp;<span class="op" id="1642408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1642412">l</span>&nbsp;<span class="op" id="1642414">:=</span>&nbsp;<span class="op" id="1642417">(</span><span class="op" id="1642418">(</span><span class="op" id="1642419">(</span><span class="op" id="1642420">(</span><span class="op" id="1642421">(</span><span class="op" id="1642422">(</span><span class="builtintype" id="1642423">rune</span><span class="op" id="1642427">(</span><span class="ident" id="1642428">c</span><span class="op" id="1642429">)</span>&nbsp;<span class="op" id="1642431">&lt;&lt;</span>&nbsp;<span class="ident" id="1642434">bitx</span><span class="op" id="1642438">)</span>&nbsp;<span class="op" id="1642440">|</span>&nbsp;<span class="builtintype" id="1642442">rune</span><span class="op" id="1642446">(</span><span class="ident" id="1642447">c1</span><span class="op" id="1642449">)</span><span class="op" id="1642450">)</span>&nbsp;<span class="op" id="1642452">&lt;&lt;</span>&nbsp;<span class="ident" id="1642455">bitx</span><span class="op" id="1642459">)</span>&nbsp;<span class="op" id="1642461">|</span>&nbsp;<span class="builtintype" id="1642463">rune</span><span class="op" id="1642467">(</span><span class="ident" id="1642468">c2</span><span class="op" id="1642470">)</span><span class="op" id="1642471">)</span>&nbsp;<span class="op" id="1642473">&lt;&lt;</span>&nbsp;<span class="ident" id="1642476">bitx</span><span class="op" id="1642480">)</span>&nbsp;<span class="op" id="1642482">|</span>&nbsp;<span class="builtintype" id="1642484">rune</span><span class="op" id="1642488">(</span><span class="ident" id="1642489">c3</span><span class="op" id="1642491">)</span><span class="op" id="1642492">)</span>&nbsp;<span class="op" id="1642494">&amp;</span>&nbsp;<span class="ident" id="1642496">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642504">if</span>&nbsp;<span class="ident" id="1642507">l</span>&nbsp;<span class="op" id="1642509">&lt;=</span>&nbsp;<span class="ident" id="1642512">rune3</span>&nbsp;<span class="op" id="1642518">||</span>&nbsp;<span class="ident" id="1642521">l</span>&nbsp;<span class="op" id="1642523">&gt;</span>&nbsp;<span class="ident" id="1642525">runemax</span>&nbsp;<span class="op" id="1642533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642538">return</span>&nbsp;<span class="ident" id="1642545">bad</span><span class="op" id="1642548">,</span>&nbsp;<span class="num" id="1642550">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642554">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642558">return</span>&nbsp;<span class="ident" id="1642565">l</span><span class="op" id="1642566">,</span>&nbsp;<span class="num" id="1642568">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1642571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1642575">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1642633">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642686">return</span>&nbsp;<span class="ident" id="1642693">bad</span><span class="op" id="1642696">,</span>&nbsp;<span class="num" id="1642698">1</span><br>
<span class="lineno"></span><span class="op" id="1642700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1642703">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1642767">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1642809">func</span>&nbsp;<span class="ident" id="1642814">runetochar</span><span class="op" id="1642824">(</span><span class="ident" id="1642825">str</span>&nbsp;<span class="op" id="1642829">[</span><span class="op" id="1642830">]</span><span class="builtintype" id="1642831">byte</span><span class="op" id="1642835">,</span>&nbsp;<span class="ident" id="1642837">r</span>&nbsp;<span class="builtintype" id="1642839">rune</span><span class="op" id="1642843">)</span>&nbsp;<span class="builtintype" id="1642845">int</span>&nbsp;<span class="op" id="1642849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1642852">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1642917">c</span>&nbsp;<span class="op" id="1642919">:=</span>&nbsp;<span class="builtintype" id="1642922">uint32</span><span class="op" id="1642928">(</span><span class="ident" id="1642929">r</span><span class="op" id="1642930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1642933">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1642994">if</span>&nbsp;<span class="ident" id="1642997">c</span>&nbsp;<span class="op" id="1642999">&lt;=</span>&nbsp;<span class="ident" id="1643002">rune1</span>&nbsp;<span class="op" id="1643008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643012">str</span><span class="op" id="1643015">[</span><span class="num" id="1643016">0</span><span class="op" id="1643017">]</span>&nbsp;<span class="op" id="1643019">=</span>&nbsp;<span class="builtintype" id="1643021">byte</span><span class="op" id="1643025">(</span><span class="ident" id="1643026">c</span><span class="op" id="1643027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1643031">return</span>&nbsp;<span class="num" id="1643038">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1643041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1643044">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1643103">if</span>&nbsp;<span class="ident" id="1643106">c</span>&nbsp;<span class="op" id="1643108">&lt;=</span>&nbsp;<span class="ident" id="1643111">rune2</span>&nbsp;<span class="op" id="1643117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643121">str</span><span class="op" id="1643124">[</span><span class="num" id="1643125">0</span><span class="op" id="1643126">]</span>&nbsp;<span class="op" id="1643128">=</span>&nbsp;<span class="builtintype" id="1643130">byte</span><span class="op" id="1643134">(</span><span class="ident" id="1643135">t2</span>&nbsp;<span class="op" id="1643138">|</span>&nbsp;<span class="op" id="1643140">(</span><span class="ident" id="1643141">c</span>&nbsp;<span class="op" id="1643143">&gt;&gt;</span>&nbsp;<span class="op" id="1643146">(</span><span class="num" id="1643147">1</span>&nbsp;<span class="op" id="1643149">*</span>&nbsp;<span class="ident" id="1643151">bitx</span><span class="op" id="1643155">)</span><span class="op" id="1643156">)</span><span class="op" id="1643157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643161">str</span><span class="op" id="1643164">[</span><span class="num" id="1643165">1</span><span class="op" id="1643166">]</span>&nbsp;<span class="op" id="1643168">=</span>&nbsp;<span class="builtintype" id="1643170">byte</span><span class="op" id="1643174">(</span><span class="ident" id="1643175">tx</span>&nbsp;<span class="op" id="1643178">|</span>&nbsp;<span class="op" id="1643180">(</span><span class="ident" id="1643181">c</span>&nbsp;<span class="op" id="1643183">&amp;</span>&nbsp;<span class="ident" id="1643185">maskx</span><span class="op" id="1643190">)</span><span class="op" id="1643191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1643195">return</span>&nbsp;<span class="num" id="1643202">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1643205">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1643209">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1643483">if</span>&nbsp;<span class="ident" id="1643486">c</span>&nbsp;<span class="op" id="1643488">&gt;</span>&nbsp;<span class="ident" id="1643490">runemax</span>&nbsp;<span class="op" id="1643498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643502">c</span>&nbsp;<span class="op" id="1643504">=</span>&nbsp;<span class="ident" id="1643506">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1643517">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1643520">if</span>&nbsp;<span class="ident" id="1643523">surrogateMin</span>&nbsp;<span class="op" id="1643536">&lt;=</span>&nbsp;<span class="ident" id="1643539">c</span>&nbsp;<span class="op" id="1643541">&amp;&amp;</span>&nbsp;<span class="ident" id="1643544">c</span>&nbsp;<span class="op" id="1643546">&lt;=</span>&nbsp;<span class="ident" id="1643549">surrogateMax</span>&nbsp;<span class="op" id="1643562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643566">c</span>&nbsp;<span class="op" id="1643568">=</span>&nbsp;<span class="ident" id="1643570">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1643581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1643585">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1643649">if</span>&nbsp;<span class="ident" id="1643652">c</span>&nbsp;<span class="op" id="1643654">&lt;=</span>&nbsp;<span class="ident" id="1643657">rune3</span>&nbsp;<span class="op" id="1643663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643667">str</span><span class="op" id="1643670">[</span><span class="num" id="1643671">0</span><span class="op" id="1643672">]</span>&nbsp;<span class="op" id="1643674">=</span>&nbsp;<span class="builtintype" id="1643676">byte</span><span class="op" id="1643680">(</span><span class="ident" id="1643681">t3</span>&nbsp;<span class="op" id="1643684">|</span>&nbsp;<span class="op" id="1643686">(</span><span class="ident" id="1643687">c</span>&nbsp;<span class="op" id="1643689">&gt;&gt;</span>&nbsp;<span class="op" id="1643692">(</span><span class="num" id="1643693">2</span>&nbsp;<span class="op" id="1643695">*</span>&nbsp;<span class="ident" id="1643697">bitx</span><span class="op" id="1643701">)</span><span class="op" id="1643702">)</span><span class="op" id="1643703">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643707">str</span><span class="op" id="1643710">[</span><span class="num" id="1643711">1</span><span class="op" id="1643712">]</span>&nbsp;<span class="op" id="1643714">=</span>&nbsp;<span class="builtintype" id="1643716">byte</span><span class="op" id="1643720">(</span><span class="ident" id="1643721">tx</span>&nbsp;<span class="op" id="1643724">|</span>&nbsp;<span class="op" id="1643726">(</span><span class="op" id="1643727">(</span><span class="ident" id="1643728">c</span>&nbsp;<span class="op" id="1643730">&gt;&gt;</span>&nbsp;<span class="op" id="1643733">(</span><span class="num" id="1643734">1</span>&nbsp;<span class="op" id="1643736">*</span>&nbsp;<span class="ident" id="1643738">bitx</span><span class="op" id="1643742">)</span><span class="op" id="1643743">)</span>&nbsp;<span class="op" id="1643745">&amp;</span>&nbsp;<span class="ident" id="1643747">maskx</span><span class="op" id="1643752">)</span><span class="op" id="1643753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643757">str</span><span class="op" id="1643760">[</span><span class="num" id="1643761">2</span><span class="op" id="1643762">]</span>&nbsp;<span class="op" id="1643764">=</span>&nbsp;<span class="builtintype" id="1643766">byte</span><span class="op" id="1643770">(</span><span class="ident" id="1643771">tx</span>&nbsp;<span class="op" id="1643774">|</span>&nbsp;<span class="op" id="1643776">(</span><span class="ident" id="1643777">c</span>&nbsp;<span class="op" id="1643779">&amp;</span>&nbsp;<span class="ident" id="1643781">maskx</span><span class="op" id="1643786">)</span><span class="op" id="1643787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1643791">return</span>&nbsp;<span class="num" id="1643798">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1643801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1643805">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643893">str</span><span class="op" id="1643896">[</span><span class="num" id="1643897">0</span><span class="op" id="1643898">]</span>&nbsp;<span class="op" id="1643900">=</span>&nbsp;<span class="builtintype" id="1643902">byte</span><span class="op" id="1643906">(</span><span class="ident" id="1643907">t4</span>&nbsp;<span class="op" id="1643910">|</span>&nbsp;<span class="op" id="1643912">(</span><span class="ident" id="1643913">c</span>&nbsp;<span class="op" id="1643915">&gt;&gt;</span>&nbsp;<span class="op" id="1643918">(</span><span class="num" id="1643919">3</span>&nbsp;<span class="op" id="1643921">*</span>&nbsp;<span class="ident" id="1643923">bitx</span><span class="op" id="1643927">)</span><span class="op" id="1643928">)</span><span class="op" id="1643929">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643932">str</span><span class="op" id="1643935">[</span><span class="num" id="1643936">1</span><span class="op" id="1643937">]</span>&nbsp;<span class="op" id="1643939">=</span>&nbsp;<span class="builtintype" id="1643941">byte</span><span class="op" id="1643945">(</span><span class="ident" id="1643946">tx</span>&nbsp;<span class="op" id="1643949">|</span>&nbsp;<span class="op" id="1643951">(</span><span class="op" id="1643952">(</span><span class="ident" id="1643953">c</span>&nbsp;<span class="op" id="1643955">&gt;&gt;</span>&nbsp;<span class="op" id="1643958">(</span><span class="num" id="1643959">2</span>&nbsp;<span class="op" id="1643961">*</span>&nbsp;<span class="ident" id="1643963">bitx</span><span class="op" id="1643967">)</span><span class="op" id="1643968">)</span>&nbsp;<span class="op" id="1643970">&amp;</span>&nbsp;<span class="ident" id="1643972">maskx</span><span class="op" id="1643977">)</span><span class="op" id="1643978">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1643981">str</span><span class="op" id="1643984">[</span><span class="num" id="1643985">2</span><span class="op" id="1643986">]</span>&nbsp;<span class="op" id="1643988">=</span>&nbsp;<span class="builtintype" id="1643990">byte</span><span class="op" id="1643994">(</span><span class="ident" id="1643995">tx</span>&nbsp;<span class="op" id="1643998">|</span>&nbsp;<span class="op" id="1644000">(</span><span class="op" id="1644001">(</span><span class="ident" id="1644002">c</span>&nbsp;<span class="op" id="1644004">&gt;&gt;</span>&nbsp;<span class="op" id="1644007">(</span><span class="num" id="1644008">1</span>&nbsp;<span class="op" id="1644010">*</span>&nbsp;<span class="ident" id="1644012">bitx</span><span class="op" id="1644016">)</span><span class="op" id="1644017">)</span>&nbsp;<span class="op" id="1644019">&amp;</span>&nbsp;<span class="ident" id="1644021">maskx</span><span class="op" id="1644026">)</span><span class="op" id="1644027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1644030">str</span><span class="op" id="1644033">[</span><span class="num" id="1644034">3</span><span class="op" id="1644035">]</span>&nbsp;<span class="op" id="1644037">=</span>&nbsp;<span class="builtintype" id="1644039">byte</span><span class="op" id="1644043">(</span><span class="ident" id="1644044">tx</span>&nbsp;<span class="op" id="1644047">|</span>&nbsp;<span class="op" id="1644049">(</span><span class="ident" id="1644050">c</span>&nbsp;<span class="op" id="1644052">&amp;</span>&nbsp;<span class="ident" id="1644054">maskx</span><span class="op" id="1644059">)</span><span class="op" id="1644060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1644063">return</span>&nbsp;<span class="num" id="1644070">4</span><br>
<span class="lineno"></span><span class="op" id="1644072">}</span>
</div>
</body>
</html>
