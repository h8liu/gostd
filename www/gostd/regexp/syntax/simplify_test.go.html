<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html" class="current">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8435066">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8435122">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8435176">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8435227">package</span>&nbsp;<span class="ident" id="8435235">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8435243">import</span>&nbsp;<span class="string" id="8435250">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8435261">var</span>&nbsp;<span class="ident" id="8435265">simplifyTests</span>&nbsp;<span class="op" id="8435279">=</span>&nbsp;<span class="op" id="8435281">[</span><span class="op" id="8435282">]</span><span class="keyword" id="8435283">struct</span>&nbsp;<span class="op" id="8435290">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435293">Regexp</span>&nbsp;<span class="builtintype" id="8435300">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435308">Simple</span>&nbsp;<span class="builtintype" id="8435315">string</span><br>
<span class="lineno"></span><span class="op" id="8435322">}</span><span class="op" id="8435323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8435326">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435356">{</span><span class="string" id="8435357">`a`</span><span class="op" id="8435360">,</span>&nbsp;<span class="string" id="8435362">`a`</span><span class="op" id="8435365">}</span><span class="op" id="8435366">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435369">{</span><span class="string" id="8435370">`ab`</span><span class="op" id="8435374">,</span>&nbsp;<span class="string" id="8435376">`ab`</span><span class="op" id="8435380">}</span><span class="op" id="8435381">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435384">{</span><span class="string" id="8435385">`a|b`</span><span class="op" id="8435390">,</span>&nbsp;<span class="string" id="8435392">`[a-b]`</span><span class="op" id="8435399">}</span><span class="op" id="8435400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435403">{</span><span class="string" id="8435404">`ab|cd`</span><span class="op" id="8435411">,</span>&nbsp;<span class="string" id="8435413">`ab|cd`</span><span class="op" id="8435420">}</span><span class="op" id="8435421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435424">{</span><span class="string" id="8435425">`(ab)*`</span><span class="op" id="8435432">,</span>&nbsp;<span class="string" id="8435434">`(ab)*`</span><span class="op" id="8435441">}</span><span class="op" id="8435442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435445">{</span><span class="string" id="8435446">`(ab)+`</span><span class="op" id="8435453">,</span>&nbsp;<span class="string" id="8435455">`(ab)+`</span><span class="op" id="8435462">}</span><span class="op" id="8435463">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435466">{</span><span class="string" id="8435467">`(ab)?`</span><span class="op" id="8435474">,</span>&nbsp;<span class="string" id="8435476">`(ab)?`</span><span class="op" id="8435483">}</span><span class="op" id="8435484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435487">{</span><span class="string" id="8435488">`.`</span><span class="op" id="8435491">,</span>&nbsp;<span class="string" id="8435493">`(?s:.)`</span><span class="op" id="8435501">}</span><span class="op" id="8435502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435505">{</span><span class="string" id="8435506">`^`</span><span class="op" id="8435509">,</span>&nbsp;<span class="string" id="8435511">`^`</span><span class="op" id="8435514">}</span><span class="op" id="8435515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435518">{</span><span class="string" id="8435519">`$`</span><span class="op" id="8435522">,</span>&nbsp;<span class="string" id="8435524">`$`</span><span class="op" id="8435527">}</span><span class="op" id="8435528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435531">{</span><span class="string" id="8435532">`[ac]`</span><span class="op" id="8435538">,</span>&nbsp;<span class="string" id="8435540">`[ac]`</span><span class="op" id="8435546">}</span><span class="op" id="8435547">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435550">{</span><span class="string" id="8435551">`[^ac]`</span><span class="op" id="8435558">,</span>&nbsp;<span class="string" id="8435560">`[^ac]`</span><span class="op" id="8435567">}</span><span class="op" id="8435568">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8435572">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435600">{</span><span class="string" id="8435601">`[[:alnum:]]`</span><span class="op" id="8435614">,</span>&nbsp;<span class="string" id="8435616">`[0-9A-Za-z]`</span><span class="op" id="8435629">}</span><span class="op" id="8435630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435633">{</span><span class="string" id="8435634">`[[:alpha:]]`</span><span class="op" id="8435647">,</span>&nbsp;<span class="string" id="8435649">`[A-Za-z]`</span><span class="op" id="8435659">}</span><span class="op" id="8435660">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435663">{</span><span class="string" id="8435664">`[[:blank:]]`</span><span class="op" id="8435677">,</span>&nbsp;<span class="string" id="8435679">`[\t&nbsp;]`</span><span class="op" id="8435686">}</span><span class="op" id="8435687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435690">{</span><span class="string" id="8435691">`[[:cntrl:]]`</span><span class="op" id="8435704">,</span>&nbsp;<span class="string" id="8435706">`[\x00-\x1f\x7f]`</span><span class="op" id="8435723">}</span><span class="op" id="8435724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435727">{</span><span class="string" id="8435728">`[[:digit:]]`</span><span class="op" id="8435741">,</span>&nbsp;<span class="string" id="8435743">`[0-9]`</span><span class="op" id="8435750">}</span><span class="op" id="8435751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435754">{</span><span class="string" id="8435755">`[[:graph:]]`</span><span class="op" id="8435768">,</span>&nbsp;<span class="string" id="8435770">`[!-~]`</span><span class="op" id="8435777">}</span><span class="op" id="8435778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435781">{</span><span class="string" id="8435782">`[[:lower:]]`</span><span class="op" id="8435795">,</span>&nbsp;<span class="string" id="8435797">`[a-z]`</span><span class="op" id="8435804">}</span><span class="op" id="8435805">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435808">{</span><span class="string" id="8435809">`[[:print:]]`</span><span class="op" id="8435822">,</span>&nbsp;<span class="string" id="8435824">`[&nbsp;-~]`</span><span class="op" id="8435831">}</span><span class="op" id="8435832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435835">{</span><span class="string" id="8435836">`[[:punct:]]`</span><span class="op" id="8435849">,</span>&nbsp;<span class="string" id="8435851">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="8435871">}</span><span class="op" id="8435872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435875">{</span><span class="string" id="8435876">`[[:space:]]`</span><span class="op" id="8435889">,</span>&nbsp;<span class="string" id="8435891">`[\t-\r&nbsp;]`</span><span class="op" id="8435901">}</span><span class="op" id="8435902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435905">{</span><span class="string" id="8435906">`[[:upper:]]`</span><span class="op" id="8435919">,</span>&nbsp;<span class="string" id="8435921">`[A-Z]`</span><span class="op" id="8435928">}</span><span class="op" id="8435929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435932">{</span><span class="string" id="8435933">`[[:xdigit:]]`</span><span class="op" id="8435947">,</span>&nbsp;<span class="string" id="8435949">`[0-9A-Fa-f]`</span><span class="op" id="8435962">}</span><span class="op" id="8435963">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8435967">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435994">{</span><span class="string" id="8435995">`\d`</span><span class="op" id="8435999">,</span>&nbsp;<span class="string" id="8436001">`[0-9]`</span><span class="op" id="8436008">}</span><span class="op" id="8436009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436012">{</span><span class="string" id="8436013">`\s`</span><span class="op" id="8436017">,</span>&nbsp;<span class="string" id="8436019">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="8436034">}</span><span class="op" id="8436035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436038">{</span><span class="string" id="8436039">`\w`</span><span class="op" id="8436043">,</span>&nbsp;<span class="string" id="8436045">`[0-9A-Z_a-z]`</span><span class="op" id="8436059">}</span><span class="op" id="8436060">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436063">{</span><span class="string" id="8436064">`\D`</span><span class="op" id="8436068">,</span>&nbsp;<span class="string" id="8436070">`[^0-9]`</span><span class="op" id="8436078">}</span><span class="op" id="8436079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436082">{</span><span class="string" id="8436083">`\S`</span><span class="op" id="8436087">,</span>&nbsp;<span class="string" id="8436089">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="8436105">}</span><span class="op" id="8436106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436109">{</span><span class="string" id="8436110">`\W`</span><span class="op" id="8436114">,</span>&nbsp;<span class="string" id="8436116">`[^0-9A-Z_a-z]`</span><span class="op" id="8436131">}</span><span class="op" id="8436132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436135">{</span><span class="string" id="8436136">`[\d]`</span><span class="op" id="8436142">,</span>&nbsp;<span class="string" id="8436144">`[0-9]`</span><span class="op" id="8436151">}</span><span class="op" id="8436152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436155">{</span><span class="string" id="8436156">`[\s]`</span><span class="op" id="8436162">,</span>&nbsp;<span class="string" id="8436164">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="8436179">}</span><span class="op" id="8436180">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436183">{</span><span class="string" id="8436184">`[\w]`</span><span class="op" id="8436190">,</span>&nbsp;<span class="string" id="8436192">`[0-9A-Z_a-z]`</span><span class="op" id="8436206">}</span><span class="op" id="8436207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436210">{</span><span class="string" id="8436211">`[\D]`</span><span class="op" id="8436217">,</span>&nbsp;<span class="string" id="8436219">`[^0-9]`</span><span class="op" id="8436227">}</span><span class="op" id="8436228">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436231">{</span><span class="string" id="8436232">`[\S]`</span><span class="op" id="8436238">,</span>&nbsp;<span class="string" id="8436240">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="8436256">}</span><span class="op" id="8436257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436260">{</span><span class="string" id="8436261">`[\W]`</span><span class="op" id="8436267">,</span>&nbsp;<span class="string" id="8436269">`[^0-9A-Z_a-z]`</span><span class="op" id="8436284">}</span><span class="op" id="8436285">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436289">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436311">{</span><span class="string" id="8436312">`a{1}`</span><span class="op" id="8436318">,</span>&nbsp;<span class="string" id="8436320">`a`</span><span class="op" id="8436323">}</span><span class="op" id="8436324">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436327">{</span><span class="string" id="8436328">`a{2}`</span><span class="op" id="8436334">,</span>&nbsp;<span class="string" id="8436336">`aa`</span><span class="op" id="8436340">}</span><span class="op" id="8436341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436344">{</span><span class="string" id="8436345">`a{5}`</span><span class="op" id="8436351">,</span>&nbsp;<span class="string" id="8436353">`aaaaa`</span><span class="op" id="8436360">}</span><span class="op" id="8436361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436364">{</span><span class="string" id="8436365">`a{0,1}`</span><span class="op" id="8436373">,</span>&nbsp;<span class="string" id="8436375">`a?`</span><span class="op" id="8436379">}</span><span class="op" id="8436380">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436383">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436446">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436502">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436579">{</span><span class="string" id="8436580">`(a){0,2}`</span><span class="op" id="8436590">,</span>&nbsp;<span class="string" id="8436592">`(?:(a)(a)?)?`</span><span class="op" id="8436606">}</span><span class="op" id="8436607">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8436631">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436648">{</span><span class="string" id="8436649">`(a){0,4}`</span><span class="op" id="8436659">,</span>&nbsp;<span class="string" id="8436661">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="8436691">}</span><span class="op" id="8436692">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8436700">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436721">{</span><span class="string" id="8436722">`(a){2,6}`</span><span class="op" id="8436732">,</span>&nbsp;<span class="string" id="8436734">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="8436770">}</span><span class="op" id="8436771">,</span>&nbsp;<span class="comment" id="8436773">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436794">{</span><span class="string" id="8436795">`a{0,2}`</span><span class="op" id="8436803">,</span>&nbsp;<span class="string" id="8436805">`(?:aa?)?`</span><span class="op" id="8436815">}</span><span class="op" id="8436816">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8436846">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436863">{</span><span class="string" id="8436864">`a{0,4}`</span><span class="op" id="8436872">,</span>&nbsp;<span class="string" id="8436874">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="8436896">}</span><span class="op" id="8436897">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8436915">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436936">{</span><span class="string" id="8436937">`a{2,6}`</span><span class="op" id="8436945">,</span>&nbsp;<span class="string" id="8436947">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="8436971">}</span><span class="op" id="8436972">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8436988">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437009">{</span><span class="string" id="8437010">`a{0,}`</span><span class="op" id="8437017">,</span>&nbsp;<span class="string" id="8437019">`a*`</span><span class="op" id="8437023">}</span><span class="op" id="8437024">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437027">{</span><span class="string" id="8437028">`a{1,}`</span><span class="op" id="8437035">,</span>&nbsp;<span class="string" id="8437037">`a+`</span><span class="op" id="8437041">}</span><span class="op" id="8437042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437045">{</span><span class="string" id="8437046">`a{2,}`</span><span class="op" id="8437053">,</span>&nbsp;<span class="string" id="8437055">`aa+`</span><span class="op" id="8437060">}</span><span class="op" id="8437061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437064">{</span><span class="string" id="8437065">`a{5,}`</span><span class="op" id="8437072">,</span>&nbsp;<span class="string" id="8437074">`aaaaa+`</span><span class="op" id="8437082">}</span><span class="op" id="8437083">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437087">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437137">{</span><span class="string" id="8437138">`(?:a{1,}){1,}`</span><span class="op" id="8437153">,</span>&nbsp;<span class="string" id="8437155">`a+`</span><span class="op" id="8437159">}</span><span class="op" id="8437160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437163">{</span><span class="string" id="8437164">`(a{1,}b{1,})`</span><span class="op" id="8437178">,</span>&nbsp;<span class="string" id="8437180">`(a+b+)`</span><span class="op" id="8437188">}</span><span class="op" id="8437189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437192">{</span><span class="string" id="8437193">`a{1,}|b{1,}`</span><span class="op" id="8437206">,</span>&nbsp;<span class="string" id="8437208">`a+|b+`</span><span class="op" id="8437215">}</span><span class="op" id="8437216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437219">{</span><span class="string" id="8437220">`(?:a{1,})*`</span><span class="op" id="8437232">,</span>&nbsp;<span class="string" id="8437234">`(?:a+)*`</span><span class="op" id="8437243">}</span><span class="op" id="8437244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437247">{</span><span class="string" id="8437248">`(?:a{1,})+`</span><span class="op" id="8437260">,</span>&nbsp;<span class="string" id="8437262">`a+`</span><span class="op" id="8437266">}</span><span class="op" id="8437267">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437270">{</span><span class="string" id="8437271">`(?:a{1,})?`</span><span class="op" id="8437283">,</span>&nbsp;<span class="string" id="8437285">`(?:a+)?`</span><span class="op" id="8437294">}</span><span class="op" id="8437295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437298">{</span><span class="string" id="8437299">``</span><span class="op" id="8437301">,</span>&nbsp;<span class="string" id="8437303">`(?:)`</span><span class="op" id="8437309">}</span><span class="op" id="8437310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437313">{</span><span class="string" id="8437314">`a{0}`</span><span class="op" id="8437320">,</span>&nbsp;<span class="string" id="8437322">`(?:)`</span><span class="op" id="8437328">}</span><span class="op" id="8437329">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437333">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437368">{</span><span class="string" id="8437369">`[ab]`</span><span class="op" id="8437375">,</span>&nbsp;<span class="string" id="8437377">`[a-b]`</span><span class="op" id="8437384">}</span><span class="op" id="8437385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437388">{</span><span class="string" id="8437389">`[a-za-za-z]`</span><span class="op" id="8437402">,</span>&nbsp;<span class="string" id="8437404">`[a-z]`</span><span class="op" id="8437411">}</span><span class="op" id="8437412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437415">{</span><span class="string" id="8437416">`[A-Za-zA-Za-z]`</span><span class="op" id="8437432">,</span>&nbsp;<span class="string" id="8437434">`[A-Za-z]`</span><span class="op" id="8437444">}</span><span class="op" id="8437445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437448">{</span><span class="string" id="8437449">`[ABCDEFGH]`</span><span class="op" id="8437461">,</span>&nbsp;<span class="string" id="8437463">`[A-H]`</span><span class="op" id="8437470">}</span><span class="op" id="8437471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437474">{</span><span class="string" id="8437475">`[AB-CD-EF-GH]`</span><span class="op" id="8437490">,</span>&nbsp;<span class="string" id="8437492">`[A-H]`</span><span class="op" id="8437499">}</span><span class="op" id="8437500">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437503">{</span><span class="string" id="8437504">`[W-ZP-XE-R]`</span><span class="op" id="8437517">,</span>&nbsp;<span class="string" id="8437519">`[E-Z]`</span><span class="op" id="8437526">}</span><span class="op" id="8437527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437530">{</span><span class="string" id="8437531">`[a-ee-gg-m]`</span><span class="op" id="8437544">,</span>&nbsp;<span class="string" id="8437546">`[a-m]`</span><span class="op" id="8437553">}</span><span class="op" id="8437554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437557">{</span><span class="string" id="8437558">`[a-ea-ha-m]`</span><span class="op" id="8437571">,</span>&nbsp;<span class="string" id="8437573">`[a-m]`</span><span class="op" id="8437580">}</span><span class="op" id="8437581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437584">{</span><span class="string" id="8437585">`[a-ma-ha-e]`</span><span class="op" id="8437598">,</span>&nbsp;<span class="string" id="8437600">`[a-m]`</span><span class="op" id="8437607">}</span><span class="op" id="8437608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437611">{</span><span class="string" id="8437612">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="8437628">,</span>&nbsp;<span class="string" id="8437630">`[&nbsp;-~]`</span><span class="op" id="8437637">}</span><span class="op" id="8437638">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437642">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437670">{</span><span class="string" id="8437671">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="8437695">,</span>&nbsp;<span class="string" id="8437697">`[^\x00-\x{10FFFF}]`</span><span class="op" id="8437717">}</span><span class="op" id="8437718">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437722">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437749">{</span><span class="string" id="8437750">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="8437773">,</span>&nbsp;<span class="string" id="8437775">`(?s:.)`</span><span class="op" id="8437783">}</span><span class="op" id="8437784">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437788">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437814">{</span><span class="string" id="8437815">`(?i)A`</span><span class="op" id="8437822">,</span>&nbsp;<span class="string" id="8437824">`(?i:A)`</span><span class="op" id="8437832">}</span><span class="op" id="8437833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437836">{</span><span class="string" id="8437837">`(?i)a`</span><span class="op" id="8437844">,</span>&nbsp;<span class="string" id="8437846">`(?i:A)`</span><span class="op" id="8437854">}</span><span class="op" id="8437855">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437858">{</span><span class="string" id="8437859">`(?i)[A]`</span><span class="op" id="8437868">,</span>&nbsp;<span class="string" id="8437870">`(?i:A)`</span><span class="op" id="8437878">}</span><span class="op" id="8437879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437882">{</span><span class="string" id="8437883">`(?i)[a]`</span><span class="op" id="8437892">,</span>&nbsp;<span class="string" id="8437894">`(?i:A)`</span><span class="op" id="8437902">}</span><span class="op" id="8437903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437906">{</span><span class="string" id="8437907">`(?i)K`</span><span class="op" id="8437914">,</span>&nbsp;<span class="string" id="8437916">`(?i:K)`</span><span class="op" id="8437924">}</span><span class="op" id="8437925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437928">{</span><span class="string" id="8437929">`(?i)k`</span><span class="op" id="8437936">,</span>&nbsp;<span class="string" id="8437938">`(?i:K)`</span><span class="op" id="8437946">}</span><span class="op" id="8437947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437950">{</span><span class="string" id="8437951">`(?i)\x{212a}`</span><span class="op" id="8437965">,</span>&nbsp;<span class="string" id="8437967">&#34;(?i:K)&#34;</span><span class="op" id="8437975">}</span><span class="op" id="8437976">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437979">{</span><span class="string" id="8437980">`(?i)[K]`</span><span class="op" id="8437989">,</span>&nbsp;<span class="string" id="8437991">&#34;[Kk\u212A]&#34;</span><span class="op" id="8438003">}</span><span class="op" id="8438004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438007">{</span><span class="string" id="8438008">`(?i)[k]`</span><span class="op" id="8438017">,</span>&nbsp;<span class="string" id="8438019">&#34;[Kk\u212A]&#34;</span><span class="op" id="8438031">}</span><span class="op" id="8438032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438035">{</span><span class="string" id="8438036">`(?i)[\x{212a}]`</span><span class="op" id="8438052">,</span>&nbsp;<span class="string" id="8438054">&#34;[Kk\u212A]&#34;</span><span class="op" id="8438066">}</span><span class="op" id="8438067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438070">{</span><span class="string" id="8438071">`(?i)[a-z]`</span><span class="op" id="8438082">,</span>&nbsp;<span class="string" id="8438084">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="8438106">}</span><span class="op" id="8438107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438110">{</span><span class="string" id="8438111">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="8438132">,</span>&nbsp;<span class="string" id="8438134">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="8438150">}</span><span class="op" id="8438151">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438154">{</span><span class="string" id="8438155">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="8438178">,</span>&nbsp;<span class="string" id="8438180">`(?s:.)`</span><span class="op" id="8438188">}</span><span class="op" id="8438189">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438193">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438235">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438297">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438356">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438418">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438481">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438532">{</span><span class="string" id="8438533">`(a|b|)`</span><span class="op" id="8438541">,</span>&nbsp;<span class="string" id="8438543">`([a-b]|(?:))`</span><span class="op" id="8438557">}</span><span class="op" id="8438558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438561">{</span><span class="string" id="8438562">`(|)`</span><span class="op" id="8438567">,</span>&nbsp;<span class="string" id="8438569">`()`</span><span class="op" id="8438573">}</span><span class="op" id="8438574">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438577">{</span><span class="string" id="8438578">`a()`</span><span class="op" id="8438583">,</span>&nbsp;<span class="string" id="8438585">`a()`</span><span class="op" id="8438590">}</span><span class="op" id="8438591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438594">{</span><span class="string" id="8438595">`(()|())`</span><span class="op" id="8438604">,</span>&nbsp;<span class="string" id="8438606">`(()|())`</span><span class="op" id="8438615">}</span><span class="op" id="8438616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438619">{</span><span class="string" id="8438620">`(a|)`</span><span class="op" id="8438626">,</span>&nbsp;<span class="string" id="8438628">`(a|(?:))`</span><span class="op" id="8438638">}</span><span class="op" id="8438639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438642">{</span><span class="string" id="8438643">`ab()cd()`</span><span class="op" id="8438653">,</span>&nbsp;<span class="string" id="8438655">`ab()cd()`</span><span class="op" id="8438665">}</span><span class="op" id="8438666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438669">{</span><span class="string" id="8438670">`()`</span><span class="op" id="8438674">,</span>&nbsp;<span class="string" id="8438676">`()`</span><span class="op" id="8438680">}</span><span class="op" id="8438681">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438684">{</span><span class="string" id="8438685">`()*`</span><span class="op" id="8438690">,</span>&nbsp;<span class="string" id="8438692">`()*`</span><span class="op" id="8438697">}</span><span class="op" id="8438698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438701">{</span><span class="string" id="8438702">`()+`</span><span class="op" id="8438707">,</span>&nbsp;<span class="string" id="8438709">`()+`</span><span class="op" id="8438714">}</span><span class="op" id="8438715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438718">{</span><span class="string" id="8438719">`()?`</span><span class="op" id="8438724">,</span>&nbsp;<span class="string" id="8438726">`()?`</span><span class="op" id="8438731">}</span><span class="op" id="8438732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438735">{</span><span class="string" id="8438736">`(){0}`</span><span class="op" id="8438743">,</span>&nbsp;<span class="string" id="8438745">`(?:)`</span><span class="op" id="8438751">}</span><span class="op" id="8438752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438755">{</span><span class="string" id="8438756">`(){1}`</span><span class="op" id="8438763">,</span>&nbsp;<span class="string" id="8438765">`()`</span><span class="op" id="8438769">}</span><span class="op" id="8438770">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438773">{</span><span class="string" id="8438774">`(){1,}`</span><span class="op" id="8438782">,</span>&nbsp;<span class="string" id="8438784">`()+`</span><span class="op" id="8438789">}</span><span class="op" id="8438790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438793">{</span><span class="string" id="8438794">`(){0,2}`</span><span class="op" id="8438803">,</span>&nbsp;<span class="string" id="8438805">`(?:()()?)?`</span><span class="op" id="8438817">}</span><span class="op" id="8438818">,</span><br>
<span class="lineno"></span><span class="op" id="8438820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8438823">func</span>&nbsp;<span class="ident" id="8438828">TestSimplify</span><span class="op" id="8438840">(</span><span class="ident" id="8438841">t</span>&nbsp;<span class="op" id="8438843">*</span><span class="ident" id="8438844">testing</span><span class="op" id="8438851">.</span><span class="ident" id="8438852">T</span><span class="op" id="8438853">)</span>&nbsp;<span class="op" id="8438855">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438858">for</span>&nbsp;<span class="ident" id="8438862">_</span><span class="op" id="8438863">,</span>&nbsp;<span class="ident" id="8438865">tt</span>&nbsp;<span class="op" id="8438868">:=</span>&nbsp;<span class="keyword" id="8438871">range</span>&nbsp;<span class="ident" id="8438877">simplifyTests</span>&nbsp;<span class="op" id="8438891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438895">re</span><span class="op" id="8438897">,</span>&nbsp;<span class="ident" id="8438899">err</span>&nbsp;<span class="op" id="8438903">:=</span>&nbsp;<span class="ident" id="8438906">Parse</span><span class="op" id="8438911">(</span><span class="ident" id="8438912">tt</span><span class="op" id="8438914">.</span><span class="ident" id="8438915">Regexp</span><span class="op" id="8438921">,</span>&nbsp;<span class="ident" id="8438923">MatchNL</span><span class="op" id="8438930">|</span><span class="ident" id="8438931">Perl</span><span class="op" id="8438935">&amp;^</span><span class="ident" id="8438937">OneLine</span><span class="op" id="8438944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438948">if</span>&nbsp;<span class="ident" id="8438951">err</span>&nbsp;<span class="op" id="8438955">!=</span>&nbsp;<span class="ident" id="8438958">nil</span>&nbsp;<span class="op" id="8438962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438967">t</span><span class="op" id="8438968">.</span><span class="ident" id="8438969">Errorf</span><span class="op" id="8438975">(</span><span class="string" id="8438976">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="8438999">,</span>&nbsp;<span class="ident" id="8439001">tt</span><span class="op" id="8439003">.</span><span class="ident" id="8439004">Regexp</span><span class="op" id="8439010">,</span>&nbsp;<span class="ident" id="8439012">err</span><span class="op" id="8439015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439020">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439035">s</span>&nbsp;<span class="op" id="8439037">:=</span>&nbsp;<span class="ident" id="8439040">re</span><span class="op" id="8439042">.</span><span class="ident" id="8439043">Simplify</span><span class="op" id="8439051">(</span><span class="op" id="8439052">)</span><span class="op" id="8439053">.</span><span class="ident" id="8439054">String</span><span class="op" id="8439060">(</span><span class="op" id="8439061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439065">if</span>&nbsp;<span class="ident" id="8439068">s</span>&nbsp;<span class="op" id="8439070">!=</span>&nbsp;<span class="ident" id="8439073">tt</span><span class="op" id="8439075">.</span><span class="ident" id="8439076">Simple</span>&nbsp;<span class="op" id="8439083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439088">t</span><span class="op" id="8439089">.</span><span class="ident" id="8439090">Errorf</span><span class="op" id="8439096">(</span><span class="string" id="8439097">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="8439128">,</span>&nbsp;<span class="ident" id="8439130">tt</span><span class="op" id="8439132">.</span><span class="ident" id="8439133">Regexp</span><span class="op" id="8439139">,</span>&nbsp;<span class="ident" id="8439141">s</span><span class="op" id="8439142">,</span>&nbsp;<span class="ident" id="8439144">tt</span><span class="op" id="8439146">.</span><span class="ident" id="8439147">Simple</span><span class="op" id="8439153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439157">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439160">}</span><br>
<span class="lineno"></span><span class="op" id="8439162">}</span>
</div>
</body>
</html>
