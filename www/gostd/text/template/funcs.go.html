<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html" class="current">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3720342">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3720397">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3720451">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3720502">package</span>&nbsp;<span class="ident" id="3720510">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3720520">import</span>&nbsp;<span class="op" id="3720527">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720530">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720539">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720549">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720556">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720562">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720573">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720584">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720595">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3720606">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="3720621">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3720624">//&nbsp;FuncMap&nbsp;is&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;map&nbsp;defining&nbsp;the&nbsp;mapping&nbsp;from&nbsp;names&nbsp;to&nbsp;functions.</span><br>
<span class="lineno">20</span><span class="comment" id="3720704">//&nbsp;Each&nbsp;function&nbsp;must&nbsp;have&nbsp;either&nbsp;a&nbsp;single&nbsp;return&nbsp;value,&nbsp;or&nbsp;two&nbsp;return&nbsp;values&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3720785">//&nbsp;which&nbsp;the&nbsp;second&nbsp;has&nbsp;type&nbsp;error.&nbsp;In&nbsp;that&nbsp;case,&nbsp;if&nbsp;the&nbsp;second&nbsp;(error)</span><br>
<span class="lineno"></span><span class="comment" id="3720857">//&nbsp;return&nbsp;value&nbsp;evaluates&nbsp;to&nbsp;non-nil&nbsp;during&nbsp;execution,&nbsp;execution&nbsp;terminates&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3720937">//&nbsp;Execute&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3720968">type</span>&nbsp;<span class="ident" id="3720973">FuncMap</span>&nbsp;<span class="keyword" id="3720981">map</span><span class="op" id="3720984">[</span><span class="builtintype" id="3720985">string</span><span class="op" id="3720991">]</span><span class="keyword" id="3720992">interface</span><span class="op" id="3721001">{</span><span class="op" id="3721002">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3721005">var</span>&nbsp;<span class="ident" id="3721009">builtins</span>&nbsp;<span class="op" id="3721018">=</span>&nbsp;<span class="ident" id="3721020"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><span class="op" id="3721027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721030">&#34;and&#34;</span><span class="op" id="3721035">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721042"><a href="/gostd/text/template/funcs.go.html#3726723">and</a></span><span class="op" id="3721045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721048">&#34;call&#34;</span><span class="op" id="3721054">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721060"><a href="/gostd/text/template/funcs.go.html#3725118">call</a></span><span class="op" id="3721064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721067">&#34;html&#34;</span><span class="op" id="3721073">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721079"><a href="/gostd/text/template/funcs.go.html#3732497">HTMLEscaper</a></span><span class="op" id="3721090">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721093">&#34;index&#34;</span><span class="op" id="3721100">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721105"><a href="/gostd/text/template/funcs.go.html#3723225">index</a></span><span class="op" id="3721110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721113">&#34;js&#34;</span><span class="op" id="3721117">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721125"><a href="/gostd/text/template/funcs.go.html#3734289">JSEscaper</a></span><span class="op" id="3721134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721137">&#34;len&#34;</span><span class="op" id="3721142">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721149"><a href="/gostd/text/template/funcs.go.html#3724608">length</a></span><span class="op" id="3721155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721158">&#34;not&#34;</span><span class="op" id="3721163">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721170"><a href="/gostd/text/template/funcs.go.html#3727275">not</a></span><span class="op" id="3721173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721176">&#34;or&#34;</span><span class="op" id="3721180">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721188"><a href="/gostd/text/template/funcs.go.html#3727035">or</a></span><span class="op" id="3721190">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721193">&#34;print&#34;</span><span class="op" id="3721200">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721205"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3721208">.</span><span class="ident" id="3721209"><a href="/gostd/fmt/print.go.html#2144876">Sprint</a></span><span class="op" id="3721215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721218">&#34;printf&#34;</span><span class="op" id="3721226">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3721230"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3721233">.</span><span class="ident" id="3721234"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3721241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721244">&#34;println&#34;</span><span class="op" id="3721253">:</span>&nbsp;&nbsp;<span class="ident" id="3721256"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3721259">.</span><span class="ident" id="3721260"><a href="/gostd/fmt/print.go.html#2146029">Sprintln</a></span><span class="op" id="3721268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721271">&#34;urlquery&#34;</span><span class="op" id="3721281">:</span>&nbsp;<span class="ident" id="3721283"><a href="/gostd/text/template/funcs.go.html#3734520">URLQueryEscaper</a></span><span class="op" id="3721298">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3721302">//&nbsp;Comparisons</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721318">&#34;eq&#34;</span><span class="op" id="3721322">:</span>&nbsp;<span class="ident" id="3721324"><a href="/gostd/text/template/funcs.go.html#3728428">eq</a></span><span class="op" id="3721326">,</span>&nbsp;<span class="comment" id="3721328">//&nbsp;==</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721335">&#34;ge&#34;</span><span class="op" id="3721339">:</span>&nbsp;<span class="ident" id="3721341"><a href="/gostd/text/template/funcs.go.html#3731249">ge</a></span><span class="op" id="3721343">,</span>&nbsp;<span class="comment" id="3721345">//&nbsp;&gt;=</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721352">&#34;gt&#34;</span><span class="op" id="3721356">:</span>&nbsp;<span class="ident" id="3721358"><a href="/gostd/text/template/funcs.go.html#3731029">gt</a></span><span class="op" id="3721360">,</span>&nbsp;<span class="comment" id="3721362">//&nbsp;&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721368">&#34;le&#34;</span><span class="op" id="3721372">:</span>&nbsp;<span class="ident" id="3721374"><a href="/gostd/text/template/funcs.go.html#3730810">le</a></span><span class="op" id="3721376">,</span>&nbsp;<span class="comment" id="3721378">//&nbsp;&lt;=</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721385">&#34;lt&#34;</span><span class="op" id="3721389">:</span>&nbsp;<span class="ident" id="3721391"><a href="/gostd/text/template/funcs.go.html#3729815">lt</a></span><span class="op" id="3721393">,</span>&nbsp;<span class="comment" id="3721395">//&nbsp;&lt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3721401">&#34;ne&#34;</span><span class="op" id="3721405">:</span>&nbsp;<span class="ident" id="3721407"><a href="/gostd/text/template/funcs.go.html#3729647">ne</a></span><span class="op" id="3721409">,</span>&nbsp;<span class="comment" id="3721411">//&nbsp;!=</span><br>
<span class="lineno"></span><span class="op" id="3721417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3721420">var</span>&nbsp;<span class="ident" id="3721424">builtinFuncs</span>&nbsp;<span class="op" id="3721437">=</span>&nbsp;<span class="ident" id="3721439"><a href="/gostd/text/template/funcs.go.html#3721540">createValueFuncs</a></span><span class="op" id="3721455">(</span><span class="ident" id="3721456"><a href="/gostd/text/template/funcs.go.html#3721009">builtins</a></span><span class="op" id="3721464">)</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="3721467">//&nbsp;createValueFuncs&nbsp;turns&nbsp;a&nbsp;FuncMap&nbsp;into&nbsp;a&nbsp;map[string]reflect.Value</span><br>
<span class="lineno"></span><span class="keyword" id="3721535">func</span>&nbsp;<span class="ident" id="3721540">createValueFuncs</span><span class="op" id="3721556">(</span><span class="ident" id="3721557">funcMap</span>&nbsp;<span class="ident" id="3721565"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><span class="op" id="3721572">)</span>&nbsp;<span class="keyword" id="3721574">map</span><span class="op" id="3721577">[</span><span class="builtintype" id="3721578">string</span><span class="op" id="3721584">]</span><span class="ident" id="3721585"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3721592">.</span><span class="ident" id="3721593"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span>&nbsp;<span class="op" id="3721599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721602">m</span>&nbsp;<span class="op" id="3721604">:=</span>&nbsp;<span class="builtinfunc" id="3721607">make</span><span class="op" id="3721611">(</span><span class="keyword" id="3721612">map</span><span class="op" id="3721615">[</span><span class="builtintype" id="3721616">string</span><span class="op" id="3721622">]</span><span class="ident" id="3721623"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3721630">.</span><span class="ident" id="3721631"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3721636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721639"><a href="/gostd/text/template/funcs.go.html#3721774">addValueFuncs</a></span><span class="op" id="3721652">(</span><span class="ident" id="3721653"><a href="/gostd/text/template/funcs.go.html#3721602">m</a></span><span class="op" id="3721654">,</span>&nbsp;<span class="ident" id="3721656"><a href="/gostd/text/template/funcs.go.html#3721557">funcMap</a></span><span class="op" id="3721663">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3721666">return</span>&nbsp;<span class="ident" id="3721673"><a href="/gostd/text/template/funcs.go.html#3721602">m</a></span><br>
<span class="lineno"></span><span class="op" id="3721675">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3721678">//&nbsp;addValueFuncs&nbsp;adds&nbsp;to&nbsp;values&nbsp;the&nbsp;functions&nbsp;in&nbsp;funcs,&nbsp;converting&nbsp;them&nbsp;to&nbsp;reflect.Values.</span><br>
<span class="lineno"></span><span class="keyword" id="3721769">func</span>&nbsp;<span class="ident" id="3721774">addValueFuncs</span><span class="op" id="3721787">(</span><span class="ident" id="3721788">out</span>&nbsp;<span class="keyword" id="3721792">map</span><span class="op" id="3721795">[</span><span class="builtintype" id="3721796">string</span><span class="op" id="3721802">]</span><span class="ident" id="3721803"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3721810">.</span><span class="ident" id="3721811"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3721816">,</span>&nbsp;<span class="ident" id="3721818">in</span>&nbsp;<span class="ident" id="3721821"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><span class="op" id="3721828">)</span>&nbsp;<span class="op" id="3721830">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3721833">for</span>&nbsp;<span class="ident" id="3721837">name</span><span class="op" id="3721841">,</span>&nbsp;<span class="ident" id="3721843">fn</span>&nbsp;<span class="op" id="3721846">:=</span>&nbsp;<span class="keyword" id="3721849">range</span>&nbsp;<span class="ident" id="3721855"><a href="/gostd/text/template/funcs.go.html#3721818">in</a></span>&nbsp;<span class="op" id="3721858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3721862">v</span>&nbsp;<span class="op" id="3721864">:=</span>&nbsp;<span class="ident" id="3721867"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3721874">.</span><span class="ident" id="3721875"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3721882">(</span><span class="ident" id="3721883"><a href="/gostd/text/template/funcs.go.html#3721843">fn</a></span><span class="op" id="3721885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3721889">if</span>&nbsp;<span class="ident" id="3721892"><a href="/gostd/text/template/funcs.go.html#3721862">v</a></span><span class="op" id="3721893">.</span><span class="ident" id="3721894"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3721898">(</span><span class="op" id="3721899">)</span>&nbsp;<span class="op" id="3721901">!=</span>&nbsp;<span class="ident" id="3721904"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3721911">.</span><span class="ident" id="3721912"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="3721917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3721922">panic</span><span class="op" id="3721927">(</span><span class="string" id="3721928">&#34;value&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="3721941">+</span>&nbsp;<span class="ident" id="3721943"><a href="/gostd/text/template/funcs.go.html#3721837">name</a></span>&nbsp;<span class="op" id="3721948">+</span>&nbsp;<span class="string" id="3721950">&#34;&nbsp;not&nbsp;a&nbsp;function&#34;</span><span class="op" id="3721967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3721971">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3721975">if</span>&nbsp;<span class="op" id="3721978">!</span><span class="ident" id="3721979"><a href="/gostd/text/template/funcs.go.html#3722407">goodFunc</a></span><span class="op" id="3721987">(</span><span class="ident" id="3721988"><a href="/gostd/text/template/funcs.go.html#3721862">v</a></span><span class="op" id="3721989">.</span><span class="ident" id="3721990"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3721994">(</span><span class="op" id="3721995">)</span><span class="op" id="3721996">)</span>&nbsp;<span class="op" id="3721998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3722003">panic</span><span class="op" id="3722008">(</span><span class="ident" id="3722009"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3722012">.</span><span class="ident" id="3722013"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3722019">(</span><span class="string" id="3722020">&#34;can&#39;t&nbsp;install&nbsp;method/function&nbsp;%q&nbsp;with&nbsp;%d&nbsp;results&#34;</span><span class="op" id="3722070">,</span>&nbsp;<span class="ident" id="3722072"><a href="/gostd/text/template/funcs.go.html#3721837">name</a></span><span class="op" id="3722076">,</span>&nbsp;<span class="ident" id="3722078"><a href="/gostd/text/template/funcs.go.html#3721862">v</a></span><span class="op" id="3722079">.</span><span class="ident" id="3722080"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3722084">(</span><span class="op" id="3722085">)</span><span class="op" id="3722086">.</span><span class="ident" id="3722087"><a href="/gostd/reflect/type.go.html#2786793">NumOut</a></span><span class="op" id="3722093">(</span><span class="op" id="3722094">)</span><span class="op" id="3722095">)</span><span class="op" id="3722096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3722100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3722104"><a href="/gostd/text/template/funcs.go.html#3721788">out</a></span><span class="op" id="3722107">[</span><span class="ident" id="3722108"><a href="/gostd/text/template/funcs.go.html#3721837">name</a></span><span class="op" id="3722112">]</span>&nbsp;<span class="op" id="3722114">=</span>&nbsp;<span class="ident" id="3722116"><a href="/gostd/text/template/funcs.go.html#3721862">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3722119">}</span><br>
<span class="lineno">70</span><span class="op" id="3722121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3722124">//&nbsp;addFuncs&nbsp;adds&nbsp;to&nbsp;values&nbsp;the&nbsp;functions&nbsp;in&nbsp;funcs.&nbsp;It&nbsp;does&nbsp;no&nbsp;checking&nbsp;of&nbsp;the&nbsp;input&nbsp;-</span><br>
<span class="lineno"></span><span class="comment" id="3722210">//&nbsp;call&nbsp;addValueFuncs&nbsp;first.</span><br>
<span class="lineno"></span><span class="keyword" id="3722239">func</span>&nbsp;<span class="ident" id="3722244">addFuncs</span><span class="op" id="3722252">(</span><span class="ident" id="3722253">out</span><span class="op" id="3722256">,</span>&nbsp;<span class="ident" id="3722258">in</span>&nbsp;<span class="ident" id="3722261"><a href="/gostd/text/template/funcs.go.html#3720973">FuncMap</a></span><span class="op" id="3722268">)</span>&nbsp;<span class="op" id="3722270">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722273">for</span>&nbsp;<span class="ident" id="3722277">name</span><span class="op" id="3722281">,</span>&nbsp;<span class="ident" id="3722283">fn</span>&nbsp;<span class="op" id="3722286">:=</span>&nbsp;<span class="keyword" id="3722289">range</span>&nbsp;<span class="ident" id="3722295"><a href="/gostd/text/template/funcs.go.html#3722258">in</a></span>&nbsp;<span class="op" id="3722298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3722302"><a href="/gostd/text/template/funcs.go.html#3722253">out</a></span><span class="op" id="3722305">[</span><span class="ident" id="3722306"><a href="/gostd/text/template/funcs.go.html#3722277">name</a></span><span class="op" id="3722310">]</span>&nbsp;<span class="op" id="3722312">=</span>&nbsp;<span class="ident" id="3722314"><a href="/gostd/text/template/funcs.go.html#3722283">fn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3722318">}</span><br>
<span class="lineno"></span><span class="op" id="3722320">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="3722323">//&nbsp;goodFunc&nbsp;checks&nbsp;that&nbsp;the&nbsp;function&nbsp;or&nbsp;method&nbsp;has&nbsp;the&nbsp;right&nbsp;result&nbsp;signature.</span><br>
<span class="lineno"></span><span class="keyword" id="3722402">func</span>&nbsp;<span class="ident" id="3722407">goodFunc</span><span class="op" id="3722415">(</span><span class="ident" id="3722416">typ</span>&nbsp;<span class="ident" id="3722420"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3722427">.</span><span class="ident" id="3722428"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><span class="op" id="3722432">)</span>&nbsp;<span class="builtintype" id="3722434">bool</span>&nbsp;<span class="op" id="3722439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3722442">//&nbsp;We&nbsp;allow&nbsp;functions&nbsp;with&nbsp;1&nbsp;result&nbsp;or&nbsp;2&nbsp;results&nbsp;where&nbsp;the&nbsp;second&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722522">switch</span>&nbsp;<span class="op" id="3722529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722532">case</span>&nbsp;<span class="ident" id="3722537"><a href="/gostd/text/template/funcs.go.html#3722416">typ</a></span><span class="op" id="3722540">.</span><span class="ident" id="3722541"><a href="/gostd/reflect/type.go.html#2786793">NumOut</a></span><span class="op" id="3722547">(</span><span class="op" id="3722548">)</span>&nbsp;<span class="op" id="3722550">==</span>&nbsp;<span class="num" id="3722553">1</span><span class="op" id="3722554">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722558">return</span>&nbsp;<span class="builtintype" id="3722565">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722571">case</span>&nbsp;<span class="ident" id="3722576"><a href="/gostd/text/template/funcs.go.html#3722416">typ</a></span><span class="op" id="3722579">.</span><span class="ident" id="3722580"><a href="/gostd/reflect/type.go.html#2786793">NumOut</a></span><span class="op" id="3722586">(</span><span class="op" id="3722587">)</span>&nbsp;<span class="op" id="3722589">==</span>&nbsp;<span class="num" id="3722592">2</span>&nbsp;<span class="op" id="3722594">&amp;&amp;</span>&nbsp;<span class="ident" id="3722597"><a href="/gostd/text/template/funcs.go.html#3722416">typ</a></span><span class="op" id="3722600">.</span><span class="ident" id="3722601"><a href="/gostd/reflect/type.go.html#2786977">Out</a></span><span class="op" id="3722604">(</span><span class="num" id="3722605">1</span><span class="op" id="3722606">)</span>&nbsp;<span class="op" id="3722608">==</span>&nbsp;<span class="ident" id="3722611"><a href="/gostd/text/template/exec.go.html#3710074">errorType</a></span><span class="op" id="3722620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722624">return</span>&nbsp;<span class="builtintype" id="3722631">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3722637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722640">return</span>&nbsp;<span class="builtintype" id="3722647">false</span><br>
<span class="lineno">90</span><span class="op" id="3722653">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3722656">//&nbsp;findFunction&nbsp;looks&nbsp;for&nbsp;a&nbsp;function&nbsp;in&nbsp;the&nbsp;template,&nbsp;and&nbsp;global&nbsp;map.</span><br>
<span class="lineno"></span><span class="keyword" id="3722726">func</span>&nbsp;<span class="ident" id="3722731">findFunction</span><span class="op" id="3722743">(</span><span class="ident" id="3722744">name</span>&nbsp;<span class="builtintype" id="3722749">string</span><span class="op" id="3722755">,</span>&nbsp;<span class="ident" id="3722757">tmpl</span>&nbsp;<span class="op" id="3722762">*</span><span class="ident" id="3722763"><a href="/gostd/text/template/template.go.html#3739702">Template</a></span><span class="op" id="3722771">)</span>&nbsp;<span class="op" id="3722773">(</span><span class="ident" id="3722774"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3722781">.</span><span class="ident" id="3722782"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3722787">,</span>&nbsp;<span class="builtintype" id="3722789">bool</span><span class="op" id="3722793">)</span>&nbsp;<span class="op" id="3722795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722798">if</span>&nbsp;<span class="ident" id="3722801"><a href="/gostd/text/template/funcs.go.html#3722757">tmpl</a></span>&nbsp;<span class="op" id="3722806">!=</span>&nbsp;<span class="builtintype" id="3722809">nil</span>&nbsp;<span class="op" id="3722813">&amp;&amp;</span>&nbsp;<span class="ident" id="3722816"><a href="/gostd/text/template/funcs.go.html#3722757">tmpl</a></span><span class="op" id="3722820">.</span><span class="ident" id="3722821"><a href="/gostd/text/template/template.go.html#3739747">common</a></span>&nbsp;<span class="op" id="3722828">!=</span>&nbsp;<span class="builtintype" id="3722831">nil</span>&nbsp;<span class="op" id="3722835">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722839">if</span>&nbsp;<span class="ident" id="3722842">fn</span>&nbsp;<span class="op" id="3722845">:=</span>&nbsp;<span class="ident" id="3722848"><a href="/gostd/text/template/funcs.go.html#3722757">tmpl</a></span><span class="op" id="3722852">.</span><span class="ident" id="3722853"><a href="/gostd/text/template/template.go.html#3739474">execFuncs</a></span><span class="op" id="3722862">[</span><span class="ident" id="3722863"><a href="/gostd/text/template/funcs.go.html#3722744">name</a></span><span class="op" id="3722867">]</span><span class="op" id="3722868">;</span>&nbsp;<span class="ident" id="3722870"><a href="/gostd/text/template/funcs.go.html#3722842">fn</a></span><span class="op" id="3722872">.</span><span class="ident" id="3722873"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="3722880">(</span><span class="op" id="3722881">)</span>&nbsp;<span class="op" id="3722883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722888">return</span>&nbsp;<span class="ident" id="3722895"><a href="/gostd/text/template/funcs.go.html#3722842">fn</a></span><span class="op" id="3722897">,</span>&nbsp;<span class="builtintype" id="3722899">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3722906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3722909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722912">if</span>&nbsp;<span class="ident" id="3722915">fn</span>&nbsp;<span class="op" id="3722918">:=</span>&nbsp;<span class="ident" id="3722921"><a href="/gostd/text/template/funcs.go.html#3721424">builtinFuncs</a></span><span class="op" id="3722933">[</span><span class="ident" id="3722934"><a href="/gostd/text/template/funcs.go.html#3722744">name</a></span><span class="op" id="3722938">]</span><span class="op" id="3722939">;</span>&nbsp;<span class="ident" id="3722941"><a href="/gostd/text/template/funcs.go.html#3722915">fn</a></span><span class="op" id="3722943">.</span><span class="ident" id="3722944"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="3722951">(</span><span class="op" id="3722952">)</span>&nbsp;<span class="op" id="3722954">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722958">return</span>&nbsp;<span class="ident" id="3722965"><a href="/gostd/text/template/funcs.go.html#3722915">fn</a></span><span class="op" id="3722967">,</span>&nbsp;<span class="builtintype" id="3722969">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3722975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3722978">return</span>&nbsp;<span class="ident" id="3722985"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3722992">.</span><span class="ident" id="3722993"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3722998">{</span><span class="op" id="3722999">}</span><span class="op" id="3723000">,</span>&nbsp;<span class="builtintype" id="3723002">false</span><br>
<span class="lineno"></span><span class="op" id="3723008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3723011">//&nbsp;Indexing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3723025">//&nbsp;index&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;indexing&nbsp;its&nbsp;first&nbsp;argument&nbsp;by&nbsp;the&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="3723101">//&nbsp;arguments.&nbsp;&nbsp;Thus&nbsp;&#34;index&nbsp;x&nbsp;1&nbsp;2&nbsp;3&#34;&nbsp;is,&nbsp;in&nbsp;Go&nbsp;syntax,&nbsp;x[1][2][3].&nbsp;Each</span><br>
<span class="lineno"></span><span class="comment" id="3723172">//&nbsp;indexed&nbsp;item&nbsp;must&nbsp;be&nbsp;a&nbsp;map,&nbsp;slice,&nbsp;or&nbsp;array.</span><br>
<span class="lineno">110</span><span class="keyword" id="3723220">func</span>&nbsp;<span class="ident" id="3723225">index</span><span class="op" id="3723230">(</span><span class="ident" id="3723231">item</span>&nbsp;<span class="keyword" id="3723236">interface</span><span class="op" id="3723245">{</span><span class="op" id="3723246">}</span><span class="op" id="3723247">,</span>&nbsp;<span class="ident" id="3723249">indices</span>&nbsp;<span class="op" id="3723257">...</span><span class="keyword" id="3723260">interface</span><span class="op" id="3723269">{</span><span class="op" id="3723270">}</span><span class="op" id="3723271">)</span>&nbsp;<span class="op" id="3723273">(</span><span class="keyword" id="3723274">interface</span><span class="op" id="3723283">{</span><span class="op" id="3723284">}</span><span class="op" id="3723285">,</span>&nbsp;<span class="builtintype" id="3723287">error</span><span class="op" id="3723292">)</span>&nbsp;<span class="op" id="3723294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3723297">v</span>&nbsp;<span class="op" id="3723299">:=</span>&nbsp;<span class="ident" id="3723302"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723309">.</span><span class="ident" id="3723310"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3723317">(</span><span class="ident" id="3723318"><a href="/gostd/text/template/funcs.go.html#3723231">item</a></span><span class="op" id="3723322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723325">for</span>&nbsp;<span class="ident" id="3723329">_</span><span class="op" id="3723330">,</span>&nbsp;<span class="ident" id="3723332">i</span>&nbsp;<span class="op" id="3723334">:=</span>&nbsp;<span class="keyword" id="3723337">range</span>&nbsp;<span class="ident" id="3723343"><a href="/gostd/text/template/funcs.go.html#3723249">indices</a></span>&nbsp;<span class="op" id="3723351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3723355">index</span>&nbsp;<span class="op" id="3723361">:=</span>&nbsp;<span class="ident" id="3723364"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723371">.</span><span class="ident" id="3723372"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3723379">(</span><span class="ident" id="3723380"><a href="/gostd/text/template/funcs.go.html#3723332">i</a></span><span class="op" id="3723381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723385">var</span>&nbsp;<span class="ident" id="3723389">isNil</span>&nbsp;<span class="builtintype" id="3723395">bool</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723402">if</span>&nbsp;<span class="ident" id="3723405"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3723406">,</span>&nbsp;<span class="ident" id="3723408"><a href="/gostd/text/template/funcs.go.html#3723389">isNil</a></span>&nbsp;<span class="op" id="3723414">=</span>&nbsp;<span class="ident" id="3723416"><a href="/gostd/text/template/exec.go.html#3717915">indirect</a></span><span class="op" id="3723424">(</span><span class="ident" id="3723425"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3723426">)</span><span class="op" id="3723427">;</span>&nbsp;<span class="ident" id="3723429"><a href="/gostd/text/template/funcs.go.html#3723389">isNil</a></span>&nbsp;<span class="op" id="3723435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723440">return</span>&nbsp;<span class="builtintype" id="3723447">nil</span><span class="op" id="3723450">,</span>&nbsp;<span class="ident" id="3723452"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3723455">.</span><span class="ident" id="3723456"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3723462">(</span><span class="string" id="3723463">&#34;index&nbsp;of&nbsp;nil&nbsp;pointer&#34;</span><span class="op" id="3723485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3723489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723493">switch</span>&nbsp;<span class="ident" id="3723500"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3723501">.</span><span class="ident" id="3723502"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3723506">(</span><span class="op" id="3723507">)</span>&nbsp;<span class="op" id="3723509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723513">case</span>&nbsp;<span class="ident" id="3723518"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723525">.</span><span class="ident" id="3723526"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="3723531">,</span>&nbsp;<span class="ident" id="3723533"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723540">.</span><span class="ident" id="3723541"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="3723546">,</span>&nbsp;<span class="ident" id="3723548"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723555">.</span><span class="ident" id="3723556"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="3723562">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723567">var</span>&nbsp;<span class="ident" id="3723571">x</span>&nbsp;<span class="builtintype" id="3723573">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723582">switch</span>&nbsp;<span class="ident" id="3723589"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3723594">.</span><span class="ident" id="3723595"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3723599">(</span><span class="op" id="3723600">)</span>&nbsp;<span class="op" id="3723602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723607">case</span>&nbsp;<span class="ident" id="3723612"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723619">.</span><span class="ident" id="3723620"><a href="/gostd/reflect/type.go.html#2787903">Int</a></span><span class="op" id="3723623">,</span>&nbsp;<span class="ident" id="3723625"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723632">.</span><span class="ident" id="3723633"><a href="/gostd/reflect/type.go.html#2787908">Int8</a></span><span class="op" id="3723637">,</span>&nbsp;<span class="ident" id="3723639"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723646">.</span><span class="ident" id="3723647"><a href="/gostd/reflect/type.go.html#2787914">Int16</a></span><span class="op" id="3723652">,</span>&nbsp;<span class="ident" id="3723654"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723661">.</span><span class="ident" id="3723662"><a href="/gostd/reflect/type.go.html#2787921">Int32</a></span><span class="op" id="3723667">,</span>&nbsp;<span class="ident" id="3723669"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723676">.</span><span class="ident" id="3723677"><a href="/gostd/reflect/type.go.html#2787928">Int64</a></span><span class="op" id="3723682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3723688"><a href="/gostd/text/template/funcs.go.html#3723571">x</a></span>&nbsp;<span class="op" id="3723690">=</span>&nbsp;<span class="ident" id="3723692"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3723697">.</span><span class="ident" id="3723698"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3723701">(</span><span class="op" id="3723702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723707">case</span>&nbsp;<span class="ident" id="3723712"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723719">.</span><span class="ident" id="3723720"><a href="/gostd/reflect/type.go.html#2787935">Uint</a></span><span class="op" id="3723724">,</span>&nbsp;<span class="ident" id="3723726"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723733">.</span><span class="ident" id="3723734"><a href="/gostd/reflect/type.go.html#2787941">Uint8</a></span><span class="op" id="3723739">,</span>&nbsp;<span class="ident" id="3723741"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723748">.</span><span class="ident" id="3723749"><a href="/gostd/reflect/type.go.html#2787948">Uint16</a></span><span class="op" id="3723755">,</span>&nbsp;<span class="ident" id="3723757"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723764">.</span><span class="ident" id="3723765"><a href="/gostd/reflect/type.go.html#2787956">Uint32</a></span><span class="op" id="3723771">,</span>&nbsp;<span class="ident" id="3723773"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723780">.</span><span class="ident" id="3723781"><a href="/gostd/reflect/type.go.html#2787964">Uint64</a></span><span class="op" id="3723787">,</span>&nbsp;<span class="ident" id="3723789"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3723796">.</span><span class="ident" id="3723797"><a href="/gostd/reflect/type.go.html#2787972">Uintptr</a></span><span class="op" id="3723804">:</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3723810"><a href="/gostd/text/template/funcs.go.html#3723571">x</a></span>&nbsp;<span class="op" id="3723812">=</span>&nbsp;<span class="builtintype" id="3723814">int64</span><span class="op" id="3723819">(</span><span class="ident" id="3723820"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3723825">.</span><span class="ident" id="3723826"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3723830">(</span><span class="op" id="3723831">)</span><span class="op" id="3723832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723837">default</span><span class="op" id="3723844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723850">return</span>&nbsp;<span class="builtintype" id="3723857">nil</span><span class="op" id="3723860">,</span>&nbsp;<span class="ident" id="3723862"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3723865">.</span><span class="ident" id="3723866"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3723872">(</span><span class="string" id="3723873">&#34;cannot&nbsp;index&nbsp;slice/array&nbsp;with&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3723912">,</span>&nbsp;<span class="ident" id="3723914"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3723919">.</span><span class="ident" id="3723920"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3723924">(</span><span class="op" id="3723925">)</span><span class="op" id="3723926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3723931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723936">if</span>&nbsp;<span class="ident" id="3723939"><a href="/gostd/text/template/funcs.go.html#3723571">x</a></span>&nbsp;<span class="op" id="3723941">&lt;</span>&nbsp;<span class="num" id="3723943">0</span>&nbsp;<span class="op" id="3723945">||</span>&nbsp;<span class="ident" id="3723948"><a href="/gostd/text/template/funcs.go.html#3723571">x</a></span>&nbsp;<span class="op" id="3723950">&gt;=</span>&nbsp;<span class="builtintype" id="3723953">int64</span><span class="op" id="3723958">(</span><span class="ident" id="3723959"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3723960">.</span><span class="ident" id="3723961"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3723964">(</span><span class="op" id="3723965">)</span><span class="op" id="3723966">)</span>&nbsp;<span class="op" id="3723968">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3723974">return</span>&nbsp;<span class="builtintype" id="3723981">nil</span><span class="op" id="3723984">,</span>&nbsp;<span class="ident" id="3723986"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3723989">.</span><span class="ident" id="3723990"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3723996">(</span><span class="string" id="3723997">&#34;index&nbsp;out&nbsp;of&nbsp;range:&nbsp;%d&#34;</span><span class="op" id="3724021">,</span>&nbsp;<span class="ident" id="3724023"><a href="/gostd/text/template/funcs.go.html#3723571">x</a></span><span class="op" id="3724024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3724034"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span>&nbsp;<span class="op" id="3724036">=</span>&nbsp;<span class="ident" id="3724038"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724039">.</span><span class="ident" id="3724040"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="3724045">(</span><span class="builtintype" id="3724046">int</span><span class="op" id="3724049">(</span><span class="ident" id="3724050"><a href="/gostd/text/template/funcs.go.html#3723571">x</a></span><span class="op" id="3724051">)</span><span class="op" id="3724052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724056">case</span>&nbsp;<span class="ident" id="3724061"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724068">.</span><span class="ident" id="3724069"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="3724072">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724077">if</span>&nbsp;<span class="op" id="3724080">!</span><span class="ident" id="3724081"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3724086">.</span><span class="ident" id="3724087"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="3724094">(</span><span class="op" id="3724095">)</span>&nbsp;<span class="op" id="3724097">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3724103"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span>&nbsp;<span class="op" id="3724109">=</span>&nbsp;<span class="ident" id="3724111"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724118">.</span><span class="ident" id="3724119"><a href="/gostd/reflect/value.go.html#2893195">Zero</a></span><span class="op" id="3724123">(</span><span class="ident" id="3724124"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724125">.</span><span class="ident" id="3724126"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724130">(</span><span class="op" id="3724131">)</span><span class="op" id="3724132">.</span><span class="ident" id="3724133"><a href="/gostd/reflect/type.go.html#2786340">Key</a></span><span class="op" id="3724136">(</span><span class="op" id="3724137">)</span><span class="op" id="3724138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724148">if</span>&nbsp;<span class="op" id="3724151">!</span><span class="ident" id="3724152"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3724157">.</span><span class="ident" id="3724158"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724162">(</span><span class="op" id="3724163">)</span><span class="op" id="3724164">.</span><span class="ident" id="3724165"><a href="/gostd/reflect/type.go.html#2783810">AssignableTo</a></span><span class="op" id="3724177">(</span><span class="ident" id="3724178"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724179">.</span><span class="ident" id="3724180"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724184">(</span><span class="op" id="3724185">)</span><span class="op" id="3724186">.</span><span class="ident" id="3724187"><a href="/gostd/reflect/type.go.html#2786340">Key</a></span><span class="op" id="3724190">(</span><span class="op" id="3724191">)</span><span class="op" id="3724192">)</span>&nbsp;<span class="op" id="3724194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724200">return</span>&nbsp;<span class="builtintype" id="3724207">nil</span><span class="op" id="3724210">,</span>&nbsp;<span class="ident" id="3724212"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3724215">.</span><span class="ident" id="3724216"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3724222">(</span><span class="string" id="3724223">&#34;%s&nbsp;is&nbsp;not&nbsp;index&nbsp;type&nbsp;for&nbsp;%s&#34;</span><span class="op" id="3724252">,</span>&nbsp;<span class="ident" id="3724254"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3724259">.</span><span class="ident" id="3724260"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724264">(</span><span class="op" id="3724265">)</span><span class="op" id="3724266">,</span>&nbsp;<span class="ident" id="3724268"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724269">.</span><span class="ident" id="3724270"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724274">(</span><span class="op" id="3724275">)</span><span class="op" id="3724276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724281">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724286">if</span>&nbsp;<span class="ident" id="3724289">x</span>&nbsp;<span class="op" id="3724291">:=</span>&nbsp;<span class="ident" id="3724294"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724295">.</span><span class="ident" id="3724296"><a href="/gostd/reflect/value.go.html#2862367">MapIndex</a></span><span class="op" id="3724304">(</span><span class="ident" id="3724305"><a href="/gostd/text/template/funcs.go.html#3723355">index</a></span><span class="op" id="3724310">)</span><span class="op" id="3724311">;</span>&nbsp;<span class="ident" id="3724313"><a href="/gostd/text/template/funcs.go.html#3724289">x</a></span><span class="op" id="3724314">.</span><span class="ident" id="3724315"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="3724322">(</span><span class="op" id="3724323">)</span>&nbsp;<span class="op" id="3724325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3724331"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span>&nbsp;<span class="op" id="3724333">=</span>&nbsp;<span class="ident" id="3724335"><a href="/gostd/text/template/funcs.go.html#3724289">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724340">}</span>&nbsp;<span class="keyword" id="3724342">else</span>&nbsp;<span class="op" id="3724347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3724353"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span>&nbsp;<span class="op" id="3724355">=</span>&nbsp;<span class="ident" id="3724357"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724364">.</span><span class="ident" id="3724365"><a href="/gostd/reflect/value.go.html#2893195">Zero</a></span><span class="op" id="3724369">(</span><span class="ident" id="3724370"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724371">.</span><span class="ident" id="3724372"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724376">(</span><span class="op" id="3724377">)</span><span class="op" id="3724378">.</span><span class="ident" id="3724379"><a href="/gostd/reflect/type.go.html#2785263">Elem</a></span><span class="op" id="3724383">(</span><span class="op" id="3724384">)</span><span class="op" id="3724385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724390">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724394">default</span><span class="op" id="3724401">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724406">return</span>&nbsp;<span class="builtintype" id="3724413">nil</span><span class="op" id="3724416">,</span>&nbsp;<span class="ident" id="3724418"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3724421">.</span><span class="ident" id="3724422"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3724428">(</span><span class="string" id="3724429">&#34;can&#39;t&nbsp;index&nbsp;item&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3724458">,</span>&nbsp;<span class="ident" id="3724460"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724461">.</span><span class="ident" id="3724462"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724466">(</span><span class="op" id="3724467">)</span><span class="op" id="3724468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724478">return</span>&nbsp;<span class="ident" id="3724485"><a href="/gostd/text/template/funcs.go.html#3723297">v</a></span><span class="op" id="3724486">.</span><span class="ident" id="3724487"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3724496">(</span><span class="op" id="3724497">)</span><span class="op" id="3724498">,</span>&nbsp;<span class="builtintype" id="3724500">nil</span><br>
<span class="lineno">150</span><span class="op" id="3724504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3724507">//&nbsp;Length</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3724518">//&nbsp;length&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;item,&nbsp;with&nbsp;an&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;no&nbsp;defined&nbsp;length.</span><br>
<span class="lineno">155</span><span class="keyword" id="3724603">func</span>&nbsp;<span class="ident" id="3724608">length</span><span class="op" id="3724614">(</span><span class="ident" id="3724615">item</span>&nbsp;<span class="keyword" id="3724620">interface</span><span class="op" id="3724629">{</span><span class="op" id="3724630">}</span><span class="op" id="3724631">)</span>&nbsp;<span class="op" id="3724633">(</span><span class="builtintype" id="3724634">int</span><span class="op" id="3724637">,</span>&nbsp;<span class="builtintype" id="3724639">error</span><span class="op" id="3724644">)</span>&nbsp;<span class="op" id="3724646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3724649">v</span><span class="op" id="3724650">,</span>&nbsp;<span class="ident" id="3724652">isNil</span>&nbsp;<span class="op" id="3724658">:=</span>&nbsp;<span class="ident" id="3724661"><a href="/gostd/text/template/exec.go.html#3717915">indirect</a></span><span class="op" id="3724669">(</span><span class="ident" id="3724670"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724677">.</span><span class="ident" id="3724678"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3724685">(</span><span class="ident" id="3724686"><a href="/gostd/text/template/funcs.go.html#3724615">item</a></span><span class="op" id="3724690">)</span><span class="op" id="3724691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724694">if</span>&nbsp;<span class="ident" id="3724697"><a href="/gostd/text/template/funcs.go.html#3724652">isNil</a></span>&nbsp;<span class="op" id="3724703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724707">return</span>&nbsp;<span class="num" id="3724714">0</span><span class="op" id="3724715">,</span>&nbsp;<span class="ident" id="3724717"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3724720">.</span><span class="ident" id="3724721"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3724727">(</span><span class="string" id="3724728">&#34;len&nbsp;of&nbsp;nil&nbsp;pointer&#34;</span><span class="op" id="3724748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724751">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724754">switch</span>&nbsp;<span class="ident" id="3724761"><a href="/gostd/text/template/funcs.go.html#3724649">v</a></span><span class="op" id="3724762">.</span><span class="ident" id="3724763"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3724767">(</span><span class="op" id="3724768">)</span>&nbsp;<span class="op" id="3724770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724773">case</span>&nbsp;<span class="ident" id="3724778"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724785">.</span><span class="ident" id="3724786"><a href="/gostd/reflect/type.go.html#2788022">Array</a></span><span class="op" id="3724791">,</span>&nbsp;<span class="ident" id="3724793"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724800">.</span><span class="ident" id="3724801"><a href="/gostd/reflect/type.go.html#2788029">Chan</a></span><span class="op" id="3724805">,</span>&nbsp;<span class="ident" id="3724807"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724814">.</span><span class="ident" id="3724815"><a href="/gostd/reflect/type.go.html#2788052">Map</a></span><span class="op" id="3724818">,</span>&nbsp;<span class="ident" id="3724820"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724827">.</span><span class="ident" id="3724828"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="3724833">,</span>&nbsp;<span class="ident" id="3724835"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3724842">.</span><span class="ident" id="3724843"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="3724849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724853">return</span>&nbsp;<span class="ident" id="3724860"><a href="/gostd/text/template/funcs.go.html#3724649">v</a></span><span class="op" id="3724861">.</span><span class="ident" id="3724862"><a href="/gostd/reflect/value.go.html#2861631">Len</a></span><span class="op" id="3724865">(</span><span class="op" id="3724866">)</span><span class="op" id="3724867">,</span>&nbsp;<span class="builtintype" id="3724869">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3724874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3724877">return</span>&nbsp;<span class="num" id="3724884">0</span><span class="op" id="3724885">,</span>&nbsp;<span class="ident" id="3724887"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3724890">.</span><span class="ident" id="3724891"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3724897">(</span><span class="string" id="3724898">&#34;len&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3724914">,</span>&nbsp;<span class="ident" id="3724916"><a href="/gostd/text/template/funcs.go.html#3724649">v</a></span><span class="op" id="3724917">.</span><span class="ident" id="3724918"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3724922">(</span><span class="op" id="3724923">)</span><span class="op" id="3724924">)</span><br>
<span class="lineno">165</span><span class="op" id="3724926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3724929">//&nbsp;Function&nbsp;invocation</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3724953">//&nbsp;call&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;evaluating&nbsp;the&nbsp;first&nbsp;argument&nbsp;as&nbsp;a&nbsp;function.</span><br>
<span class="lineno">170</span><span class="comment" id="3725028">//&nbsp;The&nbsp;function&nbsp;must&nbsp;return&nbsp;1&nbsp;result,&nbsp;or&nbsp;2&nbsp;results,&nbsp;the&nbsp;second&nbsp;of&nbsp;which&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="3725113">func</span>&nbsp;<span class="ident" id="3725118">call</span><span class="op" id="3725122">(</span><span class="ident" id="3725123">fn</span>&nbsp;<span class="keyword" id="3725126">interface</span><span class="op" id="3725135">{</span><span class="op" id="3725136">}</span><span class="op" id="3725137">,</span>&nbsp;<span class="ident" id="3725139">args</span>&nbsp;<span class="op" id="3725144">...</span><span class="keyword" id="3725147">interface</span><span class="op" id="3725156">{</span><span class="op" id="3725157">}</span><span class="op" id="3725158">)</span>&nbsp;<span class="op" id="3725160">(</span><span class="keyword" id="3725161">interface</span><span class="op" id="3725170">{</span><span class="op" id="3725171">}</span><span class="op" id="3725172">,</span>&nbsp;<span class="builtintype" id="3725174">error</span><span class="op" id="3725179">)</span>&nbsp;<span class="op" id="3725181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3725184">v</span>&nbsp;<span class="op" id="3725186">:=</span>&nbsp;<span class="ident" id="3725189"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3725196">.</span><span class="ident" id="3725197"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3725204">(</span><span class="ident" id="3725205"><a href="/gostd/text/template/funcs.go.html#3725123">fn</a></span><span class="op" id="3725207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3725210">typ</span>&nbsp;<span class="op" id="3725214">:=</span>&nbsp;<span class="ident" id="3725217"><a href="/gostd/text/template/funcs.go.html#3725184">v</a></span><span class="op" id="3725218">.</span><span class="ident" id="3725219"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3725223">(</span><span class="op" id="3725224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725227">if</span>&nbsp;<span class="ident" id="3725230"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725233">.</span><span class="ident" id="3725234"><a href="/gostd/reflect/type.go.html#2783619">Kind</a></span><span class="op" id="3725238">(</span><span class="op" id="3725239">)</span>&nbsp;<span class="op" id="3725241">!=</span>&nbsp;<span class="ident" id="3725244"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3725251">.</span><span class="ident" id="3725252"><a href="/gostd/reflect/type.go.html#2788035">Func</a></span>&nbsp;<span class="op" id="3725257">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725261">return</span>&nbsp;<span class="builtintype" id="3725268">nil</span><span class="op" id="3725271">,</span>&nbsp;<span class="ident" id="3725273"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3725276">.</span><span class="ident" id="3725277"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3725283">(</span><span class="string" id="3725284">&#34;non-function&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="3725309">,</span>&nbsp;<span class="ident" id="3725311"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3725317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725320">if</span>&nbsp;<span class="op" id="3725323">!</span><span class="ident" id="3725324"><a href="/gostd/text/template/funcs.go.html#3722407">goodFunc</a></span><span class="op" id="3725332">(</span><span class="ident" id="3725333"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725336">)</span>&nbsp;<span class="op" id="3725338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725342">return</span>&nbsp;<span class="builtintype" id="3725349">nil</span><span class="op" id="3725352">,</span>&nbsp;<span class="ident" id="3725354"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3725357">.</span><span class="ident" id="3725358"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3725364">(</span><span class="string" id="3725365">&#34;function&nbsp;called&nbsp;with&nbsp;%d&nbsp;args;&nbsp;should&nbsp;be&nbsp;1&nbsp;or&nbsp;2&#34;</span><span class="op" id="3725413">,</span>&nbsp;<span class="ident" id="3725415"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725418">.</span><span class="ident" id="3725419"><a href="/gostd/reflect/type.go.html#2786793">NumOut</a></span><span class="op" id="3725425">(</span><span class="op" id="3725426">)</span><span class="op" id="3725427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3725430">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3725433">numIn</span>&nbsp;<span class="op" id="3725439">:=</span>&nbsp;<span class="ident" id="3725442"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725445">.</span><span class="ident" id="3725446"><a href="/gostd/reflect/type.go.html#2786672">NumIn</a></span><span class="op" id="3725451">(</span><span class="op" id="3725452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725455">var</span>&nbsp;<span class="ident" id="3725459">dddType</span>&nbsp;<span class="ident" id="3725467"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3725474">.</span><span class="ident" id="3725475"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725481">if</span>&nbsp;<span class="ident" id="3725484"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725487">.</span><span class="ident" id="3725488"><a href="/gostd/reflect/type.go.html#2785130">IsVariadic</a></span><span class="op" id="3725498">(</span><span class="op" id="3725499">)</span>&nbsp;<span class="op" id="3725501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725505">if</span>&nbsp;<span class="builtinfunc" id="3725508">len</span><span class="op" id="3725511">(</span><span class="ident" id="3725512"><a href="/gostd/text/template/funcs.go.html#3725139">args</a></span><span class="op" id="3725516">)</span>&nbsp;<span class="op" id="3725518">&lt;</span>&nbsp;<span class="ident" id="3725520"><a href="/gostd/text/template/funcs.go.html#3725433">numIn</a></span><span class="op" id="3725525">-</span><span class="num" id="3725526">1</span>&nbsp;<span class="op" id="3725528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725533">return</span>&nbsp;<span class="builtintype" id="3725540">nil</span><span class="op" id="3725543">,</span>&nbsp;<span class="ident" id="3725545"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3725548">.</span><span class="ident" id="3725549"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3725555">(</span><span class="string" id="3725556">&#34;wrong&nbsp;number&nbsp;of&nbsp;args:&nbsp;got&nbsp;%d&nbsp;want&nbsp;at&nbsp;least&nbsp;%d&#34;</span><span class="op" id="3725603">,</span>&nbsp;<span class="builtinfunc" id="3725605">len</span><span class="op" id="3725608">(</span><span class="ident" id="3725609"><a href="/gostd/text/template/funcs.go.html#3725139">args</a></span><span class="op" id="3725613">)</span><span class="op" id="3725614">,</span>&nbsp;<span class="ident" id="3725616"><a href="/gostd/text/template/funcs.go.html#3725433">numIn</a></span><span class="op" id="3725621">-</span><span class="num" id="3725622">1</span><span class="op" id="3725623">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3725627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3725631"><a href="/gostd/text/template/funcs.go.html#3725459">dddType</a></span>&nbsp;<span class="op" id="3725639">=</span>&nbsp;<span class="ident" id="3725641"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725644">.</span><span class="ident" id="3725645"><a href="/gostd/reflect/type.go.html#2786239">In</a></span><span class="op" id="3725647">(</span><span class="ident" id="3725648"><a href="/gostd/text/template/funcs.go.html#3725433">numIn</a></span>&nbsp;<span class="op" id="3725654">-</span>&nbsp;<span class="num" id="3725656">1</span><span class="op" id="3725657">)</span><span class="op" id="3725658">.</span><span class="ident" id="3725659"><a href="/gostd/reflect/type.go.html#2785263">Elem</a></span><span class="op" id="3725663">(</span><span class="op" id="3725664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3725667">}</span>&nbsp;<span class="keyword" id="3725669">else</span>&nbsp;<span class="op" id="3725674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725678">if</span>&nbsp;<span class="builtinfunc" id="3725681">len</span><span class="op" id="3725684">(</span><span class="ident" id="3725685"><a href="/gostd/text/template/funcs.go.html#3725139">args</a></span><span class="op" id="3725689">)</span>&nbsp;<span class="op" id="3725691">!=</span>&nbsp;<span class="ident" id="3725694"><a href="/gostd/text/template/funcs.go.html#3725433">numIn</a></span>&nbsp;<span class="op" id="3725700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725705">return</span>&nbsp;<span class="builtintype" id="3725712">nil</span><span class="op" id="3725715">,</span>&nbsp;<span class="ident" id="3725717"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3725720">.</span><span class="ident" id="3725721"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3725727">(</span><span class="string" id="3725728">&#34;wrong&nbsp;number&nbsp;of&nbsp;args:&nbsp;got&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="3725766">,</span>&nbsp;<span class="builtinfunc" id="3725768">len</span><span class="op" id="3725771">(</span><span class="ident" id="3725772"><a href="/gostd/text/template/funcs.go.html#3725139">args</a></span><span class="op" id="3725776">)</span><span class="op" id="3725777">,</span>&nbsp;<span class="ident" id="3725779"><a href="/gostd/text/template/funcs.go.html#3725433">numIn</a></span><span class="op" id="3725784">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3725788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3725791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3725794">argv</span>&nbsp;<span class="op" id="3725799">:=</span>&nbsp;<span class="builtinfunc" id="3725802">make</span><span class="op" id="3725806">(</span><span class="op" id="3725807">[</span><span class="op" id="3725808">]</span><span class="ident" id="3725809"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3725816">.</span><span class="ident" id="3725817"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3725822">,</span>&nbsp;<span class="builtinfunc" id="3725824">len</span><span class="op" id="3725827">(</span><span class="ident" id="3725828"><a href="/gostd/text/template/funcs.go.html#3725139">args</a></span><span class="op" id="3725832">)</span><span class="op" id="3725833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725836">for</span>&nbsp;<span class="ident" id="3725840">i</span><span class="op" id="3725841">,</span>&nbsp;<span class="ident" id="3725843">arg</span>&nbsp;<span class="op" id="3725847">:=</span>&nbsp;<span class="keyword" id="3725850">range</span>&nbsp;<span class="ident" id="3725856"><a href="/gostd/text/template/funcs.go.html#3725139">args</a></span>&nbsp;<span class="op" id="3725861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3725865">value</span>&nbsp;<span class="op" id="3725871">:=</span>&nbsp;<span class="ident" id="3725874"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3725881">.</span><span class="ident" id="3725882"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3725889">(</span><span class="ident" id="3725890"><a href="/gostd/text/template/funcs.go.html#3725843">arg</a></span><span class="op" id="3725893">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3725897">//&nbsp;Compute&nbsp;the&nbsp;expected&nbsp;type.&nbsp;Clumsy&nbsp;because&nbsp;of&nbsp;variadics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725958">var</span>&nbsp;<span class="ident" id="3725962">argType</span>&nbsp;<span class="ident" id="3725970"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3725977">.</span><span class="ident" id="3725978"><a href="/gostd/reflect/type.go.html#2781467">Type</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3725985">if</span>&nbsp;<span class="op" id="3725988">!</span><span class="ident" id="3725989"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3725992">.</span><span class="ident" id="3725993"><a href="/gostd/reflect/type.go.html#2785130">IsVariadic</a></span><span class="op" id="3726003">(</span><span class="op" id="3726004">)</span>&nbsp;<span class="op" id="3726006">||</span>&nbsp;<span class="ident" id="3726009"><a href="/gostd/text/template/funcs.go.html#3725840">i</a></span>&nbsp;<span class="op" id="3726011">&lt;</span>&nbsp;<span class="ident" id="3726013"><a href="/gostd/text/template/funcs.go.html#3725433">numIn</a></span><span class="op" id="3726018">-</span><span class="num" id="3726019">1</span>&nbsp;<span class="op" id="3726021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726026"><a href="/gostd/text/template/funcs.go.html#3725962">argType</a></span>&nbsp;<span class="op" id="3726034">=</span>&nbsp;<span class="ident" id="3726036"><a href="/gostd/text/template/funcs.go.html#3725210">typ</a></span><span class="op" id="3726039">.</span><span class="ident" id="3726040"><a href="/gostd/reflect/type.go.html#2786239">In</a></span><span class="op" id="3726042">(</span><span class="ident" id="3726043"><a href="/gostd/text/template/funcs.go.html#3725840">i</a></span><span class="op" id="3726044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726048">}</span>&nbsp;<span class="keyword" id="3726050">else</span>&nbsp;<span class="op" id="3726055">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726060"><a href="/gostd/text/template/funcs.go.html#3725962">argType</a></span>&nbsp;<span class="op" id="3726068">=</span>&nbsp;<span class="ident" id="3726070"><a href="/gostd/text/template/funcs.go.html#3725459">dddType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726084">if</span>&nbsp;<span class="op" id="3726087">!</span><span class="ident" id="3726088"><a href="/gostd/text/template/funcs.go.html#3725865">value</a></span><span class="op" id="3726093">.</span><span class="ident" id="3726094"><a href="/gostd/reflect/value.go.html#2861333">IsValid</a></span><span class="op" id="3726101">(</span><span class="op" id="3726102">)</span>&nbsp;<span class="op" id="3726104">&amp;&amp;</span>&nbsp;<span class="ident" id="3726107"><a href="/gostd/text/template/exec.go.html#3712289">canBeNil</a></span><span class="op" id="3726115">(</span><span class="ident" id="3726116"><a href="/gostd/text/template/funcs.go.html#3725962">argType</a></span><span class="op" id="3726123">)</span>&nbsp;<span class="op" id="3726125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726130"><a href="/gostd/text/template/funcs.go.html#3725865">value</a></span>&nbsp;<span class="op" id="3726136">=</span>&nbsp;<span class="ident" id="3726138"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3726145">.</span><span class="ident" id="3726146"><a href="/gostd/reflect/value.go.html#2893195">Zero</a></span><span class="op" id="3726150">(</span><span class="ident" id="3726151"><a href="/gostd/text/template/funcs.go.html#3725962">argType</a></span><span class="op" id="3726158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726162">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726166">if</span>&nbsp;<span class="op" id="3726169">!</span><span class="ident" id="3726170"><a href="/gostd/text/template/funcs.go.html#3725865">value</a></span><span class="op" id="3726175">.</span><span class="ident" id="3726176"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3726180">(</span><span class="op" id="3726181">)</span><span class="op" id="3726182">.</span><span class="ident" id="3726183"><a href="/gostd/reflect/type.go.html#2783810">AssignableTo</a></span><span class="op" id="3726195">(</span><span class="ident" id="3726196"><a href="/gostd/text/template/funcs.go.html#3725962">argType</a></span><span class="op" id="3726203">)</span>&nbsp;<span class="op" id="3726205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726210">return</span>&nbsp;<span class="builtintype" id="3726217">nil</span><span class="op" id="3726220">,</span>&nbsp;<span class="ident" id="3726222"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3726225">.</span><span class="ident" id="3726226"><a href="/gostd/fmt/print.go.html#2143886">Errorf</a></span><span class="op" id="3726232">(</span><span class="string" id="3726233">&#34;arg&nbsp;%d&nbsp;has&nbsp;type&nbsp;%s;&nbsp;should&nbsp;be&nbsp;%s&#34;</span><span class="op" id="3726267">,</span>&nbsp;<span class="ident" id="3726269"><a href="/gostd/text/template/funcs.go.html#3725840">i</a></span><span class="op" id="3726270">,</span>&nbsp;<span class="ident" id="3726272"><a href="/gostd/text/template/funcs.go.html#3725865">value</a></span><span class="op" id="3726277">.</span><span class="ident" id="3726278"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="3726282">(</span><span class="op" id="3726283">)</span><span class="op" id="3726284">,</span>&nbsp;<span class="ident" id="3726286"><a href="/gostd/text/template/funcs.go.html#3725962">argType</a></span><span class="op" id="3726293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726301"><a href="/gostd/text/template/funcs.go.html#3725794">argv</a></span><span class="op" id="3726305">[</span><span class="ident" id="3726306"><a href="/gostd/text/template/funcs.go.html#3725840">i</a></span><span class="op" id="3726307">]</span>&nbsp;<span class="op" id="3726309">=</span>&nbsp;<span class="ident" id="3726311"><a href="/gostd/text/template/funcs.go.html#3725865">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726318">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726321">result</span>&nbsp;<span class="op" id="3726328">:=</span>&nbsp;<span class="ident" id="3726331"><a href="/gostd/text/template/funcs.go.html#3725184">v</a></span><span class="op" id="3726332">.</span><span class="ident" id="3726333"><a href="/gostd/reflect/value.go.html#2841720">Call</a></span><span class="op" id="3726337">(</span><span class="ident" id="3726338"><a href="/gostd/text/template/funcs.go.html#3725794">argv</a></span><span class="op" id="3726342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726345">if</span>&nbsp;<span class="builtinfunc" id="3726348">len</span><span class="op" id="3726351">(</span><span class="ident" id="3726352"><a href="/gostd/text/template/funcs.go.html#3726321">result</a></span><span class="op" id="3726358">)</span>&nbsp;<span class="op" id="3726360">==</span>&nbsp;<span class="num" id="3726363">2</span>&nbsp;<span class="op" id="3726365">&amp;&amp;</span>&nbsp;<span class="op" id="3726368">!</span><span class="ident" id="3726369"><a href="/gostd/text/template/funcs.go.html#3726321">result</a></span><span class="op" id="3726375">[</span><span class="num" id="3726376">1</span><span class="op" id="3726377">]</span><span class="op" id="3726378">.</span><span class="ident" id="3726379"><a href="/gostd/reflect/value.go.html#2860565">IsNil</a></span><span class="op" id="3726384">(</span><span class="op" id="3726385">)</span>&nbsp;<span class="op" id="3726387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726391">return</span>&nbsp;<span class="ident" id="3726398"><a href="/gostd/text/template/funcs.go.html#3726321">result</a></span><span class="op" id="3726404">[</span><span class="num" id="3726405">0</span><span class="op" id="3726406">]</span><span class="op" id="3726407">.</span><span class="ident" id="3726408"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3726417">(</span><span class="op" id="3726418">)</span><span class="op" id="3726419">,</span>&nbsp;<span class="ident" id="3726421"><a href="/gostd/text/template/funcs.go.html#3726321">result</a></span><span class="op" id="3726427">[</span><span class="num" id="3726428">1</span><span class="op" id="3726429">]</span><span class="op" id="3726430">.</span><span class="ident" id="3726431"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3726440">(</span><span class="op" id="3726441">)</span><span class="op" id="3726442">.</span><span class="op" id="3726443">(</span><span class="builtintype" id="3726444">error</span><span class="op" id="3726449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726455">return</span>&nbsp;<span class="ident" id="3726462"><a href="/gostd/text/template/funcs.go.html#3726321">result</a></span><span class="op" id="3726468">[</span><span class="num" id="3726469">0</span><span class="op" id="3726470">]</span><span class="op" id="3726471">.</span><span class="ident" id="3726472"><a href="/gostd/reflect/value.go.html#2858688">Interface</a></span><span class="op" id="3726481">(</span><span class="op" id="3726482">)</span><span class="op" id="3726483">,</span>&nbsp;<span class="builtintype" id="3726485">nil</span><br>
<span class="lineno">215</span><span class="op" id="3726489">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3726492">//&nbsp;Boolean&nbsp;logic.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3726511">func</span>&nbsp;<span class="ident" id="3726516">truth</span><span class="op" id="3726521">(</span><span class="ident" id="3726522">a</span>&nbsp;<span class="keyword" id="3726524">interface</span><span class="op" id="3726533">{</span><span class="op" id="3726534">}</span><span class="op" id="3726535">)</span>&nbsp;<span class="builtintype" id="3726537">bool</span>&nbsp;<span class="op" id="3726542">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726545">t</span><span class="op" id="3726546">,</span>&nbsp;<span class="ident" id="3726548">_</span>&nbsp;<span class="op" id="3726550">:=</span>&nbsp;<span class="ident" id="3726553"><a href="/gostd/text/template/exec.go.html#3699912">isTrue</a></span><span class="op" id="3726559">(</span><span class="ident" id="3726560"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3726567">.</span><span class="ident" id="3726568"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3726575">(</span><span class="ident" id="3726576"><a href="/gostd/text/template/funcs.go.html#3726522">a</a></span><span class="op" id="3726577">)</span><span class="op" id="3726578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726581">return</span>&nbsp;<span class="ident" id="3726588"><a href="/gostd/text/template/funcs.go.html#3726545">t</a></span><br>
<span class="lineno"></span><span class="op" id="3726590">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3726593">//&nbsp;and&nbsp;computes&nbsp;the&nbsp;Boolean&nbsp;AND&nbsp;of&nbsp;its&nbsp;arguments,&nbsp;returning</span><br>
<span class="lineno">225</span><span class="comment" id="3726653">//&nbsp;the&nbsp;first&nbsp;false&nbsp;argument&nbsp;it&nbsp;encounters,&nbsp;or&nbsp;the&nbsp;last&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="3726718">func</span>&nbsp;<span class="ident" id="3726723">and</span><span class="op" id="3726726">(</span><span class="ident" id="3726727">arg0</span>&nbsp;<span class="keyword" id="3726732">interface</span><span class="op" id="3726741">{</span><span class="op" id="3726742">}</span><span class="op" id="3726743">,</span>&nbsp;<span class="ident" id="3726745">args</span>&nbsp;<span class="op" id="3726750">...</span><span class="keyword" id="3726753">interface</span><span class="op" id="3726762">{</span><span class="op" id="3726763">}</span><span class="op" id="3726764">)</span>&nbsp;<span class="keyword" id="3726766">interface</span><span class="op" id="3726775">{</span><span class="op" id="3726776">}</span>&nbsp;<span class="op" id="3726778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726781">if</span>&nbsp;<span class="op" id="3726784">!</span><span class="ident" id="3726785"><a href="/gostd/text/template/funcs.go.html#3726516">truth</a></span><span class="op" id="3726790">(</span><span class="ident" id="3726791"><a href="/gostd/text/template/funcs.go.html#3726727">arg0</a></span><span class="op" id="3726795">)</span>&nbsp;<span class="op" id="3726797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726801">return</span>&nbsp;<span class="ident" id="3726808"><a href="/gostd/text/template/funcs.go.html#3726727">arg0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726814">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726817">for</span>&nbsp;<span class="ident" id="3726821">i</span>&nbsp;<span class="op" id="3726823">:=</span>&nbsp;<span class="keyword" id="3726826">range</span>&nbsp;<span class="ident" id="3726832"><a href="/gostd/text/template/funcs.go.html#3726745">args</a></span>&nbsp;<span class="op" id="3726837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3726841"><a href="/gostd/text/template/funcs.go.html#3726727">arg0</a></span>&nbsp;<span class="op" id="3726846">=</span>&nbsp;<span class="ident" id="3726848"><a href="/gostd/text/template/funcs.go.html#3726745">args</a></span><span class="op" id="3726852">[</span><span class="ident" id="3726853"><a href="/gostd/text/template/funcs.go.html#3726821">i</a></span><span class="op" id="3726854">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726858">if</span>&nbsp;<span class="op" id="3726861">!</span><span class="ident" id="3726862"><a href="/gostd/text/template/funcs.go.html#3726516">truth</a></span><span class="op" id="3726867">(</span><span class="ident" id="3726868"><a href="/gostd/text/template/funcs.go.html#3726727">arg0</a></span><span class="op" id="3726872">)</span>&nbsp;<span class="op" id="3726874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726879">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726887">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3726890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3726893">return</span>&nbsp;<span class="ident" id="3726900"><a href="/gostd/text/template/funcs.go.html#3726727">arg0</a></span><br>
<span class="lineno"></span><span class="op" id="3726905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3726908">//&nbsp;or&nbsp;computes&nbsp;the&nbsp;Boolean&nbsp;OR&nbsp;of&nbsp;its&nbsp;arguments,&nbsp;returning</span><br>
<span class="lineno">240</span><span class="comment" id="3726966">//&nbsp;the&nbsp;first&nbsp;true&nbsp;argument&nbsp;it&nbsp;encounters,&nbsp;or&nbsp;the&nbsp;last&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="3727030">func</span>&nbsp;<span class="ident" id="3727035">or</span><span class="op" id="3727037">(</span><span class="ident" id="3727038">arg0</span>&nbsp;<span class="keyword" id="3727043">interface</span><span class="op" id="3727052">{</span><span class="op" id="3727053">}</span><span class="op" id="3727054">,</span>&nbsp;<span class="ident" id="3727056">args</span>&nbsp;<span class="op" id="3727061">...</span><span class="keyword" id="3727064">interface</span><span class="op" id="3727073">{</span><span class="op" id="3727074">}</span><span class="op" id="3727075">)</span>&nbsp;<span class="keyword" id="3727077">interface</span><span class="op" id="3727086">{</span><span class="op" id="3727087">}</span>&nbsp;<span class="op" id="3727089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727092">if</span>&nbsp;<span class="ident" id="3727095"><a href="/gostd/text/template/funcs.go.html#3726516">truth</a></span><span class="op" id="3727100">(</span><span class="ident" id="3727101"><a href="/gostd/text/template/funcs.go.html#3727038">arg0</a></span><span class="op" id="3727105">)</span>&nbsp;<span class="op" id="3727107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727111">return</span>&nbsp;<span class="ident" id="3727118"><a href="/gostd/text/template/funcs.go.html#3727038">arg0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3727124">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727127">for</span>&nbsp;<span class="ident" id="3727131">i</span>&nbsp;<span class="op" id="3727133">:=</span>&nbsp;<span class="keyword" id="3727136">range</span>&nbsp;<span class="ident" id="3727142"><a href="/gostd/text/template/funcs.go.html#3727056">args</a></span>&nbsp;<span class="op" id="3727147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727151"><a href="/gostd/text/template/funcs.go.html#3727038">arg0</a></span>&nbsp;<span class="op" id="3727156">=</span>&nbsp;<span class="ident" id="3727158"><a href="/gostd/text/template/funcs.go.html#3727056">args</a></span><span class="op" id="3727162">[</span><span class="ident" id="3727163"><a href="/gostd/text/template/funcs.go.html#3727131">i</a></span><span class="op" id="3727164">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727168">if</span>&nbsp;<span class="ident" id="3727171"><a href="/gostd/text/template/funcs.go.html#3726516">truth</a></span><span class="op" id="3727176">(</span><span class="ident" id="3727177"><a href="/gostd/text/template/funcs.go.html#3727038">arg0</a></span><span class="op" id="3727181">)</span>&nbsp;<span class="op" id="3727183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727188">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3727196">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3727199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727202">return</span>&nbsp;<span class="ident" id="3727209"><a href="/gostd/text/template/funcs.go.html#3727038">arg0</a></span><br>
<span class="lineno"></span><span class="op" id="3727214">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3727217">//&nbsp;not&nbsp;returns&nbsp;the&nbsp;Boolean&nbsp;negation&nbsp;of&nbsp;its&nbsp;argument.</span><br>
<span class="lineno">255</span><span class="keyword" id="3727270">func</span>&nbsp;<span class="ident" id="3727275">not</span><span class="op" id="3727278">(</span><span class="ident" id="3727279">arg</span>&nbsp;<span class="keyword" id="3727283">interface</span><span class="op" id="3727292">{</span><span class="op" id="3727293">}</span><span class="op" id="3727294">)</span>&nbsp;<span class="op" id="3727296">(</span><span class="ident" id="3727297">truth</span>&nbsp;<span class="builtintype" id="3727303">bool</span><span class="op" id="3727307">)</span>&nbsp;<span class="op" id="3727309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727312"><a href="/gostd/text/template/funcs.go.html#3727297">truth</a></span><span class="op" id="3727317">,</span>&nbsp;<span class="ident" id="3727319">_</span>&nbsp;<span class="op" id="3727321">=</span>&nbsp;<span class="ident" id="3727323"><a href="/gostd/text/template/exec.go.html#3699912">isTrue</a></span><span class="op" id="3727329">(</span><span class="ident" id="3727330"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727337">.</span><span class="ident" id="3727338"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3727345">(</span><span class="ident" id="3727346"><a href="/gostd/text/template/funcs.go.html#3727279">arg</a></span><span class="op" id="3727349">)</span><span class="op" id="3727350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727353">return</span>&nbsp;<span class="op" id="3727360">!</span><span class="ident" id="3727361"><a href="/gostd/text/template/funcs.go.html#3727297">truth</a></span><br>
<span class="lineno"></span><span class="op" id="3727367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="3727370">//&nbsp;Comparison.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3727386">//&nbsp;TODO:&nbsp;Perhaps&nbsp;allow&nbsp;comparison&nbsp;between&nbsp;signed&nbsp;and&nbsp;unsigned&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3727459">var</span>&nbsp;<span class="op" id="3727463">(</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727466">errBadComparisonType</span>&nbsp;<span class="op" id="3727487">=</span>&nbsp;<span class="ident" id="3727489"><a href="/gostd/text/template/funcs.go.html#3720539">errors</a></span><span class="op" id="3727495">.</span><span class="ident" id="3727496"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3727499">(</span><span class="string" id="3727500">&#34;invalid&nbsp;type&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="3727529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727532">errBadComparison</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3727553">=</span>&nbsp;<span class="ident" id="3727555"><a href="/gostd/text/template/funcs.go.html#3720539">errors</a></span><span class="op" id="3727561">.</span><span class="ident" id="3727562"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3727565">(</span><span class="string" id="3727566">&#34;incompatible&nbsp;types&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="3727601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727604">errNoComparison</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3727625">=</span>&nbsp;<span class="ident" id="3727627"><a href="/gostd/text/template/funcs.go.html#3720539">errors</a></span><span class="op" id="3727633">.</span><span class="ident" id="3727634"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="3727637">(</span><span class="string" id="3727638">&#34;missing&nbsp;argument&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="3727671">)</span><br>
<span class="lineno"></span><span class="op" id="3727673">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="3727676">type</span>&nbsp;<span class="ident" id="3727681">kind</span>&nbsp;<span class="builtintype" id="3727686">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3727691">const</span>&nbsp;<span class="op" id="3727697">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727700">invalidKind</span>&nbsp;<span class="ident" id="3727712"><a href="/gostd/text/template/funcs.go.html#3727681">kind</a></span>&nbsp;<span class="op" id="3727717">=</span>&nbsp;<span class="ident" id="3727719">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727725">boolKind</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727735">complexKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727748">intKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727757">floatKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727768">integerKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727781">stringKind</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3727793">uintKind</span><br>
<span class="lineno"></span><span class="op" id="3727802">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3727805">func</span>&nbsp;<span class="ident" id="3727810">basicKind</span><span class="op" id="3727819">(</span><span class="ident" id="3727820">v</span>&nbsp;<span class="ident" id="3727822"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727829">.</span><span class="ident" id="3727830"><a href="/gostd/reflect/value.go.html#2833557">Value</a></span><span class="op" id="3727835">)</span>&nbsp;<span class="op" id="3727837">(</span><span class="ident" id="3727838"><a href="/gostd/text/template/funcs.go.html#3727681">kind</a></span><span class="op" id="3727842">,</span>&nbsp;<span class="builtintype" id="3727844">error</span><span class="op" id="3727849">)</span>&nbsp;<span class="op" id="3727851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727854">switch</span>&nbsp;<span class="ident" id="3727861"><a href="/gostd/text/template/funcs.go.html#3727820">v</a></span><span class="op" id="3727862">.</span><span class="ident" id="3727863"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="3727867">(</span><span class="op" id="3727868">)</span>&nbsp;<span class="op" id="3727870">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727873">case</span>&nbsp;<span class="ident" id="3727878"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727885">.</span><span class="ident" id="3727886"><a href="/gostd/reflect/type.go.html#2787897">Bool</a></span><span class="op" id="3727890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727894">return</span>&nbsp;<span class="ident" id="3727901"><a href="/gostd/text/template/funcs.go.html#3727725">boolKind</a></span><span class="op" id="3727909">,</span>&nbsp;<span class="builtintype" id="3727911">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727916">case</span>&nbsp;<span class="ident" id="3727921"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727928">.</span><span class="ident" id="3727929"><a href="/gostd/reflect/type.go.html#2787903">Int</a></span><span class="op" id="3727932">,</span>&nbsp;<span class="ident" id="3727934"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727941">.</span><span class="ident" id="3727942"><a href="/gostd/reflect/type.go.html#2787908">Int8</a></span><span class="op" id="3727946">,</span>&nbsp;<span class="ident" id="3727948"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727955">.</span><span class="ident" id="3727956"><a href="/gostd/reflect/type.go.html#2787914">Int16</a></span><span class="op" id="3727961">,</span>&nbsp;<span class="ident" id="3727963"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727970">.</span><span class="ident" id="3727971"><a href="/gostd/reflect/type.go.html#2787921">Int32</a></span><span class="op" id="3727976">,</span>&nbsp;<span class="ident" id="3727978"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3727985">.</span><span class="ident" id="3727986"><a href="/gostd/reflect/type.go.html#2787928">Int64</a></span><span class="op" id="3727991">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3727995">return</span>&nbsp;<span class="ident" id="3728002"><a href="/gostd/text/template/funcs.go.html#3727748">intKind</a></span><span class="op" id="3728009">,</span>&nbsp;<span class="builtintype" id="3728011">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728016">case</span>&nbsp;<span class="ident" id="3728021"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728028">.</span><span class="ident" id="3728029"><a href="/gostd/reflect/type.go.html#2787935">Uint</a></span><span class="op" id="3728033">,</span>&nbsp;<span class="ident" id="3728035"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728042">.</span><span class="ident" id="3728043"><a href="/gostd/reflect/type.go.html#2787941">Uint8</a></span><span class="op" id="3728048">,</span>&nbsp;<span class="ident" id="3728050"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728057">.</span><span class="ident" id="3728058"><a href="/gostd/reflect/type.go.html#2787948">Uint16</a></span><span class="op" id="3728064">,</span>&nbsp;<span class="ident" id="3728066"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728073">.</span><span class="ident" id="3728074"><a href="/gostd/reflect/type.go.html#2787956">Uint32</a></span><span class="op" id="3728080">,</span>&nbsp;<span class="ident" id="3728082"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728089">.</span><span class="ident" id="3728090"><a href="/gostd/reflect/type.go.html#2787964">Uint64</a></span><span class="op" id="3728096">,</span>&nbsp;<span class="ident" id="3728098"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728105">.</span><span class="ident" id="3728106"><a href="/gostd/reflect/type.go.html#2787972">Uintptr</a></span><span class="op" id="3728113">:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728117">return</span>&nbsp;<span class="ident" id="3728124"><a href="/gostd/text/template/funcs.go.html#3727793">uintKind</a></span><span class="op" id="3728132">,</span>&nbsp;<span class="builtintype" id="3728134">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728139">case</span>&nbsp;<span class="ident" id="3728144"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728151">.</span><span class="ident" id="3728152"><a href="/gostd/reflect/type.go.html#2787981">Float32</a></span><span class="op" id="3728159">,</span>&nbsp;<span class="ident" id="3728161"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728168">.</span><span class="ident" id="3728169"><a href="/gostd/reflect/type.go.html#2787990">Float64</a></span><span class="op" id="3728176">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728180">return</span>&nbsp;<span class="ident" id="3728187"><a href="/gostd/text/template/funcs.go.html#3727757">floatKind</a></span><span class="op" id="3728196">,</span>&nbsp;<span class="builtintype" id="3728198">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728203">case</span>&nbsp;<span class="ident" id="3728208"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728215">.</span><span class="ident" id="3728216"><a href="/gostd/reflect/type.go.html#2787999">Complex64</a></span><span class="op" id="3728225">,</span>&nbsp;<span class="ident" id="3728227"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728234">.</span><span class="ident" id="3728235"><a href="/gostd/reflect/type.go.html#2788010">Complex128</a></span><span class="op" id="3728245">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728249">return</span>&nbsp;<span class="ident" id="3728256"><a href="/gostd/text/template/funcs.go.html#3727735">complexKind</a></span><span class="op" id="3728267">,</span>&nbsp;<span class="builtintype" id="3728269">nil</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728274">case</span>&nbsp;<span class="ident" id="3728279"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728286">.</span><span class="ident" id="3728287"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="3728293">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728297">return</span>&nbsp;<span class="ident" id="3728304"><a href="/gostd/text/template/funcs.go.html#3727781">stringKind</a></span><span class="op" id="3728314">,</span>&nbsp;<span class="builtintype" id="3728316">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3728321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728324">return</span>&nbsp;<span class="ident" id="3728331"><a href="/gostd/text/template/funcs.go.html#3727700">invalidKind</a></span><span class="op" id="3728342">,</span>&nbsp;<span class="ident" id="3728344"><a href="/gostd/text/template/funcs.go.html#3727466">errBadComparisonType</a></span><br>
<span class="lineno"></span><span class="op" id="3728365">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="3728368">//&nbsp;eq&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;==&nbsp;b&nbsp;||&nbsp;a&nbsp;==&nbsp;c&nbsp;||&nbsp;...</span><br>
<span class="lineno"></span><span class="keyword" id="3728423">func</span>&nbsp;<span class="ident" id="3728428">eq</span><span class="op" id="3728430">(</span><span class="ident" id="3728431">arg1</span>&nbsp;<span class="keyword" id="3728436">interface</span><span class="op" id="3728445">{</span><span class="op" id="3728446">}</span><span class="op" id="3728447">,</span>&nbsp;<span class="ident" id="3728449">arg2</span>&nbsp;<span class="op" id="3728454">...</span><span class="keyword" id="3728457">interface</span><span class="op" id="3728466">{</span><span class="op" id="3728467">}</span><span class="op" id="3728468">)</span>&nbsp;<span class="op" id="3728470">(</span><span class="builtintype" id="3728471">bool</span><span class="op" id="3728475">,</span>&nbsp;<span class="builtintype" id="3728477">error</span><span class="op" id="3728482">)</span>&nbsp;<span class="op" id="3728484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3728487">v1</span>&nbsp;<span class="op" id="3728490">:=</span>&nbsp;<span class="ident" id="3728493"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728500">.</span><span class="ident" id="3728501"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3728508">(</span><span class="ident" id="3728509"><a href="/gostd/text/template/funcs.go.html#3728431">arg1</a></span><span class="op" id="3728513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3728516">k1</span><span class="op" id="3728518">,</span>&nbsp;<span class="ident" id="3728520">err</span>&nbsp;<span class="op" id="3728524">:=</span>&nbsp;<span class="ident" id="3728527"><a href="/gostd/text/template/funcs.go.html#3727810">basicKind</a></span><span class="op" id="3728536">(</span><span class="ident" id="3728537"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3728539">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728542">if</span>&nbsp;<span class="ident" id="3728545"><a href="/gostd/text/template/funcs.go.html#3728520">err</a></span>&nbsp;<span class="op" id="3728549">!=</span>&nbsp;<span class="builtintype" id="3728552">nil</span>&nbsp;<span class="op" id="3728556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728560">return</span>&nbsp;<span class="builtintype" id="3728567">false</span><span class="op" id="3728572">,</span>&nbsp;<span class="ident" id="3728574"><a href="/gostd/text/template/funcs.go.html#3728520">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3728579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728582">if</span>&nbsp;<span class="builtinfunc" id="3728585">len</span><span class="op" id="3728588">(</span><span class="ident" id="3728589"><a href="/gostd/text/template/funcs.go.html#3728449">arg2</a></span><span class="op" id="3728593">)</span>&nbsp;<span class="op" id="3728595">==</span>&nbsp;<span class="num" id="3728598">0</span>&nbsp;<span class="op" id="3728600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728604">return</span>&nbsp;<span class="builtintype" id="3728611">false</span><span class="op" id="3728616">,</span>&nbsp;<span class="ident" id="3728618"><a href="/gostd/text/template/funcs.go.html#3727604">errNoComparison</a></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3728635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728638">for</span>&nbsp;<span class="ident" id="3728642">_</span><span class="op" id="3728643">,</span>&nbsp;<span class="ident" id="3728645">arg</span>&nbsp;<span class="op" id="3728649">:=</span>&nbsp;<span class="keyword" id="3728652">range</span>&nbsp;<span class="ident" id="3728658"><a href="/gostd/text/template/funcs.go.html#3728449">arg2</a></span>&nbsp;<span class="op" id="3728663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3728667">v2</span>&nbsp;<span class="op" id="3728670">:=</span>&nbsp;<span class="ident" id="3728673"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3728680">.</span><span class="ident" id="3728681"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3728688">(</span><span class="ident" id="3728689"><a href="/gostd/text/template/funcs.go.html#3728645">arg</a></span><span class="op" id="3728692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3728696">k2</span><span class="op" id="3728698">,</span>&nbsp;<span class="ident" id="3728700">err</span>&nbsp;<span class="op" id="3728704">:=</span>&nbsp;<span class="ident" id="3728707"><a href="/gostd/text/template/funcs.go.html#3727810">basicKind</a></span><span class="op" id="3728716">(</span><span class="ident" id="3728717"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3728719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728723">if</span>&nbsp;<span class="ident" id="3728726"><a href="/gostd/text/template/funcs.go.html#3728700">err</a></span>&nbsp;<span class="op" id="3728730">!=</span>&nbsp;<span class="builtintype" id="3728733">nil</span>&nbsp;<span class="op" id="3728737">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728742">return</span>&nbsp;<span class="builtintype" id="3728749">false</span><span class="op" id="3728754">,</span>&nbsp;<span class="ident" id="3728756"><a href="/gostd/text/template/funcs.go.html#3728700">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3728762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3728766">truth</span>&nbsp;<span class="op" id="3728772">:=</span>&nbsp;<span class="builtintype" id="3728775">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728783">if</span>&nbsp;<span class="ident" id="3728786"><a href="/gostd/text/template/funcs.go.html#3728516">k1</a></span>&nbsp;<span class="op" id="3728789">!=</span>&nbsp;<span class="ident" id="3728792"><a href="/gostd/text/template/funcs.go.html#3728696">k2</a></span>&nbsp;<span class="op" id="3728795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3728800">//&nbsp;Special&nbsp;case:&nbsp;Can&nbsp;compare&nbsp;integer&nbsp;values&nbsp;regardless&nbsp;of&nbsp;type&#39;s&nbsp;sign.</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728874">switch</span>&nbsp;<span class="op" id="3728881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728886">case</span>&nbsp;<span class="ident" id="3728891"><a href="/gostd/text/template/funcs.go.html#3728516">k1</a></span>&nbsp;<span class="op" id="3728894">==</span>&nbsp;<span class="ident" id="3728897"><a href="/gostd/text/template/funcs.go.html#3727748">intKind</a></span>&nbsp;<span class="op" id="3728905">&amp;&amp;</span>&nbsp;<span class="ident" id="3728908"><a href="/gostd/text/template/funcs.go.html#3728696">k2</a></span>&nbsp;<span class="op" id="3728911">==</span>&nbsp;<span class="ident" id="3728914"><a href="/gostd/text/template/funcs.go.html#3727793">uintKind</a></span><span class="op" id="3728922">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3728928"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3728934">=</span>&nbsp;<span class="ident" id="3728936"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3728938">.</span><span class="ident" id="3728939"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3728942">(</span><span class="op" id="3728943">)</span>&nbsp;<span class="op" id="3728945">&gt;=</span>&nbsp;<span class="num" id="3728948">0</span>&nbsp;<span class="op" id="3728950">&amp;&amp;</span>&nbsp;<span class="builtintype" id="3728953">uint64</span><span class="op" id="3728959">(</span><span class="ident" id="3728960"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3728962">.</span><span class="ident" id="3728963"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3728966">(</span><span class="op" id="3728967">)</span><span class="op" id="3728968">)</span>&nbsp;<span class="op" id="3728970">==</span>&nbsp;<span class="ident" id="3728973"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3728975">.</span><span class="ident" id="3728976"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3728980">(</span><span class="op" id="3728981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3728986">case</span>&nbsp;<span class="ident" id="3728991"><a href="/gostd/text/template/funcs.go.html#3728516">k1</a></span>&nbsp;<span class="op" id="3728994">==</span>&nbsp;<span class="ident" id="3728997"><a href="/gostd/text/template/funcs.go.html#3727793">uintKind</a></span>&nbsp;<span class="op" id="3729006">&amp;&amp;</span>&nbsp;<span class="ident" id="3729009"><a href="/gostd/text/template/funcs.go.html#3728696">k2</a></span>&nbsp;<span class="op" id="3729012">==</span>&nbsp;<span class="ident" id="3729015"><a href="/gostd/text/template/funcs.go.html#3727748">intKind</a></span><span class="op" id="3729022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729028"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729034">=</span>&nbsp;<span class="ident" id="3729036"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729038">.</span><span class="ident" id="3729039"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3729042">(</span><span class="op" id="3729043">)</span>&nbsp;<span class="op" id="3729045">&gt;=</span>&nbsp;<span class="num" id="3729048">0</span>&nbsp;<span class="op" id="3729050">&amp;&amp;</span>&nbsp;<span class="ident" id="3729053"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3729055">.</span><span class="ident" id="3729056"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3729060">(</span><span class="op" id="3729061">)</span>&nbsp;<span class="op" id="3729063">==</span>&nbsp;<span class="builtintype" id="3729066">uint64</span><span class="op" id="3729072">(</span><span class="ident" id="3729073"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729075">.</span><span class="ident" id="3729076"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3729079">(</span><span class="op" id="3729080">)</span><span class="op" id="3729081">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729086">default</span><span class="op" id="3729093">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729099">return</span>&nbsp;<span class="builtintype" id="3729106">false</span><span class="op" id="3729111">,</span>&nbsp;<span class="ident" id="3729113"><a href="/gostd/text/template/funcs.go.html#3727532">errBadComparison</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3729133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3729137">}</span>&nbsp;<span class="keyword" id="3729139">else</span>&nbsp;<span class="op" id="3729144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729149">switch</span>&nbsp;<span class="ident" id="3729156"><a href="/gostd/text/template/funcs.go.html#3728516">k1</a></span>&nbsp;<span class="op" id="3729159">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729164">case</span>&nbsp;<span class="ident" id="3729169"><a href="/gostd/text/template/funcs.go.html#3727725">boolKind</a></span><span class="op" id="3729177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729183"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729189">=</span>&nbsp;<span class="ident" id="3729191"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3729193">.</span><span class="ident" id="3729194"><a href="/gostd/reflect/value.go.html#2839754">Bool</a></span><span class="op" id="3729198">(</span><span class="op" id="3729199">)</span>&nbsp;<span class="op" id="3729201">==</span>&nbsp;<span class="ident" id="3729204"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729206">.</span><span class="ident" id="3729207"><a href="/gostd/reflect/value.go.html#2839754">Bool</a></span><span class="op" id="3729211">(</span><span class="op" id="3729212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729217">case</span>&nbsp;<span class="ident" id="3729222"><a href="/gostd/text/template/funcs.go.html#3727735">complexKind</a></span><span class="op" id="3729233">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729239"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729245">=</span>&nbsp;<span class="ident" id="3729247"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3729249">.</span><span class="ident" id="3729250"><a href="/gostd/reflect/value.go.html#2852669">Complex</a></span><span class="op" id="3729257">(</span><span class="op" id="3729258">)</span>&nbsp;<span class="op" id="3729260">==</span>&nbsp;<span class="ident" id="3729263"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729265">.</span><span class="ident" id="3729266"><a href="/gostd/reflect/value.go.html#2852669">Complex</a></span><span class="op" id="3729273">(</span><span class="op" id="3729274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729279">case</span>&nbsp;<span class="ident" id="3729284"><a href="/gostd/text/template/funcs.go.html#3727757">floatKind</a></span><span class="op" id="3729293">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729299"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729305">=</span>&nbsp;<span class="ident" id="3729307"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3729309">.</span><span class="ident" id="3729310"><a href="/gostd/reflect/value.go.html#2856007">Float</a></span><span class="op" id="3729315">(</span><span class="op" id="3729316">)</span>&nbsp;<span class="op" id="3729318">==</span>&nbsp;<span class="ident" id="3729321"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729323">.</span><span class="ident" id="3729324"><a href="/gostd/reflect/value.go.html#2856007">Float</a></span><span class="op" id="3729329">(</span><span class="op" id="3729330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729335">case</span>&nbsp;<span class="ident" id="3729340"><a href="/gostd/text/template/funcs.go.html#3727748">intKind</a></span><span class="op" id="3729347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729353"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729359">=</span>&nbsp;<span class="ident" id="3729361"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3729363">.</span><span class="ident" id="3729364"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3729367">(</span><span class="op" id="3729368">)</span>&nbsp;<span class="op" id="3729370">==</span>&nbsp;<span class="ident" id="3729373"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729375">.</span><span class="ident" id="3729376"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3729379">(</span><span class="op" id="3729380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729385">case</span>&nbsp;<span class="ident" id="3729390"><a href="/gostd/text/template/funcs.go.html#3727781">stringKind</a></span><span class="op" id="3729400">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729406"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729412">=</span>&nbsp;<span class="ident" id="3729414"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3729416">.</span><span class="ident" id="3729417"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3729423">(</span><span class="op" id="3729424">)</span>&nbsp;<span class="op" id="3729426">==</span>&nbsp;<span class="ident" id="3729429"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729431">.</span><span class="ident" id="3729432"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3729438">(</span><span class="op" id="3729439">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729444">case</span>&nbsp;<span class="ident" id="3729449"><a href="/gostd/text/template/funcs.go.html#3727793">uintKind</a></span><span class="op" id="3729457">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729463"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729469">=</span>&nbsp;<span class="ident" id="3729471"><a href="/gostd/text/template/funcs.go.html#3728487">v1</a></span><span class="op" id="3729473">.</span><span class="ident" id="3729474"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3729478">(</span><span class="op" id="3729479">)</span>&nbsp;<span class="op" id="3729481">==</span>&nbsp;<span class="ident" id="3729484"><a href="/gostd/text/template/funcs.go.html#3728667">v2</a></span><span class="op" id="3729486">.</span><span class="ident" id="3729487"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3729491">(</span><span class="op" id="3729492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729497">default</span><span class="op" id="3729504">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3729510">panic</span><span class="op" id="3729515">(</span><span class="string" id="3729516">&#34;invalid&nbsp;kind&#34;</span><span class="op" id="3729530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3729535">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3729539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729543">if</span>&nbsp;<span class="ident" id="3729546"><a href="/gostd/text/template/funcs.go.html#3728766">truth</a></span>&nbsp;<span class="op" id="3729552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729557">return</span>&nbsp;<span class="builtintype" id="3729564">true</span><span class="op" id="3729568">,</span>&nbsp;<span class="builtintype" id="3729570">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3729576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3729579">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729582">return</span>&nbsp;<span class="builtintype" id="3729589">false</span><span class="op" id="3729594">,</span>&nbsp;<span class="builtintype" id="3729596">nil</span><br>
<span class="lineno"></span><span class="op" id="3729600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3729603">//&nbsp;ne&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;!=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3729642">func</span>&nbsp;<span class="ident" id="3729647">ne</span><span class="op" id="3729649">(</span><span class="ident" id="3729650">arg1</span><span class="op" id="3729654">,</span>&nbsp;<span class="ident" id="3729656">arg2</span>&nbsp;<span class="keyword" id="3729661">interface</span><span class="op" id="3729670">{</span><span class="op" id="3729671">}</span><span class="op" id="3729672">)</span>&nbsp;<span class="op" id="3729674">(</span><span class="builtintype" id="3729675">bool</span><span class="op" id="3729679">,</span>&nbsp;<span class="builtintype" id="3729681">error</span><span class="op" id="3729686">)</span>&nbsp;<span class="op" id="3729688">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3729691">//&nbsp;!=&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;==.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729720">equal</span><span class="op" id="3729725">,</span>&nbsp;<span class="ident" id="3729727">err</span>&nbsp;<span class="op" id="3729731">:=</span>&nbsp;<span class="ident" id="3729734"><a href="/gostd/text/template/funcs.go.html#3728428">eq</a></span><span class="op" id="3729736">(</span><span class="ident" id="3729737"><a href="/gostd/text/template/funcs.go.html#3729650">arg1</a></span><span class="op" id="3729741">,</span>&nbsp;<span class="ident" id="3729743"><a href="/gostd/text/template/funcs.go.html#3729656">arg2</a></span><span class="op" id="3729747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729750">return</span>&nbsp;<span class="op" id="3729757">!</span><span class="ident" id="3729758"><a href="/gostd/text/template/funcs.go.html#3729720">equal</a></span><span class="op" id="3729763">,</span>&nbsp;<span class="ident" id="3729765"><a href="/gostd/text/template/funcs.go.html#3729727">err</a></span><br>
<span class="lineno"></span><span class="op" id="3729769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="3729772">//&nbsp;lt&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&lt;&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3729810">func</span>&nbsp;<span class="ident" id="3729815">lt</span><span class="op" id="3729817">(</span><span class="ident" id="3729818">arg1</span><span class="op" id="3729822">,</span>&nbsp;<span class="ident" id="3729824">arg2</span>&nbsp;<span class="keyword" id="3729829">interface</span><span class="op" id="3729838">{</span><span class="op" id="3729839">}</span><span class="op" id="3729840">)</span>&nbsp;<span class="op" id="3729842">(</span><span class="builtintype" id="3729843">bool</span><span class="op" id="3729847">,</span>&nbsp;<span class="builtintype" id="3729849">error</span><span class="op" id="3729854">)</span>&nbsp;<span class="op" id="3729856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729859">v1</span>&nbsp;<span class="op" id="3729862">:=</span>&nbsp;<span class="ident" id="3729865"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3729872">.</span><span class="ident" id="3729873"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3729880">(</span><span class="ident" id="3729881"><a href="/gostd/text/template/funcs.go.html#3729818">arg1</a></span><span class="op" id="3729885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729888">k1</span><span class="op" id="3729890">,</span>&nbsp;<span class="ident" id="3729892">err</span>&nbsp;<span class="op" id="3729896">:=</span>&nbsp;<span class="ident" id="3729899"><a href="/gostd/text/template/funcs.go.html#3727810">basicKind</a></span><span class="op" id="3729908">(</span><span class="ident" id="3729909"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3729911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729914">if</span>&nbsp;<span class="ident" id="3729917"><a href="/gostd/text/template/funcs.go.html#3729892">err</a></span>&nbsp;<span class="op" id="3729921">!=</span>&nbsp;<span class="builtintype" id="3729924">nil</span>&nbsp;<span class="op" id="3729928">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3729932">return</span>&nbsp;<span class="builtintype" id="3729939">false</span><span class="op" id="3729944">,</span>&nbsp;<span class="ident" id="3729946"><a href="/gostd/text/template/funcs.go.html#3729892">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3729951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729954">v2</span>&nbsp;<span class="op" id="3729957">:=</span>&nbsp;<span class="ident" id="3729960"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3729967">.</span><span class="ident" id="3729968"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3729975">(</span><span class="ident" id="3729976"><a href="/gostd/text/template/funcs.go.html#3729824">arg2</a></span><span class="op" id="3729980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3729983">k2</span><span class="op" id="3729985">,</span>&nbsp;<span class="ident" id="3729987"><a href="/gostd/text/template/funcs.go.html#3729892">err</a></span>&nbsp;<span class="op" id="3729991">:=</span>&nbsp;<span class="ident" id="3729994"><a href="/gostd/text/template/funcs.go.html#3727810">basicKind</a></span><span class="op" id="3730003">(</span><span class="ident" id="3730004"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730009">if</span>&nbsp;<span class="ident" id="3730012"><a href="/gostd/text/template/funcs.go.html#3729892">err</a></span>&nbsp;<span class="op" id="3730016">!=</span>&nbsp;<span class="builtintype" id="3730019">nil</span>&nbsp;<span class="op" id="3730023">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730027">return</span>&nbsp;<span class="builtintype" id="3730034">false</span><span class="op" id="3730039">,</span>&nbsp;<span class="ident" id="3730041"><a href="/gostd/text/template/funcs.go.html#3729892">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730049">truth</span>&nbsp;<span class="op" id="3730055">:=</span>&nbsp;<span class="builtintype" id="3730058">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730065">if</span>&nbsp;<span class="ident" id="3730068"><a href="/gostd/text/template/funcs.go.html#3729888">k1</a></span>&nbsp;<span class="op" id="3730071">!=</span>&nbsp;<span class="ident" id="3730074"><a href="/gostd/text/template/funcs.go.html#3729983">k2</a></span>&nbsp;<span class="op" id="3730077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3730081">//&nbsp;Special&nbsp;case:&nbsp;Can&nbsp;compare&nbsp;integer&nbsp;values&nbsp;regardless&nbsp;of&nbsp;type&#39;s&nbsp;sign.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730154">switch</span>&nbsp;<span class="op" id="3730161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730165">case</span>&nbsp;<span class="ident" id="3730170"><a href="/gostd/text/template/funcs.go.html#3729888">k1</a></span>&nbsp;<span class="op" id="3730173">==</span>&nbsp;<span class="ident" id="3730176"><a href="/gostd/text/template/funcs.go.html#3727748">intKind</a></span>&nbsp;<span class="op" id="3730184">&amp;&amp;</span>&nbsp;<span class="ident" id="3730187"><a href="/gostd/text/template/funcs.go.html#3729983">k2</a></span>&nbsp;<span class="op" id="3730190">==</span>&nbsp;<span class="ident" id="3730193"><a href="/gostd/text/template/funcs.go.html#3727793">uintKind</a></span><span class="op" id="3730201">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730206"><a href="/gostd/text/template/funcs.go.html#3730049">truth</a></span>&nbsp;<span class="op" id="3730212">=</span>&nbsp;<span class="ident" id="3730214"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3730216">.</span><span class="ident" id="3730217"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3730220">(</span><span class="op" id="3730221">)</span>&nbsp;<span class="op" id="3730223">&lt;</span>&nbsp;<span class="num" id="3730225">0</span>&nbsp;<span class="op" id="3730227">||</span>&nbsp;<span class="builtintype" id="3730230">uint64</span><span class="op" id="3730236">(</span><span class="ident" id="3730237"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3730239">.</span><span class="ident" id="3730240"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3730243">(</span><span class="op" id="3730244">)</span><span class="op" id="3730245">)</span>&nbsp;<span class="op" id="3730247">&lt;</span>&nbsp;<span class="ident" id="3730249"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730251">.</span><span class="ident" id="3730252"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3730256">(</span><span class="op" id="3730257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730261">case</span>&nbsp;<span class="ident" id="3730266"><a href="/gostd/text/template/funcs.go.html#3729888">k1</a></span>&nbsp;<span class="op" id="3730269">==</span>&nbsp;<span class="ident" id="3730272"><a href="/gostd/text/template/funcs.go.html#3727793">uintKind</a></span>&nbsp;<span class="op" id="3730281">&amp;&amp;</span>&nbsp;<span class="ident" id="3730284"><a href="/gostd/text/template/funcs.go.html#3729983">k2</a></span>&nbsp;<span class="op" id="3730287">==</span>&nbsp;<span class="ident" id="3730290"><a href="/gostd/text/template/funcs.go.html#3727748">intKind</a></span><span class="op" id="3730297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730302"><a href="/gostd/text/template/funcs.go.html#3730049">truth</a></span>&nbsp;<span class="op" id="3730308">=</span>&nbsp;<span class="ident" id="3730310"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730312">.</span><span class="ident" id="3730313"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3730316">(</span><span class="op" id="3730317">)</span>&nbsp;<span class="op" id="3730319">&gt;=</span>&nbsp;<span class="num" id="3730322">0</span>&nbsp;<span class="op" id="3730324">&amp;&amp;</span>&nbsp;<span class="ident" id="3730327"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3730329">.</span><span class="ident" id="3730330"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3730334">(</span><span class="op" id="3730335">)</span>&nbsp;<span class="op" id="3730337">&lt;</span>&nbsp;<span class="builtintype" id="3730339">uint64</span><span class="op" id="3730345">(</span><span class="ident" id="3730346"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730348">.</span><span class="ident" id="3730349"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3730352">(</span><span class="op" id="3730353">)</span><span class="op" id="3730354">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730358">default</span><span class="op" id="3730365">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730370">return</span>&nbsp;<span class="builtintype" id="3730377">false</span><span class="op" id="3730382">,</span>&nbsp;<span class="ident" id="3730384"><a href="/gostd/text/template/funcs.go.html#3727532">errBadComparison</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730403">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730406">}</span>&nbsp;<span class="keyword" id="3730408">else</span>&nbsp;<span class="op" id="3730413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730417">switch</span>&nbsp;<span class="ident" id="3730424"><a href="/gostd/text/template/funcs.go.html#3729888">k1</a></span>&nbsp;<span class="op" id="3730427">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730431">case</span>&nbsp;<span class="ident" id="3730436"><a href="/gostd/text/template/funcs.go.html#3727725">boolKind</a></span><span class="op" id="3730444">,</span>&nbsp;<span class="ident" id="3730446"><a href="/gostd/text/template/funcs.go.html#3727735">complexKind</a></span><span class="op" id="3730457">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730462">return</span>&nbsp;<span class="builtintype" id="3730469">false</span><span class="op" id="3730474">,</span>&nbsp;<span class="ident" id="3730476"><a href="/gostd/text/template/funcs.go.html#3727466">errBadComparisonType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730499">case</span>&nbsp;<span class="ident" id="3730504"><a href="/gostd/text/template/funcs.go.html#3727757">floatKind</a></span><span class="op" id="3730513">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730518"><a href="/gostd/text/template/funcs.go.html#3730049">truth</a></span>&nbsp;<span class="op" id="3730524">=</span>&nbsp;<span class="ident" id="3730526"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3730528">.</span><span class="ident" id="3730529"><a href="/gostd/reflect/value.go.html#2856007">Float</a></span><span class="op" id="3730534">(</span><span class="op" id="3730535">)</span>&nbsp;<span class="op" id="3730537">&lt;</span>&nbsp;<span class="ident" id="3730539"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730541">.</span><span class="ident" id="3730542"><a href="/gostd/reflect/value.go.html#2856007">Float</a></span><span class="op" id="3730547">(</span><span class="op" id="3730548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730552">case</span>&nbsp;<span class="ident" id="3730557"><a href="/gostd/text/template/funcs.go.html#3727748">intKind</a></span><span class="op" id="3730564">:</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730569"><a href="/gostd/text/template/funcs.go.html#3730049">truth</a></span>&nbsp;<span class="op" id="3730575">=</span>&nbsp;<span class="ident" id="3730577"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3730579">.</span><span class="ident" id="3730580"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3730583">(</span><span class="op" id="3730584">)</span>&nbsp;<span class="op" id="3730586">&lt;</span>&nbsp;<span class="ident" id="3730588"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730590">.</span><span class="ident" id="3730591"><a href="/gostd/reflect/value.go.html#2857929">Int</a></span><span class="op" id="3730594">(</span><span class="op" id="3730595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730599">case</span>&nbsp;<span class="ident" id="3730604"><a href="/gostd/text/template/funcs.go.html#3727781">stringKind</a></span><span class="op" id="3730614">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730619"><a href="/gostd/text/template/funcs.go.html#3730049">truth</a></span>&nbsp;<span class="op" id="3730625">=</span>&nbsp;<span class="ident" id="3730627"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3730629">.</span><span class="ident" id="3730630"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3730636">(</span><span class="op" id="3730637">)</span>&nbsp;<span class="op" id="3730639">&lt;</span>&nbsp;<span class="ident" id="3730641"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730643">.</span><span class="ident" id="3730644"><a href="/gostd/reflect/value.go.html#2879739">String</a></span><span class="op" id="3730650">(</span><span class="op" id="3730651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730655">case</span>&nbsp;<span class="ident" id="3730660"><a href="/gostd/text/template/funcs.go.html#3727793">uintKind</a></span><span class="op" id="3730668">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730673"><a href="/gostd/text/template/funcs.go.html#3730049">truth</a></span>&nbsp;<span class="op" id="3730679">=</span>&nbsp;<span class="ident" id="3730681"><a href="/gostd/text/template/funcs.go.html#3729859">v1</a></span><span class="op" id="3730683">.</span><span class="ident" id="3730684"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3730688">(</span><span class="op" id="3730689">)</span>&nbsp;<span class="op" id="3730691">&lt;</span>&nbsp;<span class="ident" id="3730693"><a href="/gostd/text/template/funcs.go.html#3729954">v2</a></span><span class="op" id="3730695">.</span><span class="ident" id="3730696"><a href="/gostd/reflect/value.go.html#2881772">Uint</a></span><span class="op" id="3730700">(</span><span class="op" id="3730701">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730705">default</span><span class="op" id="3730712">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="3730717">panic</span><span class="op" id="3730722">(</span><span class="string" id="3730723">&#34;invalid&nbsp;kind&#34;</span><span class="op" id="3730737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730747">return</span>&nbsp;<span class="ident" id="3730754"><a href="/gostd/text/template/funcs.go.html#3730049">truth</a></span><span class="op" id="3730759">,</span>&nbsp;<span class="builtintype" id="3730761">nil</span><br>
<span class="lineno">400</span><span class="op" id="3730765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3730768">//&nbsp;le&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;&lt;=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3730805">func</span>&nbsp;<span class="ident" id="3730810">le</span><span class="op" id="3730812">(</span><span class="ident" id="3730813">arg1</span><span class="op" id="3730817">,</span>&nbsp;<span class="ident" id="3730819">arg2</span>&nbsp;<span class="keyword" id="3730824">interface</span><span class="op" id="3730833">{</span><span class="op" id="3730834">}</span><span class="op" id="3730835">)</span>&nbsp;<span class="op" id="3730837">(</span><span class="builtintype" id="3730838">bool</span><span class="op" id="3730842">,</span>&nbsp;<span class="builtintype" id="3730844">error</span><span class="op" id="3730849">)</span>&nbsp;<span class="op" id="3730851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3730854">//&nbsp;&lt;=&nbsp;is&nbsp;&lt;&nbsp;or&nbsp;==.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3730873">lessThan</span><span class="op" id="3730881">,</span>&nbsp;<span class="ident" id="3730883">err</span>&nbsp;<span class="op" id="3730887">:=</span>&nbsp;<span class="ident" id="3730890"><a href="/gostd/text/template/funcs.go.html#3729815">lt</a></span><span class="op" id="3730892">(</span><span class="ident" id="3730893"><a href="/gostd/text/template/funcs.go.html#3730813">arg1</a></span><span class="op" id="3730897">,</span>&nbsp;<span class="ident" id="3730899"><a href="/gostd/text/template/funcs.go.html#3730819">arg2</a></span><span class="op" id="3730903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730906">if</span>&nbsp;<span class="ident" id="3730909"><a href="/gostd/text/template/funcs.go.html#3730873">lessThan</a></span>&nbsp;<span class="op" id="3730918">||</span>&nbsp;<span class="ident" id="3730921"><a href="/gostd/text/template/funcs.go.html#3730883">err</a></span>&nbsp;<span class="op" id="3730925">!=</span>&nbsp;<span class="builtintype" id="3730928">nil</span>&nbsp;<span class="op" id="3730932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730936">return</span>&nbsp;<span class="ident" id="3730943"><a href="/gostd/text/template/funcs.go.html#3730873">lessThan</a></span><span class="op" id="3730951">,</span>&nbsp;<span class="ident" id="3730953"><a href="/gostd/text/template/funcs.go.html#3730883">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3730958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3730961">return</span>&nbsp;<span class="ident" id="3730968"><a href="/gostd/text/template/funcs.go.html#3728428">eq</a></span><span class="op" id="3730970">(</span><span class="ident" id="3730971"><a href="/gostd/text/template/funcs.go.html#3730813">arg1</a></span><span class="op" id="3730975">,</span>&nbsp;<span class="ident" id="3730977"><a href="/gostd/text/template/funcs.go.html#3730819">arg2</a></span><span class="op" id="3730981">)</span><br>
<span class="lineno">410</span><span class="op" id="3730983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3730986">//&nbsp;gt&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&gt;&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3731024">func</span>&nbsp;<span class="ident" id="3731029">gt</span><span class="op" id="3731031">(</span><span class="ident" id="3731032">arg1</span><span class="op" id="3731036">,</span>&nbsp;<span class="ident" id="3731038">arg2</span>&nbsp;<span class="keyword" id="3731043">interface</span><span class="op" id="3731052">{</span><span class="op" id="3731053">}</span><span class="op" id="3731054">)</span>&nbsp;<span class="op" id="3731056">(</span><span class="builtintype" id="3731057">bool</span><span class="op" id="3731061">,</span>&nbsp;<span class="builtintype" id="3731063">error</span><span class="op" id="3731068">)</span>&nbsp;<span class="op" id="3731070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3731073">//&nbsp;&gt;&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;&lt;=.</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731101">lessOrEqual</span><span class="op" id="3731112">,</span>&nbsp;<span class="ident" id="3731114">err</span>&nbsp;<span class="op" id="3731118">:=</span>&nbsp;<span class="ident" id="3731121"><a href="/gostd/text/template/funcs.go.html#3730810">le</a></span><span class="op" id="3731123">(</span><span class="ident" id="3731124"><a href="/gostd/text/template/funcs.go.html#3731032">arg1</a></span><span class="op" id="3731128">,</span>&nbsp;<span class="ident" id="3731130"><a href="/gostd/text/template/funcs.go.html#3731038">arg2</a></span><span class="op" id="3731134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731137">if</span>&nbsp;<span class="ident" id="3731140"><a href="/gostd/text/template/funcs.go.html#3731114">err</a></span>&nbsp;<span class="op" id="3731144">!=</span>&nbsp;<span class="builtintype" id="3731147">nil</span>&nbsp;<span class="op" id="3731151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731155">return</span>&nbsp;<span class="builtintype" id="3731162">false</span><span class="op" id="3731167">,</span>&nbsp;<span class="ident" id="3731169"><a href="/gostd/text/template/funcs.go.html#3731114">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3731174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731177">return</span>&nbsp;<span class="op" id="3731184">!</span><span class="ident" id="3731185"><a href="/gostd/text/template/funcs.go.html#3731101">lessOrEqual</a></span><span class="op" id="3731196">,</span>&nbsp;<span class="builtintype" id="3731198">nil</span><br>
<span class="lineno">420</span><span class="op" id="3731202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3731205">//&nbsp;ge&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&gt;=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3731244">func</span>&nbsp;<span class="ident" id="3731249">ge</span><span class="op" id="3731251">(</span><span class="ident" id="3731252">arg1</span><span class="op" id="3731256">,</span>&nbsp;<span class="ident" id="3731258">arg2</span>&nbsp;<span class="keyword" id="3731263">interface</span><span class="op" id="3731272">{</span><span class="op" id="3731273">}</span><span class="op" id="3731274">)</span>&nbsp;<span class="op" id="3731276">(</span><span class="builtintype" id="3731277">bool</span><span class="op" id="3731281">,</span>&nbsp;<span class="builtintype" id="3731283">error</span><span class="op" id="3731288">)</span>&nbsp;<span class="op" id="3731290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3731293">//&nbsp;&gt;=&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;&lt;.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731321">lessThan</span><span class="op" id="3731329">,</span>&nbsp;<span class="ident" id="3731331">err</span>&nbsp;<span class="op" id="3731335">:=</span>&nbsp;<span class="ident" id="3731338"><a href="/gostd/text/template/funcs.go.html#3729815">lt</a></span><span class="op" id="3731340">(</span><span class="ident" id="3731341"><a href="/gostd/text/template/funcs.go.html#3731252">arg1</a></span><span class="op" id="3731345">,</span>&nbsp;<span class="ident" id="3731347"><a href="/gostd/text/template/funcs.go.html#3731258">arg2</a></span><span class="op" id="3731351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731354">if</span>&nbsp;<span class="ident" id="3731357"><a href="/gostd/text/template/funcs.go.html#3731331">err</a></span>&nbsp;<span class="op" id="3731361">!=</span>&nbsp;<span class="builtintype" id="3731364">nil</span>&nbsp;<span class="op" id="3731368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731372">return</span>&nbsp;<span class="builtintype" id="3731379">false</span><span class="op" id="3731384">,</span>&nbsp;<span class="ident" id="3731386"><a href="/gostd/text/template/funcs.go.html#3731331">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3731391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731394">return</span>&nbsp;<span class="op" id="3731401">!</span><span class="ident" id="3731402"><a href="/gostd/text/template/funcs.go.html#3731321">lessThan</a></span><span class="op" id="3731410">,</span>&nbsp;<span class="builtintype" id="3731412">nil</span><br>
<span class="lineno">430</span><span class="op" id="3731416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3731419">//&nbsp;HTML&nbsp;escaping.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3731438">var</span>&nbsp;<span class="op" id="3731442">(</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731445">htmlQuot</span>&nbsp;<span class="op" id="3731454">=</span>&nbsp;<span class="op" id="3731456">[</span><span class="op" id="3731457">]</span><span class="builtintype" id="3731458">byte</span><span class="op" id="3731462">(</span><span class="string" id="3731463">&#34;&amp;#34;&#34;</span><span class="op" id="3731470">)</span>&nbsp;<span class="comment" id="3731472">//&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;quot;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731498">htmlApos</span>&nbsp;<span class="op" id="3731507">=</span>&nbsp;<span class="op" id="3731509">[</span><span class="op" id="3731510">]</span><span class="builtintype" id="3731511">byte</span><span class="op" id="3731515">(</span><span class="string" id="3731516">&#34;&amp;#39;&#34;</span><span class="op" id="3731523">)</span>&nbsp;<span class="comment" id="3731525">//&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;apos;&#34;&nbsp;and&nbsp;apos&nbsp;was&nbsp;not&nbsp;in&nbsp;HTML&nbsp;until&nbsp;HTML5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731588">htmlAmp</span>&nbsp;&nbsp;<span class="op" id="3731597">=</span>&nbsp;<span class="op" id="3731599">[</span><span class="op" id="3731600">]</span><span class="builtintype" id="3731601">byte</span><span class="op" id="3731605">(</span><span class="string" id="3731606">&#34;&amp;amp;&#34;</span><span class="op" id="3731613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731616">htmlLt</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3731625">=</span>&nbsp;<span class="op" id="3731627">[</span><span class="op" id="3731628">]</span><span class="builtintype" id="3731629">byte</span><span class="op" id="3731633">(</span><span class="string" id="3731634">&#34;&amp;lt;&#34;</span><span class="op" id="3731640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731643">htmlGt</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3731652">=</span>&nbsp;<span class="op" id="3731654">[</span><span class="op" id="3731655">]</span><span class="builtintype" id="3731656">byte</span><span class="op" id="3731660">(</span><span class="string" id="3731661">&#34;&amp;gt;&#34;</span><span class="op" id="3731667">)</span><br>
<span class="lineno">440</span><span class="op" id="3731669">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3731672">//&nbsp;HTMLEscape&nbsp;writes&nbsp;to&nbsp;w&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3731752">func</span>&nbsp;<span class="ident" id="3731757">HTMLEscape</span><span class="op" id="3731767">(</span><span class="ident" id="3731768">w</span>&nbsp;<span class="ident" id="3731770"><a href="/gostd/text/template/funcs.go.html#3720556">io</a></span><span class="op" id="3731772">.</span><span class="ident" id="3731773"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="3731779">,</span>&nbsp;<span class="ident" id="3731781">b</span>&nbsp;<span class="op" id="3731783">[</span><span class="op" id="3731784">]</span><span class="builtintype" id="3731785">byte</span><span class="op" id="3731789">)</span>&nbsp;<span class="op" id="3731791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731794">last</span>&nbsp;<span class="op" id="3731799">:=</span>&nbsp;<span class="num" id="3731802">0</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731805">for</span>&nbsp;<span class="ident" id="3731809">i</span><span class="op" id="3731810">,</span>&nbsp;<span class="ident" id="3731812">c</span>&nbsp;<span class="op" id="3731814">:=</span>&nbsp;<span class="keyword" id="3731817">range</span>&nbsp;<span class="ident" id="3731823"><a href="/gostd/text/template/funcs.go.html#3731781">b</a></span>&nbsp;<span class="op" id="3731825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731829">var</span>&nbsp;<span class="ident" id="3731833">html</span>&nbsp;<span class="op" id="3731838">[</span><span class="op" id="3731839">]</span><span class="builtintype" id="3731840">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731847">switch</span>&nbsp;<span class="ident" id="3731854"><a href="/gostd/text/template/funcs.go.html#3731812">c</a></span>&nbsp;<span class="op" id="3731856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731860">case</span>&nbsp;<span class="string" id="3731865">&#39;&#34;&#39;</span><span class="op" id="3731868">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731873"><a href="/gostd/text/template/funcs.go.html#3731833">html</a></span>&nbsp;<span class="op" id="3731878">=</span>&nbsp;<span class="ident" id="3731880"><a href="/gostd/text/template/funcs.go.html#3731445">htmlQuot</a></span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731891">case</span>&nbsp;<span class="string" id="3731896">&#39;\&#39;&#39;</span><span class="op" id="3731900">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731905"><a href="/gostd/text/template/funcs.go.html#3731833">html</a></span>&nbsp;<span class="op" id="3731910">=</span>&nbsp;<span class="ident" id="3731912"><a href="/gostd/text/template/funcs.go.html#3731498">htmlApos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731923">case</span>&nbsp;<span class="string" id="3731928">&#39;&amp;&#39;</span><span class="op" id="3731931">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731936"><a href="/gostd/text/template/funcs.go.html#3731833">html</a></span>&nbsp;<span class="op" id="3731941">=</span>&nbsp;<span class="ident" id="3731943"><a href="/gostd/text/template/funcs.go.html#3731588">htmlAmp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731953">case</span>&nbsp;<span class="string" id="3731958">&#39;&lt;&#39;</span><span class="op" id="3731961">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731966"><a href="/gostd/text/template/funcs.go.html#3731833">html</a></span>&nbsp;<span class="op" id="3731971">=</span>&nbsp;<span class="ident" id="3731973"><a href="/gostd/text/template/funcs.go.html#3731616">htmlLt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3731982">case</span>&nbsp;<span class="string" id="3731987">&#39;&gt;&#39;</span><span class="op" id="3731990">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3731995"><a href="/gostd/text/template/funcs.go.html#3731833">html</a></span>&nbsp;<span class="op" id="3732000">=</span>&nbsp;<span class="ident" id="3732002"><a href="/gostd/text/template/funcs.go.html#3731643">htmlGt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732011">default</span><span class="op" id="3732018">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732023">continue</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732038"><a href="/gostd/text/template/funcs.go.html#3731768">w</a></span><span class="op" id="3732039">.</span><span class="ident" id="3732040"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3732045">(</span><span class="ident" id="3732046"><a href="/gostd/text/template/funcs.go.html#3731781">b</a></span><span class="op" id="3732047">[</span><span class="ident" id="3732048"><a href="/gostd/text/template/funcs.go.html#3731794">last</a></span><span class="op" id="3732052">:</span><span class="ident" id="3732053"><a href="/gostd/text/template/funcs.go.html#3731809">i</a></span><span class="op" id="3732054">]</span><span class="op" id="3732055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732059"><a href="/gostd/text/template/funcs.go.html#3731768">w</a></span><span class="op" id="3732060">.</span><span class="ident" id="3732061"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3732066">(</span><span class="ident" id="3732067"><a href="/gostd/text/template/funcs.go.html#3731833">html</a></span><span class="op" id="3732071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732075"><a href="/gostd/text/template/funcs.go.html#3731794">last</a></span>&nbsp;<span class="op" id="3732080">=</span>&nbsp;<span class="ident" id="3732082"><a href="/gostd/text/template/funcs.go.html#3731809">i</a></span>&nbsp;<span class="op" id="3732084">+</span>&nbsp;<span class="num" id="3732086">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732089">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732092"><a href="/gostd/text/template/funcs.go.html#3731768">w</a></span><span class="op" id="3732093">.</span><span class="ident" id="3732094"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3732099">(</span><span class="ident" id="3732100"><a href="/gostd/text/template/funcs.go.html#3731781">b</a></span><span class="op" id="3732101">[</span><span class="ident" id="3732102"><a href="/gostd/text/template/funcs.go.html#3731794">last</a></span><span class="op" id="3732106">:</span><span class="op" id="3732107">]</span><span class="op" id="3732108">)</span><br>
<span class="lineno"></span><span class="op" id="3732110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732113">//&nbsp;HTMLEscapeString&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3732195">func</span>&nbsp;<span class="ident" id="3732200">HTMLEscapeString</span><span class="op" id="3732216">(</span><span class="ident" id="3732217">s</span>&nbsp;<span class="builtintype" id="3732219">string</span><span class="op" id="3732225">)</span>&nbsp;<span class="builtintype" id="3732227">string</span>&nbsp;<span class="op" id="3732234">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3732237">//&nbsp;Avoid&nbsp;allocation&nbsp;if&nbsp;we&nbsp;can.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732269">if</span>&nbsp;<span class="ident" id="3732272"><a href="/gostd/text/template/funcs.go.html#3720584">strings</a></span><span class="op" id="3732279">.</span><span class="ident" id="3732280"><a href="/gostd/strings/strings.go.html#2970774">IndexAny</a></span><span class="op" id="3732288">(</span><span class="ident" id="3732289"><a href="/gostd/text/template/funcs.go.html#3732217">s</a></span><span class="op" id="3732290">,</span>&nbsp;<span class="string" id="3732292">`&#39;&#34;&amp;&lt;&gt;`</span><span class="op" id="3732299">)</span>&nbsp;<span class="op" id="3732301">&lt;</span>&nbsp;<span class="num" id="3732303">0</span>&nbsp;<span class="op" id="3732305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732309">return</span>&nbsp;<span class="ident" id="3732316"><a href="/gostd/text/template/funcs.go.html#3732217">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732322">var</span>&nbsp;<span class="ident" id="3732326">b</span>&nbsp;<span class="ident" id="3732328"><a href="/gostd/text/template/funcs.go.html#3720530">bytes</a></span><span class="op" id="3732333">.</span><span class="ident" id="3732334"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732342"><a href="/gostd/text/template/funcs.go.html#3731757">HTMLEscape</a></span><span class="op" id="3732352">(</span><span class="op" id="3732353">&amp;</span><span class="ident" id="3732354"><a href="/gostd/text/template/funcs.go.html#3732326">b</a></span><span class="op" id="3732355">,</span>&nbsp;<span class="op" id="3732357">[</span><span class="op" id="3732358">]</span><span class="builtintype" id="3732359">byte</span><span class="op" id="3732363">(</span><span class="ident" id="3732364"><a href="/gostd/text/template/funcs.go.html#3732217">s</a></span><span class="op" id="3732365">)</span><span class="op" id="3732366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732369">return</span>&nbsp;<span class="ident" id="3732376"><a href="/gostd/text/template/funcs.go.html#3732326">b</a></span><span class="op" id="3732377">.</span><span class="ident" id="3732378"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3732384">(</span><span class="op" id="3732385">)</span><br>
<span class="lineno"></span><span class="op" id="3732387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732390">//&nbsp;HTMLEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;textual</span><br>
<span class="lineno">480</span><span class="comment" id="3732456">//&nbsp;representation&nbsp;of&nbsp;its&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="keyword" id="3732492">func</span>&nbsp;<span class="ident" id="3732497">HTMLEscaper</span><span class="op" id="3732508">(</span><span class="ident" id="3732509">args</span>&nbsp;<span class="op" id="3732514">...</span><span class="keyword" id="3732517">interface</span><span class="op" id="3732526">{</span><span class="op" id="3732527">}</span><span class="op" id="3732528">)</span>&nbsp;<span class="builtintype" id="3732530">string</span>&nbsp;<span class="op" id="3732537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732540">return</span>&nbsp;<span class="ident" id="3732547"><a href="/gostd/text/template/funcs.go.html#3732200">HTMLEscapeString</a></span><span class="op" id="3732563">(</span><span class="ident" id="3732564"><a href="/gostd/text/template/funcs.go.html#3734883">evalArgs</a></span><span class="op" id="3732572">(</span><span class="ident" id="3732573"><a href="/gostd/text/template/funcs.go.html#3732509">args</a></span><span class="op" id="3732577">)</span><span class="op" id="3732578">)</span><br>
<span class="lineno"></span><span class="op" id="3732580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="comment" id="3732583">//&nbsp;JavaScript&nbsp;escaping.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3732608">var</span>&nbsp;<span class="op" id="3732612">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732615">jsLowUni</span>&nbsp;<span class="op" id="3732624">=</span>&nbsp;<span class="op" id="3732626">[</span><span class="op" id="3732627">]</span><span class="builtintype" id="3732628">byte</span><span class="op" id="3732632">(</span><span class="string" id="3732633">`\u00`</span><span class="op" id="3732639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732642">hex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732651">=</span>&nbsp;<span class="op" id="3732653">[</span><span class="op" id="3732654">]</span><span class="builtintype" id="3732655">byte</span><span class="op" id="3732659">(</span><span class="string" id="3732660">&#34;0123456789ABCDEF&#34;</span><span class="op" id="3732678">)</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732682">jsBackslash</span>&nbsp;<span class="op" id="3732694">=</span>&nbsp;<span class="op" id="3732696">[</span><span class="op" id="3732697">]</span><span class="builtintype" id="3732698">byte</span><span class="op" id="3732702">(</span><span class="string" id="3732703">`\\`</span><span class="op" id="3732707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732710">jsApos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732722">=</span>&nbsp;<span class="op" id="3732724">[</span><span class="op" id="3732725">]</span><span class="builtintype" id="3732726">byte</span><span class="op" id="3732730">(</span><span class="string" id="3732731">`\&#39;`</span><span class="op" id="3732735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732738">jsQuot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732750">=</span>&nbsp;<span class="op" id="3732752">[</span><span class="op" id="3732753">]</span><span class="builtintype" id="3732754">byte</span><span class="op" id="3732758">(</span><span class="string" id="3732759">`\&#34;`</span><span class="op" id="3732763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732766">jsLt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732778">=</span>&nbsp;<span class="op" id="3732780">[</span><span class="op" id="3732781">]</span><span class="builtintype" id="3732782">byte</span><span class="op" id="3732786">(</span><span class="string" id="3732787">`\x3C`</span><span class="op" id="3732793">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732796">jsGt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3732808">=</span>&nbsp;<span class="op" id="3732810">[</span><span class="op" id="3732811">]</span><span class="builtintype" id="3732812">byte</span><span class="op" id="3732816">(</span><span class="string" id="3732817">`\x3E`</span><span class="op" id="3732823">)</span><br>
<span class="lineno"></span><span class="op" id="3732825">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3732828">//&nbsp;JSEscape&nbsp;writes&nbsp;to&nbsp;w&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="3732912">func</span>&nbsp;<span class="ident" id="3732917">JSEscape</span><span class="op" id="3732925">(</span><span class="ident" id="3732926">w</span>&nbsp;<span class="ident" id="3732928"><a href="/gostd/text/template/funcs.go.html#3720556">io</a></span><span class="op" id="3732930">.</span><span class="ident" id="3732931"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="3732937">,</span>&nbsp;<span class="ident" id="3732939">b</span>&nbsp;<span class="op" id="3732941">[</span><span class="op" id="3732942">]</span><span class="builtintype" id="3732943">byte</span><span class="op" id="3732947">)</span>&nbsp;<span class="op" id="3732949">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732952">last</span>&nbsp;<span class="op" id="3732957">:=</span>&nbsp;<span class="num" id="3732960">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3732963">for</span>&nbsp;<span class="ident" id="3732967">i</span>&nbsp;<span class="op" id="3732969">:=</span>&nbsp;<span class="num" id="3732972">0</span><span class="op" id="3732973">;</span>&nbsp;<span class="ident" id="3732975"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span>&nbsp;<span class="op" id="3732977">&lt;</span>&nbsp;<span class="builtinfunc" id="3732979">len</span><span class="op" id="3732982">(</span><span class="ident" id="3732983"><a href="/gostd/text/template/funcs.go.html#3732939">b</a></span><span class="op" id="3732984">)</span><span class="op" id="3732985">;</span>&nbsp;<span class="ident" id="3732987"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span><span class="op" id="3732988">++</span>&nbsp;<span class="op" id="3732991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3732995">c</span>&nbsp;<span class="op" id="3732997">:=</span>&nbsp;<span class="ident" id="3733000"><a href="/gostd/text/template/funcs.go.html#3732939">b</a></span><span class="op" id="3733001">[</span><span class="ident" id="3733002"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span><span class="op" id="3733003">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733008">if</span>&nbsp;<span class="op" id="3733011">!</span><span class="ident" id="3733012"><a href="/gostd/text/template/funcs.go.html#3734048">jsIsSpecial</a></span><span class="op" id="3733023">(</span><span class="builtintype" id="3733024">rune</span><span class="op" id="3733028">(</span><span class="ident" id="3733029"><a href="/gostd/text/template/funcs.go.html#3732995">c</a></span><span class="op" id="3733030">)</span><span class="op" id="3733031">)</span>&nbsp;<span class="op" id="3733033">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3733038">//&nbsp;fast&nbsp;path:&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733069">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733084"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733085">.</span><span class="ident" id="3733086"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733091">(</span><span class="ident" id="3733092"><a href="/gostd/text/template/funcs.go.html#3732939">b</a></span><span class="op" id="3733093">[</span><span class="ident" id="3733094"><a href="/gostd/text/template/funcs.go.html#3732952">last</a></span><span class="op" id="3733098">:</span><span class="ident" id="3733099"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span><span class="op" id="3733100">]</span><span class="op" id="3733101">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733106">if</span>&nbsp;<span class="ident" id="3733109"><a href="/gostd/text/template/funcs.go.html#3732995">c</a></span>&nbsp;<span class="op" id="3733111">&lt;</span>&nbsp;<span class="ident" id="3733113"><a href="/gostd/text/template/funcs.go.html#3720606">utf8</a></span><span class="op" id="3733117">.</span><span class="ident" id="3733118"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="3733127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3733132">//&nbsp;Quotes,&nbsp;slashes&nbsp;and&nbsp;angle&nbsp;brackets&nbsp;get&nbsp;quoted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3733185">//&nbsp;Control&nbsp;characters&nbsp;get&nbsp;written&nbsp;as&nbsp;\u00XX.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733233">switch</span>&nbsp;<span class="ident" id="3733240"><a href="/gostd/text/template/funcs.go.html#3732995">c</a></span>&nbsp;<span class="op" id="3733242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733247">case</span>&nbsp;<span class="string" id="3733252">&#39;\\&#39;</span><span class="op" id="3733256">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733262"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733263">.</span><span class="ident" id="3733264"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733269">(</span><span class="ident" id="3733270"><a href="/gostd/text/template/funcs.go.html#3732682">jsBackslash</a></span><span class="op" id="3733281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733286">case</span>&nbsp;<span class="string" id="3733291">&#39;\&#39;&#39;</span><span class="op" id="3733295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733301"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733302">.</span><span class="ident" id="3733303"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733308">(</span><span class="ident" id="3733309"><a href="/gostd/text/template/funcs.go.html#3732710">jsApos</a></span><span class="op" id="3733315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733320">case</span>&nbsp;<span class="string" id="3733325">&#39;&#34;&#39;</span><span class="op" id="3733328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733334"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733335">.</span><span class="ident" id="3733336"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733341">(</span><span class="ident" id="3733342"><a href="/gostd/text/template/funcs.go.html#3732738">jsQuot</a></span><span class="op" id="3733348">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733353">case</span>&nbsp;<span class="string" id="3733358">&#39;&lt;&#39;</span><span class="op" id="3733361">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733367"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733368">.</span><span class="ident" id="3733369"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733374">(</span><span class="ident" id="3733375"><a href="/gostd/text/template/funcs.go.html#3732766">jsLt</a></span><span class="op" id="3733379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733384">case</span>&nbsp;<span class="string" id="3733389">&#39;&gt;&#39;</span><span class="op" id="3733392">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733398"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733399">.</span><span class="ident" id="3733400"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733405">(</span><span class="ident" id="3733406"><a href="/gostd/text/template/funcs.go.html#3732796">jsGt</a></span><span class="op" id="3733410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733415">default</span><span class="op" id="3733422">:</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733428"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733429">.</span><span class="ident" id="3733430"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733435">(</span><span class="ident" id="3733436"><a href="/gostd/text/template/funcs.go.html#3732615">jsLowUni</a></span><span class="op" id="3733444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733450">t</span><span class="op" id="3733451">,</span>&nbsp;<span class="ident" id="3733453">b</span>&nbsp;<span class="op" id="3733455">:=</span>&nbsp;<span class="ident" id="3733458"><a href="/gostd/text/template/funcs.go.html#3732995">c</a></span><span class="op" id="3733459">&gt;&gt;</span><span class="num" id="3733461">4</span><span class="op" id="3733462">,</span>&nbsp;<span class="ident" id="3733464"><a href="/gostd/text/template/funcs.go.html#3732995">c</a></span><span class="op" id="3733465">&amp;</span><span class="num" id="3733466">0x0f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733475"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733476">.</span><span class="ident" id="3733477"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733482">(</span><span class="ident" id="3733483"><a href="/gostd/text/template/funcs.go.html#3732642">hex</a></span><span class="op" id="3733486">[</span><span class="ident" id="3733487"><a href="/gostd/text/template/funcs.go.html#3733450">t</a></span>&nbsp;<span class="op" id="3733489">:</span>&nbsp;<span class="ident" id="3733491"><a href="/gostd/text/template/funcs.go.html#3733450">t</a></span><span class="op" id="3733492">+</span><span class="num" id="3733493">1</span><span class="op" id="3733494">]</span><span class="op" id="3733495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733501"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733502">.</span><span class="ident" id="3733503"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733508">(</span><span class="ident" id="3733509"><a href="/gostd/text/template/funcs.go.html#3732642">hex</a></span><span class="op" id="3733512">[</span><span class="ident" id="3733513"><a href="/gostd/text/template/funcs.go.html#3733453">b</a></span>&nbsp;<span class="op" id="3733515">:</span>&nbsp;<span class="ident" id="3733517"><a href="/gostd/text/template/funcs.go.html#3733453">b</a></span><span class="op" id="3733518">+</span><span class="num" id="3733519">1</span><span class="op" id="3733520">]</span><span class="op" id="3733521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733526">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733530">}</span>&nbsp;<span class="keyword" id="3733532">else</span>&nbsp;<span class="op" id="3733537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3733542">//&nbsp;Unicode&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733562">r</span><span class="op" id="3733563">,</span>&nbsp;<span class="ident" id="3733565">size</span>&nbsp;<span class="op" id="3733570">:=</span>&nbsp;<span class="ident" id="3733573"><a href="/gostd/text/template/funcs.go.html#3720606">utf8</a></span><span class="op" id="3733577">.</span><span class="ident" id="3733578"><a href="/gostd/unicode/utf8/utf8.go.html#1809912">DecodeRune</a></span><span class="op" id="3733588">(</span><span class="ident" id="3733589"><a href="/gostd/text/template/funcs.go.html#3732939">b</a></span><span class="op" id="3733590">[</span><span class="ident" id="3733591"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span><span class="op" id="3733592">:</span><span class="op" id="3733593">]</span><span class="op" id="3733594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733599">if</span>&nbsp;<span class="ident" id="3733602"><a href="/gostd/text/template/funcs.go.html#3720595">unicode</a></span><span class="op" id="3733609">.</span><span class="ident" id="3733610"><a href="/gostd/unicode/graphic.go.html#1818582">IsPrint</a></span><span class="op" id="3733617">(</span><span class="ident" id="3733618"><a href="/gostd/text/template/funcs.go.html#3733562">r</a></span><span class="op" id="3733619">)</span>&nbsp;<span class="op" id="3733621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733627"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733628">.</span><span class="ident" id="3733629"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733634">(</span><span class="ident" id="3733635"><a href="/gostd/text/template/funcs.go.html#3732939">b</a></span><span class="op" id="3733636">[</span><span class="ident" id="3733637"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span>&nbsp;<span class="op" id="3733639">:</span>&nbsp;<span class="ident" id="3733641"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span><span class="op" id="3733642">+</span><span class="ident" id="3733643"><a href="/gostd/text/template/funcs.go.html#3733565">size</a></span><span class="op" id="3733647">]</span><span class="op" id="3733648">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733653">}</span>&nbsp;<span class="keyword" id="3733655">else</span>&nbsp;<span class="op" id="3733660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733666"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3733669">.</span><span class="ident" id="3733670"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="3733677">(</span><span class="ident" id="3733678"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733679">,</span>&nbsp;<span class="string" id="3733681">&#34;\\u%04X&#34;</span><span class="op" id="3733690">,</span>&nbsp;<span class="ident" id="3733692"><a href="/gostd/text/template/funcs.go.html#3733562">r</a></span><span class="op" id="3733693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733703"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span>&nbsp;<span class="op" id="3733705">+=</span>&nbsp;<span class="ident" id="3733708"><a href="/gostd/text/template/funcs.go.html#3733565">size</a></span>&nbsp;<span class="op" id="3733713">-</span>&nbsp;<span class="num" id="3733715">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733719">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733723"><a href="/gostd/text/template/funcs.go.html#3732952">last</a></span>&nbsp;<span class="op" id="3733728">=</span>&nbsp;<span class="ident" id="3733730"><a href="/gostd/text/template/funcs.go.html#3732967">i</a></span>&nbsp;<span class="op" id="3733732">+</span>&nbsp;<span class="num" id="3733734">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733740"><a href="/gostd/text/template/funcs.go.html#3732926">w</a></span><span class="op" id="3733741">.</span><span class="ident" id="3733742"><a href="/gostd/io/io.go.html#1422334">Write</a></span><span class="op" id="3733747">(</span><span class="ident" id="3733748"><a href="/gostd/text/template/funcs.go.html#3732939">b</a></span><span class="op" id="3733749">[</span><span class="ident" id="3733750"><a href="/gostd/text/template/funcs.go.html#3732952">last</a></span><span class="op" id="3733754">:</span><span class="op" id="3733755">]</span><span class="op" id="3733756">)</span><br>
<span class="lineno"></span><span class="op" id="3733758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span><span class="comment" id="3733761">//&nbsp;JSEscapeString&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="3733847">func</span>&nbsp;<span class="ident" id="3733852">JSEscapeString</span><span class="op" id="3733866">(</span><span class="ident" id="3733867">s</span>&nbsp;<span class="builtintype" id="3733869">string</span><span class="op" id="3733875">)</span>&nbsp;<span class="builtintype" id="3733877">string</span>&nbsp;<span class="op" id="3733884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3733887">//&nbsp;Avoid&nbsp;allocation&nbsp;if&nbsp;we&nbsp;can.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733919">if</span>&nbsp;<span class="ident" id="3733922"><a href="/gostd/text/template/funcs.go.html#3720584">strings</a></span><span class="op" id="3733929">.</span><span class="ident" id="3733930"><a href="/gostd/strings/strings.go.html#2980485">IndexFunc</a></span><span class="op" id="3733939">(</span><span class="ident" id="3733940"><a href="/gostd/text/template/funcs.go.html#3733867">s</a></span><span class="op" id="3733941">,</span>&nbsp;<span class="ident" id="3733943"><a href="/gostd/text/template/funcs.go.html#3734048">jsIsSpecial</a></span><span class="op" id="3733954">)</span>&nbsp;<span class="op" id="3733956">&lt;</span>&nbsp;<span class="num" id="3733958">0</span>&nbsp;<span class="op" id="3733960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733964">return</span>&nbsp;<span class="ident" id="3733971"><a href="/gostd/text/template/funcs.go.html#3733867">s</a></span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3733974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3733977">var</span>&nbsp;<span class="ident" id="3733981">b</span>&nbsp;<span class="ident" id="3733983"><a href="/gostd/text/template/funcs.go.html#3720530">bytes</a></span><span class="op" id="3733988">.</span><span class="ident" id="3733989"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3733997"><a href="/gostd/text/template/funcs.go.html#3732917">JSEscape</a></span><span class="op" id="3734005">(</span><span class="op" id="3734006">&amp;</span><span class="ident" id="3734007"><a href="/gostd/text/template/funcs.go.html#3733981">b</a></span><span class="op" id="3734008">,</span>&nbsp;<span class="op" id="3734010">[</span><span class="op" id="3734011">]</span><span class="builtintype" id="3734012">byte</span><span class="op" id="3734016">(</span><span class="ident" id="3734017"><a href="/gostd/text/template/funcs.go.html#3733867">s</a></span><span class="op" id="3734018">)</span><span class="op" id="3734019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734022">return</span>&nbsp;<span class="ident" id="3734029"><a href="/gostd/text/template/funcs.go.html#3733981">b</a></span><span class="op" id="3734030">.</span><span class="ident" id="3734031"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="3734037">(</span><span class="op" id="3734038">)</span><br>
<span class="lineno"></span><span class="op" id="3734040">}</span><br>
<span class="lineno">555</span><br>
<span class="lineno"></span><span class="keyword" id="3734043">func</span>&nbsp;<span class="ident" id="3734048">jsIsSpecial</span><span class="op" id="3734059">(</span><span class="ident" id="3734060">r</span>&nbsp;<span class="builtintype" id="3734062">rune</span><span class="op" id="3734066">)</span>&nbsp;<span class="builtintype" id="3734068">bool</span>&nbsp;<span class="op" id="3734073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734076">switch</span>&nbsp;<span class="ident" id="3734083"><a href="/gostd/text/template/funcs.go.html#3734060">r</a></span>&nbsp;<span class="op" id="3734085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734088">case</span>&nbsp;<span class="string" id="3734093">&#39;\\&#39;</span><span class="op" id="3734097">,</span>&nbsp;<span class="string" id="3734099">&#39;\&#39;&#39;</span><span class="op" id="3734103">,</span>&nbsp;<span class="string" id="3734105">&#39;&#34;&#39;</span><span class="op" id="3734108">,</span>&nbsp;<span class="string" id="3734110">&#39;&lt;&#39;</span><span class="op" id="3734113">,</span>&nbsp;<span class="string" id="3734115">&#39;&gt;&#39;</span><span class="op" id="3734118">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734122">return</span>&nbsp;<span class="builtintype" id="3734129">true</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3734135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734138">return</span>&nbsp;<span class="ident" id="3734145"><a href="/gostd/text/template/funcs.go.html#3734060">r</a></span>&nbsp;<span class="op" id="3734147">&lt;</span>&nbsp;<span class="string" id="3734149">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="3734153">||</span>&nbsp;<span class="ident" id="3734156"><a href="/gostd/text/template/funcs.go.html#3720606">utf8</a></span><span class="op" id="3734160">.</span><span class="ident" id="3734161"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="3734170">&lt;=</span>&nbsp;<span class="ident" id="3734173"><a href="/gostd/text/template/funcs.go.html#3734060">r</a></span><br>
<span class="lineno"></span><span class="op" id="3734175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3734178">//&nbsp;JSEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;textual</span><br>
<span class="lineno">565</span><span class="comment" id="3734248">//&nbsp;representation&nbsp;of&nbsp;its&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="keyword" id="3734284">func</span>&nbsp;<span class="ident" id="3734289">JSEscaper</span><span class="op" id="3734298">(</span><span class="ident" id="3734299">args</span>&nbsp;<span class="op" id="3734304">...</span><span class="keyword" id="3734307">interface</span><span class="op" id="3734316">{</span><span class="op" id="3734317">}</span><span class="op" id="3734318">)</span>&nbsp;<span class="builtintype" id="3734320">string</span>&nbsp;<span class="op" id="3734327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734330">return</span>&nbsp;<span class="ident" id="3734337"><a href="/gostd/text/template/funcs.go.html#3733852">JSEscapeString</a></span><span class="op" id="3734351">(</span><span class="ident" id="3734352"><a href="/gostd/text/template/funcs.go.html#3734883">evalArgs</a></span><span class="op" id="3734360">(</span><span class="ident" id="3734361"><a href="/gostd/text/template/funcs.go.html#3734299">args</a></span><span class="op" id="3734365">)</span><span class="op" id="3734366">)</span><br>
<span class="lineno"></span><span class="op" id="3734368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="comment" id="3734371">//&nbsp;URLQueryEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;value&nbsp;of&nbsp;the&nbsp;textual&nbsp;representation&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3734449">//&nbsp;its&nbsp;arguments&nbsp;in&nbsp;a&nbsp;form&nbsp;suitable&nbsp;for&nbsp;embedding&nbsp;in&nbsp;a&nbsp;URL&nbsp;query.</span><br>
<span class="lineno"></span><span class="keyword" id="3734515">func</span>&nbsp;<span class="ident" id="3734520">URLQueryEscaper</span><span class="op" id="3734535">(</span><span class="ident" id="3734536">args</span>&nbsp;<span class="op" id="3734541">...</span><span class="keyword" id="3734544">interface</span><span class="op" id="3734553">{</span><span class="op" id="3734554">}</span><span class="op" id="3734555">)</span>&nbsp;<span class="builtintype" id="3734557">string</span>&nbsp;<span class="op" id="3734564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734567">return</span>&nbsp;<span class="ident" id="3734574"><a href="/gostd/text/template/funcs.go.html#3720562">url</a></span><span class="op" id="3734577">.</span><span class="ident" id="3734578"><a href="/gostd/net/url/url.go.html#3749627">QueryEscape</a></span><span class="op" id="3734589">(</span><span class="ident" id="3734590"><a href="/gostd/text/template/funcs.go.html#3734883">evalArgs</a></span><span class="op" id="3734598">(</span><span class="ident" id="3734599"><a href="/gostd/text/template/funcs.go.html#3734536">args</a></span><span class="op" id="3734603">)</span><span class="op" id="3734604">)</span><br>
<span class="lineno"></span><span class="op" id="3734606">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span><span class="comment" id="3734609">//&nbsp;evalArgs&nbsp;formats&nbsp;the&nbsp;list&nbsp;of&nbsp;arguments&nbsp;into&nbsp;a&nbsp;string.&nbsp;It&nbsp;is&nbsp;therefore&nbsp;equivalent&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3734696">//&nbsp;&nbsp;&nbsp;&nbsp;fmt.Sprint(args...)</span><br>
<span class="lineno"></span><span class="comment" id="3734719">//&nbsp;except&nbsp;that&nbsp;each&nbsp;argument&nbsp;is&nbsp;indirected&nbsp;(if&nbsp;a&nbsp;pointer),&nbsp;as&nbsp;required,</span><br>
<span class="lineno"></span><span class="comment" id="3734791">//&nbsp;using&nbsp;the&nbsp;same&nbsp;rules&nbsp;as&nbsp;the&nbsp;default&nbsp;string&nbsp;evaluation&nbsp;during&nbsp;template</span><br>
<span class="lineno">580</span><span class="comment" id="3734864">//&nbsp;execution.</span><br>
<span class="lineno"></span><span class="keyword" id="3734878">func</span>&nbsp;<span class="ident" id="3734883">evalArgs</span><span class="op" id="3734891">(</span><span class="ident" id="3734892">args</span>&nbsp;<span class="op" id="3734897">[</span><span class="op" id="3734898">]</span><span class="keyword" id="3734899">interface</span><span class="op" id="3734908">{</span><span class="op" id="3734909">}</span><span class="op" id="3734910">)</span>&nbsp;<span class="builtintype" id="3734912">string</span>&nbsp;<span class="op" id="3734919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3734922">ok</span>&nbsp;<span class="op" id="3734925">:=</span>&nbsp;<span class="builtintype" id="3734928">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734935">var</span>&nbsp;<span class="ident" id="3734939">s</span>&nbsp;<span class="builtintype" id="3734941">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3734949">//&nbsp;Fast&nbsp;path&nbsp;for&nbsp;simple&nbsp;common&nbsp;case.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3734987">if</span>&nbsp;<span class="builtinfunc" id="3734990">len</span><span class="op" id="3734993">(</span><span class="ident" id="3734994"><a href="/gostd/text/template/funcs.go.html#3734892">args</a></span><span class="op" id="3734998">)</span>&nbsp;<span class="op" id="3735000">==</span>&nbsp;<span class="num" id="3735003">1</span>&nbsp;<span class="op" id="3735005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3735009"><a href="/gostd/text/template/funcs.go.html#3734939">s</a></span><span class="op" id="3735010">,</span>&nbsp;<span class="ident" id="3735012"><a href="/gostd/text/template/funcs.go.html#3734922">ok</a></span>&nbsp;<span class="op" id="3735015">=</span>&nbsp;<span class="ident" id="3735017"><a href="/gostd/text/template/funcs.go.html#3734892">args</a></span><span class="op" id="3735021">[</span><span class="num" id="3735022">0</span><span class="op" id="3735023">]</span><span class="op" id="3735024">.</span><span class="op" id="3735025">(</span><span class="builtintype" id="3735026">string</span><span class="op" id="3735032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3735035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3735038">if</span>&nbsp;<span class="op" id="3735041">!</span><span class="ident" id="3735042"><a href="/gostd/text/template/funcs.go.html#3734922">ok</a></span>&nbsp;<span class="op" id="3735045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3735049">for</span>&nbsp;<span class="ident" id="3735053">i</span><span class="op" id="3735054">,</span>&nbsp;<span class="ident" id="3735056">arg</span>&nbsp;<span class="op" id="3735060">:=</span>&nbsp;<span class="keyword" id="3735063">range</span>&nbsp;<span class="ident" id="3735069"><a href="/gostd/text/template/funcs.go.html#3734892">args</a></span>&nbsp;<span class="op" id="3735074">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3735079">a</span><span class="op" id="3735080">,</span>&nbsp;<span class="ident" id="3735082">ok</span>&nbsp;<span class="op" id="3735085">:=</span>&nbsp;<span class="ident" id="3735088"><a href="/gostd/text/template/exec.go.html#3718608">printableValue</a></span><span class="op" id="3735102">(</span><span class="ident" id="3735103"><a href="/gostd/text/template/funcs.go.html#3720573">reflect</a></span><span class="op" id="3735110">.</span><span class="ident" id="3735111"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="3735118">(</span><span class="ident" id="3735119"><a href="/gostd/text/template/funcs.go.html#3735056">arg</a></span><span class="op" id="3735122">)</span><span class="op" id="3735123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3735128">if</span>&nbsp;<span class="ident" id="3735131"><a href="/gostd/text/template/funcs.go.html#3735082">ok</a></span>&nbsp;<span class="op" id="3735134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3735140"><a href="/gostd/text/template/funcs.go.html#3734892">args</a></span><span class="op" id="3735144">[</span><span class="ident" id="3735145"><a href="/gostd/text/template/funcs.go.html#3735053">i</a></span><span class="op" id="3735146">]</span>&nbsp;<span class="op" id="3735148">=</span>&nbsp;<span class="ident" id="3735150"><a href="/gostd/text/template/funcs.go.html#3735079">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3735155">}</span>&nbsp;<span class="comment" id="3735157">//&nbsp;else&nbsp;left&nbsp;fmt&nbsp;do&nbsp;its&nbsp;thing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3735189">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3735193"><a href="/gostd/text/template/funcs.go.html#3734939">s</a></span>&nbsp;<span class="op" id="3735195">=</span>&nbsp;<span class="ident" id="3735197"><a href="/gostd/text/template/funcs.go.html#3720549">fmt</a></span><span class="op" id="3735200">.</span><span class="ident" id="3735201"><a href="/gostd/fmt/print.go.html#2144876">Sprint</a></span><span class="op" id="3735207">(</span><span class="ident" id="3735208"><a href="/gostd/text/template/funcs.go.html#3734892">args</a></span><span class="op" id="3735212">...</span><span class="op" id="3735215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3735218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3735221">return</span>&nbsp;<span class="ident" id="3735228"><a href="/gostd/text/template/funcs.go.html#3734939">s</a></span><br>
<span class="lineno"></span><span class="op" id="3735230">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
