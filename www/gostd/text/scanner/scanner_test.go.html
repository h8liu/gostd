<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7612582">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7612637">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7612691">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7612742">package</span>&nbsp;<span class="ident" id="7612750">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7612759">import</span>&nbsp;<span class="op" id="7612766">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7612769">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7612778">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7612785">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7612791">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7612802">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7612813">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="7612828">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="7612831">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="7612906">type</span>&nbsp;<span class="ident" id="7612911">StringReader</span>&nbsp;<span class="keyword" id="7612924">struct</span>&nbsp;<span class="op" id="7612931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7612934">data</span>&nbsp;<span class="op" id="7612939">[</span><span class="op" id="7612940">]</span><span class="builtintype" id="7612941">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7612949">step</span>&nbsp;<span class="builtintype" id="7612954">int</span><br>
<span class="lineno">20</span><span class="op" id="7612958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7612961">func</span>&nbsp;<span class="op" id="7612966">(</span><span class="ident" id="7612967">r</span>&nbsp;<span class="op" id="7612969">*</span><span class="ident" id="7612970">StringReader</span><span class="op" id="7612982">)</span>&nbsp;<span class="ident" id="7612984">Read</span><span class="op" id="7612988">(</span><span class="ident" id="7612989">p</span>&nbsp;<span class="op" id="7612991">[</span><span class="op" id="7612992">]</span><span class="builtintype" id="7612993">byte</span><span class="op" id="7612997">)</span>&nbsp;<span class="op" id="7612999">(</span><span class="ident" id="7613000">n</span>&nbsp;<span class="builtintype" id="7613002">int</span><span class="op" id="7613005">,</span>&nbsp;<span class="ident" id="7613007">err</span>&nbsp;<span class="builtintype" id="7613011">error</span><span class="op" id="7613016">)</span>&nbsp;<span class="op" id="7613018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7613021">if</span>&nbsp;<span class="ident" id="7613024">r</span><span class="op" id="7613025">.</span><span class="ident" id="7613026">step</span>&nbsp;<span class="op" id="7613031">&lt;</span>&nbsp;<span class="builtinfunc" id="7613033">len</span><span class="op" id="7613036">(</span><span class="ident" id="7613037">r</span><span class="op" id="7613038">.</span><span class="ident" id="7613039">data</span><span class="op" id="7613043">)</span>&nbsp;<span class="op" id="7613045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613049">s</span>&nbsp;<span class="op" id="7613051">:=</span>&nbsp;<span class="ident" id="7613054">r</span><span class="op" id="7613055">.</span><span class="ident" id="7613056">data</span><span class="op" id="7613060">[</span><span class="ident" id="7613061">r</span><span class="op" id="7613062">.</span><span class="ident" id="7613063">step</span><span class="op" id="7613067">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613071">n</span>&nbsp;<span class="op" id="7613073">=</span>&nbsp;<span class="builtinfunc" id="7613075">copy</span><span class="op" id="7613079">(</span><span class="ident" id="7613080">p</span><span class="op" id="7613081">,</span>&nbsp;<span class="ident" id="7613083">s</span><span class="op" id="7613084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613088">r</span><span class="op" id="7613089">.</span><span class="ident" id="7613090">step</span><span class="op" id="7613094">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613098">}</span>&nbsp;<span class="keyword" id="7613100">else</span>&nbsp;<span class="op" id="7613105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613109">err</span>&nbsp;<span class="op" id="7613113">=</span>&nbsp;<span class="ident" id="7613115">io</span><span class="op" id="7613117">.</span><span class="ident" id="7613118">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613123">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7613126">return</span><br>
<span class="lineno"></span><span class="op" id="7613133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7613136">func</span>&nbsp;<span class="ident" id="7613141">readRuneSegments</span><span class="op" id="7613157">(</span><span class="ident" id="7613158">t</span>&nbsp;<span class="op" id="7613160">*</span><span class="ident" id="7613161">testing</span><span class="op" id="7613168">.</span><span class="ident" id="7613169">T</span><span class="op" id="7613170">,</span>&nbsp;<span class="ident" id="7613172">segments</span>&nbsp;<span class="op" id="7613181">[</span><span class="op" id="7613182">]</span><span class="builtintype" id="7613183">string</span><span class="op" id="7613189">)</span>&nbsp;<span class="op" id="7613191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613194">got</span>&nbsp;<span class="op" id="7613198">:=</span>&nbsp;<span class="string" id="7613201">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613205">want</span>&nbsp;<span class="op" id="7613210">:=</span>&nbsp;<span class="ident" id="7613213">strings</span><span class="op" id="7613220">.</span><span class="ident" id="7613221">Join</span><span class="op" id="7613225">(</span><span class="ident" id="7613226">segments</span><span class="op" id="7613234">,</span>&nbsp;<span class="string" id="7613236">&#34;&#34;</span><span class="op" id="7613238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613241">s</span>&nbsp;<span class="op" id="7613243">:=</span>&nbsp;<span class="builtinfunc" id="7613246">new</span><span class="op" id="7613249">(</span><span class="ident" id="7613250">Scanner</span><span class="op" id="7613257">)</span><span class="op" id="7613258">.</span><span class="ident" id="7613259">Init</span><span class="op" id="7613263">(</span><span class="op" id="7613264">&amp;</span><span class="ident" id="7613265">StringReader</span><span class="op" id="7613277">{</span><span class="ident" id="7613278">data</span><span class="op" id="7613282">:</span>&nbsp;<span class="ident" id="7613284">segments</span><span class="op" id="7613292">}</span><span class="op" id="7613293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7613296">for</span>&nbsp;<span class="op" id="7613300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613304">ch</span>&nbsp;<span class="op" id="7613307">:=</span>&nbsp;<span class="ident" id="7613310">s</span><span class="op" id="7613311">.</span><span class="ident" id="7613312">Next</span><span class="op" id="7613316">(</span><span class="op" id="7613317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7613321">if</span>&nbsp;<span class="ident" id="7613324">ch</span>&nbsp;<span class="op" id="7613327">==</span>&nbsp;<span class="ident" id="7613330">EOF</span>&nbsp;<span class="op" id="7613334">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7613339">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613351">got</span>&nbsp;<span class="op" id="7613355">+=</span>&nbsp;<span class="builtintype" id="7613358">string</span><span class="op" id="7613364">(</span><span class="ident" id="7613365">ch</span><span class="op" id="7613367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7613373">if</span>&nbsp;<span class="ident" id="7613376">got</span>&nbsp;<span class="op" id="7613380">!=</span>&nbsp;<span class="ident" id="7613383">want</span>&nbsp;<span class="op" id="7613388">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613392">t</span><span class="op" id="7613393">.</span><span class="ident" id="7613394">Errorf</span><span class="op" id="7613400">(</span><span class="string" id="7613401">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="7613429">,</span>&nbsp;<span class="ident" id="7613431">segments</span><span class="op" id="7613439">,</span>&nbsp;<span class="ident" id="7613441">got</span><span class="op" id="7613444">,</span>&nbsp;<span class="ident" id="7613446">want</span><span class="op" id="7613450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613453">}</span><br>
<span class="lineno"></span><span class="op" id="7613455">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7613458">var</span>&nbsp;<span class="ident" id="7613462">segmentList</span>&nbsp;<span class="op" id="7613474">=</span>&nbsp;<span class="op" id="7613476">[</span><span class="op" id="7613477">]</span><span class="op" id="7613478">[</span><span class="op" id="7613479">]</span><span class="builtintype" id="7613480">string</span><span class="op" id="7613486">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613489">{</span><span class="op" id="7613490">}</span><span class="op" id="7613491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613494">{</span><span class="string" id="7613495">&#34;&#34;</span><span class="op" id="7613497">}</span><span class="op" id="7613498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613501">{</span><span class="string" id="7613502">&#34;日&#34;</span><span class="op" id="7613507">,</span>&nbsp;<span class="string" id="7613509">&#34;本語&#34;</span><span class="op" id="7613517">}</span><span class="op" id="7613518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613521">{</span><span class="string" id="7613522">&#34;\u65e5&#34;</span><span class="op" id="7613530">,</span>&nbsp;<span class="string" id="7613532">&#34;\u672c&#34;</span><span class="op" id="7613540">,</span>&nbsp;<span class="string" id="7613542">&#34;\u8a9e&#34;</span><span class="op" id="7613550">}</span><span class="op" id="7613551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613554">{</span><span class="string" id="7613555">&#34;\U000065e5&#34;</span><span class="op" id="7613567">,</span>&nbsp;<span class="string" id="7613569">&#34;&nbsp;&#34;</span><span class="op" id="7613572">,</span>&nbsp;<span class="string" id="7613574">&#34;\U0000672c&#34;</span><span class="op" id="7613586">,</span>&nbsp;<span class="string" id="7613588">&#34;\U00008a9e&#34;</span><span class="op" id="7613600">}</span><span class="op" id="7613601">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613604">{</span><span class="string" id="7613605">&#34;\xe6&#34;</span><span class="op" id="7613611">,</span>&nbsp;<span class="string" id="7613613">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="7613627">,</span>&nbsp;<span class="string" id="7613629">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="7613651">}</span><span class="op" id="7613652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613655">{</span><span class="string" id="7613656">&#34;Hello&#34;</span><span class="op" id="7613663">,</span>&nbsp;<span class="string" id="7613665">&#34;,&nbsp;&#34;</span><span class="op" id="7613669">,</span>&nbsp;<span class="string" id="7613671">&#34;World&#34;</span><span class="op" id="7613678">,</span>&nbsp;<span class="string" id="7613680">&#34;!&#34;</span><span class="op" id="7613683">}</span><span class="op" id="7613684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613687">{</span><span class="string" id="7613688">&#34;Hello&#34;</span><span class="op" id="7613695">,</span>&nbsp;<span class="string" id="7613697">&#34;,&nbsp;&#34;</span><span class="op" id="7613701">,</span>&nbsp;<span class="string" id="7613703">&#34;&#34;</span><span class="op" id="7613705">,</span>&nbsp;<span class="string" id="7613707">&#34;World&#34;</span><span class="op" id="7613714">,</span>&nbsp;<span class="string" id="7613716">&#34;!&#34;</span><span class="op" id="7613719">}</span><span class="op" id="7613720">,</span><br>
<span class="lineno"></span><span class="op" id="7613722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7613725">func</span>&nbsp;<span class="ident" id="7613730">TestNext</span><span class="op" id="7613738">(</span><span class="ident" id="7613739">t</span>&nbsp;<span class="op" id="7613741">*</span><span class="ident" id="7613742">testing</span><span class="op" id="7613749">.</span><span class="ident" id="7613750">T</span><span class="op" id="7613751">)</span>&nbsp;<span class="op" id="7613753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7613756">for</span>&nbsp;<span class="ident" id="7613760">_</span><span class="op" id="7613761">,</span>&nbsp;<span class="ident" id="7613763">s</span>&nbsp;<span class="op" id="7613765">:=</span>&nbsp;<span class="keyword" id="7613768">range</span>&nbsp;<span class="ident" id="7613774">segmentList</span>&nbsp;<span class="op" id="7613786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613790">readRuneSegments</span><span class="op" id="7613806">(</span><span class="ident" id="7613807">t</span><span class="op" id="7613808">,</span>&nbsp;<span class="ident" id="7613810">s</span><span class="op" id="7613811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7613814">}</span><br>
<span class="lineno"></span><span class="op" id="7613816">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7613819">type</span>&nbsp;<span class="ident" id="7613824">token</span>&nbsp;<span class="keyword" id="7613830">struct</span>&nbsp;<span class="op" id="7613837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613840">tok</span>&nbsp;&nbsp;<span class="builtintype" id="7613845">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7613851">text</span>&nbsp;<span class="builtintype" id="7613856">string</span><br>
<span class="lineno"></span><span class="op" id="7613863">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7613866">var</span>&nbsp;<span class="ident" id="7613870">f100</span>&nbsp;<span class="op" id="7613875">=</span>&nbsp;<span class="string" id="7613877">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7613981">var</span>&nbsp;<span class="ident" id="7613985">tokenList</span>&nbsp;<span class="op" id="7613995">=</span>&nbsp;<span class="op" id="7613997">[</span><span class="op" id="7613998">]</span><span class="ident" id="7613999">token</span><span class="op" id="7614004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614007">{</span><span class="ident" id="7614008">Comment</span><span class="op" id="7614015">,</span>&nbsp;<span class="string" id="7614017">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="7614035">}</span><span class="op" id="7614036">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614039">{</span><span class="ident" id="7614040">Comment</span><span class="op" id="7614047">,</span>&nbsp;<span class="string" id="7614049">&#34;//&#34;</span><span class="op" id="7614053">}</span><span class="op" id="7614054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614057">{</span><span class="ident" id="7614058">Comment</span><span class="op" id="7614065">,</span>&nbsp;<span class="string" id="7614067">&#34;////&#34;</span><span class="op" id="7614073">}</span><span class="op" id="7614074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614077">{</span><span class="ident" id="7614078">Comment</span><span class="op" id="7614085">,</span>&nbsp;<span class="string" id="7614087">&#34;//&nbsp;comment&#34;</span><span class="op" id="7614099">}</span><span class="op" id="7614100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614103">{</span><span class="ident" id="7614104">Comment</span><span class="op" id="7614111">,</span>&nbsp;<span class="string" id="7614113">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7614131">}</span><span class="op" id="7614132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614135">{</span><span class="ident" id="7614136">Comment</span><span class="op" id="7614143">,</span>&nbsp;<span class="string" id="7614145">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="7614163">}</span><span class="op" id="7614164">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614167">{</span><span class="ident" id="7614168">Comment</span><span class="op" id="7614175">,</span>&nbsp;<span class="string" id="7614177">&#34;//&#34;</span>&nbsp;<span class="op" id="7614182">+</span>&nbsp;<span class="ident" id="7614184">f100</span><span class="op" id="7614188">}</span><span class="op" id="7614189">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614193">{</span><span class="ident" id="7614194">Comment</span><span class="op" id="7614201">,</span>&nbsp;<span class="string" id="7614203">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="7614224">}</span><span class="op" id="7614225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614228">{</span><span class="ident" id="7614229">Comment</span><span class="op" id="7614236">,</span>&nbsp;<span class="string" id="7614238">&#34;/**/&#34;</span><span class="op" id="7614244">}</span><span class="op" id="7614245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614248">{</span><span class="ident" id="7614249">Comment</span><span class="op" id="7614256">,</span>&nbsp;<span class="string" id="7614258">&#34;/***/&#34;</span><span class="op" id="7614265">}</span><span class="op" id="7614266">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614269">{</span><span class="ident" id="7614270">Comment</span><span class="op" id="7614277">,</span>&nbsp;<span class="string" id="7614279">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7614294">}</span><span class="op" id="7614295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614298">{</span><span class="ident" id="7614299">Comment</span><span class="op" id="7614306">,</span>&nbsp;<span class="string" id="7614308">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7614326">}</span><span class="op" id="7614327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614330">{</span><span class="ident" id="7614331">Comment</span><span class="op" id="7614338">,</span>&nbsp;<span class="string" id="7614340">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7614358">}</span><span class="op" id="7614359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614362">{</span><span class="ident" id="7614363">Comment</span><span class="op" id="7614370">,</span>&nbsp;<span class="string" id="7614372">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="7614390">}</span><span class="op" id="7614391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614394">{</span><span class="ident" id="7614395">Comment</span><span class="op" id="7614402">,</span>&nbsp;<span class="string" id="7614404">&#34;/*&#34;</span>&nbsp;<span class="op" id="7614409">+</span>&nbsp;<span class="ident" id="7614411">f100</span>&nbsp;<span class="op" id="7614416">+</span>&nbsp;<span class="string" id="7614418">&#34;*/&#34;</span><span class="op" id="7614422">}</span><span class="op" id="7614423">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614427">{</span><span class="ident" id="7614428">Comment</span><span class="op" id="7614435">,</span>&nbsp;<span class="string" id="7614437">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="7614453">}</span><span class="op" id="7614454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614457">{</span><span class="ident" id="7614458">Ident</span><span class="op" id="7614463">,</span>&nbsp;<span class="string" id="7614465">&#34;a&#34;</span><span class="op" id="7614468">}</span><span class="op" id="7614469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614472">{</span><span class="ident" id="7614473">Ident</span><span class="op" id="7614478">,</span>&nbsp;<span class="string" id="7614480">&#34;a0&#34;</span><span class="op" id="7614484">}</span><span class="op" id="7614485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614488">{</span><span class="ident" id="7614489">Ident</span><span class="op" id="7614494">,</span>&nbsp;<span class="string" id="7614496">&#34;foobar&#34;</span><span class="op" id="7614504">}</span><span class="op" id="7614505">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614508">{</span><span class="ident" id="7614509">Ident</span><span class="op" id="7614514">,</span>&nbsp;<span class="string" id="7614516">&#34;abc123&#34;</span><span class="op" id="7614524">}</span><span class="op" id="7614525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614528">{</span><span class="ident" id="7614529">Ident</span><span class="op" id="7614534">,</span>&nbsp;<span class="string" id="7614536">&#34;LGTM&#34;</span><span class="op" id="7614542">}</span><span class="op" id="7614543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614546">{</span><span class="ident" id="7614547">Ident</span><span class="op" id="7614552">,</span>&nbsp;<span class="string" id="7614554">&#34;_&#34;</span><span class="op" id="7614557">}</span><span class="op" id="7614558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614561">{</span><span class="ident" id="7614562">Ident</span><span class="op" id="7614567">,</span>&nbsp;<span class="string" id="7614569">&#34;_abc123&#34;</span><span class="op" id="7614578">}</span><span class="op" id="7614579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614582">{</span><span class="ident" id="7614583">Ident</span><span class="op" id="7614588">,</span>&nbsp;<span class="string" id="7614590">&#34;abc123_&#34;</span><span class="op" id="7614599">}</span><span class="op" id="7614600">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614603">{</span><span class="ident" id="7614604">Ident</span><span class="op" id="7614609">,</span>&nbsp;<span class="string" id="7614611">&#34;_abc_123_&#34;</span><span class="op" id="7614622">}</span><span class="op" id="7614623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614626">{</span><span class="ident" id="7614627">Ident</span><span class="op" id="7614632">,</span>&nbsp;<span class="string" id="7614634">&#34;_äöü&#34;</span><span class="op" id="7614643">}</span><span class="op" id="7614644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614647">{</span><span class="ident" id="7614648">Ident</span><span class="op" id="7614653">,</span>&nbsp;<span class="string" id="7614655">&#34;_本&#34;</span><span class="op" id="7614661">}</span><span class="op" id="7614662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614665">{</span><span class="ident" id="7614666">Ident</span><span class="op" id="7614671">,</span>&nbsp;<span class="string" id="7614673">&#34;äöü&#34;</span><span class="op" id="7614681">}</span><span class="op" id="7614682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614685">{</span><span class="ident" id="7614686">Ident</span><span class="op" id="7614691">,</span>&nbsp;<span class="string" id="7614693">&#34;本&#34;</span><span class="op" id="7614698">}</span><span class="op" id="7614699">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614702">{</span><span class="ident" id="7614703">Ident</span><span class="op" id="7614708">,</span>&nbsp;<span class="string" id="7614710">&#34;a۰۱۸&#34;</span><span class="op" id="7614719">}</span><span class="op" id="7614720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614723">{</span><span class="ident" id="7614724">Ident</span><span class="op" id="7614729">,</span>&nbsp;<span class="string" id="7614731">&#34;foo६४&#34;</span><span class="op" id="7614742">}</span><span class="op" id="7614743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614746">{</span><span class="ident" id="7614747">Ident</span><span class="op" id="7614752">,</span>&nbsp;<span class="string" id="7614754">&#34;bar９８７６&#34;</span><span class="op" id="7614771">}</span><span class="op" id="7614772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614775">{</span><span class="ident" id="7614776">Ident</span><span class="op" id="7614781">,</span>&nbsp;<span class="ident" id="7614783">f100</span><span class="op" id="7614787">}</span><span class="op" id="7614788">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614792">{</span><span class="ident" id="7614793">Comment</span><span class="op" id="7614800">,</span>&nbsp;<span class="string" id="7614802">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="7614819">}</span><span class="op" id="7614820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614823">{</span><span class="ident" id="7614824">Int</span><span class="op" id="7614827">,</span>&nbsp;<span class="string" id="7614829">&#34;0&#34;</span><span class="op" id="7614832">}</span><span class="op" id="7614833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614836">{</span><span class="ident" id="7614837">Int</span><span class="op" id="7614840">,</span>&nbsp;<span class="string" id="7614842">&#34;1&#34;</span><span class="op" id="7614845">}</span><span class="op" id="7614846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614849">{</span><span class="ident" id="7614850">Int</span><span class="op" id="7614853">,</span>&nbsp;<span class="string" id="7614855">&#34;9&#34;</span><span class="op" id="7614858">}</span><span class="op" id="7614859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614862">{</span><span class="ident" id="7614863">Int</span><span class="op" id="7614866">,</span>&nbsp;<span class="string" id="7614868">&#34;42&#34;</span><span class="op" id="7614872">}</span><span class="op" id="7614873">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614876">{</span><span class="ident" id="7614877">Int</span><span class="op" id="7614880">,</span>&nbsp;<span class="string" id="7614882">&#34;1234567890&#34;</span><span class="op" id="7614894">}</span><span class="op" id="7614895">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614899">{</span><span class="ident" id="7614900">Comment</span><span class="op" id="7614907">,</span>&nbsp;<span class="string" id="7614909">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="7614924">}</span><span class="op" id="7614925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614928">{</span><span class="ident" id="7614929">Int</span><span class="op" id="7614932">,</span>&nbsp;<span class="string" id="7614934">&#34;00&#34;</span><span class="op" id="7614938">}</span><span class="op" id="7614939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614942">{</span><span class="ident" id="7614943">Int</span><span class="op" id="7614946">,</span>&nbsp;<span class="string" id="7614948">&#34;01&#34;</span><span class="op" id="7614952">}</span><span class="op" id="7614953">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614956">{</span><span class="ident" id="7614957">Int</span><span class="op" id="7614960">,</span>&nbsp;<span class="string" id="7614962">&#34;07&#34;</span><span class="op" id="7614966">}</span><span class="op" id="7614967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614970">{</span><span class="ident" id="7614971">Int</span><span class="op" id="7614974">,</span>&nbsp;<span class="string" id="7614976">&#34;042&#34;</span><span class="op" id="7614981">}</span><span class="op" id="7614982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7614985">{</span><span class="ident" id="7614986">Int</span><span class="op" id="7614989">,</span>&nbsp;<span class="string" id="7614991">&#34;01234567&#34;</span><span class="op" id="7615001">}</span><span class="op" id="7615002">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615006">{</span><span class="ident" id="7615007">Comment</span><span class="op" id="7615014">,</span>&nbsp;<span class="string" id="7615016">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="7615037">}</span><span class="op" id="7615038">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615041">{</span><span class="ident" id="7615042">Int</span><span class="op" id="7615045">,</span>&nbsp;<span class="string" id="7615047">&#34;0x0&#34;</span><span class="op" id="7615052">}</span><span class="op" id="7615053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615056">{</span><span class="ident" id="7615057">Int</span><span class="op" id="7615060">,</span>&nbsp;<span class="string" id="7615062">&#34;0x1&#34;</span><span class="op" id="7615067">}</span><span class="op" id="7615068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615071">{</span><span class="ident" id="7615072">Int</span><span class="op" id="7615075">,</span>&nbsp;<span class="string" id="7615077">&#34;0xf&#34;</span><span class="op" id="7615082">}</span><span class="op" id="7615083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615086">{</span><span class="ident" id="7615087">Int</span><span class="op" id="7615090">,</span>&nbsp;<span class="string" id="7615092">&#34;0x42&#34;</span><span class="op" id="7615098">}</span><span class="op" id="7615099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615102">{</span><span class="ident" id="7615103">Int</span><span class="op" id="7615106">,</span>&nbsp;<span class="string" id="7615108">&#34;0x123456789abcDEF&#34;</span><span class="op" id="7615127">}</span><span class="op" id="7615128">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615131">{</span><span class="ident" id="7615132">Int</span><span class="op" id="7615135">,</span>&nbsp;<span class="string" id="7615137">&#34;0x&#34;</span>&nbsp;<span class="op" id="7615142">+</span>&nbsp;<span class="ident" id="7615144">f100</span><span class="op" id="7615148">}</span><span class="op" id="7615149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615152">{</span><span class="ident" id="7615153">Int</span><span class="op" id="7615156">,</span>&nbsp;<span class="string" id="7615158">&#34;0X0&#34;</span><span class="op" id="7615163">}</span><span class="op" id="7615164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615167">{</span><span class="ident" id="7615168">Int</span><span class="op" id="7615171">,</span>&nbsp;<span class="string" id="7615173">&#34;0X1&#34;</span><span class="op" id="7615178">}</span><span class="op" id="7615179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615182">{</span><span class="ident" id="7615183">Int</span><span class="op" id="7615186">,</span>&nbsp;<span class="string" id="7615188">&#34;0XF&#34;</span><span class="op" id="7615193">}</span><span class="op" id="7615194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615197">{</span><span class="ident" id="7615198">Int</span><span class="op" id="7615201">,</span>&nbsp;<span class="string" id="7615203">&#34;0X42&#34;</span><span class="op" id="7615209">}</span><span class="op" id="7615210">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615213">{</span><span class="ident" id="7615214">Int</span><span class="op" id="7615217">,</span>&nbsp;<span class="string" id="7615219">&#34;0X123456789abcDEF&#34;</span><span class="op" id="7615238">}</span><span class="op" id="7615239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615242">{</span><span class="ident" id="7615243">Int</span><span class="op" id="7615246">,</span>&nbsp;<span class="string" id="7615248">&#34;0X&#34;</span>&nbsp;<span class="op" id="7615253">+</span>&nbsp;<span class="ident" id="7615255">f100</span><span class="op" id="7615259">}</span><span class="op" id="7615260">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615264">{</span><span class="ident" id="7615265">Comment</span><span class="op" id="7615272">,</span>&nbsp;<span class="string" id="7615274">&#34;//&nbsp;floats&#34;</span><span class="op" id="7615285">}</span><span class="op" id="7615286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615289">{</span><span class="ident" id="7615290">Float</span><span class="op" id="7615295">,</span>&nbsp;<span class="string" id="7615297">&#34;0.&#34;</span><span class="op" id="7615301">}</span><span class="op" id="7615302">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615305">{</span><span class="ident" id="7615306">Float</span><span class="op" id="7615311">,</span>&nbsp;<span class="string" id="7615313">&#34;1.&#34;</span><span class="op" id="7615317">}</span><span class="op" id="7615318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615321">{</span><span class="ident" id="7615322">Float</span><span class="op" id="7615327">,</span>&nbsp;<span class="string" id="7615329">&#34;42.&#34;</span><span class="op" id="7615334">}</span><span class="op" id="7615335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615338">{</span><span class="ident" id="7615339">Float</span><span class="op" id="7615344">,</span>&nbsp;<span class="string" id="7615346">&#34;01234567890.&#34;</span><span class="op" id="7615360">}</span><span class="op" id="7615361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615364">{</span><span class="ident" id="7615365">Float</span><span class="op" id="7615370">,</span>&nbsp;<span class="string" id="7615372">&#34;.0&#34;</span><span class="op" id="7615376">}</span><span class="op" id="7615377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615380">{</span><span class="ident" id="7615381">Float</span><span class="op" id="7615386">,</span>&nbsp;<span class="string" id="7615388">&#34;.1&#34;</span><span class="op" id="7615392">}</span><span class="op" id="7615393">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615396">{</span><span class="ident" id="7615397">Float</span><span class="op" id="7615402">,</span>&nbsp;<span class="string" id="7615404">&#34;.42&#34;</span><span class="op" id="7615409">}</span><span class="op" id="7615410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615413">{</span><span class="ident" id="7615414">Float</span><span class="op" id="7615419">,</span>&nbsp;<span class="string" id="7615421">&#34;.0123456789&#34;</span><span class="op" id="7615434">}</span><span class="op" id="7615435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615438">{</span><span class="ident" id="7615439">Float</span><span class="op" id="7615444">,</span>&nbsp;<span class="string" id="7615446">&#34;0.0&#34;</span><span class="op" id="7615451">}</span><span class="op" id="7615452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615455">{</span><span class="ident" id="7615456">Float</span><span class="op" id="7615461">,</span>&nbsp;<span class="string" id="7615463">&#34;1.0&#34;</span><span class="op" id="7615468">}</span><span class="op" id="7615469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615472">{</span><span class="ident" id="7615473">Float</span><span class="op" id="7615478">,</span>&nbsp;<span class="string" id="7615480">&#34;42.0&#34;</span><span class="op" id="7615486">}</span><span class="op" id="7615487">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615490">{</span><span class="ident" id="7615491">Float</span><span class="op" id="7615496">,</span>&nbsp;<span class="string" id="7615498">&#34;01234567890.0&#34;</span><span class="op" id="7615513">}</span><span class="op" id="7615514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615517">{</span><span class="ident" id="7615518">Float</span><span class="op" id="7615523">,</span>&nbsp;<span class="string" id="7615525">&#34;0e0&#34;</span><span class="op" id="7615530">}</span><span class="op" id="7615531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615534">{</span><span class="ident" id="7615535">Float</span><span class="op" id="7615540">,</span>&nbsp;<span class="string" id="7615542">&#34;1e0&#34;</span><span class="op" id="7615547">}</span><span class="op" id="7615548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615551">{</span><span class="ident" id="7615552">Float</span><span class="op" id="7615557">,</span>&nbsp;<span class="string" id="7615559">&#34;42e0&#34;</span><span class="op" id="7615565">}</span><span class="op" id="7615566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615569">{</span><span class="ident" id="7615570">Float</span><span class="op" id="7615575">,</span>&nbsp;<span class="string" id="7615577">&#34;01234567890e0&#34;</span><span class="op" id="7615592">}</span><span class="op" id="7615593">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615596">{</span><span class="ident" id="7615597">Float</span><span class="op" id="7615602">,</span>&nbsp;<span class="string" id="7615604">&#34;0E0&#34;</span><span class="op" id="7615609">}</span><span class="op" id="7615610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615613">{</span><span class="ident" id="7615614">Float</span><span class="op" id="7615619">,</span>&nbsp;<span class="string" id="7615621">&#34;1E0&#34;</span><span class="op" id="7615626">}</span><span class="op" id="7615627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615630">{</span><span class="ident" id="7615631">Float</span><span class="op" id="7615636">,</span>&nbsp;<span class="string" id="7615638">&#34;42E0&#34;</span><span class="op" id="7615644">}</span><span class="op" id="7615645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615648">{</span><span class="ident" id="7615649">Float</span><span class="op" id="7615654">,</span>&nbsp;<span class="string" id="7615656">&#34;01234567890E0&#34;</span><span class="op" id="7615671">}</span><span class="op" id="7615672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615675">{</span><span class="ident" id="7615676">Float</span><span class="op" id="7615681">,</span>&nbsp;<span class="string" id="7615683">&#34;0e+10&#34;</span><span class="op" id="7615690">}</span><span class="op" id="7615691">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615694">{</span><span class="ident" id="7615695">Float</span><span class="op" id="7615700">,</span>&nbsp;<span class="string" id="7615702">&#34;1e-10&#34;</span><span class="op" id="7615709">}</span><span class="op" id="7615710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615713">{</span><span class="ident" id="7615714">Float</span><span class="op" id="7615719">,</span>&nbsp;<span class="string" id="7615721">&#34;42e+10&#34;</span><span class="op" id="7615729">}</span><span class="op" id="7615730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615733">{</span><span class="ident" id="7615734">Float</span><span class="op" id="7615739">,</span>&nbsp;<span class="string" id="7615741">&#34;01234567890e-10&#34;</span><span class="op" id="7615758">}</span><span class="op" id="7615759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615762">{</span><span class="ident" id="7615763">Float</span><span class="op" id="7615768">,</span>&nbsp;<span class="string" id="7615770">&#34;0E+10&#34;</span><span class="op" id="7615777">}</span><span class="op" id="7615778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615781">{</span><span class="ident" id="7615782">Float</span><span class="op" id="7615787">,</span>&nbsp;<span class="string" id="7615789">&#34;1E-10&#34;</span><span class="op" id="7615796">}</span><span class="op" id="7615797">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615800">{</span><span class="ident" id="7615801">Float</span><span class="op" id="7615806">,</span>&nbsp;<span class="string" id="7615808">&#34;42E+10&#34;</span><span class="op" id="7615816">}</span><span class="op" id="7615817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615820">{</span><span class="ident" id="7615821">Float</span><span class="op" id="7615826">,</span>&nbsp;<span class="string" id="7615828">&#34;01234567890E-10&#34;</span><span class="op" id="7615845">}</span><span class="op" id="7615846">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615850">{</span><span class="ident" id="7615851">Comment</span><span class="op" id="7615858">,</span>&nbsp;<span class="string" id="7615860">&#34;//&nbsp;chars&#34;</span><span class="op" id="7615870">}</span><span class="op" id="7615871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615874">{</span><span class="ident" id="7615875">Char</span><span class="op" id="7615879">,</span>&nbsp;<span class="string" id="7615881">`&#39;&nbsp;&#39;`</span><span class="op" id="7615886">}</span><span class="op" id="7615887">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615890">{</span><span class="ident" id="7615891">Char</span><span class="op" id="7615895">,</span>&nbsp;<span class="string" id="7615897">`&#39;a&#39;`</span><span class="op" id="7615902">}</span><span class="op" id="7615903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615906">{</span><span class="ident" id="7615907">Char</span><span class="op" id="7615911">,</span>&nbsp;<span class="string" id="7615913">`&#39;本&#39;`</span><span class="op" id="7615920">}</span><span class="op" id="7615921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615924">{</span><span class="ident" id="7615925">Char</span><span class="op" id="7615929">,</span>&nbsp;<span class="string" id="7615931">`&#39;\a&#39;`</span><span class="op" id="7615937">}</span><span class="op" id="7615938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615941">{</span><span class="ident" id="7615942">Char</span><span class="op" id="7615946">,</span>&nbsp;<span class="string" id="7615948">`&#39;\b&#39;`</span><span class="op" id="7615954">}</span><span class="op" id="7615955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615958">{</span><span class="ident" id="7615959">Char</span><span class="op" id="7615963">,</span>&nbsp;<span class="string" id="7615965">`&#39;\f&#39;`</span><span class="op" id="7615971">}</span><span class="op" id="7615972">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615975">{</span><span class="ident" id="7615976">Char</span><span class="op" id="7615980">,</span>&nbsp;<span class="string" id="7615982">`&#39;\n&#39;`</span><span class="op" id="7615988">}</span><span class="op" id="7615989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7615992">{</span><span class="ident" id="7615993">Char</span><span class="op" id="7615997">,</span>&nbsp;<span class="string" id="7615999">`&#39;\r&#39;`</span><span class="op" id="7616005">}</span><span class="op" id="7616006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616009">{</span><span class="ident" id="7616010">Char</span><span class="op" id="7616014">,</span>&nbsp;<span class="string" id="7616016">`&#39;\t&#39;`</span><span class="op" id="7616022">}</span><span class="op" id="7616023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616026">{</span><span class="ident" id="7616027">Char</span><span class="op" id="7616031">,</span>&nbsp;<span class="string" id="7616033">`&#39;\v&#39;`</span><span class="op" id="7616039">}</span><span class="op" id="7616040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616043">{</span><span class="ident" id="7616044">Char</span><span class="op" id="7616048">,</span>&nbsp;<span class="string" id="7616050">`&#39;\&#39;&#39;`</span><span class="op" id="7616056">}</span><span class="op" id="7616057">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616060">{</span><span class="ident" id="7616061">Char</span><span class="op" id="7616065">,</span>&nbsp;<span class="string" id="7616067">`&#39;\000&#39;`</span><span class="op" id="7616075">}</span><span class="op" id="7616076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616079">{</span><span class="ident" id="7616080">Char</span><span class="op" id="7616084">,</span>&nbsp;<span class="string" id="7616086">`&#39;\777&#39;`</span><span class="op" id="7616094">}</span><span class="op" id="7616095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616098">{</span><span class="ident" id="7616099">Char</span><span class="op" id="7616103">,</span>&nbsp;<span class="string" id="7616105">`&#39;\x00&#39;`</span><span class="op" id="7616113">}</span><span class="op" id="7616114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616117">{</span><span class="ident" id="7616118">Char</span><span class="op" id="7616122">,</span>&nbsp;<span class="string" id="7616124">`&#39;\xff&#39;`</span><span class="op" id="7616132">}</span><span class="op" id="7616133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616136">{</span><span class="ident" id="7616137">Char</span><span class="op" id="7616141">,</span>&nbsp;<span class="string" id="7616143">`&#39;\u0000&#39;`</span><span class="op" id="7616153">}</span><span class="op" id="7616154">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616157">{</span><span class="ident" id="7616158">Char</span><span class="op" id="7616162">,</span>&nbsp;<span class="string" id="7616164">`&#39;\ufA16&#39;`</span><span class="op" id="7616174">}</span><span class="op" id="7616175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616178">{</span><span class="ident" id="7616179">Char</span><span class="op" id="7616183">,</span>&nbsp;<span class="string" id="7616185">`&#39;\U00000000&#39;`</span><span class="op" id="7616199">}</span><span class="op" id="7616200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616203">{</span><span class="ident" id="7616204">Char</span><span class="op" id="7616208">,</span>&nbsp;<span class="string" id="7616210">`&#39;\U0000ffAB&#39;`</span><span class="op" id="7616224">}</span><span class="op" id="7616225">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616229">{</span><span class="ident" id="7616230">Comment</span><span class="op" id="7616237">,</span>&nbsp;<span class="string" id="7616239">&#34;//&nbsp;strings&#34;</span><span class="op" id="7616251">}</span><span class="op" id="7616252">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616255">{</span><span class="ident" id="7616256">String</span><span class="op" id="7616262">,</span>&nbsp;<span class="string" id="7616264">`&#34;&nbsp;&#34;`</span><span class="op" id="7616269">}</span><span class="op" id="7616270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616273">{</span><span class="ident" id="7616274">String</span><span class="op" id="7616280">,</span>&nbsp;<span class="string" id="7616282">`&#34;a&#34;`</span><span class="op" id="7616287">}</span><span class="op" id="7616288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616291">{</span><span class="ident" id="7616292">String</span><span class="op" id="7616298">,</span>&nbsp;<span class="string" id="7616300">`&#34;本&#34;`</span><span class="op" id="7616307">}</span><span class="op" id="7616308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616311">{</span><span class="ident" id="7616312">String</span><span class="op" id="7616318">,</span>&nbsp;<span class="string" id="7616320">`&#34;\a&#34;`</span><span class="op" id="7616326">}</span><span class="op" id="7616327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616330">{</span><span class="ident" id="7616331">String</span><span class="op" id="7616337">,</span>&nbsp;<span class="string" id="7616339">`&#34;\b&#34;`</span><span class="op" id="7616345">}</span><span class="op" id="7616346">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616349">{</span><span class="ident" id="7616350">String</span><span class="op" id="7616356">,</span>&nbsp;<span class="string" id="7616358">`&#34;\f&#34;`</span><span class="op" id="7616364">}</span><span class="op" id="7616365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616368">{</span><span class="ident" id="7616369">String</span><span class="op" id="7616375">,</span>&nbsp;<span class="string" id="7616377">`&#34;\n&#34;`</span><span class="op" id="7616383">}</span><span class="op" id="7616384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616387">{</span><span class="ident" id="7616388">String</span><span class="op" id="7616394">,</span>&nbsp;<span class="string" id="7616396">`&#34;\r&#34;`</span><span class="op" id="7616402">}</span><span class="op" id="7616403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616406">{</span><span class="ident" id="7616407">String</span><span class="op" id="7616413">,</span>&nbsp;<span class="string" id="7616415">`&#34;\t&#34;`</span><span class="op" id="7616421">}</span><span class="op" id="7616422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616425">{</span><span class="ident" id="7616426">String</span><span class="op" id="7616432">,</span>&nbsp;<span class="string" id="7616434">`&#34;\v&#34;`</span><span class="op" id="7616440">}</span><span class="op" id="7616441">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616444">{</span><span class="ident" id="7616445">String</span><span class="op" id="7616451">,</span>&nbsp;<span class="string" id="7616453">`&#34;\&#34;&#34;`</span><span class="op" id="7616459">}</span><span class="op" id="7616460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616463">{</span><span class="ident" id="7616464">String</span><span class="op" id="7616470">,</span>&nbsp;<span class="string" id="7616472">`&#34;\000&#34;`</span><span class="op" id="7616480">}</span><span class="op" id="7616481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616484">{</span><span class="ident" id="7616485">String</span><span class="op" id="7616491">,</span>&nbsp;<span class="string" id="7616493">`&#34;\777&#34;`</span><span class="op" id="7616501">}</span><span class="op" id="7616502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616505">{</span><span class="ident" id="7616506">String</span><span class="op" id="7616512">,</span>&nbsp;<span class="string" id="7616514">`&#34;\x00&#34;`</span><span class="op" id="7616522">}</span><span class="op" id="7616523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616526">{</span><span class="ident" id="7616527">String</span><span class="op" id="7616533">,</span>&nbsp;<span class="string" id="7616535">`&#34;\xff&#34;`</span><span class="op" id="7616543">}</span><span class="op" id="7616544">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616547">{</span><span class="ident" id="7616548">String</span><span class="op" id="7616554">,</span>&nbsp;<span class="string" id="7616556">`&#34;\u0000&#34;`</span><span class="op" id="7616566">}</span><span class="op" id="7616567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616570">{</span><span class="ident" id="7616571">String</span><span class="op" id="7616577">,</span>&nbsp;<span class="string" id="7616579">`&#34;\ufA16&#34;`</span><span class="op" id="7616589">}</span><span class="op" id="7616590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616593">{</span><span class="ident" id="7616594">String</span><span class="op" id="7616600">,</span>&nbsp;<span class="string" id="7616602">`&#34;\U00000000&#34;`</span><span class="op" id="7616616">}</span><span class="op" id="7616617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616620">{</span><span class="ident" id="7616621">String</span><span class="op" id="7616627">,</span>&nbsp;<span class="string" id="7616629">`&#34;\U0000ffAB&#34;`</span><span class="op" id="7616643">}</span><span class="op" id="7616644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616647">{</span><span class="ident" id="7616648">String</span><span class="op" id="7616654">,</span>&nbsp;<span class="string" id="7616656">`&#34;`</span>&nbsp;<span class="op" id="7616660">+</span>&nbsp;<span class="ident" id="7616662">f100</span>&nbsp;<span class="op" id="7616667">+</span>&nbsp;<span class="string" id="7616669">`&#34;`</span><span class="op" id="7616672">}</span><span class="op" id="7616673">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616677">{</span><span class="ident" id="7616678">Comment</span><span class="op" id="7616685">,</span>&nbsp;<span class="string" id="7616687">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="7616703">}</span><span class="op" id="7616704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616707">{</span><span class="ident" id="7616708">String</span><span class="op" id="7616714">,</span>&nbsp;<span class="string" id="7616716">&#34;``&#34;</span><span class="op" id="7616720">}</span><span class="op" id="7616721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616724">{</span><span class="ident" id="7616725">String</span><span class="op" id="7616731">,</span>&nbsp;<span class="string" id="7616733">&#34;`\\`&#34;</span><span class="op" id="7616739">}</span><span class="op" id="7616740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616743">{</span><span class="ident" id="7616744">String</span><span class="op" id="7616750">,</span>&nbsp;<span class="string" id="7616752">&#34;`&#34;</span>&nbsp;<span class="op" id="7616756">+</span>&nbsp;<span class="string" id="7616758">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="7616781">+</span>&nbsp;<span class="string" id="7616783">&#34;`&#34;</span><span class="op" id="7616786">}</span><span class="op" id="7616787">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616790">{</span><span class="ident" id="7616791">String</span><span class="op" id="7616797">,</span>&nbsp;<span class="string" id="7616799">&#34;`&#34;</span>&nbsp;<span class="op" id="7616803">+</span>&nbsp;<span class="ident" id="7616805">f100</span>&nbsp;<span class="op" id="7616810">+</span>&nbsp;<span class="string" id="7616812">&#34;`&#34;</span><span class="op" id="7616815">}</span><span class="op" id="7616816">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616820">{</span><span class="ident" id="7616821">Comment</span><span class="op" id="7616828">,</span>&nbsp;<span class="string" id="7616830">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="7616856">}</span><span class="op" id="7616857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7616860">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616893">{</span><span class="string" id="7616894">&#39;\x01&#39;</span><span class="op" id="7616900">,</span>&nbsp;<span class="string" id="7616902">&#34;\x01&#34;</span><span class="op" id="7616908">}</span><span class="op" id="7616909">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616912">{</span><span class="string" id="7616913">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7616917">-</span>&nbsp;<span class="num" id="7616919">1</span><span class="op" id="7616920">,</span>&nbsp;<span class="builtintype" id="7616922">string</span><span class="op" id="7616928">(</span><span class="string" id="7616929">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="7616933">-</span>&nbsp;<span class="num" id="7616935">1</span><span class="op" id="7616936">)</span><span class="op" id="7616937">}</span><span class="op" id="7616938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616941">{</span><span class="string" id="7616942">&#39;+&#39;</span><span class="op" id="7616945">,</span>&nbsp;<span class="string" id="7616947">&#34;+&#34;</span><span class="op" id="7616950">}</span><span class="op" id="7616951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616954">{</span><span class="string" id="7616955">&#39;/&#39;</span><span class="op" id="7616958">,</span>&nbsp;<span class="string" id="7616960">&#34;/&#34;</span><span class="op" id="7616963">}</span><span class="op" id="7616964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616967">{</span><span class="string" id="7616968">&#39;.&#39;</span><span class="op" id="7616971">,</span>&nbsp;<span class="string" id="7616973">&#34;.&#34;</span><span class="op" id="7616976">}</span><span class="op" id="7616977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616980">{</span><span class="string" id="7616981">&#39;~&#39;</span><span class="op" id="7616984">,</span>&nbsp;<span class="string" id="7616986">&#34;~&#34;</span><span class="op" id="7616989">}</span><span class="op" id="7616990">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7616993">{</span><span class="string" id="7616994">&#39;(&#39;</span><span class="op" id="7616997">,</span>&nbsp;<span class="string" id="7616999">&#34;(&#34;</span><span class="op" id="7617002">}</span><span class="op" id="7617003">,</span><br>
<span class="lineno"></span><span class="op" id="7617005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7617008">func</span>&nbsp;<span class="ident" id="7617013">makeSource</span><span class="op" id="7617023">(</span><span class="ident" id="7617024">pattern</span>&nbsp;<span class="builtintype" id="7617032">string</span><span class="op" id="7617038">)</span>&nbsp;<span class="op" id="7617040">*</span><span class="ident" id="7617041">bytes</span><span class="op" id="7617046">.</span><span class="ident" id="7617047">Buffer</span>&nbsp;<span class="op" id="7617054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617057">var</span>&nbsp;<span class="ident" id="7617061">buf</span>&nbsp;<span class="ident" id="7617065">bytes</span><span class="op" id="7617070">.</span><span class="ident" id="7617071">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617079">for</span>&nbsp;<span class="ident" id="7617083">_</span><span class="op" id="7617084">,</span>&nbsp;<span class="ident" id="7617086">k</span>&nbsp;<span class="op" id="7617088">:=</span>&nbsp;<span class="keyword" id="7617091">range</span>&nbsp;<span class="ident" id="7617097">tokenList</span>&nbsp;<span class="op" id="7617107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617111">fmt</span><span class="op" id="7617114">.</span><span class="ident" id="7617115">Fprintf</span><span class="op" id="7617122">(</span><span class="op" id="7617123">&amp;</span><span class="ident" id="7617124">buf</span><span class="op" id="7617127">,</span>&nbsp;<span class="ident" id="7617129">pattern</span><span class="op" id="7617136">,</span>&nbsp;<span class="ident" id="7617138">k</span><span class="op" id="7617139">.</span><span class="ident" id="7617140">text</span><span class="op" id="7617144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617150">return</span>&nbsp;<span class="op" id="7617157">&amp;</span><span class="ident" id="7617158">buf</span><br>
<span class="lineno"></span><span class="op" id="7617162">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="7617165">func</span>&nbsp;<span class="ident" id="7617170">checkTok</span><span class="op" id="7617178">(</span><span class="ident" id="7617179">t</span>&nbsp;<span class="op" id="7617181">*</span><span class="ident" id="7617182">testing</span><span class="op" id="7617189">.</span><span class="ident" id="7617190">T</span><span class="op" id="7617191">,</span>&nbsp;<span class="ident" id="7617193">s</span>&nbsp;<span class="op" id="7617195">*</span><span class="ident" id="7617196">Scanner</span><span class="op" id="7617203">,</span>&nbsp;<span class="ident" id="7617205">line</span>&nbsp;<span class="builtintype" id="7617210">int</span><span class="op" id="7617213">,</span>&nbsp;<span class="ident" id="7617215">got</span><span class="op" id="7617218">,</span>&nbsp;<span class="ident" id="7617220">want</span>&nbsp;<span class="builtintype" id="7617225">rune</span><span class="op" id="7617229">,</span>&nbsp;<span class="ident" id="7617231">text</span>&nbsp;<span class="builtintype" id="7617236">string</span><span class="op" id="7617242">)</span>&nbsp;<span class="op" id="7617244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617247">if</span>&nbsp;<span class="ident" id="7617250">got</span>&nbsp;<span class="op" id="7617254">!=</span>&nbsp;<span class="ident" id="7617257">want</span>&nbsp;<span class="op" id="7617262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617266">t</span><span class="op" id="7617267">.</span><span class="ident" id="7617268">Fatalf</span><span class="op" id="7617274">(</span><span class="string" id="7617275">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7617301">,</span>&nbsp;<span class="ident" id="7617303">TokenString</span><span class="op" id="7617314">(</span><span class="ident" id="7617315">got</span><span class="op" id="7617318">)</span><span class="op" id="7617319">,</span>&nbsp;<span class="ident" id="7617321">TokenString</span><span class="op" id="7617332">(</span><span class="ident" id="7617333">want</span><span class="op" id="7617337">)</span><span class="op" id="7617338">,</span>&nbsp;<span class="ident" id="7617340">text</span><span class="op" id="7617344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617347">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617350">if</span>&nbsp;<span class="ident" id="7617353">s</span><span class="op" id="7617354">.</span><span class="ident" id="7617355">Line</span>&nbsp;<span class="op" id="7617360">!=</span>&nbsp;<span class="ident" id="7617363">line</span>&nbsp;<span class="op" id="7617368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617372">t</span><span class="op" id="7617373">.</span><span class="ident" id="7617374">Errorf</span><span class="op" id="7617380">(</span><span class="string" id="7617381">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7617408">,</span>&nbsp;<span class="ident" id="7617410">s</span><span class="op" id="7617411">.</span><span class="ident" id="7617412">Line</span><span class="op" id="7617416">,</span>&nbsp;<span class="ident" id="7617418">line</span><span class="op" id="7617422">,</span>&nbsp;<span class="ident" id="7617424">text</span><span class="op" id="7617428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617434">stext</span>&nbsp;<span class="op" id="7617440">:=</span>&nbsp;<span class="ident" id="7617443">s</span><span class="op" id="7617444">.</span><span class="ident" id="7617445">TokenText</span><span class="op" id="7617454">(</span><span class="op" id="7617455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617458">if</span>&nbsp;<span class="ident" id="7617461">stext</span>&nbsp;<span class="op" id="7617467">!=</span>&nbsp;<span class="ident" id="7617470">text</span>&nbsp;<span class="op" id="7617475">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617479">t</span><span class="op" id="7617480">.</span><span class="ident" id="7617481">Errorf</span><span class="op" id="7617487">(</span><span class="string" id="7617488">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7617508">,</span>&nbsp;<span class="ident" id="7617510">stext</span><span class="op" id="7617515">,</span>&nbsp;<span class="ident" id="7617517">text</span><span class="op" id="7617521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617524">}</span>&nbsp;<span class="keyword" id="7617526">else</span>&nbsp;<span class="op" id="7617531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7617535">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617578">stext</span>&nbsp;<span class="op" id="7617584">=</span>&nbsp;<span class="ident" id="7617586">s</span><span class="op" id="7617587">.</span><span class="ident" id="7617588">TokenText</span><span class="op" id="7617597">(</span><span class="op" id="7617598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617602">if</span>&nbsp;<span class="ident" id="7617605">stext</span>&nbsp;<span class="op" id="7617611">!=</span>&nbsp;<span class="ident" id="7617614">text</span>&nbsp;<span class="op" id="7617619">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617624">t</span><span class="op" id="7617625">.</span><span class="ident" id="7617626">Errorf</span><span class="op" id="7617632">(</span><span class="string" id="7617633">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="7617673">,</span>&nbsp;<span class="ident" id="7617675">stext</span><span class="op" id="7617680">,</span>&nbsp;<span class="ident" id="7617682">text</span><span class="op" id="7617686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617693">}</span><br>
<span class="lineno"></span><span class="op" id="7617695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="7617698">func</span>&nbsp;<span class="ident" id="7617703">countNewlines</span><span class="op" id="7617716">(</span><span class="ident" id="7617717">s</span>&nbsp;<span class="builtintype" id="7617719">string</span><span class="op" id="7617725">)</span>&nbsp;<span class="builtintype" id="7617727">int</span>&nbsp;<span class="op" id="7617731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617734">n</span>&nbsp;<span class="op" id="7617736">:=</span>&nbsp;<span class="num" id="7617739">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617742">for</span>&nbsp;<span class="ident" id="7617746">_</span><span class="op" id="7617747">,</span>&nbsp;<span class="ident" id="7617749">ch</span>&nbsp;<span class="op" id="7617752">:=</span>&nbsp;<span class="keyword" id="7617755">range</span>&nbsp;<span class="ident" id="7617761">s</span>&nbsp;<span class="op" id="7617763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617767">if</span>&nbsp;<span class="ident" id="7617770">ch</span>&nbsp;<span class="op" id="7617773">==</span>&nbsp;<span class="string" id="7617776">&#39;\n&#39;</span>&nbsp;<span class="op" id="7617781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617786">n</span><span class="op" id="7617787">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7617795">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617798">return</span>&nbsp;<span class="ident" id="7617805">n</span><br>
<span class="lineno"></span><span class="op" id="7617807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="7617810">func</span>&nbsp;<span class="ident" id="7617815">testScan</span><span class="op" id="7617823">(</span><span class="ident" id="7617824">t</span>&nbsp;<span class="op" id="7617826">*</span><span class="ident" id="7617827">testing</span><span class="op" id="7617834">.</span><span class="ident" id="7617835">T</span><span class="op" id="7617836">,</span>&nbsp;<span class="ident" id="7617838">mode</span>&nbsp;<span class="builtintype" id="7617843">uint</span><span class="op" id="7617847">)</span>&nbsp;<span class="op" id="7617849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617852">s</span>&nbsp;<span class="op" id="7617854">:=</span>&nbsp;<span class="builtinfunc" id="7617857">new</span><span class="op" id="7617860">(</span><span class="ident" id="7617861">Scanner</span><span class="op" id="7617868">)</span><span class="op" id="7617869">.</span><span class="ident" id="7617870">Init</span><span class="op" id="7617874">(</span><span class="ident" id="7617875">makeSource</span><span class="op" id="7617885">(</span><span class="string" id="7617886">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="7617895">)</span><span class="op" id="7617896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617899">s</span><span class="op" id="7617900">.</span><span class="ident" id="7617901">Mode</span>&nbsp;<span class="op" id="7617906">=</span>&nbsp;<span class="ident" id="7617908">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617914">tok</span>&nbsp;<span class="op" id="7617918">:=</span>&nbsp;<span class="ident" id="7617921">s</span><span class="op" id="7617922">.</span><span class="ident" id="7617923">Scan</span><span class="op" id="7617927">(</span><span class="op" id="7617928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7617931">line</span>&nbsp;<span class="op" id="7617936">:=</span>&nbsp;<span class="num" id="7617939">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617942">for</span>&nbsp;<span class="ident" id="7617946">_</span><span class="op" id="7617947">,</span>&nbsp;<span class="ident" id="7617949">k</span>&nbsp;<span class="op" id="7617951">:=</span>&nbsp;<span class="keyword" id="7617954">range</span>&nbsp;<span class="ident" id="7617960">tokenList</span>&nbsp;<span class="op" id="7617970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7617974">if</span>&nbsp;<span class="ident" id="7617977">mode</span><span class="op" id="7617981">&amp;</span><span class="ident" id="7617982">SkipComments</span>&nbsp;<span class="op" id="7617995">==</span>&nbsp;<span class="num" id="7617998">0</span>&nbsp;<span class="op" id="7618000">||</span>&nbsp;<span class="ident" id="7618003">k</span><span class="op" id="7618004">.</span><span class="ident" id="7618005">tok</span>&nbsp;<span class="op" id="7618009">!=</span>&nbsp;<span class="ident" id="7618012">Comment</span>&nbsp;<span class="op" id="7618020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618025">checkTok</span><span class="op" id="7618033">(</span><span class="ident" id="7618034">t</span><span class="op" id="7618035">,</span>&nbsp;<span class="ident" id="7618037">s</span><span class="op" id="7618038">,</span>&nbsp;<span class="ident" id="7618040">line</span><span class="op" id="7618044">,</span>&nbsp;<span class="ident" id="7618046">tok</span><span class="op" id="7618049">,</span>&nbsp;<span class="ident" id="7618051">k</span><span class="op" id="7618052">.</span><span class="ident" id="7618053">tok</span><span class="op" id="7618056">,</span>&nbsp;<span class="ident" id="7618058">k</span><span class="op" id="7618059">.</span><span class="ident" id="7618060">text</span><span class="op" id="7618064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618069">tok</span>&nbsp;<span class="op" id="7618073">=</span>&nbsp;<span class="ident" id="7618075">s</span><span class="op" id="7618076">.</span><span class="ident" id="7618077">Scan</span><span class="op" id="7618081">(</span><span class="op" id="7618082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7618086">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618090">line</span>&nbsp;<span class="op" id="7618095">+=</span>&nbsp;<span class="ident" id="7618098">countNewlines</span><span class="op" id="7618111">(</span><span class="ident" id="7618112">k</span><span class="op" id="7618113">.</span><span class="ident" id="7618114">text</span><span class="op" id="7618118">)</span>&nbsp;<span class="op" id="7618120">+</span>&nbsp;<span class="num" id="7618122">1</span>&nbsp;<span class="comment" id="7618124">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7618156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618159">checkTok</span><span class="op" id="7618167">(</span><span class="ident" id="7618168">t</span><span class="op" id="7618169">,</span>&nbsp;<span class="ident" id="7618171">s</span><span class="op" id="7618172">,</span>&nbsp;<span class="ident" id="7618174">line</span><span class="op" id="7618178">,</span>&nbsp;<span class="ident" id="7618180">tok</span><span class="op" id="7618183">,</span>&nbsp;<span class="ident" id="7618185">EOF</span><span class="op" id="7618188">,</span>&nbsp;<span class="string" id="7618190">&#34;&#34;</span><span class="op" id="7618192">)</span><br>
<span class="lineno"></span><span class="op" id="7618194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="7618197">func</span>&nbsp;<span class="ident" id="7618202">TestScan</span><span class="op" id="7618210">(</span><span class="ident" id="7618211">t</span>&nbsp;<span class="op" id="7618213">*</span><span class="ident" id="7618214">testing</span><span class="op" id="7618221">.</span><span class="ident" id="7618222">T</span><span class="op" id="7618223">)</span>&nbsp;<span class="op" id="7618225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618228">testScan</span><span class="op" id="7618236">(</span><span class="ident" id="7618237">t</span><span class="op" id="7618238">,</span>&nbsp;<span class="ident" id="7618240">GoTokens</span><span class="op" id="7618248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618251">testScan</span><span class="op" id="7618259">(</span><span class="ident" id="7618260">t</span><span class="op" id="7618261">,</span>&nbsp;<span class="ident" id="7618263">GoTokens</span><span class="op" id="7618271">&amp;^</span><span class="ident" id="7618273">SkipComments</span><span class="op" id="7618285">)</span><br>
<span class="lineno"></span><span class="op" id="7618287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="7618290">func</span>&nbsp;<span class="ident" id="7618295">TestPosition</span><span class="op" id="7618307">(</span><span class="ident" id="7618308">t</span>&nbsp;<span class="op" id="7618310">*</span><span class="ident" id="7618311">testing</span><span class="op" id="7618318">.</span><span class="ident" id="7618319">T</span><span class="op" id="7618320">)</span>&nbsp;<span class="op" id="7618322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618325">src</span>&nbsp;<span class="op" id="7618329">:=</span>&nbsp;<span class="ident" id="7618332">makeSource</span><span class="op" id="7618342">(</span><span class="string" id="7618343">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="7618357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618360">s</span>&nbsp;<span class="op" id="7618362">:=</span>&nbsp;<span class="builtinfunc" id="7618365">new</span><span class="op" id="7618368">(</span><span class="ident" id="7618369">Scanner</span><span class="op" id="7618376">)</span><span class="op" id="7618377">.</span><span class="ident" id="7618378">Init</span><span class="op" id="7618382">(</span><span class="ident" id="7618383">src</span><span class="op" id="7618386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618389">s</span><span class="op" id="7618390">.</span><span class="ident" id="7618391">Mode</span>&nbsp;<span class="op" id="7618396">=</span>&nbsp;<span class="ident" id="7618398">GoTokens</span>&nbsp;<span class="op" id="7618407">&amp;^</span>&nbsp;<span class="ident" id="7618410">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618424">s</span><span class="op" id="7618425">.</span><span class="ident" id="7618426">Scan</span><span class="op" id="7618430">(</span><span class="op" id="7618431">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618434">pos</span>&nbsp;<span class="op" id="7618438">:=</span>&nbsp;<span class="ident" id="7618441">Position</span><span class="op" id="7618449">{</span><span class="string" id="7618450">&#34;&#34;</span><span class="op" id="7618452">,</span>&nbsp;<span class="num" id="7618454">4</span><span class="op" id="7618455">,</span>&nbsp;<span class="num" id="7618457">1</span><span class="op" id="7618458">,</span>&nbsp;<span class="num" id="7618460">5</span><span class="op" id="7618461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7618464">for</span>&nbsp;<span class="ident" id="7618468">_</span><span class="op" id="7618469">,</span>&nbsp;<span class="ident" id="7618471">k</span>&nbsp;<span class="op" id="7618473">:=</span>&nbsp;<span class="keyword" id="7618476">range</span>&nbsp;<span class="ident" id="7618482">tokenList</span>&nbsp;<span class="op" id="7618492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7618496">if</span>&nbsp;<span class="ident" id="7618499">s</span><span class="op" id="7618500">.</span><span class="ident" id="7618501">Offset</span>&nbsp;<span class="op" id="7618508">!=</span>&nbsp;<span class="ident" id="7618511">pos</span><span class="op" id="7618514">.</span><span class="ident" id="7618515">Offset</span>&nbsp;<span class="op" id="7618522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618527">t</span><span class="op" id="7618528">.</span><span class="ident" id="7618529">Errorf</span><span class="op" id="7618535">(</span><span class="string" id="7618536">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7618565">,</span>&nbsp;<span class="ident" id="7618567">s</span><span class="op" id="7618568">.</span><span class="ident" id="7618569">Offset</span><span class="op" id="7618575">,</span>&nbsp;<span class="ident" id="7618577">pos</span><span class="op" id="7618580">.</span><span class="ident" id="7618581">Offset</span><span class="op" id="7618587">,</span>&nbsp;<span class="ident" id="7618589">k</span><span class="op" id="7618590">.</span><span class="ident" id="7618591">text</span><span class="op" id="7618595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7618599">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7618603">if</span>&nbsp;<span class="ident" id="7618606">s</span><span class="op" id="7618607">.</span><span class="ident" id="7618608">Line</span>&nbsp;<span class="op" id="7618613">!=</span>&nbsp;<span class="ident" id="7618616">pos</span><span class="op" id="7618619">.</span><span class="ident" id="7618620">Line</span>&nbsp;<span class="op" id="7618625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618630">t</span><span class="op" id="7618631">.</span><span class="ident" id="7618632">Errorf</span><span class="op" id="7618638">(</span><span class="string" id="7618639">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7618666">,</span>&nbsp;<span class="ident" id="7618668">s</span><span class="op" id="7618669">.</span><span class="ident" id="7618670">Line</span><span class="op" id="7618674">,</span>&nbsp;<span class="ident" id="7618676">pos</span><span class="op" id="7618679">.</span><span class="ident" id="7618680">Line</span><span class="op" id="7618684">,</span>&nbsp;<span class="ident" id="7618686">k</span><span class="op" id="7618687">.</span><span class="ident" id="7618688">text</span><span class="op" id="7618692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7618696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7618700">if</span>&nbsp;<span class="ident" id="7618703">s</span><span class="op" id="7618704">.</span><span class="ident" id="7618705">Column</span>&nbsp;<span class="op" id="7618712">!=</span>&nbsp;<span class="ident" id="7618715">pos</span><span class="op" id="7618718">.</span><span class="ident" id="7618719">Column</span>&nbsp;<span class="op" id="7618726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618731">t</span><span class="op" id="7618732">.</span><span class="ident" id="7618733">Errorf</span><span class="op" id="7618739">(</span><span class="string" id="7618740">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7618769">,</span>&nbsp;<span class="ident" id="7618771">s</span><span class="op" id="7618772">.</span><span class="ident" id="7618773">Column</span><span class="op" id="7618779">,</span>&nbsp;<span class="ident" id="7618781">pos</span><span class="op" id="7618784">.</span><span class="ident" id="7618785">Column</span><span class="op" id="7618791">,</span>&nbsp;<span class="ident" id="7618793">k</span><span class="op" id="7618794">.</span><span class="ident" id="7618795">text</span><span class="op" id="7618799">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7618803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618807">pos</span><span class="op" id="7618810">.</span><span class="ident" id="7618811">Offset</span>&nbsp;<span class="op" id="7618818">+=</span>&nbsp;<span class="num" id="7618821">4</span>&nbsp;<span class="op" id="7618823">+</span>&nbsp;<span class="builtinfunc" id="7618825">len</span><span class="op" id="7618828">(</span><span class="ident" id="7618829">k</span><span class="op" id="7618830">.</span><span class="ident" id="7618831">text</span><span class="op" id="7618835">)</span>&nbsp;<span class="op" id="7618837">+</span>&nbsp;<span class="num" id="7618839">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7618845">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618881">pos</span><span class="op" id="7618884">.</span><span class="ident" id="7618885">Line</span>&nbsp;<span class="op" id="7618890">+=</span>&nbsp;<span class="ident" id="7618893">countNewlines</span><span class="op" id="7618906">(</span><span class="ident" id="7618907">k</span><span class="op" id="7618908">.</span><span class="ident" id="7618909">text</span><span class="op" id="7618913">)</span>&nbsp;<span class="op" id="7618915">+</span>&nbsp;<span class="num" id="7618917">1</span>&nbsp;<span class="comment" id="7618919">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7618952">s</span><span class="op" id="7618953">.</span><span class="ident" id="7618954">Scan</span><span class="op" id="7618958">(</span><span class="op" id="7618959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7618962">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7618965">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619035">if</span>&nbsp;<span class="ident" id="7619038">s</span><span class="op" id="7619039">.</span><span class="ident" id="7619040">ErrorCount</span>&nbsp;<span class="op" id="7619051">!=</span>&nbsp;<span class="num" id="7619054">0</span>&nbsp;<span class="op" id="7619056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619060">t</span><span class="op" id="7619061">.</span><span class="ident" id="7619062">Errorf</span><span class="op" id="7619068">(</span><span class="string" id="7619069">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7619080">,</span>&nbsp;<span class="ident" id="7619082">s</span><span class="op" id="7619083">.</span><span class="ident" id="7619084">ErrorCount</span><span class="op" id="7619094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619097">}</span><br>
<span class="lineno"></span><span class="op" id="7619099">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="7619102">func</span>&nbsp;<span class="ident" id="7619107">TestScanZeroMode</span><span class="op" id="7619123">(</span><span class="ident" id="7619124">t</span>&nbsp;<span class="op" id="7619126">*</span><span class="ident" id="7619127">testing</span><span class="op" id="7619134">.</span><span class="ident" id="7619135">T</span><span class="op" id="7619136">)</span>&nbsp;<span class="op" id="7619138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619141">src</span>&nbsp;<span class="op" id="7619145">:=</span>&nbsp;<span class="ident" id="7619148">makeSource</span><span class="op" id="7619158">(</span><span class="string" id="7619159">&#34;%s\n&#34;</span><span class="op" id="7619165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619168">str</span>&nbsp;<span class="op" id="7619172">:=</span>&nbsp;<span class="ident" id="7619175">src</span><span class="op" id="7619178">.</span><span class="ident" id="7619179">String</span><span class="op" id="7619185">(</span><span class="op" id="7619186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619189">s</span>&nbsp;<span class="op" id="7619191">:=</span>&nbsp;<span class="builtinfunc" id="7619194">new</span><span class="op" id="7619197">(</span><span class="ident" id="7619198">Scanner</span><span class="op" id="7619205">)</span><span class="op" id="7619206">.</span><span class="ident" id="7619207">Init</span><span class="op" id="7619211">(</span><span class="ident" id="7619212">src</span><span class="op" id="7619215">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619218">s</span><span class="op" id="7619219">.</span><span class="ident" id="7619220">Mode</span>&nbsp;<span class="op" id="7619225">=</span>&nbsp;<span class="num" id="7619227">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7619235">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619273">s</span><span class="op" id="7619274">.</span><span class="ident" id="7619275">Whitespace</span>&nbsp;<span class="op" id="7619286">=</span>&nbsp;<span class="num" id="7619288">0</span>&nbsp;<span class="comment" id="7619290">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619320">tok</span>&nbsp;<span class="op" id="7619324">:=</span>&nbsp;<span class="ident" id="7619327">s</span><span class="op" id="7619328">.</span><span class="ident" id="7619329">Scan</span><span class="op" id="7619333">(</span><span class="op" id="7619334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619337">for</span>&nbsp;<span class="ident" id="7619341">i</span><span class="op" id="7619342">,</span>&nbsp;<span class="ident" id="7619344">ch</span>&nbsp;<span class="op" id="7619347">:=</span>&nbsp;<span class="keyword" id="7619350">range</span>&nbsp;<span class="ident" id="7619356">str</span>&nbsp;<span class="op" id="7619360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619364">if</span>&nbsp;<span class="ident" id="7619367">tok</span>&nbsp;<span class="op" id="7619371">!=</span>&nbsp;<span class="ident" id="7619374">ch</span>&nbsp;<span class="op" id="7619377">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619382">t</span><span class="op" id="7619383">.</span><span class="ident" id="7619384">Fatalf</span><span class="op" id="7619390">(</span><span class="string" id="7619391">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7619414">,</span>&nbsp;<span class="ident" id="7619416">i</span><span class="op" id="7619417">,</span>&nbsp;<span class="ident" id="7619419">TokenString</span><span class="op" id="7619430">(</span><span class="ident" id="7619431">tok</span><span class="op" id="7619434">)</span><span class="op" id="7619435">,</span>&nbsp;<span class="ident" id="7619437">TokenString</span><span class="op" id="7619448">(</span><span class="ident" id="7619449">ch</span><span class="op" id="7619451">)</span><span class="op" id="7619452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619460">tok</span>&nbsp;<span class="op" id="7619464">=</span>&nbsp;<span class="ident" id="7619466">s</span><span class="op" id="7619467">.</span><span class="ident" id="7619468">Scan</span><span class="op" id="7619472">(</span><span class="op" id="7619473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619479">if</span>&nbsp;<span class="ident" id="7619482">tok</span>&nbsp;<span class="op" id="7619486">!=</span>&nbsp;<span class="ident" id="7619489">EOF</span>&nbsp;<span class="op" id="7619493">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619497">t</span><span class="op" id="7619498">.</span><span class="ident" id="7619499">Fatalf</span><span class="op" id="7619505">(</span><span class="string" id="7619506">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7619526">,</span>&nbsp;<span class="ident" id="7619528">TokenString</span><span class="op" id="7619539">(</span><span class="ident" id="7619540">tok</span><span class="op" id="7619543">)</span><span class="op" id="7619544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619550">if</span>&nbsp;<span class="ident" id="7619553">s</span><span class="op" id="7619554">.</span><span class="ident" id="7619555">ErrorCount</span>&nbsp;<span class="op" id="7619566">!=</span>&nbsp;<span class="num" id="7619569">0</span>&nbsp;<span class="op" id="7619571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619575">t</span><span class="op" id="7619576">.</span><span class="ident" id="7619577">Errorf</span><span class="op" id="7619583">(</span><span class="string" id="7619584">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7619595">,</span>&nbsp;<span class="ident" id="7619597">s</span><span class="op" id="7619598">.</span><span class="ident" id="7619599">ErrorCount</span><span class="op" id="7619609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619612">}</span><br>
<span class="lineno">330</span><span class="op" id="7619614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7619617">func</span>&nbsp;<span class="ident" id="7619622">testScanSelectedMode</span><span class="op" id="7619642">(</span><span class="ident" id="7619643">t</span>&nbsp;<span class="op" id="7619645">*</span><span class="ident" id="7619646">testing</span><span class="op" id="7619653">.</span><span class="ident" id="7619654">T</span><span class="op" id="7619655">,</span>&nbsp;<span class="ident" id="7619657">mode</span>&nbsp;<span class="builtintype" id="7619662">uint</span><span class="op" id="7619666">,</span>&nbsp;<span class="ident" id="7619668">class</span>&nbsp;<span class="builtintype" id="7619674">rune</span><span class="op" id="7619678">)</span>&nbsp;<span class="op" id="7619680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619683">src</span>&nbsp;<span class="op" id="7619687">:=</span>&nbsp;<span class="ident" id="7619690">makeSource</span><span class="op" id="7619700">(</span><span class="string" id="7619701">&#34;%s\n&#34;</span><span class="op" id="7619707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619710">s</span>&nbsp;<span class="op" id="7619712">:=</span>&nbsp;<span class="builtinfunc" id="7619715">new</span><span class="op" id="7619718">(</span><span class="ident" id="7619719">Scanner</span><span class="op" id="7619726">)</span><span class="op" id="7619727">.</span><span class="ident" id="7619728">Init</span><span class="op" id="7619732">(</span><span class="ident" id="7619733">src</span><span class="op" id="7619736">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619739">s</span><span class="op" id="7619740">.</span><span class="ident" id="7619741">Mode</span>&nbsp;<span class="op" id="7619746">=</span>&nbsp;<span class="ident" id="7619748">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619754">tok</span>&nbsp;<span class="op" id="7619758">:=</span>&nbsp;<span class="ident" id="7619761">s</span><span class="op" id="7619762">.</span><span class="ident" id="7619763">Scan</span><span class="op" id="7619767">(</span><span class="op" id="7619768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619771">for</span>&nbsp;<span class="ident" id="7619775">tok</span>&nbsp;<span class="op" id="7619779">!=</span>&nbsp;<span class="ident" id="7619782">EOF</span>&nbsp;<span class="op" id="7619786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619790">if</span>&nbsp;<span class="ident" id="7619793">tok</span>&nbsp;<span class="op" id="7619797">&lt;</span>&nbsp;<span class="num" id="7619799">0</span>&nbsp;<span class="op" id="7619801">&amp;&amp;</span>&nbsp;<span class="ident" id="7619804">tok</span>&nbsp;<span class="op" id="7619808">!=</span>&nbsp;<span class="ident" id="7619811">class</span>&nbsp;<span class="op" id="7619817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619822">t</span><span class="op" id="7619823">.</span><span class="ident" id="7619824">Fatalf</span><span class="op" id="7619830">(</span><span class="string" id="7619831">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7619850">,</span>&nbsp;<span class="ident" id="7619852">TokenString</span><span class="op" id="7619863">(</span><span class="ident" id="7619864">tok</span><span class="op" id="7619867">)</span><span class="op" id="7619868">,</span>&nbsp;<span class="ident" id="7619870">TokenString</span><span class="op" id="7619881">(</span><span class="ident" id="7619882">class</span><span class="op" id="7619887">)</span><span class="op" id="7619888">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619896">tok</span>&nbsp;<span class="op" id="7619900">=</span>&nbsp;<span class="ident" id="7619902">s</span><span class="op" id="7619903">.</span><span class="ident" id="7619904">Scan</span><span class="op" id="7619908">(</span><span class="op" id="7619909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7619915">if</span>&nbsp;<span class="ident" id="7619918">s</span><span class="op" id="7619919">.</span><span class="ident" id="7619920">ErrorCount</span>&nbsp;<span class="op" id="7619931">!=</span>&nbsp;<span class="num" id="7619934">0</span>&nbsp;<span class="op" id="7619936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7619940">t</span><span class="op" id="7619941">.</span><span class="ident" id="7619942">Errorf</span><span class="op" id="7619948">(</span><span class="string" id="7619949">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7619960">,</span>&nbsp;<span class="ident" id="7619962">s</span><span class="op" id="7619963">.</span><span class="ident" id="7619964">ErrorCount</span><span class="op" id="7619974">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7619977">}</span><br>
<span class="lineno"></span><span class="op" id="7619979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7619982">func</span>&nbsp;<span class="ident" id="7619987">TestScanSelectedMask</span><span class="op" id="7620007">(</span><span class="ident" id="7620008">t</span>&nbsp;<span class="op" id="7620010">*</span><span class="ident" id="7620011">testing</span><span class="op" id="7620018">.</span><span class="ident" id="7620019">T</span><span class="op" id="7620020">)</span>&nbsp;<span class="op" id="7620022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620025">testScanSelectedMode</span><span class="op" id="7620045">(</span><span class="ident" id="7620046">t</span><span class="op" id="7620047">,</span>&nbsp;<span class="num" id="7620049">0</span><span class="op" id="7620050">,</span>&nbsp;<span class="num" id="7620052">0</span><span class="op" id="7620053">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620056">testScanSelectedMode</span><span class="op" id="7620076">(</span><span class="ident" id="7620077">t</span><span class="op" id="7620078">,</span>&nbsp;<span class="ident" id="7620080">ScanIdents</span><span class="op" id="7620090">,</span>&nbsp;<span class="ident" id="7620092">Ident</span><span class="op" id="7620097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7620100">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7620160">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7620220">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620272">testScanSelectedMode</span><span class="op" id="7620292">(</span><span class="ident" id="7620293">t</span><span class="op" id="7620294">,</span>&nbsp;<span class="ident" id="7620296">ScanChars</span><span class="op" id="7620305">,</span>&nbsp;<span class="ident" id="7620307">Char</span><span class="op" id="7620311">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620314">testScanSelectedMode</span><span class="op" id="7620334">(</span><span class="ident" id="7620335">t</span><span class="op" id="7620336">,</span>&nbsp;<span class="ident" id="7620338">ScanStrings</span><span class="op" id="7620349">,</span>&nbsp;<span class="ident" id="7620351">String</span><span class="op" id="7620357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620360">testScanSelectedMode</span><span class="op" id="7620380">(</span><span class="ident" id="7620381">t</span><span class="op" id="7620382">,</span>&nbsp;<span class="ident" id="7620384">SkipComments</span><span class="op" id="7620396">,</span>&nbsp;<span class="num" id="7620398">0</span><span class="op" id="7620399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620402">testScanSelectedMode</span><span class="op" id="7620422">(</span><span class="ident" id="7620423">t</span><span class="op" id="7620424">,</span>&nbsp;<span class="ident" id="7620426">ScanComments</span><span class="op" id="7620438">,</span>&nbsp;<span class="ident" id="7620440">Comment</span><span class="op" id="7620447">)</span><br>
<span class="lineno"></span><span class="op" id="7620449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="7620452">func</span>&nbsp;<span class="ident" id="7620457">TestScanCustomIdent</span><span class="op" id="7620476">(</span><span class="ident" id="7620477">t</span>&nbsp;<span class="op" id="7620479">*</span><span class="ident" id="7620480">testing</span><span class="op" id="7620487">.</span><span class="ident" id="7620488">T</span><span class="op" id="7620489">)</span>&nbsp;<span class="op" id="7620491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620494">const</span>&nbsp;<span class="ident" id="7620500">src</span>&nbsp;<span class="op" id="7620504">=</span>&nbsp;<span class="string" id="7620506">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620534">s</span>&nbsp;<span class="op" id="7620536">:=</span>&nbsp;<span class="builtinfunc" id="7620539">new</span><span class="op" id="7620542">(</span><span class="ident" id="7620543">Scanner</span><span class="op" id="7620550">)</span><span class="op" id="7620551">.</span><span class="ident" id="7620552">Init</span><span class="op" id="7620556">(</span><span class="ident" id="7620557">strings</span><span class="op" id="7620564">.</span><span class="ident" id="7620565">NewReader</span><span class="op" id="7620574">(</span><span class="ident" id="7620575">src</span><span class="op" id="7620578">)</span><span class="op" id="7620579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7620582">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7620620">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7620645">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620676">s</span><span class="op" id="7620677">.</span><span class="ident" id="7620678">IsIdentRune</span>&nbsp;<span class="op" id="7620690">=</span>&nbsp;<span class="keyword" id="7620692">func</span><span class="op" id="7620696">(</span><span class="ident" id="7620697">ch</span>&nbsp;<span class="builtintype" id="7620700">rune</span><span class="op" id="7620704">,</span>&nbsp;<span class="ident" id="7620706">i</span>&nbsp;<span class="builtintype" id="7620708">int</span><span class="op" id="7620711">)</span>&nbsp;<span class="builtintype" id="7620713">bool</span>&nbsp;<span class="op" id="7620718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7620722">return</span>&nbsp;<span class="ident" id="7620729">i</span>&nbsp;<span class="op" id="7620731">==</span>&nbsp;<span class="num" id="7620734">0</span>&nbsp;<span class="op" id="7620736">&amp;&amp;</span>&nbsp;<span class="op" id="7620739">(</span><span class="ident" id="7620740">ch</span>&nbsp;<span class="op" id="7620743">==</span>&nbsp;<span class="string" id="7620746">&#39;a&#39;</span>&nbsp;<span class="op" id="7620750">||</span>&nbsp;<span class="ident" id="7620753">ch</span>&nbsp;<span class="op" id="7620756">==</span>&nbsp;<span class="string" id="7620759">&#39;b&#39;</span><span class="op" id="7620762">)</span>&nbsp;<span class="op" id="7620764">||</span>&nbsp;<span class="num" id="7620767">0</span>&nbsp;<span class="op" id="7620769">&lt;</span>&nbsp;<span class="ident" id="7620771">i</span>&nbsp;<span class="op" id="7620773">&amp;&amp;</span>&nbsp;<span class="ident" id="7620776">i</span>&nbsp;<span class="op" id="7620778">&lt;</span>&nbsp;<span class="num" id="7620780">4</span>&nbsp;<span class="op" id="7620782">&amp;&amp;</span>&nbsp;<span class="string" id="7620785">&#39;0&#39;</span>&nbsp;<span class="op" id="7620789">&lt;=</span>&nbsp;<span class="ident" id="7620792">ch</span>&nbsp;<span class="op" id="7620795">&amp;&amp;</span>&nbsp;<span class="ident" id="7620798">ch</span>&nbsp;<span class="op" id="7620801">&lt;=</span>&nbsp;<span class="string" id="7620804">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7620809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620812">checkTok</span><span class="op" id="7620820">(</span><span class="ident" id="7620821">t</span><span class="op" id="7620822">,</span>&nbsp;<span class="ident" id="7620824">s</span><span class="op" id="7620825">,</span>&nbsp;<span class="num" id="7620827">1</span><span class="op" id="7620828">,</span>&nbsp;<span class="ident" id="7620830">s</span><span class="op" id="7620831">.</span><span class="ident" id="7620832">Scan</span><span class="op" id="7620836">(</span><span class="op" id="7620837">)</span><span class="op" id="7620838">,</span>&nbsp;<span class="string" id="7620840">&#39;f&#39;</span><span class="op" id="7620843">,</span>&nbsp;<span class="string" id="7620845">&#34;f&#34;</span><span class="op" id="7620848">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620851">checkTok</span><span class="op" id="7620859">(</span><span class="ident" id="7620860">t</span><span class="op" id="7620861">,</span>&nbsp;<span class="ident" id="7620863">s</span><span class="op" id="7620864">,</span>&nbsp;<span class="num" id="7620866">1</span><span class="op" id="7620867">,</span>&nbsp;<span class="ident" id="7620869">s</span><span class="op" id="7620870">.</span><span class="ident" id="7620871">Scan</span><span class="op" id="7620875">(</span><span class="op" id="7620876">)</span><span class="op" id="7620877">,</span>&nbsp;<span class="ident" id="7620879">Ident</span><span class="op" id="7620884">,</span>&nbsp;<span class="string" id="7620886">&#34;a&#34;</span><span class="op" id="7620889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620892">checkTok</span><span class="op" id="7620900">(</span><span class="ident" id="7620901">t</span><span class="op" id="7620902">,</span>&nbsp;<span class="ident" id="7620904">s</span><span class="op" id="7620905">,</span>&nbsp;<span class="num" id="7620907">1</span><span class="op" id="7620908">,</span>&nbsp;<span class="ident" id="7620910">s</span><span class="op" id="7620911">.</span><span class="ident" id="7620912">Scan</span><span class="op" id="7620916">(</span><span class="op" id="7620917">)</span><span class="op" id="7620918">,</span>&nbsp;<span class="ident" id="7620920">Ident</span><span class="op" id="7620925">,</span>&nbsp;<span class="string" id="7620927">&#34;a&#34;</span><span class="op" id="7620930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620933">checkTok</span><span class="op" id="7620941">(</span><span class="ident" id="7620942">t</span><span class="op" id="7620943">,</span>&nbsp;<span class="ident" id="7620945">s</span><span class="op" id="7620946">,</span>&nbsp;<span class="num" id="7620948">1</span><span class="op" id="7620949">,</span>&nbsp;<span class="ident" id="7620951">s</span><span class="op" id="7620952">.</span><span class="ident" id="7620953">Scan</span><span class="op" id="7620957">(</span><span class="op" id="7620958">)</span><span class="op" id="7620959">,</span>&nbsp;<span class="ident" id="7620961">Ident</span><span class="op" id="7620966">,</span>&nbsp;<span class="string" id="7620968">&#34;b123&#34;</span><span class="op" id="7620974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7620977">checkTok</span><span class="op" id="7620985">(</span><span class="ident" id="7620986">t</span><span class="op" id="7620987">,</span>&nbsp;<span class="ident" id="7620989">s</span><span class="op" id="7620990">,</span>&nbsp;<span class="num" id="7620992">1</span><span class="op" id="7620993">,</span>&nbsp;<span class="ident" id="7620995">s</span><span class="op" id="7620996">.</span><span class="ident" id="7620997">Scan</span><span class="op" id="7621001">(</span><span class="op" id="7621002">)</span><span class="op" id="7621003">,</span>&nbsp;<span class="ident" id="7621005">Int</span><span class="op" id="7621008">,</span>&nbsp;<span class="string" id="7621010">&#34;45&#34;</span><span class="op" id="7621014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621017">checkTok</span><span class="op" id="7621025">(</span><span class="ident" id="7621026">t</span><span class="op" id="7621027">,</span>&nbsp;<span class="ident" id="7621029">s</span><span class="op" id="7621030">,</span>&nbsp;<span class="num" id="7621032">1</span><span class="op" id="7621033">,</span>&nbsp;<span class="ident" id="7621035">s</span><span class="op" id="7621036">.</span><span class="ident" id="7621037">Scan</span><span class="op" id="7621041">(</span><span class="op" id="7621042">)</span><span class="op" id="7621043">,</span>&nbsp;<span class="ident" id="7621045">Ident</span><span class="op" id="7621050">,</span>&nbsp;<span class="string" id="7621052">&#34;a12&#34;</span><span class="op" id="7621057">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621060">checkTok</span><span class="op" id="7621068">(</span><span class="ident" id="7621069">t</span><span class="op" id="7621070">,</span>&nbsp;<span class="ident" id="7621072">s</span><span class="op" id="7621073">,</span>&nbsp;<span class="num" id="7621075">1</span><span class="op" id="7621076">,</span>&nbsp;<span class="ident" id="7621078">s</span><span class="op" id="7621079">.</span><span class="ident" id="7621080">Scan</span><span class="op" id="7621084">(</span><span class="op" id="7621085">)</span><span class="op" id="7621086">,</span>&nbsp;<span class="ident" id="7621088">Ident</span><span class="op" id="7621093">,</span>&nbsp;<span class="string" id="7621095">&#34;b123&#34;</span><span class="op" id="7621101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621104">checkTok</span><span class="op" id="7621112">(</span><span class="ident" id="7621113">t</span><span class="op" id="7621114">,</span>&nbsp;<span class="ident" id="7621116">s</span><span class="op" id="7621117">,</span>&nbsp;<span class="num" id="7621119">1</span><span class="op" id="7621120">,</span>&nbsp;<span class="ident" id="7621122">s</span><span class="op" id="7621123">.</span><span class="ident" id="7621124">Scan</span><span class="op" id="7621128">(</span><span class="op" id="7621129">)</span><span class="op" id="7621130">,</span>&nbsp;<span class="ident" id="7621132">Ident</span><span class="op" id="7621137">,</span>&nbsp;<span class="string" id="7621139">&#34;a12&#34;</span><span class="op" id="7621144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621147">checkTok</span><span class="op" id="7621155">(</span><span class="ident" id="7621156">t</span><span class="op" id="7621157">,</span>&nbsp;<span class="ident" id="7621159">s</span><span class="op" id="7621160">,</span>&nbsp;<span class="num" id="7621162">1</span><span class="op" id="7621163">,</span>&nbsp;<span class="ident" id="7621165">s</span><span class="op" id="7621166">.</span><span class="ident" id="7621167">Scan</span><span class="op" id="7621171">(</span><span class="op" id="7621172">)</span><span class="op" id="7621173">,</span>&nbsp;<span class="ident" id="7621175">Int</span><span class="op" id="7621178">,</span>&nbsp;<span class="string" id="7621180">&#34;3&#34;</span><span class="op" id="7621183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621186">checkTok</span><span class="op" id="7621194">(</span><span class="ident" id="7621195">t</span><span class="op" id="7621196">,</span>&nbsp;<span class="ident" id="7621198">s</span><span class="op" id="7621199">,</span>&nbsp;<span class="num" id="7621201">1</span><span class="op" id="7621202">,</span>&nbsp;<span class="ident" id="7621204">s</span><span class="op" id="7621205">.</span><span class="ident" id="7621206">Scan</span><span class="op" id="7621210">(</span><span class="op" id="7621211">)</span><span class="op" id="7621212">,</span>&nbsp;<span class="ident" id="7621214">Ident</span><span class="op" id="7621219">,</span>&nbsp;<span class="string" id="7621221">&#34;b&#34;</span><span class="op" id="7621224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621227">checkTok</span><span class="op" id="7621235">(</span><span class="ident" id="7621236">t</span><span class="op" id="7621237">,</span>&nbsp;<span class="ident" id="7621239">s</span><span class="op" id="7621240">,</span>&nbsp;<span class="num" id="7621242">1</span><span class="op" id="7621243">,</span>&nbsp;<span class="ident" id="7621245">s</span><span class="op" id="7621246">.</span><span class="ident" id="7621247">Scan</span><span class="op" id="7621251">(</span><span class="op" id="7621252">)</span><span class="op" id="7621253">,</span>&nbsp;<span class="ident" id="7621255">EOF</span><span class="op" id="7621258">,</span>&nbsp;<span class="string" id="7621260">&#34;&#34;</span><span class="op" id="7621262">)</span><br>
<span class="lineno">380</span><span class="op" id="7621264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7621267">func</span>&nbsp;<span class="ident" id="7621272">TestScanNext</span><span class="op" id="7621284">(</span><span class="ident" id="7621285">t</span>&nbsp;<span class="op" id="7621287">*</span><span class="ident" id="7621288">testing</span><span class="op" id="7621295">.</span><span class="ident" id="7621296">T</span><span class="op" id="7621297">)</span>&nbsp;<span class="op" id="7621299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7621302">const</span>&nbsp;<span class="ident" id="7621308">BOM</span>&nbsp;<span class="op" id="7621312">=</span>&nbsp;<span class="string" id="7621314">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621324">BOMs</span>&nbsp;<span class="op" id="7621329">:=</span>&nbsp;<span class="builtintype" id="7621332">string</span><span class="op" id="7621338">(</span><span class="ident" id="7621339">BOM</span><span class="op" id="7621342">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621345">s</span>&nbsp;<span class="op" id="7621347">:=</span>&nbsp;<span class="builtinfunc" id="7621350">new</span><span class="op" id="7621353">(</span><span class="ident" id="7621354">Scanner</span><span class="op" id="7621361">)</span><span class="op" id="7621362">.</span><span class="ident" id="7621363">Init</span><span class="op" id="7621367">(</span><span class="ident" id="7621368">strings</span><span class="op" id="7621375">.</span><span class="ident" id="7621376">NewReader</span><span class="op" id="7621385">(</span><span class="ident" id="7621386">BOMs</span>&nbsp;<span class="op" id="7621391">+</span>&nbsp;<span class="string" id="7621393">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="7621414">+</span>&nbsp;<span class="ident" id="7621416">BOMs</span>&nbsp;<span class="op" id="7621421">+</span>&nbsp;<span class="string" id="7621423">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="7621448">+</span>&nbsp;<span class="ident" id="7621450">BOMs</span>&nbsp;<span class="op" id="7621455">+</span>&nbsp;<span class="string" id="7621457">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="7621488">)</span><span class="op" id="7621489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621492">checkTok</span><span class="op" id="7621500">(</span><span class="ident" id="7621501">t</span><span class="op" id="7621502">,</span>&nbsp;<span class="ident" id="7621504">s</span><span class="op" id="7621505">,</span>&nbsp;<span class="num" id="7621507">1</span><span class="op" id="7621508">,</span>&nbsp;<span class="ident" id="7621510">s</span><span class="op" id="7621511">.</span><span class="ident" id="7621512">Scan</span><span class="op" id="7621516">(</span><span class="op" id="7621517">)</span><span class="op" id="7621518">,</span>&nbsp;<span class="ident" id="7621520">Ident</span><span class="op" id="7621525">,</span>&nbsp;<span class="string" id="7621527">&#34;if&#34;</span><span class="op" id="7621531">)</span>&nbsp;<span class="comment" id="7621533">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621562">checkTok</span><span class="op" id="7621570">(</span><span class="ident" id="7621571">t</span><span class="op" id="7621572">,</span>&nbsp;<span class="ident" id="7621574">s</span><span class="op" id="7621575">,</span>&nbsp;<span class="num" id="7621577">1</span><span class="op" id="7621578">,</span>&nbsp;<span class="ident" id="7621580">s</span><span class="op" id="7621581">.</span><span class="ident" id="7621582">Scan</span><span class="op" id="7621586">(</span><span class="op" id="7621587">)</span><span class="op" id="7621588">,</span>&nbsp;<span class="ident" id="7621590">Ident</span><span class="op" id="7621595">,</span>&nbsp;<span class="string" id="7621597">&#34;a&#34;</span><span class="op" id="7621600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621603">checkTok</span><span class="op" id="7621611">(</span><span class="ident" id="7621612">t</span><span class="op" id="7621613">,</span>&nbsp;<span class="ident" id="7621615">s</span><span class="op" id="7621616">,</span>&nbsp;<span class="num" id="7621618">1</span><span class="op" id="7621619">,</span>&nbsp;<span class="ident" id="7621621">s</span><span class="op" id="7621622">.</span><span class="ident" id="7621623">Scan</span><span class="op" id="7621627">(</span><span class="op" id="7621628">)</span><span class="op" id="7621629">,</span>&nbsp;<span class="string" id="7621631">&#39;=&#39;</span><span class="op" id="7621634">,</span>&nbsp;<span class="string" id="7621636">&#34;=&#34;</span><span class="op" id="7621639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621642">checkTok</span><span class="op" id="7621650">(</span><span class="ident" id="7621651">t</span><span class="op" id="7621652">,</span>&nbsp;<span class="ident" id="7621654">s</span><span class="op" id="7621655">,</span>&nbsp;<span class="num" id="7621657">0</span><span class="op" id="7621658">,</span>&nbsp;<span class="ident" id="7621660">s</span><span class="op" id="7621661">.</span><span class="ident" id="7621662">Next</span><span class="op" id="7621666">(</span><span class="op" id="7621667">)</span><span class="op" id="7621668">,</span>&nbsp;<span class="string" id="7621670">&#39;=&#39;</span><span class="op" id="7621673">,</span>&nbsp;<span class="string" id="7621675">&#34;&#34;</span><span class="op" id="7621677">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621680">checkTok</span><span class="op" id="7621688">(</span><span class="ident" id="7621689">t</span><span class="op" id="7621690">,</span>&nbsp;<span class="ident" id="7621692">s</span><span class="op" id="7621693">,</span>&nbsp;<span class="num" id="7621695">0</span><span class="op" id="7621696">,</span>&nbsp;<span class="ident" id="7621698">s</span><span class="op" id="7621699">.</span><span class="ident" id="7621700">Next</span><span class="op" id="7621704">(</span><span class="op" id="7621705">)</span><span class="op" id="7621706">,</span>&nbsp;<span class="string" id="7621708">&#39;&nbsp;&#39;</span><span class="op" id="7621711">,</span>&nbsp;<span class="string" id="7621713">&#34;&#34;</span><span class="op" id="7621715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621718">checkTok</span><span class="op" id="7621726">(</span><span class="ident" id="7621727">t</span><span class="op" id="7621728">,</span>&nbsp;<span class="ident" id="7621730">s</span><span class="op" id="7621731">,</span>&nbsp;<span class="num" id="7621733">0</span><span class="op" id="7621734">,</span>&nbsp;<span class="ident" id="7621736">s</span><span class="op" id="7621737">.</span><span class="ident" id="7621738">Next</span><span class="op" id="7621742">(</span><span class="op" id="7621743">)</span><span class="op" id="7621744">,</span>&nbsp;<span class="string" id="7621746">&#39;b&#39;</span><span class="op" id="7621749">,</span>&nbsp;<span class="string" id="7621751">&#34;&#34;</span><span class="op" id="7621753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621756">checkTok</span><span class="op" id="7621764">(</span><span class="ident" id="7621765">t</span><span class="op" id="7621766">,</span>&nbsp;<span class="ident" id="7621768">s</span><span class="op" id="7621769">,</span>&nbsp;<span class="num" id="7621771">1</span><span class="op" id="7621772">,</span>&nbsp;<span class="ident" id="7621774">s</span><span class="op" id="7621775">.</span><span class="ident" id="7621776">Scan</span><span class="op" id="7621780">(</span><span class="op" id="7621781">)</span><span class="op" id="7621782">,</span>&nbsp;<span class="ident" id="7621784">Ident</span><span class="op" id="7621789">,</span>&nbsp;<span class="string" id="7621791">&#34;cd&#34;</span><span class="op" id="7621795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621798">checkTok</span><span class="op" id="7621806">(</span><span class="ident" id="7621807">t</span><span class="op" id="7621808">,</span>&nbsp;<span class="ident" id="7621810">s</span><span class="op" id="7621811">,</span>&nbsp;<span class="num" id="7621813">1</span><span class="op" id="7621814">,</span>&nbsp;<span class="ident" id="7621816">s</span><span class="op" id="7621817">.</span><span class="ident" id="7621818">Scan</span><span class="op" id="7621822">(</span><span class="op" id="7621823">)</span><span class="op" id="7621824">,</span>&nbsp;<span class="string" id="7621826">&#39;{&#39;</span><span class="op" id="7621829">,</span>&nbsp;<span class="string" id="7621831">&#34;{&#34;</span><span class="op" id="7621834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621837">checkTok</span><span class="op" id="7621845">(</span><span class="ident" id="7621846">t</span><span class="op" id="7621847">,</span>&nbsp;<span class="ident" id="7621849">s</span><span class="op" id="7621850">,</span>&nbsp;<span class="num" id="7621852">2</span><span class="op" id="7621853">,</span>&nbsp;<span class="ident" id="7621855">s</span><span class="op" id="7621856">.</span><span class="ident" id="7621857">Scan</span><span class="op" id="7621861">(</span><span class="op" id="7621862">)</span><span class="op" id="7621863">,</span>&nbsp;<span class="ident" id="7621865">Ident</span><span class="op" id="7621870">,</span>&nbsp;<span class="string" id="7621872">&#34;a&#34;</span><span class="op" id="7621875">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621878">checkTok</span><span class="op" id="7621886">(</span><span class="ident" id="7621887">t</span><span class="op" id="7621888">,</span>&nbsp;<span class="ident" id="7621890">s</span><span class="op" id="7621891">,</span>&nbsp;<span class="num" id="7621893">2</span><span class="op" id="7621894">,</span>&nbsp;<span class="ident" id="7621896">s</span><span class="op" id="7621897">.</span><span class="ident" id="7621898">Scan</span><span class="op" id="7621902">(</span><span class="op" id="7621903">)</span><span class="op" id="7621904">,</span>&nbsp;<span class="string" id="7621906">&#39;+&#39;</span><span class="op" id="7621909">,</span>&nbsp;<span class="string" id="7621911">&#34;+&#34;</span><span class="op" id="7621914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621917">checkTok</span><span class="op" id="7621925">(</span><span class="ident" id="7621926">t</span><span class="op" id="7621927">,</span>&nbsp;<span class="ident" id="7621929">s</span><span class="op" id="7621930">,</span>&nbsp;<span class="num" id="7621932">0</span><span class="op" id="7621933">,</span>&nbsp;<span class="ident" id="7621935">s</span><span class="op" id="7621936">.</span><span class="ident" id="7621937">Next</span><span class="op" id="7621941">(</span><span class="op" id="7621942">)</span><span class="op" id="7621943">,</span>&nbsp;<span class="string" id="7621945">&#39;=&#39;</span><span class="op" id="7621948">,</span>&nbsp;<span class="string" id="7621950">&#34;&#34;</span><span class="op" id="7621952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621955">checkTok</span><span class="op" id="7621963">(</span><span class="ident" id="7621964">t</span><span class="op" id="7621965">,</span>&nbsp;<span class="ident" id="7621967">s</span><span class="op" id="7621968">,</span>&nbsp;<span class="num" id="7621970">2</span><span class="op" id="7621971">,</span>&nbsp;<span class="ident" id="7621973">s</span><span class="op" id="7621974">.</span><span class="ident" id="7621975">Scan</span><span class="op" id="7621979">(</span><span class="op" id="7621980">)</span><span class="op" id="7621981">,</span>&nbsp;<span class="ident" id="7621983">Ident</span><span class="op" id="7621988">,</span>&nbsp;<span class="string" id="7621990">&#34;c&#34;</span><span class="op" id="7621993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7621996">checkTok</span><span class="op" id="7622004">(</span><span class="ident" id="7622005">t</span><span class="op" id="7622006">,</span>&nbsp;<span class="ident" id="7622008">s</span><span class="op" id="7622009">,</span>&nbsp;<span class="num" id="7622011">3</span><span class="op" id="7622012">,</span>&nbsp;<span class="ident" id="7622014">s</span><span class="op" id="7622015">.</span><span class="ident" id="7622016">Scan</span><span class="op" id="7622020">(</span><span class="op" id="7622021">)</span><span class="op" id="7622022">,</span>&nbsp;<span class="string" id="7622024">&#39;}&#39;</span><span class="op" id="7622027">,</span>&nbsp;<span class="string" id="7622029">&#34;}&#34;</span><span class="op" id="7622032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622035">checkTok</span><span class="op" id="7622043">(</span><span class="ident" id="7622044">t</span><span class="op" id="7622045">,</span>&nbsp;<span class="ident" id="7622047">s</span><span class="op" id="7622048">,</span>&nbsp;<span class="num" id="7622050">3</span><span class="op" id="7622051">,</span>&nbsp;<span class="ident" id="7622053">s</span><span class="op" id="7622054">.</span><span class="ident" id="7622055">Scan</span><span class="op" id="7622059">(</span><span class="op" id="7622060">)</span><span class="op" id="7622061">,</span>&nbsp;<span class="ident" id="7622063">BOM</span><span class="op" id="7622066">,</span>&nbsp;<span class="ident" id="7622068">BOMs</span><span class="op" id="7622072">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622075">checkTok</span><span class="op" id="7622083">(</span><span class="ident" id="7622084">t</span><span class="op" id="7622085">,</span>&nbsp;<span class="ident" id="7622087">s</span><span class="op" id="7622088">,</span>&nbsp;<span class="num" id="7622090">3</span><span class="op" id="7622091">,</span>&nbsp;<span class="ident" id="7622093">s</span><span class="op" id="7622094">.</span><span class="ident" id="7622095">Scan</span><span class="op" id="7622099">(</span><span class="op" id="7622100">)</span><span class="op" id="7622101">,</span>&nbsp;<span class="op" id="7622103">-</span><span class="num" id="7622104">1</span><span class="op" id="7622105">,</span>&nbsp;<span class="string" id="7622107">&#34;&#34;</span><span class="op" id="7622109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622112">if</span>&nbsp;<span class="ident" id="7622115">s</span><span class="op" id="7622116">.</span><span class="ident" id="7622117">ErrorCount</span>&nbsp;<span class="op" id="7622128">!=</span>&nbsp;<span class="num" id="7622131">0</span>&nbsp;<span class="op" id="7622133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622137">t</span><span class="op" id="7622138">.</span><span class="ident" id="7622139">Errorf</span><span class="op" id="7622145">(</span><span class="string" id="7622146">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7622157">,</span>&nbsp;<span class="ident" id="7622159">s</span><span class="op" id="7622160">.</span><span class="ident" id="7622161">ErrorCount</span><span class="op" id="7622171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622174">}</span><br>
<span class="lineno"></span><span class="op" id="7622176">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="7622179">func</span>&nbsp;<span class="ident" id="7622184">TestScanWhitespace</span><span class="op" id="7622202">(</span><span class="ident" id="7622203">t</span>&nbsp;<span class="op" id="7622205">*</span><span class="ident" id="7622206">testing</span><span class="op" id="7622213">.</span><span class="ident" id="7622214">T</span><span class="op" id="7622215">)</span>&nbsp;<span class="op" id="7622217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622220">var</span>&nbsp;<span class="ident" id="7622224">buf</span>&nbsp;<span class="ident" id="7622228">bytes</span><span class="op" id="7622233">.</span><span class="ident" id="7622234">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622242">var</span>&nbsp;<span class="ident" id="7622246">ws</span>&nbsp;<span class="builtintype" id="7622249">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7622257">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622302">for</span>&nbsp;<span class="ident" id="7622306">ch</span>&nbsp;<span class="op" id="7622309">:=</span>&nbsp;<span class="builtintype" id="7622312">byte</span><span class="op" id="7622316">(</span><span class="num" id="7622317">1</span><span class="op" id="7622318">)</span><span class="op" id="7622319">;</span>&nbsp;<span class="ident" id="7622321">ch</span>&nbsp;<span class="op" id="7622324">&lt;</span>&nbsp;<span class="string" id="7622326">&#39;&nbsp;&#39;</span><span class="op" id="7622329">;</span>&nbsp;<span class="ident" id="7622331">ch</span><span class="op" id="7622333">++</span>&nbsp;<span class="op" id="7622336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622340">buf</span><span class="op" id="7622343">.</span><span class="ident" id="7622344">WriteByte</span><span class="op" id="7622353">(</span><span class="ident" id="7622354">ch</span><span class="op" id="7622356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622360">ws</span>&nbsp;<span class="op" id="7622363">|=</span>&nbsp;<span class="num" id="7622366">1</span>&nbsp;<span class="op" id="7622368">&lt;&lt;</span>&nbsp;<span class="ident" id="7622371">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622378">const</span>&nbsp;<span class="ident" id="7622384">orig</span>&nbsp;<span class="op" id="7622389">=</span>&nbsp;<span class="string" id="7622391">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622396">buf</span><span class="op" id="7622399">.</span><span class="ident" id="7622400">WriteByte</span><span class="op" id="7622409">(</span><span class="ident" id="7622410">orig</span><span class="op" id="7622414">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622418">s</span>&nbsp;<span class="op" id="7622420">:=</span>&nbsp;<span class="builtinfunc" id="7622423">new</span><span class="op" id="7622426">(</span><span class="ident" id="7622427">Scanner</span><span class="op" id="7622434">)</span><span class="op" id="7622435">.</span><span class="ident" id="7622436">Init</span><span class="op" id="7622440">(</span><span class="op" id="7622441">&amp;</span><span class="ident" id="7622442">buf</span><span class="op" id="7622445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622448">s</span><span class="op" id="7622449">.</span><span class="ident" id="7622450">Mode</span>&nbsp;<span class="op" id="7622455">=</span>&nbsp;<span class="num" id="7622457">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622460">s</span><span class="op" id="7622461">.</span><span class="ident" id="7622462">Whitespace</span>&nbsp;<span class="op" id="7622473">=</span>&nbsp;<span class="ident" id="7622475">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622479">tok</span>&nbsp;<span class="op" id="7622483">:=</span>&nbsp;<span class="ident" id="7622486">s</span><span class="op" id="7622487">.</span><span class="ident" id="7622488">Scan</span><span class="op" id="7622492">(</span><span class="op" id="7622493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622496">if</span>&nbsp;<span class="ident" id="7622499">tok</span>&nbsp;<span class="op" id="7622503">!=</span>&nbsp;<span class="ident" id="7622506">orig</span>&nbsp;<span class="op" id="7622511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622515">t</span><span class="op" id="7622516">.</span><span class="ident" id="7622517">Errorf</span><span class="op" id="7622523">(</span><span class="string" id="7622524">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7622543">,</span>&nbsp;<span class="ident" id="7622545">TokenString</span><span class="op" id="7622556">(</span><span class="ident" id="7622557">tok</span><span class="op" id="7622560">)</span><span class="op" id="7622561">,</span>&nbsp;<span class="ident" id="7622563">TokenString</span><span class="op" id="7622574">(</span><span class="ident" id="7622575">orig</span><span class="op" id="7622579">)</span><span class="op" id="7622580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622583">}</span><br>
<span class="lineno"></span><span class="op" id="7622585">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="7622588">func</span>&nbsp;<span class="ident" id="7622593">testError</span><span class="op" id="7622602">(</span><span class="ident" id="7622603">t</span>&nbsp;<span class="op" id="7622605">*</span><span class="ident" id="7622606">testing</span><span class="op" id="7622613">.</span><span class="ident" id="7622614">T</span><span class="op" id="7622615">,</span>&nbsp;<span class="ident" id="7622617">src</span><span class="op" id="7622620">,</span>&nbsp;<span class="ident" id="7622622">pos</span><span class="op" id="7622625">,</span>&nbsp;<span class="ident" id="7622627">msg</span>&nbsp;<span class="builtintype" id="7622631">string</span><span class="op" id="7622637">,</span>&nbsp;<span class="ident" id="7622639">tok</span>&nbsp;<span class="builtintype" id="7622643">rune</span><span class="op" id="7622647">)</span>&nbsp;<span class="op" id="7622649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622652">s</span>&nbsp;<span class="op" id="7622654">:=</span>&nbsp;<span class="builtinfunc" id="7622657">new</span><span class="op" id="7622660">(</span><span class="ident" id="7622661">Scanner</span><span class="op" id="7622668">)</span><span class="op" id="7622669">.</span><span class="ident" id="7622670">Init</span><span class="op" id="7622674">(</span><span class="ident" id="7622675">strings</span><span class="op" id="7622682">.</span><span class="ident" id="7622683">NewReader</span><span class="op" id="7622692">(</span><span class="ident" id="7622693">src</span><span class="op" id="7622696">)</span><span class="op" id="7622697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622700">errorCalled</span>&nbsp;<span class="op" id="7622712">:=</span>&nbsp;<span class="builtintype" id="7622715">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622722">s</span><span class="op" id="7622723">.</span><span class="ident" id="7622724">Error</span>&nbsp;<span class="op" id="7622730">=</span>&nbsp;<span class="keyword" id="7622732">func</span><span class="op" id="7622736">(</span><span class="ident" id="7622737">s</span>&nbsp;<span class="op" id="7622739">*</span><span class="ident" id="7622740">Scanner</span><span class="op" id="7622747">,</span>&nbsp;<span class="ident" id="7622749">m</span>&nbsp;<span class="builtintype" id="7622751">string</span><span class="op" id="7622757">)</span>&nbsp;<span class="op" id="7622759">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622763">if</span>&nbsp;<span class="op" id="7622766">!</span><span class="ident" id="7622767">errorCalled</span>&nbsp;<span class="op" id="7622779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7622784">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622815">if</span>&nbsp;<span class="ident" id="7622818">p</span>&nbsp;<span class="op" id="7622820">:=</span>&nbsp;<span class="ident" id="7622823">s</span><span class="op" id="7622824">.</span><span class="ident" id="7622825">Pos</span><span class="op" id="7622828">(</span><span class="op" id="7622829">)</span><span class="op" id="7622830">.</span><span class="ident" id="7622831">String</span><span class="op" id="7622837">(</span><span class="op" id="7622838">)</span><span class="op" id="7622839">;</span>&nbsp;<span class="ident" id="7622841">p</span>&nbsp;<span class="op" id="7622843">!=</span>&nbsp;<span class="ident" id="7622846">pos</span>&nbsp;<span class="op" id="7622850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622856">t</span><span class="op" id="7622857">.</span><span class="ident" id="7622858">Errorf</span><span class="op" id="7622864">(</span><span class="string" id="7622865">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7622891">,</span>&nbsp;<span class="ident" id="7622893">p</span><span class="op" id="7622894">,</span>&nbsp;<span class="ident" id="7622896">pos</span><span class="op" id="7622899">,</span>&nbsp;<span class="ident" id="7622901">src</span><span class="op" id="7622904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622909">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7622914">if</span>&nbsp;<span class="ident" id="7622917">m</span>&nbsp;<span class="op" id="7622919">!=</span>&nbsp;<span class="ident" id="7622922">msg</span>&nbsp;<span class="op" id="7622926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622932">t</span><span class="op" id="7622933">.</span><span class="ident" id="7622934">Errorf</span><span class="op" id="7622940">(</span><span class="string" id="7622941">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7622967">,</span>&nbsp;<span class="ident" id="7622969">m</span><span class="op" id="7622970">,</span>&nbsp;<span class="ident" id="7622972">msg</span><span class="op" id="7622975">,</span>&nbsp;<span class="ident" id="7622977">src</span><span class="op" id="7622980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7622985">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7622990">errorCalled</span>&nbsp;<span class="op" id="7623002">=</span>&nbsp;<span class="builtintype" id="7623004">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7623011">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7623014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623017">tk</span>&nbsp;<span class="op" id="7623020">:=</span>&nbsp;<span class="ident" id="7623023">s</span><span class="op" id="7623024">.</span><span class="ident" id="7623025">Scan</span><span class="op" id="7623029">(</span><span class="op" id="7623030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7623033">if</span>&nbsp;<span class="ident" id="7623036">tk</span>&nbsp;<span class="op" id="7623039">!=</span>&nbsp;<span class="ident" id="7623042">tok</span>&nbsp;<span class="op" id="7623046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623050">t</span><span class="op" id="7623051">.</span><span class="ident" id="7623052">Errorf</span><span class="op" id="7623058">(</span><span class="string" id="7623059">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7623085">,</span>&nbsp;<span class="ident" id="7623087">TokenString</span><span class="op" id="7623098">(</span><span class="ident" id="7623099">tk</span><span class="op" id="7623101">)</span><span class="op" id="7623102">,</span>&nbsp;<span class="ident" id="7623104">TokenString</span><span class="op" id="7623115">(</span><span class="ident" id="7623116">tok</span><span class="op" id="7623119">)</span><span class="op" id="7623120">,</span>&nbsp;<span class="ident" id="7623122">src</span><span class="op" id="7623125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7623128">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7623131">if</span>&nbsp;<span class="op" id="7623134">!</span><span class="ident" id="7623135">errorCalled</span>&nbsp;<span class="op" id="7623147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623151">t</span><span class="op" id="7623152">.</span><span class="ident" id="7623153">Errorf</span><span class="op" id="7623159">(</span><span class="string" id="7623160">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7623193">,</span>&nbsp;<span class="ident" id="7623195">src</span><span class="op" id="7623198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7623201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7623204">if</span>&nbsp;<span class="ident" id="7623207">s</span><span class="op" id="7623208">.</span><span class="ident" id="7623209">ErrorCount</span>&nbsp;<span class="op" id="7623220">==</span>&nbsp;<span class="num" id="7623223">0</span>&nbsp;<span class="op" id="7623225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623229">t</span><span class="op" id="7623230">.</span><span class="ident" id="7623231">Errorf</span><span class="op" id="7623237">(</span><span class="string" id="7623238">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7623267">,</span>&nbsp;<span class="ident" id="7623269">s</span><span class="op" id="7623270">.</span><span class="ident" id="7623271">ErrorCount</span><span class="op" id="7623281">,</span>&nbsp;<span class="ident" id="7623283">src</span><span class="op" id="7623286">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7623289">}</span><br>
<span class="lineno"></span><span class="op" id="7623291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7623294">func</span>&nbsp;<span class="ident" id="7623299">TestError</span><span class="op" id="7623308">(</span><span class="ident" id="7623309">t</span>&nbsp;<span class="op" id="7623311">*</span><span class="ident" id="7623312">testing</span><span class="op" id="7623319">.</span><span class="ident" id="7623320">T</span><span class="op" id="7623321">)</span>&nbsp;<span class="op" id="7623323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623326">testError</span><span class="op" id="7623335">(</span><span class="ident" id="7623336">t</span><span class="op" id="7623337">,</span>&nbsp;<span class="string" id="7623339">&#34;\x00&#34;</span><span class="op" id="7623345">,</span>&nbsp;<span class="string" id="7623347">&#34;1:1&#34;</span><span class="op" id="7623352">,</span>&nbsp;<span class="string" id="7623354">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7623377">,</span>&nbsp;<span class="num" id="7623379">0</span><span class="op" id="7623380">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623383">testError</span><span class="op" id="7623392">(</span><span class="ident" id="7623393">t</span><span class="op" id="7623394">,</span>&nbsp;<span class="string" id="7623396">&#34;\x80&#34;</span><span class="op" id="7623402">,</span>&nbsp;<span class="string" id="7623404">&#34;1:1&#34;</span><span class="op" id="7623409">,</span>&nbsp;<span class="string" id="7623411">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7623435">,</span>&nbsp;<span class="ident" id="7623437">utf8</span><span class="op" id="7623441">.</span><span class="ident" id="7623442">RuneError</span><span class="op" id="7623451">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623454">testError</span><span class="op" id="7623463">(</span><span class="ident" id="7623464">t</span><span class="op" id="7623465">,</span>&nbsp;<span class="string" id="7623467">&#34;\xff&#34;</span><span class="op" id="7623473">,</span>&nbsp;<span class="string" id="7623475">&#34;1:1&#34;</span><span class="op" id="7623480">,</span>&nbsp;<span class="string" id="7623482">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7623506">,</span>&nbsp;<span class="ident" id="7623508">utf8</span><span class="op" id="7623512">.</span><span class="ident" id="7623513">RuneError</span><span class="op" id="7623522">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623526">testError</span><span class="op" id="7623535">(</span><span class="ident" id="7623536">t</span><span class="op" id="7623537">,</span>&nbsp;<span class="string" id="7623539">&#34;a\x00&#34;</span><span class="op" id="7623546">,</span>&nbsp;<span class="string" id="7623548">&#34;1:2&#34;</span><span class="op" id="7623553">,</span>&nbsp;<span class="string" id="7623555">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7623578">,</span>&nbsp;<span class="ident" id="7623580">Ident</span><span class="op" id="7623585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623588">testError</span><span class="op" id="7623597">(</span><span class="ident" id="7623598">t</span><span class="op" id="7623599">,</span>&nbsp;<span class="string" id="7623601">&#34;ab\x80&#34;</span><span class="op" id="7623609">,</span>&nbsp;<span class="string" id="7623611">&#34;1:3&#34;</span><span class="op" id="7623616">,</span>&nbsp;<span class="string" id="7623618">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7623642">,</span>&nbsp;<span class="ident" id="7623644">Ident</span><span class="op" id="7623649">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623652">testError</span><span class="op" id="7623661">(</span><span class="ident" id="7623662">t</span><span class="op" id="7623663">,</span>&nbsp;<span class="string" id="7623665">&#34;abc\xff&#34;</span><span class="op" id="7623674">,</span>&nbsp;<span class="string" id="7623676">&#34;1:4&#34;</span><span class="op" id="7623681">,</span>&nbsp;<span class="string" id="7623683">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7623707">,</span>&nbsp;<span class="ident" id="7623709">Ident</span><span class="op" id="7623714">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623718">testError</span><span class="op" id="7623727">(</span><span class="ident" id="7623728">t</span><span class="op" id="7623729">,</span>&nbsp;<span class="string" id="7623731">`&#34;a`</span><span class="op" id="7623735">+</span><span class="string" id="7623736">&#34;\x00&#34;</span><span class="op" id="7623742">,</span>&nbsp;<span class="string" id="7623744">&#34;1:3&#34;</span><span class="op" id="7623749">,</span>&nbsp;<span class="string" id="7623751">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7623774">,</span>&nbsp;<span class="ident" id="7623776">String</span><span class="op" id="7623782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623785">testError</span><span class="op" id="7623794">(</span><span class="ident" id="7623795">t</span><span class="op" id="7623796">,</span>&nbsp;<span class="string" id="7623798">`&#34;ab`</span><span class="op" id="7623803">+</span><span class="string" id="7623804">&#34;\x80&#34;</span><span class="op" id="7623810">,</span>&nbsp;<span class="string" id="7623812">&#34;1:4&#34;</span><span class="op" id="7623817">,</span>&nbsp;<span class="string" id="7623819">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7623843">,</span>&nbsp;<span class="ident" id="7623845">String</span><span class="op" id="7623851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623854">testError</span><span class="op" id="7623863">(</span><span class="ident" id="7623864">t</span><span class="op" id="7623865">,</span>&nbsp;<span class="string" id="7623867">`&#34;abc`</span><span class="op" id="7623873">+</span><span class="string" id="7623874">&#34;\xff&#34;</span><span class="op" id="7623880">,</span>&nbsp;<span class="string" id="7623882">&#34;1:5&#34;</span><span class="op" id="7623887">,</span>&nbsp;<span class="string" id="7623889">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7623913">,</span>&nbsp;<span class="ident" id="7623915">String</span><span class="op" id="7623921">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623925">testError</span><span class="op" id="7623934">(</span><span class="ident" id="7623935">t</span><span class="op" id="7623936">,</span>&nbsp;<span class="string" id="7623938">&#34;`a&#34;</span><span class="op" id="7623942">+</span><span class="string" id="7623943">&#34;\x00&#34;</span><span class="op" id="7623949">,</span>&nbsp;<span class="string" id="7623951">&#34;1:3&#34;</span><span class="op" id="7623956">,</span>&nbsp;<span class="string" id="7623958">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7623981">,</span>&nbsp;<span class="ident" id="7623983">String</span><span class="op" id="7623989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7623992">testError</span><span class="op" id="7624001">(</span><span class="ident" id="7624002">t</span><span class="op" id="7624003">,</span>&nbsp;<span class="string" id="7624005">&#34;`ab&#34;</span><span class="op" id="7624010">+</span><span class="string" id="7624011">&#34;\x80&#34;</span><span class="op" id="7624017">,</span>&nbsp;<span class="string" id="7624019">&#34;1:4&#34;</span><span class="op" id="7624024">,</span>&nbsp;<span class="string" id="7624026">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7624050">,</span>&nbsp;<span class="ident" id="7624052">String</span><span class="op" id="7624058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624061">testError</span><span class="op" id="7624070">(</span><span class="ident" id="7624071">t</span><span class="op" id="7624072">,</span>&nbsp;<span class="string" id="7624074">&#34;`abc&#34;</span><span class="op" id="7624080">+</span><span class="string" id="7624081">&#34;\xff&#34;</span><span class="op" id="7624087">,</span>&nbsp;<span class="string" id="7624089">&#34;1:5&#34;</span><span class="op" id="7624094">,</span>&nbsp;<span class="string" id="7624096">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7624120">,</span>&nbsp;<span class="ident" id="7624122">String</span><span class="op" id="7624128">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624132">testError</span><span class="op" id="7624141">(</span><span class="ident" id="7624142">t</span><span class="op" id="7624143">,</span>&nbsp;<span class="string" id="7624145">`&#39;\&#34;&#39;`</span><span class="op" id="7624151">,</span>&nbsp;<span class="string" id="7624153">&#34;1:3&#34;</span><span class="op" id="7624158">,</span>&nbsp;<span class="string" id="7624160">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7624181">,</span>&nbsp;<span class="ident" id="7624183">Char</span><span class="op" id="7624187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624190">testError</span><span class="op" id="7624199">(</span><span class="ident" id="7624200">t</span><span class="op" id="7624201">,</span>&nbsp;<span class="string" id="7624203">`&#34;\&#39;&#34;`</span><span class="op" id="7624209">,</span>&nbsp;<span class="string" id="7624211">&#34;1:3&#34;</span><span class="op" id="7624216">,</span>&nbsp;<span class="string" id="7624218">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="7624239">,</span>&nbsp;<span class="ident" id="7624241">String</span><span class="op" id="7624247">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624251">testError</span><span class="op" id="7624260">(</span><span class="ident" id="7624261">t</span><span class="op" id="7624262">,</span>&nbsp;<span class="string" id="7624264">`01238`</span><span class="op" id="7624271">,</span>&nbsp;<span class="string" id="7624273">&#34;1:6&#34;</span><span class="op" id="7624278">,</span>&nbsp;<span class="string" id="7624280">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7624302">,</span>&nbsp;<span class="ident" id="7624304">Int</span><span class="op" id="7624307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624310">testError</span><span class="op" id="7624319">(</span><span class="ident" id="7624320">t</span><span class="op" id="7624321">,</span>&nbsp;<span class="string" id="7624323">`01238123`</span><span class="op" id="7624333">,</span>&nbsp;<span class="string" id="7624335">&#34;1:9&#34;</span><span class="op" id="7624340">,</span>&nbsp;<span class="string" id="7624342">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7624364">,</span>&nbsp;<span class="ident" id="7624366">Int</span><span class="op" id="7624369">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624372">testError</span><span class="op" id="7624381">(</span><span class="ident" id="7624382">t</span><span class="op" id="7624383">,</span>&nbsp;<span class="string" id="7624385">`0x`</span><span class="op" id="7624389">,</span>&nbsp;<span class="string" id="7624391">&#34;1:3&#34;</span><span class="op" id="7624396">,</span>&nbsp;<span class="string" id="7624398">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7624426">,</span>&nbsp;<span class="ident" id="7624428">Int</span><span class="op" id="7624431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624434">testError</span><span class="op" id="7624443">(</span><span class="ident" id="7624444">t</span><span class="op" id="7624445">,</span>&nbsp;<span class="string" id="7624447">`0xg`</span><span class="op" id="7624452">,</span>&nbsp;<span class="string" id="7624454">&#34;1:3&#34;</span><span class="op" id="7624459">,</span>&nbsp;<span class="string" id="7624461">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7624489">,</span>&nbsp;<span class="ident" id="7624491">Int</span><span class="op" id="7624494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624497">testError</span><span class="op" id="7624506">(</span><span class="ident" id="7624507">t</span><span class="op" id="7624508">,</span>&nbsp;<span class="string" id="7624510">`&#39;aa&#39;`</span><span class="op" id="7624516">,</span>&nbsp;<span class="string" id="7624518">&#34;1:4&#34;</span><span class="op" id="7624523">,</span>&nbsp;<span class="string" id="7624525">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="7624547">,</span>&nbsp;<span class="ident" id="7624549">Char</span><span class="op" id="7624553">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624557">testError</span><span class="op" id="7624566">(</span><span class="ident" id="7624567">t</span><span class="op" id="7624568">,</span>&nbsp;<span class="string" id="7624570">`&#39;`</span><span class="op" id="7624573">,</span>&nbsp;<span class="string" id="7624575">&#34;1:2&#34;</span><span class="op" id="7624580">,</span>&nbsp;<span class="string" id="7624582">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7624606">,</span>&nbsp;<span class="ident" id="7624608">Char</span><span class="op" id="7624612">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624615">testError</span><span class="op" id="7624624">(</span><span class="ident" id="7624625">t</span><span class="op" id="7624626">,</span>&nbsp;<span class="string" id="7624628">`&#39;`</span><span class="op" id="7624631">+</span><span class="string" id="7624632">&#34;\n&#34;</span><span class="op" id="7624636">,</span>&nbsp;<span class="string" id="7624638">&#34;1:2&#34;</span><span class="op" id="7624643">,</span>&nbsp;<span class="string" id="7624645">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7624669">,</span>&nbsp;<span class="ident" id="7624671">Char</span><span class="op" id="7624675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624678">testError</span><span class="op" id="7624687">(</span><span class="ident" id="7624688">t</span><span class="op" id="7624689">,</span>&nbsp;<span class="string" id="7624691">`&#34;abc`</span><span class="op" id="7624697">,</span>&nbsp;<span class="string" id="7624699">&#34;1:5&#34;</span><span class="op" id="7624704">,</span>&nbsp;<span class="string" id="7624706">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7624730">,</span>&nbsp;<span class="ident" id="7624732">String</span><span class="op" id="7624738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624741">testError</span><span class="op" id="7624750">(</span><span class="ident" id="7624751">t</span><span class="op" id="7624752">,</span>&nbsp;<span class="string" id="7624754">`&#34;abc`</span><span class="op" id="7624760">+</span><span class="string" id="7624761">&#34;\n&#34;</span><span class="op" id="7624765">,</span>&nbsp;<span class="string" id="7624767">&#34;1:5&#34;</span><span class="op" id="7624772">,</span>&nbsp;<span class="string" id="7624774">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7624798">,</span>&nbsp;<span class="ident" id="7624800">String</span><span class="op" id="7624806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624809">testError</span><span class="op" id="7624818">(</span><span class="ident" id="7624819">t</span><span class="op" id="7624820">,</span>&nbsp;<span class="string" id="7624822">&#34;`abc\n&#34;</span><span class="op" id="7624830">,</span>&nbsp;<span class="string" id="7624832">&#34;2:1&#34;</span><span class="op" id="7624837">,</span>&nbsp;<span class="string" id="7624839">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7624863">,</span>&nbsp;<span class="ident" id="7624865">String</span><span class="op" id="7624871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7624874">testError</span><span class="op" id="7624883">(</span><span class="ident" id="7624884">t</span><span class="op" id="7624885">,</span>&nbsp;<span class="string" id="7624887">`/*/`</span><span class="op" id="7624892">,</span>&nbsp;<span class="string" id="7624894">&#34;1:4&#34;</span><span class="op" id="7624899">,</span>&nbsp;<span class="string" id="7624901">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7624925">,</span>&nbsp;<span class="ident" id="7624927">EOF</span><span class="op" id="7624930">)</span><br>
<span class="lineno">485</span><span class="op" id="7624932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7624935">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="7624993">type</span>&nbsp;<span class="ident" id="7624998">errReader</span>&nbsp;<span class="keyword" id="7625008">struct</span><span class="op" id="7625014">{</span><span class="op" id="7625015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="7625018">func</span>&nbsp;<span class="op" id="7625023">(</span><span class="ident" id="7625024">errReader</span><span class="op" id="7625033">)</span>&nbsp;<span class="ident" id="7625035">Read</span><span class="op" id="7625039">(</span><span class="ident" id="7625040">b</span>&nbsp;<span class="op" id="7625042">[</span><span class="op" id="7625043">]</span><span class="builtintype" id="7625044">byte</span><span class="op" id="7625048">)</span>&nbsp;<span class="op" id="7625050">(</span><span class="builtintype" id="7625051">int</span><span class="op" id="7625054">,</span>&nbsp;<span class="builtintype" id="7625056">error</span><span class="op" id="7625061">)</span>&nbsp;<span class="op" id="7625063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7625066">return</span>&nbsp;<span class="num" id="7625073">0</span><span class="op" id="7625074">,</span>&nbsp;<span class="ident" id="7625076">io</span><span class="op" id="7625078">.</span><span class="ident" id="7625079">ErrNoProgress</span>&nbsp;<span class="comment" id="7625093">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="7625126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7625129">func</span>&nbsp;<span class="ident" id="7625134">TestIOError</span><span class="op" id="7625145">(</span><span class="ident" id="7625146">t</span>&nbsp;<span class="op" id="7625148">*</span><span class="ident" id="7625149">testing</span><span class="op" id="7625156">.</span><span class="ident" id="7625157">T</span><span class="op" id="7625158">)</span>&nbsp;<span class="op" id="7625160">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625163">s</span>&nbsp;<span class="op" id="7625165">:=</span>&nbsp;<span class="builtinfunc" id="7625168">new</span><span class="op" id="7625171">(</span><span class="ident" id="7625172">Scanner</span><span class="op" id="7625179">)</span><span class="op" id="7625180">.</span><span class="ident" id="7625181">Init</span><span class="op" id="7625185">(</span><span class="ident" id="7625186">errReader</span><span class="op" id="7625195">{</span><span class="op" id="7625196">}</span><span class="op" id="7625197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625200">errorCalled</span>&nbsp;<span class="op" id="7625212">:=</span>&nbsp;<span class="builtintype" id="7625215">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625222">s</span><span class="op" id="7625223">.</span><span class="ident" id="7625224">Error</span>&nbsp;<span class="op" id="7625230">=</span>&nbsp;<span class="keyword" id="7625232">func</span><span class="op" id="7625236">(</span><span class="ident" id="7625237">s</span>&nbsp;<span class="op" id="7625239">*</span><span class="ident" id="7625240">Scanner</span><span class="op" id="7625247">,</span>&nbsp;<span class="ident" id="7625249">msg</span>&nbsp;<span class="builtintype" id="7625253">string</span><span class="op" id="7625259">)</span>&nbsp;<span class="op" id="7625261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7625265">if</span>&nbsp;<span class="op" id="7625268">!</span><span class="ident" id="7625269">errorCalled</span>&nbsp;<span class="op" id="7625281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7625286">if</span>&nbsp;<span class="ident" id="7625289">want</span>&nbsp;<span class="op" id="7625294">:=</span>&nbsp;<span class="ident" id="7625297">io</span><span class="op" id="7625299">.</span><span class="ident" id="7625300">ErrNoProgress</span><span class="op" id="7625313">.</span><span class="ident" id="7625314">Error</span><span class="op" id="7625319">(</span><span class="op" id="7625320">)</span><span class="op" id="7625321">;</span>&nbsp;<span class="ident" id="7625323">msg</span>&nbsp;<span class="op" id="7625327">!=</span>&nbsp;<span class="ident" id="7625330">want</span>&nbsp;<span class="op" id="7625335">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625341">t</span><span class="op" id="7625342">.</span><span class="ident" id="7625343">Errorf</span><span class="op" id="7625349">(</span><span class="string" id="7625350">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7625369">,</span>&nbsp;<span class="ident" id="7625371">msg</span><span class="op" id="7625374">,</span>&nbsp;<span class="ident" id="7625376">want</span><span class="op" id="7625380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7625385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625390">errorCalled</span>&nbsp;<span class="op" id="7625402">=</span>&nbsp;<span class="builtintype" id="7625404">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7625411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7625414">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625417">tok</span>&nbsp;<span class="op" id="7625421">:=</span>&nbsp;<span class="ident" id="7625424">s</span><span class="op" id="7625425">.</span><span class="ident" id="7625426">Scan</span><span class="op" id="7625430">(</span><span class="op" id="7625431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7625434">if</span>&nbsp;<span class="ident" id="7625437">tok</span>&nbsp;<span class="op" id="7625441">!=</span>&nbsp;<span class="ident" id="7625444">EOF</span>&nbsp;<span class="op" id="7625448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625452">t</span><span class="op" id="7625453">.</span><span class="ident" id="7625454">Errorf</span><span class="op" id="7625460">(</span><span class="string" id="7625461">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="7625481">,</span>&nbsp;<span class="ident" id="7625483">TokenString</span><span class="op" id="7625494">(</span><span class="ident" id="7625495">tok</span><span class="op" id="7625498">)</span><span class="op" id="7625499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7625502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7625505">if</span>&nbsp;<span class="op" id="7625508">!</span><span class="ident" id="7625509">errorCalled</span>&nbsp;<span class="op" id="7625521">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625525">t</span><span class="op" id="7625526">.</span><span class="ident" id="7625527">Errorf</span><span class="op" id="7625533">(</span><span class="string" id="7625534">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="7625560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7625563">}</span><br>
<span class="lineno"></span><span class="op" id="7625565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7625568">func</span>&nbsp;<span class="ident" id="7625573">checkPos</span><span class="op" id="7625581">(</span><span class="ident" id="7625582">t</span>&nbsp;<span class="op" id="7625584">*</span><span class="ident" id="7625585">testing</span><span class="op" id="7625592">.</span><span class="ident" id="7625593">T</span><span class="op" id="7625594">,</span>&nbsp;<span class="ident" id="7625596">got</span><span class="op" id="7625599">,</span>&nbsp;<span class="ident" id="7625601">want</span>&nbsp;<span class="ident" id="7625606">Position</span><span class="op" id="7625614">)</span>&nbsp;<span class="op" id="7625616">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7625619">if</span>&nbsp;<span class="ident" id="7625622">got</span><span class="op" id="7625625">.</span><span class="ident" id="7625626">Offset</span>&nbsp;<span class="op" id="7625633">!=</span>&nbsp;<span class="ident" id="7625636">want</span><span class="op" id="7625640">.</span><span class="ident" id="7625641">Offset</span>&nbsp;<span class="op" id="7625648">||</span>&nbsp;<span class="ident" id="7625651">got</span><span class="op" id="7625654">.</span><span class="ident" id="7625655">Line</span>&nbsp;<span class="op" id="7625660">!=</span>&nbsp;<span class="ident" id="7625663">want</span><span class="op" id="7625667">.</span><span class="ident" id="7625668">Line</span>&nbsp;<span class="op" id="7625673">||</span>&nbsp;<span class="ident" id="7625676">got</span><span class="op" id="7625679">.</span><span class="ident" id="7625680">Column</span>&nbsp;<span class="op" id="7625687">!=</span>&nbsp;<span class="ident" id="7625690">want</span><span class="op" id="7625694">.</span><span class="ident" id="7625695">Column</span>&nbsp;<span class="op" id="7625702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625706">t</span><span class="op" id="7625707">.</span><span class="ident" id="7625708">Errorf</span><span class="op" id="7625714">(</span><span class="string" id="7625715">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="7625771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625776">got</span><span class="op" id="7625779">.</span><span class="ident" id="7625780">Offset</span><span class="op" id="7625786">,</span>&nbsp;<span class="ident" id="7625788">got</span><span class="op" id="7625791">.</span><span class="ident" id="7625792">Line</span><span class="op" id="7625796">,</span>&nbsp;<span class="ident" id="7625798">got</span><span class="op" id="7625801">.</span><span class="ident" id="7625802">Column</span><span class="op" id="7625808">,</span>&nbsp;<span class="ident" id="7625810">want</span><span class="op" id="7625814">.</span><span class="ident" id="7625815">Offset</span><span class="op" id="7625821">,</span>&nbsp;<span class="ident" id="7625823">want</span><span class="op" id="7625827">.</span><span class="ident" id="7625828">Line</span><span class="op" id="7625832">,</span>&nbsp;<span class="ident" id="7625834">want</span><span class="op" id="7625838">.</span><span class="ident" id="7625839">Column</span><span class="op" id="7625845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7625848">}</span><br>
<span class="lineno"></span><span class="op" id="7625850">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="7625853">func</span>&nbsp;<span class="ident" id="7625858">checkNextPos</span><span class="op" id="7625870">(</span><span class="ident" id="7625871">t</span>&nbsp;<span class="op" id="7625873">*</span><span class="ident" id="7625874">testing</span><span class="op" id="7625881">.</span><span class="ident" id="7625882">T</span><span class="op" id="7625883">,</span>&nbsp;<span class="ident" id="7625885">s</span>&nbsp;<span class="op" id="7625887">*</span><span class="ident" id="7625888">Scanner</span><span class="op" id="7625895">,</span>&nbsp;<span class="ident" id="7625897">offset</span><span class="op" id="7625903">,</span>&nbsp;<span class="ident" id="7625905">line</span><span class="op" id="7625909">,</span>&nbsp;<span class="ident" id="7625911">column</span>&nbsp;<span class="builtintype" id="7625918">int</span><span class="op" id="7625921">,</span>&nbsp;<span class="ident" id="7625923">char</span>&nbsp;<span class="builtintype" id="7625928">rune</span><span class="op" id="7625932">)</span>&nbsp;<span class="op" id="7625934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7625937">if</span>&nbsp;<span class="ident" id="7625940">ch</span>&nbsp;<span class="op" id="7625943">:=</span>&nbsp;<span class="ident" id="7625946">s</span><span class="op" id="7625947">.</span><span class="ident" id="7625948">Next</span><span class="op" id="7625952">(</span><span class="op" id="7625953">)</span><span class="op" id="7625954">;</span>&nbsp;<span class="ident" id="7625956">ch</span>&nbsp;<span class="op" id="7625959">!=</span>&nbsp;<span class="ident" id="7625962">char</span>&nbsp;<span class="op" id="7625967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7625971">t</span><span class="op" id="7625972">.</span><span class="ident" id="7625973">Errorf</span><span class="op" id="7625979">(</span><span class="string" id="7625980">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7625998">,</span>&nbsp;<span class="ident" id="7626000">TokenString</span><span class="op" id="7626011">(</span><span class="ident" id="7626012">ch</span><span class="op" id="7626014">)</span><span class="op" id="7626015">,</span>&nbsp;<span class="ident" id="7626017">TokenString</span><span class="op" id="7626028">(</span><span class="ident" id="7626029">char</span><span class="op" id="7626033">)</span><span class="op" id="7626034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7626037">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626040">want</span>&nbsp;<span class="op" id="7626045">:=</span>&nbsp;<span class="ident" id="7626048">Position</span><span class="op" id="7626056">{</span><span class="ident" id="7626057">Offset</span><span class="op" id="7626063">:</span>&nbsp;<span class="ident" id="7626065">offset</span><span class="op" id="7626071">,</span>&nbsp;<span class="ident" id="7626073">Line</span><span class="op" id="7626077">:</span>&nbsp;<span class="ident" id="7626079">line</span><span class="op" id="7626083">,</span>&nbsp;<span class="ident" id="7626085">Column</span><span class="op" id="7626091">:</span>&nbsp;<span class="ident" id="7626093">column</span><span class="op" id="7626099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626102">checkPos</span><span class="op" id="7626110">(</span><span class="ident" id="7626111">t</span><span class="op" id="7626112">,</span>&nbsp;<span class="ident" id="7626114">s</span><span class="op" id="7626115">.</span><span class="ident" id="7626116">Pos</span><span class="op" id="7626119">(</span><span class="op" id="7626120">)</span><span class="op" id="7626121">,</span>&nbsp;<span class="ident" id="7626123">want</span><span class="op" id="7626127">)</span><br>
<span class="lineno"></span><span class="op" id="7626129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7626132">func</span>&nbsp;<span class="ident" id="7626137">checkScanPos</span><span class="op" id="7626149">(</span><span class="ident" id="7626150">t</span>&nbsp;<span class="op" id="7626152">*</span><span class="ident" id="7626153">testing</span><span class="op" id="7626160">.</span><span class="ident" id="7626161">T</span><span class="op" id="7626162">,</span>&nbsp;<span class="ident" id="7626164">s</span>&nbsp;<span class="op" id="7626166">*</span><span class="ident" id="7626167">Scanner</span><span class="op" id="7626174">,</span>&nbsp;<span class="ident" id="7626176">offset</span><span class="op" id="7626182">,</span>&nbsp;<span class="ident" id="7626184">line</span><span class="op" id="7626188">,</span>&nbsp;<span class="ident" id="7626190">column</span>&nbsp;<span class="builtintype" id="7626197">int</span><span class="op" id="7626200">,</span>&nbsp;<span class="ident" id="7626202">char</span>&nbsp;<span class="builtintype" id="7626207">rune</span><span class="op" id="7626211">)</span>&nbsp;<span class="op" id="7626213">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626216">want</span>&nbsp;<span class="op" id="7626221">:=</span>&nbsp;<span class="ident" id="7626224">Position</span><span class="op" id="7626232">{</span><span class="ident" id="7626233">Offset</span><span class="op" id="7626239">:</span>&nbsp;<span class="ident" id="7626241">offset</span><span class="op" id="7626247">,</span>&nbsp;<span class="ident" id="7626249">Line</span><span class="op" id="7626253">:</span>&nbsp;<span class="ident" id="7626255">line</span><span class="op" id="7626259">,</span>&nbsp;<span class="ident" id="7626261">Column</span><span class="op" id="7626267">:</span>&nbsp;<span class="ident" id="7626269">column</span><span class="op" id="7626275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626278">checkPos</span><span class="op" id="7626286">(</span><span class="ident" id="7626287">t</span><span class="op" id="7626288">,</span>&nbsp;<span class="ident" id="7626290">s</span><span class="op" id="7626291">.</span><span class="ident" id="7626292">Pos</span><span class="op" id="7626295">(</span><span class="op" id="7626296">)</span><span class="op" id="7626297">,</span>&nbsp;<span class="ident" id="7626299">want</span><span class="op" id="7626303">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7626306">if</span>&nbsp;<span class="ident" id="7626309">ch</span>&nbsp;<span class="op" id="7626312">:=</span>&nbsp;<span class="ident" id="7626315">s</span><span class="op" id="7626316">.</span><span class="ident" id="7626317">Scan</span><span class="op" id="7626321">(</span><span class="op" id="7626322">)</span><span class="op" id="7626323">;</span>&nbsp;<span class="ident" id="7626325">ch</span>&nbsp;<span class="op" id="7626328">!=</span>&nbsp;<span class="ident" id="7626331">char</span>&nbsp;<span class="op" id="7626336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626340">t</span><span class="op" id="7626341">.</span><span class="ident" id="7626342">Errorf</span><span class="op" id="7626348">(</span><span class="string" id="7626349">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7626367">,</span>&nbsp;<span class="ident" id="7626369">TokenString</span><span class="op" id="7626380">(</span><span class="ident" id="7626381">ch</span><span class="op" id="7626383">)</span><span class="op" id="7626384">,</span>&nbsp;<span class="ident" id="7626386">TokenString</span><span class="op" id="7626397">(</span><span class="ident" id="7626398">char</span><span class="op" id="7626402">)</span><span class="op" id="7626403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7626407">if</span>&nbsp;<span class="builtintype" id="7626410">string</span><span class="op" id="7626416">(</span><span class="ident" id="7626417">ch</span><span class="op" id="7626419">)</span>&nbsp;<span class="op" id="7626421">!=</span>&nbsp;<span class="ident" id="7626424">s</span><span class="op" id="7626425">.</span><span class="ident" id="7626426">TokenText</span><span class="op" id="7626435">(</span><span class="op" id="7626436">)</span>&nbsp;<span class="op" id="7626438">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626443">t</span><span class="op" id="7626444">.</span><span class="ident" id="7626445">Errorf</span><span class="op" id="7626451">(</span><span class="string" id="7626452">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7626471">,</span>&nbsp;<span class="ident" id="7626473">s</span><span class="op" id="7626474">.</span><span class="ident" id="7626475">TokenText</span><span class="op" id="7626484">(</span><span class="op" id="7626485">)</span><span class="op" id="7626486">,</span>&nbsp;<span class="builtintype" id="7626488">string</span><span class="op" id="7626494">(</span><span class="ident" id="7626495">ch</span><span class="op" id="7626497">)</span><span class="op" id="7626498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7626502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7626505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626508">checkPos</span><span class="op" id="7626516">(</span><span class="ident" id="7626517">t</span><span class="op" id="7626518">,</span>&nbsp;<span class="ident" id="7626520">s</span><span class="op" id="7626521">.</span><span class="ident" id="7626522">Position</span><span class="op" id="7626530">,</span>&nbsp;<span class="ident" id="7626532">want</span><span class="op" id="7626536">)</span><br>
<span class="lineno"></span><span class="op" id="7626538">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="7626541">func</span>&nbsp;<span class="ident" id="7626546">TestPos</span><span class="op" id="7626553">(</span><span class="ident" id="7626554">t</span>&nbsp;<span class="op" id="7626556">*</span><span class="ident" id="7626557">testing</span><span class="op" id="7626564">.</span><span class="ident" id="7626565">T</span><span class="op" id="7626566">)</span>&nbsp;<span class="op" id="7626568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7626571">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626601">s</span>&nbsp;<span class="op" id="7626603">:=</span>&nbsp;<span class="builtinfunc" id="7626606">new</span><span class="op" id="7626609">(</span><span class="ident" id="7626610">Scanner</span><span class="op" id="7626617">)</span><span class="op" id="7626618">.</span><span class="ident" id="7626619">Init</span><span class="op" id="7626623">(</span><span class="ident" id="7626624">strings</span><span class="op" id="7626631">.</span><span class="ident" id="7626632">NewReader</span><span class="op" id="7626641">(</span><span class="string" id="7626642">&#34;&#34;</span><span class="op" id="7626644">)</span><span class="op" id="7626645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626648">checkPos</span><span class="op" id="7626656">(</span><span class="ident" id="7626657">t</span><span class="op" id="7626658">,</span>&nbsp;<span class="ident" id="7626660">s</span><span class="op" id="7626661">.</span><span class="ident" id="7626662">Pos</span><span class="op" id="7626665">(</span><span class="op" id="7626666">)</span><span class="op" id="7626667">,</span>&nbsp;<span class="ident" id="7626669">Position</span><span class="op" id="7626677">{</span><span class="ident" id="7626678">Offset</span><span class="op" id="7626684">:</span>&nbsp;<span class="num" id="7626686">0</span><span class="op" id="7626687">,</span>&nbsp;<span class="ident" id="7626689">Line</span><span class="op" id="7626693">:</span>&nbsp;<span class="num" id="7626695">1</span><span class="op" id="7626696">,</span>&nbsp;<span class="ident" id="7626698">Column</span><span class="op" id="7626704">:</span>&nbsp;<span class="num" id="7626706">1</span><span class="op" id="7626707">}</span><span class="op" id="7626708">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626711">s</span><span class="op" id="7626712">.</span><span class="ident" id="7626713">Peek</span><span class="op" id="7626717">(</span><span class="op" id="7626718">)</span>&nbsp;<span class="comment" id="7626720">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626757">checkPos</span><span class="op" id="7626765">(</span><span class="ident" id="7626766">t</span><span class="op" id="7626767">,</span>&nbsp;<span class="ident" id="7626769">s</span><span class="op" id="7626770">.</span><span class="ident" id="7626771">Pos</span><span class="op" id="7626774">(</span><span class="op" id="7626775">)</span><span class="op" id="7626776">,</span>&nbsp;<span class="ident" id="7626778">Position</span><span class="op" id="7626786">{</span><span class="ident" id="7626787">Offset</span><span class="op" id="7626793">:</span>&nbsp;<span class="num" id="7626795">0</span><span class="op" id="7626796">,</span>&nbsp;<span class="ident" id="7626798">Line</span><span class="op" id="7626802">:</span>&nbsp;<span class="num" id="7626804">1</span><span class="op" id="7626805">,</span>&nbsp;<span class="ident" id="7626807">Column</span><span class="op" id="7626813">:</span>&nbsp;<span class="num" id="7626815">1</span><span class="op" id="7626816">}</span><span class="op" id="7626817">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7626821">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626865">s</span>&nbsp;<span class="op" id="7626867">=</span>&nbsp;<span class="builtinfunc" id="7626869">new</span><span class="op" id="7626872">(</span><span class="ident" id="7626873">Scanner</span><span class="op" id="7626880">)</span><span class="op" id="7626881">.</span><span class="ident" id="7626882">Init</span><span class="op" id="7626886">(</span><span class="ident" id="7626887">strings</span><span class="op" id="7626894">.</span><span class="ident" id="7626895">NewReader</span><span class="op" id="7626904">(</span><span class="string" id="7626905">&#34;\n&#34;</span><span class="op" id="7626909">)</span><span class="op" id="7626910">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626913">checkPos</span><span class="op" id="7626921">(</span><span class="ident" id="7626922">t</span><span class="op" id="7626923">,</span>&nbsp;<span class="ident" id="7626925">s</span><span class="op" id="7626926">.</span><span class="ident" id="7626927">Pos</span><span class="op" id="7626930">(</span><span class="op" id="7626931">)</span><span class="op" id="7626932">,</span>&nbsp;<span class="ident" id="7626934">Position</span><span class="op" id="7626942">{</span><span class="ident" id="7626943">Offset</span><span class="op" id="7626949">:</span>&nbsp;<span class="num" id="7626951">0</span><span class="op" id="7626952">,</span>&nbsp;<span class="ident" id="7626954">Line</span><span class="op" id="7626958">:</span>&nbsp;<span class="num" id="7626960">1</span><span class="op" id="7626961">,</span>&nbsp;<span class="ident" id="7626963">Column</span><span class="op" id="7626969">:</span>&nbsp;<span class="num" id="7626971">1</span><span class="op" id="7626972">}</span><span class="op" id="7626973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7626976">checkNextPos</span><span class="op" id="7626988">(</span><span class="ident" id="7626989">t</span><span class="op" id="7626990">,</span>&nbsp;<span class="ident" id="7626992">s</span><span class="op" id="7626993">,</span>&nbsp;<span class="num" id="7626995">1</span><span class="op" id="7626996">,</span>&nbsp;<span class="num" id="7626998">2</span><span class="op" id="7626999">,</span>&nbsp;<span class="num" id="7627001">1</span><span class="op" id="7627002">,</span>&nbsp;<span class="string" id="7627004">&#39;\n&#39;</span><span class="op" id="7627008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7627011">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7627049">for</span>&nbsp;<span class="ident" id="7627053">i</span>&nbsp;<span class="op" id="7627055">:=</span>&nbsp;<span class="num" id="7627058">10</span><span class="op" id="7627060">;</span>&nbsp;<span class="ident" id="7627062">i</span>&nbsp;<span class="op" id="7627064">&gt;</span>&nbsp;<span class="num" id="7627066">0</span><span class="op" id="7627067">;</span>&nbsp;<span class="ident" id="7627069">i</span><span class="op" id="7627070">--</span>&nbsp;<span class="op" id="7627073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627077">checkScanPos</span><span class="op" id="7627089">(</span><span class="ident" id="7627090">t</span><span class="op" id="7627091">,</span>&nbsp;<span class="ident" id="7627093">s</span><span class="op" id="7627094">,</span>&nbsp;<span class="num" id="7627096">1</span><span class="op" id="7627097">,</span>&nbsp;<span class="num" id="7627099">2</span><span class="op" id="7627100">,</span>&nbsp;<span class="num" id="7627102">1</span><span class="op" id="7627103">,</span>&nbsp;<span class="ident" id="7627105">EOF</span><span class="op" id="7627108">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7627111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7627114">if</span>&nbsp;<span class="ident" id="7627117">s</span><span class="op" id="7627118">.</span><span class="ident" id="7627119">ErrorCount</span>&nbsp;<span class="op" id="7627130">!=</span>&nbsp;<span class="num" id="7627133">0</span>&nbsp;<span class="op" id="7627135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627139">t</span><span class="op" id="7627140">.</span><span class="ident" id="7627141">Errorf</span><span class="op" id="7627147">(</span><span class="string" id="7627148">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7627159">,</span>&nbsp;<span class="ident" id="7627161">s</span><span class="op" id="7627162">.</span><span class="ident" id="7627163">ErrorCount</span><span class="op" id="7627173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7627176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7627180">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627233">s</span>&nbsp;<span class="op" id="7627235">=</span>&nbsp;<span class="builtinfunc" id="7627237">new</span><span class="op" id="7627240">(</span><span class="ident" id="7627241">Scanner</span><span class="op" id="7627248">)</span><span class="op" id="7627249">.</span><span class="ident" id="7627250">Init</span><span class="op" id="7627254">(</span><span class="ident" id="7627255">strings</span><span class="op" id="7627262">.</span><span class="ident" id="7627263">NewReader</span><span class="op" id="7627272">(</span><span class="string" id="7627273">&#34;本&#34;</span><span class="op" id="7627278">)</span><span class="op" id="7627279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627282">checkPos</span><span class="op" id="7627290">(</span><span class="ident" id="7627291">t</span><span class="op" id="7627292">,</span>&nbsp;<span class="ident" id="7627294">s</span><span class="op" id="7627295">.</span><span class="ident" id="7627296">Pos</span><span class="op" id="7627299">(</span><span class="op" id="7627300">)</span><span class="op" id="7627301">,</span>&nbsp;<span class="ident" id="7627303">Position</span><span class="op" id="7627311">{</span><span class="ident" id="7627312">Offset</span><span class="op" id="7627318">:</span>&nbsp;<span class="num" id="7627320">0</span><span class="op" id="7627321">,</span>&nbsp;<span class="ident" id="7627323">Line</span><span class="op" id="7627327">:</span>&nbsp;<span class="num" id="7627329">1</span><span class="op" id="7627330">,</span>&nbsp;<span class="ident" id="7627332">Column</span><span class="op" id="7627338">:</span>&nbsp;<span class="num" id="7627340">1</span><span class="op" id="7627341">}</span><span class="op" id="7627342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627345">checkNextPos</span><span class="op" id="7627357">(</span><span class="ident" id="7627358">t</span><span class="op" id="7627359">,</span>&nbsp;<span class="ident" id="7627361">s</span><span class="op" id="7627362">,</span>&nbsp;<span class="num" id="7627364">3</span><span class="op" id="7627365">,</span>&nbsp;<span class="num" id="7627367">1</span><span class="op" id="7627368">,</span>&nbsp;<span class="num" id="7627370">2</span><span class="op" id="7627371">,</span>&nbsp;<span class="string" id="7627373">&#39;本&#39;</span><span class="op" id="7627378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7627381">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7627419">for</span>&nbsp;<span class="ident" id="7627423">i</span>&nbsp;<span class="op" id="7627425">:=</span>&nbsp;<span class="num" id="7627428">10</span><span class="op" id="7627430">;</span>&nbsp;<span class="ident" id="7627432">i</span>&nbsp;<span class="op" id="7627434">&gt;</span>&nbsp;<span class="num" id="7627436">0</span><span class="op" id="7627437">;</span>&nbsp;<span class="ident" id="7627439">i</span><span class="op" id="7627440">--</span>&nbsp;<span class="op" id="7627443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627447">checkScanPos</span><span class="op" id="7627459">(</span><span class="ident" id="7627460">t</span><span class="op" id="7627461">,</span>&nbsp;<span class="ident" id="7627463">s</span><span class="op" id="7627464">,</span>&nbsp;<span class="num" id="7627466">3</span><span class="op" id="7627467">,</span>&nbsp;<span class="num" id="7627469">1</span><span class="op" id="7627470">,</span>&nbsp;<span class="num" id="7627472">2</span><span class="op" id="7627473">,</span>&nbsp;<span class="ident" id="7627475">EOF</span><span class="op" id="7627478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7627481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7627484">if</span>&nbsp;<span class="ident" id="7627487">s</span><span class="op" id="7627488">.</span><span class="ident" id="7627489">ErrorCount</span>&nbsp;<span class="op" id="7627500">!=</span>&nbsp;<span class="num" id="7627503">0</span>&nbsp;<span class="op" id="7627505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627509">t</span><span class="op" id="7627510">.</span><span class="ident" id="7627511">Errorf</span><span class="op" id="7627517">(</span><span class="string" id="7627518">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7627529">,</span>&nbsp;<span class="ident" id="7627531">s</span><span class="op" id="7627532">.</span><span class="ident" id="7627533">ErrorCount</span><span class="op" id="7627543">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7627546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7627550">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627583">s</span>&nbsp;<span class="op" id="7627585">=</span>&nbsp;<span class="builtinfunc" id="7627587">new</span><span class="op" id="7627590">(</span><span class="ident" id="7627591">Scanner</span><span class="op" id="7627598">)</span><span class="op" id="7627599">.</span><span class="ident" id="7627600">Init</span><span class="op" id="7627604">(</span><span class="ident" id="7627605">strings</span><span class="op" id="7627612">.</span><span class="ident" id="7627613">NewReader</span><span class="op" id="7627622">(</span><span class="string" id="7627623">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="7627650">)</span><span class="op" id="7627651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627654">checkNextPos</span><span class="op" id="7627666">(</span><span class="ident" id="7627667">t</span><span class="op" id="7627668">,</span>&nbsp;<span class="ident" id="7627670">s</span><span class="op" id="7627671">,</span>&nbsp;<span class="num" id="7627673">1</span><span class="op" id="7627674">,</span>&nbsp;<span class="num" id="7627676">1</span><span class="op" id="7627677">,</span>&nbsp;<span class="num" id="7627679">2</span><span class="op" id="7627680">,</span>&nbsp;<span class="string" id="7627682">&#39;&nbsp;&#39;</span><span class="op" id="7627685">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627688">s</span><span class="op" id="7627689">.</span><span class="ident" id="7627690">Peek</span><span class="op" id="7627694">(</span><span class="op" id="7627695">)</span>&nbsp;<span class="comment" id="7627697">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627734">checkNextPos</span><span class="op" id="7627746">(</span><span class="ident" id="7627747">t</span><span class="op" id="7627748">,</span>&nbsp;<span class="ident" id="7627750">s</span><span class="op" id="7627751">,</span>&nbsp;<span class="num" id="7627753">2</span><span class="op" id="7627754">,</span>&nbsp;<span class="num" id="7627756">1</span><span class="op" id="7627757">,</span>&nbsp;<span class="num" id="7627759">3</span><span class="op" id="7627760">,</span>&nbsp;<span class="string" id="7627762">&#39;&nbsp;&#39;</span><span class="op" id="7627765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627768">checkNextPos</span><span class="op" id="7627780">(</span><span class="ident" id="7627781">t</span><span class="op" id="7627782">,</span>&nbsp;<span class="ident" id="7627784">s</span><span class="op" id="7627785">,</span>&nbsp;<span class="num" id="7627787">3</span><span class="op" id="7627788">,</span>&nbsp;<span class="num" id="7627790">1</span><span class="op" id="7627791">,</span>&nbsp;<span class="num" id="7627793">4</span><span class="op" id="7627794">,</span>&nbsp;<span class="string" id="7627796">&#39;f&#39;</span><span class="op" id="7627799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627802">checkNextPos</span><span class="op" id="7627814">(</span><span class="ident" id="7627815">t</span><span class="op" id="7627816">,</span>&nbsp;<span class="ident" id="7627818">s</span><span class="op" id="7627819">,</span>&nbsp;<span class="num" id="7627821">4</span><span class="op" id="7627822">,</span>&nbsp;<span class="num" id="7627824">1</span><span class="op" id="7627825">,</span>&nbsp;<span class="num" id="7627827">5</span><span class="op" id="7627828">,</span>&nbsp;<span class="string" id="7627830">&#39;o&#39;</span><span class="op" id="7627833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627836">checkNextPos</span><span class="op" id="7627848">(</span><span class="ident" id="7627849">t</span><span class="op" id="7627850">,</span>&nbsp;<span class="ident" id="7627852">s</span><span class="op" id="7627853">,</span>&nbsp;<span class="num" id="7627855">5</span><span class="op" id="7627856">,</span>&nbsp;<span class="num" id="7627858">1</span><span class="op" id="7627859">,</span>&nbsp;<span class="num" id="7627861">6</span><span class="op" id="7627862">,</span>&nbsp;<span class="string" id="7627864">&#39;o&#39;</span><span class="op" id="7627867">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627870">checkNextPos</span><span class="op" id="7627882">(</span><span class="ident" id="7627883">t</span><span class="op" id="7627884">,</span>&nbsp;<span class="ident" id="7627886">s</span><span class="op" id="7627887">,</span>&nbsp;<span class="num" id="7627889">8</span><span class="op" id="7627890">,</span>&nbsp;<span class="num" id="7627892">1</span><span class="op" id="7627893">,</span>&nbsp;<span class="num" id="7627895">7</span><span class="op" id="7627896">,</span>&nbsp;<span class="string" id="7627898">&#39;६&#39;</span><span class="op" id="7627903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627906">checkNextPos</span><span class="op" id="7627918">(</span><span class="ident" id="7627919">t</span><span class="op" id="7627920">,</span>&nbsp;<span class="ident" id="7627922">s</span><span class="op" id="7627923">,</span>&nbsp;<span class="num" id="7627925">11</span><span class="op" id="7627927">,</span>&nbsp;<span class="num" id="7627929">1</span><span class="op" id="7627930">,</span>&nbsp;<span class="num" id="7627932">8</span><span class="op" id="7627933">,</span>&nbsp;<span class="string" id="7627935">&#39;४&#39;</span><span class="op" id="7627940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627943">checkNextPos</span><span class="op" id="7627955">(</span><span class="ident" id="7627956">t</span><span class="op" id="7627957">,</span>&nbsp;<span class="ident" id="7627959">s</span><span class="op" id="7627960">,</span>&nbsp;<span class="num" id="7627962">12</span><span class="op" id="7627964">,</span>&nbsp;<span class="num" id="7627966">1</span><span class="op" id="7627967">,</span>&nbsp;<span class="num" id="7627969">9</span><span class="op" id="7627970">,</span>&nbsp;<span class="string" id="7627972">&#39;&nbsp;&#39;</span><span class="op" id="7627975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7627978">checkNextPos</span><span class="op" id="7627990">(</span><span class="ident" id="7627991">t</span><span class="op" id="7627992">,</span>&nbsp;<span class="ident" id="7627994">s</span><span class="op" id="7627995">,</span>&nbsp;<span class="num" id="7627997">13</span><span class="op" id="7627999">,</span>&nbsp;<span class="num" id="7628001">1</span><span class="op" id="7628002">,</span>&nbsp;<span class="num" id="7628004">10</span><span class="op" id="7628006">,</span>&nbsp;<span class="string" id="7628008">&#39;&nbsp;&#39;</span><span class="op" id="7628011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628014">checkNextPos</span><span class="op" id="7628026">(</span><span class="ident" id="7628027">t</span><span class="op" id="7628028">,</span>&nbsp;<span class="ident" id="7628030">s</span><span class="op" id="7628031">,</span>&nbsp;<span class="num" id="7628033">14</span><span class="op" id="7628035">,</span>&nbsp;<span class="num" id="7628037">2</span><span class="op" id="7628038">,</span>&nbsp;<span class="num" id="7628040">1</span><span class="op" id="7628041">,</span>&nbsp;<span class="string" id="7628043">&#39;\n&#39;</span><span class="op" id="7628047">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628050">checkNextPos</span><span class="op" id="7628062">(</span><span class="ident" id="7628063">t</span><span class="op" id="7628064">,</span>&nbsp;<span class="ident" id="7628066">s</span><span class="op" id="7628067">,</span>&nbsp;<span class="num" id="7628069">15</span><span class="op" id="7628071">,</span>&nbsp;<span class="num" id="7628073">3</span><span class="op" id="7628074">,</span>&nbsp;<span class="num" id="7628076">1</span><span class="op" id="7628077">,</span>&nbsp;<span class="string" id="7628079">&#39;\n&#39;</span><span class="op" id="7628083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628086">checkNextPos</span><span class="op" id="7628098">(</span><span class="ident" id="7628099">t</span><span class="op" id="7628100">,</span>&nbsp;<span class="ident" id="7628102">s</span><span class="op" id="7628103">,</span>&nbsp;<span class="num" id="7628105">18</span><span class="op" id="7628107">,</span>&nbsp;<span class="num" id="7628109">3</span><span class="op" id="7628110">,</span>&nbsp;<span class="num" id="7628112">2</span><span class="op" id="7628113">,</span>&nbsp;<span class="string" id="7628115">&#39;本&#39;</span><span class="op" id="7628120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628123">checkNextPos</span><span class="op" id="7628135">(</span><span class="ident" id="7628136">t</span><span class="op" id="7628137">,</span>&nbsp;<span class="ident" id="7628139">s</span><span class="op" id="7628140">,</span>&nbsp;<span class="num" id="7628142">21</span><span class="op" id="7628144">,</span>&nbsp;<span class="num" id="7628146">3</span><span class="op" id="7628147">,</span>&nbsp;<span class="num" id="7628149">3</span><span class="op" id="7628150">,</span>&nbsp;<span class="string" id="7628152">&#39;語&#39;</span><span class="op" id="7628157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628160">checkNextPos</span><span class="op" id="7628172">(</span><span class="ident" id="7628173">t</span><span class="op" id="7628174">,</span>&nbsp;<span class="ident" id="7628176">s</span><span class="op" id="7628177">,</span>&nbsp;<span class="num" id="7628179">22</span><span class="op" id="7628181">,</span>&nbsp;<span class="num" id="7628183">4</span><span class="op" id="7628184">,</span>&nbsp;<span class="num" id="7628186">1</span><span class="op" id="7628187">,</span>&nbsp;<span class="string" id="7628189">&#39;\n&#39;</span><span class="op" id="7628193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7628196">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7628234">for</span>&nbsp;<span class="ident" id="7628238">i</span>&nbsp;<span class="op" id="7628240">:=</span>&nbsp;<span class="num" id="7628243">10</span><span class="op" id="7628245">;</span>&nbsp;<span class="ident" id="7628247">i</span>&nbsp;<span class="op" id="7628249">&gt;</span>&nbsp;<span class="num" id="7628251">0</span><span class="op" id="7628252">;</span>&nbsp;<span class="ident" id="7628254">i</span><span class="op" id="7628255">--</span>&nbsp;<span class="op" id="7628258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628262">checkScanPos</span><span class="op" id="7628274">(</span><span class="ident" id="7628275">t</span><span class="op" id="7628276">,</span>&nbsp;<span class="ident" id="7628278">s</span><span class="op" id="7628279">,</span>&nbsp;<span class="num" id="7628281">22</span><span class="op" id="7628283">,</span>&nbsp;<span class="num" id="7628285">4</span><span class="op" id="7628286">,</span>&nbsp;<span class="num" id="7628288">1</span><span class="op" id="7628289">,</span>&nbsp;<span class="ident" id="7628291">EOF</span><span class="op" id="7628294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7628297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7628300">if</span>&nbsp;<span class="ident" id="7628303">s</span><span class="op" id="7628304">.</span><span class="ident" id="7628305">ErrorCount</span>&nbsp;<span class="op" id="7628316">!=</span>&nbsp;<span class="num" id="7628319">0</span>&nbsp;<span class="op" id="7628321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628325">t</span><span class="op" id="7628326">.</span><span class="ident" id="7628327">Errorf</span><span class="op" id="7628333">(</span><span class="string" id="7628334">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7628345">,</span>&nbsp;<span class="ident" id="7628347">s</span><span class="op" id="7628348">.</span><span class="ident" id="7628349">ErrorCount</span><span class="op" id="7628359">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7628362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7628366">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628399">s</span>&nbsp;<span class="op" id="7628401">=</span>&nbsp;<span class="builtinfunc" id="7628403">new</span><span class="op" id="7628406">(</span><span class="ident" id="7628407">Scanner</span><span class="op" id="7628414">)</span><span class="op" id="7628415">.</span><span class="ident" id="7628416">Init</span><span class="op" id="7628420">(</span><span class="ident" id="7628421">strings</span><span class="op" id="7628428">.</span><span class="ident" id="7628429">NewReader</span><span class="op" id="7628438">(</span><span class="string" id="7628439">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="7628457">)</span><span class="op" id="7628458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628461">s</span><span class="op" id="7628462">.</span><span class="ident" id="7628463">Mode</span>&nbsp;<span class="op" id="7628468">=</span>&nbsp;<span class="num" id="7628470">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628473">s</span><span class="op" id="7628474">.</span><span class="ident" id="7628475">Whitespace</span>&nbsp;<span class="op" id="7628486">=</span>&nbsp;<span class="num" id="7628488">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628491">checkScanPos</span><span class="op" id="7628503">(</span><span class="ident" id="7628504">t</span><span class="op" id="7628505">,</span>&nbsp;<span class="ident" id="7628507">s</span><span class="op" id="7628508">,</span>&nbsp;<span class="num" id="7628510">0</span><span class="op" id="7628511">,</span>&nbsp;<span class="num" id="7628513">1</span><span class="op" id="7628514">,</span>&nbsp;<span class="num" id="7628516">1</span><span class="op" id="7628517">,</span>&nbsp;<span class="string" id="7628519">&#39;a&#39;</span><span class="op" id="7628522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628525">s</span><span class="op" id="7628526">.</span><span class="ident" id="7628527">Peek</span><span class="op" id="7628531">(</span><span class="op" id="7628532">)</span>&nbsp;<span class="comment" id="7628534">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628571">checkScanPos</span><span class="op" id="7628583">(</span><span class="ident" id="7628584">t</span><span class="op" id="7628585">,</span>&nbsp;<span class="ident" id="7628587">s</span><span class="op" id="7628588">,</span>&nbsp;<span class="num" id="7628590">1</span><span class="op" id="7628591">,</span>&nbsp;<span class="num" id="7628593">1</span><span class="op" id="7628594">,</span>&nbsp;<span class="num" id="7628596">2</span><span class="op" id="7628597">,</span>&nbsp;<span class="string" id="7628599">&#39;b&#39;</span><span class="op" id="7628602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628605">checkScanPos</span><span class="op" id="7628617">(</span><span class="ident" id="7628618">t</span><span class="op" id="7628619">,</span>&nbsp;<span class="ident" id="7628621">s</span><span class="op" id="7628622">,</span>&nbsp;<span class="num" id="7628624">2</span><span class="op" id="7628625">,</span>&nbsp;<span class="num" id="7628627">1</span><span class="op" id="7628628">,</span>&nbsp;<span class="num" id="7628630">3</span><span class="op" id="7628631">,</span>&nbsp;<span class="string" id="7628633">&#39;c&#39;</span><span class="op" id="7628636">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628639">checkScanPos</span><span class="op" id="7628651">(</span><span class="ident" id="7628652">t</span><span class="op" id="7628653">,</span>&nbsp;<span class="ident" id="7628655">s</span><span class="op" id="7628656">,</span>&nbsp;<span class="num" id="7628658">3</span><span class="op" id="7628659">,</span>&nbsp;<span class="num" id="7628661">1</span><span class="op" id="7628662">,</span>&nbsp;<span class="num" id="7628664">4</span><span class="op" id="7628665">,</span>&nbsp;<span class="string" id="7628667">&#39;\n&#39;</span><span class="op" id="7628671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628674">checkScanPos</span><span class="op" id="7628686">(</span><span class="ident" id="7628687">t</span><span class="op" id="7628688">,</span>&nbsp;<span class="ident" id="7628690">s</span><span class="op" id="7628691">,</span>&nbsp;<span class="num" id="7628693">4</span><span class="op" id="7628694">,</span>&nbsp;<span class="num" id="7628696">2</span><span class="op" id="7628697">,</span>&nbsp;<span class="num" id="7628699">1</span><span class="op" id="7628700">,</span>&nbsp;<span class="string" id="7628702">&#39;本&#39;</span><span class="op" id="7628707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628710">checkScanPos</span><span class="op" id="7628722">(</span><span class="ident" id="7628723">t</span><span class="op" id="7628724">,</span>&nbsp;<span class="ident" id="7628726">s</span><span class="op" id="7628727">,</span>&nbsp;<span class="num" id="7628729">7</span><span class="op" id="7628730">,</span>&nbsp;<span class="num" id="7628732">2</span><span class="op" id="7628733">,</span>&nbsp;<span class="num" id="7628735">2</span><span class="op" id="7628736">,</span>&nbsp;<span class="string" id="7628738">&#39;語&#39;</span><span class="op" id="7628743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628746">checkScanPos</span><span class="op" id="7628758">(</span><span class="ident" id="7628759">t</span><span class="op" id="7628760">,</span>&nbsp;<span class="ident" id="7628762">s</span><span class="op" id="7628763">,</span>&nbsp;<span class="num" id="7628765">10</span><span class="op" id="7628767">,</span>&nbsp;<span class="num" id="7628769">2</span><span class="op" id="7628770">,</span>&nbsp;<span class="num" id="7628772">3</span><span class="op" id="7628773">,</span>&nbsp;<span class="string" id="7628775">&#39;\n&#39;</span><span class="op" id="7628779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628782">checkScanPos</span><span class="op" id="7628794">(</span><span class="ident" id="7628795">t</span><span class="op" id="7628796">,</span>&nbsp;<span class="ident" id="7628798">s</span><span class="op" id="7628799">,</span>&nbsp;<span class="num" id="7628801">11</span><span class="op" id="7628803">,</span>&nbsp;<span class="num" id="7628805">3</span><span class="op" id="7628806">,</span>&nbsp;<span class="num" id="7628808">1</span><span class="op" id="7628809">,</span>&nbsp;<span class="string" id="7628811">&#39;\n&#39;</span><span class="op" id="7628815">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628818">checkScanPos</span><span class="op" id="7628830">(</span><span class="ident" id="7628831">t</span><span class="op" id="7628832">,</span>&nbsp;<span class="ident" id="7628834">s</span><span class="op" id="7628835">,</span>&nbsp;<span class="num" id="7628837">12</span><span class="op" id="7628839">,</span>&nbsp;<span class="num" id="7628841">4</span><span class="op" id="7628842">,</span>&nbsp;<span class="num" id="7628844">1</span><span class="op" id="7628845">,</span>&nbsp;<span class="string" id="7628847">&#39;x&#39;</span><span class="op" id="7628850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7628853">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7628891">for</span>&nbsp;<span class="ident" id="7628895">i</span>&nbsp;<span class="op" id="7628897">:=</span>&nbsp;<span class="num" id="7628900">10</span><span class="op" id="7628902">;</span>&nbsp;<span class="ident" id="7628904">i</span>&nbsp;<span class="op" id="7628906">&gt;</span>&nbsp;<span class="num" id="7628908">0</span><span class="op" id="7628909">;</span>&nbsp;<span class="ident" id="7628911">i</span><span class="op" id="7628912">--</span>&nbsp;<span class="op" id="7628915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628919">checkScanPos</span><span class="op" id="7628931">(</span><span class="ident" id="7628932">t</span><span class="op" id="7628933">,</span>&nbsp;<span class="ident" id="7628935">s</span><span class="op" id="7628936">,</span>&nbsp;<span class="num" id="7628938">13</span><span class="op" id="7628940">,</span>&nbsp;<span class="num" id="7628942">4</span><span class="op" id="7628943">,</span>&nbsp;<span class="num" id="7628945">2</span><span class="op" id="7628946">,</span>&nbsp;<span class="ident" id="7628948">EOF</span><span class="op" id="7628951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7628954">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7628957">if</span>&nbsp;<span class="ident" id="7628960">s</span><span class="op" id="7628961">.</span><span class="ident" id="7628962">ErrorCount</span>&nbsp;<span class="op" id="7628973">!=</span>&nbsp;<span class="num" id="7628976">0</span>&nbsp;<span class="op" id="7628978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7628982">t</span><span class="op" id="7628983">.</span><span class="ident" id="7628984">Errorf</span><span class="op" id="7628990">(</span><span class="string" id="7628991">&#34;%d&nbsp;errors&#34;</span><span class="op" id="7629002">,</span>&nbsp;<span class="ident" id="7629004">s</span><span class="op" id="7629005">.</span><span class="ident" id="7629006">ErrorCount</span><span class="op" id="7629016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7629019">}</span><br>
<span class="lineno"></span><span class="op" id="7629021">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
