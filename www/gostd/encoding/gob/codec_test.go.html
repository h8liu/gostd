<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8281416">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8281471">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8281525">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8281576">package</span>&nbsp;<span class="ident" id="8281584">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8281589">import</span>&nbsp;<span class="op" id="8281596">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281599">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281608">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281618">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281626">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281634">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281647">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281658">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281669">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8281680">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8281687">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8281690">var</span>&nbsp;<span class="ident" id="8281694">doFuzzTests</span>&nbsp;<span class="op" id="8281706">=</span>&nbsp;<span class="ident" id="8281708">flag</span><span class="op" id="8281712">.</span><span class="ident" id="8281713">Bool</span><span class="op" id="8281717">(</span><span class="string" id="8281718">&#34;gob.fuzz&#34;</span><span class="op" id="8281728">,</span>&nbsp;<span class="builtintype" id="8281730">false</span><span class="op" id="8281735">,</span>&nbsp;<span class="string" id="8281737">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="8281788">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8281791">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="8281871">type</span>&nbsp;<span class="ident" id="8281876">EncodeT</span>&nbsp;<span class="keyword" id="8281884">struct</span>&nbsp;<span class="op" id="8281891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281894">x</span>&nbsp;<span class="ident" id="8281896">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8281904">b</span>&nbsp;<span class="op" id="8281906">[</span><span class="op" id="8281907">]</span><span class="builtintype" id="8281908">byte</span><br>
<span class="lineno">25</span><span class="op" id="8281913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8281916">var</span>&nbsp;<span class="ident" id="8281920">encodeT</span>&nbsp;<span class="op" id="8281928">=</span>&nbsp;<span class="op" id="8281930">[</span><span class="op" id="8281931">]</span><span class="ident" id="8281932">EncodeT</span><span class="op" id="8281939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281942">{</span><span class="num" id="8281943">0x00</span><span class="op" id="8281947">,</span>&nbsp;<span class="op" id="8281949">[</span><span class="op" id="8281950">]</span><span class="builtintype" id="8281951">byte</span><span class="op" id="8281955">{</span><span class="num" id="8281956">0x00</span><span class="op" id="8281960">}</span><span class="op" id="8281961">}</span><span class="op" id="8281962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281965">{</span><span class="num" id="8281966">0x0F</span><span class="op" id="8281970">,</span>&nbsp;<span class="op" id="8281972">[</span><span class="op" id="8281973">]</span><span class="builtintype" id="8281974">byte</span><span class="op" id="8281978">{</span><span class="num" id="8281979">0x0F</span><span class="op" id="8281983">}</span><span class="op" id="8281984">}</span><span class="op" id="8281985">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8281988">{</span><span class="num" id="8281989">0xFF</span><span class="op" id="8281993">,</span>&nbsp;<span class="op" id="8281995">[</span><span class="op" id="8281996">]</span><span class="builtintype" id="8281997">byte</span><span class="op" id="8282001">{</span><span class="num" id="8282002">0xFF</span><span class="op" id="8282006">,</span>&nbsp;<span class="num" id="8282008">0xFF</span><span class="op" id="8282012">}</span><span class="op" id="8282013">}</span><span class="op" id="8282014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282017">{</span><span class="num" id="8282018">0xFFFF</span><span class="op" id="8282024">,</span>&nbsp;<span class="op" id="8282026">[</span><span class="op" id="8282027">]</span><span class="builtintype" id="8282028">byte</span><span class="op" id="8282032">{</span><span class="num" id="8282033">0xFE</span><span class="op" id="8282037">,</span>&nbsp;<span class="num" id="8282039">0xFF</span><span class="op" id="8282043">,</span>&nbsp;<span class="num" id="8282045">0xFF</span><span class="op" id="8282049">}</span><span class="op" id="8282050">}</span><span class="op" id="8282051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282054">{</span><span class="num" id="8282055">0xFFFFFF</span><span class="op" id="8282063">,</span>&nbsp;<span class="op" id="8282065">[</span><span class="op" id="8282066">]</span><span class="builtintype" id="8282067">byte</span><span class="op" id="8282071">{</span><span class="num" id="8282072">0xFD</span><span class="op" id="8282076">,</span>&nbsp;<span class="num" id="8282078">0xFF</span><span class="op" id="8282082">,</span>&nbsp;<span class="num" id="8282084">0xFF</span><span class="op" id="8282088">,</span>&nbsp;<span class="num" id="8282090">0xFF</span><span class="op" id="8282094">}</span><span class="op" id="8282095">}</span><span class="op" id="8282096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282099">{</span><span class="num" id="8282100">0xFFFFFFFF</span><span class="op" id="8282110">,</span>&nbsp;<span class="op" id="8282112">[</span><span class="op" id="8282113">]</span><span class="builtintype" id="8282114">byte</span><span class="op" id="8282118">{</span><span class="num" id="8282119">0xFC</span><span class="op" id="8282123">,</span>&nbsp;<span class="num" id="8282125">0xFF</span><span class="op" id="8282129">,</span>&nbsp;<span class="num" id="8282131">0xFF</span><span class="op" id="8282135">,</span>&nbsp;<span class="num" id="8282137">0xFF</span><span class="op" id="8282141">,</span>&nbsp;<span class="num" id="8282143">0xFF</span><span class="op" id="8282147">}</span><span class="op" id="8282148">}</span><span class="op" id="8282149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282152">{</span><span class="num" id="8282153">0xFFFFFFFFFF</span><span class="op" id="8282165">,</span>&nbsp;<span class="op" id="8282167">[</span><span class="op" id="8282168">]</span><span class="builtintype" id="8282169">byte</span><span class="op" id="8282173">{</span><span class="num" id="8282174">0xFB</span><span class="op" id="8282178">,</span>&nbsp;<span class="num" id="8282180">0xFF</span><span class="op" id="8282184">,</span>&nbsp;<span class="num" id="8282186">0xFF</span><span class="op" id="8282190">,</span>&nbsp;<span class="num" id="8282192">0xFF</span><span class="op" id="8282196">,</span>&nbsp;<span class="num" id="8282198">0xFF</span><span class="op" id="8282202">,</span>&nbsp;<span class="num" id="8282204">0xFF</span><span class="op" id="8282208">}</span><span class="op" id="8282209">}</span><span class="op" id="8282210">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282213">{</span><span class="num" id="8282214">0xFFFFFFFFFFFF</span><span class="op" id="8282228">,</span>&nbsp;<span class="op" id="8282230">[</span><span class="op" id="8282231">]</span><span class="builtintype" id="8282232">byte</span><span class="op" id="8282236">{</span><span class="num" id="8282237">0xFA</span><span class="op" id="8282241">,</span>&nbsp;<span class="num" id="8282243">0xFF</span><span class="op" id="8282247">,</span>&nbsp;<span class="num" id="8282249">0xFF</span><span class="op" id="8282253">,</span>&nbsp;<span class="num" id="8282255">0xFF</span><span class="op" id="8282259">,</span>&nbsp;<span class="num" id="8282261">0xFF</span><span class="op" id="8282265">,</span>&nbsp;<span class="num" id="8282267">0xFF</span><span class="op" id="8282271">,</span>&nbsp;<span class="num" id="8282273">0xFF</span><span class="op" id="8282277">}</span><span class="op" id="8282278">}</span><span class="op" id="8282279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282282">{</span><span class="num" id="8282283">0xFFFFFFFFFFFFFF</span><span class="op" id="8282299">,</span>&nbsp;<span class="op" id="8282301">[</span><span class="op" id="8282302">]</span><span class="builtintype" id="8282303">byte</span><span class="op" id="8282307">{</span><span class="num" id="8282308">0xF9</span><span class="op" id="8282312">,</span>&nbsp;<span class="num" id="8282314">0xFF</span><span class="op" id="8282318">,</span>&nbsp;<span class="num" id="8282320">0xFF</span><span class="op" id="8282324">,</span>&nbsp;<span class="num" id="8282326">0xFF</span><span class="op" id="8282330">,</span>&nbsp;<span class="num" id="8282332">0xFF</span><span class="op" id="8282336">,</span>&nbsp;<span class="num" id="8282338">0xFF</span><span class="op" id="8282342">,</span>&nbsp;<span class="num" id="8282344">0xFF</span><span class="op" id="8282348">,</span>&nbsp;<span class="num" id="8282350">0xFF</span><span class="op" id="8282354">}</span><span class="op" id="8282355">}</span><span class="op" id="8282356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282359">{</span><span class="num" id="8282360">0xFFFFFFFFFFFFFFFF</span><span class="op" id="8282378">,</span>&nbsp;<span class="op" id="8282380">[</span><span class="op" id="8282381">]</span><span class="builtintype" id="8282382">byte</span><span class="op" id="8282386">{</span><span class="num" id="8282387">0xF8</span><span class="op" id="8282391">,</span>&nbsp;<span class="num" id="8282393">0xFF</span><span class="op" id="8282397">,</span>&nbsp;<span class="num" id="8282399">0xFF</span><span class="op" id="8282403">,</span>&nbsp;<span class="num" id="8282405">0xFF</span><span class="op" id="8282409">,</span>&nbsp;<span class="num" id="8282411">0xFF</span><span class="op" id="8282415">,</span>&nbsp;<span class="num" id="8282417">0xFF</span><span class="op" id="8282421">,</span>&nbsp;<span class="num" id="8282423">0xFF</span><span class="op" id="8282427">,</span>&nbsp;<span class="num" id="8282429">0xFF</span><span class="op" id="8282433">,</span>&nbsp;<span class="num" id="8282435">0xFF</span><span class="op" id="8282439">}</span><span class="op" id="8282440">}</span><span class="op" id="8282441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282444">{</span><span class="num" id="8282445">0x1111</span><span class="op" id="8282451">,</span>&nbsp;<span class="op" id="8282453">[</span><span class="op" id="8282454">]</span><span class="builtintype" id="8282455">byte</span><span class="op" id="8282459">{</span><span class="num" id="8282460">0xFE</span><span class="op" id="8282464">,</span>&nbsp;<span class="num" id="8282466">0x11</span><span class="op" id="8282470">,</span>&nbsp;<span class="num" id="8282472">0x11</span><span class="op" id="8282476">}</span><span class="op" id="8282477">}</span><span class="op" id="8282478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282481">{</span><span class="num" id="8282482">0x1111111111111111</span><span class="op" id="8282500">,</span>&nbsp;<span class="op" id="8282502">[</span><span class="op" id="8282503">]</span><span class="builtintype" id="8282504">byte</span><span class="op" id="8282508">{</span><span class="num" id="8282509">0xF8</span><span class="op" id="8282513">,</span>&nbsp;<span class="num" id="8282515">0x11</span><span class="op" id="8282519">,</span>&nbsp;<span class="num" id="8282521">0x11</span><span class="op" id="8282525">,</span>&nbsp;<span class="num" id="8282527">0x11</span><span class="op" id="8282531">,</span>&nbsp;<span class="num" id="8282533">0x11</span><span class="op" id="8282537">,</span>&nbsp;<span class="num" id="8282539">0x11</span><span class="op" id="8282543">,</span>&nbsp;<span class="num" id="8282545">0x11</span><span class="op" id="8282549">,</span>&nbsp;<span class="num" id="8282551">0x11</span><span class="op" id="8282555">,</span>&nbsp;<span class="num" id="8282557">0x11</span><span class="op" id="8282561">}</span><span class="op" id="8282562">}</span><span class="op" id="8282563">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282566">{</span><span class="num" id="8282567">0x8888888888888888</span><span class="op" id="8282585">,</span>&nbsp;<span class="op" id="8282587">[</span><span class="op" id="8282588">]</span><span class="builtintype" id="8282589">byte</span><span class="op" id="8282593">{</span><span class="num" id="8282594">0xF8</span><span class="op" id="8282598">,</span>&nbsp;<span class="num" id="8282600">0x88</span><span class="op" id="8282604">,</span>&nbsp;<span class="num" id="8282606">0x88</span><span class="op" id="8282610">,</span>&nbsp;<span class="num" id="8282612">0x88</span><span class="op" id="8282616">,</span>&nbsp;<span class="num" id="8282618">0x88</span><span class="op" id="8282622">,</span>&nbsp;<span class="num" id="8282624">0x88</span><span class="op" id="8282628">,</span>&nbsp;<span class="num" id="8282630">0x88</span><span class="op" id="8282634">,</span>&nbsp;<span class="num" id="8282636">0x88</span><span class="op" id="8282640">,</span>&nbsp;<span class="num" id="8282642">0x88</span><span class="op" id="8282646">}</span><span class="op" id="8282647">}</span><span class="op" id="8282648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8282651">{</span><span class="num" id="8282652">1</span>&nbsp;<span class="op" id="8282654">&lt;&lt;</span>&nbsp;<span class="num" id="8282657">63</span><span class="op" id="8282659">,</span>&nbsp;<span class="op" id="8282661">[</span><span class="op" id="8282662">]</span><span class="builtintype" id="8282663">byte</span><span class="op" id="8282667">{</span><span class="num" id="8282668">0xF8</span><span class="op" id="8282672">,</span>&nbsp;<span class="num" id="8282674">0x80</span><span class="op" id="8282678">,</span>&nbsp;<span class="num" id="8282680">0x00</span><span class="op" id="8282684">,</span>&nbsp;<span class="num" id="8282686">0x00</span><span class="op" id="8282690">,</span>&nbsp;<span class="num" id="8282692">0x00</span><span class="op" id="8282696">,</span>&nbsp;<span class="num" id="8282698">0x00</span><span class="op" id="8282702">,</span>&nbsp;<span class="num" id="8282704">0x00</span><span class="op" id="8282708">,</span>&nbsp;<span class="num" id="8282710">0x00</span><span class="op" id="8282714">,</span>&nbsp;<span class="num" id="8282716">0x00</span><span class="op" id="8282720">}</span><span class="op" id="8282721">}</span><span class="op" id="8282722">,</span><br>
<span class="lineno"></span><span class="op" id="8282724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8282727">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="8282816">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="8282842">func</span>&nbsp;<span class="ident" id="8282847">testError</span><span class="op" id="8282856">(</span><span class="ident" id="8282857">t</span>&nbsp;<span class="op" id="8282859">*</span><span class="ident" id="8282860">testing</span><span class="op" id="8282867">.</span><span class="ident" id="8282868">T</span><span class="op" id="8282869">)</span>&nbsp;<span class="op" id="8282871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8282874">if</span>&nbsp;<span class="ident" id="8282877">e</span>&nbsp;<span class="op" id="8282879">:=</span>&nbsp;<span class="builtinfunc" id="8282882">recover</span><span class="op" id="8282889">(</span><span class="op" id="8282890">)</span><span class="op" id="8282891">;</span>&nbsp;<span class="ident" id="8282893">e</span>&nbsp;<span class="op" id="8282895">!=</span>&nbsp;<span class="ident" id="8282898">nil</span>&nbsp;<span class="op" id="8282902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8282906">t</span><span class="op" id="8282907">.</span><span class="ident" id="8282908">Error</span><span class="op" id="8282913">(</span><span class="ident" id="8282914">e</span><span class="op" id="8282915">.</span><span class="op" id="8282916">(</span><span class="ident" id="8282917">gobError</span><span class="op" id="8282925">)</span><span class="op" id="8282926">.</span><span class="ident" id="8282927">err</span><span class="op" id="8282930">)</span>&nbsp;<span class="comment" id="8282932">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283001">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283004">return</span><br>
<span class="lineno"></span><span class="op" id="8283011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8283014">func</span>&nbsp;<span class="ident" id="8283019">newDecBuffer</span><span class="op" id="8283031">(</span><span class="ident" id="8283032">data</span>&nbsp;<span class="op" id="8283037">[</span><span class="op" id="8283038">]</span><span class="builtintype" id="8283039">byte</span><span class="op" id="8283043">)</span>&nbsp;<span class="op" id="8283045">*</span><span class="ident" id="8283046">decBuffer</span>&nbsp;<span class="op" id="8283056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283059">return</span>&nbsp;<span class="op" id="8283066">&amp;</span><span class="ident" id="8283067">decBuffer</span><span class="op" id="8283076">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283080">data</span><span class="op" id="8283084">:</span>&nbsp;<span class="ident" id="8283086">data</span><span class="op" id="8283090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283093">}</span><br>
<span class="lineno"></span><span class="op" id="8283095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8283098">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="8283157">func</span>&nbsp;<span class="ident" id="8283162">TestUintCodec</span><span class="op" id="8283175">(</span><span class="ident" id="8283176">t</span>&nbsp;<span class="op" id="8283178">*</span><span class="ident" id="8283179">testing</span><span class="op" id="8283186">.</span><span class="ident" id="8283187">T</span><span class="op" id="8283188">)</span>&nbsp;<span class="op" id="8283190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283193">defer</span>&nbsp;<span class="ident" id="8283199">testError</span><span class="op" id="8283208">(</span><span class="ident" id="8283209">t</span><span class="op" id="8283210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283213">b</span>&nbsp;<span class="op" id="8283215">:=</span>&nbsp;<span class="builtinfunc" id="8283218">new</span><span class="op" id="8283221">(</span><span class="ident" id="8283222">encBuffer</span><span class="op" id="8283231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283234">encState</span>&nbsp;<span class="op" id="8283243">:=</span>&nbsp;<span class="ident" id="8283246">newEncoderState</span><span class="op" id="8283261">(</span><span class="ident" id="8283262">b</span><span class="op" id="8283263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283266">for</span>&nbsp;<span class="ident" id="8283270">_</span><span class="op" id="8283271">,</span>&nbsp;<span class="ident" id="8283273">tt</span>&nbsp;<span class="op" id="8283276">:=</span>&nbsp;<span class="keyword" id="8283279">range</span>&nbsp;<span class="ident" id="8283285">encodeT</span>&nbsp;<span class="op" id="8283293">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283297">b</span><span class="op" id="8283298">.</span><span class="ident" id="8283299">Reset</span><span class="op" id="8283304">(</span><span class="op" id="8283305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283309">encState</span><span class="op" id="8283317">.</span><span class="ident" id="8283318">encodeUint</span><span class="op" id="8283328">(</span><span class="ident" id="8283329">tt</span><span class="op" id="8283331">.</span><span class="ident" id="8283332">x</span><span class="op" id="8283333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283337">if</span>&nbsp;<span class="op" id="8283340">!</span><span class="ident" id="8283341">bytes</span><span class="op" id="8283346">.</span><span class="ident" id="8283347">Equal</span><span class="op" id="8283352">(</span><span class="ident" id="8283353">tt</span><span class="op" id="8283355">.</span><span class="ident" id="8283356">b</span><span class="op" id="8283357">,</span>&nbsp;<span class="ident" id="8283359">b</span><span class="op" id="8283360">.</span><span class="ident" id="8283361">Bytes</span><span class="op" id="8283366">(</span><span class="op" id="8283367">)</span><span class="op" id="8283368">)</span>&nbsp;<span class="op" id="8283370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283375">t</span><span class="op" id="8283376">.</span><span class="ident" id="8283377">Errorf</span><span class="op" id="8283383">(</span><span class="string" id="8283384">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8283430">,</span>&nbsp;<span class="ident" id="8283432">tt</span><span class="op" id="8283434">.</span><span class="ident" id="8283435">x</span><span class="op" id="8283436">,</span>&nbsp;<span class="ident" id="8283438">tt</span><span class="op" id="8283440">.</span><span class="ident" id="8283441">b</span><span class="op" id="8283442">,</span>&nbsp;<span class="ident" id="8283444">b</span><span class="op" id="8283445">.</span><span class="ident" id="8283446">Bytes</span><span class="op" id="8283451">(</span><span class="op" id="8283452">)</span><span class="op" id="8283453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283457">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283463">for</span>&nbsp;<span class="ident" id="8283467">u</span>&nbsp;<span class="op" id="8283469">:=</span>&nbsp;<span class="ident" id="8283472">uint64</span><span class="op" id="8283478">(</span><span class="num" id="8283479">0</span><span class="op" id="8283480">)</span><span class="op" id="8283481">;</span>&nbsp;<span class="op" id="8283483">;</span>&nbsp;<span class="ident" id="8283485">u</span>&nbsp;<span class="op" id="8283487">=</span>&nbsp;<span class="op" id="8283489">(</span><span class="ident" id="8283490">u</span>&nbsp;<span class="op" id="8283492">+</span>&nbsp;<span class="num" id="8283494">1</span><span class="op" id="8283495">)</span>&nbsp;<span class="op" id="8283497">*</span>&nbsp;<span class="num" id="8283499">7</span>&nbsp;<span class="op" id="8283501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283505">b</span><span class="op" id="8283506">.</span><span class="ident" id="8283507">Reset</span><span class="op" id="8283512">(</span><span class="op" id="8283513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283517">encState</span><span class="op" id="8283525">.</span><span class="ident" id="8283526">encodeUint</span><span class="op" id="8283536">(</span><span class="ident" id="8283537">u</span><span class="op" id="8283538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283542">decState</span>&nbsp;<span class="op" id="8283551">:=</span>&nbsp;<span class="ident" id="8283554">newDecodeState</span><span class="op" id="8283568">(</span><span class="ident" id="8283569">newDecBuffer</span><span class="op" id="8283581">(</span><span class="ident" id="8283582">b</span><span class="op" id="8283583">.</span><span class="ident" id="8283584">Bytes</span><span class="op" id="8283589">(</span><span class="op" id="8283590">)</span><span class="op" id="8283591">)</span><span class="op" id="8283592">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283596">v</span>&nbsp;<span class="op" id="8283598">:=</span>&nbsp;<span class="ident" id="8283601">decState</span><span class="op" id="8283609">.</span><span class="ident" id="8283610">decodeUint</span><span class="op" id="8283620">(</span><span class="op" id="8283621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283625">if</span>&nbsp;<span class="ident" id="8283628">u</span>&nbsp;<span class="op" id="8283630">!=</span>&nbsp;<span class="ident" id="8283633">v</span>&nbsp;<span class="op" id="8283635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283640">t</span><span class="op" id="8283641">.</span><span class="ident" id="8283642">Errorf</span><span class="op" id="8283648">(</span><span class="string" id="8283649">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8283687">,</span>&nbsp;<span class="ident" id="8283689">u</span><span class="op" id="8283690">,</span>&nbsp;<span class="ident" id="8283692">v</span><span class="op" id="8283693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283701">if</span>&nbsp;<span class="ident" id="8283704">u</span><span class="op" id="8283705">&amp;</span><span class="op" id="8283706">(</span><span class="num" id="8283707">1</span><span class="op" id="8283708">&lt;&lt;</span><span class="num" id="8283710">63</span><span class="op" id="8283712">)</span>&nbsp;<span class="op" id="8283714">!=</span>&nbsp;<span class="num" id="8283717">0</span>&nbsp;<span class="op" id="8283719">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283724">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8283735">}</span><br>
<span class="lineno"></span><span class="op" id="8283737">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8283740">func</span>&nbsp;<span class="ident" id="8283745">verifyInt</span><span class="op" id="8283754">(</span><span class="ident" id="8283755">i</span>&nbsp;<span class="ident" id="8283757">int64</span><span class="op" id="8283762">,</span>&nbsp;<span class="ident" id="8283764">t</span>&nbsp;<span class="op" id="8283766">*</span><span class="ident" id="8283767">testing</span><span class="op" id="8283774">.</span><span class="ident" id="8283775">T</span><span class="op" id="8283776">)</span>&nbsp;<span class="op" id="8283778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283781">defer</span>&nbsp;<span class="ident" id="8283787">testError</span><span class="op" id="8283796">(</span><span class="ident" id="8283797">t</span><span class="op" id="8283798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283801">var</span>&nbsp;<span class="ident" id="8283805">b</span>&nbsp;<span class="op" id="8283807">=</span>&nbsp;<span class="builtinfunc" id="8283809">new</span><span class="op" id="8283812">(</span><span class="ident" id="8283813">encBuffer</span><span class="op" id="8283822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283825">encState</span>&nbsp;<span class="op" id="8283834">:=</span>&nbsp;<span class="ident" id="8283837">newEncoderState</span><span class="op" id="8283852">(</span><span class="ident" id="8283853">b</span><span class="op" id="8283854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283857">encState</span><span class="op" id="8283865">.</span><span class="ident" id="8283866">encodeInt</span><span class="op" id="8283875">(</span><span class="ident" id="8283876">i</span><span class="op" id="8283877">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283880">decState</span>&nbsp;<span class="op" id="8283889">:=</span>&nbsp;<span class="ident" id="8283892">newDecodeState</span><span class="op" id="8283906">(</span><span class="ident" id="8283907">newDecBuffer</span><span class="op" id="8283919">(</span><span class="ident" id="8283920">b</span><span class="op" id="8283921">.</span><span class="ident" id="8283922">Bytes</span><span class="op" id="8283927">(</span><span class="op" id="8283928">)</span><span class="op" id="8283929">)</span><span class="op" id="8283930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283933">decState</span><span class="op" id="8283941">.</span><span class="ident" id="8283942">buf</span>&nbsp;<span class="op" id="8283946">=</span>&nbsp;<span class="builtinfunc" id="8283948">make</span><span class="op" id="8283952">(</span><span class="op" id="8283953">[</span><span class="op" id="8283954">]</span><span class="builtintype" id="8283955">byte</span><span class="op" id="8283959">,</span>&nbsp;<span class="num" id="8283961">8</span><span class="op" id="8283962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8283965">j</span>&nbsp;<span class="op" id="8283967">:=</span>&nbsp;<span class="ident" id="8283970">decState</span><span class="op" id="8283978">.</span><span class="ident" id="8283979">decodeInt</span><span class="op" id="8283988">(</span><span class="op" id="8283989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8283992">if</span>&nbsp;<span class="ident" id="8283995">i</span>&nbsp;<span class="op" id="8283997">!=</span>&nbsp;<span class="ident" id="8284000">j</span>&nbsp;<span class="op" id="8284002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284006">t</span><span class="op" id="8284007">.</span><span class="ident" id="8284008">Errorf</span><span class="op" id="8284014">(</span><span class="string" id="8284015">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8284053">,</span>&nbsp;<span class="ident" id="8284055">uint64</span><span class="op" id="8284061">(</span><span class="ident" id="8284062">i</span><span class="op" id="8284063">)</span><span class="op" id="8284064">,</span>&nbsp;<span class="ident" id="8284066">uint64</span><span class="op" id="8284072">(</span><span class="ident" id="8284073">j</span><span class="op" id="8284074">)</span><span class="op" id="8284075">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284078">}</span><br>
<span class="lineno"></span><span class="op" id="8284080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8284083">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="8284140">func</span>&nbsp;<span class="ident" id="8284145">TestIntCodec</span><span class="op" id="8284157">(</span><span class="ident" id="8284158">t</span>&nbsp;<span class="op" id="8284160">*</span><span class="ident" id="8284161">testing</span><span class="op" id="8284168">.</span><span class="ident" id="8284169">T</span><span class="op" id="8284170">)</span>&nbsp;<span class="op" id="8284172">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284175">for</span>&nbsp;<span class="ident" id="8284179">u</span>&nbsp;<span class="op" id="8284181">:=</span>&nbsp;<span class="ident" id="8284184">uint64</span><span class="op" id="8284190">(</span><span class="num" id="8284191">0</span><span class="op" id="8284192">)</span><span class="op" id="8284193">;</span>&nbsp;<span class="op" id="8284195">;</span>&nbsp;<span class="ident" id="8284197">u</span>&nbsp;<span class="op" id="8284199">=</span>&nbsp;<span class="op" id="8284201">(</span><span class="ident" id="8284202">u</span>&nbsp;<span class="op" id="8284204">+</span>&nbsp;<span class="num" id="8284206">1</span><span class="op" id="8284207">)</span>&nbsp;<span class="op" id="8284209">*</span>&nbsp;<span class="num" id="8284211">7</span>&nbsp;<span class="op" id="8284213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8284217">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284254">i</span>&nbsp;<span class="op" id="8284256">:=</span>&nbsp;<span class="ident" id="8284259">int64</span><span class="op" id="8284264">(</span><span class="ident" id="8284265">u</span><span class="op" id="8284266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284270">verifyInt</span><span class="op" id="8284279">(</span><span class="ident" id="8284280">i</span><span class="op" id="8284281">,</span>&nbsp;<span class="ident" id="8284283">t</span><span class="op" id="8284284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284288">verifyInt</span><span class="op" id="8284297">(</span><span class="op" id="8284298">-</span><span class="ident" id="8284299">i</span><span class="op" id="8284300">,</span>&nbsp;<span class="ident" id="8284302">t</span><span class="op" id="8284303">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284307">verifyInt</span><span class="op" id="8284316">(</span><span class="op" id="8284317">^</span><span class="ident" id="8284318">i</span><span class="op" id="8284319">,</span>&nbsp;<span class="ident" id="8284321">t</span><span class="op" id="8284322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284326">if</span>&nbsp;<span class="ident" id="8284329">u</span><span class="op" id="8284330">&amp;</span><span class="op" id="8284331">(</span><span class="num" id="8284332">1</span><span class="op" id="8284333">&lt;&lt;</span><span class="num" id="8284335">63</span><span class="op" id="8284337">)</span>&nbsp;<span class="op" id="8284339">!=</span>&nbsp;<span class="num" id="8284342">0</span>&nbsp;<span class="op" id="8284344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8284349">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284357">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8284360">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284363">verifyInt</span><span class="op" id="8284372">(</span><span class="op" id="8284373">-</span><span class="num" id="8284374">1</span><span class="op" id="8284375">&lt;&lt;</span><span class="num" id="8284377">63</span><span class="op" id="8284379">,</span>&nbsp;<span class="ident" id="8284381">t</span><span class="op" id="8284382">)</span>&nbsp;<span class="comment" id="8284384">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="8284401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8284404">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8284465">var</span>&nbsp;<span class="ident" id="8284469">boolResult</span>&nbsp;<span class="op" id="8284480">=</span>&nbsp;<span class="op" id="8284482">[</span><span class="op" id="8284483">]</span><span class="builtintype" id="8284484">byte</span><span class="op" id="8284488">{</span><span class="num" id="8284489">0x07</span><span class="op" id="8284493">,</span>&nbsp;<span class="num" id="8284495">0x01</span><span class="op" id="8284499">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="8284502">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8284560">var</span>&nbsp;<span class="ident" id="8284564">signedResult</span>&nbsp;<span class="op" id="8284577">=</span>&nbsp;<span class="op" id="8284579">[</span><span class="op" id="8284580">]</span><span class="builtintype" id="8284581">byte</span><span class="op" id="8284585">{</span><span class="num" id="8284586">0x07</span><span class="op" id="8284590">,</span>&nbsp;<span class="num" id="8284592">2</span>&nbsp;<span class="op" id="8284594">*</span>&nbsp;<span class="num" id="8284596">17</span><span class="op" id="8284598">}</span><br>
<span class="lineno"></span><span class="keyword" id="8284600">var</span>&nbsp;<span class="ident" id="8284604">unsignedResult</span>&nbsp;<span class="op" id="8284619">=</span>&nbsp;<span class="op" id="8284621">[</span><span class="op" id="8284622">]</span><span class="builtintype" id="8284623">byte</span><span class="op" id="8284627">{</span><span class="num" id="8284628">0x07</span><span class="op" id="8284632">,</span>&nbsp;<span class="num" id="8284634">17</span><span class="op" id="8284636">}</span><br>
<span class="lineno"></span><span class="keyword" id="8284638">var</span>&nbsp;<span class="ident" id="8284642">floatResult</span>&nbsp;<span class="op" id="8284654">=</span>&nbsp;<span class="op" id="8284656">[</span><span class="op" id="8284657">]</span><span class="builtintype" id="8284658">byte</span><span class="op" id="8284662">{</span><span class="num" id="8284663">0x07</span><span class="op" id="8284667">,</span>&nbsp;<span class="num" id="8284669">0xFE</span><span class="op" id="8284673">,</span>&nbsp;<span class="num" id="8284675">0x31</span><span class="op" id="8284679">,</span>&nbsp;<span class="num" id="8284681">0x40</span><span class="op" id="8284685">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="8284688">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8284750">var</span>&nbsp;<span class="ident" id="8284754">complexResult</span>&nbsp;<span class="op" id="8284768">=</span>&nbsp;<span class="op" id="8284770">[</span><span class="op" id="8284771">]</span><span class="builtintype" id="8284772">byte</span><span class="op" id="8284776">{</span><span class="num" id="8284777">0x07</span><span class="op" id="8284781">,</span>&nbsp;<span class="num" id="8284783">0xFE</span><span class="op" id="8284787">,</span>&nbsp;<span class="num" id="8284789">0x31</span><span class="op" id="8284793">,</span>&nbsp;<span class="num" id="8284795">0x40</span><span class="op" id="8284799">,</span>&nbsp;<span class="num" id="8284801">0xFE</span><span class="op" id="8284805">,</span>&nbsp;<span class="num" id="8284807">0x33</span><span class="op" id="8284811">,</span>&nbsp;<span class="num" id="8284813">0x40</span><span class="op" id="8284817">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8284820">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="8284874">var</span>&nbsp;<span class="ident" id="8284878">bytesResult</span>&nbsp;<span class="op" id="8284890">=</span>&nbsp;<span class="op" id="8284892">[</span><span class="op" id="8284893">]</span><span class="builtintype" id="8284894">byte</span><span class="op" id="8284898">{</span><span class="num" id="8284899">0x07</span><span class="op" id="8284903">,</span>&nbsp;<span class="num" id="8284905">0x05</span><span class="op" id="8284909">,</span>&nbsp;<span class="string" id="8284911">&#39;h&#39;</span><span class="op" id="8284914">,</span>&nbsp;<span class="string" id="8284916">&#39;e&#39;</span><span class="op" id="8284919">,</span>&nbsp;<span class="string" id="8284921">&#39;l&#39;</span><span class="op" id="8284924">,</span>&nbsp;<span class="string" id="8284926">&#39;l&#39;</span><span class="op" id="8284929">,</span>&nbsp;<span class="string" id="8284931">&#39;o&#39;</span><span class="op" id="8284934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8284937">func</span>&nbsp;<span class="ident" id="8284942">newDecodeState</span><span class="op" id="8284956">(</span><span class="ident" id="8284957">buf</span>&nbsp;<span class="op" id="8284961">*</span><span class="ident" id="8284962">decBuffer</span><span class="op" id="8284971">)</span>&nbsp;<span class="op" id="8284973">*</span><span class="ident" id="8284974">decoderState</span>&nbsp;<span class="op" id="8284987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8284990">d</span>&nbsp;<span class="op" id="8284992">:=</span>&nbsp;<span class="builtinfunc" id="8284995">new</span><span class="op" id="8284998">(</span><span class="ident" id="8284999">decoderState</span><span class="op" id="8285011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285014">d</span><span class="op" id="8285015">.</span><span class="ident" id="8285016">b</span>&nbsp;<span class="op" id="8285018">=</span>&nbsp;<span class="ident" id="8285020">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285025">d</span><span class="op" id="8285026">.</span><span class="ident" id="8285027">buf</span>&nbsp;<span class="op" id="8285031">=</span>&nbsp;<span class="builtinfunc" id="8285033">make</span><span class="op" id="8285037">(</span><span class="op" id="8285038">[</span><span class="op" id="8285039">]</span><span class="builtintype" id="8285040">byte</span><span class="op" id="8285044">,</span>&nbsp;<span class="ident" id="8285046">uint64Size</span><span class="op" id="8285056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285059">return</span>&nbsp;<span class="ident" id="8285066">d</span><br>
<span class="lineno"></span><span class="op" id="8285068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8285071">func</span>&nbsp;<span class="ident" id="8285076">newEncoderState</span><span class="op" id="8285091">(</span><span class="ident" id="8285092">b</span>&nbsp;<span class="op" id="8285094">*</span><span class="ident" id="8285095">encBuffer</span><span class="op" id="8285104">)</span>&nbsp;<span class="op" id="8285106">*</span><span class="ident" id="8285107">encoderState</span>&nbsp;<span class="op" id="8285120">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285123">b</span><span class="op" id="8285124">.</span><span class="ident" id="8285125">Reset</span><span class="op" id="8285130">(</span><span class="op" id="8285131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285134">state</span>&nbsp;<span class="op" id="8285140">:=</span>&nbsp;<span class="op" id="8285143">&amp;</span><span class="ident" id="8285144">encoderState</span><span class="op" id="8285156">{</span><span class="ident" id="8285157">enc</span><span class="op" id="8285160">:</span>&nbsp;<span class="ident" id="8285162">nil</span><span class="op" id="8285165">,</span>&nbsp;<span class="ident" id="8285167">b</span><span class="op" id="8285168">:</span>&nbsp;<span class="ident" id="8285170">b</span><span class="op" id="8285171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285174">state</span><span class="op" id="8285179">.</span><span class="ident" id="8285180">fieldnum</span>&nbsp;<span class="op" id="8285189">=</span>&nbsp;<span class="op" id="8285191">-</span><span class="num" id="8285192">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285195">return</span>&nbsp;<span class="ident" id="8285202">state</span><br>
<span class="lineno"></span><span class="op" id="8285208">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="8285211">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="8285255">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="8285338">func</span>&nbsp;<span class="ident" id="8285343">TestScalarEncInstructions</span><span class="op" id="8285368">(</span><span class="ident" id="8285369">t</span>&nbsp;<span class="op" id="8285371">*</span><span class="ident" id="8285372">testing</span><span class="op" id="8285379">.</span><span class="ident" id="8285380">T</span><span class="op" id="8285381">)</span>&nbsp;<span class="op" id="8285383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285386">var</span>&nbsp;<span class="ident" id="8285390">b</span>&nbsp;<span class="op" id="8285392">=</span>&nbsp;<span class="builtinfunc" id="8285394">new</span><span class="op" id="8285397">(</span><span class="ident" id="8285398">encBuffer</span><span class="op" id="8285407">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8285411">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285424">var</span>&nbsp;<span class="ident" id="8285428">data</span>&nbsp;<span class="builtintype" id="8285433">bool</span>&nbsp;<span class="op" id="8285438">=</span>&nbsp;<span class="builtintype" id="8285440">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285447">instr</span>&nbsp;<span class="op" id="8285453">:=</span>&nbsp;<span class="op" id="8285456">&amp;</span><span class="ident" id="8285457">encInstr</span><span class="op" id="8285465">{</span><span class="ident" id="8285466">encBool</span><span class="op" id="8285473">,</span>&nbsp;<span class="num" id="8285475">6</span><span class="op" id="8285476">,</span>&nbsp;<span class="ident" id="8285478">nil</span><span class="op" id="8285481">,</span>&nbsp;<span class="num" id="8285483">0</span><span class="op" id="8285484">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285488">state</span>&nbsp;<span class="op" id="8285494">:=</span>&nbsp;<span class="ident" id="8285497">newEncoderState</span><span class="op" id="8285512">(</span><span class="ident" id="8285513">b</span><span class="op" id="8285514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285518">instr</span><span class="op" id="8285523">.</span><span class="ident" id="8285524">op</span><span class="op" id="8285526">(</span><span class="ident" id="8285527">instr</span><span class="op" id="8285532">,</span>&nbsp;<span class="ident" id="8285534">state</span><span class="op" id="8285539">,</span>&nbsp;<span class="ident" id="8285541">reflect</span><span class="op" id="8285548">.</span><span class="ident" id="8285549">ValueOf</span><span class="op" id="8285556">(</span><span class="ident" id="8285557">data</span><span class="op" id="8285561">)</span><span class="op" id="8285562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285566">if</span>&nbsp;<span class="op" id="8285569">!</span><span class="ident" id="8285570">bytes</span><span class="op" id="8285575">.</span><span class="ident" id="8285576">Equal</span><span class="op" id="8285581">(</span><span class="ident" id="8285582">boolResult</span><span class="op" id="8285592">,</span>&nbsp;<span class="ident" id="8285594">b</span><span class="op" id="8285595">.</span><span class="ident" id="8285596">Bytes</span><span class="op" id="8285601">(</span><span class="op" id="8285602">)</span><span class="op" id="8285603">)</span>&nbsp;<span class="op" id="8285605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285610">t</span><span class="op" id="8285611">.</span><span class="ident" id="8285612">Errorf</span><span class="op" id="8285618">(</span><span class="string" id="8285619">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8285664">,</span>&nbsp;<span class="ident" id="8285666">boolResult</span><span class="op" id="8285676">,</span>&nbsp;<span class="ident" id="8285678">b</span><span class="op" id="8285679">.</span><span class="ident" id="8285680">Bytes</span><span class="op" id="8285685">(</span><span class="op" id="8285686">)</span><span class="op" id="8285687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285691">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8285698">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285710">b</span><span class="op" id="8285711">.</span><span class="ident" id="8285712">Reset</span><span class="op" id="8285717">(</span><span class="op" id="8285718">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285722">var</span>&nbsp;<span class="ident" id="8285726">data</span>&nbsp;<span class="builtintype" id="8285731">int</span>&nbsp;<span class="op" id="8285735">=</span>&nbsp;<span class="num" id="8285737">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285742">instr</span>&nbsp;<span class="op" id="8285748">:=</span>&nbsp;<span class="op" id="8285751">&amp;</span><span class="ident" id="8285752">encInstr</span><span class="op" id="8285760">{</span><span class="ident" id="8285761">encInt</span><span class="op" id="8285767">,</span>&nbsp;<span class="num" id="8285769">6</span><span class="op" id="8285770">,</span>&nbsp;<span class="ident" id="8285772">nil</span><span class="op" id="8285775">,</span>&nbsp;<span class="num" id="8285777">0</span><span class="op" id="8285778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285782">state</span>&nbsp;<span class="op" id="8285788">:=</span>&nbsp;<span class="ident" id="8285791">newEncoderState</span><span class="op" id="8285806">(</span><span class="ident" id="8285807">b</span><span class="op" id="8285808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285812">instr</span><span class="op" id="8285817">.</span><span class="ident" id="8285818">op</span><span class="op" id="8285820">(</span><span class="ident" id="8285821">instr</span><span class="op" id="8285826">,</span>&nbsp;<span class="ident" id="8285828">state</span><span class="op" id="8285833">,</span>&nbsp;<span class="ident" id="8285835">reflect</span><span class="op" id="8285842">.</span><span class="ident" id="8285843">ValueOf</span><span class="op" id="8285850">(</span><span class="ident" id="8285851">data</span><span class="op" id="8285855">)</span><span class="op" id="8285856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8285860">if</span>&nbsp;<span class="op" id="8285863">!</span><span class="ident" id="8285864">bytes</span><span class="op" id="8285869">.</span><span class="ident" id="8285870">Equal</span><span class="op" id="8285875">(</span><span class="ident" id="8285876">signedResult</span><span class="op" id="8285888">,</span>&nbsp;<span class="ident" id="8285890">b</span><span class="op" id="8285891">.</span><span class="ident" id="8285892">Bytes</span><span class="op" id="8285897">(</span><span class="op" id="8285898">)</span><span class="op" id="8285899">)</span>&nbsp;<span class="op" id="8285901">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8285906">t</span><span class="op" id="8285907">.</span><span class="ident" id="8285908">Errorf</span><span class="op" id="8285914">(</span><span class="string" id="8285915">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8285959">,</span>&nbsp;<span class="ident" id="8285961">signedResult</span><span class="op" id="8285973">,</span>&nbsp;<span class="ident" id="8285975">b</span><span class="op" id="8285976">.</span><span class="ident" id="8285977">Bytes</span><span class="op" id="8285982">(</span><span class="op" id="8285983">)</span><span class="op" id="8285984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8285991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8285995">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286008">b</span><span class="op" id="8286009">.</span><span class="ident" id="8286010">Reset</span><span class="op" id="8286015">(</span><span class="op" id="8286016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286020">var</span>&nbsp;<span class="ident" id="8286024">data</span>&nbsp;<span class="builtintype" id="8286029">uint</span>&nbsp;<span class="op" id="8286034">=</span>&nbsp;<span class="num" id="8286036">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286041">instr</span>&nbsp;<span class="op" id="8286047">:=</span>&nbsp;<span class="op" id="8286050">&amp;</span><span class="ident" id="8286051">encInstr</span><span class="op" id="8286059">{</span><span class="ident" id="8286060">encUint</span><span class="op" id="8286067">,</span>&nbsp;<span class="num" id="8286069">6</span><span class="op" id="8286070">,</span>&nbsp;<span class="ident" id="8286072">nil</span><span class="op" id="8286075">,</span>&nbsp;<span class="num" id="8286077">0</span><span class="op" id="8286078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286082">state</span>&nbsp;<span class="op" id="8286088">:=</span>&nbsp;<span class="ident" id="8286091">newEncoderState</span><span class="op" id="8286106">(</span><span class="ident" id="8286107">b</span><span class="op" id="8286108">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286112">instr</span><span class="op" id="8286117">.</span><span class="ident" id="8286118">op</span><span class="op" id="8286120">(</span><span class="ident" id="8286121">instr</span><span class="op" id="8286126">,</span>&nbsp;<span class="ident" id="8286128">state</span><span class="op" id="8286133">,</span>&nbsp;<span class="ident" id="8286135">reflect</span><span class="op" id="8286142">.</span><span class="ident" id="8286143">ValueOf</span><span class="op" id="8286150">(</span><span class="ident" id="8286151">data</span><span class="op" id="8286155">)</span><span class="op" id="8286156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286160">if</span>&nbsp;<span class="op" id="8286163">!</span><span class="ident" id="8286164">bytes</span><span class="op" id="8286169">.</span><span class="ident" id="8286170">Equal</span><span class="op" id="8286175">(</span><span class="ident" id="8286176">unsignedResult</span><span class="op" id="8286190">,</span>&nbsp;<span class="ident" id="8286192">b</span><span class="op" id="8286193">.</span><span class="ident" id="8286194">Bytes</span><span class="op" id="8286199">(</span><span class="op" id="8286200">)</span><span class="op" id="8286201">)</span>&nbsp;<span class="op" id="8286203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286208">t</span><span class="op" id="8286209">.</span><span class="ident" id="8286210">Errorf</span><span class="op" id="8286216">(</span><span class="string" id="8286217">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8286262">,</span>&nbsp;<span class="ident" id="8286264">unsignedResult</span><span class="op" id="8286278">,</span>&nbsp;<span class="ident" id="8286280">b</span><span class="op" id="8286281">.</span><span class="ident" id="8286282">Bytes</span><span class="op" id="8286287">(</span><span class="op" id="8286288">)</span><span class="op" id="8286289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286296">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8286300">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286313">b</span><span class="op" id="8286314">.</span><span class="ident" id="8286315">Reset</span><span class="op" id="8286320">(</span><span class="op" id="8286321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286325">var</span>&nbsp;<span class="ident" id="8286329">data</span>&nbsp;<span class="builtintype" id="8286334">int8</span>&nbsp;<span class="op" id="8286339">=</span>&nbsp;<span class="num" id="8286341">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286346">instr</span>&nbsp;<span class="op" id="8286352">:=</span>&nbsp;<span class="op" id="8286355">&amp;</span><span class="ident" id="8286356">encInstr</span><span class="op" id="8286364">{</span><span class="ident" id="8286365">encInt</span><span class="op" id="8286371">,</span>&nbsp;<span class="num" id="8286373">6</span><span class="op" id="8286374">,</span>&nbsp;<span class="ident" id="8286376">nil</span><span class="op" id="8286379">,</span>&nbsp;<span class="num" id="8286381">0</span><span class="op" id="8286382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286386">state</span>&nbsp;<span class="op" id="8286392">:=</span>&nbsp;<span class="ident" id="8286395">newEncoderState</span><span class="op" id="8286410">(</span><span class="ident" id="8286411">b</span><span class="op" id="8286412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286416">instr</span><span class="op" id="8286421">.</span><span class="ident" id="8286422">op</span><span class="op" id="8286424">(</span><span class="ident" id="8286425">instr</span><span class="op" id="8286430">,</span>&nbsp;<span class="ident" id="8286432">state</span><span class="op" id="8286437">,</span>&nbsp;<span class="ident" id="8286439">reflect</span><span class="op" id="8286446">.</span><span class="ident" id="8286447">ValueOf</span><span class="op" id="8286454">(</span><span class="ident" id="8286455">data</span><span class="op" id="8286459">)</span><span class="op" id="8286460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286464">if</span>&nbsp;<span class="op" id="8286467">!</span><span class="ident" id="8286468">bytes</span><span class="op" id="8286473">.</span><span class="ident" id="8286474">Equal</span><span class="op" id="8286479">(</span><span class="ident" id="8286480">signedResult</span><span class="op" id="8286492">,</span>&nbsp;<span class="ident" id="8286494">b</span><span class="op" id="8286495">.</span><span class="ident" id="8286496">Bytes</span><span class="op" id="8286501">(</span><span class="op" id="8286502">)</span><span class="op" id="8286503">)</span>&nbsp;<span class="op" id="8286505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286510">t</span><span class="op" id="8286511">.</span><span class="ident" id="8286512">Errorf</span><span class="op" id="8286518">(</span><span class="string" id="8286519">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8286564">,</span>&nbsp;<span class="ident" id="8286566">signedResult</span><span class="op" id="8286578">,</span>&nbsp;<span class="ident" id="8286580">b</span><span class="op" id="8286581">.</span><span class="ident" id="8286582">Bytes</span><span class="op" id="8286587">(</span><span class="op" id="8286588">)</span><span class="op" id="8286589">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8286600">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286610">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286614">b</span><span class="op" id="8286615">.</span><span class="ident" id="8286616">Reset</span><span class="op" id="8286621">(</span><span class="op" id="8286622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286626">var</span>&nbsp;<span class="ident" id="8286630">data</span>&nbsp;<span class="builtintype" id="8286635">uint8</span>&nbsp;<span class="op" id="8286641">=</span>&nbsp;<span class="num" id="8286643">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286648">instr</span>&nbsp;<span class="op" id="8286654">:=</span>&nbsp;<span class="op" id="8286657">&amp;</span><span class="ident" id="8286658">encInstr</span><span class="op" id="8286666">{</span><span class="ident" id="8286667">encUint</span><span class="op" id="8286674">,</span>&nbsp;<span class="num" id="8286676">6</span><span class="op" id="8286677">,</span>&nbsp;<span class="ident" id="8286679">nil</span><span class="op" id="8286682">,</span>&nbsp;<span class="num" id="8286684">0</span><span class="op" id="8286685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286689">state</span>&nbsp;<span class="op" id="8286695">:=</span>&nbsp;<span class="ident" id="8286698">newEncoderState</span><span class="op" id="8286713">(</span><span class="ident" id="8286714">b</span><span class="op" id="8286715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286719">instr</span><span class="op" id="8286724">.</span><span class="ident" id="8286725">op</span><span class="op" id="8286727">(</span><span class="ident" id="8286728">instr</span><span class="op" id="8286733">,</span>&nbsp;<span class="ident" id="8286735">state</span><span class="op" id="8286740">,</span>&nbsp;<span class="ident" id="8286742">reflect</span><span class="op" id="8286749">.</span><span class="ident" id="8286750">ValueOf</span><span class="op" id="8286757">(</span><span class="ident" id="8286758">data</span><span class="op" id="8286762">)</span><span class="op" id="8286763">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286767">if</span>&nbsp;<span class="op" id="8286770">!</span><span class="ident" id="8286771">bytes</span><span class="op" id="8286776">.</span><span class="ident" id="8286777">Equal</span><span class="op" id="8286782">(</span><span class="ident" id="8286783">unsignedResult</span><span class="op" id="8286797">,</span>&nbsp;<span class="ident" id="8286799">b</span><span class="op" id="8286800">.</span><span class="ident" id="8286801">Bytes</span><span class="op" id="8286806">(</span><span class="op" id="8286807">)</span><span class="op" id="8286808">)</span>&nbsp;<span class="op" id="8286810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286815">t</span><span class="op" id="8286816">.</span><span class="ident" id="8286817">Errorf</span><span class="op" id="8286823">(</span><span class="string" id="8286824">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8286870">,</span>&nbsp;<span class="ident" id="8286872">unsignedResult</span><span class="op" id="8286886">,</span>&nbsp;<span class="ident" id="8286888">b</span><span class="op" id="8286889">.</span><span class="ident" id="8286890">Bytes</span><span class="op" id="8286895">(</span><span class="op" id="8286896">)</span><span class="op" id="8286897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8286908">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8286918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286922">b</span><span class="op" id="8286923">.</span><span class="ident" id="8286924">Reset</span><span class="op" id="8286929">(</span><span class="op" id="8286930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8286934">var</span>&nbsp;<span class="ident" id="8286938">data</span>&nbsp;<span class="builtintype" id="8286943">int16</span>&nbsp;<span class="op" id="8286949">=</span>&nbsp;<span class="num" id="8286951">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286956">instr</span>&nbsp;<span class="op" id="8286962">:=</span>&nbsp;<span class="op" id="8286965">&amp;</span><span class="ident" id="8286966">encInstr</span><span class="op" id="8286974">{</span><span class="ident" id="8286975">encInt</span><span class="op" id="8286981">,</span>&nbsp;<span class="num" id="8286983">6</span><span class="op" id="8286984">,</span>&nbsp;<span class="ident" id="8286986">nil</span><span class="op" id="8286989">,</span>&nbsp;<span class="num" id="8286991">0</span><span class="op" id="8286992">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8286996">state</span>&nbsp;<span class="op" id="8287002">:=</span>&nbsp;<span class="ident" id="8287005">newEncoderState</span><span class="op" id="8287020">(</span><span class="ident" id="8287021">b</span><span class="op" id="8287022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287026">instr</span><span class="op" id="8287031">.</span><span class="ident" id="8287032">op</span><span class="op" id="8287034">(</span><span class="ident" id="8287035">instr</span><span class="op" id="8287040">,</span>&nbsp;<span class="ident" id="8287042">state</span><span class="op" id="8287047">,</span>&nbsp;<span class="ident" id="8287049">reflect</span><span class="op" id="8287056">.</span><span class="ident" id="8287057">ValueOf</span><span class="op" id="8287064">(</span><span class="ident" id="8287065">data</span><span class="op" id="8287069">)</span><span class="op" id="8287070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287074">if</span>&nbsp;<span class="op" id="8287077">!</span><span class="ident" id="8287078">bytes</span><span class="op" id="8287083">.</span><span class="ident" id="8287084">Equal</span><span class="op" id="8287089">(</span><span class="ident" id="8287090">signedResult</span><span class="op" id="8287102">,</span>&nbsp;<span class="ident" id="8287104">b</span><span class="op" id="8287105">.</span><span class="ident" id="8287106">Bytes</span><span class="op" id="8287111">(</span><span class="op" id="8287112">)</span><span class="op" id="8287113">)</span>&nbsp;<span class="op" id="8287115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287120">t</span><span class="op" id="8287121">.</span><span class="ident" id="8287122">Errorf</span><span class="op" id="8287128">(</span><span class="string" id="8287129">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8287175">,</span>&nbsp;<span class="ident" id="8287177">signedResult</span><span class="op" id="8287189">,</span>&nbsp;<span class="ident" id="8287191">b</span><span class="op" id="8287192">.</span><span class="ident" id="8287193">Bytes</span><span class="op" id="8287198">(</span><span class="op" id="8287199">)</span><span class="op" id="8287200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287204">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8287211">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287226">b</span><span class="op" id="8287227">.</span><span class="ident" id="8287228">Reset</span><span class="op" id="8287233">(</span><span class="op" id="8287234">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287238">var</span>&nbsp;<span class="ident" id="8287242">data</span>&nbsp;<span class="builtintype" id="8287247">uint16</span>&nbsp;<span class="op" id="8287254">=</span>&nbsp;<span class="num" id="8287256">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287261">instr</span>&nbsp;<span class="op" id="8287267">:=</span>&nbsp;<span class="op" id="8287270">&amp;</span><span class="ident" id="8287271">encInstr</span><span class="op" id="8287279">{</span><span class="ident" id="8287280">encUint</span><span class="op" id="8287287">,</span>&nbsp;<span class="num" id="8287289">6</span><span class="op" id="8287290">,</span>&nbsp;<span class="ident" id="8287292">nil</span><span class="op" id="8287295">,</span>&nbsp;<span class="num" id="8287297">0</span><span class="op" id="8287298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287302">state</span>&nbsp;<span class="op" id="8287308">:=</span>&nbsp;<span class="ident" id="8287311">newEncoderState</span><span class="op" id="8287326">(</span><span class="ident" id="8287327">b</span><span class="op" id="8287328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287332">instr</span><span class="op" id="8287337">.</span><span class="ident" id="8287338">op</span><span class="op" id="8287340">(</span><span class="ident" id="8287341">instr</span><span class="op" id="8287346">,</span>&nbsp;<span class="ident" id="8287348">state</span><span class="op" id="8287353">,</span>&nbsp;<span class="ident" id="8287355">reflect</span><span class="op" id="8287362">.</span><span class="ident" id="8287363">ValueOf</span><span class="op" id="8287370">(</span><span class="ident" id="8287371">data</span><span class="op" id="8287375">)</span><span class="op" id="8287376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287380">if</span>&nbsp;<span class="op" id="8287383">!</span><span class="ident" id="8287384">bytes</span><span class="op" id="8287389">.</span><span class="ident" id="8287390">Equal</span><span class="op" id="8287395">(</span><span class="ident" id="8287396">unsignedResult</span><span class="op" id="8287410">,</span>&nbsp;<span class="ident" id="8287412">b</span><span class="op" id="8287413">.</span><span class="ident" id="8287414">Bytes</span><span class="op" id="8287419">(</span><span class="op" id="8287420">)</span><span class="op" id="8287421">)</span>&nbsp;<span class="op" id="8287423">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287428">t</span><span class="op" id="8287429">.</span><span class="ident" id="8287430">Errorf</span><span class="op" id="8287436">(</span><span class="string" id="8287437">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8287484">,</span>&nbsp;<span class="ident" id="8287486">unsignedResult</span><span class="op" id="8287500">,</span>&nbsp;<span class="ident" id="8287502">b</span><span class="op" id="8287503">.</span><span class="ident" id="8287504">Bytes</span><span class="op" id="8287509">(</span><span class="op" id="8287510">)</span><span class="op" id="8287511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8287522">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287536">b</span><span class="op" id="8287537">.</span><span class="ident" id="8287538">Reset</span><span class="op" id="8287543">(</span><span class="op" id="8287544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287548">var</span>&nbsp;<span class="ident" id="8287552">data</span>&nbsp;<span class="builtintype" id="8287557">int32</span>&nbsp;<span class="op" id="8287563">=</span>&nbsp;<span class="num" id="8287565">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287570">instr</span>&nbsp;<span class="op" id="8287576">:=</span>&nbsp;<span class="op" id="8287579">&amp;</span><span class="ident" id="8287580">encInstr</span><span class="op" id="8287588">{</span><span class="ident" id="8287589">encInt</span><span class="op" id="8287595">,</span>&nbsp;<span class="num" id="8287597">6</span><span class="op" id="8287598">,</span>&nbsp;<span class="ident" id="8287600">nil</span><span class="op" id="8287603">,</span>&nbsp;<span class="num" id="8287605">0</span><span class="op" id="8287606">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287610">state</span>&nbsp;<span class="op" id="8287616">:=</span>&nbsp;<span class="ident" id="8287619">newEncoderState</span><span class="op" id="8287634">(</span><span class="ident" id="8287635">b</span><span class="op" id="8287636">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287640">instr</span><span class="op" id="8287645">.</span><span class="ident" id="8287646">op</span><span class="op" id="8287648">(</span><span class="ident" id="8287649">instr</span><span class="op" id="8287654">,</span>&nbsp;<span class="ident" id="8287656">state</span><span class="op" id="8287661">,</span>&nbsp;<span class="ident" id="8287663">reflect</span><span class="op" id="8287670">.</span><span class="ident" id="8287671">ValueOf</span><span class="op" id="8287678">(</span><span class="ident" id="8287679">data</span><span class="op" id="8287683">)</span><span class="op" id="8287684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287688">if</span>&nbsp;<span class="op" id="8287691">!</span><span class="ident" id="8287692">bytes</span><span class="op" id="8287697">.</span><span class="ident" id="8287698">Equal</span><span class="op" id="8287703">(</span><span class="ident" id="8287704">signedResult</span><span class="op" id="8287716">,</span>&nbsp;<span class="ident" id="8287718">b</span><span class="op" id="8287719">.</span><span class="ident" id="8287720">Bytes</span><span class="op" id="8287725">(</span><span class="op" id="8287726">)</span><span class="op" id="8287727">)</span>&nbsp;<span class="op" id="8287729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287734">t</span><span class="op" id="8287735">.</span><span class="ident" id="8287736">Errorf</span><span class="op" id="8287742">(</span><span class="string" id="8287743">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8287789">,</span>&nbsp;<span class="ident" id="8287791">signedResult</span><span class="op" id="8287803">,</span>&nbsp;<span class="ident" id="8287805">b</span><span class="op" id="8287806">.</span><span class="ident" id="8287807">Bytes</span><span class="op" id="8287812">(</span><span class="op" id="8287813">)</span><span class="op" id="8287814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287821">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8287825">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8287836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287840">b</span><span class="op" id="8287841">.</span><span class="ident" id="8287842">Reset</span><span class="op" id="8287847">(</span><span class="op" id="8287848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287852">var</span>&nbsp;<span class="ident" id="8287856">data</span>&nbsp;<span class="builtintype" id="8287861">uint32</span>&nbsp;<span class="op" id="8287868">=</span>&nbsp;<span class="num" id="8287870">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287875">instr</span>&nbsp;<span class="op" id="8287881">:=</span>&nbsp;<span class="op" id="8287884">&amp;</span><span class="ident" id="8287885">encInstr</span><span class="op" id="8287893">{</span><span class="ident" id="8287894">encUint</span><span class="op" id="8287901">,</span>&nbsp;<span class="num" id="8287903">6</span><span class="op" id="8287904">,</span>&nbsp;<span class="ident" id="8287906">nil</span><span class="op" id="8287909">,</span>&nbsp;<span class="num" id="8287911">0</span><span class="op" id="8287912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287916">state</span>&nbsp;<span class="op" id="8287922">:=</span>&nbsp;<span class="ident" id="8287925">newEncoderState</span><span class="op" id="8287940">(</span><span class="ident" id="8287941">b</span><span class="op" id="8287942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8287946">instr</span><span class="op" id="8287951">.</span><span class="ident" id="8287952">op</span><span class="op" id="8287954">(</span><span class="ident" id="8287955">instr</span><span class="op" id="8287960">,</span>&nbsp;<span class="ident" id="8287962">state</span><span class="op" id="8287967">,</span>&nbsp;<span class="ident" id="8287969">reflect</span><span class="op" id="8287976">.</span><span class="ident" id="8287977">ValueOf</span><span class="op" id="8287984">(</span><span class="ident" id="8287985">data</span><span class="op" id="8287989">)</span><span class="op" id="8287990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8287994">if</span>&nbsp;<span class="op" id="8287997">!</span><span class="ident" id="8287998">bytes</span><span class="op" id="8288003">.</span><span class="ident" id="8288004">Equal</span><span class="op" id="8288009">(</span><span class="ident" id="8288010">unsignedResult</span><span class="op" id="8288024">,</span>&nbsp;<span class="ident" id="8288026">b</span><span class="op" id="8288027">.</span><span class="ident" id="8288028">Bytes</span><span class="op" id="8288033">(</span><span class="op" id="8288034">)</span><span class="op" id="8288035">)</span>&nbsp;<span class="op" id="8288037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288042">t</span><span class="op" id="8288043">.</span><span class="ident" id="8288044">Errorf</span><span class="op" id="8288050">(</span><span class="string" id="8288051">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8288098">,</span>&nbsp;<span class="ident" id="8288100">unsignedResult</span><span class="op" id="8288114">,</span>&nbsp;<span class="ident" id="8288116">b</span><span class="op" id="8288117">.</span><span class="ident" id="8288118">Bytes</span><span class="op" id="8288123">(</span><span class="op" id="8288124">)</span><span class="op" id="8288125">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8288136">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288146">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288150">b</span><span class="op" id="8288151">.</span><span class="ident" id="8288152">Reset</span><span class="op" id="8288157">(</span><span class="op" id="8288158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288162">var</span>&nbsp;<span class="ident" id="8288166">data</span>&nbsp;<span class="ident" id="8288171">int64</span>&nbsp;<span class="op" id="8288177">=</span>&nbsp;<span class="num" id="8288179">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288184">instr</span>&nbsp;<span class="op" id="8288190">:=</span>&nbsp;<span class="op" id="8288193">&amp;</span><span class="ident" id="8288194">encInstr</span><span class="op" id="8288202">{</span><span class="ident" id="8288203">encInt</span><span class="op" id="8288209">,</span>&nbsp;<span class="num" id="8288211">6</span><span class="op" id="8288212">,</span>&nbsp;<span class="ident" id="8288214">nil</span><span class="op" id="8288217">,</span>&nbsp;<span class="num" id="8288219">0</span><span class="op" id="8288220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288224">state</span>&nbsp;<span class="op" id="8288230">:=</span>&nbsp;<span class="ident" id="8288233">newEncoderState</span><span class="op" id="8288248">(</span><span class="ident" id="8288249">b</span><span class="op" id="8288250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288254">instr</span><span class="op" id="8288259">.</span><span class="ident" id="8288260">op</span><span class="op" id="8288262">(</span><span class="ident" id="8288263">instr</span><span class="op" id="8288268">,</span>&nbsp;<span class="ident" id="8288270">state</span><span class="op" id="8288275">,</span>&nbsp;<span class="ident" id="8288277">reflect</span><span class="op" id="8288284">.</span><span class="ident" id="8288285">ValueOf</span><span class="op" id="8288292">(</span><span class="ident" id="8288293">data</span><span class="op" id="8288297">)</span><span class="op" id="8288298">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288302">if</span>&nbsp;<span class="op" id="8288305">!</span><span class="ident" id="8288306">bytes</span><span class="op" id="8288311">.</span><span class="ident" id="8288312">Equal</span><span class="op" id="8288317">(</span><span class="ident" id="8288318">signedResult</span><span class="op" id="8288330">,</span>&nbsp;<span class="ident" id="8288332">b</span><span class="op" id="8288333">.</span><span class="ident" id="8288334">Bytes</span><span class="op" id="8288339">(</span><span class="op" id="8288340">)</span><span class="op" id="8288341">)</span>&nbsp;<span class="op" id="8288343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288348">t</span><span class="op" id="8288349">.</span><span class="ident" id="8288350">Errorf</span><span class="op" id="8288356">(</span><span class="string" id="8288357">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8288403">,</span>&nbsp;<span class="ident" id="8288405">signedResult</span><span class="op" id="8288417">,</span>&nbsp;<span class="ident" id="8288419">b</span><span class="op" id="8288420">.</span><span class="ident" id="8288421">Bytes</span><span class="op" id="8288426">(</span><span class="op" id="8288427">)</span><span class="op" id="8288428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8288439">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288454">b</span><span class="op" id="8288455">.</span><span class="ident" id="8288456">Reset</span><span class="op" id="8288461">(</span><span class="op" id="8288462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288466">var</span>&nbsp;<span class="ident" id="8288470">data</span>&nbsp;<span class="ident" id="8288475">uint64</span>&nbsp;<span class="op" id="8288482">=</span>&nbsp;<span class="num" id="8288484">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288489">instr</span>&nbsp;<span class="op" id="8288495">:=</span>&nbsp;<span class="op" id="8288498">&amp;</span><span class="ident" id="8288499">encInstr</span><span class="op" id="8288507">{</span><span class="ident" id="8288508">encUint</span><span class="op" id="8288515">,</span>&nbsp;<span class="num" id="8288517">6</span><span class="op" id="8288518">,</span>&nbsp;<span class="ident" id="8288520">nil</span><span class="op" id="8288523">,</span>&nbsp;<span class="num" id="8288525">0</span><span class="op" id="8288526">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288530">state</span>&nbsp;<span class="op" id="8288536">:=</span>&nbsp;<span class="ident" id="8288539">newEncoderState</span><span class="op" id="8288554">(</span><span class="ident" id="8288555">b</span><span class="op" id="8288556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288560">instr</span><span class="op" id="8288565">.</span><span class="ident" id="8288566">op</span><span class="op" id="8288568">(</span><span class="ident" id="8288569">instr</span><span class="op" id="8288574">,</span>&nbsp;<span class="ident" id="8288576">state</span><span class="op" id="8288581">,</span>&nbsp;<span class="ident" id="8288583">reflect</span><span class="op" id="8288590">.</span><span class="ident" id="8288591">ValueOf</span><span class="op" id="8288598">(</span><span class="ident" id="8288599">data</span><span class="op" id="8288603">)</span><span class="op" id="8288604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288608">if</span>&nbsp;<span class="op" id="8288611">!</span><span class="ident" id="8288612">bytes</span><span class="op" id="8288617">.</span><span class="ident" id="8288618">Equal</span><span class="op" id="8288623">(</span><span class="ident" id="8288624">unsignedResult</span><span class="op" id="8288638">,</span>&nbsp;<span class="ident" id="8288640">b</span><span class="op" id="8288641">.</span><span class="ident" id="8288642">Bytes</span><span class="op" id="8288647">(</span><span class="op" id="8288648">)</span><span class="op" id="8288649">)</span>&nbsp;<span class="op" id="8288651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288656">t</span><span class="op" id="8288657">.</span><span class="ident" id="8288658">Errorf</span><span class="op" id="8288664">(</span><span class="string" id="8288665">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8288712">,</span>&nbsp;<span class="ident" id="8288714">unsignedResult</span><span class="op" id="8288728">,</span>&nbsp;<span class="ident" id="8288730">b</span><span class="op" id="8288731">.</span><span class="ident" id="8288732">Bytes</span><span class="op" id="8288737">(</span><span class="op" id="8288738">)</span><span class="op" id="8288739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288743">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8288750">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8288762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288766">b</span><span class="op" id="8288767">.</span><span class="ident" id="8288768">Reset</span><span class="op" id="8288773">(</span><span class="op" id="8288774">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288778">var</span>&nbsp;<span class="ident" id="8288782">data</span>&nbsp;<span class="builtintype" id="8288787">float32</span>&nbsp;<span class="op" id="8288795">=</span>&nbsp;<span class="num" id="8288797">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288802">instr</span>&nbsp;<span class="op" id="8288808">:=</span>&nbsp;<span class="op" id="8288811">&amp;</span><span class="ident" id="8288812">encInstr</span><span class="op" id="8288820">{</span><span class="ident" id="8288821">encFloat</span><span class="op" id="8288829">,</span>&nbsp;<span class="num" id="8288831">6</span><span class="op" id="8288832">,</span>&nbsp;<span class="ident" id="8288834">nil</span><span class="op" id="8288837">,</span>&nbsp;<span class="num" id="8288839">0</span><span class="op" id="8288840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288844">state</span>&nbsp;<span class="op" id="8288850">:=</span>&nbsp;<span class="ident" id="8288853">newEncoderState</span><span class="op" id="8288868">(</span><span class="ident" id="8288869">b</span><span class="op" id="8288870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288874">instr</span><span class="op" id="8288879">.</span><span class="ident" id="8288880">op</span><span class="op" id="8288882">(</span><span class="ident" id="8288883">instr</span><span class="op" id="8288888">,</span>&nbsp;<span class="ident" id="8288890">state</span><span class="op" id="8288895">,</span>&nbsp;<span class="ident" id="8288897">reflect</span><span class="op" id="8288904">.</span><span class="ident" id="8288905">ValueOf</span><span class="op" id="8288912">(</span><span class="ident" id="8288913">data</span><span class="op" id="8288917">)</span><span class="op" id="8288918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8288922">if</span>&nbsp;<span class="op" id="8288925">!</span><span class="ident" id="8288926">bytes</span><span class="op" id="8288931">.</span><span class="ident" id="8288932">Equal</span><span class="op" id="8288937">(</span><span class="ident" id="8288938">floatResult</span><span class="op" id="8288949">,</span>&nbsp;<span class="ident" id="8288951">b</span><span class="op" id="8288952">.</span><span class="ident" id="8288953">Bytes</span><span class="op" id="8288958">(</span><span class="op" id="8288959">)</span><span class="op" id="8288960">)</span>&nbsp;<span class="op" id="8288962">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8288967">t</span><span class="op" id="8288968">.</span><span class="ident" id="8288969">Errorf</span><span class="op" id="8288975">(</span><span class="string" id="8288976">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8289024">,</span>&nbsp;<span class="ident" id="8289026">floatResult</span><span class="op" id="8289037">,</span>&nbsp;<span class="ident" id="8289039">b</span><span class="op" id="8289040">.</span><span class="ident" id="8289041">Bytes</span><span class="op" id="8289046">(</span><span class="op" id="8289047">)</span><span class="op" id="8289048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289059">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289075">b</span><span class="op" id="8289076">.</span><span class="ident" id="8289077">Reset</span><span class="op" id="8289082">(</span><span class="op" id="8289083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289087">var</span>&nbsp;<span class="ident" id="8289091">data</span>&nbsp;<span class="builtintype" id="8289096">float64</span>&nbsp;<span class="op" id="8289104">=</span>&nbsp;<span class="num" id="8289106">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289111">instr</span>&nbsp;<span class="op" id="8289117">:=</span>&nbsp;<span class="op" id="8289120">&amp;</span><span class="ident" id="8289121">encInstr</span><span class="op" id="8289129">{</span><span class="ident" id="8289130">encFloat</span><span class="op" id="8289138">,</span>&nbsp;<span class="num" id="8289140">6</span><span class="op" id="8289141">,</span>&nbsp;<span class="ident" id="8289143">nil</span><span class="op" id="8289146">,</span>&nbsp;<span class="num" id="8289148">0</span><span class="op" id="8289149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289153">state</span>&nbsp;<span class="op" id="8289159">:=</span>&nbsp;<span class="ident" id="8289162">newEncoderState</span><span class="op" id="8289177">(</span><span class="ident" id="8289178">b</span><span class="op" id="8289179">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289183">instr</span><span class="op" id="8289188">.</span><span class="ident" id="8289189">op</span><span class="op" id="8289191">(</span><span class="ident" id="8289192">instr</span><span class="op" id="8289197">,</span>&nbsp;<span class="ident" id="8289199">state</span><span class="op" id="8289204">,</span>&nbsp;<span class="ident" id="8289206">reflect</span><span class="op" id="8289213">.</span><span class="ident" id="8289214">ValueOf</span><span class="op" id="8289221">(</span><span class="ident" id="8289222">data</span><span class="op" id="8289226">)</span><span class="op" id="8289227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289231">if</span>&nbsp;<span class="op" id="8289234">!</span><span class="ident" id="8289235">bytes</span><span class="op" id="8289240">.</span><span class="ident" id="8289241">Equal</span><span class="op" id="8289246">(</span><span class="ident" id="8289247">floatResult</span><span class="op" id="8289258">,</span>&nbsp;<span class="ident" id="8289260">b</span><span class="op" id="8289261">.</span><span class="ident" id="8289262">Bytes</span><span class="op" id="8289267">(</span><span class="op" id="8289268">)</span><span class="op" id="8289269">)</span>&nbsp;<span class="op" id="8289271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289276">t</span><span class="op" id="8289277">.</span><span class="ident" id="8289278">Errorf</span><span class="op" id="8289284">(</span><span class="string" id="8289285">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8289333">,</span>&nbsp;<span class="ident" id="8289335">floatResult</span><span class="op" id="8289346">,</span>&nbsp;<span class="ident" id="8289348">b</span><span class="op" id="8289349">.</span><span class="ident" id="8289350">Bytes</span><span class="op" id="8289355">(</span><span class="op" id="8289356">)</span><span class="op" id="8289357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289364">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289368">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289393">b</span><span class="op" id="8289394">.</span><span class="ident" id="8289395">Reset</span><span class="op" id="8289400">(</span><span class="op" id="8289401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289405">data</span>&nbsp;<span class="op" id="8289410">:=</span>&nbsp;<span class="op" id="8289413">[</span><span class="op" id="8289414">]</span><span class="builtintype" id="8289415">byte</span><span class="op" id="8289419">(</span><span class="string" id="8289420">&#34;hello&#34;</span><span class="op" id="8289427">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289431">instr</span>&nbsp;<span class="op" id="8289437">:=</span>&nbsp;<span class="op" id="8289440">&amp;</span><span class="ident" id="8289441">encInstr</span><span class="op" id="8289449">{</span><span class="ident" id="8289450">encUint8Array</span><span class="op" id="8289463">,</span>&nbsp;<span class="num" id="8289465">6</span><span class="op" id="8289466">,</span>&nbsp;<span class="ident" id="8289468">nil</span><span class="op" id="8289471">,</span>&nbsp;<span class="num" id="8289473">0</span><span class="op" id="8289474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289478">state</span>&nbsp;<span class="op" id="8289484">:=</span>&nbsp;<span class="ident" id="8289487">newEncoderState</span><span class="op" id="8289502">(</span><span class="ident" id="8289503">b</span><span class="op" id="8289504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289508">instr</span><span class="op" id="8289513">.</span><span class="ident" id="8289514">op</span><span class="op" id="8289516">(</span><span class="ident" id="8289517">instr</span><span class="op" id="8289522">,</span>&nbsp;<span class="ident" id="8289524">state</span><span class="op" id="8289529">,</span>&nbsp;<span class="ident" id="8289531">reflect</span><span class="op" id="8289538">.</span><span class="ident" id="8289539">ValueOf</span><span class="op" id="8289546">(</span><span class="ident" id="8289547">data</span><span class="op" id="8289551">)</span><span class="op" id="8289552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289556">if</span>&nbsp;<span class="op" id="8289559">!</span><span class="ident" id="8289560">bytes</span><span class="op" id="8289565">.</span><span class="ident" id="8289566">Equal</span><span class="op" id="8289571">(</span><span class="ident" id="8289572">bytesResult</span><span class="op" id="8289583">,</span>&nbsp;<span class="ident" id="8289585">b</span><span class="op" id="8289586">.</span><span class="ident" id="8289587">Bytes</span><span class="op" id="8289592">(</span><span class="op" id="8289593">)</span><span class="op" id="8289594">)</span>&nbsp;<span class="op" id="8289596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289601">t</span><span class="op" id="8289602">.</span><span class="ident" id="8289603">Errorf</span><span class="op" id="8289609">(</span><span class="string" id="8289610">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8289656">,</span>&nbsp;<span class="ident" id="8289658">bytesResult</span><span class="op" id="8289669">,</span>&nbsp;<span class="ident" id="8289671">b</span><span class="op" id="8289672">.</span><span class="ident" id="8289673">Bytes</span><span class="op" id="8289678">(</span><span class="op" id="8289679">)</span><span class="op" id="8289680">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8289691">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289702">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289706">b</span><span class="op" id="8289707">.</span><span class="ident" id="8289708">Reset</span><span class="op" id="8289713">(</span><span class="op" id="8289714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289718">var</span>&nbsp;<span class="ident" id="8289722">data</span>&nbsp;<span class="builtintype" id="8289727">string</span>&nbsp;<span class="op" id="8289734">=</span>&nbsp;<span class="string" id="8289736">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289746">instr</span>&nbsp;<span class="op" id="8289752">:=</span>&nbsp;<span class="op" id="8289755">&amp;</span><span class="ident" id="8289756">encInstr</span><span class="op" id="8289764">{</span><span class="ident" id="8289765">encString</span><span class="op" id="8289774">,</span>&nbsp;<span class="num" id="8289776">6</span><span class="op" id="8289777">,</span>&nbsp;<span class="ident" id="8289779">nil</span><span class="op" id="8289782">,</span>&nbsp;<span class="num" id="8289784">0</span><span class="op" id="8289785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289789">state</span>&nbsp;<span class="op" id="8289795">:=</span>&nbsp;<span class="ident" id="8289798">newEncoderState</span><span class="op" id="8289813">(</span><span class="ident" id="8289814">b</span><span class="op" id="8289815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289819">instr</span><span class="op" id="8289824">.</span><span class="ident" id="8289825">op</span><span class="op" id="8289827">(</span><span class="ident" id="8289828">instr</span><span class="op" id="8289833">,</span>&nbsp;<span class="ident" id="8289835">state</span><span class="op" id="8289840">,</span>&nbsp;<span class="ident" id="8289842">reflect</span><span class="op" id="8289849">.</span><span class="ident" id="8289850">ValueOf</span><span class="op" id="8289857">(</span><span class="ident" id="8289858">data</span><span class="op" id="8289862">)</span><span class="op" id="8289863">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8289867">if</span>&nbsp;<span class="op" id="8289870">!</span><span class="ident" id="8289871">bytes</span><span class="op" id="8289876">.</span><span class="ident" id="8289877">Equal</span><span class="op" id="8289882">(</span><span class="ident" id="8289883">bytesResult</span><span class="op" id="8289894">,</span>&nbsp;<span class="ident" id="8289896">b</span><span class="op" id="8289897">.</span><span class="ident" id="8289898">Bytes</span><span class="op" id="8289903">(</span><span class="op" id="8289904">)</span><span class="op" id="8289905">)</span>&nbsp;<span class="op" id="8289907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8289912">t</span><span class="op" id="8289913">.</span><span class="ident" id="8289914">Errorf</span><span class="op" id="8289920">(</span><span class="string" id="8289921">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8289968">,</span>&nbsp;<span class="ident" id="8289970">bytesResult</span><span class="op" id="8289981">,</span>&nbsp;<span class="ident" id="8289983">b</span><span class="op" id="8289984">.</span><span class="ident" id="8289985">Bytes</span><span class="op" id="8289990">(</span><span class="op" id="8289991">)</span><span class="op" id="8289992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8289999">}</span><br>
<span class="lineno"></span><span class="op" id="8290001">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="8290004">func</span>&nbsp;<span class="ident" id="8290009">execDec</span><span class="op" id="8290016">(</span><span class="ident" id="8290017">typ</span>&nbsp;<span class="builtintype" id="8290021">string</span><span class="op" id="8290027">,</span>&nbsp;<span class="ident" id="8290029">instr</span>&nbsp;<span class="op" id="8290035">*</span><span class="ident" id="8290036">decInstr</span><span class="op" id="8290044">,</span>&nbsp;<span class="ident" id="8290046">state</span>&nbsp;<span class="op" id="8290052">*</span><span class="ident" id="8290053">decoderState</span><span class="op" id="8290065">,</span>&nbsp;<span class="ident" id="8290067">t</span>&nbsp;<span class="op" id="8290069">*</span><span class="ident" id="8290070">testing</span><span class="op" id="8290077">.</span><span class="ident" id="8290078">T</span><span class="op" id="8290079">,</span>&nbsp;<span class="ident" id="8290081">value</span>&nbsp;<span class="ident" id="8290087">reflect</span><span class="op" id="8290094">.</span><span class="ident" id="8290095">Value</span><span class="op" id="8290100">)</span>&nbsp;<span class="op" id="8290102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290105">defer</span>&nbsp;<span class="ident" id="8290111">testError</span><span class="op" id="8290120">(</span><span class="ident" id="8290121">t</span><span class="op" id="8290122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290125">v</span>&nbsp;<span class="op" id="8290127">:=</span>&nbsp;<span class="builtintype" id="8290130">int</span><span class="op" id="8290133">(</span><span class="ident" id="8290134">state</span><span class="op" id="8290139">.</span><span class="ident" id="8290140">decodeUint</span><span class="op" id="8290150">(</span><span class="op" id="8290151">)</span><span class="op" id="8290152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290155">if</span>&nbsp;<span class="ident" id="8290158">v</span><span class="op" id="8290159">+</span><span class="ident" id="8290160">state</span><span class="op" id="8290165">.</span><span class="ident" id="8290166">fieldnum</span>&nbsp;<span class="op" id="8290175">!=</span>&nbsp;<span class="num" id="8290178">6</span>&nbsp;<span class="op" id="8290180">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290184">t</span><span class="op" id="8290185">.</span><span class="ident" id="8290186">Fatalf</span><span class="op" id="8290192">(</span><span class="string" id="8290193">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8290227">,</span>&nbsp;<span class="num" id="8290229">6</span><span class="op" id="8290230">,</span>&nbsp;<span class="ident" id="8290232">v</span><span class="op" id="8290233">+</span><span class="ident" id="8290234">state</span><span class="op" id="8290239">.</span><span class="ident" id="8290240">fieldnum</span><span class="op" id="8290248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290254">instr</span><span class="op" id="8290259">.</span><span class="ident" id="8290260">op</span><span class="op" id="8290262">(</span><span class="ident" id="8290263">instr</span><span class="op" id="8290268">,</span>&nbsp;<span class="ident" id="8290270">state</span><span class="op" id="8290275">,</span>&nbsp;<span class="ident" id="8290277">value</span><span class="op" id="8290282">.</span><span class="ident" id="8290283">Elem</span><span class="op" id="8290287">(</span><span class="op" id="8290288">)</span><span class="op" id="8290289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290292">state</span><span class="op" id="8290297">.</span><span class="ident" id="8290298">fieldnum</span>&nbsp;<span class="op" id="8290307">=</span>&nbsp;<span class="num" id="8290309">6</span><br>
<span class="lineno"></span><span class="op" id="8290311">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="8290314">func</span>&nbsp;<span class="ident" id="8290319">newDecodeStateFromData</span><span class="op" id="8290341">(</span><span class="ident" id="8290342">data</span>&nbsp;<span class="op" id="8290347">[</span><span class="op" id="8290348">]</span><span class="builtintype" id="8290349">byte</span><span class="op" id="8290353">)</span>&nbsp;<span class="op" id="8290355">*</span><span class="ident" id="8290356">decoderState</span>&nbsp;<span class="op" id="8290369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290372">b</span>&nbsp;<span class="op" id="8290374">:=</span>&nbsp;<span class="ident" id="8290377">newDecBuffer</span><span class="op" id="8290389">(</span><span class="ident" id="8290390">data</span><span class="op" id="8290394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290397">state</span>&nbsp;<span class="op" id="8290403">:=</span>&nbsp;<span class="ident" id="8290406">newDecodeState</span><span class="op" id="8290420">(</span><span class="ident" id="8290421">b</span><span class="op" id="8290422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290425">state</span><span class="op" id="8290430">.</span><span class="ident" id="8290431">fieldnum</span>&nbsp;<span class="op" id="8290440">=</span>&nbsp;<span class="op" id="8290442">-</span><span class="num" id="8290443">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290446">return</span>&nbsp;<span class="ident" id="8290453">state</span><br>
<span class="lineno"></span><span class="op" id="8290459">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8290462">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="8290506">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="8290589">func</span>&nbsp;<span class="ident" id="8290594">TestScalarDecInstructions</span><span class="op" id="8290619">(</span><span class="ident" id="8290620">t</span>&nbsp;<span class="op" id="8290622">*</span><span class="ident" id="8290623">testing</span><span class="op" id="8290630">.</span><span class="ident" id="8290631">T</span><span class="op" id="8290632">)</span>&nbsp;<span class="op" id="8290634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290637">ovfl</span>&nbsp;<span class="op" id="8290642">:=</span>&nbsp;<span class="ident" id="8290645">errors</span><span class="op" id="8290651">.</span><span class="ident" id="8290652">New</span><span class="op" id="8290655">(</span><span class="string" id="8290656">&#34;overflow&#34;</span><span class="op" id="8290666">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8290670">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290679">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290683">var</span>&nbsp;<span class="ident" id="8290687">data</span>&nbsp;<span class="builtintype" id="8290692">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290699">instr</span>&nbsp;<span class="op" id="8290705">:=</span>&nbsp;<span class="op" id="8290708">&amp;</span><span class="ident" id="8290709">decInstr</span><span class="op" id="8290717">{</span><span class="ident" id="8290718">decBool</span><span class="op" id="8290725">,</span>&nbsp;<span class="num" id="8290727">6</span><span class="op" id="8290728">,</span>&nbsp;<span class="ident" id="8290730">nil</span><span class="op" id="8290733">,</span>&nbsp;<span class="ident" id="8290735">ovfl</span><span class="op" id="8290739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290743">state</span>&nbsp;<span class="op" id="8290749">:=</span>&nbsp;<span class="ident" id="8290752">newDecodeStateFromData</span><span class="op" id="8290774">(</span><span class="ident" id="8290775">boolResult</span><span class="op" id="8290785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290789">execDec</span><span class="op" id="8290796">(</span><span class="string" id="8290797">&#34;bool&#34;</span><span class="op" id="8290803">,</span>&nbsp;<span class="ident" id="8290805">instr</span><span class="op" id="8290810">,</span>&nbsp;<span class="ident" id="8290812">state</span><span class="op" id="8290817">,</span>&nbsp;<span class="ident" id="8290819">t</span><span class="op" id="8290820">,</span>&nbsp;<span class="ident" id="8290822">reflect</span><span class="op" id="8290829">.</span><span class="ident" id="8290830">ValueOf</span><span class="op" id="8290837">(</span><span class="op" id="8290838">&amp;</span><span class="ident" id="8290839">data</span><span class="op" id="8290843">)</span><span class="op" id="8290844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290848">if</span>&nbsp;<span class="ident" id="8290851">data</span>&nbsp;<span class="op" id="8290856">!=</span>&nbsp;<span class="builtintype" id="8290859">true</span>&nbsp;<span class="op" id="8290864">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290869">t</span><span class="op" id="8290870">.</span><span class="ident" id="8290871">Errorf</span><span class="op" id="8290877">(</span><span class="string" id="8290878">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="8290900">,</span>&nbsp;<span class="ident" id="8290902">data</span><span class="op" id="8290906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8290916">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8290924">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8290928">var</span>&nbsp;<span class="ident" id="8290932">data</span>&nbsp;<span class="builtintype" id="8290937">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8290943">instr</span>&nbsp;<span class="op" id="8290949">:=</span>&nbsp;<span class="op" id="8290952">&amp;</span><span class="ident" id="8290953">decInstr</span><span class="op" id="8290961">{</span><span class="ident" id="8290962">decOpTable</span><span class="op" id="8290972">[</span><span class="ident" id="8290973">reflect</span><span class="op" id="8290980">.</span><span class="ident" id="8290981">Int</span><span class="op" id="8290984">]</span><span class="op" id="8290985">,</span>&nbsp;<span class="num" id="8290987">6</span><span class="op" id="8290988">,</span>&nbsp;<span class="ident" id="8290990">nil</span><span class="op" id="8290993">,</span>&nbsp;<span class="ident" id="8290995">ovfl</span><span class="op" id="8290999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291003">state</span>&nbsp;<span class="op" id="8291009">:=</span>&nbsp;<span class="ident" id="8291012">newDecodeStateFromData</span><span class="op" id="8291034">(</span><span class="ident" id="8291035">signedResult</span><span class="op" id="8291047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291051">execDec</span><span class="op" id="8291058">(</span><span class="string" id="8291059">&#34;int&#34;</span><span class="op" id="8291064">,</span>&nbsp;<span class="ident" id="8291066">instr</span><span class="op" id="8291071">,</span>&nbsp;<span class="ident" id="8291073">state</span><span class="op" id="8291078">,</span>&nbsp;<span class="ident" id="8291080">t</span><span class="op" id="8291081">,</span>&nbsp;<span class="ident" id="8291083">reflect</span><span class="op" id="8291090">.</span><span class="ident" id="8291091">ValueOf</span><span class="op" id="8291098">(</span><span class="op" id="8291099">&amp;</span><span class="ident" id="8291100">data</span><span class="op" id="8291104">)</span><span class="op" id="8291105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291109">if</span>&nbsp;<span class="ident" id="8291112">data</span>&nbsp;<span class="op" id="8291117">!=</span>&nbsp;<span class="num" id="8291120">17</span>&nbsp;<span class="op" id="8291123">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291128">t</span><span class="op" id="8291129">.</span><span class="ident" id="8291130">Errorf</span><span class="op" id="8291136">(</span><span class="string" id="8291137">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8291156">,</span>&nbsp;<span class="ident" id="8291158">data</span><span class="op" id="8291162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8291173">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291186">var</span>&nbsp;<span class="ident" id="8291190">data</span>&nbsp;<span class="builtintype" id="8291195">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291202">instr</span>&nbsp;<span class="op" id="8291208">:=</span>&nbsp;<span class="op" id="8291211">&amp;</span><span class="ident" id="8291212">decInstr</span><span class="op" id="8291220">{</span><span class="ident" id="8291221">decOpTable</span><span class="op" id="8291231">[</span><span class="ident" id="8291232">reflect</span><span class="op" id="8291239">.</span><span class="ident" id="8291240">Uint</span><span class="op" id="8291244">]</span><span class="op" id="8291245">,</span>&nbsp;<span class="num" id="8291247">6</span><span class="op" id="8291248">,</span>&nbsp;<span class="ident" id="8291250">nil</span><span class="op" id="8291253">,</span>&nbsp;<span class="ident" id="8291255">ovfl</span><span class="op" id="8291259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291263">state</span>&nbsp;<span class="op" id="8291269">:=</span>&nbsp;<span class="ident" id="8291272">newDecodeStateFromData</span><span class="op" id="8291294">(</span><span class="ident" id="8291295">unsignedResult</span><span class="op" id="8291309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291313">execDec</span><span class="op" id="8291320">(</span><span class="string" id="8291321">&#34;uint&#34;</span><span class="op" id="8291327">,</span>&nbsp;<span class="ident" id="8291329">instr</span><span class="op" id="8291334">,</span>&nbsp;<span class="ident" id="8291336">state</span><span class="op" id="8291341">,</span>&nbsp;<span class="ident" id="8291343">t</span><span class="op" id="8291344">,</span>&nbsp;<span class="ident" id="8291346">reflect</span><span class="op" id="8291353">.</span><span class="ident" id="8291354">ValueOf</span><span class="op" id="8291361">(</span><span class="op" id="8291362">&amp;</span><span class="ident" id="8291363">data</span><span class="op" id="8291367">)</span><span class="op" id="8291368">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291372">if</span>&nbsp;<span class="ident" id="8291375">data</span>&nbsp;<span class="op" id="8291380">!=</span>&nbsp;<span class="num" id="8291383">17</span>&nbsp;<span class="op" id="8291386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291391">t</span><span class="op" id="8291392">.</span><span class="ident" id="8291393">Errorf</span><span class="op" id="8291399">(</span><span class="string" id="8291400">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8291420">,</span>&nbsp;<span class="ident" id="8291422">data</span><span class="op" id="8291426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8291437">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291450">var</span>&nbsp;<span class="ident" id="8291454">data</span>&nbsp;<span class="builtintype" id="8291459">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291466">instr</span>&nbsp;<span class="op" id="8291472">:=</span>&nbsp;<span class="op" id="8291475">&amp;</span><span class="ident" id="8291476">decInstr</span><span class="op" id="8291484">{</span><span class="ident" id="8291485">decInt8</span><span class="op" id="8291492">,</span>&nbsp;<span class="num" id="8291494">6</span><span class="op" id="8291495">,</span>&nbsp;<span class="ident" id="8291497">nil</span><span class="op" id="8291500">,</span>&nbsp;<span class="ident" id="8291502">ovfl</span><span class="op" id="8291506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291510">state</span>&nbsp;<span class="op" id="8291516">:=</span>&nbsp;<span class="ident" id="8291519">newDecodeStateFromData</span><span class="op" id="8291541">(</span><span class="ident" id="8291542">signedResult</span><span class="op" id="8291554">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291558">execDec</span><span class="op" id="8291565">(</span><span class="string" id="8291566">&#34;int8&#34;</span><span class="op" id="8291572">,</span>&nbsp;<span class="ident" id="8291574">instr</span><span class="op" id="8291579">,</span>&nbsp;<span class="ident" id="8291581">state</span><span class="op" id="8291586">,</span>&nbsp;<span class="ident" id="8291588">t</span><span class="op" id="8291589">,</span>&nbsp;<span class="ident" id="8291591">reflect</span><span class="op" id="8291598">.</span><span class="ident" id="8291599">ValueOf</span><span class="op" id="8291606">(</span><span class="op" id="8291607">&amp;</span><span class="ident" id="8291608">data</span><span class="op" id="8291612">)</span><span class="op" id="8291613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291617">if</span>&nbsp;<span class="ident" id="8291620">data</span>&nbsp;<span class="op" id="8291625">!=</span>&nbsp;<span class="num" id="8291628">17</span>&nbsp;<span class="op" id="8291631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291636">t</span><span class="op" id="8291637">.</span><span class="ident" id="8291638">Errorf</span><span class="op" id="8291644">(</span><span class="string" id="8291645">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8291665">,</span>&nbsp;<span class="ident" id="8291667">data</span><span class="op" id="8291671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291678">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8291682">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291696">var</span>&nbsp;<span class="ident" id="8291700">data</span>&nbsp;<span class="builtintype" id="8291705">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291713">instr</span>&nbsp;<span class="op" id="8291719">:=</span>&nbsp;<span class="op" id="8291722">&amp;</span><span class="ident" id="8291723">decInstr</span><span class="op" id="8291731">{</span><span class="ident" id="8291732">decUint8</span><span class="op" id="8291740">,</span>&nbsp;<span class="num" id="8291742">6</span><span class="op" id="8291743">,</span>&nbsp;<span class="ident" id="8291745">nil</span><span class="op" id="8291748">,</span>&nbsp;<span class="ident" id="8291750">ovfl</span><span class="op" id="8291754">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291758">state</span>&nbsp;<span class="op" id="8291764">:=</span>&nbsp;<span class="ident" id="8291767">newDecodeStateFromData</span><span class="op" id="8291789">(</span><span class="ident" id="8291790">unsignedResult</span><span class="op" id="8291804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291808">execDec</span><span class="op" id="8291815">(</span><span class="string" id="8291816">&#34;uint8&#34;</span><span class="op" id="8291823">,</span>&nbsp;<span class="ident" id="8291825">instr</span><span class="op" id="8291830">,</span>&nbsp;<span class="ident" id="8291832">state</span><span class="op" id="8291837">,</span>&nbsp;<span class="ident" id="8291839">t</span><span class="op" id="8291840">,</span>&nbsp;<span class="ident" id="8291842">reflect</span><span class="op" id="8291849">.</span><span class="ident" id="8291850">ValueOf</span><span class="op" id="8291857">(</span><span class="op" id="8291858">&amp;</span><span class="ident" id="8291859">data</span><span class="op" id="8291863">)</span><span class="op" id="8291864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291868">if</span>&nbsp;<span class="ident" id="8291871">data</span>&nbsp;<span class="op" id="8291876">!=</span>&nbsp;<span class="num" id="8291879">17</span>&nbsp;<span class="op" id="8291882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291887">t</span><span class="op" id="8291888">.</span><span class="ident" id="8291889">Errorf</span><span class="op" id="8291895">(</span><span class="string" id="8291896">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8291917">,</span>&nbsp;<span class="ident" id="8291919">data</span><span class="op" id="8291923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291927">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8291934">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8291944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8291948">var</span>&nbsp;<span class="ident" id="8291952">data</span>&nbsp;<span class="builtintype" id="8291957">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8291965">instr</span>&nbsp;<span class="op" id="8291971">:=</span>&nbsp;<span class="op" id="8291974">&amp;</span><span class="ident" id="8291975">decInstr</span><span class="op" id="8291983">{</span><span class="ident" id="8291984">decInt16</span><span class="op" id="8291992">,</span>&nbsp;<span class="num" id="8291994">6</span><span class="op" id="8291995">,</span>&nbsp;<span class="ident" id="8291997">nil</span><span class="op" id="8292000">,</span>&nbsp;<span class="ident" id="8292002">ovfl</span><span class="op" id="8292006">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292010">state</span>&nbsp;<span class="op" id="8292016">:=</span>&nbsp;<span class="ident" id="8292019">newDecodeStateFromData</span><span class="op" id="8292041">(</span><span class="ident" id="8292042">signedResult</span><span class="op" id="8292054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292058">execDec</span><span class="op" id="8292065">(</span><span class="string" id="8292066">&#34;int16&#34;</span><span class="op" id="8292073">,</span>&nbsp;<span class="ident" id="8292075">instr</span><span class="op" id="8292080">,</span>&nbsp;<span class="ident" id="8292082">state</span><span class="op" id="8292087">,</span>&nbsp;<span class="ident" id="8292089">t</span><span class="op" id="8292090">,</span>&nbsp;<span class="ident" id="8292092">reflect</span><span class="op" id="8292099">.</span><span class="ident" id="8292100">ValueOf</span><span class="op" id="8292107">(</span><span class="op" id="8292108">&amp;</span><span class="ident" id="8292109">data</span><span class="op" id="8292113">)</span><span class="op" id="8292114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292118">if</span>&nbsp;<span class="ident" id="8292121">data</span>&nbsp;<span class="op" id="8292126">!=</span>&nbsp;<span class="num" id="8292129">17</span>&nbsp;<span class="op" id="8292132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292137">t</span><span class="op" id="8292138">.</span><span class="ident" id="8292139">Errorf</span><span class="op" id="8292145">(</span><span class="string" id="8292146">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8292167">,</span>&nbsp;<span class="ident" id="8292169">data</span><span class="op" id="8292173">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8292184">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292195">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292199">var</span>&nbsp;<span class="ident" id="8292203">data</span>&nbsp;<span class="builtintype" id="8292208">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292217">instr</span>&nbsp;<span class="op" id="8292223">:=</span>&nbsp;<span class="op" id="8292226">&amp;</span><span class="ident" id="8292227">decInstr</span><span class="op" id="8292235">{</span><span class="ident" id="8292236">decUint16</span><span class="op" id="8292245">,</span>&nbsp;<span class="num" id="8292247">6</span><span class="op" id="8292248">,</span>&nbsp;<span class="ident" id="8292250">nil</span><span class="op" id="8292253">,</span>&nbsp;<span class="ident" id="8292255">ovfl</span><span class="op" id="8292259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292263">state</span>&nbsp;<span class="op" id="8292269">:=</span>&nbsp;<span class="ident" id="8292272">newDecodeStateFromData</span><span class="op" id="8292294">(</span><span class="ident" id="8292295">unsignedResult</span><span class="op" id="8292309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292313">execDec</span><span class="op" id="8292320">(</span><span class="string" id="8292321">&#34;uint16&#34;</span><span class="op" id="8292329">,</span>&nbsp;<span class="ident" id="8292331">instr</span><span class="op" id="8292336">,</span>&nbsp;<span class="ident" id="8292338">state</span><span class="op" id="8292343">,</span>&nbsp;<span class="ident" id="8292345">t</span><span class="op" id="8292346">,</span>&nbsp;<span class="ident" id="8292348">reflect</span><span class="op" id="8292355">.</span><span class="ident" id="8292356">ValueOf</span><span class="op" id="8292363">(</span><span class="op" id="8292364">&amp;</span><span class="ident" id="8292365">data</span><span class="op" id="8292369">)</span><span class="op" id="8292370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292374">if</span>&nbsp;<span class="ident" id="8292377">data</span>&nbsp;<span class="op" id="8292382">!=</span>&nbsp;<span class="num" id="8292385">17</span>&nbsp;<span class="op" id="8292388">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292393">t</span><span class="op" id="8292394">.</span><span class="ident" id="8292395">Errorf</span><span class="op" id="8292401">(</span><span class="string" id="8292402">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8292424">,</span>&nbsp;<span class="ident" id="8292426">data</span><span class="op" id="8292430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8292441">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292455">var</span>&nbsp;<span class="ident" id="8292459">data</span>&nbsp;<span class="builtintype" id="8292464">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292472">instr</span>&nbsp;<span class="op" id="8292478">:=</span>&nbsp;<span class="op" id="8292481">&amp;</span><span class="ident" id="8292482">decInstr</span><span class="op" id="8292490">{</span><span class="ident" id="8292491">decInt32</span><span class="op" id="8292499">,</span>&nbsp;<span class="num" id="8292501">6</span><span class="op" id="8292502">,</span>&nbsp;<span class="ident" id="8292504">nil</span><span class="op" id="8292507">,</span>&nbsp;<span class="ident" id="8292509">ovfl</span><span class="op" id="8292513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292517">state</span>&nbsp;<span class="op" id="8292523">:=</span>&nbsp;<span class="ident" id="8292526">newDecodeStateFromData</span><span class="op" id="8292548">(</span><span class="ident" id="8292549">signedResult</span><span class="op" id="8292561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292565">execDec</span><span class="op" id="8292572">(</span><span class="string" id="8292573">&#34;int32&#34;</span><span class="op" id="8292580">,</span>&nbsp;<span class="ident" id="8292582">instr</span><span class="op" id="8292587">,</span>&nbsp;<span class="ident" id="8292589">state</span><span class="op" id="8292594">,</span>&nbsp;<span class="ident" id="8292596">t</span><span class="op" id="8292597">,</span>&nbsp;<span class="ident" id="8292599">reflect</span><span class="op" id="8292606">.</span><span class="ident" id="8292607">ValueOf</span><span class="op" id="8292614">(</span><span class="op" id="8292615">&amp;</span><span class="ident" id="8292616">data</span><span class="op" id="8292620">)</span><span class="op" id="8292621">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292625">if</span>&nbsp;<span class="ident" id="8292628">data</span>&nbsp;<span class="op" id="8292633">!=</span>&nbsp;<span class="num" id="8292636">17</span>&nbsp;<span class="op" id="8292639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292644">t</span><span class="op" id="8292645">.</span><span class="ident" id="8292646">Errorf</span><span class="op" id="8292652">(</span><span class="string" id="8292653">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8292674">,</span>&nbsp;<span class="ident" id="8292676">data</span><span class="op" id="8292680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8292691">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292706">var</span>&nbsp;<span class="ident" id="8292710">data</span>&nbsp;<span class="builtintype" id="8292715">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292724">instr</span>&nbsp;<span class="op" id="8292730">:=</span>&nbsp;<span class="op" id="8292733">&amp;</span><span class="ident" id="8292734">decInstr</span><span class="op" id="8292742">{</span><span class="ident" id="8292743">decUint32</span><span class="op" id="8292752">,</span>&nbsp;<span class="num" id="8292754">6</span><span class="op" id="8292755">,</span>&nbsp;<span class="ident" id="8292757">nil</span><span class="op" id="8292760">,</span>&nbsp;<span class="ident" id="8292762">ovfl</span><span class="op" id="8292766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292770">state</span>&nbsp;<span class="op" id="8292776">:=</span>&nbsp;<span class="ident" id="8292779">newDecodeStateFromData</span><span class="op" id="8292801">(</span><span class="ident" id="8292802">unsignedResult</span><span class="op" id="8292816">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292820">execDec</span><span class="op" id="8292827">(</span><span class="string" id="8292828">&#34;uint32&#34;</span><span class="op" id="8292836">,</span>&nbsp;<span class="ident" id="8292838">instr</span><span class="op" id="8292843">,</span>&nbsp;<span class="ident" id="8292845">state</span><span class="op" id="8292850">,</span>&nbsp;<span class="ident" id="8292852">t</span><span class="op" id="8292853">,</span>&nbsp;<span class="ident" id="8292855">reflect</span><span class="op" id="8292862">.</span><span class="ident" id="8292863">ValueOf</span><span class="op" id="8292870">(</span><span class="op" id="8292871">&amp;</span><span class="ident" id="8292872">data</span><span class="op" id="8292876">)</span><span class="op" id="8292877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292881">if</span>&nbsp;<span class="ident" id="8292884">data</span>&nbsp;<span class="op" id="8292889">!=</span>&nbsp;<span class="num" id="8292892">17</span>&nbsp;<span class="op" id="8292895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292900">t</span><span class="op" id="8292901">.</span><span class="ident" id="8292902">Errorf</span><span class="op" id="8292908">(</span><span class="string" id="8292909">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8292931">,</span>&nbsp;<span class="ident" id="8292933">data</span><span class="op" id="8292937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292944">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8292948">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8292960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8292964">var</span>&nbsp;<span class="ident" id="8292968">data</span>&nbsp;<span class="builtintype" id="8292973">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8292983">instr</span>&nbsp;<span class="op" id="8292989">:=</span>&nbsp;<span class="op" id="8292992">&amp;</span><span class="ident" id="8292993">decInstr</span><span class="op" id="8293001">{</span><span class="ident" id="8293002">decOpTable</span><span class="op" id="8293012">[</span><span class="ident" id="8293013">reflect</span><span class="op" id="8293020">.</span><span class="ident" id="8293021">Uintptr</span><span class="op" id="8293028">]</span><span class="op" id="8293029">,</span>&nbsp;<span class="num" id="8293031">6</span><span class="op" id="8293032">,</span>&nbsp;<span class="ident" id="8293034">nil</span><span class="op" id="8293037">,</span>&nbsp;<span class="ident" id="8293039">ovfl</span><span class="op" id="8293043">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293047">state</span>&nbsp;<span class="op" id="8293053">:=</span>&nbsp;<span class="ident" id="8293056">newDecodeStateFromData</span><span class="op" id="8293078">(</span><span class="ident" id="8293079">unsignedResult</span><span class="op" id="8293093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293097">execDec</span><span class="op" id="8293104">(</span><span class="string" id="8293105">&#34;uintptr&#34;</span><span class="op" id="8293114">,</span>&nbsp;<span class="ident" id="8293116">instr</span><span class="op" id="8293121">,</span>&nbsp;<span class="ident" id="8293123">state</span><span class="op" id="8293128">,</span>&nbsp;<span class="ident" id="8293130">t</span><span class="op" id="8293131">,</span>&nbsp;<span class="ident" id="8293133">reflect</span><span class="op" id="8293140">.</span><span class="ident" id="8293141">ValueOf</span><span class="op" id="8293148">(</span><span class="op" id="8293149">&amp;</span><span class="ident" id="8293150">data</span><span class="op" id="8293154">)</span><span class="op" id="8293155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293159">if</span>&nbsp;<span class="ident" id="8293162">data</span>&nbsp;<span class="op" id="8293167">!=</span>&nbsp;<span class="num" id="8293170">17</span>&nbsp;<span class="op" id="8293173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293178">t</span><span class="op" id="8293179">.</span><span class="ident" id="8293180">Errorf</span><span class="op" id="8293186">(</span><span class="string" id="8293187">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8293210">,</span>&nbsp;<span class="ident" id="8293212">data</span><span class="op" id="8293216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293220">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8293227">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293241">var</span>&nbsp;<span class="ident" id="8293245">data</span>&nbsp;<span class="ident" id="8293250">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293258">instr</span>&nbsp;<span class="op" id="8293264">:=</span>&nbsp;<span class="op" id="8293267">&amp;</span><span class="ident" id="8293268">decInstr</span><span class="op" id="8293276">{</span><span class="ident" id="8293277">decInt64</span><span class="op" id="8293285">,</span>&nbsp;<span class="num" id="8293287">6</span><span class="op" id="8293288">,</span>&nbsp;<span class="ident" id="8293290">nil</span><span class="op" id="8293293">,</span>&nbsp;<span class="ident" id="8293295">ovfl</span><span class="op" id="8293299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293303">state</span>&nbsp;<span class="op" id="8293309">:=</span>&nbsp;<span class="ident" id="8293312">newDecodeStateFromData</span><span class="op" id="8293334">(</span><span class="ident" id="8293335">signedResult</span><span class="op" id="8293347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293351">execDec</span><span class="op" id="8293358">(</span><span class="string" id="8293359">&#34;int64&#34;</span><span class="op" id="8293366">,</span>&nbsp;<span class="ident" id="8293368">instr</span><span class="op" id="8293373">,</span>&nbsp;<span class="ident" id="8293375">state</span><span class="op" id="8293380">,</span>&nbsp;<span class="ident" id="8293382">t</span><span class="op" id="8293383">,</span>&nbsp;<span class="ident" id="8293385">reflect</span><span class="op" id="8293392">.</span><span class="ident" id="8293393">ValueOf</span><span class="op" id="8293400">(</span><span class="op" id="8293401">&amp;</span><span class="ident" id="8293402">data</span><span class="op" id="8293406">)</span><span class="op" id="8293407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293411">if</span>&nbsp;<span class="ident" id="8293414">data</span>&nbsp;<span class="op" id="8293419">!=</span>&nbsp;<span class="num" id="8293422">17</span>&nbsp;<span class="op" id="8293425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293430">t</span><span class="op" id="8293431">.</span><span class="ident" id="8293432">Errorf</span><span class="op" id="8293438">(</span><span class="string" id="8293439">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8293460">,</span>&nbsp;<span class="ident" id="8293462">data</span><span class="op" id="8293466">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8293477">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293488">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293492">var</span>&nbsp;<span class="ident" id="8293496">data</span>&nbsp;<span class="ident" id="8293501">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293510">instr</span>&nbsp;<span class="op" id="8293516">:=</span>&nbsp;<span class="op" id="8293519">&amp;</span><span class="ident" id="8293520">decInstr</span><span class="op" id="8293528">{</span><span class="ident" id="8293529">decUint64</span><span class="op" id="8293538">,</span>&nbsp;<span class="num" id="8293540">6</span><span class="op" id="8293541">,</span>&nbsp;<span class="ident" id="8293543">nil</span><span class="op" id="8293546">,</span>&nbsp;<span class="ident" id="8293548">ovfl</span><span class="op" id="8293552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293556">state</span>&nbsp;<span class="op" id="8293562">:=</span>&nbsp;<span class="ident" id="8293565">newDecodeStateFromData</span><span class="op" id="8293587">(</span><span class="ident" id="8293588">unsignedResult</span><span class="op" id="8293602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293606">execDec</span><span class="op" id="8293613">(</span><span class="string" id="8293614">&#34;uint64&#34;</span><span class="op" id="8293622">,</span>&nbsp;<span class="ident" id="8293624">instr</span><span class="op" id="8293629">,</span>&nbsp;<span class="ident" id="8293631">state</span><span class="op" id="8293636">,</span>&nbsp;<span class="ident" id="8293638">t</span><span class="op" id="8293639">,</span>&nbsp;<span class="ident" id="8293641">reflect</span><span class="op" id="8293648">.</span><span class="ident" id="8293649">ValueOf</span><span class="op" id="8293656">(</span><span class="op" id="8293657">&amp;</span><span class="ident" id="8293658">data</span><span class="op" id="8293662">)</span><span class="op" id="8293663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293667">if</span>&nbsp;<span class="ident" id="8293670">data</span>&nbsp;<span class="op" id="8293675">!=</span>&nbsp;<span class="num" id="8293678">17</span>&nbsp;<span class="op" id="8293681">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293686">t</span><span class="op" id="8293687">.</span><span class="ident" id="8293688">Errorf</span><span class="op" id="8293694">(</span><span class="string" id="8293695">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8293717">,</span>&nbsp;<span class="ident" id="8293719">data</span><span class="op" id="8293723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8293734">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293750">var</span>&nbsp;<span class="ident" id="8293754">data</span>&nbsp;<span class="builtintype" id="8293759">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293769">instr</span>&nbsp;<span class="op" id="8293775">:=</span>&nbsp;<span class="op" id="8293778">&amp;</span><span class="ident" id="8293779">decInstr</span><span class="op" id="8293787">{</span><span class="ident" id="8293788">decFloat32</span><span class="op" id="8293798">,</span>&nbsp;<span class="num" id="8293800">6</span><span class="op" id="8293801">,</span>&nbsp;<span class="ident" id="8293803">nil</span><span class="op" id="8293806">,</span>&nbsp;<span class="ident" id="8293808">ovfl</span><span class="op" id="8293812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293816">state</span>&nbsp;<span class="op" id="8293822">:=</span>&nbsp;<span class="ident" id="8293825">newDecodeStateFromData</span><span class="op" id="8293847">(</span><span class="ident" id="8293848">floatResult</span><span class="op" id="8293859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293863">execDec</span><span class="op" id="8293870">(</span><span class="string" id="8293871">&#34;float32&#34;</span><span class="op" id="8293880">,</span>&nbsp;<span class="ident" id="8293882">instr</span><span class="op" id="8293887">,</span>&nbsp;<span class="ident" id="8293889">state</span><span class="op" id="8293894">,</span>&nbsp;<span class="ident" id="8293896">t</span><span class="op" id="8293897">,</span>&nbsp;<span class="ident" id="8293899">reflect</span><span class="op" id="8293906">.</span><span class="ident" id="8293907">ValueOf</span><span class="op" id="8293914">(</span><span class="op" id="8293915">&amp;</span><span class="ident" id="8293916">data</span><span class="op" id="8293920">)</span><span class="op" id="8293921">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8293925">if</span>&nbsp;<span class="ident" id="8293928">data</span>&nbsp;<span class="op" id="8293933">!=</span>&nbsp;<span class="num" id="8293936">17</span>&nbsp;<span class="op" id="8293939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8293944">t</span><span class="op" id="8293945">.</span><span class="ident" id="8293946">Errorf</span><span class="op" id="8293952">(</span><span class="string" id="8293953">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8293976">,</span>&nbsp;<span class="ident" id="8293978">data</span><span class="op" id="8293982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8293989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8293993">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294009">var</span>&nbsp;<span class="ident" id="8294013">data</span>&nbsp;<span class="builtintype" id="8294018">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294028">instr</span>&nbsp;<span class="op" id="8294034">:=</span>&nbsp;<span class="op" id="8294037">&amp;</span><span class="ident" id="8294038">decInstr</span><span class="op" id="8294046">{</span><span class="ident" id="8294047">decFloat64</span><span class="op" id="8294057">,</span>&nbsp;<span class="num" id="8294059">6</span><span class="op" id="8294060">,</span>&nbsp;<span class="ident" id="8294062">nil</span><span class="op" id="8294065">,</span>&nbsp;<span class="ident" id="8294067">ovfl</span><span class="op" id="8294071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294075">state</span>&nbsp;<span class="op" id="8294081">:=</span>&nbsp;<span class="ident" id="8294084">newDecodeStateFromData</span><span class="op" id="8294106">(</span><span class="ident" id="8294107">floatResult</span><span class="op" id="8294118">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294122">execDec</span><span class="op" id="8294129">(</span><span class="string" id="8294130">&#34;float64&#34;</span><span class="op" id="8294139">,</span>&nbsp;<span class="ident" id="8294141">instr</span><span class="op" id="8294146">,</span>&nbsp;<span class="ident" id="8294148">state</span><span class="op" id="8294153">,</span>&nbsp;<span class="ident" id="8294155">t</span><span class="op" id="8294156">,</span>&nbsp;<span class="ident" id="8294158">reflect</span><span class="op" id="8294165">.</span><span class="ident" id="8294166">ValueOf</span><span class="op" id="8294173">(</span><span class="op" id="8294174">&amp;</span><span class="ident" id="8294175">data</span><span class="op" id="8294179">)</span><span class="op" id="8294180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294184">if</span>&nbsp;<span class="ident" id="8294187">data</span>&nbsp;<span class="op" id="8294192">!=</span>&nbsp;<span class="num" id="8294195">17</span>&nbsp;<span class="op" id="8294198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294203">t</span><span class="op" id="8294204">.</span><span class="ident" id="8294205">Errorf</span><span class="op" id="8294211">(</span><span class="string" id="8294212">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8294235">,</span>&nbsp;<span class="ident" id="8294237">data</span><span class="op" id="8294241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294245">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294248">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294252">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294270">var</span>&nbsp;<span class="ident" id="8294274">data</span>&nbsp;<span class="builtintype" id="8294279">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294291">instr</span>&nbsp;<span class="op" id="8294297">:=</span>&nbsp;<span class="op" id="8294300">&amp;</span><span class="ident" id="8294301">decInstr</span><span class="op" id="8294309">{</span><span class="ident" id="8294310">decOpTable</span><span class="op" id="8294320">[</span><span class="ident" id="8294321">reflect</span><span class="op" id="8294328">.</span><span class="ident" id="8294329">Complex64</span><span class="op" id="8294338">]</span><span class="op" id="8294339">,</span>&nbsp;<span class="num" id="8294341">6</span><span class="op" id="8294342">,</span>&nbsp;<span class="ident" id="8294344">nil</span><span class="op" id="8294347">,</span>&nbsp;<span class="ident" id="8294349">ovfl</span><span class="op" id="8294353">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294357">state</span>&nbsp;<span class="op" id="8294363">:=</span>&nbsp;<span class="ident" id="8294366">newDecodeStateFromData</span><span class="op" id="8294388">(</span><span class="ident" id="8294389">complexResult</span><span class="op" id="8294402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294406">execDec</span><span class="op" id="8294413">(</span><span class="string" id="8294414">&#34;complex&#34;</span><span class="op" id="8294423">,</span>&nbsp;<span class="ident" id="8294425">instr</span><span class="op" id="8294430">,</span>&nbsp;<span class="ident" id="8294432">state</span><span class="op" id="8294437">,</span>&nbsp;<span class="ident" id="8294439">t</span><span class="op" id="8294440">,</span>&nbsp;<span class="ident" id="8294442">reflect</span><span class="op" id="8294449">.</span><span class="ident" id="8294450">ValueOf</span><span class="op" id="8294457">(</span><span class="op" id="8294458">&amp;</span><span class="ident" id="8294459">data</span><span class="op" id="8294463">)</span><span class="op" id="8294464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294468">if</span>&nbsp;<span class="ident" id="8294471">data</span>&nbsp;<span class="op" id="8294476">!=</span>&nbsp;<span class="num" id="8294479">17</span><span class="op" id="8294481">+</span><span class="num" id="8294482">19i</span>&nbsp;<span class="op" id="8294486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294491">t</span><span class="op" id="8294492">.</span><span class="ident" id="8294493">Errorf</span><span class="op" id="8294499">(</span><span class="string" id="8294500">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8294527">,</span>&nbsp;<span class="ident" id="8294529">data</span><span class="op" id="8294533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294537">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294544">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294563">var</span>&nbsp;<span class="ident" id="8294567">data</span>&nbsp;<span class="builtintype" id="8294572">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294585">instr</span>&nbsp;<span class="op" id="8294591">:=</span>&nbsp;<span class="op" id="8294594">&amp;</span><span class="ident" id="8294595">decInstr</span><span class="op" id="8294603">{</span><span class="ident" id="8294604">decOpTable</span><span class="op" id="8294614">[</span><span class="ident" id="8294615">reflect</span><span class="op" id="8294622">.</span><span class="ident" id="8294623">Complex128</span><span class="op" id="8294633">]</span><span class="op" id="8294634">,</span>&nbsp;<span class="num" id="8294636">6</span><span class="op" id="8294637">,</span>&nbsp;<span class="ident" id="8294639">nil</span><span class="op" id="8294642">,</span>&nbsp;<span class="ident" id="8294644">ovfl</span><span class="op" id="8294648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294652">state</span>&nbsp;<span class="op" id="8294658">:=</span>&nbsp;<span class="ident" id="8294661">newDecodeStateFromData</span><span class="op" id="8294683">(</span><span class="ident" id="8294684">complexResult</span><span class="op" id="8294697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294701">execDec</span><span class="op" id="8294708">(</span><span class="string" id="8294709">&#34;complex&#34;</span><span class="op" id="8294718">,</span>&nbsp;<span class="ident" id="8294720">instr</span><span class="op" id="8294725">,</span>&nbsp;<span class="ident" id="8294727">state</span><span class="op" id="8294732">,</span>&nbsp;<span class="ident" id="8294734">t</span><span class="op" id="8294735">,</span>&nbsp;<span class="ident" id="8294737">reflect</span><span class="op" id="8294744">.</span><span class="ident" id="8294745">ValueOf</span><span class="op" id="8294752">(</span><span class="op" id="8294753">&amp;</span><span class="ident" id="8294754">data</span><span class="op" id="8294758">)</span><span class="op" id="8294759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294763">if</span>&nbsp;<span class="ident" id="8294766">data</span>&nbsp;<span class="op" id="8294771">!=</span>&nbsp;<span class="num" id="8294774">17</span><span class="op" id="8294776">+</span><span class="num" id="8294777">19i</span>&nbsp;<span class="op" id="8294781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294786">t</span><span class="op" id="8294787">.</span><span class="ident" id="8294788">Errorf</span><span class="op" id="8294794">(</span><span class="string" id="8294795">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8294822">,</span>&nbsp;<span class="ident" id="8294824">data</span><span class="op" id="8294828">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8294839">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8294860">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8294864">var</span>&nbsp;<span class="ident" id="8294868">data</span>&nbsp;<span class="op" id="8294873">[</span><span class="op" id="8294874">]</span><span class="builtintype" id="8294875">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294882">instr</span>&nbsp;<span class="op" id="8294888">:=</span>&nbsp;<span class="op" id="8294891">&amp;</span><span class="ident" id="8294892">decInstr</span><span class="op" id="8294900">{</span><span class="ident" id="8294901">decUint8Slice</span><span class="op" id="8294914">,</span>&nbsp;<span class="num" id="8294916">6</span><span class="op" id="8294917">,</span>&nbsp;<span class="ident" id="8294919">nil</span><span class="op" id="8294922">,</span>&nbsp;<span class="ident" id="8294924">ovfl</span><span class="op" id="8294928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294932">state</span>&nbsp;<span class="op" id="8294938">:=</span>&nbsp;<span class="ident" id="8294941">newDecodeStateFromData</span><span class="op" id="8294963">(</span><span class="ident" id="8294964">bytesResult</span><span class="op" id="8294975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8294979">execDec</span><span class="op" id="8294986">(</span><span class="string" id="8294987">&#34;bytes&#34;</span><span class="op" id="8294994">,</span>&nbsp;<span class="ident" id="8294996">instr</span><span class="op" id="8295001">,</span>&nbsp;<span class="ident" id="8295003">state</span><span class="op" id="8295008">,</span>&nbsp;<span class="ident" id="8295010">t</span><span class="op" id="8295011">,</span>&nbsp;<span class="ident" id="8295013">reflect</span><span class="op" id="8295020">.</span><span class="ident" id="8295021">ValueOf</span><span class="op" id="8295028">(</span><span class="op" id="8295029">&amp;</span><span class="ident" id="8295030">data</span><span class="op" id="8295034">)</span><span class="op" id="8295035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295039">if</span>&nbsp;<span class="builtintype" id="8295042">string</span><span class="op" id="8295048">(</span><span class="ident" id="8295049">data</span><span class="op" id="8295053">)</span>&nbsp;<span class="op" id="8295055">!=</span>&nbsp;<span class="string" id="8295058">&#34;hello&#34;</span>&nbsp;<span class="op" id="8295066">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295071">t</span><span class="op" id="8295072">.</span><span class="ident" id="8295073">Errorf</span><span class="op" id="8295079">(</span><span class="string" id="8295080">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8295106">,</span>&nbsp;<span class="builtintype" id="8295108">string</span><span class="op" id="8295114">(</span><span class="ident" id="8295115">data</span><span class="op" id="8295119">)</span><span class="op" id="8295120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8295131">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295146">var</span>&nbsp;<span class="ident" id="8295150">data</span>&nbsp;<span class="builtintype" id="8295155">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295164">instr</span>&nbsp;<span class="op" id="8295170">:=</span>&nbsp;<span class="op" id="8295173">&amp;</span><span class="ident" id="8295174">decInstr</span><span class="op" id="8295182">{</span><span class="ident" id="8295183">decString</span><span class="op" id="8295192">,</span>&nbsp;<span class="num" id="8295194">6</span><span class="op" id="8295195">,</span>&nbsp;<span class="ident" id="8295197">nil</span><span class="op" id="8295200">,</span>&nbsp;<span class="ident" id="8295202">ovfl</span><span class="op" id="8295206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295210">state</span>&nbsp;<span class="op" id="8295216">:=</span>&nbsp;<span class="ident" id="8295219">newDecodeStateFromData</span><span class="op" id="8295241">(</span><span class="ident" id="8295242">bytesResult</span><span class="op" id="8295253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295257">execDec</span><span class="op" id="8295264">(</span><span class="string" id="8295265">&#34;bytes&#34;</span><span class="op" id="8295272">,</span>&nbsp;<span class="ident" id="8295274">instr</span><span class="op" id="8295279">,</span>&nbsp;<span class="ident" id="8295281">state</span><span class="op" id="8295286">,</span>&nbsp;<span class="ident" id="8295288">t</span><span class="op" id="8295289">,</span>&nbsp;<span class="ident" id="8295291">reflect</span><span class="op" id="8295298">.</span><span class="ident" id="8295299">ValueOf</span><span class="op" id="8295306">(</span><span class="op" id="8295307">&amp;</span><span class="ident" id="8295308">data</span><span class="op" id="8295312">)</span><span class="op" id="8295313">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295317">if</span>&nbsp;<span class="ident" id="8295320">data</span>&nbsp;<span class="op" id="8295325">!=</span>&nbsp;<span class="string" id="8295328">&#34;hello&#34;</span>&nbsp;<span class="op" id="8295336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295341">t</span><span class="op" id="8295342">.</span><span class="ident" id="8295343">Errorf</span><span class="op" id="8295349">(</span><span class="string" id="8295350">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8295376">,</span>&nbsp;<span class="ident" id="8295378">data</span><span class="op" id="8295382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295389">}</span><br>
<span class="lineno"></span><span class="op" id="8295391">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="8295394">func</span>&nbsp;<span class="ident" id="8295399">TestEndToEnd</span><span class="op" id="8295411">(</span><span class="ident" id="8295412">t</span>&nbsp;<span class="op" id="8295414">*</span><span class="ident" id="8295415">testing</span><span class="op" id="8295422">.</span><span class="ident" id="8295423">T</span><span class="op" id="8295424">)</span>&nbsp;<span class="op" id="8295426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295429">type</span>&nbsp;<span class="ident" id="8295434">T2</span>&nbsp;<span class="keyword" id="8295437">struct</span>&nbsp;<span class="op" id="8295444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295448">T</span>&nbsp;<span class="builtintype" id="8295450">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295458">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295461">s1</span>&nbsp;<span class="op" id="8295464">:=</span>&nbsp;<span class="string" id="8295467">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295478">s2</span>&nbsp;<span class="op" id="8295481">:=</span>&nbsp;<span class="string" id="8295484">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8295495">type</span>&nbsp;<span class="ident" id="8295500">T1</span>&nbsp;<span class="keyword" id="8295503">struct</span>&nbsp;<span class="op" id="8295510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295514">A</span><span class="op" id="8295515">,</span>&nbsp;<span class="ident" id="8295517">B</span><span class="op" id="8295518">,</span>&nbsp;<span class="ident" id="8295520">C</span>&nbsp;&nbsp;<span class="builtintype" id="8295523">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295529">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295538">map</span><span class="op" id="8295541">[</span><span class="builtintype" id="8295542">string</span><span class="op" id="8295548">]</span><span class="op" id="8295549">*</span><span class="builtintype" id="8295550">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295560">EmptyMap</span>&nbsp;<span class="keyword" id="8295569">map</span><span class="op" id="8295572">[</span><span class="builtintype" id="8295573">string</span><span class="op" id="8295579">]</span><span class="builtintype" id="8295580">int</span>&nbsp;<span class="comment" id="8295584">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295629">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295638">*</span><span class="op" id="8295639">[</span><span class="num" id="8295640">3</span><span class="op" id="8295641">]</span><span class="builtintype" id="8295642">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295652">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295661">*</span><span class="op" id="8295662">[</span><span class="num" id="8295663">2</span><span class="op" id="8295664">]</span><span class="builtintype" id="8295665">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295674">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8295683">*</span><span class="op" id="8295684">[</span><span class="op" id="8295685">]</span><span class="ident" id="8295686">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295694">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8295703">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295715">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8295724">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295733">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295742">[</span><span class="op" id="8295743">]</span><span class="builtintype" id="8295744">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295751">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295760">*</span><span class="ident" id="8295761">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8295765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295768">pi</span>&nbsp;<span class="op" id="8295771">:=</span>&nbsp;<span class="num" id="8295774">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295783">e</span>&nbsp;<span class="op" id="8295785">:=</span>&nbsp;<span class="num" id="8295788">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295797">t1</span>&nbsp;<span class="op" id="8295800">:=</span>&nbsp;<span class="op" id="8295803">&amp;</span><span class="ident" id="8295804">T1</span><span class="op" id="8295806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295810">A</span><span class="op" id="8295811">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8295820">17</span><span class="op" id="8295822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295826">B</span><span class="op" id="8295827">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8295836">18</span><span class="op" id="8295838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295842">C</span><span class="op" id="8295843">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295852">-</span><span class="num" id="8295853">5</span><span class="op" id="8295854">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295858">M</span><span class="op" id="8295859">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8295868">map</span><span class="op" id="8295871">[</span><span class="builtintype" id="8295872">string</span><span class="op" id="8295878">]</span><span class="op" id="8295879">*</span><span class="builtintype" id="8295880">float64</span><span class="op" id="8295887">{</span><span class="string" id="8295888">&#34;pi&#34;</span><span class="op" id="8295892">:</span>&nbsp;<span class="op" id="8295894">&amp;</span><span class="ident" id="8295895">pi</span><span class="op" id="8295897">,</span>&nbsp;<span class="string" id="8295899">&#34;e&#34;</span><span class="op" id="8295902">:</span>&nbsp;<span class="op" id="8295904">&amp;</span><span class="ident" id="8295905">e</span><span class="op" id="8295906">}</span><span class="op" id="8295907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295911">EmptyMap</span><span class="op" id="8295919">:</span>&nbsp;<span class="builtinfunc" id="8295921">make</span><span class="op" id="8295925">(</span><span class="keyword" id="8295926">map</span><span class="op" id="8295929">[</span><span class="builtintype" id="8295930">string</span><span class="op" id="8295936">]</span><span class="builtintype" id="8295937">int</span><span class="op" id="8295940">)</span><span class="op" id="8295941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295945">N</span><span class="op" id="8295946">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295955">&amp;</span><span class="op" id="8295956">[</span><span class="num" id="8295957">3</span><span class="op" id="8295958">]</span><span class="builtintype" id="8295959">float64</span><span class="op" id="8295966">{</span><span class="num" id="8295967">1.5</span><span class="op" id="8295970">,</span>&nbsp;<span class="num" id="8295972">2.5</span><span class="op" id="8295975">,</span>&nbsp;<span class="num" id="8295977">3.5</span><span class="op" id="8295980">}</span><span class="op" id="8295981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8295985">Strs</span><span class="op" id="8295989">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8295995">&amp;</span><span class="op" id="8295996">[</span><span class="num" id="8295997">2</span><span class="op" id="8295998">]</span><span class="builtintype" id="8295999">string</span><span class="op" id="8296005">{</span><span class="ident" id="8296006">s1</span><span class="op" id="8296008">,</span>&nbsp;<span class="ident" id="8296010">s2</span><span class="op" id="8296012">}</span><span class="op" id="8296013">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296017">Int64s</span><span class="op" id="8296023">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8296027">&amp;</span><span class="op" id="8296028">[</span><span class="op" id="8296029">]</span><span class="ident" id="8296030">int64</span><span class="op" id="8296035">{</span><span class="num" id="8296036">77</span><span class="op" id="8296038">,</span>&nbsp;<span class="num" id="8296040">89</span><span class="op" id="8296042">,</span>&nbsp;<span class="num" id="8296044">123412342134</span><span class="op" id="8296056">}</span><span class="op" id="8296057">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296061">RI</span><span class="op" id="8296063">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8296071">17</span>&nbsp;<span class="op" id="8296074">-</span>&nbsp;<span class="num" id="8296076">23i</span><span class="op" id="8296079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296083">S</span><span class="op" id="8296084">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8296093">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8296110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296114">Y</span><span class="op" id="8296115">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296124">[</span><span class="op" id="8296125">]</span><span class="builtintype" id="8296126">byte</span><span class="op" id="8296130">(</span><span class="string" id="8296131">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="8296146">)</span><span class="op" id="8296147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296151">T</span><span class="op" id="8296152">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8296161">&amp;</span><span class="ident" id="8296162">T2</span><span class="op" id="8296164">{</span><span class="string" id="8296165">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="8296177">}</span><span class="op" id="8296178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296181">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296184">b</span>&nbsp;<span class="op" id="8296186">:=</span>&nbsp;<span class="builtinfunc" id="8296189">new</span><span class="op" id="8296192">(</span><span class="ident" id="8296193">bytes</span><span class="op" id="8296198">.</span><span class="ident" id="8296199">Buffer</span><span class="op" id="8296205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296208">err</span>&nbsp;<span class="op" id="8296212">:=</span>&nbsp;<span class="ident" id="8296215">NewEncoder</span><span class="op" id="8296225">(</span><span class="ident" id="8296226">b</span><span class="op" id="8296227">)</span><span class="op" id="8296228">.</span><span class="ident" id="8296229">Encode</span><span class="op" id="8296235">(</span><span class="ident" id="8296236">t1</span><span class="op" id="8296238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296241">if</span>&nbsp;<span class="ident" id="8296244">err</span>&nbsp;<span class="op" id="8296248">!=</span>&nbsp;<span class="ident" id="8296251">nil</span>&nbsp;<span class="op" id="8296255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296259">t</span><span class="op" id="8296260">.</span><span class="ident" id="8296261">Error</span><span class="op" id="8296266">(</span><span class="string" id="8296267">&#34;encode:&#34;</span><span class="op" id="8296276">,</span>&nbsp;<span class="ident" id="8296278">err</span><span class="op" id="8296281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296284">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296287">var</span>&nbsp;<span class="ident" id="8296291">_t1</span>&nbsp;<span class="ident" id="8296295">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296299">err</span>&nbsp;<span class="op" id="8296303">=</span>&nbsp;<span class="ident" id="8296305">NewDecoder</span><span class="op" id="8296315">(</span><span class="ident" id="8296316">b</span><span class="op" id="8296317">)</span><span class="op" id="8296318">.</span><span class="ident" id="8296319">Decode</span><span class="op" id="8296325">(</span><span class="op" id="8296326">&amp;</span><span class="ident" id="8296327">_t1</span><span class="op" id="8296330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296333">if</span>&nbsp;<span class="ident" id="8296336">err</span>&nbsp;<span class="op" id="8296340">!=</span>&nbsp;<span class="ident" id="8296343">nil</span>&nbsp;<span class="op" id="8296347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296351">t</span><span class="op" id="8296352">.</span><span class="ident" id="8296353">Fatal</span><span class="op" id="8296358">(</span><span class="string" id="8296359">&#34;decode:&#34;</span><span class="op" id="8296368">,</span>&nbsp;<span class="ident" id="8296370">err</span><span class="op" id="8296373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296376">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296379">if</span>&nbsp;<span class="op" id="8296382">!</span><span class="ident" id="8296383">reflect</span><span class="op" id="8296390">.</span><span class="ident" id="8296391">DeepEqual</span><span class="op" id="8296400">(</span><span class="ident" id="8296401">t1</span><span class="op" id="8296403">,</span>&nbsp;<span class="op" id="8296405">&amp;</span><span class="ident" id="8296406">_t1</span><span class="op" id="8296409">)</span>&nbsp;<span class="op" id="8296411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296415">t</span><span class="op" id="8296416">.</span><span class="ident" id="8296417">Errorf</span><span class="op" id="8296423">(</span><span class="string" id="8296424">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8296451">,</span>&nbsp;<span class="op" id="8296453">*</span><span class="ident" id="8296454">t1</span><span class="op" id="8296456">,</span>&nbsp;<span class="ident" id="8296458">_t1</span><span class="op" id="8296461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8296467">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296519">if</span>&nbsp;<span class="ident" id="8296522">t1</span><span class="op" id="8296524">.</span><span class="ident" id="8296525">EmptyMap</span>&nbsp;<span class="op" id="8296534">==</span>&nbsp;<span class="ident" id="8296537">nil</span>&nbsp;<span class="op" id="8296541">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296545">t</span><span class="op" id="8296546">.</span><span class="ident" id="8296547">Errorf</span><span class="op" id="8296553">(</span><span class="string" id="8296554">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="8296568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296574">if</span>&nbsp;<span class="ident" id="8296577">_t1</span><span class="op" id="8296580">.</span><span class="ident" id="8296581">EmptyMap</span>&nbsp;<span class="op" id="8296590">==</span>&nbsp;<span class="ident" id="8296593">nil</span>&nbsp;<span class="op" id="8296597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296601">t</span><span class="op" id="8296602">.</span><span class="ident" id="8296603">Errorf</span><span class="op" id="8296609">(</span><span class="string" id="8296610">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="8296628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296631">}</span><br>
<span class="lineno">600</span><span class="op" id="8296633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8296636">func</span>&nbsp;<span class="ident" id="8296641">TestOverflow</span><span class="op" id="8296653">(</span><span class="ident" id="8296654">t</span>&nbsp;<span class="op" id="8296656">*</span><span class="ident" id="8296657">testing</span><span class="op" id="8296664">.</span><span class="ident" id="8296665">T</span><span class="op" id="8296666">)</span>&nbsp;<span class="op" id="8296668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296671">type</span>&nbsp;<span class="ident" id="8296676">inputT</span>&nbsp;<span class="keyword" id="8296683">struct</span>&nbsp;<span class="op" id="8296690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296694">Maxi</span>&nbsp;<span class="ident" id="8296699">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296707">Mini</span>&nbsp;<span class="ident" id="8296712">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296720">Maxu</span>&nbsp;<span class="ident" id="8296725">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296734">Maxf</span>&nbsp;<span class="builtintype" id="8296739">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296749">Minf</span>&nbsp;<span class="builtintype" id="8296754">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296764">Maxc</span>&nbsp;<span class="builtintype" id="8296769">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296782">Minc</span>&nbsp;<span class="builtintype" id="8296787">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296802">var</span>&nbsp;<span class="ident" id="8296806">it</span>&nbsp;<span class="ident" id="8296809">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296817">var</span>&nbsp;<span class="ident" id="8296821">err</span>&nbsp;<span class="builtintype" id="8296825">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296832">b</span>&nbsp;<span class="op" id="8296834">:=</span>&nbsp;<span class="builtinfunc" id="8296837">new</span><span class="op" id="8296840">(</span><span class="ident" id="8296841">bytes</span><span class="op" id="8296846">.</span><span class="ident" id="8296847">Buffer</span><span class="op" id="8296853">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296856">enc</span>&nbsp;<span class="op" id="8296860">:=</span>&nbsp;<span class="ident" id="8296863">NewEncoder</span><span class="op" id="8296873">(</span><span class="ident" id="8296874">b</span><span class="op" id="8296875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296878">dec</span>&nbsp;<span class="op" id="8296882">:=</span>&nbsp;<span class="ident" id="8296885">NewDecoder</span><span class="op" id="8296895">(</span><span class="ident" id="8296896">b</span><span class="op" id="8296897">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8296901">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296910">b</span><span class="op" id="8296911">.</span><span class="ident" id="8296912">Reset</span><span class="op" id="8296917">(</span><span class="op" id="8296918">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296921">it</span>&nbsp;<span class="op" id="8296924">=</span>&nbsp;<span class="ident" id="8296926">inputT</span><span class="op" id="8296932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296936">Maxi</span><span class="op" id="8296940">:</span>&nbsp;<span class="ident" id="8296942">math</span><span class="op" id="8296946">.</span><span class="ident" id="8296947">MaxInt8</span>&nbsp;<span class="op" id="8296955">+</span>&nbsp;<span class="num" id="8296957">1</span><span class="op" id="8296958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8296961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8296964">type</span>&nbsp;<span class="ident" id="8296969">outi8</span>&nbsp;<span class="keyword" id="8296975">struct</span>&nbsp;<span class="op" id="8296982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296986">Maxi</span>&nbsp;<span class="builtintype" id="8296991">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8296998">Mini</span>&nbsp;<span class="builtintype" id="8297003">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297012">var</span>&nbsp;<span class="ident" id="8297016">o1</span>&nbsp;<span class="ident" id="8297019">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297026">enc</span><span class="op" id="8297029">.</span><span class="ident" id="8297030">Encode</span><span class="op" id="8297036">(</span><span class="ident" id="8297037">it</span><span class="op" id="8297039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297042">err</span>&nbsp;<span class="op" id="8297046">=</span>&nbsp;<span class="ident" id="8297048">dec</span><span class="op" id="8297051">.</span><span class="ident" id="8297052">Decode</span><span class="op" id="8297058">(</span><span class="op" id="8297059">&amp;</span><span class="ident" id="8297060">o1</span><span class="op" id="8297062">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297065">if</span>&nbsp;<span class="ident" id="8297068">err</span>&nbsp;<span class="op" id="8297072">==</span>&nbsp;<span class="ident" id="8297075">nil</span>&nbsp;<span class="op" id="8297079">||</span>&nbsp;<span class="ident" id="8297082">err</span><span class="op" id="8297085">.</span><span class="ident" id="8297086">Error</span><span class="op" id="8297091">(</span><span class="op" id="8297092">)</span>&nbsp;<span class="op" id="8297094">!=</span>&nbsp;<span class="string" id="8297097">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8297129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297133">t</span><span class="op" id="8297134">.</span><span class="ident" id="8297135">Error</span><span class="op" id="8297140">(</span><span class="string" id="8297141">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8297173">,</span>&nbsp;<span class="ident" id="8297175">err</span><span class="op" id="8297178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297184">it</span>&nbsp;<span class="op" id="8297187">=</span>&nbsp;<span class="ident" id="8297189">inputT</span><span class="op" id="8297195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297199">Mini</span><span class="op" id="8297203">:</span>&nbsp;<span class="ident" id="8297205">math</span><span class="op" id="8297209">.</span><span class="ident" id="8297210">MinInt8</span>&nbsp;<span class="op" id="8297218">-</span>&nbsp;<span class="num" id="8297220">1</span><span class="op" id="8297221">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297227">b</span><span class="op" id="8297228">.</span><span class="ident" id="8297229">Reset</span><span class="op" id="8297234">(</span><span class="op" id="8297235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297238">enc</span><span class="op" id="8297241">.</span><span class="ident" id="8297242">Encode</span><span class="op" id="8297248">(</span><span class="ident" id="8297249">it</span><span class="op" id="8297251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297254">err</span>&nbsp;<span class="op" id="8297258">=</span>&nbsp;<span class="ident" id="8297260">dec</span><span class="op" id="8297263">.</span><span class="ident" id="8297264">Decode</span><span class="op" id="8297270">(</span><span class="op" id="8297271">&amp;</span><span class="ident" id="8297272">o1</span><span class="op" id="8297274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297277">if</span>&nbsp;<span class="ident" id="8297280">err</span>&nbsp;<span class="op" id="8297284">==</span>&nbsp;<span class="ident" id="8297287">nil</span>&nbsp;<span class="op" id="8297291">||</span>&nbsp;<span class="ident" id="8297294">err</span><span class="op" id="8297297">.</span><span class="ident" id="8297298">Error</span><span class="op" id="8297303">(</span><span class="op" id="8297304">)</span>&nbsp;<span class="op" id="8297306">!=</span>&nbsp;<span class="string" id="8297309">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8297341">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297345">t</span><span class="op" id="8297346">.</span><span class="ident" id="8297347">Error</span><span class="op" id="8297352">(</span><span class="string" id="8297353">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8297386">,</span>&nbsp;<span class="ident" id="8297388">err</span><span class="op" id="8297391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8297398">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297408">b</span><span class="op" id="8297409">.</span><span class="ident" id="8297410">Reset</span><span class="op" id="8297415">(</span><span class="op" id="8297416">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297419">it</span>&nbsp;<span class="op" id="8297422">=</span>&nbsp;<span class="ident" id="8297424">inputT</span><span class="op" id="8297430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297434">Maxi</span><span class="op" id="8297438">:</span>&nbsp;<span class="ident" id="8297440">math</span><span class="op" id="8297444">.</span><span class="ident" id="8297445">MaxInt16</span>&nbsp;<span class="op" id="8297454">+</span>&nbsp;<span class="num" id="8297456">1</span><span class="op" id="8297457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297463">type</span>&nbsp;<span class="ident" id="8297468">outi16</span>&nbsp;<span class="keyword" id="8297475">struct</span>&nbsp;<span class="op" id="8297482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297486">Maxi</span>&nbsp;<span class="builtintype" id="8297491">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297499">Mini</span>&nbsp;<span class="builtintype" id="8297504">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297514">var</span>&nbsp;<span class="ident" id="8297518">o2</span>&nbsp;<span class="ident" id="8297521">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297529">enc</span><span class="op" id="8297532">.</span><span class="ident" id="8297533">Encode</span><span class="op" id="8297539">(</span><span class="ident" id="8297540">it</span><span class="op" id="8297542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297545">err</span>&nbsp;<span class="op" id="8297549">=</span>&nbsp;<span class="ident" id="8297551">dec</span><span class="op" id="8297554">.</span><span class="ident" id="8297555">Decode</span><span class="op" id="8297561">(</span><span class="op" id="8297562">&amp;</span><span class="ident" id="8297563">o2</span><span class="op" id="8297565">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297568">if</span>&nbsp;<span class="ident" id="8297571">err</span>&nbsp;<span class="op" id="8297575">==</span>&nbsp;<span class="ident" id="8297578">nil</span>&nbsp;<span class="op" id="8297582">||</span>&nbsp;<span class="ident" id="8297585">err</span><span class="op" id="8297588">.</span><span class="ident" id="8297589">Error</span><span class="op" id="8297594">(</span><span class="op" id="8297595">)</span>&nbsp;<span class="op" id="8297597">!=</span>&nbsp;<span class="string" id="8297600">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8297632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297636">t</span><span class="op" id="8297637">.</span><span class="ident" id="8297638">Error</span><span class="op" id="8297643">(</span><span class="string" id="8297644">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8297677">,</span>&nbsp;<span class="ident" id="8297679">err</span><span class="op" id="8297682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297688">it</span>&nbsp;<span class="op" id="8297691">=</span>&nbsp;<span class="ident" id="8297693">inputT</span><span class="op" id="8297699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297703">Mini</span><span class="op" id="8297707">:</span>&nbsp;<span class="ident" id="8297709">math</span><span class="op" id="8297713">.</span><span class="ident" id="8297714">MinInt16</span>&nbsp;<span class="op" id="8297723">-</span>&nbsp;<span class="num" id="8297725">1</span><span class="op" id="8297726">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297732">b</span><span class="op" id="8297733">.</span><span class="ident" id="8297734">Reset</span><span class="op" id="8297739">(</span><span class="op" id="8297740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297743">enc</span><span class="op" id="8297746">.</span><span class="ident" id="8297747">Encode</span><span class="op" id="8297753">(</span><span class="ident" id="8297754">it</span><span class="op" id="8297756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297759">err</span>&nbsp;<span class="op" id="8297763">=</span>&nbsp;<span class="ident" id="8297765">dec</span><span class="op" id="8297768">.</span><span class="ident" id="8297769">Decode</span><span class="op" id="8297775">(</span><span class="op" id="8297776">&amp;</span><span class="ident" id="8297777">o2</span><span class="op" id="8297779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297782">if</span>&nbsp;<span class="ident" id="8297785">err</span>&nbsp;<span class="op" id="8297789">==</span>&nbsp;<span class="ident" id="8297792">nil</span>&nbsp;<span class="op" id="8297796">||</span>&nbsp;<span class="ident" id="8297799">err</span><span class="op" id="8297802">.</span><span class="ident" id="8297803">Error</span><span class="op" id="8297808">(</span><span class="op" id="8297809">)</span>&nbsp;<span class="op" id="8297811">!=</span>&nbsp;<span class="string" id="8297814">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8297846">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297850">t</span><span class="op" id="8297851">.</span><span class="ident" id="8297852">Error</span><span class="op" id="8297857">(</span><span class="string" id="8297858">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8297892">,</span>&nbsp;<span class="ident" id="8297894">err</span><span class="op" id="8297897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8297904">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297914">b</span><span class="op" id="8297915">.</span><span class="ident" id="8297916">Reset</span><span class="op" id="8297921">(</span><span class="op" id="8297922">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297925">it</span>&nbsp;<span class="op" id="8297928">=</span>&nbsp;<span class="ident" id="8297930">inputT</span><span class="op" id="8297936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297940">Maxi</span><span class="op" id="8297944">:</span>&nbsp;<span class="ident" id="8297946">math</span><span class="op" id="8297950">.</span><span class="ident" id="8297951">MaxInt32</span>&nbsp;<span class="op" id="8297960">+</span>&nbsp;<span class="num" id="8297962">1</span><span class="op" id="8297963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8297966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8297969">type</span>&nbsp;<span class="ident" id="8297974">outi32</span>&nbsp;<span class="keyword" id="8297981">struct</span>&nbsp;<span class="op" id="8297988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8297992">Maxi</span>&nbsp;<span class="builtintype" id="8297997">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298005">Mini</span>&nbsp;<span class="builtintype" id="8298010">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298020">var</span>&nbsp;<span class="ident" id="8298024">o3</span>&nbsp;<span class="ident" id="8298027">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298035">enc</span><span class="op" id="8298038">.</span><span class="ident" id="8298039">Encode</span><span class="op" id="8298045">(</span><span class="ident" id="8298046">it</span><span class="op" id="8298048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298051">err</span>&nbsp;<span class="op" id="8298055">=</span>&nbsp;<span class="ident" id="8298057">dec</span><span class="op" id="8298060">.</span><span class="ident" id="8298061">Decode</span><span class="op" id="8298067">(</span><span class="op" id="8298068">&amp;</span><span class="ident" id="8298069">o3</span><span class="op" id="8298071">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298074">if</span>&nbsp;<span class="ident" id="8298077">err</span>&nbsp;<span class="op" id="8298081">==</span>&nbsp;<span class="ident" id="8298084">nil</span>&nbsp;<span class="op" id="8298088">||</span>&nbsp;<span class="ident" id="8298091">err</span><span class="op" id="8298094">.</span><span class="ident" id="8298095">Error</span><span class="op" id="8298100">(</span><span class="op" id="8298101">)</span>&nbsp;<span class="op" id="8298103">!=</span>&nbsp;<span class="string" id="8298106">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8298138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298142">t</span><span class="op" id="8298143">.</span><span class="ident" id="8298144">Error</span><span class="op" id="8298149">(</span><span class="string" id="8298150">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8298183">,</span>&nbsp;<span class="ident" id="8298185">err</span><span class="op" id="8298188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298194">it</span>&nbsp;<span class="op" id="8298197">=</span>&nbsp;<span class="ident" id="8298199">inputT</span><span class="op" id="8298205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298209">Mini</span><span class="op" id="8298213">:</span>&nbsp;<span class="ident" id="8298215">math</span><span class="op" id="8298219">.</span><span class="ident" id="8298220">MinInt32</span>&nbsp;<span class="op" id="8298229">-</span>&nbsp;<span class="num" id="8298231">1</span><span class="op" id="8298232">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298238">b</span><span class="op" id="8298239">.</span><span class="ident" id="8298240">Reset</span><span class="op" id="8298245">(</span><span class="op" id="8298246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298249">enc</span><span class="op" id="8298252">.</span><span class="ident" id="8298253">Encode</span><span class="op" id="8298259">(</span><span class="ident" id="8298260">it</span><span class="op" id="8298262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298265">err</span>&nbsp;<span class="op" id="8298269">=</span>&nbsp;<span class="ident" id="8298271">dec</span><span class="op" id="8298274">.</span><span class="ident" id="8298275">Decode</span><span class="op" id="8298281">(</span><span class="op" id="8298282">&amp;</span><span class="ident" id="8298283">o3</span><span class="op" id="8298285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298288">if</span>&nbsp;<span class="ident" id="8298291">err</span>&nbsp;<span class="op" id="8298295">==</span>&nbsp;<span class="ident" id="8298298">nil</span>&nbsp;<span class="op" id="8298302">||</span>&nbsp;<span class="ident" id="8298305">err</span><span class="op" id="8298308">.</span><span class="ident" id="8298309">Error</span><span class="op" id="8298314">(</span><span class="op" id="8298315">)</span>&nbsp;<span class="op" id="8298317">!=</span>&nbsp;<span class="string" id="8298320">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8298352">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298356">t</span><span class="op" id="8298357">.</span><span class="ident" id="8298358">Error</span><span class="op" id="8298363">(</span><span class="string" id="8298364">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8298398">,</span>&nbsp;<span class="ident" id="8298400">err</span><span class="op" id="8298403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8298410">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298420">b</span><span class="op" id="8298421">.</span><span class="ident" id="8298422">Reset</span><span class="op" id="8298427">(</span><span class="op" id="8298428">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298431">it</span>&nbsp;<span class="op" id="8298434">=</span>&nbsp;<span class="ident" id="8298436">inputT</span><span class="op" id="8298442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298446">Maxu</span><span class="op" id="8298450">:</span>&nbsp;<span class="ident" id="8298452">math</span><span class="op" id="8298456">.</span><span class="ident" id="8298457">MaxUint8</span>&nbsp;<span class="op" id="8298466">+</span>&nbsp;<span class="num" id="8298468">1</span><span class="op" id="8298469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298475">type</span>&nbsp;<span class="ident" id="8298480">outu8</span>&nbsp;<span class="keyword" id="8298486">struct</span>&nbsp;<span class="op" id="8298493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298497">Maxu</span>&nbsp;<span class="builtintype" id="8298502">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298512">var</span>&nbsp;<span class="ident" id="8298516">o4</span>&nbsp;<span class="ident" id="8298519">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298526">enc</span><span class="op" id="8298529">.</span><span class="ident" id="8298530">Encode</span><span class="op" id="8298536">(</span><span class="ident" id="8298537">it</span><span class="op" id="8298539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298542">err</span>&nbsp;<span class="op" id="8298546">=</span>&nbsp;<span class="ident" id="8298548">dec</span><span class="op" id="8298551">.</span><span class="ident" id="8298552">Decode</span><span class="op" id="8298558">(</span><span class="op" id="8298559">&amp;</span><span class="ident" id="8298560">o4</span><span class="op" id="8298562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298565">if</span>&nbsp;<span class="ident" id="8298568">err</span>&nbsp;<span class="op" id="8298572">==</span>&nbsp;<span class="ident" id="8298575">nil</span>&nbsp;<span class="op" id="8298579">||</span>&nbsp;<span class="ident" id="8298582">err</span><span class="op" id="8298585">.</span><span class="ident" id="8298586">Error</span><span class="op" id="8298591">(</span><span class="op" id="8298592">)</span>&nbsp;<span class="op" id="8298594">!=</span>&nbsp;<span class="string" id="8298597">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8298629">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298633">t</span><span class="op" id="8298634">.</span><span class="ident" id="8298635">Error</span><span class="op" id="8298640">(</span><span class="string" id="8298641">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="8298674">,</span>&nbsp;<span class="ident" id="8298676">err</span><span class="op" id="8298679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8298686">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298697">b</span><span class="op" id="8298698">.</span><span class="ident" id="8298699">Reset</span><span class="op" id="8298704">(</span><span class="op" id="8298705">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298708">it</span>&nbsp;<span class="op" id="8298711">=</span>&nbsp;<span class="ident" id="8298713">inputT</span><span class="op" id="8298719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298723">Maxu</span><span class="op" id="8298727">:</span>&nbsp;<span class="ident" id="8298729">math</span><span class="op" id="8298733">.</span><span class="ident" id="8298734">MaxUint16</span>&nbsp;<span class="op" id="8298744">+</span>&nbsp;<span class="num" id="8298746">1</span><span class="op" id="8298747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298753">type</span>&nbsp;<span class="ident" id="8298758">outu16</span>&nbsp;<span class="keyword" id="8298765">struct</span>&nbsp;<span class="op" id="8298772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298776">Maxu</span>&nbsp;<span class="builtintype" id="8298781">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298792">var</span>&nbsp;<span class="ident" id="8298796">o5</span>&nbsp;<span class="ident" id="8298799">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298807">enc</span><span class="op" id="8298810">.</span><span class="ident" id="8298811">Encode</span><span class="op" id="8298817">(</span><span class="ident" id="8298818">it</span><span class="op" id="8298820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298823">err</span>&nbsp;<span class="op" id="8298827">=</span>&nbsp;<span class="ident" id="8298829">dec</span><span class="op" id="8298832">.</span><span class="ident" id="8298833">Decode</span><span class="op" id="8298839">(</span><span class="op" id="8298840">&amp;</span><span class="ident" id="8298841">o5</span><span class="op" id="8298843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8298846">if</span>&nbsp;<span class="ident" id="8298849">err</span>&nbsp;<span class="op" id="8298853">==</span>&nbsp;<span class="ident" id="8298856">nil</span>&nbsp;<span class="op" id="8298860">||</span>&nbsp;<span class="ident" id="8298863">err</span><span class="op" id="8298866">.</span><span class="ident" id="8298867">Error</span><span class="op" id="8298872">(</span><span class="op" id="8298873">)</span>&nbsp;<span class="op" id="8298875">!=</span>&nbsp;<span class="string" id="8298878">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8298910">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298914">t</span><span class="op" id="8298915">.</span><span class="ident" id="8298916">Error</span><span class="op" id="8298921">(</span><span class="string" id="8298922">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="8298956">,</span>&nbsp;<span class="ident" id="8298958">err</span><span class="op" id="8298961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8298964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8298968">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298979">b</span><span class="op" id="8298980">.</span><span class="ident" id="8298981">Reset</span><span class="op" id="8298986">(</span><span class="op" id="8298987">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8298990">it</span>&nbsp;<span class="op" id="8298993">=</span>&nbsp;<span class="ident" id="8298995">inputT</span><span class="op" id="8299001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299005">Maxu</span><span class="op" id="8299009">:</span>&nbsp;<span class="ident" id="8299011">math</span><span class="op" id="8299015">.</span><span class="ident" id="8299016">MaxUint32</span>&nbsp;<span class="op" id="8299026">+</span>&nbsp;<span class="num" id="8299028">1</span><span class="op" id="8299029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299035">type</span>&nbsp;<span class="ident" id="8299040">outu32</span>&nbsp;<span class="keyword" id="8299047">struct</span>&nbsp;<span class="op" id="8299054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299058">Maxu</span>&nbsp;<span class="builtintype" id="8299063">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299074">var</span>&nbsp;<span class="ident" id="8299078">o6</span>&nbsp;<span class="ident" id="8299081">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299089">enc</span><span class="op" id="8299092">.</span><span class="ident" id="8299093">Encode</span><span class="op" id="8299099">(</span><span class="ident" id="8299100">it</span><span class="op" id="8299102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299105">err</span>&nbsp;<span class="op" id="8299109">=</span>&nbsp;<span class="ident" id="8299111">dec</span><span class="op" id="8299114">.</span><span class="ident" id="8299115">Decode</span><span class="op" id="8299121">(</span><span class="op" id="8299122">&amp;</span><span class="ident" id="8299123">o6</span><span class="op" id="8299125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299128">if</span>&nbsp;<span class="ident" id="8299131">err</span>&nbsp;<span class="op" id="8299135">==</span>&nbsp;<span class="ident" id="8299138">nil</span>&nbsp;<span class="op" id="8299142">||</span>&nbsp;<span class="ident" id="8299145">err</span><span class="op" id="8299148">.</span><span class="ident" id="8299149">Error</span><span class="op" id="8299154">(</span><span class="op" id="8299155">)</span>&nbsp;<span class="op" id="8299157">!=</span>&nbsp;<span class="string" id="8299160">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8299192">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299196">t</span><span class="op" id="8299197">.</span><span class="ident" id="8299198">Error</span><span class="op" id="8299203">(</span><span class="string" id="8299204">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="8299238">,</span>&nbsp;<span class="ident" id="8299240">err</span><span class="op" id="8299243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8299250">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299262">b</span><span class="op" id="8299263">.</span><span class="ident" id="8299264">Reset</span><span class="op" id="8299269">(</span><span class="op" id="8299270">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299273">it</span>&nbsp;<span class="op" id="8299276">=</span>&nbsp;<span class="ident" id="8299278">inputT</span><span class="op" id="8299284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299288">Maxf</span><span class="op" id="8299292">:</span>&nbsp;<span class="ident" id="8299294">math</span><span class="op" id="8299298">.</span><span class="ident" id="8299299">MaxFloat32</span>&nbsp;<span class="op" id="8299310">*</span>&nbsp;<span class="num" id="8299312">2</span><span class="op" id="8299313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299319">type</span>&nbsp;<span class="ident" id="8299324">outf32</span>&nbsp;<span class="keyword" id="8299331">struct</span>&nbsp;<span class="op" id="8299338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299342">Maxf</span>&nbsp;<span class="builtintype" id="8299347">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299357">Minf</span>&nbsp;<span class="builtintype" id="8299362">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299374">var</span>&nbsp;<span class="ident" id="8299378">o7</span>&nbsp;<span class="ident" id="8299381">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299389">enc</span><span class="op" id="8299392">.</span><span class="ident" id="8299393">Encode</span><span class="op" id="8299399">(</span><span class="ident" id="8299400">it</span><span class="op" id="8299402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299405">err</span>&nbsp;<span class="op" id="8299409">=</span>&nbsp;<span class="ident" id="8299411">dec</span><span class="op" id="8299414">.</span><span class="ident" id="8299415">Decode</span><span class="op" id="8299421">(</span><span class="op" id="8299422">&amp;</span><span class="ident" id="8299423">o7</span><span class="op" id="8299425">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299428">if</span>&nbsp;<span class="ident" id="8299431">err</span>&nbsp;<span class="op" id="8299435">==</span>&nbsp;<span class="ident" id="8299438">nil</span>&nbsp;<span class="op" id="8299442">||</span>&nbsp;<span class="ident" id="8299445">err</span><span class="op" id="8299448">.</span><span class="ident" id="8299449">Error</span><span class="op" id="8299454">(</span><span class="op" id="8299455">)</span>&nbsp;<span class="op" id="8299457">!=</span>&nbsp;<span class="string" id="8299460">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8299492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299496">t</span><span class="op" id="8299497">.</span><span class="ident" id="8299498">Error</span><span class="op" id="8299503">(</span><span class="string" id="8299504">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="8299539">,</span>&nbsp;<span class="ident" id="8299541">err</span><span class="op" id="8299544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8299551">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299565">b</span><span class="op" id="8299566">.</span><span class="ident" id="8299567">Reset</span><span class="op" id="8299572">(</span><span class="op" id="8299573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299576">it</span>&nbsp;<span class="op" id="8299579">=</span>&nbsp;<span class="ident" id="8299581">inputT</span><span class="op" id="8299587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299591">Maxc</span><span class="op" id="8299595">:</span>&nbsp;<span class="builtinfunc" id="8299597">complex</span><span class="op" id="8299604">(</span><span class="ident" id="8299605">math</span><span class="op" id="8299609">.</span><span class="ident" id="8299610">MaxFloat32</span><span class="op" id="8299620">*</span><span class="num" id="8299621">2</span><span class="op" id="8299622">,</span>&nbsp;<span class="ident" id="8299624">math</span><span class="op" id="8299628">.</span><span class="ident" id="8299629">MaxFloat32</span><span class="op" id="8299639">*</span><span class="num" id="8299640">2</span><span class="op" id="8299641">)</span><span class="op" id="8299642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299648">type</span>&nbsp;<span class="ident" id="8299653">outc64</span>&nbsp;<span class="keyword" id="8299660">struct</span>&nbsp;<span class="op" id="8299667">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299671">Maxc</span>&nbsp;<span class="builtintype" id="8299676">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299688">Minc</span>&nbsp;<span class="builtintype" id="8299693">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299707">var</span>&nbsp;<span class="ident" id="8299711">o8</span>&nbsp;<span class="ident" id="8299714">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299722">enc</span><span class="op" id="8299725">.</span><span class="ident" id="8299726">Encode</span><span class="op" id="8299732">(</span><span class="ident" id="8299733">it</span><span class="op" id="8299735">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299738">err</span>&nbsp;<span class="op" id="8299742">=</span>&nbsp;<span class="ident" id="8299744">dec</span><span class="op" id="8299747">.</span><span class="ident" id="8299748">Decode</span><span class="op" id="8299754">(</span><span class="op" id="8299755">&amp;</span><span class="ident" id="8299756">o8</span><span class="op" id="8299758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299761">if</span>&nbsp;<span class="ident" id="8299764">err</span>&nbsp;<span class="op" id="8299768">==</span>&nbsp;<span class="ident" id="8299771">nil</span>&nbsp;<span class="op" id="8299775">||</span>&nbsp;<span class="ident" id="8299778">err</span><span class="op" id="8299781">.</span><span class="ident" id="8299782">Error</span><span class="op" id="8299787">(</span><span class="op" id="8299788">)</span>&nbsp;<span class="op" id="8299790">!=</span>&nbsp;<span class="string" id="8299793">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8299825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299829">t</span><span class="op" id="8299830">.</span><span class="ident" id="8299831">Error</span><span class="op" id="8299836">(</span><span class="string" id="8299837">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="8299874">,</span>&nbsp;<span class="ident" id="8299876">err</span><span class="op" id="8299879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299882">}</span><br>
<span class="lineno"></span><span class="op" id="8299884">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="8299887">func</span>&nbsp;<span class="ident" id="8299892">TestNesting</span><span class="op" id="8299903">(</span><span class="ident" id="8299904">t</span>&nbsp;<span class="op" id="8299906">*</span><span class="ident" id="8299907">testing</span><span class="op" id="8299914">.</span><span class="ident" id="8299915">T</span><span class="op" id="8299916">)</span>&nbsp;<span class="op" id="8299918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8299921">type</span>&nbsp;<span class="ident" id="8299926">RT</span>&nbsp;<span class="keyword" id="8299929">struct</span>&nbsp;<span class="op" id="8299936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299940">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8299945">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299954">Next</span>&nbsp;<span class="op" id="8299959">*</span><span class="ident" id="8299960">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8299964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299967">rt</span>&nbsp;<span class="op" id="8299970">:=</span>&nbsp;<span class="builtinfunc" id="8299973">new</span><span class="op" id="8299976">(</span><span class="ident" id="8299977">RT</span><span class="op" id="8299979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299982">rt</span><span class="op" id="8299984">.</span><span class="ident" id="8299985">A</span>&nbsp;<span class="op" id="8299987">=</span>&nbsp;<span class="string" id="8299989">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8299999">rt</span><span class="op" id="8300001">.</span><span class="ident" id="8300002">Next</span>&nbsp;<span class="op" id="8300007">=</span>&nbsp;<span class="builtinfunc" id="8300009">new</span><span class="op" id="8300012">(</span><span class="ident" id="8300013">RT</span><span class="op" id="8300015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300018">rt</span><span class="op" id="8300020">.</span><span class="ident" id="8300021">Next</span><span class="op" id="8300025">.</span><span class="ident" id="8300026">A</span>&nbsp;<span class="op" id="8300028">=</span>&nbsp;<span class="string" id="8300030">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300040">b</span>&nbsp;<span class="op" id="8300042">:=</span>&nbsp;<span class="builtinfunc" id="8300045">new</span><span class="op" id="8300048">(</span><span class="ident" id="8300049">bytes</span><span class="op" id="8300054">.</span><span class="ident" id="8300055">Buffer</span><span class="op" id="8300061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300064">NewEncoder</span><span class="op" id="8300074">(</span><span class="ident" id="8300075">b</span><span class="op" id="8300076">)</span><span class="op" id="8300077">.</span><span class="ident" id="8300078">Encode</span><span class="op" id="8300084">(</span><span class="ident" id="8300085">rt</span><span class="op" id="8300087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8300090">var</span>&nbsp;<span class="ident" id="8300094">drt</span>&nbsp;<span class="ident" id="8300098">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300102">dec</span>&nbsp;<span class="op" id="8300106">:=</span>&nbsp;<span class="ident" id="8300109">NewDecoder</span><span class="op" id="8300119">(</span><span class="ident" id="8300120">b</span><span class="op" id="8300121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300124">err</span>&nbsp;<span class="op" id="8300128">:=</span>&nbsp;<span class="ident" id="8300131">dec</span><span class="op" id="8300134">.</span><span class="ident" id="8300135">Decode</span><span class="op" id="8300141">(</span><span class="op" id="8300142">&amp;</span><span class="ident" id="8300143">drt</span><span class="op" id="8300146">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8300149">if</span>&nbsp;<span class="ident" id="8300152">err</span>&nbsp;<span class="op" id="8300156">!=</span>&nbsp;<span class="ident" id="8300159">nil</span>&nbsp;<span class="op" id="8300163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300167">t</span><span class="op" id="8300168">.</span><span class="ident" id="8300169">Fatal</span><span class="op" id="8300174">(</span><span class="string" id="8300175">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="8300191">,</span>&nbsp;<span class="ident" id="8300193">err</span><span class="op" id="8300196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8300202">if</span>&nbsp;<span class="ident" id="8300205">drt</span><span class="op" id="8300208">.</span><span class="ident" id="8300209">A</span>&nbsp;<span class="op" id="8300211">!=</span>&nbsp;<span class="ident" id="8300214">rt</span><span class="op" id="8300216">.</span><span class="ident" id="8300217">A</span>&nbsp;<span class="op" id="8300219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300223">t</span><span class="op" id="8300224">.</span><span class="ident" id="8300225">Errorf</span><span class="op" id="8300231">(</span><span class="string" id="8300232">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8300268">,</span>&nbsp;<span class="op" id="8300270">*</span><span class="ident" id="8300271">rt</span><span class="op" id="8300273">,</span>&nbsp;<span class="ident" id="8300275">drt</span><span class="op" id="8300278">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8300284">if</span>&nbsp;<span class="ident" id="8300287">drt</span><span class="op" id="8300290">.</span><span class="ident" id="8300291">Next</span>&nbsp;<span class="op" id="8300296">==</span>&nbsp;<span class="ident" id="8300299">nil</span>&nbsp;<span class="op" id="8300303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300307">t</span><span class="op" id="8300308">.</span><span class="ident" id="8300309">Errorf</span><span class="op" id="8300315">(</span><span class="string" id="8300316">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="8300343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8300349">if</span>&nbsp;<span class="ident" id="8300352">drt</span><span class="op" id="8300355">.</span><span class="ident" id="8300356">Next</span><span class="op" id="8300360">.</span><span class="ident" id="8300361">A</span>&nbsp;<span class="op" id="8300363">!=</span>&nbsp;<span class="ident" id="8300366">rt</span><span class="op" id="8300368">.</span><span class="ident" id="8300369">Next</span><span class="op" id="8300373">.</span><span class="ident" id="8300374">A</span>&nbsp;<span class="op" id="8300376">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300380">t</span><span class="op" id="8300381">.</span><span class="ident" id="8300382">Errorf</span><span class="op" id="8300388">(</span><span class="string" id="8300389">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8300425">,</span>&nbsp;<span class="op" id="8300427">*</span><span class="ident" id="8300428">rt</span><span class="op" id="8300430">.</span><span class="ident" id="8300431">Next</span><span class="op" id="8300435">,</span>&nbsp;<span class="op" id="8300437">*</span><span class="ident" id="8300438">drt</span><span class="op" id="8300441">.</span><span class="ident" id="8300442">Next</span><span class="op" id="8300446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300449">}</span><br>
<span class="lineno"></span><span class="op" id="8300451">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8300454">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="8300527">type</span>&nbsp;<span class="ident" id="8300532">T0</span>&nbsp;<span class="keyword" id="8300535">struct</span>&nbsp;<span class="op" id="8300542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300545">A</span>&nbsp;<span class="builtintype" id="8300547">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300552">B</span>&nbsp;<span class="builtintype" id="8300554">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300559">C</span>&nbsp;<span class="builtintype" id="8300561">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300566">D</span>&nbsp;<span class="builtintype" id="8300568">int</span><br>
<span class="lineno">805</span><span class="op" id="8300572">}</span><br>
<span class="lineno"></span><span class="keyword" id="8300574">type</span>&nbsp;<span class="ident" id="8300579">T1</span>&nbsp;<span class="keyword" id="8300582">struct</span>&nbsp;<span class="op" id="8300589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300592">A</span>&nbsp;<span class="builtintype" id="8300594">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300599">B</span>&nbsp;<span class="op" id="8300601">*</span><span class="builtintype" id="8300602">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300607">C</span>&nbsp;<span class="op" id="8300609">*</span><span class="op" id="8300610">*</span><span class="builtintype" id="8300611">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300616">D</span>&nbsp;<span class="op" id="8300618">*</span><span class="op" id="8300619">*</span><span class="op" id="8300620">*</span><span class="builtintype" id="8300621">int</span><br>
<span class="lineno"></span><span class="op" id="8300625">}</span><br>
<span class="lineno"></span><span class="keyword" id="8300627">type</span>&nbsp;<span class="ident" id="8300632">T2</span>&nbsp;<span class="keyword" id="8300635">struct</span>&nbsp;<span class="op" id="8300642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300645">A</span>&nbsp;<span class="op" id="8300647">*</span><span class="op" id="8300648">*</span><span class="op" id="8300649">*</span><span class="builtintype" id="8300650">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300655">B</span>&nbsp;<span class="op" id="8300657">*</span><span class="op" id="8300658">*</span><span class="builtintype" id="8300659">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300664">C</span>&nbsp;<span class="op" id="8300666">*</span><span class="builtintype" id="8300667">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300672">D</span>&nbsp;<span class="builtintype" id="8300674">int</span><br>
<span class="lineno"></span><span class="op" id="8300678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8300681">func</span>&nbsp;<span class="ident" id="8300686">TestAutoIndirection</span><span class="op" id="8300705">(</span><span class="ident" id="8300706">t</span>&nbsp;<span class="op" id="8300708">*</span><span class="ident" id="8300709">testing</span><span class="op" id="8300716">.</span><span class="ident" id="8300717">T</span><span class="op" id="8300718">)</span>&nbsp;<span class="op" id="8300720">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8300723">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8300753">var</span>&nbsp;<span class="ident" id="8300757">t1</span>&nbsp;<span class="ident" id="8300760">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300764">t1</span><span class="op" id="8300766">.</span><span class="ident" id="8300767">A</span>&nbsp;<span class="op" id="8300769">=</span>&nbsp;<span class="num" id="8300771">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300775">t1</span><span class="op" id="8300777">.</span><span class="ident" id="8300778">B</span>&nbsp;<span class="op" id="8300780">=</span>&nbsp;<span class="builtinfunc" id="8300782">new</span><span class="op" id="8300785">(</span><span class="builtintype" id="8300786">int</span><span class="op" id="8300789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300792">*</span><span class="ident" id="8300793">t1</span><span class="op" id="8300795">.</span><span class="ident" id="8300796">B</span>&nbsp;<span class="op" id="8300798">=</span>&nbsp;<span class="num" id="8300800">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300805">t1</span><span class="op" id="8300807">.</span><span class="ident" id="8300808">C</span>&nbsp;<span class="op" id="8300810">=</span>&nbsp;<span class="builtinfunc" id="8300812">new</span><span class="op" id="8300815">(</span><span class="op" id="8300816">*</span><span class="builtintype" id="8300817">int</span><span class="op" id="8300820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300823">*</span><span class="ident" id="8300824">t1</span><span class="op" id="8300826">.</span><span class="ident" id="8300827">C</span>&nbsp;<span class="op" id="8300829">=</span>&nbsp;<span class="builtinfunc" id="8300831">new</span><span class="op" id="8300834">(</span><span class="builtintype" id="8300835">int</span><span class="op" id="8300838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300841">*</span><span class="op" id="8300842">*</span><span class="ident" id="8300843">t1</span><span class="op" id="8300845">.</span><span class="ident" id="8300846">C</span>&nbsp;<span class="op" id="8300848">=</span>&nbsp;<span class="num" id="8300850">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300856">t1</span><span class="op" id="8300858">.</span><span class="ident" id="8300859">D</span>&nbsp;<span class="op" id="8300861">=</span>&nbsp;<span class="builtinfunc" id="8300863">new</span><span class="op" id="8300866">(</span><span class="op" id="8300867">*</span><span class="op" id="8300868">*</span><span class="builtintype" id="8300869">int</span><span class="op" id="8300872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300875">*</span><span class="ident" id="8300876">t1</span><span class="op" id="8300878">.</span><span class="ident" id="8300879">D</span>&nbsp;<span class="op" id="8300881">=</span>&nbsp;<span class="builtinfunc" id="8300883">new</span><span class="op" id="8300886">(</span><span class="op" id="8300887">*</span><span class="builtintype" id="8300888">int</span><span class="op" id="8300891">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300894">*</span><span class="op" id="8300895">*</span><span class="ident" id="8300896">t1</span><span class="op" id="8300898">.</span><span class="ident" id="8300899">D</span>&nbsp;<span class="op" id="8300901">=</span>&nbsp;<span class="builtinfunc" id="8300903">new</span><span class="op" id="8300906">(</span><span class="builtintype" id="8300907">int</span><span class="op" id="8300910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8300913">*</span><span class="op" id="8300914">*</span><span class="op" id="8300915">*</span><span class="ident" id="8300916">t1</span><span class="op" id="8300918">.</span><span class="ident" id="8300919">D</span>&nbsp;<span class="op" id="8300921">=</span>&nbsp;<span class="num" id="8300923">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300930">b</span>&nbsp;<span class="op" id="8300932">:=</span>&nbsp;<span class="builtinfunc" id="8300935">new</span><span class="op" id="8300938">(</span><span class="ident" id="8300939">bytes</span><span class="op" id="8300944">.</span><span class="ident" id="8300945">Buffer</span><span class="op" id="8300951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300954">enc</span>&nbsp;<span class="op" id="8300958">:=</span>&nbsp;<span class="ident" id="8300961">NewEncoder</span><span class="op" id="8300971">(</span><span class="ident" id="8300972">b</span><span class="op" id="8300973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300976">enc</span><span class="op" id="8300979">.</span><span class="ident" id="8300980">Encode</span><span class="op" id="8300986">(</span><span class="ident" id="8300987">t1</span><span class="op" id="8300989">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8300992">dec</span>&nbsp;<span class="op" id="8300996">:=</span>&nbsp;<span class="ident" id="8300999">NewDecoder</span><span class="op" id="8301009">(</span><span class="ident" id="8301010">b</span><span class="op" id="8301011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8301014">var</span>&nbsp;<span class="ident" id="8301018">t0</span>&nbsp;<span class="ident" id="8301021">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301025">dec</span><span class="op" id="8301028">.</span><span class="ident" id="8301029">Decode</span><span class="op" id="8301035">(</span><span class="op" id="8301036">&amp;</span><span class="ident" id="8301037">t0</span><span class="op" id="8301039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8301042">if</span>&nbsp;<span class="ident" id="8301045">t0</span><span class="op" id="8301047">.</span><span class="ident" id="8301048">A</span>&nbsp;<span class="op" id="8301050">!=</span>&nbsp;<span class="num" id="8301053">17</span>&nbsp;<span class="op" id="8301056">||</span>&nbsp;<span class="ident" id="8301059">t0</span><span class="op" id="8301061">.</span><span class="ident" id="8301062">B</span>&nbsp;<span class="op" id="8301064">!=</span>&nbsp;<span class="num" id="8301067">177</span>&nbsp;<span class="op" id="8301071">||</span>&nbsp;<span class="ident" id="8301074">t0</span><span class="op" id="8301076">.</span><span class="ident" id="8301077">C</span>&nbsp;<span class="op" id="8301079">!=</span>&nbsp;<span class="num" id="8301082">1777</span>&nbsp;<span class="op" id="8301087">||</span>&nbsp;<span class="ident" id="8301090">t0</span><span class="op" id="8301092">.</span><span class="ident" id="8301093">D</span>&nbsp;<span class="op" id="8301095">!=</span>&nbsp;<span class="num" id="8301098">17777</span>&nbsp;<span class="op" id="8301104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301108">t</span><span class="op" id="8301109">.</span><span class="ident" id="8301110">Errorf</span><span class="op" id="8301116">(</span><span class="string" id="8301117">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8301163">,</span>&nbsp;<span class="ident" id="8301165">t0</span><span class="op" id="8301167">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8301174">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8301202">var</span>&nbsp;<span class="ident" id="8301206">t2</span>&nbsp;<span class="ident" id="8301209">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301213">t2</span><span class="op" id="8301215">.</span><span class="ident" id="8301216">D</span>&nbsp;<span class="op" id="8301218">=</span>&nbsp;<span class="num" id="8301220">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301227">t2</span><span class="op" id="8301229">.</span><span class="ident" id="8301230">C</span>&nbsp;<span class="op" id="8301232">=</span>&nbsp;<span class="builtinfunc" id="8301234">new</span><span class="op" id="8301237">(</span><span class="builtintype" id="8301238">int</span><span class="op" id="8301241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301244">*</span><span class="ident" id="8301245">t2</span><span class="op" id="8301247">.</span><span class="ident" id="8301248">C</span>&nbsp;<span class="op" id="8301250">=</span>&nbsp;<span class="num" id="8301252">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301258">t2</span><span class="op" id="8301260">.</span><span class="ident" id="8301261">B</span>&nbsp;<span class="op" id="8301263">=</span>&nbsp;<span class="builtinfunc" id="8301265">new</span><span class="op" id="8301268">(</span><span class="op" id="8301269">*</span><span class="builtintype" id="8301270">int</span><span class="op" id="8301273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301276">*</span><span class="ident" id="8301277">t2</span><span class="op" id="8301279">.</span><span class="ident" id="8301280">B</span>&nbsp;<span class="op" id="8301282">=</span>&nbsp;<span class="builtinfunc" id="8301284">new</span><span class="op" id="8301287">(</span><span class="builtintype" id="8301288">int</span><span class="op" id="8301291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301294">*</span><span class="op" id="8301295">*</span><span class="ident" id="8301296">t2</span><span class="op" id="8301298">.</span><span class="ident" id="8301299">B</span>&nbsp;<span class="op" id="8301301">=</span>&nbsp;<span class="num" id="8301303">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301308">t2</span><span class="op" id="8301310">.</span><span class="ident" id="8301311">A</span>&nbsp;<span class="op" id="8301313">=</span>&nbsp;<span class="builtinfunc" id="8301315">new</span><span class="op" id="8301318">(</span><span class="op" id="8301319">*</span><span class="op" id="8301320">*</span><span class="builtintype" id="8301321">int</span><span class="op" id="8301324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301327">*</span><span class="ident" id="8301328">t2</span><span class="op" id="8301330">.</span><span class="ident" id="8301331">A</span>&nbsp;<span class="op" id="8301333">=</span>&nbsp;<span class="builtinfunc" id="8301335">new</span><span class="op" id="8301338">(</span><span class="op" id="8301339">*</span><span class="builtintype" id="8301340">int</span><span class="op" id="8301343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301346">*</span><span class="op" id="8301347">*</span><span class="ident" id="8301348">t2</span><span class="op" id="8301350">.</span><span class="ident" id="8301351">A</span>&nbsp;<span class="op" id="8301353">=</span>&nbsp;<span class="builtinfunc" id="8301355">new</span><span class="op" id="8301358">(</span><span class="builtintype" id="8301359">int</span><span class="op" id="8301362">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301365">*</span><span class="op" id="8301366">*</span><span class="op" id="8301367">*</span><span class="ident" id="8301368">t2</span><span class="op" id="8301370">.</span><span class="ident" id="8301371">A</span>&nbsp;<span class="op" id="8301373">=</span>&nbsp;<span class="num" id="8301375">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301379">b</span><span class="op" id="8301380">.</span><span class="ident" id="8301381">Reset</span><span class="op" id="8301386">(</span><span class="op" id="8301387">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301390">enc</span><span class="op" id="8301393">.</span><span class="ident" id="8301394">Encode</span><span class="op" id="8301400">(</span><span class="ident" id="8301401">t2</span><span class="op" id="8301403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301406">t0</span>&nbsp;<span class="op" id="8301409">=</span>&nbsp;<span class="ident" id="8301411">T0</span><span class="op" id="8301413">{</span><span class="op" id="8301414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301417">dec</span><span class="op" id="8301420">.</span><span class="ident" id="8301421">Decode</span><span class="op" id="8301427">(</span><span class="op" id="8301428">&amp;</span><span class="ident" id="8301429">t0</span><span class="op" id="8301431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8301434">if</span>&nbsp;<span class="ident" id="8301437">t0</span><span class="op" id="8301439">.</span><span class="ident" id="8301440">A</span>&nbsp;<span class="op" id="8301442">!=</span>&nbsp;<span class="num" id="8301445">17</span>&nbsp;<span class="op" id="8301448">||</span>&nbsp;<span class="ident" id="8301451">t0</span><span class="op" id="8301453">.</span><span class="ident" id="8301454">B</span>&nbsp;<span class="op" id="8301456">!=</span>&nbsp;<span class="num" id="8301459">177</span>&nbsp;<span class="op" id="8301463">||</span>&nbsp;<span class="ident" id="8301466">t0</span><span class="op" id="8301468">.</span><span class="ident" id="8301469">C</span>&nbsp;<span class="op" id="8301471">!=</span>&nbsp;<span class="num" id="8301474">1777</span>&nbsp;<span class="op" id="8301479">||</span>&nbsp;<span class="ident" id="8301482">t0</span><span class="op" id="8301484">.</span><span class="ident" id="8301485">D</span>&nbsp;<span class="op" id="8301487">!=</span>&nbsp;<span class="num" id="8301490">17777</span>&nbsp;<span class="op" id="8301496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301500">t</span><span class="op" id="8301501">.</span><span class="ident" id="8301502">Errorf</span><span class="op" id="8301508">(</span><span class="string" id="8301509">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8301554">,</span>&nbsp;<span class="ident" id="8301556">t0</span><span class="op" id="8301558">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8301565">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301593">t0</span>&nbsp;<span class="op" id="8301596">=</span>&nbsp;<span class="ident" id="8301598">T0</span><span class="op" id="8301600">{</span><span class="num" id="8301601">17</span><span class="op" id="8301603">,</span>&nbsp;<span class="num" id="8301605">177</span><span class="op" id="8301608">,</span>&nbsp;<span class="num" id="8301610">1777</span><span class="op" id="8301614">,</span>&nbsp;<span class="num" id="8301616">17777</span><span class="op" id="8301621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301624">b</span><span class="op" id="8301625">.</span><span class="ident" id="8301626">Reset</span><span class="op" id="8301631">(</span><span class="op" id="8301632">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301635">enc</span><span class="op" id="8301638">.</span><span class="ident" id="8301639">Encode</span><span class="op" id="8301645">(</span><span class="ident" id="8301646">t0</span><span class="op" id="8301648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301651">t1</span>&nbsp;<span class="op" id="8301654">=</span>&nbsp;<span class="ident" id="8301656">T1</span><span class="op" id="8301658">{</span><span class="op" id="8301659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301662">dec</span><span class="op" id="8301665">.</span><span class="ident" id="8301666">Decode</span><span class="op" id="8301672">(</span><span class="op" id="8301673">&amp;</span><span class="ident" id="8301674">t1</span><span class="op" id="8301676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8301679">if</span>&nbsp;<span class="ident" id="8301682">t1</span><span class="op" id="8301684">.</span><span class="ident" id="8301685">A</span>&nbsp;<span class="op" id="8301687">!=</span>&nbsp;<span class="num" id="8301690">17</span>&nbsp;<span class="op" id="8301693">||</span>&nbsp;<span class="op" id="8301696">*</span><span class="ident" id="8301697">t1</span><span class="op" id="8301699">.</span><span class="ident" id="8301700">B</span>&nbsp;<span class="op" id="8301702">!=</span>&nbsp;<span class="num" id="8301705">177</span>&nbsp;<span class="op" id="8301709">||</span>&nbsp;<span class="op" id="8301712">*</span><span class="op" id="8301713">*</span><span class="ident" id="8301714">t1</span><span class="op" id="8301716">.</span><span class="ident" id="8301717">C</span>&nbsp;<span class="op" id="8301719">!=</span>&nbsp;<span class="num" id="8301722">1777</span>&nbsp;<span class="op" id="8301727">||</span>&nbsp;<span class="op" id="8301730">*</span><span class="op" id="8301731">*</span><span class="op" id="8301732">*</span><span class="ident" id="8301733">t1</span><span class="op" id="8301735">.</span><span class="ident" id="8301736">D</span>&nbsp;<span class="op" id="8301738">!=</span>&nbsp;<span class="num" id="8301741">17777</span>&nbsp;<span class="op" id="8301747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301751">t</span><span class="op" id="8301752">.</span><span class="ident" id="8301753">Errorf</span><span class="op" id="8301759">(</span><span class="string" id="8301760">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8301816">,</span>&nbsp;<span class="ident" id="8301818">t1</span><span class="op" id="8301820">.</span><span class="ident" id="8301821">A</span><span class="op" id="8301822">,</span>&nbsp;<span class="op" id="8301824">*</span><span class="ident" id="8301825">t1</span><span class="op" id="8301827">.</span><span class="ident" id="8301828">B</span><span class="op" id="8301829">,</span>&nbsp;<span class="op" id="8301831">*</span><span class="op" id="8301832">*</span><span class="ident" id="8301833">t1</span><span class="op" id="8301835">.</span><span class="ident" id="8301836">C</span><span class="op" id="8301837">,</span>&nbsp;<span class="op" id="8301839">*</span><span class="op" id="8301840">*</span><span class="op" id="8301841">*</span><span class="ident" id="8301842">t1</span><span class="op" id="8301844">.</span><span class="ident" id="8301845">D</span><span class="op" id="8301846">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8301849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8301853">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301881">b</span><span class="op" id="8301882">.</span><span class="ident" id="8301883">Reset</span><span class="op" id="8301888">(</span><span class="op" id="8301889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301892">enc</span><span class="op" id="8301895">.</span><span class="ident" id="8301896">Encode</span><span class="op" id="8301902">(</span><span class="ident" id="8301903">t0</span><span class="op" id="8301905">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301908">t2</span>&nbsp;<span class="op" id="8301911">=</span>&nbsp;<span class="ident" id="8301913">T2</span><span class="op" id="8301915">{</span><span class="op" id="8301916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8301919">dec</span><span class="op" id="8301922">.</span><span class="ident" id="8301923">Decode</span><span class="op" id="8301929">(</span><span class="op" id="8301930">&amp;</span><span class="ident" id="8301931">t2</span><span class="op" id="8301933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8301936">if</span>&nbsp;<span class="op" id="8301939">*</span><span class="op" id="8301940">*</span><span class="op" id="8301941">*</span><span class="ident" id="8301942">t2</span><span class="op" id="8301944">.</span><span class="ident" id="8301945">A</span>&nbsp;<span class="op" id="8301947">!=</span>&nbsp;<span class="num" id="8301950">17</span>&nbsp;<span class="op" id="8301953">||</span>&nbsp;<span class="op" id="8301956">*</span><span class="op" id="8301957">*</span><span class="ident" id="8301958">t2</span><span class="op" id="8301960">.</span><span class="ident" id="8301961">B</span>&nbsp;<span class="op" id="8301963">!=</span>&nbsp;<span class="num" id="8301966">177</span>&nbsp;<span class="op" id="8301970">||</span>&nbsp;<span class="op" id="8301973">*</span><span class="ident" id="8301974">t2</span><span class="op" id="8301976">.</span><span class="ident" id="8301977">C</span>&nbsp;<span class="op" id="8301979">!=</span>&nbsp;<span class="num" id="8301982">1777</span>&nbsp;<span class="op" id="8301987">||</span>&nbsp;<span class="ident" id="8301990">t2</span><span class="op" id="8301992">.</span><span class="ident" id="8301993">D</span>&nbsp;<span class="op" id="8301995">!=</span>&nbsp;<span class="num" id="8301998">17777</span>&nbsp;<span class="op" id="8302004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302008">t</span><span class="op" id="8302009">.</span><span class="ident" id="8302010">Errorf</span><span class="op" id="8302016">(</span><span class="string" id="8302017">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8302073">,</span>&nbsp;<span class="op" id="8302075">*</span><span class="op" id="8302076">*</span><span class="op" id="8302077">*</span><span class="ident" id="8302078">t2</span><span class="op" id="8302080">.</span><span class="ident" id="8302081">A</span><span class="op" id="8302082">,</span>&nbsp;<span class="op" id="8302084">*</span><span class="op" id="8302085">*</span><span class="ident" id="8302086">t2</span><span class="op" id="8302088">.</span><span class="ident" id="8302089">B</span><span class="op" id="8302090">,</span>&nbsp;<span class="op" id="8302092">*</span><span class="ident" id="8302093">t2</span><span class="op" id="8302095">.</span><span class="ident" id="8302096">C</span><span class="op" id="8302097">,</span>&nbsp;<span class="ident" id="8302099">t2</span><span class="op" id="8302101">.</span><span class="ident" id="8302102">D</span><span class="op" id="8302103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8302106">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8302110">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302166">b</span><span class="op" id="8302167">.</span><span class="ident" id="8302168">Reset</span><span class="op" id="8302173">(</span><span class="op" id="8302174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302177">enc</span><span class="op" id="8302180">.</span><span class="ident" id="8302181">Encode</span><span class="op" id="8302187">(</span><span class="ident" id="8302188">t0</span><span class="op" id="8302190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8302193">*</span><span class="op" id="8302194">*</span><span class="op" id="8302195">*</span><span class="ident" id="8302196">t2</span><span class="op" id="8302198">.</span><span class="ident" id="8302199">A</span>&nbsp;<span class="op" id="8302201">=</span>&nbsp;<span class="num" id="8302203">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8302206">*</span><span class="op" id="8302207">*</span><span class="ident" id="8302208">t2</span><span class="op" id="8302210">.</span><span class="ident" id="8302211">B</span>&nbsp;<span class="op" id="8302213">=</span>&nbsp;<span class="num" id="8302215">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8302218">*</span><span class="ident" id="8302219">t2</span><span class="op" id="8302221">.</span><span class="ident" id="8302222">C</span>&nbsp;<span class="op" id="8302224">=</span>&nbsp;<span class="num" id="8302226">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302229">t2</span><span class="op" id="8302231">.</span><span class="ident" id="8302232">D</span>&nbsp;<span class="op" id="8302234">=</span>&nbsp;<span class="num" id="8302236">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302239">dec</span><span class="op" id="8302242">.</span><span class="ident" id="8302243">Decode</span><span class="op" id="8302249">(</span><span class="op" id="8302250">&amp;</span><span class="ident" id="8302251">t2</span><span class="op" id="8302253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8302256">if</span>&nbsp;<span class="op" id="8302259">*</span><span class="op" id="8302260">*</span><span class="op" id="8302261">*</span><span class="ident" id="8302262">t2</span><span class="op" id="8302264">.</span><span class="ident" id="8302265">A</span>&nbsp;<span class="op" id="8302267">!=</span>&nbsp;<span class="num" id="8302270">17</span>&nbsp;<span class="op" id="8302273">||</span>&nbsp;<span class="op" id="8302276">*</span><span class="op" id="8302277">*</span><span class="ident" id="8302278">t2</span><span class="op" id="8302280">.</span><span class="ident" id="8302281">B</span>&nbsp;<span class="op" id="8302283">!=</span>&nbsp;<span class="num" id="8302286">177</span>&nbsp;<span class="op" id="8302290">||</span>&nbsp;<span class="op" id="8302293">*</span><span class="ident" id="8302294">t2</span><span class="op" id="8302296">.</span><span class="ident" id="8302297">C</span>&nbsp;<span class="op" id="8302299">!=</span>&nbsp;<span class="num" id="8302302">1777</span>&nbsp;<span class="op" id="8302307">||</span>&nbsp;<span class="ident" id="8302310">t2</span><span class="op" id="8302312">.</span><span class="ident" id="8302313">D</span>&nbsp;<span class="op" id="8302315">!=</span>&nbsp;<span class="num" id="8302318">17777</span>&nbsp;<span class="op" id="8302324">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302328">t</span><span class="op" id="8302329">.</span><span class="ident" id="8302330">Errorf</span><span class="op" id="8302336">(</span><span class="string" id="8302337">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8302393">,</span>&nbsp;<span class="op" id="8302395">*</span><span class="op" id="8302396">*</span><span class="op" id="8302397">*</span><span class="ident" id="8302398">t2</span><span class="op" id="8302400">.</span><span class="ident" id="8302401">A</span><span class="op" id="8302402">,</span>&nbsp;<span class="op" id="8302404">*</span><span class="op" id="8302405">*</span><span class="ident" id="8302406">t2</span><span class="op" id="8302408">.</span><span class="ident" id="8302409">B</span><span class="op" id="8302410">,</span>&nbsp;<span class="op" id="8302412">*</span><span class="ident" id="8302413">t2</span><span class="op" id="8302415">.</span><span class="ident" id="8302416">C</span><span class="op" id="8302417">,</span>&nbsp;<span class="ident" id="8302419">t2</span><span class="op" id="8302421">.</span><span class="ident" id="8302422">D</span><span class="op" id="8302423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8302426">}</span><br>
<span class="lineno"></span><span class="op" id="8302428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8302431">type</span>&nbsp;<span class="ident" id="8302436">RT0</span>&nbsp;<span class="keyword" id="8302440">struct</span>&nbsp;<span class="op" id="8302447">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302450">A</span>&nbsp;<span class="builtintype" id="8302452">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302457">B</span>&nbsp;<span class="builtintype" id="8302459">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302467">C</span>&nbsp;<span class="builtintype" id="8302469">float64</span><br>
<span class="lineno"></span><span class="op" id="8302477">}</span><br>
<span class="lineno"></span><span class="keyword" id="8302479">type</span>&nbsp;<span class="ident" id="8302484">RT1</span>&nbsp;<span class="keyword" id="8302488">struct</span>&nbsp;<span class="op" id="8302495">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302498">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8302505">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302514">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8302521">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302529">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8302536">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302541">NotSet</span>&nbsp;<span class="builtintype" id="8302548">string</span><br>
<span class="lineno"></span><span class="op" id="8302555">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="8302558">func</span>&nbsp;<span class="ident" id="8302563">TestReorderedFields</span><span class="op" id="8302582">(</span><span class="ident" id="8302583">t</span>&nbsp;<span class="op" id="8302585">*</span><span class="ident" id="8302586">testing</span><span class="op" id="8302593">.</span><span class="ident" id="8302594">T</span><span class="op" id="8302595">)</span>&nbsp;<span class="op" id="8302597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8302600">var</span>&nbsp;<span class="ident" id="8302604">rt0</span>&nbsp;<span class="ident" id="8302608">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302613">rt0</span><span class="op" id="8302616">.</span><span class="ident" id="8302617">A</span>&nbsp;<span class="op" id="8302619">=</span>&nbsp;<span class="num" id="8302621">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302625">rt0</span><span class="op" id="8302628">.</span><span class="ident" id="8302629">B</span>&nbsp;<span class="op" id="8302631">=</span>&nbsp;<span class="string" id="8302633">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302642">rt0</span><span class="op" id="8302645">.</span><span class="ident" id="8302646">C</span>&nbsp;<span class="op" id="8302648">=</span>&nbsp;<span class="num" id="8302650">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302659">b</span>&nbsp;<span class="op" id="8302661">:=</span>&nbsp;<span class="builtinfunc" id="8302664">new</span><span class="op" id="8302667">(</span><span class="ident" id="8302668">bytes</span><span class="op" id="8302673">.</span><span class="ident" id="8302674">Buffer</span><span class="op" id="8302680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302683">NewEncoder</span><span class="op" id="8302693">(</span><span class="ident" id="8302694">b</span><span class="op" id="8302695">)</span><span class="op" id="8302696">.</span><span class="ident" id="8302697">Encode</span><span class="op" id="8302703">(</span><span class="ident" id="8302704">rt0</span><span class="op" id="8302707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302710">dec</span>&nbsp;<span class="op" id="8302714">:=</span>&nbsp;<span class="ident" id="8302717">NewDecoder</span><span class="op" id="8302727">(</span><span class="ident" id="8302728">b</span><span class="op" id="8302729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8302732">var</span>&nbsp;<span class="ident" id="8302736">rt1</span>&nbsp;<span class="ident" id="8302740">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8302745">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302786">err</span>&nbsp;<span class="op" id="8302790">:=</span>&nbsp;<span class="ident" id="8302793">dec</span><span class="op" id="8302796">.</span><span class="ident" id="8302797">Decode</span><span class="op" id="8302803">(</span><span class="op" id="8302804">&amp;</span><span class="ident" id="8302805">rt1</span><span class="op" id="8302808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8302811">if</span>&nbsp;<span class="ident" id="8302814">err</span>&nbsp;<span class="op" id="8302818">!=</span>&nbsp;<span class="ident" id="8302821">nil</span>&nbsp;<span class="op" id="8302825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302829">t</span><span class="op" id="8302830">.</span><span class="ident" id="8302831">Fatal</span><span class="op" id="8302836">(</span><span class="string" id="8302837">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8302852">,</span>&nbsp;<span class="ident" id="8302854">err</span><span class="op" id="8302857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8302860">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8302863">if</span>&nbsp;<span class="ident" id="8302866">rt0</span><span class="op" id="8302869">.</span><span class="ident" id="8302870">A</span>&nbsp;<span class="op" id="8302872">!=</span>&nbsp;<span class="ident" id="8302875">rt1</span><span class="op" id="8302878">.</span><span class="ident" id="8302879">A</span>&nbsp;<span class="op" id="8302881">||</span>&nbsp;<span class="ident" id="8302884">rt0</span><span class="op" id="8302887">.</span><span class="ident" id="8302888">B</span>&nbsp;<span class="op" id="8302890">!=</span>&nbsp;<span class="ident" id="8302893">rt1</span><span class="op" id="8302896">.</span><span class="ident" id="8302897">B</span>&nbsp;<span class="op" id="8302899">||</span>&nbsp;<span class="ident" id="8302902">rt0</span><span class="op" id="8302905">.</span><span class="ident" id="8302906">C</span>&nbsp;<span class="op" id="8302908">!=</span>&nbsp;<span class="ident" id="8302911">rt1</span><span class="op" id="8302914">.</span><span class="ident" id="8302915">C</span>&nbsp;<span class="op" id="8302917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8302921">t</span><span class="op" id="8302922">.</span><span class="ident" id="8302923">Errorf</span><span class="op" id="8302929">(</span><span class="string" id="8302930">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8302961">,</span>&nbsp;<span class="ident" id="8302963">rt0</span><span class="op" id="8302966">,</span>&nbsp;<span class="ident" id="8302968">rt1</span><span class="op" id="8302971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8302974">}</span><br>
<span class="lineno"></span><span class="op" id="8302976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="8302979">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="8303043">type</span>&nbsp;<span class="ident" id="8303048">IT0</span>&nbsp;<span class="keyword" id="8303052">struct</span>&nbsp;<span class="op" id="8303059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303062">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8303071">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303078">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8303087">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303095">Ignore_d</span>&nbsp;<span class="op" id="8303104">[</span><span class="op" id="8303105">]</span><span class="builtintype" id="8303106">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303111">Ignore_e</span>&nbsp;<span class="op" id="8303120">[</span><span class="num" id="8303121">3</span><span class="op" id="8303122">]</span><span class="builtintype" id="8303123">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303132">Ignore_f</span>&nbsp;<span class="builtintype" id="8303141">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303147">Ignore_g</span>&nbsp;<span class="builtintype" id="8303156">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303164">Ignore_h</span>&nbsp;<span class="op" id="8303173">[</span><span class="op" id="8303174">]</span><span class="builtintype" id="8303175">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303181">Ignore_i</span>&nbsp;<span class="op" id="8303190">*</span><span class="ident" id="8303191">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303196">Ignore_m</span>&nbsp;<span class="keyword" id="8303205">map</span><span class="op" id="8303208">[</span><span class="builtintype" id="8303209">string</span><span class="op" id="8303215">]</span><span class="builtintype" id="8303216">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303221">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8303230">float64</span><br>
<span class="lineno"></span><span class="op" id="8303238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8303241">func</span>&nbsp;<span class="ident" id="8303246">TestIgnoredFields</span><span class="op" id="8303263">(</span><span class="ident" id="8303264">t</span>&nbsp;<span class="op" id="8303266">*</span><span class="ident" id="8303267">testing</span><span class="op" id="8303274">.</span><span class="ident" id="8303275">T</span><span class="op" id="8303276">)</span>&nbsp;<span class="op" id="8303278">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8303281">var</span>&nbsp;<span class="ident" id="8303285">it0</span>&nbsp;<span class="ident" id="8303289">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303294">it0</span><span class="op" id="8303297">.</span><span class="ident" id="8303298">A</span>&nbsp;<span class="op" id="8303300">=</span>&nbsp;<span class="num" id="8303302">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303306">it0</span><span class="op" id="8303309">.</span><span class="ident" id="8303310">B</span>&nbsp;<span class="op" id="8303312">=</span>&nbsp;<span class="string" id="8303314">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303323">it0</span><span class="op" id="8303326">.</span><span class="ident" id="8303327">C</span>&nbsp;<span class="op" id="8303329">=</span>&nbsp;<span class="num" id="8303331">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303340">it0</span><span class="op" id="8303343">.</span><span class="ident" id="8303344">Ignore_d</span>&nbsp;<span class="op" id="8303353">=</span>&nbsp;<span class="op" id="8303355">[</span><span class="op" id="8303356">]</span><span class="builtintype" id="8303357">int</span><span class="op" id="8303360">{</span><span class="num" id="8303361">1</span><span class="op" id="8303362">,</span>&nbsp;<span class="num" id="8303364">2</span><span class="op" id="8303365">,</span>&nbsp;<span class="num" id="8303367">3</span><span class="op" id="8303368">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303371">it0</span><span class="op" id="8303374">.</span><span class="ident" id="8303375">Ignore_e</span><span class="op" id="8303383">[</span><span class="num" id="8303384">0</span><span class="op" id="8303385">]</span>&nbsp;<span class="op" id="8303387">=</span>&nbsp;<span class="num" id="8303389">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303394">it0</span><span class="op" id="8303397">.</span><span class="ident" id="8303398">Ignore_e</span><span class="op" id="8303406">[</span><span class="num" id="8303407">1</span><span class="op" id="8303408">]</span>&nbsp;<span class="op" id="8303410">=</span>&nbsp;<span class="num" id="8303412">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303417">it0</span><span class="op" id="8303420">.</span><span class="ident" id="8303421">Ignore_e</span><span class="op" id="8303429">[</span><span class="num" id="8303430">2</span><span class="op" id="8303431">]</span>&nbsp;<span class="op" id="8303433">=</span>&nbsp;<span class="num" id="8303435">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303440">it0</span><span class="op" id="8303443">.</span><span class="ident" id="8303444">Ignore_f</span>&nbsp;<span class="op" id="8303453">=</span>&nbsp;<span class="builtintype" id="8303455">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303461">it0</span><span class="op" id="8303464">.</span><span class="ident" id="8303465">Ignore_g</span>&nbsp;<span class="op" id="8303474">=</span>&nbsp;<span class="string" id="8303476">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303496">it0</span><span class="op" id="8303499">.</span><span class="ident" id="8303500">Ignore_h</span>&nbsp;<span class="op" id="8303509">=</span>&nbsp;<span class="op" id="8303511">[</span><span class="op" id="8303512">]</span><span class="builtintype" id="8303513">byte</span><span class="op" id="8303517">(</span><span class="string" id="8303518">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="8303534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303537">it0</span><span class="op" id="8303540">.</span><span class="ident" id="8303541">Ignore_i</span>&nbsp;<span class="op" id="8303550">=</span>&nbsp;<span class="op" id="8303552">&amp;</span><span class="ident" id="8303553">RT1</span><span class="op" id="8303556">{</span><span class="num" id="8303557">3.1</span><span class="op" id="8303560">,</span>&nbsp;<span class="string" id="8303562">&#34;hi&#34;</span><span class="op" id="8303566">,</span>&nbsp;<span class="num" id="8303568">7</span><span class="op" id="8303569">,</span>&nbsp;<span class="string" id="8303571">&#34;hello&#34;</span><span class="op" id="8303578">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303581">it0</span><span class="op" id="8303584">.</span><span class="ident" id="8303585">Ignore_m</span>&nbsp;<span class="op" id="8303594">=</span>&nbsp;<span class="keyword" id="8303596">map</span><span class="op" id="8303599">[</span><span class="builtintype" id="8303600">string</span><span class="op" id="8303606">]</span><span class="builtintype" id="8303607">int</span><span class="op" id="8303610">{</span><span class="string" id="8303611">&#34;one&#34;</span><span class="op" id="8303616">:</span>&nbsp;<span class="num" id="8303618">1</span><span class="op" id="8303619">,</span>&nbsp;<span class="string" id="8303621">&#34;two&#34;</span><span class="op" id="8303626">:</span>&nbsp;<span class="num" id="8303628">2</span><span class="op" id="8303629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303633">b</span>&nbsp;<span class="op" id="8303635">:=</span>&nbsp;<span class="builtinfunc" id="8303638">new</span><span class="op" id="8303641">(</span><span class="ident" id="8303642">bytes</span><span class="op" id="8303647">.</span><span class="ident" id="8303648">Buffer</span><span class="op" id="8303654">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303657">NewEncoder</span><span class="op" id="8303667">(</span><span class="ident" id="8303668">b</span><span class="op" id="8303669">)</span><span class="op" id="8303670">.</span><span class="ident" id="8303671">Encode</span><span class="op" id="8303677">(</span><span class="ident" id="8303678">it0</span><span class="op" id="8303681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303684">dec</span>&nbsp;<span class="op" id="8303688">:=</span>&nbsp;<span class="ident" id="8303691">NewDecoder</span><span class="op" id="8303701">(</span><span class="ident" id="8303702">b</span><span class="op" id="8303703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8303706">var</span>&nbsp;<span class="ident" id="8303710">rt1</span>&nbsp;<span class="ident" id="8303714">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8303719">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303760">err</span>&nbsp;<span class="op" id="8303764">:=</span>&nbsp;<span class="ident" id="8303767">dec</span><span class="op" id="8303770">.</span><span class="ident" id="8303771">Decode</span><span class="op" id="8303777">(</span><span class="op" id="8303778">&amp;</span><span class="ident" id="8303779">rt1</span><span class="op" id="8303782">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8303785">if</span>&nbsp;<span class="ident" id="8303788">err</span>&nbsp;<span class="op" id="8303792">!=</span>&nbsp;<span class="ident" id="8303795">nil</span>&nbsp;<span class="op" id="8303799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303803">t</span><span class="op" id="8303804">.</span><span class="ident" id="8303805">Error</span><span class="op" id="8303810">(</span><span class="string" id="8303811">&#34;error:&nbsp;&#34;</span><span class="op" id="8303820">,</span>&nbsp;<span class="ident" id="8303822">err</span><span class="op" id="8303825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8303828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8303831">if</span>&nbsp;<span class="builtintype" id="8303834">int</span><span class="op" id="8303837">(</span><span class="ident" id="8303838">it0</span><span class="op" id="8303841">.</span><span class="ident" id="8303842">A</span><span class="op" id="8303843">)</span>&nbsp;<span class="op" id="8303845">!=</span>&nbsp;<span class="ident" id="8303848">rt1</span><span class="op" id="8303851">.</span><span class="ident" id="8303852">A</span>&nbsp;<span class="op" id="8303854">||</span>&nbsp;<span class="ident" id="8303857">it0</span><span class="op" id="8303860">.</span><span class="ident" id="8303861">B</span>&nbsp;<span class="op" id="8303863">!=</span>&nbsp;<span class="ident" id="8303866">rt1</span><span class="op" id="8303869">.</span><span class="ident" id="8303870">B</span>&nbsp;<span class="op" id="8303872">||</span>&nbsp;<span class="ident" id="8303875">it0</span><span class="op" id="8303878">.</span><span class="ident" id="8303879">C</span>&nbsp;<span class="op" id="8303881">!=</span>&nbsp;<span class="ident" id="8303884">rt1</span><span class="op" id="8303887">.</span><span class="ident" id="8303888">C</span>&nbsp;<span class="op" id="8303890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8303894">t</span><span class="op" id="8303895">.</span><span class="ident" id="8303896">Errorf</span><span class="op" id="8303902">(</span><span class="string" id="8303903">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8303934">,</span>&nbsp;<span class="ident" id="8303936">it0</span><span class="op" id="8303939">,</span>&nbsp;<span class="ident" id="8303941">rt1</span><span class="op" id="8303944">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8303947">}</span><br>
<span class="lineno"></span><span class="op" id="8303949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8303952">func</span>&nbsp;<span class="ident" id="8303957">TestBadRecursiveType</span><span class="op" id="8303977">(</span><span class="ident" id="8303978">t</span>&nbsp;<span class="op" id="8303980">*</span><span class="ident" id="8303981">testing</span><span class="op" id="8303988">.</span><span class="ident" id="8303989">T</span><span class="op" id="8303990">)</span>&nbsp;<span class="op" id="8303992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8303995">type</span>&nbsp;<span class="ident" id="8304000">Rec</span>&nbsp;<span class="op" id="8304004">*</span><span class="op" id="8304005">*</span><span class="op" id="8304006">*</span><span class="ident" id="8304007">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8304012">var</span>&nbsp;<span class="ident" id="8304016">rec</span>&nbsp;<span class="ident" id="8304020">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304025">b</span>&nbsp;<span class="op" id="8304027">:=</span>&nbsp;<span class="builtinfunc" id="8304030">new</span><span class="op" id="8304033">(</span><span class="ident" id="8304034">bytes</span><span class="op" id="8304039">.</span><span class="ident" id="8304040">Buffer</span><span class="op" id="8304046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304049">err</span>&nbsp;<span class="op" id="8304053">:=</span>&nbsp;<span class="ident" id="8304056">NewEncoder</span><span class="op" id="8304066">(</span><span class="ident" id="8304067">b</span><span class="op" id="8304068">)</span><span class="op" id="8304069">.</span><span class="ident" id="8304070">Encode</span><span class="op" id="8304076">(</span><span class="op" id="8304077">&amp;</span><span class="ident" id="8304078">rec</span><span class="op" id="8304081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8304084">if</span>&nbsp;<span class="ident" id="8304087">err</span>&nbsp;<span class="op" id="8304091">==</span>&nbsp;<span class="ident" id="8304094">nil</span>&nbsp;<span class="op" id="8304098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304102">t</span><span class="op" id="8304103">.</span><span class="ident" id="8304104">Error</span><span class="op" id="8304109">(</span><span class="string" id="8304110">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8304136">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304139">}</span>&nbsp;<span class="keyword" id="8304141">else</span>&nbsp;<span class="keyword" id="8304146">if</span>&nbsp;<span class="ident" id="8304149">strings</span><span class="op" id="8304156">.</span><span class="ident" id="8304157">Index</span><span class="op" id="8304162">(</span><span class="ident" id="8304163">err</span><span class="op" id="8304166">.</span><span class="ident" id="8304167">Error</span><span class="op" id="8304172">(</span><span class="op" id="8304173">)</span><span class="op" id="8304174">,</span>&nbsp;<span class="string" id="8304176">&#34;recursive&#34;</span><span class="op" id="8304187">)</span>&nbsp;<span class="op" id="8304189">&lt;</span>&nbsp;<span class="num" id="8304191">0</span>&nbsp;<span class="op" id="8304193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304197">t</span><span class="op" id="8304198">.</span><span class="ident" id="8304199">Error</span><span class="op" id="8304204">(</span><span class="string" id="8304205">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8304241">,</span>&nbsp;<span class="ident" id="8304243">err</span><span class="op" id="8304246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8304252">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="8304344">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="8304347">type</span>&nbsp;<span class="ident" id="8304352">Indirect</span>&nbsp;<span class="keyword" id="8304361">struct</span>&nbsp;<span class="op" id="8304368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304371">A</span>&nbsp;<span class="op" id="8304373">*</span><span class="op" id="8304374">*</span><span class="op" id="8304375">*</span><span class="op" id="8304376">[</span><span class="num" id="8304377">3</span><span class="op" id="8304378">]</span><span class="builtintype" id="8304379">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304384">S</span>&nbsp;<span class="op" id="8304386">*</span><span class="op" id="8304387">*</span><span class="op" id="8304388">*</span><span class="op" id="8304389">[</span><span class="op" id="8304390">]</span><span class="builtintype" id="8304391">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304396">M</span>&nbsp;<span class="op" id="8304398">*</span><span class="op" id="8304399">*</span><span class="op" id="8304400">*</span><span class="op" id="8304401">*</span><span class="keyword" id="8304402">map</span><span class="op" id="8304405">[</span><span class="builtintype" id="8304406">string</span><span class="op" id="8304412">]</span><span class="builtintype" id="8304413">int</span><br>
<span class="lineno">985</span><span class="op" id="8304417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8304420">type</span>&nbsp;<span class="ident" id="8304425">Direct</span>&nbsp;<span class="keyword" id="8304432">struct</span>&nbsp;<span class="op" id="8304439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304442">A</span>&nbsp;<span class="op" id="8304444">[</span><span class="num" id="8304445">3</span><span class="op" id="8304446">]</span><span class="builtintype" id="8304447">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304452">S</span>&nbsp;<span class="op" id="8304454">[</span><span class="op" id="8304455">]</span><span class="builtintype" id="8304456">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304461">M</span>&nbsp;<span class="keyword" id="8304463">map</span><span class="op" id="8304466">[</span><span class="builtintype" id="8304467">string</span><span class="op" id="8304473">]</span><span class="builtintype" id="8304474">int</span><br>
<span class="lineno"></span><span class="op" id="8304478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8304481">func</span>&nbsp;<span class="ident" id="8304486">TestIndirectSliceMapArray</span><span class="op" id="8304511">(</span><span class="ident" id="8304512">t</span>&nbsp;<span class="op" id="8304514">*</span><span class="ident" id="8304515">testing</span><span class="op" id="8304522">.</span><span class="ident" id="8304523">T</span><span class="op" id="8304524">)</span>&nbsp;<span class="op" id="8304526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8304529">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304572">i</span>&nbsp;<span class="op" id="8304574">:=</span>&nbsp;<span class="builtinfunc" id="8304577">new</span><span class="op" id="8304580">(</span><span class="ident" id="8304581">Indirect</span><span class="op" id="8304589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304592">i</span><span class="op" id="8304593">.</span><span class="ident" id="8304594">A</span>&nbsp;<span class="op" id="8304596">=</span>&nbsp;<span class="builtinfunc" id="8304598">new</span><span class="op" id="8304601">(</span><span class="op" id="8304602">*</span><span class="op" id="8304603">*</span><span class="op" id="8304604">[</span><span class="num" id="8304605">3</span><span class="op" id="8304606">]</span><span class="builtintype" id="8304607">int</span><span class="op" id="8304610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304613">*</span><span class="ident" id="8304614">i</span><span class="op" id="8304615">.</span><span class="ident" id="8304616">A</span>&nbsp;<span class="op" id="8304618">=</span>&nbsp;<span class="builtinfunc" id="8304620">new</span><span class="op" id="8304623">(</span><span class="op" id="8304624">*</span><span class="op" id="8304625">[</span><span class="num" id="8304626">3</span><span class="op" id="8304627">]</span><span class="builtintype" id="8304628">int</span><span class="op" id="8304631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304634">*</span><span class="op" id="8304635">*</span><span class="ident" id="8304636">i</span><span class="op" id="8304637">.</span><span class="ident" id="8304638">A</span>&nbsp;<span class="op" id="8304640">=</span>&nbsp;<span class="builtinfunc" id="8304642">new</span><span class="op" id="8304645">(</span><span class="op" id="8304646">[</span><span class="num" id="8304647">3</span><span class="op" id="8304648">]</span><span class="builtintype" id="8304649">int</span><span class="op" id="8304652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304655">*</span><span class="op" id="8304656">*</span><span class="op" id="8304657">*</span><span class="ident" id="8304658">i</span><span class="op" id="8304659">.</span><span class="ident" id="8304660">A</span>&nbsp;<span class="op" id="8304662">=</span>&nbsp;<span class="op" id="8304664">[</span><span class="num" id="8304665">3</span><span class="op" id="8304666">]</span><span class="builtintype" id="8304667">int</span><span class="op" id="8304670">{</span><span class="num" id="8304671">1</span><span class="op" id="8304672">,</span>&nbsp;<span class="num" id="8304674">2</span><span class="op" id="8304675">,</span>&nbsp;<span class="num" id="8304677">3</span><span class="op" id="8304678">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304681">i</span><span class="op" id="8304682">.</span><span class="ident" id="8304683">S</span>&nbsp;<span class="op" id="8304685">=</span>&nbsp;<span class="builtinfunc" id="8304687">new</span><span class="op" id="8304690">(</span><span class="op" id="8304691">*</span><span class="op" id="8304692">*</span><span class="op" id="8304693">[</span><span class="op" id="8304694">]</span><span class="builtintype" id="8304695">int</span><span class="op" id="8304698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304701">*</span><span class="ident" id="8304702">i</span><span class="op" id="8304703">.</span><span class="ident" id="8304704">S</span>&nbsp;<span class="op" id="8304706">=</span>&nbsp;<span class="builtinfunc" id="8304708">new</span><span class="op" id="8304711">(</span><span class="op" id="8304712">*</span><span class="op" id="8304713">[</span><span class="op" id="8304714">]</span><span class="builtintype" id="8304715">int</span><span class="op" id="8304718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304721">*</span><span class="op" id="8304722">*</span><span class="ident" id="8304723">i</span><span class="op" id="8304724">.</span><span class="ident" id="8304725">S</span>&nbsp;<span class="op" id="8304727">=</span>&nbsp;<span class="builtinfunc" id="8304729">new</span><span class="op" id="8304732">(</span><span class="op" id="8304733">[</span><span class="op" id="8304734">]</span><span class="builtintype" id="8304735">int</span><span class="op" id="8304738">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304741">*</span><span class="op" id="8304742">*</span><span class="op" id="8304743">*</span><span class="ident" id="8304744">i</span><span class="op" id="8304745">.</span><span class="ident" id="8304746">S</span>&nbsp;<span class="op" id="8304748">=</span>&nbsp;<span class="op" id="8304750">[</span><span class="op" id="8304751">]</span><span class="builtintype" id="8304752">int</span><span class="op" id="8304755">{</span><span class="num" id="8304756">4</span><span class="op" id="8304757">,</span>&nbsp;<span class="num" id="8304759">5</span><span class="op" id="8304760">,</span>&nbsp;<span class="num" id="8304762">6</span><span class="op" id="8304763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304766">i</span><span class="op" id="8304767">.</span><span class="ident" id="8304768">M</span>&nbsp;<span class="op" id="8304770">=</span>&nbsp;<span class="builtinfunc" id="8304772">new</span><span class="op" id="8304775">(</span><span class="op" id="8304776">*</span><span class="op" id="8304777">*</span><span class="op" id="8304778">*</span><span class="keyword" id="8304779">map</span><span class="op" id="8304782">[</span><span class="builtintype" id="8304783">string</span><span class="op" id="8304789">]</span><span class="builtintype" id="8304790">int</span><span class="op" id="8304793">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304796">*</span><span class="ident" id="8304797">i</span><span class="op" id="8304798">.</span><span class="ident" id="8304799">M</span>&nbsp;<span class="op" id="8304801">=</span>&nbsp;<span class="builtinfunc" id="8304803">new</span><span class="op" id="8304806">(</span><span class="op" id="8304807">*</span><span class="op" id="8304808">*</span><span class="keyword" id="8304809">map</span><span class="op" id="8304812">[</span><span class="builtintype" id="8304813">string</span><span class="op" id="8304819">]</span><span class="builtintype" id="8304820">int</span><span class="op" id="8304823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304826">*</span><span class="op" id="8304827">*</span><span class="ident" id="8304828">i</span><span class="op" id="8304829">.</span><span class="ident" id="8304830">M</span>&nbsp;<span class="op" id="8304832">=</span>&nbsp;<span class="builtinfunc" id="8304834">new</span><span class="op" id="8304837">(</span><span class="op" id="8304838">*</span><span class="keyword" id="8304839">map</span><span class="op" id="8304842">[</span><span class="builtintype" id="8304843">string</span><span class="op" id="8304849">]</span><span class="builtintype" id="8304850">int</span><span class="op" id="8304853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304856">*</span><span class="op" id="8304857">*</span><span class="op" id="8304858">*</span><span class="ident" id="8304859">i</span><span class="op" id="8304860">.</span><span class="ident" id="8304861">M</span>&nbsp;<span class="op" id="8304863">=</span>&nbsp;<span class="builtinfunc" id="8304865">new</span><span class="op" id="8304868">(</span><span class="keyword" id="8304869">map</span><span class="op" id="8304872">[</span><span class="builtintype" id="8304873">string</span><span class="op" id="8304879">]</span><span class="builtintype" id="8304880">int</span><span class="op" id="8304883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8304886">*</span><span class="op" id="8304887">*</span><span class="op" id="8304888">*</span><span class="op" id="8304889">*</span><span class="ident" id="8304890">i</span><span class="op" id="8304891">.</span><span class="ident" id="8304892">M</span>&nbsp;<span class="op" id="8304894">=</span>&nbsp;<span class="keyword" id="8304896">map</span><span class="op" id="8304899">[</span><span class="builtintype" id="8304900">string</span><span class="op" id="8304906">]</span><span class="builtintype" id="8304907">int</span><span class="op" id="8304910">{</span><span class="string" id="8304911">&#34;one&#34;</span><span class="op" id="8304916">:</span>&nbsp;<span class="num" id="8304918">1</span><span class="op" id="8304919">,</span>&nbsp;<span class="string" id="8304921">&#34;two&#34;</span><span class="op" id="8304926">:</span>&nbsp;<span class="num" id="8304928">2</span><span class="op" id="8304929">,</span>&nbsp;<span class="string" id="8304931">&#34;three&#34;</span><span class="op" id="8304938">:</span>&nbsp;<span class="num" id="8304940">3</span><span class="op" id="8304941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304944">b</span>&nbsp;<span class="op" id="8304946">:=</span>&nbsp;<span class="builtinfunc" id="8304949">new</span><span class="op" id="8304952">(</span><span class="ident" id="8304953">bytes</span><span class="op" id="8304958">.</span><span class="ident" id="8304959">Buffer</span><span class="op" id="8304965">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304968">NewEncoder</span><span class="op" id="8304978">(</span><span class="ident" id="8304979">b</span><span class="op" id="8304980">)</span><span class="op" id="8304981">.</span><span class="ident" id="8304982">Encode</span><span class="op" id="8304988">(</span><span class="ident" id="8304989">i</span><span class="op" id="8304990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8304993">dec</span>&nbsp;<span class="op" id="8304997">:=</span>&nbsp;<span class="ident" id="8305000">NewDecoder</span><span class="op" id="8305010">(</span><span class="ident" id="8305011">b</span><span class="op" id="8305012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305015">var</span>&nbsp;<span class="ident" id="8305019">d</span>&nbsp;<span class="ident" id="8305021">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305029">err</span>&nbsp;<span class="op" id="8305033">:=</span>&nbsp;<span class="ident" id="8305036">dec</span><span class="op" id="8305039">.</span><span class="ident" id="8305040">Decode</span><span class="op" id="8305046">(</span><span class="op" id="8305047">&amp;</span><span class="ident" id="8305048">d</span><span class="op" id="8305049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305052">if</span>&nbsp;<span class="ident" id="8305055">err</span>&nbsp;<span class="op" id="8305059">!=</span>&nbsp;<span class="ident" id="8305062">nil</span>&nbsp;<span class="op" id="8305066">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305070">t</span><span class="op" id="8305071">.</span><span class="ident" id="8305072">Error</span><span class="op" id="8305077">(</span><span class="string" id="8305078">&#34;error:&nbsp;&#34;</span><span class="op" id="8305087">,</span>&nbsp;<span class="ident" id="8305089">err</span><span class="op" id="8305092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8305095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305098">if</span>&nbsp;<span class="builtinfunc" id="8305101">len</span><span class="op" id="8305104">(</span><span class="ident" id="8305105">d</span><span class="op" id="8305106">.</span><span class="ident" id="8305107">A</span><span class="op" id="8305108">)</span>&nbsp;<span class="op" id="8305110">!=</span>&nbsp;<span class="num" id="8305113">3</span>&nbsp;<span class="op" id="8305115">||</span>&nbsp;<span class="ident" id="8305118">d</span><span class="op" id="8305119">.</span><span class="ident" id="8305120">A</span><span class="op" id="8305121">[</span><span class="num" id="8305122">0</span><span class="op" id="8305123">]</span>&nbsp;<span class="op" id="8305125">!=</span>&nbsp;<span class="num" id="8305128">1</span>&nbsp;<span class="op" id="8305130">||</span>&nbsp;<span class="ident" id="8305133">d</span><span class="op" id="8305134">.</span><span class="ident" id="8305135">A</span><span class="op" id="8305136">[</span><span class="num" id="8305137">1</span><span class="op" id="8305138">]</span>&nbsp;<span class="op" id="8305140">!=</span>&nbsp;<span class="num" id="8305143">2</span>&nbsp;<span class="op" id="8305145">||</span>&nbsp;<span class="ident" id="8305148">d</span><span class="op" id="8305149">.</span><span class="ident" id="8305150">A</span><span class="op" id="8305151">[</span><span class="num" id="8305152">2</span><span class="op" id="8305153">]</span>&nbsp;<span class="op" id="8305155">!=</span>&nbsp;<span class="num" id="8305158">3</span>&nbsp;<span class="op" id="8305160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305164">t</span><span class="op" id="8305165">.</span><span class="ident" id="8305166">Errorf</span><span class="op" id="8305172">(</span><span class="string" id="8305173">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8305211">,</span>&nbsp;<span class="ident" id="8305213">d</span><span class="op" id="8305214">.</span><span class="ident" id="8305215">A</span><span class="op" id="8305216">,</span>&nbsp;<span class="op" id="8305218">*</span><span class="op" id="8305219">*</span><span class="op" id="8305220">*</span><span class="ident" id="8305221">i</span><span class="op" id="8305222">.</span><span class="ident" id="8305223">A</span><span class="op" id="8305224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8305227">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305230">if</span>&nbsp;<span class="builtinfunc" id="8305233">len</span><span class="op" id="8305236">(</span><span class="ident" id="8305237">d</span><span class="op" id="8305238">.</span><span class="ident" id="8305239">S</span><span class="op" id="8305240">)</span>&nbsp;<span class="op" id="8305242">!=</span>&nbsp;<span class="num" id="8305245">3</span>&nbsp;<span class="op" id="8305247">||</span>&nbsp;<span class="ident" id="8305250">d</span><span class="op" id="8305251">.</span><span class="ident" id="8305252">S</span><span class="op" id="8305253">[</span><span class="num" id="8305254">0</span><span class="op" id="8305255">]</span>&nbsp;<span class="op" id="8305257">!=</span>&nbsp;<span class="num" id="8305260">4</span>&nbsp;<span class="op" id="8305262">||</span>&nbsp;<span class="ident" id="8305265">d</span><span class="op" id="8305266">.</span><span class="ident" id="8305267">S</span><span class="op" id="8305268">[</span><span class="num" id="8305269">1</span><span class="op" id="8305270">]</span>&nbsp;<span class="op" id="8305272">!=</span>&nbsp;<span class="num" id="8305275">5</span>&nbsp;<span class="op" id="8305277">||</span>&nbsp;<span class="ident" id="8305280">d</span><span class="op" id="8305281">.</span><span class="ident" id="8305282">S</span><span class="op" id="8305283">[</span><span class="num" id="8305284">2</span><span class="op" id="8305285">]</span>&nbsp;<span class="op" id="8305287">!=</span>&nbsp;<span class="num" id="8305290">6</span>&nbsp;<span class="op" id="8305292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305296">t</span><span class="op" id="8305297">.</span><span class="ident" id="8305298">Errorf</span><span class="op" id="8305304">(</span><span class="string" id="8305305">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8305343">,</span>&nbsp;<span class="ident" id="8305345">d</span><span class="op" id="8305346">.</span><span class="ident" id="8305347">S</span><span class="op" id="8305348">,</span>&nbsp;<span class="op" id="8305350">*</span><span class="op" id="8305351">*</span><span class="op" id="8305352">*</span><span class="ident" id="8305353">i</span><span class="op" id="8305354">.</span><span class="ident" id="8305355">S</span><span class="op" id="8305356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8305359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305362">if</span>&nbsp;<span class="builtinfunc" id="8305365">len</span><span class="op" id="8305368">(</span><span class="ident" id="8305369">d</span><span class="op" id="8305370">.</span><span class="ident" id="8305371">M</span><span class="op" id="8305372">)</span>&nbsp;<span class="op" id="8305374">!=</span>&nbsp;<span class="num" id="8305377">3</span>&nbsp;<span class="op" id="8305379">||</span>&nbsp;<span class="ident" id="8305382">d</span><span class="op" id="8305383">.</span><span class="ident" id="8305384">M</span><span class="op" id="8305385">[</span><span class="string" id="8305386">&#34;one&#34;</span><span class="op" id="8305391">]</span>&nbsp;<span class="op" id="8305393">!=</span>&nbsp;<span class="num" id="8305396">1</span>&nbsp;<span class="op" id="8305398">||</span>&nbsp;<span class="ident" id="8305401">d</span><span class="op" id="8305402">.</span><span class="ident" id="8305403">M</span><span class="op" id="8305404">[</span><span class="string" id="8305405">&#34;two&#34;</span><span class="op" id="8305410">]</span>&nbsp;<span class="op" id="8305412">!=</span>&nbsp;<span class="num" id="8305415">2</span>&nbsp;<span class="op" id="8305417">||</span>&nbsp;<span class="ident" id="8305420">d</span><span class="op" id="8305421">.</span><span class="ident" id="8305422">M</span><span class="op" id="8305423">[</span><span class="string" id="8305424">&#34;three&#34;</span><span class="op" id="8305431">]</span>&nbsp;<span class="op" id="8305433">!=</span>&nbsp;<span class="num" id="8305436">3</span>&nbsp;<span class="op" id="8305438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305442">t</span><span class="op" id="8305443">.</span><span class="ident" id="8305444">Errorf</span><span class="op" id="8305450">(</span><span class="string" id="8305451">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8305489">,</span>&nbsp;<span class="ident" id="8305491">d</span><span class="op" id="8305492">.</span><span class="ident" id="8305493">M</span><span class="op" id="8305494">,</span>&nbsp;<span class="op" id="8305496">*</span><span class="op" id="8305497">*</span><span class="op" id="8305498">*</span><span class="ident" id="8305499">i</span><span class="op" id="8305500">.</span><span class="ident" id="8305501">M</span><span class="op" id="8305502">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8305505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8305508">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305551">d</span><span class="op" id="8305552">.</span><span class="ident" id="8305553">A</span>&nbsp;<span class="op" id="8305555">=</span>&nbsp;<span class="op" id="8305557">[</span><span class="num" id="8305558">3</span><span class="op" id="8305559">]</span><span class="builtintype" id="8305560">int</span><span class="op" id="8305563">{</span><span class="num" id="8305564">11</span><span class="op" id="8305566">,</span>&nbsp;<span class="num" id="8305568">22</span><span class="op" id="8305570">,</span>&nbsp;<span class="num" id="8305572">33</span><span class="op" id="8305574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305577">d</span><span class="op" id="8305578">.</span><span class="ident" id="8305579">S</span>&nbsp;<span class="op" id="8305581">=</span>&nbsp;<span class="op" id="8305583">[</span><span class="op" id="8305584">]</span><span class="builtintype" id="8305585">int</span><span class="op" id="8305588">{</span><span class="num" id="8305589">44</span><span class="op" id="8305591">,</span>&nbsp;<span class="num" id="8305593">55</span><span class="op" id="8305595">,</span>&nbsp;<span class="num" id="8305597">66</span><span class="op" id="8305599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305602">d</span><span class="op" id="8305603">.</span><span class="ident" id="8305604">M</span>&nbsp;<span class="op" id="8305606">=</span>&nbsp;<span class="keyword" id="8305608">map</span><span class="op" id="8305611">[</span><span class="builtintype" id="8305612">string</span><span class="op" id="8305618">]</span><span class="builtintype" id="8305619">int</span><span class="op" id="8305622">{</span><span class="string" id="8305623">&#34;four&#34;</span><span class="op" id="8305629">:</span>&nbsp;<span class="num" id="8305631">4</span><span class="op" id="8305632">,</span>&nbsp;<span class="string" id="8305634">&#34;five&#34;</span><span class="op" id="8305640">:</span>&nbsp;<span class="num" id="8305642">5</span><span class="op" id="8305643">,</span>&nbsp;<span class="string" id="8305645">&#34;six&#34;</span><span class="op" id="8305650">:</span>&nbsp;<span class="num" id="8305652">6</span><span class="op" id="8305653">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305656">i</span>&nbsp;<span class="op" id="8305658">=</span>&nbsp;<span class="builtinfunc" id="8305660">new</span><span class="op" id="8305663">(</span><span class="ident" id="8305664">Indirect</span><span class="op" id="8305672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305675">b</span><span class="op" id="8305676">.</span><span class="ident" id="8305677">Reset</span><span class="op" id="8305682">(</span><span class="op" id="8305683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305686">NewEncoder</span><span class="op" id="8305696">(</span><span class="ident" id="8305697">b</span><span class="op" id="8305698">)</span><span class="op" id="8305699">.</span><span class="ident" id="8305700">Encode</span><span class="op" id="8305706">(</span><span class="ident" id="8305707">d</span><span class="op" id="8305708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305711">dec</span>&nbsp;<span class="op" id="8305715">=</span>&nbsp;<span class="ident" id="8305717">NewDecoder</span><span class="op" id="8305727">(</span><span class="ident" id="8305728">b</span><span class="op" id="8305729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305732">err</span>&nbsp;<span class="op" id="8305736">=</span>&nbsp;<span class="ident" id="8305738">dec</span><span class="op" id="8305741">.</span><span class="ident" id="8305742">Decode</span><span class="op" id="8305748">(</span><span class="op" id="8305749">&amp;</span><span class="ident" id="8305750">i</span><span class="op" id="8305751">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305754">if</span>&nbsp;<span class="ident" id="8305757">err</span>&nbsp;<span class="op" id="8305761">!=</span>&nbsp;<span class="ident" id="8305764">nil</span>&nbsp;<span class="op" id="8305768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305772">t</span><span class="op" id="8305773">.</span><span class="ident" id="8305774">Fatal</span><span class="op" id="8305779">(</span><span class="string" id="8305780">&#34;error:&nbsp;&#34;</span><span class="op" id="8305789">,</span>&nbsp;<span class="ident" id="8305791">err</span><span class="op" id="8305794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8305797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305800">if</span>&nbsp;<span class="builtinfunc" id="8305803">len</span><span class="op" id="8305806">(</span><span class="op" id="8305807">*</span><span class="op" id="8305808">*</span><span class="op" id="8305809">*</span><span class="ident" id="8305810">i</span><span class="op" id="8305811">.</span><span class="ident" id="8305812">A</span><span class="op" id="8305813">)</span>&nbsp;<span class="op" id="8305815">!=</span>&nbsp;<span class="num" id="8305818">3</span>&nbsp;<span class="op" id="8305820">||</span>&nbsp;<span class="op" id="8305823">(</span><span class="op" id="8305824">*</span><span class="op" id="8305825">*</span><span class="op" id="8305826">*</span><span class="ident" id="8305827">i</span><span class="op" id="8305828">.</span><span class="ident" id="8305829">A</span><span class="op" id="8305830">)</span><span class="op" id="8305831">[</span><span class="num" id="8305832">0</span><span class="op" id="8305833">]</span>&nbsp;<span class="op" id="8305835">!=</span>&nbsp;<span class="num" id="8305838">11</span>&nbsp;<span class="op" id="8305841">||</span>&nbsp;<span class="op" id="8305844">(</span><span class="op" id="8305845">*</span><span class="op" id="8305846">*</span><span class="op" id="8305847">*</span><span class="ident" id="8305848">i</span><span class="op" id="8305849">.</span><span class="ident" id="8305850">A</span><span class="op" id="8305851">)</span><span class="op" id="8305852">[</span><span class="num" id="8305853">1</span><span class="op" id="8305854">]</span>&nbsp;<span class="op" id="8305856">!=</span>&nbsp;<span class="num" id="8305859">22</span>&nbsp;<span class="op" id="8305862">||</span>&nbsp;<span class="op" id="8305865">(</span><span class="op" id="8305866">*</span><span class="op" id="8305867">*</span><span class="op" id="8305868">*</span><span class="ident" id="8305869">i</span><span class="op" id="8305870">.</span><span class="ident" id="8305871">A</span><span class="op" id="8305872">)</span><span class="op" id="8305873">[</span><span class="num" id="8305874">2</span><span class="op" id="8305875">]</span>&nbsp;<span class="op" id="8305877">!=</span>&nbsp;<span class="num" id="8305880">33</span>&nbsp;<span class="op" id="8305883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8305887">t</span><span class="op" id="8305888">.</span><span class="ident" id="8305889">Errorf</span><span class="op" id="8305895">(</span><span class="string" id="8305896">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8305937">,</span>&nbsp;<span class="op" id="8305939">*</span><span class="op" id="8305940">*</span><span class="op" id="8305941">*</span><span class="ident" id="8305942">i</span><span class="op" id="8305943">.</span><span class="ident" id="8305944">A</span><span class="op" id="8305945">,</span>&nbsp;<span class="ident" id="8305947">d</span><span class="op" id="8305948">.</span><span class="ident" id="8305949">A</span><span class="op" id="8305950">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8305953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8305956">if</span>&nbsp;<span class="builtinfunc" id="8305959">len</span><span class="op" id="8305962">(</span><span class="op" id="8305963">*</span><span class="op" id="8305964">*</span><span class="op" id="8305965">*</span><span class="ident" id="8305966">i</span><span class="op" id="8305967">.</span><span class="ident" id="8305968">S</span><span class="op" id="8305969">)</span>&nbsp;<span class="op" id="8305971">!=</span>&nbsp;<span class="num" id="8305974">3</span>&nbsp;<span class="op" id="8305976">||</span>&nbsp;<span class="op" id="8305979">(</span><span class="op" id="8305980">*</span><span class="op" id="8305981">*</span><span class="op" id="8305982">*</span><span class="ident" id="8305983">i</span><span class="op" id="8305984">.</span><span class="ident" id="8305985">S</span><span class="op" id="8305986">)</span><span class="op" id="8305987">[</span><span class="num" id="8305988">0</span><span class="op" id="8305989">]</span>&nbsp;<span class="op" id="8305991">!=</span>&nbsp;<span class="num" id="8305994">44</span>&nbsp;<span class="op" id="8305997">||</span>&nbsp;<span class="op" id="8306000">(</span><span class="op" id="8306001">*</span><span class="op" id="8306002">*</span><span class="op" id="8306003">*</span><span class="ident" id="8306004">i</span><span class="op" id="8306005">.</span><span class="ident" id="8306006">S</span><span class="op" id="8306007">)</span><span class="op" id="8306008">[</span><span class="num" id="8306009">1</span><span class="op" id="8306010">]</span>&nbsp;<span class="op" id="8306012">!=</span>&nbsp;<span class="num" id="8306015">55</span>&nbsp;<span class="op" id="8306018">||</span>&nbsp;<span class="op" id="8306021">(</span><span class="op" id="8306022">*</span><span class="op" id="8306023">*</span><span class="op" id="8306024">*</span><span class="ident" id="8306025">i</span><span class="op" id="8306026">.</span><span class="ident" id="8306027">S</span><span class="op" id="8306028">)</span><span class="op" id="8306029">[</span><span class="num" id="8306030">2</span><span class="op" id="8306031">]</span>&nbsp;<span class="op" id="8306033">!=</span>&nbsp;<span class="num" id="8306036">66</span>&nbsp;<span class="op" id="8306039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306043">t</span><span class="op" id="8306044">.</span><span class="ident" id="8306045">Errorf</span><span class="op" id="8306051">(</span><span class="string" id="8306052">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8306093">,</span>&nbsp;<span class="op" id="8306095">*</span><span class="op" id="8306096">*</span><span class="op" id="8306097">*</span><span class="ident" id="8306098">i</span><span class="op" id="8306099">.</span><span class="ident" id="8306100">S</span><span class="op" id="8306101">,</span>&nbsp;<span class="op" id="8306103">*</span><span class="op" id="8306104">*</span><span class="op" id="8306105">*</span><span class="ident" id="8306106">i</span><span class="op" id="8306107">.</span><span class="ident" id="8306108">S</span><span class="op" id="8306109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8306112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8306115">if</span>&nbsp;<span class="builtinfunc" id="8306118">len</span><span class="op" id="8306121">(</span><span class="op" id="8306122">*</span><span class="op" id="8306123">*</span><span class="op" id="8306124">*</span><span class="op" id="8306125">*</span><span class="ident" id="8306126">i</span><span class="op" id="8306127">.</span><span class="ident" id="8306128">M</span><span class="op" id="8306129">)</span>&nbsp;<span class="op" id="8306131">!=</span>&nbsp;<span class="num" id="8306134">3</span>&nbsp;<span class="op" id="8306136">||</span>&nbsp;<span class="op" id="8306139">(</span><span class="op" id="8306140">*</span><span class="op" id="8306141">*</span><span class="op" id="8306142">*</span><span class="op" id="8306143">*</span><span class="ident" id="8306144">i</span><span class="op" id="8306145">.</span><span class="ident" id="8306146">M</span><span class="op" id="8306147">)</span><span class="op" id="8306148">[</span><span class="string" id="8306149">&#34;four&#34;</span><span class="op" id="8306155">]</span>&nbsp;<span class="op" id="8306157">!=</span>&nbsp;<span class="num" id="8306160">4</span>&nbsp;<span class="op" id="8306162">||</span>&nbsp;<span class="op" id="8306165">(</span><span class="op" id="8306166">*</span><span class="op" id="8306167">*</span><span class="op" id="8306168">*</span><span class="op" id="8306169">*</span><span class="ident" id="8306170">i</span><span class="op" id="8306171">.</span><span class="ident" id="8306172">M</span><span class="op" id="8306173">)</span><span class="op" id="8306174">[</span><span class="string" id="8306175">&#34;five&#34;</span><span class="op" id="8306181">]</span>&nbsp;<span class="op" id="8306183">!=</span>&nbsp;<span class="num" id="8306186">5</span>&nbsp;<span class="op" id="8306188">||</span>&nbsp;<span class="op" id="8306191">(</span><span class="op" id="8306192">*</span><span class="op" id="8306193">*</span><span class="op" id="8306194">*</span><span class="op" id="8306195">*</span><span class="ident" id="8306196">i</span><span class="op" id="8306197">.</span><span class="ident" id="8306198">M</span><span class="op" id="8306199">)</span><span class="op" id="8306200">[</span><span class="string" id="8306201">&#34;six&#34;</span><span class="op" id="8306206">]</span>&nbsp;<span class="op" id="8306208">!=</span>&nbsp;<span class="num" id="8306211">6</span>&nbsp;<span class="op" id="8306213">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306217">t</span><span class="op" id="8306218">.</span><span class="ident" id="8306219">Errorf</span><span class="op" id="8306225">(</span><span class="string" id="8306226">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8306268">,</span>&nbsp;<span class="op" id="8306270">*</span><span class="op" id="8306271">*</span><span class="op" id="8306272">*</span><span class="op" id="8306273">*</span><span class="ident" id="8306274">i</span><span class="op" id="8306275">.</span><span class="ident" id="8306276">M</span><span class="op" id="8306277">,</span>&nbsp;<span class="ident" id="8306279">d</span><span class="op" id="8306280">.</span><span class="ident" id="8306281">M</span><span class="op" id="8306282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8306285">}</span><br>
<span class="lineno"></span><span class="op" id="8306287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8306290">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="8306335">type</span>&nbsp;<span class="ident" id="8306340">Squarer</span>&nbsp;<span class="keyword" id="8306348">interface</span>&nbsp;<span class="op" id="8306358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306361">Square</span><span class="op" id="8306367">(</span><span class="op" id="8306368">)</span>&nbsp;<span class="builtintype" id="8306370">int</span><br>
<span class="lineno"></span><span class="op" id="8306374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8306377">type</span>&nbsp;<span class="ident" id="8306382">Int</span>&nbsp;<span class="builtintype" id="8306386">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="8306391">func</span>&nbsp;<span class="op" id="8306396">(</span><span class="ident" id="8306397">i</span>&nbsp;<span class="ident" id="8306399">Int</span><span class="op" id="8306402">)</span>&nbsp;<span class="ident" id="8306404">Square</span><span class="op" id="8306410">(</span><span class="op" id="8306411">)</span>&nbsp;<span class="builtintype" id="8306413">int</span>&nbsp;<span class="op" id="8306417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8306420">return</span>&nbsp;<span class="builtintype" id="8306427">int</span><span class="op" id="8306430">(</span><span class="ident" id="8306431">i</span>&nbsp;<span class="op" id="8306433">*</span>&nbsp;<span class="ident" id="8306435">i</span><span class="op" id="8306436">)</span><br>
<span class="lineno"></span><span class="op" id="8306438">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="8306441">type</span>&nbsp;<span class="ident" id="8306446">Float</span>&nbsp;<span class="builtintype" id="8306452">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8306461">func</span>&nbsp;<span class="op" id="8306466">(</span><span class="ident" id="8306467">f</span>&nbsp;<span class="ident" id="8306469">Float</span><span class="op" id="8306474">)</span>&nbsp;<span class="ident" id="8306476">Square</span><span class="op" id="8306482">(</span><span class="op" id="8306483">)</span>&nbsp;<span class="builtintype" id="8306485">int</span>&nbsp;<span class="op" id="8306489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8306492">return</span>&nbsp;<span class="builtintype" id="8306499">int</span><span class="op" id="8306502">(</span><span class="ident" id="8306503">f</span>&nbsp;<span class="op" id="8306505">*</span>&nbsp;<span class="ident" id="8306507">f</span><span class="op" id="8306508">)</span><br>
<span class="lineno"></span><span class="op" id="8306510">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="8306513">type</span>&nbsp;<span class="ident" id="8306518">Vector</span>&nbsp;<span class="op" id="8306525">[</span><span class="op" id="8306526">]</span><span class="builtintype" id="8306527">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8306532">func</span>&nbsp;<span class="op" id="8306537">(</span><span class="ident" id="8306538">v</span>&nbsp;<span class="ident" id="8306540">Vector</span><span class="op" id="8306546">)</span>&nbsp;<span class="ident" id="8306548">Square</span><span class="op" id="8306554">(</span><span class="op" id="8306555">)</span>&nbsp;<span class="builtintype" id="8306557">int</span>&nbsp;<span class="op" id="8306561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306564">sum</span>&nbsp;<span class="op" id="8306568">:=</span>&nbsp;<span class="num" id="8306571">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8306574">for</span>&nbsp;<span class="ident" id="8306578">_</span><span class="op" id="8306579">,</span>&nbsp;<span class="ident" id="8306581">x</span>&nbsp;<span class="op" id="8306583">:=</span>&nbsp;<span class="keyword" id="8306586">range</span>&nbsp;<span class="ident" id="8306592">v</span>&nbsp;<span class="op" id="8306594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306598">sum</span>&nbsp;<span class="op" id="8306602">+=</span>&nbsp;<span class="ident" id="8306605">x</span>&nbsp;<span class="op" id="8306607">*</span>&nbsp;<span class="ident" id="8306609">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8306612">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8306615">return</span>&nbsp;<span class="ident" id="8306622">sum</span><br>
<span class="lineno"></span><span class="op" id="8306626">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="8306629">type</span>&nbsp;<span class="ident" id="8306634">Point</span>&nbsp;<span class="keyword" id="8306640">struct</span>&nbsp;<span class="op" id="8306647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306650">X</span><span class="op" id="8306651">,</span>&nbsp;<span class="ident" id="8306653">Y</span>&nbsp;<span class="builtintype" id="8306655">int</span><br>
<span class="lineno"></span><span class="op" id="8306659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="8306662">func</span>&nbsp;<span class="op" id="8306667">(</span><span class="ident" id="8306668">p</span>&nbsp;<span class="ident" id="8306670">Point</span><span class="op" id="8306675">)</span>&nbsp;<span class="ident" id="8306677">Square</span><span class="op" id="8306683">(</span><span class="op" id="8306684">)</span>&nbsp;<span class="builtintype" id="8306686">int</span>&nbsp;<span class="op" id="8306690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8306693">return</span>&nbsp;<span class="ident" id="8306700">p</span><span class="op" id="8306701">.</span><span class="ident" id="8306702">X</span><span class="op" id="8306703">*</span><span class="ident" id="8306704">p</span><span class="op" id="8306705">.</span><span class="ident" id="8306706">X</span>&nbsp;<span class="op" id="8306708">+</span>&nbsp;<span class="ident" id="8306710">p</span><span class="op" id="8306711">.</span><span class="ident" id="8306712">Y</span><span class="op" id="8306713">*</span><span class="ident" id="8306714">p</span><span class="op" id="8306715">.</span><span class="ident" id="8306716">Y</span><br>
<span class="lineno"></span><span class="op" id="8306718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8306721">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="8306756">type</span>&nbsp;<span class="ident" id="8306761">InterfaceItem</span>&nbsp;<span class="keyword" id="8306775">struct</span>&nbsp;<span class="op" id="8306782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306785">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8306799">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306804">Sq1</span><span class="op" id="8306807">,</span>&nbsp;<span class="ident" id="8306809">Sq2</span><span class="op" id="8306812">,</span>&nbsp;<span class="ident" id="8306814">Sq3</span>&nbsp;<span class="ident" id="8306818">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306827">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8306841">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306850">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8306864">[</span><span class="op" id="8306865">]</span><span class="ident" id="8306866">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="8306874">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8306877">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="8306915">type</span>&nbsp;<span class="ident" id="8306920">NoInterfaceItem</span>&nbsp;<span class="keyword" id="8306936">struct</span>&nbsp;<span class="op" id="8306943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306946">I</span>&nbsp;<span class="builtintype" id="8306948">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8306953">F</span>&nbsp;<span class="builtintype" id="8306955">float64</span><br>
<span class="lineno"></span><span class="op" id="8306963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8306966">func</span>&nbsp;<span class="ident" id="8306971">TestInterface</span><span class="op" id="8306984">(</span><span class="ident" id="8306985">t</span>&nbsp;<span class="op" id="8306987">*</span><span class="ident" id="8306988">testing</span><span class="op" id="8306995">.</span><span class="ident" id="8306996">T</span><span class="op" id="8306997">)</span>&nbsp;<span class="op" id="8306999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307002">iVal</span>&nbsp;<span class="op" id="8307007">:=</span>&nbsp;<span class="ident" id="8307010">Int</span><span class="op" id="8307013">(</span><span class="num" id="8307014">3</span><span class="op" id="8307015">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307018">fVal</span>&nbsp;<span class="op" id="8307023">:=</span>&nbsp;<span class="ident" id="8307026">Float</span><span class="op" id="8307031">(</span><span class="num" id="8307032">5</span><span class="op" id="8307033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8307036">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8307119">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307154">vVal</span>&nbsp;<span class="op" id="8307159">:=</span>&nbsp;<span class="ident" id="8307162">Vector</span><span class="op" id="8307168">{</span><span class="num" id="8307169">1</span><span class="op" id="8307170">,</span>&nbsp;<span class="num" id="8307172">2</span><span class="op" id="8307173">,</span>&nbsp;<span class="num" id="8307175">3</span><span class="op" id="8307176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307179">b</span>&nbsp;<span class="op" id="8307181">:=</span>&nbsp;<span class="builtinfunc" id="8307184">new</span><span class="op" id="8307187">(</span><span class="ident" id="8307188">bytes</span><span class="op" id="8307193">.</span><span class="ident" id="8307194">Buffer</span><span class="op" id="8307200">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307203">item1</span>&nbsp;<span class="op" id="8307209">:=</span>&nbsp;<span class="op" id="8307212">&amp;</span><span class="ident" id="8307213">InterfaceItem</span><span class="op" id="8307226">{</span><span class="num" id="8307227">1</span><span class="op" id="8307228">,</span>&nbsp;<span class="ident" id="8307230">iVal</span><span class="op" id="8307234">,</span>&nbsp;<span class="ident" id="8307236">fVal</span><span class="op" id="8307240">,</span>&nbsp;<span class="ident" id="8307242">vVal</span><span class="op" id="8307246">,</span>&nbsp;<span class="num" id="8307248">11.5</span><span class="op" id="8307252">,</span>&nbsp;<span class="op" id="8307254">[</span><span class="op" id="8307255">]</span><span class="ident" id="8307256">Squarer</span><span class="op" id="8307263">{</span><span class="ident" id="8307264">iVal</span><span class="op" id="8307268">,</span>&nbsp;<span class="ident" id="8307270">fVal</span><span class="op" id="8307274">,</span>&nbsp;<span class="ident" id="8307276">nil</span><span class="op" id="8307279">,</span>&nbsp;<span class="ident" id="8307281">vVal</span><span class="op" id="8307285">}</span><span class="op" id="8307286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8307289">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307313">Register</span><span class="op" id="8307321">(</span><span class="ident" id="8307322">Int</span><span class="op" id="8307325">(</span><span class="num" id="8307326">0</span><span class="op" id="8307327">)</span><span class="op" id="8307328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307331">Register</span><span class="op" id="8307339">(</span><span class="ident" id="8307340">Float</span><span class="op" id="8307345">(</span><span class="num" id="8307346">0</span><span class="op" id="8307347">)</span><span class="op" id="8307348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307351">Register</span><span class="op" id="8307359">(</span><span class="ident" id="8307360">Vector</span><span class="op" id="8307366">{</span><span class="op" id="8307367">}</span><span class="op" id="8307368">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307371">err</span>&nbsp;<span class="op" id="8307375">:=</span>&nbsp;<span class="ident" id="8307378">NewEncoder</span><span class="op" id="8307388">(</span><span class="ident" id="8307389">b</span><span class="op" id="8307390">)</span><span class="op" id="8307391">.</span><span class="ident" id="8307392">Encode</span><span class="op" id="8307398">(</span><span class="ident" id="8307399">item1</span><span class="op" id="8307404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8307407">if</span>&nbsp;<span class="ident" id="8307410">err</span>&nbsp;<span class="op" id="8307414">!=</span>&nbsp;<span class="ident" id="8307417">nil</span>&nbsp;<span class="op" id="8307421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307425">t</span><span class="op" id="8307426">.</span><span class="ident" id="8307427">Error</span><span class="op" id="8307432">(</span><span class="string" id="8307433">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8307464">,</span>&nbsp;<span class="ident" id="8307466">err</span><span class="op" id="8307469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8307472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307476">item2</span>&nbsp;<span class="op" id="8307482">:=</span>&nbsp;<span class="ident" id="8307485">InterfaceItem</span><span class="op" id="8307498">{</span><span class="op" id="8307499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307502">err</span>&nbsp;<span class="op" id="8307506">=</span>&nbsp;<span class="ident" id="8307508">NewDecoder</span><span class="op" id="8307518">(</span><span class="ident" id="8307519">b</span><span class="op" id="8307520">)</span><span class="op" id="8307521">.</span><span class="ident" id="8307522">Decode</span><span class="op" id="8307528">(</span><span class="op" id="8307529">&amp;</span><span class="ident" id="8307530">item2</span><span class="op" id="8307535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8307538">if</span>&nbsp;<span class="ident" id="8307541">err</span>&nbsp;<span class="op" id="8307545">!=</span>&nbsp;<span class="ident" id="8307548">nil</span>&nbsp;<span class="op" id="8307552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307556">t</span><span class="op" id="8307557">.</span><span class="ident" id="8307558">Fatal</span><span class="op" id="8307563">(</span><span class="string" id="8307564">&#34;decode:&#34;</span><span class="op" id="8307573">,</span>&nbsp;<span class="ident" id="8307575">err</span><span class="op" id="8307578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8307581">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8307584">if</span>&nbsp;<span class="ident" id="8307587">item2</span><span class="op" id="8307592">.</span><span class="ident" id="8307593">I</span>&nbsp;<span class="op" id="8307595">!=</span>&nbsp;<span class="ident" id="8307598">item1</span><span class="op" id="8307603">.</span><span class="ident" id="8307604">I</span>&nbsp;<span class="op" id="8307606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307610">t</span><span class="op" id="8307611">.</span><span class="ident" id="8307612">Error</span><span class="op" id="8307617">(</span><span class="string" id="8307618">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8307655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8307658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8307661">if</span>&nbsp;<span class="ident" id="8307664">item2</span><span class="op" id="8307669">.</span><span class="ident" id="8307670">Sq1</span>&nbsp;<span class="op" id="8307674">==</span>&nbsp;<span class="ident" id="8307677">nil</span>&nbsp;<span class="op" id="8307681">||</span>&nbsp;<span class="ident" id="8307684">item2</span><span class="op" id="8307689">.</span><span class="ident" id="8307690">Sq1</span><span class="op" id="8307693">.</span><span class="ident" id="8307694">Square</span><span class="op" id="8307700">(</span><span class="op" id="8307701">)</span>&nbsp;<span class="op" id="8307703">!=</span>&nbsp;<span class="ident" id="8307706">iVal</span><span class="op" id="8307710">.</span><span class="ident" id="8307711">Square</span><span class="op" id="8307717">(</span><span class="op" id="8307718">)</span>&nbsp;<span class="op" id="8307720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307724">t</span><span class="op" id="8307725">.</span><span class="ident" id="8307726">Error</span><span class="op" id="8307731">(</span><span class="string" id="8307732">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8307762">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8307765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8307768">if</span>&nbsp;<span class="ident" id="8307771">item2</span><span class="op" id="8307776">.</span><span class="ident" id="8307777">Sq2</span>&nbsp;<span class="op" id="8307781">==</span>&nbsp;<span class="ident" id="8307784">nil</span>&nbsp;<span class="op" id="8307788">||</span>&nbsp;<span class="ident" id="8307791">item2</span><span class="op" id="8307796">.</span><span class="ident" id="8307797">Sq2</span><span class="op" id="8307800">.</span><span class="ident" id="8307801">Square</span><span class="op" id="8307807">(</span><span class="op" id="8307808">)</span>&nbsp;<span class="op" id="8307810">!=</span>&nbsp;<span class="ident" id="8307813">fVal</span><span class="op" id="8307817">.</span><span class="ident" id="8307818">Square</span><span class="op" id="8307824">(</span><span class="op" id="8307825">)</span>&nbsp;<span class="op" id="8307827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307831">t</span><span class="op" id="8307832">.</span><span class="ident" id="8307833">Error</span><span class="op" id="8307838">(</span><span class="string" id="8307839">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8307871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8307874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8307877">if</span>&nbsp;<span class="ident" id="8307880">item2</span><span class="op" id="8307885">.</span><span class="ident" id="8307886">Sq3</span>&nbsp;<span class="op" id="8307890">==</span>&nbsp;<span class="ident" id="8307893">nil</span>&nbsp;<span class="op" id="8307897">||</span>&nbsp;<span class="ident" id="8307900">item2</span><span class="op" id="8307905">.</span><span class="ident" id="8307906">Sq3</span><span class="op" id="8307909">.</span><span class="ident" id="8307910">Square</span><span class="op" id="8307916">(</span><span class="op" id="8307917">)</span>&nbsp;<span class="op" id="8307919">!=</span>&nbsp;<span class="ident" id="8307922">vVal</span><span class="op" id="8307926">.</span><span class="ident" id="8307927">Square</span><span class="op" id="8307933">(</span><span class="op" id="8307934">)</span>&nbsp;<span class="op" id="8307936">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8307940">t</span><span class="op" id="8307941">.</span><span class="ident" id="8307942">Error</span><span class="op" id="8307947">(</span><span class="string" id="8307948">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8307981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8307984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8307987">if</span>&nbsp;<span class="ident" id="8307990">item2</span><span class="op" id="8307995">.</span><span class="ident" id="8307996">F</span>&nbsp;<span class="op" id="8307998">!=</span>&nbsp;<span class="ident" id="8308001">item1</span><span class="op" id="8308006">.</span><span class="ident" id="8308007">F</span>&nbsp;<span class="op" id="8308009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308013">t</span><span class="op" id="8308014">.</span><span class="ident" id="8308015">Error</span><span class="op" id="8308020">(</span><span class="string" id="8308021">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8308060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308063">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8308066">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308152">if</span>&nbsp;<span class="builtinfunc" id="8308155">len</span><span class="op" id="8308158">(</span><span class="ident" id="8308159">item1</span><span class="op" id="8308164">.</span><span class="ident" id="8308165">Sq</span><span class="op" id="8308167">)</span>&nbsp;<span class="op" id="8308169">!=</span>&nbsp;<span class="builtinfunc" id="8308172">len</span><span class="op" id="8308175">(</span><span class="ident" id="8308176">item2</span><span class="op" id="8308181">.</span><span class="ident" id="8308182">Sq</span><span class="op" id="8308184">)</span>&nbsp;<span class="op" id="8308186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308190">t</span><span class="op" id="8308191">.</span><span class="ident" id="8308192">Fatalf</span><span class="op" id="8308198">(</span><span class="string" id="8308199">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8308244">,</span>&nbsp;<span class="builtinfunc" id="8308246">len</span><span class="op" id="8308249">(</span><span class="ident" id="8308250">item2</span><span class="op" id="8308255">.</span><span class="ident" id="8308256">Sq</span><span class="op" id="8308258">)</span><span class="op" id="8308259">,</span>&nbsp;<span class="builtinfunc" id="8308261">len</span><span class="op" id="8308264">(</span><span class="ident" id="8308265">item1</span><span class="op" id="8308270">.</span><span class="ident" id="8308271">Sq</span><span class="op" id="8308273">)</span><span class="op" id="8308274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308280">for</span>&nbsp;<span class="ident" id="8308284">i</span><span class="op" id="8308285">,</span>&nbsp;<span class="ident" id="8308287">v1</span>&nbsp;<span class="op" id="8308290">:=</span>&nbsp;<span class="keyword" id="8308293">range</span>&nbsp;<span class="ident" id="8308299">item1</span><span class="op" id="8308304">.</span><span class="ident" id="8308305">Sq</span>&nbsp;<span class="op" id="8308308">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308312">v2</span>&nbsp;<span class="op" id="8308315">:=</span>&nbsp;<span class="ident" id="8308318">item2</span><span class="op" id="8308323">.</span><span class="ident" id="8308324">Sq</span><span class="op" id="8308326">[</span><span class="ident" id="8308327">i</span><span class="op" id="8308328">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308332">if</span>&nbsp;<span class="ident" id="8308335">v1</span>&nbsp;<span class="op" id="8308338">==</span>&nbsp;<span class="ident" id="8308341">nil</span>&nbsp;<span class="op" id="8308345">||</span>&nbsp;<span class="ident" id="8308348">v2</span>&nbsp;<span class="op" id="8308351">==</span>&nbsp;<span class="ident" id="8308354">nil</span>&nbsp;<span class="op" id="8308358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8308363">if</span>&nbsp;<span class="ident" id="8308366">v1</span>&nbsp;<span class="op" id="8308369">!=</span>&nbsp;<span class="ident" id="8308372">nil</span>&nbsp;<span class="op" id="8308376">||</span>&nbsp;<span class="ident" id="8308379">v2</span>&nbsp;<span class="op" id="8308382">!=</span>&nbsp;<span class="ident" id="8308385">nil</span>&nbsp;<span class="op" id="8308389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308395">t</span><span class="op" id="8308396">.</span><span class="ident" id="8308397">Errorf</span><span class="op" id="8308403">(</span><span class="string" id="8308404">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="8308431">,</span>&nbsp;<span class="ident" id="8308433">i</span><span class="op" id="8308434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308439">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308443">}</span>&nbsp;<span class="keyword" id="8308445">else</span>&nbsp;<span class="keyword" id="8308450">if</span>&nbsp;<span class="ident" id="8308453">v1</span><span class="op" id="8308455">.</span><span class="ident" id="8308456">Square</span><span class="op" id="8308462">(</span><span class="op" id="8308463">)</span>&nbsp;<span class="op" id="8308465">!=</span>&nbsp;<span class="ident" id="8308468">v2</span><span class="op" id="8308470">.</span><span class="ident" id="8308471">Square</span><span class="op" id="8308477">(</span><span class="op" id="8308478">)</span>&nbsp;<span class="op" id="8308480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308485">t</span><span class="op" id="8308486">.</span><span class="ident" id="8308487">Errorf</span><span class="op" id="8308493">(</span><span class="string" id="8308494">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="8308530">,</span>&nbsp;<span class="ident" id="8308532">i</span><span class="op" id="8308533">,</span>&nbsp;<span class="ident" id="8308535">v1</span><span class="op" id="8308537">,</span>&nbsp;<span class="ident" id="8308539">v2</span><span class="op" id="8308541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8308548">}</span><br>
<span class="lineno"></span><span class="op" id="8308550">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="8308553">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="8308609">type</span>&nbsp;<span class="ident" id="8308614">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="8308633">struct</span>&nbsp;<span class="op" id="8308640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308643">Int</span><span class="op" id="8308646">,</span>&nbsp;<span class="ident" id="8308648">Int8</span><span class="op" id="8308652">,</span>&nbsp;<span class="ident" id="8308654">Int16</span><span class="op" id="8308659">,</span>&nbsp;<span class="ident" id="8308661">Int32</span><span class="op" id="8308666">,</span>&nbsp;<span class="ident" id="8308668">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8308679">interface</span><span class="op" id="8308688">{</span><span class="op" id="8308689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308692">Uint</span><span class="op" id="8308696">,</span>&nbsp;<span class="ident" id="8308698">Uint8</span><span class="op" id="8308703">,</span>&nbsp;<span class="ident" id="8308705">Uint16</span><span class="op" id="8308711">,</span>&nbsp;<span class="ident" id="8308713">Uint32</span><span class="op" id="8308719">,</span>&nbsp;<span class="ident" id="8308721">Uint64</span>&nbsp;<span class="keyword" id="8308728">interface</span><span class="op" id="8308737">{</span><span class="op" id="8308738">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308741">Float32</span><span class="op" id="8308748">,</span>&nbsp;<span class="ident" id="8308750">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8308777">interface</span><span class="op" id="8308786">{</span><span class="op" id="8308787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308790">Complex64</span><span class="op" id="8308799">,</span>&nbsp;<span class="ident" id="8308801">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8308826">interface</span><span class="op" id="8308835">{</span><span class="op" id="8308836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308839">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8308875">interface</span><span class="op" id="8308884">{</span><span class="op" id="8308885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308888">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8308924">interface</span><span class="op" id="8308933">{</span><span class="op" id="8308934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8308937">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8308973">interface</span><span class="op" id="8308982">{</span><span class="op" id="8308983">}</span><br>
<span class="lineno">1160</span><span class="op" id="8308985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8308988">func</span>&nbsp;<span class="ident" id="8308993">TestInterfaceBasic</span><span class="op" id="8309011">(</span><span class="ident" id="8309012">t</span>&nbsp;<span class="op" id="8309014">*</span><span class="ident" id="8309015">testing</span><span class="op" id="8309022">.</span><span class="ident" id="8309023">T</span><span class="op" id="8309024">)</span>&nbsp;<span class="op" id="8309026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309029">b</span>&nbsp;<span class="op" id="8309031">:=</span>&nbsp;<span class="builtinfunc" id="8309034">new</span><span class="op" id="8309037">(</span><span class="ident" id="8309038">bytes</span><span class="op" id="8309043">.</span><span class="ident" id="8309044">Buffer</span><span class="op" id="8309050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309053">item1</span>&nbsp;<span class="op" id="8309059">:=</span>&nbsp;<span class="op" id="8309062">&amp;</span><span class="ident" id="8309063">BasicInterfaceItem</span><span class="op" id="8309081">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8309085">int</span><span class="op" id="8309088">(</span><span class="num" id="8309089">1</span><span class="op" id="8309090">)</span><span class="op" id="8309091">,</span>&nbsp;<span class="builtintype" id="8309093">int8</span><span class="op" id="8309097">(</span><span class="num" id="8309098">1</span><span class="op" id="8309099">)</span><span class="op" id="8309100">,</span>&nbsp;<span class="builtintype" id="8309102">int16</span><span class="op" id="8309107">(</span><span class="num" id="8309108">1</span><span class="op" id="8309109">)</span><span class="op" id="8309110">,</span>&nbsp;<span class="builtintype" id="8309112">int32</span><span class="op" id="8309117">(</span><span class="num" id="8309118">1</span><span class="op" id="8309119">)</span><span class="op" id="8309120">,</span>&nbsp;<span class="ident" id="8309122">int64</span><span class="op" id="8309127">(</span><span class="num" id="8309128">1</span><span class="op" id="8309129">)</span><span class="op" id="8309130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8309134">uint</span><span class="op" id="8309138">(</span><span class="num" id="8309139">1</span><span class="op" id="8309140">)</span><span class="op" id="8309141">,</span>&nbsp;<span class="builtintype" id="8309143">uint8</span><span class="op" id="8309148">(</span><span class="num" id="8309149">1</span><span class="op" id="8309150">)</span><span class="op" id="8309151">,</span>&nbsp;<span class="builtintype" id="8309153">uint16</span><span class="op" id="8309159">(</span><span class="num" id="8309160">1</span><span class="op" id="8309161">)</span><span class="op" id="8309162">,</span>&nbsp;<span class="builtintype" id="8309164">uint32</span><span class="op" id="8309170">(</span><span class="num" id="8309171">1</span><span class="op" id="8309172">)</span><span class="op" id="8309173">,</span>&nbsp;<span class="ident" id="8309175">uint64</span><span class="op" id="8309181">(</span><span class="num" id="8309182">1</span><span class="op" id="8309183">)</span><span class="op" id="8309184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8309188">float32</span><span class="op" id="8309195">(</span><span class="num" id="8309196">1</span><span class="op" id="8309197">)</span><span class="op" id="8309198">,</span>&nbsp;<span class="num" id="8309200">1.0</span><span class="op" id="8309203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8309207">complex64</span><span class="op" id="8309216">(</span><span class="num" id="8309217">1i</span><span class="op" id="8309219">)</span><span class="op" id="8309220">,</span>&nbsp;<span class="builtintype" id="8309222">complex128</span><span class="op" id="8309232">(</span><span class="num" id="8309233">1i</span><span class="op" id="8309235">)</span><span class="op" id="8309236">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8309240">true</span><span class="op" id="8309244">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8309248">&#34;hello&#34;</span><span class="op" id="8309255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309259">[</span><span class="op" id="8309260">]</span><span class="builtintype" id="8309261">byte</span><span class="op" id="8309265">(</span><span class="string" id="8309266">&#34;sailor&#34;</span><span class="op" id="8309274">)</span><span class="op" id="8309275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309281">err</span>&nbsp;<span class="op" id="8309285">:=</span>&nbsp;<span class="ident" id="8309288">NewEncoder</span><span class="op" id="8309298">(</span><span class="ident" id="8309299">b</span><span class="op" id="8309300">)</span><span class="op" id="8309301">.</span><span class="ident" id="8309302">Encode</span><span class="op" id="8309308">(</span><span class="ident" id="8309309">item1</span><span class="op" id="8309314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309317">if</span>&nbsp;<span class="ident" id="8309320">err</span>&nbsp;<span class="op" id="8309324">!=</span>&nbsp;<span class="ident" id="8309327">nil</span>&nbsp;<span class="op" id="8309331">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309335">t</span><span class="op" id="8309336">.</span><span class="ident" id="8309337">Error</span><span class="op" id="8309342">(</span><span class="string" id="8309343">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8309374">,</span>&nbsp;<span class="ident" id="8309376">err</span><span class="op" id="8309379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309386">item2</span>&nbsp;<span class="op" id="8309392">:=</span>&nbsp;<span class="op" id="8309395">&amp;</span><span class="ident" id="8309396">BasicInterfaceItem</span><span class="op" id="8309414">{</span><span class="op" id="8309415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309418">err</span>&nbsp;<span class="op" id="8309422">=</span>&nbsp;<span class="ident" id="8309424">NewDecoder</span><span class="op" id="8309434">(</span><span class="ident" id="8309435">b</span><span class="op" id="8309436">)</span><span class="op" id="8309437">.</span><span class="ident" id="8309438">Decode</span><span class="op" id="8309444">(</span><span class="op" id="8309445">&amp;</span><span class="ident" id="8309446">item2</span><span class="op" id="8309451">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309454">if</span>&nbsp;<span class="ident" id="8309457">err</span>&nbsp;<span class="op" id="8309461">!=</span>&nbsp;<span class="ident" id="8309464">nil</span>&nbsp;<span class="op" id="8309468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309472">t</span><span class="op" id="8309473">.</span><span class="ident" id="8309474">Fatal</span><span class="op" id="8309479">(</span><span class="string" id="8309480">&#34;decode:&#34;</span><span class="op" id="8309489">,</span>&nbsp;<span class="ident" id="8309491">err</span><span class="op" id="8309494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309500">if</span>&nbsp;<span class="op" id="8309503">!</span><span class="ident" id="8309504">reflect</span><span class="op" id="8309511">.</span><span class="ident" id="8309512">DeepEqual</span><span class="op" id="8309521">(</span><span class="ident" id="8309522">item1</span><span class="op" id="8309527">,</span>&nbsp;<span class="ident" id="8309529">item2</span><span class="op" id="8309534">)</span>&nbsp;<span class="op" id="8309536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309540">t</span><span class="op" id="8309541">.</span><span class="ident" id="8309542">Errorf</span><span class="op" id="8309548">(</span><span class="string" id="8309549">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8309576">,</span>&nbsp;<span class="ident" id="8309578">item1</span><span class="op" id="8309583">,</span>&nbsp;<span class="ident" id="8309585">item2</span><span class="op" id="8309590">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8309596">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309639">if</span>&nbsp;<span class="ident" id="8309642">v</span><span class="op" id="8309643">,</span>&nbsp;<span class="ident" id="8309645">ok</span>&nbsp;<span class="op" id="8309648">:=</span>&nbsp;<span class="ident" id="8309651">item2</span><span class="op" id="8309656">.</span><span class="ident" id="8309657">Bool</span><span class="op" id="8309661">.</span><span class="op" id="8309662">(</span><span class="builtintype" id="8309663">bool</span><span class="op" id="8309667">)</span><span class="op" id="8309668">;</span>&nbsp;<span class="op" id="8309670">!</span><span class="ident" id="8309671">ok</span>&nbsp;<span class="op" id="8309674">||</span>&nbsp;<span class="op" id="8309677">!</span><span class="ident" id="8309678">v</span>&nbsp;<span class="op" id="8309680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309684">t</span><span class="op" id="8309685">.</span><span class="ident" id="8309686">Error</span><span class="op" id="8309691">(</span><span class="string" id="8309692">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="8309716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309719">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8309722">if</span>&nbsp;<span class="ident" id="8309725">v</span><span class="op" id="8309726">,</span>&nbsp;<span class="ident" id="8309728">ok</span>&nbsp;<span class="op" id="8309731">:=</span>&nbsp;<span class="ident" id="8309734">item2</span><span class="op" id="8309739">.</span><span class="ident" id="8309740">String</span><span class="op" id="8309746">.</span><span class="op" id="8309747">(</span><span class="builtintype" id="8309748">string</span><span class="op" id="8309754">)</span><span class="op" id="8309755">;</span>&nbsp;<span class="op" id="8309757">!</span><span class="ident" id="8309758">ok</span>&nbsp;<span class="op" id="8309761">||</span>&nbsp;<span class="ident" id="8309764">v</span>&nbsp;<span class="op" id="8309766">!=</span>&nbsp;<span class="ident" id="8309769">item1</span><span class="op" id="8309774">.</span><span class="ident" id="8309775">String</span><span class="op" id="8309781">.</span><span class="op" id="8309782">(</span><span class="builtintype" id="8309783">string</span><span class="op" id="8309789">)</span>&nbsp;<span class="op" id="8309791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309795">t</span><span class="op" id="8309796">.</span><span class="ident" id="8309797">Errorf</span><span class="op" id="8309803">(</span><span class="string" id="8309804">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="8309831">,</span>&nbsp;<span class="ident" id="8309833">item1</span><span class="op" id="8309838">.</span><span class="ident" id="8309839">String</span><span class="op" id="8309845">,</span>&nbsp;<span class="ident" id="8309847">v</span><span class="op" id="8309848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8309851">}</span><br>
<span class="lineno"></span><span class="op" id="8309853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="8309856">type</span>&nbsp;<span class="ident" id="8309861">String</span>&nbsp;<span class="builtintype" id="8309868">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8309876">type</span>&nbsp;<span class="ident" id="8309881">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="8309898">struct</span>&nbsp;<span class="op" id="8309905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309908">Str1</span>&nbsp;<span class="keyword" id="8309913">interface</span><span class="op" id="8309922">{</span><span class="op" id="8309923">}</span>&nbsp;<span class="comment" id="8309925">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8309935">Str2</span>&nbsp;<span class="keyword" id="8309940">interface</span><span class="op" id="8309949">{</span><span class="op" id="8309950">}</span>&nbsp;<span class="comment" id="8309952">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="8309963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8309966">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="8310013">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="8310063">func</span>&nbsp;<span class="ident" id="8310068">TestInterfacePointer</span><span class="op" id="8310088">(</span><span class="ident" id="8310089">t</span>&nbsp;<span class="op" id="8310091">*</span><span class="ident" id="8310092">testing</span><span class="op" id="8310099">.</span><span class="ident" id="8310100">T</span><span class="op" id="8310101">)</span>&nbsp;<span class="op" id="8310103">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310106">b</span>&nbsp;<span class="op" id="8310108">:=</span>&nbsp;<span class="builtinfunc" id="8310111">new</span><span class="op" id="8310114">(</span><span class="ident" id="8310115">bytes</span><span class="op" id="8310120">.</span><span class="ident" id="8310121">Buffer</span><span class="op" id="8310127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310130">str1</span>&nbsp;<span class="op" id="8310135">:=</span>&nbsp;<span class="string" id="8310138">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310147">str2</span>&nbsp;<span class="op" id="8310152">:=</span>&nbsp;<span class="ident" id="8310155">String</span><span class="op" id="8310161">(</span><span class="string" id="8310162">&#34;kiddo&#34;</span><span class="op" id="8310169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310172">item1</span>&nbsp;<span class="op" id="8310178">:=</span>&nbsp;<span class="op" id="8310181">&amp;</span><span class="ident" id="8310182">PtrInterfaceItem</span><span class="op" id="8310198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8310202">&amp;</span><span class="ident" id="8310203">str1</span><span class="op" id="8310207">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8310211">&amp;</span><span class="ident" id="8310212">str2</span><span class="op" id="8310216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8310219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8310222">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310245">Register</span><span class="op" id="8310253">(</span><span class="ident" id="8310254">str2</span><span class="op" id="8310258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310261">err</span>&nbsp;<span class="op" id="8310265">:=</span>&nbsp;<span class="ident" id="8310268">NewEncoder</span><span class="op" id="8310278">(</span><span class="ident" id="8310279">b</span><span class="op" id="8310280">)</span><span class="op" id="8310281">.</span><span class="ident" id="8310282">Encode</span><span class="op" id="8310288">(</span><span class="ident" id="8310289">item1</span><span class="op" id="8310294">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310297">if</span>&nbsp;<span class="ident" id="8310300">err</span>&nbsp;<span class="op" id="8310304">!=</span>&nbsp;<span class="ident" id="8310307">nil</span>&nbsp;<span class="op" id="8310311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310315">t</span><span class="op" id="8310316">.</span><span class="ident" id="8310317">Error</span><span class="op" id="8310322">(</span><span class="string" id="8310323">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8310354">,</span>&nbsp;<span class="ident" id="8310356">err</span><span class="op" id="8310359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8310362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310366">item2</span>&nbsp;<span class="op" id="8310372">:=</span>&nbsp;<span class="op" id="8310375">&amp;</span><span class="ident" id="8310376">PtrInterfaceItem</span><span class="op" id="8310392">{</span><span class="op" id="8310393">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310396">err</span>&nbsp;<span class="op" id="8310400">=</span>&nbsp;<span class="ident" id="8310402">NewDecoder</span><span class="op" id="8310412">(</span><span class="ident" id="8310413">b</span><span class="op" id="8310414">)</span><span class="op" id="8310415">.</span><span class="ident" id="8310416">Decode</span><span class="op" id="8310422">(</span><span class="op" id="8310423">&amp;</span><span class="ident" id="8310424">item2</span><span class="op" id="8310429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310432">if</span>&nbsp;<span class="ident" id="8310435">err</span>&nbsp;<span class="op" id="8310439">!=</span>&nbsp;<span class="ident" id="8310442">nil</span>&nbsp;<span class="op" id="8310446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310450">t</span><span class="op" id="8310451">.</span><span class="ident" id="8310452">Fatal</span><span class="op" id="8310457">(</span><span class="string" id="8310458">&#34;decode:&#34;</span><span class="op" id="8310467">,</span>&nbsp;<span class="ident" id="8310469">err</span><span class="op" id="8310472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8310475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8310478">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310522">if</span>&nbsp;<span class="ident" id="8310525">v</span><span class="op" id="8310526">,</span>&nbsp;<span class="ident" id="8310528">ok</span>&nbsp;<span class="op" id="8310531">:=</span>&nbsp;<span class="ident" id="8310534">item2</span><span class="op" id="8310539">.</span><span class="ident" id="8310540">Str1</span><span class="op" id="8310544">.</span><span class="op" id="8310545">(</span><span class="builtintype" id="8310546">string</span><span class="op" id="8310552">)</span><span class="op" id="8310553">;</span>&nbsp;<span class="op" id="8310555">!</span><span class="ident" id="8310556">ok</span>&nbsp;<span class="op" id="8310559">||</span>&nbsp;<span class="ident" id="8310562">v</span>&nbsp;<span class="op" id="8310564">!=</span>&nbsp;<span class="ident" id="8310567">str1</span>&nbsp;<span class="op" id="8310572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310576">t</span><span class="op" id="8310577">.</span><span class="ident" id="8310578">Errorf</span><span class="op" id="8310584">(</span><span class="string" id="8310585">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8310623">,</span>&nbsp;<span class="ident" id="8310625">v</span><span class="op" id="8310626">,</span>&nbsp;<span class="ident" id="8310628">str1</span><span class="op" id="8310632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8310635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8310638">if</span>&nbsp;<span class="ident" id="8310641">v</span><span class="op" id="8310642">,</span>&nbsp;<span class="ident" id="8310644">ok</span>&nbsp;<span class="op" id="8310647">:=</span>&nbsp;<span class="ident" id="8310650">item2</span><span class="op" id="8310655">.</span><span class="ident" id="8310656">Str2</span><span class="op" id="8310660">.</span><span class="op" id="8310661">(</span><span class="ident" id="8310662">String</span><span class="op" id="8310668">)</span><span class="op" id="8310669">;</span>&nbsp;<span class="op" id="8310671">!</span><span class="ident" id="8310672">ok</span>&nbsp;<span class="op" id="8310675">||</span>&nbsp;<span class="ident" id="8310678">v</span>&nbsp;<span class="op" id="8310680">!=</span>&nbsp;<span class="ident" id="8310683">str2</span>&nbsp;<span class="op" id="8310688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310692">t</span><span class="op" id="8310693">.</span><span class="ident" id="8310694">Errorf</span><span class="op" id="8310700">(</span><span class="string" id="8310701">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8310746">,</span>&nbsp;<span class="ident" id="8310748">v</span><span class="op" id="8310749">,</span>&nbsp;<span class="ident" id="8310751">str2</span><span class="op" id="8310755">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8310758">}</span><br>
<span class="lineno"></span><span class="op" id="8310760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8310763">func</span>&nbsp;<span class="ident" id="8310768">TestIgnoreInterface</span><span class="op" id="8310787">(</span><span class="ident" id="8310788">t</span>&nbsp;<span class="op" id="8310790">*</span><span class="ident" id="8310791">testing</span><span class="op" id="8310798">.</span><span class="ident" id="8310799">T</span><span class="op" id="8310800">)</span>&nbsp;<span class="op" id="8310802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310805">iVal</span>&nbsp;<span class="op" id="8310810">:=</span>&nbsp;<span class="ident" id="8310813">Int</span><span class="op" id="8310816">(</span><span class="num" id="8310817">3</span><span class="op" id="8310818">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310821">fVal</span>&nbsp;<span class="op" id="8310826">:=</span>&nbsp;<span class="ident" id="8310829">Float</span><span class="op" id="8310834">(</span><span class="num" id="8310835">5</span><span class="op" id="8310836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8310839">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8310921">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310956">pVal</span>&nbsp;<span class="op" id="8310961">:=</span>&nbsp;<span class="ident" id="8310964">Point</span><span class="op" id="8310969">{</span><span class="num" id="8310970">2</span><span class="op" id="8310971">,</span>&nbsp;<span class="num" id="8310973">3</span><span class="op" id="8310974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8310977">b</span>&nbsp;<span class="op" id="8310979">:=</span>&nbsp;<span class="builtinfunc" id="8310982">new</span><span class="op" id="8310985">(</span><span class="ident" id="8310986">bytes</span><span class="op" id="8310991">.</span><span class="ident" id="8310992">Buffer</span><span class="op" id="8310998">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311001">item1</span>&nbsp;<span class="op" id="8311007">:=</span>&nbsp;<span class="op" id="8311010">&amp;</span><span class="ident" id="8311011">InterfaceItem</span><span class="op" id="8311024">{</span><span class="num" id="8311025">1</span><span class="op" id="8311026">,</span>&nbsp;<span class="ident" id="8311028">iVal</span><span class="op" id="8311032">,</span>&nbsp;<span class="ident" id="8311034">fVal</span><span class="op" id="8311038">,</span>&nbsp;<span class="ident" id="8311040">pVal</span><span class="op" id="8311044">,</span>&nbsp;<span class="num" id="8311046">11.5</span><span class="op" id="8311050">,</span>&nbsp;<span class="ident" id="8311052">nil</span><span class="op" id="8311055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8311058">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311082">Register</span><span class="op" id="8311090">(</span><span class="ident" id="8311091">Int</span><span class="op" id="8311094">(</span><span class="num" id="8311095">0</span><span class="op" id="8311096">)</span><span class="op" id="8311097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311100">Register</span><span class="op" id="8311108">(</span><span class="ident" id="8311109">Float</span><span class="op" id="8311114">(</span><span class="num" id="8311115">0</span><span class="op" id="8311116">)</span><span class="op" id="8311117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311120">Register</span><span class="op" id="8311128">(</span><span class="ident" id="8311129">Point</span><span class="op" id="8311134">{</span><span class="op" id="8311135">}</span><span class="op" id="8311136">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311139">err</span>&nbsp;<span class="op" id="8311143">:=</span>&nbsp;<span class="ident" id="8311146">NewEncoder</span><span class="op" id="8311156">(</span><span class="ident" id="8311157">b</span><span class="op" id="8311158">)</span><span class="op" id="8311159">.</span><span class="ident" id="8311160">Encode</span><span class="op" id="8311166">(</span><span class="ident" id="8311167">item1</span><span class="op" id="8311172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311175">if</span>&nbsp;<span class="ident" id="8311178">err</span>&nbsp;<span class="op" id="8311182">!=</span>&nbsp;<span class="ident" id="8311185">nil</span>&nbsp;<span class="op" id="8311189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311193">t</span><span class="op" id="8311194">.</span><span class="ident" id="8311195">Error</span><span class="op" id="8311200">(</span><span class="string" id="8311201">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8311232">,</span>&nbsp;<span class="ident" id="8311234">err</span><span class="op" id="8311237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8311240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311244">item2</span>&nbsp;<span class="op" id="8311250">:=</span>&nbsp;<span class="ident" id="8311253">NoInterfaceItem</span><span class="op" id="8311268">{</span><span class="op" id="8311269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311272">err</span>&nbsp;<span class="op" id="8311276">=</span>&nbsp;<span class="ident" id="8311278">NewDecoder</span><span class="op" id="8311288">(</span><span class="ident" id="8311289">b</span><span class="op" id="8311290">)</span><span class="op" id="8311291">.</span><span class="ident" id="8311292">Decode</span><span class="op" id="8311298">(</span><span class="op" id="8311299">&amp;</span><span class="ident" id="8311300">item2</span><span class="op" id="8311305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311308">if</span>&nbsp;<span class="ident" id="8311311">err</span>&nbsp;<span class="op" id="8311315">!=</span>&nbsp;<span class="ident" id="8311318">nil</span>&nbsp;<span class="op" id="8311322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311326">t</span><span class="op" id="8311327">.</span><span class="ident" id="8311328">Fatal</span><span class="op" id="8311333">(</span><span class="string" id="8311334">&#34;decode:&#34;</span><span class="op" id="8311343">,</span>&nbsp;<span class="ident" id="8311345">err</span><span class="op" id="8311348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8311351">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311354">if</span>&nbsp;<span class="ident" id="8311357">item2</span><span class="op" id="8311362">.</span><span class="ident" id="8311363">I</span>&nbsp;<span class="op" id="8311365">!=</span>&nbsp;<span class="ident" id="8311368">item1</span><span class="op" id="8311373">.</span><span class="ident" id="8311374">I</span>&nbsp;<span class="op" id="8311376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311380">t</span><span class="op" id="8311381">.</span><span class="ident" id="8311382">Error</span><span class="op" id="8311387">(</span><span class="string" id="8311388">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8311425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8311428">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311431">if</span>&nbsp;<span class="ident" id="8311434">item2</span><span class="op" id="8311439">.</span><span class="ident" id="8311440">F</span>&nbsp;<span class="op" id="8311442">!=</span>&nbsp;<span class="ident" id="8311445">item2</span><span class="op" id="8311450">.</span><span class="ident" id="8311451">F</span>&nbsp;<span class="op" id="8311453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311457">t</span><span class="op" id="8311458">.</span><span class="ident" id="8311459">Error</span><span class="op" id="8311464">(</span><span class="string" id="8311465">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8311504">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8311507">}</span><br>
<span class="lineno"></span><span class="op" id="8311509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8311512">type</span>&nbsp;<span class="ident" id="8311517">U</span>&nbsp;<span class="keyword" id="8311519">struct</span>&nbsp;<span class="op" id="8311526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311529">A</span>&nbsp;<span class="builtintype" id="8311531">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311536">B</span>&nbsp;<span class="builtintype" id="8311538">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311546">c</span>&nbsp;<span class="builtintype" id="8311548">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311557">D</span>&nbsp;<span class="builtintype" id="8311559">uint</span><br>
<span class="lineno"></span><span class="op" id="8311564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="8311567">func</span>&nbsp;<span class="ident" id="8311572">TestUnexportedFields</span><span class="op" id="8311592">(</span><span class="ident" id="8311593">t</span>&nbsp;<span class="op" id="8311595">*</span><span class="ident" id="8311596">testing</span><span class="op" id="8311603">.</span><span class="ident" id="8311604">T</span><span class="op" id="8311605">)</span>&nbsp;<span class="op" id="8311607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311610">var</span>&nbsp;<span class="ident" id="8311614">u0</span>&nbsp;<span class="ident" id="8311617">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311620">u0</span><span class="op" id="8311622">.</span><span class="ident" id="8311623">A</span>&nbsp;<span class="op" id="8311625">=</span>&nbsp;<span class="num" id="8311627">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311631">u0</span><span class="op" id="8311633">.</span><span class="ident" id="8311634">B</span>&nbsp;<span class="op" id="8311636">=</span>&nbsp;<span class="string" id="8311638">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311647">u0</span><span class="op" id="8311649">.</span><span class="ident" id="8311650">c</span>&nbsp;<span class="op" id="8311652">=</span>&nbsp;<span class="num" id="8311654">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311663">u0</span><span class="op" id="8311665">.</span><span class="ident" id="8311666">D</span>&nbsp;<span class="op" id="8311668">=</span>&nbsp;<span class="num" id="8311670">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311674">b</span>&nbsp;<span class="op" id="8311676">:=</span>&nbsp;<span class="builtinfunc" id="8311679">new</span><span class="op" id="8311682">(</span><span class="ident" id="8311683">bytes</span><span class="op" id="8311688">.</span><span class="ident" id="8311689">Buffer</span><span class="op" id="8311695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311698">NewEncoder</span><span class="op" id="8311708">(</span><span class="ident" id="8311709">b</span><span class="op" id="8311710">)</span><span class="op" id="8311711">.</span><span class="ident" id="8311712">Encode</span><span class="op" id="8311718">(</span><span class="ident" id="8311719">u0</span><span class="op" id="8311721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311724">dec</span>&nbsp;<span class="op" id="8311728">:=</span>&nbsp;<span class="ident" id="8311731">NewDecoder</span><span class="op" id="8311741">(</span><span class="ident" id="8311742">b</span><span class="op" id="8311743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311746">var</span>&nbsp;<span class="ident" id="8311750">u1</span>&nbsp;<span class="ident" id="8311753">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311756">u1</span><span class="op" id="8311758">.</span><span class="ident" id="8311759">c</span>&nbsp;<span class="op" id="8311761">=</span>&nbsp;<span class="num" id="8311763">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311770">err</span>&nbsp;<span class="op" id="8311774">:=</span>&nbsp;<span class="ident" id="8311777">dec</span><span class="op" id="8311780">.</span><span class="ident" id="8311781">Decode</span><span class="op" id="8311787">(</span><span class="op" id="8311788">&amp;</span><span class="ident" id="8311789">u1</span><span class="op" id="8311791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311794">if</span>&nbsp;<span class="ident" id="8311797">err</span>&nbsp;<span class="op" id="8311801">!=</span>&nbsp;<span class="ident" id="8311804">nil</span>&nbsp;<span class="op" id="8311808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311812">t</span><span class="op" id="8311813">.</span><span class="ident" id="8311814">Fatal</span><span class="op" id="8311819">(</span><span class="string" id="8311820">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8311835">,</span>&nbsp;<span class="ident" id="8311837">err</span><span class="op" id="8311840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8311843">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311846">if</span>&nbsp;<span class="ident" id="8311849">u0</span><span class="op" id="8311851">.</span><span class="ident" id="8311852">A</span>&nbsp;<span class="op" id="8311854">!=</span>&nbsp;<span class="ident" id="8311857">u0</span><span class="op" id="8311859">.</span><span class="ident" id="8311860">A</span>&nbsp;<span class="op" id="8311862">||</span>&nbsp;<span class="ident" id="8311865">u0</span><span class="op" id="8311867">.</span><span class="ident" id="8311868">B</span>&nbsp;<span class="op" id="8311870">!=</span>&nbsp;<span class="ident" id="8311873">u1</span><span class="op" id="8311875">.</span><span class="ident" id="8311876">B</span>&nbsp;<span class="op" id="8311878">||</span>&nbsp;<span class="ident" id="8311881">u0</span><span class="op" id="8311883">.</span><span class="ident" id="8311884">D</span>&nbsp;<span class="op" id="8311886">!=</span>&nbsp;<span class="ident" id="8311889">u1</span><span class="op" id="8311891">.</span><span class="ident" id="8311892">D</span>&nbsp;<span class="op" id="8311894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311898">t</span><span class="op" id="8311899">.</span><span class="ident" id="8311900">Errorf</span><span class="op" id="8311906">(</span><span class="string" id="8311907">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8311936">,</span>&nbsp;<span class="ident" id="8311938">u0</span><span class="op" id="8311940">,</span>&nbsp;<span class="ident" id="8311942">u1</span><span class="op" id="8311944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8311947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8311950">if</span>&nbsp;<span class="ident" id="8311953">u1</span><span class="op" id="8311955">.</span><span class="ident" id="8311956">c</span>&nbsp;<span class="op" id="8311958">!=</span>&nbsp;<span class="num" id="8311961">1234.</span>&nbsp;<span class="op" id="8311967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8311971">t</span><span class="op" id="8311972">.</span><span class="ident" id="8311973">Error</span><span class="op" id="8311978">(</span><span class="string" id="8311979">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="8311994">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8311997">}</span><br>
<span class="lineno"></span><span class="op" id="8311999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8312002">var</span>&nbsp;<span class="ident" id="8312006">singletons</span>&nbsp;<span class="op" id="8312017">=</span>&nbsp;<span class="op" id="8312019">[</span><span class="op" id="8312020">]</span><span class="keyword" id="8312021">interface</span><span class="op" id="8312030">{</span><span class="op" id="8312031">}</span><span class="op" id="8312032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8312035">true</span><span class="op" id="8312039">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8312042">7</span><span class="op" id="8312043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8312046">3.2</span><span class="op" id="8312049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8312052">&#34;hello&#34;</span><span class="op" id="8312059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8312062">[</span><span class="num" id="8312063">3</span><span class="op" id="8312064">]</span><span class="builtintype" id="8312065">int</span><span class="op" id="8312068">{</span><span class="num" id="8312069">11</span><span class="op" id="8312071">,</span>&nbsp;<span class="num" id="8312073">22</span><span class="op" id="8312075">,</span>&nbsp;<span class="num" id="8312077">33</span><span class="op" id="8312079">}</span><span class="op" id="8312080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8312083">[</span><span class="op" id="8312084">]</span><span class="builtintype" id="8312085">float32</span><span class="op" id="8312092">{</span><span class="num" id="8312093">0.5</span><span class="op" id="8312096">,</span>&nbsp;<span class="num" id="8312098">0.25</span><span class="op" id="8312102">,</span>&nbsp;<span class="num" id="8312104">0.125</span><span class="op" id="8312109">}</span><span class="op" id="8312110">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8312113">map</span><span class="op" id="8312116">[</span><span class="builtintype" id="8312117">string</span><span class="op" id="8312123">]</span><span class="builtintype" id="8312124">int</span><span class="op" id="8312127">{</span><span class="string" id="8312128">&#34;one&#34;</span><span class="op" id="8312133">:</span>&nbsp;<span class="num" id="8312135">1</span><span class="op" id="8312136">,</span>&nbsp;<span class="string" id="8312138">&#34;two&#34;</span><span class="op" id="8312143">:</span>&nbsp;<span class="num" id="8312145">2</span><span class="op" id="8312146">}</span><span class="op" id="8312147">,</span><br>
<span class="lineno"></span><span class="op" id="8312149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8312152">func</span>&nbsp;<span class="ident" id="8312157">TestDebugSingleton</span><span class="op" id="8312175">(</span><span class="ident" id="8312176">t</span>&nbsp;<span class="op" id="8312178">*</span><span class="ident" id="8312179">testing</span><span class="op" id="8312186">.</span><span class="ident" id="8312187">T</span><span class="op" id="8312188">)</span>&nbsp;<span class="op" id="8312190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8312193">if</span>&nbsp;<span class="ident" id="8312196">debugFunc</span>&nbsp;<span class="op" id="8312206">==</span>&nbsp;<span class="ident" id="8312209">nil</span>&nbsp;<span class="op" id="8312213">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8312217">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8312225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312228">b</span>&nbsp;<span class="op" id="8312230">:=</span>&nbsp;<span class="builtinfunc" id="8312233">new</span><span class="op" id="8312236">(</span><span class="ident" id="8312237">bytes</span><span class="op" id="8312242">.</span><span class="ident" id="8312243">Buffer</span><span class="op" id="8312249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8312252">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8312318">for</span>&nbsp;<span class="ident" id="8312322">_</span><span class="op" id="8312323">,</span>&nbsp;<span class="ident" id="8312325">x</span>&nbsp;<span class="op" id="8312327">:=</span>&nbsp;<span class="keyword" id="8312330">range</span>&nbsp;<span class="ident" id="8312336">singletons</span>&nbsp;<span class="op" id="8312347">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312351">err</span>&nbsp;<span class="op" id="8312355">:=</span>&nbsp;<span class="ident" id="8312358">NewEncoder</span><span class="op" id="8312368">(</span><span class="ident" id="8312369">b</span><span class="op" id="8312370">)</span><span class="op" id="8312371">.</span><span class="ident" id="8312372">Encode</span><span class="op" id="8312378">(</span><span class="ident" id="8312379">x</span><span class="op" id="8312380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8312384">if</span>&nbsp;<span class="ident" id="8312387">err</span>&nbsp;<span class="op" id="8312391">!=</span>&nbsp;<span class="ident" id="8312394">nil</span>&nbsp;<span class="op" id="8312398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312403">t</span><span class="op" id="8312404">.</span><span class="ident" id="8312405">Fatal</span><span class="op" id="8312410">(</span><span class="string" id="8312411">&#34;encode:&#34;</span><span class="op" id="8312420">,</span>&nbsp;<span class="ident" id="8312422">err</span><span class="op" id="8312425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8312429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8312432">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312435">debugFunc</span><span class="op" id="8312444">(</span><span class="ident" id="8312445">b</span><span class="op" id="8312446">)</span><br>
<span class="lineno"></span><span class="op" id="8312448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8312451">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="8312534">type</span>&nbsp;<span class="ident" id="8312539">OnTheFly</span>&nbsp;<span class="keyword" id="8312548">struct</span>&nbsp;<span class="op" id="8312555">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312558">A</span>&nbsp;<span class="builtintype" id="8312560">int</span><br>
<span class="lineno"></span><span class="op" id="8312564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8312567">type</span>&nbsp;<span class="ident" id="8312572">DT</span>&nbsp;<span class="keyword" id="8312575">struct</span>&nbsp;<span class="op" id="8312582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8312585">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312600">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8312606">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312611">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8312617">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312625">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8312631">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312640">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8312646">interface</span><span class="op" id="8312655">{</span><span class="op" id="8312656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312659">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8312665">interface</span><span class="op" id="8312674">{</span><span class="op" id="8312675">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312678">I_nil</span>&nbsp;<span class="keyword" id="8312684">interface</span><span class="op" id="8312693">{</span><span class="op" id="8312694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312697">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8312703">map</span><span class="op" id="8312706">[</span><span class="builtintype" id="8312707">string</span><span class="op" id="8312713">]</span><span class="builtintype" id="8312714">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312719">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312725">[</span><span class="num" id="8312726">3</span><span class="op" id="8312727">]</span><span class="builtintype" id="8312728">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312733">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8312739">[</span><span class="op" id="8312740">]</span><span class="builtintype" id="8312741">string</span><br>
<span class="lineno"></span><span class="op" id="8312748">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="8312751">func</span>&nbsp;<span class="ident" id="8312756">newDT</span><span class="op" id="8312761">(</span><span class="op" id="8312762">)</span>&nbsp;<span class="ident" id="8312764">DT</span>&nbsp;<span class="op" id="8312767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8312770">var</span>&nbsp;<span class="ident" id="8312774">dt</span>&nbsp;<span class="ident" id="8312777">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312781">dt</span><span class="op" id="8312783">.</span><span class="ident" id="8312784">A</span>&nbsp;<span class="op" id="8312786">=</span>&nbsp;<span class="num" id="8312788">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312792">dt</span><span class="op" id="8312794">.</span><span class="ident" id="8312795">B</span>&nbsp;<span class="op" id="8312797">=</span>&nbsp;<span class="string" id="8312799">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312808">dt</span><span class="op" id="8312810">.</span><span class="ident" id="8312811">C</span>&nbsp;<span class="op" id="8312813">=</span>&nbsp;<span class="num" id="8312815">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312824">dt</span><span class="op" id="8312826">.</span><span class="ident" id="8312827">I</span>&nbsp;<span class="op" id="8312829">=</span>&nbsp;<span class="num" id="8312831">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312839">dt</span><span class="op" id="8312841">.</span><span class="ident" id="8312842">J</span>&nbsp;<span class="op" id="8312844">=</span>&nbsp;<span class="ident" id="8312846">OnTheFly</span><span class="op" id="8312854">{</span><span class="num" id="8312855">3</span><span class="op" id="8312856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312859">dt</span><span class="op" id="8312861">.</span><span class="ident" id="8312862">I_nil</span>&nbsp;<span class="op" id="8312868">=</span>&nbsp;<span class="ident" id="8312870">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312875">dt</span><span class="op" id="8312877">.</span><span class="ident" id="8312878">M</span>&nbsp;<span class="op" id="8312880">=</span>&nbsp;<span class="keyword" id="8312882">map</span><span class="op" id="8312885">[</span><span class="builtintype" id="8312886">string</span><span class="op" id="8312892">]</span><span class="builtintype" id="8312893">int</span><span class="op" id="8312896">{</span><span class="string" id="8312897">&#34;one&#34;</span><span class="op" id="8312902">:</span>&nbsp;<span class="num" id="8312904">1</span><span class="op" id="8312905">,</span>&nbsp;<span class="string" id="8312907">&#34;two&#34;</span><span class="op" id="8312912">:</span>&nbsp;<span class="num" id="8312914">2</span><span class="op" id="8312915">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312918">dt</span><span class="op" id="8312920">.</span><span class="ident" id="8312921">T</span>&nbsp;<span class="op" id="8312923">=</span>&nbsp;<span class="op" id="8312925">[</span><span class="num" id="8312926">3</span><span class="op" id="8312927">]</span><span class="builtintype" id="8312928">int</span><span class="op" id="8312931">{</span><span class="num" id="8312932">11</span><span class="op" id="8312934">,</span>&nbsp;<span class="num" id="8312936">22</span><span class="op" id="8312938">,</span>&nbsp;<span class="num" id="8312940">33</span><span class="op" id="8312942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8312945">dt</span><span class="op" id="8312947">.</span><span class="ident" id="8312948">S</span>&nbsp;<span class="op" id="8312950">=</span>&nbsp;<span class="op" id="8312952">[</span><span class="op" id="8312953">]</span><span class="builtintype" id="8312954">string</span><span class="op" id="8312960">{</span><span class="string" id="8312961">&#34;hi&#34;</span><span class="op" id="8312965">,</span>&nbsp;<span class="string" id="8312967">&#34;joe&#34;</span><span class="op" id="8312972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8312975">return</span>&nbsp;<span class="ident" id="8312982">dt</span><br>
<span class="lineno"></span><span class="op" id="8312985">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="8312988">func</span>&nbsp;<span class="ident" id="8312993">TestDebugStruct</span><span class="op" id="8313008">(</span><span class="ident" id="8313009">t</span>&nbsp;<span class="op" id="8313011">*</span><span class="ident" id="8313012">testing</span><span class="op" id="8313019">.</span><span class="ident" id="8313020">T</span><span class="op" id="8313021">)</span>&nbsp;<span class="op" id="8313023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313026">if</span>&nbsp;<span class="ident" id="8313029">debugFunc</span>&nbsp;<span class="op" id="8313039">==</span>&nbsp;<span class="ident" id="8313042">nil</span>&nbsp;<span class="op" id="8313046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313050">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313061">Register</span><span class="op" id="8313069">(</span><span class="ident" id="8313070">OnTheFly</span><span class="op" id="8313078">{</span><span class="op" id="8313079">}</span><span class="op" id="8313080">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313083">dt</span>&nbsp;<span class="op" id="8313086">:=</span>&nbsp;<span class="ident" id="8313089">newDT</span><span class="op" id="8313094">(</span><span class="op" id="8313095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313098">b</span>&nbsp;<span class="op" id="8313100">:=</span>&nbsp;<span class="builtinfunc" id="8313103">new</span><span class="op" id="8313106">(</span><span class="ident" id="8313107">bytes</span><span class="op" id="8313112">.</span><span class="ident" id="8313113">Buffer</span><span class="op" id="8313119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313122">err</span>&nbsp;<span class="op" id="8313126">:=</span>&nbsp;<span class="ident" id="8313129">NewEncoder</span><span class="op" id="8313139">(</span><span class="ident" id="8313140">b</span><span class="op" id="8313141">)</span><span class="op" id="8313142">.</span><span class="ident" id="8313143">Encode</span><span class="op" id="8313149">(</span><span class="ident" id="8313150">dt</span><span class="op" id="8313152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313155">if</span>&nbsp;<span class="ident" id="8313158">err</span>&nbsp;<span class="op" id="8313162">!=</span>&nbsp;<span class="ident" id="8313165">nil</span>&nbsp;<span class="op" id="8313169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313173">t</span><span class="op" id="8313174">.</span><span class="ident" id="8313175">Fatal</span><span class="op" id="8313180">(</span><span class="string" id="8313181">&#34;encode:&#34;</span><span class="op" id="8313190">,</span>&nbsp;<span class="ident" id="8313192">err</span><span class="op" id="8313195">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313201">debugBuffer</span>&nbsp;<span class="op" id="8313213">:=</span>&nbsp;<span class="ident" id="8313216">bytes</span><span class="op" id="8313221">.</span><span class="ident" id="8313222">NewBuffer</span><span class="op" id="8313231">(</span><span class="ident" id="8313232">b</span><span class="op" id="8313233">.</span><span class="ident" id="8313234">Bytes</span><span class="op" id="8313239">(</span><span class="op" id="8313240">)</span><span class="op" id="8313241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313244">dt2</span>&nbsp;<span class="op" id="8313248">:=</span>&nbsp;<span class="op" id="8313251">&amp;</span><span class="ident" id="8313252">DT</span><span class="op" id="8313254">{</span><span class="op" id="8313255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313258">err</span>&nbsp;<span class="op" id="8313262">=</span>&nbsp;<span class="ident" id="8313264">NewDecoder</span><span class="op" id="8313274">(</span><span class="ident" id="8313275">b</span><span class="op" id="8313276">)</span><span class="op" id="8313277">.</span><span class="ident" id="8313278">Decode</span><span class="op" id="8313284">(</span><span class="op" id="8313285">&amp;</span><span class="ident" id="8313286">dt2</span><span class="op" id="8313289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313292">if</span>&nbsp;<span class="ident" id="8313295">err</span>&nbsp;<span class="op" id="8313299">!=</span>&nbsp;<span class="ident" id="8313302">nil</span>&nbsp;<span class="op" id="8313306">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313310">t</span><span class="op" id="8313311">.</span><span class="ident" id="8313312">Error</span><span class="op" id="8313317">(</span><span class="string" id="8313318">&#34;decode:&#34;</span><span class="op" id="8313327">,</span>&nbsp;<span class="ident" id="8313329">err</span><span class="op" id="8313332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313338">debugFunc</span><span class="op" id="8313347">(</span><span class="ident" id="8313348">debugBuffer</span><span class="op" id="8313359">)</span><br>
<span class="lineno"></span><span class="op" id="8313361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="8313364">func</span>&nbsp;<span class="ident" id="8313369">encFuzzDec</span><span class="op" id="8313379">(</span><span class="ident" id="8313380">rng</span>&nbsp;<span class="op" id="8313384">*</span><span class="ident" id="8313385">rand</span><span class="op" id="8313389">.</span><span class="ident" id="8313390">Rand</span><span class="op" id="8313394">,</span>&nbsp;<span class="ident" id="8313396">in</span>&nbsp;<span class="keyword" id="8313399">interface</span><span class="op" id="8313408">{</span><span class="op" id="8313409">}</span><span class="op" id="8313410">)</span>&nbsp;<span class="builtintype" id="8313412">error</span>&nbsp;<span class="op" id="8313418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313421">buf</span>&nbsp;<span class="op" id="8313425">:=</span>&nbsp;<span class="builtinfunc" id="8313428">new</span><span class="op" id="8313431">(</span><span class="ident" id="8313432">bytes</span><span class="op" id="8313437">.</span><span class="ident" id="8313438">Buffer</span><span class="op" id="8313444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313447">enc</span>&nbsp;<span class="op" id="8313451">:=</span>&nbsp;<span class="ident" id="8313454">NewEncoder</span><span class="op" id="8313464">(</span><span class="ident" id="8313465">buf</span><span class="op" id="8313468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313471">if</span>&nbsp;<span class="ident" id="8313474">err</span>&nbsp;<span class="op" id="8313478">:=</span>&nbsp;<span class="ident" id="8313481">enc</span><span class="op" id="8313484">.</span><span class="ident" id="8313485">Encode</span><span class="op" id="8313491">(</span><span class="op" id="8313492">&amp;</span><span class="ident" id="8313493">in</span><span class="op" id="8313495">)</span><span class="op" id="8313496">;</span>&nbsp;<span class="ident" id="8313498">err</span>&nbsp;<span class="op" id="8313502">!=</span>&nbsp;<span class="ident" id="8313505">nil</span>&nbsp;<span class="op" id="8313509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313513">return</span>&nbsp;<span class="ident" id="8313520">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313529">b</span>&nbsp;<span class="op" id="8313531">:=</span>&nbsp;<span class="ident" id="8313534">buf</span><span class="op" id="8313537">.</span><span class="ident" id="8313538">Bytes</span><span class="op" id="8313543">(</span><span class="op" id="8313544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313547">for</span>&nbsp;<span class="ident" id="8313551">i</span><span class="op" id="8313552">,</span>&nbsp;<span class="ident" id="8313554">bi</span>&nbsp;<span class="op" id="8313557">:=</span>&nbsp;<span class="keyword" id="8313560">range</span>&nbsp;<span class="ident" id="8313566">b</span>&nbsp;<span class="op" id="8313568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313572">if</span>&nbsp;<span class="ident" id="8313575">rng</span><span class="op" id="8313578">.</span><span class="ident" id="8313579">Intn</span><span class="op" id="8313583">(</span><span class="num" id="8313584">10</span><span class="op" id="8313586">)</span>&nbsp;<span class="op" id="8313588">&lt;</span>&nbsp;<span class="num" id="8313590">3</span>&nbsp;<span class="op" id="8313592">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313597">b</span><span class="op" id="8313598">[</span><span class="ident" id="8313599">i</span><span class="op" id="8313600">]</span>&nbsp;<span class="op" id="8313602">=</span>&nbsp;<span class="ident" id="8313604">bi</span>&nbsp;<span class="op" id="8313607">+</span>&nbsp;<span class="builtintype" id="8313609">uint8</span><span class="op" id="8313614">(</span><span class="ident" id="8313615">rng</span><span class="op" id="8313618">.</span><span class="ident" id="8313619">Intn</span><span class="op" id="8313623">(</span><span class="num" id="8313624">256</span><span class="op" id="8313627">)</span><span class="op" id="8313628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313639">dec</span>&nbsp;<span class="op" id="8313643">:=</span>&nbsp;<span class="ident" id="8313646">NewDecoder</span><span class="op" id="8313656">(</span><span class="ident" id="8313657">buf</span><span class="op" id="8313660">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313663">var</span>&nbsp;<span class="ident" id="8313667">e</span>&nbsp;<span class="keyword" id="8313669">interface</span><span class="op" id="8313678">{</span><span class="op" id="8313679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313682">if</span>&nbsp;<span class="ident" id="8313685">err</span>&nbsp;<span class="op" id="8313689">:=</span>&nbsp;<span class="ident" id="8313692">dec</span><span class="op" id="8313695">.</span><span class="ident" id="8313696">Decode</span><span class="op" id="8313702">(</span><span class="op" id="8313703">&amp;</span><span class="ident" id="8313704">e</span><span class="op" id="8313705">)</span><span class="op" id="8313706">;</span>&nbsp;<span class="ident" id="8313708">err</span>&nbsp;<span class="op" id="8313712">!=</span>&nbsp;<span class="ident" id="8313715">nil</span>&nbsp;<span class="op" id="8313719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313723">return</span>&nbsp;<span class="ident" id="8313730">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313738">return</span>&nbsp;<span class="ident" id="8313745">nil</span><br>
<span class="lineno">1390</span><span class="op" id="8313749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8313752">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="8313837">func</span>&nbsp;<span class="ident" id="8313842">TestFuzz</span><span class="op" id="8313850">(</span><span class="ident" id="8313851">t</span>&nbsp;<span class="op" id="8313853">*</span><span class="ident" id="8313854">testing</span><span class="op" id="8313861">.</span><span class="ident" id="8313862">T</span><span class="op" id="8313863">)</span>&nbsp;<span class="op" id="8313865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313868">if</span>&nbsp;<span class="op" id="8313871">!</span><span class="op" id="8313872">*</span><span class="ident" id="8313873">doFuzzTests</span>&nbsp;<span class="op" id="8313885">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313889">t</span><span class="op" id="8313890">.</span><span class="ident" id="8313891">Logf</span><span class="op" id="8313895">(</span><span class="string" id="8313896">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8313936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313940">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8313948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8313952">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313976">input</span>&nbsp;<span class="op" id="8313982">:=</span>&nbsp;<span class="op" id="8313985">[</span><span class="op" id="8313986">]</span><span class="keyword" id="8313987">interface</span><span class="op" id="8313996">{</span><span class="op" id="8313997">}</span><span class="op" id="8313998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8314002">new</span><span class="op" id="8314005">(</span><span class="builtintype" id="8314006">int</span><span class="op" id="8314009">)</span><span class="op" id="8314010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8314014">new</span><span class="op" id="8314017">(</span><span class="builtintype" id="8314018">float32</span><span class="op" id="8314025">)</span><span class="op" id="8314026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8314030">new</span><span class="op" id="8314033">(</span><span class="builtintype" id="8314034">float64</span><span class="op" id="8314041">)</span><span class="op" id="8314042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8314046">new</span><span class="op" id="8314049">(</span><span class="builtintype" id="8314050">complex128</span><span class="op" id="8314060">)</span><span class="op" id="8314061">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314065">&amp;</span><span class="ident" id="8314066">ByteStruct</span><span class="op" id="8314076">{</span><span class="num" id="8314077">255</span><span class="op" id="8314080">}</span><span class="op" id="8314081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314085">&amp;</span><span class="ident" id="8314086">ArrayStruct</span><span class="op" id="8314097">{</span><span class="op" id="8314098">}</span><span class="op" id="8314099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314103">&amp;</span><span class="ident" id="8314104">StringStruct</span><span class="op" id="8314116">{</span><span class="string" id="8314117">&#34;hello&#34;</span><span class="op" id="8314124">}</span><span class="op" id="8314125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314129">&amp;</span><span class="ident" id="8314130">GobTest1</span><span class="op" id="8314138">{</span><span class="num" id="8314139">0</span><span class="op" id="8314140">,</span>&nbsp;<span class="op" id="8314142">&amp;</span><span class="ident" id="8314143">StringStruct</span><span class="op" id="8314155">{</span><span class="string" id="8314156">&#34;hello&#34;</span><span class="op" id="8314163">}</span><span class="op" id="8314164">}</span><span class="op" id="8314165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314168">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314171">testFuzz</span><span class="op" id="8314179">(</span><span class="ident" id="8314180">t</span><span class="op" id="8314181">,</span>&nbsp;<span class="ident" id="8314183">time</span><span class="op" id="8314187">.</span><span class="ident" id="8314188">Now</span><span class="op" id="8314191">(</span><span class="op" id="8314192">)</span><span class="op" id="8314193">.</span><span class="ident" id="8314194">UnixNano</span><span class="op" id="8314202">(</span><span class="op" id="8314203">)</span><span class="op" id="8314204">,</span>&nbsp;<span class="num" id="8314206">100</span><span class="op" id="8314209">,</span>&nbsp;<span class="ident" id="8314211">input</span><span class="op" id="8314216">...</span><span class="op" id="8314219">)</span><br>
<span class="lineno"></span><span class="op" id="8314221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8314224">func</span>&nbsp;<span class="ident" id="8314229">TestFuzzRegressions</span><span class="op" id="8314248">(</span><span class="ident" id="8314249">t</span>&nbsp;<span class="op" id="8314251">*</span><span class="ident" id="8314252">testing</span><span class="op" id="8314259">.</span><span class="ident" id="8314260">T</span><span class="op" id="8314261">)</span>&nbsp;<span class="op" id="8314263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314266">if</span>&nbsp;<span class="op" id="8314269">!</span><span class="op" id="8314270">*</span><span class="ident" id="8314271">doFuzzTests</span>&nbsp;<span class="op" id="8314283">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314287">t</span><span class="op" id="8314288">.</span><span class="ident" id="8314289">Logf</span><span class="op" id="8314293">(</span><span class="string" id="8314294">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8314334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314338">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8314350">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314408">testFuzz</span><span class="op" id="8314416">(</span><span class="ident" id="8314417">t</span><span class="op" id="8314418">,</span>&nbsp;<span class="num" id="8314420">1328492090837718000</span><span class="op" id="8314439">,</span>&nbsp;<span class="num" id="8314441">100</span><span class="op" id="8314444">,</span>&nbsp;<span class="builtinfunc" id="8314446">new</span><span class="op" id="8314449">(</span><span class="builtintype" id="8314450">float32</span><span class="op" id="8314457">)</span><span class="op" id="8314458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8314461">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8314511">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314554">testFuzz</span><span class="op" id="8314562">(</span><span class="ident" id="8314563">t</span><span class="op" id="8314564">,</span>&nbsp;<span class="num" id="8314566">1330522872628565000</span><span class="op" id="8314585">,</span>&nbsp;<span class="num" id="8314587">100</span><span class="op" id="8314590">,</span>&nbsp;<span class="builtinfunc" id="8314592">new</span><span class="op" id="8314595">(</span><span class="builtintype" id="8314596">int</span><span class="op" id="8314599">)</span><span class="op" id="8314600">)</span><br>
<span class="lineno"></span><span class="op" id="8314602">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="8314605">func</span>&nbsp;<span class="ident" id="8314610">testFuzz</span><span class="op" id="8314618">(</span><span class="ident" id="8314619">t</span>&nbsp;<span class="op" id="8314621">*</span><span class="ident" id="8314622">testing</span><span class="op" id="8314629">.</span><span class="ident" id="8314630">T</span><span class="op" id="8314631">,</span>&nbsp;<span class="ident" id="8314633">seed</span>&nbsp;<span class="ident" id="8314638">int64</span><span class="op" id="8314643">,</span>&nbsp;<span class="ident" id="8314645">n</span>&nbsp;<span class="builtintype" id="8314647">int</span><span class="op" id="8314650">,</span>&nbsp;<span class="ident" id="8314652">input</span>&nbsp;<span class="op" id="8314658">...</span><span class="keyword" id="8314661">interface</span><span class="op" id="8314670">{</span><span class="op" id="8314671">}</span><span class="op" id="8314672">)</span>&nbsp;<span class="op" id="8314674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314677">for</span>&nbsp;<span class="ident" id="8314681">_</span><span class="op" id="8314682">,</span>&nbsp;<span class="ident" id="8314684">e</span>&nbsp;<span class="op" id="8314686">:=</span>&nbsp;<span class="keyword" id="8314689">range</span>&nbsp;<span class="ident" id="8314695">input</span>&nbsp;<span class="op" id="8314701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314705">t</span><span class="op" id="8314706">.</span><span class="ident" id="8314707">Logf</span><span class="op" id="8314711">(</span><span class="string" id="8314712">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="8314731">,</span>&nbsp;<span class="ident" id="8314733">seed</span><span class="op" id="8314737">,</span>&nbsp;<span class="ident" id="8314739">n</span><span class="op" id="8314740">,</span>&nbsp;<span class="ident" id="8314742">e</span><span class="op" id="8314743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314747">rng</span>&nbsp;<span class="op" id="8314751">:=</span>&nbsp;<span class="ident" id="8314754">rand</span><span class="op" id="8314758">.</span><span class="ident" id="8314759">New</span><span class="op" id="8314762">(</span><span class="ident" id="8314763">rand</span><span class="op" id="8314767">.</span><span class="ident" id="8314768">NewSource</span><span class="op" id="8314777">(</span><span class="ident" id="8314778">seed</span><span class="op" id="8314782">)</span><span class="op" id="8314783">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314787">for</span>&nbsp;<span class="ident" id="8314791">i</span>&nbsp;<span class="op" id="8314793">:=</span>&nbsp;<span class="num" id="8314796">0</span><span class="op" id="8314797">;</span>&nbsp;<span class="ident" id="8314799">i</span>&nbsp;<span class="op" id="8314801">&lt;</span>&nbsp;<span class="ident" id="8314803">n</span><span class="op" id="8314804">;</span>&nbsp;<span class="ident" id="8314806">i</span><span class="op" id="8314807">++</span>&nbsp;<span class="op" id="8314810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314815">encFuzzDec</span><span class="op" id="8314825">(</span><span class="ident" id="8314826">rng</span><span class="op" id="8314829">,</span>&nbsp;<span class="ident" id="8314831">e</span><span class="op" id="8314832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314839">}</span><br>
<span class="lineno"></span><span class="op" id="8314841">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="8314844">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="8314905">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="8314941">func</span>&nbsp;<span class="ident" id="8314946">TestFuzzOneByte</span><span class="op" id="8314961">(</span><span class="ident" id="8314962">t</span>&nbsp;<span class="op" id="8314964">*</span><span class="ident" id="8314965">testing</span><span class="op" id="8314972">.</span><span class="ident" id="8314973">T</span><span class="op" id="8314974">)</span>&nbsp;<span class="op" id="8314976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314979">buf</span>&nbsp;<span class="op" id="8314983">:=</span>&nbsp;<span class="builtinfunc" id="8314986">new</span><span class="op" id="8314989">(</span><span class="ident" id="8314990">bytes</span><span class="op" id="8314995">.</span><span class="ident" id="8314996">Buffer</span><span class="op" id="8315002">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315005">Register</span><span class="op" id="8315013">(</span><span class="ident" id="8315014">OnTheFly</span><span class="op" id="8315022">{</span><span class="op" id="8315023">}</span><span class="op" id="8315024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315027">dt</span>&nbsp;<span class="op" id="8315030">:=</span>&nbsp;<span class="ident" id="8315033">newDT</span><span class="op" id="8315038">(</span><span class="op" id="8315039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315042">if</span>&nbsp;<span class="ident" id="8315045">err</span>&nbsp;<span class="op" id="8315049">:=</span>&nbsp;<span class="ident" id="8315052">NewEncoder</span><span class="op" id="8315062">(</span><span class="ident" id="8315063">buf</span><span class="op" id="8315066">)</span><span class="op" id="8315067">.</span><span class="ident" id="8315068">Encode</span><span class="op" id="8315074">(</span><span class="ident" id="8315075">dt</span><span class="op" id="8315077">)</span><span class="op" id="8315078">;</span>&nbsp;<span class="ident" id="8315080">err</span>&nbsp;<span class="op" id="8315084">!=</span>&nbsp;<span class="ident" id="8315087">nil</span>&nbsp;<span class="op" id="8315091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315095">t</span><span class="op" id="8315096">.</span><span class="ident" id="8315097">Fatal</span><span class="op" id="8315102">(</span><span class="ident" id="8315103">err</span><span class="op" id="8315106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315109">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315112">s</span>&nbsp;<span class="op" id="8315114">:=</span>&nbsp;<span class="ident" id="8315117">buf</span><span class="op" id="8315120">.</span><span class="ident" id="8315121">String</span><span class="op" id="8315127">(</span><span class="op" id="8315128">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315132">indices</span>&nbsp;<span class="op" id="8315140">:=</span>&nbsp;<span class="builtinfunc" id="8315143">make</span><span class="op" id="8315147">(</span><span class="op" id="8315148">[</span><span class="op" id="8315149">]</span><span class="builtintype" id="8315150">int</span><span class="op" id="8315153">,</span>&nbsp;<span class="num" id="8315155">0</span><span class="op" id="8315156">,</span>&nbsp;<span class="builtinfunc" id="8315158">len</span><span class="op" id="8315161">(</span><span class="ident" id="8315162">s</span><span class="op" id="8315163">)</span><span class="op" id="8315164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315167">for</span>&nbsp;<span class="ident" id="8315171">i</span>&nbsp;<span class="op" id="8315173">:=</span>&nbsp;<span class="num" id="8315176">0</span><span class="op" id="8315177">;</span>&nbsp;<span class="ident" id="8315179">i</span>&nbsp;<span class="op" id="8315181">&lt;</span>&nbsp;<span class="builtinfunc" id="8315183">len</span><span class="op" id="8315186">(</span><span class="ident" id="8315187">s</span><span class="op" id="8315188">)</span><span class="op" id="8315189">;</span>&nbsp;<span class="ident" id="8315191">i</span><span class="op" id="8315192">++</span>&nbsp;<span class="op" id="8315195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315199">switch</span>&nbsp;<span class="ident" id="8315206">i</span>&nbsp;<span class="op" id="8315208">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315212">case</span>&nbsp;<span class="num" id="8315217">14</span><span class="op" id="8315219">,</span>&nbsp;<span class="num" id="8315221">167</span><span class="op" id="8315224">,</span>&nbsp;<span class="num" id="8315226">231</span><span class="op" id="8315229">,</span>&nbsp;<span class="num" id="8315231">265</span><span class="op" id="8315234">:</span>&nbsp;<span class="comment" id="8315236">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315291">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315306">indices</span>&nbsp;<span class="op" id="8315314">=</span>&nbsp;<span class="builtinfunc" id="8315316">append</span><span class="op" id="8315322">(</span><span class="ident" id="8315323">indices</span><span class="op" id="8315330">,</span>&nbsp;<span class="ident" id="8315332">i</span><span class="op" id="8315333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315336">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315339">if</span>&nbsp;<span class="ident" id="8315342">testing</span><span class="op" id="8315349">.</span><span class="ident" id="8315350">Short</span><span class="op" id="8315355">(</span><span class="op" id="8315356">)</span>&nbsp;<span class="op" id="8315358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315362">indices</span>&nbsp;<span class="op" id="8315370">=</span>&nbsp;<span class="op" id="8315372">[</span><span class="op" id="8315373">]</span><span class="builtintype" id="8315374">int</span><span class="op" id="8315377">{</span><span class="num" id="8315378">1</span><span class="op" id="8315379">,</span>&nbsp;<span class="num" id="8315381">111</span><span class="op" id="8315384">,</span>&nbsp;<span class="num" id="8315386">178</span><span class="op" id="8315389">}</span>&nbsp;<span class="comment" id="8315391">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315417">for</span>&nbsp;<span class="ident" id="8315421">_</span><span class="op" id="8315422">,</span>&nbsp;<span class="ident" id="8315424">i</span>&nbsp;<span class="op" id="8315426">:=</span>&nbsp;<span class="keyword" id="8315429">range</span>&nbsp;<span class="ident" id="8315435">indices</span>&nbsp;<span class="op" id="8315443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315447">for</span>&nbsp;<span class="ident" id="8315451">j</span>&nbsp;<span class="op" id="8315453">:=</span>&nbsp;<span class="num" id="8315456">0</span><span class="op" id="8315457">;</span>&nbsp;<span class="ident" id="8315459">j</span>&nbsp;<span class="op" id="8315461">&lt;</span>&nbsp;<span class="num" id="8315463">256</span><span class="op" id="8315466">;</span>&nbsp;<span class="ident" id="8315468">j</span>&nbsp;<span class="op" id="8315470">+=</span>&nbsp;<span class="num" id="8315473">3</span>&nbsp;<span class="op" id="8315475">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315480">b</span>&nbsp;<span class="op" id="8315482">:=</span>&nbsp;<span class="op" id="8315485">[</span><span class="op" id="8315486">]</span><span class="builtintype" id="8315487">byte</span><span class="op" id="8315491">(</span><span class="ident" id="8315492">s</span><span class="op" id="8315493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315498">b</span><span class="op" id="8315499">[</span><span class="ident" id="8315500">i</span><span class="op" id="8315501">]</span>&nbsp;<span class="op" id="8315503">^=</span>&nbsp;<span class="builtintype" id="8315506">byte</span><span class="op" id="8315510">(</span><span class="ident" id="8315511">j</span><span class="op" id="8315512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315517">var</span>&nbsp;<span class="ident" id="8315521">e</span>&nbsp;<span class="ident" id="8315523">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315529">func</span><span class="op" id="8315533">(</span><span class="op" id="8315534">)</span>&nbsp;<span class="op" id="8315536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315542">defer</span>&nbsp;<span class="keyword" id="8315548">func</span><span class="op" id="8315552">(</span><span class="op" id="8315553">)</span>&nbsp;<span class="op" id="8315555">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315562">if</span>&nbsp;<span class="ident" id="8315565">p</span>&nbsp;<span class="op" id="8315567">:=</span>&nbsp;<span class="builtinfunc" id="8315570">recover</span><span class="op" id="8315577">(</span><span class="op" id="8315578">)</span><span class="op" id="8315579">;</span>&nbsp;<span class="ident" id="8315581">p</span>&nbsp;<span class="op" id="8315583">!=</span>&nbsp;<span class="ident" id="8315586">nil</span>&nbsp;<span class="op" id="8315590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315598">t</span><span class="op" id="8315599">.</span><span class="ident" id="8315600">Errorf</span><span class="op" id="8315606">(</span><span class="string" id="8315607">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="8315632">,</span>&nbsp;<span class="ident" id="8315634">i</span><span class="op" id="8315635">,</span>&nbsp;<span class="ident" id="8315637">j</span><span class="op" id="8315638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8315646">panic</span><span class="op" id="8315651">(</span><span class="ident" id="8315652">p</span><span class="op" id="8315653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315666">}</span><span class="op" id="8315667">(</span><span class="op" id="8315668">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315674">err</span>&nbsp;<span class="op" id="8315678">:=</span>&nbsp;<span class="ident" id="8315681">NewDecoder</span><span class="op" id="8315691">(</span><span class="ident" id="8315692">bytes</span><span class="op" id="8315697">.</span><span class="ident" id="8315698">NewReader</span><span class="op" id="8315707">(</span><span class="ident" id="8315708">b</span><span class="op" id="8315709">)</span><span class="op" id="8315710">)</span><span class="op" id="8315711">.</span><span class="ident" id="8315712">Decode</span><span class="op" id="8315718">(</span><span class="op" id="8315719">&amp;</span><span class="ident" id="8315720">e</span><span class="op" id="8315721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315727">_</span>&nbsp;<span class="op" id="8315729">=</span>&nbsp;<span class="ident" id="8315731">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315738">}</span><span class="op" id="8315739">(</span><span class="op" id="8315740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315747">}</span><br>
<span class="lineno">1475</span><span class="op" id="8315749">}</span>
</div>
</body>
</html>
