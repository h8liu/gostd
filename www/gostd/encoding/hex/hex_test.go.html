<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7977206">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7977261">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7977315">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7977366">package</span>&nbsp;<span class="ident" id="7977374">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7977379">import</span>&nbsp;<span class="op" id="7977386">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7977389">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7977398">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7977408">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7977411">type</span>&nbsp;<span class="ident" id="7977416">encDecTest</span>&nbsp;<span class="keyword" id="7977427">struct</span>&nbsp;<span class="op" id="7977434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7977437">enc</span>&nbsp;<span class="builtintype" id="7977441">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7977449">dec</span>&nbsp;<span class="op" id="7977453">[</span><span class="op" id="7977454">]</span><span class="builtintype" id="7977455">byte</span><br>
<span class="lineno">15</span><span class="op" id="7977460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7977463">var</span>&nbsp;<span class="ident" id="7977467">encDecTests</span>&nbsp;<span class="op" id="7977479">=</span>&nbsp;<span class="op" id="7977481">[</span><span class="op" id="7977482">]</span><span class="ident" id="7977483">encDecTest</span><span class="op" id="7977493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7977496">{</span><span class="string" id="7977497">&#34;&#34;</span><span class="op" id="7977499">,</span>&nbsp;<span class="op" id="7977501">[</span><span class="op" id="7977502">]</span><span class="builtintype" id="7977503">byte</span><span class="op" id="7977507">{</span><span class="op" id="7977508">}</span><span class="op" id="7977509">}</span><span class="op" id="7977510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7977513">{</span><span class="string" id="7977514">&#34;0001020304050607&#34;</span><span class="op" id="7977532">,</span>&nbsp;<span class="op" id="7977534">[</span><span class="op" id="7977535">]</span><span class="builtintype" id="7977536">byte</span><span class="op" id="7977540">{</span><span class="num" id="7977541">0</span><span class="op" id="7977542">,</span>&nbsp;<span class="num" id="7977544">1</span><span class="op" id="7977545">,</span>&nbsp;<span class="num" id="7977547">2</span><span class="op" id="7977548">,</span>&nbsp;<span class="num" id="7977550">3</span><span class="op" id="7977551">,</span>&nbsp;<span class="num" id="7977553">4</span><span class="op" id="7977554">,</span>&nbsp;<span class="num" id="7977556">5</span><span class="op" id="7977557">,</span>&nbsp;<span class="num" id="7977559">6</span><span class="op" id="7977560">,</span>&nbsp;<span class="num" id="7977562">7</span><span class="op" id="7977563">}</span><span class="op" id="7977564">}</span><span class="op" id="7977565">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7977568">{</span><span class="string" id="7977569">&#34;08090a0b0c0d0e0f&#34;</span><span class="op" id="7977587">,</span>&nbsp;<span class="op" id="7977589">[</span><span class="op" id="7977590">]</span><span class="builtintype" id="7977591">byte</span><span class="op" id="7977595">{</span><span class="num" id="7977596">8</span><span class="op" id="7977597">,</span>&nbsp;<span class="num" id="7977599">9</span><span class="op" id="7977600">,</span>&nbsp;<span class="num" id="7977602">10</span><span class="op" id="7977604">,</span>&nbsp;<span class="num" id="7977606">11</span><span class="op" id="7977608">,</span>&nbsp;<span class="num" id="7977610">12</span><span class="op" id="7977612">,</span>&nbsp;<span class="num" id="7977614">13</span><span class="op" id="7977616">,</span>&nbsp;<span class="num" id="7977618">14</span><span class="op" id="7977620">,</span>&nbsp;<span class="num" id="7977622">15</span><span class="op" id="7977624">}</span><span class="op" id="7977625">}</span><span class="op" id="7977626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7977629">{</span><span class="string" id="7977630">&#34;f0f1f2f3f4f5f6f7&#34;</span><span class="op" id="7977648">,</span>&nbsp;<span class="op" id="7977650">[</span><span class="op" id="7977651">]</span><span class="builtintype" id="7977652">byte</span><span class="op" id="7977656">{</span><span class="num" id="7977657">0xf0</span><span class="op" id="7977661">,</span>&nbsp;<span class="num" id="7977663">0xf1</span><span class="op" id="7977667">,</span>&nbsp;<span class="num" id="7977669">0xf2</span><span class="op" id="7977673">,</span>&nbsp;<span class="num" id="7977675">0xf3</span><span class="op" id="7977679">,</span>&nbsp;<span class="num" id="7977681">0xf4</span><span class="op" id="7977685">,</span>&nbsp;<span class="num" id="7977687">0xf5</span><span class="op" id="7977691">,</span>&nbsp;<span class="num" id="7977693">0xf6</span><span class="op" id="7977697">,</span>&nbsp;<span class="num" id="7977699">0xf7</span><span class="op" id="7977703">}</span><span class="op" id="7977704">}</span><span class="op" id="7977705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7977708">{</span><span class="string" id="7977709">&#34;f8f9fafbfcfdfeff&#34;</span><span class="op" id="7977727">,</span>&nbsp;<span class="op" id="7977729">[</span><span class="op" id="7977730">]</span><span class="builtintype" id="7977731">byte</span><span class="op" id="7977735">{</span><span class="num" id="7977736">0xf8</span><span class="op" id="7977740">,</span>&nbsp;<span class="num" id="7977742">0xf9</span><span class="op" id="7977746">,</span>&nbsp;<span class="num" id="7977748">0xfa</span><span class="op" id="7977752">,</span>&nbsp;<span class="num" id="7977754">0xfb</span><span class="op" id="7977758">,</span>&nbsp;<span class="num" id="7977760">0xfc</span><span class="op" id="7977764">,</span>&nbsp;<span class="num" id="7977766">0xfd</span><span class="op" id="7977770">,</span>&nbsp;<span class="num" id="7977772">0xfe</span><span class="op" id="7977776">,</span>&nbsp;<span class="num" id="7977778">0xff</span><span class="op" id="7977782">}</span><span class="op" id="7977783">}</span><span class="op" id="7977784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7977787">{</span><span class="string" id="7977788">&#34;67&#34;</span><span class="op" id="7977792">,</span>&nbsp;<span class="op" id="7977794">[</span><span class="op" id="7977795">]</span><span class="builtintype" id="7977796">byte</span><span class="op" id="7977800">{</span><span class="string" id="7977801">&#39;g&#39;</span><span class="op" id="7977804">}</span><span class="op" id="7977805">}</span><span class="op" id="7977806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7977809">{</span><span class="string" id="7977810">&#34;e3a1&#34;</span><span class="op" id="7977816">,</span>&nbsp;<span class="op" id="7977818">[</span><span class="op" id="7977819">]</span><span class="builtintype" id="7977820">byte</span><span class="op" id="7977824">{</span><span class="num" id="7977825">0xe3</span><span class="op" id="7977829">,</span>&nbsp;<span class="num" id="7977831">0xa1</span><span class="op" id="7977835">}</span><span class="op" id="7977836">}</span><span class="op" id="7977837">,</span><br>
<span class="lineno">25</span><span class="op" id="7977839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7977842">func</span>&nbsp;<span class="ident" id="7977847">TestEncode</span><span class="op" id="7977857">(</span><span class="ident" id="7977858">t</span>&nbsp;<span class="op" id="7977860">*</span><span class="ident" id="7977861">testing</span><span class="op" id="7977868">.</span><span class="ident" id="7977869">T</span><span class="op" id="7977870">)</span>&nbsp;<span class="op" id="7977872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7977875">for</span>&nbsp;<span class="ident" id="7977879">i</span><span class="op" id="7977880">,</span>&nbsp;<span class="ident" id="7977882">test</span>&nbsp;<span class="op" id="7977887">:=</span>&nbsp;<span class="keyword" id="7977890">range</span>&nbsp;<span class="ident" id="7977896">encDecTests</span>&nbsp;<span class="op" id="7977908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7977912">dst</span>&nbsp;<span class="op" id="7977916">:=</span>&nbsp;<span class="builtinfunc" id="7977919">make</span><span class="op" id="7977923">(</span><span class="op" id="7977924">[</span><span class="op" id="7977925">]</span><span class="builtintype" id="7977926">byte</span><span class="op" id="7977930">,</span>&nbsp;<span class="ident" id="7977932">EncodedLen</span><span class="op" id="7977942">(</span><span class="builtinfunc" id="7977943">len</span><span class="op" id="7977946">(</span><span class="ident" id="7977947">test</span><span class="op" id="7977951">.</span><span class="ident" id="7977952">dec</span><span class="op" id="7977955">)</span><span class="op" id="7977956">)</span><span class="op" id="7977957">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7977961">n</span>&nbsp;<span class="op" id="7977963">:=</span>&nbsp;<span class="ident" id="7977966">Encode</span><span class="op" id="7977972">(</span><span class="ident" id="7977973">dst</span><span class="op" id="7977976">,</span>&nbsp;<span class="ident" id="7977978">test</span><span class="op" id="7977982">.</span><span class="ident" id="7977983">dec</span><span class="op" id="7977986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7977990">if</span>&nbsp;<span class="ident" id="7977993">n</span>&nbsp;<span class="op" id="7977995">!=</span>&nbsp;<span class="builtinfunc" id="7977998">len</span><span class="op" id="7978001">(</span><span class="ident" id="7978002">dst</span><span class="op" id="7978005">)</span>&nbsp;<span class="op" id="7978007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978012">t</span><span class="op" id="7978013">.</span><span class="ident" id="7978014">Errorf</span><span class="op" id="7978020">(</span><span class="string" id="7978021">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:&nbsp;%d&nbsp;want:&nbsp;%d&#34;</span><span class="op" id="7978062">,</span>&nbsp;<span class="ident" id="7978064">i</span><span class="op" id="7978065">,</span>&nbsp;<span class="ident" id="7978067">n</span><span class="op" id="7978068">,</span>&nbsp;<span class="builtinfunc" id="7978070">len</span><span class="op" id="7978073">(</span><span class="ident" id="7978074">dst</span><span class="op" id="7978077">)</span><span class="op" id="7978078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7978086">if</span>&nbsp;<span class="builtintype" id="7978089">string</span><span class="op" id="7978095">(</span><span class="ident" id="7978096">dst</span><span class="op" id="7978099">)</span>&nbsp;<span class="op" id="7978101">!=</span>&nbsp;<span class="ident" id="7978104">test</span><span class="op" id="7978108">.</span><span class="ident" id="7978109">enc</span>&nbsp;<span class="op" id="7978113">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978118">t</span><span class="op" id="7978119">.</span><span class="ident" id="7978120">Errorf</span><span class="op" id="7978126">(</span><span class="string" id="7978127">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7978152">,</span>&nbsp;<span class="ident" id="7978154">i</span><span class="op" id="7978155">,</span>&nbsp;<span class="ident" id="7978157">dst</span><span class="op" id="7978160">,</span>&nbsp;<span class="ident" id="7978162">test</span><span class="op" id="7978166">.</span><span class="ident" id="7978167">enc</span><span class="op" id="7978170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978177">}</span><br>
<span class="lineno"></span><span class="op" id="7978179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7978182">func</span>&nbsp;<span class="ident" id="7978187">TestDecode</span><span class="op" id="7978197">(</span><span class="ident" id="7978198">t</span>&nbsp;<span class="op" id="7978200">*</span><span class="ident" id="7978201">testing</span><span class="op" id="7978208">.</span><span class="ident" id="7978209">T</span><span class="op" id="7978210">)</span>&nbsp;<span class="op" id="7978212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7978215">//&nbsp;Case&nbsp;for&nbsp;decoding&nbsp;uppercase&nbsp;hex&nbsp;characters,&nbsp;since</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7978269">//&nbsp;Encode&nbsp;always&nbsp;uses&nbsp;lowercase.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978303">decTests</span>&nbsp;<span class="op" id="7978312">:=</span>&nbsp;<span class="builtinfunc" id="7978315">append</span><span class="op" id="7978321">(</span><span class="ident" id="7978322">encDecTests</span><span class="op" id="7978333">,</span>&nbsp;<span class="ident" id="7978335">encDecTest</span><span class="op" id="7978345">{</span><span class="string" id="7978346">&#34;F8F9FAFBFCFDFEFF&#34;</span><span class="op" id="7978364">,</span>&nbsp;<span class="op" id="7978366">[</span><span class="op" id="7978367">]</span><span class="builtintype" id="7978368">byte</span><span class="op" id="7978372">{</span><span class="num" id="7978373">0xf8</span><span class="op" id="7978377">,</span>&nbsp;<span class="num" id="7978379">0xf9</span><span class="op" id="7978383">,</span>&nbsp;<span class="num" id="7978385">0xfa</span><span class="op" id="7978389">,</span>&nbsp;<span class="num" id="7978391">0xfb</span><span class="op" id="7978395">,</span>&nbsp;<span class="num" id="7978397">0xfc</span><span class="op" id="7978401">,</span>&nbsp;<span class="num" id="7978403">0xfd</span><span class="op" id="7978407">,</span>&nbsp;<span class="num" id="7978409">0xfe</span><span class="op" id="7978413">,</span>&nbsp;<span class="num" id="7978415">0xff</span><span class="op" id="7978419">}</span><span class="op" id="7978420">}</span><span class="op" id="7978421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7978424">for</span>&nbsp;<span class="ident" id="7978428">i</span><span class="op" id="7978429">,</span>&nbsp;<span class="ident" id="7978431">test</span>&nbsp;<span class="op" id="7978436">:=</span>&nbsp;<span class="keyword" id="7978439">range</span>&nbsp;<span class="ident" id="7978445">decTests</span>&nbsp;<span class="op" id="7978454">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978458">dst</span>&nbsp;<span class="op" id="7978462">:=</span>&nbsp;<span class="builtinfunc" id="7978465">make</span><span class="op" id="7978469">(</span><span class="op" id="7978470">[</span><span class="op" id="7978471">]</span><span class="builtintype" id="7978472">byte</span><span class="op" id="7978476">,</span>&nbsp;<span class="ident" id="7978478">DecodedLen</span><span class="op" id="7978488">(</span><span class="builtinfunc" id="7978489">len</span><span class="op" id="7978492">(</span><span class="ident" id="7978493">test</span><span class="op" id="7978497">.</span><span class="ident" id="7978498">enc</span><span class="op" id="7978501">)</span><span class="op" id="7978502">)</span><span class="op" id="7978503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978507">n</span><span class="op" id="7978508">,</span>&nbsp;<span class="ident" id="7978510">err</span>&nbsp;<span class="op" id="7978514">:=</span>&nbsp;<span class="ident" id="7978517">Decode</span><span class="op" id="7978523">(</span><span class="ident" id="7978524">dst</span><span class="op" id="7978527">,</span>&nbsp;<span class="op" id="7978529">[</span><span class="op" id="7978530">]</span><span class="builtintype" id="7978531">byte</span><span class="op" id="7978535">(</span><span class="ident" id="7978536">test</span><span class="op" id="7978540">.</span><span class="ident" id="7978541">enc</span><span class="op" id="7978544">)</span><span class="op" id="7978545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7978549">if</span>&nbsp;<span class="ident" id="7978552">err</span>&nbsp;<span class="op" id="7978556">!=</span>&nbsp;<span class="ident" id="7978559">nil</span>&nbsp;<span class="op" id="7978563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978568">t</span><span class="op" id="7978569">.</span><span class="ident" id="7978570">Errorf</span><span class="op" id="7978576">(</span><span class="string" id="7978577">&#34;#%d:&nbsp;bad&nbsp;return&nbsp;value:&nbsp;got:%d&nbsp;want:%d&#34;</span><span class="op" id="7978616">,</span>&nbsp;<span class="ident" id="7978618">i</span><span class="op" id="7978619">,</span>&nbsp;<span class="ident" id="7978621">n</span><span class="op" id="7978622">,</span>&nbsp;<span class="builtinfunc" id="7978624">len</span><span class="op" id="7978627">(</span><span class="ident" id="7978628">dst</span><span class="op" id="7978631">)</span><span class="op" id="7978632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978636">}</span>&nbsp;<span class="keyword" id="7978638">else</span>&nbsp;<span class="keyword" id="7978643">if</span>&nbsp;<span class="op" id="7978646">!</span><span class="ident" id="7978647">bytes</span><span class="op" id="7978652">.</span><span class="ident" id="7978653">Equal</span><span class="op" id="7978658">(</span><span class="ident" id="7978659">dst</span><span class="op" id="7978662">,</span>&nbsp;<span class="ident" id="7978664">test</span><span class="op" id="7978668">.</span><span class="ident" id="7978669">dec</span><span class="op" id="7978672">)</span>&nbsp;<span class="op" id="7978674">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978679">t</span><span class="op" id="7978680">.</span><span class="ident" id="7978681">Errorf</span><span class="op" id="7978687">(</span><span class="string" id="7978688">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;%#v&#34;</span><span class="op" id="7978713">,</span>&nbsp;<span class="ident" id="7978715">i</span><span class="op" id="7978716">,</span>&nbsp;<span class="ident" id="7978718">dst</span><span class="op" id="7978721">,</span>&nbsp;<span class="ident" id="7978723">test</span><span class="op" id="7978727">.</span><span class="ident" id="7978728">dec</span><span class="op" id="7978731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978738">}</span><br>
<span class="lineno"></span><span class="op" id="7978740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7978743">func</span>&nbsp;<span class="ident" id="7978748">TestEncodeToString</span><span class="op" id="7978766">(</span><span class="ident" id="7978767">t</span>&nbsp;<span class="op" id="7978769">*</span><span class="ident" id="7978770">testing</span><span class="op" id="7978777">.</span><span class="ident" id="7978778">T</span><span class="op" id="7978779">)</span>&nbsp;<span class="op" id="7978781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7978784">for</span>&nbsp;<span class="ident" id="7978788">i</span><span class="op" id="7978789">,</span>&nbsp;<span class="ident" id="7978791">test</span>&nbsp;<span class="op" id="7978796">:=</span>&nbsp;<span class="keyword" id="7978799">range</span>&nbsp;<span class="ident" id="7978805">encDecTests</span>&nbsp;<span class="op" id="7978817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978821">s</span>&nbsp;<span class="op" id="7978823">:=</span>&nbsp;<span class="ident" id="7978826">EncodeToString</span><span class="op" id="7978840">(</span><span class="ident" id="7978841">test</span><span class="op" id="7978845">.</span><span class="ident" id="7978846">dec</span><span class="op" id="7978849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7978853">if</span>&nbsp;<span class="ident" id="7978856">s</span>&nbsp;<span class="op" id="7978858">!=</span>&nbsp;<span class="ident" id="7978861">test</span><span class="op" id="7978865">.</span><span class="ident" id="7978866">enc</span>&nbsp;<span class="op" id="7978870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7978875">t</span><span class="op" id="7978876">.</span><span class="ident" id="7978877">Errorf</span><span class="op" id="7978883">(</span><span class="string" id="7978884">&#34;#%d&nbsp;got:%s&nbsp;want:%s&#34;</span><span class="op" id="7978904">,</span>&nbsp;<span class="ident" id="7978906">i</span><span class="op" id="7978907">,</span>&nbsp;<span class="ident" id="7978909">s</span><span class="op" id="7978910">,</span>&nbsp;<span class="ident" id="7978912">test</span><span class="op" id="7978916">.</span><span class="ident" id="7978917">enc</span><span class="op" id="7978920">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7978927">}</span><br>
<span class="lineno"></span><span class="op" id="7978929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7978932">func</span>&nbsp;<span class="ident" id="7978937">TestDecodeString</span><span class="op" id="7978953">(</span><span class="ident" id="7978954">t</span>&nbsp;<span class="op" id="7978956">*</span><span class="ident" id="7978957">testing</span><span class="op" id="7978964">.</span><span class="ident" id="7978965">T</span><span class="op" id="7978966">)</span>&nbsp;<span class="op" id="7978968">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7978971">for</span>&nbsp;<span class="ident" id="7978975">i</span><span class="op" id="7978976">,</span>&nbsp;<span class="ident" id="7978978">test</span>&nbsp;<span class="op" id="7978983">:=</span>&nbsp;<span class="keyword" id="7978986">range</span>&nbsp;<span class="ident" id="7978992">encDecTests</span>&nbsp;<span class="op" id="7979004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979008">dst</span><span class="op" id="7979011">,</span>&nbsp;<span class="ident" id="7979013">err</span>&nbsp;<span class="op" id="7979017">:=</span>&nbsp;<span class="ident" id="7979020">DecodeString</span><span class="op" id="7979032">(</span><span class="ident" id="7979033">test</span><span class="op" id="7979037">.</span><span class="ident" id="7979038">enc</span><span class="op" id="7979041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7979045">if</span>&nbsp;<span class="ident" id="7979048">err</span>&nbsp;<span class="op" id="7979052">!=</span>&nbsp;<span class="ident" id="7979055">nil</span>&nbsp;<span class="op" id="7979059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979064">t</span><span class="op" id="7979065">.</span><span class="ident" id="7979066">Errorf</span><span class="op" id="7979072">(</span><span class="string" id="7979073">&#34;#%d:&nbsp;unexpected&nbsp;err&nbsp;value:&nbsp;%s&#34;</span><span class="op" id="7979104">,</span>&nbsp;<span class="ident" id="7979106">i</span><span class="op" id="7979107">,</span>&nbsp;<span class="ident" id="7979109">err</span><span class="op" id="7979112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7979117">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7979132">if</span>&nbsp;<span class="op" id="7979135">!</span><span class="ident" id="7979136">bytes</span><span class="op" id="7979141">.</span><span class="ident" id="7979142">Equal</span><span class="op" id="7979147">(</span><span class="ident" id="7979148">dst</span><span class="op" id="7979151">,</span>&nbsp;<span class="ident" id="7979153">test</span><span class="op" id="7979157">.</span><span class="ident" id="7979158">dec</span><span class="op" id="7979161">)</span>&nbsp;<span class="op" id="7979163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979168">t</span><span class="op" id="7979169">.</span><span class="ident" id="7979170">Errorf</span><span class="op" id="7979176">(</span><span class="string" id="7979177">&#34;#%d:&nbsp;got:&nbsp;%#v&nbsp;want:&nbsp;#%v&#34;</span><span class="op" id="7979202">,</span>&nbsp;<span class="ident" id="7979204">i</span><span class="op" id="7979205">,</span>&nbsp;<span class="ident" id="7979207">dst</span><span class="op" id="7979210">,</span>&nbsp;<span class="ident" id="7979212">test</span><span class="op" id="7979216">.</span><span class="ident" id="7979217">dec</span><span class="op" id="7979220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979227">}</span><br>
<span class="lineno">75</span><span class="op" id="7979229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979232">type</span>&nbsp;<span class="ident" id="7979237">errTest</span>&nbsp;<span class="keyword" id="7979245">struct</span>&nbsp;<span class="op" id="7979252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979255">in</span>&nbsp;&nbsp;<span class="builtintype" id="7979259">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979267">err</span>&nbsp;<span class="builtintype" id="7979271">string</span><br>
<span class="lineno">80</span><span class="op" id="7979278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979281">var</span>&nbsp;<span class="ident" id="7979285">errTests</span>&nbsp;<span class="op" id="7979294">=</span>&nbsp;<span class="op" id="7979296">[</span><span class="op" id="7979297">]</span><span class="ident" id="7979298">errTest</span><span class="op" id="7979305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979308">{</span><span class="string" id="7979309">&#34;0&#34;</span><span class="op" id="7979312">,</span>&nbsp;<span class="string" id="7979314">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="7979351">}</span><span class="op" id="7979352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979355">{</span><span class="string" id="7979356">&#34;0g&#34;</span><span class="op" id="7979360">,</span>&nbsp;<span class="string" id="7979362">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7979402">}</span><span class="op" id="7979403">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979406">{</span><span class="string" id="7979407">&#34;00gg&#34;</span><span class="op" id="7979413">,</span>&nbsp;<span class="string" id="7979415">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0067&nbsp;&#39;g&#39;&#34;</span><span class="op" id="7979455">}</span><span class="op" id="7979456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979459">{</span><span class="string" id="7979460">&#34;0\x01&#34;</span><span class="op" id="7979467">,</span>&nbsp;<span class="string" id="7979469">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;U+0001&#34;</span><span class="op" id="7979505">}</span><span class="op" id="7979506">,</span><br>
<span class="lineno"></span><span class="op" id="7979508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7979511">func</span>&nbsp;<span class="ident" id="7979516">TestInvalidErr</span><span class="op" id="7979530">(</span><span class="ident" id="7979531">t</span>&nbsp;<span class="op" id="7979533">*</span><span class="ident" id="7979534">testing</span><span class="op" id="7979541">.</span><span class="ident" id="7979542">T</span><span class="op" id="7979543">)</span>&nbsp;<span class="op" id="7979545">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7979548">for</span>&nbsp;<span class="ident" id="7979552">i</span><span class="op" id="7979553">,</span>&nbsp;<span class="ident" id="7979555">test</span>&nbsp;<span class="op" id="7979560">:=</span>&nbsp;<span class="keyword" id="7979563">range</span>&nbsp;<span class="ident" id="7979569">errTests</span>&nbsp;<span class="op" id="7979578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979582">dst</span>&nbsp;<span class="op" id="7979586">:=</span>&nbsp;<span class="builtinfunc" id="7979589">make</span><span class="op" id="7979593">(</span><span class="op" id="7979594">[</span><span class="op" id="7979595">]</span><span class="builtintype" id="7979596">byte</span><span class="op" id="7979600">,</span>&nbsp;<span class="ident" id="7979602">DecodedLen</span><span class="op" id="7979612">(</span><span class="builtinfunc" id="7979613">len</span><span class="op" id="7979616">(</span><span class="ident" id="7979617">test</span><span class="op" id="7979621">.</span><span class="ident" id="7979622">in</span><span class="op" id="7979624">)</span><span class="op" id="7979625">)</span><span class="op" id="7979626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979630">_</span><span class="op" id="7979631">,</span>&nbsp;<span class="ident" id="7979633">err</span>&nbsp;<span class="op" id="7979637">:=</span>&nbsp;<span class="ident" id="7979640">Decode</span><span class="op" id="7979646">(</span><span class="ident" id="7979647">dst</span><span class="op" id="7979650">,</span>&nbsp;<span class="op" id="7979652">[</span><span class="op" id="7979653">]</span><span class="builtintype" id="7979654">byte</span><span class="op" id="7979658">(</span><span class="ident" id="7979659">test</span><span class="op" id="7979663">.</span><span class="ident" id="7979664">in</span><span class="op" id="7979666">)</span><span class="op" id="7979667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7979671">if</span>&nbsp;<span class="ident" id="7979674">err</span>&nbsp;<span class="op" id="7979678">==</span>&nbsp;<span class="ident" id="7979681">nil</span>&nbsp;<span class="op" id="7979685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979690">t</span><span class="op" id="7979691">.</span><span class="ident" id="7979692">Errorf</span><span class="op" id="7979698">(</span><span class="string" id="7979699">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7979730">,</span>&nbsp;<span class="ident" id="7979732">i</span><span class="op" id="7979733">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979737">}</span>&nbsp;<span class="keyword" id="7979739">else</span>&nbsp;<span class="keyword" id="7979744">if</span>&nbsp;<span class="ident" id="7979747">err</span><span class="op" id="7979750">.</span><span class="ident" id="7979751">Error</span><span class="op" id="7979756">(</span><span class="op" id="7979757">)</span>&nbsp;<span class="op" id="7979759">!=</span>&nbsp;<span class="ident" id="7979762">test</span><span class="op" id="7979766">.</span><span class="ident" id="7979767">err</span>&nbsp;<span class="op" id="7979771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979776">t</span><span class="op" id="7979777">.</span><span class="ident" id="7979778">Errorf</span><span class="op" id="7979784">(</span><span class="string" id="7979785">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7979808">,</span>&nbsp;<span class="ident" id="7979810">i</span><span class="op" id="7979811">,</span>&nbsp;<span class="ident" id="7979813">err</span><span class="op" id="7979816">,</span>&nbsp;<span class="ident" id="7979818">test</span><span class="op" id="7979822">.</span><span class="ident" id="7979823">err</span><span class="op" id="7979826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7979833">}</span><br>
<span class="lineno"></span><span class="op" id="7979835">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7979838">func</span>&nbsp;<span class="ident" id="7979843">TestInvalidStringErr</span><span class="op" id="7979863">(</span><span class="ident" id="7979864">t</span>&nbsp;<span class="op" id="7979866">*</span><span class="ident" id="7979867">testing</span><span class="op" id="7979874">.</span><span class="ident" id="7979875">T</span><span class="op" id="7979876">)</span>&nbsp;<span class="op" id="7979878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7979881">for</span>&nbsp;<span class="ident" id="7979885">i</span><span class="op" id="7979886">,</span>&nbsp;<span class="ident" id="7979888">test</span>&nbsp;<span class="op" id="7979893">:=</span>&nbsp;<span class="keyword" id="7979896">range</span>&nbsp;<span class="ident" id="7979902">errTests</span>&nbsp;<span class="op" id="7979911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979915">_</span><span class="op" id="7979916">,</span>&nbsp;<span class="ident" id="7979918">err</span>&nbsp;<span class="op" id="7979922">:=</span>&nbsp;<span class="ident" id="7979925">DecodeString</span><span class="op" id="7979937">(</span><span class="ident" id="7979938">test</span><span class="op" id="7979942">.</span><span class="ident" id="7979943">in</span><span class="op" id="7979945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7979949">if</span>&nbsp;<span class="ident" id="7979952">err</span>&nbsp;<span class="op" id="7979956">==</span>&nbsp;<span class="ident" id="7979959">nil</span>&nbsp;<span class="op" id="7979963">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7979968">t</span><span class="op" id="7979969">.</span><span class="ident" id="7979970">Errorf</span><span class="op" id="7979976">(</span><span class="string" id="7979977">&#34;#%d:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7980008">,</span>&nbsp;<span class="ident" id="7980010">i</span><span class="op" id="7980011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980015">}</span>&nbsp;<span class="keyword" id="7980017">else</span>&nbsp;<span class="keyword" id="7980022">if</span>&nbsp;<span class="ident" id="7980025">err</span><span class="op" id="7980028">.</span><span class="ident" id="7980029">Error</span><span class="op" id="7980034">(</span><span class="op" id="7980035">)</span>&nbsp;<span class="op" id="7980037">!=</span>&nbsp;<span class="ident" id="7980040">test</span><span class="op" id="7980044">.</span><span class="ident" id="7980045">err</span>&nbsp;<span class="op" id="7980049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980054">t</span><span class="op" id="7980055">.</span><span class="ident" id="7980056">Errorf</span><span class="op" id="7980062">(</span><span class="string" id="7980063">&#34;#%d:&nbsp;got:&nbsp;%v&nbsp;want:&nbsp;%v&#34;</span><span class="op" id="7980086">,</span>&nbsp;<span class="ident" id="7980088">i</span><span class="op" id="7980089">,</span>&nbsp;<span class="ident" id="7980091">err</span><span class="op" id="7980094">,</span>&nbsp;<span class="ident" id="7980096">test</span><span class="op" id="7980100">.</span><span class="ident" id="7980101">err</span><span class="op" id="7980104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980111">}</span><br>
<span class="lineno">110</span><span class="op" id="7980113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980116">func</span>&nbsp;<span class="ident" id="7980121">TestDumper</span><span class="op" id="7980131">(</span><span class="ident" id="7980132">t</span>&nbsp;<span class="op" id="7980134">*</span><span class="ident" id="7980135">testing</span><span class="op" id="7980142">.</span><span class="ident" id="7980143">T</span><span class="op" id="7980144">)</span>&nbsp;<span class="op" id="7980146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980149">var</span>&nbsp;<span class="ident" id="7980153">in</span>&nbsp;<span class="op" id="7980156">[</span><span class="num" id="7980157">40</span><span class="op" id="7980159">]</span><span class="builtintype" id="7980160">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980166">for</span>&nbsp;<span class="ident" id="7980170">i</span>&nbsp;<span class="op" id="7980172">:=</span>&nbsp;<span class="keyword" id="7980175">range</span>&nbsp;<span class="ident" id="7980181">in</span>&nbsp;<span class="op" id="7980184">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980188">in</span><span class="op" id="7980190">[</span><span class="ident" id="7980191">i</span><span class="op" id="7980192">]</span>&nbsp;<span class="op" id="7980194">=</span>&nbsp;<span class="builtintype" id="7980196">byte</span><span class="op" id="7980200">(</span><span class="ident" id="7980201">i</span>&nbsp;<span class="op" id="7980203">+</span>&nbsp;<span class="num" id="7980205">30</span><span class="op" id="7980207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980214">for</span>&nbsp;<span class="ident" id="7980218">stride</span>&nbsp;<span class="op" id="7980225">:=</span>&nbsp;<span class="num" id="7980228">1</span><span class="op" id="7980229">;</span>&nbsp;<span class="ident" id="7980231">stride</span>&nbsp;<span class="op" id="7980238">&lt;</span>&nbsp;<span class="builtinfunc" id="7980240">len</span><span class="op" id="7980243">(</span><span class="ident" id="7980244">in</span><span class="op" id="7980246">)</span><span class="op" id="7980247">;</span>&nbsp;<span class="ident" id="7980249">stride</span><span class="op" id="7980255">++</span>&nbsp;<span class="op" id="7980258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980262">var</span>&nbsp;<span class="ident" id="7980266">out</span>&nbsp;<span class="ident" id="7980270">bytes</span><span class="op" id="7980275">.</span><span class="ident" id="7980276">Buffer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980285">dumper</span>&nbsp;<span class="op" id="7980292">:=</span>&nbsp;<span class="ident" id="7980295">Dumper</span><span class="op" id="7980301">(</span><span class="op" id="7980302">&amp;</span><span class="ident" id="7980303">out</span><span class="op" id="7980306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980310">done</span>&nbsp;<span class="op" id="7980315">:=</span>&nbsp;<span class="num" id="7980318">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980322">for</span>&nbsp;<span class="ident" id="7980326">done</span>&nbsp;<span class="op" id="7980331">&lt;</span>&nbsp;<span class="builtinfunc" id="7980333">len</span><span class="op" id="7980336">(</span><span class="ident" id="7980337">in</span><span class="op" id="7980339">)</span>&nbsp;<span class="op" id="7980341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980346">todo</span>&nbsp;<span class="op" id="7980351">:=</span>&nbsp;<span class="ident" id="7980354">done</span>&nbsp;<span class="op" id="7980359">+</span>&nbsp;<span class="ident" id="7980361">stride</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980371">if</span>&nbsp;<span class="ident" id="7980374">todo</span>&nbsp;<span class="op" id="7980379">&gt;</span>&nbsp;<span class="builtinfunc" id="7980381">len</span><span class="op" id="7980384">(</span><span class="ident" id="7980385">in</span><span class="op" id="7980387">)</span>&nbsp;<span class="op" id="7980389">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980395">todo</span>&nbsp;<span class="op" id="7980400">=</span>&nbsp;<span class="builtinfunc" id="7980402">len</span><span class="op" id="7980405">(</span><span class="ident" id="7980406">in</span><span class="op" id="7980408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980418">dumper</span><span class="op" id="7980424">.</span><span class="ident" id="7980425">Write</span><span class="op" id="7980430">(</span><span class="ident" id="7980431">in</span><span class="op" id="7980433">[</span><span class="ident" id="7980434">done</span><span class="op" id="7980438">:</span><span class="ident" id="7980439">todo</span><span class="op" id="7980443">]</span><span class="op" id="7980444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980449">done</span>&nbsp;<span class="op" id="7980454">=</span>&nbsp;<span class="ident" id="7980456">todo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980463">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980468">dumper</span><span class="op" id="7980474">.</span><span class="ident" id="7980475">Close</span><span class="op" id="7980480">(</span><span class="op" id="7980481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980485">if</span>&nbsp;<span class="op" id="7980488">!</span><span class="ident" id="7980489">bytes</span><span class="op" id="7980494">.</span><span class="ident" id="7980495">Equal</span><span class="op" id="7980500">(</span><span class="ident" id="7980501">out</span><span class="op" id="7980504">.</span><span class="ident" id="7980505">Bytes</span><span class="op" id="7980510">(</span><span class="op" id="7980511">)</span><span class="op" id="7980512">,</span>&nbsp;<span class="ident" id="7980514">expectedHexDump</span><span class="op" id="7980529">)</span>&nbsp;<span class="op" id="7980531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980536">t</span><span class="op" id="7980537">.</span><span class="ident" id="7980538">Errorf</span><span class="op" id="7980544">(</span><span class="string" id="7980545">&#34;stride:&nbsp;%d&nbsp;failed.&nbsp;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7980585">,</span>&nbsp;<span class="ident" id="7980587">stride</span><span class="op" id="7980593">,</span>&nbsp;<span class="ident" id="7980595">out</span><span class="op" id="7980598">.</span><span class="ident" id="7980599">Bytes</span><span class="op" id="7980604">(</span><span class="op" id="7980605">)</span><span class="op" id="7980606">,</span>&nbsp;<span class="ident" id="7980608">expectedHexDump</span><span class="op" id="7980623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980627">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980630">}</span><br>
<span class="lineno"></span><span class="op" id="7980632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7980635">func</span>&nbsp;<span class="ident" id="7980640">TestDump</span><span class="op" id="7980648">(</span><span class="ident" id="7980649">t</span>&nbsp;<span class="op" id="7980651">*</span><span class="ident" id="7980652">testing</span><span class="op" id="7980659">.</span><span class="ident" id="7980660">T</span><span class="op" id="7980661">)</span>&nbsp;<span class="op" id="7980663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980666">var</span>&nbsp;<span class="ident" id="7980670">in</span>&nbsp;<span class="op" id="7980673">[</span><span class="num" id="7980674">40</span><span class="op" id="7980676">]</span><span class="builtintype" id="7980677">byte</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980683">for</span>&nbsp;<span class="ident" id="7980687">i</span>&nbsp;<span class="op" id="7980689">:=</span>&nbsp;<span class="keyword" id="7980692">range</span>&nbsp;<span class="ident" id="7980698">in</span>&nbsp;<span class="op" id="7980701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980705">in</span><span class="op" id="7980707">[</span><span class="ident" id="7980708">i</span><span class="op" id="7980709">]</span>&nbsp;<span class="op" id="7980711">=</span>&nbsp;<span class="builtintype" id="7980713">byte</span><span class="op" id="7980717">(</span><span class="ident" id="7980718">i</span>&nbsp;<span class="op" id="7980720">+</span>&nbsp;<span class="num" id="7980722">30</span><span class="op" id="7980724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980731">out</span>&nbsp;<span class="op" id="7980735">:=</span>&nbsp;<span class="op" id="7980738">[</span><span class="op" id="7980739">]</span><span class="builtintype" id="7980740">byte</span><span class="op" id="7980744">(</span><span class="ident" id="7980745">Dump</span><span class="op" id="7980749">(</span><span class="ident" id="7980750">in</span><span class="op" id="7980752">[</span><span class="op" id="7980753">:</span><span class="op" id="7980754">]</span><span class="op" id="7980755">)</span><span class="op" id="7980756">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7980759">if</span>&nbsp;<span class="op" id="7980762">!</span><span class="ident" id="7980763">bytes</span><span class="op" id="7980768">.</span><span class="ident" id="7980769">Equal</span><span class="op" id="7980774">(</span><span class="ident" id="7980775">out</span><span class="op" id="7980778">,</span>&nbsp;<span class="ident" id="7980780">expectedHexDump</span><span class="op" id="7980795">)</span>&nbsp;<span class="op" id="7980797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7980801">t</span><span class="op" id="7980802">.</span><span class="ident" id="7980803">Errorf</span><span class="op" id="7980809">(</span><span class="string" id="7980810">&#34;got:\n%s\nwant:\n%s&#34;</span><span class="op" id="7980831">,</span>&nbsp;<span class="ident" id="7980833">out</span><span class="op" id="7980836">,</span>&nbsp;<span class="ident" id="7980838">expectedHexDump</span><span class="op" id="7980853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7980856">}</span><br>
<span class="lineno"></span><span class="op" id="7980858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="7980861">var</span>&nbsp;<span class="ident" id="7980865">expectedHexDump</span>&nbsp;<span class="op" id="7980881">=</span>&nbsp;<span class="op" id="7980883">[</span><span class="op" id="7980884">]</span><span class="builtintype" id="7980885">byte</span><span class="op" id="7980889">(</span><span class="string" id="7980890">`00000000&nbsp;&nbsp;1e&nbsp;1f&nbsp;20&nbsp;21&nbsp;22&nbsp;23&nbsp;24&nbsp;25&nbsp;&nbsp;26&nbsp;27&nbsp;28&nbsp;29&nbsp;2a&nbsp;2b&nbsp;2c&nbsp;2d&nbsp;&nbsp;|..&nbsp;!&#34;#$%&amp;&#39;()*+,-|<br>
<span class="lineno"></span>00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|<br>
<span class="lineno"></span>00000020&nbsp;&nbsp;3e&nbsp;3f&nbsp;40&nbsp;41&nbsp;42&nbsp;43&nbsp;44&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&gt;?@ABCDE|<br>
<span class="lineno"></span>`</span><span class="op" id="7981121">)</span>
</div>
</body>
</html>
