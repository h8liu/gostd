<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/arch8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/arch8/console.go.html">console.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu.go.html">cpu.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/cpu_test.go.html">cpu_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/device.go.html">device.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/exception.go.html">exception.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_br_test.go.html">inst_br_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_imm_test.go.html">inst_imm_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_reg_test.go.html">inst_reg_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/int_bus.go.html">int_bus.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt.go.html">interrupt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/interrupt_test.go.html">interrupt_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/machine.go.html">machine.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/multi_core.go.html">multi_core.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page.go.html">page.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table.go.html">page_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_table_test.go.html">page_table_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/page_test.go.html">page_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory.go.html">phy_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/phy_memory_test.go.html">phy_memory_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs.go.html">regs.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/regs_test.go.html">regs_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/run_image.go.html">run_image.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/serial.go.html">serial.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/ticker.go.html">ticker.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory.go.html">virt_memory.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/arch8/virt_memory_test.go.html">virt_memory_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="3574683">package</span>&nbsp;<span class="ident" id="3574691">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3574698">//&nbsp;Interrupt&nbsp;defines&nbsp;the&nbsp;interrupt&nbsp;page</span><br>
<span class="lineno"></span><span class="keyword" id="3574738">type</span>&nbsp;<span class="ident" id="3574743">interrupt</span>&nbsp;<span class="keyword" id="3574753">struct</span>&nbsp;<span class="op" id="3574760">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574763">p</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3574768">*</span><span class="ident" id="3574769">page</span>&nbsp;&nbsp;<span class="comment" id="3574775">//&nbsp;the&nbsp;dma&nbsp;page&nbsp;for&nbsp;interrupt&nbsp;handler</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574814">base</span>&nbsp;<span class="builtintype" id="3574819">uint32</span>&nbsp;<span class="comment" id="3574826">//&nbsp;dma&nbsp;offset</span><br>
<span class="lineno"></span><span class="op" id="3574840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3574843">//&nbsp;Number&nbsp;of&nbsp;interrupts</span><br>
<span class="lineno">10</span><span class="keyword" id="3574867">const</span>&nbsp;<span class="ident" id="3574873">Ninterrupt</span>&nbsp;<span class="op" id="3574884">=</span>&nbsp;<span class="num" id="3574886">256</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3574891">const</span>&nbsp;<span class="op" id="3574897">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574900">intFlags</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3574913">=</span>&nbsp;<span class="num" id="3574915">0</span>&nbsp;&nbsp;<span class="comment" id="3574918">//&nbsp;flags,&nbsp;bit&nbsp;0&nbsp;is&nbsp;master&nbsp;enabling&nbsp;switch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3574961">intKernelSP</span>&nbsp;&nbsp;<span class="op" id="3574974">=</span>&nbsp;<span class="num" id="3574976">4</span>&nbsp;&nbsp;<span class="comment" id="3574979">//&nbsp;position&nbsp;of&nbsp;the&nbsp;handler&nbsp;stack&nbsp;base&nbsp;pointer</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575026">intHandlerPC</span>&nbsp;<span class="op" id="3575039">=</span>&nbsp;<span class="num" id="3575041">8</span>&nbsp;&nbsp;<span class="comment" id="3575044">//&nbsp;position&nbsp;of&nbsp;the&nbsp;handler&nbsp;start&nbsp;PC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575081">intSyscallPC</span>&nbsp;<span class="op" id="3575094">=</span>&nbsp;<span class="num" id="3575096">12</span>&nbsp;<span class="comment" id="3575099">//&nbsp;position&nbsp;of&nbsp;the&nbsp;syscall&nbsp;start&nbsp;PC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575136">intMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3575149">=</span>&nbsp;<span class="num" id="3575151">32</span>&nbsp;<span class="comment" id="3575154">//&nbsp;interrupt&nbsp;enable&nbsp;mask&nbsp;bits&nbsp;offset&nbsp;(32&nbsp;bytes)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575203">intPending</span>&nbsp;&nbsp;&nbsp;<span class="op" id="3575216">=</span>&nbsp;<span class="num" id="3575218">64</span>&nbsp;<span class="comment" id="3575221">//&nbsp;interrupt&nbsp;pending&nbsp;bits&nbsp;offset&nbsp;(32&nbsp;bytes)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575267">intCtrlSize</span>&nbsp;<span class="op" id="3575279">=</span>&nbsp;<span class="num" id="3575281">128</span><br>
<span class="lineno"></span><span class="op" id="3575285">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3575288">//&nbsp;NewInterrupt&nbsp;creates&nbsp;a&nbsp;interrupt&nbsp;on&nbsp;the&nbsp;given&nbsp;DMA&nbsp;page.</span><br>
<span class="lineno"></span><span class="keyword" id="3575347">func</span>&nbsp;<span class="ident" id="3575352">newInterrupt</span><span class="op" id="3575364">(</span><span class="ident" id="3575365">p</span>&nbsp;<span class="op" id="3575367">*</span><span class="ident" id="3575368">page</span><span class="op" id="3575372">,</span>&nbsp;<span class="ident" id="3575374">core</span>&nbsp;<span class="builtintype" id="3575379">byte</span><span class="op" id="3575383">)</span>&nbsp;<span class="op" id="3575385">*</span><span class="ident" id="3575386">interrupt</span>&nbsp;<span class="op" id="3575396">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575399">ret</span>&nbsp;<span class="op" id="3575403">:=</span>&nbsp;<span class="builtinfunc" id="3575406">new</span><span class="op" id="3575409">(</span><span class="ident" id="3575410">interrupt</span><span class="op" id="3575419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575422">ret</span><span class="op" id="3575425">.</span><span class="ident" id="3575426">p</span>&nbsp;<span class="op" id="3575428">=</span>&nbsp;<span class="ident" id="3575430">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575433">ret</span><span class="op" id="3575436">.</span><span class="ident" id="3575437">base</span>&nbsp;<span class="op" id="3575442">=</span>&nbsp;<span class="builtintype" id="3575444">uint32</span><span class="op" id="3575450">(</span><span class="ident" id="3575451">core</span><span class="op" id="3575455">)</span>&nbsp;<span class="op" id="3575457">*</span>&nbsp;<span class="ident" id="3575459">intCtrlSize</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575472">if</span>&nbsp;<span class="ident" id="3575475">ret</span><span class="op" id="3575478">.</span><span class="ident" id="3575479">base</span><span class="op" id="3575483">+</span><span class="ident" id="3575484">intCtrlSize</span>&nbsp;<span class="op" id="3575496">&gt;</span>&nbsp;<span class="ident" id="3575498">PageSize</span>&nbsp;<span class="op" id="3575507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3575511">panic</span><span class="op" id="3575516">(</span><span class="string" id="3575517">&#34;bug&#34;</span><span class="op" id="3575522">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3575525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575529">return</span>&nbsp;<span class="ident" id="3575536">ret</span><br>
<span class="lineno"></span><span class="op" id="3575540">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="3575543">func</span>&nbsp;<span class="op" id="3575548">(</span><span class="ident" id="3575549">in</span>&nbsp;<span class="op" id="3575552">*</span><span class="ident" id="3575553">interrupt</span><span class="op" id="3575562">)</span>&nbsp;<span class="ident" id="3575564">readWord</span><span class="op" id="3575572">(</span><span class="ident" id="3575573">off</span>&nbsp;<span class="builtintype" id="3575577">uint32</span><span class="op" id="3575583">)</span>&nbsp;<span class="builtintype" id="3575585">uint32</span>&nbsp;<span class="op" id="3575592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575595">return</span>&nbsp;<span class="ident" id="3575602">in</span><span class="op" id="3575604">.</span><span class="ident" id="3575605">p</span><span class="op" id="3575606">.</span><span class="ident" id="3575607">ReadWord</span><span class="op" id="3575615">(</span><span class="ident" id="3575616">in</span><span class="op" id="3575618">.</span><span class="ident" id="3575619">base</span>&nbsp;<span class="op" id="3575624">+</span>&nbsp;<span class="ident" id="3575626">off</span><span class="op" id="3575629">)</span><br>
<span class="lineno"></span><span class="op" id="3575631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3575634">func</span>&nbsp;<span class="op" id="3575639">(</span><span class="ident" id="3575640">in</span>&nbsp;<span class="op" id="3575643">*</span><span class="ident" id="3575644">interrupt</span><span class="op" id="3575653">)</span>&nbsp;<span class="ident" id="3575655">readByte</span><span class="op" id="3575663">(</span><span class="ident" id="3575664">off</span>&nbsp;<span class="builtintype" id="3575668">uint32</span><span class="op" id="3575674">)</span>&nbsp;<span class="builtintype" id="3575676">byte</span>&nbsp;<span class="op" id="3575681">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575684">return</span>&nbsp;<span class="ident" id="3575691">in</span><span class="op" id="3575693">.</span><span class="ident" id="3575694">p</span><span class="op" id="3575695">.</span><span class="ident" id="3575696">ReadByte</span><span class="op" id="3575704">(</span><span class="ident" id="3575705">in</span><span class="op" id="3575707">.</span><span class="ident" id="3575708">base</span>&nbsp;<span class="op" id="3575713">+</span>&nbsp;<span class="ident" id="3575715">off</span><span class="op" id="3575718">)</span><br>
<span class="lineno"></span><span class="op" id="3575720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3575723">func</span>&nbsp;<span class="op" id="3575728">(</span><span class="ident" id="3575729">in</span>&nbsp;<span class="op" id="3575732">*</span><span class="ident" id="3575733">interrupt</span><span class="op" id="3575742">)</span>&nbsp;<span class="ident" id="3575744">writeWord</span><span class="op" id="3575753">(</span><span class="ident" id="3575754">off</span>&nbsp;<span class="builtintype" id="3575758">uint32</span><span class="op" id="3575764">,</span>&nbsp;<span class="ident" id="3575766">v</span>&nbsp;<span class="builtintype" id="3575768">uint32</span><span class="op" id="3575774">)</span>&nbsp;<span class="op" id="3575776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575779">in</span><span class="op" id="3575781">.</span><span class="ident" id="3575782">p</span><span class="op" id="3575783">.</span><span class="ident" id="3575784">WriteWord</span><span class="op" id="3575793">(</span><span class="ident" id="3575794">in</span><span class="op" id="3575796">.</span><span class="ident" id="3575797">base</span><span class="op" id="3575801">+</span><span class="ident" id="3575802">off</span><span class="op" id="3575805">,</span>&nbsp;<span class="ident" id="3575807">v</span><span class="op" id="3575808">)</span><br>
<span class="lineno">45</span><span class="op" id="3575810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3575813">func</span>&nbsp;<span class="op" id="3575818">(</span><span class="ident" id="3575819">in</span>&nbsp;<span class="op" id="3575822">*</span><span class="ident" id="3575823">interrupt</span><span class="op" id="3575832">)</span>&nbsp;<span class="ident" id="3575834">writeByte</span><span class="op" id="3575843">(</span><span class="ident" id="3575844">off</span>&nbsp;<span class="builtintype" id="3575848">uint32</span><span class="op" id="3575854">,</span>&nbsp;<span class="ident" id="3575856">v</span>&nbsp;<span class="builtintype" id="3575858">byte</span><span class="op" id="3575862">)</span>&nbsp;<span class="op" id="3575864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3575867">in</span><span class="op" id="3575869">.</span><span class="ident" id="3575870">p</span><span class="op" id="3575871">.</span><span class="ident" id="3575872">WriteByte</span><span class="op" id="3575881">(</span><span class="ident" id="3575882">in</span><span class="op" id="3575884">.</span><span class="ident" id="3575885">base</span><span class="op" id="3575889">+</span><span class="ident" id="3575890">off</span><span class="op" id="3575893">,</span>&nbsp;<span class="ident" id="3575895">v</span><span class="op" id="3575896">)</span><br>
<span class="lineno"></span><span class="op" id="3575898">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="3575901">func</span>&nbsp;<span class="op" id="3575906">(</span><span class="ident" id="3575907">in</span>&nbsp;<span class="op" id="3575910">*</span><span class="ident" id="3575911">interrupt</span><span class="op" id="3575920">)</span>&nbsp;<span class="ident" id="3575922">kernelSP</span><span class="op" id="3575930">(</span><span class="op" id="3575931">)</span>&nbsp;<span class="builtintype" id="3575933">uint32</span>&nbsp;<span class="op" id="3575940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3575943">return</span>&nbsp;<span class="ident" id="3575950">in</span><span class="op" id="3575952">.</span><span class="ident" id="3575953">readWord</span><span class="op" id="3575961">(</span><span class="ident" id="3575962">intKernelSP</span><span class="op" id="3575973">)</span><br>
<span class="lineno"></span><span class="op" id="3575975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="3575978">func</span>&nbsp;<span class="op" id="3575983">(</span><span class="ident" id="3575984">in</span>&nbsp;<span class="op" id="3575987">*</span><span class="ident" id="3575988">interrupt</span><span class="op" id="3575997">)</span>&nbsp;<span class="ident" id="3575999">handlerPC</span><span class="op" id="3576008">(</span><span class="op" id="3576009">)</span>&nbsp;<span class="builtintype" id="3576011">uint32</span>&nbsp;<span class="op" id="3576018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3576021">return</span>&nbsp;<span class="ident" id="3576028">in</span><span class="op" id="3576030">.</span><span class="ident" id="3576031">readWord</span><span class="op" id="3576039">(</span><span class="ident" id="3576040">intHandlerPC</span><span class="op" id="3576052">)</span><br>
<span class="lineno"></span><span class="op" id="3576054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3576057">func</span>&nbsp;<span class="op" id="3576062">(</span><span class="ident" id="3576063">in</span>&nbsp;<span class="op" id="3576066">*</span><span class="ident" id="3576067">interrupt</span><span class="op" id="3576076">)</span>&nbsp;<span class="ident" id="3576078">syscallPC</span><span class="op" id="3576087">(</span><span class="op" id="3576088">)</span>&nbsp;<span class="builtintype" id="3576090">uint32</span>&nbsp;<span class="op" id="3576097">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3576100">return</span>&nbsp;<span class="ident" id="3576107">in</span><span class="op" id="3576109">.</span><span class="ident" id="3576110">readWord</span><span class="op" id="3576118">(</span><span class="ident" id="3576119">intSyscallPC</span><span class="op" id="3576131">)</span><br>
<span class="lineno"></span><span class="op" id="3576133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3576136">//&nbsp;Issue&nbsp;issues&nbsp;an&nbsp;interrupt.&nbsp;If&nbsp;the&nbsp;interrupt&nbsp;is&nbsp;already&nbsp;issued,</span><br>
<span class="lineno"></span><span class="comment" id="3576202">//&nbsp;this&nbsp;has&nbsp;no&nbsp;effect.</span><br>
<span class="lineno">65</span><span class="keyword" id="3576225">func</span>&nbsp;<span class="op" id="3576230">(</span><span class="ident" id="3576231">in</span>&nbsp;<span class="op" id="3576234">*</span><span class="ident" id="3576235">interrupt</span><span class="op" id="3576244">)</span>&nbsp;<span class="ident" id="3576246">Issue</span><span class="op" id="3576251">(</span><span class="ident" id="3576252">i</span>&nbsp;<span class="builtintype" id="3576254">byte</span><span class="op" id="3576258">)</span>&nbsp;<span class="op" id="3576260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576263">off</span>&nbsp;<span class="op" id="3576267">:=</span>&nbsp;<span class="builtintype" id="3576270">uint32</span><span class="op" id="3576276">(</span><span class="ident" id="3576277">i</span><span class="op" id="3576278">/</span><span class="num" id="3576279">8</span><span class="op" id="3576280">)</span>&nbsp;<span class="op" id="3576282">+</span>&nbsp;<span class="ident" id="3576284">intPending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576296">b</span>&nbsp;<span class="op" id="3576298">:=</span>&nbsp;<span class="ident" id="3576301">in</span><span class="op" id="3576303">.</span><span class="ident" id="3576304">readByte</span><span class="op" id="3576312">(</span><span class="ident" id="3576313">off</span><span class="op" id="3576316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576319">b</span>&nbsp;<span class="op" id="3576321">|=</span>&nbsp;<span class="num" id="3576324">0x1</span>&nbsp;<span class="op" id="3576328">&lt;&lt;</span>&nbsp;<span class="op" id="3576331">(</span><span class="ident" id="3576332">i</span>&nbsp;<span class="op" id="3576334">%</span>&nbsp;<span class="num" id="3576336">8</span><span class="op" id="3576337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576340">in</span><span class="op" id="3576342">.</span><span class="ident" id="3576343">writeByte</span><span class="op" id="3576352">(</span><span class="ident" id="3576353">off</span><span class="op" id="3576356">,</span>&nbsp;<span class="ident" id="3576358">b</span><span class="op" id="3576359">)</span><br>
<span class="lineno">70</span><span class="op" id="3576361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3576364">//&nbsp;Clear&nbsp;clears&nbsp;an&nbsp;interrupt.&nbsp;If&nbsp;the&nbsp;interrupt&nbsp;is&nbsp;already&nbsp;cleared,</span><br>
<span class="lineno"></span><span class="comment" id="3576431">//&nbsp;this&nbsp;has&nbsp;no&nbsp;effect.</span><br>
<span class="lineno"></span><span class="keyword" id="3576454">func</span>&nbsp;<span class="op" id="3576459">(</span><span class="ident" id="3576460">in</span>&nbsp;<span class="op" id="3576463">*</span><span class="ident" id="3576464">interrupt</span><span class="op" id="3576473">)</span>&nbsp;<span class="ident" id="3576475">Clear</span><span class="op" id="3576480">(</span><span class="ident" id="3576481">i</span>&nbsp;<span class="builtintype" id="3576483">byte</span><span class="op" id="3576487">)</span>&nbsp;<span class="op" id="3576489">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576492">off</span>&nbsp;<span class="op" id="3576496">:=</span>&nbsp;<span class="builtintype" id="3576499">uint32</span><span class="op" id="3576505">(</span><span class="ident" id="3576506">i</span><span class="op" id="3576507">/</span><span class="num" id="3576508">8</span><span class="op" id="3576509">)</span>&nbsp;<span class="op" id="3576511">+</span>&nbsp;<span class="ident" id="3576513">intPending</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576525">b</span>&nbsp;<span class="op" id="3576527">:=</span>&nbsp;<span class="ident" id="3576530">in</span><span class="op" id="3576532">.</span><span class="ident" id="3576533">readByte</span><span class="op" id="3576541">(</span><span class="ident" id="3576542">off</span><span class="op" id="3576545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576548">b</span>&nbsp;<span class="op" id="3576550">&amp;=</span>&nbsp;<span class="op" id="3576553">^</span><span class="op" id="3576554">(</span><span class="num" id="3576555">0x1</span>&nbsp;<span class="op" id="3576559">&lt;&lt;</span>&nbsp;<span class="op" id="3576562">(</span><span class="ident" id="3576563">i</span>&nbsp;<span class="op" id="3576565">%</span>&nbsp;<span class="num" id="3576567">8</span><span class="op" id="3576568">)</span><span class="op" id="3576569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576572">in</span><span class="op" id="3576574">.</span><span class="ident" id="3576575">writeByte</span><span class="op" id="3576584">(</span><span class="ident" id="3576585">off</span><span class="op" id="3576588">,</span>&nbsp;<span class="ident" id="3576590">b</span><span class="op" id="3576591">)</span><br>
<span class="lineno"></span><span class="op" id="3576593">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="3576596">//&nbsp;Enable&nbsp;sets&nbsp;the&nbsp;interrupt&nbsp;enable&nbsp;bit&nbsp;in&nbsp;the&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="3576650">func</span>&nbsp;<span class="op" id="3576655">(</span><span class="ident" id="3576656">in</span>&nbsp;<span class="op" id="3576659">*</span><span class="ident" id="3576660">interrupt</span><span class="op" id="3576669">)</span>&nbsp;<span class="ident" id="3576671">Enable</span><span class="op" id="3576677">(</span><span class="op" id="3576678">)</span>&nbsp;<span class="op" id="3576680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576683">b</span>&nbsp;<span class="op" id="3576685">:=</span>&nbsp;<span class="ident" id="3576688">in</span><span class="op" id="3576690">.</span><span class="ident" id="3576691">readByte</span><span class="op" id="3576699">(</span><span class="ident" id="3576700">intFlags</span><span class="op" id="3576708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576711">b</span>&nbsp;<span class="op" id="3576713">|=</span>&nbsp;<span class="num" id="3576716">0x1</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576721">in</span><span class="op" id="3576723">.</span><span class="ident" id="3576724">writeByte</span><span class="op" id="3576733">(</span><span class="ident" id="3576734">intFlags</span><span class="op" id="3576742">,</span>&nbsp;<span class="ident" id="3576744">b</span><span class="op" id="3576745">)</span><br>
<span class="lineno"></span><span class="op" id="3576747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3576750">//&nbsp;Enabled&nbsp;tests&nbsp;if&nbsp;interrupt&nbsp;is&nbsp;enabled</span><br>
<span class="lineno"></span><span class="keyword" id="3576791">func</span>&nbsp;<span class="op" id="3576796">(</span><span class="ident" id="3576797">in</span>&nbsp;<span class="op" id="3576800">*</span><span class="ident" id="3576801">interrupt</span><span class="op" id="3576810">)</span>&nbsp;<span class="ident" id="3576812">Enabled</span><span class="op" id="3576819">(</span><span class="op" id="3576820">)</span>&nbsp;<span class="builtintype" id="3576822">bool</span>&nbsp;<span class="op" id="3576827">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576830">b</span>&nbsp;<span class="op" id="3576832">:=</span>&nbsp;<span class="ident" id="3576835">in</span><span class="op" id="3576837">.</span><span class="ident" id="3576838">readByte</span><span class="op" id="3576846">(</span><span class="ident" id="3576847">intFlags</span><span class="op" id="3576855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3576858">return</span>&nbsp;<span class="op" id="3576865">(</span><span class="ident" id="3576866">b</span>&nbsp;<span class="op" id="3576868">&amp;</span>&nbsp;<span class="num" id="3576870">0x1</span><span class="op" id="3576873">)</span>&nbsp;<span class="op" id="3576875">!=</span>&nbsp;<span class="num" id="3576878">0</span><br>
<span class="lineno"></span><span class="op" id="3576880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3576883">//&nbsp;Disable&nbsp;clears&nbsp;the&nbsp;interrupt&nbsp;enable&nbsp;bit&nbsp;in&nbsp;the&nbsp;flags.</span><br>
<span class="lineno">95</span><span class="keyword" id="3576940">func</span>&nbsp;<span class="op" id="3576945">(</span><span class="ident" id="3576946">in</span>&nbsp;<span class="op" id="3576949">*</span><span class="ident" id="3576950">interrupt</span><span class="op" id="3576959">)</span>&nbsp;<span class="ident" id="3576961">Disable</span><span class="op" id="3576968">(</span><span class="op" id="3576969">)</span>&nbsp;<span class="op" id="3576971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3576974">b</span>&nbsp;<span class="op" id="3576976">:=</span>&nbsp;<span class="ident" id="3576979">in</span><span class="op" id="3576981">.</span><span class="ident" id="3576982">readByte</span><span class="op" id="3576990">(</span><span class="ident" id="3576991">intFlags</span><span class="op" id="3576999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577002">b</span>&nbsp;<span class="op" id="3577004">&amp;=</span>&nbsp;<span class="op" id="3577007">^</span><span class="builtintype" id="3577008">byte</span><span class="op" id="3577012">(</span><span class="num" id="3577013">0x1</span><span class="op" id="3577016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577019">in</span><span class="op" id="3577021">.</span><span class="ident" id="3577022">writeByte</span><span class="op" id="3577031">(</span><span class="ident" id="3577032">intFlags</span><span class="op" id="3577040">,</span>&nbsp;<span class="ident" id="3577042">b</span><span class="op" id="3577043">)</span><br>
<span class="lineno"></span><span class="op" id="3577045">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="3577048">//&nbsp;EnableInt&nbsp;enables&nbsp;a&nbsp;particular&nbsp;interrupt&nbsp;by&nbsp;clearing&nbsp;the&nbsp;mask.</span><br>
<span class="lineno"></span><span class="keyword" id="3577114">func</span>&nbsp;<span class="op" id="3577119">(</span><span class="ident" id="3577120">in</span>&nbsp;<span class="op" id="3577123">*</span><span class="ident" id="3577124">interrupt</span><span class="op" id="3577133">)</span>&nbsp;<span class="ident" id="3577135">EnableInt</span><span class="op" id="3577144">(</span><span class="ident" id="3577145">i</span>&nbsp;<span class="builtintype" id="3577147">byte</span><span class="op" id="3577151">)</span>&nbsp;<span class="op" id="3577153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577156">off</span>&nbsp;<span class="op" id="3577160">:=</span>&nbsp;<span class="builtintype" id="3577163">uint32</span><span class="op" id="3577169">(</span><span class="ident" id="3577170">i</span><span class="op" id="3577171">/</span><span class="num" id="3577172">8</span><span class="op" id="3577173">)</span>&nbsp;<span class="op" id="3577175">+</span>&nbsp;<span class="ident" id="3577177">intMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577186">b</span>&nbsp;<span class="op" id="3577188">:=</span>&nbsp;<span class="ident" id="3577191">in</span><span class="op" id="3577193">.</span><span class="ident" id="3577194">readByte</span><span class="op" id="3577202">(</span><span class="ident" id="3577203">off</span><span class="op" id="3577206">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577209">b</span>&nbsp;<span class="op" id="3577211">|=</span>&nbsp;<span class="num" id="3577214">0x1</span>&nbsp;<span class="op" id="3577218">&lt;&lt;</span>&nbsp;<span class="op" id="3577221">(</span><span class="ident" id="3577222">i</span>&nbsp;<span class="op" id="3577224">%</span>&nbsp;<span class="num" id="3577226">8</span><span class="op" id="3577227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577230">in</span><span class="op" id="3577232">.</span><span class="ident" id="3577233">writeByte</span><span class="op" id="3577242">(</span><span class="ident" id="3577243">off</span><span class="op" id="3577246">,</span>&nbsp;<span class="ident" id="3577248">b</span><span class="op" id="3577249">)</span><br>
<span class="lineno"></span><span class="op" id="3577251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3577254">//&nbsp;DisableInt&nbsp;disables&nbsp;a&nbsp;particular&nbsp;interrupt&nbsp;by&nbsp;setting&nbsp;the&nbsp;mask.</span><br>
<span class="lineno">110</span><span class="keyword" id="3577321">func</span>&nbsp;<span class="op" id="3577326">(</span><span class="ident" id="3577327">in</span>&nbsp;<span class="op" id="3577330">*</span><span class="ident" id="3577331">interrupt</span><span class="op" id="3577340">)</span>&nbsp;<span class="ident" id="3577342">DisableInt</span><span class="op" id="3577352">(</span><span class="ident" id="3577353">i</span>&nbsp;<span class="builtintype" id="3577355">byte</span><span class="op" id="3577359">)</span>&nbsp;<span class="op" id="3577361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577364">off</span>&nbsp;<span class="op" id="3577368">:=</span>&nbsp;<span class="builtintype" id="3577371">uint32</span><span class="op" id="3577377">(</span><span class="ident" id="3577378">i</span><span class="op" id="3577379">/</span><span class="num" id="3577380">8</span><span class="op" id="3577381">)</span>&nbsp;<span class="op" id="3577383">+</span>&nbsp;<span class="ident" id="3577385">intMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577394">b</span>&nbsp;<span class="op" id="3577396">:=</span>&nbsp;<span class="ident" id="3577399">in</span><span class="op" id="3577401">.</span><span class="ident" id="3577402">readByte</span><span class="op" id="3577410">(</span><span class="ident" id="3577411">off</span><span class="op" id="3577414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577417">b</span>&nbsp;<span class="op" id="3577419">&amp;=</span>&nbsp;<span class="op" id="3577422">^</span><span class="op" id="3577423">(</span><span class="num" id="3577424">0x1</span>&nbsp;<span class="op" id="3577428">&lt;&lt;</span>&nbsp;<span class="op" id="3577431">(</span><span class="ident" id="3577432">i</span>&nbsp;<span class="op" id="3577434">%</span>&nbsp;<span class="num" id="3577436">8</span><span class="op" id="3577437">)</span><span class="op" id="3577438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577441">in</span><span class="op" id="3577443">.</span><span class="ident" id="3577444">writeByte</span><span class="op" id="3577453">(</span><span class="ident" id="3577454">off</span><span class="op" id="3577457">,</span>&nbsp;<span class="ident" id="3577459">b</span><span class="op" id="3577460">)</span><br>
<span class="lineno">115</span><span class="op" id="3577462">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3577465">//&nbsp;Flags&nbsp;returns&nbsp;the&nbsp;flags&nbsp;byte.</span><br>
<span class="lineno"></span><span class="keyword" id="3577498">func</span>&nbsp;<span class="op" id="3577503">(</span><span class="ident" id="3577504">in</span>&nbsp;<span class="op" id="3577507">*</span><span class="ident" id="3577508">interrupt</span><span class="op" id="3577517">)</span>&nbsp;<span class="ident" id="3577519">Flags</span><span class="op" id="3577524">(</span><span class="op" id="3577525">)</span>&nbsp;<span class="builtintype" id="3577527">byte</span>&nbsp;<span class="op" id="3577532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3577535">return</span>&nbsp;<span class="ident" id="3577542">in</span><span class="op" id="3577544">.</span><span class="ident" id="3577545">readByte</span><span class="op" id="3577553">(</span><span class="ident" id="3577554">intFlags</span><span class="op" id="3577562">)</span><br>
<span class="lineno">120</span><span class="op" id="3577564">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3577567">//&nbsp;Poll&nbsp;looks&nbsp;for&nbsp;the&nbsp;next&nbsp;pending&nbsp;interrupt.</span><br>
<span class="lineno"></span><span class="keyword" id="3577613">func</span>&nbsp;<span class="op" id="3577618">(</span><span class="ident" id="3577619">in</span>&nbsp;<span class="op" id="3577622">*</span><span class="ident" id="3577623">interrupt</span><span class="op" id="3577632">)</span>&nbsp;<span class="ident" id="3577634">Poll</span><span class="op" id="3577638">(</span><span class="op" id="3577639">)</span>&nbsp;<span class="op" id="3577641">(</span><span class="builtintype" id="3577642">bool</span><span class="op" id="3577646">,</span>&nbsp;<span class="builtintype" id="3577648">byte</span><span class="op" id="3577652">)</span>&nbsp;<span class="op" id="3577654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577657">flag</span>&nbsp;<span class="op" id="3577662">:=</span>&nbsp;<span class="ident" id="3577665">in</span><span class="op" id="3577667">.</span><span class="ident" id="3577668">Flags</span><span class="op" id="3577673">(</span><span class="op" id="3577674">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3577677">if</span>&nbsp;<span class="ident" id="3577680">flag</span><span class="op" id="3577684">&amp;</span><span class="num" id="3577685">0x1</span>&nbsp;<span class="op" id="3577689">==</span>&nbsp;<span class="num" id="3577692">0</span>&nbsp;<span class="op" id="3577694">{</span>&nbsp;<span class="comment" id="3577696">//&nbsp;interrupt&nbsp;is&nbsp;disabled</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3577723">return</span>&nbsp;<span class="builtintype" id="3577730">false</span><span class="op" id="3577735">,</span>&nbsp;<span class="num" id="3577737">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3577740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3577744">//&nbsp;search&nbsp;bits&nbsp;based&nbsp;on&nbsp;priorities.</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3577781">//&nbsp;smaller&nbsp;is&nbsp;higher</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3577803">for</span>&nbsp;<span class="ident" id="3577807">i</span>&nbsp;<span class="op" id="3577809">:=</span>&nbsp;<span class="builtintype" id="3577812">uint32</span><span class="op" id="3577818">(</span><span class="num" id="3577819">0</span><span class="op" id="3577820">)</span><span class="op" id="3577821">;</span>&nbsp;<span class="ident" id="3577823">i</span>&nbsp;<span class="op" id="3577825">&lt;</span>&nbsp;<span class="ident" id="3577827">Ninterrupt</span><span class="op" id="3577837">/</span><span class="num" id="3577838">8</span><span class="op" id="3577839">;</span>&nbsp;<span class="ident" id="3577841">i</span><span class="op" id="3577842">++</span>&nbsp;<span class="op" id="3577845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577849">pending</span>&nbsp;<span class="op" id="3577857">:=</span>&nbsp;<span class="ident" id="3577860">in</span><span class="op" id="3577862">.</span><span class="ident" id="3577863">readByte</span><span class="op" id="3577871">(</span><span class="ident" id="3577872">intPending</span>&nbsp;<span class="op" id="3577883">+</span>&nbsp;<span class="ident" id="3577885">i</span><span class="op" id="3577886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577890">mask</span>&nbsp;<span class="op" id="3577895">:=</span>&nbsp;<span class="ident" id="3577898">in</span><span class="op" id="3577900">.</span><span class="ident" id="3577901">readByte</span><span class="op" id="3577909">(</span><span class="ident" id="3577910">intMask</span>&nbsp;<span class="op" id="3577918">+</span>&nbsp;<span class="ident" id="3577920">i</span><span class="op" id="3577921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3577925">pending</span>&nbsp;<span class="op" id="3577933">&amp;=</span>&nbsp;<span class="ident" id="3577936">mask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3577943">if</span>&nbsp;<span class="ident" id="3577946">pending</span>&nbsp;<span class="op" id="3577954">==</span>&nbsp;<span class="num" id="3577957">0</span>&nbsp;<span class="op" id="3577959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3577964">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3577975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3577980">for</span>&nbsp;<span class="ident" id="3577984">b</span>&nbsp;<span class="op" id="3577986">:=</span>&nbsp;<span class="builtintype" id="3577989">byte</span><span class="op" id="3577993">(</span><span class="num" id="3577994">0</span><span class="op" id="3577995">)</span><span class="op" id="3577996">;</span>&nbsp;<span class="ident" id="3577998">b</span>&nbsp;<span class="op" id="3578000">&lt;</span>&nbsp;<span class="num" id="3578002">8</span><span class="op" id="3578003">;</span>&nbsp;<span class="ident" id="3578005">b</span><span class="op" id="3578006">++</span>&nbsp;<span class="op" id="3578009">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3578014">if</span>&nbsp;<span class="ident" id="3578017">pending</span><span class="op" id="3578024">&amp;</span><span class="op" id="3578025">(</span><span class="num" id="3578026">0x1</span><span class="op" id="3578029">&lt;&lt;</span><span class="ident" id="3578031">b</span><span class="op" id="3578032">)</span>&nbsp;<span class="op" id="3578034">==</span>&nbsp;<span class="num" id="3578037">0</span>&nbsp;<span class="op" id="3578039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3578045">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3578057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3578063">return</span>&nbsp;<span class="builtintype" id="3578070">true</span><span class="op" id="3578074">,</span>&nbsp;<span class="builtintype" id="3578076">byte</span><span class="op" id="3578080">(</span><span class="ident" id="3578081">i</span><span class="op" id="3578082">*</span><span class="num" id="3578083">8</span><span class="op" id="3578084">)</span>&nbsp;<span class="op" id="3578086">+</span>&nbsp;<span class="ident" id="3578088">b</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3578092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3578095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3578099">return</span>&nbsp;<span class="builtintype" id="3578106">false</span><span class="op" id="3578111">,</span>&nbsp;<span class="num" id="3578113">0</span><br>
<span class="lineno"></span><span class="op" id="3578115">}</span>
</div>
</body>
</html>
