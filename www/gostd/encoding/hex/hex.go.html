<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/hex</h2>
<ul>
<li><a href="/gostd/encoding/hex/hex.go.html">hex.go</a></li>
<li><a href="/gostd/encoding/hex/hex_test.go.html">hex_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4341714">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4341769">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4341823">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4341874">//&nbsp;Package&nbsp;hex&nbsp;implements&nbsp;hexadecimal&nbsp;encoding&nbsp;and&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4341935">package</span>&nbsp;<span class="ident" id="4341943">hex</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4341948">import</span>&nbsp;<span class="op" id="4341955">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4341958">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4341967">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4341977">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4341984">&#34;io&#34;</span><br>
<span class="lineno"></span><span class="op" id="4341989">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="4341992">const</span>&nbsp;<span class="ident" id="4341998">hextable</span>&nbsp;<span class="op" id="4342007">=</span>&nbsp;<span class="string" id="4342009">&#34;0123456789abcdef&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4342029">//&nbsp;EncodedLen&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="4342096">func</span>&nbsp;<span class="ident" id="4342101">EncodedLen</span><span class="op" id="4342111">(</span><span class="ident" id="4342112">n</span>&nbsp;<span class="builtintype" id="4342114">int</span><span class="op" id="4342117">)</span>&nbsp;<span class="builtintype" id="4342119">int</span>&nbsp;<span class="op" id="4342123">{</span>&nbsp;<span class="keyword" id="4342125">return</span>&nbsp;<span class="ident" id="4342132">n</span>&nbsp;<span class="op" id="4342134">*</span>&nbsp;<span class="num" id="4342136">2</span>&nbsp;<span class="op" id="4342138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="4342141">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;EncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="4342189">//&nbsp;bytes&nbsp;of&nbsp;dst.&nbsp;&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;it&nbsp;returns&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="4342247">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst,&nbsp;but&nbsp;this&nbsp;value&nbsp;is&nbsp;always&nbsp;EncodedLen(len(src)).</span><br>
<span class="lineno"></span><span class="comment" id="4342322">//&nbsp;Encode&nbsp;implements&nbsp;hexadecimal&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="keyword" id="4342365">func</span>&nbsp;<span class="ident" id="4342370">Encode</span><span class="op" id="4342376">(</span><span class="ident" id="4342377">dst</span><span class="op" id="4342380">,</span>&nbsp;<span class="ident" id="4342382">src</span>&nbsp;<span class="op" id="4342386">[</span><span class="op" id="4342387">]</span><span class="builtintype" id="4342388">byte</span><span class="op" id="4342392">)</span>&nbsp;<span class="builtintype" id="4342394">int</span>&nbsp;<span class="op" id="4342398">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4342401">for</span>&nbsp;<span class="ident" id="4342405">i</span><span class="op" id="4342406">,</span>&nbsp;<span class="ident" id="4342408">v</span>&nbsp;<span class="op" id="4342410">:=</span>&nbsp;<span class="keyword" id="4342413">range</span>&nbsp;<span class="ident" id="4342419">src</span>&nbsp;<span class="op" id="4342423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4342427">dst</span><span class="op" id="4342430">[</span><span class="ident" id="4342431">i</span><span class="op" id="4342432">*</span><span class="num" id="4342433">2</span><span class="op" id="4342434">]</span>&nbsp;<span class="op" id="4342436">=</span>&nbsp;<span class="ident" id="4342438">hextable</span><span class="op" id="4342446">[</span><span class="ident" id="4342447">v</span><span class="op" id="4342448">&gt;&gt;</span><span class="num" id="4342450">4</span><span class="op" id="4342451">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4342455">dst</span><span class="op" id="4342458">[</span><span class="ident" id="4342459">i</span><span class="op" id="4342460">*</span><span class="num" id="4342461">2</span><span class="op" id="4342462">+</span><span class="num" id="4342463">1</span><span class="op" id="4342464">]</span>&nbsp;<span class="op" id="4342466">=</span>&nbsp;<span class="ident" id="4342468">hextable</span><span class="op" id="4342476">[</span><span class="ident" id="4342477">v</span><span class="op" id="4342478">&amp;</span><span class="num" id="4342479">0x0f</span><span class="op" id="4342483">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4342486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4342490">return</span>&nbsp;<span class="builtinfunc" id="4342497">len</span><span class="op" id="4342500">(</span><span class="ident" id="4342501">src</span><span class="op" id="4342504">)</span>&nbsp;<span class="op" id="4342506">*</span>&nbsp;<span class="num" id="4342508">2</span><br>
<span class="lineno"></span><span class="op" id="4342510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4342513">//&nbsp;ErrLength&nbsp;results&nbsp;from&nbsp;decoding&nbsp;an&nbsp;odd&nbsp;length&nbsp;slice.</span><br>
<span class="lineno"></span><span class="keyword" id="4342569">var</span>&nbsp;<span class="ident" id="4342573">ErrLength</span>&nbsp;<span class="op" id="4342583">=</span>&nbsp;<span class="ident" id="4342585">errors</span><span class="op" id="4342591">.</span><span class="ident" id="4342592">New</span><span class="op" id="4342595">(</span><span class="string" id="4342596">&#34;encoding/hex:&nbsp;odd&nbsp;length&nbsp;hex&nbsp;string&#34;</span><span class="op" id="4342633">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="4342636">//&nbsp;InvalidByteError&nbsp;values&nbsp;describe&nbsp;errors&nbsp;resulting&nbsp;from&nbsp;an&nbsp;invalid&nbsp;byte&nbsp;in&nbsp;a&nbsp;hex&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="4342727">type</span>&nbsp;<span class="ident" id="4342732">InvalidByteError</span>&nbsp;<span class="builtintype" id="4342749">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4342755">func</span>&nbsp;<span class="op" id="4342760">(</span><span class="ident" id="4342761">e</span>&nbsp;<span class="ident" id="4342763">InvalidByteError</span><span class="op" id="4342779">)</span>&nbsp;<span class="ident" id="4342781">Error</span><span class="op" id="4342786">(</span><span class="op" id="4342787">)</span>&nbsp;<span class="builtintype" id="4342789">string</span>&nbsp;<span class="op" id="4342796">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4342799">return</span>&nbsp;<span class="ident" id="4342806">fmt</span><span class="op" id="4342809">.</span><span class="ident" id="4342810">Sprintf</span><span class="op" id="4342817">(</span><span class="string" id="4342818">&#34;encoding/hex:&nbsp;invalid&nbsp;byte:&nbsp;%#U&#34;</span><span class="op" id="4342851">,</span>&nbsp;<span class="builtintype" id="4342853">rune</span><span class="op" id="4342857">(</span><span class="ident" id="4342858">e</span><span class="op" id="4342859">)</span><span class="op" id="4342860">)</span><br>
<span class="lineno"></span><span class="op" id="4342862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4342865">func</span>&nbsp;<span class="ident" id="4342870">DecodedLen</span><span class="op" id="4342880">(</span><span class="ident" id="4342881">x</span>&nbsp;<span class="builtintype" id="4342883">int</span><span class="op" id="4342886">)</span>&nbsp;<span class="builtintype" id="4342888">int</span>&nbsp;<span class="op" id="4342892">{</span>&nbsp;<span class="keyword" id="4342894">return</span>&nbsp;<span class="ident" id="4342901">x</span>&nbsp;<span class="op" id="4342903">/</span>&nbsp;<span class="num" id="4342905">2</span>&nbsp;<span class="op" id="4342907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="4342910">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;DecodedLen(len(src))&nbsp;bytes,&nbsp;returning&nbsp;the&nbsp;actual</span><br>
<span class="lineno"></span><span class="comment" id="4342986">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst.</span><br>
<span class="lineno"></span><span class="comment" id="4343021">//</span><br>
<span class="lineno"></span><span class="comment" id="4343024">//&nbsp;If&nbsp;Decode&nbsp;encounters&nbsp;invalid&nbsp;input,&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;failure.</span><br>
<span class="lineno"></span><span class="keyword" id="4343107">func</span>&nbsp;<span class="ident" id="4343112">Decode</span><span class="op" id="4343118">(</span><span class="ident" id="4343119">dst</span><span class="op" id="4343122">,</span>&nbsp;<span class="ident" id="4343124">src</span>&nbsp;<span class="op" id="4343128">[</span><span class="op" id="4343129">]</span><span class="builtintype" id="4343130">byte</span><span class="op" id="4343134">)</span>&nbsp;<span class="op" id="4343136">(</span><span class="builtintype" id="4343137">int</span><span class="op" id="4343140">,</span>&nbsp;<span class="builtintype" id="4343142">error</span><span class="op" id="4343147">)</span>&nbsp;<span class="op" id="4343149">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343152">if</span>&nbsp;<span class="builtinfunc" id="4343155">len</span><span class="op" id="4343158">(</span><span class="ident" id="4343159">src</span><span class="op" id="4343162">)</span><span class="op" id="4343163">%</span><span class="num" id="4343164">2</span>&nbsp;<span class="op" id="4343166">==</span>&nbsp;<span class="num" id="4343169">1</span>&nbsp;<span class="op" id="4343171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343175">return</span>&nbsp;<span class="num" id="4343182">0</span><span class="op" id="4343183">,</span>&nbsp;<span class="ident" id="4343185">ErrLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4343196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343200">for</span>&nbsp;<span class="ident" id="4343204">i</span>&nbsp;<span class="op" id="4343206">:=</span>&nbsp;<span class="num" id="4343209">0</span><span class="op" id="4343210">;</span>&nbsp;<span class="ident" id="4343212">i</span>&nbsp;<span class="op" id="4343214">&lt;</span>&nbsp;<span class="builtinfunc" id="4343216">len</span><span class="op" id="4343219">(</span><span class="ident" id="4343220">src</span><span class="op" id="4343223">)</span><span class="op" id="4343224">/</span><span class="num" id="4343225">2</span><span class="op" id="4343226">;</span>&nbsp;<span class="ident" id="4343228">i</span><span class="op" id="4343229">++</span>&nbsp;<span class="op" id="4343232">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4343236">a</span><span class="op" id="4343237">,</span>&nbsp;<span class="ident" id="4343239">ok</span>&nbsp;<span class="op" id="4343242">:=</span>&nbsp;<span class="ident" id="4343245">fromHexChar</span><span class="op" id="4343256">(</span><span class="ident" id="4343257">src</span><span class="op" id="4343260">[</span><span class="ident" id="4343261">i</span><span class="op" id="4343262">*</span><span class="num" id="4343263">2</span><span class="op" id="4343264">]</span><span class="op" id="4343265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343269">if</span>&nbsp;<span class="op" id="4343272">!</span><span class="ident" id="4343273">ok</span>&nbsp;<span class="op" id="4343276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343281">return</span>&nbsp;<span class="num" id="4343288">0</span><span class="op" id="4343289">,</span>&nbsp;<span class="ident" id="4343291">InvalidByteError</span><span class="op" id="4343307">(</span><span class="ident" id="4343308">src</span><span class="op" id="4343311">[</span><span class="ident" id="4343312">i</span><span class="op" id="4343313">*</span><span class="num" id="4343314">2</span><span class="op" id="4343315">]</span><span class="op" id="4343316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4343320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4343324">b</span><span class="op" id="4343325">,</span>&nbsp;<span class="ident" id="4343327">ok</span>&nbsp;<span class="op" id="4343330">:=</span>&nbsp;<span class="ident" id="4343333">fromHexChar</span><span class="op" id="4343344">(</span><span class="ident" id="4343345">src</span><span class="op" id="4343348">[</span><span class="ident" id="4343349">i</span><span class="op" id="4343350">*</span><span class="num" id="4343351">2</span><span class="op" id="4343352">+</span><span class="num" id="4343353">1</span><span class="op" id="4343354">]</span><span class="op" id="4343355">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343359">if</span>&nbsp;<span class="op" id="4343362">!</span><span class="ident" id="4343363">ok</span>&nbsp;<span class="op" id="4343366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343371">return</span>&nbsp;<span class="num" id="4343378">0</span><span class="op" id="4343379">,</span>&nbsp;<span class="ident" id="4343381">InvalidByteError</span><span class="op" id="4343397">(</span><span class="ident" id="4343398">src</span><span class="op" id="4343401">[</span><span class="ident" id="4343402">i</span><span class="op" id="4343403">*</span><span class="num" id="4343404">2</span><span class="op" id="4343405">+</span><span class="num" id="4343406">1</span><span class="op" id="4343407">]</span><span class="op" id="4343408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4343412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4343416">dst</span><span class="op" id="4343419">[</span><span class="ident" id="4343420">i</span><span class="op" id="4343421">]</span>&nbsp;<span class="op" id="4343423">=</span>&nbsp;<span class="op" id="4343425">(</span><span class="ident" id="4343426">a</span>&nbsp;<span class="op" id="4343428">&lt;&lt;</span>&nbsp;<span class="num" id="4343431">4</span><span class="op" id="4343432">)</span>&nbsp;<span class="op" id="4343434">|</span>&nbsp;<span class="ident" id="4343436">b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4343439">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343443">return</span>&nbsp;<span class="builtinfunc" id="4343450">len</span><span class="op" id="4343453">(</span><span class="ident" id="4343454">src</span><span class="op" id="4343457">)</span>&nbsp;<span class="op" id="4343459">/</span>&nbsp;<span class="num" id="4343461">2</span><span class="op" id="4343462">,</span>&nbsp;<span class="ident" id="4343464">nil</span><br>
<span class="lineno"></span><span class="op" id="4343468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4343471">//&nbsp;fromHexChar&nbsp;converts&nbsp;a&nbsp;hex&nbsp;character&nbsp;into&nbsp;its&nbsp;value&nbsp;and&nbsp;a&nbsp;success&nbsp;flag.</span><br>
<span class="lineno">70</span><span class="keyword" id="4343546">func</span>&nbsp;<span class="ident" id="4343551">fromHexChar</span><span class="op" id="4343562">(</span><span class="ident" id="4343563">c</span>&nbsp;<span class="builtintype" id="4343565">byte</span><span class="op" id="4343569">)</span>&nbsp;<span class="op" id="4343571">(</span><span class="builtintype" id="4343572">byte</span><span class="op" id="4343576">,</span>&nbsp;<span class="builtintype" id="4343578">bool</span><span class="op" id="4343582">)</span>&nbsp;<span class="op" id="4343584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343587">switch</span>&nbsp;<span class="op" id="4343594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343597">case</span>&nbsp;<span class="string" id="4343602">&#39;0&#39;</span>&nbsp;<span class="op" id="4343606">&lt;=</span>&nbsp;<span class="ident" id="4343609">c</span>&nbsp;<span class="op" id="4343611">&amp;&amp;</span>&nbsp;<span class="ident" id="4343614">c</span>&nbsp;<span class="op" id="4343616">&lt;=</span>&nbsp;<span class="string" id="4343619">&#39;9&#39;</span><span class="op" id="4343622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343626">return</span>&nbsp;<span class="ident" id="4343633">c</span>&nbsp;<span class="op" id="4343635">-</span>&nbsp;<span class="string" id="4343637">&#39;0&#39;</span><span class="op" id="4343640">,</span>&nbsp;<span class="builtintype" id="4343642">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343648">case</span>&nbsp;<span class="string" id="4343653">&#39;a&#39;</span>&nbsp;<span class="op" id="4343657">&lt;=</span>&nbsp;<span class="ident" id="4343660">c</span>&nbsp;<span class="op" id="4343662">&amp;&amp;</span>&nbsp;<span class="ident" id="4343665">c</span>&nbsp;<span class="op" id="4343667">&lt;=</span>&nbsp;<span class="string" id="4343670">&#39;f&#39;</span><span class="op" id="4343673">:</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343677">return</span>&nbsp;<span class="ident" id="4343684">c</span>&nbsp;<span class="op" id="4343686">-</span>&nbsp;<span class="string" id="4343688">&#39;a&#39;</span>&nbsp;<span class="op" id="4343692">+</span>&nbsp;<span class="num" id="4343694">10</span><span class="op" id="4343696">,</span>&nbsp;<span class="builtintype" id="4343698">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343704">case</span>&nbsp;<span class="string" id="4343709">&#39;A&#39;</span>&nbsp;<span class="op" id="4343713">&lt;=</span>&nbsp;<span class="ident" id="4343716">c</span>&nbsp;<span class="op" id="4343718">&amp;&amp;</span>&nbsp;<span class="ident" id="4343721">c</span>&nbsp;<span class="op" id="4343723">&lt;=</span>&nbsp;<span class="string" id="4343726">&#39;F&#39;</span><span class="op" id="4343729">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343733">return</span>&nbsp;<span class="ident" id="4343740">c</span>&nbsp;<span class="op" id="4343742">-</span>&nbsp;<span class="string" id="4343744">&#39;A&#39;</span>&nbsp;<span class="op" id="4343748">+</span>&nbsp;<span class="num" id="4343750">10</span><span class="op" id="4343752">,</span>&nbsp;<span class="builtintype" id="4343754">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4343760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343764">return</span>&nbsp;<span class="num" id="4343771">0</span><span class="op" id="4343772">,</span>&nbsp;<span class="builtintype" id="4343774">false</span><br>
<span class="lineno"></span><span class="op" id="4343780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4343783">//&nbsp;EncodeToString&nbsp;returns&nbsp;the&nbsp;hexadecimal&nbsp;encoding&nbsp;of&nbsp;src.</span><br>
<span class="lineno"></span><span class="keyword" id="4343842">func</span>&nbsp;<span class="ident" id="4343847">EncodeToString</span><span class="op" id="4343861">(</span><span class="ident" id="4343862">src</span>&nbsp;<span class="op" id="4343866">[</span><span class="op" id="4343867">]</span><span class="builtintype" id="4343868">byte</span><span class="op" id="4343872">)</span>&nbsp;<span class="builtintype" id="4343874">string</span>&nbsp;<span class="op" id="4343881">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4343884">dst</span>&nbsp;<span class="op" id="4343888">:=</span>&nbsp;<span class="builtinfunc" id="4343891">make</span><span class="op" id="4343895">(</span><span class="op" id="4343896">[</span><span class="op" id="4343897">]</span><span class="builtintype" id="4343898">byte</span><span class="op" id="4343902">,</span>&nbsp;<span class="ident" id="4343904">EncodedLen</span><span class="op" id="4343914">(</span><span class="builtinfunc" id="4343915">len</span><span class="op" id="4343918">(</span><span class="ident" id="4343919">src</span><span class="op" id="4343922">)</span><span class="op" id="4343923">)</span><span class="op" id="4343924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4343927">Encode</span><span class="op" id="4343933">(</span><span class="ident" id="4343934">dst</span><span class="op" id="4343937">,</span>&nbsp;<span class="ident" id="4343939">src</span><span class="op" id="4343942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4343945">return</span>&nbsp;<span class="builtintype" id="4343952">string</span><span class="op" id="4343958">(</span><span class="ident" id="4343959">dst</span><span class="op" id="4343962">)</span><br>
<span class="lineno"></span><span class="op" id="4343964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="comment" id="4343967">//&nbsp;DecodeString&nbsp;returns&nbsp;the&nbsp;bytes&nbsp;represented&nbsp;by&nbsp;the&nbsp;hexadecimal&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4344042">func</span>&nbsp;<span class="ident" id="4344047">DecodeString</span><span class="op" id="4344059">(</span><span class="ident" id="4344060">s</span>&nbsp;<span class="builtintype" id="4344062">string</span><span class="op" id="4344068">)</span>&nbsp;<span class="op" id="4344070">(</span><span class="op" id="4344071">[</span><span class="op" id="4344072">]</span><span class="builtintype" id="4344073">byte</span><span class="op" id="4344077">,</span>&nbsp;<span class="builtintype" id="4344079">error</span><span class="op" id="4344084">)</span>&nbsp;<span class="op" id="4344086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344089">src</span>&nbsp;<span class="op" id="4344093">:=</span>&nbsp;<span class="op" id="4344096">[</span><span class="op" id="4344097">]</span><span class="builtintype" id="4344098">byte</span><span class="op" id="4344102">(</span><span class="ident" id="4344103">s</span><span class="op" id="4344104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344107">dst</span>&nbsp;<span class="op" id="4344111">:=</span>&nbsp;<span class="builtinfunc" id="4344114">make</span><span class="op" id="4344118">(</span><span class="op" id="4344119">[</span><span class="op" id="4344120">]</span><span class="builtintype" id="4344121">byte</span><span class="op" id="4344125">,</span>&nbsp;<span class="ident" id="4344127">DecodedLen</span><span class="op" id="4344137">(</span><span class="builtinfunc" id="4344138">len</span><span class="op" id="4344141">(</span><span class="ident" id="4344142">src</span><span class="op" id="4344145">)</span><span class="op" id="4344146">)</span><span class="op" id="4344147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344150">_</span><span class="op" id="4344151">,</span>&nbsp;<span class="ident" id="4344153">err</span>&nbsp;<span class="op" id="4344157">:=</span>&nbsp;<span class="ident" id="4344160">Decode</span><span class="op" id="4344166">(</span><span class="ident" id="4344167">dst</span><span class="op" id="4344170">,</span>&nbsp;<span class="ident" id="4344172">src</span><span class="op" id="4344175">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4344178">if</span>&nbsp;<span class="ident" id="4344181">err</span>&nbsp;<span class="op" id="4344185">!=</span>&nbsp;<span class="ident" id="4344188">nil</span>&nbsp;<span class="op" id="4344192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4344196">return</span>&nbsp;<span class="ident" id="4344203">nil</span><span class="op" id="4344206">,</span>&nbsp;<span class="ident" id="4344208">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4344213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4344216">return</span>&nbsp;<span class="ident" id="4344223">dst</span><span class="op" id="4344226">,</span>&nbsp;<span class="ident" id="4344228">nil</span><br>
<span class="lineno"></span><span class="op" id="4344232">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="comment" id="4344235">//&nbsp;Dump&nbsp;returns&nbsp;a&nbsp;string&nbsp;that&nbsp;contains&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;The&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="4344315">//&nbsp;of&nbsp;the&nbsp;hex&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4344390">func</span>&nbsp;<span class="ident" id="4344395">Dump</span><span class="op" id="4344399">(</span><span class="ident" id="4344400">data</span>&nbsp;<span class="op" id="4344405">[</span><span class="op" id="4344406">]</span><span class="builtintype" id="4344407">byte</span><span class="op" id="4344411">)</span>&nbsp;<span class="builtintype" id="4344413">string</span>&nbsp;<span class="op" id="4344420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4344423">var</span>&nbsp;<span class="ident" id="4344427">buf</span>&nbsp;<span class="ident" id="4344431">bytes</span><span class="op" id="4344436">.</span><span class="ident" id="4344437">Buffer</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344445">dumper</span>&nbsp;<span class="op" id="4344452">:=</span>&nbsp;<span class="ident" id="4344455">Dumper</span><span class="op" id="4344461">(</span><span class="op" id="4344462">&amp;</span><span class="ident" id="4344463">buf</span><span class="op" id="4344466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344469">dumper</span><span class="op" id="4344475">.</span><span class="ident" id="4344476">Write</span><span class="op" id="4344481">(</span><span class="ident" id="4344482">data</span><span class="op" id="4344486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344489">dumper</span><span class="op" id="4344495">.</span><span class="ident" id="4344496">Close</span><span class="op" id="4344501">(</span><span class="op" id="4344502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4344505">return</span>&nbsp;<span class="builtintype" id="4344512">string</span><span class="op" id="4344518">(</span><span class="ident" id="4344519">buf</span><span class="op" id="4344522">.</span><span class="ident" id="4344523">Bytes</span><span class="op" id="4344528">(</span><span class="op" id="4344529">)</span><span class="op" id="4344530">)</span><br>
<span class="lineno"></span><span class="op" id="4344532">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="comment" id="4344535">//&nbsp;Dumper&nbsp;returns&nbsp;a&nbsp;WriteCloser&nbsp;that&nbsp;writes&nbsp;a&nbsp;hex&nbsp;dump&nbsp;of&nbsp;all&nbsp;written&nbsp;data&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4344613">//&nbsp;w.&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;dump&nbsp;matches&nbsp;the&nbsp;output&nbsp;of&nbsp;`hexdump&nbsp;-C`&nbsp;on&nbsp;the&nbsp;command</span><br>
<span class="lineno"></span><span class="comment" id="4344692">//&nbsp;line.</span><br>
<span class="lineno"></span><span class="keyword" id="4344701">func</span>&nbsp;<span class="ident" id="4344706">Dumper</span><span class="op" id="4344712">(</span><span class="ident" id="4344713">w</span>&nbsp;<span class="ident" id="4344715">io</span><span class="op" id="4344717">.</span><span class="ident" id="4344718">Writer</span><span class="op" id="4344724">)</span>&nbsp;<span class="ident" id="4344726">io</span><span class="op" id="4344728">.</span><span class="ident" id="4344729">WriteCloser</span>&nbsp;<span class="op" id="4344741">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4344744">return</span>&nbsp;<span class="op" id="4344751">&amp;</span><span class="ident" id="4344752">dumper</span><span class="op" id="4344758">{</span><span class="ident" id="4344759">w</span><span class="op" id="4344760">:</span>&nbsp;<span class="ident" id="4344762">w</span><span class="op" id="4344763">}</span><br>
<span class="lineno"></span><span class="op" id="4344765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4344768">type</span>&nbsp;<span class="ident" id="4344773">dumper</span>&nbsp;<span class="keyword" id="4344780">struct</span>&nbsp;<span class="op" id="4344787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344790">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4344801">io</span><span class="op" id="4344803">.</span><span class="ident" id="4344804">Writer</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344812">rightChars</span>&nbsp;<span class="op" id="4344823">[</span><span class="num" id="4344824">18</span><span class="op" id="4344826">]</span><span class="builtintype" id="4344827">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344833">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4344844">[</span><span class="num" id="4344845">14</span><span class="op" id="4344847">]</span><span class="builtintype" id="4344848">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344854">used</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4344865">int</span>&nbsp;&nbsp;<span class="comment" id="4344870">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;the&nbsp;current&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4344910">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4344921">uint</span>&nbsp;<span class="comment" id="4344926">//&nbsp;number&nbsp;of&nbsp;bytes,&nbsp;total</span><br>
<span class="lineno"></span><span class="op" id="4344952">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="4344955">func</span>&nbsp;<span class="ident" id="4344960">toChar</span><span class="op" id="4344966">(</span><span class="ident" id="4344967">b</span>&nbsp;<span class="builtintype" id="4344969">byte</span><span class="op" id="4344973">)</span>&nbsp;<span class="builtintype" id="4344975">byte</span>&nbsp;<span class="op" id="4344980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4344983">if</span>&nbsp;<span class="ident" id="4344986">b</span>&nbsp;<span class="op" id="4344988">&lt;</span>&nbsp;<span class="num" id="4344990">32</span>&nbsp;<span class="op" id="4344993">||</span>&nbsp;<span class="ident" id="4344996">b</span>&nbsp;<span class="op" id="4344998">&gt;</span>&nbsp;<span class="num" id="4345000">126</span>&nbsp;<span class="op" id="4345004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4345008">return</span>&nbsp;<span class="string" id="4345015">&#39;.&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4345020">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4345023">return</span>&nbsp;<span class="ident" id="4345030">b</span><br>
<span class="lineno"></span><span class="op" id="4345032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4345035">func</span>&nbsp;<span class="op" id="4345040">(</span><span class="ident" id="4345041">h</span>&nbsp;<span class="op" id="4345043">*</span><span class="ident" id="4345044">dumper</span><span class="op" id="4345050">)</span>&nbsp;<span class="ident" id="4345052">Write</span><span class="op" id="4345057">(</span><span class="ident" id="4345058">data</span>&nbsp;<span class="op" id="4345063">[</span><span class="op" id="4345064">]</span><span class="builtintype" id="4345065">byte</span><span class="op" id="4345069">)</span>&nbsp;<span class="op" id="4345071">(</span><span class="ident" id="4345072">n</span>&nbsp;<span class="builtintype" id="4345074">int</span><span class="op" id="4345077">,</span>&nbsp;<span class="ident" id="4345079">err</span>&nbsp;<span class="builtintype" id="4345083">error</span><span class="op" id="4345088">)</span>&nbsp;<span class="op" id="4345090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345093">//&nbsp;Output&nbsp;lines&nbsp;look&nbsp;like:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345121">//&nbsp;00000010&nbsp;&nbsp;2e&nbsp;2f&nbsp;30&nbsp;31&nbsp;32&nbsp;33&nbsp;34&nbsp;35&nbsp;&nbsp;36&nbsp;37&nbsp;38&nbsp;39&nbsp;3a&nbsp;3b&nbsp;3c&nbsp;3d&nbsp;&nbsp;|./0123456789:;&lt;=|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345204">//&nbsp;^&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;extra&nbsp;space&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;ASCII&nbsp;of&nbsp;line.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4345286">for</span>&nbsp;<span class="ident" id="4345290">i</span>&nbsp;<span class="op" id="4345292">:=</span>&nbsp;<span class="keyword" id="4345295">range</span>&nbsp;<span class="ident" id="4345301">data</span>&nbsp;<span class="op" id="4345306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4345310">if</span>&nbsp;<span class="ident" id="4345313">h</span><span class="op" id="4345314">.</span><span class="ident" id="4345315">used</span>&nbsp;<span class="op" id="4345320">==</span>&nbsp;<span class="num" id="4345323">0</span>&nbsp;<span class="op" id="4345325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345330">//&nbsp;At&nbsp;the&nbsp;beginning&nbsp;of&nbsp;a&nbsp;line&nbsp;we&nbsp;print&nbsp;the&nbsp;current</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345384">//&nbsp;offset&nbsp;in&nbsp;hex.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345405">h</span><span class="op" id="4345406">.</span><span class="ident" id="4345407">buf</span><span class="op" id="4345410">[</span><span class="num" id="4345411">0</span><span class="op" id="4345412">]</span>&nbsp;<span class="op" id="4345414">=</span>&nbsp;<span class="builtintype" id="4345416">byte</span><span class="op" id="4345420">(</span><span class="ident" id="4345421">h</span><span class="op" id="4345422">.</span><span class="ident" id="4345423">n</span>&nbsp;<span class="op" id="4345425">&gt;&gt;</span>&nbsp;<span class="num" id="4345428">24</span><span class="op" id="4345430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345435">h</span><span class="op" id="4345436">.</span><span class="ident" id="4345437">buf</span><span class="op" id="4345440">[</span><span class="num" id="4345441">1</span><span class="op" id="4345442">]</span>&nbsp;<span class="op" id="4345444">=</span>&nbsp;<span class="builtintype" id="4345446">byte</span><span class="op" id="4345450">(</span><span class="ident" id="4345451">h</span><span class="op" id="4345452">.</span><span class="ident" id="4345453">n</span>&nbsp;<span class="op" id="4345455">&gt;&gt;</span>&nbsp;<span class="num" id="4345458">16</span><span class="op" id="4345460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345465">h</span><span class="op" id="4345466">.</span><span class="ident" id="4345467">buf</span><span class="op" id="4345470">[</span><span class="num" id="4345471">2</span><span class="op" id="4345472">]</span>&nbsp;<span class="op" id="4345474">=</span>&nbsp;<span class="builtintype" id="4345476">byte</span><span class="op" id="4345480">(</span><span class="ident" id="4345481">h</span><span class="op" id="4345482">.</span><span class="ident" id="4345483">n</span>&nbsp;<span class="op" id="4345485">&gt;&gt;</span>&nbsp;<span class="num" id="4345488">8</span><span class="op" id="4345489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345494">h</span><span class="op" id="4345495">.</span><span class="ident" id="4345496">buf</span><span class="op" id="4345499">[</span><span class="num" id="4345500">3</span><span class="op" id="4345501">]</span>&nbsp;<span class="op" id="4345503">=</span>&nbsp;<span class="builtintype" id="4345505">byte</span><span class="op" id="4345509">(</span><span class="ident" id="4345510">h</span><span class="op" id="4345511">.</span><span class="ident" id="4345512">n</span><span class="op" id="4345513">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345518">Encode</span><span class="op" id="4345524">(</span><span class="ident" id="4345525">h</span><span class="op" id="4345526">.</span><span class="ident" id="4345527">buf</span><span class="op" id="4345530">[</span><span class="num" id="4345531">4</span><span class="op" id="4345532">:</span><span class="op" id="4345533">]</span><span class="op" id="4345534">,</span>&nbsp;<span class="ident" id="4345536">h</span><span class="op" id="4345537">.</span><span class="ident" id="4345538">buf</span><span class="op" id="4345541">[</span><span class="op" id="4345542">:</span><span class="num" id="4345543">4</span><span class="op" id="4345544">]</span><span class="op" id="4345545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345550">h</span><span class="op" id="4345551">.</span><span class="ident" id="4345552">buf</span><span class="op" id="4345555">[</span><span class="num" id="4345556">12</span><span class="op" id="4345558">]</span>&nbsp;<span class="op" id="4345560">=</span>&nbsp;<span class="string" id="4345562">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345569">h</span><span class="op" id="4345570">.</span><span class="ident" id="4345571">buf</span><span class="op" id="4345574">[</span><span class="num" id="4345575">13</span><span class="op" id="4345577">]</span>&nbsp;<span class="op" id="4345579">=</span>&nbsp;<span class="string" id="4345581">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345588">_</span><span class="op" id="4345589">,</span>&nbsp;<span class="ident" id="4345591">err</span>&nbsp;<span class="op" id="4345595">=</span>&nbsp;<span class="ident" id="4345597">h</span><span class="op" id="4345598">.</span><span class="ident" id="4345599">w</span><span class="op" id="4345600">.</span><span class="ident" id="4345601">Write</span><span class="op" id="4345606">(</span><span class="ident" id="4345607">h</span><span class="op" id="4345608">.</span><span class="ident" id="4345609">buf</span><span class="op" id="4345612">[</span><span class="num" id="4345613">4</span><span class="op" id="4345614">:</span><span class="op" id="4345615">]</span><span class="op" id="4345616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4345621">if</span>&nbsp;<span class="ident" id="4345624">err</span>&nbsp;<span class="op" id="4345628">!=</span>&nbsp;<span class="ident" id="4345631">nil</span>&nbsp;<span class="op" id="4345635">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4345641">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4345651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4345655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345659">Encode</span><span class="op" id="4345665">(</span><span class="ident" id="4345666">h</span><span class="op" id="4345667">.</span><span class="ident" id="4345668">buf</span><span class="op" id="4345671">[</span><span class="op" id="4345672">:</span><span class="op" id="4345673">]</span><span class="op" id="4345674">,</span>&nbsp;<span class="ident" id="4345676">data</span><span class="op" id="4345680">[</span><span class="ident" id="4345681">i</span><span class="op" id="4345682">:</span><span class="ident" id="4345683">i</span><span class="op" id="4345684">+</span><span class="num" id="4345685">1</span><span class="op" id="4345686">]</span><span class="op" id="4345687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345691">h</span><span class="op" id="4345692">.</span><span class="ident" id="4345693">buf</span><span class="op" id="4345696">[</span><span class="num" id="4345697">2</span><span class="op" id="4345698">]</span>&nbsp;<span class="op" id="4345700">=</span>&nbsp;<span class="string" id="4345702">&#39;&nbsp;&#39;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345708">l</span>&nbsp;<span class="op" id="4345710">:=</span>&nbsp;<span class="num" id="4345713">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4345717">if</span>&nbsp;<span class="ident" id="4345720">h</span><span class="op" id="4345721">.</span><span class="ident" id="4345722">used</span>&nbsp;<span class="op" id="4345727">==</span>&nbsp;<span class="num" id="4345730">7</span>&nbsp;<span class="op" id="4345732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345737">//&nbsp;There&#39;s&nbsp;an&nbsp;additional&nbsp;space&nbsp;after&nbsp;the&nbsp;8th&nbsp;byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345791">h</span><span class="op" id="4345792">.</span><span class="ident" id="4345793">buf</span><span class="op" id="4345796">[</span><span class="num" id="4345797">3</span><span class="op" id="4345798">]</span>&nbsp;<span class="op" id="4345800">=</span>&nbsp;<span class="string" id="4345802">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345809">l</span>&nbsp;<span class="op" id="4345811">=</span>&nbsp;<span class="num" id="4345813">4</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4345817">}</span>&nbsp;<span class="keyword" id="4345819">else</span>&nbsp;<span class="keyword" id="4345824">if</span>&nbsp;<span class="ident" id="4345827">h</span><span class="op" id="4345828">.</span><span class="ident" id="4345829">used</span>&nbsp;<span class="op" id="4345834">==</span>&nbsp;<span class="num" id="4345837">15</span>&nbsp;<span class="op" id="4345840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345845">//&nbsp;At&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;line&nbsp;there&#39;s&nbsp;an&nbsp;extra&nbsp;space&nbsp;and</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4345901">//&nbsp;the&nbsp;bar&nbsp;for&nbsp;the&nbsp;right&nbsp;column.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345937">h</span><span class="op" id="4345938">.</span><span class="ident" id="4345939">buf</span><span class="op" id="4345942">[</span><span class="num" id="4345943">3</span><span class="op" id="4345944">]</span>&nbsp;<span class="op" id="4345946">=</span>&nbsp;<span class="string" id="4345948">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345955">h</span><span class="op" id="4345956">.</span><span class="ident" id="4345957">buf</span><span class="op" id="4345960">[</span><span class="num" id="4345961">4</span><span class="op" id="4345962">]</span>&nbsp;<span class="op" id="4345964">=</span>&nbsp;<span class="string" id="4345966">&#39;|&#39;</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345973">l</span>&nbsp;<span class="op" id="4345975">=</span>&nbsp;<span class="num" id="4345977">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4345981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4345985">_</span><span class="op" id="4345986">,</span>&nbsp;<span class="ident" id="4345988">err</span>&nbsp;<span class="op" id="4345992">=</span>&nbsp;<span class="ident" id="4345994">h</span><span class="op" id="4345995">.</span><span class="ident" id="4345996">w</span><span class="op" id="4345997">.</span><span class="ident" id="4345998">Write</span><span class="op" id="4346003">(</span><span class="ident" id="4346004">h</span><span class="op" id="4346005">.</span><span class="ident" id="4346006">buf</span><span class="op" id="4346009">[</span><span class="op" id="4346010">:</span><span class="ident" id="4346011">l</span><span class="op" id="4346012">]</span><span class="op" id="4346013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346017">if</span>&nbsp;<span class="ident" id="4346020">err</span>&nbsp;<span class="op" id="4346024">!=</span>&nbsp;<span class="ident" id="4346027">nil</span>&nbsp;<span class="op" id="4346031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346036">return</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346049">n</span><span class="op" id="4346050">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346055">h</span><span class="op" id="4346056">.</span><span class="ident" id="4346057">rightChars</span><span class="op" id="4346067">[</span><span class="ident" id="4346068">h</span><span class="op" id="4346069">.</span><span class="ident" id="4346070">used</span><span class="op" id="4346074">]</span>&nbsp;<span class="op" id="4346076">=</span>&nbsp;<span class="ident" id="4346078">toChar</span><span class="op" id="4346084">(</span><span class="ident" id="4346085">data</span><span class="op" id="4346089">[</span><span class="ident" id="4346090">i</span><span class="op" id="4346091">]</span><span class="op" id="4346092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346096">h</span><span class="op" id="4346097">.</span><span class="ident" id="4346098">used</span><span class="op" id="4346102">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346107">h</span><span class="op" id="4346108">.</span><span class="ident" id="4346109">n</span><span class="op" id="4346110">++</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346115">if</span>&nbsp;<span class="ident" id="4346118">h</span><span class="op" id="4346119">.</span><span class="ident" id="4346120">used</span>&nbsp;<span class="op" id="4346125">==</span>&nbsp;<span class="num" id="4346128">16</span>&nbsp;<span class="op" id="4346131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346136">h</span><span class="op" id="4346137">.</span><span class="ident" id="4346138">rightChars</span><span class="op" id="4346148">[</span><span class="num" id="4346149">16</span><span class="op" id="4346151">]</span>&nbsp;<span class="op" id="4346153">=</span>&nbsp;<span class="string" id="4346155">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346162">h</span><span class="op" id="4346163">.</span><span class="ident" id="4346164">rightChars</span><span class="op" id="4346174">[</span><span class="num" id="4346175">17</span><span class="op" id="4346177">]</span>&nbsp;<span class="op" id="4346179">=</span>&nbsp;<span class="string" id="4346181">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346189">_</span><span class="op" id="4346190">,</span>&nbsp;<span class="ident" id="4346192">err</span>&nbsp;<span class="op" id="4346196">=</span>&nbsp;<span class="ident" id="4346198">h</span><span class="op" id="4346199">.</span><span class="ident" id="4346200">w</span><span class="op" id="4346201">.</span><span class="ident" id="4346202">Write</span><span class="op" id="4346207">(</span><span class="ident" id="4346208">h</span><span class="op" id="4346209">.</span><span class="ident" id="4346210">rightChars</span><span class="op" id="4346220">[</span><span class="op" id="4346221">:</span><span class="op" id="4346222">]</span><span class="op" id="4346223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346228">if</span>&nbsp;<span class="ident" id="4346231">err</span>&nbsp;<span class="op" id="4346235">!=</span>&nbsp;<span class="ident" id="4346238">nil</span>&nbsp;<span class="op" id="4346242">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346248">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346263">h</span><span class="op" id="4346264">.</span><span class="ident" id="4346265">used</span>&nbsp;<span class="op" id="4346270">=</span>&nbsp;<span class="num" id="4346272">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346279">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346282">return</span><br>
<span class="lineno"></span><span class="op" id="4346289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4346292">func</span>&nbsp;<span class="op" id="4346297">(</span><span class="ident" id="4346298">h</span>&nbsp;<span class="op" id="4346300">*</span><span class="ident" id="4346301">dumper</span><span class="op" id="4346307">)</span>&nbsp;<span class="ident" id="4346309">Close</span><span class="op" id="4346314">(</span><span class="op" id="4346315">)</span>&nbsp;<span class="op" id="4346317">(</span><span class="ident" id="4346318">err</span>&nbsp;<span class="builtintype" id="4346322">error</span><span class="op" id="4346327">)</span>&nbsp;<span class="op" id="4346329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4346332">//&nbsp;See&nbsp;the&nbsp;comments&nbsp;in&nbsp;Write()&nbsp;for&nbsp;the&nbsp;details&nbsp;of&nbsp;this&nbsp;format.</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346396">if</span>&nbsp;<span class="ident" id="4346399">h</span><span class="op" id="4346400">.</span><span class="ident" id="4346401">used</span>&nbsp;<span class="op" id="4346406">==</span>&nbsp;<span class="num" id="4346409">0</span>&nbsp;<span class="op" id="4346411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346415">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346423">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346426">h</span><span class="op" id="4346427">.</span><span class="ident" id="4346428">buf</span><span class="op" id="4346431">[</span><span class="num" id="4346432">0</span><span class="op" id="4346433">]</span>&nbsp;<span class="op" id="4346435">=</span>&nbsp;<span class="string" id="4346437">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346442">h</span><span class="op" id="4346443">.</span><span class="ident" id="4346444">buf</span><span class="op" id="4346447">[</span><span class="num" id="4346448">1</span><span class="op" id="4346449">]</span>&nbsp;<span class="op" id="4346451">=</span>&nbsp;<span class="string" id="4346453">&#39;&nbsp;&#39;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346458">h</span><span class="op" id="4346459">.</span><span class="ident" id="4346460">buf</span><span class="op" id="4346463">[</span><span class="num" id="4346464">2</span><span class="op" id="4346465">]</span>&nbsp;<span class="op" id="4346467">=</span>&nbsp;<span class="string" id="4346469">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346474">h</span><span class="op" id="4346475">.</span><span class="ident" id="4346476">buf</span><span class="op" id="4346479">[</span><span class="num" id="4346480">3</span><span class="op" id="4346481">]</span>&nbsp;<span class="op" id="4346483">=</span>&nbsp;<span class="string" id="4346485">&#39;&nbsp;&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346490">h</span><span class="op" id="4346491">.</span><span class="ident" id="4346492">buf</span><span class="op" id="4346495">[</span><span class="num" id="4346496">4</span><span class="op" id="4346497">]</span>&nbsp;<span class="op" id="4346499">=</span>&nbsp;<span class="string" id="4346501">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346506">nBytes</span>&nbsp;<span class="op" id="4346513">:=</span>&nbsp;<span class="ident" id="4346516">h</span><span class="op" id="4346517">.</span><span class="ident" id="4346518">used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346524">for</span>&nbsp;<span class="ident" id="4346528">h</span><span class="op" id="4346529">.</span><span class="ident" id="4346530">used</span>&nbsp;<span class="op" id="4346535">&lt;</span>&nbsp;<span class="num" id="4346537">16</span>&nbsp;<span class="op" id="4346540">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346544">l</span>&nbsp;<span class="op" id="4346546">:=</span>&nbsp;<span class="num" id="4346549">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346553">if</span>&nbsp;<span class="ident" id="4346556">h</span><span class="op" id="4346557">.</span><span class="ident" id="4346558">used</span>&nbsp;<span class="op" id="4346563">==</span>&nbsp;<span class="num" id="4346566">7</span>&nbsp;<span class="op" id="4346568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346573">l</span>&nbsp;<span class="op" id="4346575">=</span>&nbsp;<span class="num" id="4346577">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346581">}</span>&nbsp;<span class="keyword" id="4346583">else</span>&nbsp;<span class="keyword" id="4346588">if</span>&nbsp;<span class="ident" id="4346591">h</span><span class="op" id="4346592">.</span><span class="ident" id="4346593">used</span>&nbsp;<span class="op" id="4346598">==</span>&nbsp;<span class="num" id="4346601">15</span>&nbsp;<span class="op" id="4346604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346609">l</span>&nbsp;<span class="op" id="4346611">=</span>&nbsp;<span class="num" id="4346613">5</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346621">_</span><span class="op" id="4346622">,</span>&nbsp;<span class="ident" id="4346624">err</span>&nbsp;<span class="op" id="4346628">=</span>&nbsp;<span class="ident" id="4346630">h</span><span class="op" id="4346631">.</span><span class="ident" id="4346632">w</span><span class="op" id="4346633">.</span><span class="ident" id="4346634">Write</span><span class="op" id="4346639">(</span><span class="ident" id="4346640">h</span><span class="op" id="4346641">.</span><span class="ident" id="4346642">buf</span><span class="op" id="4346645">[</span><span class="op" id="4346646">:</span><span class="ident" id="4346647">l</span><span class="op" id="4346648">]</span><span class="op" id="4346649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346653">if</span>&nbsp;<span class="ident" id="4346656">err</span>&nbsp;<span class="op" id="4346660">!=</span>&nbsp;<span class="ident" id="4346663">nil</span>&nbsp;<span class="op" id="4346667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346672">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346681">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346685">h</span><span class="op" id="4346686">.</span><span class="ident" id="4346687">used</span><span class="op" id="4346691">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4346695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346698">h</span><span class="op" id="4346699">.</span><span class="ident" id="4346700">rightChars</span><span class="op" id="4346710">[</span><span class="ident" id="4346711">nBytes</span><span class="op" id="4346717">]</span>&nbsp;<span class="op" id="4346719">=</span>&nbsp;<span class="string" id="4346721">&#39;|&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346726">h</span><span class="op" id="4346727">.</span><span class="ident" id="4346728">rightChars</span><span class="op" id="4346738">[</span><span class="ident" id="4346739">nBytes</span><span class="op" id="4346745">+</span><span class="num" id="4346746">1</span><span class="op" id="4346747">]</span>&nbsp;<span class="op" id="4346749">=</span>&nbsp;<span class="string" id="4346751">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4346757">_</span><span class="op" id="4346758">,</span>&nbsp;<span class="ident" id="4346760">err</span>&nbsp;<span class="op" id="4346764">=</span>&nbsp;<span class="ident" id="4346766">h</span><span class="op" id="4346767">.</span><span class="ident" id="4346768">w</span><span class="op" id="4346769">.</span><span class="ident" id="4346770">Write</span><span class="op" id="4346775">(</span><span class="ident" id="4346776">h</span><span class="op" id="4346777">.</span><span class="ident" id="4346778">rightChars</span><span class="op" id="4346788">[</span><span class="op" id="4346789">:</span><span class="ident" id="4346790">nBytes</span><span class="op" id="4346796">+</span><span class="num" id="4346797">2</span><span class="op" id="4346798">]</span><span class="op" id="4346799">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4346802">return</span><br>
<span class="lineno"></span><span class="op" id="4346809">}</span>
</div>
</body>
</html>
