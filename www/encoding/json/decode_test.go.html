<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8597244">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8597299">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8597353">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8597404">package</span>&nbsp;<span class="ident" id="8597412">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8597418">import</span>&nbsp;<span class="op" id="8597425">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597428">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597437">&#34;encoding&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597449">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597456">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597465">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597476">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597487">&#34;testing&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597498">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8597505">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8597508">type</span>&nbsp;<span class="ident" id="8597513">T</span>&nbsp;<span class="keyword" id="8597515">struct</span>&nbsp;<span class="op" id="8597522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597525">X</span>&nbsp;<span class="builtintype" id="8597527">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597535">Y</span>&nbsp;<span class="builtintype" id="8597537">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597542">Z</span>&nbsp;<span class="builtintype" id="8597544">int</span>&nbsp;<span class="string" id="8597548">`json:&#34;-&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8597559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8597562">type</span>&nbsp;<span class="ident" id="8597567">U</span>&nbsp;<span class="keyword" id="8597569">struct</span>&nbsp;<span class="op" id="8597576">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597579">Alphabet</span>&nbsp;<span class="builtintype" id="8597588">string</span>&nbsp;<span class="string" id="8597595">`json:&#34;alpha&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8597610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8597613">type</span>&nbsp;<span class="ident" id="8597618">V</span>&nbsp;<span class="keyword" id="8597620">struct</span>&nbsp;<span class="op" id="8597627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597630">F1</span>&nbsp;<span class="keyword" id="8597633">interface</span><span class="op" id="8597642">{</span><span class="op" id="8597643">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597646">F2</span>&nbsp;<span class="builtintype" id="8597649">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8597656">F3</span>&nbsp;<span class="ident" id="8597659">Number</span><br>
<span class="lineno"></span><span class="op" id="8597666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8597669">//&nbsp;ifaceNumAsFloat64/ifaceNumAsNumber&nbsp;are&nbsp;used&nbsp;to&nbsp;test&nbsp;unmarshaling&nbsp;with&nbsp;and</span><br>
<span class="lineno">35</span><span class="comment" id="8597746">//&nbsp;without&nbsp;UseNumber</span><br>
<span class="lineno"></span><span class="keyword" id="8597767">var</span>&nbsp;<span class="ident" id="8597771">ifaceNumAsFloat64</span>&nbsp;<span class="op" id="8597789">=</span>&nbsp;<span class="keyword" id="8597791">map</span><span class="op" id="8597794">[</span><span class="builtintype" id="8597795">string</span><span class="op" id="8597801">]</span><span class="keyword" id="8597802">interface</span><span class="op" id="8597811">{</span><span class="op" id="8597812">}</span><span class="op" id="8597813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597816">&#34;k1&#34;</span><span class="op" id="8597820">:</span>&nbsp;<span class="builtintype" id="8597822">float64</span><span class="op" id="8597829">(</span><span class="num" id="8597830">1</span><span class="op" id="8597831">)</span><span class="op" id="8597832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597835">&#34;k2&#34;</span><span class="op" id="8597839">:</span>&nbsp;<span class="string" id="8597841">&#34;s&#34;</span><span class="op" id="8597844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597847">&#34;k3&#34;</span><span class="op" id="8597851">:</span>&nbsp;<span class="op" id="8597853">[</span><span class="op" id="8597854">]</span><span class="keyword" id="8597855">interface</span><span class="op" id="8597864">{</span><span class="op" id="8597865">}</span><span class="op" id="8597866">{</span><span class="builtintype" id="8597867">float64</span><span class="op" id="8597874">(</span><span class="num" id="8597875">1</span><span class="op" id="8597876">)</span><span class="op" id="8597877">,</span>&nbsp;<span class="builtintype" id="8597879">float64</span><span class="op" id="8597886">(</span><span class="num" id="8597887">2.0</span><span class="op" id="8597890">)</span><span class="op" id="8597891">,</span>&nbsp;<span class="builtintype" id="8597893">float64</span><span class="op" id="8597900">(</span><span class="num" id="8597901">3e-3</span><span class="op" id="8597905">)</span><span class="op" id="8597906">}</span><span class="op" id="8597907">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8597910">&#34;k4&#34;</span><span class="op" id="8597914">:</span>&nbsp;<span class="keyword" id="8597916">map</span><span class="op" id="8597919">[</span><span class="builtintype" id="8597920">string</span><span class="op" id="8597926">]</span><span class="keyword" id="8597927">interface</span><span class="op" id="8597936">{</span><span class="op" id="8597937">}</span><span class="op" id="8597938">{</span><span class="string" id="8597939">&#34;kk1&#34;</span><span class="op" id="8597944">:</span>&nbsp;<span class="string" id="8597946">&#34;s&#34;</span><span class="op" id="8597949">,</span>&nbsp;<span class="string" id="8597951">&#34;kk2&#34;</span><span class="op" id="8597956">:</span>&nbsp;<span class="builtintype" id="8597958">float64</span><span class="op" id="8597965">(</span><span class="num" id="8597966">2</span><span class="op" id="8597967">)</span><span class="op" id="8597968">}</span><span class="op" id="8597969">,</span><br>
<span class="lineno"></span><span class="op" id="8597971">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8597974">var</span>&nbsp;<span class="ident" id="8597978">ifaceNumAsNumber</span>&nbsp;<span class="op" id="8597995">=</span>&nbsp;<span class="keyword" id="8597997">map</span><span class="op" id="8598000">[</span><span class="builtintype" id="8598001">string</span><span class="op" id="8598007">]</span><span class="keyword" id="8598008">interface</span><span class="op" id="8598017">{</span><span class="op" id="8598018">}</span><span class="op" id="8598019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8598022">&#34;k1&#34;</span><span class="op" id="8598026">:</span>&nbsp;<span class="ident" id="8598028">Number</span><span class="op" id="8598034">(</span><span class="string" id="8598035">&#34;1&#34;</span><span class="op" id="8598038">)</span><span class="op" id="8598039">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8598042">&#34;k2&#34;</span><span class="op" id="8598046">:</span>&nbsp;<span class="string" id="8598048">&#34;s&#34;</span><span class="op" id="8598051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8598054">&#34;k3&#34;</span><span class="op" id="8598058">:</span>&nbsp;<span class="op" id="8598060">[</span><span class="op" id="8598061">]</span><span class="keyword" id="8598062">interface</span><span class="op" id="8598071">{</span><span class="op" id="8598072">}</span><span class="op" id="8598073">{</span><span class="ident" id="8598074">Number</span><span class="op" id="8598080">(</span><span class="string" id="8598081">&#34;1&#34;</span><span class="op" id="8598084">)</span><span class="op" id="8598085">,</span>&nbsp;<span class="ident" id="8598087">Number</span><span class="op" id="8598093">(</span><span class="string" id="8598094">&#34;2.0&#34;</span><span class="op" id="8598099">)</span><span class="op" id="8598100">,</span>&nbsp;<span class="ident" id="8598102">Number</span><span class="op" id="8598108">(</span><span class="string" id="8598109">&#34;3e-3&#34;</span><span class="op" id="8598115">)</span><span class="op" id="8598116">}</span><span class="op" id="8598117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8598120">&#34;k4&#34;</span><span class="op" id="8598124">:</span>&nbsp;<span class="keyword" id="8598126">map</span><span class="op" id="8598129">[</span><span class="builtintype" id="8598130">string</span><span class="op" id="8598136">]</span><span class="keyword" id="8598137">interface</span><span class="op" id="8598146">{</span><span class="op" id="8598147">}</span><span class="op" id="8598148">{</span><span class="string" id="8598149">&#34;kk1&#34;</span><span class="op" id="8598154">:</span>&nbsp;<span class="string" id="8598156">&#34;s&#34;</span><span class="op" id="8598159">,</span>&nbsp;<span class="string" id="8598161">&#34;kk2&#34;</span><span class="op" id="8598166">:</span>&nbsp;<span class="ident" id="8598168">Number</span><span class="op" id="8598174">(</span><span class="string" id="8598175">&#34;2&#34;</span><span class="op" id="8598178">)</span><span class="op" id="8598179">}</span><span class="op" id="8598180">,</span><br>
<span class="lineno"></span><span class="op" id="8598182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="8598185">type</span>&nbsp;<span class="ident" id="8598190">tx</span>&nbsp;<span class="keyword" id="8598193">struct</span>&nbsp;<span class="op" id="8598200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598203">x</span>&nbsp;<span class="builtintype" id="8598205">int</span><br>
<span class="lineno"></span><span class="op" id="8598209">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8598212">//&nbsp;A&nbsp;type&nbsp;that&nbsp;can&nbsp;unmarshal&nbsp;itself.</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="8598250">type</span>&nbsp;<span class="ident" id="8598255">unmarshaler</span>&nbsp;<span class="keyword" id="8598267">struct</span>&nbsp;<span class="op" id="8598274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598277">T</span>&nbsp;<span class="builtintype" id="8598279">bool</span><br>
<span class="lineno"></span><span class="op" id="8598284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8598287">func</span>&nbsp;<span class="op" id="8598292">(</span><span class="ident" id="8598293">u</span>&nbsp;<span class="op" id="8598295">*</span><span class="ident" id="8598296">unmarshaler</span><span class="op" id="8598307">)</span>&nbsp;<span class="ident" id="8598309">UnmarshalJSON</span><span class="op" id="8598322">(</span><span class="ident" id="8598323">b</span>&nbsp;<span class="op" id="8598325">[</span><span class="op" id="8598326">]</span><span class="builtintype" id="8598327">byte</span><span class="op" id="8598331">)</span>&nbsp;<span class="builtintype" id="8598333">error</span>&nbsp;<span class="op" id="8598339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598342">*</span><span class="ident" id="8598343">u</span>&nbsp;<span class="op" id="8598345">=</span>&nbsp;<span class="ident" id="8598347">unmarshaler</span><span class="op" id="8598358">{</span><span class="ident" id="8598359">true</span><span class="op" id="8598363">}</span>&nbsp;<span class="comment" id="8598365">//&nbsp;All&nbsp;we&nbsp;need&nbsp;to&nbsp;see&nbsp;that&nbsp;UnmarshalJSON&nbsp;is&nbsp;called.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598418">return</span>&nbsp;<span class="ident" id="8598425">nil</span><br>
<span class="lineno"></span><span class="op" id="8598429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="8598432">type</span>&nbsp;<span class="ident" id="8598437">ustruct</span>&nbsp;<span class="keyword" id="8598445">struct</span>&nbsp;<span class="op" id="8598452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598455">M</span>&nbsp;<span class="ident" id="8598457">unmarshaler</span><br>
<span class="lineno"></span><span class="op" id="8598469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8598472">type</span>&nbsp;<span class="ident" id="8598477">unmarshalerText</span>&nbsp;<span class="keyword" id="8598493">struct</span>&nbsp;<span class="op" id="8598500">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598503">T</span>&nbsp;<span class="builtintype" id="8598505">bool</span><br>
<span class="lineno"></span><span class="op" id="8598510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8598513">//&nbsp;needed&nbsp;for&nbsp;re-marshaling&nbsp;tests</span><br>
<span class="lineno"></span><span class="keyword" id="8598547">func</span>&nbsp;<span class="op" id="8598552">(</span><span class="ident" id="8598553">u</span>&nbsp;<span class="op" id="8598555">*</span><span class="ident" id="8598556">unmarshalerText</span><span class="op" id="8598571">)</span>&nbsp;<span class="ident" id="8598573">MarshalText</span><span class="op" id="8598584">(</span><span class="op" id="8598585">)</span>&nbsp;<span class="op" id="8598587">(</span><span class="op" id="8598588">[</span><span class="op" id="8598589">]</span><span class="builtintype" id="8598590">byte</span><span class="op" id="8598594">,</span>&nbsp;<span class="builtintype" id="8598596">error</span><span class="op" id="8598601">)</span>&nbsp;<span class="op" id="8598603">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598606">return</span>&nbsp;<span class="op" id="8598613">[</span><span class="op" id="8598614">]</span><span class="builtintype" id="8598615">byte</span><span class="op" id="8598619">(</span><span class="string" id="8598620">&#34;&#34;</span><span class="op" id="8598622">)</span><span class="op" id="8598623">,</span>&nbsp;<span class="ident" id="8598625">nil</span><br>
<span class="lineno"></span><span class="op" id="8598629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8598632">func</span>&nbsp;<span class="op" id="8598637">(</span><span class="ident" id="8598638">u</span>&nbsp;<span class="op" id="8598640">*</span><span class="ident" id="8598641">unmarshalerText</span><span class="op" id="8598656">)</span>&nbsp;<span class="ident" id="8598658">UnmarshalText</span><span class="op" id="8598671">(</span><span class="ident" id="8598672">b</span>&nbsp;<span class="op" id="8598674">[</span><span class="op" id="8598675">]</span><span class="builtintype" id="8598676">byte</span><span class="op" id="8598680">)</span>&nbsp;<span class="builtintype" id="8598682">error</span>&nbsp;<span class="op" id="8598688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8598691">*</span><span class="ident" id="8598692">u</span>&nbsp;<span class="op" id="8598694">=</span>&nbsp;<span class="ident" id="8598696">unmarshalerText</span><span class="op" id="8598711">{</span><span class="ident" id="8598712">true</span><span class="op" id="8598716">}</span>&nbsp;<span class="comment" id="8598718">//&nbsp;All&nbsp;we&nbsp;need&nbsp;to&nbsp;see&nbsp;that&nbsp;UnmarshalText&nbsp;is&nbsp;called.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8598771">return</span>&nbsp;<span class="ident" id="8598778">nil</span><br>
<span class="lineno"></span><span class="op" id="8598782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8598785">var</span>&nbsp;<span class="ident" id="8598789">_</span>&nbsp;<span class="ident" id="8598791">encoding</span><span class="op" id="8598799">.</span><span class="ident" id="8598800">TextUnmarshaler</span>&nbsp;<span class="op" id="8598816">=</span>&nbsp;<span class="op" id="8598818">(</span><span class="op" id="8598819">*</span><span class="ident" id="8598820">unmarshalerText</span><span class="op" id="8598835">)</span><span class="op" id="8598836">(</span><span class="ident" id="8598837">nil</span><span class="op" id="8598840">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8598843">type</span>&nbsp;<span class="ident" id="8598848">ustructText</span>&nbsp;<span class="keyword" id="8598860">struct</span>&nbsp;<span class="op" id="8598867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598870">M</span>&nbsp;<span class="ident" id="8598872">unmarshalerText</span><br>
<span class="lineno"></span><span class="op" id="8598888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8598891">var</span>&nbsp;<span class="op" id="8598895">(</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598898">um0</span><span class="op" id="8598901">,</span>&nbsp;<span class="ident" id="8598903">um1</span>&nbsp;<span class="ident" id="8598907">unmarshaler</span>&nbsp;<span class="comment" id="8598919">//&nbsp;target2&nbsp;of&nbsp;unmarshaling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598947">ump</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8598956">=</span>&nbsp;<span class="op" id="8598958">&amp;</span><span class="ident" id="8598959">um1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598964">umtrue</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8598973">=</span>&nbsp;<span class="ident" id="8598975">unmarshaler</span><span class="op" id="8598986">{</span><span class="ident" id="8598987">true</span><span class="op" id="8598991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8598994">umslice</span>&nbsp;&nbsp;<span class="op" id="8599003">=</span>&nbsp;<span class="op" id="8599005">[</span><span class="op" id="8599006">]</span><span class="ident" id="8599007">unmarshaler</span><span class="op" id="8599018">{</span><span class="op" id="8599019">{</span><span class="ident" id="8599020">true</span><span class="op" id="8599024">}</span><span class="op" id="8599025">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599028">umslicep</span>&nbsp;<span class="op" id="8599037">=</span>&nbsp;<span class="builtinfunc" id="8599039">new</span><span class="op" id="8599042">(</span><span class="op" id="8599043">[</span><span class="op" id="8599044">]</span><span class="ident" id="8599045">unmarshaler</span><span class="op" id="8599056">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599059">umstruct</span>&nbsp;<span class="op" id="8599068">=</span>&nbsp;<span class="ident" id="8599070">ustruct</span><span class="op" id="8599077">{</span><span class="ident" id="8599078">unmarshaler</span><span class="op" id="8599089">{</span><span class="ident" id="8599090">true</span><span class="op" id="8599094">}</span><span class="op" id="8599095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599099">um0T</span><span class="op" id="8599103">,</span>&nbsp;<span class="ident" id="8599105">um1T</span>&nbsp;<span class="ident" id="8599110">unmarshalerText</span>&nbsp;<span class="comment" id="8599126">//&nbsp;target2&nbsp;of&nbsp;unmarshaling</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599154">umpT</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8599165">=</span>&nbsp;<span class="op" id="8599167">&amp;</span><span class="ident" id="8599168">um1T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599174">umtrueT</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8599185">=</span>&nbsp;<span class="ident" id="8599187">unmarshalerText</span><span class="op" id="8599202">{</span><span class="ident" id="8599203">true</span><span class="op" id="8599207">}</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599210">umsliceT</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8599221">=</span>&nbsp;<span class="op" id="8599223">[</span><span class="op" id="8599224">]</span><span class="ident" id="8599225">unmarshalerText</span><span class="op" id="8599240">{</span><span class="op" id="8599241">{</span><span class="ident" id="8599242">true</span><span class="op" id="8599246">}</span><span class="op" id="8599247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599250">umslicepT</span>&nbsp;&nbsp;<span class="op" id="8599261">=</span>&nbsp;<span class="builtinfunc" id="8599263">new</span><span class="op" id="8599266">(</span><span class="op" id="8599267">[</span><span class="op" id="8599268">]</span><span class="ident" id="8599269">unmarshalerText</span><span class="op" id="8599284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599287">umstructT</span>&nbsp;&nbsp;<span class="op" id="8599298">=</span>&nbsp;<span class="ident" id="8599300">ustructText</span><span class="op" id="8599311">{</span><span class="ident" id="8599312">unmarshalerText</span><span class="op" id="8599327">{</span><span class="ident" id="8599328">true</span><span class="op" id="8599332">}</span><span class="op" id="8599333">}</span><br>
<span class="lineno"></span><span class="op" id="8599335">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="8599338">//&nbsp;Test&nbsp;data&nbsp;structures&nbsp;for&nbsp;anonymous&nbsp;fields.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8599385">type</span>&nbsp;<span class="ident" id="8599390">Point</span>&nbsp;<span class="keyword" id="8599396">struct</span>&nbsp;<span class="op" id="8599403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599406">Z</span>&nbsp;<span class="builtintype" id="8599408">int</span><br>
<span class="lineno"></span><span class="op" id="8599412">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="8599415">type</span>&nbsp;<span class="ident" id="8599420">Top</span>&nbsp;<span class="keyword" id="8599424">struct</span>&nbsp;<span class="op" id="8599431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599434">Level0</span>&nbsp;<span class="builtintype" id="8599441">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599446">Embed0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599454">*</span><span class="ident" id="8599455">Embed0a</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8599464">*</span><span class="ident" id="8599465">Embed0b</span>&nbsp;<span class="string" id="8599473">`json:&#34;e,omitempty&#34;`</span>&nbsp;<span class="comment" id="8599494">//&nbsp;treated&nbsp;as&nbsp;named</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599515">Embed0c</span>&nbsp;&nbsp;<span class="string" id="8599524">`json:&#34;-&#34;`</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8599545">//&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599557">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599563">Embed0p</span>&nbsp;<span class="comment" id="8599571">//&nbsp;has&nbsp;Point&nbsp;with&nbsp;X,&nbsp;Y,&nbsp;used</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599601">Embed0q</span>&nbsp;<span class="comment" id="8599609">//&nbsp;has&nbsp;Point&nbsp;with&nbsp;Z,&nbsp;used</span><br>
<span class="lineno">120</span><span class="op" id="8599635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8599638">type</span>&nbsp;<span class="ident" id="8599643">Embed0</span>&nbsp;<span class="keyword" id="8599650">struct</span>&nbsp;<span class="op" id="8599657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599660">Level1a</span>&nbsp;<span class="builtintype" id="8599668">int</span>&nbsp;<span class="comment" id="8599672">//&nbsp;overridden&nbsp;by&nbsp;Embed0a&#39;s&nbsp;Level1a&nbsp;with&nbsp;json&nbsp;tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599722">Level1b</span>&nbsp;<span class="builtintype" id="8599730">int</span>&nbsp;<span class="comment" id="8599734">//&nbsp;used&nbsp;because&nbsp;Embed0a&#39;s&nbsp;Level1b&nbsp;is&nbsp;renamed</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599780">Level1c</span>&nbsp;<span class="builtintype" id="8599788">int</span>&nbsp;<span class="comment" id="8599792">//&nbsp;used&nbsp;because&nbsp;Embed0a&#39;s&nbsp;Level1c&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599838">Level1d</span>&nbsp;<span class="builtintype" id="8599846">int</span>&nbsp;<span class="comment" id="8599850">//&nbsp;annihilated&nbsp;by&nbsp;Embed0a&#39;s&nbsp;Level1d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599887">Level1e</span>&nbsp;<span class="builtintype" id="8599895">int</span>&nbsp;<span class="string" id="8599899">`json:&#34;x&#34;`</span>&nbsp;<span class="comment" id="8599910">//&nbsp;annihilated&nbsp;by&nbsp;Embed0a.Level1e</span><br>
<span class="lineno"></span><span class="op" id="8599944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="keyword" id="8599947">type</span>&nbsp;<span class="ident" id="8599952">Embed0a</span>&nbsp;<span class="keyword" id="8599960">struct</span>&nbsp;<span class="op" id="8599967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8599970">Level1a</span>&nbsp;<span class="builtintype" id="8599978">int</span>&nbsp;<span class="string" id="8599982">`json:&#34;Level1a,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600010">Level1b</span>&nbsp;<span class="builtintype" id="8600018">int</span>&nbsp;<span class="string" id="8600022">`json:&#34;LEVEL1B,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600050">Level1c</span>&nbsp;<span class="builtintype" id="8600058">int</span>&nbsp;<span class="string" id="8600062">`json:&#34;-&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600074">Level1d</span>&nbsp;<span class="builtintype" id="8600082">int</span>&nbsp;<span class="comment" id="8600086">//&nbsp;annihilated&nbsp;by&nbsp;Embed0&#39;s&nbsp;Level1d</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600122">Level1f</span>&nbsp;<span class="builtintype" id="8600130">int</span>&nbsp;<span class="string" id="8600134">`json:&#34;x&#34;`</span>&nbsp;<span class="comment" id="8600145">//&nbsp;annihilated&nbsp;by&nbsp;Embed0&#39;s&nbsp;Level1e</span><br>
<span class="lineno"></span><span class="op" id="8600180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600183">type</span>&nbsp;<span class="ident" id="8600188">Embed0b</span>&nbsp;<span class="ident" id="8600196">Embed0</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="8600204">type</span>&nbsp;<span class="ident" id="8600209">Embed0c</span>&nbsp;<span class="ident" id="8600217">Embed0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600225">type</span>&nbsp;<span class="ident" id="8600230">Embed0p</span>&nbsp;<span class="keyword" id="8600238">struct</span>&nbsp;<span class="op" id="8600245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600248">image</span><span class="op" id="8600253">.</span><span class="ident" id="8600254">Point</span><br>
<span class="lineno"></span><span class="op" id="8600260">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="keyword" id="8600263">type</span>&nbsp;<span class="ident" id="8600268">Embed0q</span>&nbsp;<span class="keyword" id="8600276">struct</span>&nbsp;<span class="op" id="8600283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600286">Point</span><br>
<span class="lineno"></span><span class="op" id="8600292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="8600295">type</span>&nbsp;<span class="ident" id="8600300">Loop</span>&nbsp;<span class="keyword" id="8600305">struct</span>&nbsp;<span class="op" id="8600312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600315">Loop1</span>&nbsp;<span class="builtintype" id="8600321">int</span>&nbsp;<span class="string" id="8600325">`json:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600346">Loop2</span>&nbsp;<span class="builtintype" id="8600352">int</span>&nbsp;<span class="string" id="8600356">`json:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8600377">*</span><span class="ident" id="8600378">Loop</span><br>
<span class="lineno"></span><span class="op" id="8600383">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="8600386">//&nbsp;From&nbsp;reflect&nbsp;test:</span><br>
<span class="lineno"></span><span class="comment" id="8600408">//&nbsp;The&nbsp;X&nbsp;in&nbsp;S6&nbsp;and&nbsp;S7&nbsp;annihilate,&nbsp;but&nbsp;they&nbsp;also&nbsp;block&nbsp;the&nbsp;X&nbsp;in&nbsp;S8.S9.</span><br>
<span class="lineno"></span><span class="keyword" id="8600478">type</span>&nbsp;<span class="ident" id="8600483">S5</span>&nbsp;<span class="keyword" id="8600486">struct</span>&nbsp;<span class="op" id="8600493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600496">S6</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600500">S7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600504">S8</span><br>
<span class="lineno"></span><span class="op" id="8600507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600510">type</span>&nbsp;<span class="ident" id="8600515">S6</span>&nbsp;<span class="keyword" id="8600518">struct</span>&nbsp;<span class="op" id="8600525">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600528">X</span>&nbsp;<span class="builtintype" id="8600530">int</span><br>
<span class="lineno"></span><span class="op" id="8600534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600537">type</span>&nbsp;<span class="ident" id="8600542">S7</span>&nbsp;<span class="ident" id="8600545">S6</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="8600549">type</span>&nbsp;<span class="ident" id="8600554">S8</span>&nbsp;<span class="keyword" id="8600557">struct</span>&nbsp;<span class="op" id="8600564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600567">S9</span><br>
<span class="lineno"></span><span class="op" id="8600570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600573">type</span>&nbsp;<span class="ident" id="8600578">S9</span>&nbsp;<span class="keyword" id="8600581">struct</span>&nbsp;<span class="op" id="8600588">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600591">X</span>&nbsp;<span class="builtintype" id="8600593">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600598">Y</span>&nbsp;<span class="builtintype" id="8600600">int</span><br>
<span class="lineno"></span><span class="op" id="8600604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8600607">//&nbsp;From&nbsp;reflect&nbsp;test:</span><br>
<span class="lineno">180</span><span class="comment" id="8600629">//&nbsp;The&nbsp;X&nbsp;in&nbsp;S11.S6&nbsp;and&nbsp;S12.S6&nbsp;annihilate,&nbsp;but&nbsp;they&nbsp;also&nbsp;block&nbsp;the&nbsp;X&nbsp;in&nbsp;S13.S8.S9.</span><br>
<span class="lineno"></span><span class="keyword" id="8600711">type</span>&nbsp;<span class="ident" id="8600716">S10</span>&nbsp;<span class="keyword" id="8600720">struct</span>&nbsp;<span class="op" id="8600727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600730">S11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600735">S12</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600740">S13</span><br>
<span class="lineno">185</span><span class="op" id="8600744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600747">type</span>&nbsp;<span class="ident" id="8600752">S11</span>&nbsp;<span class="keyword" id="8600756">struct</span>&nbsp;<span class="op" id="8600763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600766">S6</span><br>
<span class="lineno"></span><span class="op" id="8600769">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="keyword" id="8600772">type</span>&nbsp;<span class="ident" id="8600777">S12</span>&nbsp;<span class="keyword" id="8600781">struct</span>&nbsp;<span class="op" id="8600788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600791">S6</span><br>
<span class="lineno"></span><span class="op" id="8600794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="8600797">type</span>&nbsp;<span class="ident" id="8600802">S13</span>&nbsp;<span class="keyword" id="8600806">struct</span>&nbsp;<span class="op" id="8600813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600816">S8</span><br>
<span class="lineno"></span><span class="op" id="8600819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600822">type</span>&nbsp;<span class="ident" id="8600827">unmarshalTest</span>&nbsp;<span class="keyword" id="8600841">struct</span>&nbsp;<span class="op" id="8600848">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600851">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8600861">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600869">ptr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8600879">interface</span><span class="op" id="8600888">{</span><span class="op" id="8600889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600892">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8600902">interface</span><span class="op" id="8600911">{</span><span class="op" id="8600912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600915">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8600925">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8600932">useNumber</span>&nbsp;<span class="builtintype" id="8600942">bool</span><br>
<span class="lineno">205</span><span class="op" id="8600947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8600950">type</span>&nbsp;<span class="ident" id="8600955">Ambig</span>&nbsp;<span class="keyword" id="8600961">struct</span>&nbsp;<span class="op" id="8600968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8600971">//&nbsp;Given&nbsp;&#34;hello&#34;,&nbsp;the&nbsp;first&nbsp;match&nbsp;should&nbsp;win.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601018">First</span>&nbsp;&nbsp;<span class="builtintype" id="8601025">int</span>&nbsp;<span class="string" id="8601029">`json:&#34;HELLO&#34;`</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601045">Second</span>&nbsp;<span class="builtintype" id="8601052">int</span>&nbsp;<span class="string" id="8601056">`json:&#34;Hello&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8601071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8601074">type</span>&nbsp;<span class="ident" id="8601079">XYZ</span>&nbsp;<span class="keyword" id="8601083">struct</span>&nbsp;<span class="op" id="8601090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601093">X</span>&nbsp;<span class="keyword" id="8601095">interface</span><span class="op" id="8601104">{</span><span class="op" id="8601105">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601108">Y</span>&nbsp;<span class="keyword" id="8601110">interface</span><span class="op" id="8601119">{</span><span class="op" id="8601120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8601123">Z</span>&nbsp;<span class="keyword" id="8601125">interface</span><span class="op" id="8601134">{</span><span class="op" id="8601135">}</span><br>
<span class="lineno"></span><span class="op" id="8601137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8601140">var</span>&nbsp;<span class="ident" id="8601144">unmarshalTests</span>&nbsp;<span class="op" id="8601159">=</span>&nbsp;<span class="op" id="8601161">[</span><span class="op" id="8601162">]</span><span class="ident" id="8601163">unmarshalTest</span><span class="op" id="8601176">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8601179">//&nbsp;basic&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601195">{</span><span class="ident" id="8601196">in</span><span class="op" id="8601198">:</span>&nbsp;<span class="string" id="8601200">`true`</span><span class="op" id="8601206">,</span>&nbsp;<span class="ident" id="8601208">ptr</span><span class="op" id="8601211">:</span>&nbsp;<span class="builtinfunc" id="8601213">new</span><span class="op" id="8601216">(</span><span class="builtintype" id="8601217">bool</span><span class="op" id="8601221">)</span><span class="op" id="8601222">,</span>&nbsp;<span class="ident" id="8601224">out</span><span class="op" id="8601227">:</span>&nbsp;<span class="ident" id="8601229">true</span><span class="op" id="8601233">}</span><span class="op" id="8601234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601237">{</span><span class="ident" id="8601238">in</span><span class="op" id="8601240">:</span>&nbsp;<span class="string" id="8601242">`1`</span><span class="op" id="8601245">,</span>&nbsp;<span class="ident" id="8601247">ptr</span><span class="op" id="8601250">:</span>&nbsp;<span class="builtinfunc" id="8601252">new</span><span class="op" id="8601255">(</span><span class="builtintype" id="8601256">int</span><span class="op" id="8601259">)</span><span class="op" id="8601260">,</span>&nbsp;<span class="ident" id="8601262">out</span><span class="op" id="8601265">:</span>&nbsp;<span class="num" id="8601267">1</span><span class="op" id="8601268">}</span><span class="op" id="8601269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601272">{</span><span class="ident" id="8601273">in</span><span class="op" id="8601275">:</span>&nbsp;<span class="string" id="8601277">`1.2`</span><span class="op" id="8601282">,</span>&nbsp;<span class="ident" id="8601284">ptr</span><span class="op" id="8601287">:</span>&nbsp;<span class="builtinfunc" id="8601289">new</span><span class="op" id="8601292">(</span><span class="builtintype" id="8601293">float64</span><span class="op" id="8601300">)</span><span class="op" id="8601301">,</span>&nbsp;<span class="ident" id="8601303">out</span><span class="op" id="8601306">:</span>&nbsp;<span class="num" id="8601308">1.2</span><span class="op" id="8601311">}</span><span class="op" id="8601312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601315">{</span><span class="ident" id="8601316">in</span><span class="op" id="8601318">:</span>&nbsp;<span class="string" id="8601320">`-5`</span><span class="op" id="8601324">,</span>&nbsp;<span class="ident" id="8601326">ptr</span><span class="op" id="8601329">:</span>&nbsp;<span class="builtinfunc" id="8601331">new</span><span class="op" id="8601334">(</span><span class="builtintype" id="8601335">int16</span><span class="op" id="8601340">)</span><span class="op" id="8601341">,</span>&nbsp;<span class="ident" id="8601343">out</span><span class="op" id="8601346">:</span>&nbsp;<span class="builtintype" id="8601348">int16</span><span class="op" id="8601353">(</span><span class="op" id="8601354">-</span><span class="num" id="8601355">5</span><span class="op" id="8601356">)</span><span class="op" id="8601357">}</span><span class="op" id="8601358">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601361">{</span><span class="ident" id="8601362">in</span><span class="op" id="8601364">:</span>&nbsp;<span class="string" id="8601366">`2`</span><span class="op" id="8601369">,</span>&nbsp;<span class="ident" id="8601371">ptr</span><span class="op" id="8601374">:</span>&nbsp;<span class="builtinfunc" id="8601376">new</span><span class="op" id="8601379">(</span><span class="ident" id="8601380">Number</span><span class="op" id="8601386">)</span><span class="op" id="8601387">,</span>&nbsp;<span class="ident" id="8601389">out</span><span class="op" id="8601392">:</span>&nbsp;<span class="ident" id="8601394">Number</span><span class="op" id="8601400">(</span><span class="string" id="8601401">&#34;2&#34;</span><span class="op" id="8601404">)</span><span class="op" id="8601405">,</span>&nbsp;<span class="ident" id="8601407">useNumber</span><span class="op" id="8601416">:</span>&nbsp;<span class="ident" id="8601418">true</span><span class="op" id="8601422">}</span><span class="op" id="8601423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601426">{</span><span class="ident" id="8601427">in</span><span class="op" id="8601429">:</span>&nbsp;<span class="string" id="8601431">`2`</span><span class="op" id="8601434">,</span>&nbsp;<span class="ident" id="8601436">ptr</span><span class="op" id="8601439">:</span>&nbsp;<span class="builtinfunc" id="8601441">new</span><span class="op" id="8601444">(</span><span class="ident" id="8601445">Number</span><span class="op" id="8601451">)</span><span class="op" id="8601452">,</span>&nbsp;<span class="ident" id="8601454">out</span><span class="op" id="8601457">:</span>&nbsp;<span class="ident" id="8601459">Number</span><span class="op" id="8601465">(</span><span class="string" id="8601466">&#34;2&#34;</span><span class="op" id="8601469">)</span><span class="op" id="8601470">}</span><span class="op" id="8601471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601474">{</span><span class="ident" id="8601475">in</span><span class="op" id="8601477">:</span>&nbsp;<span class="string" id="8601479">`2`</span><span class="op" id="8601482">,</span>&nbsp;<span class="ident" id="8601484">ptr</span><span class="op" id="8601487">:</span>&nbsp;<span class="builtinfunc" id="8601489">new</span><span class="op" id="8601492">(</span><span class="keyword" id="8601493">interface</span><span class="op" id="8601502">{</span><span class="op" id="8601503">}</span><span class="op" id="8601504">)</span><span class="op" id="8601505">,</span>&nbsp;<span class="ident" id="8601507">out</span><span class="op" id="8601510">:</span>&nbsp;<span class="builtintype" id="8601512">float64</span><span class="op" id="8601519">(</span><span class="num" id="8601520">2.0</span><span class="op" id="8601523">)</span><span class="op" id="8601524">}</span><span class="op" id="8601525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601528">{</span><span class="ident" id="8601529">in</span><span class="op" id="8601531">:</span>&nbsp;<span class="string" id="8601533">`2`</span><span class="op" id="8601536">,</span>&nbsp;<span class="ident" id="8601538">ptr</span><span class="op" id="8601541">:</span>&nbsp;<span class="builtinfunc" id="8601543">new</span><span class="op" id="8601546">(</span><span class="keyword" id="8601547">interface</span><span class="op" id="8601556">{</span><span class="op" id="8601557">}</span><span class="op" id="8601558">)</span><span class="op" id="8601559">,</span>&nbsp;<span class="ident" id="8601561">out</span><span class="op" id="8601564">:</span>&nbsp;<span class="ident" id="8601566">Number</span><span class="op" id="8601572">(</span><span class="string" id="8601573">&#34;2&#34;</span><span class="op" id="8601576">)</span><span class="op" id="8601577">,</span>&nbsp;<span class="ident" id="8601579">useNumber</span><span class="op" id="8601588">:</span>&nbsp;<span class="ident" id="8601590">true</span><span class="op" id="8601594">}</span><span class="op" id="8601595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601598">{</span><span class="ident" id="8601599">in</span><span class="op" id="8601601">:</span>&nbsp;<span class="string" id="8601603">`&#34;a\u1234&#34;`</span><span class="op" id="8601614">,</span>&nbsp;<span class="ident" id="8601616">ptr</span><span class="op" id="8601619">:</span>&nbsp;<span class="builtinfunc" id="8601621">new</span><span class="op" id="8601624">(</span><span class="builtintype" id="8601625">string</span><span class="op" id="8601631">)</span><span class="op" id="8601632">,</span>&nbsp;<span class="ident" id="8601634">out</span><span class="op" id="8601637">:</span>&nbsp;<span class="string" id="8601639">&#34;a\u1234&#34;</span><span class="op" id="8601648">}</span><span class="op" id="8601649">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601652">{</span><span class="ident" id="8601653">in</span><span class="op" id="8601655">:</span>&nbsp;<span class="string" id="8601657">`&#34;http:\/\/&#34;`</span><span class="op" id="8601670">,</span>&nbsp;<span class="ident" id="8601672">ptr</span><span class="op" id="8601675">:</span>&nbsp;<span class="builtinfunc" id="8601677">new</span><span class="op" id="8601680">(</span><span class="builtintype" id="8601681">string</span><span class="op" id="8601687">)</span><span class="op" id="8601688">,</span>&nbsp;<span class="ident" id="8601690">out</span><span class="op" id="8601693">:</span>&nbsp;<span class="string" id="8601695">&#34;http://&#34;</span><span class="op" id="8601704">}</span><span class="op" id="8601705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601708">{</span><span class="ident" id="8601709">in</span><span class="op" id="8601711">:</span>&nbsp;<span class="string" id="8601713">`&#34;g-clef:&nbsp;\uD834\uDD1E&#34;`</span><span class="op" id="8601737">,</span>&nbsp;<span class="ident" id="8601739">ptr</span><span class="op" id="8601742">:</span>&nbsp;<span class="builtinfunc" id="8601744">new</span><span class="op" id="8601747">(</span><span class="builtintype" id="8601748">string</span><span class="op" id="8601754">)</span><span class="op" id="8601755">,</span>&nbsp;<span class="ident" id="8601757">out</span><span class="op" id="8601760">:</span>&nbsp;<span class="string" id="8601762">&#34;g-clef:&nbsp;\U0001D11E&#34;</span><span class="op" id="8601782">}</span><span class="op" id="8601783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601786">{</span><span class="ident" id="8601787">in</span><span class="op" id="8601789">:</span>&nbsp;<span class="string" id="8601791">`&#34;invalid:&nbsp;\uD834x\uDD1E&#34;`</span><span class="op" id="8601817">,</span>&nbsp;<span class="ident" id="8601819">ptr</span><span class="op" id="8601822">:</span>&nbsp;<span class="builtinfunc" id="8601824">new</span><span class="op" id="8601827">(</span><span class="builtintype" id="8601828">string</span><span class="op" id="8601834">)</span><span class="op" id="8601835">,</span>&nbsp;<span class="ident" id="8601837">out</span><span class="op" id="8601840">:</span>&nbsp;<span class="string" id="8601842">&#34;invalid:&nbsp;\uFFFDx\uFFFD&#34;</span><span class="op" id="8601866">}</span><span class="op" id="8601867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601870">{</span><span class="ident" id="8601871">in</span><span class="op" id="8601873">:</span>&nbsp;<span class="string" id="8601875">&#34;null&#34;</span><span class="op" id="8601881">,</span>&nbsp;<span class="ident" id="8601883">ptr</span><span class="op" id="8601886">:</span>&nbsp;<span class="builtinfunc" id="8601888">new</span><span class="op" id="8601891">(</span><span class="keyword" id="8601892">interface</span><span class="op" id="8601901">{</span><span class="op" id="8601902">}</span><span class="op" id="8601903">)</span><span class="op" id="8601904">,</span>&nbsp;<span class="ident" id="8601906">out</span><span class="op" id="8601909">:</span>&nbsp;<span class="ident" id="8601911">nil</span><span class="op" id="8601914">}</span><span class="op" id="8601915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8601918">{</span><span class="ident" id="8601919">in</span><span class="op" id="8601921">:</span>&nbsp;<span class="string" id="8601923">`{&#34;X&#34;:&nbsp;[1,2,3],&nbsp;&#34;Y&#34;:&nbsp;4}`</span><span class="op" id="8601947">,</span>&nbsp;<span class="ident" id="8601949">ptr</span><span class="op" id="8601952">:</span>&nbsp;<span class="builtinfunc" id="8601954">new</span><span class="op" id="8601957">(</span><span class="ident" id="8601958">T</span><span class="op" id="8601959">)</span><span class="op" id="8601960">,</span>&nbsp;<span class="ident" id="8601962">out</span><span class="op" id="8601965">:</span>&nbsp;<span class="ident" id="8601967">T</span><span class="op" id="8601968">{</span><span class="ident" id="8601969">Y</span><span class="op" id="8601970">:</span>&nbsp;<span class="num" id="8601972">4</span><span class="op" id="8601973">}</span><span class="op" id="8601974">,</span>&nbsp;<span class="ident" id="8601976">err</span><span class="op" id="8601979">:</span>&nbsp;<span class="op" id="8601981">&amp;</span><span class="ident" id="8601982">UnmarshalTypeError</span><span class="op" id="8602000">{</span><span class="string" id="8602001">&#34;array&#34;</span><span class="op" id="8602008">,</span>&nbsp;<span class="ident" id="8602010">reflect</span><span class="op" id="8602017">.</span><span class="ident" id="8602018">TypeOf</span><span class="op" id="8602024">(</span><span class="string" id="8602025">&#34;&#34;</span><span class="op" id="8602027">)</span><span class="op" id="8602028">}</span><span class="op" id="8602029">}</span><span class="op" id="8602030">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602033">{</span><span class="ident" id="8602034">in</span><span class="op" id="8602036">:</span>&nbsp;<span class="string" id="8602038">`{&#34;x&#34;:&nbsp;1}`</span><span class="op" id="8602048">,</span>&nbsp;<span class="ident" id="8602050">ptr</span><span class="op" id="8602053">:</span>&nbsp;<span class="builtinfunc" id="8602055">new</span><span class="op" id="8602058">(</span><span class="ident" id="8602059">tx</span><span class="op" id="8602061">)</span><span class="op" id="8602062">,</span>&nbsp;<span class="ident" id="8602064">out</span><span class="op" id="8602067">:</span>&nbsp;<span class="ident" id="8602069">tx</span><span class="op" id="8602071">{</span><span class="op" id="8602072">}</span><span class="op" id="8602073">}</span><span class="op" id="8602074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602077">{</span><span class="ident" id="8602078">in</span><span class="op" id="8602080">:</span>&nbsp;<span class="string" id="8602082">`{&#34;F1&#34;:1,&#34;F2&#34;:2,&#34;F3&#34;:3}`</span><span class="op" id="8602106">,</span>&nbsp;<span class="ident" id="8602108">ptr</span><span class="op" id="8602111">:</span>&nbsp;<span class="builtinfunc" id="8602113">new</span><span class="op" id="8602116">(</span><span class="ident" id="8602117">V</span><span class="op" id="8602118">)</span><span class="op" id="8602119">,</span>&nbsp;<span class="ident" id="8602121">out</span><span class="op" id="8602124">:</span>&nbsp;<span class="ident" id="8602126">V</span><span class="op" id="8602127">{</span><span class="ident" id="8602128">F1</span><span class="op" id="8602130">:</span>&nbsp;<span class="builtintype" id="8602132">float64</span><span class="op" id="8602139">(</span><span class="num" id="8602140">1</span><span class="op" id="8602141">)</span><span class="op" id="8602142">,</span>&nbsp;<span class="ident" id="8602144">F2</span><span class="op" id="8602146">:</span>&nbsp;<span class="builtintype" id="8602148">int32</span><span class="op" id="8602153">(</span><span class="num" id="8602154">2</span><span class="op" id="8602155">)</span><span class="op" id="8602156">,</span>&nbsp;<span class="ident" id="8602158">F3</span><span class="op" id="8602160">:</span>&nbsp;<span class="ident" id="8602162">Number</span><span class="op" id="8602168">(</span><span class="string" id="8602169">&#34;3&#34;</span><span class="op" id="8602172">)</span><span class="op" id="8602173">}</span><span class="op" id="8602174">}</span><span class="op" id="8602175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602178">{</span><span class="ident" id="8602179">in</span><span class="op" id="8602181">:</span>&nbsp;<span class="string" id="8602183">`{&#34;F1&#34;:1,&#34;F2&#34;:2,&#34;F3&#34;:3}`</span><span class="op" id="8602207">,</span>&nbsp;<span class="ident" id="8602209">ptr</span><span class="op" id="8602212">:</span>&nbsp;<span class="builtinfunc" id="8602214">new</span><span class="op" id="8602217">(</span><span class="ident" id="8602218">V</span><span class="op" id="8602219">)</span><span class="op" id="8602220">,</span>&nbsp;<span class="ident" id="8602222">out</span><span class="op" id="8602225">:</span>&nbsp;<span class="ident" id="8602227">V</span><span class="op" id="8602228">{</span><span class="ident" id="8602229">F1</span><span class="op" id="8602231">:</span>&nbsp;<span class="ident" id="8602233">Number</span><span class="op" id="8602239">(</span><span class="string" id="8602240">&#34;1&#34;</span><span class="op" id="8602243">)</span><span class="op" id="8602244">,</span>&nbsp;<span class="ident" id="8602246">F2</span><span class="op" id="8602248">:</span>&nbsp;<span class="builtintype" id="8602250">int32</span><span class="op" id="8602255">(</span><span class="num" id="8602256">2</span><span class="op" id="8602257">)</span><span class="op" id="8602258">,</span>&nbsp;<span class="ident" id="8602260">F3</span><span class="op" id="8602262">:</span>&nbsp;<span class="ident" id="8602264">Number</span><span class="op" id="8602270">(</span><span class="string" id="8602271">&#34;3&#34;</span><span class="op" id="8602274">)</span><span class="op" id="8602275">}</span><span class="op" id="8602276">,</span>&nbsp;<span class="ident" id="8602278">useNumber</span><span class="op" id="8602287">:</span>&nbsp;<span class="ident" id="8602289">true</span><span class="op" id="8602293">}</span><span class="op" id="8602294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602297">{</span><span class="ident" id="8602298">in</span><span class="op" id="8602300">:</span>&nbsp;<span class="string" id="8602302">`{&#34;k1&#34;:1,&#34;k2&#34;:&#34;s&#34;,&#34;k3&#34;:[1,2.0,3e-3],&#34;k4&#34;:{&#34;kk1&#34;:&#34;s&#34;,&#34;kk2&#34;:2}}`</span><span class="op" id="8602364">,</span>&nbsp;<span class="ident" id="8602366">ptr</span><span class="op" id="8602369">:</span>&nbsp;<span class="builtinfunc" id="8602371">new</span><span class="op" id="8602374">(</span><span class="keyword" id="8602375">interface</span><span class="op" id="8602384">{</span><span class="op" id="8602385">}</span><span class="op" id="8602386">)</span><span class="op" id="8602387">,</span>&nbsp;<span class="ident" id="8602389">out</span><span class="op" id="8602392">:</span>&nbsp;<span class="ident" id="8602394">ifaceNumAsFloat64</span><span class="op" id="8602411">}</span><span class="op" id="8602412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602415">{</span><span class="ident" id="8602416">in</span><span class="op" id="8602418">:</span>&nbsp;<span class="string" id="8602420">`{&#34;k1&#34;:1,&#34;k2&#34;:&#34;s&#34;,&#34;k3&#34;:[1,2.0,3e-3],&#34;k4&#34;:{&#34;kk1&#34;:&#34;s&#34;,&#34;kk2&#34;:2}}`</span><span class="op" id="8602482">,</span>&nbsp;<span class="ident" id="8602484">ptr</span><span class="op" id="8602487">:</span>&nbsp;<span class="builtinfunc" id="8602489">new</span><span class="op" id="8602492">(</span><span class="keyword" id="8602493">interface</span><span class="op" id="8602502">{</span><span class="op" id="8602503">}</span><span class="op" id="8602504">)</span><span class="op" id="8602505">,</span>&nbsp;<span class="ident" id="8602507">out</span><span class="op" id="8602510">:</span>&nbsp;<span class="ident" id="8602512">ifaceNumAsNumber</span><span class="op" id="8602528">,</span>&nbsp;<span class="ident" id="8602530">useNumber</span><span class="op" id="8602539">:</span>&nbsp;<span class="ident" id="8602541">true</span><span class="op" id="8602545">}</span><span class="op" id="8602546">,</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8602550">//&nbsp;raw&nbsp;values&nbsp;with&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602581">{</span><span class="ident" id="8602582">in</span><span class="op" id="8602584">:</span>&nbsp;<span class="string" id="8602586">&#34;\n&nbsp;true&nbsp;&#34;</span><span class="op" id="8602596">,</span>&nbsp;<span class="ident" id="8602598">ptr</span><span class="op" id="8602601">:</span>&nbsp;<span class="builtinfunc" id="8602603">new</span><span class="op" id="8602606">(</span><span class="builtintype" id="8602607">bool</span><span class="op" id="8602611">)</span><span class="op" id="8602612">,</span>&nbsp;<span class="ident" id="8602614">out</span><span class="op" id="8602617">:</span>&nbsp;<span class="ident" id="8602619">true</span><span class="op" id="8602623">}</span><span class="op" id="8602624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602627">{</span><span class="ident" id="8602628">in</span><span class="op" id="8602630">:</span>&nbsp;<span class="string" id="8602632">&#34;\t&nbsp;1&nbsp;&#34;</span><span class="op" id="8602639">,</span>&nbsp;<span class="ident" id="8602641">ptr</span><span class="op" id="8602644">:</span>&nbsp;<span class="builtinfunc" id="8602646">new</span><span class="op" id="8602649">(</span><span class="builtintype" id="8602650">int</span><span class="op" id="8602653">)</span><span class="op" id="8602654">,</span>&nbsp;<span class="ident" id="8602656">out</span><span class="op" id="8602659">:</span>&nbsp;<span class="num" id="8602661">1</span><span class="op" id="8602662">}</span><span class="op" id="8602663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602666">{</span><span class="ident" id="8602667">in</span><span class="op" id="8602669">:</span>&nbsp;<span class="string" id="8602671">&#34;\r&nbsp;1.2&nbsp;&#34;</span><span class="op" id="8602680">,</span>&nbsp;<span class="ident" id="8602682">ptr</span><span class="op" id="8602685">:</span>&nbsp;<span class="builtinfunc" id="8602687">new</span><span class="op" id="8602690">(</span><span class="builtintype" id="8602691">float64</span><span class="op" id="8602698">)</span><span class="op" id="8602699">,</span>&nbsp;<span class="ident" id="8602701">out</span><span class="op" id="8602704">:</span>&nbsp;<span class="num" id="8602706">1.2</span><span class="op" id="8602709">}</span><span class="op" id="8602710">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602713">{</span><span class="ident" id="8602714">in</span><span class="op" id="8602716">:</span>&nbsp;<span class="string" id="8602718">&#34;\t&nbsp;-5&nbsp;\n&#34;</span><span class="op" id="8602728">,</span>&nbsp;<span class="ident" id="8602730">ptr</span><span class="op" id="8602733">:</span>&nbsp;<span class="builtinfunc" id="8602735">new</span><span class="op" id="8602738">(</span><span class="builtintype" id="8602739">int16</span><span class="op" id="8602744">)</span><span class="op" id="8602745">,</span>&nbsp;<span class="ident" id="8602747">out</span><span class="op" id="8602750">:</span>&nbsp;<span class="builtintype" id="8602752">int16</span><span class="op" id="8602757">(</span><span class="op" id="8602758">-</span><span class="num" id="8602759">5</span><span class="op" id="8602760">)</span><span class="op" id="8602761">}</span><span class="op" id="8602762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602765">{</span><span class="ident" id="8602766">in</span><span class="op" id="8602768">:</span>&nbsp;<span class="string" id="8602770">&#34;\t&nbsp;\&#34;a\\u1234\&#34;&nbsp;\n&#34;</span><span class="op" id="8602790">,</span>&nbsp;<span class="ident" id="8602792">ptr</span><span class="op" id="8602795">:</span>&nbsp;<span class="builtinfunc" id="8602797">new</span><span class="op" id="8602800">(</span><span class="builtintype" id="8602801">string</span><span class="op" id="8602807">)</span><span class="op" id="8602808">,</span>&nbsp;<span class="ident" id="8602810">out</span><span class="op" id="8602813">:</span>&nbsp;<span class="string" id="8602815">&#34;a\u1234&#34;</span><span class="op" id="8602824">}</span><span class="op" id="8602825">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8602829">//&nbsp;Z&nbsp;has&nbsp;a&nbsp;&#34;-&#34;&nbsp;tag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602850">{</span><span class="ident" id="8602851">in</span><span class="op" id="8602853">:</span>&nbsp;<span class="string" id="8602855">`{&#34;Y&#34;:&nbsp;1,&nbsp;&#34;Z&#34;:&nbsp;2}`</span><span class="op" id="8602873">,</span>&nbsp;<span class="ident" id="8602875">ptr</span><span class="op" id="8602878">:</span>&nbsp;<span class="builtinfunc" id="8602880">new</span><span class="op" id="8602883">(</span><span class="ident" id="8602884">T</span><span class="op" id="8602885">)</span><span class="op" id="8602886">,</span>&nbsp;<span class="ident" id="8602888">out</span><span class="op" id="8602891">:</span>&nbsp;<span class="ident" id="8602893">T</span><span class="op" id="8602894">{</span><span class="ident" id="8602895">Y</span><span class="op" id="8602896">:</span>&nbsp;<span class="num" id="8602898">1</span><span class="op" id="8602899">}</span><span class="op" id="8602900">}</span><span class="op" id="8602901">,</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602905">{</span><span class="ident" id="8602906">in</span><span class="op" id="8602908">:</span>&nbsp;<span class="string" id="8602910">`{&#34;alpha&#34;:&nbsp;&#34;abc&#34;,&nbsp;&#34;alphabet&#34;:&nbsp;&#34;xyz&#34;}`</span><span class="op" id="8602947">,</span>&nbsp;<span class="ident" id="8602949">ptr</span><span class="op" id="8602952">:</span>&nbsp;<span class="builtinfunc" id="8602954">new</span><span class="op" id="8602957">(</span><span class="ident" id="8602958">U</span><span class="op" id="8602959">)</span><span class="op" id="8602960">,</span>&nbsp;<span class="ident" id="8602962">out</span><span class="op" id="8602965">:</span>&nbsp;<span class="ident" id="8602967">U</span><span class="op" id="8602968">{</span><span class="ident" id="8602969">Alphabet</span><span class="op" id="8602977">:</span>&nbsp;<span class="string" id="8602979">&#34;abc&#34;</span><span class="op" id="8602984">}</span><span class="op" id="8602985">}</span><span class="op" id="8602986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8602989">{</span><span class="ident" id="8602990">in</span><span class="op" id="8602992">:</span>&nbsp;<span class="string" id="8602994">`{&#34;alpha&#34;:&nbsp;&#34;abc&#34;}`</span><span class="op" id="8603012">,</span>&nbsp;<span class="ident" id="8603014">ptr</span><span class="op" id="8603017">:</span>&nbsp;<span class="builtinfunc" id="8603019">new</span><span class="op" id="8603022">(</span><span class="ident" id="8603023">U</span><span class="op" id="8603024">)</span><span class="op" id="8603025">,</span>&nbsp;<span class="ident" id="8603027">out</span><span class="op" id="8603030">:</span>&nbsp;<span class="ident" id="8603032">U</span><span class="op" id="8603033">{</span><span class="ident" id="8603034">Alphabet</span><span class="op" id="8603042">:</span>&nbsp;<span class="string" id="8603044">&#34;abc&#34;</span><span class="op" id="8603049">}</span><span class="op" id="8603050">}</span><span class="op" id="8603051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603054">{</span><span class="ident" id="8603055">in</span><span class="op" id="8603057">:</span>&nbsp;<span class="string" id="8603059">`{&#34;alphabet&#34;:&nbsp;&#34;xyz&#34;}`</span><span class="op" id="8603080">,</span>&nbsp;<span class="ident" id="8603082">ptr</span><span class="op" id="8603085">:</span>&nbsp;<span class="builtinfunc" id="8603087">new</span><span class="op" id="8603090">(</span><span class="ident" id="8603091">U</span><span class="op" id="8603092">)</span><span class="op" id="8603093">,</span>&nbsp;<span class="ident" id="8603095">out</span><span class="op" id="8603098">:</span>&nbsp;<span class="ident" id="8603100">U</span><span class="op" id="8603101">{</span><span class="op" id="8603102">}</span><span class="op" id="8603103">}</span><span class="op" id="8603104">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8603108">//&nbsp;syntax&nbsp;errors</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603126">{</span><span class="ident" id="8603127">in</span><span class="op" id="8603129">:</span>&nbsp;<span class="string" id="8603131">`{&#34;X&#34;:&nbsp;&#34;foo&#34;,&nbsp;&#34;Y&#34;}`</span><span class="op" id="8603150">,</span>&nbsp;<span class="ident" id="8603152">err</span><span class="op" id="8603155">:</span>&nbsp;<span class="op" id="8603157">&amp;</span><span class="ident" id="8603158">SyntaxError</span><span class="op" id="8603169">{</span><span class="string" id="8603170">&#34;invalid&nbsp;character&nbsp;&#39;}&#39;&nbsp;after&nbsp;object&nbsp;key&#34;</span><span class="op" id="8603210">,</span>&nbsp;<span class="num" id="8603212">17</span><span class="op" id="8603214">}</span><span class="op" id="8603215">}</span><span class="op" id="8603216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603219">{</span><span class="ident" id="8603220">in</span><span class="op" id="8603222">:</span>&nbsp;<span class="string" id="8603224">`[1,&nbsp;2,&nbsp;3+]`</span><span class="op" id="8603236">,</span>&nbsp;<span class="ident" id="8603238">err</span><span class="op" id="8603241">:</span>&nbsp;<span class="op" id="8603243">&amp;</span><span class="ident" id="8603244">SyntaxError</span><span class="op" id="8603255">{</span><span class="string" id="8603256">&#34;invalid&nbsp;character&nbsp;&#39;+&#39;&nbsp;after&nbsp;array&nbsp;element&#34;</span><span class="op" id="8603299">,</span>&nbsp;<span class="num" id="8603301">9</span><span class="op" id="8603302">}</span><span class="op" id="8603303">}</span><span class="op" id="8603304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603307">{</span><span class="ident" id="8603308">in</span><span class="op" id="8603310">:</span>&nbsp;<span class="string" id="8603312">`{&#34;X&#34;:12x}`</span><span class="op" id="8603323">,</span>&nbsp;<span class="ident" id="8603325">err</span><span class="op" id="8603328">:</span>&nbsp;<span class="op" id="8603330">&amp;</span><span class="ident" id="8603331">SyntaxError</span><span class="op" id="8603342">{</span><span class="string" id="8603343">&#34;invalid&nbsp;character&nbsp;&#39;x&#39;&nbsp;after&nbsp;object&nbsp;key:value&nbsp;pair&#34;</span><span class="op" id="8603394">,</span>&nbsp;<span class="num" id="8603396">8</span><span class="op" id="8603397">}</span><span class="op" id="8603398">,</span>&nbsp;<span class="ident" id="8603400">useNumber</span><span class="op" id="8603409">:</span>&nbsp;<span class="ident" id="8603411">true</span><span class="op" id="8603415">}</span><span class="op" id="8603416">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8603420">//&nbsp;raw&nbsp;value&nbsp;errors</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603441">{</span><span class="ident" id="8603442">in</span><span class="op" id="8603444">:</span>&nbsp;<span class="string" id="8603446">&#34;\x01&nbsp;42&#34;</span><span class="op" id="8603455">,</span>&nbsp;<span class="ident" id="8603457">err</span><span class="op" id="8603460">:</span>&nbsp;<span class="op" id="8603462">&amp;</span><span class="ident" id="8603463">SyntaxError</span><span class="op" id="8603474">{</span><span class="string" id="8603475">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8603533">,</span>&nbsp;<span class="num" id="8603535">1</span><span class="op" id="8603536">}</span><span class="op" id="8603537">}</span><span class="op" id="8603538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603541">{</span><span class="ident" id="8603542">in</span><span class="op" id="8603544">:</span>&nbsp;<span class="string" id="8603546">&#34;&nbsp;42&nbsp;\x01&#34;</span><span class="op" id="8603556">,</span>&nbsp;<span class="ident" id="8603558">err</span><span class="op" id="8603561">:</span>&nbsp;<span class="op" id="8603563">&amp;</span><span class="ident" id="8603564">SyntaxError</span><span class="op" id="8603575">{</span><span class="string" id="8603576">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8603625">,</span>&nbsp;<span class="num" id="8603627">5</span><span class="op" id="8603628">}</span><span class="op" id="8603629">}</span><span class="op" id="8603630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603633">{</span><span class="ident" id="8603634">in</span><span class="op" id="8603636">:</span>&nbsp;<span class="string" id="8603638">&#34;\x01&nbsp;true&#34;</span><span class="op" id="8603649">,</span>&nbsp;<span class="ident" id="8603651">err</span><span class="op" id="8603654">:</span>&nbsp;<span class="op" id="8603656">&amp;</span><span class="ident" id="8603657">SyntaxError</span><span class="op" id="8603668">{</span><span class="string" id="8603669">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8603727">,</span>&nbsp;<span class="num" id="8603729">1</span><span class="op" id="8603730">}</span><span class="op" id="8603731">}</span><span class="op" id="8603732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603735">{</span><span class="ident" id="8603736">in</span><span class="op" id="8603738">:</span>&nbsp;<span class="string" id="8603740">&#34;&nbsp;false&nbsp;\x01&#34;</span><span class="op" id="8603753">,</span>&nbsp;<span class="ident" id="8603755">err</span><span class="op" id="8603758">:</span>&nbsp;<span class="op" id="8603760">&amp;</span><span class="ident" id="8603761">SyntaxError</span><span class="op" id="8603772">{</span><span class="string" id="8603773">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8603822">,</span>&nbsp;<span class="num" id="8603824">8</span><span class="op" id="8603825">}</span><span class="op" id="8603826">}</span><span class="op" id="8603827">,</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603830">{</span><span class="ident" id="8603831">in</span><span class="op" id="8603833">:</span>&nbsp;<span class="string" id="8603835">&#34;\x01&nbsp;1.2&#34;</span><span class="op" id="8603845">,</span>&nbsp;<span class="ident" id="8603847">err</span><span class="op" id="8603850">:</span>&nbsp;<span class="op" id="8603852">&amp;</span><span class="ident" id="8603853">SyntaxError</span><span class="op" id="8603864">{</span><span class="string" id="8603865">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8603923">,</span>&nbsp;<span class="num" id="8603925">1</span><span class="op" id="8603926">}</span><span class="op" id="8603927">}</span><span class="op" id="8603928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8603931">{</span><span class="ident" id="8603932">in</span><span class="op" id="8603934">:</span>&nbsp;<span class="string" id="8603936">&#34;&nbsp;3.4&nbsp;\x01&#34;</span><span class="op" id="8603947">,</span>&nbsp;<span class="ident" id="8603949">err</span><span class="op" id="8603952">:</span>&nbsp;<span class="op" id="8603954">&amp;</span><span class="ident" id="8603955">SyntaxError</span><span class="op" id="8603966">{</span><span class="string" id="8603967">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8604016">,</span>&nbsp;<span class="num" id="8604018">6</span><span class="op" id="8604019">}</span><span class="op" id="8604020">}</span><span class="op" id="8604021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604024">{</span><span class="ident" id="8604025">in</span><span class="op" id="8604027">:</span>&nbsp;<span class="string" id="8604029">&#34;\x01&nbsp;\&#34;string\&#34;&#34;</span><span class="op" id="8604046">,</span>&nbsp;<span class="ident" id="8604048">err</span><span class="op" id="8604051">:</span>&nbsp;<span class="op" id="8604053">&amp;</span><span class="ident" id="8604054">SyntaxError</span><span class="op" id="8604065">{</span><span class="string" id="8604066">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;looking&nbsp;for&nbsp;beginning&nbsp;of&nbsp;value&#34;</span><span class="op" id="8604124">,</span>&nbsp;<span class="num" id="8604126">1</span><span class="op" id="8604127">}</span><span class="op" id="8604128">}</span><span class="op" id="8604129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604132">{</span><span class="ident" id="8604133">in</span><span class="op" id="8604135">:</span>&nbsp;<span class="string" id="8604137">&#34;&nbsp;\&#34;string\&#34;&nbsp;\x01&#34;</span><span class="op" id="8604155">,</span>&nbsp;<span class="ident" id="8604157">err</span><span class="op" id="8604160">:</span>&nbsp;<span class="op" id="8604162">&amp;</span><span class="ident" id="8604163">SyntaxError</span><span class="op" id="8604174">{</span><span class="string" id="8604175">&#34;invalid&nbsp;character&nbsp;&#39;\\x01&#39;&nbsp;after&nbsp;top-level&nbsp;value&#34;</span><span class="op" id="8604224">,</span>&nbsp;<span class="num" id="8604226">11</span><span class="op" id="8604228">}</span><span class="op" id="8604229">}</span><span class="op" id="8604230">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8604234">//&nbsp;array&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604250">{</span><span class="ident" id="8604251">in</span><span class="op" id="8604253">:</span>&nbsp;<span class="string" id="8604255">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="8604266">,</span>&nbsp;<span class="ident" id="8604268">ptr</span><span class="op" id="8604271">:</span>&nbsp;<span class="builtinfunc" id="8604273">new</span><span class="op" id="8604276">(</span><span class="op" id="8604277">[</span><span class="num" id="8604278">3</span><span class="op" id="8604279">]</span><span class="builtintype" id="8604280">int</span><span class="op" id="8604283">)</span><span class="op" id="8604284">,</span>&nbsp;<span class="ident" id="8604286">out</span><span class="op" id="8604289">:</span>&nbsp;<span class="op" id="8604291">[</span><span class="num" id="8604292">3</span><span class="op" id="8604293">]</span><span class="builtintype" id="8604294">int</span><span class="op" id="8604297">{</span><span class="num" id="8604298">1</span><span class="op" id="8604299">,</span>&nbsp;<span class="num" id="8604301">2</span><span class="op" id="8604302">,</span>&nbsp;<span class="num" id="8604304">3</span><span class="op" id="8604305">}</span><span class="op" id="8604306">}</span><span class="op" id="8604307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604310">{</span><span class="ident" id="8604311">in</span><span class="op" id="8604313">:</span>&nbsp;<span class="string" id="8604315">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="8604326">,</span>&nbsp;<span class="ident" id="8604328">ptr</span><span class="op" id="8604331">:</span>&nbsp;<span class="builtinfunc" id="8604333">new</span><span class="op" id="8604336">(</span><span class="op" id="8604337">[</span><span class="num" id="8604338">1</span><span class="op" id="8604339">]</span><span class="builtintype" id="8604340">int</span><span class="op" id="8604343">)</span><span class="op" id="8604344">,</span>&nbsp;<span class="ident" id="8604346">out</span><span class="op" id="8604349">:</span>&nbsp;<span class="op" id="8604351">[</span><span class="num" id="8604352">1</span><span class="op" id="8604353">]</span><span class="builtintype" id="8604354">int</span><span class="op" id="8604357">{</span><span class="num" id="8604358">1</span><span class="op" id="8604359">}</span><span class="op" id="8604360">}</span><span class="op" id="8604361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604364">{</span><span class="ident" id="8604365">in</span><span class="op" id="8604367">:</span>&nbsp;<span class="string" id="8604369">`[1,&nbsp;2,&nbsp;3]`</span><span class="op" id="8604380">,</span>&nbsp;<span class="ident" id="8604382">ptr</span><span class="op" id="8604385">:</span>&nbsp;<span class="builtinfunc" id="8604387">new</span><span class="op" id="8604390">(</span><span class="op" id="8604391">[</span><span class="num" id="8604392">5</span><span class="op" id="8604393">]</span><span class="builtintype" id="8604394">int</span><span class="op" id="8604397">)</span><span class="op" id="8604398">,</span>&nbsp;<span class="ident" id="8604400">out</span><span class="op" id="8604403">:</span>&nbsp;<span class="op" id="8604405">[</span><span class="num" id="8604406">5</span><span class="op" id="8604407">]</span><span class="builtintype" id="8604408">int</span><span class="op" id="8604411">{</span><span class="num" id="8604412">1</span><span class="op" id="8604413">,</span>&nbsp;<span class="num" id="8604415">2</span><span class="op" id="8604416">,</span>&nbsp;<span class="num" id="8604418">3</span><span class="op" id="8604419">,</span>&nbsp;<span class="num" id="8604421">0</span><span class="op" id="8604422">,</span>&nbsp;<span class="num" id="8604424">0</span><span class="op" id="8604425">}</span><span class="op" id="8604426">}</span><span class="op" id="8604427">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8604431">//&nbsp;empty&nbsp;array&nbsp;to&nbsp;interface&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604465">{</span><span class="ident" id="8604466">in</span><span class="op" id="8604468">:</span>&nbsp;<span class="string" id="8604470">`[]`</span><span class="op" id="8604474">,</span>&nbsp;<span class="ident" id="8604476">ptr</span><span class="op" id="8604479">:</span>&nbsp;<span class="builtinfunc" id="8604481">new</span><span class="op" id="8604484">(</span><span class="op" id="8604485">[</span><span class="op" id="8604486">]</span><span class="keyword" id="8604487">interface</span><span class="op" id="8604496">{</span><span class="op" id="8604497">}</span><span class="op" id="8604498">)</span><span class="op" id="8604499">,</span>&nbsp;<span class="ident" id="8604501">out</span><span class="op" id="8604504">:</span>&nbsp;<span class="op" id="8604506">[</span><span class="op" id="8604507">]</span><span class="keyword" id="8604508">interface</span><span class="op" id="8604517">{</span><span class="op" id="8604518">}</span><span class="op" id="8604519">{</span><span class="op" id="8604520">}</span><span class="op" id="8604521">}</span><span class="op" id="8604522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604525">{</span><span class="ident" id="8604526">in</span><span class="op" id="8604528">:</span>&nbsp;<span class="string" id="8604530">`null`</span><span class="op" id="8604536">,</span>&nbsp;<span class="ident" id="8604538">ptr</span><span class="op" id="8604541">:</span>&nbsp;<span class="builtinfunc" id="8604543">new</span><span class="op" id="8604546">(</span><span class="op" id="8604547">[</span><span class="op" id="8604548">]</span><span class="keyword" id="8604549">interface</span><span class="op" id="8604558">{</span><span class="op" id="8604559">}</span><span class="op" id="8604560">)</span><span class="op" id="8604561">,</span>&nbsp;<span class="ident" id="8604563">out</span><span class="op" id="8604566">:</span>&nbsp;<span class="op" id="8604568">[</span><span class="op" id="8604569">]</span><span class="keyword" id="8604570">interface</span><span class="op" id="8604579">{</span><span class="op" id="8604580">}</span><span class="op" id="8604581">(</span><span class="ident" id="8604582">nil</span><span class="op" id="8604585">)</span><span class="op" id="8604586">}</span><span class="op" id="8604587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604590">{</span><span class="ident" id="8604591">in</span><span class="op" id="8604593">:</span>&nbsp;<span class="string" id="8604595">`{&#34;T&#34;:[]}`</span><span class="op" id="8604605">,</span>&nbsp;<span class="ident" id="8604607">ptr</span><span class="op" id="8604610">:</span>&nbsp;<span class="builtinfunc" id="8604612">new</span><span class="op" id="8604615">(</span><span class="keyword" id="8604616">map</span><span class="op" id="8604619">[</span><span class="builtintype" id="8604620">string</span><span class="op" id="8604626">]</span><span class="keyword" id="8604627">interface</span><span class="op" id="8604636">{</span><span class="op" id="8604637">}</span><span class="op" id="8604638">)</span><span class="op" id="8604639">,</span>&nbsp;<span class="ident" id="8604641">out</span><span class="op" id="8604644">:</span>&nbsp;<span class="keyword" id="8604646">map</span><span class="op" id="8604649">[</span><span class="builtintype" id="8604650">string</span><span class="op" id="8604656">]</span><span class="keyword" id="8604657">interface</span><span class="op" id="8604666">{</span><span class="op" id="8604667">}</span><span class="op" id="8604668">{</span><span class="string" id="8604669">&#34;T&#34;</span><span class="op" id="8604672">:</span>&nbsp;<span class="op" id="8604674">[</span><span class="op" id="8604675">]</span><span class="keyword" id="8604676">interface</span><span class="op" id="8604685">{</span><span class="op" id="8604686">}</span><span class="op" id="8604687">{</span><span class="op" id="8604688">}</span><span class="op" id="8604689">}</span><span class="op" id="8604690">}</span><span class="op" id="8604691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604694">{</span><span class="ident" id="8604695">in</span><span class="op" id="8604697">:</span>&nbsp;<span class="string" id="8604699">`{&#34;T&#34;:null}`</span><span class="op" id="8604711">,</span>&nbsp;<span class="ident" id="8604713">ptr</span><span class="op" id="8604716">:</span>&nbsp;<span class="builtinfunc" id="8604718">new</span><span class="op" id="8604721">(</span><span class="keyword" id="8604722">map</span><span class="op" id="8604725">[</span><span class="builtintype" id="8604726">string</span><span class="op" id="8604732">]</span><span class="keyword" id="8604733">interface</span><span class="op" id="8604742">{</span><span class="op" id="8604743">}</span><span class="op" id="8604744">)</span><span class="op" id="8604745">,</span>&nbsp;<span class="ident" id="8604747">out</span><span class="op" id="8604750">:</span>&nbsp;<span class="keyword" id="8604752">map</span><span class="op" id="8604755">[</span><span class="builtintype" id="8604756">string</span><span class="op" id="8604762">]</span><span class="keyword" id="8604763">interface</span><span class="op" id="8604772">{</span><span class="op" id="8604773">}</span><span class="op" id="8604774">{</span><span class="string" id="8604775">&#34;T&#34;</span><span class="op" id="8604778">:</span>&nbsp;<span class="keyword" id="8604780">interface</span><span class="op" id="8604789">{</span><span class="op" id="8604790">}</span><span class="op" id="8604791">(</span><span class="ident" id="8604792">nil</span><span class="op" id="8604795">)</span><span class="op" id="8604796">}</span><span class="op" id="8604797">}</span><span class="op" id="8604798">,</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8604802">//&nbsp;composite&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604822">{</span><span class="ident" id="8604823">in</span><span class="op" id="8604825">:</span>&nbsp;<span class="ident" id="8604827">allValueIndent</span><span class="op" id="8604841">,</span>&nbsp;<span class="ident" id="8604843">ptr</span><span class="op" id="8604846">:</span>&nbsp;<span class="builtinfunc" id="8604848">new</span><span class="op" id="8604851">(</span><span class="ident" id="8604852">All</span><span class="op" id="8604855">)</span><span class="op" id="8604856">,</span>&nbsp;<span class="ident" id="8604858">out</span><span class="op" id="8604861">:</span>&nbsp;<span class="ident" id="8604863">allValue</span><span class="op" id="8604871">}</span><span class="op" id="8604872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604875">{</span><span class="ident" id="8604876">in</span><span class="op" id="8604878">:</span>&nbsp;<span class="ident" id="8604880">allValueCompact</span><span class="op" id="8604895">,</span>&nbsp;<span class="ident" id="8604897">ptr</span><span class="op" id="8604900">:</span>&nbsp;<span class="builtinfunc" id="8604902">new</span><span class="op" id="8604905">(</span><span class="ident" id="8604906">All</span><span class="op" id="8604909">)</span><span class="op" id="8604910">,</span>&nbsp;<span class="ident" id="8604912">out</span><span class="op" id="8604915">:</span>&nbsp;<span class="ident" id="8604917">allValue</span><span class="op" id="8604925">}</span><span class="op" id="8604926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604929">{</span><span class="ident" id="8604930">in</span><span class="op" id="8604932">:</span>&nbsp;<span class="ident" id="8604934">allValueIndent</span><span class="op" id="8604948">,</span>&nbsp;<span class="ident" id="8604950">ptr</span><span class="op" id="8604953">:</span>&nbsp;<span class="builtinfunc" id="8604955">new</span><span class="op" id="8604958">(</span><span class="op" id="8604959">*</span><span class="ident" id="8604960">All</span><span class="op" id="8604963">)</span><span class="op" id="8604964">,</span>&nbsp;<span class="ident" id="8604966">out</span><span class="op" id="8604969">:</span>&nbsp;<span class="op" id="8604971">&amp;</span><span class="ident" id="8604972">allValue</span><span class="op" id="8604980">}</span><span class="op" id="8604981">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8604984">{</span><span class="ident" id="8604985">in</span><span class="op" id="8604987">:</span>&nbsp;<span class="ident" id="8604989">allValueCompact</span><span class="op" id="8605004">,</span>&nbsp;<span class="ident" id="8605006">ptr</span><span class="op" id="8605009">:</span>&nbsp;<span class="builtinfunc" id="8605011">new</span><span class="op" id="8605014">(</span><span class="op" id="8605015">*</span><span class="ident" id="8605016">All</span><span class="op" id="8605019">)</span><span class="op" id="8605020">,</span>&nbsp;<span class="ident" id="8605022">out</span><span class="op" id="8605025">:</span>&nbsp;<span class="op" id="8605027">&amp;</span><span class="ident" id="8605028">allValue</span><span class="op" id="8605036">}</span><span class="op" id="8605037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605040">{</span><span class="ident" id="8605041">in</span><span class="op" id="8605043">:</span>&nbsp;<span class="ident" id="8605045">pallValueIndent</span><span class="op" id="8605060">,</span>&nbsp;<span class="ident" id="8605062">ptr</span><span class="op" id="8605065">:</span>&nbsp;<span class="builtinfunc" id="8605067">new</span><span class="op" id="8605070">(</span><span class="ident" id="8605071">All</span><span class="op" id="8605074">)</span><span class="op" id="8605075">,</span>&nbsp;<span class="ident" id="8605077">out</span><span class="op" id="8605080">:</span>&nbsp;<span class="ident" id="8605082">pallValue</span><span class="op" id="8605091">}</span><span class="op" id="8605092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605095">{</span><span class="ident" id="8605096">in</span><span class="op" id="8605098">:</span>&nbsp;<span class="ident" id="8605100">pallValueCompact</span><span class="op" id="8605116">,</span>&nbsp;<span class="ident" id="8605118">ptr</span><span class="op" id="8605121">:</span>&nbsp;<span class="builtinfunc" id="8605123">new</span><span class="op" id="8605126">(</span><span class="ident" id="8605127">All</span><span class="op" id="8605130">)</span><span class="op" id="8605131">,</span>&nbsp;<span class="ident" id="8605133">out</span><span class="op" id="8605136">:</span>&nbsp;<span class="ident" id="8605138">pallValue</span><span class="op" id="8605147">}</span><span class="op" id="8605148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605151">{</span><span class="ident" id="8605152">in</span><span class="op" id="8605154">:</span>&nbsp;<span class="ident" id="8605156">pallValueIndent</span><span class="op" id="8605171">,</span>&nbsp;<span class="ident" id="8605173">ptr</span><span class="op" id="8605176">:</span>&nbsp;<span class="builtinfunc" id="8605178">new</span><span class="op" id="8605181">(</span><span class="op" id="8605182">*</span><span class="ident" id="8605183">All</span><span class="op" id="8605186">)</span><span class="op" id="8605187">,</span>&nbsp;<span class="ident" id="8605189">out</span><span class="op" id="8605192">:</span>&nbsp;<span class="op" id="8605194">&amp;</span><span class="ident" id="8605195">pallValue</span><span class="op" id="8605204">}</span><span class="op" id="8605205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605208">{</span><span class="ident" id="8605209">in</span><span class="op" id="8605211">:</span>&nbsp;<span class="ident" id="8605213">pallValueCompact</span><span class="op" id="8605229">,</span>&nbsp;<span class="ident" id="8605231">ptr</span><span class="op" id="8605234">:</span>&nbsp;<span class="builtinfunc" id="8605236">new</span><span class="op" id="8605239">(</span><span class="op" id="8605240">*</span><span class="ident" id="8605241">All</span><span class="op" id="8605244">)</span><span class="op" id="8605245">,</span>&nbsp;<span class="ident" id="8605247">out</span><span class="op" id="8605250">:</span>&nbsp;<span class="op" id="8605252">&amp;</span><span class="ident" id="8605253">pallValue</span><span class="op" id="8605262">}</span><span class="op" id="8605263">,</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8605267">//&nbsp;unmarshal&nbsp;interface&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605296">{</span><span class="ident" id="8605297">in</span><span class="op" id="8605299">:</span>&nbsp;<span class="string" id="8605301">`{&#34;T&#34;:false}`</span><span class="op" id="8605314">,</span>&nbsp;<span class="ident" id="8605316">ptr</span><span class="op" id="8605319">:</span>&nbsp;<span class="op" id="8605321">&amp;</span><span class="ident" id="8605322">um0</span><span class="op" id="8605325">,</span>&nbsp;<span class="ident" id="8605327">out</span><span class="op" id="8605330">:</span>&nbsp;<span class="ident" id="8605332">umtrue</span><span class="op" id="8605338">}</span><span class="op" id="8605339">,</span>&nbsp;<span class="comment" id="8605341">//&nbsp;use&nbsp;&#34;false&#34;&nbsp;so&nbsp;test&nbsp;will&nbsp;fail&nbsp;if&nbsp;custom&nbsp;unmarshaler&nbsp;is&nbsp;not&nbsp;called</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605411">{</span><span class="ident" id="8605412">in</span><span class="op" id="8605414">:</span>&nbsp;<span class="string" id="8605416">`{&#34;T&#34;:false}`</span><span class="op" id="8605429">,</span>&nbsp;<span class="ident" id="8605431">ptr</span><span class="op" id="8605434">:</span>&nbsp;<span class="op" id="8605436">&amp;</span><span class="ident" id="8605437">ump</span><span class="op" id="8605440">,</span>&nbsp;<span class="ident" id="8605442">out</span><span class="op" id="8605445">:</span>&nbsp;<span class="op" id="8605447">&amp;</span><span class="ident" id="8605448">umtrue</span><span class="op" id="8605454">}</span><span class="op" id="8605455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605458">{</span><span class="ident" id="8605459">in</span><span class="op" id="8605461">:</span>&nbsp;<span class="string" id="8605463">`[{&#34;T&#34;:false}]`</span><span class="op" id="8605478">,</span>&nbsp;<span class="ident" id="8605480">ptr</span><span class="op" id="8605483">:</span>&nbsp;<span class="op" id="8605485">&amp;</span><span class="ident" id="8605486">umslice</span><span class="op" id="8605493">,</span>&nbsp;<span class="ident" id="8605495">out</span><span class="op" id="8605498">:</span>&nbsp;<span class="ident" id="8605500">umslice</span><span class="op" id="8605507">}</span><span class="op" id="8605508">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605511">{</span><span class="ident" id="8605512">in</span><span class="op" id="8605514">:</span>&nbsp;<span class="string" id="8605516">`[{&#34;T&#34;:false}]`</span><span class="op" id="8605531">,</span>&nbsp;<span class="ident" id="8605533">ptr</span><span class="op" id="8605536">:</span>&nbsp;<span class="op" id="8605538">&amp;</span><span class="ident" id="8605539">umslicep</span><span class="op" id="8605547">,</span>&nbsp;<span class="ident" id="8605549">out</span><span class="op" id="8605552">:</span>&nbsp;<span class="op" id="8605554">&amp;</span><span class="ident" id="8605555">umslice</span><span class="op" id="8605562">}</span><span class="op" id="8605563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605566">{</span><span class="ident" id="8605567">in</span><span class="op" id="8605569">:</span>&nbsp;<span class="string" id="8605571">`{&#34;M&#34;:{&#34;T&#34;:false}}`</span><span class="op" id="8605590">,</span>&nbsp;<span class="ident" id="8605592">ptr</span><span class="op" id="8605595">:</span>&nbsp;<span class="op" id="8605597">&amp;</span><span class="ident" id="8605598">umstruct</span><span class="op" id="8605606">,</span>&nbsp;<span class="ident" id="8605608">out</span><span class="op" id="8605611">:</span>&nbsp;<span class="ident" id="8605613">umstruct</span><span class="op" id="8605621">}</span><span class="op" id="8605622">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8605626">//&nbsp;UnmarshalText&nbsp;interface&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605659">{</span><span class="ident" id="8605660">in</span><span class="op" id="8605662">:</span>&nbsp;<span class="string" id="8605664">`&#34;X&#34;`</span><span class="op" id="8605669">,</span>&nbsp;<span class="ident" id="8605671">ptr</span><span class="op" id="8605674">:</span>&nbsp;<span class="op" id="8605676">&amp;</span><span class="ident" id="8605677">um0T</span><span class="op" id="8605681">,</span>&nbsp;<span class="ident" id="8605683">out</span><span class="op" id="8605686">:</span>&nbsp;<span class="ident" id="8605688">umtrueT</span><span class="op" id="8605695">}</span><span class="op" id="8605696">,</span>&nbsp;<span class="comment" id="8605698">//&nbsp;use&nbsp;&#34;false&#34;&nbsp;so&nbsp;test&nbsp;will&nbsp;fail&nbsp;if&nbsp;custom&nbsp;unmarshaler&nbsp;is&nbsp;not&nbsp;called</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605768">{</span><span class="ident" id="8605769">in</span><span class="op" id="8605771">:</span>&nbsp;<span class="string" id="8605773">`&#34;X&#34;`</span><span class="op" id="8605778">,</span>&nbsp;<span class="ident" id="8605780">ptr</span><span class="op" id="8605783">:</span>&nbsp;<span class="op" id="8605785">&amp;</span><span class="ident" id="8605786">umpT</span><span class="op" id="8605790">,</span>&nbsp;<span class="ident" id="8605792">out</span><span class="op" id="8605795">:</span>&nbsp;<span class="op" id="8605797">&amp;</span><span class="ident" id="8605798">umtrueT</span><span class="op" id="8605805">}</span><span class="op" id="8605806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605809">{</span><span class="ident" id="8605810">in</span><span class="op" id="8605812">:</span>&nbsp;<span class="string" id="8605814">`[&#34;X&#34;]`</span><span class="op" id="8605821">,</span>&nbsp;<span class="ident" id="8605823">ptr</span><span class="op" id="8605826">:</span>&nbsp;<span class="op" id="8605828">&amp;</span><span class="ident" id="8605829">umsliceT</span><span class="op" id="8605837">,</span>&nbsp;<span class="ident" id="8605839">out</span><span class="op" id="8605842">:</span>&nbsp;<span class="ident" id="8605844">umsliceT</span><span class="op" id="8605852">}</span><span class="op" id="8605853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605856">{</span><span class="ident" id="8605857">in</span><span class="op" id="8605859">:</span>&nbsp;<span class="string" id="8605861">`[&#34;X&#34;]`</span><span class="op" id="8605868">,</span>&nbsp;<span class="ident" id="8605870">ptr</span><span class="op" id="8605873">:</span>&nbsp;<span class="op" id="8605875">&amp;</span><span class="ident" id="8605876">umslicepT</span><span class="op" id="8605885">,</span>&nbsp;<span class="ident" id="8605887">out</span><span class="op" id="8605890">:</span>&nbsp;<span class="op" id="8605892">&amp;</span><span class="ident" id="8605893">umsliceT</span><span class="op" id="8605901">}</span><span class="op" id="8605902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605905">{</span><span class="ident" id="8605906">in</span><span class="op" id="8605908">:</span>&nbsp;<span class="string" id="8605910">`{&#34;M&#34;:&#34;X&#34;}`</span><span class="op" id="8605921">,</span>&nbsp;<span class="ident" id="8605923">ptr</span><span class="op" id="8605926">:</span>&nbsp;<span class="op" id="8605928">&amp;</span><span class="ident" id="8605929">umstructT</span><span class="op" id="8605938">,</span>&nbsp;<span class="ident" id="8605940">out</span><span class="op" id="8605943">:</span>&nbsp;<span class="ident" id="8605945">umstructT</span><span class="op" id="8605954">}</span><span class="op" id="8605955">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8605959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8605963">in</span><span class="op" id="8605965">:</span>&nbsp;<span class="string" id="8605967">`{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level0&#34;:&nbsp;1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1b&#34;:&nbsp;2,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1c&#34;:&nbsp;3,<br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;:&nbsp;4,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1a&#34;:&nbsp;5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;LEVEL1B&#34;:&nbsp;6,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;e&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1a&#34;:&nbsp;8,<br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1b&#34;:&nbsp;9,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1c&#34;:&nbsp;10,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Level1d&#34;:&nbsp;11,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;x&#34;:&nbsp;12<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Loop1&#34;:&nbsp;13,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Loop2&#34;:&nbsp;14,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;X&#34;:&nbsp;15,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Y&#34;:&nbsp;16,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Z&#34;:&nbsp;17<br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}`</span><span class="op" id="8606238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606242">ptr</span><span class="op" id="8606245">:</span>&nbsp;<span class="builtinfunc" id="8606247">new</span><span class="op" id="8606250">(</span><span class="ident" id="8606251">Top</span><span class="op" id="8606254">)</span><span class="op" id="8606255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606259">out</span><span class="op" id="8606262">:</span>&nbsp;<span class="ident" id="8606264">Top</span><span class="op" id="8606267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606272">Level0</span><span class="op" id="8606278">:</span>&nbsp;<span class="num" id="8606280">1</span><span class="op" id="8606281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606286">Embed0</span><span class="op" id="8606292">:</span>&nbsp;<span class="ident" id="8606294">Embed0</span><span class="op" id="8606300">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606306">Level1b</span><span class="op" id="8606313">:</span>&nbsp;<span class="num" id="8606315">2</span><span class="op" id="8606316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606322">Level1c</span><span class="op" id="8606329">:</span>&nbsp;<span class="num" id="8606331">3</span><span class="op" id="8606332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606337">}</span><span class="op" id="8606338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606343">Embed0a</span><span class="op" id="8606350">:</span>&nbsp;<span class="op" id="8606352">&amp;</span><span class="ident" id="8606353">Embed0a</span><span class="op" id="8606360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606366">Level1a</span><span class="op" id="8606373">:</span>&nbsp;<span class="num" id="8606375">5</span><span class="op" id="8606376">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606382">Level1b</span><span class="op" id="8606389">:</span>&nbsp;<span class="num" id="8606391">6</span><span class="op" id="8606392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606397">}</span><span class="op" id="8606398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606403">Embed0b</span><span class="op" id="8606410">:</span>&nbsp;<span class="op" id="8606412">&amp;</span><span class="ident" id="8606413">Embed0b</span><span class="op" id="8606420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606426">Level1a</span><span class="op" id="8606433">:</span>&nbsp;<span class="num" id="8606435">8</span><span class="op" id="8606436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606442">Level1b</span><span class="op" id="8606449">:</span>&nbsp;<span class="num" id="8606451">9</span><span class="op" id="8606452">,</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606458">Level1c</span><span class="op" id="8606465">:</span>&nbsp;<span class="num" id="8606467">10</span><span class="op" id="8606469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606475">Level1d</span><span class="op" id="8606482">:</span>&nbsp;<span class="num" id="8606484">11</span><span class="op" id="8606486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606492">Level1e</span><span class="op" id="8606499">:</span>&nbsp;<span class="num" id="8606501">12</span><span class="op" id="8606503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606508">}</span><span class="op" id="8606509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606514">Loop</span><span class="op" id="8606518">:</span>&nbsp;<span class="ident" id="8606520">Loop</span><span class="op" id="8606524">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606530">Loop1</span><span class="op" id="8606535">:</span>&nbsp;<span class="num" id="8606537">13</span><span class="op" id="8606539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606545">Loop2</span><span class="op" id="8606550">:</span>&nbsp;<span class="num" id="8606552">14</span><span class="op" id="8606554">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606559">}</span><span class="op" id="8606560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606565">Embed0p</span><span class="op" id="8606572">:</span>&nbsp;<span class="ident" id="8606574">Embed0p</span><span class="op" id="8606581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606587">Point</span><span class="op" id="8606592">:</span>&nbsp;<span class="ident" id="8606594">image</span><span class="op" id="8606599">.</span><span class="ident" id="8606600">Point</span><span class="op" id="8606605">{</span><span class="ident" id="8606606">X</span><span class="op" id="8606607">:</span>&nbsp;<span class="num" id="8606609">15</span><span class="op" id="8606611">,</span>&nbsp;<span class="ident" id="8606613">Y</span><span class="op" id="8606614">:</span>&nbsp;<span class="num" id="8606616">16</span><span class="op" id="8606618">}</span><span class="op" id="8606619">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606624">}</span><span class="op" id="8606625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606630">Embed0q</span><span class="op" id="8606637">:</span>&nbsp;<span class="ident" id="8606639">Embed0q</span><span class="op" id="8606646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606652">Point</span><span class="op" id="8606657">:</span>&nbsp;<span class="ident" id="8606659">Point</span><span class="op" id="8606664">{</span><span class="ident" id="8606665">Z</span><span class="op" id="8606666">:</span>&nbsp;<span class="num" id="8606668">17</span><span class="op" id="8606670">}</span><span class="op" id="8606671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606676">}</span><span class="op" id="8606677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606681">}</span><span class="op" id="8606682">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606685">}</span><span class="op" id="8606686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606693">in</span><span class="op" id="8606695">:</span>&nbsp;&nbsp;<span class="string" id="8606698">`{&#34;hello&#34;:&nbsp;1}`</span><span class="op" id="8606712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606716">ptr</span><span class="op" id="8606719">:</span>&nbsp;<span class="builtinfunc" id="8606721">new</span><span class="op" id="8606724">(</span><span class="ident" id="8606725">Ambig</span><span class="op" id="8606730">)</span><span class="op" id="8606731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606735">out</span><span class="op" id="8606738">:</span>&nbsp;<span class="ident" id="8606740">Ambig</span><span class="op" id="8606745">{</span><span class="ident" id="8606746">First</span><span class="op" id="8606751">:</span>&nbsp;<span class="num" id="8606753">1</span><span class="op" id="8606754">}</span><span class="op" id="8606755">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606758">}</span><span class="op" id="8606759">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606767">in</span><span class="op" id="8606769">:</span>&nbsp;&nbsp;<span class="string" id="8606772">`{&#34;X&#34;:&nbsp;1,&#34;Y&#34;:2}`</span><span class="op" id="8606788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606792">ptr</span><span class="op" id="8606795">:</span>&nbsp;<span class="builtinfunc" id="8606797">new</span><span class="op" id="8606800">(</span><span class="ident" id="8606801">S5</span><span class="op" id="8606803">)</span><span class="op" id="8606804">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606808">out</span><span class="op" id="8606811">:</span>&nbsp;<span class="ident" id="8606813">S5</span><span class="op" id="8606815">{</span><span class="ident" id="8606816">S8</span><span class="op" id="8606818">:</span>&nbsp;<span class="ident" id="8606820">S8</span><span class="op" id="8606822">{</span><span class="ident" id="8606823">S9</span><span class="op" id="8606825">:</span>&nbsp;<span class="ident" id="8606827">S9</span><span class="op" id="8606829">{</span><span class="ident" id="8606830">Y</span><span class="op" id="8606831">:</span>&nbsp;<span class="num" id="8606833">2</span><span class="op" id="8606834">}</span><span class="op" id="8606835">}</span><span class="op" id="8606836">}</span><span class="op" id="8606837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606840">}</span><span class="op" id="8606841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606848">in</span><span class="op" id="8606850">:</span>&nbsp;&nbsp;<span class="string" id="8606853">`{&#34;X&#34;:&nbsp;1,&#34;Y&#34;:2}`</span><span class="op" id="8606869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606873">ptr</span><span class="op" id="8606876">:</span>&nbsp;<span class="builtinfunc" id="8606878">new</span><span class="op" id="8606881">(</span><span class="ident" id="8606882">S10</span><span class="op" id="8606885">)</span><span class="op" id="8606886">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606890">out</span><span class="op" id="8606893">:</span>&nbsp;<span class="ident" id="8606895">S10</span><span class="op" id="8606898">{</span><span class="ident" id="8606899">S13</span><span class="op" id="8606902">:</span>&nbsp;<span class="ident" id="8606904">S13</span><span class="op" id="8606907">{</span><span class="ident" id="8606908">S8</span><span class="op" id="8606910">:</span>&nbsp;<span class="ident" id="8606912">S8</span><span class="op" id="8606914">{</span><span class="ident" id="8606915">S9</span><span class="op" id="8606917">:</span>&nbsp;<span class="ident" id="8606919">S9</span><span class="op" id="8606921">{</span><span class="ident" id="8606922">Y</span><span class="op" id="8606923">:</span>&nbsp;<span class="num" id="8606925">2</span><span class="op" id="8606926">}</span><span class="op" id="8606927">}</span><span class="op" id="8606928">}</span><span class="op" id="8606929">}</span><span class="op" id="8606930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606933">}</span><span class="op" id="8606934">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8606938">//&nbsp;invalid&nbsp;UTF-8&nbsp;is&nbsp;coerced&nbsp;to&nbsp;valid&nbsp;UTF-8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8606983">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8606987">in</span><span class="op" id="8606989">:</span>&nbsp;&nbsp;<span class="string" id="8606992">&#34;\&#34;hello\xffworld\&#34;&#34;</span><span class="op" id="8607012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607016">ptr</span><span class="op" id="8607019">:</span>&nbsp;<span class="builtinfunc" id="8607021">new</span><span class="op" id="8607024">(</span><span class="builtintype" id="8607025">string</span><span class="op" id="8607031">)</span><span class="op" id="8607032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607036">out</span><span class="op" id="8607039">:</span>&nbsp;<span class="string" id="8607041">&#34;hello\ufffdworld&#34;</span><span class="op" id="8607059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607062">}</span><span class="op" id="8607063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607066">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607070">in</span><span class="op" id="8607072">:</span>&nbsp;&nbsp;<span class="string" id="8607075">&#34;\&#34;hello\xc2\xc2world\&#34;&#34;</span><span class="op" id="8607099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607103">ptr</span><span class="op" id="8607106">:</span>&nbsp;<span class="builtinfunc" id="8607108">new</span><span class="op" id="8607111">(</span><span class="builtintype" id="8607112">string</span><span class="op" id="8607118">)</span><span class="op" id="8607119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607123">out</span><span class="op" id="8607126">:</span>&nbsp;<span class="string" id="8607128">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8607152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607155">}</span><span class="op" id="8607156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607159">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607163">in</span><span class="op" id="8607165">:</span>&nbsp;&nbsp;<span class="string" id="8607168">&#34;\&#34;hello\xc2\xffworld\&#34;&#34;</span><span class="op" id="8607192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607196">ptr</span><span class="op" id="8607199">:</span>&nbsp;<span class="builtinfunc" id="8607201">new</span><span class="op" id="8607204">(</span><span class="builtintype" id="8607205">string</span><span class="op" id="8607211">)</span><span class="op" id="8607212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607216">out</span><span class="op" id="8607219">:</span>&nbsp;<span class="string" id="8607221">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8607245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607248">}</span><span class="op" id="8607249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607252">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607256">in</span><span class="op" id="8607258">:</span>&nbsp;&nbsp;<span class="string" id="8607261">&#34;\&#34;hello\\ud800world\&#34;&#34;</span><span class="op" id="8607284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607288">ptr</span><span class="op" id="8607291">:</span>&nbsp;<span class="builtinfunc" id="8607293">new</span><span class="op" id="8607296">(</span><span class="builtintype" id="8607297">string</span><span class="op" id="8607303">)</span><span class="op" id="8607304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607308">out</span><span class="op" id="8607311">:</span>&nbsp;<span class="string" id="8607313">&#34;hello\ufffdworld&#34;</span><span class="op" id="8607331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607334">}</span><span class="op" id="8607335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607338">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607342">in</span><span class="op" id="8607344">:</span>&nbsp;&nbsp;<span class="string" id="8607347">&#34;\&#34;hello\\ud800\\ud800world\&#34;&#34;</span><span class="op" id="8607377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607381">ptr</span><span class="op" id="8607384">:</span>&nbsp;<span class="builtinfunc" id="8607386">new</span><span class="op" id="8607389">(</span><span class="builtintype" id="8607390">string</span><span class="op" id="8607396">)</span><span class="op" id="8607397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607401">out</span><span class="op" id="8607404">:</span>&nbsp;<span class="string" id="8607406">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8607430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607433">}</span><span class="op" id="8607434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607437">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607441">in</span><span class="op" id="8607443">:</span>&nbsp;&nbsp;<span class="string" id="8607446">&#34;\&#34;hello\\ud800\\ud800world\&#34;&#34;</span><span class="op" id="8607476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607480">ptr</span><span class="op" id="8607483">:</span>&nbsp;<span class="builtinfunc" id="8607485">new</span><span class="op" id="8607488">(</span><span class="builtintype" id="8607489">string</span><span class="op" id="8607495">)</span><span class="op" id="8607496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607500">out</span><span class="op" id="8607503">:</span>&nbsp;<span class="string" id="8607505">&#34;hello\ufffd\ufffdworld&#34;</span><span class="op" id="8607529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607532">}</span><span class="op" id="8607533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607536">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607540">in</span><span class="op" id="8607542">:</span>&nbsp;&nbsp;<span class="string" id="8607545">&#34;\&#34;hello\xed\xa0\x80\xed\xb0\x80world\&#34;&#34;</span><span class="op" id="8607585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607589">ptr</span><span class="op" id="8607592">:</span>&nbsp;<span class="builtinfunc" id="8607594">new</span><span class="op" id="8607597">(</span><span class="builtintype" id="8607598">string</span><span class="op" id="8607604">)</span><span class="op" id="8607605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607609">out</span><span class="op" id="8607612">:</span>&nbsp;<span class="string" id="8607614">&#34;hello\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdworld&#34;</span><span class="op" id="8607662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607665">}</span><span class="op" id="8607666">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8607670">//&nbsp;issue&nbsp;8305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607689">in</span><span class="op" id="8607691">:</span>&nbsp;&nbsp;<span class="string" id="8607694">`{&#34;2009-11-10T23:00:00Z&#34;:&nbsp;&#34;hello&nbsp;world&#34;}`</span><span class="op" id="8607735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607739">ptr</span><span class="op" id="8607742">:</span>&nbsp;<span class="op" id="8607744">&amp;</span><span class="keyword" id="8607745">map</span><span class="op" id="8607748">[</span><span class="ident" id="8607749">time</span><span class="op" id="8607753">.</span><span class="ident" id="8607754">Time</span><span class="op" id="8607758">]</span><span class="builtintype" id="8607759">string</span><span class="op" id="8607765">{</span><span class="op" id="8607766">}</span><span class="op" id="8607767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607771">err</span><span class="op" id="8607774">:</span>&nbsp;<span class="op" id="8607776">&amp;</span><span class="ident" id="8607777">UnmarshalTypeError</span><span class="op" id="8607795">{</span><span class="string" id="8607796">&#34;object&#34;</span><span class="op" id="8607804">,</span>&nbsp;<span class="ident" id="8607806">reflect</span><span class="op" id="8607813">.</span><span class="ident" id="8607814">TypeOf</span><span class="op" id="8607820">(</span><span class="keyword" id="8607821">map</span><span class="op" id="8607824">[</span><span class="ident" id="8607825">time</span><span class="op" id="8607829">.</span><span class="ident" id="8607830">Time</span><span class="op" id="8607834">]</span><span class="builtintype" id="8607835">string</span><span class="op" id="8607841">{</span><span class="op" id="8607842">}</span><span class="op" id="8607843">)</span><span class="op" id="8607844">}</span><span class="op" id="8607845">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607848">}</span><span class="op" id="8607849">,</span><br>
<span class="lineno"></span><span class="op" id="8607851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8607854">func</span>&nbsp;<span class="ident" id="8607859">TestMarshal</span><span class="op" id="8607870">(</span><span class="ident" id="8607871">t</span>&nbsp;<span class="op" id="8607873">*</span><span class="ident" id="8607874">testing</span><span class="op" id="8607881">.</span><span class="ident" id="8607882">T</span><span class="op" id="8607883">)</span>&nbsp;<span class="op" id="8607885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607888">b</span><span class="op" id="8607889">,</span>&nbsp;<span class="ident" id="8607891">err</span>&nbsp;<span class="op" id="8607895">:=</span>&nbsp;<span class="ident" id="8607898">Marshal</span><span class="op" id="8607905">(</span><span class="ident" id="8607906">allValue</span><span class="op" id="8607914">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8607917">if</span>&nbsp;<span class="ident" id="8607920">err</span>&nbsp;<span class="op" id="8607924">!=</span>&nbsp;<span class="ident" id="8607927">nil</span>&nbsp;<span class="op" id="8607931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8607935">t</span><span class="op" id="8607936">.</span><span class="ident" id="8607937">Fatalf</span><span class="op" id="8607943">(</span><span class="string" id="8607944">&#34;Marshal&nbsp;allValue:&nbsp;%v&#34;</span><span class="op" id="8607966">,</span>&nbsp;<span class="ident" id="8607968">err</span><span class="op" id="8607971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8607974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8607977">if</span>&nbsp;<span class="builtintype" id="8607980">string</span><span class="op" id="8607986">(</span><span class="ident" id="8607987">b</span><span class="op" id="8607988">)</span>&nbsp;<span class="op" id="8607990">!=</span>&nbsp;<span class="ident" id="8607993">allValueCompact</span>&nbsp;<span class="op" id="8608009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608013">t</span><span class="op" id="8608014">.</span><span class="ident" id="8608015">Errorf</span><span class="op" id="8608021">(</span><span class="string" id="8608022">&#34;Marshal&nbsp;allValueCompact&#34;</span><span class="op" id="8608047">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608051">diff</span><span class="op" id="8608055">(</span><span class="ident" id="8608056">t</span><span class="op" id="8608057">,</span>&nbsp;<span class="ident" id="8608059">b</span><span class="op" id="8608060">,</span>&nbsp;<span class="op" id="8608062">[</span><span class="op" id="8608063">]</span><span class="builtintype" id="8608064">byte</span><span class="op" id="8608068">(</span><span class="ident" id="8608069">allValueCompact</span><span class="op" id="8608084">)</span><span class="op" id="8608085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608089">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608101">b</span><span class="op" id="8608102">,</span>&nbsp;<span class="ident" id="8608104">err</span>&nbsp;<span class="op" id="8608108">=</span>&nbsp;<span class="ident" id="8608110">Marshal</span><span class="op" id="8608117">(</span><span class="ident" id="8608118">pallValue</span><span class="op" id="8608127">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608130">if</span>&nbsp;<span class="ident" id="8608133">err</span>&nbsp;<span class="op" id="8608137">!=</span>&nbsp;<span class="ident" id="8608140">nil</span>&nbsp;<span class="op" id="8608144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608148">t</span><span class="op" id="8608149">.</span><span class="ident" id="8608150">Fatalf</span><span class="op" id="8608156">(</span><span class="string" id="8608157">&#34;Marshal&nbsp;pallValue:&nbsp;%v&#34;</span><span class="op" id="8608180">,</span>&nbsp;<span class="ident" id="8608182">err</span><span class="op" id="8608185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608188">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608191">if</span>&nbsp;<span class="builtintype" id="8608194">string</span><span class="op" id="8608200">(</span><span class="ident" id="8608201">b</span><span class="op" id="8608202">)</span>&nbsp;<span class="op" id="8608204">!=</span>&nbsp;<span class="ident" id="8608207">pallValueCompact</span>&nbsp;<span class="op" id="8608224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608228">t</span><span class="op" id="8608229">.</span><span class="ident" id="8608230">Errorf</span><span class="op" id="8608236">(</span><span class="string" id="8608237">&#34;Marshal&nbsp;pallValueCompact&#34;</span><span class="op" id="8608263">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608267">diff</span><span class="op" id="8608271">(</span><span class="ident" id="8608272">t</span><span class="op" id="8608273">,</span>&nbsp;<span class="ident" id="8608275">b</span><span class="op" id="8608276">,</span>&nbsp;<span class="op" id="8608278">[</span><span class="op" id="8608279">]</span><span class="builtintype" id="8608280">byte</span><span class="op" id="8608284">(</span><span class="ident" id="8608285">pallValueCompact</span><span class="op" id="8608301">)</span><span class="op" id="8608302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608306">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608314">}</span><br>
<span class="lineno"></span><span class="op" id="8608316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span><span class="keyword" id="8608319">var</span>&nbsp;<span class="ident" id="8608323">badUTF8</span>&nbsp;<span class="op" id="8608331">=</span>&nbsp;<span class="op" id="8608333">[</span><span class="op" id="8608334">]</span><span class="keyword" id="8608335">struct</span>&nbsp;<span class="op" id="8608342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608345">in</span><span class="op" id="8608347">,</span>&nbsp;<span class="ident" id="8608349">out</span>&nbsp;<span class="builtintype" id="8608353">string</span><br>
<span class="lineno"></span><span class="op" id="8608360">}</span><span class="op" id="8608361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608364">{</span><span class="string" id="8608365">&#34;hello\xffworld&#34;</span><span class="op" id="8608381">,</span>&nbsp;<span class="string" id="8608383">`&#34;hello\ufffdworld&#34;`</span><span class="op" id="8608403">}</span><span class="op" id="8608404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608407">{</span><span class="string" id="8608408">&#34;&#34;</span><span class="op" id="8608410">,</span>&nbsp;<span class="string" id="8608412">`&#34;&#34;`</span><span class="op" id="8608416">}</span><span class="op" id="8608417">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608420">{</span><span class="string" id="8608421">&#34;\xff&#34;</span><span class="op" id="8608427">,</span>&nbsp;<span class="string" id="8608429">`&#34;\ufffd&#34;`</span><span class="op" id="8608439">}</span><span class="op" id="8608440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608443">{</span><span class="string" id="8608444">&#34;\xff\xff&#34;</span><span class="op" id="8608454">,</span>&nbsp;<span class="string" id="8608456">`&#34;\ufffd\ufffd&#34;`</span><span class="op" id="8608472">}</span><span class="op" id="8608473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608476">{</span><span class="string" id="8608477">&#34;a\xffb&#34;</span><span class="op" id="8608485">,</span>&nbsp;<span class="string" id="8608487">`&#34;a\ufffdb&#34;`</span><span class="op" id="8608499">}</span><span class="op" id="8608500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608503">{</span><span class="string" id="8608504">&#34;\xe6\x97\xa5\xe6\x9c\xac\xff\xaa\x9e&#34;</span><span class="op" id="8608542">,</span>&nbsp;<span class="string" id="8608544">`&#34;日本\ufffd\ufffd\ufffd&#34;`</span><span class="op" id="8608572">}</span><span class="op" id="8608573">,</span><br>
<span class="lineno"></span><span class="op" id="8608575">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="8608578">func</span>&nbsp;<span class="ident" id="8608583">TestMarshalBadUTF8</span><span class="op" id="8608601">(</span><span class="ident" id="8608602">t</span>&nbsp;<span class="op" id="8608604">*</span><span class="ident" id="8608605">testing</span><span class="op" id="8608612">.</span><span class="ident" id="8608613">T</span><span class="op" id="8608614">)</span>&nbsp;<span class="op" id="8608616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608619">for</span>&nbsp;<span class="ident" id="8608623">_</span><span class="op" id="8608624">,</span>&nbsp;<span class="ident" id="8608626">tt</span>&nbsp;<span class="op" id="8608629">:=</span>&nbsp;<span class="keyword" id="8608632">range</span>&nbsp;<span class="ident" id="8608638">badUTF8</span>&nbsp;<span class="op" id="8608646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608650">b</span><span class="op" id="8608651">,</span>&nbsp;<span class="ident" id="8608653">err</span>&nbsp;<span class="op" id="8608657">:=</span>&nbsp;<span class="ident" id="8608660">Marshal</span><span class="op" id="8608667">(</span><span class="ident" id="8608668">tt</span><span class="op" id="8608670">.</span><span class="ident" id="8608671">in</span><span class="op" id="8608673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608677">if</span>&nbsp;<span class="builtintype" id="8608680">string</span><span class="op" id="8608686">(</span><span class="ident" id="8608687">b</span><span class="op" id="8608688">)</span>&nbsp;<span class="op" id="8608690">!=</span>&nbsp;<span class="ident" id="8608693">tt</span><span class="op" id="8608695">.</span><span class="ident" id="8608696">out</span>&nbsp;<span class="op" id="8608700">||</span>&nbsp;<span class="ident" id="8608703">err</span>&nbsp;<span class="op" id="8608707">!=</span>&nbsp;<span class="ident" id="8608710">nil</span>&nbsp;<span class="op" id="8608714">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608719">t</span><span class="op" id="8608720">.</span><span class="ident" id="8608721">Errorf</span><span class="op" id="8608727">(</span><span class="string" id="8608728">&#34;Marshal(%q)&nbsp;=&nbsp;%#q,&nbsp;%v,&nbsp;want&nbsp;%#q,&nbsp;nil&#34;</span><span class="op" id="8608766">,</span>&nbsp;<span class="ident" id="8608768">tt</span><span class="op" id="8608770">.</span><span class="ident" id="8608771">in</span><span class="op" id="8608773">,</span>&nbsp;<span class="ident" id="8608775">b</span><span class="op" id="8608776">,</span>&nbsp;<span class="ident" id="8608778">err</span><span class="op" id="8608781">,</span>&nbsp;<span class="ident" id="8608783">tt</span><span class="op" id="8608785">.</span><span class="ident" id="8608786">out</span><span class="op" id="8608789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608796">}</span><br>
<span class="lineno"></span><span class="op" id="8608798">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">460</span><span class="keyword" id="8608801">func</span>&nbsp;<span class="ident" id="8608806">TestMarshalNumberZeroVal</span><span class="op" id="8608830">(</span><span class="ident" id="8608831">t</span>&nbsp;<span class="op" id="8608833">*</span><span class="ident" id="8608834">testing</span><span class="op" id="8608841">.</span><span class="ident" id="8608842">T</span><span class="op" id="8608843">)</span>&nbsp;<span class="op" id="8608845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608848">var</span>&nbsp;<span class="ident" id="8608852">n</span>&nbsp;<span class="ident" id="8608854">Number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608862">out</span><span class="op" id="8608865">,</span>&nbsp;<span class="ident" id="8608867">err</span>&nbsp;<span class="op" id="8608871">:=</span>&nbsp;<span class="ident" id="8608874">Marshal</span><span class="op" id="8608881">(</span><span class="ident" id="8608882">n</span><span class="op" id="8608883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608886">if</span>&nbsp;<span class="ident" id="8608889">err</span>&nbsp;<span class="op" id="8608893">!=</span>&nbsp;<span class="ident" id="8608896">nil</span>&nbsp;<span class="op" id="8608900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608904">t</span><span class="op" id="8608905">.</span><span class="ident" id="8608906">Fatal</span><span class="op" id="8608911">(</span><span class="ident" id="8608912">err</span><span class="op" id="8608915">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8608918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608921">outStr</span>&nbsp;<span class="op" id="8608928">:=</span>&nbsp;<span class="builtintype" id="8608931">string</span><span class="op" id="8608937">(</span><span class="ident" id="8608938">out</span><span class="op" id="8608941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8608944">if</span>&nbsp;<span class="ident" id="8608947">outStr</span>&nbsp;<span class="op" id="8608954">!=</span>&nbsp;<span class="string" id="8608957">&#34;0&#34;</span>&nbsp;<span class="op" id="8608961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8608965">t</span><span class="op" id="8608966">.</span><span class="ident" id="8608967">Fatalf</span><span class="op" id="8608973">(</span><span class="string" id="8608974">&#34;Invalid&nbsp;zero&nbsp;val&nbsp;for&nbsp;Number:&nbsp;%q&#34;</span><span class="op" id="8609007">,</span>&nbsp;<span class="ident" id="8609009">outStr</span><span class="op" id="8609015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609018">}</span><br>
<span class="lineno">470</span><span class="op" id="8609020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8609023">func</span>&nbsp;<span class="ident" id="8609028">TestMarshalEmbeds</span><span class="op" id="8609045">(</span><span class="ident" id="8609046">t</span>&nbsp;<span class="op" id="8609048">*</span><span class="ident" id="8609049">testing</span><span class="op" id="8609056">.</span><span class="ident" id="8609057">T</span><span class="op" id="8609058">)</span>&nbsp;<span class="op" id="8609060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609063">top</span>&nbsp;<span class="op" id="8609067">:=</span>&nbsp;<span class="op" id="8609070">&amp;</span><span class="ident" id="8609071">Top</span><span class="op" id="8609074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609078">Level0</span><span class="op" id="8609084">:</span>&nbsp;<span class="num" id="8609086">1</span><span class="op" id="8609087">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609091">Embed0</span><span class="op" id="8609097">:</span>&nbsp;<span class="ident" id="8609099">Embed0</span><span class="op" id="8609105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609110">Level1b</span><span class="op" id="8609117">:</span>&nbsp;<span class="num" id="8609119">2</span><span class="op" id="8609120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609125">Level1c</span><span class="op" id="8609132">:</span>&nbsp;<span class="num" id="8609134">3</span><span class="op" id="8609135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609139">}</span><span class="op" id="8609140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609144">Embed0a</span><span class="op" id="8609151">:</span>&nbsp;<span class="op" id="8609153">&amp;</span><span class="ident" id="8609154">Embed0a</span><span class="op" id="8609161">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609166">Level1a</span><span class="op" id="8609173">:</span>&nbsp;<span class="num" id="8609175">5</span><span class="op" id="8609176">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609181">Level1b</span><span class="op" id="8609188">:</span>&nbsp;<span class="num" id="8609190">6</span><span class="op" id="8609191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609195">}</span><span class="op" id="8609196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609200">Embed0b</span><span class="op" id="8609207">:</span>&nbsp;<span class="op" id="8609209">&amp;</span><span class="ident" id="8609210">Embed0b</span><span class="op" id="8609217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609222">Level1a</span><span class="op" id="8609229">:</span>&nbsp;<span class="num" id="8609231">8</span><span class="op" id="8609232">,</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609237">Level1b</span><span class="op" id="8609244">:</span>&nbsp;<span class="num" id="8609246">9</span><span class="op" id="8609247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609252">Level1c</span><span class="op" id="8609259">:</span>&nbsp;<span class="num" id="8609261">10</span><span class="op" id="8609263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609268">Level1d</span><span class="op" id="8609275">:</span>&nbsp;<span class="num" id="8609277">11</span><span class="op" id="8609279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609284">Level1e</span><span class="op" id="8609291">:</span>&nbsp;<span class="num" id="8609293">12</span><span class="op" id="8609295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609299">}</span><span class="op" id="8609300">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609304">Loop</span><span class="op" id="8609308">:</span>&nbsp;<span class="ident" id="8609310">Loop</span><span class="op" id="8609314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609319">Loop1</span><span class="op" id="8609324">:</span>&nbsp;<span class="num" id="8609326">13</span><span class="op" id="8609328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609333">Loop2</span><span class="op" id="8609338">:</span>&nbsp;<span class="num" id="8609340">14</span><span class="op" id="8609342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609346">}</span><span class="op" id="8609347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609351">Embed0p</span><span class="op" id="8609358">:</span>&nbsp;<span class="ident" id="8609360">Embed0p</span><span class="op" id="8609367">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609372">Point</span><span class="op" id="8609377">:</span>&nbsp;<span class="ident" id="8609379">image</span><span class="op" id="8609384">.</span><span class="ident" id="8609385">Point</span><span class="op" id="8609390">{</span><span class="ident" id="8609391">X</span><span class="op" id="8609392">:</span>&nbsp;<span class="num" id="8609394">15</span><span class="op" id="8609396">,</span>&nbsp;<span class="ident" id="8609398">Y</span><span class="op" id="8609399">:</span>&nbsp;<span class="num" id="8609401">16</span><span class="op" id="8609403">}</span><span class="op" id="8609404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609408">}</span><span class="op" id="8609409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609413">Embed0q</span><span class="op" id="8609420">:</span>&nbsp;<span class="ident" id="8609422">Embed0q</span><span class="op" id="8609429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609434">Point</span><span class="op" id="8609439">:</span>&nbsp;<span class="ident" id="8609441">Point</span><span class="op" id="8609446">{</span><span class="ident" id="8609447">Z</span><span class="op" id="8609448">:</span>&nbsp;<span class="num" id="8609450">17</span><span class="op" id="8609452">}</span><span class="op" id="8609453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609457">}</span><span class="op" id="8609458">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609464">b</span><span class="op" id="8609465">,</span>&nbsp;<span class="ident" id="8609467">err</span>&nbsp;<span class="op" id="8609471">:=</span>&nbsp;<span class="ident" id="8609474">Marshal</span><span class="op" id="8609481">(</span><span class="ident" id="8609482">top</span><span class="op" id="8609485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8609488">if</span>&nbsp;<span class="ident" id="8609491">err</span>&nbsp;<span class="op" id="8609495">!=</span>&nbsp;<span class="ident" id="8609498">nil</span>&nbsp;<span class="op" id="8609502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609506">t</span><span class="op" id="8609507">.</span><span class="ident" id="8609508">Fatal</span><span class="op" id="8609513">(</span><span class="ident" id="8609514">err</span><span class="op" id="8609517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609520">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609523">want</span>&nbsp;<span class="op" id="8609528">:=</span>&nbsp;<span class="string" id="8609531">&#34;{\&#34;Level0\&#34;:1,\&#34;Level1b\&#34;:2,\&#34;Level1c\&#34;:3,\&#34;Level1a\&#34;:5,\&#34;LEVEL1B\&#34;:6,\&#34;e\&#34;:{\&#34;Level1a\&#34;:8,\&#34;Level1b\&#34;:9,\&#34;Level1c\&#34;:10,\&#34;Level1d\&#34;:11,\&#34;x\&#34;:12},\&#34;Loop1\&#34;:13,\&#34;Loop2\&#34;:14,\&#34;X\&#34;:15,\&#34;Y\&#34;:16,\&#34;Z\&#34;:17}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8609733">if</span>&nbsp;<span class="builtintype" id="8609736">string</span><span class="op" id="8609742">(</span><span class="ident" id="8609743">b</span><span class="op" id="8609744">)</span>&nbsp;<span class="op" id="8609746">!=</span>&nbsp;<span class="ident" id="8609749">want</span>&nbsp;<span class="op" id="8609754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609758">t</span><span class="op" id="8609759">.</span><span class="ident" id="8609760">Errorf</span><span class="op" id="8609766">(</span><span class="string" id="8609767">&#34;Wrong&nbsp;marshal&nbsp;result.\n&nbsp;got:&nbsp;%q\nwant:&nbsp;%q&#34;</span><span class="op" id="8609810">,</span>&nbsp;<span class="ident" id="8609812">b</span><span class="op" id="8609813">,</span>&nbsp;<span class="ident" id="8609815">want</span><span class="op" id="8609819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8609822">}</span><br>
<span class="lineno"></span><span class="op" id="8609824">}</span><br>
<span class="lineno">510</span><br>
<span class="lineno"></span><span class="keyword" id="8609827">func</span>&nbsp;<span class="ident" id="8609832">TestUnmarshal</span><span class="op" id="8609845">(</span><span class="ident" id="8609846">t</span>&nbsp;<span class="op" id="8609848">*</span><span class="ident" id="8609849">testing</span><span class="op" id="8609856">.</span><span class="ident" id="8609857">T</span><span class="op" id="8609858">)</span>&nbsp;<span class="op" id="8609860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8609863">for</span>&nbsp;<span class="ident" id="8609867">i</span><span class="op" id="8609868">,</span>&nbsp;<span class="ident" id="8609870">tt</span>&nbsp;<span class="op" id="8609873">:=</span>&nbsp;<span class="keyword" id="8609876">range</span>&nbsp;<span class="ident" id="8609882">unmarshalTests</span>&nbsp;<span class="op" id="8609897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8609901">var</span>&nbsp;<span class="ident" id="8609905">scan</span>&nbsp;<span class="ident" id="8609910">scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8609920">in</span>&nbsp;<span class="op" id="8609923">:=</span>&nbsp;<span class="op" id="8609926">[</span><span class="op" id="8609927">]</span><span class="builtintype" id="8609928">byte</span><span class="op" id="8609932">(</span><span class="ident" id="8609933">tt</span><span class="op" id="8609935">.</span><span class="ident" id="8609936">in</span><span class="op" id="8609938">)</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8609942">if</span>&nbsp;<span class="ident" id="8609945">err</span>&nbsp;<span class="op" id="8609949">:=</span>&nbsp;<span class="ident" id="8609952">checkValid</span><span class="op" id="8609962">(</span><span class="ident" id="8609963">in</span><span class="op" id="8609965">,</span>&nbsp;<span class="op" id="8609967">&amp;</span><span class="ident" id="8609968">scan</span><span class="op" id="8609972">)</span><span class="op" id="8609973">;</span>&nbsp;<span class="ident" id="8609975">err</span>&nbsp;<span class="op" id="8609979">!=</span>&nbsp;<span class="ident" id="8609982">nil</span>&nbsp;<span class="op" id="8609986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8609991">if</span>&nbsp;<span class="op" id="8609994">!</span><span class="ident" id="8609995">reflect</span><span class="op" id="8610002">.</span><span class="ident" id="8610003">DeepEqual</span><span class="op" id="8610012">(</span><span class="ident" id="8610013">err</span><span class="op" id="8610016">,</span>&nbsp;<span class="ident" id="8610018">tt</span><span class="op" id="8610020">.</span><span class="ident" id="8610021">err</span><span class="op" id="8610024">)</span>&nbsp;<span class="op" id="8610026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610032">t</span><span class="op" id="8610033">.</span><span class="ident" id="8610034">Errorf</span><span class="op" id="8610040">(</span><span class="string" id="8610041">&#34;#%d:&nbsp;checkValid:&nbsp;%#v&#34;</span><span class="op" id="8610063">,</span>&nbsp;<span class="ident" id="8610065">i</span><span class="op" id="8610066">,</span>&nbsp;<span class="ident" id="8610068">err</span><span class="op" id="8610071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610077">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610089">}</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610097">if</span>&nbsp;<span class="ident" id="8610100">tt</span><span class="op" id="8610102">.</span><span class="ident" id="8610103">ptr</span>&nbsp;<span class="op" id="8610107">==</span>&nbsp;<span class="ident" id="8610110">nil</span>&nbsp;<span class="op" id="8610114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610119">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8610135">//&nbsp;v&nbsp;=&nbsp;new(right-type)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610160">v</span>&nbsp;<span class="op" id="8610162">:=</span>&nbsp;<span class="ident" id="8610165">reflect</span><span class="op" id="8610172">.</span><span class="ident" id="8610173">New</span><span class="op" id="8610176">(</span><span class="ident" id="8610177">reflect</span><span class="op" id="8610184">.</span><span class="ident" id="8610185">TypeOf</span><span class="op" id="8610191">(</span><span class="ident" id="8610192">tt</span><span class="op" id="8610194">.</span><span class="ident" id="8610195">ptr</span><span class="op" id="8610198">)</span><span class="op" id="8610199">.</span><span class="ident" id="8610200">Elem</span><span class="op" id="8610204">(</span><span class="op" id="8610205">)</span><span class="op" id="8610206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610210">dec</span>&nbsp;<span class="op" id="8610214">:=</span>&nbsp;<span class="ident" id="8610217">NewDecoder</span><span class="op" id="8610227">(</span><span class="ident" id="8610228">bytes</span><span class="op" id="8610233">.</span><span class="ident" id="8610234">NewReader</span><span class="op" id="8610243">(</span><span class="ident" id="8610244">in</span><span class="op" id="8610246">)</span><span class="op" id="8610247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610251">if</span>&nbsp;<span class="ident" id="8610254">tt</span><span class="op" id="8610256">.</span><span class="ident" id="8610257">useNumber</span>&nbsp;<span class="op" id="8610267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610272">dec</span><span class="op" id="8610275">.</span><span class="ident" id="8610276">UseNumber</span><span class="op" id="8610285">(</span><span class="op" id="8610286">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610294">if</span>&nbsp;<span class="ident" id="8610297">err</span>&nbsp;<span class="op" id="8610301">:=</span>&nbsp;<span class="ident" id="8610304">dec</span><span class="op" id="8610307">.</span><span class="ident" id="8610308">Decode</span><span class="op" id="8610314">(</span><span class="ident" id="8610315">v</span><span class="op" id="8610316">.</span><span class="ident" id="8610317">Interface</span><span class="op" id="8610326">(</span><span class="op" id="8610327">)</span><span class="op" id="8610328">)</span><span class="op" id="8610329">;</span>&nbsp;<span class="op" id="8610331">!</span><span class="ident" id="8610332">reflect</span><span class="op" id="8610339">.</span><span class="ident" id="8610340">DeepEqual</span><span class="op" id="8610349">(</span><span class="ident" id="8610350">err</span><span class="op" id="8610353">,</span>&nbsp;<span class="ident" id="8610355">tt</span><span class="op" id="8610357">.</span><span class="ident" id="8610358">err</span><span class="op" id="8610361">)</span>&nbsp;<span class="op" id="8610363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610368">t</span><span class="op" id="8610369">.</span><span class="ident" id="8610370">Errorf</span><span class="op" id="8610376">(</span><span class="string" id="8610377">&#34;#%d:&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8610395">,</span>&nbsp;<span class="ident" id="8610397">i</span><span class="op" id="8610398">,</span>&nbsp;<span class="ident" id="8610400">err</span><span class="op" id="8610403">,</span>&nbsp;<span class="ident" id="8610405">tt</span><span class="op" id="8610407">.</span><span class="ident" id="8610408">err</span><span class="op" id="8610411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610416">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610427">}</span>&nbsp;<span class="keyword" id="8610429">else</span>&nbsp;<span class="keyword" id="8610434">if</span>&nbsp;<span class="ident" id="8610437">err</span>&nbsp;<span class="op" id="8610441">!=</span>&nbsp;<span class="ident" id="8610444">nil</span>&nbsp;<span class="op" id="8610448">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610453">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610468">if</span>&nbsp;<span class="op" id="8610471">!</span><span class="ident" id="8610472">reflect</span><span class="op" id="8610479">.</span><span class="ident" id="8610480">DeepEqual</span><span class="op" id="8610489">(</span><span class="ident" id="8610490">v</span><span class="op" id="8610491">.</span><span class="ident" id="8610492">Elem</span><span class="op" id="8610496">(</span><span class="op" id="8610497">)</span><span class="op" id="8610498">.</span><span class="ident" id="8610499">Interface</span><span class="op" id="8610508">(</span><span class="op" id="8610509">)</span><span class="op" id="8610510">,</span>&nbsp;<span class="ident" id="8610512">tt</span><span class="op" id="8610514">.</span><span class="ident" id="8610515">out</span><span class="op" id="8610518">)</span>&nbsp;<span class="op" id="8610520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610525">t</span><span class="op" id="8610526">.</span><span class="ident" id="8610527">Errorf</span><span class="op" id="8610533">(</span><span class="string" id="8610534">&#34;#%d:&nbsp;mismatch\nhave:&nbsp;%#+v\nwant:&nbsp;%#+v&#34;</span><span class="op" id="8610573">,</span>&nbsp;<span class="ident" id="8610575">i</span><span class="op" id="8610576">,</span>&nbsp;<span class="ident" id="8610578">v</span><span class="op" id="8610579">.</span><span class="ident" id="8610580">Elem</span><span class="op" id="8610584">(</span><span class="op" id="8610585">)</span><span class="op" id="8610586">.</span><span class="ident" id="8610587">Interface</span><span class="op" id="8610596">(</span><span class="op" id="8610597">)</span><span class="op" id="8610598">,</span>&nbsp;<span class="ident" id="8610600">tt</span><span class="op" id="8610602">.</span><span class="ident" id="8610603">out</span><span class="op" id="8610606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610611">data</span><span class="op" id="8610615">,</span>&nbsp;<span class="ident" id="8610617">_</span>&nbsp;<span class="op" id="8610619">:=</span>&nbsp;<span class="ident" id="8610622">Marshal</span><span class="op" id="8610629">(</span><span class="ident" id="8610630">v</span><span class="op" id="8610631">.</span><span class="ident" id="8610632">Elem</span><span class="op" id="8610636">(</span><span class="op" id="8610637">)</span><span class="op" id="8610638">.</span><span class="ident" id="8610639">Interface</span><span class="op" id="8610648">(</span><span class="op" id="8610649">)</span><span class="op" id="8610650">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8610655">println</span><span class="op" id="8610662">(</span><span class="builtintype" id="8610663">string</span><span class="op" id="8610669">(</span><span class="ident" id="8610670">data</span><span class="op" id="8610674">)</span><span class="op" id="8610675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610680">data</span><span class="op" id="8610684">,</span>&nbsp;<span class="ident" id="8610686">_</span>&nbsp;<span class="op" id="8610688">=</span>&nbsp;<span class="ident" id="8610690">Marshal</span><span class="op" id="8610697">(</span><span class="ident" id="8610698">tt</span><span class="op" id="8610700">.</span><span class="ident" id="8610701">out</span><span class="op" id="8610704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8610709">println</span><span class="op" id="8610716">(</span><span class="builtintype" id="8610717">string</span><span class="op" id="8610723">(</span><span class="ident" id="8610724">data</span><span class="op" id="8610728">)</span><span class="op" id="8610729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610734">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610745">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8610750">//&nbsp;Check&nbsp;round&nbsp;trip.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610773">if</span>&nbsp;<span class="ident" id="8610776">tt</span><span class="op" id="8610778">.</span><span class="ident" id="8610779">err</span>&nbsp;<span class="op" id="8610783">==</span>&nbsp;<span class="ident" id="8610786">nil</span>&nbsp;<span class="op" id="8610790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610795">enc</span><span class="op" id="8610798">,</span>&nbsp;<span class="ident" id="8610800">err</span>&nbsp;<span class="op" id="8610804">:=</span>&nbsp;<span class="ident" id="8610807">Marshal</span><span class="op" id="8610814">(</span><span class="ident" id="8610815">v</span><span class="op" id="8610816">.</span><span class="ident" id="8610817">Interface</span><span class="op" id="8610826">(</span><span class="op" id="8610827">)</span><span class="op" id="8610828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610833">if</span>&nbsp;<span class="ident" id="8610836">err</span>&nbsp;<span class="op" id="8610840">!=</span>&nbsp;<span class="ident" id="8610843">nil</span>&nbsp;<span class="op" id="8610847">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610853">t</span><span class="op" id="8610854">.</span><span class="ident" id="8610855">Errorf</span><span class="op" id="8610861">(</span><span class="string" id="8610862">&#34;#%d:&nbsp;error&nbsp;re-marshaling:&nbsp;%v&#34;</span><span class="op" id="8610892">,</span>&nbsp;<span class="ident" id="8610894">i</span><span class="op" id="8610895">,</span>&nbsp;<span class="ident" id="8610897">err</span><span class="op" id="8610900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8610906">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8610918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610923">vv</span>&nbsp;<span class="op" id="8610926">:=</span>&nbsp;<span class="ident" id="8610929">reflect</span><span class="op" id="8610936">.</span><span class="ident" id="8610937">New</span><span class="op" id="8610940">(</span><span class="ident" id="8610941">reflect</span><span class="op" id="8610948">.</span><span class="ident" id="8610949">TypeOf</span><span class="op" id="8610955">(</span><span class="ident" id="8610956">tt</span><span class="op" id="8610958">.</span><span class="ident" id="8610959">ptr</span><span class="op" id="8610962">)</span><span class="op" id="8610963">.</span><span class="ident" id="8610964">Elem</span><span class="op" id="8610968">(</span><span class="op" id="8610969">)</span><span class="op" id="8610970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8610975">dec</span>&nbsp;<span class="op" id="8610979">=</span>&nbsp;<span class="ident" id="8610981">NewDecoder</span><span class="op" id="8610991">(</span><span class="ident" id="8610992">bytes</span><span class="op" id="8610997">.</span><span class="ident" id="8610998">NewReader</span><span class="op" id="8611007">(</span><span class="ident" id="8611008">enc</span><span class="op" id="8611011">)</span><span class="op" id="8611012">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611017">if</span>&nbsp;<span class="ident" id="8611020">tt</span><span class="op" id="8611022">.</span><span class="ident" id="8611023">useNumber</span>&nbsp;<span class="op" id="8611033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611039">dec</span><span class="op" id="8611042">.</span><span class="ident" id="8611043">UseNumber</span><span class="op" id="8611052">(</span><span class="op" id="8611053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611063">if</span>&nbsp;<span class="ident" id="8611066">err</span>&nbsp;<span class="op" id="8611070">:=</span>&nbsp;<span class="ident" id="8611073">dec</span><span class="op" id="8611076">.</span><span class="ident" id="8611077">Decode</span><span class="op" id="8611083">(</span><span class="ident" id="8611084">vv</span><span class="op" id="8611086">.</span><span class="ident" id="8611087">Interface</span><span class="op" id="8611096">(</span><span class="op" id="8611097">)</span><span class="op" id="8611098">)</span><span class="op" id="8611099">;</span>&nbsp;<span class="ident" id="8611101">err</span>&nbsp;<span class="op" id="8611105">!=</span>&nbsp;<span class="ident" id="8611108">nil</span>&nbsp;<span class="op" id="8611112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611118">t</span><span class="op" id="8611119">.</span><span class="ident" id="8611120">Errorf</span><span class="op" id="8611126">(</span><span class="string" id="8611127">&#34;#%d:&nbsp;error&nbsp;re-unmarshaling&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8611163">,</span>&nbsp;<span class="ident" id="8611165">i</span><span class="op" id="8611166">,</span>&nbsp;<span class="ident" id="8611168">enc</span><span class="op" id="8611171">,</span>&nbsp;<span class="ident" id="8611173">err</span><span class="op" id="8611176">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611182">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611199">if</span>&nbsp;<span class="op" id="8611202">!</span><span class="ident" id="8611203">reflect</span><span class="op" id="8611210">.</span><span class="ident" id="8611211">DeepEqual</span><span class="op" id="8611220">(</span><span class="ident" id="8611221">v</span><span class="op" id="8611222">.</span><span class="ident" id="8611223">Elem</span><span class="op" id="8611227">(</span><span class="op" id="8611228">)</span><span class="op" id="8611229">.</span><span class="ident" id="8611230">Interface</span><span class="op" id="8611239">(</span><span class="op" id="8611240">)</span><span class="op" id="8611241">,</span>&nbsp;<span class="ident" id="8611243">vv</span><span class="op" id="8611245">.</span><span class="ident" id="8611246">Elem</span><span class="op" id="8611250">(</span><span class="op" id="8611251">)</span><span class="op" id="8611252">.</span><span class="ident" id="8611253">Interface</span><span class="op" id="8611262">(</span><span class="op" id="8611263">)</span><span class="op" id="8611264">)</span>&nbsp;<span class="op" id="8611266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611272">t</span><span class="op" id="8611273">.</span><span class="ident" id="8611274">Errorf</span><span class="op" id="8611280">(</span><span class="string" id="8611281">&#34;#%d:&nbsp;mismatch\nhave:&nbsp;%#+v\nwant:&nbsp;%#+v&#34;</span><span class="op" id="8611320">,</span>&nbsp;<span class="ident" id="8611322">i</span><span class="op" id="8611323">,</span>&nbsp;<span class="ident" id="8611325">v</span><span class="op" id="8611326">.</span><span class="ident" id="8611327">Elem</span><span class="op" id="8611331">(</span><span class="op" id="8611332">)</span><span class="op" id="8611333">.</span><span class="ident" id="8611334">Interface</span><span class="op" id="8611343">(</span><span class="op" id="8611344">)</span><span class="op" id="8611345">,</span>&nbsp;<span class="ident" id="8611347">vv</span><span class="op" id="8611349">.</span><span class="ident" id="8611350">Elem</span><span class="op" id="8611354">(</span><span class="op" id="8611355">)</span><span class="op" id="8611356">.</span><span class="ident" id="8611357">Interface</span><span class="op" id="8611366">(</span><span class="op" id="8611367">)</span><span class="op" id="8611368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611374">t</span><span class="op" id="8611375">.</span><span class="ident" id="8611376">Errorf</span><span class="op" id="8611382">(</span><span class="string" id="8611383">&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In:&nbsp;%q&#34;</span><span class="op" id="8611396">,</span>&nbsp;<span class="ident" id="8611398">strings</span><span class="op" id="8611405">.</span><span class="ident" id="8611406">Map</span><span class="op" id="8611409">(</span><span class="ident" id="8611410">noSpace</span><span class="op" id="8611417">,</span>&nbsp;<span class="builtintype" id="8611419">string</span><span class="op" id="8611425">(</span><span class="ident" id="8611426">in</span><span class="op" id="8611428">)</span><span class="op" id="8611429">)</span><span class="op" id="8611430">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611436">t</span><span class="op" id="8611437">.</span><span class="ident" id="8611438">Errorf</span><span class="op" id="8611444">(</span><span class="string" id="8611445">&#34;Marshal:&nbsp;%q&#34;</span><span class="op" id="8611458">,</span>&nbsp;<span class="ident" id="8611460">strings</span><span class="op" id="8611467">.</span><span class="ident" id="8611468">Map</span><span class="op" id="8611471">(</span><span class="ident" id="8611472">noSpace</span><span class="op" id="8611479">,</span>&nbsp;<span class="builtintype" id="8611481">string</span><span class="op" id="8611487">(</span><span class="ident" id="8611488">enc</span><span class="op" id="8611491">)</span><span class="op" id="8611492">)</span><span class="op" id="8611493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611499">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611518">}</span><br>
<span class="lineno">570</span><span class="op" id="8611520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8611523">func</span>&nbsp;<span class="ident" id="8611528">TestUnmarshalMarshal</span><span class="op" id="8611548">(</span><span class="ident" id="8611549">t</span>&nbsp;<span class="op" id="8611551">*</span><span class="ident" id="8611552">testing</span><span class="op" id="8611559">.</span><span class="ident" id="8611560">T</span><span class="op" id="8611561">)</span>&nbsp;<span class="op" id="8611563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611566">initBig</span><span class="op" id="8611573">(</span><span class="op" id="8611574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611577">var</span>&nbsp;<span class="ident" id="8611581">v</span>&nbsp;<span class="keyword" id="8611583">interface</span><span class="op" id="8611592">{</span><span class="op" id="8611593">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611596">if</span>&nbsp;<span class="ident" id="8611599">err</span>&nbsp;<span class="op" id="8611603">:=</span>&nbsp;<span class="ident" id="8611606">Unmarshal</span><span class="op" id="8611615">(</span><span class="ident" id="8611616">jsonBig</span><span class="op" id="8611623">,</span>&nbsp;<span class="op" id="8611625">&amp;</span><span class="ident" id="8611626">v</span><span class="op" id="8611627">)</span><span class="op" id="8611628">;</span>&nbsp;<span class="ident" id="8611630">err</span>&nbsp;<span class="op" id="8611634">!=</span>&nbsp;<span class="ident" id="8611637">nil</span>&nbsp;<span class="op" id="8611641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611645">t</span><span class="op" id="8611646">.</span><span class="ident" id="8611647">Fatalf</span><span class="op" id="8611653">(</span><span class="string" id="8611654">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8611669">,</span>&nbsp;<span class="ident" id="8611671">err</span><span class="op" id="8611674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611680">b</span><span class="op" id="8611681">,</span>&nbsp;<span class="ident" id="8611683">err</span>&nbsp;<span class="op" id="8611687">:=</span>&nbsp;<span class="ident" id="8611690">Marshal</span><span class="op" id="8611697">(</span><span class="ident" id="8611698">v</span><span class="op" id="8611699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611702">if</span>&nbsp;<span class="ident" id="8611705">err</span>&nbsp;<span class="op" id="8611709">!=</span>&nbsp;<span class="ident" id="8611712">nil</span>&nbsp;<span class="op" id="8611716">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611720">t</span><span class="op" id="8611721">.</span><span class="ident" id="8611722">Fatalf</span><span class="op" id="8611728">(</span><span class="string" id="8611729">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8611742">,</span>&nbsp;<span class="ident" id="8611744">err</span><span class="op" id="8611747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611753">if</span>&nbsp;<span class="op" id="8611756">!</span><span class="ident" id="8611757">bytes</span><span class="op" id="8611762">.</span><span class="ident" id="8611763">Equal</span><span class="op" id="8611768">(</span><span class="ident" id="8611769">jsonBig</span><span class="op" id="8611776">,</span>&nbsp;<span class="ident" id="8611778">b</span><span class="op" id="8611779">)</span>&nbsp;<span class="op" id="8611781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611785">t</span><span class="op" id="8611786">.</span><span class="ident" id="8611787">Errorf</span><span class="op" id="8611793">(</span><span class="string" id="8611794">&#34;Marshal&nbsp;jsonBig&#34;</span><span class="op" id="8611811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611815">diff</span><span class="op" id="8611819">(</span><span class="ident" id="8611820">t</span><span class="op" id="8611821">,</span>&nbsp;<span class="ident" id="8611823">b</span><span class="op" id="8611824">,</span>&nbsp;<span class="ident" id="8611826">jsonBig</span><span class="op" id="8611833">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8611837">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611845">}</span><br>
<span class="lineno"></span><span class="op" id="8611847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8611850">var</span>&nbsp;<span class="ident" id="8611854">numberTests</span>&nbsp;<span class="op" id="8611866">=</span>&nbsp;<span class="op" id="8611868">[</span><span class="op" id="8611869">]</span><span class="keyword" id="8611870">struct</span>&nbsp;<span class="op" id="8611877">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611880">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8611889">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611897">i</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8611906">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611913">intErr</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8611922">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611930">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8611939">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8611948">floatErr</span>&nbsp;<span class="builtintype" id="8611957">string</span><br>
<span class="lineno">595</span><span class="op" id="8611964">}</span><span class="op" id="8611965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8611968">{</span><span class="ident" id="8611969">in</span><span class="op" id="8611971">:</span>&nbsp;<span class="string" id="8611973">&#34;-1.23e1&#34;</span><span class="op" id="8611982">,</span>&nbsp;<span class="ident" id="8611984">intErr</span><span class="op" id="8611990">:</span>&nbsp;<span class="string" id="8611992">&#34;strconv.ParseInt:&nbsp;parsing&nbsp;\&#34;-1.23e1\&#34;:&nbsp;invalid&nbsp;syntax&#34;</span><span class="op" id="8612047">,</span>&nbsp;<span class="ident" id="8612049">f</span><span class="op" id="8612050">:</span>&nbsp;<span class="op" id="8612052">-</span><span class="num" id="8612053">1.23e1</span><span class="op" id="8612059">}</span><span class="op" id="8612060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612063">{</span><span class="ident" id="8612064">in</span><span class="op" id="8612066">:</span>&nbsp;<span class="string" id="8612068">&#34;-12&#34;</span><span class="op" id="8612073">,</span>&nbsp;<span class="ident" id="8612075">i</span><span class="op" id="8612076">:</span>&nbsp;<span class="op" id="8612078">-</span><span class="num" id="8612079">12</span><span class="op" id="8612081">,</span>&nbsp;<span class="ident" id="8612083">f</span><span class="op" id="8612084">:</span>&nbsp;<span class="op" id="8612086">-</span><span class="num" id="8612087">12.0</span><span class="op" id="8612091">}</span><span class="op" id="8612092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612095">{</span><span class="ident" id="8612096">in</span><span class="op" id="8612098">:</span>&nbsp;<span class="string" id="8612100">&#34;1e1000&#34;</span><span class="op" id="8612108">,</span>&nbsp;<span class="ident" id="8612110">intErr</span><span class="op" id="8612116">:</span>&nbsp;<span class="string" id="8612118">&#34;strconv.ParseInt:&nbsp;parsing&nbsp;\&#34;1e1000\&#34;:&nbsp;invalid&nbsp;syntax&#34;</span><span class="op" id="8612172">,</span>&nbsp;<span class="ident" id="8612174">floatErr</span><span class="op" id="8612182">:</span>&nbsp;<span class="string" id="8612184">&#34;strconv.ParseFloat:&nbsp;parsing&nbsp;\&#34;1e1000\&#34;:&nbsp;value&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="8612244">}</span><span class="op" id="8612245">,</span><br>
<span class="lineno"></span><span class="op" id="8612247">}</span><br>
<span class="lineno">600</span><br>
<span class="lineno"></span><span class="comment" id="8612250">//&nbsp;Independent&nbsp;of&nbsp;Decode,&nbsp;basic&nbsp;coverage&nbsp;of&nbsp;the&nbsp;accessors&nbsp;in&nbsp;Number</span><br>
<span class="lineno"></span><span class="keyword" id="8612318">func</span>&nbsp;<span class="ident" id="8612323">TestNumberAccessors</span><span class="op" id="8612342">(</span><span class="ident" id="8612343">t</span>&nbsp;<span class="op" id="8612345">*</span><span class="ident" id="8612346">testing</span><span class="op" id="8612353">.</span><span class="ident" id="8612354">T</span><span class="op" id="8612355">)</span>&nbsp;<span class="op" id="8612357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612360">for</span>&nbsp;<span class="ident" id="8612364">_</span><span class="op" id="8612365">,</span>&nbsp;<span class="ident" id="8612367">tt</span>&nbsp;<span class="op" id="8612370">:=</span>&nbsp;<span class="keyword" id="8612373">range</span>&nbsp;<span class="ident" id="8612379">numberTests</span>&nbsp;<span class="op" id="8612391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612395">n</span>&nbsp;<span class="op" id="8612397">:=</span>&nbsp;<span class="ident" id="8612400">Number</span><span class="op" id="8612406">(</span><span class="ident" id="8612407">tt</span><span class="op" id="8612409">.</span><span class="ident" id="8612410">in</span><span class="op" id="8612412">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612416">if</span>&nbsp;<span class="ident" id="8612419">s</span>&nbsp;<span class="op" id="8612421">:=</span>&nbsp;<span class="ident" id="8612424">n</span><span class="op" id="8612425">.</span><span class="ident" id="8612426">String</span><span class="op" id="8612432">(</span><span class="op" id="8612433">)</span><span class="op" id="8612434">;</span>&nbsp;<span class="ident" id="8612436">s</span>&nbsp;<span class="op" id="8612438">!=</span>&nbsp;<span class="ident" id="8612441">tt</span><span class="op" id="8612443">.</span><span class="ident" id="8612444">in</span>&nbsp;<span class="op" id="8612447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612452">t</span><span class="op" id="8612453">.</span><span class="ident" id="8612454">Errorf</span><span class="op" id="8612460">(</span><span class="string" id="8612461">&#34;Number(%q).String()&nbsp;is&nbsp;%q&#34;</span><span class="op" id="8612488">,</span>&nbsp;<span class="ident" id="8612490">tt</span><span class="op" id="8612492">.</span><span class="ident" id="8612493">in</span><span class="op" id="8612495">,</span>&nbsp;<span class="ident" id="8612497">s</span><span class="op" id="8612498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612506">if</span>&nbsp;<span class="ident" id="8612509">i</span><span class="op" id="8612510">,</span>&nbsp;<span class="ident" id="8612512">err</span>&nbsp;<span class="op" id="8612516">:=</span>&nbsp;<span class="ident" id="8612519">n</span><span class="op" id="8612520">.</span><span class="ident" id="8612521">Int64</span><span class="op" id="8612526">(</span><span class="op" id="8612527">)</span><span class="op" id="8612528">;</span>&nbsp;<span class="ident" id="8612530">err</span>&nbsp;<span class="op" id="8612534">==</span>&nbsp;<span class="ident" id="8612537">nil</span>&nbsp;<span class="op" id="8612541">&amp;&amp;</span>&nbsp;<span class="ident" id="8612544">tt</span><span class="op" id="8612546">.</span><span class="ident" id="8612547">intErr</span>&nbsp;<span class="op" id="8612554">==</span>&nbsp;<span class="string" id="8612557">&#34;&#34;</span>&nbsp;<span class="op" id="8612560">&amp;&amp;</span>&nbsp;<span class="ident" id="8612563">i</span>&nbsp;<span class="op" id="8612565">!=</span>&nbsp;<span class="ident" id="8612568">tt</span><span class="op" id="8612570">.</span><span class="ident" id="8612571">i</span>&nbsp;<span class="op" id="8612573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612578">t</span><span class="op" id="8612579">.</span><span class="ident" id="8612580">Errorf</span><span class="op" id="8612586">(</span><span class="string" id="8612587">&#34;Number(%q).Int64()&nbsp;is&nbsp;%d&#34;</span><span class="op" id="8612613">,</span>&nbsp;<span class="ident" id="8612615">tt</span><span class="op" id="8612617">.</span><span class="ident" id="8612618">in</span><span class="op" id="8612620">,</span>&nbsp;<span class="ident" id="8612622">i</span><span class="op" id="8612623">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612627">}</span>&nbsp;<span class="keyword" id="8612629">else</span>&nbsp;<span class="keyword" id="8612634">if</span>&nbsp;<span class="op" id="8612637">(</span><span class="ident" id="8612638">err</span>&nbsp;<span class="op" id="8612642">==</span>&nbsp;<span class="ident" id="8612645">nil</span>&nbsp;<span class="op" id="8612649">&amp;&amp;</span>&nbsp;<span class="ident" id="8612652">tt</span><span class="op" id="8612654">.</span><span class="ident" id="8612655">intErr</span>&nbsp;<span class="op" id="8612662">!=</span>&nbsp;<span class="string" id="8612665">&#34;&#34;</span><span class="op" id="8612667">)</span>&nbsp;<span class="op" id="8612669">||</span>&nbsp;<span class="op" id="8612672">(</span><span class="ident" id="8612673">err</span>&nbsp;<span class="op" id="8612677">!=</span>&nbsp;<span class="ident" id="8612680">nil</span>&nbsp;<span class="op" id="8612684">&amp;&amp;</span>&nbsp;<span class="ident" id="8612687">err</span><span class="op" id="8612690">.</span><span class="ident" id="8612691">Error</span><span class="op" id="8612696">(</span><span class="op" id="8612697">)</span>&nbsp;<span class="op" id="8612699">!=</span>&nbsp;<span class="ident" id="8612702">tt</span><span class="op" id="8612704">.</span><span class="ident" id="8612705">intErr</span><span class="op" id="8612711">)</span>&nbsp;<span class="op" id="8612713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612718">t</span><span class="op" id="8612719">.</span><span class="ident" id="8612720">Errorf</span><span class="op" id="8612726">(</span><span class="string" id="8612727">&#34;Number(%q).Int64()&nbsp;wanted&nbsp;error&nbsp;%q&nbsp;but&nbsp;got:&nbsp;%v&#34;</span><span class="op" id="8612775">,</span>&nbsp;<span class="ident" id="8612777">tt</span><span class="op" id="8612779">.</span><span class="ident" id="8612780">in</span><span class="op" id="8612782">,</span>&nbsp;<span class="ident" id="8612784">tt</span><span class="op" id="8612786">.</span><span class="ident" id="8612787">intErr</span><span class="op" id="8612793">,</span>&nbsp;<span class="ident" id="8612795">err</span><span class="op" id="8612798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8612806">if</span>&nbsp;<span class="ident" id="8612809">f</span><span class="op" id="8612810">,</span>&nbsp;<span class="ident" id="8612812">err</span>&nbsp;<span class="op" id="8612816">:=</span>&nbsp;<span class="ident" id="8612819">n</span><span class="op" id="8612820">.</span><span class="ident" id="8612821">Float64</span><span class="op" id="8612828">(</span><span class="op" id="8612829">)</span><span class="op" id="8612830">;</span>&nbsp;<span class="ident" id="8612832">err</span>&nbsp;<span class="op" id="8612836">==</span>&nbsp;<span class="ident" id="8612839">nil</span>&nbsp;<span class="op" id="8612843">&amp;&amp;</span>&nbsp;<span class="ident" id="8612846">tt</span><span class="op" id="8612848">.</span><span class="ident" id="8612849">floatErr</span>&nbsp;<span class="op" id="8612858">==</span>&nbsp;<span class="string" id="8612861">&#34;&#34;</span>&nbsp;<span class="op" id="8612864">&amp;&amp;</span>&nbsp;<span class="ident" id="8612867">f</span>&nbsp;<span class="op" id="8612869">!=</span>&nbsp;<span class="ident" id="8612872">tt</span><span class="op" id="8612874">.</span><span class="ident" id="8612875">f</span>&nbsp;<span class="op" id="8612877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8612882">t</span><span class="op" id="8612883">.</span><span class="ident" id="8612884">Errorf</span><span class="op" id="8612890">(</span><span class="string" id="8612891">&#34;Number(%q).Float64()&nbsp;is&nbsp;%g&#34;</span><span class="op" id="8612919">,</span>&nbsp;<span class="ident" id="8612921">tt</span><span class="op" id="8612923">.</span><span class="ident" id="8612924">in</span><span class="op" id="8612926">,</span>&nbsp;<span class="ident" id="8612928">f</span><span class="op" id="8612929">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8612933">}</span>&nbsp;<span class="keyword" id="8612935">else</span>&nbsp;<span class="keyword" id="8612940">if</span>&nbsp;<span class="op" id="8612943">(</span><span class="ident" id="8612944">err</span>&nbsp;<span class="op" id="8612948">==</span>&nbsp;<span class="ident" id="8612951">nil</span>&nbsp;<span class="op" id="8612955">&amp;&amp;</span>&nbsp;<span class="ident" id="8612958">tt</span><span class="op" id="8612960">.</span><span class="ident" id="8612961">floatErr</span>&nbsp;<span class="op" id="8612970">!=</span>&nbsp;<span class="string" id="8612973">&#34;&#34;</span><span class="op" id="8612975">)</span>&nbsp;<span class="op" id="8612977">||</span>&nbsp;<span class="op" id="8612980">(</span><span class="ident" id="8612981">err</span>&nbsp;<span class="op" id="8612985">!=</span>&nbsp;<span class="ident" id="8612988">nil</span>&nbsp;<span class="op" id="8612992">&amp;&amp;</span>&nbsp;<span class="ident" id="8612995">err</span><span class="op" id="8612998">.</span><span class="ident" id="8612999">Error</span><span class="op" id="8613004">(</span><span class="op" id="8613005">)</span>&nbsp;<span class="op" id="8613007">!=</span>&nbsp;<span class="ident" id="8613010">tt</span><span class="op" id="8613012">.</span><span class="ident" id="8613013">floatErr</span><span class="op" id="8613021">)</span>&nbsp;<span class="op" id="8613023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613028">t</span><span class="op" id="8613029">.</span><span class="ident" id="8613030">Errorf</span><span class="op" id="8613036">(</span><span class="string" id="8613037">&#34;Number(%q).Float64()&nbsp;wanted&nbsp;error&nbsp;%q&nbsp;but&nbsp;got:&nbsp;%v&#34;</span><span class="op" id="8613087">,</span>&nbsp;<span class="ident" id="8613089">tt</span><span class="op" id="8613091">.</span><span class="ident" id="8613092">in</span><span class="op" id="8613094">,</span>&nbsp;<span class="ident" id="8613096">tt</span><span class="op" id="8613098">.</span><span class="ident" id="8613099">floatErr</span><span class="op" id="8613107">,</span>&nbsp;<span class="ident" id="8613109">err</span><span class="op" id="8613112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613119">}</span><br>
<span class="lineno"></span><span class="op" id="8613121">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span><span class="keyword" id="8613124">func</span>&nbsp;<span class="ident" id="8613129">TestLargeByteSlice</span><span class="op" id="8613147">(</span><span class="ident" id="8613148">t</span>&nbsp;<span class="op" id="8613150">*</span><span class="ident" id="8613151">testing</span><span class="op" id="8613158">.</span><span class="ident" id="8613159">T</span><span class="op" id="8613160">)</span>&nbsp;<span class="op" id="8613162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613165">s0</span>&nbsp;<span class="op" id="8613168">:=</span>&nbsp;<span class="builtinfunc" id="8613171">make</span><span class="op" id="8613175">(</span><span class="op" id="8613176">[</span><span class="op" id="8613177">]</span><span class="builtintype" id="8613178">byte</span><span class="op" id="8613182">,</span>&nbsp;<span class="num" id="8613184">2000</span><span class="op" id="8613188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613191">for</span>&nbsp;<span class="ident" id="8613195">i</span>&nbsp;<span class="op" id="8613197">:=</span>&nbsp;<span class="keyword" id="8613200">range</span>&nbsp;<span class="ident" id="8613206">s0</span>&nbsp;<span class="op" id="8613209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613213">s0</span><span class="op" id="8613215">[</span><span class="ident" id="8613216">i</span><span class="op" id="8613217">]</span>&nbsp;<span class="op" id="8613219">=</span>&nbsp;<span class="builtintype" id="8613221">byte</span><span class="op" id="8613225">(</span><span class="ident" id="8613226">i</span><span class="op" id="8613227">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613233">b</span><span class="op" id="8613234">,</span>&nbsp;<span class="ident" id="8613236">err</span>&nbsp;<span class="op" id="8613240">:=</span>&nbsp;<span class="ident" id="8613243">Marshal</span><span class="op" id="8613250">(</span><span class="ident" id="8613251">s0</span><span class="op" id="8613253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613256">if</span>&nbsp;<span class="ident" id="8613259">err</span>&nbsp;<span class="op" id="8613263">!=</span>&nbsp;<span class="ident" id="8613266">nil</span>&nbsp;<span class="op" id="8613270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613274">t</span><span class="op" id="8613275">.</span><span class="ident" id="8613276">Fatalf</span><span class="op" id="8613282">(</span><span class="string" id="8613283">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="8613296">,</span>&nbsp;<span class="ident" id="8613298">err</span><span class="op" id="8613301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613304">}</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613307">var</span>&nbsp;<span class="ident" id="8613311">s1</span>&nbsp;<span class="op" id="8613314">[</span><span class="op" id="8613315">]</span><span class="builtintype" id="8613316">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613322">if</span>&nbsp;<span class="ident" id="8613325">err</span>&nbsp;<span class="op" id="8613329">:=</span>&nbsp;<span class="ident" id="8613332">Unmarshal</span><span class="op" id="8613341">(</span><span class="ident" id="8613342">b</span><span class="op" id="8613343">,</span>&nbsp;<span class="op" id="8613345">&amp;</span><span class="ident" id="8613346">s1</span><span class="op" id="8613348">)</span><span class="op" id="8613349">;</span>&nbsp;<span class="ident" id="8613351">err</span>&nbsp;<span class="op" id="8613355">!=</span>&nbsp;<span class="ident" id="8613358">nil</span>&nbsp;<span class="op" id="8613362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613366">t</span><span class="op" id="8613367">.</span><span class="ident" id="8613368">Fatalf</span><span class="op" id="8613374">(</span><span class="string" id="8613375">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8613390">,</span>&nbsp;<span class="ident" id="8613392">err</span><span class="op" id="8613395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613401">if</span>&nbsp;<span class="op" id="8613404">!</span><span class="ident" id="8613405">bytes</span><span class="op" id="8613410">.</span><span class="ident" id="8613411">Equal</span><span class="op" id="8613416">(</span><span class="ident" id="8613417">s0</span><span class="op" id="8613419">,</span>&nbsp;<span class="ident" id="8613421">s1</span><span class="op" id="8613423">)</span>&nbsp;<span class="op" id="8613425">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613429">t</span><span class="op" id="8613430">.</span><span class="ident" id="8613431">Errorf</span><span class="op" id="8613437">(</span><span class="string" id="8613438">&#34;Marshal&nbsp;large&nbsp;byte&nbsp;slice&#34;</span><span class="op" id="8613464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613468">diff</span><span class="op" id="8613472">(</span><span class="ident" id="8613473">t</span><span class="op" id="8613474">,</span>&nbsp;<span class="ident" id="8613476">s0</span><span class="op" id="8613478">,</span>&nbsp;<span class="ident" id="8613480">s1</span><span class="op" id="8613482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613485">}</span><br>
<span class="lineno"></span><span class="op" id="8613487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="8613490">type</span>&nbsp;<span class="ident" id="8613495">Xint</span>&nbsp;<span class="keyword" id="8613500">struct</span>&nbsp;<span class="op" id="8613507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613510">X</span>&nbsp;<span class="builtintype" id="8613512">int</span><br>
<span class="lineno"></span><span class="op" id="8613516">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8613519">func</span>&nbsp;<span class="ident" id="8613524">TestUnmarshalInterface</span><span class="op" id="8613546">(</span><span class="ident" id="8613547">t</span>&nbsp;<span class="op" id="8613549">*</span><span class="ident" id="8613550">testing</span><span class="op" id="8613557">.</span><span class="ident" id="8613558">T</span><span class="op" id="8613559">)</span>&nbsp;<span class="op" id="8613561">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613564">var</span>&nbsp;<span class="ident" id="8613568">xint</span>&nbsp;<span class="ident" id="8613573">Xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613579">var</span>&nbsp;<span class="ident" id="8613583">i</span>&nbsp;<span class="keyword" id="8613585">interface</span><span class="op" id="8613594">{</span><span class="op" id="8613595">}</span>&nbsp;<span class="op" id="8613597">=</span>&nbsp;<span class="op" id="8613599">&amp;</span><span class="ident" id="8613600">xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613606">if</span>&nbsp;<span class="ident" id="8613609">err</span>&nbsp;<span class="op" id="8613613">:=</span>&nbsp;<span class="ident" id="8613616">Unmarshal</span><span class="op" id="8613625">(</span><span class="op" id="8613626">[</span><span class="op" id="8613627">]</span><span class="builtintype" id="8613628">byte</span><span class="op" id="8613632">(</span><span class="string" id="8613633">`{&#34;X&#34;:1}`</span><span class="op" id="8613642">)</span><span class="op" id="8613643">,</span>&nbsp;<span class="op" id="8613645">&amp;</span><span class="ident" id="8613646">i</span><span class="op" id="8613647">)</span><span class="op" id="8613648">;</span>&nbsp;<span class="ident" id="8613650">err</span>&nbsp;<span class="op" id="8613654">!=</span>&nbsp;<span class="ident" id="8613657">nil</span>&nbsp;<span class="op" id="8613661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613665">t</span><span class="op" id="8613666">.</span><span class="ident" id="8613667">Fatalf</span><span class="op" id="8613673">(</span><span class="string" id="8613674">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8613689">,</span>&nbsp;<span class="ident" id="8613691">err</span><span class="op" id="8613694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613697">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613700">if</span>&nbsp;<span class="ident" id="8613703">xint</span><span class="op" id="8613707">.</span><span class="ident" id="8613708">X</span>&nbsp;<span class="op" id="8613710">!=</span>&nbsp;<span class="num" id="8613713">1</span>&nbsp;<span class="op" id="8613715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613719">t</span><span class="op" id="8613720">.</span><span class="ident" id="8613721">Fatalf</span><span class="op" id="8613727">(</span><span class="string" id="8613728">&#34;Did&nbsp;not&nbsp;write&nbsp;to&nbsp;xint&#34;</span><span class="op" id="8613751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613754">}</span><br>
<span class="lineno"></span><span class="op" id="8613756">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="8613759">func</span>&nbsp;<span class="ident" id="8613764">TestUnmarshalPtrPtr</span><span class="op" id="8613783">(</span><span class="ident" id="8613784">t</span>&nbsp;<span class="op" id="8613786">*</span><span class="ident" id="8613787">testing</span><span class="op" id="8613794">.</span><span class="ident" id="8613795">T</span><span class="op" id="8613796">)</span>&nbsp;<span class="op" id="8613798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613801">var</span>&nbsp;<span class="ident" id="8613805">xint</span>&nbsp;<span class="ident" id="8613810">Xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613816">pxint</span>&nbsp;<span class="op" id="8613822">:=</span>&nbsp;<span class="op" id="8613825">&amp;</span><span class="ident" id="8613826">xint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613832">if</span>&nbsp;<span class="ident" id="8613835">err</span>&nbsp;<span class="op" id="8613839">:=</span>&nbsp;<span class="ident" id="8613842">Unmarshal</span><span class="op" id="8613851">(</span><span class="op" id="8613852">[</span><span class="op" id="8613853">]</span><span class="builtintype" id="8613854">byte</span><span class="op" id="8613858">(</span><span class="string" id="8613859">`{&#34;X&#34;:1}`</span><span class="op" id="8613868">)</span><span class="op" id="8613869">,</span>&nbsp;<span class="op" id="8613871">&amp;</span><span class="ident" id="8613872">pxint</span><span class="op" id="8613877">)</span><span class="op" id="8613878">;</span>&nbsp;<span class="ident" id="8613880">err</span>&nbsp;<span class="op" id="8613884">!=</span>&nbsp;<span class="ident" id="8613887">nil</span>&nbsp;<span class="op" id="8613891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613895">t</span><span class="op" id="8613896">.</span><span class="ident" id="8613897">Fatalf</span><span class="op" id="8613903">(</span><span class="string" id="8613904">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8613919">,</span>&nbsp;<span class="ident" id="8613921">err</span><span class="op" id="8613924">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8613930">if</span>&nbsp;<span class="ident" id="8613933">xint</span><span class="op" id="8613937">.</span><span class="ident" id="8613938">X</span>&nbsp;<span class="op" id="8613940">!=</span>&nbsp;<span class="num" id="8613943">1</span>&nbsp;<span class="op" id="8613945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8613949">t</span><span class="op" id="8613950">.</span><span class="ident" id="8613951">Fatalf</span><span class="op" id="8613957">(</span><span class="string" id="8613958">&#34;Did&nbsp;not&nbsp;write&nbsp;to&nbsp;xint&#34;</span><span class="op" id="8613981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8613984">}</span><br>
<span class="lineno"></span><span class="op" id="8613986">}</span><br>
<span class="lineno">665</span><br>
<span class="lineno"></span><span class="keyword" id="8613989">func</span>&nbsp;<span class="ident" id="8613994">TestEscape</span><span class="op" id="8614004">(</span><span class="ident" id="8614005">t</span>&nbsp;<span class="op" id="8614007">*</span><span class="ident" id="8614008">testing</span><span class="op" id="8614015">.</span><span class="ident" id="8614016">T</span><span class="op" id="8614017">)</span>&nbsp;<span class="op" id="8614019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614022">const</span>&nbsp;<span class="ident" id="8614028">input</span>&nbsp;<span class="op" id="8614034">=</span>&nbsp;<span class="string" id="8614036">`&#34;foobar&#34;&lt;html&gt;`</span>&nbsp;<span class="op" id="8614053">+</span>&nbsp;<span class="string" id="8614055">&#34;&nbsp;[\u2028&nbsp;\u2029]&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614075">const</span>&nbsp;<span class="ident" id="8614081">expected</span>&nbsp;<span class="op" id="8614090">=</span>&nbsp;<span class="string" id="8614092">`&#34;\&#34;foobar\&#34;\u003chtml\u003e&nbsp;[\u2028&nbsp;\u2029]&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614140">b</span><span class="op" id="8614141">,</span>&nbsp;<span class="ident" id="8614143">err</span>&nbsp;<span class="op" id="8614147">:=</span>&nbsp;<span class="ident" id="8614150">Marshal</span><span class="op" id="8614157">(</span><span class="ident" id="8614158">input</span><span class="op" id="8614163">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614166">if</span>&nbsp;<span class="ident" id="8614169">err</span>&nbsp;<span class="op" id="8614173">!=</span>&nbsp;<span class="ident" id="8614176">nil</span>&nbsp;<span class="op" id="8614180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614184">t</span><span class="op" id="8614185">.</span><span class="ident" id="8614186">Fatalf</span><span class="op" id="8614192">(</span><span class="string" id="8614193">&#34;Marshal&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="8614212">,</span>&nbsp;<span class="ident" id="8614214">err</span><span class="op" id="8614217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8614223">if</span>&nbsp;<span class="ident" id="8614226">s</span>&nbsp;<span class="op" id="8614228">:=</span>&nbsp;<span class="builtintype" id="8614231">string</span><span class="op" id="8614237">(</span><span class="ident" id="8614238">b</span><span class="op" id="8614239">)</span><span class="op" id="8614240">;</span>&nbsp;<span class="ident" id="8614242">s</span>&nbsp;<span class="op" id="8614244">!=</span>&nbsp;<span class="ident" id="8614247">expected</span>&nbsp;<span class="op" id="8614256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614260">t</span><span class="op" id="8614261">.</span><span class="ident" id="8614262">Errorf</span><span class="op" id="8614268">(</span><span class="string" id="8614269">&#34;Encoding&nbsp;of&nbsp;[%s]:\n&nbsp;got&nbsp;[%s]\nwant&nbsp;[%s]&#34;</span><span class="op" id="8614310">,</span>&nbsp;<span class="ident" id="8614312">input</span><span class="op" id="8614317">,</span>&nbsp;<span class="ident" id="8614319">s</span><span class="op" id="8614320">,</span>&nbsp;<span class="ident" id="8614322">expected</span><span class="op" id="8614330">)</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614333">}</span><br>
<span class="lineno"></span><span class="op" id="8614335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8614338">//&nbsp;WrongString&nbsp;is&nbsp;a&nbsp;struct&nbsp;that&#39;s&nbsp;misusing&nbsp;the&nbsp;,string&nbsp;modifier.</span><br>
<span class="lineno"></span><span class="keyword" id="8614403">type</span>&nbsp;<span class="ident" id="8614408">WrongString</span>&nbsp;<span class="keyword" id="8614420">struct</span>&nbsp;<span class="op" id="8614427">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614430">Message</span>&nbsp;<span class="builtintype" id="8614438">string</span>&nbsp;<span class="string" id="8614445">`json:&#34;result,string&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8614468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8614471">type</span>&nbsp;<span class="ident" id="8614476">wrongStringTest</span>&nbsp;<span class="keyword" id="8614492">struct</span>&nbsp;<span class="op" id="8614499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8614502">in</span><span class="op" id="8614504">,</span>&nbsp;<span class="ident" id="8614506">err</span>&nbsp;<span class="builtintype" id="8614510">string</span><br>
<span class="lineno">685</span><span class="op" id="8614517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8614520">var</span>&nbsp;<span class="ident" id="8614524">wrongStringTests</span>&nbsp;<span class="op" id="8614541">=</span>&nbsp;<span class="op" id="8614543">[</span><span class="op" id="8614544">]</span><span class="ident" id="8614545">wrongStringTest</span><span class="op" id="8614560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614563">{</span><span class="string" id="8614564">`{&#34;result&#34;:&#34;x&#34;}`</span><span class="op" id="8614580">,</span>&nbsp;<span class="string" id="8614582">`json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;&#34;x&#34;&nbsp;into&nbsp;string`</span><span class="op" id="8614660">}</span><span class="op" id="8614661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614664">{</span><span class="string" id="8614665">`{&#34;result&#34;:&#34;foo&#34;}`</span><span class="op" id="8614683">,</span>&nbsp;<span class="string" id="8614685">`json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;&#34;foo&#34;&nbsp;into&nbsp;string`</span><span class="op" id="8614765">}</span><span class="op" id="8614766">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8614769">{</span><span class="string" id="8614770">`{&#34;result&#34;:&#34;123&#34;}`</span><span class="op" id="8614788">,</span>&nbsp;<span class="string" id="8614790">`json:&nbsp;invalid&nbsp;use&nbsp;of&nbsp;,string&nbsp;struct&nbsp;tag,&nbsp;trying&nbsp;to&nbsp;unmarshal&nbsp;&#34;123&#34;&nbsp;into&nbsp;string`</span><span class="op" id="8614870">}</span><span class="op" id="8614871">,</span><br>
<span class="lineno"></span><span class="op" id="8614873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8614876">//&nbsp;If&nbsp;people&nbsp;misuse&nbsp;the&nbsp;,string&nbsp;modifier,&nbsp;the&nbsp;error&nbsp;message&nbsp;should&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="8614946">//&nbsp;helpful,&nbsp;telling&nbsp;the&nbsp;user&nbsp;that&nbsp;they&#39;re&nbsp;doing&nbsp;it&nbsp;wrong.</span><br>
<span class="lineno">695</span><span class="keyword" id="8615004">func</span>&nbsp;<span class="ident" id="8615009">TestErrorMessageFromMisusedString</span><span class="op" id="8615042">(</span><span class="ident" id="8615043">t</span>&nbsp;<span class="op" id="8615045">*</span><span class="ident" id="8615046">testing</span><span class="op" id="8615053">.</span><span class="ident" id="8615054">T</span><span class="op" id="8615055">)</span>&nbsp;<span class="op" id="8615057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615060">for</span>&nbsp;<span class="ident" id="8615064">n</span><span class="op" id="8615065">,</span>&nbsp;<span class="ident" id="8615067">tt</span>&nbsp;<span class="op" id="8615070">:=</span>&nbsp;<span class="keyword" id="8615073">range</span>&nbsp;<span class="ident" id="8615079">wrongStringTests</span>&nbsp;<span class="op" id="8615096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615100">r</span>&nbsp;<span class="op" id="8615102">:=</span>&nbsp;<span class="ident" id="8615105">strings</span><span class="op" id="8615112">.</span><span class="ident" id="8615113">NewReader</span><span class="op" id="8615122">(</span><span class="ident" id="8615123">tt</span><span class="op" id="8615125">.</span><span class="ident" id="8615126">in</span><span class="op" id="8615128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615132">var</span>&nbsp;<span class="ident" id="8615136">s</span>&nbsp;<span class="ident" id="8615138">WrongString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615152">err</span>&nbsp;<span class="op" id="8615156">:=</span>&nbsp;<span class="ident" id="8615159">NewDecoder</span><span class="op" id="8615169">(</span><span class="ident" id="8615170">r</span><span class="op" id="8615171">)</span><span class="op" id="8615172">.</span><span class="ident" id="8615173">Decode</span><span class="op" id="8615179">(</span><span class="op" id="8615180">&amp;</span><span class="ident" id="8615181">s</span><span class="op" id="8615182">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615186">got</span>&nbsp;<span class="op" id="8615190">:=</span>&nbsp;<span class="ident" id="8615193">fmt</span><span class="op" id="8615196">.</span><span class="ident" id="8615197">Sprintf</span><span class="op" id="8615204">(</span><span class="string" id="8615205">&#34;%v&#34;</span><span class="op" id="8615209">,</span>&nbsp;<span class="ident" id="8615211">err</span><span class="op" id="8615214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615218">if</span>&nbsp;<span class="ident" id="8615221">got</span>&nbsp;<span class="op" id="8615225">!=</span>&nbsp;<span class="ident" id="8615228">tt</span><span class="op" id="8615230">.</span><span class="ident" id="8615231">err</span>&nbsp;<span class="op" id="8615235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615240">t</span><span class="op" id="8615241">.</span><span class="ident" id="8615242">Errorf</span><span class="op" id="8615248">(</span><span class="string" id="8615249">&#34;%d.&nbsp;got&nbsp;err&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8615276">,</span>&nbsp;<span class="ident" id="8615278">n</span><span class="op" id="8615279">,</span>&nbsp;<span class="ident" id="8615281">got</span><span class="op" id="8615284">,</span>&nbsp;<span class="ident" id="8615286">tt</span><span class="op" id="8615288">.</span><span class="ident" id="8615289">err</span><span class="op" id="8615292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8615296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8615299">}</span><br>
<span class="lineno">705</span><span class="op" id="8615301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8615304">func</span>&nbsp;<span class="ident" id="8615309">noSpace</span><span class="op" id="8615316">(</span><span class="ident" id="8615317">c</span>&nbsp;<span class="builtintype" id="8615319">rune</span><span class="op" id="8615323">)</span>&nbsp;<span class="builtintype" id="8615325">rune</span>&nbsp;<span class="op" id="8615330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615333">if</span>&nbsp;<span class="ident" id="8615336">isSpace</span><span class="op" id="8615343">(</span><span class="ident" id="8615344">c</span><span class="op" id="8615345">)</span>&nbsp;<span class="op" id="8615347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615351">return</span>&nbsp;<span class="op" id="8615358">-</span><span class="num" id="8615359">1</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8615362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8615365">return</span>&nbsp;<span class="ident" id="8615372">c</span><br>
<span class="lineno"></span><span class="op" id="8615374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8615377">type</span>&nbsp;<span class="ident" id="8615382">All</span>&nbsp;<span class="keyword" id="8615386">struct</span>&nbsp;<span class="op" id="8615393">{</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615396">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8615404">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615410">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8615418">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615423">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8615431">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615437">Int16</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8615445">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615452">Int32</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8615460">int32</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615467">Int64</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8615475">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615482">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8615490">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615496">Uint8</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8615504">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615511">Uint16</span>&nbsp;&nbsp;<span class="builtintype" id="8615519">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615527">Uint32</span>&nbsp;&nbsp;<span class="builtintype" id="8615535">uint32</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615543">Uint64</span>&nbsp;&nbsp;<span class="ident" id="8615551">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615559">Uintptr</span>&nbsp;<span class="builtintype" id="8615567">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615576">Float32</span>&nbsp;<span class="builtintype" id="8615584">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615593">Float64</span>&nbsp;<span class="builtintype" id="8615601">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615611">Foo</span>&nbsp;&nbsp;<span class="builtintype" id="8615616">string</span>&nbsp;<span class="string" id="8615623">`json:&#34;bar&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615637">Foo2</span>&nbsp;<span class="builtintype" id="8615642">string</span>&nbsp;<span class="string" id="8615649">`json:&#34;bar2,dummyopt&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615674">IntStr</span>&nbsp;<span class="ident" id="8615681">int64</span>&nbsp;<span class="string" id="8615687">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615706">PBool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8615715">*</span><span class="builtintype" id="8615716">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615722">PInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8615731">*</span><span class="builtintype" id="8615732">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615737">PInt8</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8615746">*</span><span class="builtintype" id="8615747">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615753">PInt16</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8615762">*</span><span class="builtintype" id="8615763">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615770">PInt32</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8615779">*</span><span class="builtintype" id="8615780">int32</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615787">PInt64</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8615796">*</span><span class="ident" id="8615797">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615804">PUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8615813">*</span><span class="builtintype" id="8615814">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615820">PUint8</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8615829">*</span><span class="builtintype" id="8615830">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615837">PUint16</span>&nbsp;&nbsp;<span class="op" id="8615846">*</span><span class="builtintype" id="8615847">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615855">PUint32</span>&nbsp;&nbsp;<span class="op" id="8615864">*</span><span class="builtintype" id="8615865">uint32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615873">PUint64</span>&nbsp;&nbsp;<span class="op" id="8615882">*</span><span class="ident" id="8615883">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615891">PUintptr</span>&nbsp;<span class="op" id="8615900">*</span><span class="builtintype" id="8615901">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615910">PFloat32</span>&nbsp;<span class="op" id="8615919">*</span><span class="builtintype" id="8615920">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615929">PFloat64</span>&nbsp;<span class="op" id="8615938">*</span><span class="builtintype" id="8615939">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615949">String</span>&nbsp;&nbsp;<span class="builtintype" id="8615957">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615965">PString</span>&nbsp;<span class="op" id="8615973">*</span><span class="builtintype" id="8615974">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8615983">Map</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8615989">map</span><span class="op" id="8615992">[</span><span class="builtintype" id="8615993">string</span><span class="op" id="8615999">]</span><span class="ident" id="8616000">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616007">MapP</span>&nbsp;&nbsp;<span class="keyword" id="8616013">map</span><span class="op" id="8616016">[</span><span class="builtintype" id="8616017">string</span><span class="op" id="8616023">]</span><span class="op" id="8616024">*</span><span class="ident" id="8616025">Small</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616032">PMap</span>&nbsp;&nbsp;<span class="op" id="8616038">*</span><span class="keyword" id="8616039">map</span><span class="op" id="8616042">[</span><span class="builtintype" id="8616043">string</span><span class="op" id="8616049">]</span><span class="ident" id="8616050">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616057">PMapP</span>&nbsp;<span class="op" id="8616063">*</span><span class="keyword" id="8616064">map</span><span class="op" id="8616067">[</span><span class="builtintype" id="8616068">string</span><span class="op" id="8616074">]</span><span class="op" id="8616075">*</span><span class="ident" id="8616076">Small</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616084">EmptyMap</span>&nbsp;<span class="keyword" id="8616093">map</span><span class="op" id="8616096">[</span><span class="builtintype" id="8616097">string</span><span class="op" id="8616103">]</span><span class="ident" id="8616104">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616111">NilMap</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8616120">map</span><span class="op" id="8616123">[</span><span class="builtintype" id="8616124">string</span><span class="op" id="8616130">]</span><span class="ident" id="8616131">Small</span><br>
<span class="lineno">760</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616139">Slice</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8616147">[</span><span class="op" id="8616148">]</span><span class="ident" id="8616149">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616156">SliceP</span>&nbsp;&nbsp;<span class="op" id="8616164">[</span><span class="op" id="8616165">]</span><span class="op" id="8616166">*</span><span class="ident" id="8616167">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616174">PSlice</span>&nbsp;&nbsp;<span class="op" id="8616182">*</span><span class="op" id="8616183">[</span><span class="op" id="8616184">]</span><span class="ident" id="8616185">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616192">PSliceP</span>&nbsp;<span class="op" id="8616200">*</span><span class="op" id="8616201">[</span><span class="op" id="8616202">]</span><span class="op" id="8616203">*</span><span class="ident" id="8616204">Small</span><br>
<span class="lineno">765</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616212">EmptySlice</span>&nbsp;<span class="op" id="8616223">[</span><span class="op" id="8616224">]</span><span class="ident" id="8616225">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616232">NilSlice</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8616243">[</span><span class="op" id="8616244">]</span><span class="ident" id="8616245">Small</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616253">StringSlice</span>&nbsp;<span class="op" id="8616265">[</span><span class="op" id="8616266">]</span><span class="builtintype" id="8616267">string</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616275">ByteSlice</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8616287">[</span><span class="op" id="8616288">]</span><span class="builtintype" id="8616289">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616296">Small</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8616304">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616311">PSmall</span>&nbsp;&nbsp;<span class="op" id="8616319">*</span><span class="ident" id="8616320">Small</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616327">PPSmall</span>&nbsp;<span class="op" id="8616335">*</span><span class="op" id="8616336">*</span><span class="ident" id="8616337">Small</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616345">Interface</span>&nbsp;&nbsp;<span class="keyword" id="8616356">interface</span><span class="op" id="8616365">{</span><span class="op" id="8616366">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616369">PInterface</span>&nbsp;<span class="op" id="8616380">*</span><span class="keyword" id="8616381">interface</span><span class="op" id="8616390">{</span><span class="op" id="8616391">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616395">unexported</span>&nbsp;<span class="builtintype" id="8616406">int</span><br>
<span class="lineno">780</span><span class="op" id="8616410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8616413">type</span>&nbsp;<span class="ident" id="8616418">Small</span>&nbsp;<span class="keyword" id="8616424">struct</span>&nbsp;<span class="op" id="8616431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616434">Tag</span>&nbsp;<span class="builtintype" id="8616438">string</span><br>
<span class="lineno"></span><span class="op" id="8616445">}</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span><span class="keyword" id="8616448">var</span>&nbsp;<span class="ident" id="8616452">allValue</span>&nbsp;<span class="op" id="8616461">=</span>&nbsp;<span class="ident" id="8616463">All</span><span class="op" id="8616466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616469">Bool</span><span class="op" id="8616473">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8616478">true</span><span class="op" id="8616482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616485">Int</span><span class="op" id="8616488">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8616494">2</span><span class="op" id="8616495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616498">Int8</span><span class="op" id="8616502">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8616507">3</span><span class="op" id="8616508">,</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616511">Int16</span><span class="op" id="8616516">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8616520">4</span><span class="op" id="8616521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616524">Int32</span><span class="op" id="8616529">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8616533">5</span><span class="op" id="8616534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616537">Int64</span><span class="op" id="8616542">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8616546">6</span><span class="op" id="8616547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616550">Uint</span><span class="op" id="8616554">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8616559">7</span><span class="op" id="8616560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616563">Uint8</span><span class="op" id="8616568">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8616572">8</span><span class="op" id="8616573">,</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616576">Uint16</span><span class="op" id="8616582">:</span>&nbsp;&nbsp;<span class="num" id="8616585">9</span><span class="op" id="8616586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616589">Uint32</span><span class="op" id="8616595">:</span>&nbsp;&nbsp;<span class="num" id="8616598">10</span><span class="op" id="8616600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616603">Uint64</span><span class="op" id="8616609">:</span>&nbsp;&nbsp;<span class="num" id="8616612">11</span><span class="op" id="8616614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616617">Uintptr</span><span class="op" id="8616624">:</span>&nbsp;<span class="num" id="8616626">12</span><span class="op" id="8616628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616631">Float32</span><span class="op" id="8616638">:</span>&nbsp;<span class="num" id="8616640">14.1</span><span class="op" id="8616644">,</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616647">Float64</span><span class="op" id="8616654">:</span>&nbsp;<span class="num" id="8616656">15.1</span><span class="op" id="8616660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616663">Foo</span><span class="op" id="8616666">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8616672">&#34;foo&#34;</span><span class="op" id="8616677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616680">Foo2</span><span class="op" id="8616684">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8616689">&#34;foo2&#34;</span><span class="op" id="8616695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616698">IntStr</span><span class="op" id="8616704">:</span>&nbsp;&nbsp;<span class="num" id="8616707">42</span><span class="op" id="8616709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616712">String</span><span class="op" id="8616718">:</span>&nbsp;&nbsp;<span class="string" id="8616721">&#34;16&#34;</span><span class="op" id="8616725">,</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616728">Map</span><span class="op" id="8616731">:</span>&nbsp;<span class="keyword" id="8616733">map</span><span class="op" id="8616736">[</span><span class="builtintype" id="8616737">string</span><span class="op" id="8616743">]</span><span class="ident" id="8616744">Small</span><span class="op" id="8616749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8616753">&#34;17&#34;</span><span class="op" id="8616757">:</span>&nbsp;<span class="op" id="8616759">{</span><span class="ident" id="8616760">Tag</span><span class="op" id="8616763">:</span>&nbsp;<span class="string" id="8616765">&#34;tag17&#34;</span><span class="op" id="8616772">}</span><span class="op" id="8616773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8616777">&#34;18&#34;</span><span class="op" id="8616781">:</span>&nbsp;<span class="op" id="8616783">{</span><span class="ident" id="8616784">Tag</span><span class="op" id="8616787">:</span>&nbsp;<span class="string" id="8616789">&#34;tag18&#34;</span><span class="op" id="8616796">}</span><span class="op" id="8616797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616800">}</span><span class="op" id="8616801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616804">MapP</span><span class="op" id="8616808">:</span>&nbsp;<span class="keyword" id="8616810">map</span><span class="op" id="8616813">[</span><span class="builtintype" id="8616814">string</span><span class="op" id="8616820">]</span><span class="op" id="8616821">*</span><span class="ident" id="8616822">Small</span><span class="op" id="8616827">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8616831">&#34;19&#34;</span><span class="op" id="8616835">:</span>&nbsp;<span class="op" id="8616837">{</span><span class="ident" id="8616838">Tag</span><span class="op" id="8616841">:</span>&nbsp;<span class="string" id="8616843">&#34;tag19&#34;</span><span class="op" id="8616850">}</span><span class="op" id="8616851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8616855">&#34;20&#34;</span><span class="op" id="8616859">:</span>&nbsp;<span class="ident" id="8616861">nil</span><span class="op" id="8616864">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8616867">}</span><span class="op" id="8616868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616871">EmptyMap</span><span class="op" id="8616879">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8616884">map</span><span class="op" id="8616887">[</span><span class="builtintype" id="8616888">string</span><span class="op" id="8616894">]</span><span class="ident" id="8616895">Small</span><span class="op" id="8616900">{</span><span class="op" id="8616901">}</span><span class="op" id="8616902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616905">Slice</span><span class="op" id="8616910">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8616918">[</span><span class="op" id="8616919">]</span><span class="ident" id="8616920">Small</span><span class="op" id="8616925">{</span><span class="op" id="8616926">{</span><span class="ident" id="8616927">Tag</span><span class="op" id="8616930">:</span>&nbsp;<span class="string" id="8616932">&#34;tag20&#34;</span><span class="op" id="8616939">}</span><span class="op" id="8616940">,</span>&nbsp;<span class="op" id="8616942">{</span><span class="ident" id="8616943">Tag</span><span class="op" id="8616946">:</span>&nbsp;<span class="string" id="8616948">&#34;tag21&#34;</span><span class="op" id="8616955">}</span><span class="op" id="8616956">}</span><span class="op" id="8616957">,</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8616960">SliceP</span><span class="op" id="8616966">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8616973">[</span><span class="op" id="8616974">]</span><span class="op" id="8616975">*</span><span class="ident" id="8616976">Small</span><span class="op" id="8616981">{</span><span class="op" id="8616982">{</span><span class="ident" id="8616983">Tag</span><span class="op" id="8616986">:</span>&nbsp;<span class="string" id="8616988">&#34;tag22&#34;</span><span class="op" id="8616995">}</span><span class="op" id="8616996">,</span>&nbsp;<span class="ident" id="8616998">nil</span><span class="op" id="8617001">,</span>&nbsp;<span class="op" id="8617003">{</span><span class="ident" id="8617004">Tag</span><span class="op" id="8617007">:</span>&nbsp;<span class="string" id="8617009">&#34;tag23&#34;</span><span class="op" id="8617016">}</span><span class="op" id="8617017">}</span><span class="op" id="8617018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617021">EmptySlice</span><span class="op" id="8617031">:</span>&nbsp;&nbsp;<span class="op" id="8617034">[</span><span class="op" id="8617035">]</span><span class="ident" id="8617036">Small</span><span class="op" id="8617041">{</span><span class="op" id="8617042">}</span><span class="op" id="8617043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617046">StringSlice</span><span class="op" id="8617057">:</span>&nbsp;<span class="op" id="8617059">[</span><span class="op" id="8617060">]</span><span class="builtintype" id="8617061">string</span><span class="op" id="8617067">{</span><span class="string" id="8617068">&#34;str24&#34;</span><span class="op" id="8617075">,</span>&nbsp;<span class="string" id="8617077">&#34;str25&#34;</span><span class="op" id="8617084">,</span>&nbsp;<span class="string" id="8617086">&#34;str26&#34;</span><span class="op" id="8617093">}</span><span class="op" id="8617094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617097">ByteSlice</span><span class="op" id="8617106">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8617110">[</span><span class="op" id="8617111">]</span><span class="builtintype" id="8617112">byte</span><span class="op" id="8617116">{</span><span class="num" id="8617117">27</span><span class="op" id="8617119">,</span>&nbsp;<span class="num" id="8617121">28</span><span class="op" id="8617123">,</span>&nbsp;<span class="num" id="8617125">29</span><span class="op" id="8617127">}</span><span class="op" id="8617128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617131">Small</span><span class="op" id="8617136">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8617144">Small</span><span class="op" id="8617149">{</span><span class="ident" id="8617150">Tag</span><span class="op" id="8617153">:</span>&nbsp;<span class="string" id="8617155">&#34;tag30&#34;</span><span class="op" id="8617162">}</span><span class="op" id="8617163">,</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617166">PSmall</span><span class="op" id="8617172">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617179">&amp;</span><span class="ident" id="8617180">Small</span><span class="op" id="8617185">{</span><span class="ident" id="8617186">Tag</span><span class="op" id="8617189">:</span>&nbsp;<span class="string" id="8617191">&#34;tag31&#34;</span><span class="op" id="8617198">}</span><span class="op" id="8617199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617202">Interface</span><span class="op" id="8617211">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8617215">5.2</span><span class="op" id="8617218">,</span><br>
<span class="lineno"></span><span class="op" id="8617220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8617223">var</span>&nbsp;<span class="ident" id="8617227">pallValue</span>&nbsp;<span class="op" id="8617237">=</span>&nbsp;<span class="ident" id="8617239">All</span><span class="op" id="8617242">{</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617245">PBool</span><span class="op" id="8617250">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617257">&amp;</span><span class="ident" id="8617258">allValue</span><span class="op" id="8617266">.</span><span class="ident" id="8617267">Bool</span><span class="op" id="8617271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617274">PInt</span><span class="op" id="8617278">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617286">&amp;</span><span class="ident" id="8617287">allValue</span><span class="op" id="8617295">.</span><span class="ident" id="8617296">Int</span><span class="op" id="8617299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617302">PInt8</span><span class="op" id="8617307">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617314">&amp;</span><span class="ident" id="8617315">allValue</span><span class="op" id="8617323">.</span><span class="ident" id="8617324">Int8</span><span class="op" id="8617328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617331">PInt16</span><span class="op" id="8617337">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617343">&amp;</span><span class="ident" id="8617344">allValue</span><span class="op" id="8617352">.</span><span class="ident" id="8617353">Int16</span><span class="op" id="8617358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617361">PInt32</span><span class="op" id="8617367">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617373">&amp;</span><span class="ident" id="8617374">allValue</span><span class="op" id="8617382">.</span><span class="ident" id="8617383">Int32</span><span class="op" id="8617388">,</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617391">PInt64</span><span class="op" id="8617397">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617403">&amp;</span><span class="ident" id="8617404">allValue</span><span class="op" id="8617412">.</span><span class="ident" id="8617413">Int64</span><span class="op" id="8617418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617421">PUint</span><span class="op" id="8617426">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617433">&amp;</span><span class="ident" id="8617434">allValue</span><span class="op" id="8617442">.</span><span class="ident" id="8617443">Uint</span><span class="op" id="8617447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617450">PUint8</span><span class="op" id="8617456">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617462">&amp;</span><span class="ident" id="8617463">allValue</span><span class="op" id="8617471">.</span><span class="ident" id="8617472">Uint8</span><span class="op" id="8617477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617480">PUint16</span><span class="op" id="8617487">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617492">&amp;</span><span class="ident" id="8617493">allValue</span><span class="op" id="8617501">.</span><span class="ident" id="8617502">Uint16</span><span class="op" id="8617508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617511">PUint32</span><span class="op" id="8617518">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617523">&amp;</span><span class="ident" id="8617524">allValue</span><span class="op" id="8617532">.</span><span class="ident" id="8617533">Uint32</span><span class="op" id="8617539">,</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617542">PUint64</span><span class="op" id="8617549">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617554">&amp;</span><span class="ident" id="8617555">allValue</span><span class="op" id="8617563">.</span><span class="ident" id="8617564">Uint64</span><span class="op" id="8617570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617573">PUintptr</span><span class="op" id="8617581">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8617585">&amp;</span><span class="ident" id="8617586">allValue</span><span class="op" id="8617594">.</span><span class="ident" id="8617595">Uintptr</span><span class="op" id="8617602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617605">PFloat32</span><span class="op" id="8617613">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8617617">&amp;</span><span class="ident" id="8617618">allValue</span><span class="op" id="8617626">.</span><span class="ident" id="8617627">Float32</span><span class="op" id="8617634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617637">PFloat64</span><span class="op" id="8617645">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8617649">&amp;</span><span class="ident" id="8617650">allValue</span><span class="op" id="8617658">.</span><span class="ident" id="8617659">Float64</span><span class="op" id="8617666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617669">PString</span><span class="op" id="8617676">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617681">&amp;</span><span class="ident" id="8617682">allValue</span><span class="op" id="8617690">.</span><span class="ident" id="8617691">String</span><span class="op" id="8617697">,</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617700">PMap</span><span class="op" id="8617704">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617712">&amp;</span><span class="ident" id="8617713">allValue</span><span class="op" id="8617721">.</span><span class="ident" id="8617722">Map</span><span class="op" id="8617725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617728">PMapP</span><span class="op" id="8617733">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617740">&amp;</span><span class="ident" id="8617741">allValue</span><span class="op" id="8617749">.</span><span class="ident" id="8617750">MapP</span><span class="op" id="8617754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617757">PSlice</span><span class="op" id="8617763">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617769">&amp;</span><span class="ident" id="8617770">allValue</span><span class="op" id="8617778">.</span><span class="ident" id="8617779">Slice</span><span class="op" id="8617784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617787">PSliceP</span><span class="op" id="8617794">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617799">&amp;</span><span class="ident" id="8617800">allValue</span><span class="op" id="8617808">.</span><span class="ident" id="8617809">SliceP</span><span class="op" id="8617815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617818">PPSmall</span><span class="op" id="8617825">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8617830">&amp;</span><span class="ident" id="8617831">allValue</span><span class="op" id="8617839">.</span><span class="ident" id="8617840">PSmall</span><span class="op" id="8617846">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8617849">PInterface</span><span class="op" id="8617859">:</span>&nbsp;<span class="op" id="8617861">&amp;</span><span class="ident" id="8617862">allValue</span><span class="op" id="8617870">.</span><span class="ident" id="8617871">Interface</span><span class="op" id="8617880">,</span><br>
<span class="lineno"></span><span class="op" id="8617882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8617885">var</span>&nbsp;<span class="ident" id="8617889">allValueIndent</span>&nbsp;<span class="op" id="8617904">=</span>&nbsp;<span class="string" id="8617906">`{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Bool&#34;:&nbsp;true,<br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int&#34;:&nbsp;2,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int8&#34;:&nbsp;3,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int16&#34;:&nbsp;4,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int32&#34;:&nbsp;5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int64&#34;:&nbsp;6,<br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint&#34;:&nbsp;7,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint8&#34;:&nbsp;8,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint16&#34;:&nbsp;9,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint32&#34;:&nbsp;10,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint64&#34;:&nbsp;11,<br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uintptr&#34;:&nbsp;12,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float32&#34;:&nbsp;14.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float64&#34;:&nbsp;15.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar&#34;:&nbsp;&#34;foo&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar2&#34;:&nbsp;&#34;foo2&#34;,<br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;IntStr&#34;:&nbsp;&#34;42&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PBool&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt8&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt16&#34;:&nbsp;null,<br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt32&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt64&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint8&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint16&#34;:&nbsp;null,<br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint32&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint64&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUintptr&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat32&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat64&#34;:&nbsp;null,<br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;String&#34;:&nbsp;&#34;16&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PString&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Map&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;17&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag17&#34;<br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;18&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag18&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;MapP&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;19&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag19&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;20&#34;:&nbsp;null<br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMap&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMapP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptyMap&#34;:&nbsp;{},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilMap&#34;:&nbsp;null,<br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Slice&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag20&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag21&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;SliceP&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag22&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspnull,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag23&#34;<br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSliceP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptySlice&#34;:&nbsp;[],<br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;StringSlice&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;str24&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;str25&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;str26&#34;<br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;ByteSlice&#34;:&nbsp;&#34;Gxwd&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Small&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag30&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSmall&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag31&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PPSmall&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Interface&#34;:&nbsp;5.2,<br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInterface&#34;:&nbsp;null<br>
<span class="lineno"></span>}`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8619062">var</span>&nbsp;<span class="ident" id="8619066">allValueCompact</span>&nbsp;<span class="op" id="8619082">=</span>&nbsp;<span class="ident" id="8619084">strings</span><span class="op" id="8619091">.</span><span class="ident" id="8619092">Map</span><span class="op" id="8619095">(</span><span class="ident" id="8619096">noSpace</span><span class="op" id="8619103">,</span>&nbsp;<span class="ident" id="8619105">allValueIndent</span><span class="op" id="8619119">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">940</span><span class="keyword" id="8619122">var</span>&nbsp;<span class="ident" id="8619126">pallValueIndent</span>&nbsp;<span class="op" id="8619142">=</span>&nbsp;<span class="string" id="8619144">`{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Bool&#34;:&nbsp;false,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int8&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int16&#34;:&nbsp;0,<br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int32&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Int64&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint8&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint16&#34;:&nbsp;0,<br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint32&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint64&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Uintptr&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float32&#34;:&nbsp;0,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Float64&#34;:&nbsp;0,<br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar&#34;:&nbsp;&#34;&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;bar2&#34;:&nbsp;&#34;&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;IntStr&#34;:&nbsp;&#34;0&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PBool&#34;:&nbsp;true,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt&#34;:&nbsp;2,<br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt8&#34;:&nbsp;3,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt16&#34;:&nbsp;4,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt32&#34;:&nbsp;5,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInt64&#34;:&nbsp;6,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint&#34;:&nbsp;7,<br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint8&#34;:&nbsp;8,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint16&#34;:&nbsp;9,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint32&#34;:&nbsp;10,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUint64&#34;:&nbsp;11,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PUintptr&#34;:&nbsp;12,<br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat32&#34;:&nbsp;14.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PFloat64&#34;:&nbsp;15.1,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;String&#34;:&nbsp;&#34;&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PString&#34;:&nbsp;&#34;16&#34;,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Map&#34;:&nbsp;null,<br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;MapP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMap&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;17&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag17&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;18&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag18&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PMapP&#34;:&nbsp;{<br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;19&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag19&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;20&#34;:&nbsp;null<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptyMap&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilMap&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Slice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;SliceP&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSlice&#34;:&nbsp;[<br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag20&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag21&#34;<br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSliceP&#34;:&nbsp;[<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag22&#34;<br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspnull,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag23&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}<br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp],<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;EmptySlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;NilSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;StringSlice&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;ByteSlice&#34;:&nbsp;null,<br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Small&#34;:&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PSmall&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PPSmall&#34;:&nbsp;{<br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Tag&#34;:&nbsp;&#34;tag31&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp},<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;Interface&#34;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&#34;PInterface&#34;:&nbsp;5.2<br>
<span class="lineno"></span>}`</span><br>
<span class="lineno">1025</span><br>
<span class="lineno"></span><span class="keyword" id="8620224">var</span>&nbsp;<span class="ident" id="8620228">pallValueCompact</span>&nbsp;<span class="op" id="8620245">=</span>&nbsp;<span class="ident" id="8620247">strings</span><span class="op" id="8620254">.</span><span class="ident" id="8620255">Map</span><span class="op" id="8620258">(</span><span class="ident" id="8620259">noSpace</span><span class="op" id="8620266">,</span>&nbsp;<span class="ident" id="8620268">pallValueIndent</span><span class="op" id="8620283">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8620286">func</span>&nbsp;<span class="ident" id="8620291">TestRefUnmarshal</span><span class="op" id="8620307">(</span><span class="ident" id="8620308">t</span>&nbsp;<span class="op" id="8620310">*</span><span class="ident" id="8620311">testing</span><span class="op" id="8620318">.</span><span class="ident" id="8620319">T</span><span class="op" id="8620320">)</span>&nbsp;<span class="op" id="8620322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8620325">type</span>&nbsp;<span class="ident" id="8620330">S</span>&nbsp;<span class="keyword" id="8620332">struct</span>&nbsp;<span class="op" id="8620339">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8620343">//&nbsp;Ref&nbsp;is&nbsp;defined&nbsp;in&nbsp;encode_test.go.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620382">R0</span>&nbsp;<span class="ident" id="8620385">Ref</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620391">R1</span>&nbsp;<span class="op" id="8620394">*</span><span class="ident" id="8620395">Ref</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620401">R2</span>&nbsp;<span class="ident" id="8620404">RefText</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620414">R3</span>&nbsp;<span class="op" id="8620417">*</span><span class="ident" id="8620418">RefText</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8620427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620430">want</span>&nbsp;<span class="op" id="8620435">:=</span>&nbsp;<span class="ident" id="8620438">S</span><span class="op" id="8620439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620443">R0</span><span class="op" id="8620445">:</span>&nbsp;<span class="num" id="8620447">12</span><span class="op" id="8620449">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620453">R1</span><span class="op" id="8620455">:</span>&nbsp;<span class="builtinfunc" id="8620457">new</span><span class="op" id="8620460">(</span><span class="ident" id="8620461">Ref</span><span class="op" id="8620464">)</span><span class="op" id="8620465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620469">R2</span><span class="op" id="8620471">:</span>&nbsp;<span class="num" id="8620473">13</span><span class="op" id="8620475">,</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620479">R3</span><span class="op" id="8620481">:</span>&nbsp;<span class="builtinfunc" id="8620483">new</span><span class="op" id="8620486">(</span><span class="ident" id="8620487">RefText</span><span class="op" id="8620494">)</span><span class="op" id="8620495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8620498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8620501">*</span><span class="ident" id="8620502">want</span><span class="op" id="8620506">.</span><span class="ident" id="8620507">R1</span>&nbsp;<span class="op" id="8620510">=</span>&nbsp;<span class="num" id="8620512">12</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8620516">*</span><span class="ident" id="8620517">want</span><span class="op" id="8620521">.</span><span class="ident" id="8620522">R3</span>&nbsp;<span class="op" id="8620525">=</span>&nbsp;<span class="num" id="8620527">13</span><br>
<span class="lineno"></span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8620532">var</span>&nbsp;<span class="ident" id="8620536">got</span>&nbsp;<span class="ident" id="8620540">S</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8620543">if</span>&nbsp;<span class="ident" id="8620546">err</span>&nbsp;<span class="op" id="8620550">:=</span>&nbsp;<span class="ident" id="8620553">Unmarshal</span><span class="op" id="8620562">(</span><span class="op" id="8620563">[</span><span class="op" id="8620564">]</span><span class="builtintype" id="8620565">byte</span><span class="op" id="8620569">(</span><span class="string" id="8620570">`{&#34;R0&#34;:&#34;ref&#34;,&#34;R1&#34;:&#34;ref&#34;,&#34;R2&#34;:&#34;ref&#34;,&#34;R3&#34;:&#34;ref&#34;}`</span><span class="op" id="8620617">)</span><span class="op" id="8620618">,</span>&nbsp;<span class="op" id="8620620">&amp;</span><span class="ident" id="8620621">got</span><span class="op" id="8620624">)</span><span class="op" id="8620625">;</span>&nbsp;<span class="ident" id="8620627">err</span>&nbsp;<span class="op" id="8620631">!=</span>&nbsp;<span class="ident" id="8620634">nil</span>&nbsp;<span class="op" id="8620638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620642">t</span><span class="op" id="8620643">.</span><span class="ident" id="8620644">Fatalf</span><span class="op" id="8620650">(</span><span class="string" id="8620651">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8620666">,</span>&nbsp;<span class="ident" id="8620668">err</span><span class="op" id="8620671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8620674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8620677">if</span>&nbsp;<span class="op" id="8620680">!</span><span class="ident" id="8620681">reflect</span><span class="op" id="8620688">.</span><span class="ident" id="8620689">DeepEqual</span><span class="op" id="8620698">(</span><span class="ident" id="8620699">got</span><span class="op" id="8620702">,</span>&nbsp;<span class="ident" id="8620704">want</span><span class="op" id="8620708">)</span>&nbsp;<span class="op" id="8620710">{</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620714">t</span><span class="op" id="8620715">.</span><span class="ident" id="8620716">Errorf</span><span class="op" id="8620722">(</span><span class="string" id="8620723">&#34;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="8620742">,</span>&nbsp;<span class="ident" id="8620744">got</span><span class="op" id="8620747">,</span>&nbsp;<span class="ident" id="8620749">want</span><span class="op" id="8620753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8620756">}</span><br>
<span class="lineno"></span><span class="op" id="8620758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8620761">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;empty&nbsp;string&nbsp;doesn&#39;t&nbsp;panic&nbsp;decoding&nbsp;when&nbsp;,string&nbsp;is&nbsp;specified</span><br>
<span class="lineno">1055</span><span class="comment" id="8620840">//&nbsp;Issue&nbsp;3450</span><br>
<span class="lineno"></span><span class="keyword" id="8620854">func</span>&nbsp;<span class="ident" id="8620859">TestEmptyString</span><span class="op" id="8620874">(</span><span class="ident" id="8620875">t</span>&nbsp;<span class="op" id="8620877">*</span><span class="ident" id="8620878">testing</span><span class="op" id="8620885">.</span><span class="ident" id="8620886">T</span><span class="op" id="8620887">)</span>&nbsp;<span class="op" id="8620889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8620892">type</span>&nbsp;<span class="ident" id="8620897">T2</span>&nbsp;<span class="keyword" id="8620900">struct</span>&nbsp;<span class="op" id="8620907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620911">Number1</span>&nbsp;<span class="builtintype" id="8620919">int</span>&nbsp;<span class="string" id="8620923">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620942">Number2</span>&nbsp;<span class="builtintype" id="8620950">int</span>&nbsp;<span class="string" id="8620954">`json:&#34;,string&#34;`</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8620972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8620975">data</span>&nbsp;<span class="op" id="8620980">:=</span>&nbsp;<span class="string" id="8620983">`{&#34;Number1&#34;:&#34;1&#34;,&nbsp;&#34;Number2&#34;:&#34;&#34;}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621016">dec</span>&nbsp;<span class="op" id="8621020">:=</span>&nbsp;<span class="ident" id="8621023">NewDecoder</span><span class="op" id="8621033">(</span><span class="ident" id="8621034">strings</span><span class="op" id="8621041">.</span><span class="ident" id="8621042">NewReader</span><span class="op" id="8621051">(</span><span class="ident" id="8621052">data</span><span class="op" id="8621056">)</span><span class="op" id="8621057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621060">var</span>&nbsp;<span class="ident" id="8621064">t2</span>&nbsp;<span class="ident" id="8621067">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621071">err</span>&nbsp;<span class="op" id="8621075">:=</span>&nbsp;<span class="ident" id="8621078">dec</span><span class="op" id="8621081">.</span><span class="ident" id="8621082">Decode</span><span class="op" id="8621088">(</span><span class="op" id="8621089">&amp;</span><span class="ident" id="8621090">t2</span><span class="op" id="8621092">)</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621095">if</span>&nbsp;<span class="ident" id="8621098">err</span>&nbsp;<span class="op" id="8621102">==</span>&nbsp;<span class="ident" id="8621105">nil</span>&nbsp;<span class="op" id="8621109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621113">t</span><span class="op" id="8621114">.</span><span class="ident" id="8621115">Fatal</span><span class="op" id="8621120">(</span><span class="string" id="8621121">&#34;Decode:&nbsp;did&nbsp;not&nbsp;return&nbsp;error&#34;</span><span class="op" id="8621151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621157">if</span>&nbsp;<span class="ident" id="8621160">t2</span><span class="op" id="8621162">.</span><span class="ident" id="8621163">Number1</span>&nbsp;<span class="op" id="8621171">!=</span>&nbsp;<span class="num" id="8621174">1</span>&nbsp;<span class="op" id="8621176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621180">t</span><span class="op" id="8621181">.</span><span class="ident" id="8621182">Fatal</span><span class="op" id="8621187">(</span><span class="string" id="8621188">&#34;Decode:&nbsp;did&nbsp;not&nbsp;set&nbsp;Number1&#34;</span><span class="op" id="8621217">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621220">}</span><br>
<span class="lineno"></span><span class="op" id="8621222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8621225">//&nbsp;Test&nbsp;that&nbsp;a&nbsp;null&nbsp;for&nbsp;,string&nbsp;is&nbsp;not&nbsp;replaced&nbsp;with&nbsp;the&nbsp;previous&nbsp;quoted&nbsp;string&nbsp;(issue&nbsp;7046).</span><br>
<span class="lineno"></span><span class="comment" id="8621319">//&nbsp;It&nbsp;should&nbsp;also&nbsp;not&nbsp;be&nbsp;an&nbsp;error&nbsp;(issue&nbsp;2540,&nbsp;issue&nbsp;8587).</span><br>
<span class="lineno">1075</span><span class="keyword" id="8621379">func</span>&nbsp;<span class="ident" id="8621384">TestNullString</span><span class="op" id="8621398">(</span><span class="ident" id="8621399">t</span>&nbsp;<span class="op" id="8621401">*</span><span class="ident" id="8621402">testing</span><span class="op" id="8621409">.</span><span class="ident" id="8621410">T</span><span class="op" id="8621411">)</span>&nbsp;<span class="op" id="8621413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621416">type</span>&nbsp;<span class="ident" id="8621421">T</span>&nbsp;<span class="keyword" id="8621423">struct</span>&nbsp;<span class="op" id="8621430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621434">A</span>&nbsp;<span class="builtintype" id="8621436">int</span>&nbsp;&nbsp;<span class="string" id="8621441">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621460">B</span>&nbsp;<span class="builtintype" id="8621462">int</span>&nbsp;&nbsp;<span class="string" id="8621467">`json:&#34;,string&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621486">C</span>&nbsp;<span class="op" id="8621488">*</span><span class="builtintype" id="8621489">int</span>&nbsp;<span class="string" id="8621493">`json:&#34;,string&#34;`</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621511">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621514">data</span>&nbsp;<span class="op" id="8621519">:=</span>&nbsp;<span class="op" id="8621522">[</span><span class="op" id="8621523">]</span><span class="builtintype" id="8621524">byte</span><span class="op" id="8621528">(</span><span class="string" id="8621529">`{&#34;A&#34;:&nbsp;&#34;1&#34;,&nbsp;&#34;B&#34;:&nbsp;null,&nbsp;&#34;C&#34;:&nbsp;null}`</span><span class="op" id="8621563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621566">var</span>&nbsp;<span class="ident" id="8621570">s</span>&nbsp;<span class="ident" id="8621572">T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621575">s</span><span class="op" id="8621576">.</span><span class="ident" id="8621577">B</span>&nbsp;<span class="op" id="8621579">=</span>&nbsp;<span class="num" id="8621581">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621584">s</span><span class="op" id="8621585">.</span><span class="ident" id="8621586">C</span>&nbsp;<span class="op" id="8621588">=</span>&nbsp;<span class="builtinfunc" id="8621590">new</span><span class="op" id="8621593">(</span><span class="builtintype" id="8621594">int</span><span class="op" id="8621597">)</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621600">*</span><span class="ident" id="8621601">s</span><span class="op" id="8621602">.</span><span class="ident" id="8621603">C</span>&nbsp;<span class="op" id="8621605">=</span>&nbsp;<span class="num" id="8621607">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621610">err</span>&nbsp;<span class="op" id="8621614">:=</span>&nbsp;<span class="ident" id="8621617">Unmarshal</span><span class="op" id="8621626">(</span><span class="ident" id="8621627">data</span><span class="op" id="8621631">,</span>&nbsp;<span class="op" id="8621633">&amp;</span><span class="ident" id="8621634">s</span><span class="op" id="8621635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621638">if</span>&nbsp;<span class="ident" id="8621641">err</span>&nbsp;<span class="op" id="8621645">!=</span>&nbsp;<span class="ident" id="8621648">nil</span>&nbsp;<span class="op" id="8621652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621656">t</span><span class="op" id="8621657">.</span><span class="ident" id="8621658">Fatalf</span><span class="op" id="8621664">(</span><span class="string" id="8621665">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8621680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621683">}</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621686">if</span>&nbsp;<span class="ident" id="8621689">s</span><span class="op" id="8621690">.</span><span class="ident" id="8621691">B</span>&nbsp;<span class="op" id="8621693">!=</span>&nbsp;<span class="num" id="8621696">1</span>&nbsp;<span class="op" id="8621698">||</span>&nbsp;<span class="ident" id="8621701">s</span><span class="op" id="8621702">.</span><span class="ident" id="8621703">C</span>&nbsp;<span class="op" id="8621705">!=</span>&nbsp;<span class="ident" id="8621708">nil</span>&nbsp;<span class="op" id="8621712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621716">t</span><span class="op" id="8621717">.</span><span class="ident" id="8621718">Fatalf</span><span class="op" id="8621724">(</span><span class="string" id="8621725">&#34;after&nbsp;Unmarshal,&nbsp;s.B=%d,&nbsp;s.C=%p,&nbsp;want&nbsp;1,&nbsp;nil&#34;</span><span class="op" id="8621771">,</span>&nbsp;<span class="ident" id="8621773">s</span><span class="op" id="8621774">.</span><span class="ident" id="8621775">B</span><span class="op" id="8621776">,</span>&nbsp;<span class="ident" id="8621778">s</span><span class="op" id="8621779">.</span><span class="ident" id="8621780">C</span><span class="op" id="8621781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621784">}</span><br>
<span class="lineno"></span><span class="op" id="8621786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="keyword" id="8621789">func</span>&nbsp;<span class="ident" id="8621794">intp</span><span class="op" id="8621798">(</span><span class="ident" id="8621799">x</span>&nbsp;<span class="builtintype" id="8621801">int</span><span class="op" id="8621804">)</span>&nbsp;<span class="op" id="8621806">*</span><span class="builtintype" id="8621807">int</span>&nbsp;<span class="op" id="8621811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621814">p</span>&nbsp;<span class="op" id="8621816">:=</span>&nbsp;<span class="builtinfunc" id="8621819">new</span><span class="op" id="8621822">(</span><span class="builtintype" id="8621823">int</span><span class="op" id="8621826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621829">*</span><span class="ident" id="8621830">p</span>&nbsp;<span class="op" id="8621832">=</span>&nbsp;<span class="ident" id="8621834">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621837">return</span>&nbsp;<span class="ident" id="8621844">p</span><br>
<span class="lineno"></span><span class="op" id="8621846">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span><span class="keyword" id="8621849">func</span>&nbsp;<span class="ident" id="8621854">intpp</span><span class="op" id="8621859">(</span><span class="ident" id="8621860">x</span>&nbsp;<span class="op" id="8621862">*</span><span class="builtintype" id="8621863">int</span><span class="op" id="8621866">)</span>&nbsp;<span class="op" id="8621868">*</span><span class="op" id="8621869">*</span><span class="builtintype" id="8621870">int</span>&nbsp;<span class="op" id="8621874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621877">pp</span>&nbsp;<span class="op" id="8621880">:=</span>&nbsp;<span class="builtinfunc" id="8621883">new</span><span class="op" id="8621886">(</span><span class="op" id="8621887">*</span><span class="builtintype" id="8621888">int</span><span class="op" id="8621891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8621894">*</span><span class="ident" id="8621895">pp</span>&nbsp;<span class="op" id="8621898">=</span>&nbsp;<span class="ident" id="8621900">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8621903">return</span>&nbsp;<span class="ident" id="8621910">pp</span><br>
<span class="lineno">1105</span><span class="op" id="8621913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8621916">var</span>&nbsp;<span class="ident" id="8621920">interfaceSetTests</span>&nbsp;<span class="op" id="8621938">=</span>&nbsp;<span class="op" id="8621940">[</span><span class="op" id="8621941">]</span><span class="keyword" id="8621942">struct</span>&nbsp;<span class="op" id="8621949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621952">pre</span>&nbsp;&nbsp;<span class="keyword" id="8621957">interface</span><span class="op" id="8621966">{</span><span class="op" id="8621967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621970">json</span>&nbsp;<span class="builtintype" id="8621975">string</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8621983">post</span>&nbsp;<span class="keyword" id="8621988">interface</span><span class="op" id="8621997">{</span><span class="op" id="8621998">}</span><br>
<span class="lineno"></span><span class="op" id="8622000">}</span><span class="op" id="8622001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622004">{</span><span class="string" id="8622005">&#34;foo&#34;</span><span class="op" id="8622010">,</span>&nbsp;<span class="string" id="8622012">`&#34;bar&#34;`</span><span class="op" id="8622019">,</span>&nbsp;<span class="string" id="8622021">&#34;bar&#34;</span><span class="op" id="8622026">}</span><span class="op" id="8622027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622030">{</span><span class="string" id="8622031">&#34;foo&#34;</span><span class="op" id="8622036">,</span>&nbsp;<span class="string" id="8622038">`2`</span><span class="op" id="8622041">,</span>&nbsp;<span class="num" id="8622043">2.0</span><span class="op" id="8622046">}</span><span class="op" id="8622047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622050">{</span><span class="string" id="8622051">&#34;foo&#34;</span><span class="op" id="8622056">,</span>&nbsp;<span class="string" id="8622058">`true`</span><span class="op" id="8622064">,</span>&nbsp;<span class="ident" id="8622066">true</span><span class="op" id="8622070">}</span><span class="op" id="8622071">,</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622074">{</span><span class="string" id="8622075">&#34;foo&#34;</span><span class="op" id="8622080">,</span>&nbsp;<span class="string" id="8622082">`null`</span><span class="op" id="8622088">,</span>&nbsp;<span class="ident" id="8622090">nil</span><span class="op" id="8622093">}</span><span class="op" id="8622094">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622098">{</span><span class="ident" id="8622099">nil</span><span class="op" id="8622102">,</span>&nbsp;<span class="string" id="8622104">`null`</span><span class="op" id="8622110">,</span>&nbsp;<span class="ident" id="8622112">nil</span><span class="op" id="8622115">}</span><span class="op" id="8622116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622119">{</span><span class="builtinfunc" id="8622120">new</span><span class="op" id="8622123">(</span><span class="builtintype" id="8622124">int</span><span class="op" id="8622127">)</span><span class="op" id="8622128">,</span>&nbsp;<span class="string" id="8622130">`null`</span><span class="op" id="8622136">,</span>&nbsp;<span class="ident" id="8622138">nil</span><span class="op" id="8622141">}</span><span class="op" id="8622142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622145">{</span><span class="op" id="8622146">(</span><span class="op" id="8622147">*</span><span class="builtintype" id="8622148">int</span><span class="op" id="8622151">)</span><span class="op" id="8622152">(</span><span class="ident" id="8622153">nil</span><span class="op" id="8622156">)</span><span class="op" id="8622157">,</span>&nbsp;<span class="string" id="8622159">`null`</span><span class="op" id="8622165">,</span>&nbsp;<span class="ident" id="8622167">nil</span><span class="op" id="8622170">}</span><span class="op" id="8622171">,</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622174">{</span><span class="builtinfunc" id="8622175">new</span><span class="op" id="8622178">(</span><span class="op" id="8622179">*</span><span class="builtintype" id="8622180">int</span><span class="op" id="8622183">)</span><span class="op" id="8622184">,</span>&nbsp;<span class="string" id="8622186">`null`</span><span class="op" id="8622192">,</span>&nbsp;<span class="builtinfunc" id="8622194">new</span><span class="op" id="8622197">(</span><span class="op" id="8622198">*</span><span class="builtintype" id="8622199">int</span><span class="op" id="8622202">)</span><span class="op" id="8622203">}</span><span class="op" id="8622204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622207">{</span><span class="op" id="8622208">(</span><span class="op" id="8622209">*</span><span class="op" id="8622210">*</span><span class="builtintype" id="8622211">int</span><span class="op" id="8622214">)</span><span class="op" id="8622215">(</span><span class="ident" id="8622216">nil</span><span class="op" id="8622219">)</span><span class="op" id="8622220">,</span>&nbsp;<span class="string" id="8622222">`null`</span><span class="op" id="8622228">,</span>&nbsp;<span class="ident" id="8622230">nil</span><span class="op" id="8622233">}</span><span class="op" id="8622234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622237">{</span><span class="ident" id="8622238">intp</span><span class="op" id="8622242">(</span><span class="num" id="8622243">1</span><span class="op" id="8622244">)</span><span class="op" id="8622245">,</span>&nbsp;<span class="string" id="8622247">`null`</span><span class="op" id="8622253">,</span>&nbsp;<span class="ident" id="8622255">nil</span><span class="op" id="8622258">}</span><span class="op" id="8622259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622262">{</span><span class="ident" id="8622263">intpp</span><span class="op" id="8622268">(</span><span class="ident" id="8622269">nil</span><span class="op" id="8622272">)</span><span class="op" id="8622273">,</span>&nbsp;<span class="string" id="8622275">`null`</span><span class="op" id="8622281">,</span>&nbsp;<span class="ident" id="8622283">intpp</span><span class="op" id="8622288">(</span><span class="ident" id="8622289">nil</span><span class="op" id="8622292">)</span><span class="op" id="8622293">}</span><span class="op" id="8622294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622297">{</span><span class="ident" id="8622298">intpp</span><span class="op" id="8622303">(</span><span class="ident" id="8622304">intp</span><span class="op" id="8622308">(</span><span class="num" id="8622309">1</span><span class="op" id="8622310">)</span><span class="op" id="8622311">)</span><span class="op" id="8622312">,</span>&nbsp;<span class="string" id="8622314">`null`</span><span class="op" id="8622320">,</span>&nbsp;<span class="ident" id="8622322">intpp</span><span class="op" id="8622327">(</span><span class="ident" id="8622328">nil</span><span class="op" id="8622331">)</span><span class="op" id="8622332">}</span><span class="op" id="8622333">,</span><br>
<span class="lineno">1125</span><span class="op" id="8622335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8622338">func</span>&nbsp;<span class="ident" id="8622343">TestInterfaceSet</span><span class="op" id="8622359">(</span><span class="ident" id="8622360">t</span>&nbsp;<span class="op" id="8622362">*</span><span class="ident" id="8622363">testing</span><span class="op" id="8622370">.</span><span class="ident" id="8622371">T</span><span class="op" id="8622372">)</span>&nbsp;<span class="op" id="8622374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8622377">for</span>&nbsp;<span class="ident" id="8622381">_</span><span class="op" id="8622382">,</span>&nbsp;<span class="ident" id="8622384">tt</span>&nbsp;<span class="op" id="8622387">:=</span>&nbsp;<span class="keyword" id="8622390">range</span>&nbsp;<span class="ident" id="8622396">interfaceSetTests</span>&nbsp;<span class="op" id="8622414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8622418">b</span>&nbsp;<span class="op" id="8622420">:=</span>&nbsp;<span class="keyword" id="8622423">struct</span><span class="op" id="8622429">{</span>&nbsp;<span class="ident" id="8622431">X</span>&nbsp;<span class="keyword" id="8622433">interface</span><span class="op" id="8622442">{</span><span class="op" id="8622443">}</span>&nbsp;<span class="op" id="8622445">}</span><span class="op" id="8622446">{</span><span class="ident" id="8622447">tt</span><span class="op" id="8622449">.</span><span class="ident" id="8622450">pre</span><span class="op" id="8622453">}</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8622457">blob</span>&nbsp;<span class="op" id="8622462">:=</span>&nbsp;<span class="string" id="8622465">`{&#34;X&#34;:`</span>&nbsp;<span class="op" id="8622473">+</span>&nbsp;<span class="ident" id="8622475">tt</span><span class="op" id="8622477">.</span><span class="ident" id="8622478">json</span>&nbsp;<span class="op" id="8622483">+</span>&nbsp;<span class="string" id="8622485">`}`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8622491">if</span>&nbsp;<span class="ident" id="8622494">err</span>&nbsp;<span class="op" id="8622498">:=</span>&nbsp;<span class="ident" id="8622501">Unmarshal</span><span class="op" id="8622510">(</span><span class="op" id="8622511">[</span><span class="op" id="8622512">]</span><span class="builtintype" id="8622513">byte</span><span class="op" id="8622517">(</span><span class="ident" id="8622518">blob</span><span class="op" id="8622522">)</span><span class="op" id="8622523">,</span>&nbsp;<span class="op" id="8622525">&amp;</span><span class="ident" id="8622526">b</span><span class="op" id="8622527">)</span><span class="op" id="8622528">;</span>&nbsp;<span class="ident" id="8622530">err</span>&nbsp;<span class="op" id="8622534">!=</span>&nbsp;<span class="ident" id="8622537">nil</span>&nbsp;<span class="op" id="8622541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8622546">t</span><span class="op" id="8622547">.</span><span class="ident" id="8622548">Errorf</span><span class="op" id="8622554">(</span><span class="string" id="8622555">&#34;Unmarshal&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8622574">,</span>&nbsp;<span class="ident" id="8622576">blob</span><span class="op" id="8622580">,</span>&nbsp;<span class="ident" id="8622582">err</span><span class="op" id="8622585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8622590">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622601">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8622605">if</span>&nbsp;<span class="op" id="8622608">!</span><span class="ident" id="8622609">reflect</span><span class="op" id="8622616">.</span><span class="ident" id="8622617">DeepEqual</span><span class="op" id="8622626">(</span><span class="ident" id="8622627">b</span><span class="op" id="8622628">.</span><span class="ident" id="8622629">X</span><span class="op" id="8622630">,</span>&nbsp;<span class="ident" id="8622632">tt</span><span class="op" id="8622634">.</span><span class="ident" id="8622635">post</span><span class="op" id="8622639">)</span>&nbsp;<span class="op" id="8622641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8622646">t</span><span class="op" id="8622647">.</span><span class="ident" id="8622648">Errorf</span><span class="op" id="8622654">(</span><span class="string" id="8622655">&#34;Unmarshal&nbsp;%#q&nbsp;into&nbsp;%#v:&nbsp;X=%#v,&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="8622696">,</span>&nbsp;<span class="ident" id="8622698">blob</span><span class="op" id="8622702">,</span>&nbsp;<span class="ident" id="8622704">tt</span><span class="op" id="8622706">.</span><span class="ident" id="8622707">pre</span><span class="op" id="8622710">,</span>&nbsp;<span class="ident" id="8622712">b</span><span class="op" id="8622713">.</span><span class="ident" id="8622714">X</span><span class="op" id="8622715">,</span>&nbsp;<span class="ident" id="8622717">tt</span><span class="op" id="8622719">.</span><span class="ident" id="8622720">post</span><span class="op" id="8622724">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8622731">}</span><br>
<span class="lineno"></span><span class="op" id="8622733">}</span><br>
<span class="lineno">1140</span><br>
<span class="lineno"></span><span class="comment" id="8622736">//&nbsp;JSON&nbsp;null&nbsp;values&nbsp;should&nbsp;be&nbsp;ignored&nbsp;for&nbsp;primitives&nbsp;and&nbsp;string&nbsp;values&nbsp;instead&nbsp;of&nbsp;resulting&nbsp;in&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="8622841">//&nbsp;Issue&nbsp;2540</span><br>
<span class="lineno"></span><span class="keyword" id="8622855">func</span>&nbsp;<span class="ident" id="8622860">TestUnmarshalNulls</span><span class="op" id="8622878">(</span><span class="ident" id="8622879">t</span>&nbsp;<span class="op" id="8622881">*</span><span class="ident" id="8622882">testing</span><span class="op" id="8622889">.</span><span class="ident" id="8622890">T</span><span class="op" id="8622891">)</span>&nbsp;<span class="op" id="8622893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8622896">jsonData</span>&nbsp;<span class="op" id="8622905">:=</span>&nbsp;<span class="op" id="8622908">[</span><span class="op" id="8622909">]</span><span class="builtintype" id="8622910">byte</span><span class="op" id="8622914">(</span><span class="string" id="8622915">`{<br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Bool&#34;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int8&#34;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int16&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int32&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Int64&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint&#34;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint8&#34;&nbsp;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint16&#34;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint32&#34;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Uint64&#34;&nbsp;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Float32&#34;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;Float64&#34;&nbsp;:&nbsp;null,<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&#34;String&#34;&nbsp;&nbsp;:&nbsp;null}`</span><span class="op" id="8623198">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623202">nulls</span>&nbsp;<span class="op" id="8623208">:=</span>&nbsp;<span class="ident" id="8623211">All</span><span class="op" id="8623214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623218">Bool</span><span class="op" id="8623222">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8623227">true</span><span class="op" id="8623231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623235">Int</span><span class="op" id="8623238">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8623244">2</span><span class="op" id="8623245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623249">Int8</span><span class="op" id="8623253">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8623258">3</span><span class="op" id="8623259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623263">Int16</span><span class="op" id="8623268">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8623272">4</span><span class="op" id="8623273">,</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623277">Int32</span><span class="op" id="8623282">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8623286">5</span><span class="op" id="8623287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623291">Int64</span><span class="op" id="8623296">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8623300">6</span><span class="op" id="8623301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623305">Uint</span><span class="op" id="8623309">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8623314">7</span><span class="op" id="8623315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623319">Uint8</span><span class="op" id="8623324">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8623328">8</span><span class="op" id="8623329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623333">Uint16</span><span class="op" id="8623339">:</span>&nbsp;&nbsp;<span class="num" id="8623342">9</span><span class="op" id="8623343">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623347">Uint32</span><span class="op" id="8623353">:</span>&nbsp;&nbsp;<span class="num" id="8623356">10</span><span class="op" id="8623358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623362">Uint64</span><span class="op" id="8623368">:</span>&nbsp;&nbsp;<span class="num" id="8623371">11</span><span class="op" id="8623373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623377">Float32</span><span class="op" id="8623384">:</span>&nbsp;<span class="num" id="8623386">12.1</span><span class="op" id="8623390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623394">Float64</span><span class="op" id="8623401">:</span>&nbsp;<span class="num" id="8623403">13.1</span><span class="op" id="8623407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623411">String</span><span class="op" id="8623417">:</span>&nbsp;&nbsp;<span class="string" id="8623420">&#34;14&#34;</span><span class="op" id="8623424">}</span><br>
<span class="lineno">1175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623428">err</span>&nbsp;<span class="op" id="8623432">:=</span>&nbsp;<span class="ident" id="8623435">Unmarshal</span><span class="op" id="8623444">(</span><span class="ident" id="8623445">jsonData</span><span class="op" id="8623453">,</span>&nbsp;<span class="op" id="8623455">&amp;</span><span class="ident" id="8623456">nulls</span><span class="op" id="8623461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8623464">if</span>&nbsp;<span class="ident" id="8623467">err</span>&nbsp;<span class="op" id="8623471">!=</span>&nbsp;<span class="ident" id="8623474">nil</span>&nbsp;<span class="op" id="8623478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623482">t</span><span class="op" id="8623483">.</span><span class="ident" id="8623484">Errorf</span><span class="op" id="8623490">(</span><span class="string" id="8623491">&#34;Unmarshal&nbsp;of&nbsp;null&nbsp;values&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8623528">,</span>&nbsp;<span class="ident" id="8623530">err</span><span class="op" id="8623533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8623536">}</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8623539">if</span>&nbsp;<span class="op" id="8623542">!</span><span class="ident" id="8623543">nulls</span><span class="op" id="8623548">.</span><span class="ident" id="8623549">Bool</span>&nbsp;<span class="op" id="8623554">||</span>&nbsp;<span class="ident" id="8623557">nulls</span><span class="op" id="8623562">.</span><span class="ident" id="8623563">Int</span>&nbsp;<span class="op" id="8623567">!=</span>&nbsp;<span class="num" id="8623570">2</span>&nbsp;<span class="op" id="8623572">||</span>&nbsp;<span class="ident" id="8623575">nulls</span><span class="op" id="8623580">.</span><span class="ident" id="8623581">Int8</span>&nbsp;<span class="op" id="8623586">!=</span>&nbsp;<span class="num" id="8623589">3</span>&nbsp;<span class="op" id="8623591">||</span>&nbsp;<span class="ident" id="8623594">nulls</span><span class="op" id="8623599">.</span><span class="ident" id="8623600">Int16</span>&nbsp;<span class="op" id="8623606">!=</span>&nbsp;<span class="num" id="8623609">4</span>&nbsp;<span class="op" id="8623611">||</span>&nbsp;<span class="ident" id="8623614">nulls</span><span class="op" id="8623619">.</span><span class="ident" id="8623620">Int32</span>&nbsp;<span class="op" id="8623626">!=</span>&nbsp;<span class="num" id="8623629">5</span>&nbsp;<span class="op" id="8623631">||</span>&nbsp;<span class="ident" id="8623634">nulls</span><span class="op" id="8623639">.</span><span class="ident" id="8623640">Int64</span>&nbsp;<span class="op" id="8623646">!=</span>&nbsp;<span class="num" id="8623649">6</span>&nbsp;<span class="op" id="8623651">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623656">nulls</span><span class="op" id="8623661">.</span><span class="ident" id="8623662">Uint</span>&nbsp;<span class="op" id="8623667">!=</span>&nbsp;<span class="num" id="8623670">7</span>&nbsp;<span class="op" id="8623672">||</span>&nbsp;<span class="ident" id="8623675">nulls</span><span class="op" id="8623680">.</span><span class="ident" id="8623681">Uint8</span>&nbsp;<span class="op" id="8623687">!=</span>&nbsp;<span class="num" id="8623690">8</span>&nbsp;<span class="op" id="8623692">||</span>&nbsp;<span class="ident" id="8623695">nulls</span><span class="op" id="8623700">.</span><span class="ident" id="8623701">Uint16</span>&nbsp;<span class="op" id="8623708">!=</span>&nbsp;<span class="num" id="8623711">9</span>&nbsp;<span class="op" id="8623713">||</span>&nbsp;<span class="ident" id="8623716">nulls</span><span class="op" id="8623721">.</span><span class="ident" id="8623722">Uint32</span>&nbsp;<span class="op" id="8623729">!=</span>&nbsp;<span class="num" id="8623732">10</span>&nbsp;<span class="op" id="8623735">||</span>&nbsp;<span class="ident" id="8623738">nulls</span><span class="op" id="8623743">.</span><span class="ident" id="8623744">Uint64</span>&nbsp;<span class="op" id="8623751">!=</span>&nbsp;<span class="num" id="8623754">11</span>&nbsp;<span class="op" id="8623757">||</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623762">nulls</span><span class="op" id="8623767">.</span><span class="ident" id="8623768">Float32</span>&nbsp;<span class="op" id="8623776">!=</span>&nbsp;<span class="num" id="8623779">12.1</span>&nbsp;<span class="op" id="8623784">||</span>&nbsp;<span class="ident" id="8623787">nulls</span><span class="op" id="8623792">.</span><span class="ident" id="8623793">Float64</span>&nbsp;<span class="op" id="8623801">!=</span>&nbsp;<span class="num" id="8623804">13.1</span>&nbsp;<span class="op" id="8623809">||</span>&nbsp;<span class="ident" id="8623812">nulls</span><span class="op" id="8623817">.</span><span class="ident" id="8623818">String</span>&nbsp;<span class="op" id="8623825">!=</span>&nbsp;<span class="string" id="8623828">&#34;14&#34;</span>&nbsp;<span class="op" id="8623833">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623838">t</span><span class="op" id="8623839">.</span><span class="ident" id="8623840">Errorf</span><span class="op" id="8623846">(</span><span class="string" id="8623847">&#34;Unmarshal&nbsp;of&nbsp;null&nbsp;values&nbsp;affected&nbsp;primitives&#34;</span><span class="op" id="8623893">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8623896">}</span><br>
<span class="lineno"></span><span class="op" id="8623898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8623901">func</span>&nbsp;<span class="ident" id="8623906">TestStringKind</span><span class="op" id="8623920">(</span><span class="ident" id="8623921">t</span>&nbsp;<span class="op" id="8623923">*</span><span class="ident" id="8623924">testing</span><span class="op" id="8623931">.</span><span class="ident" id="8623932">T</span><span class="op" id="8623933">)</span>&nbsp;<span class="op" id="8623935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8623938">type</span>&nbsp;<span class="ident" id="8623943">stringKind</span>&nbsp;<span class="builtintype" id="8623954">string</span><br>
<span class="lineno">1190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8623963">var</span>&nbsp;<span class="ident" id="8623967">m1</span><span class="op" id="8623969">,</span>&nbsp;<span class="ident" id="8623971">m2</span>&nbsp;<span class="keyword" id="8623974">map</span><span class="op" id="8623977">[</span><span class="ident" id="8623978">stringKind</span><span class="op" id="8623988">]</span><span class="builtintype" id="8623989">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8623994">m1</span>&nbsp;<span class="op" id="8623997">=</span>&nbsp;<span class="keyword" id="8623999">map</span><span class="op" id="8624002">[</span><span class="ident" id="8624003">stringKind</span><span class="op" id="8624013">]</span><span class="builtintype" id="8624014">int</span><span class="op" id="8624017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624021">&#34;foo&#34;</span><span class="op" id="8624026">:</span>&nbsp;<span class="num" id="8624028">42</span><span class="op" id="8624030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624033">}</span><br>
<span class="lineno">1195</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624037">data</span><span class="op" id="8624041">,</span>&nbsp;<span class="ident" id="8624043">err</span>&nbsp;<span class="op" id="8624047">:=</span>&nbsp;<span class="ident" id="8624050">Marshal</span><span class="op" id="8624057">(</span><span class="ident" id="8624058">m1</span><span class="op" id="8624060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8624063">if</span>&nbsp;<span class="ident" id="8624066">err</span>&nbsp;<span class="op" id="8624070">!=</span>&nbsp;<span class="ident" id="8624073">nil</span>&nbsp;<span class="op" id="8624077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624081">t</span><span class="op" id="8624082">.</span><span class="ident" id="8624083">Errorf</span><span class="op" id="8624089">(</span><span class="string" id="8624090">&#34;Unexpected&nbsp;error&nbsp;marshalling:&nbsp;%v&#34;</span><span class="op" id="8624124">,</span>&nbsp;<span class="ident" id="8624126">err</span><span class="op" id="8624129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624132">}</span><br>
<span class="lineno">1200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624136">err</span>&nbsp;<span class="op" id="8624140">=</span>&nbsp;<span class="ident" id="8624142">Unmarshal</span><span class="op" id="8624151">(</span><span class="ident" id="8624152">data</span><span class="op" id="8624156">,</span>&nbsp;<span class="op" id="8624158">&amp;</span><span class="ident" id="8624159">m2</span><span class="op" id="8624161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8624164">if</span>&nbsp;<span class="ident" id="8624167">err</span>&nbsp;<span class="op" id="8624171">!=</span>&nbsp;<span class="ident" id="8624174">nil</span>&nbsp;<span class="op" id="8624178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624182">t</span><span class="op" id="8624183">.</span><span class="ident" id="8624184">Errorf</span><span class="op" id="8624190">(</span><span class="string" id="8624191">&#34;Unexpected&nbsp;error&nbsp;unmarshalling:&nbsp;%v&#34;</span><span class="op" id="8624227">,</span>&nbsp;<span class="ident" id="8624229">err</span><span class="op" id="8624232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624235">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8624239">if</span>&nbsp;<span class="op" id="8624242">!</span><span class="ident" id="8624243">reflect</span><span class="op" id="8624250">.</span><span class="ident" id="8624251">DeepEqual</span><span class="op" id="8624260">(</span><span class="ident" id="8624261">m1</span><span class="op" id="8624263">,</span>&nbsp;<span class="ident" id="8624265">m2</span><span class="op" id="8624267">)</span>&nbsp;<span class="op" id="8624269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624273">t</span><span class="op" id="8624274">.</span><span class="ident" id="8624275">Error</span><span class="op" id="8624280">(</span><span class="string" id="8624281">&#34;Items&nbsp;should&nbsp;be&nbsp;equal&nbsp;after&nbsp;encoding&nbsp;and&nbsp;then&nbsp;decoding&#34;</span><span class="op" id="8624337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1210</span><span class="op" id="8624343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8624346">var</span>&nbsp;<span class="ident" id="8624350">decodeTypeErrorTests</span>&nbsp;<span class="op" id="8624371">=</span>&nbsp;<span class="op" id="8624373">[</span><span class="op" id="8624374">]</span><span class="keyword" id="8624375">struct</span>&nbsp;<span class="op" id="8624382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624385">dest</span>&nbsp;<span class="keyword" id="8624390">interface</span><span class="op" id="8624399">{</span><span class="op" id="8624400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624403">src</span>&nbsp;&nbsp;<span class="builtintype" id="8624408">string</span><br>
<span class="lineno">1215</span><span class="op" id="8624415">}</span><span class="op" id="8624416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624419">{</span><span class="builtinfunc" id="8624420">new</span><span class="op" id="8624423">(</span><span class="builtintype" id="8624424">string</span><span class="op" id="8624430">)</span><span class="op" id="8624431">,</span>&nbsp;<span class="string" id="8624433">`{&#34;user&#34;:&nbsp;&#34;name&#34;}`</span><span class="op" id="8624451">}</span><span class="op" id="8624452">,</span>&nbsp;<span class="comment" id="8624454">//&nbsp;issue&nbsp;4628.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624470">{</span><span class="builtinfunc" id="8624471">new</span><span class="op" id="8624474">(</span><span class="builtintype" id="8624475">error</span><span class="op" id="8624480">)</span><span class="op" id="8624481">,</span>&nbsp;<span class="string" id="8624483">`{}`</span><span class="op" id="8624487">}</span><span class="op" id="8624488">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8624505">//&nbsp;issue&nbsp;4222</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624520">{</span><span class="builtinfunc" id="8624521">new</span><span class="op" id="8624524">(</span><span class="builtintype" id="8624525">error</span><span class="op" id="8624530">)</span><span class="op" id="8624531">,</span>&nbsp;<span class="string" id="8624533">`[]`</span><span class="op" id="8624537">}</span><span class="op" id="8624538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624541">{</span><span class="builtinfunc" id="8624542">new</span><span class="op" id="8624545">(</span><span class="builtintype" id="8624546">error</span><span class="op" id="8624551">)</span><span class="op" id="8624552">,</span>&nbsp;<span class="string" id="8624554">`&#34;&#34;`</span><span class="op" id="8624558">}</span><span class="op" id="8624559">,</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624562">{</span><span class="builtinfunc" id="8624563">new</span><span class="op" id="8624566">(</span><span class="builtintype" id="8624567">error</span><span class="op" id="8624572">)</span><span class="op" id="8624573">,</span>&nbsp;<span class="string" id="8624575">`123`</span><span class="op" id="8624580">}</span><span class="op" id="8624581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624584">{</span><span class="builtinfunc" id="8624585">new</span><span class="op" id="8624588">(</span><span class="builtintype" id="8624589">error</span><span class="op" id="8624594">)</span><span class="op" id="8624595">,</span>&nbsp;<span class="string" id="8624597">`true`</span><span class="op" id="8624603">}</span><span class="op" id="8624604">,</span><br>
<span class="lineno"></span><span class="op" id="8624606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8624609">func</span>&nbsp;<span class="ident" id="8624614">TestUnmarshalTypeError</span><span class="op" id="8624636">(</span><span class="ident" id="8624637">t</span>&nbsp;<span class="op" id="8624639">*</span><span class="ident" id="8624640">testing</span><span class="op" id="8624647">.</span><span class="ident" id="8624648">T</span><span class="op" id="8624649">)</span>&nbsp;<span class="op" id="8624651">{</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8624654">for</span>&nbsp;<span class="ident" id="8624658">_</span><span class="op" id="8624659">,</span>&nbsp;<span class="ident" id="8624661">item</span>&nbsp;<span class="op" id="8624666">:=</span>&nbsp;<span class="keyword" id="8624669">range</span>&nbsp;<span class="ident" id="8624675">decodeTypeErrorTests</span>&nbsp;<span class="op" id="8624696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624700">err</span>&nbsp;<span class="op" id="8624704">:=</span>&nbsp;<span class="ident" id="8624707">Unmarshal</span><span class="op" id="8624716">(</span><span class="op" id="8624717">[</span><span class="op" id="8624718">]</span><span class="builtintype" id="8624719">byte</span><span class="op" id="8624723">(</span><span class="ident" id="8624724">item</span><span class="op" id="8624728">.</span><span class="ident" id="8624729">src</span><span class="op" id="8624732">)</span><span class="op" id="8624733">,</span>&nbsp;<span class="ident" id="8624735">item</span><span class="op" id="8624739">.</span><span class="ident" id="8624740">dest</span><span class="op" id="8624744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8624748">if</span>&nbsp;<span class="ident" id="8624751">_</span><span class="op" id="8624752">,</span>&nbsp;<span class="ident" id="8624754">ok</span>&nbsp;<span class="op" id="8624757">:=</span>&nbsp;<span class="ident" id="8624760">err</span><span class="op" id="8624763">.</span><span class="op" id="8624764">(</span><span class="op" id="8624765">*</span><span class="ident" id="8624766">UnmarshalTypeError</span><span class="op" id="8624784">)</span><span class="op" id="8624785">;</span>&nbsp;<span class="op" id="8624787">!</span><span class="ident" id="8624788">ok</span>&nbsp;<span class="op" id="8624791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624796">t</span><span class="op" id="8624797">.</span><span class="ident" id="8624798">Errorf</span><span class="op" id="8624804">(</span><span class="string" id="8624805">&#34;expected&nbsp;type&nbsp;error&nbsp;for&nbsp;Unmarshal(%q,&nbsp;type&nbsp;%T):&nbsp;got&nbsp;%T&#34;</span><span class="op" id="8624861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8624867">item</span><span class="op" id="8624871">.</span><span class="ident" id="8624872">src</span><span class="op" id="8624875">,</span>&nbsp;<span class="ident" id="8624877">item</span><span class="op" id="8624881">.</span><span class="ident" id="8624882">dest</span><span class="op" id="8624886">,</span>&nbsp;<span class="ident" id="8624888">err</span><span class="op" id="8624891">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8624898">}</span><br>
<span class="lineno"></span><span class="op" id="8624900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8624903">var</span>&nbsp;<span class="ident" id="8624907">unmarshalSyntaxTests</span>&nbsp;<span class="op" id="8624928">=</span>&nbsp;<span class="op" id="8624930">[</span><span class="op" id="8624931">]</span><span class="builtintype" id="8624932">string</span><span class="op" id="8624938">{</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624941">&#34;tru&#34;</span><span class="op" id="8624946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624949">&#34;fals&#34;</span><span class="op" id="8624955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624958">&#34;nul&#34;</span><span class="op" id="8624963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624966">&#34;123e&#34;</span><span class="op" id="8624972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624975">`&#34;hello`</span><span class="op" id="8624983">,</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624986">`[1,2,3`</span><span class="op" id="8624994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8624997">`{&#34;key&#34;:1`</span><span class="op" id="8625007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8625010">`{&#34;key&#34;:1,`</span><span class="op" id="8625021">,</span><br>
<span class="lineno"></span><span class="op" id="8625023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1245</span><span class="keyword" id="8625026">func</span>&nbsp;<span class="ident" id="8625031">TestUnmarshalSyntax</span><span class="op" id="8625050">(</span><span class="ident" id="8625051">t</span>&nbsp;<span class="op" id="8625053">*</span><span class="ident" id="8625054">testing</span><span class="op" id="8625061">.</span><span class="ident" id="8625062">T</span><span class="op" id="8625063">)</span>&nbsp;<span class="op" id="8625065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8625068">var</span>&nbsp;<span class="ident" id="8625072">x</span>&nbsp;<span class="keyword" id="8625074">interface</span><span class="op" id="8625083">{</span><span class="op" id="8625084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8625087">for</span>&nbsp;<span class="ident" id="8625091">_</span><span class="op" id="8625092">,</span>&nbsp;<span class="ident" id="8625094">src</span>&nbsp;<span class="op" id="8625098">:=</span>&nbsp;<span class="keyword" id="8625101">range</span>&nbsp;<span class="ident" id="8625107">unmarshalSyntaxTests</span>&nbsp;<span class="op" id="8625128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625132">err</span>&nbsp;<span class="op" id="8625136">:=</span>&nbsp;<span class="ident" id="8625139">Unmarshal</span><span class="op" id="8625148">(</span><span class="op" id="8625149">[</span><span class="op" id="8625150">]</span><span class="builtintype" id="8625151">byte</span><span class="op" id="8625155">(</span><span class="ident" id="8625156">src</span><span class="op" id="8625159">)</span><span class="op" id="8625160">,</span>&nbsp;<span class="op" id="8625162">&amp;</span><span class="ident" id="8625163">x</span><span class="op" id="8625164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8625168">if</span>&nbsp;<span class="ident" id="8625171">_</span><span class="op" id="8625172">,</span>&nbsp;<span class="ident" id="8625174">ok</span>&nbsp;<span class="op" id="8625177">:=</span>&nbsp;<span class="ident" id="8625180">err</span><span class="op" id="8625183">.</span><span class="op" id="8625184">(</span><span class="op" id="8625185">*</span><span class="ident" id="8625186">SyntaxError</span><span class="op" id="8625197">)</span><span class="op" id="8625198">;</span>&nbsp;<span class="op" id="8625200">!</span><span class="ident" id="8625201">ok</span>&nbsp;<span class="op" id="8625204">{</span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625209">t</span><span class="op" id="8625210">.</span><span class="ident" id="8625211">Errorf</span><span class="op" id="8625217">(</span><span class="string" id="8625218">&#34;expected&nbsp;syntax&nbsp;error&nbsp;for&nbsp;Unmarshal(%q):&nbsp;got&nbsp;%T&#34;</span><span class="op" id="8625267">,</span>&nbsp;<span class="ident" id="8625269">src</span><span class="op" id="8625272">,</span>&nbsp;<span class="ident" id="8625274">err</span><span class="op" id="8625277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8625281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8625284">}</span><br>
<span class="lineno"></span><span class="op" id="8625286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1255</span><span class="comment" id="8625289">//&nbsp;Test&nbsp;handling&nbsp;of&nbsp;unexported&nbsp;fields&nbsp;that&nbsp;should&nbsp;be&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="8625351">//&nbsp;Issue&nbsp;4660</span><br>
<span class="lineno"></span><span class="keyword" id="8625365">type</span>&nbsp;<span class="ident" id="8625370">unexportedFields</span>&nbsp;<span class="keyword" id="8625387">struct</span>&nbsp;<span class="op" id="8625394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625397">Name</span>&nbsp;<span class="builtintype" id="8625402">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625410">m</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8625415">map</span><span class="op" id="8625418">[</span><span class="builtintype" id="8625419">string</span><span class="op" id="8625425">]</span><span class="keyword" id="8625426">interface</span><span class="op" id="8625435">{</span><span class="op" id="8625436">}</span>&nbsp;<span class="string" id="8625438">`json:&#34;-&#34;`</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625450">m2</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8625455">map</span><span class="op" id="8625458">[</span><span class="builtintype" id="8625459">string</span><span class="op" id="8625465">]</span><span class="keyword" id="8625466">interface</span><span class="op" id="8625475">{</span><span class="op" id="8625476">}</span>&nbsp;<span class="string" id="8625478">`json:&#34;abcd&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8625492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8625495">func</span>&nbsp;<span class="ident" id="8625500">TestUnmarshalUnexported</span><span class="op" id="8625523">(</span><span class="ident" id="8625524">t</span>&nbsp;<span class="op" id="8625526">*</span><span class="ident" id="8625527">testing</span><span class="op" id="8625534">.</span><span class="ident" id="8625535">T</span><span class="op" id="8625536">)</span>&nbsp;<span class="op" id="8625538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625541">input</span>&nbsp;<span class="op" id="8625547">:=</span>&nbsp;<span class="string" id="8625550">`{&#34;Name&#34;:&nbsp;&#34;Bob&#34;,&nbsp;&#34;m&#34;:&nbsp;{&#34;x&#34;:&nbsp;123},&nbsp;&#34;m2&#34;:&nbsp;{&#34;y&#34;:&nbsp;456},&nbsp;&#34;abcd&#34;:&nbsp;{&#34;z&#34;:&nbsp;789}}`</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625624">want</span>&nbsp;<span class="op" id="8625629">:=</span>&nbsp;<span class="op" id="8625632">&amp;</span><span class="ident" id="8625633">unexportedFields</span><span class="op" id="8625649">{</span><span class="ident" id="8625650">Name</span><span class="op" id="8625654">:</span>&nbsp;<span class="string" id="8625656">&#34;Bob&#34;</span><span class="op" id="8625661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625665">out</span>&nbsp;<span class="op" id="8625669">:=</span>&nbsp;<span class="op" id="8625672">&amp;</span><span class="ident" id="8625673">unexportedFields</span><span class="op" id="8625689">{</span><span class="op" id="8625690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625693">err</span>&nbsp;<span class="op" id="8625697">:=</span>&nbsp;<span class="ident" id="8625700">Unmarshal</span><span class="op" id="8625709">(</span><span class="op" id="8625710">[</span><span class="op" id="8625711">]</span><span class="builtintype" id="8625712">byte</span><span class="op" id="8625716">(</span><span class="ident" id="8625717">input</span><span class="op" id="8625722">)</span><span class="op" id="8625723">,</span>&nbsp;<span class="ident" id="8625725">out</span><span class="op" id="8625728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8625731">if</span>&nbsp;<span class="ident" id="8625734">err</span>&nbsp;<span class="op" id="8625738">!=</span>&nbsp;<span class="ident" id="8625741">nil</span>&nbsp;<span class="op" id="8625745">{</span><br>
<span class="lineno">1270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625749">t</span><span class="op" id="8625750">.</span><span class="ident" id="8625751">Errorf</span><span class="op" id="8625757">(</span><span class="string" id="8625758">&#34;got&nbsp;error&nbsp;%v,&nbsp;expected&nbsp;nil&#34;</span><span class="op" id="8625786">,</span>&nbsp;<span class="ident" id="8625788">err</span><span class="op" id="8625791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8625794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8625797">if</span>&nbsp;<span class="op" id="8625800">!</span><span class="ident" id="8625801">reflect</span><span class="op" id="8625808">.</span><span class="ident" id="8625809">DeepEqual</span><span class="op" id="8625818">(</span><span class="ident" id="8625819">out</span><span class="op" id="8625822">,</span>&nbsp;<span class="ident" id="8625824">want</span><span class="op" id="8625828">)</span>&nbsp;<span class="op" id="8625830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8625834">t</span><span class="op" id="8625835">.</span><span class="ident" id="8625836">Errorf</span><span class="op" id="8625842">(</span><span class="string" id="8625843">&#34;got&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8625860">,</span>&nbsp;<span class="ident" id="8625862">out</span><span class="op" id="8625865">,</span>&nbsp;<span class="ident" id="8625867">want</span><span class="op" id="8625871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8625874">}</span><br>
<span class="lineno">1275</span><span class="op" id="8625876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8625879">//&nbsp;Time3339&nbsp;is&nbsp;a&nbsp;time.Time&nbsp;which&nbsp;encodes&nbsp;to&nbsp;and&nbsp;from&nbsp;JSON</span><br>
<span class="lineno"></span><span class="comment" id="8625937">//&nbsp;as&nbsp;an&nbsp;RFC&nbsp;3339&nbsp;time&nbsp;in&nbsp;UTC.</span><br>
<span class="lineno"></span><span class="keyword" id="8625968">type</span>&nbsp;<span class="ident" id="8625973">Time3339</span>&nbsp;<span class="ident" id="8625982">time</span><span class="op" id="8625986">.</span><span class="ident" id="8625987">Time</span><br>
<span class="lineno">1280</span><br>
<span class="lineno"></span><span class="keyword" id="8625993">func</span>&nbsp;<span class="op" id="8625998">(</span><span class="ident" id="8625999">t</span>&nbsp;<span class="op" id="8626001">*</span><span class="ident" id="8626002">Time3339</span><span class="op" id="8626010">)</span>&nbsp;<span class="ident" id="8626012">UnmarshalJSON</span><span class="op" id="8626025">(</span><span class="ident" id="8626026">b</span>&nbsp;<span class="op" id="8626028">[</span><span class="op" id="8626029">]</span><span class="builtintype" id="8626030">byte</span><span class="op" id="8626034">)</span>&nbsp;<span class="builtintype" id="8626036">error</span>&nbsp;<span class="op" id="8626042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626045">if</span>&nbsp;<span class="builtinfunc" id="8626048">len</span><span class="op" id="8626051">(</span><span class="ident" id="8626052">b</span><span class="op" id="8626053">)</span>&nbsp;<span class="op" id="8626055">&lt;</span>&nbsp;<span class="num" id="8626057">2</span>&nbsp;<span class="op" id="8626059">||</span>&nbsp;<span class="ident" id="8626062">b</span><span class="op" id="8626063">[</span><span class="num" id="8626064">0</span><span class="op" id="8626065">]</span>&nbsp;<span class="op" id="8626067">!=</span>&nbsp;<span class="string" id="8626070">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="8626074">||</span>&nbsp;<span class="ident" id="8626077">b</span><span class="op" id="8626078">[</span><span class="builtinfunc" id="8626079">len</span><span class="op" id="8626082">(</span><span class="ident" id="8626083">b</span><span class="op" id="8626084">)</span><span class="op" id="8626085">-</span><span class="num" id="8626086">1</span><span class="op" id="8626087">]</span>&nbsp;<span class="op" id="8626089">!=</span>&nbsp;<span class="string" id="8626092">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="8626096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626100">return</span>&nbsp;<span class="ident" id="8626107">fmt</span><span class="op" id="8626110">.</span><span class="ident" id="8626111">Errorf</span><span class="op" id="8626117">(</span><span class="string" id="8626118">&#34;types:&nbsp;failed&nbsp;to&nbsp;unmarshal&nbsp;non-string&nbsp;value&nbsp;%q&nbsp;as&nbsp;an&nbsp;RFC&nbsp;3339&nbsp;time&#34;</span><span class="op" id="8626186">,</span>&nbsp;<span class="ident" id="8626188">b</span><span class="op" id="8626189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626192">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626195">tm</span><span class="op" id="8626197">,</span>&nbsp;<span class="ident" id="8626199">err</span>&nbsp;<span class="op" id="8626203">:=</span>&nbsp;<span class="ident" id="8626206">time</span><span class="op" id="8626210">.</span><span class="ident" id="8626211">Parse</span><span class="op" id="8626216">(</span><span class="ident" id="8626217">time</span><span class="op" id="8626221">.</span><span class="ident" id="8626222">RFC3339</span><span class="op" id="8626229">,</span>&nbsp;<span class="builtintype" id="8626231">string</span><span class="op" id="8626237">(</span><span class="ident" id="8626238">b</span><span class="op" id="8626239">[</span><span class="num" id="8626240">1</span><span class="op" id="8626241">:</span><span class="builtinfunc" id="8626242">len</span><span class="op" id="8626245">(</span><span class="ident" id="8626246">b</span><span class="op" id="8626247">)</span><span class="op" id="8626248">-</span><span class="num" id="8626249">1</span><span class="op" id="8626250">]</span><span class="op" id="8626251">)</span><span class="op" id="8626252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626255">if</span>&nbsp;<span class="ident" id="8626258">err</span>&nbsp;<span class="op" id="8626262">!=</span>&nbsp;<span class="ident" id="8626265">nil</span>&nbsp;<span class="op" id="8626269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626273">return</span>&nbsp;<span class="ident" id="8626280">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626288">*</span><span class="ident" id="8626289">t</span>&nbsp;<span class="op" id="8626291">=</span>&nbsp;<span class="ident" id="8626293">Time3339</span><span class="op" id="8626301">(</span><span class="ident" id="8626302">tm</span><span class="op" id="8626304">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626307">return</span>&nbsp;<span class="ident" id="8626314">nil</span><br>
<span class="lineno"></span><span class="op" id="8626318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8626321">func</span>&nbsp;<span class="ident" id="8626326">TestUnmarshalJSONLiteralError</span><span class="op" id="8626355">(</span><span class="ident" id="8626356">t</span>&nbsp;<span class="op" id="8626358">*</span><span class="ident" id="8626359">testing</span><span class="op" id="8626366">.</span><span class="ident" id="8626367">T</span><span class="op" id="8626368">)</span>&nbsp;<span class="op" id="8626370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626373">var</span>&nbsp;<span class="ident" id="8626377">t3</span>&nbsp;<span class="ident" id="8626380">Time3339</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626390">err</span>&nbsp;<span class="op" id="8626394">:=</span>&nbsp;<span class="ident" id="8626397">Unmarshal</span><span class="op" id="8626406">(</span><span class="op" id="8626407">[</span><span class="op" id="8626408">]</span><span class="builtintype" id="8626409">byte</span><span class="op" id="8626413">(</span><span class="string" id="8626414">`&#34;0000-00-00T00:00:00Z&#34;`</span><span class="op" id="8626438">)</span><span class="op" id="8626439">,</span>&nbsp;<span class="op" id="8626441">&amp;</span><span class="ident" id="8626442">t3</span><span class="op" id="8626444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626447">if</span>&nbsp;<span class="ident" id="8626450">err</span>&nbsp;<span class="op" id="8626454">==</span>&nbsp;<span class="ident" id="8626457">nil</span>&nbsp;<span class="op" id="8626461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626465">t</span><span class="op" id="8626466">.</span><span class="ident" id="8626467">Fatalf</span><span class="op" id="8626473">(</span><span class="string" id="8626474">&#34;expected&nbsp;error;&nbsp;got&nbsp;time&nbsp;%v&#34;</span><span class="op" id="8626503">,</span>&nbsp;<span class="ident" id="8626505">time</span><span class="op" id="8626509">.</span><span class="ident" id="8626510">Time</span><span class="op" id="8626514">(</span><span class="ident" id="8626515">t3</span><span class="op" id="8626517">)</span><span class="op" id="8626518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626524">if</span>&nbsp;<span class="op" id="8626527">!</span><span class="ident" id="8626528">strings</span><span class="op" id="8626535">.</span><span class="ident" id="8626536">Contains</span><span class="op" id="8626544">(</span><span class="ident" id="8626545">err</span><span class="op" id="8626548">.</span><span class="ident" id="8626549">Error</span><span class="op" id="8626554">(</span><span class="op" id="8626555">)</span><span class="op" id="8626556">,</span>&nbsp;<span class="string" id="8626558">&#34;range&#34;</span><span class="op" id="8626565">)</span>&nbsp;<span class="op" id="8626567">{</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626571">t</span><span class="op" id="8626572">.</span><span class="ident" id="8626573">Errorf</span><span class="op" id="8626579">(</span><span class="string" id="8626580">&#34;got&nbsp;err&nbsp;=&nbsp;%v;&nbsp;want&nbsp;out&nbsp;of&nbsp;range&nbsp;error&#34;</span><span class="op" id="8626619">,</span>&nbsp;<span class="ident" id="8626621">err</span><span class="op" id="8626624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626627">}</span><br>
<span class="lineno"></span><span class="op" id="8626629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8626632">//&nbsp;Test&nbsp;that&nbsp;extra&nbsp;object&nbsp;elements&nbsp;in&nbsp;an&nbsp;array&nbsp;do&nbsp;not&nbsp;result&nbsp;in&nbsp;a</span><br>
<span class="lineno">1305</span><span class="comment" id="8626698">//&nbsp;&#34;data&nbsp;changing&nbsp;underfoot&#34;&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="8626734">//&nbsp;Issue&nbsp;3717</span><br>
<span class="lineno"></span><span class="keyword" id="8626748">func</span>&nbsp;<span class="ident" id="8626753">TestSkipArrayObjects</span><span class="op" id="8626773">(</span><span class="ident" id="8626774">t</span>&nbsp;<span class="op" id="8626776">*</span><span class="ident" id="8626777">testing</span><span class="op" id="8626784">.</span><span class="ident" id="8626785">T</span><span class="op" id="8626786">)</span>&nbsp;<span class="op" id="8626788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626791">json</span>&nbsp;<span class="op" id="8626796">:=</span>&nbsp;<span class="string" id="8626799">`[{}]`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626807">var</span>&nbsp;<span class="ident" id="8626811">dest</span>&nbsp;<span class="op" id="8626816">[</span><span class="num" id="8626817">0</span><span class="op" id="8626818">]</span><span class="keyword" id="8626819">interface</span><span class="op" id="8626828">{</span><span class="op" id="8626829">}</span><br>
<span class="lineno">1310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626833">err</span>&nbsp;<span class="op" id="8626837">:=</span>&nbsp;<span class="ident" id="8626840">Unmarshal</span><span class="op" id="8626849">(</span><span class="op" id="8626850">[</span><span class="op" id="8626851">]</span><span class="builtintype" id="8626852">byte</span><span class="op" id="8626856">(</span><span class="ident" id="8626857">json</span><span class="op" id="8626861">)</span><span class="op" id="8626862">,</span>&nbsp;<span class="op" id="8626864">&amp;</span><span class="ident" id="8626865">dest</span><span class="op" id="8626869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8626872">if</span>&nbsp;<span class="ident" id="8626875">err</span>&nbsp;<span class="op" id="8626879">!=</span>&nbsp;<span class="ident" id="8626882">nil</span>&nbsp;<span class="op" id="8626886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8626890">t</span><span class="op" id="8626891">.</span><span class="ident" id="8626892">Errorf</span><span class="op" id="8626898">(</span><span class="string" id="8626899">&#34;got&nbsp;error&nbsp;%q,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8626923">,</span>&nbsp;<span class="ident" id="8626925">err</span><span class="op" id="8626928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8626931">}</span><br>
<span class="lineno">1315</span><span class="op" id="8626933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8626936">//&nbsp;Test&nbsp;semantics&nbsp;of&nbsp;pre-filled&nbsp;struct&nbsp;fields&nbsp;and&nbsp;pre-filled&nbsp;map&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="8627009">//&nbsp;Issue&nbsp;4900.</span><br>
<span class="lineno"></span><span class="keyword" id="8627024">func</span>&nbsp;<span class="ident" id="8627029">TestPrefilled</span><span class="op" id="8627042">(</span><span class="ident" id="8627043">t</span>&nbsp;<span class="op" id="8627045">*</span><span class="ident" id="8627046">testing</span><span class="op" id="8627053">.</span><span class="ident" id="8627054">T</span><span class="op" id="8627055">)</span>&nbsp;<span class="op" id="8627057">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627060">ptrToMap</span>&nbsp;<span class="op" id="8627069">:=</span>&nbsp;<span class="keyword" id="8627072">func</span><span class="op" id="8627076">(</span><span class="ident" id="8627077">m</span>&nbsp;<span class="keyword" id="8627079">map</span><span class="op" id="8627082">[</span><span class="builtintype" id="8627083">string</span><span class="op" id="8627089">]</span><span class="keyword" id="8627090">interface</span><span class="op" id="8627099">{</span><span class="op" id="8627100">}</span><span class="op" id="8627101">)</span>&nbsp;<span class="op" id="8627103">*</span><span class="keyword" id="8627104">map</span><span class="op" id="8627107">[</span><span class="builtintype" id="8627108">string</span><span class="op" id="8627114">]</span><span class="keyword" id="8627115">interface</span><span class="op" id="8627124">{</span><span class="op" id="8627125">}</span>&nbsp;<span class="op" id="8627127">{</span>&nbsp;<span class="keyword" id="8627129">return</span>&nbsp;<span class="op" id="8627136">&amp;</span><span class="ident" id="8627137">m</span>&nbsp;<span class="op" id="8627139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8627143">//&nbsp;Values&nbsp;here&nbsp;change,&nbsp;cannot&nbsp;reuse&nbsp;table&nbsp;across&nbsp;runs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627199">var</span>&nbsp;<span class="ident" id="8627203">prefillTests</span>&nbsp;<span class="op" id="8627216">=</span>&nbsp;<span class="op" id="8627218">[</span><span class="op" id="8627219">]</span><span class="keyword" id="8627220">struct</span>&nbsp;<span class="op" id="8627227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627231">in</span>&nbsp;&nbsp;<span class="builtintype" id="8627235">string</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627244">ptr</span>&nbsp;<span class="keyword" id="8627248">interface</span><span class="op" id="8627257">{</span><span class="op" id="8627258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627262">out</span>&nbsp;<span class="keyword" id="8627266">interface</span><span class="op" id="8627275">{</span><span class="op" id="8627276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627279">}</span><span class="op" id="8627280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627289">in</span><span class="op" id="8627291">:</span>&nbsp;&nbsp;<span class="string" id="8627294">`{&#34;X&#34;:&nbsp;1,&nbsp;&#34;Y&#34;:&nbsp;2}`</span><span class="op" id="8627312">,</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627317">ptr</span><span class="op" id="8627320">:</span>&nbsp;<span class="op" id="8627322">&amp;</span><span class="ident" id="8627323">XYZ</span><span class="op" id="8627326">{</span><span class="ident" id="8627327">X</span><span class="op" id="8627328">:</span>&nbsp;<span class="builtintype" id="8627330">float32</span><span class="op" id="8627337">(</span><span class="num" id="8627338">3</span><span class="op" id="8627339">)</span><span class="op" id="8627340">,</span>&nbsp;<span class="ident" id="8627342">Y</span><span class="op" id="8627343">:</span>&nbsp;<span class="builtintype" id="8627345">int16</span><span class="op" id="8627350">(</span><span class="num" id="8627351">4</span><span class="op" id="8627352">)</span><span class="op" id="8627353">,</span>&nbsp;<span class="ident" id="8627355">Z</span><span class="op" id="8627356">:</span>&nbsp;<span class="num" id="8627358">1.5</span><span class="op" id="8627361">}</span><span class="op" id="8627362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627367">out</span><span class="op" id="8627370">:</span>&nbsp;<span class="op" id="8627372">&amp;</span><span class="ident" id="8627373">XYZ</span><span class="op" id="8627376">{</span><span class="ident" id="8627377">X</span><span class="op" id="8627378">:</span>&nbsp;<span class="builtintype" id="8627380">float64</span><span class="op" id="8627387">(</span><span class="num" id="8627388">1</span><span class="op" id="8627389">)</span><span class="op" id="8627390">,</span>&nbsp;<span class="ident" id="8627392">Y</span><span class="op" id="8627393">:</span>&nbsp;<span class="builtintype" id="8627395">float64</span><span class="op" id="8627402">(</span><span class="num" id="8627403">2</span><span class="op" id="8627404">)</span><span class="op" id="8627405">,</span>&nbsp;<span class="ident" id="8627407">Z</span><span class="op" id="8627408">:</span>&nbsp;<span class="num" id="8627410">1.5</span><span class="op" id="8627413">}</span><span class="op" id="8627414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627418">}</span><span class="op" id="8627419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627428">in</span><span class="op" id="8627430">:</span>&nbsp;&nbsp;<span class="string" id="8627433">`{&#34;X&#34;:&nbsp;1,&nbsp;&#34;Y&#34;:&nbsp;2}`</span><span class="op" id="8627451">,</span><br>
<span class="lineno">1335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627456">ptr</span><span class="op" id="8627459">:</span>&nbsp;<span class="ident" id="8627461">ptrToMap</span><span class="op" id="8627469">(</span><span class="keyword" id="8627470">map</span><span class="op" id="8627473">[</span><span class="builtintype" id="8627474">string</span><span class="op" id="8627480">]</span><span class="keyword" id="8627481">interface</span><span class="op" id="8627490">{</span><span class="op" id="8627491">}</span><span class="op" id="8627492">{</span><span class="string" id="8627493">&#34;X&#34;</span><span class="op" id="8627496">:</span>&nbsp;<span class="builtintype" id="8627498">float32</span><span class="op" id="8627505">(</span><span class="num" id="8627506">3</span><span class="op" id="8627507">)</span><span class="op" id="8627508">,</span>&nbsp;<span class="string" id="8627510">&#34;Y&#34;</span><span class="op" id="8627513">:</span>&nbsp;<span class="builtintype" id="8627515">int16</span><span class="op" id="8627520">(</span><span class="num" id="8627521">4</span><span class="op" id="8627522">)</span><span class="op" id="8627523">,</span>&nbsp;<span class="string" id="8627525">&#34;Z&#34;</span><span class="op" id="8627528">:</span>&nbsp;<span class="num" id="8627530">1.5</span><span class="op" id="8627533">}</span><span class="op" id="8627534">)</span><span class="op" id="8627535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627540">out</span><span class="op" id="8627543">:</span>&nbsp;<span class="ident" id="8627545">ptrToMap</span><span class="op" id="8627553">(</span><span class="keyword" id="8627554">map</span><span class="op" id="8627557">[</span><span class="builtintype" id="8627558">string</span><span class="op" id="8627564">]</span><span class="keyword" id="8627565">interface</span><span class="op" id="8627574">{</span><span class="op" id="8627575">}</span><span class="op" id="8627576">{</span><span class="string" id="8627577">&#34;X&#34;</span><span class="op" id="8627580">:</span>&nbsp;<span class="builtintype" id="8627582">float64</span><span class="op" id="8627589">(</span><span class="num" id="8627590">1</span><span class="op" id="8627591">)</span><span class="op" id="8627592">,</span>&nbsp;<span class="string" id="8627594">&#34;Y&#34;</span><span class="op" id="8627597">:</span>&nbsp;<span class="builtintype" id="8627599">float64</span><span class="op" id="8627606">(</span><span class="num" id="8627607">2</span><span class="op" id="8627608">)</span><span class="op" id="8627609">,</span>&nbsp;<span class="string" id="8627611">&#34;Z&#34;</span><span class="op" id="8627614">:</span>&nbsp;<span class="num" id="8627616">1.5</span><span class="op" id="8627619">}</span><span class="op" id="8627620">)</span><span class="op" id="8627621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627625">}</span><span class="op" id="8627626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627633">for</span>&nbsp;<span class="ident" id="8627637">_</span><span class="op" id="8627638">,</span>&nbsp;<span class="ident" id="8627640">tt</span>&nbsp;<span class="op" id="8627643">:=</span>&nbsp;<span class="keyword" id="8627646">range</span>&nbsp;<span class="ident" id="8627652">prefillTests</span>&nbsp;<span class="op" id="8627665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627669">ptrstr</span>&nbsp;<span class="op" id="8627676">:=</span>&nbsp;<span class="ident" id="8627679">fmt</span><span class="op" id="8627682">.</span><span class="ident" id="8627683">Sprintf</span><span class="op" id="8627690">(</span><span class="string" id="8627691">&#34;%v&#34;</span><span class="op" id="8627695">,</span>&nbsp;<span class="ident" id="8627697">tt</span><span class="op" id="8627699">.</span><span class="ident" id="8627700">ptr</span><span class="op" id="8627703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627707">err</span>&nbsp;<span class="op" id="8627711">:=</span>&nbsp;<span class="ident" id="8627714">Unmarshal</span><span class="op" id="8627723">(</span><span class="op" id="8627724">[</span><span class="op" id="8627725">]</span><span class="builtintype" id="8627726">byte</span><span class="op" id="8627730">(</span><span class="ident" id="8627731">tt</span><span class="op" id="8627733">.</span><span class="ident" id="8627734">in</span><span class="op" id="8627736">)</span><span class="op" id="8627737">,</span>&nbsp;<span class="ident" id="8627739">tt</span><span class="op" id="8627741">.</span><span class="ident" id="8627742">ptr</span><span class="op" id="8627745">)</span>&nbsp;<span class="comment" id="8627747">//&nbsp;tt.ptr&nbsp;edited&nbsp;here</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627771">if</span>&nbsp;<span class="ident" id="8627774">err</span>&nbsp;<span class="op" id="8627778">!=</span>&nbsp;<span class="ident" id="8627781">nil</span>&nbsp;<span class="op" id="8627785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627790">t</span><span class="op" id="8627791">.</span><span class="ident" id="8627792">Errorf</span><span class="op" id="8627798">(</span><span class="string" id="8627799">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="8627814">,</span>&nbsp;<span class="ident" id="8627816">err</span><span class="op" id="8627819">)</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8627827">if</span>&nbsp;<span class="op" id="8627830">!</span><span class="ident" id="8627831">reflect</span><span class="op" id="8627838">.</span><span class="ident" id="8627839">DeepEqual</span><span class="op" id="8627848">(</span><span class="ident" id="8627849">tt</span><span class="op" id="8627851">.</span><span class="ident" id="8627852">ptr</span><span class="op" id="8627855">,</span>&nbsp;<span class="ident" id="8627857">tt</span><span class="op" id="8627859">.</span><span class="ident" id="8627860">out</span><span class="op" id="8627863">)</span>&nbsp;<span class="op" id="8627865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8627870">t</span><span class="op" id="8627871">.</span><span class="ident" id="8627872">Errorf</span><span class="op" id="8627878">(</span><span class="string" id="8627879">&#34;Unmarshal(%#q,&nbsp;%s):&nbsp;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8627917">,</span>&nbsp;<span class="ident" id="8627919">tt</span><span class="op" id="8627921">.</span><span class="ident" id="8627922">in</span><span class="op" id="8627924">,</span>&nbsp;<span class="ident" id="8627926">ptrstr</span><span class="op" id="8627932">,</span>&nbsp;<span class="ident" id="8627934">tt</span><span class="op" id="8627936">.</span><span class="ident" id="8627937">ptr</span><span class="op" id="8627940">,</span>&nbsp;<span class="ident" id="8627942">tt</span><span class="op" id="8627944">.</span><span class="ident" id="8627945">out</span><span class="op" id="8627948">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8627955">}</span><br>
<span class="lineno">1350</span><span class="op" id="8627957">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8627960">var</span>&nbsp;<span class="ident" id="8627964">invalidUnmarshalTests</span>&nbsp;<span class="op" id="8627986">=</span>&nbsp;<span class="op" id="8627988">[</span><span class="op" id="8627989">]</span><span class="keyword" id="8627990">struct</span>&nbsp;<span class="op" id="8627997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628000">v</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8628005">interface</span><span class="op" id="8628014">{</span><span class="op" id="8628015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628018">want</span>&nbsp;<span class="builtintype" id="8628023">string</span><br>
<span class="lineno">1355</span><span class="op" id="8628030">}</span><span class="op" id="8628031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628034">{</span><span class="ident" id="8628035">nil</span><span class="op" id="8628038">,</span>&nbsp;<span class="string" id="8628040">&#34;json:&nbsp;Unmarshal(nil)&#34;</span><span class="op" id="8628062">}</span><span class="op" id="8628063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628066">{</span><span class="keyword" id="8628067">struct</span><span class="op" id="8628073">{</span><span class="op" id="8628074">}</span><span class="op" id="8628075">{</span><span class="op" id="8628076">}</span><span class="op" id="8628077">,</span>&nbsp;<span class="string" id="8628079">&#34;json:&nbsp;Unmarshal(non-pointer&nbsp;struct&nbsp;{})&#34;</span><span class="op" id="8628119">}</span><span class="op" id="8628120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628123">{</span><span class="op" id="8628124">(</span><span class="op" id="8628125">*</span><span class="builtintype" id="8628126">int</span><span class="op" id="8628129">)</span><span class="op" id="8628130">(</span><span class="ident" id="8628131">nil</span><span class="op" id="8628134">)</span><span class="op" id="8628135">,</span>&nbsp;<span class="string" id="8628137">&#34;json:&nbsp;Unmarshal(nil&nbsp;*int)&#34;</span><span class="op" id="8628164">}</span><span class="op" id="8628165">,</span><br>
<span class="lineno"></span><span class="op" id="8628167">}</span><br>
<span class="lineno">1360</span><br>
<span class="lineno"></span><span class="keyword" id="8628170">func</span>&nbsp;<span class="ident" id="8628175">TestInvalidUnmarshal</span><span class="op" id="8628195">(</span><span class="ident" id="8628196">t</span>&nbsp;<span class="op" id="8628198">*</span><span class="ident" id="8628199">testing</span><span class="op" id="8628206">.</span><span class="ident" id="8628207">T</span><span class="op" id="8628208">)</span>&nbsp;<span class="op" id="8628210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628213">buf</span>&nbsp;<span class="op" id="8628217">:=</span>&nbsp;<span class="op" id="8628220">[</span><span class="op" id="8628221">]</span><span class="builtintype" id="8628222">byte</span><span class="op" id="8628226">(</span><span class="string" id="8628227">`{&#34;a&#34;:&#34;1&#34;}`</span><span class="op" id="8628238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628241">for</span>&nbsp;<span class="ident" id="8628245">_</span><span class="op" id="8628246">,</span>&nbsp;<span class="ident" id="8628248">tt</span>&nbsp;<span class="op" id="8628251">:=</span>&nbsp;<span class="keyword" id="8628254">range</span>&nbsp;<span class="ident" id="8628260">invalidUnmarshalTests</span>&nbsp;<span class="op" id="8628282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628286">err</span>&nbsp;<span class="op" id="8628290">:=</span>&nbsp;<span class="ident" id="8628293">Unmarshal</span><span class="op" id="8628302">(</span><span class="ident" id="8628303">buf</span><span class="op" id="8628306">,</span>&nbsp;<span class="ident" id="8628308">tt</span><span class="op" id="8628310">.</span><span class="ident" id="8628311">v</span><span class="op" id="8628312">)</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628316">if</span>&nbsp;<span class="ident" id="8628319">err</span>&nbsp;<span class="op" id="8628323">==</span>&nbsp;<span class="ident" id="8628326">nil</span>&nbsp;<span class="op" id="8628330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628335">t</span><span class="op" id="8628336">.</span><span class="ident" id="8628337">Errorf</span><span class="op" id="8628343">(</span><span class="string" id="8628344">&#34;Unmarshal&nbsp;expecting&nbsp;error,&nbsp;got&nbsp;nil&#34;</span><span class="op" id="8628380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628385">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8628400">if</span>&nbsp;<span class="ident" id="8628403">got</span>&nbsp;<span class="op" id="8628407">:=</span>&nbsp;<span class="ident" id="8628410">err</span><span class="op" id="8628413">.</span><span class="ident" id="8628414">Error</span><span class="op" id="8628419">(</span><span class="op" id="8628420">)</span><span class="op" id="8628421">;</span>&nbsp;<span class="ident" id="8628423">got</span>&nbsp;<span class="op" id="8628427">!=</span>&nbsp;<span class="ident" id="8628430">tt</span><span class="op" id="8628432">.</span><span class="ident" id="8628433">want</span>&nbsp;<span class="op" id="8628438">{</span><br>
<span class="lineno">1370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8628443">t</span><span class="op" id="8628444">.</span><span class="ident" id="8628445">Errorf</span><span class="op" id="8628451">(</span><span class="string" id="8628452">&#34;Unmarshal&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8628477">,</span>&nbsp;<span class="ident" id="8628479">got</span><span class="op" id="8628482">,</span>&nbsp;<span class="ident" id="8628484">tt</span><span class="op" id="8628486">.</span><span class="ident" id="8628487">want</span><span class="op" id="8628491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8628498">}</span><br>
<span class="lineno"></span><span class="op" id="8628500">}</span>
</div>
</body>
</html>
