<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html" class="current">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2168556">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2168611">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2168665">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2168716">package</span>&nbsp;<span class="ident" id="2168724">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2168729">import</span>&nbsp;<span class="op" id="2168736">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168739">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168749">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168755">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168763">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168769">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168780">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168791">&#34;sync&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2168799">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2168814">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2168817">//&nbsp;runeUnreader&nbsp;is&nbsp;the&nbsp;interface&nbsp;to&nbsp;something&nbsp;that&nbsp;can&nbsp;unread&nbsp;runes.</span><br>
<span class="lineno"></span><span class="comment" id="2168886">//&nbsp;If&nbsp;the&nbsp;object&nbsp;provided&nbsp;to&nbsp;Scan&nbsp;does&nbsp;not&nbsp;satisfy&nbsp;this&nbsp;interface,</span><br>
<span class="lineno">20</span><span class="comment" id="2168953">//&nbsp;a&nbsp;local&nbsp;buffer&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;back&nbsp;up&nbsp;the&nbsp;input,&nbsp;but&nbsp;its&nbsp;contents</span><br>
<span class="lineno"></span><span class="comment" id="2169023">//&nbsp;will&nbsp;be&nbsp;lost&nbsp;when&nbsp;Scan&nbsp;returns.</span><br>
<span class="lineno"></span><span class="keyword" id="2169058">type</span>&nbsp;<span class="ident" id="2169063">runeUnreader</span>&nbsp;<span class="keyword" id="2169076">interface</span>&nbsp;<span class="op" id="2169086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2169089">UnreadRune</span><span class="op" id="2169099">(</span><span class="op" id="2169100">)</span>&nbsp;<span class="builtintype" id="2169102">error</span><br>
<span class="lineno"></span><span class="op" id="2169108">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="2169111">//&nbsp;ScanState&nbsp;represents&nbsp;the&nbsp;scanner&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;scanners.</span><br>
<span class="lineno"></span><span class="comment" id="2169180">//&nbsp;Scanners&nbsp;may&nbsp;do&nbsp;rune-at-a-time&nbsp;scanning&nbsp;or&nbsp;ask&nbsp;the&nbsp;ScanState</span><br>
<span class="lineno"></span><span class="comment" id="2169244">//&nbsp;to&nbsp;discover&nbsp;the&nbsp;next&nbsp;space-delimited&nbsp;token.</span><br>
<span class="lineno"></span><span class="keyword" id="2169291">type</span>&nbsp;<span class="ident" id="2169296">ScanState</span>&nbsp;<span class="keyword" id="2169306">interface</span>&nbsp;<span class="op" id="2169316">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169319">//&nbsp;ReadRune&nbsp;reads&nbsp;the&nbsp;next&nbsp;rune&nbsp;(Unicode&nbsp;code&nbsp;point)&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169389">//&nbsp;If&nbsp;invoked&nbsp;during&nbsp;Scanln,&nbsp;Fscanln,&nbsp;or&nbsp;Sscanln,&nbsp;ReadRune()&nbsp;will</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169456">//&nbsp;return&nbsp;EOF&nbsp;after&nbsp;returning&nbsp;the&nbsp;first&nbsp;&#39;\n&#39;&nbsp;or&nbsp;when&nbsp;reading&nbsp;beyond</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169525">//&nbsp;the&nbsp;specified&nbsp;width.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2169550">ReadRune</span><span class="op" id="2169558">(</span><span class="op" id="2169559">)</span>&nbsp;<span class="op" id="2169561">(</span><span class="ident" id="2169562">r</span>&nbsp;<span class="builtintype" id="2169564">rune</span><span class="op" id="2169568">,</span>&nbsp;<span class="ident" id="2169570">size</span>&nbsp;<span class="builtintype" id="2169575">int</span><span class="op" id="2169578">,</span>&nbsp;<span class="ident" id="2169580">err</span>&nbsp;<span class="builtintype" id="2169584">error</span><span class="op" id="2169589">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169592">//&nbsp;UnreadRune&nbsp;causes&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;ReadRune&nbsp;to&nbsp;return&nbsp;the&nbsp;same&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2169665">UnreadRune</span><span class="op" id="2169675">(</span><span class="op" id="2169676">)</span>&nbsp;<span class="builtintype" id="2169678">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169685">//&nbsp;SkipSpace&nbsp;skips&nbsp;space&nbsp;in&nbsp;the&nbsp;input.&nbsp;Newlines&nbsp;are&nbsp;treated&nbsp;as&nbsp;space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169755">//&nbsp;unless&nbsp;the&nbsp;scan&nbsp;operation&nbsp;is&nbsp;Scanln,&nbsp;Fscanln&nbsp;or&nbsp;Sscanln,&nbsp;in&nbsp;which&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169830">//&nbsp;a&nbsp;newline&nbsp;is&nbsp;treated&nbsp;as&nbsp;EOF.</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2169863">SkipSpace</span><span class="op" id="2169872">(</span><span class="op" id="2169873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169876">//&nbsp;Token&nbsp;skips&nbsp;space&nbsp;in&nbsp;the&nbsp;input&nbsp;if&nbsp;skipSpace&nbsp;is&nbsp;true,&nbsp;then&nbsp;returns&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2169950">//&nbsp;run&nbsp;of&nbsp;Unicode&nbsp;code&nbsp;points&nbsp;c&nbsp;satisfying&nbsp;f(c).&nbsp;&nbsp;If&nbsp;f&nbsp;is&nbsp;nil,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170014">//&nbsp;!unicode.IsSpace(c)&nbsp;is&nbsp;used;&nbsp;that&nbsp;is,&nbsp;the&nbsp;token&nbsp;will&nbsp;hold&nbsp;non-space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170086">//&nbsp;characters.&nbsp;&nbsp;Newlines&nbsp;are&nbsp;treated&nbsp;as&nbsp;space&nbsp;unless&nbsp;the&nbsp;scan&nbsp;operation</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170159">//&nbsp;is&nbsp;Scanln,&nbsp;Fscanln&nbsp;or&nbsp;Sscanln,&nbsp;in&nbsp;which&nbsp;case&nbsp;a&nbsp;newline&nbsp;is&nbsp;treated&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170232">//&nbsp;EOF.&nbsp;&nbsp;The&nbsp;returned&nbsp;slice&nbsp;points&nbsp;to&nbsp;shared&nbsp;data&nbsp;that&nbsp;may&nbsp;be&nbsp;overwritten</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170307">//&nbsp;by&nbsp;the&nbsp;next&nbsp;call&nbsp;to&nbsp;Token,&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;Scan&nbsp;function&nbsp;using&nbsp;the&nbsp;ScanState</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170384">//&nbsp;as&nbsp;input,&nbsp;or&nbsp;when&nbsp;the&nbsp;calling&nbsp;Scan&nbsp;method&nbsp;returns.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2170439">Token</span><span class="op" id="2170444">(</span><span class="ident" id="2170445">skipSpace</span>&nbsp;<span class="builtintype" id="2170455">bool</span><span class="op" id="2170459">,</span>&nbsp;<span class="ident" id="2170461">f</span>&nbsp;<span class="keyword" id="2170463">func</span><span class="op" id="2170467">(</span><span class="builtintype" id="2170468">rune</span><span class="op" id="2170472">)</span>&nbsp;<span class="builtintype" id="2170474">bool</span><span class="op" id="2170478">)</span>&nbsp;<span class="op" id="2170480">(</span><span class="ident" id="2170481">token</span>&nbsp;<span class="op" id="2170487">[</span><span class="op" id="2170488">]</span><span class="builtintype" id="2170489">byte</span><span class="op" id="2170493">,</span>&nbsp;<span class="ident" id="2170495">err</span>&nbsp;<span class="builtintype" id="2170499">error</span><span class="op" id="2170504">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170507">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170584">//&nbsp;The&nbsp;unit&nbsp;is&nbsp;Unicode&nbsp;code&nbsp;points.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2170621">Width</span><span class="op" id="2170626">(</span><span class="op" id="2170627">)</span>&nbsp;<span class="op" id="2170629">(</span><span class="ident" id="2170630">wid</span>&nbsp;<span class="builtintype" id="2170634">int</span><span class="op" id="2170637">,</span>&nbsp;<span class="ident" id="2170639">ok</span>&nbsp;<span class="builtintype" id="2170642">bool</span><span class="op" id="2170646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170649">//&nbsp;Because&nbsp;ReadRune&nbsp;is&nbsp;implemented&nbsp;by&nbsp;the&nbsp;interface,&nbsp;Read&nbsp;should&nbsp;never&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170724">//&nbsp;called&nbsp;by&nbsp;the&nbsp;scanning&nbsp;routines&nbsp;and&nbsp;a&nbsp;valid&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2170790">//&nbsp;ScanState&nbsp;may&nbsp;choose&nbsp;always&nbsp;to&nbsp;return&nbsp;an&nbsp;error&nbsp;from&nbsp;Read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2170852">Read</span><span class="op" id="2170856">(</span><span class="ident" id="2170857">buf</span>&nbsp;<span class="op" id="2170861">[</span><span class="op" id="2170862">]</span><span class="builtintype" id="2170863">byte</span><span class="op" id="2170867">)</span>&nbsp;<span class="op" id="2170869">(</span><span class="ident" id="2170870">n</span>&nbsp;<span class="builtintype" id="2170872">int</span><span class="op" id="2170875">,</span>&nbsp;<span class="ident" id="2170877">err</span>&nbsp;<span class="builtintype" id="2170881">error</span><span class="op" id="2170886">)</span><br>
<span class="lineno"></span><span class="op" id="2170888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2170891">//&nbsp;Scanner&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;Scan&nbsp;method,&nbsp;which&nbsp;scans</span><br>
<span class="lineno">60</span><span class="comment" id="2170966">//&nbsp;the&nbsp;input&nbsp;for&nbsp;the&nbsp;representation&nbsp;of&nbsp;a&nbsp;value&nbsp;and&nbsp;stores&nbsp;the&nbsp;result&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2171042">//&nbsp;receiver,&nbsp;which&nbsp;must&nbsp;be&nbsp;a&nbsp;pointer&nbsp;to&nbsp;be&nbsp;useful.&nbsp;&nbsp;The&nbsp;Scan&nbsp;method&nbsp;is&nbsp;called</span><br>
<span class="lineno"></span><span class="comment" id="2171120">//&nbsp;for&nbsp;any&nbsp;argument&nbsp;to&nbsp;Scan,&nbsp;Scanf,&nbsp;or&nbsp;Scanln&nbsp;that&nbsp;implements&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="2171186">type</span>&nbsp;<span class="ident" id="2171191">Scanner</span>&nbsp;<span class="keyword" id="2171199">interface</span>&nbsp;<span class="op" id="2171209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2171212">Scan</span><span class="op" id="2171216">(</span><span class="ident" id="2171217">state</span>&nbsp;<span class="ident" id="2171223"><a href="/gostd/fmt/scan.go.html#2169296">ScanState</a></span><span class="op" id="2171232">,</span>&nbsp;<span class="ident" id="2171234">verb</span>&nbsp;<span class="builtintype" id="2171239">rune</span><span class="op" id="2171243">)</span>&nbsp;<span class="builtintype" id="2171245">error</span><br>
<span class="lineno">65</span><span class="op" id="2171251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2171254">//&nbsp;Scan&nbsp;scans&nbsp;text&nbsp;read&nbsp;from&nbsp;standard&nbsp;input,&nbsp;storing&nbsp;successive</span><br>
<span class="lineno"></span><span class="comment" id="2171318">//&nbsp;space-separated&nbsp;values&nbsp;into&nbsp;successive&nbsp;arguments.&nbsp;&nbsp;Newlines&nbsp;count</span><br>
<span class="lineno"></span><span class="comment" id="2171387">//&nbsp;as&nbsp;space.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;items&nbsp;successfully&nbsp;scanned.</span><br>
<span class="lineno">70</span><span class="comment" id="2171454">//&nbsp;If&nbsp;that&nbsp;is&nbsp;less&nbsp;than&nbsp;the&nbsp;number&nbsp;of&nbsp;arguments,&nbsp;err&nbsp;will&nbsp;report&nbsp;why.</span><br>
<span class="lineno"></span><span class="keyword" id="2171524">func</span>&nbsp;<span class="ident" id="2171529">Scan</span><span class="op" id="2171533">(</span><span class="ident" id="2171534">a</span>&nbsp;<span class="op" id="2171536">...</span><span class="keyword" id="2171539">interface</span><span class="op" id="2171548">{</span><span class="op" id="2171549">}</span><span class="op" id="2171550">)</span>&nbsp;<span class="op" id="2171552">(</span><span class="ident" id="2171553">n</span>&nbsp;<span class="builtintype" id="2171555">int</span><span class="op" id="2171558">,</span>&nbsp;<span class="ident" id="2171560">err</span>&nbsp;<span class="builtintype" id="2171564">error</span><span class="op" id="2171569">)</span>&nbsp;<span class="op" id="2171571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2171574">return</span>&nbsp;<span class="ident" id="2171581"><a href="/gostd/fmt/scan.go.html#2173479">Fscan</a></span><span class="op" id="2171586">(</span><span class="ident" id="2171587"><a href="/gostd/fmt/scan.go.html#2168763">os</a></span><span class="op" id="2171589">.</span><span class="ident" id="2171590"><a href="/gostd/os/file.go.html#2441758">Stdin</a></span><span class="op" id="2171595">,</span>&nbsp;<span class="ident" id="2171597"><a href="/gostd/fmt/scan.go.html#2171534">a</a></span><span class="op" id="2171598">...</span><span class="op" id="2171601">)</span><br>
<span class="lineno"></span><span class="op" id="2171603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2171606">//&nbsp;Scanln&nbsp;is&nbsp;similar&nbsp;to&nbsp;Scan,&nbsp;but&nbsp;stops&nbsp;scanning&nbsp;at&nbsp;a&nbsp;newline&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2171672">//&nbsp;after&nbsp;the&nbsp;final&nbsp;item&nbsp;there&nbsp;must&nbsp;be&nbsp;a&nbsp;newline&nbsp;or&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="2171728">func</span>&nbsp;<span class="ident" id="2171733">Scanln</span><span class="op" id="2171739">(</span><span class="ident" id="2171740">a</span>&nbsp;<span class="op" id="2171742">...</span><span class="keyword" id="2171745">interface</span><span class="op" id="2171754">{</span><span class="op" id="2171755">}</span><span class="op" id="2171756">)</span>&nbsp;<span class="op" id="2171758">(</span><span class="ident" id="2171759">n</span>&nbsp;<span class="builtintype" id="2171761">int</span><span class="op" id="2171764">,</span>&nbsp;<span class="ident" id="2171766">err</span>&nbsp;<span class="builtintype" id="2171770">error</span><span class="op" id="2171775">)</span>&nbsp;<span class="op" id="2171777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2171780">return</span>&nbsp;<span class="ident" id="2171787"><a href="/gostd/fmt/scan.go.html#2173752">Fscanln</a></span><span class="op" id="2171794">(</span><span class="ident" id="2171795"><a href="/gostd/fmt/scan.go.html#2168763">os</a></span><span class="op" id="2171797">.</span><span class="ident" id="2171798"><a href="/gostd/os/file.go.html#2441758">Stdin</a></span><span class="op" id="2171803">,</span>&nbsp;<span class="ident" id="2171805"><a href="/gostd/fmt/scan.go.html#2171740">a</a></span><span class="op" id="2171806">...</span><span class="op" id="2171809">)</span><br>
<span class="lineno"></span><span class="op" id="2171811">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="2171814">//&nbsp;Scanf&nbsp;scans&nbsp;text&nbsp;read&nbsp;from&nbsp;standard&nbsp;input,&nbsp;storing&nbsp;successive</span><br>
<span class="lineno"></span><span class="comment" id="2171879">//&nbsp;space-separated&nbsp;values&nbsp;into&nbsp;successive&nbsp;arguments&nbsp;as&nbsp;determined&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2171948">//&nbsp;the&nbsp;format.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;items&nbsp;successfully&nbsp;scanned.</span><br>
<span class="lineno"></span><span class="keyword" id="2172017">func</span>&nbsp;<span class="ident" id="2172022">Scanf</span><span class="op" id="2172027">(</span><span class="ident" id="2172028">format</span>&nbsp;<span class="builtintype" id="2172035">string</span><span class="op" id="2172041">,</span>&nbsp;<span class="ident" id="2172043">a</span>&nbsp;<span class="op" id="2172045">...</span><span class="keyword" id="2172048">interface</span><span class="op" id="2172057">{</span><span class="op" id="2172058">}</span><span class="op" id="2172059">)</span>&nbsp;<span class="op" id="2172061">(</span><span class="ident" id="2172062">n</span>&nbsp;<span class="builtintype" id="2172064">int</span><span class="op" id="2172067">,</span>&nbsp;<span class="ident" id="2172069">err</span>&nbsp;<span class="builtintype" id="2172073">error</span><span class="op" id="2172078">)</span>&nbsp;<span class="op" id="2172080">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2172083">return</span>&nbsp;<span class="ident" id="2172090"><a href="/gostd/fmt/scan.go.html#2174093">Fscanf</a></span><span class="op" id="2172096">(</span><span class="ident" id="2172097"><a href="/gostd/fmt/scan.go.html#2168763">os</a></span><span class="op" id="2172099">.</span><span class="ident" id="2172100"><a href="/gostd/os/file.go.html#2441758">Stdin</a></span><span class="op" id="2172105">,</span>&nbsp;<span class="ident" id="2172107"><a href="/gostd/fmt/scan.go.html#2172028">format</a></span><span class="op" id="2172113">,</span>&nbsp;<span class="ident" id="2172115"><a href="/gostd/fmt/scan.go.html#2172043">a</a></span><span class="op" id="2172116">...</span><span class="op" id="2172119">)</span><br>
<span class="lineno"></span><span class="op" id="2172121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2172124">type</span>&nbsp;<span class="ident" id="2172129">stringReader</span>&nbsp;<span class="builtintype" id="2172142">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="2172150">func</span>&nbsp;<span class="op" id="2172155">(</span><span class="ident" id="2172156">r</span>&nbsp;<span class="op" id="2172158">*</span><span class="ident" id="2172159"><a href="/gostd/fmt/scan.go.html#2172129">stringReader</a></span><span class="op" id="2172171">)</span>&nbsp;<span class="ident" id="2172173">Read</span><span class="op" id="2172177">(</span><span class="ident" id="2172178">b</span>&nbsp;<span class="op" id="2172180">[</span><span class="op" id="2172181">]</span><span class="builtintype" id="2172182">byte</span><span class="op" id="2172186">)</span>&nbsp;<span class="op" id="2172188">(</span><span class="ident" id="2172189">n</span>&nbsp;<span class="builtintype" id="2172191">int</span><span class="op" id="2172194">,</span>&nbsp;<span class="ident" id="2172196">err</span>&nbsp;<span class="builtintype" id="2172200">error</span><span class="op" id="2172205">)</span>&nbsp;<span class="op" id="2172207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2172210"><a href="/gostd/fmt/scan.go.html#2172189">n</a></span>&nbsp;<span class="op" id="2172212">=</span>&nbsp;<span class="builtinfunc" id="2172214">copy</span><span class="op" id="2172218">(</span><span class="ident" id="2172219"><a href="/gostd/fmt/scan.go.html#2172178">b</a></span><span class="op" id="2172220">,</span>&nbsp;<span class="op" id="2172222">*</span><span class="ident" id="2172223"><a href="/gostd/fmt/scan.go.html#2172156">r</a></span><span class="op" id="2172224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2172227">*</span><span class="ident" id="2172228"><a href="/gostd/fmt/scan.go.html#2172156">r</a></span>&nbsp;<span class="op" id="2172230">=</span>&nbsp;<span class="op" id="2172232">(</span><span class="op" id="2172233">*</span><span class="ident" id="2172234"><a href="/gostd/fmt/scan.go.html#2172156">r</a></span><span class="op" id="2172235">)</span><span class="op" id="2172236">[</span><span class="ident" id="2172237"><a href="/gostd/fmt/scan.go.html#2172189">n</a></span><span class="op" id="2172238">:</span><span class="op" id="2172239">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2172242">if</span>&nbsp;<span class="ident" id="2172245"><a href="/gostd/fmt/scan.go.html#2172189">n</a></span>&nbsp;<span class="op" id="2172247">==</span>&nbsp;<span class="num" id="2172250">0</span>&nbsp;<span class="op" id="2172252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2172256"><a href="/gostd/fmt/scan.go.html#2172196">err</a></span>&nbsp;<span class="op" id="2172260">=</span>&nbsp;<span class="ident" id="2172262"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2172264">.</span><span class="ident" id="2172265"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2172270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2172273">return</span><br>
<span class="lineno"></span><span class="op" id="2172280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2172283">//&nbsp;Sscan&nbsp;scans&nbsp;the&nbsp;argument&nbsp;string,&nbsp;storing&nbsp;successive&nbsp;space-separated</span><br>
<span class="lineno">100</span><span class="comment" id="2172354">//&nbsp;values&nbsp;into&nbsp;successive&nbsp;arguments.&nbsp;&nbsp;Newlines&nbsp;count&nbsp;as&nbsp;space.&nbsp;&nbsp;It</span><br>
<span class="lineno"></span><span class="comment" id="2172421">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;items&nbsp;successfully&nbsp;scanned.&nbsp;&nbsp;If&nbsp;that&nbsp;is&nbsp;less</span><br>
<span class="lineno"></span><span class="comment" id="2172491">//&nbsp;than&nbsp;the&nbsp;number&nbsp;of&nbsp;arguments,&nbsp;err&nbsp;will&nbsp;report&nbsp;why.</span><br>
<span class="lineno"></span><span class="keyword" id="2172545">func</span>&nbsp;<span class="ident" id="2172550">Sscan</span><span class="op" id="2172555">(</span><span class="ident" id="2172556">str</span>&nbsp;<span class="builtintype" id="2172560">string</span><span class="op" id="2172566">,</span>&nbsp;<span class="ident" id="2172568">a</span>&nbsp;<span class="op" id="2172570">...</span><span class="keyword" id="2172573">interface</span><span class="op" id="2172582">{</span><span class="op" id="2172583">}</span><span class="op" id="2172584">)</span>&nbsp;<span class="op" id="2172586">(</span><span class="ident" id="2172587">n</span>&nbsp;<span class="builtintype" id="2172589">int</span><span class="op" id="2172592">,</span>&nbsp;<span class="ident" id="2172594">err</span>&nbsp;<span class="builtintype" id="2172598">error</span><span class="op" id="2172603">)</span>&nbsp;<span class="op" id="2172605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2172608">return</span>&nbsp;<span class="ident" id="2172615"><a href="/gostd/fmt/scan.go.html#2173479">Fscan</a></span><span class="op" id="2172620">(</span><span class="op" id="2172621">(</span><span class="op" id="2172622">*</span><span class="ident" id="2172623"><a href="/gostd/fmt/scan.go.html#2172129">stringReader</a></span><span class="op" id="2172635">)</span><span class="op" id="2172636">(</span><span class="op" id="2172637">&amp;</span><span class="ident" id="2172638"><a href="/gostd/fmt/scan.go.html#2172556">str</a></span><span class="op" id="2172641">)</span><span class="op" id="2172642">,</span>&nbsp;<span class="ident" id="2172644"><a href="/gostd/fmt/scan.go.html#2172568">a</a></span><span class="op" id="2172645">...</span><span class="op" id="2172648">)</span><br>
<span class="lineno">105</span><span class="op" id="2172650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2172653">//&nbsp;Sscanln&nbsp;is&nbsp;similar&nbsp;to&nbsp;Sscan,&nbsp;but&nbsp;stops&nbsp;scanning&nbsp;at&nbsp;a&nbsp;newline&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2172721">//&nbsp;after&nbsp;the&nbsp;final&nbsp;item&nbsp;there&nbsp;must&nbsp;be&nbsp;a&nbsp;newline&nbsp;or&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="2172777">func</span>&nbsp;<span class="ident" id="2172782">Sscanln</span><span class="op" id="2172789">(</span><span class="ident" id="2172790">str</span>&nbsp;<span class="builtintype" id="2172794">string</span><span class="op" id="2172800">,</span>&nbsp;<span class="ident" id="2172802">a</span>&nbsp;<span class="op" id="2172804">...</span><span class="keyword" id="2172807">interface</span><span class="op" id="2172816">{</span><span class="op" id="2172817">}</span><span class="op" id="2172818">)</span>&nbsp;<span class="op" id="2172820">(</span><span class="ident" id="2172821">n</span>&nbsp;<span class="builtintype" id="2172823">int</span><span class="op" id="2172826">,</span>&nbsp;<span class="ident" id="2172828">err</span>&nbsp;<span class="builtintype" id="2172832">error</span><span class="op" id="2172837">)</span>&nbsp;<span class="op" id="2172839">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2172842">return</span>&nbsp;<span class="ident" id="2172849"><a href="/gostd/fmt/scan.go.html#2173752">Fscanln</a></span><span class="op" id="2172856">(</span><span class="op" id="2172857">(</span><span class="op" id="2172858">*</span><span class="ident" id="2172859"><a href="/gostd/fmt/scan.go.html#2172129">stringReader</a></span><span class="op" id="2172871">)</span><span class="op" id="2172872">(</span><span class="op" id="2172873">&amp;</span><span class="ident" id="2172874"><a href="/gostd/fmt/scan.go.html#2172790">str</a></span><span class="op" id="2172877">)</span><span class="op" id="2172878">,</span>&nbsp;<span class="ident" id="2172880"><a href="/gostd/fmt/scan.go.html#2172802">a</a></span><span class="op" id="2172881">...</span><span class="op" id="2172884">)</span><br>
<span class="lineno"></span><span class="op" id="2172886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2172889">//&nbsp;Sscanf&nbsp;scans&nbsp;the&nbsp;argument&nbsp;string,&nbsp;storing&nbsp;successive&nbsp;space-separated</span><br>
<span class="lineno"></span><span class="comment" id="2172961">//&nbsp;values&nbsp;into&nbsp;successive&nbsp;arguments&nbsp;as&nbsp;determined&nbsp;by&nbsp;the&nbsp;format.&nbsp;&nbsp;It</span><br>
<span class="lineno">115</span><span class="comment" id="2173030">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;items&nbsp;successfully&nbsp;parsed.</span><br>
<span class="lineno"></span><span class="keyword" id="2173082">func</span>&nbsp;<span class="ident" id="2173087">Sscanf</span><span class="op" id="2173093">(</span><span class="ident" id="2173094">str</span>&nbsp;<span class="builtintype" id="2173098">string</span><span class="op" id="2173104">,</span>&nbsp;<span class="ident" id="2173106">format</span>&nbsp;<span class="builtintype" id="2173113">string</span><span class="op" id="2173119">,</span>&nbsp;<span class="ident" id="2173121">a</span>&nbsp;<span class="op" id="2173123">...</span><span class="keyword" id="2173126">interface</span><span class="op" id="2173135">{</span><span class="op" id="2173136">}</span><span class="op" id="2173137">)</span>&nbsp;<span class="op" id="2173139">(</span><span class="ident" id="2173140">n</span>&nbsp;<span class="builtintype" id="2173142">int</span><span class="op" id="2173145">,</span>&nbsp;<span class="ident" id="2173147">err</span>&nbsp;<span class="builtintype" id="2173151">error</span><span class="op" id="2173156">)</span>&nbsp;<span class="op" id="2173158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2173161">return</span>&nbsp;<span class="ident" id="2173168"><a href="/gostd/fmt/scan.go.html#2174093">Fscanf</a></span><span class="op" id="2173174">(</span><span class="op" id="2173175">(</span><span class="op" id="2173176">*</span><span class="ident" id="2173177"><a href="/gostd/fmt/scan.go.html#2172129">stringReader</a></span><span class="op" id="2173189">)</span><span class="op" id="2173190">(</span><span class="op" id="2173191">&amp;</span><span class="ident" id="2173192"><a href="/gostd/fmt/scan.go.html#2173094">str</a></span><span class="op" id="2173195">)</span><span class="op" id="2173196">,</span>&nbsp;<span class="ident" id="2173198"><a href="/gostd/fmt/scan.go.html#2173106">format</a></span><span class="op" id="2173204">,</span>&nbsp;<span class="ident" id="2173206"><a href="/gostd/fmt/scan.go.html#2173121">a</a></span><span class="op" id="2173207">...</span><span class="op" id="2173210">)</span><br>
<span class="lineno"></span><span class="op" id="2173212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="comment" id="2173215">//&nbsp;Fscan&nbsp;scans&nbsp;text&nbsp;read&nbsp;from&nbsp;r,&nbsp;storing&nbsp;successive&nbsp;space-separated</span><br>
<span class="lineno"></span><span class="comment" id="2173283">//&nbsp;values&nbsp;into&nbsp;successive&nbsp;arguments.&nbsp;&nbsp;Newlines&nbsp;count&nbsp;as&nbsp;space.&nbsp;&nbsp;It</span><br>
<span class="lineno"></span><span class="comment" id="2173350">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;items&nbsp;successfully&nbsp;scanned.&nbsp;&nbsp;If&nbsp;that&nbsp;is&nbsp;less</span><br>
<span class="lineno"></span><span class="comment" id="2173420">//&nbsp;than&nbsp;the&nbsp;number&nbsp;of&nbsp;arguments,&nbsp;err&nbsp;will&nbsp;report&nbsp;why.</span><br>
<span class="lineno"></span><span class="keyword" id="2173474">func</span>&nbsp;<span class="ident" id="2173479">Fscan</span><span class="op" id="2173484">(</span><span class="ident" id="2173485">r</span>&nbsp;<span class="ident" id="2173487"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2173489">.</span><span class="ident" id="2173490"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="2173496">,</span>&nbsp;<span class="ident" id="2173498">a</span>&nbsp;<span class="op" id="2173500">...</span><span class="keyword" id="2173503">interface</span><span class="op" id="2173512">{</span><span class="op" id="2173513">}</span><span class="op" id="2173514">)</span>&nbsp;<span class="op" id="2173516">(</span><span class="ident" id="2173517">n</span>&nbsp;<span class="builtintype" id="2173519">int</span><span class="op" id="2173522">,</span>&nbsp;<span class="ident" id="2173524">err</span>&nbsp;<span class="builtintype" id="2173528">error</span><span class="op" id="2173533">)</span>&nbsp;<span class="op" id="2173535">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2173538">s</span><span class="op" id="2173539">,</span>&nbsp;<span class="ident" id="2173541">old</span>&nbsp;<span class="op" id="2173545">:=</span>&nbsp;<span class="ident" id="2173548"><a href="/gostd/fmt/scan.go.html#2179818">newScanState</a></span><span class="op" id="2173560">(</span><span class="ident" id="2173561"><a href="/gostd/fmt/scan.go.html#2173485">r</a></span><span class="op" id="2173562">,</span>&nbsp;<span class="builtintype" id="2173564">true</span><span class="op" id="2173568">,</span>&nbsp;<span class="builtintype" id="2173570">false</span><span class="op" id="2173575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2173578"><a href="/gostd/fmt/scan.go.html#2173517">n</a></span><span class="op" id="2173579">,</span>&nbsp;<span class="ident" id="2173581"><a href="/gostd/fmt/scan.go.html#2173524">err</a></span>&nbsp;<span class="op" id="2173585">=</span>&nbsp;<span class="ident" id="2173587"><a href="/gostd/fmt/scan.go.html#2173538">s</a></span><span class="op" id="2173588">.</span><span class="ident" id="2173589"><a href="/gostd/fmt/scan.go.html#2196042">doScan</a></span><span class="op" id="2173595">(</span><span class="ident" id="2173596"><a href="/gostd/fmt/scan.go.html#2173498">a</a></span><span class="op" id="2173597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2173600"><a href="/gostd/fmt/scan.go.html#2173538">s</a></span><span class="op" id="2173601">.</span><span class="ident" id="2173602"><a href="/gostd/fmt/scan.go.html#2180538">free</a></span><span class="op" id="2173606">(</span><span class="ident" id="2173607"><a href="/gostd/fmt/scan.go.html#2173541">old</a></span><span class="op" id="2173610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2173613">return</span><br>
<span class="lineno"></span><span class="op" id="2173620">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2173623">//&nbsp;Fscanln&nbsp;is&nbsp;similar&nbsp;to&nbsp;Fscan,&nbsp;but&nbsp;stops&nbsp;scanning&nbsp;at&nbsp;a&nbsp;newline&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="2173691">//&nbsp;after&nbsp;the&nbsp;final&nbsp;item&nbsp;there&nbsp;must&nbsp;be&nbsp;a&nbsp;newline&nbsp;or&nbsp;EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="2173747">func</span>&nbsp;<span class="ident" id="2173752">Fscanln</span><span class="op" id="2173759">(</span><span class="ident" id="2173760">r</span>&nbsp;<span class="ident" id="2173762"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2173764">.</span><span class="ident" id="2173765"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="2173771">,</span>&nbsp;<span class="ident" id="2173773">a</span>&nbsp;<span class="op" id="2173775">...</span><span class="keyword" id="2173778">interface</span><span class="op" id="2173787">{</span><span class="op" id="2173788">}</span><span class="op" id="2173789">)</span>&nbsp;<span class="op" id="2173791">(</span><span class="ident" id="2173792">n</span>&nbsp;<span class="builtintype" id="2173794">int</span><span class="op" id="2173797">,</span>&nbsp;<span class="ident" id="2173799">err</span>&nbsp;<span class="builtintype" id="2173803">error</span><span class="op" id="2173808">)</span>&nbsp;<span class="op" id="2173810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2173813">s</span><span class="op" id="2173814">,</span>&nbsp;<span class="ident" id="2173816">old</span>&nbsp;<span class="op" id="2173820">:=</span>&nbsp;<span class="ident" id="2173823"><a href="/gostd/fmt/scan.go.html#2179818">newScanState</a></span><span class="op" id="2173835">(</span><span class="ident" id="2173836"><a href="/gostd/fmt/scan.go.html#2173760">r</a></span><span class="op" id="2173837">,</span>&nbsp;<span class="builtintype" id="2173839">false</span><span class="op" id="2173844">,</span>&nbsp;<span class="builtintype" id="2173846">true</span><span class="op" id="2173850">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2173853"><a href="/gostd/fmt/scan.go.html#2173792">n</a></span><span class="op" id="2173854">,</span>&nbsp;<span class="ident" id="2173856"><a href="/gostd/fmt/scan.go.html#2173799">err</a></span>&nbsp;<span class="op" id="2173860">=</span>&nbsp;<span class="ident" id="2173862"><a href="/gostd/fmt/scan.go.html#2173813">s</a></span><span class="op" id="2173863">.</span><span class="ident" id="2173864"><a href="/gostd/fmt/scan.go.html#2196042">doScan</a></span><span class="op" id="2173870">(</span><span class="ident" id="2173871"><a href="/gostd/fmt/scan.go.html#2173773">a</a></span><span class="op" id="2173872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2173875"><a href="/gostd/fmt/scan.go.html#2173813">s</a></span><span class="op" id="2173876">.</span><span class="ident" id="2173877"><a href="/gostd/fmt/scan.go.html#2180538">free</a></span><span class="op" id="2173881">(</span><span class="ident" id="2173882"><a href="/gostd/fmt/scan.go.html#2173816">old</a></span><span class="op" id="2173885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2173888">return</span><br>
<span class="lineno"></span><span class="op" id="2173895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2173898">//&nbsp;Fscanf&nbsp;scans&nbsp;text&nbsp;read&nbsp;from&nbsp;r,&nbsp;storing&nbsp;successive&nbsp;space-separated</span><br>
<span class="lineno"></span><span class="comment" id="2173967">//&nbsp;values&nbsp;into&nbsp;successive&nbsp;arguments&nbsp;as&nbsp;determined&nbsp;by&nbsp;the&nbsp;format.&nbsp;&nbsp;It</span><br>
<span class="lineno"></span><span class="comment" id="2174036">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;items&nbsp;successfully&nbsp;parsed.</span><br>
<span class="lineno"></span><span class="keyword" id="2174088">func</span>&nbsp;<span class="ident" id="2174093">Fscanf</span><span class="op" id="2174099">(</span><span class="ident" id="2174100">r</span>&nbsp;<span class="ident" id="2174102"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2174104">.</span><span class="ident" id="2174105"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="2174111">,</span>&nbsp;<span class="ident" id="2174113">format</span>&nbsp;<span class="builtintype" id="2174120">string</span><span class="op" id="2174126">,</span>&nbsp;<span class="ident" id="2174128">a</span>&nbsp;<span class="op" id="2174130">...</span><span class="keyword" id="2174133">interface</span><span class="op" id="2174142">{</span><span class="op" id="2174143">}</span><span class="op" id="2174144">)</span>&nbsp;<span class="op" id="2174146">(</span><span class="ident" id="2174147">n</span>&nbsp;<span class="builtintype" id="2174149">int</span><span class="op" id="2174152">,</span>&nbsp;<span class="ident" id="2174154">err</span>&nbsp;<span class="builtintype" id="2174158">error</span><span class="op" id="2174163">)</span>&nbsp;<span class="op" id="2174165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174168">s</span><span class="op" id="2174169">,</span>&nbsp;<span class="ident" id="2174171">old</span>&nbsp;<span class="op" id="2174175">:=</span>&nbsp;<span class="ident" id="2174178"><a href="/gostd/fmt/scan.go.html#2179818">newScanState</a></span><span class="op" id="2174190">(</span><span class="ident" id="2174191"><a href="/gostd/fmt/scan.go.html#2174100">r</a></span><span class="op" id="2174192">,</span>&nbsp;<span class="builtintype" id="2174194">false</span><span class="op" id="2174199">,</span>&nbsp;<span class="builtintype" id="2174201">false</span><span class="op" id="2174206">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174209"><a href="/gostd/fmt/scan.go.html#2174147">n</a></span><span class="op" id="2174210">,</span>&nbsp;<span class="ident" id="2174212"><a href="/gostd/fmt/scan.go.html#2174154">err</a></span>&nbsp;<span class="op" id="2174216">=</span>&nbsp;<span class="ident" id="2174218"><a href="/gostd/fmt/scan.go.html#2174168">s</a></span><span class="op" id="2174219">.</span><span class="ident" id="2174220"><a href="/gostd/fmt/scan.go.html#2198026">doScanf</a></span><span class="op" id="2174227">(</span><span class="ident" id="2174228"><a href="/gostd/fmt/scan.go.html#2174113">format</a></span><span class="op" id="2174234">,</span>&nbsp;<span class="ident" id="2174236"><a href="/gostd/fmt/scan.go.html#2174128">a</a></span><span class="op" id="2174237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174240"><a href="/gostd/fmt/scan.go.html#2174168">s</a></span><span class="op" id="2174241">.</span><span class="ident" id="2174242"><a href="/gostd/fmt/scan.go.html#2180538">free</a></span><span class="op" id="2174246">(</span><span class="ident" id="2174247"><a href="/gostd/fmt/scan.go.html#2174171">old</a></span><span class="op" id="2174250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2174253">return</span><br>
<span class="lineno"></span><span class="op" id="2174260">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="comment" id="2174263">//&nbsp;scanError&nbsp;represents&nbsp;an&nbsp;error&nbsp;generated&nbsp;by&nbsp;the&nbsp;scanning&nbsp;software.</span><br>
<span class="lineno"></span><span class="comment" id="2174332">//&nbsp;It&#39;s&nbsp;used&nbsp;as&nbsp;a&nbsp;unique&nbsp;signature&nbsp;to&nbsp;identify&nbsp;such&nbsp;errors&nbsp;when&nbsp;recovering.</span><br>
<span class="lineno"></span><span class="keyword" id="2174408">type</span>&nbsp;<span class="ident" id="2174413">scanError</span>&nbsp;<span class="keyword" id="2174423">struct</span>&nbsp;<span class="op" id="2174430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174433">err</span>&nbsp;<span class="builtintype" id="2174437">error</span><br>
<span class="lineno"></span><span class="op" id="2174443">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2174446">const</span>&nbsp;<span class="ident" id="2174452">eof</span>&nbsp;<span class="op" id="2174456">=</span>&nbsp;<span class="op" id="2174458">-</span><span class="num" id="2174459">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2174462">//&nbsp;ss&nbsp;is&nbsp;the&nbsp;internal&nbsp;implementation&nbsp;of&nbsp;ScanState.</span><br>
<span class="lineno"></span><span class="keyword" id="2174513">type</span>&nbsp;<span class="ident" id="2174518">ss</span>&nbsp;<span class="keyword" id="2174521">struct</span>&nbsp;<span class="op" id="2174528">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174531">rr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174540"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2174542">.</span><span class="ident" id="2174543"><a href="/gostd/io/io.go.html#1427733">RuneReader</a></span>&nbsp;<span class="comment" id="2174554">//&nbsp;where&nbsp;to&nbsp;read&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174578">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174587"><a href="/gostd/fmt/print.go.html#2140648">buffer</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2174601">//&nbsp;token&nbsp;accumulator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174623">peekRune</span>&nbsp;<span class="builtintype" id="2174632">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2174646">//&nbsp;one-rune&nbsp;lookahead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174669">prevRune</span>&nbsp;<span class="builtintype" id="2174678">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2174692">//&nbsp;last&nbsp;rune&nbsp;returned&nbsp;by&nbsp;ReadRune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174727">count</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2174736">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2174750">//&nbsp;runes&nbsp;consumed&nbsp;so&nbsp;far.</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174777">atEOF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2174786">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2174800">//&nbsp;already&nbsp;read&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174821"><a href="/gostd/fmt/scan.go.html#2174924">ssave</a></span><br>
<span class="lineno"></span><span class="op" id="2174827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2174830">//&nbsp;ssave&nbsp;holds&nbsp;the&nbsp;parts&nbsp;of&nbsp;ss&nbsp;that&nbsp;need&nbsp;to&nbsp;be</span><br>
<span class="lineno">170</span><span class="comment" id="2174877">//&nbsp;saved&nbsp;and&nbsp;restored&nbsp;on&nbsp;recursive&nbsp;scans.</span><br>
<span class="lineno"></span><span class="keyword" id="2174919">type</span>&nbsp;<span class="ident" id="2174924">ssave</span>&nbsp;<span class="keyword" id="2174930">struct</span>&nbsp;<span class="op" id="2174937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174940">validSave</span>&nbsp;<span class="builtintype" id="2174950">bool</span>&nbsp;<span class="comment" id="2174955">//&nbsp;is&nbsp;or&nbsp;was&nbsp;a&nbsp;part&nbsp;of&nbsp;an&nbsp;actual&nbsp;ss.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2174993">nlIsEnd</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2175003">bool</span>&nbsp;<span class="comment" id="2175008">//&nbsp;whether&nbsp;newline&nbsp;terminates&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175044">nlIsSpace</span>&nbsp;<span class="builtintype" id="2175054">bool</span>&nbsp;<span class="comment" id="2175059">//&nbsp;whether&nbsp;newline&nbsp;counts&nbsp;as&nbsp;white&nbsp;space</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175101">argLimit</span>&nbsp;&nbsp;<span class="builtintype" id="2175111">int</span>&nbsp;&nbsp;<span class="comment" id="2175116">//&nbsp;max&nbsp;value&nbsp;of&nbsp;ss.count&nbsp;for&nbsp;this&nbsp;arg;&nbsp;argLimit&nbsp;&lt;=&nbsp;limit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175174">limit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2175184">int</span>&nbsp;&nbsp;<span class="comment" id="2175189">//&nbsp;max&nbsp;value&nbsp;of&nbsp;ss.count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175216">maxWid</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2175226">int</span>&nbsp;&nbsp;<span class="comment" id="2175231">//&nbsp;width&nbsp;of&nbsp;this&nbsp;arg.</span><br>
<span class="lineno"></span><span class="op" id="2175253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="2175256">//&nbsp;The&nbsp;Read&nbsp;method&nbsp;is&nbsp;only&nbsp;in&nbsp;ScanState&nbsp;so&nbsp;that&nbsp;ScanState</span><br>
<span class="lineno"></span><span class="comment" id="2175314">//&nbsp;satisfies&nbsp;io.Reader.&nbsp;It&nbsp;will&nbsp;never&nbsp;be&nbsp;called&nbsp;when&nbsp;used&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="2175375">//&nbsp;intended,&nbsp;so&nbsp;there&nbsp;is&nbsp;no&nbsp;need&nbsp;to&nbsp;make&nbsp;it&nbsp;actually&nbsp;work.</span><br>
<span class="lineno"></span><span class="keyword" id="2175434">func</span>&nbsp;<span class="op" id="2175439">(</span><span class="ident" id="2175440">s</span>&nbsp;<span class="op" id="2175442">*</span><span class="ident" id="2175443"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2175445">)</span>&nbsp;<span class="ident" id="2175447">Read</span><span class="op" id="2175451">(</span><span class="ident" id="2175452">buf</span>&nbsp;<span class="op" id="2175456">[</span><span class="op" id="2175457">]</span><span class="builtintype" id="2175458">byte</span><span class="op" id="2175462">)</span>&nbsp;<span class="op" id="2175464">(</span><span class="ident" id="2175465">n</span>&nbsp;<span class="builtintype" id="2175467">int</span><span class="op" id="2175470">,</span>&nbsp;<span class="ident" id="2175472">err</span>&nbsp;<span class="builtintype" id="2175476">error</span><span class="op" id="2175481">)</span>&nbsp;<span class="op" id="2175483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2175486">return</span>&nbsp;<span class="num" id="2175493">0</span><span class="op" id="2175494">,</span>&nbsp;<span class="ident" id="2175496"><a href="/gostd/fmt/scan.go.html#2168739">errors</a></span><span class="op" id="2175502">.</span><span class="ident" id="2175503"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="2175506">(</span><span class="string" id="2175507">&#34;ScanState&#39;s&nbsp;Read&nbsp;should&nbsp;not&nbsp;be&nbsp;called.&nbsp;Use&nbsp;ReadRune&#34;</span><span class="op" id="2175560">)</span><br>
<span class="lineno">185</span><span class="op" id="2175562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2175565">func</span>&nbsp;<span class="op" id="2175570">(</span><span class="ident" id="2175571">s</span>&nbsp;<span class="op" id="2175573">*</span><span class="ident" id="2175574"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2175576">)</span>&nbsp;<span class="ident" id="2175578">ReadRune</span><span class="op" id="2175586">(</span><span class="op" id="2175587">)</span>&nbsp;<span class="op" id="2175589">(</span><span class="ident" id="2175590">r</span>&nbsp;<span class="builtintype" id="2175592">rune</span><span class="op" id="2175596">,</span>&nbsp;<span class="ident" id="2175598">size</span>&nbsp;<span class="builtintype" id="2175603">int</span><span class="op" id="2175606">,</span>&nbsp;<span class="ident" id="2175608">err</span>&nbsp;<span class="builtintype" id="2175612">error</span><span class="op" id="2175617">)</span>&nbsp;<span class="op" id="2175619">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2175622">if</span>&nbsp;<span class="ident" id="2175625"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175626">.</span><span class="ident" id="2175627"><a href="/gostd/fmt/scan.go.html#2174623">peekRune</a></span>&nbsp;<span class="op" id="2175636">&gt;=</span>&nbsp;<span class="num" id="2175639">0</span>&nbsp;<span class="op" id="2175641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175645"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175646">.</span><span class="ident" id="2175647"><a href="/gostd/fmt/scan.go.html#2174727">count</a></span><span class="op" id="2175652">++</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175657"><a href="/gostd/fmt/scan.go.html#2175590">r</a></span>&nbsp;<span class="op" id="2175659">=</span>&nbsp;<span class="ident" id="2175661"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175662">.</span><span class="ident" id="2175663"><a href="/gostd/fmt/scan.go.html#2174623">peekRune</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175674"><a href="/gostd/fmt/scan.go.html#2175598">size</a></span>&nbsp;<span class="op" id="2175679">=</span>&nbsp;<span class="ident" id="2175681"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2175685">.</span><span class="ident" id="2175686"><a href="/gostd/unicode/utf8/utf8.go.html#1812711">RuneLen</a></span><span class="op" id="2175693">(</span><span class="ident" id="2175694"><a href="/gostd/fmt/scan.go.html#2175590">r</a></span><span class="op" id="2175695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175699"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175700">.</span><span class="ident" id="2175701"><a href="/gostd/fmt/scan.go.html#2174669">prevRune</a></span>&nbsp;<span class="op" id="2175710">=</span>&nbsp;<span class="ident" id="2175712"><a href="/gostd/fmt/scan.go.html#2175590">r</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175716"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175717">.</span><span class="ident" id="2175718"><a href="/gostd/fmt/scan.go.html#2174623">peekRune</a></span>&nbsp;<span class="op" id="2175727">=</span>&nbsp;<span class="op" id="2175729">-</span><span class="num" id="2175730">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2175734">return</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2175742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2175745">if</span>&nbsp;<span class="ident" id="2175748"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175749">.</span><span class="ident" id="2175750"><a href="/gostd/fmt/scan.go.html#2174777">atEOF</a></span>&nbsp;<span class="op" id="2175756">||</span>&nbsp;<span class="ident" id="2175759"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175760">.</span><span class="ident" id="2175761"><a href="/gostd/fmt/scan.go.html#2174993">nlIsEnd</a></span>&nbsp;<span class="op" id="2175769">&amp;&amp;</span>&nbsp;<span class="ident" id="2175772"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175773">.</span><span class="ident" id="2175774"><a href="/gostd/fmt/scan.go.html#2174669">prevRune</a></span>&nbsp;<span class="op" id="2175783">==</span>&nbsp;<span class="string" id="2175786">&#39;\n&#39;</span>&nbsp;<span class="op" id="2175791">||</span>&nbsp;<span class="ident" id="2175794"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175795">.</span><span class="ident" id="2175796"><a href="/gostd/fmt/scan.go.html#2174727">count</a></span>&nbsp;<span class="op" id="2175802">&gt;=</span>&nbsp;<span class="ident" id="2175805"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175806">.</span><span class="ident" id="2175807"><a href="/gostd/fmt/scan.go.html#2175101">argLimit</a></span>&nbsp;<span class="op" id="2175816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175820"><a href="/gostd/fmt/scan.go.html#2175608">err</a></span>&nbsp;<span class="op" id="2175824">=</span>&nbsp;<span class="ident" id="2175826"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2175828">.</span><span class="ident" id="2175829"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2175835">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2175843">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175847"><a href="/gostd/fmt/scan.go.html#2175590">r</a></span><span class="op" id="2175848">,</span>&nbsp;<span class="ident" id="2175850"><a href="/gostd/fmt/scan.go.html#2175598">size</a></span><span class="op" id="2175854">,</span>&nbsp;<span class="ident" id="2175856"><a href="/gostd/fmt/scan.go.html#2175608">err</a></span>&nbsp;<span class="op" id="2175860">=</span>&nbsp;<span class="ident" id="2175862"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175863">.</span><span class="ident" id="2175864"><a href="/gostd/fmt/scan.go.html#2174531">rr</a></span><span class="op" id="2175866">.</span><span class="ident" id="2175867"><a href="/gostd/io/io.go.html#1427757">ReadRune</a></span><span class="op" id="2175875">(</span><span class="op" id="2175876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2175879">if</span>&nbsp;<span class="ident" id="2175882"><a href="/gostd/fmt/scan.go.html#2175608">err</a></span>&nbsp;<span class="op" id="2175886">==</span>&nbsp;<span class="builtintype" id="2175889">nil</span>&nbsp;<span class="op" id="2175893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175897"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175898">.</span><span class="ident" id="2175899"><a href="/gostd/fmt/scan.go.html#2174727">count</a></span><span class="op" id="2175904">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175909"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175910">.</span><span class="ident" id="2175911"><a href="/gostd/fmt/scan.go.html#2174669">prevRune</a></span>&nbsp;<span class="op" id="2175920">=</span>&nbsp;<span class="ident" id="2175922"><a href="/gostd/fmt/scan.go.html#2175590">r</a></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2175925">}</span>&nbsp;<span class="keyword" id="2175927">else</span>&nbsp;<span class="keyword" id="2175932">if</span>&nbsp;<span class="ident" id="2175935"><a href="/gostd/fmt/scan.go.html#2175608">err</a></span>&nbsp;<span class="op" id="2175939">==</span>&nbsp;<span class="ident" id="2175942"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2175944">.</span><span class="ident" id="2175945"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="2175949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2175953"><a href="/gostd/fmt/scan.go.html#2175571">s</a></span><span class="op" id="2175954">.</span><span class="ident" id="2175955"><a href="/gostd/fmt/scan.go.html#2174777">atEOF</a></span>&nbsp;<span class="op" id="2175961">=</span>&nbsp;<span class="builtintype" id="2175963">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2175969">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2175972">return</span><br>
<span class="lineno"></span><span class="op" id="2175979">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="2175982">func</span>&nbsp;<span class="op" id="2175987">(</span><span class="ident" id="2175988">s</span>&nbsp;<span class="op" id="2175990">*</span><span class="ident" id="2175991"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2175993">)</span>&nbsp;<span class="ident" id="2175995">Width</span><span class="op" id="2176000">(</span><span class="op" id="2176001">)</span>&nbsp;<span class="op" id="2176003">(</span><span class="ident" id="2176004">wid</span>&nbsp;<span class="builtintype" id="2176008">int</span><span class="op" id="2176011">,</span>&nbsp;<span class="ident" id="2176013">ok</span>&nbsp;<span class="builtintype" id="2176016">bool</span><span class="op" id="2176020">)</span>&nbsp;<span class="op" id="2176022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176025">if</span>&nbsp;<span class="ident" id="2176028"><a href="/gostd/fmt/scan.go.html#2175988">s</a></span><span class="op" id="2176029">.</span><span class="ident" id="2176030"><a href="/gostd/fmt/scan.go.html#2175216">maxWid</a></span>&nbsp;<span class="op" id="2176037">==</span>&nbsp;<span class="ident" id="2176040"><a href="/gostd/fmt/scan.go.html#2192561">hugeWid</a></span>&nbsp;<span class="op" id="2176048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176052">return</span>&nbsp;<span class="num" id="2176059">0</span><span class="op" id="2176060">,</span>&nbsp;<span class="builtintype" id="2176062">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2176069">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176072">return</span>&nbsp;<span class="ident" id="2176079"><a href="/gostd/fmt/scan.go.html#2175988">s</a></span><span class="op" id="2176080">.</span><span class="ident" id="2176081"><a href="/gostd/fmt/scan.go.html#2175216">maxWid</a></span><span class="op" id="2176087">,</span>&nbsp;<span class="builtintype" id="2176089">true</span><br>
<span class="lineno"></span><span class="op" id="2176094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2176097">//&nbsp;The&nbsp;public&nbsp;method&nbsp;returns&nbsp;an&nbsp;error;&nbsp;this&nbsp;private&nbsp;one&nbsp;panics.</span><br>
<span class="lineno"></span><span class="comment" id="2176161">//&nbsp;If&nbsp;getRune&nbsp;reaches&nbsp;EOF,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;EOF&nbsp;(-1).</span><br>
<span class="lineno">220</span><span class="keyword" id="2176218">func</span>&nbsp;<span class="op" id="2176223">(</span><span class="ident" id="2176224">s</span>&nbsp;<span class="op" id="2176226">*</span><span class="ident" id="2176227"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2176229">)</span>&nbsp;<span class="ident" id="2176231">getRune</span><span class="op" id="2176238">(</span><span class="op" id="2176239">)</span>&nbsp;<span class="op" id="2176241">(</span><span class="ident" id="2176242">r</span>&nbsp;<span class="builtintype" id="2176244">rune</span><span class="op" id="2176248">)</span>&nbsp;<span class="op" id="2176250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176253"><a href="/gostd/fmt/scan.go.html#2176242">r</a></span><span class="op" id="2176254">,</span>&nbsp;<span class="ident" id="2176256">_</span><span class="op" id="2176257">,</span>&nbsp;<span class="ident" id="2176259">err</span>&nbsp;<span class="op" id="2176263">:=</span>&nbsp;<span class="ident" id="2176266"><a href="/gostd/fmt/scan.go.html#2176224">s</a></span><span class="op" id="2176267">.</span><span class="ident" id="2176268"><a href="/gostd/fmt/scan.go.html#2175578">ReadRune</a></span><span class="op" id="2176276">(</span><span class="op" id="2176277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176280">if</span>&nbsp;<span class="ident" id="2176283"><a href="/gostd/fmt/scan.go.html#2176259">err</a></span>&nbsp;<span class="op" id="2176287">!=</span>&nbsp;<span class="builtintype" id="2176290">nil</span>&nbsp;<span class="op" id="2176294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176298">if</span>&nbsp;<span class="ident" id="2176301"><a href="/gostd/fmt/scan.go.html#2176259">err</a></span>&nbsp;<span class="op" id="2176305">==</span>&nbsp;<span class="ident" id="2176308"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2176310">.</span><span class="ident" id="2176311"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="2176315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176320">return</span>&nbsp;<span class="ident" id="2176327"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2176333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176337"><a href="/gostd/fmt/scan.go.html#2176224">s</a></span><span class="op" id="2176338">.</span><span class="builtintype" id="2176339"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2176344">(</span><span class="ident" id="2176345"><a href="/gostd/fmt/scan.go.html#2176259">err</a></span><span class="op" id="2176348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2176351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176354">return</span><br>
<span class="lineno"></span><span class="op" id="2176361">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="comment" id="2176364">//&nbsp;mustReadRune&nbsp;turns&nbsp;io.EOF&nbsp;into&nbsp;a&nbsp;panic(io.ErrUnexpectedEOF).</span><br>
<span class="lineno"></span><span class="comment" id="2176428">//&nbsp;It&nbsp;is&nbsp;called&nbsp;in&nbsp;cases&nbsp;such&nbsp;as&nbsp;string&nbsp;scanning&nbsp;where&nbsp;an&nbsp;EOF&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="2176495">//&nbsp;syntax&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2176512">func</span>&nbsp;<span class="op" id="2176517">(</span><span class="ident" id="2176518">s</span>&nbsp;<span class="op" id="2176520">*</span><span class="ident" id="2176521"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2176523">)</span>&nbsp;<span class="ident" id="2176525">mustReadRune</span><span class="op" id="2176537">(</span><span class="op" id="2176538">)</span>&nbsp;<span class="op" id="2176540">(</span><span class="ident" id="2176541">r</span>&nbsp;<span class="builtintype" id="2176543">rune</span><span class="op" id="2176547">)</span>&nbsp;<span class="op" id="2176549">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176552"><a href="/gostd/fmt/scan.go.html#2176541">r</a></span>&nbsp;<span class="op" id="2176554">=</span>&nbsp;<span class="ident" id="2176556"><a href="/gostd/fmt/scan.go.html#2176518">s</a></span><span class="op" id="2176557">.</span><span class="ident" id="2176558"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2176565">(</span><span class="op" id="2176566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176569">if</span>&nbsp;<span class="ident" id="2176572"><a href="/gostd/fmt/scan.go.html#2176541">r</a></span>&nbsp;<span class="op" id="2176574">==</span>&nbsp;<span class="ident" id="2176577"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2176581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176585"><a href="/gostd/fmt/scan.go.html#2176518">s</a></span><span class="op" id="2176586">.</span><span class="builtintype" id="2176587"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2176592">(</span><span class="ident" id="2176593"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2176595">.</span><span class="ident" id="2176596"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span><span class="op" id="2176612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2176615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176618">return</span><br>
<span class="lineno">240</span><span class="op" id="2176625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2176628">func</span>&nbsp;<span class="op" id="2176633">(</span><span class="ident" id="2176634">s</span>&nbsp;<span class="op" id="2176636">*</span><span class="ident" id="2176637"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2176639">)</span>&nbsp;<span class="ident" id="2176641">UnreadRune</span><span class="op" id="2176651">(</span><span class="op" id="2176652">)</span>&nbsp;<span class="builtintype" id="2176654">error</span>&nbsp;<span class="op" id="2176660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176663">if</span>&nbsp;<span class="ident" id="2176666">u</span><span class="op" id="2176667">,</span>&nbsp;<span class="ident" id="2176669">ok</span>&nbsp;<span class="op" id="2176672">:=</span>&nbsp;<span class="ident" id="2176675"><a href="/gostd/fmt/scan.go.html#2176634">s</a></span><span class="op" id="2176676">.</span><span class="ident" id="2176677"><a href="/gostd/fmt/scan.go.html#2174531">rr</a></span><span class="op" id="2176679">.</span><span class="op" id="2176680">(</span><span class="ident" id="2176681"><a href="/gostd/fmt/scan.go.html#2169063">runeUnreader</a></span><span class="op" id="2176693">)</span><span class="op" id="2176694">;</span>&nbsp;<span class="ident" id="2176696"><a href="/gostd/fmt/scan.go.html#2176669">ok</a></span>&nbsp;<span class="op" id="2176699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176703"><a href="/gostd/fmt/scan.go.html#2176666">u</a></span><span class="op" id="2176704">.</span><span class="ident" id="2176705"><a href="/gostd/fmt/scan.go.html#2169089">UnreadRune</a></span><span class="op" id="2176715">(</span><span class="op" id="2176716">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2176719">}</span>&nbsp;<span class="keyword" id="2176721">else</span>&nbsp;<span class="op" id="2176726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176730"><a href="/gostd/fmt/scan.go.html#2176634">s</a></span><span class="op" id="2176731">.</span><span class="ident" id="2176732"><a href="/gostd/fmt/scan.go.html#2174623">peekRune</a></span>&nbsp;<span class="op" id="2176741">=</span>&nbsp;<span class="ident" id="2176743"><a href="/gostd/fmt/scan.go.html#2176634">s</a></span><span class="op" id="2176744">.</span><span class="ident" id="2176745"><a href="/gostd/fmt/scan.go.html#2174669">prevRune</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2176755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176758"><a href="/gostd/fmt/scan.go.html#2176634">s</a></span><span class="op" id="2176759">.</span><span class="ident" id="2176760"><a href="/gostd/fmt/scan.go.html#2174669">prevRune</a></span>&nbsp;<span class="op" id="2176769">=</span>&nbsp;<span class="op" id="2176771">-</span><span class="num" id="2176772">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2176775"><a href="/gostd/fmt/scan.go.html#2176634">s</a></span><span class="op" id="2176776">.</span><span class="ident" id="2176777"><a href="/gostd/fmt/scan.go.html#2174727">count</a></span><span class="op" id="2176782">--</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2176786">return</span>&nbsp;<span class="builtintype" id="2176793">nil</span><br>
<span class="lineno"></span><span class="op" id="2176797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2176800">func</span>&nbsp;<span class="op" id="2176805">(</span><span class="ident" id="2176806">s</span>&nbsp;<span class="op" id="2176808">*</span><span class="ident" id="2176809"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2176811">)</span>&nbsp;<span class="builtintype" id="2176813">error</span><span class="op" id="2176818">(</span><span class="ident" id="2176819">err</span>&nbsp;<span class="builtintype" id="2176823">error</span><span class="op" id="2176828">)</span>&nbsp;<span class="op" id="2176830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2176833">panic</span><span class="op" id="2176838">(</span><span class="ident" id="2176839"><a href="/gostd/fmt/scan.go.html#2174413">scanError</a></span><span class="op" id="2176848">{</span><span class="ident" id="2176849"><a href="/gostd/fmt/scan.go.html#2176819">err</a></span><span class="op" id="2176852">}</span><span class="op" id="2176853">)</span><br>
<span class="lineno">255</span><span class="op" id="2176855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2176858">func</span>&nbsp;<span class="op" id="2176863">(</span><span class="ident" id="2176864">s</span>&nbsp;<span class="op" id="2176866">*</span><span class="ident" id="2176867"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2176869">)</span>&nbsp;<span class="ident" id="2176871">errorString</span><span class="op" id="2176882">(</span><span class="ident" id="2176883">err</span>&nbsp;<span class="builtintype" id="2176887">string</span><span class="op" id="2176893">)</span>&nbsp;<span class="op" id="2176895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2176898">panic</span><span class="op" id="2176903">(</span><span class="ident" id="2176904"><a href="/gostd/fmt/scan.go.html#2174413">scanError</a></span><span class="op" id="2176913">{</span><span class="ident" id="2176914"><a href="/gostd/fmt/scan.go.html#2168739">errors</a></span><span class="op" id="2176920">.</span><span class="ident" id="2176921"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="2176924">(</span><span class="ident" id="2176925"><a href="/gostd/fmt/scan.go.html#2176883">err</a></span><span class="op" id="2176928">)</span><span class="op" id="2176929">}</span><span class="op" id="2176930">)</span><br>
<span class="lineno"></span><span class="op" id="2176932">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="2176935">func</span>&nbsp;<span class="op" id="2176940">(</span><span class="ident" id="2176941">s</span>&nbsp;<span class="op" id="2176943">*</span><span class="ident" id="2176944"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2176946">)</span>&nbsp;<span class="ident" id="2176948">Token</span><span class="op" id="2176953">(</span><span class="ident" id="2176954">skipSpace</span>&nbsp;<span class="builtintype" id="2176964">bool</span><span class="op" id="2176968">,</span>&nbsp;<span class="ident" id="2176970">f</span>&nbsp;<span class="keyword" id="2176972">func</span><span class="op" id="2176976">(</span><span class="builtintype" id="2176977">rune</span><span class="op" id="2176981">)</span>&nbsp;<span class="builtintype" id="2176983">bool</span><span class="op" id="2176987">)</span>&nbsp;<span class="op" id="2176989">(</span><span class="ident" id="2176990">tok</span>&nbsp;<span class="op" id="2176994">[</span><span class="op" id="2176995">]</span><span class="builtintype" id="2176996">byte</span><span class="op" id="2177000">,</span>&nbsp;<span class="ident" id="2177002">err</span>&nbsp;<span class="builtintype" id="2177006">error</span><span class="op" id="2177011">)</span>&nbsp;<span class="op" id="2177013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177016">defer</span>&nbsp;<span class="keyword" id="2177022">func</span><span class="op" id="2177026">(</span><span class="op" id="2177027">)</span>&nbsp;<span class="op" id="2177029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177033">if</span>&nbsp;<span class="ident" id="2177036">e</span>&nbsp;<span class="op" id="2177038">:=</span>&nbsp;<span class="builtinfunc" id="2177041">recover</span><span class="op" id="2177048">(</span><span class="op" id="2177049">)</span><span class="op" id="2177050">;</span>&nbsp;<span class="ident" id="2177052"><a href="/gostd/fmt/scan.go.html#2177036">e</a></span>&nbsp;<span class="op" id="2177054">!=</span>&nbsp;<span class="builtintype" id="2177057">nil</span>&nbsp;<span class="op" id="2177061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177066">if</span>&nbsp;<span class="ident" id="2177069">se</span><span class="op" id="2177071">,</span>&nbsp;<span class="ident" id="2177073">ok</span>&nbsp;<span class="op" id="2177076">:=</span>&nbsp;<span class="ident" id="2177079"><a href="/gostd/fmt/scan.go.html#2177036">e</a></span><span class="op" id="2177080">.</span><span class="op" id="2177081">(</span><span class="ident" id="2177082"><a href="/gostd/fmt/scan.go.html#2174413">scanError</a></span><span class="op" id="2177091">)</span><span class="op" id="2177092">;</span>&nbsp;<span class="ident" id="2177094"><a href="/gostd/fmt/scan.go.html#2177073">ok</a></span>&nbsp;<span class="op" id="2177097">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2177103"><a href="/gostd/fmt/scan.go.html#2177002">err</a></span>&nbsp;<span class="op" id="2177107">=</span>&nbsp;<span class="ident" id="2177109"><a href="/gostd/fmt/scan.go.html#2177069">se</a></span><span class="op" id="2177111">.</span><span class="ident" id="2177112"><a href="/gostd/fmt/scan.go.html#2174433">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177119">}</span>&nbsp;<span class="keyword" id="2177121">else</span>&nbsp;<span class="op" id="2177126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2177132">panic</span><span class="op" id="2177137">(</span><span class="ident" id="2177138"><a href="/gostd/fmt/scan.go.html#2177036">e</a></span><span class="op" id="2177139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177148">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177151">}</span><span class="op" id="2177152">(</span><span class="op" id="2177153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177156">if</span>&nbsp;<span class="ident" id="2177159"><a href="/gostd/fmt/scan.go.html#2176970">f</a></span>&nbsp;<span class="op" id="2177161">==</span>&nbsp;<span class="builtintype" id="2177164">nil</span>&nbsp;<span class="op" id="2177168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2177172"><a href="/gostd/fmt/scan.go.html#2176970">f</a></span>&nbsp;<span class="op" id="2177174">=</span>&nbsp;<span class="ident" id="2177176"><a href="/gostd/fmt/scan.go.html#2177833">notSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2177189"><a href="/gostd/fmt/scan.go.html#2176941">s</a></span><span class="op" id="2177190">.</span><span class="ident" id="2177191"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span>&nbsp;<span class="op" id="2177195">=</span>&nbsp;<span class="ident" id="2177197"><a href="/gostd/fmt/scan.go.html#2176941">s</a></span><span class="op" id="2177198">.</span><span class="ident" id="2177199"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2177202">[</span><span class="op" id="2177203">:</span><span class="num" id="2177204">0</span><span class="op" id="2177205">]</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2177208"><a href="/gostd/fmt/scan.go.html#2176990">tok</a></span>&nbsp;<span class="op" id="2177212">=</span>&nbsp;<span class="ident" id="2177214"><a href="/gostd/fmt/scan.go.html#2176941">s</a></span><span class="op" id="2177215">.</span><span class="ident" id="2177216"><a href="/gostd/fmt/scan.go.html#2181383">token</a></span><span class="op" id="2177221">(</span><span class="ident" id="2177222"><a href="/gostd/fmt/scan.go.html#2176954">skipSpace</a></span><span class="op" id="2177231">,</span>&nbsp;<span class="ident" id="2177233"><a href="/gostd/fmt/scan.go.html#2176970">f</a></span><span class="op" id="2177234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177237">return</span><br>
<span class="lineno"></span><span class="op" id="2177244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2177247">//&nbsp;space&nbsp;is&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;unicode.White_Space&nbsp;ranges,</span><br>
<span class="lineno">280</span><span class="comment" id="2177301">//&nbsp;to&nbsp;avoid&nbsp;depending&nbsp;on&nbsp;package&nbsp;unicode.</span><br>
<span class="lineno"></span><span class="keyword" id="2177343">var</span>&nbsp;<span class="ident" id="2177347">space</span>&nbsp;<span class="op" id="2177353">=</span>&nbsp;<span class="op" id="2177355">[</span><span class="op" id="2177356">]</span><span class="op" id="2177357">[</span><span class="num" id="2177358">2</span><span class="op" id="2177359">]</span><span class="builtintype" id="2177360">uint16</span><span class="op" id="2177366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177369">{</span><span class="num" id="2177370">0x0009</span><span class="op" id="2177376">,</span>&nbsp;<span class="num" id="2177378">0x000d</span><span class="op" id="2177384">}</span><span class="op" id="2177385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177388">{</span><span class="num" id="2177389">0x0020</span><span class="op" id="2177395">,</span>&nbsp;<span class="num" id="2177397">0x0020</span><span class="op" id="2177403">}</span><span class="op" id="2177404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177407">{</span><span class="num" id="2177408">0x0085</span><span class="op" id="2177414">,</span>&nbsp;<span class="num" id="2177416">0x0085</span><span class="op" id="2177422">}</span><span class="op" id="2177423">,</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177426">{</span><span class="num" id="2177427">0x00a0</span><span class="op" id="2177433">,</span>&nbsp;<span class="num" id="2177435">0x00a0</span><span class="op" id="2177441">}</span><span class="op" id="2177442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177445">{</span><span class="num" id="2177446">0x1680</span><span class="op" id="2177452">,</span>&nbsp;<span class="num" id="2177454">0x1680</span><span class="op" id="2177460">}</span><span class="op" id="2177461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177464">{</span><span class="num" id="2177465">0x2000</span><span class="op" id="2177471">,</span>&nbsp;<span class="num" id="2177473">0x200a</span><span class="op" id="2177479">}</span><span class="op" id="2177480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177483">{</span><span class="num" id="2177484">0x2028</span><span class="op" id="2177490">,</span>&nbsp;<span class="num" id="2177492">0x2029</span><span class="op" id="2177498">}</span><span class="op" id="2177499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177502">{</span><span class="num" id="2177503">0x202f</span><span class="op" id="2177509">,</span>&nbsp;<span class="num" id="2177511">0x202f</span><span class="op" id="2177517">}</span><span class="op" id="2177518">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177521">{</span><span class="num" id="2177522">0x205f</span><span class="op" id="2177528">,</span>&nbsp;<span class="num" id="2177530">0x205f</span><span class="op" id="2177536">}</span><span class="op" id="2177537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177540">{</span><span class="num" id="2177541">0x3000</span><span class="op" id="2177547">,</span>&nbsp;<span class="num" id="2177549">0x3000</span><span class="op" id="2177555">}</span><span class="op" id="2177556">,</span><br>
<span class="lineno"></span><span class="op" id="2177558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2177561">func</span>&nbsp;<span class="ident" id="2177566">isSpace</span><span class="op" id="2177573">(</span><span class="ident" id="2177574">r</span>&nbsp;<span class="builtintype" id="2177576">rune</span><span class="op" id="2177580">)</span>&nbsp;<span class="builtintype" id="2177582">bool</span>&nbsp;<span class="op" id="2177587">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177590">if</span>&nbsp;<span class="ident" id="2177593"><a href="/gostd/fmt/scan.go.html#2177574">r</a></span>&nbsp;<span class="op" id="2177595">&gt;=</span>&nbsp;<span class="num" id="2177598">1</span><span class="op" id="2177599">&lt;&lt;</span><span class="num" id="2177601">16</span>&nbsp;<span class="op" id="2177604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177608">return</span>&nbsp;<span class="builtintype" id="2177615">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2177625">rx</span>&nbsp;<span class="op" id="2177628">:=</span>&nbsp;<span class="builtintype" id="2177631">uint16</span><span class="op" id="2177637">(</span><span class="ident" id="2177638"><a href="/gostd/fmt/scan.go.html#2177574">r</a></span><span class="op" id="2177639">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177642">for</span>&nbsp;<span class="ident" id="2177646">_</span><span class="op" id="2177647">,</span>&nbsp;<span class="ident" id="2177649">rng</span>&nbsp;<span class="op" id="2177653">:=</span>&nbsp;<span class="keyword" id="2177656">range</span>&nbsp;<span class="ident" id="2177662"><a href="/gostd/fmt/scan.go.html#2177347">space</a></span>&nbsp;<span class="op" id="2177668">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177672">if</span>&nbsp;<span class="ident" id="2177675"><a href="/gostd/fmt/scan.go.html#2177625">rx</a></span>&nbsp;<span class="op" id="2177678">&lt;</span>&nbsp;<span class="ident" id="2177680"><a href="/gostd/fmt/scan.go.html#2177649">rng</a></span><span class="op" id="2177683">[</span><span class="num" id="2177684">0</span><span class="op" id="2177685">]</span>&nbsp;<span class="op" id="2177687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177692">return</span>&nbsp;<span class="builtintype" id="2177699">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177707">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177711">if</span>&nbsp;<span class="ident" id="2177714"><a href="/gostd/fmt/scan.go.html#2177625">rx</a></span>&nbsp;<span class="op" id="2177717">&lt;=</span>&nbsp;<span class="ident" id="2177720"><a href="/gostd/fmt/scan.go.html#2177649">rng</a></span><span class="op" id="2177723">[</span><span class="num" id="2177724">1</span><span class="op" id="2177725">]</span>&nbsp;<span class="op" id="2177727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177732">return</span>&nbsp;<span class="builtintype" id="2177739">true</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2177749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177752">return</span>&nbsp;<span class="builtintype" id="2177759">false</span><br>
<span class="lineno"></span><span class="op" id="2177765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="2177768">//&nbsp;notSpace&nbsp;is&nbsp;the&nbsp;default&nbsp;scanning&nbsp;function&nbsp;used&nbsp;in&nbsp;Token.</span><br>
<span class="lineno"></span><span class="keyword" id="2177828">func</span>&nbsp;<span class="ident" id="2177833">notSpace</span><span class="op" id="2177841">(</span><span class="ident" id="2177842">r</span>&nbsp;<span class="builtintype" id="2177844">rune</span><span class="op" id="2177848">)</span>&nbsp;<span class="builtintype" id="2177850">bool</span>&nbsp;<span class="op" id="2177855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2177858">return</span>&nbsp;<span class="op" id="2177865">!</span><span class="ident" id="2177866"><a href="/gostd/fmt/scan.go.html#2177566">isSpace</a></span><span class="op" id="2177873">(</span><span class="ident" id="2177874"><a href="/gostd/fmt/scan.go.html#2177842">r</a></span><span class="op" id="2177875">)</span><br>
<span class="lineno"></span><span class="op" id="2177877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="comment" id="2177880">//&nbsp;SkipSpace&nbsp;provides&nbsp;Scan&nbsp;methods&nbsp;the&nbsp;ability&nbsp;to&nbsp;skip&nbsp;space&nbsp;and&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2177953">//&nbsp;characters&nbsp;in&nbsp;keeping&nbsp;with&nbsp;the&nbsp;current&nbsp;scanning&nbsp;mode&nbsp;set&nbsp;by&nbsp;format&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="2178031">//&nbsp;and&nbsp;Scan/Scanln.</span><br>
<span class="lineno"></span><span class="keyword" id="2178051">func</span>&nbsp;<span class="op" id="2178056">(</span><span class="ident" id="2178057">s</span>&nbsp;<span class="op" id="2178059">*</span><span class="ident" id="2178060"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2178062">)</span>&nbsp;<span class="ident" id="2178064">SkipSpace</span><span class="op" id="2178073">(</span><span class="op" id="2178074">)</span>&nbsp;<span class="op" id="2178076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178079"><a href="/gostd/fmt/scan.go.html#2178057">s</a></span><span class="op" id="2178080">.</span><span class="ident" id="2178081"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2178090">(</span><span class="builtintype" id="2178091">false</span><span class="op" id="2178096">)</span><br>
<span class="lineno">320</span><span class="op" id="2178098">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2178101">//&nbsp;readRune&nbsp;is&nbsp;a&nbsp;structure&nbsp;to&nbsp;enable&nbsp;reading&nbsp;UTF-8&nbsp;encoded&nbsp;code&nbsp;points</span><br>
<span class="lineno"></span><span class="comment" id="2178172">//&nbsp;from&nbsp;an&nbsp;io.Reader.&nbsp;&nbsp;It&nbsp;is&nbsp;used&nbsp;if&nbsp;the&nbsp;Reader&nbsp;given&nbsp;to&nbsp;the&nbsp;scanner&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="2178246">//&nbsp;not&nbsp;already&nbsp;implement&nbsp;io.RuneReader.</span><br>
<span class="lineno">325</span><span class="keyword" id="2178286">type</span>&nbsp;<span class="ident" id="2178291">readRune</span>&nbsp;<span class="keyword" id="2178300">struct</span>&nbsp;<span class="op" id="2178307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178310">reader</span>&nbsp;&nbsp;<span class="ident" id="2178318"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2178320">.</span><span class="ident" id="2178321"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178329">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2178337">[</span><span class="ident" id="2178338"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2178342">.</span><span class="ident" id="2178343"><a href="/gostd/unicode/utf8/utf8.go.html#1805617">UTFMax</a></span><span class="op" id="2178349">]</span><span class="builtintype" id="2178350">byte</span>&nbsp;<span class="comment" id="2178355">//&nbsp;used&nbsp;only&nbsp;inside&nbsp;ReadRune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178385">pending</span>&nbsp;<span class="builtintype" id="2178393">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2178411">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;pendBuf;&nbsp;only&nbsp;&gt;0&nbsp;for&nbsp;bad&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178465">pendBuf</span>&nbsp;<span class="op" id="2178473">[</span><span class="ident" id="2178474"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2178478">.</span><span class="ident" id="2178479"><a href="/gostd/unicode/utf8/utf8.go.html#1805617">UTFMax</a></span><span class="op" id="2178485">]</span><span class="builtintype" id="2178486">byte</span>&nbsp;<span class="comment" id="2178491">//&nbsp;bytes&nbsp;left&nbsp;over</span><br>
<span class="lineno">330</span><span class="op" id="2178510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2178513">//&nbsp;readByte&nbsp;returns&nbsp;the&nbsp;next&nbsp;byte&nbsp;from&nbsp;the&nbsp;input,&nbsp;which&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2178576">//&nbsp;left&nbsp;over&nbsp;from&nbsp;a&nbsp;previous&nbsp;read&nbsp;if&nbsp;the&nbsp;UTF-8&nbsp;was&nbsp;ill-formed.</span><br>
<span class="lineno"></span><span class="keyword" id="2178639">func</span>&nbsp;<span class="op" id="2178644">(</span><span class="ident" id="2178645">r</span>&nbsp;<span class="op" id="2178647">*</span><span class="ident" id="2178648"><a href="/gostd/fmt/scan.go.html#2178291">readRune</a></span><span class="op" id="2178656">)</span>&nbsp;<span class="ident" id="2178658">readByte</span><span class="op" id="2178666">(</span><span class="op" id="2178667">)</span>&nbsp;<span class="op" id="2178669">(</span><span class="ident" id="2178670">b</span>&nbsp;<span class="builtintype" id="2178672">byte</span><span class="op" id="2178676">,</span>&nbsp;<span class="ident" id="2178678">err</span>&nbsp;<span class="builtintype" id="2178682">error</span><span class="op" id="2178687">)</span>&nbsp;<span class="op" id="2178689">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2178692">if</span>&nbsp;<span class="ident" id="2178695"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178696">.</span><span class="ident" id="2178697"><a href="/gostd/fmt/scan.go.html#2178385">pending</a></span>&nbsp;<span class="op" id="2178705">&gt;</span>&nbsp;<span class="num" id="2178707">0</span>&nbsp;<span class="op" id="2178709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178713"><a href="/gostd/fmt/scan.go.html#2178670">b</a></span>&nbsp;<span class="op" id="2178715">=</span>&nbsp;<span class="ident" id="2178717"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178718">.</span><span class="ident" id="2178719"><a href="/gostd/fmt/scan.go.html#2178465">pendBuf</a></span><span class="op" id="2178726">[</span><span class="num" id="2178727">0</span><span class="op" id="2178728">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2178732">copy</span><span class="op" id="2178736">(</span><span class="ident" id="2178737"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178738">.</span><span class="ident" id="2178739"><a href="/gostd/fmt/scan.go.html#2178465">pendBuf</a></span><span class="op" id="2178746">[</span><span class="num" id="2178747">0</span><span class="op" id="2178748">:</span><span class="op" id="2178749">]</span><span class="op" id="2178750">,</span>&nbsp;<span class="ident" id="2178752"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178753">.</span><span class="ident" id="2178754"><a href="/gostd/fmt/scan.go.html#2178465">pendBuf</a></span><span class="op" id="2178761">[</span><span class="num" id="2178762">1</span><span class="op" id="2178763">:</span><span class="op" id="2178764">]</span><span class="op" id="2178765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178769"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178770">.</span><span class="ident" id="2178771"><a href="/gostd/fmt/scan.go.html#2178385">pending</a></span><span class="op" id="2178778">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2178783">return</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2178791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2178794">n</span><span class="op" id="2178795">,</span>&nbsp;<span class="ident" id="2178797"><a href="/gostd/fmt/scan.go.html#2178678">err</a></span>&nbsp;<span class="op" id="2178801">:=</span>&nbsp;<span class="ident" id="2178804"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2178806">.</span><span class="ident" id="2178807"><a href="/gostd/io/io.go.html#1429706">ReadFull</a></span><span class="op" id="2178815">(</span><span class="ident" id="2178816"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178817">.</span><span class="ident" id="2178818"><a href="/gostd/fmt/scan.go.html#2178310">reader</a></span><span class="op" id="2178824">,</span>&nbsp;<span class="ident" id="2178826"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178827">.</span><span class="ident" id="2178828"><a href="/gostd/fmt/scan.go.html#2178465">pendBuf</a></span><span class="op" id="2178835">[</span><span class="num" id="2178836">0</span><span class="op" id="2178837">:</span><span class="num" id="2178838">1</span><span class="op" id="2178839">]</span><span class="op" id="2178840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2178843">if</span>&nbsp;<span class="ident" id="2178846"><a href="/gostd/fmt/scan.go.html#2178794">n</a></span>&nbsp;<span class="op" id="2178848">!=</span>&nbsp;<span class="num" id="2178851">1</span>&nbsp;<span class="op" id="2178853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2178857">return</span>&nbsp;<span class="num" id="2178864">0</span><span class="op" id="2178865">,</span>&nbsp;<span class="ident" id="2178867"><a href="/gostd/fmt/scan.go.html#2178678">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2178872">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2178875">return</span>&nbsp;<span class="ident" id="2178882"><a href="/gostd/fmt/scan.go.html#2178645">r</a></span><span class="op" id="2178883">.</span><span class="ident" id="2178884"><a href="/gostd/fmt/scan.go.html#2178465">pendBuf</a></span><span class="op" id="2178891">[</span><span class="num" id="2178892">0</span><span class="op" id="2178893">]</span><span class="op" id="2178894">,</span>&nbsp;<span class="ident" id="2178896"><a href="/gostd/fmt/scan.go.html#2178678">err</a></span><br>
<span class="lineno"></span><span class="op" id="2178900">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2178903">//&nbsp;unread&nbsp;saves&nbsp;the&nbsp;bytes&nbsp;for&nbsp;the&nbsp;next&nbsp;read.</span><br>
<span class="lineno"></span><span class="keyword" id="2178948">func</span>&nbsp;<span class="op" id="2178953">(</span><span class="ident" id="2178954">r</span>&nbsp;<span class="op" id="2178956">*</span><span class="ident" id="2178957"><a href="/gostd/fmt/scan.go.html#2178291">readRune</a></span><span class="op" id="2178965">)</span>&nbsp;<span class="ident" id="2178967">unread</span><span class="op" id="2178973">(</span><span class="ident" id="2178974">buf</span>&nbsp;<span class="op" id="2178978">[</span><span class="op" id="2178979">]</span><span class="builtintype" id="2178980">byte</span><span class="op" id="2178984">)</span>&nbsp;<span class="op" id="2178986">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2178989">copy</span><span class="op" id="2178993">(</span><span class="ident" id="2178994"><a href="/gostd/fmt/scan.go.html#2178954">r</a></span><span class="op" id="2178995">.</span><span class="ident" id="2178996"><a href="/gostd/fmt/scan.go.html#2178465">pendBuf</a></span><span class="op" id="2179003">[</span><span class="ident" id="2179004"><a href="/gostd/fmt/scan.go.html#2178954">r</a></span><span class="op" id="2179005">.</span><span class="ident" id="2179006"><a href="/gostd/fmt/scan.go.html#2178385">pending</a></span><span class="op" id="2179013">:</span><span class="op" id="2179014">]</span><span class="op" id="2179015">,</span>&nbsp;<span class="ident" id="2179017"><a href="/gostd/fmt/scan.go.html#2178974">buf</a></span><span class="op" id="2179020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179023"><a href="/gostd/fmt/scan.go.html#2178954">r</a></span><span class="op" id="2179024">.</span><span class="ident" id="2179025"><a href="/gostd/fmt/scan.go.html#2178385">pending</a></span>&nbsp;<span class="op" id="2179033">+=</span>&nbsp;<span class="builtinfunc" id="2179036">len</span><span class="op" id="2179039">(</span><span class="ident" id="2179040"><a href="/gostd/fmt/scan.go.html#2178974">buf</a></span><span class="op" id="2179043">)</span><br>
<span class="lineno"></span><span class="op" id="2179045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2179048">//&nbsp;ReadRune&nbsp;returns&nbsp;the&nbsp;next&nbsp;UTF-8&nbsp;encoded&nbsp;code&nbsp;point&nbsp;from&nbsp;the</span><br>
<span class="lineno">355</span><span class="comment" id="2179111">//&nbsp;io.Reader&nbsp;inside&nbsp;r.</span><br>
<span class="lineno"></span><span class="keyword" id="2179134">func</span>&nbsp;<span class="op" id="2179139">(</span><span class="ident" id="2179140">r</span>&nbsp;<span class="op" id="2179142">*</span><span class="ident" id="2179143"><a href="/gostd/fmt/scan.go.html#2178291">readRune</a></span><span class="op" id="2179151">)</span>&nbsp;<span class="ident" id="2179153">ReadRune</span><span class="op" id="2179161">(</span><span class="op" id="2179162">)</span>&nbsp;<span class="op" id="2179164">(</span><span class="ident" id="2179165">rr</span>&nbsp;<span class="builtintype" id="2179168">rune</span><span class="op" id="2179172">,</span>&nbsp;<span class="ident" id="2179174">size</span>&nbsp;<span class="builtintype" id="2179179">int</span><span class="op" id="2179182">,</span>&nbsp;<span class="ident" id="2179184">err</span>&nbsp;<span class="builtintype" id="2179188">error</span><span class="op" id="2179193">)</span>&nbsp;<span class="op" id="2179195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179198"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179199">.</span><span class="ident" id="2179200"><a href="/gostd/fmt/scan.go.html#2178329">buf</a></span><span class="op" id="2179203">[</span><span class="num" id="2179204">0</span><span class="op" id="2179205">]</span><span class="op" id="2179206">,</span>&nbsp;<span class="ident" id="2179208"><a href="/gostd/fmt/scan.go.html#2179184">err</a></span>&nbsp;<span class="op" id="2179212">=</span>&nbsp;<span class="ident" id="2179214"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179215">.</span><span class="ident" id="2179216"><a href="/gostd/fmt/scan.go.html#2178658">readByte</a></span><span class="op" id="2179224">(</span><span class="op" id="2179225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179228">if</span>&nbsp;<span class="ident" id="2179231"><a href="/gostd/fmt/scan.go.html#2179184">err</a></span>&nbsp;<span class="op" id="2179235">!=</span>&nbsp;<span class="builtintype" id="2179238">nil</span>&nbsp;<span class="op" id="2179242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179246">return</span>&nbsp;<span class="num" id="2179253">0</span><span class="op" id="2179254">,</span>&nbsp;<span class="num" id="2179256">0</span><span class="op" id="2179257">,</span>&nbsp;<span class="ident" id="2179259"><a href="/gostd/fmt/scan.go.html#2179184">err</a></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2179264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179267">if</span>&nbsp;<span class="ident" id="2179270"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179271">.</span><span class="ident" id="2179272"><a href="/gostd/fmt/scan.go.html#2178329">buf</a></span><span class="op" id="2179275">[</span><span class="num" id="2179276">0</span><span class="op" id="2179277">]</span>&nbsp;<span class="op" id="2179279">&lt;</span>&nbsp;<span class="ident" id="2179281"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2179285">.</span><span class="ident" id="2179286"><a href="/gostd/unicode/utf8/utf8.go.html#1805451">RuneSelf</a></span>&nbsp;<span class="op" id="2179295">{</span>&nbsp;<span class="comment" id="2179297">//&nbsp;fast&nbsp;check&nbsp;for&nbsp;common&nbsp;ASCII&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179335"><a href="/gostd/fmt/scan.go.html#2179165">rr</a></span>&nbsp;<span class="op" id="2179338">=</span>&nbsp;<span class="builtintype" id="2179340">rune</span><span class="op" id="2179344">(</span><span class="ident" id="2179345"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179346">.</span><span class="ident" id="2179347"><a href="/gostd/fmt/scan.go.html#2178329">buf</a></span><span class="op" id="2179350">[</span><span class="num" id="2179351">0</span><span class="op" id="2179352">]</span><span class="op" id="2179353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179357"><a href="/gostd/fmt/scan.go.html#2179174">size</a></span>&nbsp;<span class="op" id="2179362">=</span>&nbsp;<span class="num" id="2179364">1</span>&nbsp;<span class="comment" id="2179366">//&nbsp;Known&nbsp;to&nbsp;be&nbsp;1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179386">return</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2179394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179397">var</span>&nbsp;<span class="ident" id="2179401">n</span>&nbsp;<span class="builtintype" id="2179403">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179408">for</span>&nbsp;<span class="ident" id="2179412"><a href="/gostd/fmt/scan.go.html#2179401">n</a></span>&nbsp;<span class="op" id="2179414">=</span>&nbsp;<span class="num" id="2179416">1</span><span class="op" id="2179417">;</span>&nbsp;<span class="op" id="2179419">!</span><span class="ident" id="2179420"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2179424">.</span><span class="ident" id="2179425"><a href="/gostd/unicode/utf8/utf8.go.html#1809204">FullRune</a></span><span class="op" id="2179433">(</span><span class="ident" id="2179434"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179435">.</span><span class="ident" id="2179436"><a href="/gostd/fmt/scan.go.html#2178329">buf</a></span><span class="op" id="2179439">[</span><span class="num" id="2179440">0</span><span class="op" id="2179441">:</span><span class="ident" id="2179442"><a href="/gostd/fmt/scan.go.html#2179401">n</a></span><span class="op" id="2179443">]</span><span class="op" id="2179444">)</span><span class="op" id="2179445">;</span>&nbsp;<span class="ident" id="2179447"><a href="/gostd/fmt/scan.go.html#2179401">n</a></span><span class="op" id="2179448">++</span>&nbsp;<span class="op" id="2179451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179455"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179456">.</span><span class="ident" id="2179457"><a href="/gostd/fmt/scan.go.html#2178329">buf</a></span><span class="op" id="2179460">[</span><span class="ident" id="2179461"><a href="/gostd/fmt/scan.go.html#2179401">n</a></span><span class="op" id="2179462">]</span><span class="op" id="2179463">,</span>&nbsp;<span class="ident" id="2179465"><a href="/gostd/fmt/scan.go.html#2179184">err</a></span>&nbsp;<span class="op" id="2179469">=</span>&nbsp;<span class="ident" id="2179471"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179472">.</span><span class="ident" id="2179473"><a href="/gostd/fmt/scan.go.html#2178658">readByte</a></span><span class="op" id="2179481">(</span><span class="op" id="2179482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179486">if</span>&nbsp;<span class="ident" id="2179489"><a href="/gostd/fmt/scan.go.html#2179184">err</a></span>&nbsp;<span class="op" id="2179493">!=</span>&nbsp;<span class="builtintype" id="2179496">nil</span>&nbsp;<span class="op" id="2179500">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179505">if</span>&nbsp;<span class="ident" id="2179508"><a href="/gostd/fmt/scan.go.html#2179184">err</a></span>&nbsp;<span class="op" id="2179512">==</span>&nbsp;<span class="ident" id="2179515"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2179517">.</span><span class="ident" id="2179518"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="2179522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179528"><a href="/gostd/fmt/scan.go.html#2179184">err</a></span>&nbsp;<span class="op" id="2179532">=</span>&nbsp;<span class="builtintype" id="2179534">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179542">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2179551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179556">return</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2179565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2179568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179571"><a href="/gostd/fmt/scan.go.html#2179165">rr</a></span><span class="op" id="2179573">,</span>&nbsp;<span class="ident" id="2179575"><a href="/gostd/fmt/scan.go.html#2179174">size</a></span>&nbsp;<span class="op" id="2179580">=</span>&nbsp;<span class="ident" id="2179582"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2179586">.</span><span class="ident" id="2179587"><a href="/gostd/unicode/utf8/utf8.go.html#1809912">DecodeRune</a></span><span class="op" id="2179597">(</span><span class="ident" id="2179598"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179599">.</span><span class="ident" id="2179600"><a href="/gostd/fmt/scan.go.html#2178329">buf</a></span><span class="op" id="2179603">[</span><span class="num" id="2179604">0</span><span class="op" id="2179605">:</span><span class="ident" id="2179606"><a href="/gostd/fmt/scan.go.html#2179401">n</a></span><span class="op" id="2179607">]</span><span class="op" id="2179608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179611">if</span>&nbsp;<span class="ident" id="2179614"><a href="/gostd/fmt/scan.go.html#2179174">size</a></span>&nbsp;<span class="op" id="2179619">&lt;</span>&nbsp;<span class="ident" id="2179621"><a href="/gostd/fmt/scan.go.html#2179401">n</a></span>&nbsp;<span class="op" id="2179623">{</span>&nbsp;<span class="comment" id="2179625">//&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179639"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179640">.</span><span class="ident" id="2179641"><a href="/gostd/fmt/scan.go.html#2178967">unread</a></span><span class="op" id="2179647">(</span><span class="ident" id="2179648"><a href="/gostd/fmt/scan.go.html#2179140">r</a></span><span class="op" id="2179649">.</span><span class="ident" id="2179650"><a href="/gostd/fmt/scan.go.html#2178329">buf</a></span><span class="op" id="2179653">[</span><span class="ident" id="2179654"><a href="/gostd/fmt/scan.go.html#2179174">size</a></span><span class="op" id="2179658">:</span><span class="ident" id="2179659"><a href="/gostd/fmt/scan.go.html#2179401">n</a></span><span class="op" id="2179660">]</span><span class="op" id="2179661">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2179664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2179667">return</span><br>
<span class="lineno"></span><span class="op" id="2179674">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2179677">var</span>&nbsp;<span class="ident" id="2179681">ssFree</span>&nbsp;<span class="op" id="2179688">=</span>&nbsp;<span class="ident" id="2179690"><a href="/gostd/fmt/scan.go.html#2168791">sync</a></span><span class="op" id="2179694">.</span><span class="ident" id="2179695"><a href="/gostd/sync/pool.go.html#1448866">Pool</a></span><span class="op" id="2179699">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179702"><a href="/gostd/sync/pool.go.html#1449180">New</a></span><span class="op" id="2179705">:</span>&nbsp;<span class="keyword" id="2179707">func</span><span class="op" id="2179711">(</span><span class="op" id="2179712">)</span>&nbsp;<span class="keyword" id="2179714">interface</span><span class="op" id="2179723">{</span><span class="op" id="2179724">}</span>&nbsp;<span class="op" id="2179726">{</span>&nbsp;<span class="keyword" id="2179728">return</span>&nbsp;<span class="builtinfunc" id="2179735">new</span><span class="op" id="2179738">(</span><span class="ident" id="2179739"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2179741">)</span>&nbsp;<span class="op" id="2179743">}</span><span class="op" id="2179744">,</span><br>
<span class="lineno"></span><span class="op" id="2179746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2179749">//&nbsp;newScanState&nbsp;allocates&nbsp;a&nbsp;new&nbsp;ss&nbsp;struct&nbsp;or&nbsp;grab&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2179813">func</span>&nbsp;<span class="ident" id="2179818">newScanState</span><span class="op" id="2179830">(</span><span class="ident" id="2179831">r</span>&nbsp;<span class="ident" id="2179833"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2179835">.</span><span class="ident" id="2179836"><a href="/gostd/io/io.go.html#1421823">Reader</a></span><span class="op" id="2179842">,</span>&nbsp;<span class="ident" id="2179844">nlIsSpace</span><span class="op" id="2179853">,</span>&nbsp;<span class="ident" id="2179855">nlIsEnd</span>&nbsp;<span class="builtintype" id="2179863">bool</span><span class="op" id="2179867">)</span>&nbsp;<span class="op" id="2179869">(</span><span class="ident" id="2179870">s</span>&nbsp;<span class="op" id="2179872">*</span><span class="ident" id="2179873"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2179875">,</span>&nbsp;<span class="ident" id="2179877">old</span>&nbsp;<span class="ident" id="2179881"><a href="/gostd/fmt/scan.go.html#2174924">ssave</a></span><span class="op" id="2179886">)</span>&nbsp;<span class="op" id="2179888">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2179891">//&nbsp;If&nbsp;the&nbsp;reader&nbsp;is&nbsp;a&nbsp;*ss,&nbsp;then&nbsp;we&#39;ve&nbsp;got&nbsp;a&nbsp;recursive</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2179946">//&nbsp;call&nbsp;to&nbsp;Scan,&nbsp;so&nbsp;re-use&nbsp;the&nbsp;scan&nbsp;state.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2179990"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2179991">,</span>&nbsp;<span class="ident" id="2179993">ok</span>&nbsp;<span class="op" id="2179996">:=</span>&nbsp;<span class="ident" id="2179999"><a href="/gostd/fmt/scan.go.html#2179831">r</a></span><span class="op" id="2180000">.</span><span class="op" id="2180001">(</span><span class="op" id="2180002">*</span><span class="ident" id="2180003"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2180005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180008">if</span>&nbsp;<span class="ident" id="2180011"><a href="/gostd/fmt/scan.go.html#2179993">ok</a></span>&nbsp;<span class="op" id="2180014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180018"><a href="/gostd/fmt/scan.go.html#2179877">old</a></span>&nbsp;<span class="op" id="2180022">=</span>&nbsp;<span class="ident" id="2180024"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180025">.</span><span class="ident" id="2180026"><a href="/gostd/fmt/scan.go.html#2174821">ssave</a></span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180034"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180035">.</span><span class="ident" id="2180036"><a href="/gostd/fmt/scan.go.html#2175174">limit</a></span>&nbsp;<span class="op" id="2180042">=</span>&nbsp;<span class="ident" id="2180044"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180045">.</span><span class="ident" id="2180046"><a href="/gostd/fmt/scan.go.html#2175101">argLimit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180057"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180058">.</span><span class="ident" id="2180059"><a href="/gostd/fmt/scan.go.html#2174993">nlIsEnd</a></span>&nbsp;<span class="op" id="2180067">=</span>&nbsp;<span class="ident" id="2180069"><a href="/gostd/fmt/scan.go.html#2179855">nlIsEnd</a></span>&nbsp;<span class="op" id="2180077">||</span>&nbsp;<span class="ident" id="2180080"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180081">.</span><span class="ident" id="2180082"><a href="/gostd/fmt/scan.go.html#2174993">nlIsEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180092"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180093">.</span><span class="ident" id="2180094"><a href="/gostd/fmt/scan.go.html#2175044">nlIsSpace</a></span>&nbsp;<span class="op" id="2180104">=</span>&nbsp;<span class="ident" id="2180106"><a href="/gostd/fmt/scan.go.html#2179844">nlIsSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180118">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2180126">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180130"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span>&nbsp;<span class="op" id="2180132">=</span>&nbsp;<span class="ident" id="2180134"><a href="/gostd/fmt/scan.go.html#2179681">ssFree</a></span><span class="op" id="2180140">.</span><span class="ident" id="2180141"><a href="/gostd/sync/pool.go.html#1450329">Get</a></span><span class="op" id="2180144">(</span><span class="op" id="2180145">)</span><span class="op" id="2180146">.</span><span class="op" id="2180147">(</span><span class="op" id="2180148">*</span><span class="ident" id="2180149"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2180151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180154">if</span>&nbsp;<span class="ident" id="2180157">rr</span><span class="op" id="2180159">,</span>&nbsp;<span class="ident" id="2180161">ok</span>&nbsp;<span class="op" id="2180164">:=</span>&nbsp;<span class="ident" id="2180167"><a href="/gostd/fmt/scan.go.html#2179831">r</a></span><span class="op" id="2180168">.</span><span class="op" id="2180169">(</span><span class="ident" id="2180170"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2180172">.</span><span class="ident" id="2180173"><a href="/gostd/io/io.go.html#1427733">RuneReader</a></span><span class="op" id="2180183">)</span><span class="op" id="2180184">;</span>&nbsp;<span class="ident" id="2180186"><a href="/gostd/fmt/scan.go.html#2180161">ok</a></span>&nbsp;<span class="op" id="2180189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180193"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180194">.</span><span class="ident" id="2180195"><a href="/gostd/fmt/scan.go.html#2174531">rr</a></span>&nbsp;<span class="op" id="2180198">=</span>&nbsp;<span class="ident" id="2180200"><a href="/gostd/fmt/scan.go.html#2180157">rr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2180204">}</span>&nbsp;<span class="keyword" id="2180206">else</span>&nbsp;<span class="op" id="2180211">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180215"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180216">.</span><span class="ident" id="2180217"><a href="/gostd/fmt/scan.go.html#2174531">rr</a></span>&nbsp;<span class="op" id="2180220">=</span>&nbsp;<span class="op" id="2180222">&amp;</span><span class="ident" id="2180223"><a href="/gostd/fmt/scan.go.html#2178291">readRune</a></span><span class="op" id="2180231">{</span><span class="ident" id="2180232"><a href="/gostd/fmt/scan.go.html#2178310">reader</a></span><span class="op" id="2180238">:</span>&nbsp;<span class="ident" id="2180240"><a href="/gostd/fmt/scan.go.html#2179831">r</a></span><span class="op" id="2180241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2180244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180247"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180248">.</span><span class="ident" id="2180249"><a href="/gostd/fmt/scan.go.html#2175044">nlIsSpace</a></span>&nbsp;<span class="op" id="2180259">=</span>&nbsp;<span class="ident" id="2180261"><a href="/gostd/fmt/scan.go.html#2179844">nlIsSpace</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180272"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180273">.</span><span class="ident" id="2180274"><a href="/gostd/fmt/scan.go.html#2174993">nlIsEnd</a></span>&nbsp;<span class="op" id="2180282">=</span>&nbsp;<span class="ident" id="2180284"><a href="/gostd/fmt/scan.go.html#2179855">nlIsEnd</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180293"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180294">.</span><span class="ident" id="2180295"><a href="/gostd/fmt/scan.go.html#2174669">prevRune</a></span>&nbsp;<span class="op" id="2180304">=</span>&nbsp;<span class="op" id="2180306">-</span><span class="num" id="2180307">1</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180310"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180311">.</span><span class="ident" id="2180312"><a href="/gostd/fmt/scan.go.html#2174623">peekRune</a></span>&nbsp;<span class="op" id="2180321">=</span>&nbsp;<span class="op" id="2180323">-</span><span class="num" id="2180324">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180327"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180328">.</span><span class="ident" id="2180329"><a href="/gostd/fmt/scan.go.html#2174777">atEOF</a></span>&nbsp;<span class="op" id="2180335">=</span>&nbsp;<span class="builtintype" id="2180337">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180344"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180345">.</span><span class="ident" id="2180346"><a href="/gostd/fmt/scan.go.html#2175174">limit</a></span>&nbsp;<span class="op" id="2180352">=</span>&nbsp;<span class="ident" id="2180354"><a href="/gostd/fmt/scan.go.html#2192561">hugeWid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180363"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180364">.</span><span class="ident" id="2180365"><a href="/gostd/fmt/scan.go.html#2175101">argLimit</a></span>&nbsp;<span class="op" id="2180374">=</span>&nbsp;<span class="ident" id="2180376"><a href="/gostd/fmt/scan.go.html#2192561">hugeWid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180385"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180386">.</span><span class="ident" id="2180387"><a href="/gostd/fmt/scan.go.html#2175216">maxWid</a></span>&nbsp;<span class="op" id="2180394">=</span>&nbsp;<span class="ident" id="2180396"><a href="/gostd/fmt/scan.go.html#2192561">hugeWid</a></span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180405"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180406">.</span><span class="ident" id="2180407"><a href="/gostd/fmt/scan.go.html#2174940">validSave</a></span>&nbsp;<span class="op" id="2180417">=</span>&nbsp;<span class="builtintype" id="2180419">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180425"><a href="/gostd/fmt/scan.go.html#2179870">s</a></span><span class="op" id="2180426">.</span><span class="ident" id="2180427"><a href="/gostd/fmt/scan.go.html#2174727">count</a></span>&nbsp;<span class="op" id="2180433">=</span>&nbsp;<span class="num" id="2180435">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180438">return</span><br>
<span class="lineno"></span><span class="op" id="2180445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="comment" id="2180448">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;ss&nbsp;structs&nbsp;in&nbsp;ssFree;&nbsp;avoid&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2180525">func</span>&nbsp;<span class="op" id="2180530">(</span><span class="ident" id="2180531">s</span>&nbsp;<span class="op" id="2180533">*</span><span class="ident" id="2180534"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2180536">)</span>&nbsp;<span class="ident" id="2180538">free</span><span class="op" id="2180542">(</span><span class="ident" id="2180543">old</span>&nbsp;<span class="ident" id="2180547"><a href="/gostd/fmt/scan.go.html#2174924">ssave</a></span><span class="op" id="2180552">)</span>&nbsp;<span class="op" id="2180554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2180557">//&nbsp;If&nbsp;it&nbsp;was&nbsp;used&nbsp;recursively,&nbsp;just&nbsp;restore&nbsp;the&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180617">if</span>&nbsp;<span class="ident" id="2180620"><a href="/gostd/fmt/scan.go.html#2180543">old</a></span><span class="op" id="2180623">.</span><span class="ident" id="2180624"><a href="/gostd/fmt/scan.go.html#2174940">validSave</a></span>&nbsp;<span class="op" id="2180634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180638"><a href="/gostd/fmt/scan.go.html#2180531">s</a></span><span class="op" id="2180639">.</span><span class="ident" id="2180640"><a href="/gostd/fmt/scan.go.html#2174821">ssave</a></span>&nbsp;<span class="op" id="2180646">=</span>&nbsp;<span class="ident" id="2180648"><a href="/gostd/fmt/scan.go.html#2180543">old</a></span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180654">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2180662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2180665">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;ss&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180717">if</span>&nbsp;<span class="builtinfunc" id="2180720">cap</span><span class="op" id="2180723">(</span><span class="ident" id="2180724"><a href="/gostd/fmt/scan.go.html#2180531">s</a></span><span class="op" id="2180725">.</span><span class="ident" id="2180726"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2180729">)</span>&nbsp;<span class="op" id="2180731">&gt;</span>&nbsp;<span class="num" id="2180733">1024</span>&nbsp;<span class="op" id="2180738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180742">return</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2180750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180753"><a href="/gostd/fmt/scan.go.html#2180531">s</a></span><span class="op" id="2180754">.</span><span class="ident" id="2180755"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span>&nbsp;<span class="op" id="2180759">=</span>&nbsp;<span class="ident" id="2180761"><a href="/gostd/fmt/scan.go.html#2180531">s</a></span><span class="op" id="2180762">.</span><span class="ident" id="2180763"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2180766">[</span><span class="op" id="2180767">:</span><span class="num" id="2180768">0</span><span class="op" id="2180769">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180772"><a href="/gostd/fmt/scan.go.html#2180531">s</a></span><span class="op" id="2180773">.</span><span class="ident" id="2180774"><a href="/gostd/fmt/scan.go.html#2174531">rr</a></span>&nbsp;<span class="op" id="2180777">=</span>&nbsp;<span class="builtintype" id="2180779">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180784"><a href="/gostd/fmt/scan.go.html#2179681">ssFree</a></span><span class="op" id="2180790">.</span><span class="ident" id="2180791"><a href="/gostd/sync/pool.go.html#1449510">Put</a></span><span class="op" id="2180794">(</span><span class="ident" id="2180795"><a href="/gostd/fmt/scan.go.html#2180531">s</a></span><span class="op" id="2180796">)</span><br>
<span class="lineno"></span><span class="op" id="2180798">}</span><br>
<span class="lineno">435</span><br>
<span class="lineno"></span><span class="comment" id="2180801">//&nbsp;skipSpace&nbsp;skips&nbsp;spaces&nbsp;and&nbsp;maybe&nbsp;newlines.</span><br>
<span class="lineno"></span><span class="keyword" id="2180847">func</span>&nbsp;<span class="op" id="2180852">(</span><span class="ident" id="2180853">s</span>&nbsp;<span class="op" id="2180855">*</span><span class="ident" id="2180856"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2180858">)</span>&nbsp;<span class="ident" id="2180860">skipSpace</span><span class="op" id="2180869">(</span><span class="ident" id="2180870">stopAtNewline</span>&nbsp;<span class="builtintype" id="2180884">bool</span><span class="op" id="2180888">)</span>&nbsp;<span class="op" id="2180890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180893">for</span>&nbsp;<span class="op" id="2180897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2180901">r</span>&nbsp;<span class="op" id="2180903">:=</span>&nbsp;<span class="ident" id="2180906"><a href="/gostd/fmt/scan.go.html#2180853">s</a></span><span class="op" id="2180907">.</span><span class="ident" id="2180908"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2180915">(</span><span class="op" id="2180916">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180920">if</span>&nbsp;<span class="ident" id="2180923"><a href="/gostd/fmt/scan.go.html#2180901">r</a></span>&nbsp;<span class="op" id="2180925">==</span>&nbsp;<span class="ident" id="2180928"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2180932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180937">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2180946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180950">if</span>&nbsp;<span class="ident" id="2180953"><a href="/gostd/fmt/scan.go.html#2180901">r</a></span>&nbsp;<span class="op" id="2180955">==</span>&nbsp;<span class="string" id="2180958">&#39;\r&#39;</span>&nbsp;<span class="op" id="2180963">&amp;&amp;</span>&nbsp;<span class="ident" id="2180966"><a href="/gostd/fmt/scan.go.html#2180853">s</a></span><span class="op" id="2180967">.</span><span class="ident" id="2180968"><a href="/gostd/fmt/scan.go.html#2182394">peek</a></span><span class="op" id="2180972">(</span><span class="string" id="2180973">&#34;\n&#34;</span><span class="op" id="2180977">)</span>&nbsp;<span class="op" id="2180979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180984">continue</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2180995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2180999">if</span>&nbsp;<span class="ident" id="2181002"><a href="/gostd/fmt/scan.go.html#2180901">r</a></span>&nbsp;<span class="op" id="2181004">==</span>&nbsp;<span class="string" id="2181007">&#39;\n&#39;</span>&nbsp;<span class="op" id="2181012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181017">if</span>&nbsp;<span class="ident" id="2181020"><a href="/gostd/fmt/scan.go.html#2180870">stopAtNewline</a></span>&nbsp;<span class="op" id="2181034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181040">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181049">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181054">if</span>&nbsp;<span class="ident" id="2181057"><a href="/gostd/fmt/scan.go.html#2180853">s</a></span><span class="op" id="2181058">.</span><span class="ident" id="2181059"><a href="/gostd/fmt/scan.go.html#2175044">nlIsSpace</a></span>&nbsp;<span class="op" id="2181069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181075">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2181092"><a href="/gostd/fmt/scan.go.html#2180853">s</a></span><span class="op" id="2181093">.</span><span class="ident" id="2181094"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2181105">(</span><span class="string" id="2181106">&#34;unexpected&nbsp;newline&#34;</span><span class="op" id="2181126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181131">return</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181144">if</span>&nbsp;<span class="op" id="2181147">!</span><span class="ident" id="2181148"><a href="/gostd/fmt/scan.go.html#2177566">isSpace</a></span><span class="op" id="2181155">(</span><span class="ident" id="2181156"><a href="/gostd/fmt/scan.go.html#2180901">r</a></span><span class="op" id="2181157">)</span>&nbsp;<span class="op" id="2181159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2181164"><a href="/gostd/fmt/scan.go.html#2180853">s</a></span><span class="op" id="2181165">.</span><span class="ident" id="2181166"><a href="/gostd/fmt/scan.go.html#2176641">UnreadRune</a></span><span class="op" id="2181176">(</span><span class="op" id="2181177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181182">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181190">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181193">}</span><br>
<span class="lineno"></span><span class="op" id="2181195">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2181198">//&nbsp;token&nbsp;returns&nbsp;the&nbsp;next&nbsp;space-delimited&nbsp;string&nbsp;from&nbsp;the&nbsp;input.&nbsp;&nbsp;It</span><br>
<span class="lineno"></span><span class="comment" id="2181267">//&nbsp;skips&nbsp;white&nbsp;space.&nbsp;&nbsp;For&nbsp;Scanln,&nbsp;it&nbsp;stops&nbsp;at&nbsp;newlines.&nbsp;&nbsp;For&nbsp;Scan,</span><br>
<span class="lineno">465</span><span class="comment" id="2181335">//&nbsp;newlines&nbsp;are&nbsp;treated&nbsp;as&nbsp;spaces.</span><br>
<span class="lineno"></span><span class="keyword" id="2181370">func</span>&nbsp;<span class="op" id="2181375">(</span><span class="ident" id="2181376">s</span>&nbsp;<span class="op" id="2181378">*</span><span class="ident" id="2181379"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2181381">)</span>&nbsp;<span class="ident" id="2181383">token</span><span class="op" id="2181388">(</span><span class="ident" id="2181389">skipSpace</span>&nbsp;<span class="builtintype" id="2181399">bool</span><span class="op" id="2181403">,</span>&nbsp;<span class="ident" id="2181405">f</span>&nbsp;<span class="keyword" id="2181407">func</span><span class="op" id="2181411">(</span><span class="builtintype" id="2181412">rune</span><span class="op" id="2181416">)</span>&nbsp;<span class="builtintype" id="2181418">bool</span><span class="op" id="2181422">)</span>&nbsp;<span class="op" id="2181424">[</span><span class="op" id="2181425">]</span><span class="builtintype" id="2181426">byte</span>&nbsp;<span class="op" id="2181431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181434">if</span>&nbsp;<span class="ident" id="2181437"><a href="/gostd/fmt/scan.go.html#2181389">skipSpace</a></span>&nbsp;<span class="op" id="2181447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2181451"><a href="/gostd/fmt/scan.go.html#2181376">s</a></span><span class="op" id="2181452">.</span><span class="ident" id="2181453"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2181462">(</span><span class="builtintype" id="2181463">false</span><span class="op" id="2181468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181471">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2181474">//&nbsp;read&nbsp;until&nbsp;white&nbsp;space&nbsp;or&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181512">for</span>&nbsp;<span class="op" id="2181516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2181520">r</span>&nbsp;<span class="op" id="2181522">:=</span>&nbsp;<span class="ident" id="2181525"><a href="/gostd/fmt/scan.go.html#2181376">s</a></span><span class="op" id="2181526">.</span><span class="ident" id="2181527"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2181534">(</span><span class="op" id="2181535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181539">if</span>&nbsp;<span class="ident" id="2181542"><a href="/gostd/fmt/scan.go.html#2181520">r</a></span>&nbsp;<span class="op" id="2181544">==</span>&nbsp;<span class="ident" id="2181547"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2181551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181556">break</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181568">if</span>&nbsp;<span class="op" id="2181571">!</span><span class="ident" id="2181572"><a href="/gostd/fmt/scan.go.html#2181405">f</a></span><span class="op" id="2181573">(</span><span class="ident" id="2181574"><a href="/gostd/fmt/scan.go.html#2181520">r</a></span><span class="op" id="2181575">)</span>&nbsp;<span class="op" id="2181577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2181582"><a href="/gostd/fmt/scan.go.html#2181376">s</a></span><span class="op" id="2181583">.</span><span class="ident" id="2181584"><a href="/gostd/fmt/scan.go.html#2176641">UnreadRune</a></span><span class="op" id="2181594">(</span><span class="op" id="2181595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181600">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181608">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2181612"><a href="/gostd/fmt/scan.go.html#2181376">s</a></span><span class="op" id="2181613">.</span><span class="ident" id="2181614"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2181617">.</span><span class="ident" id="2181618"><a href="/gostd/fmt/print.go.html#2140965">WriteRune</a></span><span class="op" id="2181627">(</span><span class="ident" id="2181628"><a href="/gostd/fmt/scan.go.html#2181520">r</a></span><span class="op" id="2181629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181632">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181635">return</span>&nbsp;<span class="ident" id="2181642"><a href="/gostd/fmt/scan.go.html#2181376">s</a></span><span class="op" id="2181643">.</span><span class="ident" id="2181644"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><br>
<span class="lineno"></span><span class="op" id="2181648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="keyword" id="2181651">var</span>&nbsp;<span class="ident" id="2181655">complexError</span>&nbsp;<span class="op" id="2181668">=</span>&nbsp;<span class="ident" id="2181670"><a href="/gostd/fmt/scan.go.html#2168739">errors</a></span><span class="op" id="2181676">.</span><span class="ident" id="2181677"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="2181680">(</span><span class="string" id="2181681">&#34;syntax&nbsp;error&nbsp;scanning&nbsp;complex&nbsp;number&#34;</span><span class="op" id="2181719">)</span><br>
<span class="lineno"></span><span class="keyword" id="2181721">var</span>&nbsp;<span class="ident" id="2181725">boolError</span>&nbsp;<span class="op" id="2181735">=</span>&nbsp;<span class="ident" id="2181737"><a href="/gostd/fmt/scan.go.html#2168739">errors</a></span><span class="op" id="2181743">.</span><span class="ident" id="2181744"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="2181747">(</span><span class="string" id="2181748">&#34;syntax&nbsp;error&nbsp;scanning&nbsp;boolean&#34;</span><span class="op" id="2181779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2181782">func</span>&nbsp;<span class="ident" id="2181787">indexRune</span><span class="op" id="2181796">(</span><span class="ident" id="2181797">s</span>&nbsp;<span class="builtintype" id="2181799">string</span><span class="op" id="2181805">,</span>&nbsp;<span class="ident" id="2181807">r</span>&nbsp;<span class="builtintype" id="2181809">rune</span><span class="op" id="2181813">)</span>&nbsp;<span class="builtintype" id="2181815">int</span>&nbsp;<span class="op" id="2181819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181822">for</span>&nbsp;<span class="ident" id="2181826">i</span><span class="op" id="2181827">,</span>&nbsp;<span class="ident" id="2181829">c</span>&nbsp;<span class="op" id="2181831">:=</span>&nbsp;<span class="keyword" id="2181834">range</span>&nbsp;<span class="ident" id="2181840"><a href="/gostd/fmt/scan.go.html#2181797">s</a></span>&nbsp;<span class="op" id="2181842">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181846">if</span>&nbsp;<span class="ident" id="2181849"><a href="/gostd/fmt/scan.go.html#2181829">c</a></span>&nbsp;<span class="op" id="2181851">==</span>&nbsp;<span class="ident" id="2181854"><a href="/gostd/fmt/scan.go.html#2181807">r</a></span>&nbsp;<span class="op" id="2181856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181861">return</span>&nbsp;<span class="ident" id="2181868"><a href="/gostd/fmt/scan.go.html#2181826">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2181875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2181878">return</span>&nbsp;<span class="op" id="2181885">-</span><span class="num" id="2181886">1</span><br>
<span class="lineno">495</span><span class="op" id="2181888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2181891">//&nbsp;consume&nbsp;reads&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input&nbsp;and&nbsp;reports&nbsp;whether&nbsp;it&nbsp;is&nbsp;in&nbsp;the&nbsp;ok&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2181979">//&nbsp;If&nbsp;accept&nbsp;is&nbsp;true,&nbsp;it&nbsp;puts&nbsp;the&nbsp;character&nbsp;into&nbsp;the&nbsp;input&nbsp;token.</span><br>
<span class="lineno"></span><span class="keyword" id="2182045">func</span>&nbsp;<span class="op" id="2182050">(</span><span class="ident" id="2182051">s</span>&nbsp;<span class="op" id="2182053">*</span><span class="ident" id="2182054"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2182056">)</span>&nbsp;<span class="ident" id="2182058">consume</span><span class="op" id="2182065">(</span><span class="ident" id="2182066">ok</span>&nbsp;<span class="builtintype" id="2182069">string</span><span class="op" id="2182075">,</span>&nbsp;<span class="ident" id="2182077">accept</span>&nbsp;<span class="builtintype" id="2182084">bool</span><span class="op" id="2182088">)</span>&nbsp;<span class="builtintype" id="2182090">bool</span>&nbsp;<span class="op" id="2182095">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2182098">r</span>&nbsp;<span class="op" id="2182100">:=</span>&nbsp;<span class="ident" id="2182103"><a href="/gostd/fmt/scan.go.html#2182051">s</a></span><span class="op" id="2182104">.</span><span class="ident" id="2182105"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2182112">(</span><span class="op" id="2182113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182116">if</span>&nbsp;<span class="ident" id="2182119"><a href="/gostd/fmt/scan.go.html#2182098">r</a></span>&nbsp;<span class="op" id="2182121">==</span>&nbsp;<span class="ident" id="2182124"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2182128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182132">return</span>&nbsp;<span class="builtintype" id="2182139">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2182146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182149">if</span>&nbsp;<span class="ident" id="2182152"><a href="/gostd/fmt/scan.go.html#2181787">indexRune</a></span><span class="op" id="2182161">(</span><span class="ident" id="2182162"><a href="/gostd/fmt/scan.go.html#2182066">ok</a></span><span class="op" id="2182164">,</span>&nbsp;<span class="ident" id="2182166"><a href="/gostd/fmt/scan.go.html#2182098">r</a></span><span class="op" id="2182167">)</span>&nbsp;<span class="op" id="2182169">&gt;=</span>&nbsp;<span class="num" id="2182172">0</span>&nbsp;<span class="op" id="2182174">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182178">if</span>&nbsp;<span class="ident" id="2182181"><a href="/gostd/fmt/scan.go.html#2182077">accept</a></span>&nbsp;<span class="op" id="2182188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2182193"><a href="/gostd/fmt/scan.go.html#2182051">s</a></span><span class="op" id="2182194">.</span><span class="ident" id="2182195"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2182198">.</span><span class="ident" id="2182199"><a href="/gostd/fmt/print.go.html#2140965">WriteRune</a></span><span class="op" id="2182208">(</span><span class="ident" id="2182209"><a href="/gostd/fmt/scan.go.html#2182098">r</a></span><span class="op" id="2182210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2182214">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182218">return</span>&nbsp;<span class="builtintype" id="2182225">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2182231">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182234">if</span>&nbsp;<span class="ident" id="2182237"><a href="/gostd/fmt/scan.go.html#2182098">r</a></span>&nbsp;<span class="op" id="2182239">!=</span>&nbsp;<span class="ident" id="2182242"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2182246">&amp;&amp;</span>&nbsp;<span class="ident" id="2182249"><a href="/gostd/fmt/scan.go.html#2182077">accept</a></span>&nbsp;<span class="op" id="2182256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2182260"><a href="/gostd/fmt/scan.go.html#2182051">s</a></span><span class="op" id="2182261">.</span><span class="ident" id="2182262"><a href="/gostd/fmt/scan.go.html#2176641">UnreadRune</a></span><span class="op" id="2182272">(</span><span class="op" id="2182273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2182276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182279">return</span>&nbsp;<span class="builtintype" id="2182286">false</span><br>
<span class="lineno"></span><span class="op" id="2182292">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span><span class="comment" id="2182295">//&nbsp;peek&nbsp;reports&nbsp;whether&nbsp;the&nbsp;next&nbsp;character&nbsp;is&nbsp;in&nbsp;the&nbsp;ok&nbsp;string,&nbsp;without&nbsp;consuming&nbsp;it.</span><br>
<span class="lineno"></span><span class="keyword" id="2182381">func</span>&nbsp;<span class="op" id="2182386">(</span><span class="ident" id="2182387">s</span>&nbsp;<span class="op" id="2182389">*</span><span class="ident" id="2182390"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2182392">)</span>&nbsp;<span class="ident" id="2182394">peek</span><span class="op" id="2182398">(</span><span class="ident" id="2182399">ok</span>&nbsp;<span class="builtintype" id="2182402">string</span><span class="op" id="2182408">)</span>&nbsp;<span class="builtintype" id="2182410">bool</span>&nbsp;<span class="op" id="2182415">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2182418">r</span>&nbsp;<span class="op" id="2182420">:=</span>&nbsp;<span class="ident" id="2182423"><a href="/gostd/fmt/scan.go.html#2182387">s</a></span><span class="op" id="2182424">.</span><span class="ident" id="2182425"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2182432">(</span><span class="op" id="2182433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182436">if</span>&nbsp;<span class="ident" id="2182439"><a href="/gostd/fmt/scan.go.html#2182418">r</a></span>&nbsp;<span class="op" id="2182441">!=</span>&nbsp;<span class="ident" id="2182444"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2182448">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2182452"><a href="/gostd/fmt/scan.go.html#2182387">s</a></span><span class="op" id="2182453">.</span><span class="ident" id="2182454"><a href="/gostd/fmt/scan.go.html#2176641">UnreadRune</a></span><span class="op" id="2182464">(</span><span class="op" id="2182465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2182468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182471">return</span>&nbsp;<span class="ident" id="2182478"><a href="/gostd/fmt/scan.go.html#2181787">indexRune</a></span><span class="op" id="2182487">(</span><span class="ident" id="2182488"><a href="/gostd/fmt/scan.go.html#2182399">ok</a></span><span class="op" id="2182490">,</span>&nbsp;<span class="ident" id="2182492"><a href="/gostd/fmt/scan.go.html#2182418">r</a></span><span class="op" id="2182493">)</span>&nbsp;<span class="op" id="2182495">&gt;=</span>&nbsp;<span class="num" id="2182498">0</span><br>
<span class="lineno"></span><span class="op" id="2182500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span><span class="keyword" id="2182503">func</span>&nbsp;<span class="op" id="2182508">(</span><span class="ident" id="2182509">s</span>&nbsp;<span class="op" id="2182511">*</span><span class="ident" id="2182512"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2182514">)</span>&nbsp;<span class="ident" id="2182516">notEOF</span><span class="op" id="2182522">(</span><span class="op" id="2182523">)</span>&nbsp;<span class="op" id="2182525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2182528">//&nbsp;Guarantee&nbsp;there&nbsp;is&nbsp;data&nbsp;to&nbsp;be&nbsp;read.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182568">if</span>&nbsp;<span class="ident" id="2182571">r</span>&nbsp;<span class="op" id="2182573">:=</span>&nbsp;<span class="ident" id="2182576"><a href="/gostd/fmt/scan.go.html#2182509">s</a></span><span class="op" id="2182577">.</span><span class="ident" id="2182578"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2182585">(</span><span class="op" id="2182586">)</span><span class="op" id="2182587">;</span>&nbsp;<span class="ident" id="2182589"><a href="/gostd/fmt/scan.go.html#2182571">r</a></span>&nbsp;<span class="op" id="2182591">==</span>&nbsp;<span class="ident" id="2182594"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2182598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2182602">panic</span><span class="op" id="2182607">(</span><span class="ident" id="2182608"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2182610">.</span><span class="ident" id="2182611"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><span class="op" id="2182614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2182617">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2182620"><a href="/gostd/fmt/scan.go.html#2182509">s</a></span><span class="op" id="2182621">.</span><span class="ident" id="2182622"><a href="/gostd/fmt/scan.go.html#2176641">UnreadRune</a></span><span class="op" id="2182632">(</span><span class="op" id="2182633">)</span><br>
<span class="lineno"></span><span class="op" id="2182635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2182638">//&nbsp;accept&nbsp;checks&nbsp;the&nbsp;next&nbsp;rune&nbsp;in&nbsp;the&nbsp;input.&nbsp;&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;byte&nbsp;(sic)&nbsp;in&nbsp;the&nbsp;string,&nbsp;it&nbsp;puts&nbsp;it&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2182738">//&nbsp;buffer&nbsp;and&nbsp;returns&nbsp;true.&nbsp;Otherwise&nbsp;it&nbsp;return&nbsp;false.</span><br>
<span class="lineno">535</span><span class="keyword" id="2182793">func</span>&nbsp;<span class="op" id="2182798">(</span><span class="ident" id="2182799">s</span>&nbsp;<span class="op" id="2182801">*</span><span class="ident" id="2182802"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2182804">)</span>&nbsp;<span class="ident" id="2182806">accept</span><span class="op" id="2182812">(</span><span class="ident" id="2182813">ok</span>&nbsp;<span class="builtintype" id="2182816">string</span><span class="op" id="2182822">)</span>&nbsp;<span class="builtintype" id="2182824">bool</span>&nbsp;<span class="op" id="2182829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2182832">return</span>&nbsp;<span class="ident" id="2182839"><a href="/gostd/fmt/scan.go.html#2182799">s</a></span><span class="op" id="2182840">.</span><span class="ident" id="2182841"><a href="/gostd/fmt/scan.go.html#2182058">consume</a></span><span class="op" id="2182848">(</span><span class="ident" id="2182849"><a href="/gostd/fmt/scan.go.html#2182813">ok</a></span><span class="op" id="2182851">,</span>&nbsp;<span class="builtintype" id="2182853">true</span><span class="op" id="2182857">)</span><br>
<span class="lineno"></span><span class="op" id="2182859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2182862">//&nbsp;okVerb&nbsp;verifies&nbsp;that&nbsp;the&nbsp;verb&nbsp;is&nbsp;present&nbsp;in&nbsp;the&nbsp;list,&nbsp;setting&nbsp;s.err&nbsp;appropriately&nbsp;if&nbsp;not.</span><br>
<span class="lineno">540</span><span class="keyword" id="2182955">func</span>&nbsp;<span class="op" id="2182960">(</span><span class="ident" id="2182961">s</span>&nbsp;<span class="op" id="2182963">*</span><span class="ident" id="2182964"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2182966">)</span>&nbsp;<span class="ident" id="2182968">okVerb</span><span class="op" id="2182974">(</span><span class="ident" id="2182975">verb</span>&nbsp;<span class="builtintype" id="2182980">rune</span><span class="op" id="2182984">,</span>&nbsp;<span class="ident" id="2182986">okVerbs</span><span class="op" id="2182993">,</span>&nbsp;<span class="ident" id="2182995">typ</span>&nbsp;<span class="builtintype" id="2182999">string</span><span class="op" id="2183005">)</span>&nbsp;<span class="builtintype" id="2183007">bool</span>&nbsp;<span class="op" id="2183012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183015">for</span>&nbsp;<span class="ident" id="2183019">_</span><span class="op" id="2183020">,</span>&nbsp;<span class="ident" id="2183022">v</span>&nbsp;<span class="op" id="2183024">:=</span>&nbsp;<span class="keyword" id="2183027">range</span>&nbsp;<span class="ident" id="2183033"><a href="/gostd/fmt/scan.go.html#2182986">okVerbs</a></span>&nbsp;<span class="op" id="2183041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183045">if</span>&nbsp;<span class="ident" id="2183048"><a href="/gostd/fmt/scan.go.html#2183022">v</a></span>&nbsp;<span class="op" id="2183050">==</span>&nbsp;<span class="ident" id="2183053"><a href="/gostd/fmt/scan.go.html#2182975">verb</a></span>&nbsp;<span class="op" id="2183058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183063">return</span>&nbsp;<span class="builtintype" id="2183070">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183077">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183083"><a href="/gostd/fmt/scan.go.html#2182961">s</a></span><span class="op" id="2183084">.</span><span class="ident" id="2183085"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2183096">(</span><span class="string" id="2183097">&#34;bad&nbsp;verb&nbsp;%&#34;</span>&nbsp;<span class="op" id="2183110">+</span>&nbsp;<span class="builtintype" id="2183112">string</span><span class="op" id="2183118">(</span><span class="ident" id="2183119"><a href="/gostd/fmt/scan.go.html#2182975">verb</a></span><span class="op" id="2183123">)</span>&nbsp;<span class="op" id="2183125">+</span>&nbsp;<span class="string" id="2183127">&#34;&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="2183135">+</span>&nbsp;<span class="ident" id="2183137"><a href="/gostd/fmt/scan.go.html#2182995">typ</a></span><span class="op" id="2183140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183143">return</span>&nbsp;<span class="builtintype" id="2183150">false</span><br>
<span class="lineno"></span><span class="op" id="2183156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="2183159">//&nbsp;scanBool&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;boolean&nbsp;represented&nbsp;by&nbsp;the&nbsp;next&nbsp;token.</span><br>
<span class="lineno"></span><span class="keyword" id="2183235">func</span>&nbsp;<span class="op" id="2183240">(</span><span class="ident" id="2183241">s</span>&nbsp;<span class="op" id="2183243">*</span><span class="ident" id="2183244"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2183246">)</span>&nbsp;<span class="ident" id="2183248">scanBool</span><span class="op" id="2183256">(</span><span class="ident" id="2183257">verb</span>&nbsp;<span class="builtintype" id="2183262">rune</span><span class="op" id="2183266">)</span>&nbsp;<span class="builtintype" id="2183268">bool</span>&nbsp;<span class="op" id="2183273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183276"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183277">.</span><span class="ident" id="2183278"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2183287">(</span><span class="builtintype" id="2183288">false</span><span class="op" id="2183293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183296"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183297">.</span><span class="ident" id="2183298"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2183304">(</span><span class="op" id="2183305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183308">if</span>&nbsp;<span class="op" id="2183311">!</span><span class="ident" id="2183312"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183313">.</span><span class="ident" id="2183314"><a href="/gostd/fmt/scan.go.html#2182968">okVerb</a></span><span class="op" id="2183320">(</span><span class="ident" id="2183321"><a href="/gostd/fmt/scan.go.html#2183257">verb</a></span><span class="op" id="2183325">,</span>&nbsp;<span class="string" id="2183327">&#34;tv&#34;</span><span class="op" id="2183331">,</span>&nbsp;<span class="string" id="2183333">&#34;boolean&#34;</span><span class="op" id="2183342">)</span>&nbsp;<span class="op" id="2183344">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183348">return</span>&nbsp;<span class="builtintype" id="2183355">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2183365">//&nbsp;Syntax-checking&nbsp;a&nbsp;boolean&nbsp;is&nbsp;annoying.&nbsp;&nbsp;We&#39;re&nbsp;not&nbsp;fastidious&nbsp;about&nbsp;case.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183442">switch</span>&nbsp;<span class="ident" id="2183449"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183450">.</span><span class="ident" id="2183451"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2183458">(</span><span class="op" id="2183459">)</span>&nbsp;<span class="op" id="2183461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183464">case</span>&nbsp;<span class="string" id="2183469">&#39;0&#39;</span><span class="op" id="2183472">:</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183476">return</span>&nbsp;<span class="builtintype" id="2183483">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183490">case</span>&nbsp;<span class="string" id="2183495">&#39;1&#39;</span><span class="op" id="2183498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183502">return</span>&nbsp;<span class="builtintype" id="2183509">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183515">case</span>&nbsp;<span class="string" id="2183520">&#39;t&#39;</span><span class="op" id="2183523">,</span>&nbsp;<span class="string" id="2183525">&#39;T&#39;</span><span class="op" id="2183528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183532">if</span>&nbsp;<span class="ident" id="2183535"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183536">.</span><span class="ident" id="2183537"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2183543">(</span><span class="string" id="2183544">&#34;rR&#34;</span><span class="op" id="2183548">)</span>&nbsp;<span class="op" id="2183550">&amp;&amp;</span>&nbsp;<span class="op" id="2183553">(</span><span class="op" id="2183554">!</span><span class="ident" id="2183555"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183556">.</span><span class="ident" id="2183557"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2183563">(</span><span class="string" id="2183564">&#34;uU&#34;</span><span class="op" id="2183568">)</span>&nbsp;<span class="op" id="2183570">||</span>&nbsp;<span class="op" id="2183573">!</span><span class="ident" id="2183574"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183575">.</span><span class="ident" id="2183576"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2183582">(</span><span class="string" id="2183583">&#34;eE&#34;</span><span class="op" id="2183587">)</span><span class="op" id="2183588">)</span>&nbsp;<span class="op" id="2183590">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183595"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183596">.</span><span class="builtintype" id="2183597"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2183602">(</span><span class="ident" id="2183603"><a href="/gostd/fmt/scan.go.html#2181725">boolError</a></span><span class="op" id="2183612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183620">return</span>&nbsp;<span class="builtintype" id="2183627">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183633">case</span>&nbsp;<span class="string" id="2183638">&#39;f&#39;</span><span class="op" id="2183641">,</span>&nbsp;<span class="string" id="2183643">&#39;F&#39;</span><span class="op" id="2183646">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183650">if</span>&nbsp;<span class="ident" id="2183653"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183654">.</span><span class="ident" id="2183655"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2183661">(</span><span class="string" id="2183662">&#34;aA&#34;</span><span class="op" id="2183666">)</span>&nbsp;<span class="op" id="2183668">&amp;&amp;</span>&nbsp;<span class="op" id="2183671">(</span><span class="op" id="2183672">!</span><span class="ident" id="2183673"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183674">.</span><span class="ident" id="2183675"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2183681">(</span><span class="string" id="2183682">&#34;lL&#34;</span><span class="op" id="2183686">)</span>&nbsp;<span class="op" id="2183688">||</span>&nbsp;<span class="op" id="2183691">!</span><span class="ident" id="2183692"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183693">.</span><span class="ident" id="2183694"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2183700">(</span><span class="string" id="2183701">&#34;sS&#34;</span><span class="op" id="2183705">)</span>&nbsp;<span class="op" id="2183707">||</span>&nbsp;<span class="op" id="2183710">!</span><span class="ident" id="2183711"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183712">.</span><span class="ident" id="2183713"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2183719">(</span><span class="string" id="2183720">&#34;eE&#34;</span><span class="op" id="2183724">)</span><span class="op" id="2183725">)</span>&nbsp;<span class="op" id="2183727">{</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183732"><a href="/gostd/fmt/scan.go.html#2183241">s</a></span><span class="op" id="2183733">.</span><span class="builtintype" id="2183734"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2183739">(</span><span class="ident" id="2183740"><a href="/gostd/fmt/scan.go.html#2181725">boolError</a></span><span class="op" id="2183749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183757">return</span>&nbsp;<span class="builtintype" id="2183764">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183771">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2183774">return</span>&nbsp;<span class="builtintype" id="2183781">false</span><br>
<span class="lineno">575</span><span class="op" id="2183787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2183790">//&nbsp;Numerical&nbsp;elements</span><br>
<span class="lineno"></span><span class="keyword" id="2183812">const</span>&nbsp;<span class="op" id="2183818">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183821">binaryDigits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183839">=</span>&nbsp;<span class="string" id="2183841">&#34;01&#34;</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183847">octalDigits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183865">=</span>&nbsp;<span class="string" id="2183867">&#34;01234567&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183879">decimalDigits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183897">=</span>&nbsp;<span class="string" id="2183899">&#34;0123456789&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183913">hexadecimalDigits</span>&nbsp;<span class="op" id="2183931">=</span>&nbsp;<span class="string" id="2183933">&#34;0123456789aAbBcCdDeEfF&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183959">sign</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2183977">=</span>&nbsp;<span class="string" id="2183979">&#34;+-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2183985">period</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2184003">=</span>&nbsp;<span class="string" id="2184005">&#34;.&#34;</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184010">exponent</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2184028">=</span>&nbsp;<span class="string" id="2184030">&#34;eEp&#34;</span><br>
<span class="lineno"></span><span class="op" id="2184036">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2184039">//&nbsp;getBase&nbsp;returns&nbsp;the&nbsp;numeric&nbsp;base&nbsp;represented&nbsp;by&nbsp;the&nbsp;verb&nbsp;and&nbsp;its&nbsp;digit&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2184121">func</span>&nbsp;<span class="op" id="2184126">(</span><span class="ident" id="2184127">s</span>&nbsp;<span class="op" id="2184129">*</span><span class="ident" id="2184130"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2184132">)</span>&nbsp;<span class="ident" id="2184134">getBase</span><span class="op" id="2184141">(</span><span class="ident" id="2184142">verb</span>&nbsp;<span class="builtintype" id="2184147">rune</span><span class="op" id="2184151">)</span>&nbsp;<span class="op" id="2184153">(</span><span class="ident" id="2184154">base</span>&nbsp;<span class="builtintype" id="2184159">int</span><span class="op" id="2184162">,</span>&nbsp;<span class="ident" id="2184164">digits</span>&nbsp;<span class="builtintype" id="2184171">string</span><span class="op" id="2184177">)</span>&nbsp;<span class="op" id="2184179">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184182"><a href="/gostd/fmt/scan.go.html#2184127">s</a></span><span class="op" id="2184183">.</span><span class="ident" id="2184184"><a href="/gostd/fmt/scan.go.html#2182968">okVerb</a></span><span class="op" id="2184190">(</span><span class="ident" id="2184191"><a href="/gostd/fmt/scan.go.html#2184142">verb</a></span><span class="op" id="2184195">,</span>&nbsp;<span class="string" id="2184197">&#34;bdoUxXv&#34;</span><span class="op" id="2184206">,</span>&nbsp;<span class="string" id="2184208">&#34;integer&#34;</span><span class="op" id="2184217">)</span>&nbsp;<span class="comment" id="2184219">//&nbsp;sets&nbsp;s.err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184234"><a href="/gostd/fmt/scan.go.html#2184154">base</a></span>&nbsp;<span class="op" id="2184239">=</span>&nbsp;<span class="num" id="2184241">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184245"><a href="/gostd/fmt/scan.go.html#2184164">digits</a></span>&nbsp;<span class="op" id="2184252">=</span>&nbsp;<span class="ident" id="2184254"><a href="/gostd/fmt/scan.go.html#2183879">decimalDigits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184269">switch</span>&nbsp;<span class="ident" id="2184276"><a href="/gostd/fmt/scan.go.html#2184142">verb</a></span>&nbsp;<span class="op" id="2184281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184284">case</span>&nbsp;<span class="string" id="2184289">&#39;b&#39;</span><span class="op" id="2184292">:</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184296"><a href="/gostd/fmt/scan.go.html#2184154">base</a></span>&nbsp;<span class="op" id="2184301">=</span>&nbsp;<span class="num" id="2184303">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184307"><a href="/gostd/fmt/scan.go.html#2184164">digits</a></span>&nbsp;<span class="op" id="2184314">=</span>&nbsp;<span class="ident" id="2184316"><a href="/gostd/fmt/scan.go.html#2183821">binaryDigits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184330">case</span>&nbsp;<span class="string" id="2184335">&#39;o&#39;</span><span class="op" id="2184338">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184342"><a href="/gostd/fmt/scan.go.html#2184154">base</a></span>&nbsp;<span class="op" id="2184347">=</span>&nbsp;<span class="num" id="2184349">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184353"><a href="/gostd/fmt/scan.go.html#2184164">digits</a></span>&nbsp;<span class="op" id="2184360">=</span>&nbsp;<span class="ident" id="2184362"><a href="/gostd/fmt/scan.go.html#2183847">octalDigits</a></span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184375">case</span>&nbsp;<span class="string" id="2184380">&#39;x&#39;</span><span class="op" id="2184383">,</span>&nbsp;<span class="string" id="2184385">&#39;X&#39;</span><span class="op" id="2184388">,</span>&nbsp;<span class="string" id="2184390">&#39;U&#39;</span><span class="op" id="2184393">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184397"><a href="/gostd/fmt/scan.go.html#2184154">base</a></span>&nbsp;<span class="op" id="2184402">=</span>&nbsp;<span class="num" id="2184404">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184409"><a href="/gostd/fmt/scan.go.html#2184164">digits</a></span>&nbsp;<span class="op" id="2184416">=</span>&nbsp;<span class="ident" id="2184418"><a href="/gostd/fmt/scan.go.html#2183913">hexadecimalDigits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2184437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184440">return</span><br>
<span class="lineno">605</span><span class="op" id="2184447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2184450">//&nbsp;scanNumber&nbsp;returns&nbsp;the&nbsp;numerical&nbsp;string&nbsp;with&nbsp;specified&nbsp;digits&nbsp;starting&nbsp;here.</span><br>
<span class="lineno"></span><span class="keyword" id="2184530">func</span>&nbsp;<span class="op" id="2184535">(</span><span class="ident" id="2184536">s</span>&nbsp;<span class="op" id="2184538">*</span><span class="ident" id="2184539"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2184541">)</span>&nbsp;<span class="ident" id="2184543">scanNumber</span><span class="op" id="2184553">(</span><span class="ident" id="2184554">digits</span>&nbsp;<span class="builtintype" id="2184561">string</span><span class="op" id="2184567">,</span>&nbsp;<span class="ident" id="2184569">haveDigits</span>&nbsp;<span class="builtintype" id="2184580">bool</span><span class="op" id="2184584">)</span>&nbsp;<span class="builtintype" id="2184586">string</span>&nbsp;<span class="op" id="2184593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184596">if</span>&nbsp;<span class="op" id="2184599">!</span><span class="ident" id="2184600"><a href="/gostd/fmt/scan.go.html#2184569">haveDigits</a></span>&nbsp;<span class="op" id="2184611">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184615"><a href="/gostd/fmt/scan.go.html#2184536">s</a></span><span class="op" id="2184616">.</span><span class="ident" id="2184617"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2184623">(</span><span class="op" id="2184624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184628">if</span>&nbsp;<span class="op" id="2184631">!</span><span class="ident" id="2184632"><a href="/gostd/fmt/scan.go.html#2184536">s</a></span><span class="op" id="2184633">.</span><span class="ident" id="2184634"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2184640">(</span><span class="ident" id="2184641"><a href="/gostd/fmt/scan.go.html#2184554">digits</a></span><span class="op" id="2184647">)</span>&nbsp;<span class="op" id="2184649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184654"><a href="/gostd/fmt/scan.go.html#2184536">s</a></span><span class="op" id="2184655">.</span><span class="ident" id="2184656"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2184667">(</span><span class="string" id="2184668">&#34;expected&nbsp;integer&#34;</span><span class="op" id="2184686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2184690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2184693">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184696">for</span>&nbsp;<span class="ident" id="2184700"><a href="/gostd/fmt/scan.go.html#2184536">s</a></span><span class="op" id="2184701">.</span><span class="ident" id="2184702"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2184708">(</span><span class="ident" id="2184709"><a href="/gostd/fmt/scan.go.html#2184554">digits</a></span><span class="op" id="2184715">)</span>&nbsp;<span class="op" id="2184717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2184720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184723">return</span>&nbsp;<span class="builtintype" id="2184730">string</span><span class="op" id="2184736">(</span><span class="ident" id="2184737"><a href="/gostd/fmt/scan.go.html#2184536">s</a></span><span class="op" id="2184738">.</span><span class="ident" id="2184739"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2184742">)</span><br>
<span class="lineno"></span><span class="op" id="2184744">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">620</span><span class="comment" id="2184747">//&nbsp;scanRune&nbsp;returns&nbsp;the&nbsp;next&nbsp;rune&nbsp;value&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="keyword" id="2184801">func</span>&nbsp;<span class="op" id="2184806">(</span><span class="ident" id="2184807">s</span>&nbsp;<span class="op" id="2184809">*</span><span class="ident" id="2184810"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2184812">)</span>&nbsp;<span class="ident" id="2184814">scanRune</span><span class="op" id="2184822">(</span><span class="ident" id="2184823">bitSize</span>&nbsp;<span class="builtintype" id="2184831">int</span><span class="op" id="2184834">)</span>&nbsp;<span class="builtintype" id="2184836">int64</span>&nbsp;<span class="op" id="2184842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184845"><a href="/gostd/fmt/scan.go.html#2184807">s</a></span><span class="op" id="2184846">.</span><span class="ident" id="2184847"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2184853">(</span><span class="op" id="2184854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184857">r</span>&nbsp;<span class="op" id="2184859">:=</span>&nbsp;<span class="builtintype" id="2184862">int64</span><span class="op" id="2184867">(</span><span class="ident" id="2184868"><a href="/gostd/fmt/scan.go.html#2184807">s</a></span><span class="op" id="2184869">.</span><span class="ident" id="2184870"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2184877">(</span><span class="op" id="2184878">)</span><span class="op" id="2184879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184882">n</span>&nbsp;<span class="op" id="2184884">:=</span>&nbsp;<span class="builtintype" id="2184887">uint</span><span class="op" id="2184891">(</span><span class="ident" id="2184892"><a href="/gostd/fmt/scan.go.html#2184823">bitSize</a></span><span class="op" id="2184899">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184902">x</span>&nbsp;<span class="op" id="2184904">:=</span>&nbsp;<span class="op" id="2184907">(</span><span class="ident" id="2184908"><a href="/gostd/fmt/scan.go.html#2184857">r</a></span>&nbsp;<span class="op" id="2184910">&lt;&lt;</span>&nbsp;<span class="op" id="2184913">(</span><span class="num" id="2184914">64</span>&nbsp;<span class="op" id="2184917">-</span>&nbsp;<span class="ident" id="2184919"><a href="/gostd/fmt/scan.go.html#2184882">n</a></span><span class="op" id="2184920">)</span><span class="op" id="2184921">)</span>&nbsp;<span class="op" id="2184923">&gt;&gt;</span>&nbsp;<span class="op" id="2184926">(</span><span class="num" id="2184927">64</span>&nbsp;<span class="op" id="2184930">-</span>&nbsp;<span class="ident" id="2184932"><a href="/gostd/fmt/scan.go.html#2184882">n</a></span><span class="op" id="2184933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2184936">if</span>&nbsp;<span class="ident" id="2184939"><a href="/gostd/fmt/scan.go.html#2184902">x</a></span>&nbsp;<span class="op" id="2184941">!=</span>&nbsp;<span class="ident" id="2184944"><a href="/gostd/fmt/scan.go.html#2184857">r</a></span>&nbsp;<span class="op" id="2184946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2184950"><a href="/gostd/fmt/scan.go.html#2184807">s</a></span><span class="op" id="2184951">.</span><span class="ident" id="2184952"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2184963">(</span><span class="string" id="2184964">&#34;overflow&nbsp;on&nbsp;character&nbsp;value&nbsp;&#34;</span>&nbsp;<span class="op" id="2184995">+</span>&nbsp;<span class="builtintype" id="2184997">string</span><span class="op" id="2185003">(</span><span class="ident" id="2185004"><a href="/gostd/fmt/scan.go.html#2184857">r</a></span><span class="op" id="2185005">)</span><span class="op" id="2185006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2185009">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185012">return</span>&nbsp;<span class="ident" id="2185019"><a href="/gostd/fmt/scan.go.html#2184857">r</a></span><br>
<span class="lineno">630</span><span class="op" id="2185021">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2185024">//&nbsp;scanBasePrefix&nbsp;reports&nbsp;whether&nbsp;the&nbsp;integer&nbsp;begins&nbsp;with&nbsp;a&nbsp;0&nbsp;or&nbsp;0x,</span><br>
<span class="lineno"></span><span class="comment" id="2185093">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;base,&nbsp;digit&nbsp;string,&nbsp;and&nbsp;whether&nbsp;a&nbsp;zero&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="comment" id="2185162">//&nbsp;It&nbsp;is&nbsp;called&nbsp;only&nbsp;if&nbsp;the&nbsp;verb&nbsp;is&nbsp;%v.</span><br>
<span class="lineno">635</span><span class="keyword" id="2185202">func</span>&nbsp;<span class="op" id="2185207">(</span><span class="ident" id="2185208">s</span>&nbsp;<span class="op" id="2185210">*</span><span class="ident" id="2185211"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2185213">)</span>&nbsp;<span class="ident" id="2185215">scanBasePrefix</span><span class="op" id="2185229">(</span><span class="op" id="2185230">)</span>&nbsp;<span class="op" id="2185232">(</span><span class="ident" id="2185233">base</span>&nbsp;<span class="builtintype" id="2185238">int</span><span class="op" id="2185241">,</span>&nbsp;<span class="ident" id="2185243">digits</span>&nbsp;<span class="builtintype" id="2185250">string</span><span class="op" id="2185256">,</span>&nbsp;<span class="ident" id="2185258">found</span>&nbsp;<span class="builtintype" id="2185264">bool</span><span class="op" id="2185268">)</span>&nbsp;<span class="op" id="2185270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185273">if</span>&nbsp;<span class="op" id="2185276">!</span><span class="ident" id="2185277"><a href="/gostd/fmt/scan.go.html#2185208">s</a></span><span class="op" id="2185278">.</span><span class="ident" id="2185279"><a href="/gostd/fmt/scan.go.html#2182394">peek</a></span><span class="op" id="2185283">(</span><span class="string" id="2185284">&#34;0&#34;</span><span class="op" id="2185287">)</span>&nbsp;<span class="op" id="2185289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185293">return</span>&nbsp;<span class="num" id="2185300">10</span><span class="op" id="2185302">,</span>&nbsp;<span class="ident" id="2185304"><a href="/gostd/fmt/scan.go.html#2183879">decimalDigits</a></span><span class="op" id="2185317">,</span>&nbsp;<span class="builtintype" id="2185319">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2185326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185329"><a href="/gostd/fmt/scan.go.html#2185208">s</a></span><span class="op" id="2185330">.</span><span class="ident" id="2185331"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2185337">(</span><span class="string" id="2185338">&#34;0&#34;</span><span class="op" id="2185341">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185344"><a href="/gostd/fmt/scan.go.html#2185258">found</a></span>&nbsp;<span class="op" id="2185350">=</span>&nbsp;<span class="builtintype" id="2185352">true</span>&nbsp;<span class="comment" id="2185357">//&nbsp;We&#39;ve&nbsp;put&nbsp;a&nbsp;digit&nbsp;into&nbsp;the&nbsp;token&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2185402">//&nbsp;Special&nbsp;cases&nbsp;for&nbsp;&#39;0&#39;&nbsp;&amp;&amp;&nbsp;&#39;0x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185436"><a href="/gostd/fmt/scan.go.html#2185233">base</a></span><span class="op" id="2185440">,</span>&nbsp;<span class="ident" id="2185442"><a href="/gostd/fmt/scan.go.html#2185243">digits</a></span>&nbsp;<span class="op" id="2185449">=</span>&nbsp;<span class="num" id="2185451">8</span><span class="op" id="2185452">,</span>&nbsp;<span class="ident" id="2185454"><a href="/gostd/fmt/scan.go.html#2183847">octalDigits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185467">if</span>&nbsp;<span class="ident" id="2185470"><a href="/gostd/fmt/scan.go.html#2185208">s</a></span><span class="op" id="2185471">.</span><span class="ident" id="2185472"><a href="/gostd/fmt/scan.go.html#2182394">peek</a></span><span class="op" id="2185476">(</span><span class="string" id="2185477">&#34;xX&#34;</span><span class="op" id="2185481">)</span>&nbsp;<span class="op" id="2185483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185487"><a href="/gostd/fmt/scan.go.html#2185208">s</a></span><span class="op" id="2185488">.</span><span class="ident" id="2185489"><a href="/gostd/fmt/scan.go.html#2182058">consume</a></span><span class="op" id="2185496">(</span><span class="string" id="2185497">&#34;xX&#34;</span><span class="op" id="2185501">,</span>&nbsp;<span class="builtintype" id="2185503">false</span><span class="op" id="2185508">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185512"><a href="/gostd/fmt/scan.go.html#2185233">base</a></span><span class="op" id="2185516">,</span>&nbsp;<span class="ident" id="2185518"><a href="/gostd/fmt/scan.go.html#2185243">digits</a></span>&nbsp;<span class="op" id="2185525">=</span>&nbsp;<span class="num" id="2185527">16</span><span class="op" id="2185529">,</span>&nbsp;<span class="ident" id="2185531"><a href="/gostd/fmt/scan.go.html#2183913">hexadecimalDigits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2185550">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185553">return</span><br>
<span class="lineno"></span><span class="op" id="2185560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2185563">//&nbsp;scanInt&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;integer&nbsp;represented&nbsp;by&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span><span class="comment" id="2185631">//&nbsp;token,&nbsp;checking&nbsp;for&nbsp;overflow.&nbsp;&nbsp;Any&nbsp;error&nbsp;is&nbsp;stored&nbsp;in&nbsp;s.err.</span><br>
<span class="lineno"></span><span class="keyword" id="2185695">func</span>&nbsp;<span class="op" id="2185700">(</span><span class="ident" id="2185701">s</span>&nbsp;<span class="op" id="2185703">*</span><span class="ident" id="2185704"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2185706">)</span>&nbsp;<span class="ident" id="2185708">scanInt</span><span class="op" id="2185715">(</span><span class="ident" id="2185716">verb</span>&nbsp;<span class="builtintype" id="2185721">rune</span><span class="op" id="2185725">,</span>&nbsp;<span class="ident" id="2185727">bitSize</span>&nbsp;<span class="builtintype" id="2185735">int</span><span class="op" id="2185738">)</span>&nbsp;<span class="builtintype" id="2185740">int64</span>&nbsp;<span class="op" id="2185746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185749">if</span>&nbsp;<span class="ident" id="2185752"><a href="/gostd/fmt/scan.go.html#2185716">verb</a></span>&nbsp;<span class="op" id="2185757">==</span>&nbsp;<span class="string" id="2185760">&#39;c&#39;</span>&nbsp;<span class="op" id="2185764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185768">return</span>&nbsp;<span class="ident" id="2185775"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2185776">.</span><span class="ident" id="2185777"><a href="/gostd/fmt/scan.go.html#2184814">scanRune</a></span><span class="op" id="2185785">(</span><span class="ident" id="2185786"><a href="/gostd/fmt/scan.go.html#2185727">bitSize</a></span><span class="op" id="2185793">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2185796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185799"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2185800">.</span><span class="ident" id="2185801"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2185810">(</span><span class="builtintype" id="2185811">false</span><span class="op" id="2185816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185819"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2185820">.</span><span class="ident" id="2185821"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2185827">(</span><span class="op" id="2185828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185831">base</span><span class="op" id="2185835">,</span>&nbsp;<span class="ident" id="2185837">digits</span>&nbsp;<span class="op" id="2185844">:=</span>&nbsp;<span class="ident" id="2185847"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2185848">.</span><span class="ident" id="2185849"><a href="/gostd/fmt/scan.go.html#2184134">getBase</a></span><span class="op" id="2185856">(</span><span class="ident" id="2185857"><a href="/gostd/fmt/scan.go.html#2185716">verb</a></span><span class="op" id="2185861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185864">haveDigits</span>&nbsp;<span class="op" id="2185875">:=</span>&nbsp;<span class="builtintype" id="2185878">false</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185885">if</span>&nbsp;<span class="ident" id="2185888"><a href="/gostd/fmt/scan.go.html#2185716">verb</a></span>&nbsp;<span class="op" id="2185893">==</span>&nbsp;<span class="string" id="2185896">&#39;U&#39;</span>&nbsp;<span class="op" id="2185900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2185904">if</span>&nbsp;<span class="op" id="2185907">!</span><span class="ident" id="2185908"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2185909">.</span><span class="ident" id="2185910"><a href="/gostd/fmt/scan.go.html#2182058">consume</a></span><span class="op" id="2185917">(</span><span class="string" id="2185918">&#34;U&#34;</span><span class="op" id="2185921">,</span>&nbsp;<span class="builtintype" id="2185923">false</span><span class="op" id="2185928">)</span>&nbsp;<span class="op" id="2185930">||</span>&nbsp;<span class="op" id="2185933">!</span><span class="ident" id="2185934"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2185935">.</span><span class="ident" id="2185936"><a href="/gostd/fmt/scan.go.html#2182058">consume</a></span><span class="op" id="2185943">(</span><span class="string" id="2185944">&#34;+&#34;</span><span class="op" id="2185947">,</span>&nbsp;<span class="builtintype" id="2185949">false</span><span class="op" id="2185954">)</span>&nbsp;<span class="op" id="2185956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2185961"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2185962">.</span><span class="ident" id="2185963"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2185974">(</span><span class="string" id="2185975">&#34;bad&nbsp;unicode&nbsp;format&nbsp;&#34;</span><span class="op" id="2185996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186003">}</span>&nbsp;<span class="keyword" id="2186005">else</span>&nbsp;<span class="op" id="2186010">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186014"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2186015">.</span><span class="ident" id="2186016"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2186022">(</span><span class="ident" id="2186023"><a href="/gostd/fmt/scan.go.html#2183959">sign</a></span><span class="op" id="2186027">)</span>&nbsp;<span class="comment" id="2186029">//&nbsp;If&nbsp;there&#39;s&nbsp;a&nbsp;sign,&nbsp;it&nbsp;will&nbsp;be&nbsp;left&nbsp;in&nbsp;the&nbsp;token&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186090">if</span>&nbsp;<span class="ident" id="2186093"><a href="/gostd/fmt/scan.go.html#2185716">verb</a></span>&nbsp;<span class="op" id="2186098">==</span>&nbsp;<span class="string" id="2186101">&#39;v&#39;</span>&nbsp;<span class="op" id="2186105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186110"><a href="/gostd/fmt/scan.go.html#2185831">base</a></span><span class="op" id="2186114">,</span>&nbsp;<span class="ident" id="2186116"><a href="/gostd/fmt/scan.go.html#2185837">digits</a></span><span class="op" id="2186122">,</span>&nbsp;<span class="ident" id="2186124"><a href="/gostd/fmt/scan.go.html#2185864">haveDigits</a></span>&nbsp;<span class="op" id="2186135">=</span>&nbsp;<span class="ident" id="2186137"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2186138">.</span><span class="ident" id="2186139"><a href="/gostd/fmt/scan.go.html#2185215">scanBasePrefix</a></span><span class="op" id="2186153">(</span><span class="op" id="2186154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186161">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186164">tok</span>&nbsp;<span class="op" id="2186168">:=</span>&nbsp;<span class="ident" id="2186171"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2186172">.</span><span class="ident" id="2186173"><a href="/gostd/fmt/scan.go.html#2184543">scanNumber</a></span><span class="op" id="2186183">(</span><span class="ident" id="2186184"><a href="/gostd/fmt/scan.go.html#2185837">digits</a></span><span class="op" id="2186190">,</span>&nbsp;<span class="ident" id="2186192"><a href="/gostd/fmt/scan.go.html#2185864">haveDigits</a></span><span class="op" id="2186202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186205">i</span><span class="op" id="2186206">,</span>&nbsp;<span class="ident" id="2186208">err</span>&nbsp;<span class="op" id="2186212">:=</span>&nbsp;<span class="ident" id="2186215"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2186222">.</span><span class="ident" id="2186223"><a href="/gostd/strconv/atoi.go.html#2356133">ParseInt</a></span><span class="op" id="2186231">(</span><span class="ident" id="2186232"><a href="/gostd/fmt/scan.go.html#2186164">tok</a></span><span class="op" id="2186235">,</span>&nbsp;<span class="ident" id="2186237"><a href="/gostd/fmt/scan.go.html#2185831">base</a></span><span class="op" id="2186241">,</span>&nbsp;<span class="num" id="2186243">64</span><span class="op" id="2186245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186248">if</span>&nbsp;<span class="ident" id="2186251"><a href="/gostd/fmt/scan.go.html#2186208">err</a></span>&nbsp;<span class="op" id="2186255">!=</span>&nbsp;<span class="builtintype" id="2186258">nil</span>&nbsp;<span class="op" id="2186262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186266"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2186267">.</span><span class="builtintype" id="2186268"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2186273">(</span><span class="ident" id="2186274"><a href="/gostd/fmt/scan.go.html#2186208">err</a></span><span class="op" id="2186277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186280">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186283">n</span>&nbsp;<span class="op" id="2186285">:=</span>&nbsp;<span class="builtintype" id="2186288">uint</span><span class="op" id="2186292">(</span><span class="ident" id="2186293"><a href="/gostd/fmt/scan.go.html#2185727">bitSize</a></span><span class="op" id="2186300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186303">x</span>&nbsp;<span class="op" id="2186305">:=</span>&nbsp;<span class="op" id="2186308">(</span><span class="ident" id="2186309"><a href="/gostd/fmt/scan.go.html#2186205">i</a></span>&nbsp;<span class="op" id="2186311">&lt;&lt;</span>&nbsp;<span class="op" id="2186314">(</span><span class="num" id="2186315">64</span>&nbsp;<span class="op" id="2186318">-</span>&nbsp;<span class="ident" id="2186320"><a href="/gostd/fmt/scan.go.html#2186283">n</a></span><span class="op" id="2186321">)</span><span class="op" id="2186322">)</span>&nbsp;<span class="op" id="2186324">&gt;&gt;</span>&nbsp;<span class="op" id="2186327">(</span><span class="num" id="2186328">64</span>&nbsp;<span class="op" id="2186331">-</span>&nbsp;<span class="ident" id="2186333"><a href="/gostd/fmt/scan.go.html#2186283">n</a></span><span class="op" id="2186334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186337">if</span>&nbsp;<span class="ident" id="2186340"><a href="/gostd/fmt/scan.go.html#2186303">x</a></span>&nbsp;<span class="op" id="2186342">!=</span>&nbsp;<span class="ident" id="2186345"><a href="/gostd/fmt/scan.go.html#2186205">i</a></span>&nbsp;<span class="op" id="2186347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186351"><a href="/gostd/fmt/scan.go.html#2185701">s</a></span><span class="op" id="2186352">.</span><span class="ident" id="2186353"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2186364">(</span><span class="string" id="2186365">&#34;integer&nbsp;overflow&nbsp;on&nbsp;token&nbsp;&#34;</span>&nbsp;<span class="op" id="2186394">+</span>&nbsp;<span class="ident" id="2186396"><a href="/gostd/fmt/scan.go.html#2186164">tok</a></span><span class="op" id="2186399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186402">}</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186405">return</span>&nbsp;<span class="ident" id="2186412"><a href="/gostd/fmt/scan.go.html#2186205">i</a></span><br>
<span class="lineno"></span><span class="op" id="2186414">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2186417">//&nbsp;scanUint&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;unsigned&nbsp;integer&nbsp;represented</span><br>
<span class="lineno"></span><span class="comment" id="2186483">//&nbsp;by&nbsp;the&nbsp;next&nbsp;token,&nbsp;checking&nbsp;for&nbsp;overflow.&nbsp;&nbsp;Any&nbsp;error&nbsp;is&nbsp;stored&nbsp;in&nbsp;s.err.</span><br>
<span class="lineno">685</span><span class="keyword" id="2186559">func</span>&nbsp;<span class="op" id="2186564">(</span><span class="ident" id="2186565">s</span>&nbsp;<span class="op" id="2186567">*</span><span class="ident" id="2186568"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2186570">)</span>&nbsp;<span class="ident" id="2186572">scanUint</span><span class="op" id="2186580">(</span><span class="ident" id="2186581">verb</span>&nbsp;<span class="builtintype" id="2186586">rune</span><span class="op" id="2186590">,</span>&nbsp;<span class="ident" id="2186592">bitSize</span>&nbsp;<span class="builtintype" id="2186600">int</span><span class="op" id="2186603">)</span>&nbsp;<span class="builtintype" id="2186605">uint64</span>&nbsp;<span class="op" id="2186612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186615">if</span>&nbsp;<span class="ident" id="2186618"><a href="/gostd/fmt/scan.go.html#2186581">verb</a></span>&nbsp;<span class="op" id="2186623">==</span>&nbsp;<span class="string" id="2186626">&#39;c&#39;</span>&nbsp;<span class="op" id="2186630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186634">return</span>&nbsp;<span class="builtintype" id="2186641">uint64</span><span class="op" id="2186647">(</span><span class="ident" id="2186648"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186649">.</span><span class="ident" id="2186650"><a href="/gostd/fmt/scan.go.html#2184814">scanRune</a></span><span class="op" id="2186658">(</span><span class="ident" id="2186659"><a href="/gostd/fmt/scan.go.html#2186592">bitSize</a></span><span class="op" id="2186666">)</span><span class="op" id="2186667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186673"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186674">.</span><span class="ident" id="2186675"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2186684">(</span><span class="builtintype" id="2186685">false</span><span class="op" id="2186690">)</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186693"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186694">.</span><span class="ident" id="2186695"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2186701">(</span><span class="op" id="2186702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186705">base</span><span class="op" id="2186709">,</span>&nbsp;<span class="ident" id="2186711">digits</span>&nbsp;<span class="op" id="2186718">:=</span>&nbsp;<span class="ident" id="2186721"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186722">.</span><span class="ident" id="2186723"><a href="/gostd/fmt/scan.go.html#2184134">getBase</a></span><span class="op" id="2186730">(</span><span class="ident" id="2186731"><a href="/gostd/fmt/scan.go.html#2186581">verb</a></span><span class="op" id="2186735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186738">haveDigits</span>&nbsp;<span class="op" id="2186749">:=</span>&nbsp;<span class="builtintype" id="2186752">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186759">if</span>&nbsp;<span class="ident" id="2186762"><a href="/gostd/fmt/scan.go.html#2186581">verb</a></span>&nbsp;<span class="op" id="2186767">==</span>&nbsp;<span class="string" id="2186770">&#39;U&#39;</span>&nbsp;<span class="op" id="2186774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2186778">if</span>&nbsp;<span class="op" id="2186781">!</span><span class="ident" id="2186782"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186783">.</span><span class="ident" id="2186784"><a href="/gostd/fmt/scan.go.html#2182058">consume</a></span><span class="op" id="2186791">(</span><span class="string" id="2186792">&#34;U&#34;</span><span class="op" id="2186795">,</span>&nbsp;<span class="builtintype" id="2186797">false</span><span class="op" id="2186802">)</span>&nbsp;<span class="op" id="2186804">||</span>&nbsp;<span class="op" id="2186807">!</span><span class="ident" id="2186808"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186809">.</span><span class="ident" id="2186810"><a href="/gostd/fmt/scan.go.html#2182058">consume</a></span><span class="op" id="2186817">(</span><span class="string" id="2186818">&#34;+&#34;</span><span class="op" id="2186821">,</span>&nbsp;<span class="builtintype" id="2186823">false</span><span class="op" id="2186828">)</span>&nbsp;<span class="op" id="2186830">{</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186835"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186836">.</span><span class="ident" id="2186837"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2186848">(</span><span class="string" id="2186849">&#34;bad&nbsp;unicode&nbsp;format&nbsp;&#34;</span><span class="op" id="2186870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186877">}</span>&nbsp;<span class="keyword" id="2186879">else</span>&nbsp;<span class="keyword" id="2186884">if</span>&nbsp;<span class="ident" id="2186887"><a href="/gostd/fmt/scan.go.html#2186581">verb</a></span>&nbsp;<span class="op" id="2186892">==</span>&nbsp;<span class="string" id="2186895">&#39;v&#39;</span>&nbsp;<span class="op" id="2186899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186903"><a href="/gostd/fmt/scan.go.html#2186705">base</a></span><span class="op" id="2186907">,</span>&nbsp;<span class="ident" id="2186909"><a href="/gostd/fmt/scan.go.html#2186711">digits</a></span><span class="op" id="2186915">,</span>&nbsp;<span class="ident" id="2186917"><a href="/gostd/fmt/scan.go.html#2186738">haveDigits</a></span>&nbsp;<span class="op" id="2186928">=</span>&nbsp;<span class="ident" id="2186930"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186931">.</span><span class="ident" id="2186932"><a href="/gostd/fmt/scan.go.html#2185215">scanBasePrefix</a></span><span class="op" id="2186946">(</span><span class="op" id="2186947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2186950">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186953">tok</span>&nbsp;<span class="op" id="2186957">:=</span>&nbsp;<span class="ident" id="2186960"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2186961">.</span><span class="ident" id="2186962"><a href="/gostd/fmt/scan.go.html#2184543">scanNumber</a></span><span class="op" id="2186972">(</span><span class="ident" id="2186973"><a href="/gostd/fmt/scan.go.html#2186711">digits</a></span><span class="op" id="2186979">,</span>&nbsp;<span class="ident" id="2186981"><a href="/gostd/fmt/scan.go.html#2186738">haveDigits</a></span><span class="op" id="2186991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2186994">i</span><span class="op" id="2186995">,</span>&nbsp;<span class="ident" id="2186997">err</span>&nbsp;<span class="op" id="2187001">:=</span>&nbsp;<span class="ident" id="2187004"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2187011">.</span><span class="ident" id="2187012"><a href="/gostd/strconv/atoi.go.html#2353976">ParseUint</a></span><span class="op" id="2187021">(</span><span class="ident" id="2187022"><a href="/gostd/fmt/scan.go.html#2186953">tok</a></span><span class="op" id="2187025">,</span>&nbsp;<span class="ident" id="2187027"><a href="/gostd/fmt/scan.go.html#2186705">base</a></span><span class="op" id="2187031">,</span>&nbsp;<span class="num" id="2187033">64</span><span class="op" id="2187035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187038">if</span>&nbsp;<span class="ident" id="2187041"><a href="/gostd/fmt/scan.go.html#2186997">err</a></span>&nbsp;<span class="op" id="2187045">!=</span>&nbsp;<span class="builtintype" id="2187048">nil</span>&nbsp;<span class="op" id="2187052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2187056"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2187057">.</span><span class="builtintype" id="2187058"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2187063">(</span><span class="ident" id="2187064"><a href="/gostd/fmt/scan.go.html#2186997">err</a></span><span class="op" id="2187067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187070">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2187073">n</span>&nbsp;<span class="op" id="2187075">:=</span>&nbsp;<span class="builtintype" id="2187078">uint</span><span class="op" id="2187082">(</span><span class="ident" id="2187083"><a href="/gostd/fmt/scan.go.html#2186592">bitSize</a></span><span class="op" id="2187090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2187093">x</span>&nbsp;<span class="op" id="2187095">:=</span>&nbsp;<span class="op" id="2187098">(</span><span class="ident" id="2187099"><a href="/gostd/fmt/scan.go.html#2186994">i</a></span>&nbsp;<span class="op" id="2187101">&lt;&lt;</span>&nbsp;<span class="op" id="2187104">(</span><span class="num" id="2187105">64</span>&nbsp;<span class="op" id="2187108">-</span>&nbsp;<span class="ident" id="2187110"><a href="/gostd/fmt/scan.go.html#2187073">n</a></span><span class="op" id="2187111">)</span><span class="op" id="2187112">)</span>&nbsp;<span class="op" id="2187114">&gt;&gt;</span>&nbsp;<span class="op" id="2187117">(</span><span class="num" id="2187118">64</span>&nbsp;<span class="op" id="2187121">-</span>&nbsp;<span class="ident" id="2187123"><a href="/gostd/fmt/scan.go.html#2187073">n</a></span><span class="op" id="2187124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187127">if</span>&nbsp;<span class="ident" id="2187130"><a href="/gostd/fmt/scan.go.html#2187093">x</a></span>&nbsp;<span class="op" id="2187132">!=</span>&nbsp;<span class="ident" id="2187135"><a href="/gostd/fmt/scan.go.html#2186994">i</a></span>&nbsp;<span class="op" id="2187137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2187141"><a href="/gostd/fmt/scan.go.html#2186565">s</a></span><span class="op" id="2187142">.</span><span class="ident" id="2187143"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2187154">(</span><span class="string" id="2187155">&#34;unsigned&nbsp;integer&nbsp;overflow&nbsp;on&nbsp;token&nbsp;&#34;</span>&nbsp;<span class="op" id="2187193">+</span>&nbsp;<span class="ident" id="2187195"><a href="/gostd/fmt/scan.go.html#2186953">tok</a></span><span class="op" id="2187198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187201">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187204">return</span>&nbsp;<span class="ident" id="2187211"><a href="/gostd/fmt/scan.go.html#2186994">i</a></span><br>
<span class="lineno"></span><span class="op" id="2187213">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2187216">//&nbsp;floatToken&nbsp;returns&nbsp;the&nbsp;floating-point&nbsp;number&nbsp;starting&nbsp;here,&nbsp;no&nbsp;longer&nbsp;than&nbsp;swid</span><br>
<span class="lineno"></span><span class="comment" id="2187299">//&nbsp;if&nbsp;the&nbsp;width&nbsp;is&nbsp;specified.&nbsp;It&#39;s&nbsp;not&nbsp;rigorous&nbsp;about&nbsp;syntax&nbsp;because&nbsp;it&nbsp;doesn&#39;t&nbsp;check&nbsp;that</span><br>
<span class="lineno">715</span><span class="comment" id="2187390">//&nbsp;we&nbsp;have&nbsp;at&nbsp;least&nbsp;some&nbsp;digits,&nbsp;but&nbsp;Atof&nbsp;will&nbsp;do&nbsp;that.</span><br>
<span class="lineno"></span><span class="keyword" id="2187446">func</span>&nbsp;<span class="op" id="2187451">(</span><span class="ident" id="2187452">s</span>&nbsp;<span class="op" id="2187454">*</span><span class="ident" id="2187455"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2187457">)</span>&nbsp;<span class="ident" id="2187459">floatToken</span><span class="op" id="2187469">(</span><span class="op" id="2187470">)</span>&nbsp;<span class="builtintype" id="2187472">string</span>&nbsp;<span class="op" id="2187479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2187482"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187483">.</span><span class="ident" id="2187484"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span>&nbsp;<span class="op" id="2187488">=</span>&nbsp;<span class="ident" id="2187490"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187491">.</span><span class="ident" id="2187492"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2187495">[</span><span class="op" id="2187496">:</span><span class="num" id="2187497">0</span><span class="op" id="2187498">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187501">//&nbsp;NaN?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187510">if</span>&nbsp;<span class="ident" id="2187513"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187514">.</span><span class="ident" id="2187515"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187521">(</span><span class="string" id="2187522">&#34;nN&#34;</span><span class="op" id="2187526">)</span>&nbsp;<span class="op" id="2187528">&amp;&amp;</span>&nbsp;<span class="ident" id="2187531"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187532">.</span><span class="ident" id="2187533"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187539">(</span><span class="string" id="2187540">&#34;aA&#34;</span><span class="op" id="2187544">)</span>&nbsp;<span class="op" id="2187546">&amp;&amp;</span>&nbsp;<span class="ident" id="2187549"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187550">.</span><span class="ident" id="2187551"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187557">(</span><span class="string" id="2187558">&#34;nN&#34;</span><span class="op" id="2187562">)</span>&nbsp;<span class="op" id="2187564">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187568">return</span>&nbsp;<span class="builtintype" id="2187575">string</span><span class="op" id="2187581">(</span><span class="ident" id="2187582"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187583">.</span><span class="ident" id="2187584"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2187587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187593">//&nbsp;leading&nbsp;sign?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2187611"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187612">.</span><span class="ident" id="2187613"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187619">(</span><span class="ident" id="2187620"><a href="/gostd/fmt/scan.go.html#2183959">sign</a></span><span class="op" id="2187624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187627">//&nbsp;Inf?</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187636">if</span>&nbsp;<span class="ident" id="2187639"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187640">.</span><span class="ident" id="2187641"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187647">(</span><span class="string" id="2187648">&#34;iI&#34;</span><span class="op" id="2187652">)</span>&nbsp;<span class="op" id="2187654">&amp;&amp;</span>&nbsp;<span class="ident" id="2187657"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187658">.</span><span class="ident" id="2187659"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187665">(</span><span class="string" id="2187666">&#34;nN&#34;</span><span class="op" id="2187670">)</span>&nbsp;<span class="op" id="2187672">&amp;&amp;</span>&nbsp;<span class="ident" id="2187675"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187676">.</span><span class="ident" id="2187677"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187683">(</span><span class="string" id="2187684">&#34;fF&#34;</span><span class="op" id="2187688">)</span>&nbsp;<span class="op" id="2187690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187694">return</span>&nbsp;<span class="builtintype" id="2187701">string</span><span class="op" id="2187707">(</span><span class="ident" id="2187708"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187709">.</span><span class="ident" id="2187710"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2187713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187716">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187719">//&nbsp;digits?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187731">for</span>&nbsp;<span class="ident" id="2187735"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187736">.</span><span class="ident" id="2187737"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187743">(</span><span class="ident" id="2187744"><a href="/gostd/fmt/scan.go.html#2183879">decimalDigits</a></span><span class="op" id="2187757">)</span>&nbsp;<span class="op" id="2187759">{</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187765">//&nbsp;decimal&nbsp;point?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187784">if</span>&nbsp;<span class="ident" id="2187787"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187788">.</span><span class="ident" id="2187789"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187795">(</span><span class="ident" id="2187796"><a href="/gostd/fmt/scan.go.html#2183985">period</a></span><span class="op" id="2187802">)</span>&nbsp;<span class="op" id="2187804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187808">//&nbsp;fraction?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187823">for</span>&nbsp;<span class="ident" id="2187827"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187828">.</span><span class="ident" id="2187829"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187835">(</span><span class="ident" id="2187836"><a href="/gostd/fmt/scan.go.html#2183879">decimalDigits</a></span><span class="op" id="2187849">)</span>&nbsp;<span class="op" id="2187851">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187861">//&nbsp;exponent?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187875">if</span>&nbsp;<span class="ident" id="2187878"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187879">.</span><span class="ident" id="2187880"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187886">(</span><span class="ident" id="2187887"><a href="/gostd/fmt/scan.go.html#2184010">exponent</a></span><span class="op" id="2187895">)</span>&nbsp;<span class="op" id="2187897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187901">//&nbsp;leading&nbsp;sign?</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2187920"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187921">.</span><span class="ident" id="2187922"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187928">(</span><span class="ident" id="2187929"><a href="/gostd/fmt/scan.go.html#2183959">sign</a></span><span class="op" id="2187933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2187937">//&nbsp;digits?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187950">for</span>&nbsp;<span class="ident" id="2187954"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2187955">.</span><span class="ident" id="2187956"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2187962">(</span><span class="ident" id="2187963"><a href="/gostd/fmt/scan.go.html#2183879">decimalDigits</a></span><span class="op" id="2187976">)</span>&nbsp;<span class="op" id="2187978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2187985">}</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2187988">return</span>&nbsp;<span class="builtintype" id="2187995">string</span><span class="op" id="2188001">(</span><span class="ident" id="2188002"><a href="/gostd/fmt/scan.go.html#2187452">s</a></span><span class="op" id="2188003">.</span><span class="ident" id="2188004"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2188007">)</span><br>
<span class="lineno"></span><span class="op" id="2188009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2188012">//&nbsp;complexTokens&nbsp;returns&nbsp;the&nbsp;real&nbsp;and&nbsp;imaginary&nbsp;parts&nbsp;of&nbsp;the&nbsp;complex&nbsp;number&nbsp;starting&nbsp;here.</span><br>
<span class="lineno"></span><span class="comment" id="2188103">//&nbsp;The&nbsp;number&nbsp;might&nbsp;be&nbsp;parenthesized&nbsp;and&nbsp;has&nbsp;the&nbsp;format&nbsp;(N+Ni)&nbsp;where&nbsp;N&nbsp;is&nbsp;a&nbsp;floating-point</span><br>
<span class="lineno">750</span><span class="comment" id="2188194">//&nbsp;number&nbsp;and&nbsp;there&nbsp;are&nbsp;no&nbsp;spaces&nbsp;within.</span><br>
<span class="lineno"></span><span class="keyword" id="2188236">func</span>&nbsp;<span class="op" id="2188241">(</span><span class="ident" id="2188242">s</span>&nbsp;<span class="op" id="2188244">*</span><span class="ident" id="2188245"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2188247">)</span>&nbsp;<span class="ident" id="2188249">complexTokens</span><span class="op" id="2188262">(</span><span class="op" id="2188263">)</span>&nbsp;<span class="op" id="2188265">(</span><span class="builtinfunc" id="2188266">real</span><span class="op" id="2188270">,</span>&nbsp;<span class="builtinfunc" id="2188272">imag</span>&nbsp;<span class="builtintype" id="2188277">string</span><span class="op" id="2188283">)</span>&nbsp;<span class="op" id="2188285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2188288">//&nbsp;TODO:&nbsp;accept&nbsp;N&nbsp;and&nbsp;Ni&nbsp;independently?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2188329">parens</span>&nbsp;<span class="op" id="2188336">:=</span>&nbsp;<span class="ident" id="2188339"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188340">.</span><span class="ident" id="2188341"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2188347">(</span><span class="string" id="2188348">&#34;(&#34;</span><span class="op" id="2188351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2188354"><a href="/gostd/fmt/scan.go.html#2188266">real</a></span>&nbsp;<span class="op" id="2188359">=</span>&nbsp;<span class="ident" id="2188361"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188362">.</span><span class="ident" id="2188363"><a href="/gostd/fmt/scan.go.html#2187459">floatToken</a></span><span class="op" id="2188373">(</span><span class="op" id="2188374">)</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2188377"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188378">.</span><span class="ident" id="2188379"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span>&nbsp;<span class="op" id="2188383">=</span>&nbsp;<span class="ident" id="2188385"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188386">.</span><span class="ident" id="2188387"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2188390">[</span><span class="op" id="2188391">:</span><span class="num" id="2188392">0</span><span class="op" id="2188393">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2188396">//&nbsp;Must&nbsp;now&nbsp;have&nbsp;a&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2188422">if</span>&nbsp;<span class="op" id="2188425">!</span><span class="ident" id="2188426"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188427">.</span><span class="ident" id="2188428"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2188434">(</span><span class="string" id="2188435">&#34;+-&#34;</span><span class="op" id="2188439">)</span>&nbsp;<span class="op" id="2188441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2188445"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188446">.</span><span class="builtintype" id="2188447"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2188452">(</span><span class="ident" id="2188453"><a href="/gostd/fmt/scan.go.html#2181655">complexError</a></span><span class="op" id="2188465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2188468">}</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2188471">//&nbsp;Sign&nbsp;is&nbsp;now&nbsp;in&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2188497">imagSign</span>&nbsp;<span class="op" id="2188506">:=</span>&nbsp;<span class="builtintype" id="2188509">string</span><span class="op" id="2188515">(</span><span class="ident" id="2188516"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188517">.</span><span class="ident" id="2188518"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2188521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2188524"><a href="/gostd/fmt/scan.go.html#2188272">imag</a></span>&nbsp;<span class="op" id="2188529">=</span>&nbsp;<span class="ident" id="2188531"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188532">.</span><span class="ident" id="2188533"><a href="/gostd/fmt/scan.go.html#2187459">floatToken</a></span><span class="op" id="2188543">(</span><span class="op" id="2188544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2188547">if</span>&nbsp;<span class="op" id="2188550">!</span><span class="ident" id="2188551"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188552">.</span><span class="ident" id="2188553"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2188559">(</span><span class="string" id="2188560">&#34;i&#34;</span><span class="op" id="2188563">)</span>&nbsp;<span class="op" id="2188565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2188569"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188570">.</span><span class="builtintype" id="2188571"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2188576">(</span><span class="ident" id="2188577"><a href="/gostd/fmt/scan.go.html#2181655">complexError</a></span><span class="op" id="2188589">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2188592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2188595">if</span>&nbsp;<span class="ident" id="2188598"><a href="/gostd/fmt/scan.go.html#2188329">parens</a></span>&nbsp;<span class="op" id="2188605">&amp;&amp;</span>&nbsp;<span class="op" id="2188608">!</span><span class="ident" id="2188609"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188610">.</span><span class="ident" id="2188611"><a href="/gostd/fmt/scan.go.html#2182806">accept</a></span><span class="op" id="2188617">(</span><span class="string" id="2188618">&#34;)&#34;</span><span class="op" id="2188621">)</span>&nbsp;<span class="op" id="2188623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2188627"><a href="/gostd/fmt/scan.go.html#2188242">s</a></span><span class="op" id="2188628">.</span><span class="builtintype" id="2188629"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2188634">(</span><span class="ident" id="2188635"><a href="/gostd/fmt/scan.go.html#2181655">complexError</a></span><span class="op" id="2188647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2188650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2188653">return</span>&nbsp;<span class="builtinfunc" id="2188660"><a href="/gostd/fmt/scan.go.html#2188266">real</a></span><span class="op" id="2188664">,</span>&nbsp;<span class="ident" id="2188666"><a href="/gostd/fmt/scan.go.html#2188497">imagSign</a></span>&nbsp;<span class="op" id="2188675">+</span>&nbsp;<span class="builtinfunc" id="2188677"><a href="/gostd/fmt/scan.go.html#2188272">imag</a></span><br>
<span class="lineno">770</span><span class="op" id="2188682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2188685">//&nbsp;convertFloat&nbsp;converts&nbsp;the&nbsp;string&nbsp;to&nbsp;a&nbsp;float64value.</span><br>
<span class="lineno"></span><span class="keyword" id="2188740">func</span>&nbsp;<span class="op" id="2188745">(</span><span class="ident" id="2188746">s</span>&nbsp;<span class="op" id="2188748">*</span><span class="ident" id="2188749"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2188751">)</span>&nbsp;<span class="ident" id="2188753">convertFloat</span><span class="op" id="2188765">(</span><span class="ident" id="2188766">str</span>&nbsp;<span class="builtintype" id="2188770">string</span><span class="op" id="2188776">,</span>&nbsp;<span class="ident" id="2188778">n</span>&nbsp;<span class="builtintype" id="2188780">int</span><span class="op" id="2188783">)</span>&nbsp;<span class="builtintype" id="2188785">float64</span>&nbsp;<span class="op" id="2188793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2188796">if</span>&nbsp;<span class="ident" id="2188799">p</span>&nbsp;<span class="op" id="2188801">:=</span>&nbsp;<span class="ident" id="2188804"><a href="/gostd/fmt/scan.go.html#2181787">indexRune</a></span><span class="op" id="2188813">(</span><span class="ident" id="2188814"><a href="/gostd/fmt/scan.go.html#2188766">str</a></span><span class="op" id="2188817">,</span>&nbsp;<span class="string" id="2188819">&#39;p&#39;</span><span class="op" id="2188822">)</span><span class="op" id="2188823">;</span>&nbsp;<span class="ident" id="2188825"><a href="/gostd/fmt/scan.go.html#2188799">p</a></span>&nbsp;<span class="op" id="2188827">&gt;=</span>&nbsp;<span class="num" id="2188830">0</span>&nbsp;<span class="op" id="2188832">{</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2188836">//&nbsp;Atof&nbsp;doesn&#39;t&nbsp;handle&nbsp;power-of-2&nbsp;exponents,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2188883">//&nbsp;but&nbsp;they&#39;re&nbsp;easy&nbsp;to&nbsp;evaluate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2188918">f</span><span class="op" id="2188919">,</span>&nbsp;<span class="ident" id="2188921">err</span>&nbsp;<span class="op" id="2188925">:=</span>&nbsp;<span class="ident" id="2188928"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2188935">.</span><span class="ident" id="2188936"><a href="/gostd/strconv/atof.go.html#2352470">ParseFloat</a></span><span class="op" id="2188946">(</span><span class="ident" id="2188947"><a href="/gostd/fmt/scan.go.html#2188766">str</a></span><span class="op" id="2188950">[</span><span class="op" id="2188951">:</span><span class="ident" id="2188952"><a href="/gostd/fmt/scan.go.html#2188799">p</a></span><span class="op" id="2188953">]</span><span class="op" id="2188954">,</span>&nbsp;<span class="ident" id="2188956"><a href="/gostd/fmt/scan.go.html#2188778">n</a></span><span class="op" id="2188957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2188961">if</span>&nbsp;<span class="ident" id="2188964"><a href="/gostd/fmt/scan.go.html#2188921">err</a></span>&nbsp;<span class="op" id="2188968">!=</span>&nbsp;<span class="builtintype" id="2188971">nil</span>&nbsp;<span class="op" id="2188975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2188980">//&nbsp;Put&nbsp;full&nbsp;string&nbsp;into&nbsp;error.</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189014">if</span>&nbsp;<span class="ident" id="2189017">e</span><span class="op" id="2189018">,</span>&nbsp;<span class="ident" id="2189020">ok</span>&nbsp;<span class="op" id="2189023">:=</span>&nbsp;<span class="ident" id="2189026"><a href="/gostd/fmt/scan.go.html#2188921">err</a></span><span class="op" id="2189029">.</span><span class="op" id="2189030">(</span><span class="op" id="2189031">*</span><span class="ident" id="2189032"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2189039">.</span><span class="ident" id="2189040"><a href="/gostd/strconv/atoi.go.html#2353143">NumError</a></span><span class="op" id="2189048">)</span><span class="op" id="2189049">;</span>&nbsp;<span class="ident" id="2189051"><a href="/gostd/fmt/scan.go.html#2189020">ok</a></span>&nbsp;<span class="op" id="2189054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189060"><a href="/gostd/fmt/scan.go.html#2189017">e</a></span><span class="op" id="2189061">.</span><span class="ident" id="2189062"><a href="/gostd/strconv/atoi.go.html#2353244">Num</a></span>&nbsp;<span class="op" id="2189066">=</span>&nbsp;<span class="ident" id="2189068"><a href="/gostd/fmt/scan.go.html#2188766">str</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2189075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189080"><a href="/gostd/fmt/scan.go.html#2188746">s</a></span><span class="op" id="2189081">.</span><span class="builtintype" id="2189082"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2189087">(</span><span class="ident" id="2189088"><a href="/gostd/fmt/scan.go.html#2188921">err</a></span><span class="op" id="2189091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2189095">}</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189099">m</span><span class="op" id="2189100">,</span>&nbsp;<span class="ident" id="2189102"><a href="/gostd/fmt/scan.go.html#2188921">err</a></span>&nbsp;<span class="op" id="2189106">:=</span>&nbsp;<span class="ident" id="2189109"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2189116">.</span><span class="ident" id="2189117"><a href="/gostd/strconv/atoi.go.html#2357032">Atoi</a></span><span class="op" id="2189121">(</span><span class="ident" id="2189122"><a href="/gostd/fmt/scan.go.html#2188766">str</a></span><span class="op" id="2189125">[</span><span class="ident" id="2189126"><a href="/gostd/fmt/scan.go.html#2188799">p</a></span><span class="op" id="2189127">+</span><span class="num" id="2189128">1</span><span class="op" id="2189129">:</span><span class="op" id="2189130">]</span><span class="op" id="2189131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189135">if</span>&nbsp;<span class="ident" id="2189138"><a href="/gostd/fmt/scan.go.html#2188921">err</a></span>&nbsp;<span class="op" id="2189142">!=</span>&nbsp;<span class="builtintype" id="2189145">nil</span>&nbsp;<span class="op" id="2189149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2189154">//&nbsp;Put&nbsp;full&nbsp;string&nbsp;into&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189188">if</span>&nbsp;<span class="ident" id="2189191">e</span><span class="op" id="2189192">,</span>&nbsp;<span class="ident" id="2189194">ok</span>&nbsp;<span class="op" id="2189197">:=</span>&nbsp;<span class="ident" id="2189200"><a href="/gostd/fmt/scan.go.html#2188921">err</a></span><span class="op" id="2189203">.</span><span class="op" id="2189204">(</span><span class="op" id="2189205">*</span><span class="ident" id="2189206"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2189213">.</span><span class="ident" id="2189214"><a href="/gostd/strconv/atoi.go.html#2353143">NumError</a></span><span class="op" id="2189222">)</span><span class="op" id="2189223">;</span>&nbsp;<span class="ident" id="2189225"><a href="/gostd/fmt/scan.go.html#2189194">ok</a></span>&nbsp;<span class="op" id="2189228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189234"><a href="/gostd/fmt/scan.go.html#2189191">e</a></span><span class="op" id="2189235">.</span><span class="ident" id="2189236"><a href="/gostd/strconv/atoi.go.html#2353244">Num</a></span>&nbsp;<span class="op" id="2189240">=</span>&nbsp;<span class="ident" id="2189242"><a href="/gostd/fmt/scan.go.html#2188766">str</a></span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2189249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189254"><a href="/gostd/fmt/scan.go.html#2188746">s</a></span><span class="op" id="2189255">.</span><span class="builtintype" id="2189256"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2189261">(</span><span class="ident" id="2189262"><a href="/gostd/fmt/scan.go.html#2188921">err</a></span><span class="op" id="2189265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2189269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189273">return</span>&nbsp;<span class="ident" id="2189280"><a href="/gostd/fmt/scan.go.html#2168755">math</a></span><span class="op" id="2189284">.</span><span class="ident" id="2189285"><a href="/gostd/math/ldexp.go.html#2285999">Ldexp</a></span><span class="op" id="2189290">(</span><span class="ident" id="2189291"><a href="/gostd/fmt/scan.go.html#2188918">f</a></span><span class="op" id="2189292">,</span>&nbsp;<span class="ident" id="2189294"><a href="/gostd/fmt/scan.go.html#2189099">m</a></span><span class="op" id="2189295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2189298">}</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189301">f</span><span class="op" id="2189302">,</span>&nbsp;<span class="ident" id="2189304">err</span>&nbsp;<span class="op" id="2189308">:=</span>&nbsp;<span class="ident" id="2189311"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2189318">.</span><span class="ident" id="2189319"><a href="/gostd/strconv/atof.go.html#2352470">ParseFloat</a></span><span class="op" id="2189329">(</span><span class="ident" id="2189330"><a href="/gostd/fmt/scan.go.html#2188766">str</a></span><span class="op" id="2189333">,</span>&nbsp;<span class="ident" id="2189335"><a href="/gostd/fmt/scan.go.html#2188778">n</a></span><span class="op" id="2189336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189339">if</span>&nbsp;<span class="ident" id="2189342"><a href="/gostd/fmt/scan.go.html#2189304">err</a></span>&nbsp;<span class="op" id="2189346">!=</span>&nbsp;<span class="builtintype" id="2189349">nil</span>&nbsp;<span class="op" id="2189353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189357"><a href="/gostd/fmt/scan.go.html#2188746">s</a></span><span class="op" id="2189358">.</span><span class="builtintype" id="2189359"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2189364">(</span><span class="ident" id="2189365"><a href="/gostd/fmt/scan.go.html#2189304">err</a></span><span class="op" id="2189368">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2189371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189374">return</span>&nbsp;<span class="ident" id="2189381"><a href="/gostd/fmt/scan.go.html#2189301">f</a></span><br>
<span class="lineno">800</span><span class="op" id="2189383">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2189386">//&nbsp;convertComplex&nbsp;converts&nbsp;the&nbsp;next&nbsp;token&nbsp;to&nbsp;a&nbsp;complex128&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2189451">//&nbsp;The&nbsp;atof&nbsp;argument&nbsp;is&nbsp;a&nbsp;type-specific&nbsp;reader&nbsp;for&nbsp;the&nbsp;underlying&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2189523">//&nbsp;If&nbsp;we&#39;re&nbsp;reading&nbsp;complex64,&nbsp;atof&nbsp;will&nbsp;parse&nbsp;float32s&nbsp;and&nbsp;convert&nbsp;them</span><br>
<span class="lineno">805</span><span class="comment" id="2189596">//&nbsp;to&nbsp;float64&#39;s&nbsp;to&nbsp;avoid&nbsp;reproducing&nbsp;this&nbsp;code&nbsp;for&nbsp;each&nbsp;complex&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2189666">func</span>&nbsp;<span class="op" id="2189671">(</span><span class="ident" id="2189672">s</span>&nbsp;<span class="op" id="2189674">*</span><span class="ident" id="2189675"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2189677">)</span>&nbsp;<span class="ident" id="2189679">scanComplex</span><span class="op" id="2189690">(</span><span class="ident" id="2189691">verb</span>&nbsp;<span class="builtintype" id="2189696">rune</span><span class="op" id="2189700">,</span>&nbsp;<span class="ident" id="2189702">n</span>&nbsp;<span class="builtintype" id="2189704">int</span><span class="op" id="2189707">)</span>&nbsp;<span class="builtintype" id="2189709">complex128</span>&nbsp;<span class="op" id="2189720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189723">if</span>&nbsp;<span class="op" id="2189726">!</span><span class="ident" id="2189727"><a href="/gostd/fmt/scan.go.html#2189672">s</a></span><span class="op" id="2189728">.</span><span class="ident" id="2189729"><a href="/gostd/fmt/scan.go.html#2182968">okVerb</a></span><span class="op" id="2189735">(</span><span class="ident" id="2189736"><a href="/gostd/fmt/scan.go.html#2189691">verb</a></span><span class="op" id="2189740">,</span>&nbsp;<span class="ident" id="2189742"><a href="/gostd/fmt/scan.go.html#2192530">floatVerbs</a></span><span class="op" id="2189752">,</span>&nbsp;<span class="string" id="2189754">&#34;complex&#34;</span><span class="op" id="2189763">)</span>&nbsp;<span class="op" id="2189765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189769">return</span>&nbsp;<span class="num" id="2189776">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2189779">}</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189782"><a href="/gostd/fmt/scan.go.html#2189672">s</a></span><span class="op" id="2189783">.</span><span class="ident" id="2189784"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2189793">(</span><span class="builtintype" id="2189794">false</span><span class="op" id="2189799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189802"><a href="/gostd/fmt/scan.go.html#2189672">s</a></span><span class="op" id="2189803">.</span><span class="ident" id="2189804"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2189810">(</span><span class="op" id="2189811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2189814">sreal</span><span class="op" id="2189819">,</span>&nbsp;<span class="ident" id="2189821">simag</span>&nbsp;<span class="op" id="2189827">:=</span>&nbsp;<span class="ident" id="2189830"><a href="/gostd/fmt/scan.go.html#2189672">s</a></span><span class="op" id="2189831">.</span><span class="ident" id="2189832"><a href="/gostd/fmt/scan.go.html#2188249">complexTokens</a></span><span class="op" id="2189845">(</span><span class="op" id="2189846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2189849">real</span>&nbsp;<span class="op" id="2189854">:=</span>&nbsp;<span class="ident" id="2189857"><a href="/gostd/fmt/scan.go.html#2189672">s</a></span><span class="op" id="2189858">.</span><span class="ident" id="2189859"><a href="/gostd/fmt/scan.go.html#2188753">convertFloat</a></span><span class="op" id="2189871">(</span><span class="ident" id="2189872"><a href="/gostd/fmt/scan.go.html#2189814">sreal</a></span><span class="op" id="2189877">,</span>&nbsp;<span class="ident" id="2189879"><a href="/gostd/fmt/scan.go.html#2189702">n</a></span><span class="op" id="2189880">/</span><span class="num" id="2189881">2</span><span class="op" id="2189882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2189885">imag</span>&nbsp;<span class="op" id="2189890">:=</span>&nbsp;<span class="ident" id="2189893"><a href="/gostd/fmt/scan.go.html#2189672">s</a></span><span class="op" id="2189894">.</span><span class="ident" id="2189895"><a href="/gostd/fmt/scan.go.html#2188753">convertFloat</a></span><span class="op" id="2189907">(</span><span class="ident" id="2189908"><a href="/gostd/fmt/scan.go.html#2189821">simag</a></span><span class="op" id="2189913">,</span>&nbsp;<span class="ident" id="2189915"><a href="/gostd/fmt/scan.go.html#2189702">n</a></span><span class="op" id="2189916">/</span><span class="num" id="2189917">2</span><span class="op" id="2189918">)</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2189921">return</span>&nbsp;<span class="builtinfunc" id="2189928">complex</span><span class="op" id="2189935">(</span><span class="builtinfunc" id="2189936"><a href="/gostd/fmt/scan.go.html#2189849">real</a></span><span class="op" id="2189940">,</span>&nbsp;<span class="builtinfunc" id="2189942"><a href="/gostd/fmt/scan.go.html#2189885">imag</a></span><span class="op" id="2189946">)</span><br>
<span class="lineno"></span><span class="op" id="2189948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2189951">//&nbsp;convertString&nbsp;returns&nbsp;the&nbsp;string&nbsp;represented&nbsp;by&nbsp;the&nbsp;next&nbsp;input&nbsp;characters.</span><br>
<span class="lineno"></span><span class="comment" id="2190029">//&nbsp;The&nbsp;format&nbsp;of&nbsp;the&nbsp;input&nbsp;is&nbsp;determined&nbsp;by&nbsp;the&nbsp;verb.</span><br>
<span class="lineno">820</span><span class="keyword" id="2190083">func</span>&nbsp;<span class="op" id="2190088">(</span><span class="ident" id="2190089">s</span>&nbsp;<span class="op" id="2190091">*</span><span class="ident" id="2190092"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2190094">)</span>&nbsp;<span class="ident" id="2190096">convertString</span><span class="op" id="2190109">(</span><span class="ident" id="2190110">verb</span>&nbsp;<span class="builtintype" id="2190115">rune</span><span class="op" id="2190119">)</span>&nbsp;<span class="op" id="2190121">(</span><span class="ident" id="2190122">str</span>&nbsp;<span class="builtintype" id="2190126">string</span><span class="op" id="2190132">)</span>&nbsp;<span class="op" id="2190134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190137">if</span>&nbsp;<span class="op" id="2190140">!</span><span class="ident" id="2190141"><a href="/gostd/fmt/scan.go.html#2190089">s</a></span><span class="op" id="2190142">.</span><span class="ident" id="2190143"><a href="/gostd/fmt/scan.go.html#2182968">okVerb</a></span><span class="op" id="2190149">(</span><span class="ident" id="2190150"><a href="/gostd/fmt/scan.go.html#2190110">verb</a></span><span class="op" id="2190154">,</span>&nbsp;<span class="string" id="2190156">&#34;svqx&#34;</span><span class="op" id="2190162">,</span>&nbsp;<span class="string" id="2190164">&#34;string&#34;</span><span class="op" id="2190172">)</span>&nbsp;<span class="op" id="2190174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190178">return</span>&nbsp;<span class="string" id="2190185">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2190189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190192"><a href="/gostd/fmt/scan.go.html#2190089">s</a></span><span class="op" id="2190193">.</span><span class="ident" id="2190194"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2190203">(</span><span class="builtintype" id="2190204">false</span><span class="op" id="2190209">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190212"><a href="/gostd/fmt/scan.go.html#2190089">s</a></span><span class="op" id="2190213">.</span><span class="ident" id="2190214"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2190220">(</span><span class="op" id="2190221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190224">switch</span>&nbsp;<span class="ident" id="2190231"><a href="/gostd/fmt/scan.go.html#2190110">verb</a></span>&nbsp;<span class="op" id="2190236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190239">case</span>&nbsp;<span class="string" id="2190244">&#39;q&#39;</span><span class="op" id="2190247">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190251"><a href="/gostd/fmt/scan.go.html#2190122">str</a></span>&nbsp;<span class="op" id="2190255">=</span>&nbsp;<span class="ident" id="2190257"><a href="/gostd/fmt/scan.go.html#2190089">s</a></span><span class="op" id="2190258">.</span><span class="ident" id="2190259"><a href="/gostd/fmt/scan.go.html#2190523">quotedString</a></span><span class="op" id="2190271">(</span><span class="op" id="2190272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190275">case</span>&nbsp;<span class="string" id="2190280">&#39;x&#39;</span><span class="op" id="2190283">:</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190287"><a href="/gostd/fmt/scan.go.html#2190122">str</a></span>&nbsp;<span class="op" id="2190291">=</span>&nbsp;<span class="ident" id="2190293"><a href="/gostd/fmt/scan.go.html#2190089">s</a></span><span class="op" id="2190294">.</span><span class="ident" id="2190295"><a href="/gostd/fmt/scan.go.html#2192306">hexString</a></span><span class="op" id="2190304">(</span><span class="op" id="2190305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190308">default</span><span class="op" id="2190315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190319"><a href="/gostd/fmt/scan.go.html#2190122">str</a></span>&nbsp;<span class="op" id="2190323">=</span>&nbsp;<span class="builtintype" id="2190325">string</span><span class="op" id="2190331">(</span><span class="ident" id="2190332"><a href="/gostd/fmt/scan.go.html#2190089">s</a></span><span class="op" id="2190333">.</span><span class="ident" id="2190334"><a href="/gostd/fmt/scan.go.html#2181383">token</a></span><span class="op" id="2190339">(</span><span class="builtintype" id="2190340">true</span><span class="op" id="2190344">,</span>&nbsp;<span class="ident" id="2190346"><a href="/gostd/fmt/scan.go.html#2177833">notSpace</a></span><span class="op" id="2190354">)</span><span class="op" id="2190355">)</span>&nbsp;<span class="comment" id="2190357">//&nbsp;%s&nbsp;and&nbsp;%v&nbsp;just&nbsp;return&nbsp;the&nbsp;next&nbsp;word</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2190397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190400">return</span><br>
<span class="lineno">835</span><span class="op" id="2190407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2190410">//&nbsp;quotedString&nbsp;returns&nbsp;the&nbsp;double-&nbsp;or&nbsp;back-quoted&nbsp;string&nbsp;represented&nbsp;by&nbsp;the&nbsp;next&nbsp;input&nbsp;characters.</span><br>
<span class="lineno"></span><span class="keyword" id="2190510">func</span>&nbsp;<span class="op" id="2190515">(</span><span class="ident" id="2190516">s</span>&nbsp;<span class="op" id="2190518">*</span><span class="ident" id="2190519"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2190521">)</span>&nbsp;<span class="ident" id="2190523">quotedString</span><span class="op" id="2190535">(</span><span class="op" id="2190536">)</span>&nbsp;<span class="builtintype" id="2190538">string</span>&nbsp;<span class="op" id="2190545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190548"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190549">.</span><span class="ident" id="2190550"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2190556">(</span><span class="op" id="2190557">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190560">quote</span>&nbsp;<span class="op" id="2190566">:=</span>&nbsp;<span class="ident" id="2190569"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190570">.</span><span class="ident" id="2190571"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2190578">(</span><span class="op" id="2190579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190582">switch</span>&nbsp;<span class="ident" id="2190589"><a href="/gostd/fmt/scan.go.html#2190560">quote</a></span>&nbsp;<span class="op" id="2190595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190598">case</span>&nbsp;<span class="string" id="2190603">&#39;`&#39;</span><span class="op" id="2190606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2190610">//&nbsp;Back-quoted:&nbsp;Anything&nbsp;goes&nbsp;until&nbsp;EOF&nbsp;or&nbsp;back&nbsp;quote.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190667">for</span>&nbsp;<span class="op" id="2190671">{</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190676">r</span>&nbsp;<span class="op" id="2190678">:=</span>&nbsp;<span class="ident" id="2190681"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190682">.</span><span class="ident" id="2190683"><a href="/gostd/fmt/scan.go.html#2176525">mustReadRune</a></span><span class="op" id="2190695">(</span><span class="op" id="2190696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190701">if</span>&nbsp;<span class="ident" id="2190704"><a href="/gostd/fmt/scan.go.html#2190676">r</a></span>&nbsp;<span class="op" id="2190706">==</span>&nbsp;<span class="ident" id="2190709"><a href="/gostd/fmt/scan.go.html#2190560">quote</a></span>&nbsp;<span class="op" id="2190715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190721">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2190730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190735"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190736">.</span><span class="ident" id="2190737"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2190740">.</span><span class="ident" id="2190741"><a href="/gostd/fmt/print.go.html#2140965">WriteRune</a></span><span class="op" id="2190750">(</span><span class="ident" id="2190751"><a href="/gostd/fmt/scan.go.html#2190676">r</a></span><span class="op" id="2190752">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2190756">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190760">return</span>&nbsp;<span class="builtintype" id="2190767">string</span><span class="op" id="2190773">(</span><span class="ident" id="2190774"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190775">.</span><span class="ident" id="2190776"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2190779">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190782">case</span>&nbsp;<span class="string" id="2190787">&#39;&#34;&#39;</span><span class="op" id="2190790">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2190794">//&nbsp;Double-quoted:&nbsp;Include&nbsp;the&nbsp;quotes&nbsp;and&nbsp;let&nbsp;strconv.Unquote&nbsp;do&nbsp;the&nbsp;backslash&nbsp;escapes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190883"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190884">.</span><span class="ident" id="2190885"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2190888">.</span><span class="ident" id="2190889"><a href="/gostd/fmt/print.go.html#2140965">WriteRune</a></span><span class="op" id="2190898">(</span><span class="ident" id="2190899"><a href="/gostd/fmt/scan.go.html#2190560">quote</a></span><span class="op" id="2190904">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190908">for</span>&nbsp;<span class="op" id="2190912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190917">r</span>&nbsp;<span class="op" id="2190919">:=</span>&nbsp;<span class="ident" id="2190922"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190923">.</span><span class="ident" id="2190924"><a href="/gostd/fmt/scan.go.html#2176525">mustReadRune</a></span><span class="op" id="2190936">(</span><span class="op" id="2190937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2190942"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2190943">.</span><span class="ident" id="2190944"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2190947">.</span><span class="ident" id="2190948"><a href="/gostd/fmt/print.go.html#2140965">WriteRune</a></span><span class="op" id="2190957">(</span><span class="ident" id="2190958"><a href="/gostd/fmt/scan.go.html#2190917">r</a></span><span class="op" id="2190959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2190964">if</span>&nbsp;<span class="ident" id="2190967"><a href="/gostd/fmt/scan.go.html#2190917">r</a></span>&nbsp;<span class="op" id="2190969">==</span>&nbsp;<span class="string" id="2190972">&#39;\\&#39;</span>&nbsp;<span class="op" id="2190977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2190983">//&nbsp;In&nbsp;a&nbsp;legal&nbsp;backslash&nbsp;escape,&nbsp;no&nbsp;matter&nbsp;how&nbsp;long,&nbsp;only&nbsp;the&nbsp;character</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2191058">//&nbsp;immediately&nbsp;after&nbsp;the&nbsp;escape&nbsp;can&nbsp;itself&nbsp;be&nbsp;a&nbsp;backslash&nbsp;or&nbsp;quote.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2191130">//&nbsp;Thus&nbsp;we&nbsp;only&nbsp;need&nbsp;to&nbsp;protect&nbsp;the&nbsp;first&nbsp;character&nbsp;after&nbsp;the&nbsp;backslash.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2191207"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2191208">.</span><span class="ident" id="2191209"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2191212">.</span><span class="ident" id="2191213"><a href="/gostd/fmt/print.go.html#2140965">WriteRune</a></span><span class="op" id="2191222">(</span><span class="ident" id="2191223"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2191224">.</span><span class="ident" id="2191225"><a href="/gostd/fmt/scan.go.html#2176525">mustReadRune</a></span><span class="op" id="2191237">(</span><span class="op" id="2191238">)</span><span class="op" id="2191239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2191244">}</span>&nbsp;<span class="keyword" id="2191246">else</span>&nbsp;<span class="keyword" id="2191251">if</span>&nbsp;<span class="ident" id="2191254"><a href="/gostd/fmt/scan.go.html#2190917">r</a></span>&nbsp;<span class="op" id="2191256">==</span>&nbsp;<span class="string" id="2191259">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2191263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191269">break</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2191278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2191282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2191286">result</span><span class="op" id="2191292">,</span>&nbsp;<span class="ident" id="2191294">err</span>&nbsp;<span class="op" id="2191298">:=</span>&nbsp;<span class="ident" id="2191301"><a href="/gostd/fmt/scan.go.html#2168780">strconv</a></span><span class="op" id="2191308">.</span><span class="ident" id="2191309"><a href="/gostd/strconv/quote.go.html#2417743">Unquote</a></span><span class="op" id="2191316">(</span><span class="builtintype" id="2191317">string</span><span class="op" id="2191323">(</span><span class="ident" id="2191324"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2191325">.</span><span class="ident" id="2191326"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2191329">)</span><span class="op" id="2191330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191334">if</span>&nbsp;<span class="ident" id="2191337"><a href="/gostd/fmt/scan.go.html#2191294">err</a></span>&nbsp;<span class="op" id="2191341">!=</span>&nbsp;<span class="builtintype" id="2191344">nil</span>&nbsp;<span class="op" id="2191348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2191353"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2191354">.</span><span class="builtintype" id="2191355"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2191360">(</span><span class="ident" id="2191361"><a href="/gostd/fmt/scan.go.html#2191294">err</a></span><span class="op" id="2191364">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2191368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191372">return</span>&nbsp;<span class="ident" id="2191379"><a href="/gostd/fmt/scan.go.html#2191286">result</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191387">default</span><span class="op" id="2191394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2191398"><a href="/gostd/fmt/scan.go.html#2190516">s</a></span><span class="op" id="2191399">.</span><span class="ident" id="2191400"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2191411">(</span><span class="string" id="2191412">&#34;expected&nbsp;quoted&nbsp;string&#34;</span><span class="op" id="2191436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2191439">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191442">return</span>&nbsp;<span class="string" id="2191449">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="2191452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2191455">//&nbsp;hexDigit&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;hexadecimal&nbsp;digit</span><br>
<span class="lineno"></span><span class="keyword" id="2191510">func</span>&nbsp;<span class="op" id="2191515">(</span><span class="ident" id="2191516">s</span>&nbsp;<span class="op" id="2191518">*</span><span class="ident" id="2191519"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2191521">)</span>&nbsp;<span class="ident" id="2191523">hexDigit</span><span class="op" id="2191531">(</span><span class="ident" id="2191532">d</span>&nbsp;<span class="builtintype" id="2191534">rune</span><span class="op" id="2191538">)</span>&nbsp;<span class="builtintype" id="2191540">int</span>&nbsp;<span class="op" id="2191544">{</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2191547">digit</span>&nbsp;<span class="op" id="2191553">:=</span>&nbsp;<span class="builtintype" id="2191556">int</span><span class="op" id="2191559">(</span><span class="ident" id="2191560"><a href="/gostd/fmt/scan.go.html#2191532">d</a></span><span class="op" id="2191561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191564">switch</span>&nbsp;<span class="ident" id="2191571"><a href="/gostd/fmt/scan.go.html#2191547">digit</a></span>&nbsp;<span class="op" id="2191577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191580">case</span>&nbsp;<span class="string" id="2191585">&#39;0&#39;</span><span class="op" id="2191588">,</span>&nbsp;<span class="string" id="2191590">&#39;1&#39;</span><span class="op" id="2191593">,</span>&nbsp;<span class="string" id="2191595">&#39;2&#39;</span><span class="op" id="2191598">,</span>&nbsp;<span class="string" id="2191600">&#39;3&#39;</span><span class="op" id="2191603">,</span>&nbsp;<span class="string" id="2191605">&#39;4&#39;</span><span class="op" id="2191608">,</span>&nbsp;<span class="string" id="2191610">&#39;5&#39;</span><span class="op" id="2191613">,</span>&nbsp;<span class="string" id="2191615">&#39;6&#39;</span><span class="op" id="2191618">,</span>&nbsp;<span class="string" id="2191620">&#39;7&#39;</span><span class="op" id="2191623">,</span>&nbsp;<span class="string" id="2191625">&#39;8&#39;</span><span class="op" id="2191628">,</span>&nbsp;<span class="string" id="2191630">&#39;9&#39;</span><span class="op" id="2191633">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191637">return</span>&nbsp;<span class="ident" id="2191644"><a href="/gostd/fmt/scan.go.html#2191547">digit</a></span>&nbsp;<span class="op" id="2191650">-</span>&nbsp;<span class="string" id="2191652">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191657">case</span>&nbsp;<span class="string" id="2191662">&#39;a&#39;</span><span class="op" id="2191665">,</span>&nbsp;<span class="string" id="2191667">&#39;b&#39;</span><span class="op" id="2191670">,</span>&nbsp;<span class="string" id="2191672">&#39;c&#39;</span><span class="op" id="2191675">,</span>&nbsp;<span class="string" id="2191677">&#39;d&#39;</span><span class="op" id="2191680">,</span>&nbsp;<span class="string" id="2191682">&#39;e&#39;</span><span class="op" id="2191685">,</span>&nbsp;<span class="string" id="2191687">&#39;f&#39;</span><span class="op" id="2191690">:</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191694">return</span>&nbsp;<span class="num" id="2191701">10</span>&nbsp;<span class="op" id="2191704">+</span>&nbsp;<span class="ident" id="2191706"><a href="/gostd/fmt/scan.go.html#2191547">digit</a></span>&nbsp;<span class="op" id="2191712">-</span>&nbsp;<span class="string" id="2191714">&#39;a&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191719">case</span>&nbsp;<span class="string" id="2191724">&#39;A&#39;</span><span class="op" id="2191727">,</span>&nbsp;<span class="string" id="2191729">&#39;B&#39;</span><span class="op" id="2191732">,</span>&nbsp;<span class="string" id="2191734">&#39;C&#39;</span><span class="op" id="2191737">,</span>&nbsp;<span class="string" id="2191739">&#39;D&#39;</span><span class="op" id="2191742">,</span>&nbsp;<span class="string" id="2191744">&#39;E&#39;</span><span class="op" id="2191747">,</span>&nbsp;<span class="string" id="2191749">&#39;F&#39;</span><span class="op" id="2191752">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191756">return</span>&nbsp;<span class="num" id="2191763">10</span>&nbsp;<span class="op" id="2191766">+</span>&nbsp;<span class="ident" id="2191768"><a href="/gostd/fmt/scan.go.html#2191547">digit</a></span>&nbsp;<span class="op" id="2191774">-</span>&nbsp;<span class="string" id="2191776">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2191781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2191784"><a href="/gostd/fmt/scan.go.html#2191516">s</a></span><span class="op" id="2191785">.</span><span class="ident" id="2191786"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2191797">(</span><span class="string" id="2191798">&#34;illegal&nbsp;hex&nbsp;digit&#34;</span><span class="op" id="2191817">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2191820">return</span>&nbsp;<span class="num" id="2191827">0</span><br>
<span class="lineno"></span><span class="op" id="2191829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2191832">//&nbsp;hexByte&nbsp;returns&nbsp;the&nbsp;next&nbsp;hex-encoded&nbsp;(two-character)&nbsp;byte&nbsp;from&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span><span class="comment" id="2191909">//&nbsp;There&nbsp;must&nbsp;be&nbsp;either&nbsp;two&nbsp;hexadecimal&nbsp;digits&nbsp;or&nbsp;a&nbsp;space&nbsp;character&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno">895</span><span class="keyword" id="2191991">func</span>&nbsp;<span class="op" id="2191996">(</span><span class="ident" id="2191997">s</span>&nbsp;<span class="op" id="2191999">*</span><span class="ident" id="2192000"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2192002">)</span>&nbsp;<span class="ident" id="2192004">hexByte</span><span class="op" id="2192011">(</span><span class="op" id="2192012">)</span>&nbsp;<span class="op" id="2192014">(</span><span class="ident" id="2192015">b</span>&nbsp;<span class="builtintype" id="2192017">byte</span><span class="op" id="2192021">,</span>&nbsp;<span class="ident" id="2192023">ok</span>&nbsp;<span class="builtintype" id="2192026">bool</span><span class="op" id="2192030">)</span>&nbsp;<span class="op" id="2192032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192035">rune1</span>&nbsp;<span class="op" id="2192041">:=</span>&nbsp;<span class="ident" id="2192044"><a href="/gostd/fmt/scan.go.html#2191997">s</a></span><span class="op" id="2192045">.</span><span class="ident" id="2192046"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2192053">(</span><span class="op" id="2192054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192057">if</span>&nbsp;<span class="ident" id="2192060"><a href="/gostd/fmt/scan.go.html#2192035">rune1</a></span>&nbsp;<span class="op" id="2192066">==</span>&nbsp;<span class="ident" id="2192069"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2192073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192077">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192085">}</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192088">if</span>&nbsp;<span class="ident" id="2192091"><a href="/gostd/fmt/scan.go.html#2177566">isSpace</a></span><span class="op" id="2192098">(</span><span class="ident" id="2192099"><a href="/gostd/fmt/scan.go.html#2192035">rune1</a></span><span class="op" id="2192104">)</span>&nbsp;<span class="op" id="2192106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192110"><a href="/gostd/fmt/scan.go.html#2191997">s</a></span><span class="op" id="2192111">.</span><span class="ident" id="2192112"><a href="/gostd/fmt/scan.go.html#2176641">UnreadRune</a></span><span class="op" id="2192122">(</span><span class="op" id="2192123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192127">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192138">rune2</span>&nbsp;<span class="op" id="2192144">:=</span>&nbsp;<span class="ident" id="2192147"><a href="/gostd/fmt/scan.go.html#2191997">s</a></span><span class="op" id="2192148">.</span><span class="ident" id="2192149"><a href="/gostd/fmt/scan.go.html#2176525">mustReadRune</a></span><span class="op" id="2192161">(</span><span class="op" id="2192162">)</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192165">return</span>&nbsp;<span class="builtintype" id="2192172">byte</span><span class="op" id="2192176">(</span><span class="ident" id="2192177"><a href="/gostd/fmt/scan.go.html#2191997">s</a></span><span class="op" id="2192178">.</span><span class="ident" id="2192179"><a href="/gostd/fmt/scan.go.html#2191523">hexDigit</a></span><span class="op" id="2192187">(</span><span class="ident" id="2192188"><a href="/gostd/fmt/scan.go.html#2192035">rune1</a></span><span class="op" id="2192193">)</span><span class="op" id="2192194">&lt;&lt;</span><span class="num" id="2192196">4</span>&nbsp;<span class="op" id="2192198">|</span>&nbsp;<span class="ident" id="2192200"><a href="/gostd/fmt/scan.go.html#2191997">s</a></span><span class="op" id="2192201">.</span><span class="ident" id="2192202"><a href="/gostd/fmt/scan.go.html#2191523">hexDigit</a></span><span class="op" id="2192210">(</span><span class="ident" id="2192211"><a href="/gostd/fmt/scan.go.html#2192138">rune2</a></span><span class="op" id="2192216">)</span><span class="op" id="2192217">)</span><span class="op" id="2192218">,</span>&nbsp;<span class="builtintype" id="2192220">true</span><br>
<span class="lineno"></span><span class="op" id="2192225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2192228">//&nbsp;hexString&nbsp;returns&nbsp;the&nbsp;space-delimited&nbsp;hexpair-encoded&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2192293">func</span>&nbsp;<span class="op" id="2192298">(</span><span class="ident" id="2192299">s</span>&nbsp;<span class="op" id="2192301">*</span><span class="ident" id="2192302"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2192304">)</span>&nbsp;<span class="ident" id="2192306">hexString</span><span class="op" id="2192315">(</span><span class="op" id="2192316">)</span>&nbsp;<span class="builtintype" id="2192318">string</span>&nbsp;<span class="op" id="2192325">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192328"><a href="/gostd/fmt/scan.go.html#2192299">s</a></span><span class="op" id="2192329">.</span><span class="ident" id="2192330"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2192336">(</span><span class="op" id="2192337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192340">for</span>&nbsp;<span class="op" id="2192344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192348">b</span><span class="op" id="2192349">,</span>&nbsp;<span class="ident" id="2192351">ok</span>&nbsp;<span class="op" id="2192354">:=</span>&nbsp;<span class="ident" id="2192357"><a href="/gostd/fmt/scan.go.html#2192299">s</a></span><span class="op" id="2192358">.</span><span class="ident" id="2192359"><a href="/gostd/fmt/scan.go.html#2192004">hexByte</a></span><span class="op" id="2192366">(</span><span class="op" id="2192367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192371">if</span>&nbsp;<span class="op" id="2192374">!</span><span class="ident" id="2192375"><a href="/gostd/fmt/scan.go.html#2192351">ok</a></span>&nbsp;<span class="op" id="2192378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192383">break</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192395"><a href="/gostd/fmt/scan.go.html#2192299">s</a></span><span class="op" id="2192396">.</span><span class="ident" id="2192397"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2192400">.</span><span class="ident" id="2192401"><a href="/gostd/fmt/print.go.html#2140886">WriteByte</a></span><span class="op" id="2192410">(</span><span class="ident" id="2192411"><a href="/gostd/fmt/scan.go.html#2192348">b</a></span><span class="op" id="2192412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192418">if</span>&nbsp;<span class="builtinfunc" id="2192421">len</span><span class="op" id="2192424">(</span><span class="ident" id="2192425"><a href="/gostd/fmt/scan.go.html#2192299">s</a></span><span class="op" id="2192426">.</span><span class="ident" id="2192427"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2192430">)</span>&nbsp;<span class="op" id="2192432">==</span>&nbsp;<span class="num" id="2192435">0</span>&nbsp;<span class="op" id="2192437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192441"><a href="/gostd/fmt/scan.go.html#2192299">s</a></span><span class="op" id="2192442">.</span><span class="ident" id="2192443"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2192454">(</span><span class="string" id="2192455">&#34;no&nbsp;hex&nbsp;data&nbsp;for&nbsp;%x&nbsp;string&#34;</span><span class="op" id="2192482">)</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192486">return</span>&nbsp;<span class="string" id="2192493">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192500">return</span>&nbsp;<span class="builtintype" id="2192507">string</span><span class="op" id="2192513">(</span><span class="ident" id="2192514"><a href="/gostd/fmt/scan.go.html#2192299">s</a></span><span class="op" id="2192515">.</span><span class="ident" id="2192516"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2192519">)</span><br>
<span class="lineno"></span><span class="op" id="2192521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="keyword" id="2192524">const</span>&nbsp;<span class="ident" id="2192530">floatVerbs</span>&nbsp;<span class="op" id="2192541">=</span>&nbsp;<span class="string" id="2192543">&#34;beEfFgGv&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2192555">const</span>&nbsp;<span class="ident" id="2192561">hugeWid</span>&nbsp;<span class="op" id="2192569">=</span>&nbsp;<span class="num" id="2192571">1</span>&nbsp;<span class="op" id="2192573">&lt;&lt;</span>&nbsp;<span class="num" id="2192576">30</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2192580">//&nbsp;scanOne&nbsp;scans&nbsp;a&nbsp;single&nbsp;value,&nbsp;deriving&nbsp;the&nbsp;scanner&nbsp;from&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;argument.</span><br>
<span class="lineno">930</span><span class="keyword" id="2192665">func</span>&nbsp;<span class="op" id="2192670">(</span><span class="ident" id="2192671">s</span>&nbsp;<span class="op" id="2192673">*</span><span class="ident" id="2192674"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2192676">)</span>&nbsp;<span class="ident" id="2192678">scanOne</span><span class="op" id="2192685">(</span><span class="ident" id="2192686">verb</span>&nbsp;<span class="builtintype" id="2192691">rune</span><span class="op" id="2192695">,</span>&nbsp;<span class="ident" id="2192697">arg</span>&nbsp;<span class="keyword" id="2192701">interface</span><span class="op" id="2192710">{</span><span class="op" id="2192711">}</span><span class="op" id="2192712">)</span>&nbsp;<span class="op" id="2192714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192717"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2192718">.</span><span class="ident" id="2192719"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span>&nbsp;<span class="op" id="2192723">=</span>&nbsp;<span class="ident" id="2192725"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2192726">.</span><span class="ident" id="2192727"><a href="/gostd/fmt/scan.go.html#2174578">buf</a></span><span class="op" id="2192730">[</span><span class="op" id="2192731">:</span><span class="num" id="2192732">0</span><span class="op" id="2192733">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192736">var</span>&nbsp;<span class="ident" id="2192740">err</span>&nbsp;<span class="builtintype" id="2192744">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2192751">//&nbsp;If&nbsp;the&nbsp;parameter&nbsp;has&nbsp;its&nbsp;own&nbsp;Scan&nbsp;method,&nbsp;use&nbsp;that.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192807">if</span>&nbsp;<span class="ident" id="2192810">v</span><span class="op" id="2192811">,</span>&nbsp;<span class="ident" id="2192813">ok</span>&nbsp;<span class="op" id="2192816">:=</span>&nbsp;<span class="ident" id="2192819"><a href="/gostd/fmt/scan.go.html#2192697">arg</a></span><span class="op" id="2192822">.</span><span class="op" id="2192823">(</span><span class="ident" id="2192824"><a href="/gostd/fmt/scan.go.html#2171191">Scanner</a></span><span class="op" id="2192831">)</span><span class="op" id="2192832">;</span>&nbsp;<span class="ident" id="2192834"><a href="/gostd/fmt/scan.go.html#2192813">ok</a></span>&nbsp;<span class="op" id="2192837">{</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192841"><a href="/gostd/fmt/scan.go.html#2192740">err</a></span>&nbsp;<span class="op" id="2192845">=</span>&nbsp;<span class="ident" id="2192847"><a href="/gostd/fmt/scan.go.html#2192810">v</a></span><span class="op" id="2192848">.</span><span class="ident" id="2192849"><a href="/gostd/fmt/scan.go.html#2171212">Scan</a></span><span class="op" id="2192853">(</span><span class="ident" id="2192854"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2192855">,</span>&nbsp;<span class="ident" id="2192857"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2192861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192865">if</span>&nbsp;<span class="ident" id="2192868"><a href="/gostd/fmt/scan.go.html#2192740">err</a></span>&nbsp;<span class="op" id="2192872">!=</span>&nbsp;<span class="builtintype" id="2192875">nil</span>&nbsp;<span class="op" id="2192879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192884">if</span>&nbsp;<span class="ident" id="2192887"><a href="/gostd/fmt/scan.go.html#2192740">err</a></span>&nbsp;<span class="op" id="2192891">==</span>&nbsp;<span class="ident" id="2192894"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2192896">.</span><span class="ident" id="2192897"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="2192901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192907"><a href="/gostd/fmt/scan.go.html#2192740">err</a></span>&nbsp;<span class="op" id="2192911">=</span>&nbsp;<span class="ident" id="2192913"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2192915">.</span><span class="ident" id="2192916"><a href="/gostd/io/io.go.html#1420096">ErrUnexpectedEOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192936">}</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2192941"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2192942">.</span><span class="builtintype" id="2192943"><a href="/gostd/fmt/scan.go.html#2176813">error</a></span><span class="op" id="2192948">(</span><span class="ident" id="2192949"><a href="/gostd/fmt/scan.go.html#2192740">err</a></span><span class="op" id="2192952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192960">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2192968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192972">switch</span>&nbsp;<span class="ident" id="2192979">v</span>&nbsp;<span class="op" id="2192981">:=</span>&nbsp;<span class="ident" id="2192984"><a href="/gostd/fmt/scan.go.html#2192697">arg</a></span><span class="op" id="2192987">.</span><span class="op" id="2192988">(</span><span class="keyword" id="2192989">type</span><span class="op" id="2192993">)</span>&nbsp;<span class="op" id="2192995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2192998">case</span>&nbsp;<span class="op" id="2193003">*</span><span class="builtintype" id="2193004">bool</span><span class="op" id="2193008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193012">*</span><span class="ident" id="2193013"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193015">=</span>&nbsp;<span class="ident" id="2193017"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193018">.</span><span class="ident" id="2193019"><a href="/gostd/fmt/scan.go.html#2183248">scanBool</a></span><span class="op" id="2193027">(</span><span class="ident" id="2193028"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193035">case</span>&nbsp;<span class="op" id="2193040">*</span><span class="builtintype" id="2193041">complex64</span><span class="op" id="2193050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193054">*</span><span class="ident" id="2193055"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193057">=</span>&nbsp;<span class="builtintype" id="2193059">complex64</span><span class="op" id="2193068">(</span><span class="ident" id="2193069"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193070">.</span><span class="ident" id="2193071"><a href="/gostd/fmt/scan.go.html#2189679">scanComplex</a></span><span class="op" id="2193082">(</span><span class="ident" id="2193083"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193087">,</span>&nbsp;<span class="num" id="2193089">64</span><span class="op" id="2193091">)</span><span class="op" id="2193092">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193095">case</span>&nbsp;<span class="op" id="2193100">*</span><span class="builtintype" id="2193101">complex128</span><span class="op" id="2193111">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193115">*</span><span class="ident" id="2193116"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193118">=</span>&nbsp;<span class="ident" id="2193120"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193121">.</span><span class="ident" id="2193122"><a href="/gostd/fmt/scan.go.html#2189679">scanComplex</a></span><span class="op" id="2193133">(</span><span class="ident" id="2193134"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193138">,</span>&nbsp;<span class="num" id="2193140">128</span><span class="op" id="2193143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193146">case</span>&nbsp;<span class="op" id="2193151">*</span><span class="builtintype" id="2193152">int</span><span class="op" id="2193155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193159">*</span><span class="ident" id="2193160"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193162">=</span>&nbsp;<span class="builtintype" id="2193164">int</span><span class="op" id="2193167">(</span><span class="ident" id="2193168"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193169">.</span><span class="ident" id="2193170"><a href="/gostd/fmt/scan.go.html#2185708">scanInt</a></span><span class="op" id="2193177">(</span><span class="ident" id="2193178"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193182">,</span>&nbsp;<span class="ident" id="2193184"><a href="/gostd/fmt/print.go.html#2152945">intBits</a></span><span class="op" id="2193191">)</span><span class="op" id="2193192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193195">case</span>&nbsp;<span class="op" id="2193200">*</span><span class="builtintype" id="2193201">int8</span><span class="op" id="2193205">:</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193209">*</span><span class="ident" id="2193210"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193212">=</span>&nbsp;<span class="builtintype" id="2193214">int8</span><span class="op" id="2193218">(</span><span class="ident" id="2193219"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193220">.</span><span class="ident" id="2193221"><a href="/gostd/fmt/scan.go.html#2185708">scanInt</a></span><span class="op" id="2193228">(</span><span class="ident" id="2193229"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193233">,</span>&nbsp;<span class="num" id="2193235">8</span><span class="op" id="2193236">)</span><span class="op" id="2193237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193240">case</span>&nbsp;<span class="op" id="2193245">*</span><span class="builtintype" id="2193246">int16</span><span class="op" id="2193251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193255">*</span><span class="ident" id="2193256"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193258">=</span>&nbsp;<span class="builtintype" id="2193260">int16</span><span class="op" id="2193265">(</span><span class="ident" id="2193266"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193267">.</span><span class="ident" id="2193268"><a href="/gostd/fmt/scan.go.html#2185708">scanInt</a></span><span class="op" id="2193275">(</span><span class="ident" id="2193276"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193280">,</span>&nbsp;<span class="num" id="2193282">16</span><span class="op" id="2193284">)</span><span class="op" id="2193285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193288">case</span>&nbsp;<span class="op" id="2193293">*</span><span class="builtintype" id="2193294">int32</span><span class="op" id="2193299">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193303">*</span><span class="ident" id="2193304"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193306">=</span>&nbsp;<span class="builtintype" id="2193308">int32</span><span class="op" id="2193313">(</span><span class="ident" id="2193314"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193315">.</span><span class="ident" id="2193316"><a href="/gostd/fmt/scan.go.html#2185708">scanInt</a></span><span class="op" id="2193323">(</span><span class="ident" id="2193324"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193328">,</span>&nbsp;<span class="num" id="2193330">32</span><span class="op" id="2193332">)</span><span class="op" id="2193333">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193336">case</span>&nbsp;<span class="op" id="2193341">*</span><span class="builtintype" id="2193342">int64</span><span class="op" id="2193347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193351">*</span><span class="ident" id="2193352"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193354">=</span>&nbsp;<span class="ident" id="2193356"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193357">.</span><span class="ident" id="2193358"><a href="/gostd/fmt/scan.go.html#2185708">scanInt</a></span><span class="op" id="2193365">(</span><span class="ident" id="2193366"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193370">,</span>&nbsp;<span class="num" id="2193372">64</span><span class="op" id="2193374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193377">case</span>&nbsp;<span class="op" id="2193382">*</span><span class="builtintype" id="2193383">uint</span><span class="op" id="2193387">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193391">*</span><span class="ident" id="2193392"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193394">=</span>&nbsp;<span class="builtintype" id="2193396">uint</span><span class="op" id="2193400">(</span><span class="ident" id="2193401"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193402">.</span><span class="ident" id="2193403"><a href="/gostd/fmt/scan.go.html#2186572">scanUint</a></span><span class="op" id="2193411">(</span><span class="ident" id="2193412"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193416">,</span>&nbsp;<span class="ident" id="2193418"><a href="/gostd/fmt/print.go.html#2152945">intBits</a></span><span class="op" id="2193425">)</span><span class="op" id="2193426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193429">case</span>&nbsp;<span class="op" id="2193434">*</span><span class="builtintype" id="2193435">uint8</span><span class="op" id="2193440">:</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193444">*</span><span class="ident" id="2193445"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193447">=</span>&nbsp;<span class="builtintype" id="2193449">uint8</span><span class="op" id="2193454">(</span><span class="ident" id="2193455"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193456">.</span><span class="ident" id="2193457"><a href="/gostd/fmt/scan.go.html#2186572">scanUint</a></span><span class="op" id="2193465">(</span><span class="ident" id="2193466"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193470">,</span>&nbsp;<span class="num" id="2193472">8</span><span class="op" id="2193473">)</span><span class="op" id="2193474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193477">case</span>&nbsp;<span class="op" id="2193482">*</span><span class="builtintype" id="2193483">uint16</span><span class="op" id="2193489">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193493">*</span><span class="ident" id="2193494"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193496">=</span>&nbsp;<span class="builtintype" id="2193498">uint16</span><span class="op" id="2193504">(</span><span class="ident" id="2193505"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193506">.</span><span class="ident" id="2193507"><a href="/gostd/fmt/scan.go.html#2186572">scanUint</a></span><span class="op" id="2193515">(</span><span class="ident" id="2193516"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193520">,</span>&nbsp;<span class="num" id="2193522">16</span><span class="op" id="2193524">)</span><span class="op" id="2193525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193528">case</span>&nbsp;<span class="op" id="2193533">*</span><span class="builtintype" id="2193534">uint32</span><span class="op" id="2193540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193544">*</span><span class="ident" id="2193545"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193547">=</span>&nbsp;<span class="builtintype" id="2193549">uint32</span><span class="op" id="2193555">(</span><span class="ident" id="2193556"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193557">.</span><span class="ident" id="2193558"><a href="/gostd/fmt/scan.go.html#2186572">scanUint</a></span><span class="op" id="2193566">(</span><span class="ident" id="2193567"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193571">,</span>&nbsp;<span class="num" id="2193573">32</span><span class="op" id="2193575">)</span><span class="op" id="2193576">)</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193579">case</span>&nbsp;<span class="op" id="2193584">*</span><span class="builtintype" id="2193585">uint64</span><span class="op" id="2193591">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193595">*</span><span class="ident" id="2193596"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193598">=</span>&nbsp;<span class="ident" id="2193600"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193601">.</span><span class="ident" id="2193602"><a href="/gostd/fmt/scan.go.html#2186572">scanUint</a></span><span class="op" id="2193610">(</span><span class="ident" id="2193611"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193615">,</span>&nbsp;<span class="num" id="2193617">64</span><span class="op" id="2193619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193622">case</span>&nbsp;<span class="op" id="2193627">*</span><span class="builtintype" id="2193628">uintptr</span><span class="op" id="2193635">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193639">*</span><span class="ident" id="2193640"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193642">=</span>&nbsp;<span class="builtintype" id="2193644">uintptr</span><span class="op" id="2193651">(</span><span class="ident" id="2193652"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193653">.</span><span class="ident" id="2193654"><a href="/gostd/fmt/scan.go.html#2186572">scanUint</a></span><span class="op" id="2193662">(</span><span class="ident" id="2193663"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193667">,</span>&nbsp;<span class="ident" id="2193669"><a href="/gostd/fmt/print.go.html#2152985">uintptrBits</a></span><span class="op" id="2193680">)</span><span class="op" id="2193681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2193684">//&nbsp;Floats&nbsp;are&nbsp;tricky&nbsp;because&nbsp;you&nbsp;want&nbsp;to&nbsp;scan&nbsp;in&nbsp;the&nbsp;precision&nbsp;of&nbsp;the&nbsp;result,&nbsp;not</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2193767">//&nbsp;scan&nbsp;in&nbsp;high&nbsp;precision&nbsp;and&nbsp;convert,&nbsp;in&nbsp;order&nbsp;to&nbsp;preserve&nbsp;the&nbsp;correct&nbsp;error&nbsp;condition.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193857">case</span>&nbsp;<span class="op" id="2193862">*</span><span class="builtintype" id="2193863">float32</span><span class="op" id="2193870">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2193874">if</span>&nbsp;<span class="ident" id="2193877"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193878">.</span><span class="ident" id="2193879"><a href="/gostd/fmt/scan.go.html#2182968">okVerb</a></span><span class="op" id="2193885">(</span><span class="ident" id="2193886"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2193890">,</span>&nbsp;<span class="ident" id="2193892"><a href="/gostd/fmt/scan.go.html#2192530">floatVerbs</a></span><span class="op" id="2193902">,</span>&nbsp;<span class="string" id="2193904">&#34;float32&#34;</span><span class="op" id="2193913">)</span>&nbsp;<span class="op" id="2193915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2193920"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193921">.</span><span class="ident" id="2193922"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2193931">(</span><span class="builtintype" id="2193932">false</span><span class="op" id="2193937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2193942"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193943">.</span><span class="ident" id="2193944"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2193950">(</span><span class="op" id="2193951">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2193956">*</span><span class="ident" id="2193957"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2193959">=</span>&nbsp;<span class="builtintype" id="2193961">float32</span><span class="op" id="2193968">(</span><span class="ident" id="2193969"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193970">.</span><span class="ident" id="2193971"><a href="/gostd/fmt/scan.go.html#2188753">convertFloat</a></span><span class="op" id="2193983">(</span><span class="ident" id="2193984"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2193985">.</span><span class="ident" id="2193986"><a href="/gostd/fmt/scan.go.html#2187459">floatToken</a></span><span class="op" id="2193996">(</span><span class="op" id="2193997">)</span><span class="op" id="2193998">,</span>&nbsp;<span class="num" id="2194000">32</span><span class="op" id="2194002">)</span><span class="op" id="2194003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2194007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194010">case</span>&nbsp;<span class="op" id="2194015">*</span><span class="builtintype" id="2194016">float64</span><span class="op" id="2194023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194027">if</span>&nbsp;<span class="ident" id="2194030"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194031">.</span><span class="ident" id="2194032"><a href="/gostd/fmt/scan.go.html#2182968">okVerb</a></span><span class="op" id="2194038">(</span><span class="ident" id="2194039"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2194043">,</span>&nbsp;<span class="ident" id="2194045"><a href="/gostd/fmt/scan.go.html#2192530">floatVerbs</a></span><span class="op" id="2194055">,</span>&nbsp;<span class="string" id="2194057">&#34;float64&#34;</span><span class="op" id="2194066">)</span>&nbsp;<span class="op" id="2194068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194073"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194074">.</span><span class="ident" id="2194075"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2194084">(</span><span class="builtintype" id="2194085">false</span><span class="op" id="2194090">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194095"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194096">.</span><span class="ident" id="2194097"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2194103">(</span><span class="op" id="2194104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2194109">*</span><span class="ident" id="2194110"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2194112">=</span>&nbsp;<span class="ident" id="2194114"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194115">.</span><span class="ident" id="2194116"><a href="/gostd/fmt/scan.go.html#2188753">convertFloat</a></span><span class="op" id="2194128">(</span><span class="ident" id="2194129"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194130">.</span><span class="ident" id="2194131"><a href="/gostd/fmt/scan.go.html#2187459">floatToken</a></span><span class="op" id="2194141">(</span><span class="op" id="2194142">)</span><span class="op" id="2194143">,</span>&nbsp;<span class="num" id="2194145">64</span><span class="op" id="2194147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2194151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194154">case</span>&nbsp;<span class="op" id="2194159">*</span><span class="builtintype" id="2194160">string</span><span class="op" id="2194166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2194170">*</span><span class="ident" id="2194171"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2194173">=</span>&nbsp;<span class="ident" id="2194175"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194176">.</span><span class="ident" id="2194177"><a href="/gostd/fmt/scan.go.html#2190096">convertString</a></span><span class="op" id="2194190">(</span><span class="ident" id="2194191"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2194195">)</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194198">case</span>&nbsp;<span class="op" id="2194203">*</span><span class="op" id="2194204">[</span><span class="op" id="2194205">]</span><span class="builtintype" id="2194206">byte</span><span class="op" id="2194210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2194214">//&nbsp;We&nbsp;scan&nbsp;to&nbsp;string&nbsp;and&nbsp;convert&nbsp;so&nbsp;we&nbsp;get&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2194279">//&nbsp;If&nbsp;we&nbsp;scanned&nbsp;to&nbsp;bytes,&nbsp;the&nbsp;slice&nbsp;would&nbsp;point&nbsp;at&nbsp;the&nbsp;buffer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2194345">*</span><span class="ident" id="2194346"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span>&nbsp;<span class="op" id="2194348">=</span>&nbsp;<span class="op" id="2194350">[</span><span class="op" id="2194351">]</span><span class="builtintype" id="2194352">byte</span><span class="op" id="2194356">(</span><span class="ident" id="2194357"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194358">.</span><span class="ident" id="2194359"><a href="/gostd/fmt/scan.go.html#2190096">convertString</a></span><span class="op" id="2194372">(</span><span class="ident" id="2194373"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2194377">)</span><span class="op" id="2194378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194381">default</span><span class="op" id="2194388">:</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194392">val</span>&nbsp;<span class="op" id="2194396">:=</span>&nbsp;<span class="ident" id="2194399"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194406">.</span><span class="ident" id="2194407"><a href="/gostd/reflect/value.go.html#2892536">ValueOf</a></span><span class="op" id="2194414">(</span><span class="ident" id="2194415"><a href="/gostd/fmt/scan.go.html#2192979">v</a></span><span class="op" id="2194416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194420">ptr</span>&nbsp;<span class="op" id="2194424">:=</span>&nbsp;<span class="ident" id="2194427"><a href="/gostd/fmt/scan.go.html#2194392">val</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194433">if</span>&nbsp;<span class="ident" id="2194436"><a href="/gostd/fmt/scan.go.html#2194420">ptr</a></span><span class="op" id="2194439">.</span><span class="ident" id="2194440"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="2194444">(</span><span class="op" id="2194445">)</span>&nbsp;<span class="op" id="2194447">!=</span>&nbsp;<span class="ident" id="2194450"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194457">.</span><span class="ident" id="2194458"><a href="/gostd/reflect/type.go.html#2788057">Ptr</a></span>&nbsp;<span class="op" id="2194462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194467"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194468">.</span><span class="ident" id="2194469"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2194480">(</span><span class="string" id="2194481">&#34;type&nbsp;not&nbsp;a&nbsp;pointer:&nbsp;&#34;</span>&nbsp;<span class="op" id="2194504">+</span>&nbsp;<span class="ident" id="2194506"><a href="/gostd/fmt/scan.go.html#2194392">val</a></span><span class="op" id="2194509">.</span><span class="ident" id="2194510"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2194514">(</span><span class="op" id="2194515">)</span><span class="op" id="2194516">.</span><span class="ident" id="2194517"><a href="/gostd/reflect/type.go.html#2783552">String</a></span><span class="op" id="2194523">(</span><span class="op" id="2194524">)</span><span class="op" id="2194525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194530">return</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2194539">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194543">switch</span>&nbsp;<span class="ident" id="2194550">v</span>&nbsp;<span class="op" id="2194552">:=</span>&nbsp;<span class="ident" id="2194555"><a href="/gostd/fmt/scan.go.html#2194420">ptr</a></span><span class="op" id="2194558">.</span><span class="ident" id="2194559"><a href="/gostd/reflect/value.go.html#2853087">Elem</a></span><span class="op" id="2194563">(</span><span class="op" id="2194564">)</span><span class="op" id="2194565">;</span>&nbsp;<span class="ident" id="2194567"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2194568">.</span><span class="ident" id="2194569"><a href="/gostd/reflect/value.go.html#2861487">Kind</a></span><span class="op" id="2194573">(</span><span class="op" id="2194574">)</span>&nbsp;<span class="op" id="2194576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194580">case</span>&nbsp;<span class="ident" id="2194585"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194592">.</span><span class="ident" id="2194593"><a href="/gostd/reflect/type.go.html#2787897">Bool</a></span><span class="op" id="2194597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194602"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2194603">.</span><span class="ident" id="2194604"><a href="/gostd/reflect/value.go.html#2871885">SetBool</a></span><span class="op" id="2194611">(</span><span class="ident" id="2194612"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194613">.</span><span class="ident" id="2194614"><a href="/gostd/fmt/scan.go.html#2183248">scanBool</a></span><span class="op" id="2194622">(</span><span class="ident" id="2194623"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2194627">)</span><span class="op" id="2194628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194632">case</span>&nbsp;<span class="ident" id="2194637"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194644">.</span><span class="ident" id="2194645"><a href="/gostd/reflect/type.go.html#2787903">Int</a></span><span class="op" id="2194648">,</span>&nbsp;<span class="ident" id="2194650"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194657">.</span><span class="ident" id="2194658"><a href="/gostd/reflect/type.go.html#2787908">Int8</a></span><span class="op" id="2194662">,</span>&nbsp;<span class="ident" id="2194664"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194671">.</span><span class="ident" id="2194672"><a href="/gostd/reflect/type.go.html#2787914">Int16</a></span><span class="op" id="2194677">,</span>&nbsp;<span class="ident" id="2194679"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194686">.</span><span class="ident" id="2194687"><a href="/gostd/reflect/type.go.html#2787921">Int32</a></span><span class="op" id="2194692">,</span>&nbsp;<span class="ident" id="2194694"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194701">.</span><span class="ident" id="2194702"><a href="/gostd/reflect/type.go.html#2787928">Int64</a></span><span class="op" id="2194707">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194712"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2194713">.</span><span class="ident" id="2194714"><a href="/gostd/reflect/value.go.html#2873471">SetInt</a></span><span class="op" id="2194720">(</span><span class="ident" id="2194721"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194722">.</span><span class="ident" id="2194723"><a href="/gostd/fmt/scan.go.html#2185708">scanInt</a></span><span class="op" id="2194730">(</span><span class="ident" id="2194731"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2194735">,</span>&nbsp;<span class="ident" id="2194737"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2194738">.</span><span class="ident" id="2194739"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2194743">(</span><span class="op" id="2194744">)</span><span class="op" id="2194745">.</span><span class="ident" id="2194746"><a href="/gostd/reflect/type.go.html#2784551">Bits</a></span><span class="op" id="2194750">(</span><span class="op" id="2194751">)</span><span class="op" id="2194752">)</span><span class="op" id="2194753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194757">case</span>&nbsp;<span class="ident" id="2194762"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194769">.</span><span class="ident" id="2194770"><a href="/gostd/reflect/type.go.html#2787935">Uint</a></span><span class="op" id="2194774">,</span>&nbsp;<span class="ident" id="2194776"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194783">.</span><span class="ident" id="2194784"><a href="/gostd/reflect/type.go.html#2787941">Uint8</a></span><span class="op" id="2194789">,</span>&nbsp;<span class="ident" id="2194791"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194798">.</span><span class="ident" id="2194799"><a href="/gostd/reflect/type.go.html#2787948">Uint16</a></span><span class="op" id="2194805">,</span>&nbsp;<span class="ident" id="2194807"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194814">.</span><span class="ident" id="2194815"><a href="/gostd/reflect/type.go.html#2787956">Uint32</a></span><span class="op" id="2194821">,</span>&nbsp;<span class="ident" id="2194823"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194830">.</span><span class="ident" id="2194831"><a href="/gostd/reflect/type.go.html#2787964">Uint64</a></span><span class="op" id="2194837">,</span>&nbsp;<span class="ident" id="2194839"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194846">.</span><span class="ident" id="2194847"><a href="/gostd/reflect/type.go.html#2787972">Uintptr</a></span><span class="op" id="2194854">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194859"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2194860">.</span><span class="ident" id="2194861"><a href="/gostd/reflect/value.go.html#2875658">SetUint</a></span><span class="op" id="2194868">(</span><span class="ident" id="2194869"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194870">.</span><span class="ident" id="2194871"><a href="/gostd/fmt/scan.go.html#2186572">scanUint</a></span><span class="op" id="2194879">(</span><span class="ident" id="2194880"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2194884">,</span>&nbsp;<span class="ident" id="2194886"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2194887">.</span><span class="ident" id="2194888"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2194892">(</span><span class="op" id="2194893">)</span><span class="op" id="2194894">.</span><span class="ident" id="2194895"><a href="/gostd/reflect/type.go.html#2784551">Bits</a></span><span class="op" id="2194899">(</span><span class="op" id="2194900">)</span><span class="op" id="2194901">)</span><span class="op" id="2194902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194906">case</span>&nbsp;<span class="ident" id="2194911"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194918">.</span><span class="ident" id="2194919"><a href="/gostd/reflect/type.go.html#2788069">String</a></span><span class="op" id="2194925">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2194930"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2194931">.</span><span class="ident" id="2194932"><a href="/gostd/reflect/value.go.html#2876411">SetString</a></span><span class="op" id="2194941">(</span><span class="ident" id="2194942"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2194943">.</span><span class="ident" id="2194944"><a href="/gostd/fmt/scan.go.html#2190096">convertString</a></span><span class="op" id="2194957">(</span><span class="ident" id="2194958"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2194962">)</span><span class="op" id="2194963">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2194967">case</span>&nbsp;<span class="ident" id="2194972"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2194979">.</span><span class="ident" id="2194980"><a href="/gostd/reflect/type.go.html#2788062">Slice</a></span><span class="op" id="2194985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2194990">//&nbsp;For&nbsp;now,&nbsp;can&nbsp;only&nbsp;handle&nbsp;(renamed)&nbsp;[]byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195039">typ</span>&nbsp;<span class="op" id="2195043">:=</span>&nbsp;<span class="ident" id="2195046"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2195047">.</span><span class="ident" id="2195048"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2195052">(</span><span class="op" id="2195053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2195058">if</span>&nbsp;<span class="ident" id="2195061"><a href="/gostd/fmt/scan.go.html#2195039">typ</a></span><span class="op" id="2195064">.</span><span class="ident" id="2195065"><a href="/gostd/reflect/type.go.html#2785263">Elem</a></span><span class="op" id="2195069">(</span><span class="op" id="2195070">)</span><span class="op" id="2195071">.</span><span class="ident" id="2195072"><a href="/gostd/reflect/type.go.html#2783619">Kind</a></span><span class="op" id="2195076">(</span><span class="op" id="2195077">)</span>&nbsp;<span class="op" id="2195079">!=</span>&nbsp;<span class="ident" id="2195082"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2195089">.</span><span class="ident" id="2195090"><a href="/gostd/reflect/type.go.html#2787941">Uint8</a></span>&nbsp;<span class="op" id="2195096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195102"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195103">.</span><span class="ident" id="2195104"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2195115">(</span><span class="string" id="2195116">&#34;can&#39;t&nbsp;scan&nbsp;type:&nbsp;&#34;</span>&nbsp;<span class="op" id="2195136">+</span>&nbsp;<span class="ident" id="2195138"><a href="/gostd/fmt/scan.go.html#2194392">val</a></span><span class="op" id="2195141">.</span><span class="ident" id="2195142"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2195146">(</span><span class="op" id="2195147">)</span><span class="op" id="2195148">.</span><span class="ident" id="2195149"><a href="/gostd/reflect/type.go.html#2783552">String</a></span><span class="op" id="2195155">(</span><span class="op" id="2195156">)</span><span class="op" id="2195157">)</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195162">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195167">str</span>&nbsp;<span class="op" id="2195171">:=</span>&nbsp;<span class="ident" id="2195174"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195175">.</span><span class="ident" id="2195176"><a href="/gostd/fmt/scan.go.html#2190096">convertString</a></span><span class="op" id="2195189">(</span><span class="ident" id="2195190"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2195194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195199"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2195200">.</span><span class="ident" id="2195201"><a href="/gostd/reflect/value.go.html#2871444">Set</a></span><span class="op" id="2195204">(</span><span class="ident" id="2195205"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2195212">.</span><span class="ident" id="2195213"><a href="/gostd/reflect/value.go.html#2891043">MakeSlice</a></span><span class="op" id="2195222">(</span><span class="ident" id="2195223"><a href="/gostd/fmt/scan.go.html#2195039">typ</a></span><span class="op" id="2195226">,</span>&nbsp;<span class="builtinfunc" id="2195228">len</span><span class="op" id="2195231">(</span><span class="ident" id="2195232"><a href="/gostd/fmt/scan.go.html#2195167">str</a></span><span class="op" id="2195235">)</span><span class="op" id="2195236">,</span>&nbsp;<span class="builtinfunc" id="2195238">len</span><span class="op" id="2195241">(</span><span class="ident" id="2195242"><a href="/gostd/fmt/scan.go.html#2195167">str</a></span><span class="op" id="2195245">)</span><span class="op" id="2195246">)</span><span class="op" id="2195247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2195252">for</span>&nbsp;<span class="ident" id="2195256">i</span>&nbsp;<span class="op" id="2195258">:=</span>&nbsp;<span class="num" id="2195261">0</span><span class="op" id="2195262">;</span>&nbsp;<span class="ident" id="2195264"><a href="/gostd/fmt/scan.go.html#2195256">i</a></span>&nbsp;<span class="op" id="2195266">&lt;</span>&nbsp;<span class="builtinfunc" id="2195268">len</span><span class="op" id="2195271">(</span><span class="ident" id="2195272"><a href="/gostd/fmt/scan.go.html#2195167">str</a></span><span class="op" id="2195275">)</span><span class="op" id="2195276">;</span>&nbsp;<span class="ident" id="2195278"><a href="/gostd/fmt/scan.go.html#2195256">i</a></span><span class="op" id="2195279">++</span>&nbsp;<span class="op" id="2195282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195288"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2195289">.</span><span class="ident" id="2195290"><a href="/gostd/reflect/value.go.html#2856377">Index</a></span><span class="op" id="2195295">(</span><span class="ident" id="2195296"><a href="/gostd/fmt/scan.go.html#2195256">i</a></span><span class="op" id="2195297">)</span><span class="op" id="2195298">.</span><span class="ident" id="2195299"><a href="/gostd/reflect/value.go.html#2875658">SetUint</a></span><span class="op" id="2195306">(</span><span class="builtintype" id="2195307">uint64</span><span class="op" id="2195313">(</span><span class="ident" id="2195314"><a href="/gostd/fmt/scan.go.html#2195167">str</a></span><span class="op" id="2195317">[</span><span class="ident" id="2195318"><a href="/gostd/fmt/scan.go.html#2195256">i</a></span><span class="op" id="2195319">]</span><span class="op" id="2195320">)</span><span class="op" id="2195321">)</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2195330">case</span>&nbsp;<span class="ident" id="2195335"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2195342">.</span><span class="ident" id="2195343"><a href="/gostd/reflect/type.go.html#2787981">Float32</a></span><span class="op" id="2195350">,</span>&nbsp;<span class="ident" id="2195352"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2195359">.</span><span class="ident" id="2195360"><a href="/gostd/reflect/type.go.html#2787990">Float64</a></span><span class="op" id="2195367">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195372"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195373">.</span><span class="ident" id="2195374"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2195383">(</span><span class="builtintype" id="2195384">false</span><span class="op" id="2195389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195394"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195395">.</span><span class="ident" id="2195396"><a href="/gostd/fmt/scan.go.html#2182516">notEOF</a></span><span class="op" id="2195402">(</span><span class="op" id="2195403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195408"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2195409">.</span><span class="ident" id="2195410"><a href="/gostd/reflect/value.go.html#2873089">SetFloat</a></span><span class="op" id="2195418">(</span><span class="ident" id="2195419"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195420">.</span><span class="ident" id="2195421"><a href="/gostd/fmt/scan.go.html#2188753">convertFloat</a></span><span class="op" id="2195433">(</span><span class="ident" id="2195434"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195435">.</span><span class="ident" id="2195436"><a href="/gostd/fmt/scan.go.html#2187459">floatToken</a></span><span class="op" id="2195446">(</span><span class="op" id="2195447">)</span><span class="op" id="2195448">,</span>&nbsp;<span class="ident" id="2195450"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2195451">.</span><span class="ident" id="2195452"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2195456">(</span><span class="op" id="2195457">)</span><span class="op" id="2195458">.</span><span class="ident" id="2195459"><a href="/gostd/reflect/type.go.html#2784551">Bits</a></span><span class="op" id="2195463">(</span><span class="op" id="2195464">)</span><span class="op" id="2195465">)</span><span class="op" id="2195466">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2195470">case</span>&nbsp;<span class="ident" id="2195475"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2195482">.</span><span class="ident" id="2195483"><a href="/gostd/reflect/type.go.html#2787999">Complex64</a></span><span class="op" id="2195492">,</span>&nbsp;<span class="ident" id="2195494"><a href="/gostd/fmt/scan.go.html#2168769">reflect</a></span><span class="op" id="2195501">.</span><span class="ident" id="2195502"><a href="/gostd/reflect/type.go.html#2788010">Complex128</a></span><span class="op" id="2195512">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195517"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2195518">.</span><span class="ident" id="2195519"><a href="/gostd/reflect/value.go.html#2872701">SetComplex</a></span><span class="op" id="2195529">(</span><span class="ident" id="2195530"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195531">.</span><span class="ident" id="2195532"><a href="/gostd/fmt/scan.go.html#2189679">scanComplex</a></span><span class="op" id="2195543">(</span><span class="ident" id="2195544"><a href="/gostd/fmt/scan.go.html#2192686">verb</a></span><span class="op" id="2195548">,</span>&nbsp;<span class="ident" id="2195550"><a href="/gostd/fmt/scan.go.html#2194550">v</a></span><span class="op" id="2195551">.</span><span class="ident" id="2195552"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2195556">(</span><span class="op" id="2195557">)</span><span class="op" id="2195558">.</span><span class="ident" id="2195559"><a href="/gostd/reflect/type.go.html#2784551">Bits</a></span><span class="op" id="2195563">(</span><span class="op" id="2195564">)</span><span class="op" id="2195565">)</span><span class="op" id="2195566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2195570">default</span><span class="op" id="2195577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2195582"><a href="/gostd/fmt/scan.go.html#2192671">s</a></span><span class="op" id="2195583">.</span><span class="ident" id="2195584"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2195595">(</span><span class="string" id="2195596">&#34;can&#39;t&nbsp;scan&nbsp;type:&nbsp;&#34;</span>&nbsp;<span class="op" id="2195616">+</span>&nbsp;<span class="ident" id="2195618"><a href="/gostd/fmt/scan.go.html#2194392">val</a></span><span class="op" id="2195621">.</span><span class="ident" id="2195622"><a href="/gostd/reflect/value.go.html#2880910">Type</a></span><span class="op" id="2195626">(</span><span class="op" id="2195627">)</span><span class="op" id="2195628">.</span><span class="ident" id="2195629"><a href="/gostd/reflect/type.go.html#2783552">String</a></span><span class="op" id="2195635">(</span><span class="op" id="2195636">)</span><span class="op" id="2195637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195641">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195644">}</span><br>
<span class="lineno"></span><span class="op" id="2195646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2195649">//&nbsp;errorHandler&nbsp;turns&nbsp;local&nbsp;panics&nbsp;into&nbsp;error&nbsp;returns.</span><br>
<span class="lineno"></span><span class="keyword" id="2195704">func</span>&nbsp;<span class="ident" id="2195709">errorHandler</span><span class="op" id="2195721">(</span><span class="ident" id="2195722">errp</span>&nbsp;<span class="op" id="2195727">*</span><span class="builtintype" id="2195728">error</span><span class="op" id="2195733">)</span>&nbsp;<span class="op" id="2195735">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2195738">if</span>&nbsp;<span class="ident" id="2195741">e</span>&nbsp;<span class="op" id="2195743">:=</span>&nbsp;<span class="builtinfunc" id="2195746">recover</span><span class="op" id="2195753">(</span><span class="op" id="2195754">)</span><span class="op" id="2195755">;</span>&nbsp;<span class="ident" id="2195757"><a href="/gostd/fmt/scan.go.html#2195741">e</a></span>&nbsp;<span class="op" id="2195759">!=</span>&nbsp;<span class="builtintype" id="2195762">nil</span>&nbsp;<span class="op" id="2195766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2195770">if</span>&nbsp;<span class="ident" id="2195773">se</span><span class="op" id="2195775">,</span>&nbsp;<span class="ident" id="2195777">ok</span>&nbsp;<span class="op" id="2195780">:=</span>&nbsp;<span class="ident" id="2195783"><a href="/gostd/fmt/scan.go.html#2195741">e</a></span><span class="op" id="2195784">.</span><span class="op" id="2195785">(</span><span class="ident" id="2195786"><a href="/gostd/fmt/scan.go.html#2174413">scanError</a></span><span class="op" id="2195795">)</span><span class="op" id="2195796">;</span>&nbsp;<span class="ident" id="2195798"><a href="/gostd/fmt/scan.go.html#2195777">ok</a></span>&nbsp;<span class="op" id="2195801">{</span>&nbsp;<span class="comment" id="2195803">//&nbsp;catch&nbsp;local&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195827">*</span><span class="ident" id="2195828"><a href="/gostd/fmt/scan.go.html#2195722">errp</a></span>&nbsp;<span class="op" id="2195833">=</span>&nbsp;<span class="ident" id="2195835"><a href="/gostd/fmt/scan.go.html#2195773">se</a></span><span class="op" id="2195837">.</span><span class="ident" id="2195838"><a href="/gostd/fmt/scan.go.html#2174433">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195844">}</span>&nbsp;<span class="keyword" id="2195846">else</span>&nbsp;<span class="keyword" id="2195851">if</span>&nbsp;<span class="ident" id="2195854">eof</span><span class="op" id="2195857">,</span>&nbsp;<span class="ident" id="2195859">ok</span>&nbsp;<span class="op" id="2195862">:=</span>&nbsp;<span class="ident" id="2195865"><a href="/gostd/fmt/scan.go.html#2195741">e</a></span><span class="op" id="2195866">.</span><span class="op" id="2195867">(</span><span class="builtintype" id="2195868">error</span><span class="op" id="2195873">)</span><span class="op" id="2195874">;</span>&nbsp;<span class="ident" id="2195876"><a href="/gostd/fmt/scan.go.html#2195859">ok</a></span>&nbsp;<span class="op" id="2195879">&amp;&amp;</span>&nbsp;<span class="ident" id="2195882"><a href="/gostd/fmt/scan.go.html#2195854">eof</a></span>&nbsp;<span class="op" id="2195886">==</span>&nbsp;<span class="ident" id="2195889"><a href="/gostd/fmt/scan.go.html#2168749">io</a></span><span class="op" id="2195891">.</span><span class="ident" id="2195892"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="2195896">{</span>&nbsp;<span class="comment" id="2195898">//&nbsp;out&nbsp;of&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195917">*</span><span class="ident" id="2195918"><a href="/gostd/fmt/scan.go.html#2195722">errp</a></span>&nbsp;<span class="op" id="2195923">=</span>&nbsp;<span class="ident" id="2195925"><a href="/gostd/fmt/scan.go.html#2195854">eof</a></span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195931">}</span>&nbsp;<span class="keyword" id="2195933">else</span>&nbsp;<span class="op" id="2195938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2195943">panic</span><span class="op" id="2195948">(</span><span class="ident" id="2195949"><a href="/gostd/fmt/scan.go.html#2195741">e</a></span><span class="op" id="2195950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2195957">}</span><br>
<span class="lineno"></span><span class="op" id="2195959">}</span><br>
<span class="lineno">1045</span><br>
<span class="lineno"></span><span class="comment" id="2195962">//&nbsp;doScan&nbsp;does&nbsp;the&nbsp;real&nbsp;work&nbsp;for&nbsp;scanning&nbsp;without&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2196029">func</span>&nbsp;<span class="op" id="2196034">(</span><span class="ident" id="2196035">s</span>&nbsp;<span class="op" id="2196037">*</span><span class="ident" id="2196038"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2196040">)</span>&nbsp;<span class="ident" id="2196042">doScan</span><span class="op" id="2196048">(</span><span class="ident" id="2196049">a</span>&nbsp;<span class="op" id="2196051">[</span><span class="op" id="2196052">]</span><span class="keyword" id="2196053">interface</span><span class="op" id="2196062">{</span><span class="op" id="2196063">}</span><span class="op" id="2196064">)</span>&nbsp;<span class="op" id="2196066">(</span><span class="ident" id="2196067">numProcessed</span>&nbsp;<span class="builtintype" id="2196080">int</span><span class="op" id="2196083">,</span>&nbsp;<span class="ident" id="2196085">err</span>&nbsp;<span class="builtintype" id="2196089">error</span><span class="op" id="2196094">)</span>&nbsp;<span class="op" id="2196096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196099">defer</span>&nbsp;<span class="ident" id="2196105"><a href="/gostd/fmt/scan.go.html#2195709">errorHandler</a></span><span class="op" id="2196117">(</span><span class="op" id="2196118">&amp;</span><span class="ident" id="2196119"><a href="/gostd/fmt/scan.go.html#2196085">err</a></span><span class="op" id="2196122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196125">for</span>&nbsp;<span class="ident" id="2196129">_</span><span class="op" id="2196130">,</span>&nbsp;<span class="ident" id="2196132">arg</span>&nbsp;<span class="op" id="2196136">:=</span>&nbsp;<span class="keyword" id="2196139">range</span>&nbsp;<span class="ident" id="2196145"><a href="/gostd/fmt/scan.go.html#2196049">a</a></span>&nbsp;<span class="op" id="2196147">{</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2196151"><a href="/gostd/fmt/scan.go.html#2196035">s</a></span><span class="op" id="2196152">.</span><span class="ident" id="2196153"><a href="/gostd/fmt/scan.go.html#2192678">scanOne</a></span><span class="op" id="2196160">(</span><span class="string" id="2196161">&#39;v&#39;</span><span class="op" id="2196164">,</span>&nbsp;<span class="ident" id="2196166"><a href="/gostd/fmt/scan.go.html#2196132">arg</a></span><span class="op" id="2196169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2196173"><a href="/gostd/fmt/scan.go.html#2196067">numProcessed</a></span><span class="op" id="2196185">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2196189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2196192">//&nbsp;Check&nbsp;for&nbsp;newline&nbsp;if&nbsp;required.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196227">if</span>&nbsp;<span class="op" id="2196230">!</span><span class="ident" id="2196231"><a href="/gostd/fmt/scan.go.html#2196035">s</a></span><span class="op" id="2196232">.</span><span class="ident" id="2196233"><a href="/gostd/fmt/scan.go.html#2175044">nlIsSpace</a></span>&nbsp;<span class="op" id="2196243">{</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196247">for</span>&nbsp;<span class="op" id="2196251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2196256">r</span>&nbsp;<span class="op" id="2196258">:=</span>&nbsp;<span class="ident" id="2196261"><a href="/gostd/fmt/scan.go.html#2196035">s</a></span><span class="op" id="2196262">.</span><span class="ident" id="2196263"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2196270">(</span><span class="op" id="2196271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196276">if</span>&nbsp;<span class="ident" id="2196279"><a href="/gostd/fmt/scan.go.html#2196256">r</a></span>&nbsp;<span class="op" id="2196281">==</span>&nbsp;<span class="string" id="2196284">&#39;\n&#39;</span>&nbsp;<span class="op" id="2196289">||</span>&nbsp;<span class="ident" id="2196292"><a href="/gostd/fmt/scan.go.html#2196256">r</a></span>&nbsp;<span class="op" id="2196294">==</span>&nbsp;<span class="ident" id="2196297"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2196301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196307">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2196316">}</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196321">if</span>&nbsp;<span class="op" id="2196324">!</span><span class="ident" id="2196325"><a href="/gostd/fmt/scan.go.html#2177566">isSpace</a></span><span class="op" id="2196332">(</span><span class="ident" id="2196333"><a href="/gostd/fmt/scan.go.html#2196256">r</a></span><span class="op" id="2196334">)</span>&nbsp;<span class="op" id="2196336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2196342"><a href="/gostd/fmt/scan.go.html#2196035">s</a></span><span class="op" id="2196343">.</span><span class="ident" id="2196344"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2196355">(</span><span class="string" id="2196356">&#34;expected&nbsp;newline&#34;</span><span class="op" id="2196374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196380">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2196389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2196393">}</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2196396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196399">return</span><br>
<span class="lineno"></span><span class="op" id="2196406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2196409">//&nbsp;advance&nbsp;determines&nbsp;whether&nbsp;the&nbsp;next&nbsp;characters&nbsp;in&nbsp;the&nbsp;input&nbsp;match</span><br>
<span class="lineno">1070</span><span class="comment" id="2196478">//&nbsp;those&nbsp;of&nbsp;the&nbsp;format.&nbsp;&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;(sic)&nbsp;consumed</span><br>
<span class="lineno"></span><span class="comment" id="2196549">//&nbsp;in&nbsp;the&nbsp;format.&nbsp;Newlines&nbsp;included,&nbsp;all&nbsp;runs&nbsp;of&nbsp;space&nbsp;characters&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2196618">//&nbsp;either&nbsp;input&nbsp;or&nbsp;format&nbsp;behave&nbsp;as&nbsp;a&nbsp;single&nbsp;space.&nbsp;This&nbsp;routine&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="2196688">//&nbsp;handles&nbsp;the&nbsp;%%&nbsp;case.&nbsp;&nbsp;If&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;zero,&nbsp;either&nbsp;format</span><br>
<span class="lineno"></span><span class="comment" id="2196756">//&nbsp;starts&nbsp;with&nbsp;a&nbsp;%&nbsp;(with&nbsp;no&nbsp;following&nbsp;%)&nbsp;or&nbsp;the&nbsp;input&nbsp;is&nbsp;empty.</span><br>
<span class="lineno">1075</span><span class="comment" id="2196820">//&nbsp;If&nbsp;it&nbsp;is&nbsp;negative,&nbsp;the&nbsp;input&nbsp;did&nbsp;not&nbsp;match&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2196878">func</span>&nbsp;<span class="op" id="2196883">(</span><span class="ident" id="2196884">s</span>&nbsp;<span class="op" id="2196886">*</span><span class="ident" id="2196887"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2196889">)</span>&nbsp;<span class="ident" id="2196891">advance</span><span class="op" id="2196898">(</span><span class="ident" id="2196899">format</span>&nbsp;<span class="builtintype" id="2196906">string</span><span class="op" id="2196912">)</span>&nbsp;<span class="op" id="2196914">(</span><span class="ident" id="2196915">i</span>&nbsp;<span class="builtintype" id="2196917">int</span><span class="op" id="2196920">)</span>&nbsp;<span class="op" id="2196922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196925">for</span>&nbsp;<span class="ident" id="2196929"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span>&nbsp;<span class="op" id="2196931">&lt;</span>&nbsp;<span class="builtinfunc" id="2196933">len</span><span class="op" id="2196936">(</span><span class="ident" id="2196937"><a href="/gostd/fmt/scan.go.html#2196899">format</a></span><span class="op" id="2196943">)</span>&nbsp;<span class="op" id="2196945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2196949">fmtc</span><span class="op" id="2196953">,</span>&nbsp;<span class="ident" id="2196955">w</span>&nbsp;<span class="op" id="2196957">:=</span>&nbsp;<span class="ident" id="2196960"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2196964">.</span><span class="ident" id="2196965"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2196983">(</span><span class="ident" id="2196984"><a href="/gostd/fmt/scan.go.html#2196899">format</a></span><span class="op" id="2196990">[</span><span class="ident" id="2196991"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span><span class="op" id="2196992">:</span><span class="op" id="2196993">]</span><span class="op" id="2196994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2196998">if</span>&nbsp;<span class="ident" id="2197001"><a href="/gostd/fmt/scan.go.html#2196949">fmtc</a></span>&nbsp;<span class="op" id="2197006">==</span>&nbsp;<span class="string" id="2197009">&#39;%&#39;</span>&nbsp;<span class="op" id="2197013">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2197018">//&nbsp;%%&nbsp;acts&nbsp;like&nbsp;a&nbsp;real&nbsp;percent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197052">nextc</span><span class="op" id="2197057">,</span>&nbsp;<span class="ident" id="2197059">_</span>&nbsp;<span class="op" id="2197061">:=</span>&nbsp;<span class="ident" id="2197064"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2197068">.</span><span class="ident" id="2197069"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2197087">(</span><span class="ident" id="2197088"><a href="/gostd/fmt/scan.go.html#2196899">format</a></span><span class="op" id="2197094">[</span><span class="ident" id="2197095"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span><span class="op" id="2197096">+</span><span class="ident" id="2197097"><a href="/gostd/fmt/scan.go.html#2196955">w</a></span><span class="op" id="2197098">:</span><span class="op" id="2197099">]</span><span class="op" id="2197100">)</span>&nbsp;<span class="comment" id="2197102">//&nbsp;will&nbsp;not&nbsp;match&nbsp;%&nbsp;if&nbsp;string&nbsp;is&nbsp;empty</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197144">if</span>&nbsp;<span class="ident" id="2197147"><a href="/gostd/fmt/scan.go.html#2197052">nextc</a></span>&nbsp;<span class="op" id="2197153">!=</span>&nbsp;<span class="string" id="2197156">&#39;%&#39;</span>&nbsp;<span class="op" id="2197160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197166">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197176">}</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197181"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span>&nbsp;<span class="op" id="2197183">+=</span>&nbsp;<span class="ident" id="2197186"><a href="/gostd/fmt/scan.go.html#2196955">w</a></span>&nbsp;<span class="comment" id="2197188">//&nbsp;skip&nbsp;the&nbsp;first&nbsp;%</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197214">sawSpace</span>&nbsp;<span class="op" id="2197223">:=</span>&nbsp;<span class="builtintype" id="2197226">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197234">for</span>&nbsp;<span class="ident" id="2197238"><a href="/gostd/fmt/scan.go.html#2177566">isSpace</a></span><span class="op" id="2197245">(</span><span class="ident" id="2197246"><a href="/gostd/fmt/scan.go.html#2196949">fmtc</a></span><span class="op" id="2197250">)</span>&nbsp;<span class="op" id="2197252">&amp;&amp;</span>&nbsp;<span class="ident" id="2197255"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span>&nbsp;<span class="op" id="2197257">&lt;</span>&nbsp;<span class="builtinfunc" id="2197259">len</span><span class="op" id="2197262">(</span><span class="ident" id="2197263"><a href="/gostd/fmt/scan.go.html#2196899">format</a></span><span class="op" id="2197269">)</span>&nbsp;<span class="op" id="2197271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197276"><a href="/gostd/fmt/scan.go.html#2197214">sawSpace</a></span>&nbsp;<span class="op" id="2197285">=</span>&nbsp;<span class="builtintype" id="2197287">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197295"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span>&nbsp;<span class="op" id="2197297">+=</span>&nbsp;<span class="ident" id="2197300"><a href="/gostd/fmt/scan.go.html#2196955">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197305"><a href="/gostd/fmt/scan.go.html#2196949">fmtc</a></span><span class="op" id="2197309">,</span>&nbsp;<span class="ident" id="2197311"><a href="/gostd/fmt/scan.go.html#2196955">w</a></span>&nbsp;<span class="op" id="2197313">=</span>&nbsp;<span class="ident" id="2197315"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2197319">.</span><span class="ident" id="2197320"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2197338">(</span><span class="ident" id="2197339"><a href="/gostd/fmt/scan.go.html#2196899">format</a></span><span class="op" id="2197345">[</span><span class="ident" id="2197346"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span><span class="op" id="2197347">:</span><span class="op" id="2197348">]</span><span class="op" id="2197349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197357">if</span>&nbsp;<span class="ident" id="2197360"><a href="/gostd/fmt/scan.go.html#2197214">sawSpace</a></span>&nbsp;<span class="op" id="2197369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2197374">//&nbsp;There&nbsp;was&nbsp;space&nbsp;in&nbsp;the&nbsp;format,&nbsp;so&nbsp;there&nbsp;should&nbsp;be&nbsp;space&nbsp;(EOF)</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2197442">//&nbsp;in&nbsp;the&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197462">inputc</span>&nbsp;<span class="op" id="2197469">:=</span>&nbsp;<span class="ident" id="2197472"><a href="/gostd/fmt/scan.go.html#2196884">s</a></span><span class="op" id="2197473">.</span><span class="ident" id="2197474"><a href="/gostd/fmt/scan.go.html#2176231">getRune</a></span><span class="op" id="2197481">(</span><span class="op" id="2197482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197487">if</span>&nbsp;<span class="ident" id="2197490"><a href="/gostd/fmt/scan.go.html#2197462">inputc</a></span>&nbsp;<span class="op" id="2197497">==</span>&nbsp;<span class="ident" id="2197500"><a href="/gostd/fmt/scan.go.html#2174452">eof</a></span>&nbsp;<span class="op" id="2197504">||</span>&nbsp;<span class="ident" id="2197507"><a href="/gostd/fmt/scan.go.html#2197462">inputc</a></span>&nbsp;<span class="op" id="2197514">==</span>&nbsp;<span class="string" id="2197517">&#39;\n&#39;</span>&nbsp;<span class="op" id="2197522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2197528">//&nbsp;If&nbsp;we&#39;ve&nbsp;reached&nbsp;a&nbsp;newline,&nbsp;stop&nbsp;now;&nbsp;don&#39;t&nbsp;read&nbsp;ahead.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197591">return</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197601">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197606">if</span>&nbsp;<span class="op" id="2197609">!</span><span class="ident" id="2197610"><a href="/gostd/fmt/scan.go.html#2177566">isSpace</a></span><span class="op" id="2197617">(</span><span class="ident" id="2197618"><a href="/gostd/fmt/scan.go.html#2197462">inputc</a></span><span class="op" id="2197624">)</span>&nbsp;<span class="op" id="2197626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2197632">//&nbsp;Space&nbsp;in&nbsp;format&nbsp;but&nbsp;not&nbsp;in&nbsp;input:&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197679"><a href="/gostd/fmt/scan.go.html#2196884">s</a></span><span class="op" id="2197680">.</span><span class="ident" id="2197681"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2197692">(</span><span class="string" id="2197693">&#34;expected&nbsp;space&nbsp;in&nbsp;input&nbsp;to&nbsp;match&nbsp;format&#34;</span><span class="op" id="2197734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197739">}</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197744"><a href="/gostd/fmt/scan.go.html#2196884">s</a></span><span class="op" id="2197745">.</span><span class="ident" id="2197746"><a href="/gostd/fmt/scan.go.html#2180860">skipSpace</a></span><span class="op" id="2197755">(</span><span class="builtintype" id="2197756">true</span><span class="op" id="2197760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197765">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197780">inputc</span>&nbsp;<span class="op" id="2197787">:=</span>&nbsp;<span class="ident" id="2197790"><a href="/gostd/fmt/scan.go.html#2196884">s</a></span><span class="op" id="2197791">.</span><span class="ident" id="2197792"><a href="/gostd/fmt/scan.go.html#2176525">mustReadRune</a></span><span class="op" id="2197804">(</span><span class="op" id="2197805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197809">if</span>&nbsp;<span class="ident" id="2197812"><a href="/gostd/fmt/scan.go.html#2196949">fmtc</a></span>&nbsp;<span class="op" id="2197817">!=</span>&nbsp;<span class="ident" id="2197820"><a href="/gostd/fmt/scan.go.html#2197780">inputc</a></span>&nbsp;<span class="op" id="2197827">{</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197832"><a href="/gostd/fmt/scan.go.html#2196884">s</a></span><span class="op" id="2197833">.</span><span class="ident" id="2197834"><a href="/gostd/fmt/scan.go.html#2176641">UnreadRune</a></span><span class="op" id="2197844">(</span><span class="op" id="2197845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197850">return</span>&nbsp;<span class="op" id="2197857">-</span><span class="num" id="2197858">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2197866"><a href="/gostd/fmt/scan.go.html#2196915">i</a></span>&nbsp;<span class="op" id="2197868">+=</span>&nbsp;<span class="ident" id="2197871"><a href="/gostd/fmt/scan.go.html#2196955">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2197874">}</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2197877">return</span><br>
<span class="lineno"></span><span class="op" id="2197884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2197887">//&nbsp;doScanf&nbsp;does&nbsp;the&nbsp;real&nbsp;work&nbsp;when&nbsp;scanning&nbsp;with&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2197953">//&nbsp;&nbsp;At&nbsp;the&nbsp;moment,&nbsp;it&nbsp;handles&nbsp;only&nbsp;pointers&nbsp;to&nbsp;basic&nbsp;types.</span><br>
<span class="lineno">1120</span><span class="keyword" id="2198013">func</span>&nbsp;<span class="op" id="2198018">(</span><span class="ident" id="2198019">s</span>&nbsp;<span class="op" id="2198021">*</span><span class="ident" id="2198022"><a href="/gostd/fmt/scan.go.html#2174518">ss</a></span><span class="op" id="2198024">)</span>&nbsp;<span class="ident" id="2198026">doScanf</span><span class="op" id="2198033">(</span><span class="ident" id="2198034">format</span>&nbsp;<span class="builtintype" id="2198041">string</span><span class="op" id="2198047">,</span>&nbsp;<span class="ident" id="2198049">a</span>&nbsp;<span class="op" id="2198051">[</span><span class="op" id="2198052">]</span><span class="keyword" id="2198053">interface</span><span class="op" id="2198062">{</span><span class="op" id="2198063">}</span><span class="op" id="2198064">)</span>&nbsp;<span class="op" id="2198066">(</span><span class="ident" id="2198067">numProcessed</span>&nbsp;<span class="builtintype" id="2198080">int</span><span class="op" id="2198083">,</span>&nbsp;<span class="ident" id="2198085">err</span>&nbsp;<span class="builtintype" id="2198089">error</span><span class="op" id="2198094">)</span>&nbsp;<span class="op" id="2198096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198099">defer</span>&nbsp;<span class="ident" id="2198105"><a href="/gostd/fmt/scan.go.html#2195709">errorHandler</a></span><span class="op" id="2198117">(</span><span class="op" id="2198118">&amp;</span><span class="ident" id="2198119"><a href="/gostd/fmt/scan.go.html#2198085">err</a></span><span class="op" id="2198122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198125">end</span>&nbsp;<span class="op" id="2198129">:=</span>&nbsp;<span class="builtinfunc" id="2198132">len</span><span class="op" id="2198135">(</span><span class="ident" id="2198136"><a href="/gostd/fmt/scan.go.html#2198034">format</a></span><span class="op" id="2198142">)</span>&nbsp;<span class="op" id="2198144">-</span>&nbsp;<span class="num" id="2198146">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2198149">//&nbsp;We&nbsp;process&nbsp;one&nbsp;item&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198196">for</span>&nbsp;<span class="ident" id="2198200">i</span>&nbsp;<span class="op" id="2198202">:=</span>&nbsp;<span class="num" id="2198205">0</span><span class="op" id="2198206">;</span>&nbsp;<span class="ident" id="2198208"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span>&nbsp;<span class="op" id="2198210">&lt;=</span>&nbsp;<span class="ident" id="2198213"><a href="/gostd/fmt/scan.go.html#2198125">end</a></span><span class="op" id="2198216">;</span>&nbsp;<span class="op" id="2198218">{</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198222">w</span>&nbsp;<span class="op" id="2198224">:=</span>&nbsp;<span class="ident" id="2198227"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198228">.</span><span class="ident" id="2198229"><a href="/gostd/fmt/scan.go.html#2196891">advance</a></span><span class="op" id="2198236">(</span><span class="ident" id="2198237"><a href="/gostd/fmt/scan.go.html#2198034">format</a></span><span class="op" id="2198243">[</span><span class="ident" id="2198244"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span><span class="op" id="2198245">:</span><span class="op" id="2198246">]</span><span class="op" id="2198247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198251">if</span>&nbsp;<span class="ident" id="2198254"><a href="/gostd/fmt/scan.go.html#2198222">w</a></span>&nbsp;<span class="op" id="2198256">&gt;</span>&nbsp;<span class="num" id="2198258">0</span>&nbsp;<span class="op" id="2198260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198265"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span>&nbsp;<span class="op" id="2198267">+=</span>&nbsp;<span class="ident" id="2198270"><a href="/gostd/fmt/scan.go.html#2198222">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198275">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2198286">}</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2198290">//&nbsp;Either&nbsp;we&nbsp;failed&nbsp;to&nbsp;advance,&nbsp;we&nbsp;have&nbsp;a&nbsp;percent&nbsp;character,&nbsp;or&nbsp;we&nbsp;ran&nbsp;out&nbsp;of&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198377">if</span>&nbsp;<span class="ident" id="2198380"><a href="/gostd/fmt/scan.go.html#2198034">format</a></span><span class="op" id="2198386">[</span><span class="ident" id="2198387"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span><span class="op" id="2198388">]</span>&nbsp;<span class="op" id="2198390">!=</span>&nbsp;<span class="string" id="2198393">&#39;%&#39;</span>&nbsp;<span class="op" id="2198397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2198402">//&nbsp;Can&#39;t&nbsp;advance&nbsp;format.&nbsp;&nbsp;Why&nbsp;not?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198440">if</span>&nbsp;<span class="ident" id="2198443"><a href="/gostd/fmt/scan.go.html#2198222">w</a></span>&nbsp;<span class="op" id="2198445">&lt;</span>&nbsp;<span class="num" id="2198447">0</span>&nbsp;<span class="op" id="2198449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198455"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198456">.</span><span class="ident" id="2198457"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2198468">(</span><span class="string" id="2198469">&#34;input&nbsp;does&nbsp;not&nbsp;match&nbsp;format&#34;</span><span class="op" id="2198498">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2198503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2198508">//&nbsp;Otherwise&nbsp;at&nbsp;EOF;&nbsp;&#34;too&nbsp;many&nbsp;operands&#34;&nbsp;error&nbsp;handled&nbsp;below</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198572">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2198580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198584"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span><span class="op" id="2198585">++</span>&nbsp;<span class="comment" id="2198588">//&nbsp;%&nbsp;is&nbsp;one&nbsp;byte</span><br>
<span class="lineno">1140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2198608">//&nbsp;do&nbsp;we&nbsp;have&nbsp;20&nbsp;(width)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198636">var</span>&nbsp;<span class="ident" id="2198640">widPresent</span>&nbsp;<span class="builtintype" id="2198651">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198658"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198659">.</span><span class="ident" id="2198660"><a href="/gostd/fmt/scan.go.html#2175216">maxWid</a></span><span class="op" id="2198666">,</span>&nbsp;<span class="ident" id="2198668"><a href="/gostd/fmt/scan.go.html#2198640">widPresent</a></span><span class="op" id="2198678">,</span>&nbsp;<span class="ident" id="2198680"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span>&nbsp;<span class="op" id="2198682">=</span>&nbsp;<span class="ident" id="2198684"><a href="/gostd/fmt/print.go.html#2146590">parsenum</a></span><span class="op" id="2198692">(</span><span class="ident" id="2198693"><a href="/gostd/fmt/scan.go.html#2198034">format</a></span><span class="op" id="2198699">,</span>&nbsp;<span class="ident" id="2198701"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span><span class="op" id="2198702">,</span>&nbsp;<span class="ident" id="2198704"><a href="/gostd/fmt/scan.go.html#2198125">end</a></span><span class="op" id="2198707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198711">if</span>&nbsp;<span class="op" id="2198714">!</span><span class="ident" id="2198715"><a href="/gostd/fmt/scan.go.html#2198640">widPresent</a></span>&nbsp;<span class="op" id="2198726">{</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198731"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198732">.</span><span class="ident" id="2198733"><a href="/gostd/fmt/scan.go.html#2175216">maxWid</a></span>&nbsp;<span class="op" id="2198740">=</span>&nbsp;<span class="ident" id="2198742"><a href="/gostd/fmt/scan.go.html#2192561">hugeWid</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2198752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198756"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198757">.</span><span class="ident" id="2198758"><a href="/gostd/fmt/scan.go.html#2175101">argLimit</a></span>&nbsp;<span class="op" id="2198767">=</span>&nbsp;<span class="ident" id="2198769"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198770">.</span><span class="ident" id="2198771"><a href="/gostd/fmt/scan.go.html#2175174">limit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198779">if</span>&nbsp;<span class="ident" id="2198782">f</span>&nbsp;<span class="op" id="2198784">:=</span>&nbsp;<span class="ident" id="2198787"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198788">.</span><span class="ident" id="2198789"><a href="/gostd/fmt/scan.go.html#2174727">count</a></span>&nbsp;<span class="op" id="2198795">+</span>&nbsp;<span class="ident" id="2198797"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198798">.</span><span class="ident" id="2198799"><a href="/gostd/fmt/scan.go.html#2175216">maxWid</a></span><span class="op" id="2198805">;</span>&nbsp;<span class="ident" id="2198807"><a href="/gostd/fmt/scan.go.html#2198782">f</a></span>&nbsp;<span class="op" id="2198809">&lt;</span>&nbsp;<span class="ident" id="2198811"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198812">.</span><span class="ident" id="2198813"><a href="/gostd/fmt/scan.go.html#2175101">argLimit</a></span>&nbsp;<span class="op" id="2198822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198827"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198828">.</span><span class="ident" id="2198829"><a href="/gostd/fmt/scan.go.html#2175101">argLimit</a></span>&nbsp;<span class="op" id="2198838">=</span>&nbsp;<span class="ident" id="2198840"><a href="/gostd/fmt/scan.go.html#2198782">f</a></span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2198844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198849">c</span><span class="op" id="2198850">,</span>&nbsp;<span class="ident" id="2198852"><a href="/gostd/fmt/scan.go.html#2198222">w</a></span>&nbsp;<span class="op" id="2198854">:=</span>&nbsp;<span class="ident" id="2198857"><a href="/gostd/fmt/scan.go.html#2168799">utf8</a></span><span class="op" id="2198861">.</span><span class="ident" id="2198862"><a href="/gostd/unicode/utf8/utf8.go.html#1810428">DecodeRuneInString</a></span><span class="op" id="2198880">(</span><span class="ident" id="2198881"><a href="/gostd/fmt/scan.go.html#2198034">format</a></span><span class="op" id="2198887">[</span><span class="ident" id="2198888"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span><span class="op" id="2198889">:</span><span class="op" id="2198890">]</span><span class="op" id="2198891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198895"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span>&nbsp;<span class="op" id="2198897">+=</span>&nbsp;<span class="ident" id="2198900"><a href="/gostd/fmt/scan.go.html#2198222">w</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2198905">if</span>&nbsp;<span class="ident" id="2198908"><a href="/gostd/fmt/scan.go.html#2198067">numProcessed</a></span>&nbsp;<span class="op" id="2198921">&gt;=</span>&nbsp;<span class="builtinfunc" id="2198924">len</span><span class="op" id="2198927">(</span><span class="ident" id="2198928"><a href="/gostd/fmt/scan.go.html#2198049">a</a></span><span class="op" id="2198929">)</span>&nbsp;<span class="op" id="2198931">{</span>&nbsp;<span class="comment" id="2198933">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2198955"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2198956">.</span><span class="ident" id="2198957"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2198968">(</span><span class="string" id="2198969">&#34;too&nbsp;few&nbsp;operands&nbsp;for&nbsp;format&nbsp;%&#34;</span>&nbsp;<span class="op" id="2199001">+</span>&nbsp;<span class="ident" id="2199003"><a href="/gostd/fmt/scan.go.html#2198034">format</a></span><span class="op" id="2199009">[</span><span class="ident" id="2199010"><a href="/gostd/fmt/scan.go.html#2198200">i</a></span><span class="op" id="2199011">-</span><span class="ident" id="2199012"><a href="/gostd/fmt/scan.go.html#2198222">w</a></span><span class="op" id="2199013">:</span><span class="op" id="2199014">]</span><span class="op" id="2199015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2199020">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2199028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2199032">arg</span>&nbsp;<span class="op" id="2199036">:=</span>&nbsp;<span class="ident" id="2199039"><a href="/gostd/fmt/scan.go.html#2198049">a</a></span><span class="op" id="2199040">[</span><span class="ident" id="2199041"><a href="/gostd/fmt/scan.go.html#2198067">numProcessed</a></span><span class="op" id="2199053">]</span><br>
<span class="lineno">1160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2199058"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2199059">.</span><span class="ident" id="2199060"><a href="/gostd/fmt/scan.go.html#2192678">scanOne</a></span><span class="op" id="2199067">(</span><span class="ident" id="2199068"><a href="/gostd/fmt/scan.go.html#2198849">c</a></span><span class="op" id="2199069">,</span>&nbsp;<span class="ident" id="2199071"><a href="/gostd/fmt/scan.go.html#2199032">arg</a></span><span class="op" id="2199074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2199078"><a href="/gostd/fmt/scan.go.html#2198067">numProcessed</a></span><span class="op" id="2199090">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2199095"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2199096">.</span><span class="ident" id="2199097"><a href="/gostd/fmt/scan.go.html#2175101">argLimit</a></span>&nbsp;<span class="op" id="2199106">=</span>&nbsp;<span class="ident" id="2199108"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2199109">.</span><span class="ident" id="2199110"><a href="/gostd/fmt/scan.go.html#2175174">limit</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2199117">}</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2199120">if</span>&nbsp;<span class="ident" id="2199123"><a href="/gostd/fmt/scan.go.html#2198067">numProcessed</a></span>&nbsp;<span class="op" id="2199136">&lt;</span>&nbsp;<span class="builtinfunc" id="2199138">len</span><span class="op" id="2199141">(</span><span class="ident" id="2199142"><a href="/gostd/fmt/scan.go.html#2198049">a</a></span><span class="op" id="2199143">)</span>&nbsp;<span class="op" id="2199145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2199149"><a href="/gostd/fmt/scan.go.html#2198019">s</a></span><span class="op" id="2199150">.</span><span class="ident" id="2199151"><a href="/gostd/fmt/scan.go.html#2176871">errorString</a></span><span class="op" id="2199162">(</span><span class="string" id="2199163">&#34;too&nbsp;many&nbsp;operands&#34;</span><span class="op" id="2199182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2199185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2199188">return</span><br>
<span class="lineno"></span><span class="op" id="2199195">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
