<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7673391">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7673446">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7673500">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7673551">package</span>&nbsp;<span class="ident" id="7673559">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7673564">import</span>&nbsp;<span class="op" id="7673571">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673574">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673584">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673591">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673598">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673609">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7673620">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7673630">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7673633">type</span>&nbsp;<span class="ident" id="7673638">shutdownCodec</span>&nbsp;<span class="keyword" id="7673652">struct</span>&nbsp;<span class="op" id="7673659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673662">responded</span>&nbsp;<span class="keyword" id="7673672">chan</span>&nbsp;<span class="builtintype" id="7673677">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673682">closed</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7673692">bool</span><br>
<span class="lineno"></span><span class="op" id="7673697">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7673700">func</span>&nbsp;<span class="op" id="7673705">(</span><span class="ident" id="7673706">c</span>&nbsp;<span class="op" id="7673708">*</span><span class="ident" id="7673709">shutdownCodec</span><span class="op" id="7673722">)</span>&nbsp;<span class="ident" id="7673724">WriteRequest</span><span class="op" id="7673736">(</span><span class="op" id="7673737">*</span><span class="ident" id="7673738">Request</span><span class="op" id="7673745">,</span>&nbsp;<span class="keyword" id="7673747">interface</span><span class="op" id="7673756">{</span><span class="op" id="7673757">}</span><span class="op" id="7673758">)</span>&nbsp;<span class="builtintype" id="7673760">error</span>&nbsp;<span class="op" id="7673766">{</span>&nbsp;<span class="keyword" id="7673768">return</span>&nbsp;<span class="ident" id="7673775">nil</span>&nbsp;<span class="op" id="7673779">}</span><br>
<span class="lineno"></span><span class="keyword" id="7673781">func</span>&nbsp;<span class="op" id="7673786">(</span><span class="ident" id="7673787">c</span>&nbsp;<span class="op" id="7673789">*</span><span class="ident" id="7673790">shutdownCodec</span><span class="op" id="7673803">)</span>&nbsp;<span class="ident" id="7673805">ReadResponseBody</span><span class="op" id="7673821">(</span><span class="keyword" id="7673822">interface</span><span class="op" id="7673831">{</span><span class="op" id="7673832">}</span><span class="op" id="7673833">)</span>&nbsp;<span class="builtintype" id="7673835">error</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7673847">{</span>&nbsp;<span class="keyword" id="7673849">return</span>&nbsp;<span class="ident" id="7673856">nil</span>&nbsp;<span class="op" id="7673860">}</span><br>
<span class="lineno"></span><span class="keyword" id="7673862">func</span>&nbsp;<span class="op" id="7673867">(</span><span class="ident" id="7673868">c</span>&nbsp;<span class="op" id="7673870">*</span><span class="ident" id="7673871">shutdownCodec</span><span class="op" id="7673884">)</span>&nbsp;<span class="ident" id="7673886">ReadResponseHeader</span><span class="op" id="7673904">(</span><span class="op" id="7673905">*</span><span class="ident" id="7673906">Response</span><span class="op" id="7673914">)</span>&nbsp;<span class="builtintype" id="7673916">error</span>&nbsp;<span class="op" id="7673922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7673925">c</span><span class="op" id="7673926">.</span><span class="ident" id="7673927">responded</span>&nbsp;<span class="op" id="7673937">&lt;-</span>&nbsp;<span class="num" id="7673940">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7673943">return</span>&nbsp;<span class="ident" id="7673950">errors</span><span class="op" id="7673956">.</span><span class="ident" id="7673957">New</span><span class="op" id="7673960">(</span><span class="string" id="7673961">&#34;shutdownCodec&nbsp;ReadResponseHeader&#34;</span><span class="op" id="7673995">)</span><br>
<span class="lineno"></span><span class="op" id="7673997">}</span><br>
<span class="lineno"></span><span class="keyword" id="7673999">func</span>&nbsp;<span class="op" id="7674004">(</span><span class="ident" id="7674005">c</span>&nbsp;<span class="op" id="7674007">*</span><span class="ident" id="7674008">shutdownCodec</span><span class="op" id="7674021">)</span>&nbsp;<span class="ident" id="7674023">Close</span><span class="op" id="7674028">(</span><span class="op" id="7674029">)</span>&nbsp;<span class="builtintype" id="7674031">error</span>&nbsp;<span class="op" id="7674037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674040">c</span><span class="op" id="7674041">.</span><span class="ident" id="7674042">closed</span>&nbsp;<span class="op" id="7674049">=</span>&nbsp;<span class="builtintype" id="7674051">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674057">return</span>&nbsp;<span class="ident" id="7674064">nil</span><br>
<span class="lineno">30</span><span class="op" id="7674068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674071">func</span>&nbsp;<span class="ident" id="7674076">TestCloseCodec</span><span class="op" id="7674090">(</span><span class="ident" id="7674091">t</span>&nbsp;<span class="op" id="7674093">*</span><span class="ident" id="7674094">testing</span><span class="op" id="7674101">.</span><span class="ident" id="7674102">T</span><span class="op" id="7674103">)</span>&nbsp;<span class="op" id="7674105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674108">codec</span>&nbsp;<span class="op" id="7674114">:=</span>&nbsp;<span class="op" id="7674117">&amp;</span><span class="ident" id="7674118">shutdownCodec</span><span class="op" id="7674131">{</span><span class="ident" id="7674132">responded</span><span class="op" id="7674141">:</span>&nbsp;<span class="builtinfunc" id="7674143">make</span><span class="op" id="7674147">(</span><span class="keyword" id="7674148">chan</span>&nbsp;<span class="builtintype" id="7674153">int</span><span class="op" id="7674156">)</span><span class="op" id="7674157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674160">client</span>&nbsp;<span class="op" id="7674167">:=</span>&nbsp;<span class="ident" id="7674170">NewClientWithCodec</span><span class="op" id="7674188">(</span><span class="ident" id="7674189">codec</span><span class="op" id="7674194">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674197">&lt;-</span><span class="ident" id="7674199">codec</span><span class="op" id="7674204">.</span><span class="ident" id="7674205">responded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674216">client</span><span class="op" id="7674222">.</span><span class="ident" id="7674223">Close</span><span class="op" id="7674228">(</span><span class="op" id="7674229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674232">if</span>&nbsp;<span class="op" id="7674235">!</span><span class="ident" id="7674236">codec</span><span class="op" id="7674241">.</span><span class="ident" id="7674242">closed</span>&nbsp;<span class="op" id="7674249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674253">t</span><span class="op" id="7674254">.</span><span class="ident" id="7674255">Error</span><span class="op" id="7674260">(</span><span class="string" id="7674261">&#34;client.Close&nbsp;did&nbsp;not&nbsp;close&nbsp;codec&#34;</span><span class="op" id="7674295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674298">}</span><br>
<span class="lineno">40</span><span class="op" id="7674300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7674303">//&nbsp;Test&nbsp;that&nbsp;errors&nbsp;in&nbsp;gob&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp;Issue&nbsp;7689.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674369">type</span>&nbsp;<span class="ident" id="7674374">R</span>&nbsp;<span class="keyword" id="7674376">struct</span>&nbsp;<span class="op" id="7674383">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674386">msg</span>&nbsp;<span class="op" id="7674390">[</span><span class="op" id="7674391">]</span><span class="builtintype" id="7674392">byte</span>&nbsp;<span class="comment" id="7674397">//&nbsp;Not&nbsp;exported,&nbsp;so&nbsp;R&nbsp;does&nbsp;not&nbsp;work&nbsp;with&nbsp;gob.</span><br>
<span class="lineno"></span><span class="op" id="7674443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7674446">type</span>&nbsp;<span class="ident" id="7674451">S</span>&nbsp;<span class="keyword" id="7674453">struct</span><span class="op" id="7674459">{</span><span class="op" id="7674460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="7674463">func</span>&nbsp;<span class="op" id="7674468">(</span><span class="ident" id="7674469">s</span>&nbsp;<span class="op" id="7674471">*</span><span class="ident" id="7674472">S</span><span class="op" id="7674473">)</span>&nbsp;<span class="ident" id="7674475">Recv</span><span class="op" id="7674479">(</span><span class="ident" id="7674480">nul</span>&nbsp;<span class="op" id="7674484">*</span><span class="keyword" id="7674485">struct</span><span class="op" id="7674491">{</span><span class="op" id="7674492">}</span><span class="op" id="7674493">,</span>&nbsp;<span class="ident" id="7674495">reply</span>&nbsp;<span class="op" id="7674501">*</span><span class="ident" id="7674502">R</span><span class="op" id="7674503">)</span>&nbsp;<span class="builtintype" id="7674505">error</span>&nbsp;<span class="op" id="7674511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674514">*</span><span class="ident" id="7674515">reply</span>&nbsp;<span class="op" id="7674521">=</span>&nbsp;<span class="ident" id="7674523">R</span><span class="op" id="7674524">{</span><span class="op" id="7674525">[</span><span class="op" id="7674526">]</span><span class="builtintype" id="7674527">byte</span><span class="op" id="7674531">(</span><span class="string" id="7674532">&#34;foo&#34;</span><span class="op" id="7674537">)</span><span class="op" id="7674538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674541">return</span>&nbsp;<span class="ident" id="7674548">nil</span><br>
<span class="lineno"></span><span class="op" id="7674552">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7674555">func</span>&nbsp;<span class="ident" id="7674560">TestGobError</span><span class="op" id="7674572">(</span><span class="ident" id="7674573">t</span>&nbsp;<span class="op" id="7674575">*</span><span class="ident" id="7674576">testing</span><span class="op" id="7674583">.</span><span class="ident" id="7674584">T</span><span class="op" id="7674585">)</span>&nbsp;<span class="op" id="7674587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674590">if</span>&nbsp;<span class="ident" id="7674593">runtime</span><span class="op" id="7674600">.</span><span class="ident" id="7674601">GOOS</span>&nbsp;<span class="op" id="7674606">==</span>&nbsp;<span class="string" id="7674609">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7674617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674621">t</span><span class="op" id="7674622">.</span><span class="ident" id="7674623">Skip</span><span class="op" id="7674627">(</span><span class="string" id="7674628">&#34;skipping&nbsp;test;&nbsp;see&nbsp;http://golang.org/issue/8908&#34;</span><span class="op" id="7674677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674683">defer</span>&nbsp;<span class="keyword" id="7674689">func</span><span class="op" id="7674693">(</span><span class="op" id="7674694">)</span>&nbsp;<span class="op" id="7674696">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674700">err</span>&nbsp;<span class="op" id="7674704">:=</span>&nbsp;<span class="builtinfunc" id="7674707">recover</span><span class="op" id="7674714">(</span><span class="op" id="7674715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674719">if</span>&nbsp;<span class="ident" id="7674722">err</span>&nbsp;<span class="op" id="7674726">==</span>&nbsp;<span class="ident" id="7674729">nil</span>&nbsp;<span class="op" id="7674733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674738">t</span><span class="op" id="7674739">.</span><span class="ident" id="7674740">Fatal</span><span class="op" id="7674745">(</span><span class="string" id="7674746">&#34;no&nbsp;error&#34;</span><span class="op" id="7674756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674764">if</span>&nbsp;<span class="op" id="7674767">!</span><span class="ident" id="7674768">strings</span><span class="op" id="7674775">.</span><span class="ident" id="7674776">Contains</span><span class="op" id="7674784">(</span><span class="string" id="7674785">&#34;reading&nbsp;body&nbsp;EOF&#34;</span><span class="op" id="7674803">,</span>&nbsp;<span class="ident" id="7674805">err</span><span class="op" id="7674808">.</span><span class="op" id="7674809">(</span><span class="builtintype" id="7674810">error</span><span class="op" id="7674815">)</span><span class="op" id="7674816">.</span><span class="ident" id="7674817">Error</span><span class="op" id="7674822">(</span><span class="op" id="7674823">)</span><span class="op" id="7674824">)</span>&nbsp;<span class="op" id="7674826">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674831">t</span><span class="op" id="7674832">.</span><span class="ident" id="7674833">Fatal</span><span class="op" id="7674838">(</span><span class="string" id="7674839">&#34;expected&nbsp;`reading&nbsp;body&nbsp;EOF&#39;,&nbsp;got&#34;</span><span class="op" id="7674873">,</span>&nbsp;<span class="ident" id="7674875">err</span><span class="op" id="7674878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674885">}</span><span class="op" id="7674886">(</span><span class="op" id="7674887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674890">Register</span><span class="op" id="7674898">(</span><span class="builtinfunc" id="7674899">new</span><span class="op" id="7674902">(</span><span class="ident" id="7674903">S</span><span class="op" id="7674904">)</span><span class="op" id="7674905">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7674909">listen</span><span class="op" id="7674915">,</span>&nbsp;<span class="ident" id="7674917">err</span>&nbsp;<span class="op" id="7674921">:=</span>&nbsp;<span class="ident" id="7674924">net</span><span class="op" id="7674927">.</span><span class="ident" id="7674928">Listen</span><span class="op" id="7674934">(</span><span class="string" id="7674935">&#34;tcp&#34;</span><span class="op" id="7674940">,</span>&nbsp;<span class="string" id="7674942">&#34;127.0.0.1:0&#34;</span><span class="op" id="7674955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674958">if</span>&nbsp;<span class="ident" id="7674961">err</span>&nbsp;<span class="op" id="7674965">!=</span>&nbsp;<span class="ident" id="7674968">nil</span>&nbsp;<span class="op" id="7674972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7674976">panic</span><span class="op" id="7674981">(</span><span class="ident" id="7674982">err</span><span class="op" id="7674985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7674988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7674991">go</span>&nbsp;<span class="ident" id="7674994">Accept</span><span class="op" id="7675000">(</span><span class="ident" id="7675001">listen</span><span class="op" id="7675007">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675011">client</span><span class="op" id="7675017">,</span>&nbsp;<span class="ident" id="7675019">err</span>&nbsp;<span class="op" id="7675023">:=</span>&nbsp;<span class="ident" id="7675026">Dial</span><span class="op" id="7675030">(</span><span class="string" id="7675031">&#34;tcp&#34;</span><span class="op" id="7675036">,</span>&nbsp;<span class="ident" id="7675038">listen</span><span class="op" id="7675044">.</span><span class="ident" id="7675045">Addr</span><span class="op" id="7675049">(</span><span class="op" id="7675050">)</span><span class="op" id="7675051">.</span><span class="ident" id="7675052">String</span><span class="op" id="7675058">(</span><span class="op" id="7675059">)</span><span class="op" id="7675060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675063">if</span>&nbsp;<span class="ident" id="7675066">err</span>&nbsp;<span class="op" id="7675070">!=</span>&nbsp;<span class="ident" id="7675073">nil</span>&nbsp;<span class="op" id="7675077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7675081">panic</span><span class="op" id="7675086">(</span><span class="ident" id="7675087">err</span><span class="op" id="7675090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675093">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675097">var</span>&nbsp;<span class="ident" id="7675101">reply</span>&nbsp;<span class="ident" id="7675107">Reply</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675114">err</span>&nbsp;<span class="op" id="7675118">=</span>&nbsp;<span class="ident" id="7675120">client</span><span class="op" id="7675126">.</span><span class="ident" id="7675127">Call</span><span class="op" id="7675131">(</span><span class="string" id="7675132">&#34;S.Recv&#34;</span><span class="op" id="7675140">,</span>&nbsp;<span class="op" id="7675142">&amp;</span><span class="keyword" id="7675143">struct</span><span class="op" id="7675149">{</span><span class="op" id="7675150">}</span><span class="op" id="7675151">{</span><span class="op" id="7675152">}</span><span class="op" id="7675153">,</span>&nbsp;<span class="op" id="7675155">&amp;</span><span class="ident" id="7675156">reply</span><span class="op" id="7675161">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7675164">if</span>&nbsp;<span class="ident" id="7675167">err</span>&nbsp;<span class="op" id="7675171">!=</span>&nbsp;<span class="ident" id="7675174">nil</span>&nbsp;<span class="op" id="7675178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7675182">panic</span><span class="op" id="7675187">(</span><span class="ident" id="7675188">err</span><span class="op" id="7675191">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7675194">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675198">fmt</span><span class="op" id="7675201">.</span><span class="ident" id="7675202">Printf</span><span class="op" id="7675208">(</span><span class="string" id="7675209">&#34;%#v\n&#34;</span><span class="op" id="7675216">,</span>&nbsp;<span class="ident" id="7675218">reply</span><span class="op" id="7675223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675226">client</span><span class="op" id="7675232">.</span><span class="ident" id="7675233">Close</span><span class="op" id="7675238">(</span><span class="op" id="7675239">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7675243">listen</span><span class="op" id="7675249">.</span><span class="ident" id="7675250">Close</span><span class="op" id="7675255">(</span><span class="op" id="7675256">)</span><br>
<span class="lineno"></span><span class="op" id="7675258">}</span>
</div>
</body>
</html>
