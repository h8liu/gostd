<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6292504">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6292559">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6292613">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6292664">//&nbsp;Package&nbsp;heap&nbsp;provides&nbsp;heap&nbsp;operations&nbsp;for&nbsp;any&nbsp;type&nbsp;that&nbsp;implements</span><br>
<span class="lineno"></span><span class="comment" id="6292734">//&nbsp;heap.Interface.&nbsp;A&nbsp;heap&nbsp;is&nbsp;a&nbsp;tree&nbsp;with&nbsp;the&nbsp;property&nbsp;that&nbsp;each&nbsp;node&nbsp;is&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6292810">//&nbsp;minimum-valued&nbsp;node&nbsp;in&nbsp;its&nbsp;subtree.</span><br>
<span class="lineno"></span><span class="comment" id="6292849">//</span><br>
<span class="lineno"></span><span class="comment" id="6292852">//&nbsp;The&nbsp;minimum&nbsp;element&nbsp;in&nbsp;the&nbsp;tree&nbsp;is&nbsp;the&nbsp;root,&nbsp;at&nbsp;index&nbsp;0.</span><br>
<span class="lineno">10</span><span class="comment" id="6292912">//</span><br>
<span class="lineno"></span><span class="comment" id="6292915">//&nbsp;A&nbsp;heap&nbsp;is&nbsp;a&nbsp;common&nbsp;way&nbsp;to&nbsp;implement&nbsp;a&nbsp;priority&nbsp;queue.&nbsp;To&nbsp;build&nbsp;a&nbsp;priority</span><br>
<span class="lineno"></span><span class="comment" id="6292992">//&nbsp;queue,&nbsp;implement&nbsp;the&nbsp;Heap&nbsp;interface&nbsp;with&nbsp;the&nbsp;(negative)&nbsp;priority&nbsp;as&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6293067">//&nbsp;ordering&nbsp;for&nbsp;the&nbsp;Less&nbsp;method,&nbsp;so&nbsp;Push&nbsp;adds&nbsp;items&nbsp;while&nbsp;Pop&nbsp;removes&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6293141">//&nbsp;highest-priority&nbsp;item&nbsp;from&nbsp;the&nbsp;queue.&nbsp;The&nbsp;Examples&nbsp;include&nbsp;such&nbsp;an</span><br>
<span class="lineno">15</span><span class="comment" id="6293211">//&nbsp;implementation;&nbsp;the&nbsp;file&nbsp;example_pq_test.go&nbsp;has&nbsp;the&nbsp;complete&nbsp;source.</span><br>
<span class="lineno"></span><span class="comment" id="6293283">//</span><br>
<span class="lineno"></span><span class="keyword" id="6293286">package</span>&nbsp;<span class="ident" id="6293294">heap</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6293300">import</span>&nbsp;<span class="string" id="6293307">&#34;sort&#34;</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6293315">//&nbsp;Any&nbsp;type&nbsp;that&nbsp;implements&nbsp;heap.Interface&nbsp;may&nbsp;be&nbsp;used&nbsp;as&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6293375">//&nbsp;min-heap&nbsp;with&nbsp;the&nbsp;following&nbsp;invariants&nbsp;(established&nbsp;after</span><br>
<span class="lineno"></span><span class="comment" id="6293436">//&nbsp;Init&nbsp;has&nbsp;been&nbsp;called&nbsp;or&nbsp;if&nbsp;the&nbsp;data&nbsp;is&nbsp;empty&nbsp;or&nbsp;sorted):</span><br>
<span class="lineno"></span><span class="comment" id="6293496">//</span><br>
<span class="lineno">25</span><span class="comment" id="6293499">//&nbsp;&nbsp;&nbsp;&nbsp!h.Less(j,&nbsp;i)&nbsp;for&nbsp;0&nbsp;&lt;=&nbsp;i&nbsp;&lt;&nbsp;h.Len()&nbsp;and&nbsp;2*i+1&nbsp;&lt;=&nbsp;j&nbsp;&lt;=&nbsp;2*i+2&nbsp;and&nbsp;j&nbsp;&lt;&nbsp;h.Len()</span><br>
<span class="lineno"></span><span class="comment" id="6293577">//</span><br>
<span class="lineno"></span><span class="comment" id="6293580">//&nbsp;Note&nbsp;that&nbsp;Push&nbsp;and&nbsp;Pop&nbsp;in&nbsp;this&nbsp;interface&nbsp;are&nbsp;for&nbsp;package&nbsp;heap&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="6293647">//&nbsp;implementation&nbsp;to&nbsp;call.&nbsp;&nbsp;To&nbsp;add&nbsp;and&nbsp;remove&nbsp;things&nbsp;from&nbsp;the&nbsp;heap,</span><br>
<span class="lineno"></span><span class="comment" id="6293715">//&nbsp;use&nbsp;heap.Push&nbsp;and&nbsp;heap.Pop.</span><br>
<span class="lineno">30</span><span class="keyword" id="6293746">type</span>&nbsp;<span class="ident" id="6293751">Interface</span>&nbsp;<span class="keyword" id="6293761">interface</span>&nbsp;<span class="op" id="6293771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6293774"><a href="/container/heap/heap.go.html#6293307">sort</a></span><span class="op" id="6293778">.</span><span class="ident" id="6293779">Interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6293790">Push</span><span class="op" id="6293794">(</span><span class="ident" id="6293795">x</span>&nbsp;<span class="keyword" id="6293797">interface</span><span class="op" id="6293806">{</span><span class="op" id="6293807">}</span><span class="op" id="6293808">)</span>&nbsp;<span class="comment" id="6293810">//&nbsp;add&nbsp;x&nbsp;as&nbsp;element&nbsp;Len()</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6293837">Pop</span><span class="op" id="6293840">(</span><span class="op" id="6293841">)</span>&nbsp;<span class="keyword" id="6293843">interface</span><span class="op" id="6293852">{</span><span class="op" id="6293853">}</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6293857">//&nbsp;remove&nbsp;and&nbsp;return&nbsp;element&nbsp;Len()&nbsp;-&nbsp;1.</span><br>
<span class="lineno"></span><span class="op" id="6293897">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="6293900">//&nbsp;A&nbsp;heap&nbsp;must&nbsp;be&nbsp;initialized&nbsp;before&nbsp;any&nbsp;of&nbsp;the&nbsp;heap&nbsp;operations</span><br>
<span class="lineno"></span><span class="comment" id="6293964">//&nbsp;can&nbsp;be&nbsp;used.&nbsp;Init&nbsp;is&nbsp;idempotent&nbsp;with&nbsp;respect&nbsp;to&nbsp;the&nbsp;heap&nbsp;invariants</span><br>
<span class="lineno"></span><span class="comment" id="6294035">//&nbsp;and&nbsp;may&nbsp;be&nbsp;called&nbsp;whenever&nbsp;the&nbsp;heap&nbsp;invariants&nbsp;may&nbsp;have&nbsp;been&nbsp;invalidated.</span><br>
<span class="lineno"></span><span class="comment" id="6294112">//&nbsp;Its&nbsp;complexity&nbsp;is&nbsp;O(n)&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno">40</span><span class="comment" id="6294157">//</span><br>
<span class="lineno"></span><span class="keyword" id="6294160">func</span>&nbsp;<span class="ident" id="6294165">Init</span><span class="op" id="6294169">(</span><span class="ident" id="6294170">h</span>&nbsp;<span class="ident" id="6294172"><a href="/container/heap/heap.go.html#6293751">Interface</a></span><span class="op" id="6294181">)</span>&nbsp;<span class="op" id="6294183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6294186">//&nbsp;heapify</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294198">n</span>&nbsp;<span class="op" id="6294200">:=</span>&nbsp;<span class="ident" id="6294203"><a href="/container/heap/heap.go.html#6294170">h</a></span><span class="op" id="6294204">.</span><span class="ident" id="6294205">Len</span><span class="op" id="6294208">(</span><span class="op" id="6294209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6294212">for</span>&nbsp;<span class="ident" id="6294216">i</span>&nbsp;<span class="op" id="6294218">:=</span>&nbsp;<span class="ident" id="6294221"><a href="/container/heap/heap.go.html#6294198">n</a></span><span class="op" id="6294222">/</span><span class="num" id="6294223">2</span>&nbsp;<span class="op" id="6294225">-</span>&nbsp;<span class="num" id="6294227">1</span><span class="op" id="6294228">;</span>&nbsp;<span class="ident" id="6294230"><a href="/container/heap/heap.go.html#6294216">i</a></span>&nbsp;<span class="op" id="6294232">&gt;=</span>&nbsp;<span class="num" id="6294235">0</span><span class="op" id="6294236">;</span>&nbsp;<span class="ident" id="6294238"><a href="/container/heap/heap.go.html#6294216">i</a></span><span class="op" id="6294239">--</span>&nbsp;<span class="op" id="6294242">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294246"><a href="/container/heap/heap.go.html#6295486">down</a></span><span class="op" id="6294250">(</span><span class="ident" id="6294251"><a href="/container/heap/heap.go.html#6294170">h</a></span><span class="op" id="6294252">,</span>&nbsp;<span class="ident" id="6294254"><a href="/container/heap/heap.go.html#6294216">i</a></span><span class="op" id="6294255">,</span>&nbsp;<span class="ident" id="6294257"><a href="/container/heap/heap.go.html#6294198">n</a></span><span class="op" id="6294258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6294261">}</span><br>
<span class="lineno"></span><span class="op" id="6294263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6294266">//&nbsp;Push&nbsp;pushes&nbsp;the&nbsp;element&nbsp;x&nbsp;onto&nbsp;the&nbsp;heap.&nbsp;The&nbsp;complexity&nbsp;is</span><br>
<span class="lineno">50</span><span class="comment" id="6294328">//&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno"></span><span class="comment" id="6294360">//</span><br>
<span class="lineno"></span><span class="keyword" id="6294363">func</span>&nbsp;<span class="ident" id="6294368">Push</span><span class="op" id="6294372">(</span><span class="ident" id="6294373">h</span>&nbsp;<span class="ident" id="6294375"><a href="/container/heap/heap.go.html#6293751">Interface</a></span><span class="op" id="6294384">,</span>&nbsp;<span class="ident" id="6294386">x</span>&nbsp;<span class="keyword" id="6294388">interface</span><span class="op" id="6294397">{</span><span class="op" id="6294398">}</span><span class="op" id="6294399">)</span>&nbsp;<span class="op" id="6294401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294404"><a href="/container/heap/heap.go.html#6294373">h</a></span><span class="op" id="6294405">.</span><span class="ident" id="6294406">Push</span><span class="op" id="6294410">(</span><span class="ident" id="6294411"><a href="/container/heap/heap.go.html#6294386">x</a></span><span class="op" id="6294412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294415"><a href="/container/heap/heap.go.html#6295347">up</a></span><span class="op" id="6294417">(</span><span class="ident" id="6294418"><a href="/container/heap/heap.go.html#6294373">h</a></span><span class="op" id="6294419">,</span>&nbsp;<span class="ident" id="6294421"><a href="/container/heap/heap.go.html#6294373">h</a></span><span class="op" id="6294422">.</span><span class="ident" id="6294423">Len</span><span class="op" id="6294426">(</span><span class="op" id="6294427">)</span><span class="op" id="6294428">-</span><span class="num" id="6294429">1</span><span class="op" id="6294430">)</span><br>
<span class="lineno">55</span><span class="op" id="6294432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6294435">//&nbsp;Pop&nbsp;removes&nbsp;the&nbsp;minimum&nbsp;element&nbsp;(according&nbsp;to&nbsp;Less)&nbsp;from&nbsp;the&nbsp;heap</span><br>
<span class="lineno"></span><span class="comment" id="6294504">//&nbsp;and&nbsp;returns&nbsp;it.&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno"></span><span class="comment" id="6294570">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;Remove(h,&nbsp;0).</span><br>
<span class="lineno">60</span><span class="comment" id="6294607">//</span><br>
<span class="lineno"></span><span class="keyword" id="6294610">func</span>&nbsp;<span class="ident" id="6294615">Pop</span><span class="op" id="6294618">(</span><span class="ident" id="6294619">h</span>&nbsp;<span class="ident" id="6294621"><a href="/container/heap/heap.go.html#6293751">Interface</a></span><span class="op" id="6294630">)</span>&nbsp;<span class="keyword" id="6294632">interface</span><span class="op" id="6294641">{</span><span class="op" id="6294642">}</span>&nbsp;<span class="op" id="6294644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294647">n</span>&nbsp;<span class="op" id="6294649">:=</span>&nbsp;<span class="ident" id="6294652"><a href="/container/heap/heap.go.html#6294619">h</a></span><span class="op" id="6294653">.</span><span class="ident" id="6294654">Len</span><span class="op" id="6294657">(</span><span class="op" id="6294658">)</span>&nbsp;<span class="op" id="6294660">-</span>&nbsp;<span class="num" id="6294662">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294665"><a href="/container/heap/heap.go.html#6294619">h</a></span><span class="op" id="6294666">.</span><span class="ident" id="6294667">Swap</span><span class="op" id="6294671">(</span><span class="num" id="6294672">0</span><span class="op" id="6294673">,</span>&nbsp;<span class="ident" id="6294675"><a href="/container/heap/heap.go.html#6294647">n</a></span><span class="op" id="6294676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294679"><a href="/container/heap/heap.go.html#6295486">down</a></span><span class="op" id="6294683">(</span><span class="ident" id="6294684"><a href="/container/heap/heap.go.html#6294619">h</a></span><span class="op" id="6294685">,</span>&nbsp;<span class="num" id="6294687">0</span><span class="op" id="6294688">,</span>&nbsp;<span class="ident" id="6294690"><a href="/container/heap/heap.go.html#6294647">n</a></span><span class="op" id="6294691">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6294694">return</span>&nbsp;<span class="ident" id="6294701"><a href="/container/heap/heap.go.html#6294619">h</a></span><span class="op" id="6294702">.</span><span class="ident" id="6294703">Pop</span><span class="op" id="6294706">(</span><span class="op" id="6294707">)</span><br>
<span class="lineno"></span><span class="op" id="6294709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6294712">//&nbsp;Remove&nbsp;removes&nbsp;the&nbsp;element&nbsp;at&nbsp;index&nbsp;i&nbsp;from&nbsp;the&nbsp;heap.</span><br>
<span class="lineno"></span><span class="comment" id="6294768">//&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno">70</span><span class="comment" id="6294818">//</span><br>
<span class="lineno"></span><span class="keyword" id="6294821">func</span>&nbsp;<span class="ident" id="6294826">Remove</span><span class="op" id="6294832">(</span><span class="ident" id="6294833">h</span>&nbsp;<span class="ident" id="6294835"><a href="/container/heap/heap.go.html#6293751">Interface</a></span><span class="op" id="6294844">,</span>&nbsp;<span class="ident" id="6294846">i</span>&nbsp;<span class="builtintype" id="6294848">int</span><span class="op" id="6294851">)</span>&nbsp;<span class="keyword" id="6294853">interface</span><span class="op" id="6294862">{</span><span class="op" id="6294863">}</span>&nbsp;<span class="op" id="6294865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294868">n</span>&nbsp;<span class="op" id="6294870">:=</span>&nbsp;<span class="ident" id="6294873"><a href="/container/heap/heap.go.html#6294833">h</a></span><span class="op" id="6294874">.</span><span class="ident" id="6294875">Len</span><span class="op" id="6294878">(</span><span class="op" id="6294879">)</span>&nbsp;<span class="op" id="6294881">-</span>&nbsp;<span class="num" id="6294883">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6294886">if</span>&nbsp;<span class="ident" id="6294889"><a href="/container/heap/heap.go.html#6294868">n</a></span>&nbsp;<span class="op" id="6294891">!=</span>&nbsp;<span class="ident" id="6294894"><a href="/container/heap/heap.go.html#6294846">i</a></span>&nbsp;<span class="op" id="6294896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294900"><a href="/container/heap/heap.go.html#6294833">h</a></span><span class="op" id="6294901">.</span><span class="ident" id="6294902">Swap</span><span class="op" id="6294906">(</span><span class="ident" id="6294907"><a href="/container/heap/heap.go.html#6294846">i</a></span><span class="op" id="6294908">,</span>&nbsp;<span class="ident" id="6294910"><a href="/container/heap/heap.go.html#6294868">n</a></span><span class="op" id="6294911">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294915"><a href="/container/heap/heap.go.html#6295486">down</a></span><span class="op" id="6294919">(</span><span class="ident" id="6294920"><a href="/container/heap/heap.go.html#6294833">h</a></span><span class="op" id="6294921">,</span>&nbsp;<span class="ident" id="6294923"><a href="/container/heap/heap.go.html#6294846">i</a></span><span class="op" id="6294924">,</span>&nbsp;<span class="ident" id="6294926"><a href="/container/heap/heap.go.html#6294868">n</a></span><span class="op" id="6294927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6294931"><a href="/container/heap/heap.go.html#6295347">up</a></span><span class="op" id="6294933">(</span><span class="ident" id="6294934"><a href="/container/heap/heap.go.html#6294833">h</a></span><span class="op" id="6294935">,</span>&nbsp;<span class="ident" id="6294937"><a href="/container/heap/heap.go.html#6294846">i</a></span><span class="op" id="6294938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6294941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6294944">return</span>&nbsp;<span class="ident" id="6294951"><a href="/container/heap/heap.go.html#6294833">h</a></span><span class="op" id="6294952">.</span><span class="ident" id="6294953">Pop</span><span class="op" id="6294956">(</span><span class="op" id="6294957">)</span><br>
<span class="lineno"></span><span class="op" id="6294959">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="comment" id="6294962">//&nbsp;Fix&nbsp;re-establishes&nbsp;the&nbsp;heap&nbsp;ordering&nbsp;after&nbsp;the&nbsp;element&nbsp;at&nbsp;index&nbsp;i&nbsp;has&nbsp;changed&nbsp;its&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="6295054">//&nbsp;Changing&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;element&nbsp;at&nbsp;index&nbsp;i&nbsp;and&nbsp;then&nbsp;calling&nbsp;Fix&nbsp;is&nbsp;equivalent&nbsp;to,</span><br>
<span class="lineno"></span><span class="comment" id="6295141">//&nbsp;but&nbsp;less&nbsp;expensive&nbsp;than,&nbsp;calling&nbsp;Remove(h,&nbsp;i)&nbsp;followed&nbsp;by&nbsp;a&nbsp;Push&nbsp;of&nbsp;the&nbsp;new&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="6295227">//&nbsp;The&nbsp;complexity&nbsp;is&nbsp;O(log(n))&nbsp;where&nbsp;n&nbsp;=&nbsp;h.Len().</span><br>
<span class="lineno">85</span><span class="keyword" id="6295277">func</span>&nbsp;<span class="ident" id="6295282">Fix</span><span class="op" id="6295285">(</span><span class="ident" id="6295286">h</span>&nbsp;<span class="ident" id="6295288"><a href="/container/heap/heap.go.html#6293751">Interface</a></span><span class="op" id="6295297">,</span>&nbsp;<span class="ident" id="6295299">i</span>&nbsp;<span class="builtintype" id="6295301">int</span><span class="op" id="6295304">)</span>&nbsp;<span class="op" id="6295306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295309"><a href="/container/heap/heap.go.html#6295486">down</a></span><span class="op" id="6295313">(</span><span class="ident" id="6295314"><a href="/container/heap/heap.go.html#6295286">h</a></span><span class="op" id="6295315">,</span>&nbsp;<span class="ident" id="6295317"><a href="/container/heap/heap.go.html#6295299">i</a></span><span class="op" id="6295318">,</span>&nbsp;<span class="ident" id="6295320"><a href="/container/heap/heap.go.html#6295286">h</a></span><span class="op" id="6295321">.</span><span class="ident" id="6295322">Len</span><span class="op" id="6295325">(</span><span class="op" id="6295326">)</span><span class="op" id="6295327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295330"><a href="/container/heap/heap.go.html#6295347">up</a></span><span class="op" id="6295332">(</span><span class="ident" id="6295333"><a href="/container/heap/heap.go.html#6295286">h</a></span><span class="op" id="6295334">,</span>&nbsp;<span class="ident" id="6295336"><a href="/container/heap/heap.go.html#6295299">i</a></span><span class="op" id="6295337">)</span><br>
<span class="lineno"></span><span class="op" id="6295339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6295342">func</span>&nbsp;<span class="ident" id="6295347">up</span><span class="op" id="6295349">(</span><span class="ident" id="6295350">h</span>&nbsp;<span class="ident" id="6295352"><a href="/container/heap/heap.go.html#6293751">Interface</a></span><span class="op" id="6295361">,</span>&nbsp;<span class="ident" id="6295363">j</span>&nbsp;<span class="builtintype" id="6295365">int</span><span class="op" id="6295368">)</span>&nbsp;<span class="op" id="6295370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295373">for</span>&nbsp;<span class="op" id="6295377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295381">i</span>&nbsp;<span class="op" id="6295383">:=</span>&nbsp;<span class="op" id="6295386">(</span><span class="ident" id="6295387"><a href="/container/heap/heap.go.html#6295363">j</a></span>&nbsp;<span class="op" id="6295389">-</span>&nbsp;<span class="num" id="6295391">1</span><span class="op" id="6295392">)</span>&nbsp;<span class="op" id="6295394">/</span>&nbsp;<span class="num" id="6295396">2</span>&nbsp;<span class="comment" id="6295398">//&nbsp;parent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295410">if</span>&nbsp;<span class="ident" id="6295413"><a href="/container/heap/heap.go.html#6295381">i</a></span>&nbsp;<span class="op" id="6295415">==</span>&nbsp;<span class="ident" id="6295418"><a href="/container/heap/heap.go.html#6295363">j</a></span>&nbsp;<span class="op" id="6295420">||</span>&nbsp;<span class="op" id="6295423">!</span><span class="ident" id="6295424"><a href="/container/heap/heap.go.html#6295350">h</a></span><span class="op" id="6295425">.</span><span class="ident" id="6295426">Less</span><span class="op" id="6295430">(</span><span class="ident" id="6295431"><a href="/container/heap/heap.go.html#6295363">j</a></span><span class="op" id="6295432">,</span>&nbsp;<span class="ident" id="6295434"><a href="/container/heap/heap.go.html#6295381">i</a></span><span class="op" id="6295435">)</span>&nbsp;<span class="op" id="6295437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295442">break</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6295450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295454"><a href="/container/heap/heap.go.html#6295350">h</a></span><span class="op" id="6295455">.</span><span class="ident" id="6295456">Swap</span><span class="op" id="6295460">(</span><span class="ident" id="6295461"><a href="/container/heap/heap.go.html#6295381">i</a></span><span class="op" id="6295462">,</span>&nbsp;<span class="ident" id="6295464"><a href="/container/heap/heap.go.html#6295363">j</a></span><span class="op" id="6295465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295469"><a href="/container/heap/heap.go.html#6295363">j</a></span>&nbsp;<span class="op" id="6295471">=</span>&nbsp;<span class="ident" id="6295473"><a href="/container/heap/heap.go.html#6295381">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6295476">}</span><br>
<span class="lineno"></span><span class="op" id="6295478">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="6295481">func</span>&nbsp;<span class="ident" id="6295486">down</span><span class="op" id="6295490">(</span><span class="ident" id="6295491">h</span>&nbsp;<span class="ident" id="6295493"><a href="/container/heap/heap.go.html#6293751">Interface</a></span><span class="op" id="6295502">,</span>&nbsp;<span class="ident" id="6295504">i</span><span class="op" id="6295505">,</span>&nbsp;<span class="ident" id="6295507">n</span>&nbsp;<span class="builtintype" id="6295509">int</span><span class="op" id="6295512">)</span>&nbsp;<span class="op" id="6295514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295517">for</span>&nbsp;<span class="op" id="6295521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295525">j1</span>&nbsp;<span class="op" id="6295528">:=</span>&nbsp;<span class="num" id="6295531">2</span><span class="op" id="6295532">*</span><span class="ident" id="6295533"><a href="/container/heap/heap.go.html#6295504">i</a></span>&nbsp;<span class="op" id="6295535">+</span>&nbsp;<span class="num" id="6295537">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295541">if</span>&nbsp;<span class="ident" id="6295544"><a href="/container/heap/heap.go.html#6295525">j1</a></span>&nbsp;<span class="op" id="6295547">&gt;=</span>&nbsp;<span class="ident" id="6295550"><a href="/container/heap/heap.go.html#6295507">n</a></span>&nbsp;<span class="op" id="6295552">||</span>&nbsp;<span class="ident" id="6295555"><a href="/container/heap/heap.go.html#6295525">j1</a></span>&nbsp;<span class="op" id="6295558">&lt;</span>&nbsp;<span class="num" id="6295560">0</span>&nbsp;<span class="op" id="6295562">{</span>&nbsp;<span class="comment" id="6295564">//&nbsp;j1&nbsp;&lt;&nbsp;0&nbsp;after&nbsp;int&nbsp;overflow</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295596">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6295604">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295608">j</span>&nbsp;<span class="op" id="6295610">:=</span>&nbsp;<span class="ident" id="6295613"><a href="/container/heap/heap.go.html#6295525">j1</a></span>&nbsp;<span class="comment" id="6295616">//&nbsp;left&nbsp;child</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295632">if</span>&nbsp;<span class="ident" id="6295635">j2</span>&nbsp;<span class="op" id="6295638">:=</span>&nbsp;<span class="ident" id="6295641"><a href="/container/heap/heap.go.html#6295525">j1</a></span>&nbsp;<span class="op" id="6295644">+</span>&nbsp;<span class="num" id="6295646">1</span><span class="op" id="6295647">;</span>&nbsp;<span class="ident" id="6295649"><a href="/container/heap/heap.go.html#6295635">j2</a></span>&nbsp;<span class="op" id="6295652">&lt;</span>&nbsp;<span class="ident" id="6295654"><a href="/container/heap/heap.go.html#6295507">n</a></span>&nbsp;<span class="op" id="6295656">&amp;&amp;</span>&nbsp;<span class="op" id="6295659">!</span><span class="ident" id="6295660"><a href="/container/heap/heap.go.html#6295491">h</a></span><span class="op" id="6295661">.</span><span class="ident" id="6295662">Less</span><span class="op" id="6295666">(</span><span class="ident" id="6295667"><a href="/container/heap/heap.go.html#6295525">j1</a></span><span class="op" id="6295669">,</span>&nbsp;<span class="ident" id="6295671"><a href="/container/heap/heap.go.html#6295635">j2</a></span><span class="op" id="6295673">)</span>&nbsp;<span class="op" id="6295675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295680"><a href="/container/heap/heap.go.html#6295608">j</a></span>&nbsp;<span class="op" id="6295682">=</span>&nbsp;<span class="ident" id="6295684"><a href="/container/heap/heap.go.html#6295635">j2</a></span>&nbsp;<span class="comment" id="6295687">//&nbsp;=&nbsp;2*i&nbsp;+&nbsp;2&nbsp;&nbsp;//&nbsp;right&nbsp;child</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6295718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295722">if</span>&nbsp;<span class="op" id="6295725">!</span><span class="ident" id="6295726"><a href="/container/heap/heap.go.html#6295491">h</a></span><span class="op" id="6295727">.</span><span class="ident" id="6295728">Less</span><span class="op" id="6295732">(</span><span class="ident" id="6295733"><a href="/container/heap/heap.go.html#6295608">j</a></span><span class="op" id="6295734">,</span>&nbsp;<span class="ident" id="6295736"><a href="/container/heap/heap.go.html#6295504">i</a></span><span class="op" id="6295737">)</span>&nbsp;<span class="op" id="6295739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6295744">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6295752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295756"><a href="/container/heap/heap.go.html#6295491">h</a></span><span class="op" id="6295757">.</span><span class="ident" id="6295758">Swap</span><span class="op" id="6295762">(</span><span class="ident" id="6295763"><a href="/container/heap/heap.go.html#6295504">i</a></span><span class="op" id="6295764">,</span>&nbsp;<span class="ident" id="6295766"><a href="/container/heap/heap.go.html#6295608">j</a></span><span class="op" id="6295767">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6295771"><a href="/container/heap/heap.go.html#6295504">i</a></span>&nbsp;<span class="op" id="6295773">=</span>&nbsp;<span class="ident" id="6295775"><a href="/container/heap/heap.go.html#6295608">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6295778">}</span><br>
<span class="lineno"></span><span class="op" id="6295780">}</span>
</div>
</body>
</html>
