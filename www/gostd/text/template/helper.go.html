<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template</h2>
<ul>
<li><a href="/gostd/text/template/doc.go.html">doc.go</a></li>
<li><a href="/gostd/text/template/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/text/template/examplefiles_test.go.html">examplefiles_test.go</a></li>
<li><a href="/gostd/text/template/examplefunc_test.go.html">examplefunc_test.go</a></li>
<li><a href="/gostd/text/template/exec.go.html">exec.go</a></li>
<li><a href="/gostd/text/template/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/text/template/funcs.go.html">funcs.go</a></li>
<li><a href="/gostd/text/template/helper.go.html" class="current">helper.go</a></li>
<li><a href="/gostd/text/template/multi_test.go.html">multi_test.go</a></li>
<li><a href="/gostd/text/template/template.go.html">template.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5344229">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5344284">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5344338">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5344389">//&nbsp;Helper&nbsp;functions&nbsp;to&nbsp;make&nbsp;constructing&nbsp;templates&nbsp;easier.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5344449">package</span>&nbsp;<span class="ident" id="5344457">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5344467">import</span>&nbsp;<span class="op" id="5344474">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5344477">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5344484">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5344497">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span><span class="op" id="5344513">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5344516">//&nbsp;Functions&nbsp;and&nbsp;methods&nbsp;to&nbsp;parse&nbsp;templates.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5344562">//&nbsp;Must&nbsp;is&nbsp;a&nbsp;helper&nbsp;that&nbsp;wraps&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;function&nbsp;returning&nbsp;(*Template,&nbsp;error)</span><br>
<span class="lineno"></span><span class="comment" id="5344643">//&nbsp;and&nbsp;panics&nbsp;if&nbsp;the&nbsp;error&nbsp;is&nbsp;non-nil.&nbsp;It&nbsp;is&nbsp;intended&nbsp;for&nbsp;use&nbsp;in&nbsp;variable</span><br>
<span class="lineno"></span><span class="comment" id="5344717">//&nbsp;initializations&nbsp;such&nbsp;as</span><br>
<span class="lineno">20</span><span class="comment" id="5344744">//&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;t&nbsp;=&nbsp;template.Must(template.New(&#34;name&#34;).Parse(&#34;text&#34;))</span><br>
<span class="lineno"></span><span class="keyword" id="5344805">func</span>&nbsp;<span class="ident" id="5344810">Must</span><span class="op" id="5344814">(</span><span class="ident" id="5344815">t</span>&nbsp;<span class="op" id="5344817">*</span><span class="ident" id="5344818">Template</span><span class="op" id="5344826">,</span>&nbsp;<span class="ident" id="5344828">err</span>&nbsp;<span class="builtintype" id="5344832">error</span><span class="op" id="5344837">)</span>&nbsp;<span class="op" id="5344839">*</span><span class="ident" id="5344840">Template</span>&nbsp;<span class="op" id="5344849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5344852">if</span>&nbsp;<span class="ident" id="5344855">err</span>&nbsp;<span class="op" id="5344859">!=</span>&nbsp;<span class="ident" id="5344862">nil</span>&nbsp;<span class="op" id="5344866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5344870">panic</span><span class="op" id="5344875">(</span><span class="ident" id="5344876">err</span><span class="op" id="5344879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5344882">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5344885">return</span>&nbsp;<span class="ident" id="5344892">t</span><br>
<span class="lineno"></span><span class="op" id="5344894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5344897">//&nbsp;ParseFiles&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="5344975">//&nbsp;the&nbsp;named&nbsp;files.&nbsp;The&nbsp;returned&nbsp;template&#39;s&nbsp;name&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and</span><br>
<span class="lineno">30</span><span class="comment" id="5345054">//&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the&nbsp;first&nbsp;file.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="comment" id="5345127">//&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;*Template&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="5345199">func</span>&nbsp;<span class="ident" id="5345204">ParseFiles</span><span class="op" id="5345214">(</span><span class="ident" id="5345215">filenames</span>&nbsp;<span class="op" id="5345225">...</span><span class="builtintype" id="5345228">string</span><span class="op" id="5345234">)</span>&nbsp;<span class="op" id="5345236">(</span><span class="op" id="5345237">*</span><span class="ident" id="5345238">Template</span><span class="op" id="5345246">,</span>&nbsp;<span class="builtintype" id="5345248">error</span><span class="op" id="5345253">)</span>&nbsp;<span class="op" id="5345255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5345258">return</span>&nbsp;<span class="ident" id="5345265">parseFiles</span><span class="op" id="5345275">(</span><span class="ident" id="5345276">nil</span><span class="op" id="5345279">,</span>&nbsp;<span class="ident" id="5345281">filenames</span><span class="op" id="5345290">...</span><span class="op" id="5345293">)</span><br>
<span class="lineno"></span><span class="op" id="5345295">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="5345298">//&nbsp;ParseFiles&nbsp;parses&nbsp;the&nbsp;named&nbsp;files&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5345379">//&nbsp;t.&nbsp;If&nbsp;an&nbsp;error&nbsp;occurs,&nbsp;parsing&nbsp;stops&nbsp;and&nbsp;the&nbsp;returned&nbsp;template&nbsp;is&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="5345453">//&nbsp;otherwise&nbsp;it&nbsp;is&nbsp;t.&nbsp;There&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5345508">func</span>&nbsp;<span class="op" id="5345513">(</span><span class="ident" id="5345514">t</span>&nbsp;<span class="op" id="5345516">*</span><span class="ident" id="5345517">Template</span><span class="op" id="5345525">)</span>&nbsp;<span class="ident" id="5345527">ParseFiles</span><span class="op" id="5345537">(</span><span class="ident" id="5345538">filenames</span>&nbsp;<span class="op" id="5345548">...</span><span class="builtintype" id="5345551">string</span><span class="op" id="5345557">)</span>&nbsp;<span class="op" id="5345559">(</span><span class="op" id="5345560">*</span><span class="ident" id="5345561">Template</span><span class="op" id="5345569">,</span>&nbsp;<span class="builtintype" id="5345571">error</span><span class="op" id="5345576">)</span>&nbsp;<span class="op" id="5345578">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5345581">return</span>&nbsp;<span class="ident" id="5345588">parseFiles</span><span class="op" id="5345598">(</span><span class="ident" id="5345599">t</span><span class="op" id="5345600">,</span>&nbsp;<span class="ident" id="5345602">filenames</span><span class="op" id="5345611">...</span><span class="op" id="5345614">)</span><br>
<span class="lineno"></span><span class="op" id="5345616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5345619">//&nbsp;parseFiles&nbsp;is&nbsp;the&nbsp;helper&nbsp;for&nbsp;the&nbsp;method&nbsp;and&nbsp;function.&nbsp;If&nbsp;the&nbsp;argument</span><br>
<span class="lineno"></span><span class="comment" id="5345692">//&nbsp;template&nbsp;is&nbsp;nil,&nbsp;it&nbsp;is&nbsp;created&nbsp;from&nbsp;the&nbsp;first&nbsp;file.</span><br>
<span class="lineno">45</span><span class="keyword" id="5345747">func</span>&nbsp;<span class="ident" id="5345752">parseFiles</span><span class="op" id="5345762">(</span><span class="ident" id="5345763">t</span>&nbsp;<span class="op" id="5345765">*</span><span class="ident" id="5345766">Template</span><span class="op" id="5345774">,</span>&nbsp;<span class="ident" id="5345776">filenames</span>&nbsp;<span class="op" id="5345786">...</span><span class="builtintype" id="5345789">string</span><span class="op" id="5345795">)</span>&nbsp;<span class="op" id="5345797">(</span><span class="op" id="5345798">*</span><span class="ident" id="5345799">Template</span><span class="op" id="5345807">,</span>&nbsp;<span class="builtintype" id="5345809">error</span><span class="op" id="5345814">)</span>&nbsp;<span class="op" id="5345816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5345819">if</span>&nbsp;<span class="builtinfunc" id="5345822">len</span><span class="op" id="5345825">(</span><span class="ident" id="5345826">filenames</span><span class="op" id="5345835">)</span>&nbsp;<span class="op" id="5345837">==</span>&nbsp;<span class="num" id="5345840">0</span>&nbsp;<span class="op" id="5345842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5345846">//&nbsp;Not&nbsp;really&nbsp;a&nbsp;problem,&nbsp;but&nbsp;be&nbsp;consistent.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5345892">return</span>&nbsp;<span class="ident" id="5345899">nil</span><span class="op" id="5345902">,</span>&nbsp;<span class="ident" id="5345904">fmt</span><span class="op" id="5345907">.</span><span class="ident" id="5345908">Errorf</span><span class="op" id="5345914">(</span><span class="string" id="5345915">&#34;template:&nbsp;no&nbsp;files&nbsp;named&nbsp;in&nbsp;call&nbsp;to&nbsp;ParseFiles&#34;</span><span class="op" id="5345963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5345966">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5345969">for</span>&nbsp;<span class="ident" id="5345973">_</span><span class="op" id="5345974">,</span>&nbsp;<span class="ident" id="5345976">filename</span>&nbsp;<span class="op" id="5345985">:=</span>&nbsp;<span class="keyword" id="5345988">range</span>&nbsp;<span class="ident" id="5345994">filenames</span>&nbsp;<span class="op" id="5346004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5346008">b</span><span class="op" id="5346009">,</span>&nbsp;<span class="ident" id="5346011">err</span>&nbsp;<span class="op" id="5346015">:=</span>&nbsp;<span class="ident" id="5346018">ioutil</span><span class="op" id="5346024">.</span><span class="ident" id="5346025">ReadFile</span><span class="op" id="5346033">(</span><span class="ident" id="5346034">filename</span><span class="op" id="5346042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346046">if</span>&nbsp;<span class="ident" id="5346049">err</span>&nbsp;<span class="op" id="5346053">!=</span>&nbsp;<span class="ident" id="5346056">nil</span>&nbsp;<span class="op" id="5346060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346065">return</span>&nbsp;<span class="ident" id="5346072">nil</span><span class="op" id="5346075">,</span>&nbsp;<span class="ident" id="5346077">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5346083">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5346087">s</span>&nbsp;<span class="op" id="5346089">:=</span>&nbsp;<span class="builtintype" id="5346092">string</span><span class="op" id="5346098">(</span><span class="ident" id="5346099">b</span><span class="op" id="5346100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5346104">name</span>&nbsp;<span class="op" id="5346109">:=</span>&nbsp;<span class="ident" id="5346112">filepath</span><span class="op" id="5346120">.</span><span class="ident" id="5346121">Base</span><span class="op" id="5346125">(</span><span class="ident" id="5346126">filename</span><span class="op" id="5346134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5346138">//&nbsp;First&nbsp;template&nbsp;becomes&nbsp;return&nbsp;value&nbsp;if&nbsp;not&nbsp;already&nbsp;defined,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5346203">//&nbsp;and&nbsp;we&nbsp;use&nbsp;that&nbsp;one&nbsp;for&nbsp;subsequent&nbsp;New&nbsp;calls&nbsp;to&nbsp;associate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5346266">//&nbsp;all&nbsp;the&nbsp;templates&nbsp;together.&nbsp;Also,&nbsp;if&nbsp;this&nbsp;file&nbsp;has&nbsp;the&nbsp;same&nbsp;name</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5346336">//&nbsp;as&nbsp;t,&nbsp;this&nbsp;file&nbsp;becomes&nbsp;the&nbsp;contents&nbsp;of&nbsp;t,&nbsp;so</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5346387">//&nbsp;&nbsp;t,&nbsp;err&nbsp;:=&nbsp;New(name).Funcs(xxx).ParseFiles(name)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5346441">//&nbsp;works.&nbsp;Otherwise&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;template&nbsp;associated&nbsp;with&nbsp;t.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346507">var</span>&nbsp;<span class="ident" id="5346511">tmpl</span>&nbsp;<span class="op" id="5346516">*</span><span class="ident" id="5346517">Template</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346528">if</span>&nbsp;<span class="ident" id="5346531">t</span>&nbsp;<span class="op" id="5346533">==</span>&nbsp;<span class="ident" id="5346536">nil</span>&nbsp;<span class="op" id="5346540">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5346545">t</span>&nbsp;<span class="op" id="5346547">=</span>&nbsp;<span class="ident" id="5346549">New</span><span class="op" id="5346552">(</span><span class="ident" id="5346553">name</span><span class="op" id="5346557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5346561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346565">if</span>&nbsp;<span class="ident" id="5346568">name</span>&nbsp;<span class="op" id="5346573">==</span>&nbsp;<span class="ident" id="5346576">t</span><span class="op" id="5346577">.</span><span class="ident" id="5346578">Name</span><span class="op" id="5346582">(</span><span class="op" id="5346583">)</span>&nbsp;<span class="op" id="5346585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5346590">tmpl</span>&nbsp;<span class="op" id="5346595">=</span>&nbsp;<span class="ident" id="5346597">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5346601">}</span>&nbsp;<span class="keyword" id="5346603">else</span>&nbsp;<span class="op" id="5346608">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5346613">tmpl</span>&nbsp;<span class="op" id="5346618">=</span>&nbsp;<span class="ident" id="5346620">t</span><span class="op" id="5346621">.</span><span class="ident" id="5346622">New</span><span class="op" id="5346625">(</span><span class="ident" id="5346626">name</span><span class="op" id="5346630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5346634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5346638">_</span><span class="op" id="5346639">,</span>&nbsp;<span class="ident" id="5346641">err</span>&nbsp;<span class="op" id="5346645">=</span>&nbsp;<span class="ident" id="5346647">tmpl</span><span class="op" id="5346651">.</span><span class="ident" id="5346652">Parse</span><span class="op" id="5346657">(</span><span class="ident" id="5346658">s</span><span class="op" id="5346659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346663">if</span>&nbsp;<span class="ident" id="5346666">err</span>&nbsp;<span class="op" id="5346670">!=</span>&nbsp;<span class="ident" id="5346673">nil</span>&nbsp;<span class="op" id="5346677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346682">return</span>&nbsp;<span class="ident" id="5346689">nil</span><span class="op" id="5346692">,</span>&nbsp;<span class="ident" id="5346694">err</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5346700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5346703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5346706">return</span>&nbsp;<span class="ident" id="5346713">t</span><span class="op" id="5346714">,</span>&nbsp;<span class="ident" id="5346716">nil</span><br>
<span class="lineno"></span><span class="op" id="5346720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5346723">//&nbsp;ParseGlob&nbsp;creates&nbsp;a&nbsp;new&nbsp;Template&nbsp;and&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;from&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5346804">//&nbsp;files&nbsp;identified&nbsp;by&nbsp;the&nbsp;pattern,&nbsp;which&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;The</span><br>
<span class="lineno"></span><span class="comment" id="5346880">//&nbsp;returned&nbsp;template&nbsp;will&nbsp;have&nbsp;the&nbsp;(base)&nbsp;name&nbsp;and&nbsp;(parsed)&nbsp;contents&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5346956">//&nbsp;first&nbsp;file&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.&nbsp;ParseGlob&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling</span><br>
<span class="lineno"></span><span class="comment" id="5347029">//&nbsp;ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the&nbsp;pattern.</span><br>
<span class="lineno">85</span><span class="keyword" id="5347090">func</span>&nbsp;<span class="ident" id="5347095">ParseGlob</span><span class="op" id="5347104">(</span><span class="ident" id="5347105">pattern</span>&nbsp;<span class="builtintype" id="5347113">string</span><span class="op" id="5347119">)</span>&nbsp;<span class="op" id="5347121">(</span><span class="op" id="5347122">*</span><span class="ident" id="5347123">Template</span><span class="op" id="5347131">,</span>&nbsp;<span class="builtintype" id="5347133">error</span><span class="op" id="5347138">)</span>&nbsp;<span class="op" id="5347140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5347143">return</span>&nbsp;<span class="ident" id="5347150">parseGlob</span><span class="op" id="5347159">(</span><span class="ident" id="5347160">nil</span><span class="op" id="5347163">,</span>&nbsp;<span class="ident" id="5347165">pattern</span><span class="op" id="5347172">)</span><br>
<span class="lineno"></span><span class="op" id="5347174">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5347177">//&nbsp;ParseGlob&nbsp;parses&nbsp;the&nbsp;template&nbsp;definitions&nbsp;in&nbsp;the&nbsp;files&nbsp;identified&nbsp;by&nbsp;the</span><br>
<span class="lineno">90</span><span class="comment" id="5347253">//&nbsp;pattern&nbsp;and&nbsp;associates&nbsp;the&nbsp;resulting&nbsp;templates&nbsp;with&nbsp;t.&nbsp;The&nbsp;pattern&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5347326">//&nbsp;processed&nbsp;by&nbsp;filepath.Glob&nbsp;and&nbsp;must&nbsp;match&nbsp;at&nbsp;least&nbsp;one&nbsp;file.&nbsp;ParseGlob&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5347403">//&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;t.ParseFiles&nbsp;with&nbsp;the&nbsp;list&nbsp;of&nbsp;files&nbsp;matched&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5347479">//&nbsp;pattern.</span><br>
<span class="lineno"></span><span class="keyword" id="5347491">func</span>&nbsp;<span class="op" id="5347496">(</span><span class="ident" id="5347497">t</span>&nbsp;<span class="op" id="5347499">*</span><span class="ident" id="5347500">Template</span><span class="op" id="5347508">)</span>&nbsp;<span class="ident" id="5347510">ParseGlob</span><span class="op" id="5347519">(</span><span class="ident" id="5347520">pattern</span>&nbsp;<span class="builtintype" id="5347528">string</span><span class="op" id="5347534">)</span>&nbsp;<span class="op" id="5347536">(</span><span class="op" id="5347537">*</span><span class="ident" id="5347538">Template</span><span class="op" id="5347546">,</span>&nbsp;<span class="builtintype" id="5347548">error</span><span class="op" id="5347553">)</span>&nbsp;<span class="op" id="5347555">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5347558">return</span>&nbsp;<span class="ident" id="5347565">parseGlob</span><span class="op" id="5347574">(</span><span class="ident" id="5347575">t</span><span class="op" id="5347576">,</span>&nbsp;<span class="ident" id="5347578">pattern</span><span class="op" id="5347585">)</span><br>
<span class="lineno"></span><span class="op" id="5347587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5347590">//&nbsp;parseGlob&nbsp;is&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;function&nbsp;and&nbsp;method&nbsp;ParseGlob.</span><br>
<span class="lineno"></span><span class="keyword" id="5347663">func</span>&nbsp;<span class="ident" id="5347668">parseGlob</span><span class="op" id="5347677">(</span><span class="ident" id="5347678">t</span>&nbsp;<span class="op" id="5347680">*</span><span class="ident" id="5347681">Template</span><span class="op" id="5347689">,</span>&nbsp;<span class="ident" id="5347691">pattern</span>&nbsp;<span class="builtintype" id="5347699">string</span><span class="op" id="5347705">)</span>&nbsp;<span class="op" id="5347707">(</span><span class="op" id="5347708">*</span><span class="ident" id="5347709">Template</span><span class="op" id="5347717">,</span>&nbsp;<span class="builtintype" id="5347719">error</span><span class="op" id="5347724">)</span>&nbsp;<span class="op" id="5347726">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5347729">filenames</span><span class="op" id="5347738">,</span>&nbsp;<span class="ident" id="5347740">err</span>&nbsp;<span class="op" id="5347744">:=</span>&nbsp;<span class="ident" id="5347747">filepath</span><span class="op" id="5347755">.</span><span class="ident" id="5347756">Glob</span><span class="op" id="5347760">(</span><span class="ident" id="5347761">pattern</span><span class="op" id="5347768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5347771">if</span>&nbsp;<span class="ident" id="5347774">err</span>&nbsp;<span class="op" id="5347778">!=</span>&nbsp;<span class="ident" id="5347781">nil</span>&nbsp;<span class="op" id="5347785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5347789">return</span>&nbsp;<span class="ident" id="5347796">nil</span><span class="op" id="5347799">,</span>&nbsp;<span class="ident" id="5347801">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5347806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5347809">if</span>&nbsp;<span class="builtinfunc" id="5347812">len</span><span class="op" id="5347815">(</span><span class="ident" id="5347816">filenames</span><span class="op" id="5347825">)</span>&nbsp;<span class="op" id="5347827">==</span>&nbsp;<span class="num" id="5347830">0</span>&nbsp;<span class="op" id="5347832">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5347836">return</span>&nbsp;<span class="ident" id="5347843">nil</span><span class="op" id="5347846">,</span>&nbsp;<span class="ident" id="5347848">fmt</span><span class="op" id="5347851">.</span><span class="ident" id="5347852">Errorf</span><span class="op" id="5347858">(</span><span class="string" id="5347859">&#34;template:&nbsp;pattern&nbsp;matches&nbsp;no&nbsp;files:&nbsp;%#q&#34;</span><span class="op" id="5347900">,</span>&nbsp;<span class="ident" id="5347902">pattern</span><span class="op" id="5347909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5347912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5347915">return</span>&nbsp;<span class="ident" id="5347922">parseFiles</span><span class="op" id="5347932">(</span><span class="ident" id="5347933">t</span><span class="op" id="5347934">,</span>&nbsp;<span class="ident" id="5347936">filenames</span><span class="op" id="5347945">...</span><span class="op" id="5347948">)</span><br>
<span class="lineno"></span><span class="op" id="5347950">}</span>
</div>
</body>
</html>
