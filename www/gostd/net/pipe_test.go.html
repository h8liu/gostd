<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html" class="current">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6523630">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6523686">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6523740">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6523791">package</span>&nbsp;<span class="ident" id="6523799">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6523804">import</span>&nbsp;<span class="op" id="6523811">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523814">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523823">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6523829">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6523839">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6523842">func</span>&nbsp;<span class="ident" id="6523847">checkWrite</span><span class="op" id="6523857">(</span><span class="ident" id="6523858">t</span>&nbsp;<span class="op" id="6523860">*</span><span class="ident" id="6523861">testing</span><span class="op" id="6523868">.</span><span class="ident" id="6523869">T</span><span class="op" id="6523870">,</span>&nbsp;<span class="ident" id="6523872">w</span>&nbsp;<span class="ident" id="6523874">io</span><span class="op" id="6523876">.</span><span class="ident" id="6523877">Writer</span><span class="op" id="6523883">,</span>&nbsp;<span class="ident" id="6523885">data</span>&nbsp;<span class="op" id="6523890">[</span><span class="op" id="6523891">]</span><span class="builtintype" id="6523892">byte</span><span class="op" id="6523896">,</span>&nbsp;<span class="ident" id="6523898">c</span>&nbsp;<span class="keyword" id="6523900">chan</span>&nbsp;<span class="builtintype" id="6523905">int</span><span class="op" id="6523908">)</span>&nbsp;<span class="op" id="6523910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523913">n</span><span class="op" id="6523914">,</span>&nbsp;<span class="ident" id="6523916">err</span>&nbsp;<span class="op" id="6523920">:=</span>&nbsp;<span class="ident" id="6523923">w</span><span class="op" id="6523924">.</span><span class="ident" id="6523925">Write</span><span class="op" id="6523930">(</span><span class="ident" id="6523931">data</span><span class="op" id="6523935">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6523938">if</span>&nbsp;<span class="ident" id="6523941">err</span>&nbsp;<span class="op" id="6523945">!=</span>&nbsp;<span class="builtintype" id="6523948">nil</span>&nbsp;<span class="op" id="6523952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6523956">t</span><span class="op" id="6523957">.</span><span class="ident" id="6523958">Errorf</span><span class="op" id="6523964">(</span><span class="string" id="6523965">&#34;write:&nbsp;%v&#34;</span><span class="op" id="6523976">,</span>&nbsp;<span class="ident" id="6523978">err</span><span class="op" id="6523981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6523984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6523987">if</span>&nbsp;<span class="ident" id="6523990">n</span>&nbsp;<span class="op" id="6523992">!=</span>&nbsp;<span class="builtinfunc" id="6523995">len</span><span class="op" id="6523998">(</span><span class="ident" id="6523999">data</span><span class="op" id="6524003">)</span>&nbsp;<span class="op" id="6524005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524009">t</span><span class="op" id="6524010">.</span><span class="ident" id="6524011">Errorf</span><span class="op" id="6524017">(</span><span class="string" id="6524018">&#34;short&nbsp;write:&nbsp;%d&nbsp;!=&nbsp;%d&#34;</span><span class="op" id="6524041">,</span>&nbsp;<span class="ident" id="6524043">n</span><span class="op" id="6524044">,</span>&nbsp;<span class="builtinfunc" id="6524046">len</span><span class="op" id="6524049">(</span><span class="ident" id="6524050">data</span><span class="op" id="6524054">)</span><span class="op" id="6524055">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524061">c</span>&nbsp;<span class="op" id="6524063">&lt;-</span>&nbsp;<span class="num" id="6524066">0</span><br>
<span class="lineno"></span><span class="op" id="6524068">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6524071">func</span>&nbsp;<span class="ident" id="6524076">checkRead</span><span class="op" id="6524085">(</span><span class="ident" id="6524086">t</span>&nbsp;<span class="op" id="6524088">*</span><span class="ident" id="6524089">testing</span><span class="op" id="6524096">.</span><span class="ident" id="6524097">T</span><span class="op" id="6524098">,</span>&nbsp;<span class="ident" id="6524100">r</span>&nbsp;<span class="ident" id="6524102">io</span><span class="op" id="6524104">.</span><span class="ident" id="6524105">Reader</span><span class="op" id="6524111">,</span>&nbsp;<span class="ident" id="6524113">data</span>&nbsp;<span class="op" id="6524118">[</span><span class="op" id="6524119">]</span><span class="builtintype" id="6524120">byte</span><span class="op" id="6524124">,</span>&nbsp;<span class="ident" id="6524126">wantErr</span>&nbsp;<span class="builtintype" id="6524134">error</span><span class="op" id="6524139">)</span>&nbsp;<span class="op" id="6524141">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524144">buf</span>&nbsp;<span class="op" id="6524148">:=</span>&nbsp;<span class="builtinfunc" id="6524151">make</span><span class="op" id="6524155">(</span><span class="op" id="6524156">[</span><span class="op" id="6524157">]</span><span class="builtintype" id="6524158">byte</span><span class="op" id="6524162">,</span>&nbsp;<span class="builtinfunc" id="6524164">len</span><span class="op" id="6524167">(</span><span class="ident" id="6524168">data</span><span class="op" id="6524172">)</span><span class="op" id="6524173">+</span><span class="num" id="6524174">10</span><span class="op" id="6524176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524179">n</span><span class="op" id="6524180">,</span>&nbsp;<span class="ident" id="6524182">err</span>&nbsp;<span class="op" id="6524186">:=</span>&nbsp;<span class="ident" id="6524189">r</span><span class="op" id="6524190">.</span><span class="ident" id="6524191">Read</span><span class="op" id="6524195">(</span><span class="ident" id="6524196">buf</span><span class="op" id="6524199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524202">if</span>&nbsp;<span class="ident" id="6524205">err</span>&nbsp;<span class="op" id="6524209">!=</span>&nbsp;<span class="ident" id="6524212">wantErr</span>&nbsp;<span class="op" id="6524220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524224">t</span><span class="op" id="6524225">.</span><span class="ident" id="6524226">Errorf</span><span class="op" id="6524232">(</span><span class="string" id="6524233">&#34;read:&nbsp;%v&#34;</span><span class="op" id="6524243">,</span>&nbsp;<span class="ident" id="6524245">err</span><span class="op" id="6524248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524252">return</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524263">if</span>&nbsp;<span class="ident" id="6524266">n</span>&nbsp;<span class="op" id="6524268">!=</span>&nbsp;<span class="builtinfunc" id="6524271">len</span><span class="op" id="6524274">(</span><span class="ident" id="6524275">data</span><span class="op" id="6524279">)</span>&nbsp;<span class="op" id="6524281">||</span>&nbsp;<span class="op" id="6524284">!</span><span class="ident" id="6524285">bytes</span><span class="op" id="6524290">.</span><span class="ident" id="6524291">Equal</span><span class="op" id="6524296">(</span><span class="ident" id="6524297">buf</span><span class="op" id="6524300">[</span><span class="num" id="6524301">0</span><span class="op" id="6524302">:</span><span class="ident" id="6524303">n</span><span class="op" id="6524304">]</span><span class="op" id="6524305">,</span>&nbsp;<span class="ident" id="6524307">data</span><span class="op" id="6524311">)</span>&nbsp;<span class="op" id="6524313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524317">t</span><span class="op" id="6524318">.</span><span class="ident" id="6524319">Errorf</span><span class="op" id="6524325">(</span><span class="string" id="6524326">&#34;bad&nbsp;read:&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6524344">,</span>&nbsp;<span class="ident" id="6524346">buf</span><span class="op" id="6524349">[</span><span class="num" id="6524350">0</span><span class="op" id="6524351">:</span><span class="ident" id="6524352">n</span><span class="op" id="6524353">]</span><span class="op" id="6524354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524358">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524366">}</span><br>
<span class="lineno">35</span><span class="op" id="6524368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6524371">//&nbsp;Test&nbsp;a&nbsp;simple&nbsp;read/write/close&nbsp;sequence.</span><br>
<span class="lineno"></span><span class="comment" id="6524415">//&nbsp;Assumes&nbsp;that&nbsp;the&nbsp;underlying&nbsp;io.Pipe&nbsp;implementation</span><br>
<span class="lineno"></span><span class="comment" id="6524469">//&nbsp;is&nbsp;solid&nbsp;and&nbsp;we&#39;re&nbsp;just&nbsp;testing&nbsp;the&nbsp;net&nbsp;wrapping.</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="6524523">func</span>&nbsp;<span class="ident" id="6524528">TestPipe</span><span class="op" id="6524536">(</span><span class="ident" id="6524537">t</span>&nbsp;<span class="op" id="6524539">*</span><span class="ident" id="6524540">testing</span><span class="op" id="6524547">.</span><span class="ident" id="6524548">T</span><span class="op" id="6524549">)</span>&nbsp;<span class="op" id="6524551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524554">c</span>&nbsp;<span class="op" id="6524556">:=</span>&nbsp;<span class="builtinfunc" id="6524559">make</span><span class="op" id="6524563">(</span><span class="keyword" id="6524564">chan</span>&nbsp;<span class="builtintype" id="6524569">int</span><span class="op" id="6524572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524575">cli</span><span class="op" id="6524578">,</span>&nbsp;<span class="ident" id="6524580">srv</span>&nbsp;<span class="op" id="6524584">:=</span>&nbsp;<span class="ident" id="6524587">Pipe</span><span class="op" id="6524591">(</span><span class="op" id="6524592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524595">go</span>&nbsp;<span class="ident" id="6524598">checkWrite</span><span class="op" id="6524608">(</span><span class="ident" id="6524609">t</span><span class="op" id="6524610">,</span>&nbsp;<span class="ident" id="6524612">cli</span><span class="op" id="6524615">,</span>&nbsp;<span class="op" id="6524617">[</span><span class="op" id="6524618">]</span><span class="builtintype" id="6524619">byte</span><span class="op" id="6524623">(</span><span class="string" id="6524624">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6524638">)</span><span class="op" id="6524639">,</span>&nbsp;<span class="ident" id="6524641">c</span><span class="op" id="6524642">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524645">checkRead</span><span class="op" id="6524654">(</span><span class="ident" id="6524655">t</span><span class="op" id="6524656">,</span>&nbsp;<span class="ident" id="6524658">srv</span><span class="op" id="6524661">,</span>&nbsp;<span class="op" id="6524663">[</span><span class="op" id="6524664">]</span><span class="builtintype" id="6524665">byte</span><span class="op" id="6524669">(</span><span class="string" id="6524670">&#34;hello,&nbsp;world&#34;</span><span class="op" id="6524684">)</span><span class="op" id="6524685">,</span>&nbsp;<span class="builtintype" id="6524687">nil</span><span class="op" id="6524690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524693">&lt;-</span><span class="ident" id="6524695">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524698">go</span>&nbsp;<span class="ident" id="6524701">checkWrite</span><span class="op" id="6524711">(</span><span class="ident" id="6524712">t</span><span class="op" id="6524713">,</span>&nbsp;<span class="ident" id="6524715">srv</span><span class="op" id="6524718">,</span>&nbsp;<span class="op" id="6524720">[</span><span class="op" id="6524721">]</span><span class="builtintype" id="6524722">byte</span><span class="op" id="6524726">(</span><span class="string" id="6524727">&#34;line&nbsp;2&#34;</span><span class="op" id="6524735">)</span><span class="op" id="6524736">,</span>&nbsp;<span class="ident" id="6524738">c</span><span class="op" id="6524739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524742">checkRead</span><span class="op" id="6524751">(</span><span class="ident" id="6524752">t</span><span class="op" id="6524753">,</span>&nbsp;<span class="ident" id="6524755">cli</span><span class="op" id="6524758">,</span>&nbsp;<span class="op" id="6524760">[</span><span class="op" id="6524761">]</span><span class="builtintype" id="6524762">byte</span><span class="op" id="6524766">(</span><span class="string" id="6524767">&#34;line&nbsp;2&#34;</span><span class="op" id="6524775">)</span><span class="op" id="6524776">,</span>&nbsp;<span class="builtintype" id="6524778">nil</span><span class="op" id="6524781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524784">&lt;-</span><span class="ident" id="6524786">c</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524789">go</span>&nbsp;<span class="ident" id="6524792">checkWrite</span><span class="op" id="6524802">(</span><span class="ident" id="6524803">t</span><span class="op" id="6524804">,</span>&nbsp;<span class="ident" id="6524806">cli</span><span class="op" id="6524809">,</span>&nbsp;<span class="op" id="6524811">[</span><span class="op" id="6524812">]</span><span class="builtintype" id="6524813">byte</span><span class="op" id="6524817">(</span><span class="string" id="6524818">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6524832">)</span><span class="op" id="6524833">,</span>&nbsp;<span class="ident" id="6524835">c</span><span class="op" id="6524836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524839">checkRead</span><span class="op" id="6524848">(</span><span class="ident" id="6524849">t</span><span class="op" id="6524850">,</span>&nbsp;<span class="ident" id="6524852">srv</span><span class="op" id="6524855">,</span>&nbsp;<span class="op" id="6524857">[</span><span class="op" id="6524858">]</span><span class="builtintype" id="6524859">byte</span><span class="op" id="6524863">(</span><span class="string" id="6524864">&#34;a&nbsp;third&nbsp;line&#34;</span><span class="op" id="6524878">)</span><span class="op" id="6524879">,</span>&nbsp;<span class="builtintype" id="6524881">nil</span><span class="op" id="6524884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6524887">&lt;-</span><span class="ident" id="6524889">c</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6524892">go</span>&nbsp;<span class="ident" id="6524895">srv</span><span class="op" id="6524898">.</span><span class="ident" id="6524899">Close</span><span class="op" id="6524904">(</span><span class="op" id="6524905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524908">checkRead</span><span class="op" id="6524917">(</span><span class="ident" id="6524918">t</span><span class="op" id="6524919">,</span>&nbsp;<span class="ident" id="6524921">cli</span><span class="op" id="6524924">,</span>&nbsp;<span class="builtintype" id="6524926">nil</span><span class="op" id="6524929">,</span>&nbsp;<span class="ident" id="6524931">io</span><span class="op" id="6524933">.</span><span class="ident" id="6524934">EOF</span><span class="op" id="6524937">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6524940">cli</span><span class="op" id="6524943">.</span><span class="ident" id="6524944">Close</span><span class="op" id="6524949">(</span><span class="op" id="6524950">)</span><br>
<span class="lineno"></span><span class="op" id="6524952">}</span>
</div>
</body>
</html>
