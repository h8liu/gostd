<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html" class="current">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4831266">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4831325">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4831380">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="4831434">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4831485">package</span>&nbsp;<span class="ident" id="4831493">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4831498">import</span>&nbsp;<span class="op" id="4831505">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4831508">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4831516">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="4831526">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4831529">var</span>&nbsp;<span class="ident" id="4831533">decArrayHelper</span>&nbsp;<span class="op" id="4831548">=</span>&nbsp;<span class="keyword" id="4831550">map</span><span class="op" id="4831553">[</span><span class="ident" id="4831554">reflect</span><span class="op" id="4831561">.</span><span class="ident" id="4831562">Kind</span><span class="op" id="4831566">]</span><span class="ident" id="4831567">decHelper</span><span class="op" id="4831576">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831579">reflect</span><span class="op" id="4831586">.</span><span class="ident" id="4831587">Bool</span><span class="op" id="4831591">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831599">decBoolArray</span><span class="op" id="4831611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831614">reflect</span><span class="op" id="4831621">.</span><span class="ident" id="4831622">Complex64</span><span class="op" id="4831631">:</span>&nbsp;&nbsp;<span class="ident" id="4831634">decComplex64Array</span><span class="op" id="4831651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831654">reflect</span><span class="op" id="4831661">.</span><span class="ident" id="4831662">Complex128</span><span class="op" id="4831672">:</span>&nbsp;<span class="ident" id="4831674">decComplex128Array</span><span class="op" id="4831692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831695">reflect</span><span class="op" id="4831702">.</span><span class="ident" id="4831703">Float32</span><span class="op" id="4831710">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831715">decFloat32Array</span><span class="op" id="4831730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831733">reflect</span><span class="op" id="4831740">.</span><span class="ident" id="4831741">Float64</span><span class="op" id="4831748">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831753">decFloat64Array</span><span class="op" id="4831768">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831771">reflect</span><span class="op" id="4831778">.</span><span class="ident" id="4831779">Int</span><span class="op" id="4831782">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831791">decIntArray</span><span class="op" id="4831802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831805">reflect</span><span class="op" id="4831812">.</span><span class="ident" id="4831813">Int16</span><span class="op" id="4831818">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831825">decInt16Array</span><span class="op" id="4831838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831841">reflect</span><span class="op" id="4831848">.</span><span class="ident" id="4831849">Int32</span><span class="op" id="4831854">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831861">decInt32Array</span><span class="op" id="4831874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831877">reflect</span><span class="op" id="4831884">.</span><span class="ident" id="4831885">Int64</span><span class="op" id="4831890">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831897">decInt64Array</span><span class="op" id="4831910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831913">reflect</span><span class="op" id="4831920">.</span><span class="ident" id="4831921">Int8</span><span class="op" id="4831925">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831933">decInt8Array</span><span class="op" id="4831945">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831948">reflect</span><span class="op" id="4831955">.</span><span class="ident" id="4831956">String</span><span class="op" id="4831962">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4831968">decStringArray</span><span class="op" id="4831982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4831985">reflect</span><span class="op" id="4831992">.</span><span class="ident" id="4831993">Uint</span><span class="op" id="4831997">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832005">decUintArray</span><span class="op" id="4832017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832020">reflect</span><span class="op" id="4832027">.</span><span class="ident" id="4832028">Uint16</span><span class="op" id="4832034">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832040">decUint16Array</span><span class="op" id="4832054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832057">reflect</span><span class="op" id="4832064">.</span><span class="ident" id="4832065">Uint32</span><span class="op" id="4832071">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832077">decUint32Array</span><span class="op" id="4832091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832094">reflect</span><span class="op" id="4832101">.</span><span class="ident" id="4832102">Uint64</span><span class="op" id="4832108">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832114">decUint64Array</span><span class="op" id="4832128">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832131">reflect</span><span class="op" id="4832138">.</span><span class="ident" id="4832139">Uintptr</span><span class="op" id="4832146">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832151">decUintptrArray</span><span class="op" id="4832166">,</span><br>
<span class="lineno"></span><span class="op" id="4832168">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4832171">var</span>&nbsp;<span class="ident" id="4832175">decSliceHelper</span>&nbsp;<span class="op" id="4832190">=</span>&nbsp;<span class="keyword" id="4832192">map</span><span class="op" id="4832195">[</span><span class="ident" id="4832196">reflect</span><span class="op" id="4832203">.</span><span class="ident" id="4832204">Kind</span><span class="op" id="4832208">]</span><span class="ident" id="4832209">decHelper</span><span class="op" id="4832218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832221">reflect</span><span class="op" id="4832228">.</span><span class="ident" id="4832229">Bool</span><span class="op" id="4832233">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832241">decBoolSlice</span><span class="op" id="4832253">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832256">reflect</span><span class="op" id="4832263">.</span><span class="ident" id="4832264">Complex64</span><span class="op" id="4832273">:</span>&nbsp;&nbsp;<span class="ident" id="4832276">decComplex64Slice</span><span class="op" id="4832293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832296">reflect</span><span class="op" id="4832303">.</span><span class="ident" id="4832304">Complex128</span><span class="op" id="4832314">:</span>&nbsp;<span class="ident" id="4832316">decComplex128Slice</span><span class="op" id="4832334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832337">reflect</span><span class="op" id="4832344">.</span><span class="ident" id="4832345">Float32</span><span class="op" id="4832352">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832357">decFloat32Slice</span><span class="op" id="4832372">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832375">reflect</span><span class="op" id="4832382">.</span><span class="ident" id="4832383">Float64</span><span class="op" id="4832390">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832395">decFloat64Slice</span><span class="op" id="4832410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832413">reflect</span><span class="op" id="4832420">.</span><span class="ident" id="4832421">Int</span><span class="op" id="4832424">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832433">decIntSlice</span><span class="op" id="4832444">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832447">reflect</span><span class="op" id="4832454">.</span><span class="ident" id="4832455">Int16</span><span class="op" id="4832460">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832467">decInt16Slice</span><span class="op" id="4832480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832483">reflect</span><span class="op" id="4832490">.</span><span class="ident" id="4832491">Int32</span><span class="op" id="4832496">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832503">decInt32Slice</span><span class="op" id="4832516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832519">reflect</span><span class="op" id="4832526">.</span><span class="ident" id="4832527">Int64</span><span class="op" id="4832532">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832539">decInt64Slice</span><span class="op" id="4832552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832555">reflect</span><span class="op" id="4832562">.</span><span class="ident" id="4832563">Int8</span><span class="op" id="4832567">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832575">decInt8Slice</span><span class="op" id="4832587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832590">reflect</span><span class="op" id="4832597">.</span><span class="ident" id="4832598">String</span><span class="op" id="4832604">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832610">decStringSlice</span><span class="op" id="4832624">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832627">reflect</span><span class="op" id="4832634">.</span><span class="ident" id="4832635">Uint</span><span class="op" id="4832639">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832647">decUintSlice</span><span class="op" id="4832659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832662">reflect</span><span class="op" id="4832669">.</span><span class="ident" id="4832670">Uint16</span><span class="op" id="4832676">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832682">decUint16Slice</span><span class="op" id="4832696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832699">reflect</span><span class="op" id="4832706">.</span><span class="ident" id="4832707">Uint32</span><span class="op" id="4832713">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832719">decUint32Slice</span><span class="op" id="4832733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832736">reflect</span><span class="op" id="4832743">.</span><span class="ident" id="4832744">Uint64</span><span class="op" id="4832750">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832756">decUint64Slice</span><span class="op" id="4832770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4832773">reflect</span><span class="op" id="4832780">.</span><span class="ident" id="4832781">Uintptr</span><span class="op" id="4832788">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4832793">decUintptrSlice</span><span class="op" id="4832808">,</span><br>
<span class="lineno">50</span><span class="op" id="4832810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4832813">func</span>&nbsp;<span class="ident" id="4832818">decBoolArray</span><span class="op" id="4832830">(</span><span class="ident" id="4832831">state</span>&nbsp;<span class="op" id="4832837">*</span><span class="ident" id="4832838">decoderState</span><span class="op" id="4832850">,</span>&nbsp;<span class="ident" id="4832852">v</span>&nbsp;<span class="ident" id="4832854">reflect</span><span class="op" id="4832861">.</span><span class="ident" id="4832862">Value</span><span class="op" id="4832867">,</span>&nbsp;<span class="ident" id="4832869">length</span>&nbsp;<span class="builtintype" id="4832876">int</span><span class="op" id="4832879">,</span>&nbsp;<span class="ident" id="4832881">ovfl</span>&nbsp;<span class="builtintype" id="4832886">error</span><span class="op" id="4832891">)</span>&nbsp;<span class="builtintype" id="4832893">bool</span>&nbsp;<span class="op" id="4832898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4832901">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4832942">if</span>&nbsp;<span class="op" id="4832945">!</span><span class="ident" id="4832946">v</span><span class="op" id="4832947">.</span><span class="ident" id="4832948">CanAddr</span><span class="op" id="4832955">(</span><span class="op" id="4832956">)</span>&nbsp;<span class="op" id="4832958">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4832962">return</span>&nbsp;<span class="builtintype" id="4832969">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4832976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4832979">return</span>&nbsp;<span class="ident" id="4832986">decBoolSlice</span><span class="op" id="4832998">(</span><span class="ident" id="4832999">state</span><span class="op" id="4833004">,</span>&nbsp;<span class="ident" id="4833006">v</span><span class="op" id="4833007">.</span><span class="ident" id="4833008">Slice</span><span class="op" id="4833013">(</span><span class="num" id="4833014">0</span><span class="op" id="4833015">,</span>&nbsp;<span class="ident" id="4833017">v</span><span class="op" id="4833018">.</span><span class="ident" id="4833019">Len</span><span class="op" id="4833022">(</span><span class="op" id="4833023">)</span><span class="op" id="4833024">)</span><span class="op" id="4833025">,</span>&nbsp;<span class="ident" id="4833027">length</span><span class="op" id="4833033">,</span>&nbsp;<span class="ident" id="4833035">ovfl</span><span class="op" id="4833039">)</span><br>
<span class="lineno"></span><span class="op" id="4833041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="4833044">func</span>&nbsp;<span class="ident" id="4833049">decBoolSlice</span><span class="op" id="4833061">(</span><span class="ident" id="4833062">state</span>&nbsp;<span class="op" id="4833068">*</span><span class="ident" id="4833069">decoderState</span><span class="op" id="4833081">,</span>&nbsp;<span class="ident" id="4833083">v</span>&nbsp;<span class="ident" id="4833085">reflect</span><span class="op" id="4833092">.</span><span class="ident" id="4833093">Value</span><span class="op" id="4833098">,</span>&nbsp;<span class="ident" id="4833100">length</span>&nbsp;<span class="builtintype" id="4833107">int</span><span class="op" id="4833110">,</span>&nbsp;<span class="ident" id="4833112">ovfl</span>&nbsp;<span class="builtintype" id="4833117">error</span><span class="op" id="4833122">)</span>&nbsp;<span class="builtintype" id="4833124">bool</span>&nbsp;<span class="op" id="4833129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4833132">slice</span><span class="op" id="4833137">,</span>&nbsp;<span class="ident" id="4833139">ok</span>&nbsp;<span class="op" id="4833142">:=</span>&nbsp;<span class="ident" id="4833145">v</span><span class="op" id="4833146">.</span><span class="ident" id="4833147">Interface</span><span class="op" id="4833156">(</span><span class="op" id="4833157">)</span><span class="op" id="4833158">.</span><span class="op" id="4833159">(</span><span class="op" id="4833160">[</span><span class="op" id="4833161">]</span><span class="builtintype" id="4833162">bool</span><span class="op" id="4833166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833169">if</span>&nbsp;<span class="op" id="4833172">!</span><span class="ident" id="4833173">ok</span>&nbsp;<span class="op" id="4833176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4833180">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833255">return</span>&nbsp;<span class="builtintype" id="4833262">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4833269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833272">for</span>&nbsp;<span class="ident" id="4833276">i</span>&nbsp;<span class="op" id="4833278">:=</span>&nbsp;<span class="num" id="4833281">0</span><span class="op" id="4833282">;</span>&nbsp;<span class="ident" id="4833284">i</span>&nbsp;<span class="op" id="4833286">&lt;</span>&nbsp;<span class="ident" id="4833288">length</span><span class="op" id="4833294">;</span>&nbsp;<span class="ident" id="4833296">i</span><span class="op" id="4833297">++</span>&nbsp;<span class="op" id="4833300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833304">if</span>&nbsp;<span class="ident" id="4833307">state</span><span class="op" id="4833312">.</span><span class="ident" id="4833313">b</span><span class="op" id="4833314">.</span><span class="ident" id="4833315">Len</span><span class="op" id="4833318">(</span><span class="op" id="4833319">)</span>&nbsp;<span class="op" id="4833321">==</span>&nbsp;<span class="num" id="4833324">0</span>&nbsp;<span class="op" id="4833326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4833331">errorf</span><span class="op" id="4833337">(</span><span class="string" id="4833338">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4833409">,</span>&nbsp;<span class="ident" id="4833411">length</span><span class="op" id="4833417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4833421">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4833425">slice</span><span class="op" id="4833430">[</span><span class="ident" id="4833431">i</span><span class="op" id="4833432">]</span>&nbsp;<span class="op" id="4833434">=</span>&nbsp;<span class="ident" id="4833436">state</span><span class="op" id="4833441">.</span><span class="ident" id="4833442">decodeUint</span><span class="op" id="4833452">(</span><span class="op" id="4833453">)</span>&nbsp;<span class="op" id="4833455">!=</span>&nbsp;<span class="num" id="4833458">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4833461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833464">return</span>&nbsp;<span class="builtintype" id="4833471">true</span><br>
<span class="lineno"></span><span class="op" id="4833476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="4833479">func</span>&nbsp;<span class="ident" id="4833484">decComplex64Array</span><span class="op" id="4833501">(</span><span class="ident" id="4833502">state</span>&nbsp;<span class="op" id="4833508">*</span><span class="ident" id="4833509">decoderState</span><span class="op" id="4833521">,</span>&nbsp;<span class="ident" id="4833523">v</span>&nbsp;<span class="ident" id="4833525">reflect</span><span class="op" id="4833532">.</span><span class="ident" id="4833533">Value</span><span class="op" id="4833538">,</span>&nbsp;<span class="ident" id="4833540">length</span>&nbsp;<span class="builtintype" id="4833547">int</span><span class="op" id="4833550">,</span>&nbsp;<span class="ident" id="4833552">ovfl</span>&nbsp;<span class="builtintype" id="4833557">error</span><span class="op" id="4833562">)</span>&nbsp;<span class="builtintype" id="4833564">bool</span>&nbsp;<span class="op" id="4833569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4833572">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833613">if</span>&nbsp;<span class="op" id="4833616">!</span><span class="ident" id="4833617">v</span><span class="op" id="4833618">.</span><span class="ident" id="4833619">CanAddr</span><span class="op" id="4833626">(</span><span class="op" id="4833627">)</span>&nbsp;<span class="op" id="4833629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833633">return</span>&nbsp;<span class="builtintype" id="4833640">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4833647">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833650">return</span>&nbsp;<span class="ident" id="4833657">decComplex64Slice</span><span class="op" id="4833674">(</span><span class="ident" id="4833675">state</span><span class="op" id="4833680">,</span>&nbsp;<span class="ident" id="4833682">v</span><span class="op" id="4833683">.</span><span class="ident" id="4833684">Slice</span><span class="op" id="4833689">(</span><span class="num" id="4833690">0</span><span class="op" id="4833691">,</span>&nbsp;<span class="ident" id="4833693">v</span><span class="op" id="4833694">.</span><span class="ident" id="4833695">Len</span><span class="op" id="4833698">(</span><span class="op" id="4833699">)</span><span class="op" id="4833700">)</span><span class="op" id="4833701">,</span>&nbsp;<span class="ident" id="4833703">length</span><span class="op" id="4833709">,</span>&nbsp;<span class="ident" id="4833711">ovfl</span><span class="op" id="4833715">)</span><br>
<span class="lineno"></span><span class="op" id="4833717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4833720">func</span>&nbsp;<span class="ident" id="4833725">decComplex64Slice</span><span class="op" id="4833742">(</span><span class="ident" id="4833743">state</span>&nbsp;<span class="op" id="4833749">*</span><span class="ident" id="4833750">decoderState</span><span class="op" id="4833762">,</span>&nbsp;<span class="ident" id="4833764">v</span>&nbsp;<span class="ident" id="4833766">reflect</span><span class="op" id="4833773">.</span><span class="ident" id="4833774">Value</span><span class="op" id="4833779">,</span>&nbsp;<span class="ident" id="4833781">length</span>&nbsp;<span class="builtintype" id="4833788">int</span><span class="op" id="4833791">,</span>&nbsp;<span class="ident" id="4833793">ovfl</span>&nbsp;<span class="builtintype" id="4833798">error</span><span class="op" id="4833803">)</span>&nbsp;<span class="builtintype" id="4833805">bool</span>&nbsp;<span class="op" id="4833810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4833813">slice</span><span class="op" id="4833818">,</span>&nbsp;<span class="ident" id="4833820">ok</span>&nbsp;<span class="op" id="4833823">:=</span>&nbsp;<span class="ident" id="4833826">v</span><span class="op" id="4833827">.</span><span class="ident" id="4833828">Interface</span><span class="op" id="4833837">(</span><span class="op" id="4833838">)</span><span class="op" id="4833839">.</span><span class="op" id="4833840">(</span><span class="op" id="4833841">[</span><span class="op" id="4833842">]</span><span class="builtintype" id="4833843">complex64</span><span class="op" id="4833852">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833855">if</span>&nbsp;<span class="op" id="4833858">!</span><span class="ident" id="4833859">ok</span>&nbsp;<span class="op" id="4833862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4833866">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833951">return</span>&nbsp;<span class="builtintype" id="4833958">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4833965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4833968">for</span>&nbsp;<span class="ident" id="4833972">i</span>&nbsp;<span class="op" id="4833974">:=</span>&nbsp;<span class="num" id="4833977">0</span><span class="op" id="4833978">;</span>&nbsp;<span class="ident" id="4833980">i</span>&nbsp;<span class="op" id="4833982">&lt;</span>&nbsp;<span class="ident" id="4833984">length</span><span class="op" id="4833990">;</span>&nbsp;<span class="ident" id="4833992">i</span><span class="op" id="4833993">++</span>&nbsp;<span class="op" id="4833996">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834000">if</span>&nbsp;<span class="ident" id="4834003">state</span><span class="op" id="4834008">.</span><span class="ident" id="4834009">b</span><span class="op" id="4834010">.</span><span class="ident" id="4834011">Len</span><span class="op" id="4834014">(</span><span class="op" id="4834015">)</span>&nbsp;<span class="op" id="4834017">==</span>&nbsp;<span class="num" id="4834020">0</span>&nbsp;<span class="op" id="4834022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4834027">errorf</span><span class="op" id="4834033">(</span><span class="string" id="4834034">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4834110">,</span>&nbsp;<span class="ident" id="4834112">length</span><span class="op" id="4834118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4834122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4834126">real</span>&nbsp;<span class="op" id="4834131">:=</span>&nbsp;<span class="ident" id="4834134">float32FromBits</span><span class="op" id="4834149">(</span><span class="ident" id="4834150">state</span><span class="op" id="4834155">.</span><span class="ident" id="4834156">decodeUint</span><span class="op" id="4834166">(</span><span class="op" id="4834167">)</span><span class="op" id="4834168">,</span>&nbsp;<span class="ident" id="4834170">ovfl</span><span class="op" id="4834174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4834178">imag</span>&nbsp;<span class="op" id="4834183">:=</span>&nbsp;<span class="ident" id="4834186">float32FromBits</span><span class="op" id="4834201">(</span><span class="ident" id="4834202">state</span><span class="op" id="4834207">.</span><span class="ident" id="4834208">decodeUint</span><span class="op" id="4834218">(</span><span class="op" id="4834219">)</span><span class="op" id="4834220">,</span>&nbsp;<span class="ident" id="4834222">ovfl</span><span class="op" id="4834226">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4834230">slice</span><span class="op" id="4834235">[</span><span class="ident" id="4834236">i</span><span class="op" id="4834237">]</span>&nbsp;<span class="op" id="4834239">=</span>&nbsp;<span class="builtinfunc" id="4834241">complex</span><span class="op" id="4834248">(</span><span class="builtintype" id="4834249">float32</span><span class="op" id="4834256">(</span><span class="builtinfunc" id="4834257">real</span><span class="op" id="4834261">)</span><span class="op" id="4834262">,</span>&nbsp;<span class="builtintype" id="4834264">float32</span><span class="op" id="4834271">(</span><span class="builtinfunc" id="4834272">imag</span><span class="op" id="4834276">)</span><span class="op" id="4834277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4834280">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834283">return</span>&nbsp;<span class="builtintype" id="4834290">true</span><br>
<span class="lineno"></span><span class="op" id="4834295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="4834298">func</span>&nbsp;<span class="ident" id="4834303">decComplex128Array</span><span class="op" id="4834321">(</span><span class="ident" id="4834322">state</span>&nbsp;<span class="op" id="4834328">*</span><span class="ident" id="4834329">decoderState</span><span class="op" id="4834341">,</span>&nbsp;<span class="ident" id="4834343">v</span>&nbsp;<span class="ident" id="4834345">reflect</span><span class="op" id="4834352">.</span><span class="ident" id="4834353">Value</span><span class="op" id="4834358">,</span>&nbsp;<span class="ident" id="4834360">length</span>&nbsp;<span class="builtintype" id="4834367">int</span><span class="op" id="4834370">,</span>&nbsp;<span class="ident" id="4834372">ovfl</span>&nbsp;<span class="builtintype" id="4834377">error</span><span class="op" id="4834382">)</span>&nbsp;<span class="builtintype" id="4834384">bool</span>&nbsp;<span class="op" id="4834389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4834392">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834433">if</span>&nbsp;<span class="op" id="4834436">!</span><span class="ident" id="4834437">v</span><span class="op" id="4834438">.</span><span class="ident" id="4834439">CanAddr</span><span class="op" id="4834446">(</span><span class="op" id="4834447">)</span>&nbsp;<span class="op" id="4834449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834453">return</span>&nbsp;<span class="builtintype" id="4834460">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4834467">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834470">return</span>&nbsp;<span class="ident" id="4834477">decComplex128Slice</span><span class="op" id="4834495">(</span><span class="ident" id="4834496">state</span><span class="op" id="4834501">,</span>&nbsp;<span class="ident" id="4834503">v</span><span class="op" id="4834504">.</span><span class="ident" id="4834505">Slice</span><span class="op" id="4834510">(</span><span class="num" id="4834511">0</span><span class="op" id="4834512">,</span>&nbsp;<span class="ident" id="4834514">v</span><span class="op" id="4834515">.</span><span class="ident" id="4834516">Len</span><span class="op" id="4834519">(</span><span class="op" id="4834520">)</span><span class="op" id="4834521">)</span><span class="op" id="4834522">,</span>&nbsp;<span class="ident" id="4834524">length</span><span class="op" id="4834530">,</span>&nbsp;<span class="ident" id="4834532">ovfl</span><span class="op" id="4834536">)</span><br>
<span class="lineno"></span><span class="op" id="4834538">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4834541">func</span>&nbsp;<span class="ident" id="4834546">decComplex128Slice</span><span class="op" id="4834564">(</span><span class="ident" id="4834565">state</span>&nbsp;<span class="op" id="4834571">*</span><span class="ident" id="4834572">decoderState</span><span class="op" id="4834584">,</span>&nbsp;<span class="ident" id="4834586">v</span>&nbsp;<span class="ident" id="4834588">reflect</span><span class="op" id="4834595">.</span><span class="ident" id="4834596">Value</span><span class="op" id="4834601">,</span>&nbsp;<span class="ident" id="4834603">length</span>&nbsp;<span class="builtintype" id="4834610">int</span><span class="op" id="4834613">,</span>&nbsp;<span class="ident" id="4834615">ovfl</span>&nbsp;<span class="builtintype" id="4834620">error</span><span class="op" id="4834625">)</span>&nbsp;<span class="builtintype" id="4834627">bool</span>&nbsp;<span class="op" id="4834632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4834635">slice</span><span class="op" id="4834640">,</span>&nbsp;<span class="ident" id="4834642">ok</span>&nbsp;<span class="op" id="4834645">:=</span>&nbsp;<span class="ident" id="4834648">v</span><span class="op" id="4834649">.</span><span class="ident" id="4834650">Interface</span><span class="op" id="4834659">(</span><span class="op" id="4834660">)</span><span class="op" id="4834661">.</span><span class="op" id="4834662">(</span><span class="op" id="4834663">[</span><span class="op" id="4834664">]</span><span class="builtintype" id="4834665">complex128</span><span class="op" id="4834675">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834678">if</span>&nbsp;<span class="op" id="4834681">!</span><span class="ident" id="4834682">ok</span>&nbsp;<span class="op" id="4834685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4834689">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834776">return</span>&nbsp;<span class="builtintype" id="4834783">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4834790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834793">for</span>&nbsp;<span class="ident" id="4834797">i</span>&nbsp;<span class="op" id="4834799">:=</span>&nbsp;<span class="num" id="4834802">0</span><span class="op" id="4834803">;</span>&nbsp;<span class="ident" id="4834805">i</span>&nbsp;<span class="op" id="4834807">&lt;</span>&nbsp;<span class="ident" id="4834809">length</span><span class="op" id="4834815">;</span>&nbsp;<span class="ident" id="4834817">i</span><span class="op" id="4834818">++</span>&nbsp;<span class="op" id="4834821">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4834825">if</span>&nbsp;<span class="ident" id="4834828">state</span><span class="op" id="4834833">.</span><span class="ident" id="4834834">b</span><span class="op" id="4834835">.</span><span class="ident" id="4834836">Len</span><span class="op" id="4834839">(</span><span class="op" id="4834840">)</span>&nbsp;<span class="op" id="4834842">==</span>&nbsp;<span class="num" id="4834845">0</span>&nbsp;<span class="op" id="4834847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4834852">errorf</span><span class="op" id="4834858">(</span><span class="string" id="4834859">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4834936">,</span>&nbsp;<span class="ident" id="4834938">length</span><span class="op" id="4834944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4834948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4834952">real</span>&nbsp;<span class="op" id="4834957">:=</span>&nbsp;<span class="ident" id="4834960">float64FromBits</span><span class="op" id="4834975">(</span><span class="ident" id="4834976">state</span><span class="op" id="4834981">.</span><span class="ident" id="4834982">decodeUint</span><span class="op" id="4834992">(</span><span class="op" id="4834993">)</span><span class="op" id="4834994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4834998">imag</span>&nbsp;<span class="op" id="4835003">:=</span>&nbsp;<span class="ident" id="4835006">float64FromBits</span><span class="op" id="4835021">(</span><span class="ident" id="4835022">state</span><span class="op" id="4835027">.</span><span class="ident" id="4835028">decodeUint</span><span class="op" id="4835038">(</span><span class="op" id="4835039">)</span><span class="op" id="4835040">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4835044">slice</span><span class="op" id="4835049">[</span><span class="ident" id="4835050">i</span><span class="op" id="4835051">]</span>&nbsp;<span class="op" id="4835053">=</span>&nbsp;<span class="builtinfunc" id="4835055">complex</span><span class="op" id="4835062">(</span><span class="builtinfunc" id="4835063">real</span><span class="op" id="4835067">,</span>&nbsp;<span class="builtinfunc" id="4835069">imag</span><span class="op" id="4835073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4835076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835079">return</span>&nbsp;<span class="builtintype" id="4835086">true</span><br>
<span class="lineno"></span><span class="op" id="4835091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="4835094">func</span>&nbsp;<span class="ident" id="4835099">decFloat32Array</span><span class="op" id="4835114">(</span><span class="ident" id="4835115">state</span>&nbsp;<span class="op" id="4835121">*</span><span class="ident" id="4835122">decoderState</span><span class="op" id="4835134">,</span>&nbsp;<span class="ident" id="4835136">v</span>&nbsp;<span class="ident" id="4835138">reflect</span><span class="op" id="4835145">.</span><span class="ident" id="4835146">Value</span><span class="op" id="4835151">,</span>&nbsp;<span class="ident" id="4835153">length</span>&nbsp;<span class="builtintype" id="4835160">int</span><span class="op" id="4835163">,</span>&nbsp;<span class="ident" id="4835165">ovfl</span>&nbsp;<span class="builtintype" id="4835170">error</span><span class="op" id="4835175">)</span>&nbsp;<span class="builtintype" id="4835177">bool</span>&nbsp;<span class="op" id="4835182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4835185">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835226">if</span>&nbsp;<span class="op" id="4835229">!</span><span class="ident" id="4835230">v</span><span class="op" id="4835231">.</span><span class="ident" id="4835232">CanAddr</span><span class="op" id="4835239">(</span><span class="op" id="4835240">)</span>&nbsp;<span class="op" id="4835242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835246">return</span>&nbsp;<span class="builtintype" id="4835253">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4835260">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835263">return</span>&nbsp;<span class="ident" id="4835270">decFloat32Slice</span><span class="op" id="4835285">(</span><span class="ident" id="4835286">state</span><span class="op" id="4835291">,</span>&nbsp;<span class="ident" id="4835293">v</span><span class="op" id="4835294">.</span><span class="ident" id="4835295">Slice</span><span class="op" id="4835300">(</span><span class="num" id="4835301">0</span><span class="op" id="4835302">,</span>&nbsp;<span class="ident" id="4835304">v</span><span class="op" id="4835305">.</span><span class="ident" id="4835306">Len</span><span class="op" id="4835309">(</span><span class="op" id="4835310">)</span><span class="op" id="4835311">)</span><span class="op" id="4835312">,</span>&nbsp;<span class="ident" id="4835314">length</span><span class="op" id="4835320">,</span>&nbsp;<span class="ident" id="4835322">ovfl</span><span class="op" id="4835326">)</span><br>
<span class="lineno"></span><span class="op" id="4835328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4835331">func</span>&nbsp;<span class="ident" id="4835336">decFloat32Slice</span><span class="op" id="4835351">(</span><span class="ident" id="4835352">state</span>&nbsp;<span class="op" id="4835358">*</span><span class="ident" id="4835359">decoderState</span><span class="op" id="4835371">,</span>&nbsp;<span class="ident" id="4835373">v</span>&nbsp;<span class="ident" id="4835375">reflect</span><span class="op" id="4835382">.</span><span class="ident" id="4835383">Value</span><span class="op" id="4835388">,</span>&nbsp;<span class="ident" id="4835390">length</span>&nbsp;<span class="builtintype" id="4835397">int</span><span class="op" id="4835400">,</span>&nbsp;<span class="ident" id="4835402">ovfl</span>&nbsp;<span class="builtintype" id="4835407">error</span><span class="op" id="4835412">)</span>&nbsp;<span class="builtintype" id="4835414">bool</span>&nbsp;<span class="op" id="4835419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4835422">slice</span><span class="op" id="4835427">,</span>&nbsp;<span class="ident" id="4835429">ok</span>&nbsp;<span class="op" id="4835432">:=</span>&nbsp;<span class="ident" id="4835435">v</span><span class="op" id="4835436">.</span><span class="ident" id="4835437">Interface</span><span class="op" id="4835446">(</span><span class="op" id="4835447">)</span><span class="op" id="4835448">.</span><span class="op" id="4835449">(</span><span class="op" id="4835450">[</span><span class="op" id="4835451">]</span><span class="builtintype" id="4835452">float32</span><span class="op" id="4835459">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835462">if</span>&nbsp;<span class="op" id="4835465">!</span><span class="ident" id="4835466">ok</span>&nbsp;<span class="op" id="4835469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4835473">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835554">return</span>&nbsp;<span class="builtintype" id="4835561">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4835568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835571">for</span>&nbsp;<span class="ident" id="4835575">i</span>&nbsp;<span class="op" id="4835577">:=</span>&nbsp;<span class="num" id="4835580">0</span><span class="op" id="4835581">;</span>&nbsp;<span class="ident" id="4835583">i</span>&nbsp;<span class="op" id="4835585">&lt;</span>&nbsp;<span class="ident" id="4835587">length</span><span class="op" id="4835593">;</span>&nbsp;<span class="ident" id="4835595">i</span><span class="op" id="4835596">++</span>&nbsp;<span class="op" id="4835599">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835603">if</span>&nbsp;<span class="ident" id="4835606">state</span><span class="op" id="4835611">.</span><span class="ident" id="4835612">b</span><span class="op" id="4835613">.</span><span class="ident" id="4835614">Len</span><span class="op" id="4835617">(</span><span class="op" id="4835618">)</span>&nbsp;<span class="op" id="4835620">==</span>&nbsp;<span class="num" id="4835623">0</span>&nbsp;<span class="op" id="4835625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4835630">errorf</span><span class="op" id="4835636">(</span><span class="string" id="4835637">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4835711">,</span>&nbsp;<span class="ident" id="4835713">length</span><span class="op" id="4835719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4835723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4835727">slice</span><span class="op" id="4835732">[</span><span class="ident" id="4835733">i</span><span class="op" id="4835734">]</span>&nbsp;<span class="op" id="4835736">=</span>&nbsp;<span class="builtintype" id="4835738">float32</span><span class="op" id="4835745">(</span><span class="ident" id="4835746">float32FromBits</span><span class="op" id="4835761">(</span><span class="ident" id="4835762">state</span><span class="op" id="4835767">.</span><span class="ident" id="4835768">decodeUint</span><span class="op" id="4835778">(</span><span class="op" id="4835779">)</span><span class="op" id="4835780">,</span>&nbsp;<span class="ident" id="4835782">ovfl</span><span class="op" id="4835786">)</span><span class="op" id="4835787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4835790">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835793">return</span>&nbsp;<span class="builtintype" id="4835800">true</span><br>
<span class="lineno"></span><span class="op" id="4835805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4835808">func</span>&nbsp;<span class="ident" id="4835813">decFloat64Array</span><span class="op" id="4835828">(</span><span class="ident" id="4835829">state</span>&nbsp;<span class="op" id="4835835">*</span><span class="ident" id="4835836">decoderState</span><span class="op" id="4835848">,</span>&nbsp;<span class="ident" id="4835850">v</span>&nbsp;<span class="ident" id="4835852">reflect</span><span class="op" id="4835859">.</span><span class="ident" id="4835860">Value</span><span class="op" id="4835865">,</span>&nbsp;<span class="ident" id="4835867">length</span>&nbsp;<span class="builtintype" id="4835874">int</span><span class="op" id="4835877">,</span>&nbsp;<span class="ident" id="4835879">ovfl</span>&nbsp;<span class="builtintype" id="4835884">error</span><span class="op" id="4835889">)</span>&nbsp;<span class="builtintype" id="4835891">bool</span>&nbsp;<span class="op" id="4835896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4835899">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835940">if</span>&nbsp;<span class="op" id="4835943">!</span><span class="ident" id="4835944">v</span><span class="op" id="4835945">.</span><span class="ident" id="4835946">CanAddr</span><span class="op" id="4835953">(</span><span class="op" id="4835954">)</span>&nbsp;<span class="op" id="4835956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835960">return</span>&nbsp;<span class="builtintype" id="4835967">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4835974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4835977">return</span>&nbsp;<span class="ident" id="4835984">decFloat64Slice</span><span class="op" id="4835999">(</span><span class="ident" id="4836000">state</span><span class="op" id="4836005">,</span>&nbsp;<span class="ident" id="4836007">v</span><span class="op" id="4836008">.</span><span class="ident" id="4836009">Slice</span><span class="op" id="4836014">(</span><span class="num" id="4836015">0</span><span class="op" id="4836016">,</span>&nbsp;<span class="ident" id="4836018">v</span><span class="op" id="4836019">.</span><span class="ident" id="4836020">Len</span><span class="op" id="4836023">(</span><span class="op" id="4836024">)</span><span class="op" id="4836025">)</span><span class="op" id="4836026">,</span>&nbsp;<span class="ident" id="4836028">length</span><span class="op" id="4836034">,</span>&nbsp;<span class="ident" id="4836036">ovfl</span><span class="op" id="4836040">)</span><br>
<span class="lineno"></span><span class="op" id="4836042">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="4836045">func</span>&nbsp;<span class="ident" id="4836050">decFloat64Slice</span><span class="op" id="4836065">(</span><span class="ident" id="4836066">state</span>&nbsp;<span class="op" id="4836072">*</span><span class="ident" id="4836073">decoderState</span><span class="op" id="4836085">,</span>&nbsp;<span class="ident" id="4836087">v</span>&nbsp;<span class="ident" id="4836089">reflect</span><span class="op" id="4836096">.</span><span class="ident" id="4836097">Value</span><span class="op" id="4836102">,</span>&nbsp;<span class="ident" id="4836104">length</span>&nbsp;<span class="builtintype" id="4836111">int</span><span class="op" id="4836114">,</span>&nbsp;<span class="ident" id="4836116">ovfl</span>&nbsp;<span class="builtintype" id="4836121">error</span><span class="op" id="4836126">)</span>&nbsp;<span class="builtintype" id="4836128">bool</span>&nbsp;<span class="op" id="4836133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4836136">slice</span><span class="op" id="4836141">,</span>&nbsp;<span class="ident" id="4836143">ok</span>&nbsp;<span class="op" id="4836146">:=</span>&nbsp;<span class="ident" id="4836149">v</span><span class="op" id="4836150">.</span><span class="ident" id="4836151">Interface</span><span class="op" id="4836160">(</span><span class="op" id="4836161">)</span><span class="op" id="4836162">.</span><span class="op" id="4836163">(</span><span class="op" id="4836164">[</span><span class="op" id="4836165">]</span><span class="builtintype" id="4836166">float64</span><span class="op" id="4836173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836176">if</span>&nbsp;<span class="op" id="4836179">!</span><span class="ident" id="4836180">ok</span>&nbsp;<span class="op" id="4836183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4836187">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836268">return</span>&nbsp;<span class="builtintype" id="4836275">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4836282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836285">for</span>&nbsp;<span class="ident" id="4836289">i</span>&nbsp;<span class="op" id="4836291">:=</span>&nbsp;<span class="num" id="4836294">0</span><span class="op" id="4836295">;</span>&nbsp;<span class="ident" id="4836297">i</span>&nbsp;<span class="op" id="4836299">&lt;</span>&nbsp;<span class="ident" id="4836301">length</span><span class="op" id="4836307">;</span>&nbsp;<span class="ident" id="4836309">i</span><span class="op" id="4836310">++</span>&nbsp;<span class="op" id="4836313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836317">if</span>&nbsp;<span class="ident" id="4836320">state</span><span class="op" id="4836325">.</span><span class="ident" id="4836326">b</span><span class="op" id="4836327">.</span><span class="ident" id="4836328">Len</span><span class="op" id="4836331">(</span><span class="op" id="4836332">)</span>&nbsp;<span class="op" id="4836334">==</span>&nbsp;<span class="num" id="4836337">0</span>&nbsp;<span class="op" id="4836339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4836344">errorf</span><span class="op" id="4836350">(</span><span class="string" id="4836351">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4836425">,</span>&nbsp;<span class="ident" id="4836427">length</span><span class="op" id="4836433">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4836437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4836441">slice</span><span class="op" id="4836446">[</span><span class="ident" id="4836447">i</span><span class="op" id="4836448">]</span>&nbsp;<span class="op" id="4836450">=</span>&nbsp;<span class="ident" id="4836452">float64FromBits</span><span class="op" id="4836467">(</span><span class="ident" id="4836468">state</span><span class="op" id="4836473">.</span><span class="ident" id="4836474">decodeUint</span><span class="op" id="4836484">(</span><span class="op" id="4836485">)</span><span class="op" id="4836486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4836489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836492">return</span>&nbsp;<span class="builtintype" id="4836499">true</span><br>
<span class="lineno"></span><span class="op" id="4836504">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="4836507">func</span>&nbsp;<span class="ident" id="4836512">decIntArray</span><span class="op" id="4836523">(</span><span class="ident" id="4836524">state</span>&nbsp;<span class="op" id="4836530">*</span><span class="ident" id="4836531">decoderState</span><span class="op" id="4836543">,</span>&nbsp;<span class="ident" id="4836545">v</span>&nbsp;<span class="ident" id="4836547">reflect</span><span class="op" id="4836554">.</span><span class="ident" id="4836555">Value</span><span class="op" id="4836560">,</span>&nbsp;<span class="ident" id="4836562">length</span>&nbsp;<span class="builtintype" id="4836569">int</span><span class="op" id="4836572">,</span>&nbsp;<span class="ident" id="4836574">ovfl</span>&nbsp;<span class="builtintype" id="4836579">error</span><span class="op" id="4836584">)</span>&nbsp;<span class="builtintype" id="4836586">bool</span>&nbsp;<span class="op" id="4836591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4836594">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836635">if</span>&nbsp;<span class="op" id="4836638">!</span><span class="ident" id="4836639">v</span><span class="op" id="4836640">.</span><span class="ident" id="4836641">CanAddr</span><span class="op" id="4836648">(</span><span class="op" id="4836649">)</span>&nbsp;<span class="op" id="4836651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836655">return</span>&nbsp;<span class="builtintype" id="4836662">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4836669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836672">return</span>&nbsp;<span class="ident" id="4836679">decIntSlice</span><span class="op" id="4836690">(</span><span class="ident" id="4836691">state</span><span class="op" id="4836696">,</span>&nbsp;<span class="ident" id="4836698">v</span><span class="op" id="4836699">.</span><span class="ident" id="4836700">Slice</span><span class="op" id="4836705">(</span><span class="num" id="4836706">0</span><span class="op" id="4836707">,</span>&nbsp;<span class="ident" id="4836709">v</span><span class="op" id="4836710">.</span><span class="ident" id="4836711">Len</span><span class="op" id="4836714">(</span><span class="op" id="4836715">)</span><span class="op" id="4836716">)</span><span class="op" id="4836717">,</span>&nbsp;<span class="ident" id="4836719">length</span><span class="op" id="4836725">,</span>&nbsp;<span class="ident" id="4836727">ovfl</span><span class="op" id="4836731">)</span><br>
<span class="lineno"></span><span class="op" id="4836733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4836736">func</span>&nbsp;<span class="ident" id="4836741">decIntSlice</span><span class="op" id="4836752">(</span><span class="ident" id="4836753">state</span>&nbsp;<span class="op" id="4836759">*</span><span class="ident" id="4836760">decoderState</span><span class="op" id="4836772">,</span>&nbsp;<span class="ident" id="4836774">v</span>&nbsp;<span class="ident" id="4836776">reflect</span><span class="op" id="4836783">.</span><span class="ident" id="4836784">Value</span><span class="op" id="4836789">,</span>&nbsp;<span class="ident" id="4836791">length</span>&nbsp;<span class="builtintype" id="4836798">int</span><span class="op" id="4836801">,</span>&nbsp;<span class="ident" id="4836803">ovfl</span>&nbsp;<span class="builtintype" id="4836808">error</span><span class="op" id="4836813">)</span>&nbsp;<span class="builtintype" id="4836815">bool</span>&nbsp;<span class="op" id="4836820">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4836823">slice</span><span class="op" id="4836828">,</span>&nbsp;<span class="ident" id="4836830">ok</span>&nbsp;<span class="op" id="4836833">:=</span>&nbsp;<span class="ident" id="4836836">v</span><span class="op" id="4836837">.</span><span class="ident" id="4836838">Interface</span><span class="op" id="4836847">(</span><span class="op" id="4836848">)</span><span class="op" id="4836849">.</span><span class="op" id="4836850">(</span><span class="op" id="4836851">[</span><span class="op" id="4836852">]</span><span class="builtintype" id="4836853">int</span><span class="op" id="4836856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836859">if</span>&nbsp;<span class="op" id="4836862">!</span><span class="ident" id="4836863">ok</span>&nbsp;<span class="op" id="4836866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4836870">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836943">return</span>&nbsp;<span class="builtintype" id="4836950">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4836957">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836960">for</span>&nbsp;<span class="ident" id="4836964">i</span>&nbsp;<span class="op" id="4836966">:=</span>&nbsp;<span class="num" id="4836969">0</span><span class="op" id="4836970">;</span>&nbsp;<span class="ident" id="4836972">i</span>&nbsp;<span class="op" id="4836974">&lt;</span>&nbsp;<span class="ident" id="4836976">length</span><span class="op" id="4836982">;</span>&nbsp;<span class="ident" id="4836984">i</span><span class="op" id="4836985">++</span>&nbsp;<span class="op" id="4836988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4836992">if</span>&nbsp;<span class="ident" id="4836995">state</span><span class="op" id="4837000">.</span><span class="ident" id="4837001">b</span><span class="op" id="4837002">.</span><span class="ident" id="4837003">Len</span><span class="op" id="4837006">(</span><span class="op" id="4837007">)</span>&nbsp;<span class="op" id="4837009">==</span>&nbsp;<span class="num" id="4837012">0</span>&nbsp;<span class="op" id="4837014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837019">errorf</span><span class="op" id="4837025">(</span><span class="string" id="4837026">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4837096">,</span>&nbsp;<span class="ident" id="4837098">length</span><span class="op" id="4837104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4837108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837112">x</span>&nbsp;<span class="op" id="4837114">:=</span>&nbsp;<span class="ident" id="4837117">state</span><span class="op" id="4837122">.</span><span class="ident" id="4837123">decodeInt</span><span class="op" id="4837132">(</span><span class="op" id="4837133">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4837137">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837160">if</span>&nbsp;<span class="ident" id="4837163">x</span>&nbsp;<span class="op" id="4837165">&lt;</span>&nbsp;<span class="op" id="4837167">^</span><span class="ident" id="4837168">int64</span><span class="op" id="4837173">(</span><span class="op" id="4837174">^</span><span class="builtintype" id="4837175">uint</span><span class="op" id="4837179">(</span><span class="num" id="4837180">0</span><span class="op" id="4837181">)</span><span class="op" id="4837182">&gt;&gt;</span><span class="num" id="4837184">1</span><span class="op" id="4837185">)</span>&nbsp;<span class="op" id="4837187">||</span>&nbsp;<span class="ident" id="4837190">int64</span><span class="op" id="4837195">(</span><span class="op" id="4837196">^</span><span class="builtintype" id="4837197">uint</span><span class="op" id="4837201">(</span><span class="num" id="4837202">0</span><span class="op" id="4837203">)</span><span class="op" id="4837204">&gt;&gt;</span><span class="num" id="4837206">1</span><span class="op" id="4837207">)</span>&nbsp;<span class="op" id="4837209">&lt;</span>&nbsp;<span class="ident" id="4837211">x</span>&nbsp;<span class="op" id="4837213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837218">error_</span><span class="op" id="4837224">(</span><span class="ident" id="4837225">ovfl</span><span class="op" id="4837229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4837233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837237">slice</span><span class="op" id="4837242">[</span><span class="ident" id="4837243">i</span><span class="op" id="4837244">]</span>&nbsp;<span class="op" id="4837246">=</span>&nbsp;<span class="builtintype" id="4837248">int</span><span class="op" id="4837251">(</span><span class="ident" id="4837252">x</span><span class="op" id="4837253">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4837256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837259">return</span>&nbsp;<span class="builtintype" id="4837266">true</span><br>
<span class="lineno"></span><span class="op" id="4837271">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4837274">func</span>&nbsp;<span class="ident" id="4837279">decInt16Array</span><span class="op" id="4837292">(</span><span class="ident" id="4837293">state</span>&nbsp;<span class="op" id="4837299">*</span><span class="ident" id="4837300">decoderState</span><span class="op" id="4837312">,</span>&nbsp;<span class="ident" id="4837314">v</span>&nbsp;<span class="ident" id="4837316">reflect</span><span class="op" id="4837323">.</span><span class="ident" id="4837324">Value</span><span class="op" id="4837329">,</span>&nbsp;<span class="ident" id="4837331">length</span>&nbsp;<span class="builtintype" id="4837338">int</span><span class="op" id="4837341">,</span>&nbsp;<span class="ident" id="4837343">ovfl</span>&nbsp;<span class="builtintype" id="4837348">error</span><span class="op" id="4837353">)</span>&nbsp;<span class="builtintype" id="4837355">bool</span>&nbsp;<span class="op" id="4837360">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4837363">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837404">if</span>&nbsp;<span class="op" id="4837407">!</span><span class="ident" id="4837408">v</span><span class="op" id="4837409">.</span><span class="ident" id="4837410">CanAddr</span><span class="op" id="4837417">(</span><span class="op" id="4837418">)</span>&nbsp;<span class="op" id="4837420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837424">return</span>&nbsp;<span class="builtintype" id="4837431">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4837438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837441">return</span>&nbsp;<span class="ident" id="4837448">decInt16Slice</span><span class="op" id="4837461">(</span><span class="ident" id="4837462">state</span><span class="op" id="4837467">,</span>&nbsp;<span class="ident" id="4837469">v</span><span class="op" id="4837470">.</span><span class="ident" id="4837471">Slice</span><span class="op" id="4837476">(</span><span class="num" id="4837477">0</span><span class="op" id="4837478">,</span>&nbsp;<span class="ident" id="4837480">v</span><span class="op" id="4837481">.</span><span class="ident" id="4837482">Len</span><span class="op" id="4837485">(</span><span class="op" id="4837486">)</span><span class="op" id="4837487">)</span><span class="op" id="4837488">,</span>&nbsp;<span class="ident" id="4837490">length</span><span class="op" id="4837496">,</span>&nbsp;<span class="ident" id="4837498">ovfl</span><span class="op" id="4837502">)</span><br>
<span class="lineno">205</span><span class="op" id="4837504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4837507">func</span>&nbsp;<span class="ident" id="4837512">decInt16Slice</span><span class="op" id="4837525">(</span><span class="ident" id="4837526">state</span>&nbsp;<span class="op" id="4837532">*</span><span class="ident" id="4837533">decoderState</span><span class="op" id="4837545">,</span>&nbsp;<span class="ident" id="4837547">v</span>&nbsp;<span class="ident" id="4837549">reflect</span><span class="op" id="4837556">.</span><span class="ident" id="4837557">Value</span><span class="op" id="4837562">,</span>&nbsp;<span class="ident" id="4837564">length</span>&nbsp;<span class="builtintype" id="4837571">int</span><span class="op" id="4837574">,</span>&nbsp;<span class="ident" id="4837576">ovfl</span>&nbsp;<span class="builtintype" id="4837581">error</span><span class="op" id="4837586">)</span>&nbsp;<span class="builtintype" id="4837588">bool</span>&nbsp;<span class="op" id="4837593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837596">slice</span><span class="op" id="4837601">,</span>&nbsp;<span class="ident" id="4837603">ok</span>&nbsp;<span class="op" id="4837606">:=</span>&nbsp;<span class="ident" id="4837609">v</span><span class="op" id="4837610">.</span><span class="ident" id="4837611">Interface</span><span class="op" id="4837620">(</span><span class="op" id="4837621">)</span><span class="op" id="4837622">.</span><span class="op" id="4837623">(</span><span class="op" id="4837624">[</span><span class="op" id="4837625">]</span><span class="builtintype" id="4837626">int16</span><span class="op" id="4837631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837634">if</span>&nbsp;<span class="op" id="4837637">!</span><span class="ident" id="4837638">ok</span>&nbsp;<span class="op" id="4837641">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4837645">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837722">return</span>&nbsp;<span class="builtintype" id="4837729">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4837736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837739">for</span>&nbsp;<span class="ident" id="4837743">i</span>&nbsp;<span class="op" id="4837745">:=</span>&nbsp;<span class="num" id="4837748">0</span><span class="op" id="4837749">;</span>&nbsp;<span class="ident" id="4837751">i</span>&nbsp;<span class="op" id="4837753">&lt;</span>&nbsp;<span class="ident" id="4837755">length</span><span class="op" id="4837761">;</span>&nbsp;<span class="ident" id="4837763">i</span><span class="op" id="4837764">++</span>&nbsp;<span class="op" id="4837767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837771">if</span>&nbsp;<span class="ident" id="4837774">state</span><span class="op" id="4837779">.</span><span class="ident" id="4837780">b</span><span class="op" id="4837781">.</span><span class="ident" id="4837782">Len</span><span class="op" id="4837785">(</span><span class="op" id="4837786">)</span>&nbsp;<span class="op" id="4837788">==</span>&nbsp;<span class="num" id="4837791">0</span>&nbsp;<span class="op" id="4837793">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837798">errorf</span><span class="op" id="4837804">(</span><span class="string" id="4837805">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4837877">,</span>&nbsp;<span class="ident" id="4837879">length</span><span class="op" id="4837885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4837889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837893">x</span>&nbsp;<span class="op" id="4837895">:=</span>&nbsp;<span class="ident" id="4837898">state</span><span class="op" id="4837903">.</span><span class="ident" id="4837904">decodeInt</span><span class="op" id="4837913">(</span><span class="op" id="4837914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4837918">if</span>&nbsp;<span class="ident" id="4837921">x</span>&nbsp;<span class="op" id="4837923">&lt;</span>&nbsp;<span class="ident" id="4837925">math</span><span class="op" id="4837929">.</span><span class="ident" id="4837930">MinInt16</span>&nbsp;<span class="op" id="4837939">||</span>&nbsp;<span class="ident" id="4837942">math</span><span class="op" id="4837946">.</span><span class="ident" id="4837947">MaxInt16</span>&nbsp;<span class="op" id="4837956">&lt;</span>&nbsp;<span class="ident" id="4837958">x</span>&nbsp;<span class="op" id="4837960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837965">error_</span><span class="op" id="4837971">(</span><span class="ident" id="4837972">ovfl</span><span class="op" id="4837976">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4837980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4837984">slice</span><span class="op" id="4837989">[</span><span class="ident" id="4837990">i</span><span class="op" id="4837991">]</span>&nbsp;<span class="op" id="4837993">=</span>&nbsp;<span class="builtintype" id="4837995">int16</span><span class="op" id="4838000">(</span><span class="ident" id="4838001">x</span><span class="op" id="4838002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4838005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838008">return</span>&nbsp;<span class="builtintype" id="4838015">true</span><br>
<span class="lineno"></span><span class="op" id="4838020">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="4838023">func</span>&nbsp;<span class="ident" id="4838028">decInt32Array</span><span class="op" id="4838041">(</span><span class="ident" id="4838042">state</span>&nbsp;<span class="op" id="4838048">*</span><span class="ident" id="4838049">decoderState</span><span class="op" id="4838061">,</span>&nbsp;<span class="ident" id="4838063">v</span>&nbsp;<span class="ident" id="4838065">reflect</span><span class="op" id="4838072">.</span><span class="ident" id="4838073">Value</span><span class="op" id="4838078">,</span>&nbsp;<span class="ident" id="4838080">length</span>&nbsp;<span class="builtintype" id="4838087">int</span><span class="op" id="4838090">,</span>&nbsp;<span class="ident" id="4838092">ovfl</span>&nbsp;<span class="builtintype" id="4838097">error</span><span class="op" id="4838102">)</span>&nbsp;<span class="builtintype" id="4838104">bool</span>&nbsp;<span class="op" id="4838109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4838112">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838153">if</span>&nbsp;<span class="op" id="4838156">!</span><span class="ident" id="4838157">v</span><span class="op" id="4838158">.</span><span class="ident" id="4838159">CanAddr</span><span class="op" id="4838166">(</span><span class="op" id="4838167">)</span>&nbsp;<span class="op" id="4838169">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838173">return</span>&nbsp;<span class="builtintype" id="4838180">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4838187">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838190">return</span>&nbsp;<span class="ident" id="4838197">decInt32Slice</span><span class="op" id="4838210">(</span><span class="ident" id="4838211">state</span><span class="op" id="4838216">,</span>&nbsp;<span class="ident" id="4838218">v</span><span class="op" id="4838219">.</span><span class="ident" id="4838220">Slice</span><span class="op" id="4838225">(</span><span class="num" id="4838226">0</span><span class="op" id="4838227">,</span>&nbsp;<span class="ident" id="4838229">v</span><span class="op" id="4838230">.</span><span class="ident" id="4838231">Len</span><span class="op" id="4838234">(</span><span class="op" id="4838235">)</span><span class="op" id="4838236">)</span><span class="op" id="4838237">,</span>&nbsp;<span class="ident" id="4838239">length</span><span class="op" id="4838245">,</span>&nbsp;<span class="ident" id="4838247">ovfl</span><span class="op" id="4838251">)</span><br>
<span class="lineno"></span><span class="op" id="4838253">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4838256">func</span>&nbsp;<span class="ident" id="4838261">decInt32Slice</span><span class="op" id="4838274">(</span><span class="ident" id="4838275">state</span>&nbsp;<span class="op" id="4838281">*</span><span class="ident" id="4838282">decoderState</span><span class="op" id="4838294">,</span>&nbsp;<span class="ident" id="4838296">v</span>&nbsp;<span class="ident" id="4838298">reflect</span><span class="op" id="4838305">.</span><span class="ident" id="4838306">Value</span><span class="op" id="4838311">,</span>&nbsp;<span class="ident" id="4838313">length</span>&nbsp;<span class="builtintype" id="4838320">int</span><span class="op" id="4838323">,</span>&nbsp;<span class="ident" id="4838325">ovfl</span>&nbsp;<span class="builtintype" id="4838330">error</span><span class="op" id="4838335">)</span>&nbsp;<span class="builtintype" id="4838337">bool</span>&nbsp;<span class="op" id="4838342">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4838345">slice</span><span class="op" id="4838350">,</span>&nbsp;<span class="ident" id="4838352">ok</span>&nbsp;<span class="op" id="4838355">:=</span>&nbsp;<span class="ident" id="4838358">v</span><span class="op" id="4838359">.</span><span class="ident" id="4838360">Interface</span><span class="op" id="4838369">(</span><span class="op" id="4838370">)</span><span class="op" id="4838371">.</span><span class="op" id="4838372">(</span><span class="op" id="4838373">[</span><span class="op" id="4838374">]</span><span class="builtintype" id="4838375">int32</span><span class="op" id="4838380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838383">if</span>&nbsp;<span class="op" id="4838386">!</span><span class="ident" id="4838387">ok</span>&nbsp;<span class="op" id="4838390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4838394">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838471">return</span>&nbsp;<span class="builtintype" id="4838478">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4838485">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838488">for</span>&nbsp;<span class="ident" id="4838492">i</span>&nbsp;<span class="op" id="4838494">:=</span>&nbsp;<span class="num" id="4838497">0</span><span class="op" id="4838498">;</span>&nbsp;<span class="ident" id="4838500">i</span>&nbsp;<span class="op" id="4838502">&lt;</span>&nbsp;<span class="ident" id="4838504">length</span><span class="op" id="4838510">;</span>&nbsp;<span class="ident" id="4838512">i</span><span class="op" id="4838513">++</span>&nbsp;<span class="op" id="4838516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838520">if</span>&nbsp;<span class="ident" id="4838523">state</span><span class="op" id="4838528">.</span><span class="ident" id="4838529">b</span><span class="op" id="4838530">.</span><span class="ident" id="4838531">Len</span><span class="op" id="4838534">(</span><span class="op" id="4838535">)</span>&nbsp;<span class="op" id="4838537">==</span>&nbsp;<span class="num" id="4838540">0</span>&nbsp;<span class="op" id="4838542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4838547">errorf</span><span class="op" id="4838553">(</span><span class="string" id="4838554">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4838626">,</span>&nbsp;<span class="ident" id="4838628">length</span><span class="op" id="4838634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4838638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4838642">x</span>&nbsp;<span class="op" id="4838644">:=</span>&nbsp;<span class="ident" id="4838647">state</span><span class="op" id="4838652">.</span><span class="ident" id="4838653">decodeInt</span><span class="op" id="4838662">(</span><span class="op" id="4838663">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838667">if</span>&nbsp;<span class="ident" id="4838670">x</span>&nbsp;<span class="op" id="4838672">&lt;</span>&nbsp;<span class="ident" id="4838674">math</span><span class="op" id="4838678">.</span><span class="ident" id="4838679">MinInt32</span>&nbsp;<span class="op" id="4838688">||</span>&nbsp;<span class="ident" id="4838691">math</span><span class="op" id="4838695">.</span><span class="ident" id="4838696">MaxInt32</span>&nbsp;<span class="op" id="4838705">&lt;</span>&nbsp;<span class="ident" id="4838707">x</span>&nbsp;<span class="op" id="4838709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4838714">error_</span><span class="op" id="4838720">(</span><span class="ident" id="4838721">ovfl</span><span class="op" id="4838725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4838729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4838733">slice</span><span class="op" id="4838738">[</span><span class="ident" id="4838739">i</span><span class="op" id="4838740">]</span>&nbsp;<span class="op" id="4838742">=</span>&nbsp;<span class="builtintype" id="4838744">int32</span><span class="op" id="4838749">(</span><span class="ident" id="4838750">x</span><span class="op" id="4838751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4838754">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838757">return</span>&nbsp;<span class="builtintype" id="4838764">true</span><br>
<span class="lineno"></span><span class="op" id="4838769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4838772">func</span>&nbsp;<span class="ident" id="4838777">decInt64Array</span><span class="op" id="4838790">(</span><span class="ident" id="4838791">state</span>&nbsp;<span class="op" id="4838797">*</span><span class="ident" id="4838798">decoderState</span><span class="op" id="4838810">,</span>&nbsp;<span class="ident" id="4838812">v</span>&nbsp;<span class="ident" id="4838814">reflect</span><span class="op" id="4838821">.</span><span class="ident" id="4838822">Value</span><span class="op" id="4838827">,</span>&nbsp;<span class="ident" id="4838829">length</span>&nbsp;<span class="builtintype" id="4838836">int</span><span class="op" id="4838839">,</span>&nbsp;<span class="ident" id="4838841">ovfl</span>&nbsp;<span class="builtintype" id="4838846">error</span><span class="op" id="4838851">)</span>&nbsp;<span class="builtintype" id="4838853">bool</span>&nbsp;<span class="op" id="4838858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4838861">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838902">if</span>&nbsp;<span class="op" id="4838905">!</span><span class="ident" id="4838906">v</span><span class="op" id="4838907">.</span><span class="ident" id="4838908">CanAddr</span><span class="op" id="4838915">(</span><span class="op" id="4838916">)</span>&nbsp;<span class="op" id="4838918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838922">return</span>&nbsp;<span class="builtintype" id="4838929">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4838936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4838939">return</span>&nbsp;<span class="ident" id="4838946">decInt64Slice</span><span class="op" id="4838959">(</span><span class="ident" id="4838960">state</span><span class="op" id="4838965">,</span>&nbsp;<span class="ident" id="4838967">v</span><span class="op" id="4838968">.</span><span class="ident" id="4838969">Slice</span><span class="op" id="4838974">(</span><span class="num" id="4838975">0</span><span class="op" id="4838976">,</span>&nbsp;<span class="ident" id="4838978">v</span><span class="op" id="4838979">.</span><span class="ident" id="4838980">Len</span><span class="op" id="4838983">(</span><span class="op" id="4838984">)</span><span class="op" id="4838985">)</span><span class="op" id="4838986">,</span>&nbsp;<span class="ident" id="4838988">length</span><span class="op" id="4838994">,</span>&nbsp;<span class="ident" id="4838996">ovfl</span><span class="op" id="4839000">)</span><br>
<span class="lineno"></span><span class="op" id="4839002">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="4839005">func</span>&nbsp;<span class="ident" id="4839010">decInt64Slice</span><span class="op" id="4839023">(</span><span class="ident" id="4839024">state</span>&nbsp;<span class="op" id="4839030">*</span><span class="ident" id="4839031">decoderState</span><span class="op" id="4839043">,</span>&nbsp;<span class="ident" id="4839045">v</span>&nbsp;<span class="ident" id="4839047">reflect</span><span class="op" id="4839054">.</span><span class="ident" id="4839055">Value</span><span class="op" id="4839060">,</span>&nbsp;<span class="ident" id="4839062">length</span>&nbsp;<span class="builtintype" id="4839069">int</span><span class="op" id="4839072">,</span>&nbsp;<span class="ident" id="4839074">ovfl</span>&nbsp;<span class="builtintype" id="4839079">error</span><span class="op" id="4839084">)</span>&nbsp;<span class="builtintype" id="4839086">bool</span>&nbsp;<span class="op" id="4839091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4839094">slice</span><span class="op" id="4839099">,</span>&nbsp;<span class="ident" id="4839101">ok</span>&nbsp;<span class="op" id="4839104">:=</span>&nbsp;<span class="ident" id="4839107">v</span><span class="op" id="4839108">.</span><span class="ident" id="4839109">Interface</span><span class="op" id="4839118">(</span><span class="op" id="4839119">)</span><span class="op" id="4839120">.</span><span class="op" id="4839121">(</span><span class="op" id="4839122">[</span><span class="op" id="4839123">]</span><span class="ident" id="4839124">int64</span><span class="op" id="4839129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839132">if</span>&nbsp;<span class="op" id="4839135">!</span><span class="ident" id="4839136">ok</span>&nbsp;<span class="op" id="4839139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4839143">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839220">return</span>&nbsp;<span class="builtintype" id="4839227">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4839234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839237">for</span>&nbsp;<span class="ident" id="4839241">i</span>&nbsp;<span class="op" id="4839243">:=</span>&nbsp;<span class="num" id="4839246">0</span><span class="op" id="4839247">;</span>&nbsp;<span class="ident" id="4839249">i</span>&nbsp;<span class="op" id="4839251">&lt;</span>&nbsp;<span class="ident" id="4839253">length</span><span class="op" id="4839259">;</span>&nbsp;<span class="ident" id="4839261">i</span><span class="op" id="4839262">++</span>&nbsp;<span class="op" id="4839265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839269">if</span>&nbsp;<span class="ident" id="4839272">state</span><span class="op" id="4839277">.</span><span class="ident" id="4839278">b</span><span class="op" id="4839279">.</span><span class="ident" id="4839280">Len</span><span class="op" id="4839283">(</span><span class="op" id="4839284">)</span>&nbsp;<span class="op" id="4839286">==</span>&nbsp;<span class="num" id="4839289">0</span>&nbsp;<span class="op" id="4839291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4839296">errorf</span><span class="op" id="4839302">(</span><span class="string" id="4839303">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4839375">,</span>&nbsp;<span class="ident" id="4839377">length</span><span class="op" id="4839383">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4839387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4839391">slice</span><span class="op" id="4839396">[</span><span class="ident" id="4839397">i</span><span class="op" id="4839398">]</span>&nbsp;<span class="op" id="4839400">=</span>&nbsp;<span class="ident" id="4839402">state</span><span class="op" id="4839407">.</span><span class="ident" id="4839408">decodeInt</span><span class="op" id="4839417">(</span><span class="op" id="4839418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4839421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839424">return</span>&nbsp;<span class="builtintype" id="4839431">true</span><br>
<span class="lineno"></span><span class="op" id="4839436">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="4839439">func</span>&nbsp;<span class="ident" id="4839444">decInt8Array</span><span class="op" id="4839456">(</span><span class="ident" id="4839457">state</span>&nbsp;<span class="op" id="4839463">*</span><span class="ident" id="4839464">decoderState</span><span class="op" id="4839476">,</span>&nbsp;<span class="ident" id="4839478">v</span>&nbsp;<span class="ident" id="4839480">reflect</span><span class="op" id="4839487">.</span><span class="ident" id="4839488">Value</span><span class="op" id="4839493">,</span>&nbsp;<span class="ident" id="4839495">length</span>&nbsp;<span class="builtintype" id="4839502">int</span><span class="op" id="4839505">,</span>&nbsp;<span class="ident" id="4839507">ovfl</span>&nbsp;<span class="builtintype" id="4839512">error</span><span class="op" id="4839517">)</span>&nbsp;<span class="builtintype" id="4839519">bool</span>&nbsp;<span class="op" id="4839524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4839527">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839568">if</span>&nbsp;<span class="op" id="4839571">!</span><span class="ident" id="4839572">v</span><span class="op" id="4839573">.</span><span class="ident" id="4839574">CanAddr</span><span class="op" id="4839581">(</span><span class="op" id="4839582">)</span>&nbsp;<span class="op" id="4839584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839588">return</span>&nbsp;<span class="builtintype" id="4839595">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4839602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839605">return</span>&nbsp;<span class="ident" id="4839612">decInt8Slice</span><span class="op" id="4839624">(</span><span class="ident" id="4839625">state</span><span class="op" id="4839630">,</span>&nbsp;<span class="ident" id="4839632">v</span><span class="op" id="4839633">.</span><span class="ident" id="4839634">Slice</span><span class="op" id="4839639">(</span><span class="num" id="4839640">0</span><span class="op" id="4839641">,</span>&nbsp;<span class="ident" id="4839643">v</span><span class="op" id="4839644">.</span><span class="ident" id="4839645">Len</span><span class="op" id="4839648">(</span><span class="op" id="4839649">)</span><span class="op" id="4839650">)</span><span class="op" id="4839651">,</span>&nbsp;<span class="ident" id="4839653">length</span><span class="op" id="4839659">,</span>&nbsp;<span class="ident" id="4839661">ovfl</span><span class="op" id="4839665">)</span><br>
<span class="lineno"></span><span class="op" id="4839667">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4839670">func</span>&nbsp;<span class="ident" id="4839675">decInt8Slice</span><span class="op" id="4839687">(</span><span class="ident" id="4839688">state</span>&nbsp;<span class="op" id="4839694">*</span><span class="ident" id="4839695">decoderState</span><span class="op" id="4839707">,</span>&nbsp;<span class="ident" id="4839709">v</span>&nbsp;<span class="ident" id="4839711">reflect</span><span class="op" id="4839718">.</span><span class="ident" id="4839719">Value</span><span class="op" id="4839724">,</span>&nbsp;<span class="ident" id="4839726">length</span>&nbsp;<span class="builtintype" id="4839733">int</span><span class="op" id="4839736">,</span>&nbsp;<span class="ident" id="4839738">ovfl</span>&nbsp;<span class="builtintype" id="4839743">error</span><span class="op" id="4839748">)</span>&nbsp;<span class="builtintype" id="4839750">bool</span>&nbsp;<span class="op" id="4839755">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4839758">slice</span><span class="op" id="4839763">,</span>&nbsp;<span class="ident" id="4839765">ok</span>&nbsp;<span class="op" id="4839768">:=</span>&nbsp;<span class="ident" id="4839771">v</span><span class="op" id="4839772">.</span><span class="ident" id="4839773">Interface</span><span class="op" id="4839782">(</span><span class="op" id="4839783">)</span><span class="op" id="4839784">.</span><span class="op" id="4839785">(</span><span class="op" id="4839786">[</span><span class="op" id="4839787">]</span><span class="builtintype" id="4839788">int8</span><span class="op" id="4839792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839795">if</span>&nbsp;<span class="op" id="4839798">!</span><span class="ident" id="4839799">ok</span>&nbsp;<span class="op" id="4839802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4839806">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839881">return</span>&nbsp;<span class="builtintype" id="4839888">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4839895">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839898">for</span>&nbsp;<span class="ident" id="4839902">i</span>&nbsp;<span class="op" id="4839904">:=</span>&nbsp;<span class="num" id="4839907">0</span><span class="op" id="4839908">;</span>&nbsp;<span class="ident" id="4839910">i</span>&nbsp;<span class="op" id="4839912">&lt;</span>&nbsp;<span class="ident" id="4839914">length</span><span class="op" id="4839920">;</span>&nbsp;<span class="ident" id="4839922">i</span><span class="op" id="4839923">++</span>&nbsp;<span class="op" id="4839926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4839930">if</span>&nbsp;<span class="ident" id="4839933">state</span><span class="op" id="4839938">.</span><span class="ident" id="4839939">b</span><span class="op" id="4839940">.</span><span class="ident" id="4839941">Len</span><span class="op" id="4839944">(</span><span class="op" id="4839945">)</span>&nbsp;<span class="op" id="4839947">==</span>&nbsp;<span class="num" id="4839950">0</span>&nbsp;<span class="op" id="4839952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4839957">errorf</span><span class="op" id="4839963">(</span><span class="string" id="4839964">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4840035">,</span>&nbsp;<span class="ident" id="4840037">length</span><span class="op" id="4840043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4840047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840051">x</span>&nbsp;<span class="op" id="4840053">:=</span>&nbsp;<span class="ident" id="4840056">state</span><span class="op" id="4840061">.</span><span class="ident" id="4840062">decodeInt</span><span class="op" id="4840071">(</span><span class="op" id="4840072">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840076">if</span>&nbsp;<span class="ident" id="4840079">x</span>&nbsp;<span class="op" id="4840081">&lt;</span>&nbsp;<span class="ident" id="4840083">math</span><span class="op" id="4840087">.</span><span class="ident" id="4840088">MinInt8</span>&nbsp;<span class="op" id="4840096">||</span>&nbsp;<span class="ident" id="4840099">math</span><span class="op" id="4840103">.</span><span class="ident" id="4840104">MaxInt8</span>&nbsp;<span class="op" id="4840112">&lt;</span>&nbsp;<span class="ident" id="4840114">x</span>&nbsp;<span class="op" id="4840116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840121">error_</span><span class="op" id="4840127">(</span><span class="ident" id="4840128">ovfl</span><span class="op" id="4840132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4840136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840140">slice</span><span class="op" id="4840145">[</span><span class="ident" id="4840146">i</span><span class="op" id="4840147">]</span>&nbsp;<span class="op" id="4840149">=</span>&nbsp;<span class="builtintype" id="4840151">int8</span><span class="op" id="4840155">(</span><span class="ident" id="4840156">x</span><span class="op" id="4840157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4840160">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840163">return</span>&nbsp;<span class="builtintype" id="4840170">true</span><br>
<span class="lineno"></span><span class="op" id="4840175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4840178">func</span>&nbsp;<span class="ident" id="4840183">decStringArray</span><span class="op" id="4840197">(</span><span class="ident" id="4840198">state</span>&nbsp;<span class="op" id="4840204">*</span><span class="ident" id="4840205">decoderState</span><span class="op" id="4840217">,</span>&nbsp;<span class="ident" id="4840219">v</span>&nbsp;<span class="ident" id="4840221">reflect</span><span class="op" id="4840228">.</span><span class="ident" id="4840229">Value</span><span class="op" id="4840234">,</span>&nbsp;<span class="ident" id="4840236">length</span>&nbsp;<span class="builtintype" id="4840243">int</span><span class="op" id="4840246">,</span>&nbsp;<span class="ident" id="4840248">ovfl</span>&nbsp;<span class="builtintype" id="4840253">error</span><span class="op" id="4840258">)</span>&nbsp;<span class="builtintype" id="4840260">bool</span>&nbsp;<span class="op" id="4840265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4840268">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840309">if</span>&nbsp;<span class="op" id="4840312">!</span><span class="ident" id="4840313">v</span><span class="op" id="4840314">.</span><span class="ident" id="4840315">CanAddr</span><span class="op" id="4840322">(</span><span class="op" id="4840323">)</span>&nbsp;<span class="op" id="4840325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840329">return</span>&nbsp;<span class="builtintype" id="4840336">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4840343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840346">return</span>&nbsp;<span class="ident" id="4840353">decStringSlice</span><span class="op" id="4840367">(</span><span class="ident" id="4840368">state</span><span class="op" id="4840373">,</span>&nbsp;<span class="ident" id="4840375">v</span><span class="op" id="4840376">.</span><span class="ident" id="4840377">Slice</span><span class="op" id="4840382">(</span><span class="num" id="4840383">0</span><span class="op" id="4840384">,</span>&nbsp;<span class="ident" id="4840386">v</span><span class="op" id="4840387">.</span><span class="ident" id="4840388">Len</span><span class="op" id="4840391">(</span><span class="op" id="4840392">)</span><span class="op" id="4840393">)</span><span class="op" id="4840394">,</span>&nbsp;<span class="ident" id="4840396">length</span><span class="op" id="4840402">,</span>&nbsp;<span class="ident" id="4840404">ovfl</span><span class="op" id="4840408">)</span><br>
<span class="lineno"></span><span class="op" id="4840410">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="4840413">func</span>&nbsp;<span class="ident" id="4840418">decStringSlice</span><span class="op" id="4840432">(</span><span class="ident" id="4840433">state</span>&nbsp;<span class="op" id="4840439">*</span><span class="ident" id="4840440">decoderState</span><span class="op" id="4840452">,</span>&nbsp;<span class="ident" id="4840454">v</span>&nbsp;<span class="ident" id="4840456">reflect</span><span class="op" id="4840463">.</span><span class="ident" id="4840464">Value</span><span class="op" id="4840469">,</span>&nbsp;<span class="ident" id="4840471">length</span>&nbsp;<span class="builtintype" id="4840478">int</span><span class="op" id="4840481">,</span>&nbsp;<span class="ident" id="4840483">ovfl</span>&nbsp;<span class="builtintype" id="4840488">error</span><span class="op" id="4840493">)</span>&nbsp;<span class="builtintype" id="4840495">bool</span>&nbsp;<span class="op" id="4840500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840503">slice</span><span class="op" id="4840508">,</span>&nbsp;<span class="ident" id="4840510">ok</span>&nbsp;<span class="op" id="4840513">:=</span>&nbsp;<span class="ident" id="4840516">v</span><span class="op" id="4840517">.</span><span class="ident" id="4840518">Interface</span><span class="op" id="4840527">(</span><span class="op" id="4840528">)</span><span class="op" id="4840529">.</span><span class="op" id="4840530">(</span><span class="op" id="4840531">[</span><span class="op" id="4840532">]</span><span class="builtintype" id="4840533">string</span><span class="op" id="4840539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840542">if</span>&nbsp;<span class="op" id="4840545">!</span><span class="ident" id="4840546">ok</span>&nbsp;<span class="op" id="4840549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4840553">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840632">return</span>&nbsp;<span class="builtintype" id="4840639">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4840646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840649">for</span>&nbsp;<span class="ident" id="4840653">i</span>&nbsp;<span class="op" id="4840655">:=</span>&nbsp;<span class="num" id="4840658">0</span><span class="op" id="4840659">;</span>&nbsp;<span class="ident" id="4840661">i</span>&nbsp;<span class="op" id="4840663">&lt;</span>&nbsp;<span class="ident" id="4840665">length</span><span class="op" id="4840671">;</span>&nbsp;<span class="ident" id="4840673">i</span><span class="op" id="4840674">++</span>&nbsp;<span class="op" id="4840677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840681">if</span>&nbsp;<span class="ident" id="4840684">state</span><span class="op" id="4840689">.</span><span class="ident" id="4840690">b</span><span class="op" id="4840691">.</span><span class="ident" id="4840692">Len</span><span class="op" id="4840695">(</span><span class="op" id="4840696">)</span>&nbsp;<span class="op" id="4840698">==</span>&nbsp;<span class="num" id="4840701">0</span>&nbsp;<span class="op" id="4840703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840708">errorf</span><span class="op" id="4840714">(</span><span class="string" id="4840715">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4840788">,</span>&nbsp;<span class="ident" id="4840790">length</span><span class="op" id="4840796">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4840800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840804">u</span>&nbsp;<span class="op" id="4840806">:=</span>&nbsp;<span class="ident" id="4840809">state</span><span class="op" id="4840814">.</span><span class="ident" id="4840815">decodeUint</span><span class="op" id="4840825">(</span><span class="op" id="4840826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840830">n</span>&nbsp;<span class="op" id="4840832">:=</span>&nbsp;<span class="builtintype" id="4840835">int</span><span class="op" id="4840838">(</span><span class="ident" id="4840839">u</span><span class="op" id="4840840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840844">if</span>&nbsp;<span class="ident" id="4840847">n</span>&nbsp;<span class="op" id="4840849">&lt;</span>&nbsp;<span class="num" id="4840851">0</span>&nbsp;<span class="op" id="4840853">||</span>&nbsp;<span class="ident" id="4840856">uint64</span><span class="op" id="4840862">(</span><span class="ident" id="4840863">n</span><span class="op" id="4840864">)</span>&nbsp;<span class="op" id="4840866">!=</span>&nbsp;<span class="ident" id="4840869">u</span>&nbsp;<span class="op" id="4840871">||</span>&nbsp;<span class="ident" id="4840874">n</span>&nbsp;<span class="op" id="4840876">&gt;</span>&nbsp;<span class="ident" id="4840878">state</span><span class="op" id="4840883">.</span><span class="ident" id="4840884">b</span><span class="op" id="4840885">.</span><span class="ident" id="4840886">Len</span><span class="op" id="4840889">(</span><span class="op" id="4840890">)</span>&nbsp;<span class="op" id="4840892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840897">errorf</span><span class="op" id="4840903">(</span><span class="string" id="4840904">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="4840952">,</span>&nbsp;<span class="ident" id="4840954">u</span><span class="op" id="4840955">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4840959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4840963">if</span>&nbsp;<span class="ident" id="4840966">n</span>&nbsp;<span class="op" id="4840968">&gt;</span>&nbsp;<span class="ident" id="4840970">state</span><span class="op" id="4840975">.</span><span class="ident" id="4840976">b</span><span class="op" id="4840977">.</span><span class="ident" id="4840978">Len</span><span class="op" id="4840981">(</span><span class="op" id="4840982">)</span>&nbsp;<span class="op" id="4840984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4840989">errorf</span><span class="op" id="4840995">(</span><span class="string" id="4840996">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="4841033">,</span>&nbsp;<span class="ident" id="4841035">n</span><span class="op" id="4841036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4841040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4841044">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4841064">data</span>&nbsp;<span class="op" id="4841069">:=</span>&nbsp;<span class="builtinfunc" id="4841072">make</span><span class="op" id="4841076">(</span><span class="op" id="4841077">[</span><span class="op" id="4841078">]</span><span class="builtintype" id="4841079">byte</span><span class="op" id="4841083">,</span>&nbsp;<span class="ident" id="4841085">n</span><span class="op" id="4841086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841090">if</span>&nbsp;<span class="ident" id="4841093">_</span><span class="op" id="4841094">,</span>&nbsp;<span class="ident" id="4841096">err</span>&nbsp;<span class="op" id="4841100">:=</span>&nbsp;<span class="ident" id="4841103">state</span><span class="op" id="4841108">.</span><span class="ident" id="4841109">b</span><span class="op" id="4841110">.</span><span class="ident" id="4841111">Read</span><span class="op" id="4841115">(</span><span class="ident" id="4841116">data</span><span class="op" id="4841120">)</span><span class="op" id="4841121">;</span>&nbsp;<span class="ident" id="4841123">err</span>&nbsp;<span class="op" id="4841127">!=</span>&nbsp;<span class="ident" id="4841130">nil</span>&nbsp;<span class="op" id="4841134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4841139">errorf</span><span class="op" id="4841145">(</span><span class="string" id="4841146">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="4841173">,</span>&nbsp;<span class="ident" id="4841175">err</span><span class="op" id="4841178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4841182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4841186">slice</span><span class="op" id="4841191">[</span><span class="ident" id="4841192">i</span><span class="op" id="4841193">]</span>&nbsp;<span class="op" id="4841195">=</span>&nbsp;<span class="builtintype" id="4841197">string</span><span class="op" id="4841203">(</span><span class="ident" id="4841204">data</span><span class="op" id="4841208">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4841211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841214">return</span>&nbsp;<span class="builtintype" id="4841221">true</span><br>
<span class="lineno"></span><span class="op" id="4841226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4841229">func</span>&nbsp;<span class="ident" id="4841234">decUintArray</span><span class="op" id="4841246">(</span><span class="ident" id="4841247">state</span>&nbsp;<span class="op" id="4841253">*</span><span class="ident" id="4841254">decoderState</span><span class="op" id="4841266">,</span>&nbsp;<span class="ident" id="4841268">v</span>&nbsp;<span class="ident" id="4841270">reflect</span><span class="op" id="4841277">.</span><span class="ident" id="4841278">Value</span><span class="op" id="4841283">,</span>&nbsp;<span class="ident" id="4841285">length</span>&nbsp;<span class="builtintype" id="4841292">int</span><span class="op" id="4841295">,</span>&nbsp;<span class="ident" id="4841297">ovfl</span>&nbsp;<span class="builtintype" id="4841302">error</span><span class="op" id="4841307">)</span>&nbsp;<span class="builtintype" id="4841309">bool</span>&nbsp;<span class="op" id="4841314">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4841317">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841358">if</span>&nbsp;<span class="op" id="4841361">!</span><span class="ident" id="4841362">v</span><span class="op" id="4841363">.</span><span class="ident" id="4841364">CanAddr</span><span class="op" id="4841371">(</span><span class="op" id="4841372">)</span>&nbsp;<span class="op" id="4841374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841378">return</span>&nbsp;<span class="builtintype" id="4841385">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4841392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841395">return</span>&nbsp;<span class="ident" id="4841402">decUintSlice</span><span class="op" id="4841414">(</span><span class="ident" id="4841415">state</span><span class="op" id="4841420">,</span>&nbsp;<span class="ident" id="4841422">v</span><span class="op" id="4841423">.</span><span class="ident" id="4841424">Slice</span><span class="op" id="4841429">(</span><span class="num" id="4841430">0</span><span class="op" id="4841431">,</span>&nbsp;<span class="ident" id="4841433">v</span><span class="op" id="4841434">.</span><span class="ident" id="4841435">Len</span><span class="op" id="4841438">(</span><span class="op" id="4841439">)</span><span class="op" id="4841440">)</span><span class="op" id="4841441">,</span>&nbsp;<span class="ident" id="4841443">length</span><span class="op" id="4841449">,</span>&nbsp;<span class="ident" id="4841451">ovfl</span><span class="op" id="4841455">)</span><br>
<span class="lineno">345</span><span class="op" id="4841457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4841460">func</span>&nbsp;<span class="ident" id="4841465">decUintSlice</span><span class="op" id="4841477">(</span><span class="ident" id="4841478">state</span>&nbsp;<span class="op" id="4841484">*</span><span class="ident" id="4841485">decoderState</span><span class="op" id="4841497">,</span>&nbsp;<span class="ident" id="4841499">v</span>&nbsp;<span class="ident" id="4841501">reflect</span><span class="op" id="4841508">.</span><span class="ident" id="4841509">Value</span><span class="op" id="4841514">,</span>&nbsp;<span class="ident" id="4841516">length</span>&nbsp;<span class="builtintype" id="4841523">int</span><span class="op" id="4841526">,</span>&nbsp;<span class="ident" id="4841528">ovfl</span>&nbsp;<span class="builtintype" id="4841533">error</span><span class="op" id="4841538">)</span>&nbsp;<span class="builtintype" id="4841540">bool</span>&nbsp;<span class="op" id="4841545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4841548">slice</span><span class="op" id="4841553">,</span>&nbsp;<span class="ident" id="4841555">ok</span>&nbsp;<span class="op" id="4841558">:=</span>&nbsp;<span class="ident" id="4841561">v</span><span class="op" id="4841562">.</span><span class="ident" id="4841563">Interface</span><span class="op" id="4841572">(</span><span class="op" id="4841573">)</span><span class="op" id="4841574">.</span><span class="op" id="4841575">(</span><span class="op" id="4841576">[</span><span class="op" id="4841577">]</span><span class="builtintype" id="4841578">uint</span><span class="op" id="4841582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841585">if</span>&nbsp;<span class="op" id="4841588">!</span><span class="ident" id="4841589">ok</span>&nbsp;<span class="op" id="4841592">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4841596">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841671">return</span>&nbsp;<span class="builtintype" id="4841678">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4841685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841688">for</span>&nbsp;<span class="ident" id="4841692">i</span>&nbsp;<span class="op" id="4841694">:=</span>&nbsp;<span class="num" id="4841697">0</span><span class="op" id="4841698">;</span>&nbsp;<span class="ident" id="4841700">i</span>&nbsp;<span class="op" id="4841702">&lt;</span>&nbsp;<span class="ident" id="4841704">length</span><span class="op" id="4841710">;</span>&nbsp;<span class="ident" id="4841712">i</span><span class="op" id="4841713">++</span>&nbsp;<span class="op" id="4841716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841720">if</span>&nbsp;<span class="ident" id="4841723">state</span><span class="op" id="4841728">.</span><span class="ident" id="4841729">b</span><span class="op" id="4841730">.</span><span class="ident" id="4841731">Len</span><span class="op" id="4841734">(</span><span class="op" id="4841735">)</span>&nbsp;<span class="op" id="4841737">==</span>&nbsp;<span class="num" id="4841740">0</span>&nbsp;<span class="op" id="4841742">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4841747">errorf</span><span class="op" id="4841753">(</span><span class="string" id="4841754">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4841825">,</span>&nbsp;<span class="ident" id="4841827">length</span><span class="op" id="4841833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4841837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4841841">x</span>&nbsp;<span class="op" id="4841843">:=</span>&nbsp;<span class="ident" id="4841846">state</span><span class="op" id="4841851">.</span><span class="ident" id="4841852">decodeUint</span><span class="op" id="4841862">(</span><span class="op" id="4841863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4841867">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4841922">slice</span><span class="op" id="4841927">[</span><span class="ident" id="4841928">i</span><span class="op" id="4841929">]</span>&nbsp;<span class="op" id="4841931">=</span>&nbsp;<span class="builtintype" id="4841933">uint</span><span class="op" id="4841937">(</span><span class="ident" id="4841938">x</span><span class="op" id="4841939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4841942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4841945">return</span>&nbsp;<span class="builtintype" id="4841952">true</span><br>
<span class="lineno"></span><span class="op" id="4841957">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="4841960">func</span>&nbsp;<span class="ident" id="4841965">decUint16Array</span><span class="op" id="4841979">(</span><span class="ident" id="4841980">state</span>&nbsp;<span class="op" id="4841986">*</span><span class="ident" id="4841987">decoderState</span><span class="op" id="4841999">,</span>&nbsp;<span class="ident" id="4842001">v</span>&nbsp;<span class="ident" id="4842003">reflect</span><span class="op" id="4842010">.</span><span class="ident" id="4842011">Value</span><span class="op" id="4842016">,</span>&nbsp;<span class="ident" id="4842018">length</span>&nbsp;<span class="builtintype" id="4842025">int</span><span class="op" id="4842028">,</span>&nbsp;<span class="ident" id="4842030">ovfl</span>&nbsp;<span class="builtintype" id="4842035">error</span><span class="op" id="4842040">)</span>&nbsp;<span class="builtintype" id="4842042">bool</span>&nbsp;<span class="op" id="4842047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4842050">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842091">if</span>&nbsp;<span class="op" id="4842094">!</span><span class="ident" id="4842095">v</span><span class="op" id="4842096">.</span><span class="ident" id="4842097">CanAddr</span><span class="op" id="4842104">(</span><span class="op" id="4842105">)</span>&nbsp;<span class="op" id="4842107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842111">return</span>&nbsp;<span class="builtintype" id="4842118">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4842125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842128">return</span>&nbsp;<span class="ident" id="4842135">decUint16Slice</span><span class="op" id="4842149">(</span><span class="ident" id="4842150">state</span><span class="op" id="4842155">,</span>&nbsp;<span class="ident" id="4842157">v</span><span class="op" id="4842158">.</span><span class="ident" id="4842159">Slice</span><span class="op" id="4842164">(</span><span class="num" id="4842165">0</span><span class="op" id="4842166">,</span>&nbsp;<span class="ident" id="4842168">v</span><span class="op" id="4842169">.</span><span class="ident" id="4842170">Len</span><span class="op" id="4842173">(</span><span class="op" id="4842174">)</span><span class="op" id="4842175">)</span><span class="op" id="4842176">,</span>&nbsp;<span class="ident" id="4842178">length</span><span class="op" id="4842184">,</span>&nbsp;<span class="ident" id="4842186">ovfl</span><span class="op" id="4842190">)</span><br>
<span class="lineno"></span><span class="op" id="4842192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4842195">func</span>&nbsp;<span class="ident" id="4842200">decUint16Slice</span><span class="op" id="4842214">(</span><span class="ident" id="4842215">state</span>&nbsp;<span class="op" id="4842221">*</span><span class="ident" id="4842222">decoderState</span><span class="op" id="4842234">,</span>&nbsp;<span class="ident" id="4842236">v</span>&nbsp;<span class="ident" id="4842238">reflect</span><span class="op" id="4842245">.</span><span class="ident" id="4842246">Value</span><span class="op" id="4842251">,</span>&nbsp;<span class="ident" id="4842253">length</span>&nbsp;<span class="builtintype" id="4842260">int</span><span class="op" id="4842263">,</span>&nbsp;<span class="ident" id="4842265">ovfl</span>&nbsp;<span class="builtintype" id="4842270">error</span><span class="op" id="4842275">)</span>&nbsp;<span class="builtintype" id="4842277">bool</span>&nbsp;<span class="op" id="4842282">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4842285">slice</span><span class="op" id="4842290">,</span>&nbsp;<span class="ident" id="4842292">ok</span>&nbsp;<span class="op" id="4842295">:=</span>&nbsp;<span class="ident" id="4842298">v</span><span class="op" id="4842299">.</span><span class="ident" id="4842300">Interface</span><span class="op" id="4842309">(</span><span class="op" id="4842310">)</span><span class="op" id="4842311">.</span><span class="op" id="4842312">(</span><span class="op" id="4842313">[</span><span class="op" id="4842314">]</span><span class="builtintype" id="4842315">uint16</span><span class="op" id="4842321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842324">if</span>&nbsp;<span class="op" id="4842327">!</span><span class="ident" id="4842328">ok</span>&nbsp;<span class="op" id="4842331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4842335">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842414">return</span>&nbsp;<span class="builtintype" id="4842421">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4842428">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842431">for</span>&nbsp;<span class="ident" id="4842435">i</span>&nbsp;<span class="op" id="4842437">:=</span>&nbsp;<span class="num" id="4842440">0</span><span class="op" id="4842441">;</span>&nbsp;<span class="ident" id="4842443">i</span>&nbsp;<span class="op" id="4842445">&lt;</span>&nbsp;<span class="ident" id="4842447">length</span><span class="op" id="4842453">;</span>&nbsp;<span class="ident" id="4842455">i</span><span class="op" id="4842456">++</span>&nbsp;<span class="op" id="4842459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842463">if</span>&nbsp;<span class="ident" id="4842466">state</span><span class="op" id="4842471">.</span><span class="ident" id="4842472">b</span><span class="op" id="4842473">.</span><span class="ident" id="4842474">Len</span><span class="op" id="4842477">(</span><span class="op" id="4842478">)</span>&nbsp;<span class="op" id="4842480">==</span>&nbsp;<span class="num" id="4842483">0</span>&nbsp;<span class="op" id="4842485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4842490">errorf</span><span class="op" id="4842496">(</span><span class="string" id="4842497">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4842570">,</span>&nbsp;<span class="ident" id="4842572">length</span><span class="op" id="4842578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4842582">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4842586">x</span>&nbsp;<span class="op" id="4842588">:=</span>&nbsp;<span class="ident" id="4842591">state</span><span class="op" id="4842596">.</span><span class="ident" id="4842597">decodeUint</span><span class="op" id="4842607">(</span><span class="op" id="4842608">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842612">if</span>&nbsp;<span class="ident" id="4842615">math</span><span class="op" id="4842619">.</span><span class="ident" id="4842620">MaxUint16</span>&nbsp;<span class="op" id="4842630">&lt;</span>&nbsp;<span class="ident" id="4842632">x</span>&nbsp;<span class="op" id="4842634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4842639">error_</span><span class="op" id="4842645">(</span><span class="ident" id="4842646">ovfl</span><span class="op" id="4842650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4842654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4842658">slice</span><span class="op" id="4842663">[</span><span class="ident" id="4842664">i</span><span class="op" id="4842665">]</span>&nbsp;<span class="op" id="4842667">=</span>&nbsp;<span class="builtintype" id="4842669">uint16</span><span class="op" id="4842675">(</span><span class="ident" id="4842676">x</span><span class="op" id="4842677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4842680">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842683">return</span>&nbsp;<span class="builtintype" id="4842690">true</span><br>
<span class="lineno"></span><span class="op" id="4842695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4842698">func</span>&nbsp;<span class="ident" id="4842703">decUint32Array</span><span class="op" id="4842717">(</span><span class="ident" id="4842718">state</span>&nbsp;<span class="op" id="4842724">*</span><span class="ident" id="4842725">decoderState</span><span class="op" id="4842737">,</span>&nbsp;<span class="ident" id="4842739">v</span>&nbsp;<span class="ident" id="4842741">reflect</span><span class="op" id="4842748">.</span><span class="ident" id="4842749">Value</span><span class="op" id="4842754">,</span>&nbsp;<span class="ident" id="4842756">length</span>&nbsp;<span class="builtintype" id="4842763">int</span><span class="op" id="4842766">,</span>&nbsp;<span class="ident" id="4842768">ovfl</span>&nbsp;<span class="builtintype" id="4842773">error</span><span class="op" id="4842778">)</span>&nbsp;<span class="builtintype" id="4842780">bool</span>&nbsp;<span class="op" id="4842785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4842788">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842829">if</span>&nbsp;<span class="op" id="4842832">!</span><span class="ident" id="4842833">v</span><span class="op" id="4842834">.</span><span class="ident" id="4842835">CanAddr</span><span class="op" id="4842842">(</span><span class="op" id="4842843">)</span>&nbsp;<span class="op" id="4842845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842849">return</span>&nbsp;<span class="builtintype" id="4842856">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4842863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4842866">return</span>&nbsp;<span class="ident" id="4842873">decUint32Slice</span><span class="op" id="4842887">(</span><span class="ident" id="4842888">state</span><span class="op" id="4842893">,</span>&nbsp;<span class="ident" id="4842895">v</span><span class="op" id="4842896">.</span><span class="ident" id="4842897">Slice</span><span class="op" id="4842902">(</span><span class="num" id="4842903">0</span><span class="op" id="4842904">,</span>&nbsp;<span class="ident" id="4842906">v</span><span class="op" id="4842907">.</span><span class="ident" id="4842908">Len</span><span class="op" id="4842911">(</span><span class="op" id="4842912">)</span><span class="op" id="4842913">)</span><span class="op" id="4842914">,</span>&nbsp;<span class="ident" id="4842916">length</span><span class="op" id="4842922">,</span>&nbsp;<span class="ident" id="4842924">ovfl</span><span class="op" id="4842928">)</span><br>
<span class="lineno"></span><span class="op" id="4842930">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="4842933">func</span>&nbsp;<span class="ident" id="4842938">decUint32Slice</span><span class="op" id="4842952">(</span><span class="ident" id="4842953">state</span>&nbsp;<span class="op" id="4842959">*</span><span class="ident" id="4842960">decoderState</span><span class="op" id="4842972">,</span>&nbsp;<span class="ident" id="4842974">v</span>&nbsp;<span class="ident" id="4842976">reflect</span><span class="op" id="4842983">.</span><span class="ident" id="4842984">Value</span><span class="op" id="4842989">,</span>&nbsp;<span class="ident" id="4842991">length</span>&nbsp;<span class="builtintype" id="4842998">int</span><span class="op" id="4843001">,</span>&nbsp;<span class="ident" id="4843003">ovfl</span>&nbsp;<span class="builtintype" id="4843008">error</span><span class="op" id="4843013">)</span>&nbsp;<span class="builtintype" id="4843015">bool</span>&nbsp;<span class="op" id="4843020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4843023">slice</span><span class="op" id="4843028">,</span>&nbsp;<span class="ident" id="4843030">ok</span>&nbsp;<span class="op" id="4843033">:=</span>&nbsp;<span class="ident" id="4843036">v</span><span class="op" id="4843037">.</span><span class="ident" id="4843038">Interface</span><span class="op" id="4843047">(</span><span class="op" id="4843048">)</span><span class="op" id="4843049">.</span><span class="op" id="4843050">(</span><span class="op" id="4843051">[</span><span class="op" id="4843052">]</span><span class="builtintype" id="4843053">uint32</span><span class="op" id="4843059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843062">if</span>&nbsp;<span class="op" id="4843065">!</span><span class="ident" id="4843066">ok</span>&nbsp;<span class="op" id="4843069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4843073">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843152">return</span>&nbsp;<span class="builtintype" id="4843159">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4843166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843169">for</span>&nbsp;<span class="ident" id="4843173">i</span>&nbsp;<span class="op" id="4843175">:=</span>&nbsp;<span class="num" id="4843178">0</span><span class="op" id="4843179">;</span>&nbsp;<span class="ident" id="4843181">i</span>&nbsp;<span class="op" id="4843183">&lt;</span>&nbsp;<span class="ident" id="4843185">length</span><span class="op" id="4843191">;</span>&nbsp;<span class="ident" id="4843193">i</span><span class="op" id="4843194">++</span>&nbsp;<span class="op" id="4843197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843201">if</span>&nbsp;<span class="ident" id="4843204">state</span><span class="op" id="4843209">.</span><span class="ident" id="4843210">b</span><span class="op" id="4843211">.</span><span class="ident" id="4843212">Len</span><span class="op" id="4843215">(</span><span class="op" id="4843216">)</span>&nbsp;<span class="op" id="4843218">==</span>&nbsp;<span class="num" id="4843221">0</span>&nbsp;<span class="op" id="4843223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4843228">errorf</span><span class="op" id="4843234">(</span><span class="string" id="4843235">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4843308">,</span>&nbsp;<span class="ident" id="4843310">length</span><span class="op" id="4843316">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4843320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4843324">x</span>&nbsp;<span class="op" id="4843326">:=</span>&nbsp;<span class="ident" id="4843329">state</span><span class="op" id="4843334">.</span><span class="ident" id="4843335">decodeUint</span><span class="op" id="4843345">(</span><span class="op" id="4843346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843350">if</span>&nbsp;<span class="ident" id="4843353">math</span><span class="op" id="4843357">.</span><span class="ident" id="4843358">MaxUint32</span>&nbsp;<span class="op" id="4843368">&lt;</span>&nbsp;<span class="ident" id="4843370">x</span>&nbsp;<span class="op" id="4843372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4843377">error_</span><span class="op" id="4843383">(</span><span class="ident" id="4843384">ovfl</span><span class="op" id="4843388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4843392">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4843396">slice</span><span class="op" id="4843401">[</span><span class="ident" id="4843402">i</span><span class="op" id="4843403">]</span>&nbsp;<span class="op" id="4843405">=</span>&nbsp;<span class="builtintype" id="4843407">uint32</span><span class="op" id="4843413">(</span><span class="ident" id="4843414">x</span><span class="op" id="4843415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4843418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843421">return</span>&nbsp;<span class="builtintype" id="4843428">true</span><br>
<span class="lineno"></span><span class="op" id="4843433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="4843436">func</span>&nbsp;<span class="ident" id="4843441">decUint64Array</span><span class="op" id="4843455">(</span><span class="ident" id="4843456">state</span>&nbsp;<span class="op" id="4843462">*</span><span class="ident" id="4843463">decoderState</span><span class="op" id="4843475">,</span>&nbsp;<span class="ident" id="4843477">v</span>&nbsp;<span class="ident" id="4843479">reflect</span><span class="op" id="4843486">.</span><span class="ident" id="4843487">Value</span><span class="op" id="4843492">,</span>&nbsp;<span class="ident" id="4843494">length</span>&nbsp;<span class="builtintype" id="4843501">int</span><span class="op" id="4843504">,</span>&nbsp;<span class="ident" id="4843506">ovfl</span>&nbsp;<span class="builtintype" id="4843511">error</span><span class="op" id="4843516">)</span>&nbsp;<span class="builtintype" id="4843518">bool</span>&nbsp;<span class="op" id="4843523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4843526">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843567">if</span>&nbsp;<span class="op" id="4843570">!</span><span class="ident" id="4843571">v</span><span class="op" id="4843572">.</span><span class="ident" id="4843573">CanAddr</span><span class="op" id="4843580">(</span><span class="op" id="4843581">)</span>&nbsp;<span class="op" id="4843583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843587">return</span>&nbsp;<span class="builtintype" id="4843594">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4843601">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843604">return</span>&nbsp;<span class="ident" id="4843611">decUint64Slice</span><span class="op" id="4843625">(</span><span class="ident" id="4843626">state</span><span class="op" id="4843631">,</span>&nbsp;<span class="ident" id="4843633">v</span><span class="op" id="4843634">.</span><span class="ident" id="4843635">Slice</span><span class="op" id="4843640">(</span><span class="num" id="4843641">0</span><span class="op" id="4843642">,</span>&nbsp;<span class="ident" id="4843644">v</span><span class="op" id="4843645">.</span><span class="ident" id="4843646">Len</span><span class="op" id="4843649">(</span><span class="op" id="4843650">)</span><span class="op" id="4843651">)</span><span class="op" id="4843652">,</span>&nbsp;<span class="ident" id="4843654">length</span><span class="op" id="4843660">,</span>&nbsp;<span class="ident" id="4843662">ovfl</span><span class="op" id="4843666">)</span><br>
<span class="lineno"></span><span class="op" id="4843668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4843671">func</span>&nbsp;<span class="ident" id="4843676">decUint64Slice</span><span class="op" id="4843690">(</span><span class="ident" id="4843691">state</span>&nbsp;<span class="op" id="4843697">*</span><span class="ident" id="4843698">decoderState</span><span class="op" id="4843710">,</span>&nbsp;<span class="ident" id="4843712">v</span>&nbsp;<span class="ident" id="4843714">reflect</span><span class="op" id="4843721">.</span><span class="ident" id="4843722">Value</span><span class="op" id="4843727">,</span>&nbsp;<span class="ident" id="4843729">length</span>&nbsp;<span class="builtintype" id="4843736">int</span><span class="op" id="4843739">,</span>&nbsp;<span class="ident" id="4843741">ovfl</span>&nbsp;<span class="builtintype" id="4843746">error</span><span class="op" id="4843751">)</span>&nbsp;<span class="builtintype" id="4843753">bool</span>&nbsp;<span class="op" id="4843758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4843761">slice</span><span class="op" id="4843766">,</span>&nbsp;<span class="ident" id="4843768">ok</span>&nbsp;<span class="op" id="4843771">:=</span>&nbsp;<span class="ident" id="4843774">v</span><span class="op" id="4843775">.</span><span class="ident" id="4843776">Interface</span><span class="op" id="4843785">(</span><span class="op" id="4843786">)</span><span class="op" id="4843787">.</span><span class="op" id="4843788">(</span><span class="op" id="4843789">[</span><span class="op" id="4843790">]</span><span class="ident" id="4843791">uint64</span><span class="op" id="4843797">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843800">if</span>&nbsp;<span class="op" id="4843803">!</span><span class="ident" id="4843804">ok</span>&nbsp;<span class="op" id="4843807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4843811">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843890">return</span>&nbsp;<span class="builtintype" id="4843897">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4843904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843907">for</span>&nbsp;<span class="ident" id="4843911">i</span>&nbsp;<span class="op" id="4843913">:=</span>&nbsp;<span class="num" id="4843916">0</span><span class="op" id="4843917">;</span>&nbsp;<span class="ident" id="4843919">i</span>&nbsp;<span class="op" id="4843921">&lt;</span>&nbsp;<span class="ident" id="4843923">length</span><span class="op" id="4843929">;</span>&nbsp;<span class="ident" id="4843931">i</span><span class="op" id="4843932">++</span>&nbsp;<span class="op" id="4843935">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4843939">if</span>&nbsp;<span class="ident" id="4843942">state</span><span class="op" id="4843947">.</span><span class="ident" id="4843948">b</span><span class="op" id="4843949">.</span><span class="ident" id="4843950">Len</span><span class="op" id="4843953">(</span><span class="op" id="4843954">)</span>&nbsp;<span class="op" id="4843956">==</span>&nbsp;<span class="num" id="4843959">0</span>&nbsp;<span class="op" id="4843961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4843966">errorf</span><span class="op" id="4843972">(</span><span class="string" id="4843973">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4844046">,</span>&nbsp;<span class="ident" id="4844048">length</span><span class="op" id="4844054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4844058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4844062">slice</span><span class="op" id="4844067">[</span><span class="ident" id="4844068">i</span><span class="op" id="4844069">]</span>&nbsp;<span class="op" id="4844071">=</span>&nbsp;<span class="ident" id="4844073">state</span><span class="op" id="4844078">.</span><span class="ident" id="4844079">decodeUint</span><span class="op" id="4844089">(</span><span class="op" id="4844090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4844093">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844096">return</span>&nbsp;<span class="builtintype" id="4844103">true</span><br>
<span class="lineno"></span><span class="op" id="4844108">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4844111">func</span>&nbsp;<span class="ident" id="4844116">decUintptrArray</span><span class="op" id="4844131">(</span><span class="ident" id="4844132">state</span>&nbsp;<span class="op" id="4844138">*</span><span class="ident" id="4844139">decoderState</span><span class="op" id="4844151">,</span>&nbsp;<span class="ident" id="4844153">v</span>&nbsp;<span class="ident" id="4844155">reflect</span><span class="op" id="4844162">.</span><span class="ident" id="4844163">Value</span><span class="op" id="4844168">,</span>&nbsp;<span class="ident" id="4844170">length</span>&nbsp;<span class="builtintype" id="4844177">int</span><span class="op" id="4844180">,</span>&nbsp;<span class="ident" id="4844182">ovfl</span>&nbsp;<span class="builtintype" id="4844187">error</span><span class="op" id="4844192">)</span>&nbsp;<span class="builtintype" id="4844194">bool</span>&nbsp;<span class="op" id="4844199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4844202">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844243">if</span>&nbsp;<span class="op" id="4844246">!</span><span class="ident" id="4844247">v</span><span class="op" id="4844248">.</span><span class="ident" id="4844249">CanAddr</span><span class="op" id="4844256">(</span><span class="op" id="4844257">)</span>&nbsp;<span class="op" id="4844259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844263">return</span>&nbsp;<span class="builtintype" id="4844270">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4844277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844280">return</span>&nbsp;<span class="ident" id="4844287">decUintptrSlice</span><span class="op" id="4844302">(</span><span class="ident" id="4844303">state</span><span class="op" id="4844308">,</span>&nbsp;<span class="ident" id="4844310">v</span><span class="op" id="4844311">.</span><span class="ident" id="4844312">Slice</span><span class="op" id="4844317">(</span><span class="num" id="4844318">0</span><span class="op" id="4844319">,</span>&nbsp;<span class="ident" id="4844321">v</span><span class="op" id="4844322">.</span><span class="ident" id="4844323">Len</span><span class="op" id="4844326">(</span><span class="op" id="4844327">)</span><span class="op" id="4844328">)</span><span class="op" id="4844329">,</span>&nbsp;<span class="ident" id="4844331">length</span><span class="op" id="4844337">,</span>&nbsp;<span class="ident" id="4844339">ovfl</span><span class="op" id="4844343">)</span><br>
<span class="lineno"></span><span class="op" id="4844345">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="4844348">func</span>&nbsp;<span class="ident" id="4844353">decUintptrSlice</span><span class="op" id="4844368">(</span><span class="ident" id="4844369">state</span>&nbsp;<span class="op" id="4844375">*</span><span class="ident" id="4844376">decoderState</span><span class="op" id="4844388">,</span>&nbsp;<span class="ident" id="4844390">v</span>&nbsp;<span class="ident" id="4844392">reflect</span><span class="op" id="4844399">.</span><span class="ident" id="4844400">Value</span><span class="op" id="4844405">,</span>&nbsp;<span class="ident" id="4844407">length</span>&nbsp;<span class="builtintype" id="4844414">int</span><span class="op" id="4844417">,</span>&nbsp;<span class="ident" id="4844419">ovfl</span>&nbsp;<span class="builtintype" id="4844424">error</span><span class="op" id="4844429">)</span>&nbsp;<span class="builtintype" id="4844431">bool</span>&nbsp;<span class="op" id="4844436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4844439">slice</span><span class="op" id="4844444">,</span>&nbsp;<span class="ident" id="4844446">ok</span>&nbsp;<span class="op" id="4844449">:=</span>&nbsp;<span class="ident" id="4844452">v</span><span class="op" id="4844453">.</span><span class="ident" id="4844454">Interface</span><span class="op" id="4844463">(</span><span class="op" id="4844464">)</span><span class="op" id="4844465">.</span><span class="op" id="4844466">(</span><span class="op" id="4844467">[</span><span class="op" id="4844468">]</span><span class="builtintype" id="4844469">uintptr</span><span class="op" id="4844476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844479">if</span>&nbsp;<span class="op" id="4844482">!</span><span class="ident" id="4844483">ok</span>&nbsp;<span class="op" id="4844486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4844490">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844571">return</span>&nbsp;<span class="builtintype" id="4844578">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4844585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844588">for</span>&nbsp;<span class="ident" id="4844592">i</span>&nbsp;<span class="op" id="4844594">:=</span>&nbsp;<span class="num" id="4844597">0</span><span class="op" id="4844598">;</span>&nbsp;<span class="ident" id="4844600">i</span>&nbsp;<span class="op" id="4844602">&lt;</span>&nbsp;<span class="ident" id="4844604">length</span><span class="op" id="4844610">;</span>&nbsp;<span class="ident" id="4844612">i</span><span class="op" id="4844613">++</span>&nbsp;<span class="op" id="4844616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844620">if</span>&nbsp;<span class="ident" id="4844623">state</span><span class="op" id="4844628">.</span><span class="ident" id="4844629">b</span><span class="op" id="4844630">.</span><span class="ident" id="4844631">Len</span><span class="op" id="4844634">(</span><span class="op" id="4844635">)</span>&nbsp;<span class="op" id="4844637">==</span>&nbsp;<span class="num" id="4844640">0</span>&nbsp;<span class="op" id="4844642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4844647">errorf</span><span class="op" id="4844653">(</span><span class="string" id="4844654">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="4844728">,</span>&nbsp;<span class="ident" id="4844730">length</span><span class="op" id="4844736">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4844740">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4844744">x</span>&nbsp;<span class="op" id="4844746">:=</span>&nbsp;<span class="ident" id="4844749">state</span><span class="op" id="4844754">.</span><span class="ident" id="4844755">decodeUint</span><span class="op" id="4844765">(</span><span class="op" id="4844766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844770">if</span>&nbsp;<span class="ident" id="4844773">uint64</span><span class="op" id="4844779">(</span><span class="op" id="4844780">^</span><span class="builtintype" id="4844781">uintptr</span><span class="op" id="4844788">(</span><span class="num" id="4844789">0</span><span class="op" id="4844790">)</span><span class="op" id="4844791">)</span>&nbsp;<span class="op" id="4844793">&lt;</span>&nbsp;<span class="ident" id="4844795">x</span>&nbsp;<span class="op" id="4844797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4844802">error_</span><span class="op" id="4844808">(</span><span class="ident" id="4844809">ovfl</span><span class="op" id="4844813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4844817">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4844821">slice</span><span class="op" id="4844826">[</span><span class="ident" id="4844827">i</span><span class="op" id="4844828">]</span>&nbsp;<span class="op" id="4844830">=</span>&nbsp;<span class="builtintype" id="4844832">uintptr</span><span class="op" id="4844839">(</span><span class="ident" id="4844840">x</span><span class="op" id="4844841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4844844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4844847">return</span>&nbsp;<span class="builtintype" id="4844854">true</span><br>
<span class="lineno"></span><span class="op" id="4844859">}</span>
</div>
</body>
</html>
