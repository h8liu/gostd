<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7952610">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7952665">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7952719">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7952770">package</span>&nbsp;<span class="ident" id="7952778">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7952784">import</span>&nbsp;<span class="op" id="7952791">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7952794">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7952803">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7952818">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7952828">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7952831">const</span>&nbsp;<span class="op" id="7952837">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952840">dstw</span><span class="op" id="7952844">,</span>&nbsp;<span class="ident" id="7952846">dsth</span>&nbsp;<span class="op" id="7952851">=</span>&nbsp;<span class="num" id="7952853">640</span><span class="op" id="7952856">,</span>&nbsp;<span class="num" id="7952858">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7952863">srcw</span><span class="op" id="7952867">,</span>&nbsp;<span class="ident" id="7952869">srch</span>&nbsp;<span class="op" id="7952874">=</span>&nbsp;<span class="num" id="7952876">400</span><span class="op" id="7952879">,</span>&nbsp;<span class="num" id="7952881">300</span><br>
<span class="lineno"></span><span class="op" id="7952885">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7952888">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7952962">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="7953024">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="7953090">func</span>&nbsp;<span class="ident" id="7953095">bench</span><span class="op" id="7953100">(</span><span class="ident" id="7953101">b</span>&nbsp;<span class="op" id="7953103">*</span><span class="ident" id="7953104">testing</span><span class="op" id="7953111">.</span><span class="ident" id="7953112">B</span><span class="op" id="7953113">,</span>&nbsp;<span class="ident" id="7953115">dcm</span><span class="op" id="7953118">,</span>&nbsp;<span class="ident" id="7953120">scm</span><span class="op" id="7953123">,</span>&nbsp;<span class="ident" id="7953125">mcm</span>&nbsp;<span class="ident" id="7953129">color</span><span class="op" id="7953134">.</span><span class="ident" id="7953135">Model</span><span class="op" id="7953140">,</span>&nbsp;<span class="ident" id="7953142">op</span>&nbsp;<span class="ident" id="7953145">Op</span><span class="op" id="7953147">)</span>&nbsp;<span class="op" id="7953149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953152">b</span><span class="op" id="7953153">.</span><span class="ident" id="7953154">StopTimer</span><span class="op" id="7953163">(</span><span class="op" id="7953164">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953168">var</span>&nbsp;<span class="ident" id="7953172">dst</span>&nbsp;<span class="ident" id="7953176">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953183">switch</span>&nbsp;<span class="ident" id="7953190">dcm</span>&nbsp;<span class="op" id="7953194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953197">case</span>&nbsp;<span class="ident" id="7953202">color</span><span class="op" id="7953207">.</span><span class="ident" id="7953208">RGBAModel</span><span class="op" id="7953217">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953221">dst1</span>&nbsp;<span class="op" id="7953226">:=</span>&nbsp;<span class="ident" id="7953229">image</span><span class="op" id="7953234">.</span><span class="ident" id="7953235">NewRGBA</span><span class="op" id="7953242">(</span><span class="ident" id="7953243">image</span><span class="op" id="7953248">.</span><span class="ident" id="7953249">Rect</span><span class="op" id="7953253">(</span><span class="num" id="7953254">0</span><span class="op" id="7953255">,</span>&nbsp;<span class="num" id="7953257">0</span><span class="op" id="7953258">,</span>&nbsp;<span class="ident" id="7953260">dstw</span><span class="op" id="7953264">,</span>&nbsp;<span class="ident" id="7953266">dsth</span><span class="op" id="7953270">)</span><span class="op" id="7953271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953275">for</span>&nbsp;<span class="ident" id="7953279">y</span>&nbsp;<span class="op" id="7953281">:=</span>&nbsp;<span class="num" id="7953284">0</span><span class="op" id="7953285">;</span>&nbsp;<span class="ident" id="7953287">y</span>&nbsp;<span class="op" id="7953289">&lt;</span>&nbsp;<span class="ident" id="7953291">dsth</span><span class="op" id="7953295">;</span>&nbsp;<span class="ident" id="7953297">y</span><span class="op" id="7953298">++</span>&nbsp;<span class="op" id="7953301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953306">for</span>&nbsp;<span class="ident" id="7953310">x</span>&nbsp;<span class="op" id="7953312">:=</span>&nbsp;<span class="num" id="7953315">0</span><span class="op" id="7953316">;</span>&nbsp;<span class="ident" id="7953318">x</span>&nbsp;<span class="op" id="7953320">&lt;</span>&nbsp;<span class="ident" id="7953322">dstw</span><span class="op" id="7953326">;</span>&nbsp;<span class="ident" id="7953328">x</span><span class="op" id="7953329">++</span>&nbsp;<span class="op" id="7953332">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953338">dst1</span><span class="op" id="7953342">.</span><span class="ident" id="7953343">SetRGBA</span><span class="op" id="7953350">(</span><span class="ident" id="7953351">x</span><span class="op" id="7953352">,</span>&nbsp;<span class="ident" id="7953354">y</span><span class="op" id="7953355">,</span>&nbsp;<span class="ident" id="7953357">color</span><span class="op" id="7953362">.</span><span class="ident" id="7953363">RGBA</span><span class="op" id="7953367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7953374">uint8</span><span class="op" id="7953379">(</span><span class="num" id="7953380">5</span>&nbsp;<span class="op" id="7953382">*</span>&nbsp;<span class="ident" id="7953384">x</span>&nbsp;<span class="op" id="7953386">%</span>&nbsp;<span class="num" id="7953388">0x100</span><span class="op" id="7953393">)</span><span class="op" id="7953394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7953401">uint8</span><span class="op" id="7953406">(</span><span class="num" id="7953407">7</span>&nbsp;<span class="op" id="7953409">*</span>&nbsp;<span class="ident" id="7953411">y</span>&nbsp;<span class="op" id="7953413">%</span>&nbsp;<span class="num" id="7953415">0x100</span><span class="op" id="7953420">)</span><span class="op" id="7953421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7953428">uint8</span><span class="op" id="7953433">(</span><span class="op" id="7953434">(</span><span class="num" id="7953435">7</span><span class="op" id="7953436">*</span><span class="ident" id="7953437">x</span>&nbsp;<span class="op" id="7953439">+</span>&nbsp;<span class="num" id="7953441">5</span><span class="op" id="7953442">*</span><span class="ident" id="7953443">y</span><span class="op" id="7953444">)</span>&nbsp;<span class="op" id="7953446">%</span>&nbsp;<span class="num" id="7953448">0x100</span><span class="op" id="7953453">)</span><span class="op" id="7953454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7953461">0xff</span><span class="op" id="7953465">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953471">}</span><span class="op" id="7953472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953481">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953485">dst</span>&nbsp;<span class="op" id="7953489">=</span>&nbsp;<span class="ident" id="7953491">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953497">case</span>&nbsp;<span class="ident" id="7953502">color</span><span class="op" id="7953507">.</span><span class="ident" id="7953508">RGBA64Model</span><span class="op" id="7953519">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953523">dst1</span>&nbsp;<span class="op" id="7953528">:=</span>&nbsp;<span class="ident" id="7953531">image</span><span class="op" id="7953536">.</span><span class="ident" id="7953537">NewRGBA64</span><span class="op" id="7953546">(</span><span class="ident" id="7953547">image</span><span class="op" id="7953552">.</span><span class="ident" id="7953553">Rect</span><span class="op" id="7953557">(</span><span class="num" id="7953558">0</span><span class="op" id="7953559">,</span>&nbsp;<span class="num" id="7953561">0</span><span class="op" id="7953562">,</span>&nbsp;<span class="ident" id="7953564">dstw</span><span class="op" id="7953568">,</span>&nbsp;<span class="ident" id="7953570">dsth</span><span class="op" id="7953574">)</span><span class="op" id="7953575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953579">for</span>&nbsp;<span class="ident" id="7953583">y</span>&nbsp;<span class="op" id="7953585">:=</span>&nbsp;<span class="num" id="7953588">0</span><span class="op" id="7953589">;</span>&nbsp;<span class="ident" id="7953591">y</span>&nbsp;<span class="op" id="7953593">&lt;</span>&nbsp;<span class="ident" id="7953595">dsth</span><span class="op" id="7953599">;</span>&nbsp;<span class="ident" id="7953601">y</span><span class="op" id="7953602">++</span>&nbsp;<span class="op" id="7953605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953610">for</span>&nbsp;<span class="ident" id="7953614">x</span>&nbsp;<span class="op" id="7953616">:=</span>&nbsp;<span class="num" id="7953619">0</span><span class="op" id="7953620">;</span>&nbsp;<span class="ident" id="7953622">x</span>&nbsp;<span class="op" id="7953624">&lt;</span>&nbsp;<span class="ident" id="7953626">dstw</span><span class="op" id="7953630">;</span>&nbsp;<span class="ident" id="7953632">x</span><span class="op" id="7953633">++</span>&nbsp;<span class="op" id="7953636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953642">dst1</span><span class="op" id="7953646">.</span><span class="ident" id="7953647">SetRGBA64</span><span class="op" id="7953656">(</span><span class="ident" id="7953657">x</span><span class="op" id="7953658">,</span>&nbsp;<span class="ident" id="7953660">y</span><span class="op" id="7953661">,</span>&nbsp;<span class="ident" id="7953663">color</span><span class="op" id="7953668">.</span><span class="ident" id="7953669">RGBA64</span><span class="op" id="7953675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7953682">uint16</span><span class="op" id="7953688">(</span><span class="num" id="7953689">53</span>&nbsp;<span class="op" id="7953692">*</span>&nbsp;<span class="ident" id="7953694">x</span>&nbsp;<span class="op" id="7953696">%</span>&nbsp;<span class="num" id="7953698">0x10000</span><span class="op" id="7953705">)</span><span class="op" id="7953706">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7953713">uint16</span><span class="op" id="7953719">(</span><span class="num" id="7953720">59</span>&nbsp;<span class="op" id="7953723">*</span>&nbsp;<span class="ident" id="7953725">y</span>&nbsp;<span class="op" id="7953727">%</span>&nbsp;<span class="num" id="7953729">0x10000</span><span class="op" id="7953736">)</span><span class="op" id="7953737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7953744">uint16</span><span class="op" id="7953750">(</span><span class="op" id="7953751">(</span><span class="num" id="7953752">59</span><span class="op" id="7953754">*</span><span class="ident" id="7953755">x</span>&nbsp;<span class="op" id="7953757">+</span>&nbsp;<span class="num" id="7953759">53</span><span class="op" id="7953761">*</span><span class="ident" id="7953762">y</span><span class="op" id="7953763">)</span>&nbsp;<span class="op" id="7953765">%</span>&nbsp;<span class="num" id="7953767">0x10000</span><span class="op" id="7953774">)</span><span class="op" id="7953775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7953782">0xffff</span><span class="op" id="7953788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953794">}</span><span class="op" id="7953795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953800">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953808">dst</span>&nbsp;<span class="op" id="7953812">=</span>&nbsp;<span class="ident" id="7953814">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953820">default</span><span class="op" id="7953827">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953831">b</span><span class="op" id="7953832">.</span><span class="ident" id="7953833">Fatal</span><span class="op" id="7953838">(</span><span class="string" id="7953839">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="7953872">,</span>&nbsp;<span class="ident" id="7953874">dcm</span><span class="op" id="7953877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7953880">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953884">var</span>&nbsp;<span class="ident" id="7953888">src</span>&nbsp;<span class="ident" id="7953892">image</span><span class="op" id="7953897">.</span><span class="ident" id="7953898">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953905">switch</span>&nbsp;<span class="ident" id="7953912">scm</span>&nbsp;<span class="op" id="7953916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953919">case</span>&nbsp;<span class="ident" id="7953924">nil</span><span class="op" id="7953927">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7953931">src</span>&nbsp;<span class="op" id="7953935">=</span>&nbsp;<span class="op" id="7953937">&amp;</span><span class="ident" id="7953938">image</span><span class="op" id="7953943">.</span><span class="ident" id="7953944">Uniform</span><span class="op" id="7953951">{</span><span class="ident" id="7953952">C</span><span class="op" id="7953953">:</span>&nbsp;<span class="ident" id="7953955">color</span><span class="op" id="7953960">.</span><span class="ident" id="7953961">RGBA</span><span class="op" id="7953965">{</span><span class="num" id="7953966">0x11</span><span class="op" id="7953970">,</span>&nbsp;<span class="num" id="7953972">0x22</span><span class="op" id="7953976">,</span>&nbsp;<span class="num" id="7953978">0x33</span><span class="op" id="7953982">,</span>&nbsp;<span class="num" id="7953984">0xff</span><span class="op" id="7953988">}</span><span class="op" id="7953989">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7953992">case</span>&nbsp;<span class="ident" id="7953997">color</span><span class="op" id="7954002">.</span><span class="ident" id="7954003">RGBAModel</span><span class="op" id="7954012">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954016">src1</span>&nbsp;<span class="op" id="7954021">:=</span>&nbsp;<span class="ident" id="7954024">image</span><span class="op" id="7954029">.</span><span class="ident" id="7954030">NewRGBA</span><span class="op" id="7954037">(</span><span class="ident" id="7954038">image</span><span class="op" id="7954043">.</span><span class="ident" id="7954044">Rect</span><span class="op" id="7954048">(</span><span class="num" id="7954049">0</span><span class="op" id="7954050">,</span>&nbsp;<span class="num" id="7954052">0</span><span class="op" id="7954053">,</span>&nbsp;<span class="ident" id="7954055">srcw</span><span class="op" id="7954059">,</span>&nbsp;<span class="ident" id="7954061">srch</span><span class="op" id="7954065">)</span><span class="op" id="7954066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954070">for</span>&nbsp;<span class="ident" id="7954074">y</span>&nbsp;<span class="op" id="7954076">:=</span>&nbsp;<span class="num" id="7954079">0</span><span class="op" id="7954080">;</span>&nbsp;<span class="ident" id="7954082">y</span>&nbsp;<span class="op" id="7954084">&lt;</span>&nbsp;<span class="ident" id="7954086">srch</span><span class="op" id="7954090">;</span>&nbsp;<span class="ident" id="7954092">y</span><span class="op" id="7954093">++</span>&nbsp;<span class="op" id="7954096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954101">for</span>&nbsp;<span class="ident" id="7954105">x</span>&nbsp;<span class="op" id="7954107">:=</span>&nbsp;<span class="num" id="7954110">0</span><span class="op" id="7954111">;</span>&nbsp;<span class="ident" id="7954113">x</span>&nbsp;<span class="op" id="7954115">&lt;</span>&nbsp;<span class="ident" id="7954117">srcw</span><span class="op" id="7954121">;</span>&nbsp;<span class="ident" id="7954123">x</span><span class="op" id="7954124">++</span>&nbsp;<span class="op" id="7954127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954133">src1</span><span class="op" id="7954137">.</span><span class="ident" id="7954138">SetRGBA</span><span class="op" id="7954145">(</span><span class="ident" id="7954146">x</span><span class="op" id="7954147">,</span>&nbsp;<span class="ident" id="7954149">y</span><span class="op" id="7954150">,</span>&nbsp;<span class="ident" id="7954152">color</span><span class="op" id="7954157">.</span><span class="ident" id="7954158">RGBA</span><span class="op" id="7954162">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954169">uint8</span><span class="op" id="7954174">(</span><span class="num" id="7954175">13</span>&nbsp;<span class="op" id="7954178">*</span>&nbsp;<span class="ident" id="7954180">x</span>&nbsp;<span class="op" id="7954182">%</span>&nbsp;<span class="num" id="7954184">0x80</span><span class="op" id="7954188">)</span><span class="op" id="7954189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954196">uint8</span><span class="op" id="7954201">(</span><span class="num" id="7954202">11</span>&nbsp;<span class="op" id="7954205">*</span>&nbsp;<span class="ident" id="7954207">y</span>&nbsp;<span class="op" id="7954209">%</span>&nbsp;<span class="num" id="7954211">0x80</span><span class="op" id="7954215">)</span><span class="op" id="7954216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954223">uint8</span><span class="op" id="7954228">(</span><span class="op" id="7954229">(</span><span class="num" id="7954230">11</span><span class="op" id="7954232">*</span><span class="ident" id="7954233">x</span>&nbsp;<span class="op" id="7954235">+</span>&nbsp;<span class="num" id="7954237">13</span><span class="op" id="7954239">*</span><span class="ident" id="7954240">y</span><span class="op" id="7954241">)</span>&nbsp;<span class="op" id="7954243">%</span>&nbsp;<span class="num" id="7954245">0x80</span><span class="op" id="7954249">)</span><span class="op" id="7954250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7954257">0x7f</span><span class="op" id="7954261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954267">}</span><span class="op" id="7954268">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954281">src</span>&nbsp;<span class="op" id="7954285">=</span>&nbsp;<span class="ident" id="7954287">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954293">case</span>&nbsp;<span class="ident" id="7954298">color</span><span class="op" id="7954303">.</span><span class="ident" id="7954304">RGBA64Model</span><span class="op" id="7954315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954319">src1</span>&nbsp;<span class="op" id="7954324">:=</span>&nbsp;<span class="ident" id="7954327">image</span><span class="op" id="7954332">.</span><span class="ident" id="7954333">NewRGBA64</span><span class="op" id="7954342">(</span><span class="ident" id="7954343">image</span><span class="op" id="7954348">.</span><span class="ident" id="7954349">Rect</span><span class="op" id="7954353">(</span><span class="num" id="7954354">0</span><span class="op" id="7954355">,</span>&nbsp;<span class="num" id="7954357">0</span><span class="op" id="7954358">,</span>&nbsp;<span class="ident" id="7954360">srcw</span><span class="op" id="7954364">,</span>&nbsp;<span class="ident" id="7954366">srch</span><span class="op" id="7954370">)</span><span class="op" id="7954371">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954375">for</span>&nbsp;<span class="ident" id="7954379">y</span>&nbsp;<span class="op" id="7954381">:=</span>&nbsp;<span class="num" id="7954384">0</span><span class="op" id="7954385">;</span>&nbsp;<span class="ident" id="7954387">y</span>&nbsp;<span class="op" id="7954389">&lt;</span>&nbsp;<span class="ident" id="7954391">srch</span><span class="op" id="7954395">;</span>&nbsp;<span class="ident" id="7954397">y</span><span class="op" id="7954398">++</span>&nbsp;<span class="op" id="7954401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954406">for</span>&nbsp;<span class="ident" id="7954410">x</span>&nbsp;<span class="op" id="7954412">:=</span>&nbsp;<span class="num" id="7954415">0</span><span class="op" id="7954416">;</span>&nbsp;<span class="ident" id="7954418">x</span>&nbsp;<span class="op" id="7954420">&lt;</span>&nbsp;<span class="ident" id="7954422">srcw</span><span class="op" id="7954426">;</span>&nbsp;<span class="ident" id="7954428">x</span><span class="op" id="7954429">++</span>&nbsp;<span class="op" id="7954432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954438">src1</span><span class="op" id="7954442">.</span><span class="ident" id="7954443">SetRGBA64</span><span class="op" id="7954452">(</span><span class="ident" id="7954453">x</span><span class="op" id="7954454">,</span>&nbsp;<span class="ident" id="7954456">y</span><span class="op" id="7954457">,</span>&nbsp;<span class="ident" id="7954459">color</span><span class="op" id="7954464">.</span><span class="ident" id="7954465">RGBA64</span><span class="op" id="7954471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954478">uint16</span><span class="op" id="7954484">(</span><span class="num" id="7954485">103</span>&nbsp;<span class="op" id="7954489">*</span>&nbsp;<span class="ident" id="7954491">x</span>&nbsp;<span class="op" id="7954493">%</span>&nbsp;<span class="num" id="7954495">0x8000</span><span class="op" id="7954501">)</span><span class="op" id="7954502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954509">uint16</span><span class="op" id="7954515">(</span><span class="num" id="7954516">101</span>&nbsp;<span class="op" id="7954520">*</span>&nbsp;<span class="ident" id="7954522">y</span>&nbsp;<span class="op" id="7954524">%</span>&nbsp;<span class="num" id="7954526">0x8000</span><span class="op" id="7954532">)</span><span class="op" id="7954533">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954540">uint16</span><span class="op" id="7954546">(</span><span class="op" id="7954547">(</span><span class="num" id="7954548">101</span><span class="op" id="7954551">*</span><span class="ident" id="7954552">x</span>&nbsp;<span class="op" id="7954554">+</span>&nbsp;<span class="num" id="7954556">103</span><span class="op" id="7954559">*</span><span class="ident" id="7954560">y</span><span class="op" id="7954561">)</span>&nbsp;<span class="op" id="7954563">%</span>&nbsp;<span class="num" id="7954565">0x8000</span><span class="op" id="7954571">)</span><span class="op" id="7954572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7954579">0x7fff</span><span class="op" id="7954585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954591">}</span><span class="op" id="7954592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954601">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954605">src</span>&nbsp;<span class="op" id="7954609">=</span>&nbsp;<span class="ident" id="7954611">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954617">case</span>&nbsp;<span class="ident" id="7954622">color</span><span class="op" id="7954627">.</span><span class="ident" id="7954628">NRGBAModel</span><span class="op" id="7954638">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954642">src1</span>&nbsp;<span class="op" id="7954647">:=</span>&nbsp;<span class="ident" id="7954650">image</span><span class="op" id="7954655">.</span><span class="ident" id="7954656">NewNRGBA</span><span class="op" id="7954664">(</span><span class="ident" id="7954665">image</span><span class="op" id="7954670">.</span><span class="ident" id="7954671">Rect</span><span class="op" id="7954675">(</span><span class="num" id="7954676">0</span><span class="op" id="7954677">,</span>&nbsp;<span class="num" id="7954679">0</span><span class="op" id="7954680">,</span>&nbsp;<span class="ident" id="7954682">srcw</span><span class="op" id="7954686">,</span>&nbsp;<span class="ident" id="7954688">srch</span><span class="op" id="7954692">)</span><span class="op" id="7954693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954697">for</span>&nbsp;<span class="ident" id="7954701">y</span>&nbsp;<span class="op" id="7954703">:=</span>&nbsp;<span class="num" id="7954706">0</span><span class="op" id="7954707">;</span>&nbsp;<span class="ident" id="7954709">y</span>&nbsp;<span class="op" id="7954711">&lt;</span>&nbsp;<span class="ident" id="7954713">srch</span><span class="op" id="7954717">;</span>&nbsp;<span class="ident" id="7954719">y</span><span class="op" id="7954720">++</span>&nbsp;<span class="op" id="7954723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954728">for</span>&nbsp;<span class="ident" id="7954732">x</span>&nbsp;<span class="op" id="7954734">:=</span>&nbsp;<span class="num" id="7954737">0</span><span class="op" id="7954738">;</span>&nbsp;<span class="ident" id="7954740">x</span>&nbsp;<span class="op" id="7954742">&lt;</span>&nbsp;<span class="ident" id="7954744">srcw</span><span class="op" id="7954748">;</span>&nbsp;<span class="ident" id="7954750">x</span><span class="op" id="7954751">++</span>&nbsp;<span class="op" id="7954754">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954760">src1</span><span class="op" id="7954764">.</span><span class="ident" id="7954765">SetNRGBA</span><span class="op" id="7954773">(</span><span class="ident" id="7954774">x</span><span class="op" id="7954775">,</span>&nbsp;<span class="ident" id="7954777">y</span><span class="op" id="7954778">,</span>&nbsp;<span class="ident" id="7954780">color</span><span class="op" id="7954785">.</span><span class="ident" id="7954786">NRGBA</span><span class="op" id="7954791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954798">uint8</span><span class="op" id="7954803">(</span><span class="num" id="7954804">13</span>&nbsp;<span class="op" id="7954807">*</span>&nbsp;<span class="ident" id="7954809">x</span>&nbsp;<span class="op" id="7954811">%</span>&nbsp;<span class="num" id="7954813">0x100</span><span class="op" id="7954818">)</span><span class="op" id="7954819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954826">uint8</span><span class="op" id="7954831">(</span><span class="num" id="7954832">11</span>&nbsp;<span class="op" id="7954835">*</span>&nbsp;<span class="ident" id="7954837">y</span>&nbsp;<span class="op" id="7954839">%</span>&nbsp;<span class="num" id="7954841">0x100</span><span class="op" id="7954846">)</span><span class="op" id="7954847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7954854">uint8</span><span class="op" id="7954859">(</span><span class="op" id="7954860">(</span><span class="num" id="7954861">11</span><span class="op" id="7954863">*</span><span class="ident" id="7954864">x</span>&nbsp;<span class="op" id="7954866">+</span>&nbsp;<span class="num" id="7954868">13</span><span class="op" id="7954870">*</span><span class="ident" id="7954871">y</span><span class="op" id="7954872">)</span>&nbsp;<span class="op" id="7954874">%</span>&nbsp;<span class="num" id="7954876">0x100</span><span class="op" id="7954881">)</span><span class="op" id="7954882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7954889">0x7f</span><span class="op" id="7954893">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954899">}</span><span class="op" id="7954900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7954909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954913">src</span>&nbsp;<span class="op" id="7954917">=</span>&nbsp;<span class="ident" id="7954919">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7954925">case</span>&nbsp;<span class="ident" id="7954930">color</span><span class="op" id="7954935">.</span><span class="ident" id="7954936">YCbCrModel</span><span class="op" id="7954946">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954950">yy</span>&nbsp;<span class="op" id="7954953">:=</span>&nbsp;<span class="builtinfunc" id="7954956">make</span><span class="op" id="7954960">(</span><span class="op" id="7954961">[</span><span class="op" id="7954962">]</span><span class="builtintype" id="7954963">uint8</span><span class="op" id="7954968">,</span>&nbsp;<span class="ident" id="7954970">srcw</span><span class="op" id="7954974">*</span><span class="ident" id="7954975">srch</span><span class="op" id="7954979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7954983">cb</span>&nbsp;<span class="op" id="7954986">:=</span>&nbsp;<span class="builtinfunc" id="7954989">make</span><span class="op" id="7954993">(</span><span class="op" id="7954994">[</span><span class="op" id="7954995">]</span><span class="builtintype" id="7954996">uint8</span><span class="op" id="7955001">,</span>&nbsp;<span class="ident" id="7955003">srcw</span><span class="op" id="7955007">*</span><span class="ident" id="7955008">srch</span><span class="op" id="7955012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955016">cr</span>&nbsp;<span class="op" id="7955019">:=</span>&nbsp;<span class="builtinfunc" id="7955022">make</span><span class="op" id="7955026">(</span><span class="op" id="7955027">[</span><span class="op" id="7955028">]</span><span class="builtintype" id="7955029">uint8</span><span class="op" id="7955034">,</span>&nbsp;<span class="ident" id="7955036">srcw</span><span class="op" id="7955040">*</span><span class="ident" id="7955041">srch</span><span class="op" id="7955045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955049">for</span>&nbsp;<span class="ident" id="7955053">i</span>&nbsp;<span class="op" id="7955055">:=</span>&nbsp;<span class="keyword" id="7955058">range</span>&nbsp;<span class="ident" id="7955064">yy</span>&nbsp;<span class="op" id="7955067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955072">yy</span><span class="op" id="7955074">[</span><span class="ident" id="7955075">i</span><span class="op" id="7955076">]</span>&nbsp;<span class="op" id="7955078">=</span>&nbsp;<span class="builtintype" id="7955080">uint8</span><span class="op" id="7955085">(</span><span class="num" id="7955086">3</span>&nbsp;<span class="op" id="7955088">*</span>&nbsp;<span class="ident" id="7955090">i</span>&nbsp;<span class="op" id="7955092">%</span>&nbsp;<span class="num" id="7955094">0x100</span><span class="op" id="7955099">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955104">cb</span><span class="op" id="7955106">[</span><span class="ident" id="7955107">i</span><span class="op" id="7955108">]</span>&nbsp;<span class="op" id="7955110">=</span>&nbsp;<span class="builtintype" id="7955112">uint8</span><span class="op" id="7955117">(</span><span class="num" id="7955118">5</span>&nbsp;<span class="op" id="7955120">*</span>&nbsp;<span class="ident" id="7955122">i</span>&nbsp;<span class="op" id="7955124">%</span>&nbsp;<span class="num" id="7955126">0x100</span><span class="op" id="7955131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955136">cr</span><span class="op" id="7955138">[</span><span class="ident" id="7955139">i</span><span class="op" id="7955140">]</span>&nbsp;<span class="op" id="7955142">=</span>&nbsp;<span class="builtintype" id="7955144">uint8</span><span class="op" id="7955149">(</span><span class="num" id="7955150">7</span>&nbsp;<span class="op" id="7955152">*</span>&nbsp;<span class="ident" id="7955154">i</span>&nbsp;<span class="op" id="7955156">%</span>&nbsp;<span class="num" id="7955158">0x100</span><span class="op" id="7955163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955171">src</span>&nbsp;<span class="op" id="7955175">=</span>&nbsp;<span class="op" id="7955177">&amp;</span><span class="ident" id="7955178">image</span><span class="op" id="7955183">.</span><span class="ident" id="7955184">YCbCr</span><span class="op" id="7955189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955194">Y</span><span class="op" id="7955195">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7955210">yy</span><span class="op" id="7955212">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955217">Cb</span><span class="op" id="7955219">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7955233">cb</span><span class="op" id="7955235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955240">Cr</span><span class="op" id="7955242">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7955256">cr</span><span class="op" id="7955258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955263">YStride</span><span class="op" id="7955270">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7955279">srcw</span><span class="op" id="7955283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955288">CStride</span><span class="op" id="7955295">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7955304">srcw</span><span class="op" id="7955308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955313">SubsampleRatio</span><span class="op" id="7955327">:</span>&nbsp;<span class="ident" id="7955329">image</span><span class="op" id="7955334">.</span><span class="ident" id="7955335">YCbCrSubsampleRatio444</span><span class="op" id="7955357">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955362">Rect</span><span class="op" id="7955366">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7955378">image</span><span class="op" id="7955383">.</span><span class="ident" id="7955384">Rect</span><span class="op" id="7955388">(</span><span class="num" id="7955389">0</span><span class="op" id="7955390">,</span>&nbsp;<span class="num" id="7955392">0</span><span class="op" id="7955393">,</span>&nbsp;<span class="ident" id="7955395">srcw</span><span class="op" id="7955399">,</span>&nbsp;<span class="ident" id="7955401">srch</span><span class="op" id="7955405">)</span><span class="op" id="7955406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955413">default</span><span class="op" id="7955420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955424">b</span><span class="op" id="7955425">.</span><span class="ident" id="7955426">Fatal</span><span class="op" id="7955431">(</span><span class="string" id="7955432">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="7955460">,</span>&nbsp;<span class="ident" id="7955462">scm</span><span class="op" id="7955465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955468">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955472">var</span>&nbsp;<span class="ident" id="7955476">mask</span>&nbsp;<span class="ident" id="7955481">image</span><span class="op" id="7955486">.</span><span class="ident" id="7955487">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955494">switch</span>&nbsp;<span class="ident" id="7955501">mcm</span>&nbsp;<span class="op" id="7955505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955508">case</span>&nbsp;<span class="ident" id="7955513">nil</span><span class="op" id="7955516">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7955520">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955531">case</span>&nbsp;<span class="ident" id="7955536">color</span><span class="op" id="7955541">.</span><span class="ident" id="7955542">AlphaModel</span><span class="op" id="7955552">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955556">mask1</span>&nbsp;<span class="op" id="7955562">:=</span>&nbsp;<span class="ident" id="7955565">image</span><span class="op" id="7955570">.</span><span class="ident" id="7955571">NewAlpha</span><span class="op" id="7955579">(</span><span class="ident" id="7955580">image</span><span class="op" id="7955585">.</span><span class="ident" id="7955586">Rect</span><span class="op" id="7955590">(</span><span class="num" id="7955591">0</span><span class="op" id="7955592">,</span>&nbsp;<span class="num" id="7955594">0</span><span class="op" id="7955595">,</span>&nbsp;<span class="ident" id="7955597">srcw</span><span class="op" id="7955601">,</span>&nbsp;<span class="ident" id="7955603">srch</span><span class="op" id="7955607">)</span><span class="op" id="7955608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955612">for</span>&nbsp;<span class="ident" id="7955616">y</span>&nbsp;<span class="op" id="7955618">:=</span>&nbsp;<span class="num" id="7955621">0</span><span class="op" id="7955622">;</span>&nbsp;<span class="ident" id="7955624">y</span>&nbsp;<span class="op" id="7955626">&lt;</span>&nbsp;<span class="ident" id="7955628">srch</span><span class="op" id="7955632">;</span>&nbsp;<span class="ident" id="7955634">y</span><span class="op" id="7955635">++</span>&nbsp;<span class="op" id="7955638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955643">for</span>&nbsp;<span class="ident" id="7955647">x</span>&nbsp;<span class="op" id="7955649">:=</span>&nbsp;<span class="num" id="7955652">0</span><span class="op" id="7955653">;</span>&nbsp;<span class="ident" id="7955655">x</span>&nbsp;<span class="op" id="7955657">&lt;</span>&nbsp;<span class="ident" id="7955659">srcw</span><span class="op" id="7955663">;</span>&nbsp;<span class="ident" id="7955665">x</span><span class="op" id="7955666">++</span>&nbsp;<span class="op" id="7955669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955675">a</span>&nbsp;<span class="op" id="7955677">:=</span>&nbsp;<span class="builtintype" id="7955680">uint8</span><span class="op" id="7955685">(</span><span class="op" id="7955686">(</span><span class="num" id="7955687">23</span><span class="op" id="7955689">*</span><span class="ident" id="7955690">x</span>&nbsp;<span class="op" id="7955692">+</span>&nbsp;<span class="num" id="7955694">29</span><span class="op" id="7955696">*</span><span class="ident" id="7955697">y</span><span class="op" id="7955698">)</span>&nbsp;<span class="op" id="7955700">%</span>&nbsp;<span class="num" id="7955702">0x100</span><span class="op" id="7955707">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7955713">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7955759">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955810">if</span>&nbsp;<span class="ident" id="7955813">a</span>&nbsp;<span class="op" id="7955815">&gt;=</span>&nbsp;<span class="num" id="7955818">0xc0</span>&nbsp;<span class="op" id="7955823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955830">mask1</span><span class="op" id="7955835">.</span><span class="ident" id="7955836">SetAlpha</span><span class="op" id="7955844">(</span><span class="ident" id="7955845">x</span><span class="op" id="7955846">,</span>&nbsp;<span class="ident" id="7955848">y</span><span class="op" id="7955849">,</span>&nbsp;<span class="ident" id="7955851">color</span><span class="op" id="7955856">.</span><span class="ident" id="7955857">Alpha</span><span class="op" id="7955862">{</span><span class="ident" id="7955863">a</span><span class="op" id="7955864">}</span><span class="op" id="7955865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955871">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955884">mask</span>&nbsp;<span class="op" id="7955889">=</span>&nbsp;<span class="ident" id="7955891">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955898">default</span><span class="op" id="7955905">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955909">b</span><span class="op" id="7955910">.</span><span class="ident" id="7955911">Fatal</span><span class="op" id="7955916">(</span><span class="string" id="7955917">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="7955943">,</span>&nbsp;<span class="ident" id="7955945">mcm</span><span class="op" id="7955948">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7955951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7955955">b</span><span class="op" id="7955956">.</span><span class="ident" id="7955957">StartTimer</span><span class="op" id="7955967">(</span><span class="op" id="7955968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7955971">for</span>&nbsp;<span class="ident" id="7955975">i</span>&nbsp;<span class="op" id="7955977">:=</span>&nbsp;<span class="num" id="7955980">0</span><span class="op" id="7955981">;</span>&nbsp;<span class="ident" id="7955983">i</span>&nbsp;<span class="op" id="7955985">&lt;</span>&nbsp;<span class="ident" id="7955987">b</span><span class="op" id="7955988">.</span><span class="ident" id="7955989">N</span><span class="op" id="7955990">;</span>&nbsp;<span class="ident" id="7955992">i</span><span class="op" id="7955993">++</span>&nbsp;<span class="op" id="7955996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7956000">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956053">x</span>&nbsp;<span class="op" id="7956055">:=</span>&nbsp;<span class="num" id="7956058">3</span>&nbsp;<span class="op" id="7956060">*</span>&nbsp;<span class="ident" id="7956062">i</span>&nbsp;<span class="op" id="7956064">%</span>&nbsp;<span class="op" id="7956066">(</span><span class="ident" id="7956067">dstw</span>&nbsp;<span class="op" id="7956072">-</span>&nbsp;<span class="ident" id="7956074">srcw</span><span class="op" id="7956078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956082">y</span>&nbsp;<span class="op" id="7956084">:=</span>&nbsp;<span class="num" id="7956087">7</span>&nbsp;<span class="op" id="7956089">*</span>&nbsp;<span class="ident" id="7956091">i</span>&nbsp;<span class="op" id="7956093">%</span>&nbsp;<span class="op" id="7956095">(</span><span class="ident" id="7956096">dsth</span>&nbsp;<span class="op" id="7956101">-</span>&nbsp;<span class="ident" id="7956103">srch</span><span class="op" id="7956107">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956112">DrawMask</span><span class="op" id="7956120">(</span><span class="ident" id="7956121">dst</span><span class="op" id="7956124">,</span>&nbsp;<span class="ident" id="7956126">dst</span><span class="op" id="7956129">.</span><span class="ident" id="7956130">Bounds</span><span class="op" id="7956136">(</span><span class="op" id="7956137">)</span><span class="op" id="7956138">.</span><span class="ident" id="7956139">Add</span><span class="op" id="7956142">(</span><span class="ident" id="7956143">image</span><span class="op" id="7956148">.</span><span class="ident" id="7956149">Pt</span><span class="op" id="7956151">(</span><span class="ident" id="7956152">x</span><span class="op" id="7956153">,</span>&nbsp;<span class="ident" id="7956155">y</span><span class="op" id="7956156">)</span><span class="op" id="7956157">)</span><span class="op" id="7956158">,</span>&nbsp;<span class="ident" id="7956160">src</span><span class="op" id="7956163">,</span>&nbsp;<span class="ident" id="7956165">image</span><span class="op" id="7956170">.</span><span class="ident" id="7956171">ZP</span><span class="op" id="7956173">,</span>&nbsp;<span class="ident" id="7956175">mask</span><span class="op" id="7956179">,</span>&nbsp;<span class="ident" id="7956181">image</span><span class="op" id="7956186">.</span><span class="ident" id="7956187">ZP</span><span class="op" id="7956189">,</span>&nbsp;<span class="ident" id="7956191">op</span><span class="op" id="7956193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7956196">}</span><br>
<span class="lineno">150</span><span class="op" id="7956198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7956201">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956282">func</span>&nbsp;<span class="ident" id="7956287">BenchmarkFillOver</span><span class="op" id="7956304">(</span><span class="ident" id="7956305">b</span>&nbsp;<span class="op" id="7956307">*</span><span class="ident" id="7956308">testing</span><span class="op" id="7956315">.</span><span class="ident" id="7956316">B</span><span class="op" id="7956317">)</span>&nbsp;<span class="op" id="7956319">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956322">bench</span><span class="op" id="7956327">(</span><span class="ident" id="7956328">b</span><span class="op" id="7956329">,</span>&nbsp;<span class="ident" id="7956331">color</span><span class="op" id="7956336">.</span><span class="ident" id="7956337">RGBAModel</span><span class="op" id="7956346">,</span>&nbsp;<span class="ident" id="7956348">nil</span><span class="op" id="7956351">,</span>&nbsp;<span class="ident" id="7956353">nil</span><span class="op" id="7956356">,</span>&nbsp;<span class="ident" id="7956358">Over</span><span class="op" id="7956362">)</span><br>
<span class="lineno"></span><span class="op" id="7956364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956367">func</span>&nbsp;<span class="ident" id="7956372">BenchmarkFillSrc</span><span class="op" id="7956388">(</span><span class="ident" id="7956389">b</span>&nbsp;<span class="op" id="7956391">*</span><span class="ident" id="7956392">testing</span><span class="op" id="7956399">.</span><span class="ident" id="7956400">B</span><span class="op" id="7956401">)</span>&nbsp;<span class="op" id="7956403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956406">bench</span><span class="op" id="7956411">(</span><span class="ident" id="7956412">b</span><span class="op" id="7956413">,</span>&nbsp;<span class="ident" id="7956415">color</span><span class="op" id="7956420">.</span><span class="ident" id="7956421">RGBAModel</span><span class="op" id="7956430">,</span>&nbsp;<span class="ident" id="7956432">nil</span><span class="op" id="7956435">,</span>&nbsp;<span class="ident" id="7956437">nil</span><span class="op" id="7956440">,</span>&nbsp;<span class="ident" id="7956442">Src</span><span class="op" id="7956445">)</span><br>
<span class="lineno">160</span><span class="op" id="7956447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956450">func</span>&nbsp;<span class="ident" id="7956455">BenchmarkCopyOver</span><span class="op" id="7956472">(</span><span class="ident" id="7956473">b</span>&nbsp;<span class="op" id="7956475">*</span><span class="ident" id="7956476">testing</span><span class="op" id="7956483">.</span><span class="ident" id="7956484">B</span><span class="op" id="7956485">)</span>&nbsp;<span class="op" id="7956487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956490">bench</span><span class="op" id="7956495">(</span><span class="ident" id="7956496">b</span><span class="op" id="7956497">,</span>&nbsp;<span class="ident" id="7956499">color</span><span class="op" id="7956504">.</span><span class="ident" id="7956505">RGBAModel</span><span class="op" id="7956514">,</span>&nbsp;<span class="ident" id="7956516">color</span><span class="op" id="7956521">.</span><span class="ident" id="7956522">RGBAModel</span><span class="op" id="7956531">,</span>&nbsp;<span class="ident" id="7956533">nil</span><span class="op" id="7956536">,</span>&nbsp;<span class="ident" id="7956538">Over</span><span class="op" id="7956542">)</span><br>
<span class="lineno"></span><span class="op" id="7956544">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="7956547">func</span>&nbsp;<span class="ident" id="7956552">BenchmarkCopySrc</span><span class="op" id="7956568">(</span><span class="ident" id="7956569">b</span>&nbsp;<span class="op" id="7956571">*</span><span class="ident" id="7956572">testing</span><span class="op" id="7956579">.</span><span class="ident" id="7956580">B</span><span class="op" id="7956581">)</span>&nbsp;<span class="op" id="7956583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956586">bench</span><span class="op" id="7956591">(</span><span class="ident" id="7956592">b</span><span class="op" id="7956593">,</span>&nbsp;<span class="ident" id="7956595">color</span><span class="op" id="7956600">.</span><span class="ident" id="7956601">RGBAModel</span><span class="op" id="7956610">,</span>&nbsp;<span class="ident" id="7956612">color</span><span class="op" id="7956617">.</span><span class="ident" id="7956618">RGBAModel</span><span class="op" id="7956627">,</span>&nbsp;<span class="ident" id="7956629">nil</span><span class="op" id="7956632">,</span>&nbsp;<span class="ident" id="7956634">Src</span><span class="op" id="7956637">)</span><br>
<span class="lineno"></span><span class="op" id="7956639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="7956642">func</span>&nbsp;<span class="ident" id="7956647">BenchmarkNRGBAOver</span><span class="op" id="7956665">(</span><span class="ident" id="7956666">b</span>&nbsp;<span class="op" id="7956668">*</span><span class="ident" id="7956669">testing</span><span class="op" id="7956676">.</span><span class="ident" id="7956677">B</span><span class="op" id="7956678">)</span>&nbsp;<span class="op" id="7956680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956683">bench</span><span class="op" id="7956688">(</span><span class="ident" id="7956689">b</span><span class="op" id="7956690">,</span>&nbsp;<span class="ident" id="7956692">color</span><span class="op" id="7956697">.</span><span class="ident" id="7956698">RGBAModel</span><span class="op" id="7956707">,</span>&nbsp;<span class="ident" id="7956709">color</span><span class="op" id="7956714">.</span><span class="ident" id="7956715">NRGBAModel</span><span class="op" id="7956725">,</span>&nbsp;<span class="ident" id="7956727">nil</span><span class="op" id="7956730">,</span>&nbsp;<span class="ident" id="7956732">Over</span><span class="op" id="7956736">)</span><br>
<span class="lineno"></span><span class="op" id="7956738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956741">func</span>&nbsp;<span class="ident" id="7956746">BenchmarkNRGBASrc</span><span class="op" id="7956763">(</span><span class="ident" id="7956764">b</span>&nbsp;<span class="op" id="7956766">*</span><span class="ident" id="7956767">testing</span><span class="op" id="7956774">.</span><span class="ident" id="7956775">B</span><span class="op" id="7956776">)</span>&nbsp;<span class="op" id="7956778">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956781">bench</span><span class="op" id="7956786">(</span><span class="ident" id="7956787">b</span><span class="op" id="7956788">,</span>&nbsp;<span class="ident" id="7956790">color</span><span class="op" id="7956795">.</span><span class="ident" id="7956796">RGBAModel</span><span class="op" id="7956805">,</span>&nbsp;<span class="ident" id="7956807">color</span><span class="op" id="7956812">.</span><span class="ident" id="7956813">NRGBAModel</span><span class="op" id="7956823">,</span>&nbsp;<span class="ident" id="7956825">nil</span><span class="op" id="7956828">,</span>&nbsp;<span class="ident" id="7956830">Src</span><span class="op" id="7956833">)</span><br>
<span class="lineno"></span><span class="op" id="7956835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956838">func</span>&nbsp;<span class="ident" id="7956843">BenchmarkYCbCr</span><span class="op" id="7956857">(</span><span class="ident" id="7956858">b</span>&nbsp;<span class="op" id="7956860">*</span><span class="ident" id="7956861">testing</span><span class="op" id="7956868">.</span><span class="ident" id="7956869">B</span><span class="op" id="7956870">)</span>&nbsp;<span class="op" id="7956872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956875">bench</span><span class="op" id="7956880">(</span><span class="ident" id="7956881">b</span><span class="op" id="7956882">,</span>&nbsp;<span class="ident" id="7956884">color</span><span class="op" id="7956889">.</span><span class="ident" id="7956890">RGBAModel</span><span class="op" id="7956899">,</span>&nbsp;<span class="ident" id="7956901">color</span><span class="op" id="7956906">.</span><span class="ident" id="7956907">YCbCrModel</span><span class="op" id="7956917">,</span>&nbsp;<span class="ident" id="7956919">nil</span><span class="op" id="7956922">,</span>&nbsp;<span class="ident" id="7956924">Over</span><span class="op" id="7956928">)</span><br>
<span class="lineno">180</span><span class="op" id="7956930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7956933">func</span>&nbsp;<span class="ident" id="7956938">BenchmarkGlyphOver</span><span class="op" id="7956956">(</span><span class="ident" id="7956957">b</span>&nbsp;<span class="op" id="7956959">*</span><span class="ident" id="7956960">testing</span><span class="op" id="7956967">.</span><span class="ident" id="7956968">B</span><span class="op" id="7956969">)</span>&nbsp;<span class="op" id="7956971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7956974">bench</span><span class="op" id="7956979">(</span><span class="ident" id="7956980">b</span><span class="op" id="7956981">,</span>&nbsp;<span class="ident" id="7956983">color</span><span class="op" id="7956988">.</span><span class="ident" id="7956989">RGBAModel</span><span class="op" id="7956998">,</span>&nbsp;<span class="ident" id="7957000">nil</span><span class="op" id="7957003">,</span>&nbsp;<span class="ident" id="7957005">color</span><span class="op" id="7957010">.</span><span class="ident" id="7957011">AlphaModel</span><span class="op" id="7957021">,</span>&nbsp;<span class="ident" id="7957023">Over</span><span class="op" id="7957027">)</span><br>
<span class="lineno"></span><span class="op" id="7957029">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="7957032">func</span>&nbsp;<span class="ident" id="7957037">BenchmarkRGBA</span><span class="op" id="7957050">(</span><span class="ident" id="7957051">b</span>&nbsp;<span class="op" id="7957053">*</span><span class="ident" id="7957054">testing</span><span class="op" id="7957061">.</span><span class="ident" id="7957062">B</span><span class="op" id="7957063">)</span>&nbsp;<span class="op" id="7957065">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957068">bench</span><span class="op" id="7957073">(</span><span class="ident" id="7957074">b</span><span class="op" id="7957075">,</span>&nbsp;<span class="ident" id="7957077">color</span><span class="op" id="7957082">.</span><span class="ident" id="7957083">RGBAModel</span><span class="op" id="7957092">,</span>&nbsp;<span class="ident" id="7957094">color</span><span class="op" id="7957099">.</span><span class="ident" id="7957100">RGBA64Model</span><span class="op" id="7957111">,</span>&nbsp;<span class="ident" id="7957113">nil</span><span class="op" id="7957116">,</span>&nbsp;<span class="ident" id="7957118">Src</span><span class="op" id="7957121">)</span><br>
<span class="lineno"></span><span class="op" id="7957123">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="7957126">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7957202">func</span>&nbsp;<span class="ident" id="7957207">BenchmarkGenericOver</span><span class="op" id="7957227">(</span><span class="ident" id="7957228">b</span>&nbsp;<span class="op" id="7957230">*</span><span class="ident" id="7957231">testing</span><span class="op" id="7957238">.</span><span class="ident" id="7957239">B</span><span class="op" id="7957240">)</span>&nbsp;<span class="op" id="7957242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957245">bench</span><span class="op" id="7957250">(</span><span class="ident" id="7957251">b</span><span class="op" id="7957252">,</span>&nbsp;<span class="ident" id="7957254">color</span><span class="op" id="7957259">.</span><span class="ident" id="7957260">RGBA64Model</span><span class="op" id="7957271">,</span>&nbsp;<span class="ident" id="7957273">color</span><span class="op" id="7957278">.</span><span class="ident" id="7957279">RGBA64Model</span><span class="op" id="7957290">,</span>&nbsp;<span class="ident" id="7957292">nil</span><span class="op" id="7957295">,</span>&nbsp;<span class="ident" id="7957297">Over</span><span class="op" id="7957301">)</span><br>
<span class="lineno"></span><span class="op" id="7957303">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="7957306">func</span>&nbsp;<span class="ident" id="7957311">BenchmarkGenericMaskOver</span><span class="op" id="7957335">(</span><span class="ident" id="7957336">b</span>&nbsp;<span class="op" id="7957338">*</span><span class="ident" id="7957339">testing</span><span class="op" id="7957346">.</span><span class="ident" id="7957347">B</span><span class="op" id="7957348">)</span>&nbsp;<span class="op" id="7957350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957353">bench</span><span class="op" id="7957358">(</span><span class="ident" id="7957359">b</span><span class="op" id="7957360">,</span>&nbsp;<span class="ident" id="7957362">color</span><span class="op" id="7957367">.</span><span class="ident" id="7957368">RGBA64Model</span><span class="op" id="7957379">,</span>&nbsp;<span class="ident" id="7957381">color</span><span class="op" id="7957386">.</span><span class="ident" id="7957387">RGBA64Model</span><span class="op" id="7957398">,</span>&nbsp;<span class="ident" id="7957400">color</span><span class="op" id="7957405">.</span><span class="ident" id="7957406">AlphaModel</span><span class="op" id="7957416">,</span>&nbsp;<span class="ident" id="7957418">Over</span><span class="op" id="7957422">)</span><br>
<span class="lineno"></span><span class="op" id="7957424">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="7957427">func</span>&nbsp;<span class="ident" id="7957432">BenchmarkGenericSrc</span><span class="op" id="7957451">(</span><span class="ident" id="7957452">b</span>&nbsp;<span class="op" id="7957454">*</span><span class="ident" id="7957455">testing</span><span class="op" id="7957462">.</span><span class="ident" id="7957463">B</span><span class="op" id="7957464">)</span>&nbsp;<span class="op" id="7957466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957469">bench</span><span class="op" id="7957474">(</span><span class="ident" id="7957475">b</span><span class="op" id="7957476">,</span>&nbsp;<span class="ident" id="7957478">color</span><span class="op" id="7957483">.</span><span class="ident" id="7957484">RGBA64Model</span><span class="op" id="7957495">,</span>&nbsp;<span class="ident" id="7957497">color</span><span class="op" id="7957502">.</span><span class="ident" id="7957503">RGBA64Model</span><span class="op" id="7957514">,</span>&nbsp;<span class="ident" id="7957516">nil</span><span class="op" id="7957519">,</span>&nbsp;<span class="ident" id="7957521">Src</span><span class="op" id="7957524">)</span><br>
<span class="lineno"></span><span class="op" id="7957526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7957529">func</span>&nbsp;<span class="ident" id="7957534">BenchmarkGenericMaskSrc</span><span class="op" id="7957557">(</span><span class="ident" id="7957558">b</span>&nbsp;<span class="op" id="7957560">*</span><span class="ident" id="7957561">testing</span><span class="op" id="7957568">.</span><span class="ident" id="7957569">B</span><span class="op" id="7957570">)</span>&nbsp;<span class="op" id="7957572">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7957575">bench</span><span class="op" id="7957580">(</span><span class="ident" id="7957581">b</span><span class="op" id="7957582">,</span>&nbsp;<span class="ident" id="7957584">color</span><span class="op" id="7957589">.</span><span class="ident" id="7957590">RGBA64Model</span><span class="op" id="7957601">,</span>&nbsp;<span class="ident" id="7957603">color</span><span class="op" id="7957608">.</span><span class="ident" id="7957609">RGBA64Model</span><span class="op" id="7957620">,</span>&nbsp;<span class="ident" id="7957622">color</span><span class="op" id="7957627">.</span><span class="ident" id="7957628">AlphaModel</span><span class="op" id="7957638">,</span>&nbsp;<span class="ident" id="7957640">Src</span><span class="op" id="7957643">)</span><br>
<span class="lineno"></span><span class="op" id="7957645">}</span>
</div>
</body>
</html>
