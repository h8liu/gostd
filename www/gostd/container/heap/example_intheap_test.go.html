<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="115021">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="115076">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="115130">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="115181">//&nbsp;This&nbsp;example&nbsp;demonstrates&nbsp;an&nbsp;integer&nbsp;heap&nbsp;built&nbsp;using&nbsp;the&nbsp;heap&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="115258">package</span>&nbsp;<span class="ident" id="115266">heap_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="115277">import</span>&nbsp;<span class="op" id="115284">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="115287">&#34;container/heap&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="115305">&#34;fmt&#34;</span><br>
<span class="lineno"></span><span class="op" id="115311">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="115314">//&nbsp;An&nbsp;IntHeap&nbsp;is&nbsp;a&nbsp;min-heap&nbsp;of&nbsp;ints.</span><br>
<span class="lineno"></span><span class="keyword" id="115351">type</span>&nbsp;<span class="ident" id="115356">IntHeap</span>&nbsp;<span class="op" id="115364">[</span><span class="op" id="115365">]</span><span class="builtintype" id="115366">int</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="115371">func</span>&nbsp;<span class="op" id="115376">(</span><span class="ident" id="115377">h</span>&nbsp;<span class="ident" id="115379">IntHeap</span><span class="op" id="115386">)</span>&nbsp;<span class="ident" id="115388">Len</span><span class="op" id="115391">(</span><span class="op" id="115392">)</span>&nbsp;<span class="builtintype" id="115394">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="115408">{</span>&nbsp;<span class="keyword" id="115410">return</span>&nbsp;<span class="builtinfunc" id="115417">len</span><span class="op" id="115420">(</span><span class="ident" id="115421">h</span><span class="op" id="115422">)</span>&nbsp;<span class="op" id="115424">}</span><br>
<span class="lineno"></span><span class="keyword" id="115426">func</span>&nbsp;<span class="op" id="115431">(</span><span class="ident" id="115432">h</span>&nbsp;<span class="ident" id="115434">IntHeap</span><span class="op" id="115441">)</span>&nbsp;<span class="ident" id="115443">Less</span><span class="op" id="115447">(</span><span class="ident" id="115448">i</span><span class="op" id="115449">,</span>&nbsp;<span class="ident" id="115451">j</span>&nbsp;<span class="builtintype" id="115453">int</span><span class="op" id="115456">)</span>&nbsp;<span class="builtintype" id="115458">bool</span>&nbsp;<span class="op" id="115463">{</span>&nbsp;<span class="keyword" id="115465">return</span>&nbsp;<span class="ident" id="115472">h</span><span class="op" id="115473">[</span><span class="ident" id="115474">i</span><span class="op" id="115475">]</span>&nbsp;<span class="op" id="115477">&lt;</span>&nbsp;<span class="ident" id="115479">h</span><span class="op" id="115480">[</span><span class="ident" id="115481">j</span><span class="op" id="115482">]</span>&nbsp;<span class="op" id="115484">}</span><br>
<span class="lineno"></span><span class="keyword" id="115486">func</span>&nbsp;<span class="op" id="115491">(</span><span class="ident" id="115492">h</span>&nbsp;<span class="ident" id="115494">IntHeap</span><span class="op" id="115501">)</span>&nbsp;<span class="ident" id="115503">Swap</span><span class="op" id="115507">(</span><span class="ident" id="115508">i</span><span class="op" id="115509">,</span>&nbsp;<span class="ident" id="115511">j</span>&nbsp;<span class="builtintype" id="115513">int</span><span class="op" id="115516">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="115523">{</span>&nbsp;<span class="ident" id="115525">h</span><span class="op" id="115526">[</span><span class="ident" id="115527">i</span><span class="op" id="115528">]</span><span class="op" id="115529">,</span>&nbsp;<span class="ident" id="115531">h</span><span class="op" id="115532">[</span><span class="ident" id="115533">j</span><span class="op" id="115534">]</span>&nbsp;<span class="op" id="115536">=</span>&nbsp;<span class="ident" id="115538">h</span><span class="op" id="115539">[</span><span class="ident" id="115540">j</span><span class="op" id="115541">]</span><span class="op" id="115542">,</span>&nbsp;<span class="ident" id="115544">h</span><span class="op" id="115545">[</span><span class="ident" id="115546">i</span><span class="op" id="115547">]</span>&nbsp;<span class="op" id="115549">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="keyword" id="115552">func</span>&nbsp;<span class="op" id="115557">(</span><span class="ident" id="115558">h</span>&nbsp;<span class="op" id="115560">*</span><span class="ident" id="115561">IntHeap</span><span class="op" id="115568">)</span>&nbsp;<span class="ident" id="115570">Push</span><span class="op" id="115574">(</span><span class="ident" id="115575">x</span>&nbsp;<span class="keyword" id="115577">interface</span><span class="op" id="115586">{</span><span class="op" id="115587">}</span><span class="op" id="115588">)</span>&nbsp;<span class="op" id="115590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="115593">//&nbsp;Push&nbsp;and&nbsp;Pop&nbsp;use&nbsp;pointer&nbsp;receivers&nbsp;because&nbsp;they&nbsp;modify&nbsp;the&nbsp;slice&#39;s&nbsp;length,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="115672">//&nbsp;not&nbsp;just&nbsp;its&nbsp;contents.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="115699">*</span><span class="ident" id="115700">h</span>&nbsp;<span class="op" id="115702">=</span>&nbsp;<span class="builtinfunc" id="115704">append</span><span class="op" id="115710">(</span><span class="op" id="115711">*</span><span class="ident" id="115712">h</span><span class="op" id="115713">,</span>&nbsp;<span class="ident" id="115715">x</span><span class="op" id="115716">.</span><span class="op" id="115717">(</span><span class="builtintype" id="115718">int</span><span class="op" id="115721">)</span><span class="op" id="115722">)</span><br>
<span class="lineno"></span><span class="op" id="115724">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="115727">func</span>&nbsp;<span class="op" id="115732">(</span><span class="ident" id="115733">h</span>&nbsp;<span class="op" id="115735">*</span><span class="ident" id="115736">IntHeap</span><span class="op" id="115743">)</span>&nbsp;<span class="ident" id="115745">Pop</span><span class="op" id="115748">(</span><span class="op" id="115749">)</span>&nbsp;<span class="keyword" id="115751">interface</span><span class="op" id="115760">{</span><span class="op" id="115761">}</span>&nbsp;<span class="op" id="115763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="115766">old</span>&nbsp;<span class="op" id="115770">:=</span>&nbsp;<span class="op" id="115773">*</span><span class="ident" id="115774">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="115777">n</span>&nbsp;<span class="op" id="115779">:=</span>&nbsp;<span class="builtinfunc" id="115782">len</span><span class="op" id="115785">(</span><span class="ident" id="115786">old</span><span class="op" id="115789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="115792">x</span>&nbsp;<span class="op" id="115794">:=</span>&nbsp;<span class="ident" id="115797">old</span><span class="op" id="115800">[</span><span class="ident" id="115801">n</span><span class="op" id="115802">-</span><span class="num" id="115803">1</span><span class="op" id="115804">]</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="115807">*</span><span class="ident" id="115808">h</span>&nbsp;<span class="op" id="115810">=</span>&nbsp;<span class="ident" id="115812">old</span><span class="op" id="115815">[</span><span class="num" id="115816">0</span>&nbsp;<span class="op" id="115818">:</span>&nbsp;<span class="ident" id="115820">n</span><span class="op" id="115821">-</span><span class="num" id="115822">1</span><span class="op" id="115823">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="115826">return</span>&nbsp;<span class="ident" id="115833">x</span><br>
<span class="lineno"></span><span class="op" id="115835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="115838">//&nbsp;This&nbsp;example&nbsp;inserts&nbsp;several&nbsp;ints&nbsp;into&nbsp;an&nbsp;IntHeap,&nbsp;checks&nbsp;the&nbsp;minimum,</span><br>
<span class="lineno">35</span><span class="comment" id="115912">//&nbsp;and&nbsp;removes&nbsp;them&nbsp;in&nbsp;order&nbsp;of&nbsp;priority.</span><br>
<span class="lineno"></span><span class="keyword" id="115954">func</span>&nbsp;<span class="ident" id="115959">Example_intHeap</span><span class="op" id="115974">(</span><span class="op" id="115975">)</span>&nbsp;<span class="op" id="115977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="115980">h</span>&nbsp;<span class="op" id="115982">:=</span>&nbsp;<span class="op" id="115985">&amp;</span><span class="ident" id="115986">IntHeap</span><span class="op" id="115993">{</span><span class="num" id="115994">2</span><span class="op" id="115995">,</span>&nbsp;<span class="num" id="115997">1</span><span class="op" id="115998">,</span>&nbsp;<span class="num" id="116000">5</span><span class="op" id="116001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="116004">heap</span><span class="op" id="116008">.</span><span class="ident" id="116009">Init</span><span class="op" id="116013">(</span><span class="ident" id="116014">h</span><span class="op" id="116015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="116018">heap</span><span class="op" id="116022">.</span><span class="ident" id="116023">Push</span><span class="op" id="116027">(</span><span class="ident" id="116028">h</span><span class="op" id="116029">,</span>&nbsp;<span class="num" id="116031">3</span><span class="op" id="116032">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="116035">fmt</span><span class="op" id="116038">.</span><span class="ident" id="116039">Printf</span><span class="op" id="116045">(</span><span class="string" id="116046">&#34;minimum:&nbsp;%d\n&#34;</span><span class="op" id="116061">,</span>&nbsp;<span class="op" id="116063">(</span><span class="op" id="116064">*</span><span class="ident" id="116065">h</span><span class="op" id="116066">)</span><span class="op" id="116067">[</span><span class="num" id="116068">0</span><span class="op" id="116069">]</span><span class="op" id="116070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="116073">for</span>&nbsp;<span class="ident" id="116077">h</span><span class="op" id="116078">.</span><span class="ident" id="116079">Len</span><span class="op" id="116082">(</span><span class="op" id="116083">)</span>&nbsp;<span class="op" id="116085">&gt;</span>&nbsp;<span class="num" id="116087">0</span>&nbsp;<span class="op" id="116089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="116093">fmt</span><span class="op" id="116096">.</span><span class="ident" id="116097">Printf</span><span class="op" id="116103">(</span><span class="string" id="116104">&#34;%d&nbsp;&#34;</span><span class="op" id="116109">,</span>&nbsp;<span class="ident" id="116111">heap</span><span class="op" id="116115">.</span><span class="ident" id="116116">Pop</span><span class="op" id="116119">(</span><span class="ident" id="116120">h</span><span class="op" id="116121">)</span><span class="op" id="116122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="116125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="116128">//&nbsp;Output:</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="116140">//&nbsp;minimum:&nbsp;1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="116155">//&nbsp;1&nbsp;2&nbsp;3&nbsp;5</span><br>
<span class="lineno"></span><span class="op" id="116166">}</span>
</div>
</body>
</html>
