<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6982682">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6982738">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6982792">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6982843">package</span>&nbsp;<span class="ident" id="6982851">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6982858">import</span>&nbsp;<span class="op" id="6982865">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982868">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982881">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982888">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982901">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982907">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982918">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982935">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982946">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6982957">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6982967">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6982970">var</span>&nbsp;<span class="op" id="6982974">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6982977">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6982994">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6983002">pclinetestBinary</span>&nbsp;<span class="builtintype" id="6983019">string</span><br>
<span class="lineno"></span><span class="op" id="6983026">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6983029">func</span>&nbsp;<span class="ident" id="6983034">dotest</span><span class="op" id="6983040">(</span><span class="ident" id="6983041">self</span>&nbsp;<span class="builtintype" id="6983046">bool</span><span class="op" id="6983050">)</span>&nbsp;<span class="builtintype" id="6983052">bool</span>&nbsp;<span class="op" id="6983057">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6983060">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983104">if</span>&nbsp;<span class="ident" id="6983107">runtime</span><span class="op" id="6983114">.</span><span class="ident" id="6983115">GOARCH</span>&nbsp;<span class="op" id="6983122">!=</span>&nbsp;<span class="string" id="6983125">&#34;amd64&#34;</span>&nbsp;<span class="op" id="6983133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983137">return</span>&nbsp;<span class="ident" id="6983144">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6983151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6983154">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983208">if</span>&nbsp;<span class="ident" id="6983211">self</span>&nbsp;<span class="op" id="6983216">&amp;&amp;</span>&nbsp;<span class="ident" id="6983219">runtime</span><span class="op" id="6983226">.</span><span class="ident" id="6983227">GOOS</span>&nbsp;<span class="op" id="6983232">!=</span>&nbsp;<span class="string" id="6983235">&#34;linux&#34;</span>&nbsp;<span class="op" id="6983243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983247">return</span>&nbsp;<span class="ident" id="6983254">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6983261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6983264">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983305">if</span>&nbsp;<span class="ident" id="6983308">runtime</span><span class="op" id="6983315">.</span><span class="ident" id="6983316">GOOS</span>&nbsp;<span class="op" id="6983321">==</span>&nbsp;<span class="string" id="6983324">&#34;windows&#34;</span>&nbsp;<span class="op" id="6983334">||</span>&nbsp;<span class="ident" id="6983337">runtime</span><span class="op" id="6983344">.</span><span class="ident" id="6983345">GOOS</span>&nbsp;<span class="op" id="6983350">==</span>&nbsp;<span class="string" id="6983353">&#34;plan9&#34;</span>&nbsp;<span class="op" id="6983361">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983365">return</span>&nbsp;<span class="ident" id="6983372">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6983379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983382">if</span>&nbsp;<span class="ident" id="6983385">pclinetestBinary</span>&nbsp;<span class="op" id="6983402">!=</span>&nbsp;<span class="string" id="6983405">&#34;&#34;</span>&nbsp;<span class="op" id="6983408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983412">return</span>&nbsp;<span class="ident" id="6983419">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6983425">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983428">var</span>&nbsp;<span class="ident" id="6983432">err</span>&nbsp;<span class="builtintype" id="6983436">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6983443">pclineTempDir</span><span class="op" id="6983456">,</span>&nbsp;<span class="ident" id="6983458">err</span>&nbsp;<span class="op" id="6983462">=</span>&nbsp;<span class="ident" id="6983464">ioutil</span><span class="op" id="6983470">.</span><span class="ident" id="6983471">TempDir</span><span class="op" id="6983478">(</span><span class="string" id="6983479">&#34;&#34;</span><span class="op" id="6983481">,</span>&nbsp;<span class="string" id="6983483">&#34;pclinetest&#34;</span><span class="op" id="6983495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983498">if</span>&nbsp;<span class="ident" id="6983501">err</span>&nbsp;<span class="op" id="6983505">!=</span>&nbsp;<span class="ident" id="6983508">nil</span>&nbsp;<span class="op" id="6983512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6983516">panic</span><span class="op" id="6983521">(</span><span class="ident" id="6983522">err</span><span class="op" id="6983525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6983528">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6983531">if</span>&nbsp;<span class="ident" id="6983534">strings</span><span class="op" id="6983541">.</span><span class="ident" id="6983542">Contains</span><span class="op" id="6983550">(</span><span class="ident" id="6983551">pclineTempDir</span><span class="op" id="6983564">,</span>&nbsp;<span class="string" id="6983566">&#34;&nbsp;&#34;</span><span class="op" id="6983569">)</span>&nbsp;<span class="op" id="6983571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6983575">panic</span><span class="op" id="6983580">(</span><span class="string" id="6983581">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="6983610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6983613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6983616">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6983672">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6983740">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6983801">pclinetestBinary</span>&nbsp;<span class="op" id="6983818">=</span>&nbsp;<span class="ident" id="6983820">filepath</span><span class="op" id="6983828">.</span><span class="ident" id="6983829">Join</span><span class="op" id="6983833">(</span><span class="ident" id="6983834">pclineTempDir</span><span class="op" id="6983847">,</span>&nbsp;<span class="string" id="6983849">&#34;pclinetest&#34;</span><span class="op" id="6983861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6983864">command</span>&nbsp;<span class="op" id="6983872">:=</span>&nbsp;<span class="ident" id="6983875">fmt</span><span class="op" id="6983878">.</span><span class="ident" id="6983879">Sprintf</span><span class="op" id="6983886">(</span><span class="string" id="6983887">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="6983964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6983968">pclinetestBinary</span><span class="op" id="6983984">,</span>&nbsp;<span class="ident" id="6983986">pclinetestBinary</span><span class="op" id="6984002">,</span>&nbsp;<span class="ident" id="6984004">pclinetestBinary</span><span class="op" id="6984020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984023">cmd</span>&nbsp;<span class="op" id="6984027">:=</span>&nbsp;<span class="ident" id="6984030">exec</span><span class="op" id="6984034">.</span><span class="ident" id="6984035">Command</span><span class="op" id="6984042">(</span><span class="string" id="6984043">&#34;sh&#34;</span><span class="op" id="6984047">,</span>&nbsp;<span class="string" id="6984049">&#34;-c&#34;</span><span class="op" id="6984053">,</span>&nbsp;<span class="ident" id="6984055">command</span><span class="op" id="6984062">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984065">cmd</span><span class="op" id="6984068">.</span><span class="ident" id="6984069">Stdout</span>&nbsp;<span class="op" id="6984076">=</span>&nbsp;<span class="ident" id="6984078">os</span><span class="op" id="6984080">.</span><span class="ident" id="6984081">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984089">cmd</span><span class="op" id="6984092">.</span><span class="ident" id="6984093">Stderr</span>&nbsp;<span class="op" id="6984100">=</span>&nbsp;<span class="ident" id="6984102">os</span><span class="op" id="6984104">.</span><span class="ident" id="6984105">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984113">if</span>&nbsp;<span class="ident" id="6984116">err</span>&nbsp;<span class="op" id="6984120">:=</span>&nbsp;<span class="ident" id="6984123">cmd</span><span class="op" id="6984126">.</span><span class="ident" id="6984127">Run</span><span class="op" id="6984130">(</span><span class="op" id="6984131">)</span><span class="op" id="6984132">;</span>&nbsp;<span class="ident" id="6984134">err</span>&nbsp;<span class="op" id="6984138">!=</span>&nbsp;<span class="ident" id="6984141">nil</span>&nbsp;<span class="op" id="6984145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6984149">panic</span><span class="op" id="6984154">(</span><span class="ident" id="6984155">err</span><span class="op" id="6984158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6984161">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984164">return</span>&nbsp;<span class="ident" id="6984171">true</span><br>
<span class="lineno"></span><span class="op" id="6984176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6984179">func</span>&nbsp;<span class="ident" id="6984184">endtest</span><span class="op" id="6984191">(</span><span class="op" id="6984192">)</span>&nbsp;<span class="op" id="6984194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984197">if</span>&nbsp;<span class="ident" id="6984200">pclineTempDir</span>&nbsp;<span class="op" id="6984214">!=</span>&nbsp;<span class="string" id="6984217">&#34;&#34;</span>&nbsp;<span class="op" id="6984220">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984224">os</span><span class="op" id="6984226">.</span><span class="ident" id="6984227">RemoveAll</span><span class="op" id="6984236">(</span><span class="ident" id="6984237">pclineTempDir</span><span class="op" id="6984250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984254">pclineTempDir</span>&nbsp;<span class="op" id="6984268">=</span>&nbsp;<span class="string" id="6984270">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984275">pclinetestBinary</span>&nbsp;<span class="op" id="6984292">=</span>&nbsp;<span class="string" id="6984294">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6984298">}</span><br>
<span class="lineno"></span><span class="op" id="6984300">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6984303">func</span>&nbsp;<span class="ident" id="6984308">getTable</span><span class="op" id="6984316">(</span><span class="ident" id="6984317">t</span>&nbsp;<span class="op" id="6984319">*</span><span class="ident" id="6984320">testing</span><span class="op" id="6984327">.</span><span class="ident" id="6984328">T</span><span class="op" id="6984329">)</span>&nbsp;<span class="op" id="6984331">*</span><span class="ident" id="6984332">Table</span>&nbsp;<span class="op" id="6984338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984341">f</span><span class="op" id="6984342">,</span>&nbsp;<span class="ident" id="6984344">tab</span>&nbsp;<span class="op" id="6984348">:=</span>&nbsp;<span class="ident" id="6984351">crack</span><span class="op" id="6984356">(</span><span class="ident" id="6984357">os</span><span class="op" id="6984359">.</span><span class="ident" id="6984360">Args</span><span class="op" id="6984364">[</span><span class="num" id="6984365">0</span><span class="op" id="6984366">]</span><span class="op" id="6984367">,</span>&nbsp;<span class="ident" id="6984369">t</span><span class="op" id="6984370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984373">f</span><span class="op" id="6984374">.</span><span class="ident" id="6984375">Close</span><span class="op" id="6984380">(</span><span class="op" id="6984381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984384">return</span>&nbsp;<span class="ident" id="6984391">tab</span><br>
<span class="lineno">75</span><span class="op" id="6984395">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6984398">func</span>&nbsp;<span class="ident" id="6984403">crack</span><span class="op" id="6984408">(</span><span class="ident" id="6984409">file</span>&nbsp;<span class="builtintype" id="6984414">string</span><span class="op" id="6984420">,</span>&nbsp;<span class="ident" id="6984422">t</span>&nbsp;<span class="op" id="6984424">*</span><span class="ident" id="6984425">testing</span><span class="op" id="6984432">.</span><span class="ident" id="6984433">T</span><span class="op" id="6984434">)</span>&nbsp;<span class="op" id="6984436">(</span><span class="op" id="6984437">*</span><span class="ident" id="6984438">elf</span><span class="op" id="6984441">.</span><span class="ident" id="6984442">File</span><span class="op" id="6984446">,</span>&nbsp;<span class="op" id="6984448">*</span><span class="ident" id="6984449">Table</span><span class="op" id="6984454">)</span>&nbsp;<span class="op" id="6984456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6984459">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984473">f</span><span class="op" id="6984474">,</span>&nbsp;<span class="ident" id="6984476">err</span>&nbsp;<span class="op" id="6984480">:=</span>&nbsp;<span class="ident" id="6984483">elf</span><span class="op" id="6984486">.</span><span class="ident" id="6984487">Open</span><span class="op" id="6984491">(</span><span class="ident" id="6984492">file</span><span class="op" id="6984496">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984499">if</span>&nbsp;<span class="ident" id="6984502">err</span>&nbsp;<span class="op" id="6984506">!=</span>&nbsp;<span class="ident" id="6984509">nil</span>&nbsp;<span class="op" id="6984513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984517">t</span><span class="op" id="6984518">.</span><span class="ident" id="6984519">Fatal</span><span class="op" id="6984524">(</span><span class="ident" id="6984525">err</span><span class="op" id="6984528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6984531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984534">return</span>&nbsp;<span class="ident" id="6984541">parse</span><span class="op" id="6984546">(</span><span class="ident" id="6984547">file</span><span class="op" id="6984551">,</span>&nbsp;<span class="ident" id="6984553">f</span><span class="op" id="6984554">,</span>&nbsp;<span class="ident" id="6984556">t</span><span class="op" id="6984557">)</span><br>
<span class="lineno"></span><span class="op" id="6984559">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="6984562">func</span>&nbsp;<span class="ident" id="6984567">parse</span><span class="op" id="6984572">(</span><span class="ident" id="6984573">file</span>&nbsp;<span class="builtintype" id="6984578">string</span><span class="op" id="6984584">,</span>&nbsp;<span class="ident" id="6984586">f</span>&nbsp;<span class="op" id="6984588">*</span><span class="ident" id="6984589">elf</span><span class="op" id="6984592">.</span><span class="ident" id="6984593">File</span><span class="op" id="6984597">,</span>&nbsp;<span class="ident" id="6984599">t</span>&nbsp;<span class="op" id="6984601">*</span><span class="ident" id="6984602">testing</span><span class="op" id="6984609">.</span><span class="ident" id="6984610">T</span><span class="op" id="6984611">)</span>&nbsp;<span class="op" id="6984613">(</span><span class="op" id="6984614">*</span><span class="ident" id="6984615">elf</span><span class="op" id="6984618">.</span><span class="ident" id="6984619">File</span><span class="op" id="6984623">,</span>&nbsp;<span class="op" id="6984625">*</span><span class="ident" id="6984626">Table</span><span class="op" id="6984631">)</span>&nbsp;<span class="op" id="6984633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984636">symdat</span><span class="op" id="6984642">,</span>&nbsp;<span class="ident" id="6984644">err</span>&nbsp;<span class="op" id="6984648">:=</span>&nbsp;<span class="ident" id="6984651">f</span><span class="op" id="6984652">.</span><span class="ident" id="6984653">Section</span><span class="op" id="6984660">(</span><span class="string" id="6984661">&#34;.gosymtab&#34;</span><span class="op" id="6984672">)</span><span class="op" id="6984673">.</span><span class="ident" id="6984674">Data</span><span class="op" id="6984678">(</span><span class="op" id="6984679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984682">if</span>&nbsp;<span class="ident" id="6984685">err</span>&nbsp;<span class="op" id="6984689">!=</span>&nbsp;<span class="ident" id="6984692">nil</span>&nbsp;<span class="op" id="6984696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984700">f</span><span class="op" id="6984701">.</span><span class="ident" id="6984702">Close</span><span class="op" id="6984707">(</span><span class="op" id="6984708">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984712">t</span><span class="op" id="6984713">.</span><span class="ident" id="6984714">Fatalf</span><span class="op" id="6984720">(</span><span class="string" id="6984721">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="6984746">,</span>&nbsp;<span class="ident" id="6984748">file</span><span class="op" id="6984752">,</span>&nbsp;<span class="ident" id="6984754">err</span><span class="op" id="6984757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6984760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984763">pclndat</span><span class="op" id="6984770">,</span>&nbsp;<span class="ident" id="6984772">err</span>&nbsp;<span class="op" id="6984776">:=</span>&nbsp;<span class="ident" id="6984779">f</span><span class="op" id="6984780">.</span><span class="ident" id="6984781">Section</span><span class="op" id="6984788">(</span><span class="string" id="6984789">&#34;.gopclntab&#34;</span><span class="op" id="6984801">)</span><span class="op" id="6984802">.</span><span class="ident" id="6984803">Data</span><span class="op" id="6984807">(</span><span class="op" id="6984808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984811">if</span>&nbsp;<span class="ident" id="6984814">err</span>&nbsp;<span class="op" id="6984818">!=</span>&nbsp;<span class="ident" id="6984821">nil</span>&nbsp;<span class="op" id="6984825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984829">f</span><span class="op" id="6984830">.</span><span class="ident" id="6984831">Close</span><span class="op" id="6984836">(</span><span class="op" id="6984837">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984841">t</span><span class="op" id="6984842">.</span><span class="ident" id="6984843">Fatalf</span><span class="op" id="6984849">(</span><span class="string" id="6984850">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="6984876">,</span>&nbsp;<span class="ident" id="6984878">file</span><span class="op" id="6984882">,</span>&nbsp;<span class="ident" id="6984884">err</span><span class="op" id="6984887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6984890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984894">pcln</span>&nbsp;<span class="op" id="6984899">:=</span>&nbsp;<span class="ident" id="6984902">NewLineTable</span><span class="op" id="6984914">(</span><span class="ident" id="6984915">pclndat</span><span class="op" id="6984922">,</span>&nbsp;<span class="ident" id="6984924">f</span><span class="op" id="6984925">.</span><span class="ident" id="6984926">Section</span><span class="op" id="6984933">(</span><span class="string" id="6984934">&#34;.text&#34;</span><span class="op" id="6984941">)</span><span class="op" id="6984942">.</span><span class="ident" id="6984943">Addr</span><span class="op" id="6984947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6984950">tab</span><span class="op" id="6984953">,</span>&nbsp;<span class="ident" id="6984955">err</span>&nbsp;<span class="op" id="6984959">:=</span>&nbsp;<span class="ident" id="6984962">NewTable</span><span class="op" id="6984970">(</span><span class="ident" id="6984971">symdat</span><span class="op" id="6984977">,</span>&nbsp;<span class="ident" id="6984979">pcln</span><span class="op" id="6984983">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6984986">if</span>&nbsp;<span class="ident" id="6984989">err</span>&nbsp;<span class="op" id="6984993">!=</span>&nbsp;<span class="ident" id="6984996">nil</span>&nbsp;<span class="op" id="6985000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985004">f</span><span class="op" id="6985005">.</span><span class="ident" id="6985006">Close</span><span class="op" id="6985011">(</span><span class="op" id="6985012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985016">t</span><span class="op" id="6985017">.</span><span class="ident" id="6985018">Fatalf</span><span class="op" id="6985024">(</span><span class="string" id="6985025">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="6985050">,</span>&nbsp;<span class="ident" id="6985052">file</span><span class="op" id="6985056">,</span>&nbsp;<span class="ident" id="6985058">err</span><span class="op" id="6985061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6985064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985068">return</span>&nbsp;<span class="ident" id="6985075">f</span><span class="op" id="6985076">,</span>&nbsp;<span class="ident" id="6985078">tab</span><br>
<span class="lineno"></span><span class="op" id="6985082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6985085">var</span>&nbsp;<span class="ident" id="6985089">goarch</span>&nbsp;<span class="op" id="6985096">=</span>&nbsp;<span class="ident" id="6985098">os</span><span class="op" id="6985100">.</span><span class="ident" id="6985101">Getenv</span><span class="op" id="6985107">(</span><span class="string" id="6985108">&#34;O&#34;</span><span class="op" id="6985111">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="6985114">func</span>&nbsp;<span class="ident" id="6985119">TestLineFromAline</span><span class="op" id="6985136">(</span><span class="ident" id="6985137">t</span>&nbsp;<span class="op" id="6985139">*</span><span class="ident" id="6985140">testing</span><span class="op" id="6985147">.</span><span class="ident" id="6985148">T</span><span class="op" id="6985149">)</span>&nbsp;<span class="op" id="6985151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985154">if</span>&nbsp;<span class="op" id="6985157">!</span><span class="ident" id="6985158">dotest</span><span class="op" id="6985164">(</span><span class="ident" id="6985165">true</span><span class="op" id="6985169">)</span>&nbsp;<span class="op" id="6985171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985175">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6985183">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985186">defer</span>&nbsp;<span class="ident" id="6985192">endtest</span><span class="op" id="6985199">(</span><span class="op" id="6985200">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985204">tab</span>&nbsp;<span class="op" id="6985208">:=</span>&nbsp;<span class="ident" id="6985211">getTable</span><span class="op" id="6985219">(</span><span class="ident" id="6985220">t</span><span class="op" id="6985221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985224">if</span>&nbsp;<span class="ident" id="6985227">tab</span><span class="op" id="6985230">.</span><span class="ident" id="6985231">go12line</span>&nbsp;<span class="op" id="6985240">!=</span>&nbsp;<span class="ident" id="6985243">nil</span>&nbsp;<span class="op" id="6985247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6985251">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985297">t</span><span class="op" id="6985298">.</span><span class="ident" id="6985299">Skip</span><span class="op" id="6985303">(</span><span class="string" id="6985304">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="6985341">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6985344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6985348">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985373">pkg</span>&nbsp;<span class="op" id="6985377">:=</span>&nbsp;<span class="ident" id="6985380">tab</span><span class="op" id="6985383">.</span><span class="ident" id="6985384">LookupFunc</span><span class="op" id="6985394">(</span><span class="string" id="6985395">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="6985426">)</span><span class="op" id="6985427">.</span><span class="ident" id="6985428">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985433">if</span>&nbsp;<span class="ident" id="6985436">pkg</span>&nbsp;<span class="op" id="6985440">==</span>&nbsp;<span class="ident" id="6985443">nil</span>&nbsp;<span class="op" id="6985447">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985451">t</span><span class="op" id="6985452">.</span><span class="ident" id="6985453">Fatalf</span><span class="op" id="6985459">(</span><span class="string" id="6985460">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="6985469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6985472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6985476">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6985534">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985564">lastline</span>&nbsp;<span class="op" id="6985573">:=</span>&nbsp;<span class="builtinfunc" id="6985576">make</span><span class="op" id="6985580">(</span><span class="keyword" id="6985581">map</span><span class="op" id="6985584">[</span><span class="builtintype" id="6985585">string</span><span class="op" id="6985591">]</span><span class="builtintype" id="6985592">int</span><span class="op" id="6985595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985598">final</span>&nbsp;<span class="op" id="6985604">:=</span>&nbsp;<span class="op" id="6985607">-</span><span class="num" id="6985608">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985611">for</span>&nbsp;<span class="ident" id="6985615">i</span>&nbsp;<span class="op" id="6985617">:=</span>&nbsp;<span class="num" id="6985620">0</span><span class="op" id="6985621">;</span>&nbsp;<span class="ident" id="6985623">i</span>&nbsp;<span class="op" id="6985625">&lt;</span>&nbsp;<span class="num" id="6985627">10000</span><span class="op" id="6985632">;</span>&nbsp;<span class="ident" id="6985634">i</span><span class="op" id="6985635">++</span>&nbsp;<span class="op" id="6985638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985642">path</span><span class="op" id="6985646">,</span>&nbsp;<span class="ident" id="6985648">line</span>&nbsp;<span class="op" id="6985653">:=</span>&nbsp;<span class="ident" id="6985656">pkg</span><span class="op" id="6985659">.</span><span class="ident" id="6985660">lineFromAline</span><span class="op" id="6985673">(</span><span class="ident" id="6985674">i</span><span class="op" id="6985675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6985679">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985708">if</span>&nbsp;<span class="ident" id="6985711">path</span>&nbsp;<span class="op" id="6985716">==</span>&nbsp;<span class="string" id="6985719">&#34;&#34;</span>&nbsp;<span class="op" id="6985722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985727">if</span>&nbsp;<span class="ident" id="6985730">final</span>&nbsp;<span class="op" id="6985736">==</span>&nbsp;<span class="op" id="6985739">-</span><span class="num" id="6985740">1</span>&nbsp;<span class="op" id="6985742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985748">final</span>&nbsp;<span class="op" id="6985754">=</span>&nbsp;<span class="ident" id="6985756">i</span>&nbsp;<span class="op" id="6985758">-</span>&nbsp;<span class="num" id="6985760">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6985765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985770">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6985781">}</span>&nbsp;<span class="keyword" id="6985783">else</span>&nbsp;<span class="keyword" id="6985788">if</span>&nbsp;<span class="ident" id="6985791">final</span>&nbsp;<span class="op" id="6985797">!=</span>&nbsp;<span class="op" id="6985800">-</span><span class="num" id="6985801">1</span>&nbsp;<span class="op" id="6985803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6985808">t</span><span class="op" id="6985809">.</span><span class="ident" id="6985810">Fatalf</span><span class="op" id="6985816">(</span><span class="string" id="6985817">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="6985899">,</span>&nbsp;<span class="ident" id="6985901">final</span><span class="op" id="6985906">,</span>&nbsp;<span class="ident" id="6985908">i</span><span class="op" id="6985909">,</span>&nbsp;<span class="ident" id="6985911">path</span><span class="op" id="6985915">,</span>&nbsp;<span class="ident" id="6985917">line</span><span class="op" id="6985921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6985925">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6985929">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6985986">if</span>&nbsp;<span class="ident" id="6985989">line</span>&nbsp;<span class="op" id="6985994">==</span>&nbsp;<span class="num" id="6985997">1</span>&nbsp;<span class="op" id="6985999">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986004">lastline</span><span class="op" id="6986012">[</span><span class="ident" id="6986013">path</span><span class="op" id="6986017">]</span>&nbsp;<span class="op" id="6986019">=</span>&nbsp;<span class="num" id="6986021">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986026">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986037">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6986041">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986086">ll</span><span class="op" id="6986088">,</span>&nbsp;<span class="ident" id="6986090">ok</span>&nbsp;<span class="op" id="6986093">:=</span>&nbsp;<span class="ident" id="6986096">lastline</span><span class="op" id="6986104">[</span><span class="ident" id="6986105">path</span><span class="op" id="6986109">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986113">if</span>&nbsp;<span class="op" id="6986116">!</span><span class="ident" id="6986117">ok</span>&nbsp;<span class="op" id="6986120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986125">t</span><span class="op" id="6986126">.</span><span class="ident" id="6986127">Errorf</span><span class="op" id="6986133">(</span><span class="string" id="6986134">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="6986161">,</span>&nbsp;<span class="ident" id="6986163">path</span><span class="op" id="6986167">,</span>&nbsp;<span class="ident" id="6986169">line</span><span class="op" id="6986173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986177">}</span>&nbsp;<span class="keyword" id="6986179">else</span>&nbsp;<span class="keyword" id="6986184">if</span>&nbsp;<span class="ident" id="6986187">line</span>&nbsp;<span class="op" id="6986192">!=</span>&nbsp;<span class="ident" id="6986195">ll</span><span class="op" id="6986197">+</span><span class="num" id="6986198">1</span>&nbsp;<span class="op" id="6986200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986205">t</span><span class="op" id="6986206">.</span><span class="ident" id="6986207">Fatalf</span><span class="op" id="6986213">(</span><span class="string" id="6986214">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6986262">,</span>&nbsp;<span class="ident" id="6986264">path</span><span class="op" id="6986268">,</span>&nbsp;<span class="ident" id="6986270">ll</span><span class="op" id="6986272">+</span><span class="num" id="6986273">1</span><span class="op" id="6986274">,</span>&nbsp;<span class="ident" id="6986276">line</span><span class="op" id="6986280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986284">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986288">lastline</span><span class="op" id="6986296">[</span><span class="ident" id="6986297">path</span><span class="op" id="6986301">]</span>&nbsp;<span class="op" id="6986303">=</span>&nbsp;<span class="ident" id="6986305">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986314">if</span>&nbsp;<span class="ident" id="6986317">final</span>&nbsp;<span class="op" id="6986323">==</span>&nbsp;<span class="op" id="6986326">-</span><span class="num" id="6986327">1</span>&nbsp;<span class="op" id="6986329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986333">t</span><span class="op" id="6986334">.</span><span class="ident" id="6986335">Errorf</span><span class="op" id="6986341">(</span><span class="string" id="6986342">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="6986371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986374">}</span><br>
<span class="lineno">160</span><span class="op" id="6986376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6986379">func</span>&nbsp;<span class="ident" id="6986384">TestLineAline</span><span class="op" id="6986397">(</span><span class="ident" id="6986398">t</span>&nbsp;<span class="op" id="6986400">*</span><span class="ident" id="6986401">testing</span><span class="op" id="6986408">.</span><span class="ident" id="6986409">T</span><span class="op" id="6986410">)</span>&nbsp;<span class="op" id="6986412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986415">if</span>&nbsp;<span class="op" id="6986418">!</span><span class="ident" id="6986419">dotest</span><span class="op" id="6986425">(</span><span class="ident" id="6986426">true</span><span class="op" id="6986430">)</span>&nbsp;<span class="op" id="6986432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986436">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986447">defer</span>&nbsp;<span class="ident" id="6986453">endtest</span><span class="op" id="6986460">(</span><span class="op" id="6986461">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986465">tab</span>&nbsp;<span class="op" id="6986469">:=</span>&nbsp;<span class="ident" id="6986472">getTable</span><span class="op" id="6986480">(</span><span class="ident" id="6986481">t</span><span class="op" id="6986482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986485">if</span>&nbsp;<span class="ident" id="6986488">tab</span><span class="op" id="6986491">.</span><span class="ident" id="6986492">go12line</span>&nbsp;<span class="op" id="6986501">!=</span>&nbsp;<span class="ident" id="6986504">nil</span>&nbsp;<span class="op" id="6986508">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6986512">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986558">t</span><span class="op" id="6986559">.</span><span class="ident" id="6986560">Skip</span><span class="op" id="6986564">(</span><span class="string" id="6986565">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="6986602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986609">for</span>&nbsp;<span class="ident" id="6986613">_</span><span class="op" id="6986614">,</span>&nbsp;<span class="ident" id="6986616">o</span>&nbsp;<span class="op" id="6986618">:=</span>&nbsp;<span class="keyword" id="6986621">range</span>&nbsp;<span class="ident" id="6986627">tab</span><span class="op" id="6986630">.</span><span class="ident" id="6986631">Files</span>&nbsp;<span class="op" id="6986637">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6986641">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6986691">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6986748">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986802">found</span>&nbsp;<span class="op" id="6986808">:=</span>&nbsp;<span class="builtinfunc" id="6986811">make</span><span class="op" id="6986815">(</span><span class="keyword" id="6986816">map</span><span class="op" id="6986819">[</span><span class="builtintype" id="6986820">string</span><span class="op" id="6986826">]</span><span class="builtintype" id="6986827">int</span><span class="op" id="6986830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986834">for</span>&nbsp;<span class="ident" id="6986838">i</span>&nbsp;<span class="op" id="6986840">:=</span>&nbsp;<span class="num" id="6986843">0</span><span class="op" id="6986844">;</span>&nbsp;<span class="ident" id="6986846">i</span>&nbsp;<span class="op" id="6986848">&lt;</span>&nbsp;<span class="num" id="6986850">1000</span><span class="op" id="6986854">;</span>&nbsp;<span class="ident" id="6986856">i</span><span class="op" id="6986857">++</span>&nbsp;<span class="op" id="6986860">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6986865">path</span><span class="op" id="6986869">,</span>&nbsp;<span class="ident" id="6986871">line</span>&nbsp;<span class="op" id="6986876">:=</span>&nbsp;<span class="ident" id="6986879">o</span><span class="op" id="6986880">.</span><span class="ident" id="6986881">lineFromAline</span><span class="op" id="6986894">(</span><span class="ident" id="6986895">i</span><span class="op" id="6986896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986901">if</span>&nbsp;<span class="ident" id="6986904">path</span>&nbsp;<span class="op" id="6986909">==</span>&nbsp;<span class="string" id="6986912">&#34;&#34;</span>&nbsp;<span class="op" id="6986915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986921">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6986930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6986936">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6986999">if</span>&nbsp;<span class="builtinfunc" id="6987002">len</span><span class="op" id="6987005">(</span><span class="ident" id="6987006">path</span><span class="op" id="6987010">)</span>&nbsp;<span class="op" id="6987012">&gt;</span>&nbsp;<span class="num" id="6987014">4</span>&nbsp;<span class="op" id="6987016">&amp;&amp;</span>&nbsp;<span class="ident" id="6987019">path</span><span class="op" id="6987023">[</span><span class="builtinfunc" id="6987024">len</span><span class="op" id="6987027">(</span><span class="ident" id="6987028">path</span><span class="op" id="6987032">)</span><span class="op" id="6987033">-</span><span class="num" id="6987034">4</span><span class="op" id="6987035">:</span><span class="op" id="6987036">]</span>&nbsp;<span class="op" id="6987038">==</span>&nbsp;<span class="string" id="6987041">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="6987048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987054">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987072">if</span>&nbsp;<span class="ident" id="6987075">minline</span><span class="op" id="6987082">,</span>&nbsp;<span class="ident" id="6987084">ok</span>&nbsp;<span class="op" id="6987087">:=</span>&nbsp;<span class="ident" id="6987090">found</span><span class="op" id="6987095">[</span><span class="ident" id="6987096">path</span><span class="op" id="6987100">]</span><span class="op" id="6987101">;</span>&nbsp;<span class="ident" id="6987103">path</span>&nbsp;<span class="op" id="6987108">!=</span>&nbsp;<span class="string" id="6987111">&#34;&#34;</span>&nbsp;<span class="op" id="6987114">&amp;&amp;</span>&nbsp;<span class="ident" id="6987117">ok</span>&nbsp;<span class="op" id="6987120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987126">if</span>&nbsp;<span class="ident" id="6987129">minline</span>&nbsp;<span class="op" id="6987137">&gt;=</span>&nbsp;<span class="ident" id="6987140">line</span>&nbsp;<span class="op" id="6987145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6987152">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987192">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987205">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987215">found</span><span class="op" id="6987220">[</span><span class="ident" id="6987221">path</span><span class="op" id="6987225">]</span>&nbsp;<span class="op" id="6987227">=</span>&nbsp;<span class="ident" id="6987229">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987238">a</span><span class="op" id="6987239">,</span>&nbsp;<span class="ident" id="6987241">err</span>&nbsp;<span class="op" id="6987245">:=</span>&nbsp;<span class="ident" id="6987248">o</span><span class="op" id="6987249">.</span><span class="ident" id="6987250">alineFromLine</span><span class="op" id="6987263">(</span><span class="ident" id="6987264">path</span><span class="op" id="6987268">,</span>&nbsp;<span class="ident" id="6987270">line</span><span class="op" id="6987274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987279">if</span>&nbsp;<span class="ident" id="6987282">err</span>&nbsp;<span class="op" id="6987286">!=</span>&nbsp;<span class="ident" id="6987289">nil</span>&nbsp;<span class="op" id="6987293">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987299">t</span><span class="op" id="6987300">.</span><span class="ident" id="6987301">Errorf</span><span class="op" id="6987307">(</span><span class="string" id="6987308">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="6987391">,</span>&nbsp;<span class="ident" id="6987393">i</span><span class="op" id="6987394">,</span>&nbsp;<span class="ident" id="6987396">o</span><span class="op" id="6987397">.</span><span class="ident" id="6987398">Paths</span><span class="op" id="6987403">[</span><span class="num" id="6987404">0</span><span class="op" id="6987405">]</span><span class="op" id="6987406">.</span><span class="ident" id="6987407">Name</span><span class="op" id="6987411">,</span>&nbsp;<span class="ident" id="6987413">path</span><span class="op" id="6987417">,</span>&nbsp;<span class="ident" id="6987419">line</span><span class="op" id="6987423">,</span>&nbsp;<span class="ident" id="6987425">err</span><span class="op" id="6987428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987433">}</span>&nbsp;<span class="keyword" id="6987435">else</span>&nbsp;<span class="keyword" id="6987440">if</span>&nbsp;<span class="ident" id="6987443">a</span>&nbsp;<span class="op" id="6987445">!=</span>&nbsp;<span class="ident" id="6987448">i</span>&nbsp;<span class="op" id="6987450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987456">t</span><span class="op" id="6987457">.</span><span class="ident" id="6987458">Errorf</span><span class="op" id="6987464">(</span><span class="string" id="6987465">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="6987549">,</span>&nbsp;<span class="ident" id="6987551">i</span><span class="op" id="6987552">,</span>&nbsp;<span class="ident" id="6987554">o</span><span class="op" id="6987555">.</span><span class="ident" id="6987556">Paths</span><span class="op" id="6987561">[</span><span class="num" id="6987562">0</span><span class="op" id="6987563">]</span><span class="op" id="6987564">.</span><span class="ident" id="6987565">Name</span><span class="op" id="6987569">,</span>&nbsp;<span class="ident" id="6987571">path</span><span class="op" id="6987575">,</span>&nbsp;<span class="ident" id="6987577">line</span><span class="op" id="6987581">,</span>&nbsp;<span class="ident" id="6987583">a</span><span class="op" id="6987584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987593">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987596">}</span><br>
<span class="lineno"></span><span class="op" id="6987598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6987601">func</span>&nbsp;<span class="ident" id="6987606">TestPCLine</span><span class="op" id="6987616">(</span><span class="ident" id="6987617">t</span>&nbsp;<span class="op" id="6987619">*</span><span class="ident" id="6987620">testing</span><span class="op" id="6987627">.</span><span class="ident" id="6987628">T</span><span class="op" id="6987629">)</span>&nbsp;<span class="op" id="6987631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987634">if</span>&nbsp;<span class="op" id="6987637">!</span><span class="ident" id="6987638">dotest</span><span class="op" id="6987644">(</span><span class="ident" id="6987645">false</span><span class="op" id="6987650">)</span>&nbsp;<span class="op" id="6987652">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987656">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987667">defer</span>&nbsp;<span class="ident" id="6987673">endtest</span><span class="op" id="6987680">(</span><span class="op" id="6987681">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987685">f</span><span class="op" id="6987686">,</span>&nbsp;<span class="ident" id="6987688">tab</span>&nbsp;<span class="op" id="6987692">:=</span>&nbsp;<span class="ident" id="6987695">crack</span><span class="op" id="6987700">(</span><span class="ident" id="6987701">pclinetestBinary</span><span class="op" id="6987717">,</span>&nbsp;<span class="ident" id="6987719">t</span><span class="op" id="6987720">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987723">text</span>&nbsp;<span class="op" id="6987728">:=</span>&nbsp;<span class="ident" id="6987731">f</span><span class="op" id="6987732">.</span><span class="ident" id="6987733">Section</span><span class="op" id="6987740">(</span><span class="string" id="6987741">&#34;.text&#34;</span><span class="op" id="6987748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987751">textdat</span><span class="op" id="6987758">,</span>&nbsp;<span class="ident" id="6987760">err</span>&nbsp;<span class="op" id="6987764">:=</span>&nbsp;<span class="ident" id="6987767">text</span><span class="op" id="6987771">.</span><span class="ident" id="6987772">Data</span><span class="op" id="6987776">(</span><span class="op" id="6987777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987780">if</span>&nbsp;<span class="ident" id="6987783">err</span>&nbsp;<span class="op" id="6987787">!=</span>&nbsp;<span class="ident" id="6987790">nil</span>&nbsp;<span class="op" id="6987794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987798">t</span><span class="op" id="6987799">.</span><span class="ident" id="6987800">Fatalf</span><span class="op" id="6987806">(</span><span class="string" id="6987807">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="6987826">,</span>&nbsp;<span class="ident" id="6987828">err</span><span class="op" id="6987831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6987834">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6987838">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987856">sym</span>&nbsp;<span class="op" id="6987860">:=</span>&nbsp;<span class="ident" id="6987863">tab</span><span class="op" id="6987866">.</span><span class="ident" id="6987867">LookupFunc</span><span class="op" id="6987877">(</span><span class="string" id="6987878">&#34;linefrompc&#34;</span><span class="op" id="6987890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987893">wantLine</span>&nbsp;<span class="op" id="6987902">:=</span>&nbsp;<span class="num" id="6987905">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6987908">for</span>&nbsp;<span class="ident" id="6987912">pc</span>&nbsp;<span class="op" id="6987915">:=</span>&nbsp;<span class="ident" id="6987918">sym</span><span class="op" id="6987921">.</span><span class="ident" id="6987922">Entry</span><span class="op" id="6987927">;</span>&nbsp;<span class="ident" id="6987929">pc</span>&nbsp;<span class="op" id="6987932">&lt;</span>&nbsp;<span class="ident" id="6987934">sym</span><span class="op" id="6987937">.</span><span class="ident" id="6987938">End</span><span class="op" id="6987941">;</span>&nbsp;<span class="ident" id="6987943">pc</span><span class="op" id="6987945">++</span>&nbsp;<span class="op" id="6987948">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6987952">off</span>&nbsp;<span class="op" id="6987956">:=</span>&nbsp;<span class="ident" id="6987959">pc</span>&nbsp;<span class="op" id="6987962">-</span>&nbsp;<span class="ident" id="6987964">text</span><span class="op" id="6987968">.</span><span class="ident" id="6987969">Addr</span>&nbsp;<span class="comment" id="6987974">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988021">if</span>&nbsp;<span class="ident" id="6988024">textdat</span><span class="op" id="6988031">[</span><span class="ident" id="6988032">off</span><span class="op" id="6988035">]</span>&nbsp;<span class="op" id="6988037">==</span>&nbsp;<span class="num" id="6988040">255</span>&nbsp;<span class="op" id="6988044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988049">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988061">wantLine</span>&nbsp;<span class="op" id="6988070">+=</span>&nbsp;<span class="builtintype" id="6988073">int</span><span class="op" id="6988076">(</span><span class="ident" id="6988077">textdat</span><span class="op" id="6988084">[</span><span class="ident" id="6988085">off</span><span class="op" id="6988088">]</span><span class="op" id="6988089">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988093">t</span><span class="op" id="6988094">.</span><span class="ident" id="6988095">Logf</span><span class="op" id="6988099">(</span><span class="string" id="6988100">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="6988124">,</span>&nbsp;<span class="ident" id="6988126">off</span><span class="op" id="6988129">,</span>&nbsp;<span class="ident" id="6988131">textdat</span><span class="op" id="6988138">[</span><span class="ident" id="6988139">off</span><span class="op" id="6988142">]</span><span class="op" id="6988143">,</span>&nbsp;<span class="ident" id="6988145">sym</span><span class="op" id="6988148">.</span><span class="ident" id="6988149">End</span><span class="op" id="6988152">-</span><span class="ident" id="6988153">pc</span><span class="op" id="6988155">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988159">file</span><span class="op" id="6988163">,</span>&nbsp;<span class="ident" id="6988165">line</span><span class="op" id="6988169">,</span>&nbsp;<span class="ident" id="6988171">fn</span>&nbsp;<span class="op" id="6988174">:=</span>&nbsp;<span class="ident" id="6988177">tab</span><span class="op" id="6988180">.</span><span class="ident" id="6988181">PCToLine</span><span class="op" id="6988189">(</span><span class="ident" id="6988190">pc</span><span class="op" id="6988192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988196">if</span>&nbsp;<span class="ident" id="6988199">fn</span>&nbsp;<span class="op" id="6988202">==</span>&nbsp;<span class="ident" id="6988205">nil</span>&nbsp;<span class="op" id="6988209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988214">t</span><span class="op" id="6988215">.</span><span class="ident" id="6988216">Errorf</span><span class="op" id="6988222">(</span><span class="string" id="6988223">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="6988253">,</span>&nbsp;<span class="ident" id="6988255">pc</span><span class="op" id="6988257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988261">}</span>&nbsp;<span class="keyword" id="6988263">else</span>&nbsp;<span class="keyword" id="6988268">if</span>&nbsp;<span class="op" id="6988271">!</span><span class="ident" id="6988272">strings</span><span class="op" id="6988279">.</span><span class="ident" id="6988280">HasSuffix</span><span class="op" id="6988289">(</span><span class="ident" id="6988290">file</span><span class="op" id="6988294">,</span>&nbsp;<span class="string" id="6988296">&#34;pclinetest.asm&#34;</span><span class="op" id="6988312">)</span>&nbsp;<span class="op" id="6988314">||</span>&nbsp;<span class="ident" id="6988317">line</span>&nbsp;<span class="op" id="6988322">!=</span>&nbsp;<span class="ident" id="6988325">wantLine</span>&nbsp;<span class="op" id="6988334">||</span>&nbsp;<span class="ident" id="6988337">fn</span>&nbsp;<span class="op" id="6988340">!=</span>&nbsp;<span class="ident" id="6988343">sym</span>&nbsp;<span class="op" id="6988347">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988352">t</span><span class="op" id="6988353">.</span><span class="ident" id="6988354">Errorf</span><span class="op" id="6988360">(</span><span class="string" id="6988361">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="6988406">,</span>&nbsp;<span class="ident" id="6988408">pc</span><span class="op" id="6988410">,</span>&nbsp;<span class="ident" id="6988412">file</span><span class="op" id="6988416">,</span>&nbsp;<span class="ident" id="6988418">line</span><span class="op" id="6988422">,</span>&nbsp;<span class="ident" id="6988424">fn</span><span class="op" id="6988426">.</span><span class="ident" id="6988427">Name</span><span class="op" id="6988431">,</span>&nbsp;<span class="string" id="6988433">&#34;pclinetest.asm&#34;</span><span class="op" id="6988449">,</span>&nbsp;<span class="ident" id="6988451">wantLine</span><span class="op" id="6988459">,</span>&nbsp;<span class="ident" id="6988461">sym</span><span class="op" id="6988464">.</span><span class="ident" id="6988465">Name</span><span class="op" id="6988469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988473">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6988480">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988498">sym</span>&nbsp;<span class="op" id="6988502">=</span>&nbsp;<span class="ident" id="6988504">tab</span><span class="op" id="6988507">.</span><span class="ident" id="6988508">LookupFunc</span><span class="op" id="6988518">(</span><span class="string" id="6988519">&#34;pcfromline&#34;</span><span class="op" id="6988531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988534">lookupline</span>&nbsp;<span class="op" id="6988545">:=</span>&nbsp;<span class="op" id="6988548">-</span><span class="num" id="6988549">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988552">wantLine</span>&nbsp;<span class="op" id="6988561">=</span>&nbsp;<span class="num" id="6988563">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988566">off</span>&nbsp;<span class="op" id="6988570">:=</span>&nbsp;<span class="ident" id="6988573">uint64</span><span class="op" id="6988579">(</span><span class="num" id="6988580">0</span><span class="op" id="6988581">)</span>&nbsp;<span class="comment" id="6988583">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988629">for</span>&nbsp;<span class="ident" id="6988633">pc</span>&nbsp;<span class="op" id="6988636">:=</span>&nbsp;<span class="ident" id="6988639">sym</span><span class="op" id="6988642">.</span><span class="ident" id="6988643">Value</span><span class="op" id="6988648">;</span>&nbsp;<span class="ident" id="6988650">pc</span>&nbsp;<span class="op" id="6988653">&lt;</span>&nbsp;<span class="ident" id="6988655">sym</span><span class="op" id="6988658">.</span><span class="ident" id="6988659">End</span><span class="op" id="6988662">;</span>&nbsp;<span class="ident" id="6988664">pc</span>&nbsp;<span class="op" id="6988667">+=</span>&nbsp;<span class="num" id="6988670">2</span>&nbsp;<span class="op" id="6988672">+</span>&nbsp;<span class="ident" id="6988674">uint64</span><span class="op" id="6988680">(</span><span class="ident" id="6988681">textdat</span><span class="op" id="6988688">[</span><span class="ident" id="6988689">off</span><span class="op" id="6988692">]</span><span class="op" id="6988693">)</span>&nbsp;<span class="op" id="6988695">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988699">file</span><span class="op" id="6988703">,</span>&nbsp;<span class="ident" id="6988705">line</span><span class="op" id="6988709">,</span>&nbsp;<span class="ident" id="6988711">fn</span>&nbsp;<span class="op" id="6988714">:=</span>&nbsp;<span class="ident" id="6988717">tab</span><span class="op" id="6988720">.</span><span class="ident" id="6988721">PCToLine</span><span class="op" id="6988729">(</span><span class="ident" id="6988730">pc</span><span class="op" id="6988732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988736">off</span>&nbsp;<span class="op" id="6988740">=</span>&nbsp;<span class="ident" id="6988742">pc</span>&nbsp;<span class="op" id="6988745">-</span>&nbsp;<span class="ident" id="6988747">text</span><span class="op" id="6988751">.</span><span class="ident" id="6988752">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988759">if</span>&nbsp;<span class="ident" id="6988762">textdat</span><span class="op" id="6988769">[</span><span class="ident" id="6988770">off</span><span class="op" id="6988773">]</span>&nbsp;<span class="op" id="6988775">==</span>&nbsp;<span class="num" id="6988778">255</span>&nbsp;<span class="op" id="6988782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988787">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988795">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988799">wantLine</span>&nbsp;<span class="op" id="6988808">+=</span>&nbsp;<span class="builtintype" id="6988811">int</span><span class="op" id="6988814">(</span><span class="ident" id="6988815">textdat</span><span class="op" id="6988822">[</span><span class="ident" id="6988823">off</span><span class="op" id="6988826">]</span><span class="op" id="6988827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988831">if</span>&nbsp;<span class="ident" id="6988834">line</span>&nbsp;<span class="op" id="6988839">!=</span>&nbsp;<span class="ident" id="6988842">wantLine</span>&nbsp;<span class="op" id="6988851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988856">t</span><span class="op" id="6988857">.</span><span class="ident" id="6988858">Errorf</span><span class="op" id="6988864">(</span><span class="string" id="6988865">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="6988915">,</span>&nbsp;<span class="ident" id="6988917">wantLine</span><span class="op" id="6988925">,</span>&nbsp;<span class="ident" id="6988927">pc</span><span class="op" id="6988929">,</span>&nbsp;<span class="ident" id="6988931">line</span><span class="op" id="6988935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988940">off</span>&nbsp;<span class="op" id="6988944">=</span>&nbsp;<span class="ident" id="6988946">pc</span>&nbsp;<span class="op" id="6988949">+</span>&nbsp;<span class="num" id="6988951">1</span>&nbsp;<span class="op" id="6988953">-</span>&nbsp;<span class="ident" id="6988955">text</span><span class="op" id="6988959">.</span><span class="ident" id="6988960">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988968">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988983">if</span>&nbsp;<span class="ident" id="6988986">lookupline</span>&nbsp;<span class="op" id="6988997">==</span>&nbsp;<span class="op" id="6989000">-</span><span class="num" id="6989001">1</span>&nbsp;<span class="op" id="6989003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989008">lookupline</span>&nbsp;<span class="op" id="6989019">=</span>&nbsp;<span class="ident" id="6989021">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989032">for</span>&nbsp;<span class="op" id="6989036">;</span>&nbsp;<span class="ident" id="6989038">lookupline</span>&nbsp;<span class="op" id="6989049">&lt;=</span>&nbsp;<span class="ident" id="6989052">line</span><span class="op" id="6989056">;</span>&nbsp;<span class="ident" id="6989058">lookupline</span><span class="op" id="6989068">++</span>&nbsp;<span class="op" id="6989071">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989076">pc2</span><span class="op" id="6989079">,</span>&nbsp;<span class="ident" id="6989081">fn2</span><span class="op" id="6989084">,</span>&nbsp;<span class="ident" id="6989086">err</span>&nbsp;<span class="op" id="6989090">:=</span>&nbsp;<span class="ident" id="6989093">tab</span><span class="op" id="6989096">.</span><span class="ident" id="6989097">LineToPC</span><span class="op" id="6989105">(</span><span class="ident" id="6989106">file</span><span class="op" id="6989110">,</span>&nbsp;<span class="ident" id="6989112">lookupline</span><span class="op" id="6989122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989127">if</span>&nbsp;<span class="ident" id="6989130">lookupline</span>&nbsp;<span class="op" id="6989141">!=</span>&nbsp;<span class="ident" id="6989144">line</span>&nbsp;<span class="op" id="6989149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6989155">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989193">if</span>&nbsp;<span class="ident" id="6989196">err</span>&nbsp;<span class="op" id="6989200">==</span>&nbsp;<span class="ident" id="6989203">nil</span>&nbsp;<span class="op" id="6989207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989214">t</span><span class="op" id="6989215">.</span><span class="ident" id="6989216">Errorf</span><span class="op" id="6989222">(</span><span class="string" id="6989223">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="6989264">,</span>&nbsp;<span class="ident" id="6989266">lookupline</span><span class="op" id="6989276">,</span>&nbsp;<span class="ident" id="6989278">pc2</span><span class="op" id="6989281">,</span>&nbsp;<span class="ident" id="6989283">fn2</span><span class="op" id="6989286">.</span><span class="ident" id="6989287">Name</span><span class="op" id="6989291">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989302">}</span>&nbsp;<span class="keyword" id="6989304">else</span>&nbsp;<span class="keyword" id="6989309">if</span>&nbsp;<span class="ident" id="6989312">err</span>&nbsp;<span class="op" id="6989316">!=</span>&nbsp;<span class="ident" id="6989319">nil</span>&nbsp;<span class="op" id="6989323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989329">t</span><span class="op" id="6989330">.</span><span class="ident" id="6989331">Errorf</span><span class="op" id="6989337">(</span><span class="string" id="6989338">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6989371">,</span>&nbsp;<span class="ident" id="6989373">lookupline</span><span class="op" id="6989383">,</span>&nbsp;<span class="ident" id="6989385">err</span><span class="op" id="6989388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989393">}</span>&nbsp;<span class="keyword" id="6989395">else</span>&nbsp;<span class="keyword" id="6989400">if</span>&nbsp;<span class="ident" id="6989403">pc</span>&nbsp;<span class="op" id="6989406">!=</span>&nbsp;<span class="ident" id="6989409">pc2</span>&nbsp;<span class="op" id="6989413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989419">t</span><span class="op" id="6989420">.</span><span class="ident" id="6989421">Errorf</span><span class="op" id="6989427">(</span><span class="string" id="6989428">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="6989478">,</span>&nbsp;<span class="ident" id="6989480">pc</span><span class="op" id="6989482">,</span>&nbsp;<span class="ident" id="6989484">fn</span><span class="op" id="6989486">.</span><span class="ident" id="6989487">Name</span><span class="op" id="6989491">,</span>&nbsp;<span class="ident" id="6989493">line</span><span class="op" id="6989497">,</span>&nbsp;<span class="ident" id="6989499">pc2</span><span class="op" id="6989502">,</span>&nbsp;<span class="ident" id="6989504">fn2</span><span class="op" id="6989507">.</span><span class="ident" id="6989508">Name</span><span class="op" id="6989512">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989521">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989525">off</span>&nbsp;<span class="op" id="6989529">=</span>&nbsp;<span class="ident" id="6989531">pc</span>&nbsp;<span class="op" id="6989534">+</span>&nbsp;<span class="num" id="6989536">1</span>&nbsp;<span class="op" id="6989538">-</span>&nbsp;<span class="ident" id="6989540">text</span><span class="op" id="6989544">.</span><span class="ident" id="6989545">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989551">}</span><br>
<span class="lineno"></span><span class="op" id="6989553">}</span>
</div>
</body>
</html>
