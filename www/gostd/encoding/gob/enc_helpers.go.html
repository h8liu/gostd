<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html" class="current">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5893890">//&nbsp;Created&nbsp;by&nbsp;encgen&nbsp;--output&nbsp;enc_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5893949">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5894004">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5894058">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5894109">package</span>&nbsp;<span class="ident" id="5894117">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5894122">import</span>&nbsp;<span class="op" id="5894129">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5894132">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5894142">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5894145">var</span>&nbsp;<span class="ident" id="5894149">encArrayHelper</span>&nbsp;<span class="op" id="5894164">=</span>&nbsp;<span class="keyword" id="5894166">map</span><span class="op" id="5894169">[</span><span class="ident" id="5894170">reflect</span><span class="op" id="5894177">.</span><span class="ident" id="5894178">Kind</span><span class="op" id="5894182">]</span><span class="ident" id="5894183">encHelper</span><span class="op" id="5894192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894195">reflect</span><span class="op" id="5894202">.</span><span class="ident" id="5894203">Bool</span><span class="op" id="5894207">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894215">encBoolArray</span><span class="op" id="5894227">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894230">reflect</span><span class="op" id="5894237">.</span><span class="ident" id="5894238">Complex64</span><span class="op" id="5894247">:</span>&nbsp;&nbsp;<span class="ident" id="5894250">encComplex64Array</span><span class="op" id="5894267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894270">reflect</span><span class="op" id="5894277">.</span><span class="ident" id="5894278">Complex128</span><span class="op" id="5894288">:</span>&nbsp;<span class="ident" id="5894290">encComplex128Array</span><span class="op" id="5894308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894311">reflect</span><span class="op" id="5894318">.</span><span class="ident" id="5894319">Float32</span><span class="op" id="5894326">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894331">encFloat32Array</span><span class="op" id="5894346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894349">reflect</span><span class="op" id="5894356">.</span><span class="ident" id="5894357">Float64</span><span class="op" id="5894364">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894369">encFloat64Array</span><span class="op" id="5894384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894387">reflect</span><span class="op" id="5894394">.</span><span class="ident" id="5894395">Int</span><span class="op" id="5894398">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894407">encIntArray</span><span class="op" id="5894418">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894421">reflect</span><span class="op" id="5894428">.</span><span class="ident" id="5894429">Int16</span><span class="op" id="5894434">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894441">encInt16Array</span><span class="op" id="5894454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894457">reflect</span><span class="op" id="5894464">.</span><span class="ident" id="5894465">Int32</span><span class="op" id="5894470">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894477">encInt32Array</span><span class="op" id="5894490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894493">reflect</span><span class="op" id="5894500">.</span><span class="ident" id="5894501">Int64</span><span class="op" id="5894506">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894513">encInt64Array</span><span class="op" id="5894526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894529">reflect</span><span class="op" id="5894536">.</span><span class="ident" id="5894537">Int8</span><span class="op" id="5894541">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894549">encInt8Array</span><span class="op" id="5894561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894564">reflect</span><span class="op" id="5894571">.</span><span class="ident" id="5894572">String</span><span class="op" id="5894578">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894584">encStringArray</span><span class="op" id="5894598">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894601">reflect</span><span class="op" id="5894608">.</span><span class="ident" id="5894609">Uint</span><span class="op" id="5894613">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894621">encUintArray</span><span class="op" id="5894633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894636">reflect</span><span class="op" id="5894643">.</span><span class="ident" id="5894644">Uint16</span><span class="op" id="5894650">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894656">encUint16Array</span><span class="op" id="5894670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894673">reflect</span><span class="op" id="5894680">.</span><span class="ident" id="5894681">Uint32</span><span class="op" id="5894687">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894693">encUint32Array</span><span class="op" id="5894707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894710">reflect</span><span class="op" id="5894717">.</span><span class="ident" id="5894718">Uint64</span><span class="op" id="5894724">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894730">encUint64Array</span><span class="op" id="5894744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894747">reflect</span><span class="op" id="5894754">.</span><span class="ident" id="5894755">Uintptr</span><span class="op" id="5894762">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894767">encUintptrArray</span><span class="op" id="5894782">,</span><br>
<span class="lineno">30</span><span class="op" id="5894784">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5894787">var</span>&nbsp;<span class="ident" id="5894791">encSliceHelper</span>&nbsp;<span class="op" id="5894806">=</span>&nbsp;<span class="keyword" id="5894808">map</span><span class="op" id="5894811">[</span><span class="ident" id="5894812">reflect</span><span class="op" id="5894819">.</span><span class="ident" id="5894820">Kind</span><span class="op" id="5894824">]</span><span class="ident" id="5894825">encHelper</span><span class="op" id="5894834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894837">reflect</span><span class="op" id="5894844">.</span><span class="ident" id="5894845">Bool</span><span class="op" id="5894849">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894857">encBoolSlice</span><span class="op" id="5894869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894872">reflect</span><span class="op" id="5894879">.</span><span class="ident" id="5894880">Complex64</span><span class="op" id="5894889">:</span>&nbsp;&nbsp;<span class="ident" id="5894892">encComplex64Slice</span><span class="op" id="5894909">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894912">reflect</span><span class="op" id="5894919">.</span><span class="ident" id="5894920">Complex128</span><span class="op" id="5894930">:</span>&nbsp;<span class="ident" id="5894932">encComplex128Slice</span><span class="op" id="5894950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894953">reflect</span><span class="op" id="5894960">.</span><span class="ident" id="5894961">Float32</span><span class="op" id="5894968">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894973">encFloat32Slice</span><span class="op" id="5894988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894991">reflect</span><span class="op" id="5894998">.</span><span class="ident" id="5894999">Float64</span><span class="op" id="5895006">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895011">encFloat64Slice</span><span class="op" id="5895026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895029">reflect</span><span class="op" id="5895036">.</span><span class="ident" id="5895037">Int</span><span class="op" id="5895040">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895049">encIntSlice</span><span class="op" id="5895060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895063">reflect</span><span class="op" id="5895070">.</span><span class="ident" id="5895071">Int16</span><span class="op" id="5895076">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895083">encInt16Slice</span><span class="op" id="5895096">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895099">reflect</span><span class="op" id="5895106">.</span><span class="ident" id="5895107">Int32</span><span class="op" id="5895112">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895119">encInt32Slice</span><span class="op" id="5895132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895135">reflect</span><span class="op" id="5895142">.</span><span class="ident" id="5895143">Int64</span><span class="op" id="5895148">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895155">encInt64Slice</span><span class="op" id="5895168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895171">reflect</span><span class="op" id="5895178">.</span><span class="ident" id="5895179">Int8</span><span class="op" id="5895183">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895191">encInt8Slice</span><span class="op" id="5895203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895206">reflect</span><span class="op" id="5895213">.</span><span class="ident" id="5895214">String</span><span class="op" id="5895220">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895226">encStringSlice</span><span class="op" id="5895240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895243">reflect</span><span class="op" id="5895250">.</span><span class="ident" id="5895251">Uint</span><span class="op" id="5895255">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895263">encUintSlice</span><span class="op" id="5895275">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895278">reflect</span><span class="op" id="5895285">.</span><span class="ident" id="5895286">Uint16</span><span class="op" id="5895292">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895298">encUint16Slice</span><span class="op" id="5895312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895315">reflect</span><span class="op" id="5895322">.</span><span class="ident" id="5895323">Uint32</span><span class="op" id="5895329">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895335">encUint32Slice</span><span class="op" id="5895349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895352">reflect</span><span class="op" id="5895359">.</span><span class="ident" id="5895360">Uint64</span><span class="op" id="5895366">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895372">encUint64Slice</span><span class="op" id="5895386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895389">reflect</span><span class="op" id="5895396">.</span><span class="ident" id="5895397">Uintptr</span><span class="op" id="5895404">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895409">encUintptrSlice</span><span class="op" id="5895424">,</span><br>
<span class="lineno"></span><span class="op" id="5895426">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5895429">func</span>&nbsp;<span class="ident" id="5895434">encBoolArray</span><span class="op" id="5895446">(</span><span class="ident" id="5895447">state</span>&nbsp;<span class="op" id="5895453">*</span><span class="ident" id="5895454">encoderState</span><span class="op" id="5895466">,</span>&nbsp;<span class="ident" id="5895468">v</span>&nbsp;<span class="ident" id="5895470">reflect</span><span class="op" id="5895477">.</span><span class="ident" id="5895478">Value</span><span class="op" id="5895483">)</span>&nbsp;<span class="builtintype" id="5895485">bool</span>&nbsp;<span class="op" id="5895490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5895493">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895534">if</span>&nbsp;<span class="op" id="5895537">!</span><span class="ident" id="5895538">v</span><span class="op" id="5895539">.</span><span class="ident" id="5895540">CanAddr</span><span class="op" id="5895547">(</span><span class="op" id="5895548">)</span>&nbsp;<span class="op" id="5895550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895554">return</span>&nbsp;<span class="builtintype" id="5895561">false</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895571">return</span>&nbsp;<span class="ident" id="5895578">encBoolSlice</span><span class="op" id="5895590">(</span><span class="ident" id="5895591">state</span><span class="op" id="5895596">,</span>&nbsp;<span class="ident" id="5895598">v</span><span class="op" id="5895599">.</span><span class="ident" id="5895600">Slice</span><span class="op" id="5895605">(</span><span class="num" id="5895606">0</span><span class="op" id="5895607">,</span>&nbsp;<span class="ident" id="5895609">v</span><span class="op" id="5895610">.</span><span class="ident" id="5895611">Len</span><span class="op" id="5895614">(</span><span class="op" id="5895615">)</span><span class="op" id="5895616">)</span><span class="op" id="5895617">)</span><br>
<span class="lineno"></span><span class="op" id="5895619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5895622">func</span>&nbsp;<span class="ident" id="5895627">encBoolSlice</span><span class="op" id="5895639">(</span><span class="ident" id="5895640">state</span>&nbsp;<span class="op" id="5895646">*</span><span class="ident" id="5895647">encoderState</span><span class="op" id="5895659">,</span>&nbsp;<span class="ident" id="5895661">v</span>&nbsp;<span class="ident" id="5895663">reflect</span><span class="op" id="5895670">.</span><span class="ident" id="5895671">Value</span><span class="op" id="5895676">)</span>&nbsp;<span class="builtintype" id="5895678">bool</span>&nbsp;<span class="op" id="5895683">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895686">slice</span><span class="op" id="5895691">,</span>&nbsp;<span class="ident" id="5895693">ok</span>&nbsp;<span class="op" id="5895696">:=</span>&nbsp;<span class="ident" id="5895699">v</span><span class="op" id="5895700">.</span><span class="ident" id="5895701">Interface</span><span class="op" id="5895710">(</span><span class="op" id="5895711">)</span><span class="op" id="5895712">.</span><span class="op" id="5895713">(</span><span class="op" id="5895714">[</span><span class="op" id="5895715">]</span><span class="builtintype" id="5895716">bool</span><span class="op" id="5895720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895723">if</span>&nbsp;<span class="op" id="5895726">!</span><span class="ident" id="5895727">ok</span>&nbsp;<span class="op" id="5895730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5895734">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895809">return</span>&nbsp;<span class="builtintype" id="5895816">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895823">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895826">for</span>&nbsp;<span class="ident" id="5895830">_</span><span class="op" id="5895831">,</span>&nbsp;<span class="ident" id="5895833">x</span>&nbsp;<span class="op" id="5895835">:=</span>&nbsp;<span class="keyword" id="5895838">range</span>&nbsp;<span class="ident" id="5895844">slice</span>&nbsp;<span class="op" id="5895850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895854">if</span>&nbsp;<span class="ident" id="5895857">x</span>&nbsp;<span class="op" id="5895859">!=</span>&nbsp;<span class="builtintype" id="5895862">false</span>&nbsp;<span class="op" id="5895868">||</span>&nbsp;<span class="ident" id="5895871">state</span><span class="op" id="5895876">.</span><span class="ident" id="5895877">sendZero</span>&nbsp;<span class="op" id="5895886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895891">if</span>&nbsp;<span class="ident" id="5895894">x</span>&nbsp;<span class="op" id="5895896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895902">state</span><span class="op" id="5895907">.</span><span class="ident" id="5895908">encodeUint</span><span class="op" id="5895918">(</span><span class="num" id="5895919">1</span><span class="op" id="5895920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895925">}</span>&nbsp;<span class="keyword" id="5895927">else</span>&nbsp;<span class="op" id="5895932">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895938">state</span><span class="op" id="5895943">.</span><span class="ident" id="5895944">encodeUint</span><span class="op" id="5895954">(</span><span class="num" id="5895955">0</span><span class="op" id="5895956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895971">return</span>&nbsp;<span class="builtintype" id="5895978">true</span><br>
<span class="lineno">75</span><span class="op" id="5895983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5895986">func</span>&nbsp;<span class="ident" id="5895991">encComplex64Array</span><span class="op" id="5896008">(</span><span class="ident" id="5896009">state</span>&nbsp;<span class="op" id="5896015">*</span><span class="ident" id="5896016">encoderState</span><span class="op" id="5896028">,</span>&nbsp;<span class="ident" id="5896030">v</span>&nbsp;<span class="ident" id="5896032">reflect</span><span class="op" id="5896039">.</span><span class="ident" id="5896040">Value</span><span class="op" id="5896045">)</span>&nbsp;<span class="builtintype" id="5896047">bool</span>&nbsp;<span class="op" id="5896052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5896055">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896096">if</span>&nbsp;<span class="op" id="5896099">!</span><span class="ident" id="5896100">v</span><span class="op" id="5896101">.</span><span class="ident" id="5896102">CanAddr</span><span class="op" id="5896109">(</span><span class="op" id="5896110">)</span>&nbsp;<span class="op" id="5896112">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896116">return</span>&nbsp;<span class="builtintype" id="5896123">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896133">return</span>&nbsp;<span class="ident" id="5896140">encComplex64Slice</span><span class="op" id="5896157">(</span><span class="ident" id="5896158">state</span><span class="op" id="5896163">,</span>&nbsp;<span class="ident" id="5896165">v</span><span class="op" id="5896166">.</span><span class="ident" id="5896167">Slice</span><span class="op" id="5896172">(</span><span class="num" id="5896173">0</span><span class="op" id="5896174">,</span>&nbsp;<span class="ident" id="5896176">v</span><span class="op" id="5896177">.</span><span class="ident" id="5896178">Len</span><span class="op" id="5896181">(</span><span class="op" id="5896182">)</span><span class="op" id="5896183">)</span><span class="op" id="5896184">)</span><br>
<span class="lineno"></span><span class="op" id="5896186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="5896189">func</span>&nbsp;<span class="ident" id="5896194">encComplex64Slice</span><span class="op" id="5896211">(</span><span class="ident" id="5896212">state</span>&nbsp;<span class="op" id="5896218">*</span><span class="ident" id="5896219">encoderState</span><span class="op" id="5896231">,</span>&nbsp;<span class="ident" id="5896233">v</span>&nbsp;<span class="ident" id="5896235">reflect</span><span class="op" id="5896242">.</span><span class="ident" id="5896243">Value</span><span class="op" id="5896248">)</span>&nbsp;<span class="builtintype" id="5896250">bool</span>&nbsp;<span class="op" id="5896255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896258">slice</span><span class="op" id="5896263">,</span>&nbsp;<span class="ident" id="5896265">ok</span>&nbsp;<span class="op" id="5896268">:=</span>&nbsp;<span class="ident" id="5896271">v</span><span class="op" id="5896272">.</span><span class="ident" id="5896273">Interface</span><span class="op" id="5896282">(</span><span class="op" id="5896283">)</span><span class="op" id="5896284">.</span><span class="op" id="5896285">(</span><span class="op" id="5896286">[</span><span class="op" id="5896287">]</span><span class="builtintype" id="5896288">complex64</span><span class="op" id="5896297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896300">if</span>&nbsp;<span class="op" id="5896303">!</span><span class="ident" id="5896304">ok</span>&nbsp;<span class="op" id="5896307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5896311">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896396">return</span>&nbsp;<span class="builtintype" id="5896403">false</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896413">for</span>&nbsp;<span class="ident" id="5896417">_</span><span class="op" id="5896418">,</span>&nbsp;<span class="ident" id="5896420">x</span>&nbsp;<span class="op" id="5896422">:=</span>&nbsp;<span class="keyword" id="5896425">range</span>&nbsp;<span class="ident" id="5896431">slice</span>&nbsp;<span class="op" id="5896437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896441">if</span>&nbsp;<span class="ident" id="5896444">x</span>&nbsp;<span class="op" id="5896446">!=</span>&nbsp;<span class="num" id="5896449">0</span><span class="op" id="5896450">+</span><span class="num" id="5896451">0i</span>&nbsp;<span class="op" id="5896454">||</span>&nbsp;<span class="ident" id="5896457">state</span><span class="op" id="5896462">.</span><span class="ident" id="5896463">sendZero</span>&nbsp;<span class="op" id="5896472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896477">rpart</span>&nbsp;<span class="op" id="5896483">:=</span>&nbsp;<span class="ident" id="5896486">floatBits</span><span class="op" id="5896495">(</span><span class="builtintype" id="5896496">float64</span><span class="op" id="5896503">(</span><span class="builtinfunc" id="5896504">real</span><span class="op" id="5896508">(</span><span class="ident" id="5896509">x</span><span class="op" id="5896510">)</span><span class="op" id="5896511">)</span><span class="op" id="5896512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896517">ipart</span>&nbsp;<span class="op" id="5896523">:=</span>&nbsp;<span class="ident" id="5896526">floatBits</span><span class="op" id="5896535">(</span><span class="builtintype" id="5896536">float64</span><span class="op" id="5896543">(</span><span class="builtinfunc" id="5896544">imag</span><span class="op" id="5896548">(</span><span class="ident" id="5896549">x</span><span class="op" id="5896550">)</span><span class="op" id="5896551">)</span><span class="op" id="5896552">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896557">state</span><span class="op" id="5896562">.</span><span class="ident" id="5896563">encodeUint</span><span class="op" id="5896573">(</span><span class="ident" id="5896574">rpart</span><span class="op" id="5896579">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896584">state</span><span class="op" id="5896589">.</span><span class="ident" id="5896590">encodeUint</span><span class="op" id="5896600">(</span><span class="ident" id="5896601">ipart</span><span class="op" id="5896606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896616">return</span>&nbsp;<span class="builtintype" id="5896623">true</span><br>
<span class="lineno">100</span><span class="op" id="5896628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5896631">func</span>&nbsp;<span class="ident" id="5896636">encComplex128Array</span><span class="op" id="5896654">(</span><span class="ident" id="5896655">state</span>&nbsp;<span class="op" id="5896661">*</span><span class="ident" id="5896662">encoderState</span><span class="op" id="5896674">,</span>&nbsp;<span class="ident" id="5896676">v</span>&nbsp;<span class="ident" id="5896678">reflect</span><span class="op" id="5896685">.</span><span class="ident" id="5896686">Value</span><span class="op" id="5896691">)</span>&nbsp;<span class="builtintype" id="5896693">bool</span>&nbsp;<span class="op" id="5896698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5896701">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896742">if</span>&nbsp;<span class="op" id="5896745">!</span><span class="ident" id="5896746">v</span><span class="op" id="5896747">.</span><span class="ident" id="5896748">CanAddr</span><span class="op" id="5896755">(</span><span class="op" id="5896756">)</span>&nbsp;<span class="op" id="5896758">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896762">return</span>&nbsp;<span class="builtintype" id="5896769">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896779">return</span>&nbsp;<span class="ident" id="5896786">encComplex128Slice</span><span class="op" id="5896804">(</span><span class="ident" id="5896805">state</span><span class="op" id="5896810">,</span>&nbsp;<span class="ident" id="5896812">v</span><span class="op" id="5896813">.</span><span class="ident" id="5896814">Slice</span><span class="op" id="5896819">(</span><span class="num" id="5896820">0</span><span class="op" id="5896821">,</span>&nbsp;<span class="ident" id="5896823">v</span><span class="op" id="5896824">.</span><span class="ident" id="5896825">Len</span><span class="op" id="5896828">(</span><span class="op" id="5896829">)</span><span class="op" id="5896830">)</span><span class="op" id="5896831">)</span><br>
<span class="lineno"></span><span class="op" id="5896833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="5896836">func</span>&nbsp;<span class="ident" id="5896841">encComplex128Slice</span><span class="op" id="5896859">(</span><span class="ident" id="5896860">state</span>&nbsp;<span class="op" id="5896866">*</span><span class="ident" id="5896867">encoderState</span><span class="op" id="5896879">,</span>&nbsp;<span class="ident" id="5896881">v</span>&nbsp;<span class="ident" id="5896883">reflect</span><span class="op" id="5896890">.</span><span class="ident" id="5896891">Value</span><span class="op" id="5896896">)</span>&nbsp;<span class="builtintype" id="5896898">bool</span>&nbsp;<span class="op" id="5896903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896906">slice</span><span class="op" id="5896911">,</span>&nbsp;<span class="ident" id="5896913">ok</span>&nbsp;<span class="op" id="5896916">:=</span>&nbsp;<span class="ident" id="5896919">v</span><span class="op" id="5896920">.</span><span class="ident" id="5896921">Interface</span><span class="op" id="5896930">(</span><span class="op" id="5896931">)</span><span class="op" id="5896932">.</span><span class="op" id="5896933">(</span><span class="op" id="5896934">[</span><span class="op" id="5896935">]</span><span class="builtintype" id="5896936">complex128</span><span class="op" id="5896946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896949">if</span>&nbsp;<span class="op" id="5896952">!</span><span class="ident" id="5896953">ok</span>&nbsp;<span class="op" id="5896956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5896960">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897047">return</span>&nbsp;<span class="builtintype" id="5897054">false</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897064">for</span>&nbsp;<span class="ident" id="5897068">_</span><span class="op" id="5897069">,</span>&nbsp;<span class="ident" id="5897071">x</span>&nbsp;<span class="op" id="5897073">:=</span>&nbsp;<span class="keyword" id="5897076">range</span>&nbsp;<span class="ident" id="5897082">slice</span>&nbsp;<span class="op" id="5897088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897092">if</span>&nbsp;<span class="ident" id="5897095">x</span>&nbsp;<span class="op" id="5897097">!=</span>&nbsp;<span class="num" id="5897100">0</span><span class="op" id="5897101">+</span><span class="num" id="5897102">0i</span>&nbsp;<span class="op" id="5897105">||</span>&nbsp;<span class="ident" id="5897108">state</span><span class="op" id="5897113">.</span><span class="ident" id="5897114">sendZero</span>&nbsp;<span class="op" id="5897123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5897128">rpart</span>&nbsp;<span class="op" id="5897134">:=</span>&nbsp;<span class="ident" id="5897137">floatBits</span><span class="op" id="5897146">(</span><span class="builtinfunc" id="5897147">real</span><span class="op" id="5897151">(</span><span class="ident" id="5897152">x</span><span class="op" id="5897153">)</span><span class="op" id="5897154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5897159">ipart</span>&nbsp;<span class="op" id="5897165">:=</span>&nbsp;<span class="ident" id="5897168">floatBits</span><span class="op" id="5897177">(</span><span class="builtinfunc" id="5897178">imag</span><span class="op" id="5897182">(</span><span class="ident" id="5897183">x</span><span class="op" id="5897184">)</span><span class="op" id="5897185">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5897190">state</span><span class="op" id="5897195">.</span><span class="ident" id="5897196">encodeUint</span><span class="op" id="5897206">(</span><span class="ident" id="5897207">rpart</span><span class="op" id="5897212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5897217">state</span><span class="op" id="5897222">.</span><span class="ident" id="5897223">encodeUint</span><span class="op" id="5897233">(</span><span class="ident" id="5897234">ipart</span><span class="op" id="5897239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897249">return</span>&nbsp;<span class="builtintype" id="5897256">true</span><br>
<span class="lineno">125</span><span class="op" id="5897261">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5897264">func</span>&nbsp;<span class="ident" id="5897269">encFloat32Array</span><span class="op" id="5897284">(</span><span class="ident" id="5897285">state</span>&nbsp;<span class="op" id="5897291">*</span><span class="ident" id="5897292">encoderState</span><span class="op" id="5897304">,</span>&nbsp;<span class="ident" id="5897306">v</span>&nbsp;<span class="ident" id="5897308">reflect</span><span class="op" id="5897315">.</span><span class="ident" id="5897316">Value</span><span class="op" id="5897321">)</span>&nbsp;<span class="builtintype" id="5897323">bool</span>&nbsp;<span class="op" id="5897328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5897331">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897372">if</span>&nbsp;<span class="op" id="5897375">!</span><span class="ident" id="5897376">v</span><span class="op" id="5897377">.</span><span class="ident" id="5897378">CanAddr</span><span class="op" id="5897385">(</span><span class="op" id="5897386">)</span>&nbsp;<span class="op" id="5897388">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897392">return</span>&nbsp;<span class="builtintype" id="5897399">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897409">return</span>&nbsp;<span class="ident" id="5897416">encFloat32Slice</span><span class="op" id="5897431">(</span><span class="ident" id="5897432">state</span><span class="op" id="5897437">,</span>&nbsp;<span class="ident" id="5897439">v</span><span class="op" id="5897440">.</span><span class="ident" id="5897441">Slice</span><span class="op" id="5897446">(</span><span class="num" id="5897447">0</span><span class="op" id="5897448">,</span>&nbsp;<span class="ident" id="5897450">v</span><span class="op" id="5897451">.</span><span class="ident" id="5897452">Len</span><span class="op" id="5897455">(</span><span class="op" id="5897456">)</span><span class="op" id="5897457">)</span><span class="op" id="5897458">)</span><br>
<span class="lineno"></span><span class="op" id="5897460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="5897463">func</span>&nbsp;<span class="ident" id="5897468">encFloat32Slice</span><span class="op" id="5897483">(</span><span class="ident" id="5897484">state</span>&nbsp;<span class="op" id="5897490">*</span><span class="ident" id="5897491">encoderState</span><span class="op" id="5897503">,</span>&nbsp;<span class="ident" id="5897505">v</span>&nbsp;<span class="ident" id="5897507">reflect</span><span class="op" id="5897514">.</span><span class="ident" id="5897515">Value</span><span class="op" id="5897520">)</span>&nbsp;<span class="builtintype" id="5897522">bool</span>&nbsp;<span class="op" id="5897527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5897530">slice</span><span class="op" id="5897535">,</span>&nbsp;<span class="ident" id="5897537">ok</span>&nbsp;<span class="op" id="5897540">:=</span>&nbsp;<span class="ident" id="5897543">v</span><span class="op" id="5897544">.</span><span class="ident" id="5897545">Interface</span><span class="op" id="5897554">(</span><span class="op" id="5897555">)</span><span class="op" id="5897556">.</span><span class="op" id="5897557">(</span><span class="op" id="5897558">[</span><span class="op" id="5897559">]</span><span class="builtintype" id="5897560">float32</span><span class="op" id="5897567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897570">if</span>&nbsp;<span class="op" id="5897573">!</span><span class="ident" id="5897574">ok</span>&nbsp;<span class="op" id="5897577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5897581">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897662">return</span>&nbsp;<span class="builtintype" id="5897669">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897679">for</span>&nbsp;<span class="ident" id="5897683">_</span><span class="op" id="5897684">,</span>&nbsp;<span class="ident" id="5897686">x</span>&nbsp;<span class="op" id="5897688">:=</span>&nbsp;<span class="keyword" id="5897691">range</span>&nbsp;<span class="ident" id="5897697">slice</span>&nbsp;<span class="op" id="5897703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897707">if</span>&nbsp;<span class="ident" id="5897710">x</span>&nbsp;<span class="op" id="5897712">!=</span>&nbsp;<span class="num" id="5897715">0</span>&nbsp;<span class="op" id="5897717">||</span>&nbsp;<span class="ident" id="5897720">state</span><span class="op" id="5897725">.</span><span class="ident" id="5897726">sendZero</span>&nbsp;<span class="op" id="5897735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5897740">bits</span>&nbsp;<span class="op" id="5897745">:=</span>&nbsp;<span class="ident" id="5897748">floatBits</span><span class="op" id="5897757">(</span><span class="builtintype" id="5897758">float64</span><span class="op" id="5897765">(</span><span class="ident" id="5897766">x</span><span class="op" id="5897767">)</span><span class="op" id="5897768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5897773">state</span><span class="op" id="5897778">.</span><span class="ident" id="5897779">encodeUint</span><span class="op" id="5897789">(</span><span class="ident" id="5897790">bits</span><span class="op" id="5897794">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897798">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897804">return</span>&nbsp;<span class="builtintype" id="5897811">true</span><br>
<span class="lineno"></span><span class="op" id="5897816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span><span class="keyword" id="5897819">func</span>&nbsp;<span class="ident" id="5897824">encFloat64Array</span><span class="op" id="5897839">(</span><span class="ident" id="5897840">state</span>&nbsp;<span class="op" id="5897846">*</span><span class="ident" id="5897847">encoderState</span><span class="op" id="5897859">,</span>&nbsp;<span class="ident" id="5897861">v</span>&nbsp;<span class="ident" id="5897863">reflect</span><span class="op" id="5897870">.</span><span class="ident" id="5897871">Value</span><span class="op" id="5897876">)</span>&nbsp;<span class="builtintype" id="5897878">bool</span>&nbsp;<span class="op" id="5897883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5897886">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897927">if</span>&nbsp;<span class="op" id="5897930">!</span><span class="ident" id="5897931">v</span><span class="op" id="5897932">.</span><span class="ident" id="5897933">CanAddr</span><span class="op" id="5897940">(</span><span class="op" id="5897941">)</span>&nbsp;<span class="op" id="5897943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897947">return</span>&nbsp;<span class="builtintype" id="5897954">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897961">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897964">return</span>&nbsp;<span class="ident" id="5897971">encFloat64Slice</span><span class="op" id="5897986">(</span><span class="ident" id="5897987">state</span><span class="op" id="5897992">,</span>&nbsp;<span class="ident" id="5897994">v</span><span class="op" id="5897995">.</span><span class="ident" id="5897996">Slice</span><span class="op" id="5898001">(</span><span class="num" id="5898002">0</span><span class="op" id="5898003">,</span>&nbsp;<span class="ident" id="5898005">v</span><span class="op" id="5898006">.</span><span class="ident" id="5898007">Len</span><span class="op" id="5898010">(</span><span class="op" id="5898011">)</span><span class="op" id="5898012">)</span><span class="op" id="5898013">)</span><br>
<span class="lineno"></span><span class="op" id="5898015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5898018">func</span>&nbsp;<span class="ident" id="5898023">encFloat64Slice</span><span class="op" id="5898038">(</span><span class="ident" id="5898039">state</span>&nbsp;<span class="op" id="5898045">*</span><span class="ident" id="5898046">encoderState</span><span class="op" id="5898058">,</span>&nbsp;<span class="ident" id="5898060">v</span>&nbsp;<span class="ident" id="5898062">reflect</span><span class="op" id="5898069">.</span><span class="ident" id="5898070">Value</span><span class="op" id="5898075">)</span>&nbsp;<span class="builtintype" id="5898077">bool</span>&nbsp;<span class="op" id="5898082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898085">slice</span><span class="op" id="5898090">,</span>&nbsp;<span class="ident" id="5898092">ok</span>&nbsp;<span class="op" id="5898095">:=</span>&nbsp;<span class="ident" id="5898098">v</span><span class="op" id="5898099">.</span><span class="ident" id="5898100">Interface</span><span class="op" id="5898109">(</span><span class="op" id="5898110">)</span><span class="op" id="5898111">.</span><span class="op" id="5898112">(</span><span class="op" id="5898113">[</span><span class="op" id="5898114">]</span><span class="builtintype" id="5898115">float64</span><span class="op" id="5898122">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898125">if</span>&nbsp;<span class="op" id="5898128">!</span><span class="ident" id="5898129">ok</span>&nbsp;<span class="op" id="5898132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5898136">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898217">return</span>&nbsp;<span class="builtintype" id="5898224">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898234">for</span>&nbsp;<span class="ident" id="5898238">_</span><span class="op" id="5898239">,</span>&nbsp;<span class="ident" id="5898241">x</span>&nbsp;<span class="op" id="5898243">:=</span>&nbsp;<span class="keyword" id="5898246">range</span>&nbsp;<span class="ident" id="5898252">slice</span>&nbsp;<span class="op" id="5898258">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898262">if</span>&nbsp;<span class="ident" id="5898265">x</span>&nbsp;<span class="op" id="5898267">!=</span>&nbsp;<span class="num" id="5898270">0</span>&nbsp;<span class="op" id="5898272">||</span>&nbsp;<span class="ident" id="5898275">state</span><span class="op" id="5898280">.</span><span class="ident" id="5898281">sendZero</span>&nbsp;<span class="op" id="5898290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898295">bits</span>&nbsp;<span class="op" id="5898300">:=</span>&nbsp;<span class="ident" id="5898303">floatBits</span><span class="op" id="5898312">(</span><span class="ident" id="5898313">x</span><span class="op" id="5898314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898319">state</span><span class="op" id="5898324">.</span><span class="ident" id="5898325">encodeUint</span><span class="op" id="5898335">(</span><span class="ident" id="5898336">bits</span><span class="op" id="5898340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898347">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898350">return</span>&nbsp;<span class="builtintype" id="5898357">true</span><br>
<span class="lineno"></span><span class="op" id="5898362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5898365">func</span>&nbsp;<span class="ident" id="5898370">encIntArray</span><span class="op" id="5898381">(</span><span class="ident" id="5898382">state</span>&nbsp;<span class="op" id="5898388">*</span><span class="ident" id="5898389">encoderState</span><span class="op" id="5898401">,</span>&nbsp;<span class="ident" id="5898403">v</span>&nbsp;<span class="ident" id="5898405">reflect</span><span class="op" id="5898412">.</span><span class="ident" id="5898413">Value</span><span class="op" id="5898418">)</span>&nbsp;<span class="builtintype" id="5898420">bool</span>&nbsp;<span class="op" id="5898425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5898428">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898469">if</span>&nbsp;<span class="op" id="5898472">!</span><span class="ident" id="5898473">v</span><span class="op" id="5898474">.</span><span class="ident" id="5898475">CanAddr</span><span class="op" id="5898482">(</span><span class="op" id="5898483">)</span>&nbsp;<span class="op" id="5898485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898489">return</span>&nbsp;<span class="builtintype" id="5898496">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898506">return</span>&nbsp;<span class="ident" id="5898513">encIntSlice</span><span class="op" id="5898524">(</span><span class="ident" id="5898525">state</span><span class="op" id="5898530">,</span>&nbsp;<span class="ident" id="5898532">v</span><span class="op" id="5898533">.</span><span class="ident" id="5898534">Slice</span><span class="op" id="5898539">(</span><span class="num" id="5898540">0</span><span class="op" id="5898541">,</span>&nbsp;<span class="ident" id="5898543">v</span><span class="op" id="5898544">.</span><span class="ident" id="5898545">Len</span><span class="op" id="5898548">(</span><span class="op" id="5898549">)</span><span class="op" id="5898550">)</span><span class="op" id="5898551">)</span><br>
<span class="lineno"></span><span class="op" id="5898553">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="5898556">func</span>&nbsp;<span class="ident" id="5898561">encIntSlice</span><span class="op" id="5898572">(</span><span class="ident" id="5898573">state</span>&nbsp;<span class="op" id="5898579">*</span><span class="ident" id="5898580">encoderState</span><span class="op" id="5898592">,</span>&nbsp;<span class="ident" id="5898594">v</span>&nbsp;<span class="ident" id="5898596">reflect</span><span class="op" id="5898603">.</span><span class="ident" id="5898604">Value</span><span class="op" id="5898609">)</span>&nbsp;<span class="builtintype" id="5898611">bool</span>&nbsp;<span class="op" id="5898616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898619">slice</span><span class="op" id="5898624">,</span>&nbsp;<span class="ident" id="5898626">ok</span>&nbsp;<span class="op" id="5898629">:=</span>&nbsp;<span class="ident" id="5898632">v</span><span class="op" id="5898633">.</span><span class="ident" id="5898634">Interface</span><span class="op" id="5898643">(</span><span class="op" id="5898644">)</span><span class="op" id="5898645">.</span><span class="op" id="5898646">(</span><span class="op" id="5898647">[</span><span class="op" id="5898648">]</span><span class="builtintype" id="5898649">int</span><span class="op" id="5898652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898655">if</span>&nbsp;<span class="op" id="5898658">!</span><span class="ident" id="5898659">ok</span>&nbsp;<span class="op" id="5898662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5898666">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898739">return</span>&nbsp;<span class="builtintype" id="5898746">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898756">for</span>&nbsp;<span class="ident" id="5898760">_</span><span class="op" id="5898761">,</span>&nbsp;<span class="ident" id="5898763">x</span>&nbsp;<span class="op" id="5898765">:=</span>&nbsp;<span class="keyword" id="5898768">range</span>&nbsp;<span class="ident" id="5898774">slice</span>&nbsp;<span class="op" id="5898780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898784">if</span>&nbsp;<span class="ident" id="5898787">x</span>&nbsp;<span class="op" id="5898789">!=</span>&nbsp;<span class="num" id="5898792">0</span>&nbsp;<span class="op" id="5898794">||</span>&nbsp;<span class="ident" id="5898797">state</span><span class="op" id="5898802">.</span><span class="ident" id="5898803">sendZero</span>&nbsp;<span class="op" id="5898812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5898817">state</span><span class="op" id="5898822">.</span><span class="ident" id="5898823">encodeInt</span><span class="op" id="5898832">(</span><span class="ident" id="5898833">int64</span><span class="op" id="5898838">(</span><span class="ident" id="5898839">x</span><span class="op" id="5898840">)</span><span class="op" id="5898841">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5898848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898851">return</span>&nbsp;<span class="builtintype" id="5898858">true</span><br>
<span class="lineno"></span><span class="op" id="5898863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="5898866">func</span>&nbsp;<span class="ident" id="5898871">encInt16Array</span><span class="op" id="5898884">(</span><span class="ident" id="5898885">state</span>&nbsp;<span class="op" id="5898891">*</span><span class="ident" id="5898892">encoderState</span><span class="op" id="5898904">,</span>&nbsp;<span class="ident" id="5898906">v</span>&nbsp;<span class="ident" id="5898908">reflect</span><span class="op" id="5898915">.</span><span class="ident" id="5898916">Value</span><span class="op" id="5898921">)</span>&nbsp;<span class="builtintype" id="5898923">bool</span>&nbsp;<span class="op" id="5898928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5898931">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898972">if</span>&nbsp;<span class="op" id="5898975">!</span><span class="ident" id="5898976">v</span><span class="op" id="5898977">.</span><span class="ident" id="5898978">CanAddr</span><span class="op" id="5898985">(</span><span class="op" id="5898986">)</span>&nbsp;<span class="op" id="5898988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5898992">return</span>&nbsp;<span class="builtintype" id="5898999">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899006">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899009">return</span>&nbsp;<span class="ident" id="5899016">encInt16Slice</span><span class="op" id="5899029">(</span><span class="ident" id="5899030">state</span><span class="op" id="5899035">,</span>&nbsp;<span class="ident" id="5899037">v</span><span class="op" id="5899038">.</span><span class="ident" id="5899039">Slice</span><span class="op" id="5899044">(</span><span class="num" id="5899045">0</span><span class="op" id="5899046">,</span>&nbsp;<span class="ident" id="5899048">v</span><span class="op" id="5899049">.</span><span class="ident" id="5899050">Len</span><span class="op" id="5899053">(</span><span class="op" id="5899054">)</span><span class="op" id="5899055">)</span><span class="op" id="5899056">)</span><br>
<span class="lineno"></span><span class="op" id="5899058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5899061">func</span>&nbsp;<span class="ident" id="5899066">encInt16Slice</span><span class="op" id="5899079">(</span><span class="ident" id="5899080">state</span>&nbsp;<span class="op" id="5899086">*</span><span class="ident" id="5899087">encoderState</span><span class="op" id="5899099">,</span>&nbsp;<span class="ident" id="5899101">v</span>&nbsp;<span class="ident" id="5899103">reflect</span><span class="op" id="5899110">.</span><span class="ident" id="5899111">Value</span><span class="op" id="5899116">)</span>&nbsp;<span class="builtintype" id="5899118">bool</span>&nbsp;<span class="op" id="5899123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899126">slice</span><span class="op" id="5899131">,</span>&nbsp;<span class="ident" id="5899133">ok</span>&nbsp;<span class="op" id="5899136">:=</span>&nbsp;<span class="ident" id="5899139">v</span><span class="op" id="5899140">.</span><span class="ident" id="5899141">Interface</span><span class="op" id="5899150">(</span><span class="op" id="5899151">)</span><span class="op" id="5899152">.</span><span class="op" id="5899153">(</span><span class="op" id="5899154">[</span><span class="op" id="5899155">]</span><span class="builtintype" id="5899156">int16</span><span class="op" id="5899161">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899164">if</span>&nbsp;<span class="op" id="5899167">!</span><span class="ident" id="5899168">ok</span>&nbsp;<span class="op" id="5899171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5899175">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899252">return</span>&nbsp;<span class="builtintype" id="5899259">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899269">for</span>&nbsp;<span class="ident" id="5899273">_</span><span class="op" id="5899274">,</span>&nbsp;<span class="ident" id="5899276">x</span>&nbsp;<span class="op" id="5899278">:=</span>&nbsp;<span class="keyword" id="5899281">range</span>&nbsp;<span class="ident" id="5899287">slice</span>&nbsp;<span class="op" id="5899293">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899297">if</span>&nbsp;<span class="ident" id="5899300">x</span>&nbsp;<span class="op" id="5899302">!=</span>&nbsp;<span class="num" id="5899305">0</span>&nbsp;<span class="op" id="5899307">||</span>&nbsp;<span class="ident" id="5899310">state</span><span class="op" id="5899315">.</span><span class="ident" id="5899316">sendZero</span>&nbsp;<span class="op" id="5899325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899330">state</span><span class="op" id="5899335">.</span><span class="ident" id="5899336">encodeInt</span><span class="op" id="5899345">(</span><span class="ident" id="5899346">int64</span><span class="op" id="5899351">(</span><span class="ident" id="5899352">x</span><span class="op" id="5899353">)</span><span class="op" id="5899354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899364">return</span>&nbsp;<span class="builtintype" id="5899371">true</span><br>
<span class="lineno">215</span><span class="op" id="5899376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5899379">func</span>&nbsp;<span class="ident" id="5899384">encInt32Array</span><span class="op" id="5899397">(</span><span class="ident" id="5899398">state</span>&nbsp;<span class="op" id="5899404">*</span><span class="ident" id="5899405">encoderState</span><span class="op" id="5899417">,</span>&nbsp;<span class="ident" id="5899419">v</span>&nbsp;<span class="ident" id="5899421">reflect</span><span class="op" id="5899428">.</span><span class="ident" id="5899429">Value</span><span class="op" id="5899434">)</span>&nbsp;<span class="builtintype" id="5899436">bool</span>&nbsp;<span class="op" id="5899441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5899444">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899485">if</span>&nbsp;<span class="op" id="5899488">!</span><span class="ident" id="5899489">v</span><span class="op" id="5899490">.</span><span class="ident" id="5899491">CanAddr</span><span class="op" id="5899498">(</span><span class="op" id="5899499">)</span>&nbsp;<span class="op" id="5899501">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899505">return</span>&nbsp;<span class="builtintype" id="5899512">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899522">return</span>&nbsp;<span class="ident" id="5899529">encInt32Slice</span><span class="op" id="5899542">(</span><span class="ident" id="5899543">state</span><span class="op" id="5899548">,</span>&nbsp;<span class="ident" id="5899550">v</span><span class="op" id="5899551">.</span><span class="ident" id="5899552">Slice</span><span class="op" id="5899557">(</span><span class="num" id="5899558">0</span><span class="op" id="5899559">,</span>&nbsp;<span class="ident" id="5899561">v</span><span class="op" id="5899562">.</span><span class="ident" id="5899563">Len</span><span class="op" id="5899566">(</span><span class="op" id="5899567">)</span><span class="op" id="5899568">)</span><span class="op" id="5899569">)</span><br>
<span class="lineno"></span><span class="op" id="5899571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="5899574">func</span>&nbsp;<span class="ident" id="5899579">encInt32Slice</span><span class="op" id="5899592">(</span><span class="ident" id="5899593">state</span>&nbsp;<span class="op" id="5899599">*</span><span class="ident" id="5899600">encoderState</span><span class="op" id="5899612">,</span>&nbsp;<span class="ident" id="5899614">v</span>&nbsp;<span class="ident" id="5899616">reflect</span><span class="op" id="5899623">.</span><span class="ident" id="5899624">Value</span><span class="op" id="5899629">)</span>&nbsp;<span class="builtintype" id="5899631">bool</span>&nbsp;<span class="op" id="5899636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899639">slice</span><span class="op" id="5899644">,</span>&nbsp;<span class="ident" id="5899646">ok</span>&nbsp;<span class="op" id="5899649">:=</span>&nbsp;<span class="ident" id="5899652">v</span><span class="op" id="5899653">.</span><span class="ident" id="5899654">Interface</span><span class="op" id="5899663">(</span><span class="op" id="5899664">)</span><span class="op" id="5899665">.</span><span class="op" id="5899666">(</span><span class="op" id="5899667">[</span><span class="op" id="5899668">]</span><span class="builtintype" id="5899669">int32</span><span class="op" id="5899674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899677">if</span>&nbsp;<span class="op" id="5899680">!</span><span class="ident" id="5899681">ok</span>&nbsp;<span class="op" id="5899684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5899688">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899765">return</span>&nbsp;<span class="builtintype" id="5899772">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899782">for</span>&nbsp;<span class="ident" id="5899786">_</span><span class="op" id="5899787">,</span>&nbsp;<span class="ident" id="5899789">x</span>&nbsp;<span class="op" id="5899791">:=</span>&nbsp;<span class="keyword" id="5899794">range</span>&nbsp;<span class="ident" id="5899800">slice</span>&nbsp;<span class="op" id="5899806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899810">if</span>&nbsp;<span class="ident" id="5899813">x</span>&nbsp;<span class="op" id="5899815">!=</span>&nbsp;<span class="num" id="5899818">0</span>&nbsp;<span class="op" id="5899820">||</span>&nbsp;<span class="ident" id="5899823">state</span><span class="op" id="5899828">.</span><span class="ident" id="5899829">sendZero</span>&nbsp;<span class="op" id="5899838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5899843">state</span><span class="op" id="5899848">.</span><span class="ident" id="5899849">encodeInt</span><span class="op" id="5899858">(</span><span class="ident" id="5899859">int64</span><span class="op" id="5899864">(</span><span class="ident" id="5899865">x</span><span class="op" id="5899866">)</span><span class="op" id="5899867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899871">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5899874">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899877">return</span>&nbsp;<span class="builtintype" id="5899884">true</span><br>
<span class="lineno"></span><span class="op" id="5899889">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5899892">func</span>&nbsp;<span class="ident" id="5899897">encInt64Array</span><span class="op" id="5899910">(</span><span class="ident" id="5899911">state</span>&nbsp;<span class="op" id="5899917">*</span><span class="ident" id="5899918">encoderState</span><span class="op" id="5899930">,</span>&nbsp;<span class="ident" id="5899932">v</span>&nbsp;<span class="ident" id="5899934">reflect</span><span class="op" id="5899941">.</span><span class="ident" id="5899942">Value</span><span class="op" id="5899947">)</span>&nbsp;<span class="builtintype" id="5899949">bool</span>&nbsp;<span class="op" id="5899954">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5899957">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5899998">if</span>&nbsp;<span class="op" id="5900001">!</span><span class="ident" id="5900002">v</span><span class="op" id="5900003">.</span><span class="ident" id="5900004">CanAddr</span><span class="op" id="5900011">(</span><span class="op" id="5900012">)</span>&nbsp;<span class="op" id="5900014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900018">return</span>&nbsp;<span class="builtintype" id="5900025">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900035">return</span>&nbsp;<span class="ident" id="5900042">encInt64Slice</span><span class="op" id="5900055">(</span><span class="ident" id="5900056">state</span><span class="op" id="5900061">,</span>&nbsp;<span class="ident" id="5900063">v</span><span class="op" id="5900064">.</span><span class="ident" id="5900065">Slice</span><span class="op" id="5900070">(</span><span class="num" id="5900071">0</span><span class="op" id="5900072">,</span>&nbsp;<span class="ident" id="5900074">v</span><span class="op" id="5900075">.</span><span class="ident" id="5900076">Len</span><span class="op" id="5900079">(</span><span class="op" id="5900080">)</span><span class="op" id="5900081">)</span><span class="op" id="5900082">)</span><br>
<span class="lineno">245</span><span class="op" id="5900084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5900087">func</span>&nbsp;<span class="ident" id="5900092">encInt64Slice</span><span class="op" id="5900105">(</span><span class="ident" id="5900106">state</span>&nbsp;<span class="op" id="5900112">*</span><span class="ident" id="5900113">encoderState</span><span class="op" id="5900125">,</span>&nbsp;<span class="ident" id="5900127">v</span>&nbsp;<span class="ident" id="5900129">reflect</span><span class="op" id="5900136">.</span><span class="ident" id="5900137">Value</span><span class="op" id="5900142">)</span>&nbsp;<span class="builtintype" id="5900144">bool</span>&nbsp;<span class="op" id="5900149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5900152">slice</span><span class="op" id="5900157">,</span>&nbsp;<span class="ident" id="5900159">ok</span>&nbsp;<span class="op" id="5900162">:=</span>&nbsp;<span class="ident" id="5900165">v</span><span class="op" id="5900166">.</span><span class="ident" id="5900167">Interface</span><span class="op" id="5900176">(</span><span class="op" id="5900177">)</span><span class="op" id="5900178">.</span><span class="op" id="5900179">(</span><span class="op" id="5900180">[</span><span class="op" id="5900181">]</span><span class="ident" id="5900182">int64</span><span class="op" id="5900187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900190">if</span>&nbsp;<span class="op" id="5900193">!</span><span class="ident" id="5900194">ok</span>&nbsp;<span class="op" id="5900197">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5900201">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900278">return</span>&nbsp;<span class="builtintype" id="5900285">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900295">for</span>&nbsp;<span class="ident" id="5900299">_</span><span class="op" id="5900300">,</span>&nbsp;<span class="ident" id="5900302">x</span>&nbsp;<span class="op" id="5900304">:=</span>&nbsp;<span class="keyword" id="5900307">range</span>&nbsp;<span class="ident" id="5900313">slice</span>&nbsp;<span class="op" id="5900319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900323">if</span>&nbsp;<span class="ident" id="5900326">x</span>&nbsp;<span class="op" id="5900328">!=</span>&nbsp;<span class="num" id="5900331">0</span>&nbsp;<span class="op" id="5900333">||</span>&nbsp;<span class="ident" id="5900336">state</span><span class="op" id="5900341">.</span><span class="ident" id="5900342">sendZero</span>&nbsp;<span class="op" id="5900351">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5900356">state</span><span class="op" id="5900361">.</span><span class="ident" id="5900362">encodeInt</span><span class="op" id="5900371">(</span><span class="ident" id="5900372">x</span><span class="op" id="5900373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900383">return</span>&nbsp;<span class="builtintype" id="5900390">true</span><br>
<span class="lineno"></span><span class="op" id="5900395">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5900398">func</span>&nbsp;<span class="ident" id="5900403">encInt8Array</span><span class="op" id="5900415">(</span><span class="ident" id="5900416">state</span>&nbsp;<span class="op" id="5900422">*</span><span class="ident" id="5900423">encoderState</span><span class="op" id="5900435">,</span>&nbsp;<span class="ident" id="5900437">v</span>&nbsp;<span class="ident" id="5900439">reflect</span><span class="op" id="5900446">.</span><span class="ident" id="5900447">Value</span><span class="op" id="5900452">)</span>&nbsp;<span class="builtintype" id="5900454">bool</span>&nbsp;<span class="op" id="5900459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5900462">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900503">if</span>&nbsp;<span class="op" id="5900506">!</span><span class="ident" id="5900507">v</span><span class="op" id="5900508">.</span><span class="ident" id="5900509">CanAddr</span><span class="op" id="5900516">(</span><span class="op" id="5900517">)</span>&nbsp;<span class="op" id="5900519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900523">return</span>&nbsp;<span class="builtintype" id="5900530">false</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900540">return</span>&nbsp;<span class="ident" id="5900547">encInt8Slice</span><span class="op" id="5900559">(</span><span class="ident" id="5900560">state</span><span class="op" id="5900565">,</span>&nbsp;<span class="ident" id="5900567">v</span><span class="op" id="5900568">.</span><span class="ident" id="5900569">Slice</span><span class="op" id="5900574">(</span><span class="num" id="5900575">0</span><span class="op" id="5900576">,</span>&nbsp;<span class="ident" id="5900578">v</span><span class="op" id="5900579">.</span><span class="ident" id="5900580">Len</span><span class="op" id="5900583">(</span><span class="op" id="5900584">)</span><span class="op" id="5900585">)</span><span class="op" id="5900586">)</span><br>
<span class="lineno"></span><span class="op" id="5900588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5900591">func</span>&nbsp;<span class="ident" id="5900596">encInt8Slice</span><span class="op" id="5900608">(</span><span class="ident" id="5900609">state</span>&nbsp;<span class="op" id="5900615">*</span><span class="ident" id="5900616">encoderState</span><span class="op" id="5900628">,</span>&nbsp;<span class="ident" id="5900630">v</span>&nbsp;<span class="ident" id="5900632">reflect</span><span class="op" id="5900639">.</span><span class="ident" id="5900640">Value</span><span class="op" id="5900645">)</span>&nbsp;<span class="builtintype" id="5900647">bool</span>&nbsp;<span class="op" id="5900652">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5900655">slice</span><span class="op" id="5900660">,</span>&nbsp;<span class="ident" id="5900662">ok</span>&nbsp;<span class="op" id="5900665">:=</span>&nbsp;<span class="ident" id="5900668">v</span><span class="op" id="5900669">.</span><span class="ident" id="5900670">Interface</span><span class="op" id="5900679">(</span><span class="op" id="5900680">)</span><span class="op" id="5900681">.</span><span class="op" id="5900682">(</span><span class="op" id="5900683">[</span><span class="op" id="5900684">]</span><span class="builtintype" id="5900685">int8</span><span class="op" id="5900689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900692">if</span>&nbsp;<span class="op" id="5900695">!</span><span class="ident" id="5900696">ok</span>&nbsp;<span class="op" id="5900699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5900703">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900778">return</span>&nbsp;<span class="builtintype" id="5900785">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900792">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900795">for</span>&nbsp;<span class="ident" id="5900799">_</span><span class="op" id="5900800">,</span>&nbsp;<span class="ident" id="5900802">x</span>&nbsp;<span class="op" id="5900804">:=</span>&nbsp;<span class="keyword" id="5900807">range</span>&nbsp;<span class="ident" id="5900813">slice</span>&nbsp;<span class="op" id="5900819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900823">if</span>&nbsp;<span class="ident" id="5900826">x</span>&nbsp;<span class="op" id="5900828">!=</span>&nbsp;<span class="num" id="5900831">0</span>&nbsp;<span class="op" id="5900833">||</span>&nbsp;<span class="ident" id="5900836">state</span><span class="op" id="5900841">.</span><span class="ident" id="5900842">sendZero</span>&nbsp;<span class="op" id="5900851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5900856">state</span><span class="op" id="5900861">.</span><span class="ident" id="5900862">encodeInt</span><span class="op" id="5900871">(</span><span class="ident" id="5900872">int64</span><span class="op" id="5900877">(</span><span class="ident" id="5900878">x</span><span class="op" id="5900879">)</span><span class="op" id="5900880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5900887">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5900890">return</span>&nbsp;<span class="builtintype" id="5900897">true</span><br>
<span class="lineno"></span><span class="op" id="5900902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5900905">func</span>&nbsp;<span class="ident" id="5900910">encStringArray</span><span class="op" id="5900924">(</span><span class="ident" id="5900925">state</span>&nbsp;<span class="op" id="5900931">*</span><span class="ident" id="5900932">encoderState</span><span class="op" id="5900944">,</span>&nbsp;<span class="ident" id="5900946">v</span>&nbsp;<span class="ident" id="5900948">reflect</span><span class="op" id="5900955">.</span><span class="ident" id="5900956">Value</span><span class="op" id="5900961">)</span>&nbsp;<span class="builtintype" id="5900963">bool</span>&nbsp;<span class="op" id="5900968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5900971">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901012">if</span>&nbsp;<span class="op" id="5901015">!</span><span class="ident" id="5901016">v</span><span class="op" id="5901017">.</span><span class="ident" id="5901018">CanAddr</span><span class="op" id="5901025">(</span><span class="op" id="5901026">)</span>&nbsp;<span class="op" id="5901028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901032">return</span>&nbsp;<span class="builtintype" id="5901039">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901049">return</span>&nbsp;<span class="ident" id="5901056">encStringSlice</span><span class="op" id="5901070">(</span><span class="ident" id="5901071">state</span><span class="op" id="5901076">,</span>&nbsp;<span class="ident" id="5901078">v</span><span class="op" id="5901079">.</span><span class="ident" id="5901080">Slice</span><span class="op" id="5901085">(</span><span class="num" id="5901086">0</span><span class="op" id="5901087">,</span>&nbsp;<span class="ident" id="5901089">v</span><span class="op" id="5901090">.</span><span class="ident" id="5901091">Len</span><span class="op" id="5901094">(</span><span class="op" id="5901095">)</span><span class="op" id="5901096">)</span><span class="op" id="5901097">)</span><br>
<span class="lineno"></span><span class="op" id="5901099">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="5901102">func</span>&nbsp;<span class="ident" id="5901107">encStringSlice</span><span class="op" id="5901121">(</span><span class="ident" id="5901122">state</span>&nbsp;<span class="op" id="5901128">*</span><span class="ident" id="5901129">encoderState</span><span class="op" id="5901141">,</span>&nbsp;<span class="ident" id="5901143">v</span>&nbsp;<span class="ident" id="5901145">reflect</span><span class="op" id="5901152">.</span><span class="ident" id="5901153">Value</span><span class="op" id="5901158">)</span>&nbsp;<span class="builtintype" id="5901160">bool</span>&nbsp;<span class="op" id="5901165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5901168">slice</span><span class="op" id="5901173">,</span>&nbsp;<span class="ident" id="5901175">ok</span>&nbsp;<span class="op" id="5901178">:=</span>&nbsp;<span class="ident" id="5901181">v</span><span class="op" id="5901182">.</span><span class="ident" id="5901183">Interface</span><span class="op" id="5901192">(</span><span class="op" id="5901193">)</span><span class="op" id="5901194">.</span><span class="op" id="5901195">(</span><span class="op" id="5901196">[</span><span class="op" id="5901197">]</span><span class="builtintype" id="5901198">string</span><span class="op" id="5901204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901207">if</span>&nbsp;<span class="op" id="5901210">!</span><span class="ident" id="5901211">ok</span>&nbsp;<span class="op" id="5901214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5901218">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901297">return</span>&nbsp;<span class="builtintype" id="5901304">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901314">for</span>&nbsp;<span class="ident" id="5901318">_</span><span class="op" id="5901319">,</span>&nbsp;<span class="ident" id="5901321">x</span>&nbsp;<span class="op" id="5901323">:=</span>&nbsp;<span class="keyword" id="5901326">range</span>&nbsp;<span class="ident" id="5901332">slice</span>&nbsp;<span class="op" id="5901338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901342">if</span>&nbsp;<span class="ident" id="5901345">x</span>&nbsp;<span class="op" id="5901347">!=</span>&nbsp;<span class="string" id="5901350">&#34;&#34;</span>&nbsp;<span class="op" id="5901353">||</span>&nbsp;<span class="ident" id="5901356">state</span><span class="op" id="5901361">.</span><span class="ident" id="5901362">sendZero</span>&nbsp;<span class="op" id="5901371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5901376">state</span><span class="op" id="5901381">.</span><span class="ident" id="5901382">encodeUint</span><span class="op" id="5901392">(</span><span class="ident" id="5901393">uint64</span><span class="op" id="5901399">(</span><span class="builtinfunc" id="5901400">len</span><span class="op" id="5901403">(</span><span class="ident" id="5901404">x</span><span class="op" id="5901405">)</span><span class="op" id="5901406">)</span><span class="op" id="5901407">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5901412">state</span><span class="op" id="5901417">.</span><span class="ident" id="5901418">b</span><span class="op" id="5901419">.</span><span class="ident" id="5901420">WriteString</span><span class="op" id="5901431">(</span><span class="ident" id="5901432">x</span><span class="op" id="5901433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901443">return</span>&nbsp;<span class="builtintype" id="5901450">true</span><br>
<span class="lineno"></span><span class="op" id="5901455">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="5901458">func</span>&nbsp;<span class="ident" id="5901463">encUintArray</span><span class="op" id="5901475">(</span><span class="ident" id="5901476">state</span>&nbsp;<span class="op" id="5901482">*</span><span class="ident" id="5901483">encoderState</span><span class="op" id="5901495">,</span>&nbsp;<span class="ident" id="5901497">v</span>&nbsp;<span class="ident" id="5901499">reflect</span><span class="op" id="5901506">.</span><span class="ident" id="5901507">Value</span><span class="op" id="5901512">)</span>&nbsp;<span class="builtintype" id="5901514">bool</span>&nbsp;<span class="op" id="5901519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5901522">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901563">if</span>&nbsp;<span class="op" id="5901566">!</span><span class="ident" id="5901567">v</span><span class="op" id="5901568">.</span><span class="ident" id="5901569">CanAddr</span><span class="op" id="5901576">(</span><span class="op" id="5901577">)</span>&nbsp;<span class="op" id="5901579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901583">return</span>&nbsp;<span class="builtintype" id="5901590">false</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901600">return</span>&nbsp;<span class="ident" id="5901607">encUintSlice</span><span class="op" id="5901619">(</span><span class="ident" id="5901620">state</span><span class="op" id="5901625">,</span>&nbsp;<span class="ident" id="5901627">v</span><span class="op" id="5901628">.</span><span class="ident" id="5901629">Slice</span><span class="op" id="5901634">(</span><span class="num" id="5901635">0</span><span class="op" id="5901636">,</span>&nbsp;<span class="ident" id="5901638">v</span><span class="op" id="5901639">.</span><span class="ident" id="5901640">Len</span><span class="op" id="5901643">(</span><span class="op" id="5901644">)</span><span class="op" id="5901645">)</span><span class="op" id="5901646">)</span><br>
<span class="lineno"></span><span class="op" id="5901648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5901651">func</span>&nbsp;<span class="ident" id="5901656">encUintSlice</span><span class="op" id="5901668">(</span><span class="ident" id="5901669">state</span>&nbsp;<span class="op" id="5901675">*</span><span class="ident" id="5901676">encoderState</span><span class="op" id="5901688">,</span>&nbsp;<span class="ident" id="5901690">v</span>&nbsp;<span class="ident" id="5901692">reflect</span><span class="op" id="5901699">.</span><span class="ident" id="5901700">Value</span><span class="op" id="5901705">)</span>&nbsp;<span class="builtintype" id="5901707">bool</span>&nbsp;<span class="op" id="5901712">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5901715">slice</span><span class="op" id="5901720">,</span>&nbsp;<span class="ident" id="5901722">ok</span>&nbsp;<span class="op" id="5901725">:=</span>&nbsp;<span class="ident" id="5901728">v</span><span class="op" id="5901729">.</span><span class="ident" id="5901730">Interface</span><span class="op" id="5901739">(</span><span class="op" id="5901740">)</span><span class="op" id="5901741">.</span><span class="op" id="5901742">(</span><span class="op" id="5901743">[</span><span class="op" id="5901744">]</span><span class="builtintype" id="5901745">uint</span><span class="op" id="5901749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901752">if</span>&nbsp;<span class="op" id="5901755">!</span><span class="ident" id="5901756">ok</span>&nbsp;<span class="op" id="5901759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5901763">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901838">return</span>&nbsp;<span class="builtintype" id="5901845">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901852">}</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901855">for</span>&nbsp;<span class="ident" id="5901859">_</span><span class="op" id="5901860">,</span>&nbsp;<span class="ident" id="5901862">x</span>&nbsp;<span class="op" id="5901864">:=</span>&nbsp;<span class="keyword" id="5901867">range</span>&nbsp;<span class="ident" id="5901873">slice</span>&nbsp;<span class="op" id="5901879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901883">if</span>&nbsp;<span class="ident" id="5901886">x</span>&nbsp;<span class="op" id="5901888">!=</span>&nbsp;<span class="num" id="5901891">0</span>&nbsp;<span class="op" id="5901893">||</span>&nbsp;<span class="ident" id="5901896">state</span><span class="op" id="5901901">.</span><span class="ident" id="5901902">sendZero</span>&nbsp;<span class="op" id="5901911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5901916">state</span><span class="op" id="5901921">.</span><span class="ident" id="5901922">encodeUint</span><span class="op" id="5901932">(</span><span class="ident" id="5901933">uint64</span><span class="op" id="5901939">(</span><span class="ident" id="5901940">x</span><span class="op" id="5901941">)</span><span class="op" id="5901942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5901949">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5901952">return</span>&nbsp;<span class="builtintype" id="5901959">true</span><br>
<span class="lineno"></span><span class="op" id="5901964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5901967">func</span>&nbsp;<span class="ident" id="5901972">encUint16Array</span><span class="op" id="5901986">(</span><span class="ident" id="5901987">state</span>&nbsp;<span class="op" id="5901993">*</span><span class="ident" id="5901994">encoderState</span><span class="op" id="5902006">,</span>&nbsp;<span class="ident" id="5902008">v</span>&nbsp;<span class="ident" id="5902010">reflect</span><span class="op" id="5902017">.</span><span class="ident" id="5902018">Value</span><span class="op" id="5902023">)</span>&nbsp;<span class="builtintype" id="5902025">bool</span>&nbsp;<span class="op" id="5902030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5902033">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902074">if</span>&nbsp;<span class="op" id="5902077">!</span><span class="ident" id="5902078">v</span><span class="op" id="5902079">.</span><span class="ident" id="5902080">CanAddr</span><span class="op" id="5902087">(</span><span class="op" id="5902088">)</span>&nbsp;<span class="op" id="5902090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902094">return</span>&nbsp;<span class="builtintype" id="5902101">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902111">return</span>&nbsp;<span class="ident" id="5902118">encUint16Slice</span><span class="op" id="5902132">(</span><span class="ident" id="5902133">state</span><span class="op" id="5902138">,</span>&nbsp;<span class="ident" id="5902140">v</span><span class="op" id="5902141">.</span><span class="ident" id="5902142">Slice</span><span class="op" id="5902147">(</span><span class="num" id="5902148">0</span><span class="op" id="5902149">,</span>&nbsp;<span class="ident" id="5902151">v</span><span class="op" id="5902152">.</span><span class="ident" id="5902153">Len</span><span class="op" id="5902156">(</span><span class="op" id="5902157">)</span><span class="op" id="5902158">)</span><span class="op" id="5902159">)</span><br>
<span class="lineno"></span><span class="op" id="5902161">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="5902164">func</span>&nbsp;<span class="ident" id="5902169">encUint16Slice</span><span class="op" id="5902183">(</span><span class="ident" id="5902184">state</span>&nbsp;<span class="op" id="5902190">*</span><span class="ident" id="5902191">encoderState</span><span class="op" id="5902203">,</span>&nbsp;<span class="ident" id="5902205">v</span>&nbsp;<span class="ident" id="5902207">reflect</span><span class="op" id="5902214">.</span><span class="ident" id="5902215">Value</span><span class="op" id="5902220">)</span>&nbsp;<span class="builtintype" id="5902222">bool</span>&nbsp;<span class="op" id="5902227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5902230">slice</span><span class="op" id="5902235">,</span>&nbsp;<span class="ident" id="5902237">ok</span>&nbsp;<span class="op" id="5902240">:=</span>&nbsp;<span class="ident" id="5902243">v</span><span class="op" id="5902244">.</span><span class="ident" id="5902245">Interface</span><span class="op" id="5902254">(</span><span class="op" id="5902255">)</span><span class="op" id="5902256">.</span><span class="op" id="5902257">(</span><span class="op" id="5902258">[</span><span class="op" id="5902259">]</span><span class="builtintype" id="5902260">uint16</span><span class="op" id="5902266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902269">if</span>&nbsp;<span class="op" id="5902272">!</span><span class="ident" id="5902273">ok</span>&nbsp;<span class="op" id="5902276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5902280">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902359">return</span>&nbsp;<span class="builtintype" id="5902366">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902376">for</span>&nbsp;<span class="ident" id="5902380">_</span><span class="op" id="5902381">,</span>&nbsp;<span class="ident" id="5902383">x</span>&nbsp;<span class="op" id="5902385">:=</span>&nbsp;<span class="keyword" id="5902388">range</span>&nbsp;<span class="ident" id="5902394">slice</span>&nbsp;<span class="op" id="5902400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902404">if</span>&nbsp;<span class="ident" id="5902407">x</span>&nbsp;<span class="op" id="5902409">!=</span>&nbsp;<span class="num" id="5902412">0</span>&nbsp;<span class="op" id="5902414">||</span>&nbsp;<span class="ident" id="5902417">state</span><span class="op" id="5902422">.</span><span class="ident" id="5902423">sendZero</span>&nbsp;<span class="op" id="5902432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5902437">state</span><span class="op" id="5902442">.</span><span class="ident" id="5902443">encodeUint</span><span class="op" id="5902453">(</span><span class="ident" id="5902454">uint64</span><span class="op" id="5902460">(</span><span class="ident" id="5902461">x</span><span class="op" id="5902462">)</span><span class="op" id="5902463">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902473">return</span>&nbsp;<span class="builtintype" id="5902480">true</span><br>
<span class="lineno"></span><span class="op" id="5902485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="5902488">func</span>&nbsp;<span class="ident" id="5902493">encUint32Array</span><span class="op" id="5902507">(</span><span class="ident" id="5902508">state</span>&nbsp;<span class="op" id="5902514">*</span><span class="ident" id="5902515">encoderState</span><span class="op" id="5902527">,</span>&nbsp;<span class="ident" id="5902529">v</span>&nbsp;<span class="ident" id="5902531">reflect</span><span class="op" id="5902538">.</span><span class="ident" id="5902539">Value</span><span class="op" id="5902544">)</span>&nbsp;<span class="builtintype" id="5902546">bool</span>&nbsp;<span class="op" id="5902551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5902554">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902595">if</span>&nbsp;<span class="op" id="5902598">!</span><span class="ident" id="5902599">v</span><span class="op" id="5902600">.</span><span class="ident" id="5902601">CanAddr</span><span class="op" id="5902608">(</span><span class="op" id="5902609">)</span>&nbsp;<span class="op" id="5902611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902615">return</span>&nbsp;<span class="builtintype" id="5902622">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902629">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902632">return</span>&nbsp;<span class="ident" id="5902639">encUint32Slice</span><span class="op" id="5902653">(</span><span class="ident" id="5902654">state</span><span class="op" id="5902659">,</span>&nbsp;<span class="ident" id="5902661">v</span><span class="op" id="5902662">.</span><span class="ident" id="5902663">Slice</span><span class="op" id="5902668">(</span><span class="num" id="5902669">0</span><span class="op" id="5902670">,</span>&nbsp;<span class="ident" id="5902672">v</span><span class="op" id="5902673">.</span><span class="ident" id="5902674">Len</span><span class="op" id="5902677">(</span><span class="op" id="5902678">)</span><span class="op" id="5902679">)</span><span class="op" id="5902680">)</span><br>
<span class="lineno"></span><span class="op" id="5902682">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5902685">func</span>&nbsp;<span class="ident" id="5902690">encUint32Slice</span><span class="op" id="5902704">(</span><span class="ident" id="5902705">state</span>&nbsp;<span class="op" id="5902711">*</span><span class="ident" id="5902712">encoderState</span><span class="op" id="5902724">,</span>&nbsp;<span class="ident" id="5902726">v</span>&nbsp;<span class="ident" id="5902728">reflect</span><span class="op" id="5902735">.</span><span class="ident" id="5902736">Value</span><span class="op" id="5902741">)</span>&nbsp;<span class="builtintype" id="5902743">bool</span>&nbsp;<span class="op" id="5902748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5902751">slice</span><span class="op" id="5902756">,</span>&nbsp;<span class="ident" id="5902758">ok</span>&nbsp;<span class="op" id="5902761">:=</span>&nbsp;<span class="ident" id="5902764">v</span><span class="op" id="5902765">.</span><span class="ident" id="5902766">Interface</span><span class="op" id="5902775">(</span><span class="op" id="5902776">)</span><span class="op" id="5902777">.</span><span class="op" id="5902778">(</span><span class="op" id="5902779">[</span><span class="op" id="5902780">]</span><span class="builtintype" id="5902781">uint32</span><span class="op" id="5902787">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902790">if</span>&nbsp;<span class="op" id="5902793">!</span><span class="ident" id="5902794">ok</span>&nbsp;<span class="op" id="5902797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5902801">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902880">return</span>&nbsp;<span class="builtintype" id="5902887">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902897">for</span>&nbsp;<span class="ident" id="5902901">_</span><span class="op" id="5902902">,</span>&nbsp;<span class="ident" id="5902904">x</span>&nbsp;<span class="op" id="5902906">:=</span>&nbsp;<span class="keyword" id="5902909">range</span>&nbsp;<span class="ident" id="5902915">slice</span>&nbsp;<span class="op" id="5902921">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902925">if</span>&nbsp;<span class="ident" id="5902928">x</span>&nbsp;<span class="op" id="5902930">!=</span>&nbsp;<span class="num" id="5902933">0</span>&nbsp;<span class="op" id="5902935">||</span>&nbsp;<span class="ident" id="5902938">state</span><span class="op" id="5902943">.</span><span class="ident" id="5902944">sendZero</span>&nbsp;<span class="op" id="5902953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5902958">state</span><span class="op" id="5902963">.</span><span class="ident" id="5902964">encodeUint</span><span class="op" id="5902974">(</span><span class="ident" id="5902975">uint64</span><span class="op" id="5902981">(</span><span class="ident" id="5902982">x</span><span class="op" id="5902983">)</span><span class="op" id="5902984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5902991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5902994">return</span>&nbsp;<span class="builtintype" id="5903001">true</span><br>
<span class="lineno">370</span><span class="op" id="5903006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5903009">func</span>&nbsp;<span class="ident" id="5903014">encUint64Array</span><span class="op" id="5903028">(</span><span class="ident" id="5903029">state</span>&nbsp;<span class="op" id="5903035">*</span><span class="ident" id="5903036">encoderState</span><span class="op" id="5903048">,</span>&nbsp;<span class="ident" id="5903050">v</span>&nbsp;<span class="ident" id="5903052">reflect</span><span class="op" id="5903059">.</span><span class="ident" id="5903060">Value</span><span class="op" id="5903065">)</span>&nbsp;<span class="builtintype" id="5903067">bool</span>&nbsp;<span class="op" id="5903072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5903075">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903116">if</span>&nbsp;<span class="op" id="5903119">!</span><span class="ident" id="5903120">v</span><span class="op" id="5903121">.</span><span class="ident" id="5903122">CanAddr</span><span class="op" id="5903129">(</span><span class="op" id="5903130">)</span>&nbsp;<span class="op" id="5903132">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903136">return</span>&nbsp;<span class="builtintype" id="5903143">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5903150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903153">return</span>&nbsp;<span class="ident" id="5903160">encUint64Slice</span><span class="op" id="5903174">(</span><span class="ident" id="5903175">state</span><span class="op" id="5903180">,</span>&nbsp;<span class="ident" id="5903182">v</span><span class="op" id="5903183">.</span><span class="ident" id="5903184">Slice</span><span class="op" id="5903189">(</span><span class="num" id="5903190">0</span><span class="op" id="5903191">,</span>&nbsp;<span class="ident" id="5903193">v</span><span class="op" id="5903194">.</span><span class="ident" id="5903195">Len</span><span class="op" id="5903198">(</span><span class="op" id="5903199">)</span><span class="op" id="5903200">)</span><span class="op" id="5903201">)</span><br>
<span class="lineno"></span><span class="op" id="5903203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span><span class="keyword" id="5903206">func</span>&nbsp;<span class="ident" id="5903211">encUint64Slice</span><span class="op" id="5903225">(</span><span class="ident" id="5903226">state</span>&nbsp;<span class="op" id="5903232">*</span><span class="ident" id="5903233">encoderState</span><span class="op" id="5903245">,</span>&nbsp;<span class="ident" id="5903247">v</span>&nbsp;<span class="ident" id="5903249">reflect</span><span class="op" id="5903256">.</span><span class="ident" id="5903257">Value</span><span class="op" id="5903262">)</span>&nbsp;<span class="builtintype" id="5903264">bool</span>&nbsp;<span class="op" id="5903269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5903272">slice</span><span class="op" id="5903277">,</span>&nbsp;<span class="ident" id="5903279">ok</span>&nbsp;<span class="op" id="5903282">:=</span>&nbsp;<span class="ident" id="5903285">v</span><span class="op" id="5903286">.</span><span class="ident" id="5903287">Interface</span><span class="op" id="5903296">(</span><span class="op" id="5903297">)</span><span class="op" id="5903298">.</span><span class="op" id="5903299">(</span><span class="op" id="5903300">[</span><span class="op" id="5903301">]</span><span class="ident" id="5903302">uint64</span><span class="op" id="5903308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903311">if</span>&nbsp;<span class="op" id="5903314">!</span><span class="ident" id="5903315">ok</span>&nbsp;<span class="op" id="5903318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5903322">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903401">return</span>&nbsp;<span class="builtintype" id="5903408">false</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5903415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903418">for</span>&nbsp;<span class="ident" id="5903422">_</span><span class="op" id="5903423">,</span>&nbsp;<span class="ident" id="5903425">x</span>&nbsp;<span class="op" id="5903427">:=</span>&nbsp;<span class="keyword" id="5903430">range</span>&nbsp;<span class="ident" id="5903436">slice</span>&nbsp;<span class="op" id="5903442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903446">if</span>&nbsp;<span class="ident" id="5903449">x</span>&nbsp;<span class="op" id="5903451">!=</span>&nbsp;<span class="num" id="5903454">0</span>&nbsp;<span class="op" id="5903456">||</span>&nbsp;<span class="ident" id="5903459">state</span><span class="op" id="5903464">.</span><span class="ident" id="5903465">sendZero</span>&nbsp;<span class="op" id="5903474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5903479">state</span><span class="op" id="5903484">.</span><span class="ident" id="5903485">encodeUint</span><span class="op" id="5903495">(</span><span class="ident" id="5903496">x</span><span class="op" id="5903497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5903501">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5903504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903507">return</span>&nbsp;<span class="builtintype" id="5903514">true</span><br>
<span class="lineno"></span><span class="op" id="5903519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5903522">func</span>&nbsp;<span class="ident" id="5903527">encUintptrArray</span><span class="op" id="5903542">(</span><span class="ident" id="5903543">state</span>&nbsp;<span class="op" id="5903549">*</span><span class="ident" id="5903550">encoderState</span><span class="op" id="5903562">,</span>&nbsp;<span class="ident" id="5903564">v</span>&nbsp;<span class="ident" id="5903566">reflect</span><span class="op" id="5903573">.</span><span class="ident" id="5903574">Value</span><span class="op" id="5903579">)</span>&nbsp;<span class="builtintype" id="5903581">bool</span>&nbsp;<span class="op" id="5903586">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5903589">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903630">if</span>&nbsp;<span class="op" id="5903633">!</span><span class="ident" id="5903634">v</span><span class="op" id="5903635">.</span><span class="ident" id="5903636">CanAddr</span><span class="op" id="5903643">(</span><span class="op" id="5903644">)</span>&nbsp;<span class="op" id="5903646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903650">return</span>&nbsp;<span class="builtintype" id="5903657">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5903664">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903667">return</span>&nbsp;<span class="ident" id="5903674">encUintptrSlice</span><span class="op" id="5903689">(</span><span class="ident" id="5903690">state</span><span class="op" id="5903695">,</span>&nbsp;<span class="ident" id="5903697">v</span><span class="op" id="5903698">.</span><span class="ident" id="5903699">Slice</span><span class="op" id="5903704">(</span><span class="num" id="5903705">0</span><span class="op" id="5903706">,</span>&nbsp;<span class="ident" id="5903708">v</span><span class="op" id="5903709">.</span><span class="ident" id="5903710">Len</span><span class="op" id="5903713">(</span><span class="op" id="5903714">)</span><span class="op" id="5903715">)</span><span class="op" id="5903716">)</span><br>
<span class="lineno">400</span><span class="op" id="5903718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5903721">func</span>&nbsp;<span class="ident" id="5903726">encUintptrSlice</span><span class="op" id="5903741">(</span><span class="ident" id="5903742">state</span>&nbsp;<span class="op" id="5903748">*</span><span class="ident" id="5903749">encoderState</span><span class="op" id="5903761">,</span>&nbsp;<span class="ident" id="5903763">v</span>&nbsp;<span class="ident" id="5903765">reflect</span><span class="op" id="5903772">.</span><span class="ident" id="5903773">Value</span><span class="op" id="5903778">)</span>&nbsp;<span class="builtintype" id="5903780">bool</span>&nbsp;<span class="op" id="5903785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5903788">slice</span><span class="op" id="5903793">,</span>&nbsp;<span class="ident" id="5903795">ok</span>&nbsp;<span class="op" id="5903798">:=</span>&nbsp;<span class="ident" id="5903801">v</span><span class="op" id="5903802">.</span><span class="ident" id="5903803">Interface</span><span class="op" id="5903812">(</span><span class="op" id="5903813">)</span><span class="op" id="5903814">.</span><span class="op" id="5903815">(</span><span class="op" id="5903816">[</span><span class="op" id="5903817">]</span><span class="builtintype" id="5903818">uintptr</span><span class="op" id="5903825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903828">if</span>&nbsp;<span class="op" id="5903831">!</span><span class="ident" id="5903832">ok</span>&nbsp;<span class="op" id="5903835">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5903839">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903920">return</span>&nbsp;<span class="builtintype" id="5903927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5903934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903937">for</span>&nbsp;<span class="ident" id="5903941">_</span><span class="op" id="5903942">,</span>&nbsp;<span class="ident" id="5903944">x</span>&nbsp;<span class="op" id="5903946">:=</span>&nbsp;<span class="keyword" id="5903949">range</span>&nbsp;<span class="ident" id="5903955">slice</span>&nbsp;<span class="op" id="5903961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5903965">if</span>&nbsp;<span class="ident" id="5903968">x</span>&nbsp;<span class="op" id="5903970">!=</span>&nbsp;<span class="num" id="5903973">0</span>&nbsp;<span class="op" id="5903975">||</span>&nbsp;<span class="ident" id="5903978">state</span><span class="op" id="5903983">.</span><span class="ident" id="5903984">sendZero</span>&nbsp;<span class="op" id="5903993">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5903998">state</span><span class="op" id="5904003">.</span><span class="ident" id="5904004">encodeUint</span><span class="op" id="5904014">(</span><span class="ident" id="5904015">uint64</span><span class="op" id="5904021">(</span><span class="ident" id="5904022">x</span><span class="op" id="5904023">)</span><span class="op" id="5904024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5904028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5904031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5904034">return</span>&nbsp;<span class="builtintype" id="5904041">true</span><br>
<span class="lineno"></span><span class="op" id="5904046">}</span>
</div>
</body>
</html>
