<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6105579">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6105634">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6105688">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6105739">//&nbsp;Package&nbsp;ascii85&nbsp;implements&nbsp;the&nbsp;ascii85&nbsp;data&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="6105795">//&nbsp;as&nbsp;used&nbsp;in&nbsp;the&nbsp;btoa&nbsp;tool&nbsp;and&nbsp;Adobe&#39;s&nbsp;PostScript&nbsp;and&nbsp;PDF&nbsp;document&nbsp;formats.</span><br>
<span class="lineno"></span><span class="keyword" id="6105872">package</span>&nbsp;<span class="ident" id="6105880">ascii85</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6105889">import</span>&nbsp;<span class="op" id="6105896">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6105899">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6105905">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="6105915">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6105918">/*<br>
<span class="lineno">15</span>&nbsp;*&nbsp;Encoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6105937">//&nbsp;Encode&nbsp;encodes&nbsp;src&nbsp;into&nbsp;at&nbsp;most&nbsp;MaxEncodedLen(len(src))</span><br>
<span class="lineno"></span><span class="comment" id="6105996">//&nbsp;bytes&nbsp;of&nbsp;dst,&nbsp;returning&nbsp;the&nbsp;actual&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written.</span><br>
<span class="lineno">20</span><span class="comment" id="6106059">//</span><br>
<span class="lineno"></span><span class="comment" id="6106062">//&nbsp;The&nbsp;encoding&nbsp;handles&nbsp;4-byte&nbsp;chunks,&nbsp;using&nbsp;a&nbsp;special&nbsp;encoding</span><br>
<span class="lineno"></span><span class="comment" id="6106126">//&nbsp;for&nbsp;the&nbsp;last&nbsp;fragment,&nbsp;so&nbsp;Encode&nbsp;is&nbsp;not&nbsp;appropriate&nbsp;for&nbsp;use&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="6106192">//&nbsp;individual&nbsp;blocks&nbsp;of&nbsp;a&nbsp;large&nbsp;data&nbsp;stream.&nbsp;&nbsp;Use&nbsp;NewEncoder()&nbsp;instead.</span><br>
<span class="lineno"></span><span class="comment" id="6106264">//</span><br>
<span class="lineno">25</span><span class="comment" id="6106267">//&nbsp;Often,&nbsp;ascii85-encoded&nbsp;data&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;&lt;~&nbsp;and&nbsp;~&gt;&nbsp;symbols.</span><br>
<span class="lineno"></span><span class="comment" id="6106331">//&nbsp;Encode&nbsp;does&nbsp;not&nbsp;add&nbsp;these.</span><br>
<span class="lineno"></span><span class="keyword" id="6106361">func</span>&nbsp;<span class="ident" id="6106366">Encode</span><span class="op" id="6106372">(</span><span class="ident" id="6106373">dst</span><span class="op" id="6106376">,</span>&nbsp;<span class="ident" id="6106378">src</span>&nbsp;<span class="op" id="6106382">[</span><span class="op" id="6106383">]</span><span class="builtintype" id="6106384">byte</span><span class="op" id="6106388">)</span>&nbsp;<span class="builtintype" id="6106390">int</span>&nbsp;<span class="op" id="6106394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106397">if</span>&nbsp;<span class="builtinfunc" id="6106400">len</span><span class="op" id="6106403">(</span><span class="ident" id="6106404"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106407">)</span>&nbsp;<span class="op" id="6106409">==</span>&nbsp;<span class="num" id="6106412">0</span>&nbsp;<span class="op" id="6106414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106418">return</span>&nbsp;<span class="num" id="6106425">0</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6106428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106432">n</span>&nbsp;<span class="op" id="6106434">:=</span>&nbsp;<span class="num" id="6106437">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106440">for</span>&nbsp;<span class="builtinfunc" id="6106444">len</span><span class="op" id="6106447">(</span><span class="ident" id="6106448"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106451">)</span>&nbsp;<span class="op" id="6106453">&gt;</span>&nbsp;<span class="num" id="6106455">0</span>&nbsp;<span class="op" id="6106457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106461"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6106464">[</span><span class="num" id="6106465">0</span><span class="op" id="6106466">]</span>&nbsp;<span class="op" id="6106468">=</span>&nbsp;<span class="num" id="6106470">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106474"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6106477">[</span><span class="num" id="6106478">1</span><span class="op" id="6106479">]</span>&nbsp;<span class="op" id="6106481">=</span>&nbsp;<span class="num" id="6106483">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106487"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6106490">[</span><span class="num" id="6106491">2</span><span class="op" id="6106492">]</span>&nbsp;<span class="op" id="6106494">=</span>&nbsp;<span class="num" id="6106496">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106500"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6106503">[</span><span class="num" id="6106504">3</span><span class="op" id="6106505">]</span>&nbsp;<span class="op" id="6106507">=</span>&nbsp;<span class="num" id="6106509">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106513"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6106516">[</span><span class="num" id="6106517">4</span><span class="op" id="6106518">]</span>&nbsp;<span class="op" id="6106520">=</span>&nbsp;<span class="num" id="6106522">0</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6106527">//&nbsp;Unpack&nbsp;4&nbsp;bytes&nbsp;into&nbsp;uint32&nbsp;to&nbsp;repack&nbsp;into&nbsp;base&nbsp;85&nbsp;5-byte.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106590">var</span>&nbsp;<span class="ident" id="6106594">v</span>&nbsp;<span class="builtintype" id="6106596">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106605">switch</span>&nbsp;<span class="builtinfunc" id="6106612">len</span><span class="op" id="6106615">(</span><span class="ident" id="6106616"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106619">)</span>&nbsp;<span class="op" id="6106621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106625">default</span><span class="op" id="6106632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106637"><a href="/encoding/ascii85/ascii85.go.html#6106594">v</a></span>&nbsp;<span class="op" id="6106639">|=</span>&nbsp;<span class="builtintype" id="6106642">uint32</span><span class="op" id="6106648">(</span><span class="ident" id="6106649"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106652">[</span><span class="num" id="6106653">3</span><span class="op" id="6106654">]</span><span class="op" id="6106655">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106660">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106674">case</span>&nbsp;<span class="num" id="6106679">3</span><span class="op" id="6106680">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106685"><a href="/encoding/ascii85/ascii85.go.html#6106594">v</a></span>&nbsp;<span class="op" id="6106687">|=</span>&nbsp;<span class="builtintype" id="6106690">uint32</span><span class="op" id="6106696">(</span><span class="ident" id="6106697"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106700">[</span><span class="num" id="6106701">2</span><span class="op" id="6106702">]</span><span class="op" id="6106703">)</span>&nbsp;<span class="op" id="6106705">&lt;&lt;</span>&nbsp;<span class="num" id="6106708">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106713">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106727">case</span>&nbsp;<span class="num" id="6106732">2</span><span class="op" id="6106733">:</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106738"><a href="/encoding/ascii85/ascii85.go.html#6106594">v</a></span>&nbsp;<span class="op" id="6106740">|=</span>&nbsp;<span class="builtintype" id="6106743">uint32</span><span class="op" id="6106749">(</span><span class="ident" id="6106750"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106753">[</span><span class="num" id="6106754">1</span><span class="op" id="6106755">]</span><span class="op" id="6106756">)</span>&nbsp;<span class="op" id="6106758">&lt;&lt;</span>&nbsp;<span class="num" id="6106761">16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106767">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106781">case</span>&nbsp;<span class="num" id="6106786">1</span><span class="op" id="6106787">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106792"><a href="/encoding/ascii85/ascii85.go.html#6106594">v</a></span>&nbsp;<span class="op" id="6106794">|=</span>&nbsp;<span class="builtintype" id="6106797">uint32</span><span class="op" id="6106803">(</span><span class="ident" id="6106804"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106807">[</span><span class="num" id="6106808">0</span><span class="op" id="6106809">]</span><span class="op" id="6106810">)</span>&nbsp;<span class="op" id="6106812">&lt;&lt;</span>&nbsp;<span class="num" id="6106815">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6106820">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6106825">//&nbsp;Special&nbsp;case:&nbsp;zero&nbsp;(!!!!!)&nbsp;shortens&nbsp;to&nbsp;z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106872">if</span>&nbsp;<span class="ident" id="6106875"><a href="/encoding/ascii85/ascii85.go.html#6106594">v</a></span>&nbsp;<span class="op" id="6106877">==</span>&nbsp;<span class="num" id="6106880">0</span>&nbsp;<span class="op" id="6106882">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6106885">len</span><span class="op" id="6106888">(</span><span class="ident" id="6106889"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106892">)</span>&nbsp;<span class="op" id="6106894">&gt;=</span>&nbsp;<span class="num" id="6106897">4</span>&nbsp;<span class="op" id="6106899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106904"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6106907">[</span><span class="num" id="6106908">0</span><span class="op" id="6106909">]</span>&nbsp;<span class="op" id="6106911">=</span>&nbsp;<span class="string" id="6106913">&#39;z&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106920"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span>&nbsp;<span class="op" id="6106924">=</span>&nbsp;<span class="ident" id="6106926"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6106929">[</span><span class="num" id="6106930">1</span><span class="op" id="6106931">:</span><span class="op" id="6106932">]</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106937"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span>&nbsp;<span class="op" id="6106941">=</span>&nbsp;<span class="ident" id="6106943"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6106946">[</span><span class="num" id="6106947">4</span><span class="op" id="6106948">:</span><span class="op" id="6106949">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6106954"><a href="/encoding/ascii85/ascii85.go.html#6106432">n</a></span><span class="op" id="6106955">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6106961">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6106972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6106977">//&nbsp;Otherwise,&nbsp;5&nbsp;base&nbsp;85&nbsp;digits&nbsp;starting&nbsp;at&nbsp;!.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6107025">for</span>&nbsp;<span class="ident" id="6107029">i</span>&nbsp;<span class="op" id="6107031">:=</span>&nbsp;<span class="num" id="6107034">4</span><span class="op" id="6107035">;</span>&nbsp;<span class="ident" id="6107037"><a href="/encoding/ascii85/ascii85.go.html#6107029">i</a></span>&nbsp;<span class="op" id="6107039">&gt;=</span>&nbsp;<span class="num" id="6107042">0</span><span class="op" id="6107043">;</span>&nbsp;<span class="ident" id="6107045"><a href="/encoding/ascii85/ascii85.go.html#6107029">i</a></span><span class="op" id="6107046">--</span>&nbsp;<span class="op" id="6107049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107054"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6107057">[</span><span class="ident" id="6107058"><a href="/encoding/ascii85/ascii85.go.html#6107029">i</a></span><span class="op" id="6107059">]</span>&nbsp;<span class="op" id="6107061">=</span>&nbsp;<span class="string" id="6107063">&#39;!&#39;</span>&nbsp;<span class="op" id="6107067">+</span>&nbsp;<span class="builtintype" id="6107069">byte</span><span class="op" id="6107073">(</span><span class="ident" id="6107074"><a href="/encoding/ascii85/ascii85.go.html#6106594">v</a></span><span class="op" id="6107075">%</span><span class="num" id="6107076">85</span><span class="op" id="6107078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107083"><a href="/encoding/ascii85/ascii85.go.html#6106594">v</a></span>&nbsp;<span class="op" id="6107085">/=</span>&nbsp;<span class="num" id="6107088">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6107093">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6107098">//&nbsp;If&nbsp;src&nbsp;was&nbsp;short,&nbsp;discard&nbsp;the&nbsp;low&nbsp;destination&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107156">m</span>&nbsp;<span class="op" id="6107158">:=</span>&nbsp;<span class="num" id="6107161">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6107165">if</span>&nbsp;<span class="builtinfunc" id="6107168">len</span><span class="op" id="6107171">(</span><span class="ident" id="6107172"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6107175">)</span>&nbsp;<span class="op" id="6107177">&lt;</span>&nbsp;<span class="num" id="6107179">4</span>&nbsp;<span class="op" id="6107181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107186"><a href="/encoding/ascii85/ascii85.go.html#6107156">m</a></span>&nbsp;<span class="op" id="6107188">-=</span>&nbsp;<span class="num" id="6107191">4</span>&nbsp;<span class="op" id="6107193">-</span>&nbsp;<span class="builtinfunc" id="6107195">len</span><span class="op" id="6107198">(</span><span class="ident" id="6107199"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6107202">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107207"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span>&nbsp;<span class="op" id="6107211">=</span>&nbsp;<span class="ident" id="6107213">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6107219">}</span>&nbsp;<span class="keyword" id="6107221">else</span>&nbsp;<span class="op" id="6107226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107231"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span>&nbsp;<span class="op" id="6107235">=</span>&nbsp;<span class="ident" id="6107237"><a href="/encoding/ascii85/ascii85.go.html#6106378">src</a></span><span class="op" id="6107240">[</span><span class="num" id="6107241">4</span><span class="op" id="6107242">:</span><span class="op" id="6107243">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6107247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107251"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span>&nbsp;<span class="op" id="6107255">=</span>&nbsp;<span class="ident" id="6107257"><a href="/encoding/ascii85/ascii85.go.html#6106373">dst</a></span><span class="op" id="6107260">[</span><span class="ident" id="6107261"><a href="/encoding/ascii85/ascii85.go.html#6107156">m</a></span><span class="op" id="6107262">:</span><span class="op" id="6107263">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107267"><a href="/encoding/ascii85/ascii85.go.html#6106432">n</a></span>&nbsp;<span class="op" id="6107269">+=</span>&nbsp;<span class="ident" id="6107272"><a href="/encoding/ascii85/ascii85.go.html#6107156">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6107275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6107278">return</span>&nbsp;<span class="ident" id="6107285"><a href="/encoding/ascii85/ascii85.go.html#6106432">n</a></span><br>
<span class="lineno"></span><span class="op" id="6107287">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="6107290">//&nbsp;MaxEncodedLen&nbsp;returns&nbsp;the&nbsp;maximum&nbsp;length&nbsp;of&nbsp;an&nbsp;encoding&nbsp;of&nbsp;n&nbsp;source&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="6107368">func</span>&nbsp;<span class="ident" id="6107373">MaxEncodedLen</span><span class="op" id="6107386">(</span><span class="ident" id="6107387">n</span>&nbsp;<span class="builtintype" id="6107389">int</span><span class="op" id="6107392">)</span>&nbsp;<span class="builtintype" id="6107394">int</span>&nbsp;<span class="op" id="6107398">{</span>&nbsp;<span class="keyword" id="6107400">return</span>&nbsp;<span class="op" id="6107407">(</span><span class="ident" id="6107408"><a href="/encoding/ascii85/ascii85.go.html#6107387">n</a></span>&nbsp;<span class="op" id="6107410">+</span>&nbsp;<span class="num" id="6107412">3</span><span class="op" id="6107413">)</span>&nbsp;<span class="op" id="6107415">/</span>&nbsp;<span class="num" id="6107417">4</span>&nbsp;<span class="op" id="6107419">*</span>&nbsp;<span class="num" id="6107421">5</span>&nbsp;<span class="op" id="6107423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6107426">//&nbsp;NewEncoder&nbsp;returns&nbsp;a&nbsp;new&nbsp;ascii85&nbsp;stream&nbsp;encoder.&nbsp;&nbsp;Data&nbsp;written&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="6107495">//&nbsp;the&nbsp;returned&nbsp;writer&nbsp;will&nbsp;be&nbsp;encoded&nbsp;and&nbsp;then&nbsp;written&nbsp;to&nbsp;w.</span><br>
<span class="lineno">90</span><span class="comment" id="6107557">//&nbsp;Ascii85&nbsp;encodings&nbsp;operate&nbsp;in&nbsp;32-bit&nbsp;blocks;&nbsp;when&nbsp;finished</span><br>
<span class="lineno"></span><span class="comment" id="6107618">//&nbsp;writing,&nbsp;the&nbsp;caller&nbsp;must&nbsp;Close&nbsp;the&nbsp;returned&nbsp;encoder&nbsp;to&nbsp;flush&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="6107686">//&nbsp;trailing&nbsp;partial&nbsp;block.</span><br>
<span class="lineno"></span><span class="keyword" id="6107713">func</span>&nbsp;<span class="ident" id="6107718">NewEncoder</span><span class="op" id="6107728">(</span><span class="ident" id="6107729">w</span>&nbsp;<span class="ident" id="6107731"><a href="/encoding/ascii85/ascii85.go.html#6105899">io</a></span><span class="op" id="6107733">.</span><span class="ident" id="6107734">Writer</span><span class="op" id="6107740">)</span>&nbsp;<span class="ident" id="6107742"><a href="/encoding/ascii85/ascii85.go.html#6105899">io</a></span><span class="op" id="6107744">.</span><span class="ident" id="6107745">WriteCloser</span>&nbsp;<span class="op" id="6107757">{</span>&nbsp;<span class="keyword" id="6107759">return</span>&nbsp;<span class="op" id="6107766">&amp;</span><span class="ident" id="6107767"><a href="/encoding/ascii85/ascii85.go.html#6107789">encoder</a></span><span class="op" id="6107774">{</span><span class="ident" id="6107775">w</span><span class="op" id="6107776">:</span>&nbsp;<span class="ident" id="6107778"><a href="/encoding/ascii85/ascii85.go.html#6107729">w</a></span><span class="op" id="6107779">}</span>&nbsp;<span class="op" id="6107781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="6107784">type</span>&nbsp;<span class="ident" id="6107789">encoder</span>&nbsp;<span class="keyword" id="6107797">struct</span>&nbsp;<span class="op" id="6107804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107807">err</span>&nbsp;&nbsp;<span class="builtintype" id="6107812">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107819">w</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6107824"><a href="/encoding/ascii85/ascii85.go.html#6105899">io</a></span><span class="op" id="6107826">.</span><span class="ident" id="6107827">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107835">buf</span>&nbsp;&nbsp;<span class="op" id="6107840">[</span><span class="num" id="6107841">4</span><span class="op" id="6107842">]</span><span class="builtintype" id="6107843">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6107851">//&nbsp;buffered&nbsp;data&nbsp;waiting&nbsp;to&nbsp;be&nbsp;encoded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107891">nbuf</span>&nbsp;<span class="builtintype" id="6107896">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6107907">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;buf</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6107934">out</span>&nbsp;&nbsp;<span class="op" id="6107939">[</span><span class="num" id="6107940">1024</span><span class="op" id="6107944">]</span><span class="builtintype" id="6107945">byte</span>&nbsp;<span class="comment" id="6107950">//&nbsp;output&nbsp;buffer</span><br>
<span class="lineno"></span><span class="op" id="6107967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6107970">func</span>&nbsp;<span class="op" id="6107975">(</span><span class="ident" id="6107976">e</span>&nbsp;<span class="op" id="6107978">*</span><span class="ident" id="6107979"><a href="/encoding/ascii85/ascii85.go.html#6107789">encoder</a></span><span class="op" id="6107986">)</span>&nbsp;<span class="ident" id="6107988">Write</span><span class="op" id="6107993">(</span><span class="ident" id="6107994">p</span>&nbsp;<span class="op" id="6107996">[</span><span class="op" id="6107997">]</span><span class="builtintype" id="6107998">byte</span><span class="op" id="6108002">)</span>&nbsp;<span class="op" id="6108004">(</span><span class="ident" id="6108005">n</span>&nbsp;<span class="builtintype" id="6108007">int</span><span class="op" id="6108010">,</span>&nbsp;<span class="ident" id="6108012">err</span>&nbsp;<span class="builtintype" id="6108016">error</span><span class="op" id="6108021">)</span>&nbsp;<span class="op" id="6108023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108026">if</span>&nbsp;<span class="ident" id="6108029"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108030">.</span><span class="ident" id="6108031">err</span>&nbsp;<span class="op" id="6108035">!=</span>&nbsp;<span class="ident" id="6108038">nil</span>&nbsp;<span class="op" id="6108042">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108046">return</span>&nbsp;<span class="num" id="6108053">0</span><span class="op" id="6108054">,</span>&nbsp;<span class="ident" id="6108056"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108057">.</span><span class="ident" id="6108058">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108063">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6108067">//&nbsp;Leading&nbsp;fringe.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108087">if</span>&nbsp;<span class="ident" id="6108090"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108091">.</span><span class="ident" id="6108092">nbuf</span>&nbsp;<span class="op" id="6108097">&gt;</span>&nbsp;<span class="num" id="6108099">0</span>&nbsp;<span class="op" id="6108101">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108105">var</span>&nbsp;<span class="ident" id="6108109">i</span>&nbsp;<span class="builtintype" id="6108111">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108117">for</span>&nbsp;<span class="ident" id="6108121"><a href="/encoding/ascii85/ascii85.go.html#6108109">i</a></span>&nbsp;<span class="op" id="6108123">=</span>&nbsp;<span class="num" id="6108125">0</span><span class="op" id="6108126">;</span>&nbsp;<span class="ident" id="6108128"><a href="/encoding/ascii85/ascii85.go.html#6108109">i</a></span>&nbsp;<span class="op" id="6108130">&lt;</span>&nbsp;<span class="builtinfunc" id="6108132">len</span><span class="op" id="6108135">(</span><span class="ident" id="6108136"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108137">)</span>&nbsp;<span class="op" id="6108139">&amp;&amp;</span>&nbsp;<span class="ident" id="6108142"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108143">.</span><span class="ident" id="6108144">nbuf</span>&nbsp;<span class="op" id="6108149">&lt;</span>&nbsp;<span class="num" id="6108151">4</span><span class="op" id="6108152">;</span>&nbsp;<span class="ident" id="6108154"><a href="/encoding/ascii85/ascii85.go.html#6108109">i</a></span><span class="op" id="6108155">++</span>&nbsp;<span class="op" id="6108158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108163"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108164">.</span><span class="ident" id="6108165">buf</span><span class="op" id="6108168">[</span><span class="ident" id="6108169"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108170">.</span><span class="ident" id="6108171">nbuf</span><span class="op" id="6108175">]</span>&nbsp;<span class="op" id="6108177">=</span>&nbsp;<span class="ident" id="6108179"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108180">[</span><span class="ident" id="6108181"><a href="/encoding/ascii85/ascii85.go.html#6108109">i</a></span><span class="op" id="6108182">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108187"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108188">.</span><span class="ident" id="6108189">nbuf</span><span class="op" id="6108193">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108198">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108202"><a href="/encoding/ascii85/ascii85.go.html#6108005">n</a></span>&nbsp;<span class="op" id="6108204">+=</span>&nbsp;<span class="ident" id="6108207"><a href="/encoding/ascii85/ascii85.go.html#6108109">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108211"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span>&nbsp;<span class="op" id="6108213">=</span>&nbsp;<span class="ident" id="6108215"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108216">[</span><span class="ident" id="6108217"><a href="/encoding/ascii85/ascii85.go.html#6108109">i</a></span><span class="op" id="6108218">:</span><span class="op" id="6108219">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108223">if</span>&nbsp;<span class="ident" id="6108226"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108227">.</span><span class="ident" id="6108228">nbuf</span>&nbsp;<span class="op" id="6108233">&lt;</span>&nbsp;<span class="num" id="6108235">4</span>&nbsp;<span class="op" id="6108237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108242">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108251">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108255">nout</span>&nbsp;<span class="op" id="6108260">:=</span>&nbsp;<span class="ident" id="6108263"><a href="/encoding/ascii85/ascii85.go.html#6106366">Encode</a></span><span class="op" id="6108269">(</span><span class="ident" id="6108270"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108271">.</span><span class="ident" id="6108272">out</span><span class="op" id="6108275">[</span><span class="num" id="6108276">0</span><span class="op" id="6108277">:</span><span class="op" id="6108278">]</span><span class="op" id="6108279">,</span>&nbsp;<span class="ident" id="6108281"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108282">.</span><span class="ident" id="6108283">buf</span><span class="op" id="6108286">[</span><span class="num" id="6108287">0</span><span class="op" id="6108288">:</span><span class="op" id="6108289">]</span><span class="op" id="6108290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108294">if</span>&nbsp;<span class="ident" id="6108297">_</span><span class="op" id="6108298">,</span>&nbsp;<span class="ident" id="6108300"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108301">.</span><span class="ident" id="6108302">err</span>&nbsp;<span class="op" id="6108306">=</span>&nbsp;<span class="ident" id="6108308"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108309">.</span><span class="ident" id="6108310">w</span><span class="op" id="6108311">.</span><span class="ident" id="6108312">Write</span><span class="op" id="6108317">(</span><span class="ident" id="6108318"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108319">.</span><span class="ident" id="6108320">out</span><span class="op" id="6108323">[</span><span class="num" id="6108324">0</span><span class="op" id="6108325">:</span><span class="ident" id="6108326"><a href="/encoding/ascii85/ascii85.go.html#6108255">nout</a></span><span class="op" id="6108330">]</span><span class="op" id="6108331">)</span><span class="op" id="6108332">;</span>&nbsp;<span class="ident" id="6108334"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108335">.</span><span class="ident" id="6108336">err</span>&nbsp;<span class="op" id="6108340">!=</span>&nbsp;<span class="ident" id="6108343">nil</span>&nbsp;<span class="op" id="6108347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108352">return</span>&nbsp;<span class="ident" id="6108359"><a href="/encoding/ascii85/ascii85.go.html#6108005">n</a></span><span class="op" id="6108360">,</span>&nbsp;<span class="ident" id="6108362"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108363">.</span><span class="ident" id="6108364">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108374"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108375">.</span><span class="ident" id="6108376">nbuf</span>&nbsp;<span class="op" id="6108381">=</span>&nbsp;<span class="num" id="6108383">0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6108390">//&nbsp;Large&nbsp;interior&nbsp;chunks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108417">for</span>&nbsp;<span class="builtinfunc" id="6108421">len</span><span class="op" id="6108424">(</span><span class="ident" id="6108425"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108426">)</span>&nbsp;<span class="op" id="6108428">&gt;=</span>&nbsp;<span class="num" id="6108431">4</span>&nbsp;<span class="op" id="6108433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108437">nn</span>&nbsp;<span class="op" id="6108440">:=</span>&nbsp;<span class="builtinfunc" id="6108443">len</span><span class="op" id="6108446">(</span><span class="ident" id="6108447"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108448">.</span><span class="ident" id="6108449">out</span><span class="op" id="6108452">)</span>&nbsp;<span class="op" id="6108454">/</span>&nbsp;<span class="num" id="6108456">5</span>&nbsp;<span class="op" id="6108458">*</span>&nbsp;<span class="num" id="6108460">4</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108464">if</span>&nbsp;<span class="ident" id="6108467"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span>&nbsp;<span class="op" id="6108470">&gt;</span>&nbsp;<span class="builtinfunc" id="6108472">len</span><span class="op" id="6108475">(</span><span class="ident" id="6108476"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108477">)</span>&nbsp;<span class="op" id="6108479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108484"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span>&nbsp;<span class="op" id="6108487">=</span>&nbsp;<span class="builtinfunc" id="6108489">len</span><span class="op" id="6108492">(</span><span class="ident" id="6108493"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108502"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span>&nbsp;<span class="op" id="6108505">-=</span>&nbsp;<span class="ident" id="6108508"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span>&nbsp;<span class="op" id="6108511">%</span>&nbsp;<span class="num" id="6108513">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108517">if</span>&nbsp;<span class="ident" id="6108520"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span>&nbsp;<span class="op" id="6108523">&gt;</span>&nbsp;<span class="num" id="6108525">0</span>&nbsp;<span class="op" id="6108527">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108532">nout</span>&nbsp;<span class="op" id="6108537">:=</span>&nbsp;<span class="ident" id="6108540"><a href="/encoding/ascii85/ascii85.go.html#6106366">Encode</a></span><span class="op" id="6108546">(</span><span class="ident" id="6108547"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108548">.</span><span class="ident" id="6108549">out</span><span class="op" id="6108552">[</span><span class="num" id="6108553">0</span><span class="op" id="6108554">:</span><span class="op" id="6108555">]</span><span class="op" id="6108556">,</span>&nbsp;<span class="ident" id="6108558"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108559">[</span><span class="num" id="6108560">0</span><span class="op" id="6108561">:</span><span class="ident" id="6108562"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span><span class="op" id="6108564">]</span><span class="op" id="6108565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108570">if</span>&nbsp;<span class="ident" id="6108573">_</span><span class="op" id="6108574">,</span>&nbsp;<span class="ident" id="6108576"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108577">.</span><span class="ident" id="6108578">err</span>&nbsp;<span class="op" id="6108582">=</span>&nbsp;<span class="ident" id="6108584"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108585">.</span><span class="ident" id="6108586">w</span><span class="op" id="6108587">.</span><span class="ident" id="6108588">Write</span><span class="op" id="6108593">(</span><span class="ident" id="6108594"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108595">.</span><span class="ident" id="6108596">out</span><span class="op" id="6108599">[</span><span class="num" id="6108600">0</span><span class="op" id="6108601">:</span><span class="ident" id="6108602"><a href="/encoding/ascii85/ascii85.go.html#6108532">nout</a></span><span class="op" id="6108606">]</span><span class="op" id="6108607">)</span><span class="op" id="6108608">;</span>&nbsp;<span class="ident" id="6108610"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108611">.</span><span class="ident" id="6108612">err</span>&nbsp;<span class="op" id="6108616">!=</span>&nbsp;<span class="ident" id="6108619">nil</span>&nbsp;<span class="op" id="6108623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108629">return</span>&nbsp;<span class="ident" id="6108636"><a href="/encoding/ascii85/ascii85.go.html#6108005">n</a></span><span class="op" id="6108637">,</span>&nbsp;<span class="ident" id="6108639"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108640">.</span><span class="ident" id="6108641">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108652">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108656"><a href="/encoding/ascii85/ascii85.go.html#6108005">n</a></span>&nbsp;<span class="op" id="6108658">+=</span>&nbsp;<span class="ident" id="6108661"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108666"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span>&nbsp;<span class="op" id="6108668">=</span>&nbsp;<span class="ident" id="6108670"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108671">[</span><span class="ident" id="6108672"><a href="/encoding/ascii85/ascii85.go.html#6108437">nn</a></span><span class="op" id="6108674">:</span><span class="op" id="6108675">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6108682">//&nbsp;Trailing&nbsp;fringe.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108703">for</span>&nbsp;<span class="ident" id="6108707">i</span>&nbsp;<span class="op" id="6108709">:=</span>&nbsp;<span class="num" id="6108712">0</span><span class="op" id="6108713">;</span>&nbsp;<span class="ident" id="6108715"><a href="/encoding/ascii85/ascii85.go.html#6108707">i</a></span>&nbsp;<span class="op" id="6108717">&lt;</span>&nbsp;<span class="builtinfunc" id="6108719">len</span><span class="op" id="6108722">(</span><span class="ident" id="6108723"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108724">)</span><span class="op" id="6108725">;</span>&nbsp;<span class="ident" id="6108727"><a href="/encoding/ascii85/ascii85.go.html#6108707">i</a></span><span class="op" id="6108728">++</span>&nbsp;<span class="op" id="6108731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108735"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108736">.</span><span class="ident" id="6108737">buf</span><span class="op" id="6108740">[</span><span class="ident" id="6108741"><a href="/encoding/ascii85/ascii85.go.html#6108707">i</a></span><span class="op" id="6108742">]</span>&nbsp;<span class="op" id="6108744">=</span>&nbsp;<span class="ident" id="6108746"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108747">[</span><span class="ident" id="6108748"><a href="/encoding/ascii85/ascii85.go.html#6108707">i</a></span><span class="op" id="6108749">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6108752">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108755"><a href="/encoding/ascii85/ascii85.go.html#6107976">e</a></span><span class="op" id="6108756">.</span><span class="ident" id="6108757">nbuf</span>&nbsp;<span class="op" id="6108762">=</span>&nbsp;<span class="builtinfunc" id="6108764">len</span><span class="op" id="6108767">(</span><span class="ident" id="6108768"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6108772"><a href="/encoding/ascii85/ascii85.go.html#6108005">n</a></span>&nbsp;<span class="op" id="6108774">+=</span>&nbsp;<span class="builtinfunc" id="6108777">len</span><span class="op" id="6108780">(</span><span class="ident" id="6108781"><a href="/encoding/ascii85/ascii85.go.html#6107994">p</a></span><span class="op" id="6108782">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108785">return</span><br>
<span class="lineno"></span><span class="op" id="6108792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6108795">//&nbsp;Close&nbsp;flushes&nbsp;any&nbsp;pending&nbsp;output&nbsp;from&nbsp;the&nbsp;encoder.</span><br>
<span class="lineno"></span><span class="comment" id="6108849">//&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;call&nbsp;Write&nbsp;after&nbsp;calling&nbsp;Close.</span><br>
<span class="lineno">155</span><span class="keyword" id="6108902">func</span>&nbsp;<span class="op" id="6108907">(</span><span class="ident" id="6108908">e</span>&nbsp;<span class="op" id="6108910">*</span><span class="ident" id="6108911"><a href="/encoding/ascii85/ascii85.go.html#6107789">encoder</a></span><span class="op" id="6108918">)</span>&nbsp;<span class="ident" id="6108920">Close</span><span class="op" id="6108925">(</span><span class="op" id="6108926">)</span>&nbsp;<span class="builtintype" id="6108928">error</span>&nbsp;<span class="op" id="6108934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6108937">//&nbsp;If&nbsp;there&#39;s&nbsp;anything&nbsp;left&nbsp;in&nbsp;the&nbsp;buffer,&nbsp;flush&nbsp;it&nbsp;out</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6108994">if</span>&nbsp;<span class="ident" id="6108997"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6108998">.</span><span class="ident" id="6108999">err</span>&nbsp;<span class="op" id="6109003">==</span>&nbsp;<span class="ident" id="6109006">nil</span>&nbsp;<span class="op" id="6109010">&amp;&amp;</span>&nbsp;<span class="ident" id="6109013"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109014">.</span><span class="ident" id="6109015">nbuf</span>&nbsp;<span class="op" id="6109020">&gt;</span>&nbsp;<span class="num" id="6109022">0</span>&nbsp;<span class="op" id="6109024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6109028">nout</span>&nbsp;<span class="op" id="6109033">:=</span>&nbsp;<span class="ident" id="6109036"><a href="/encoding/ascii85/ascii85.go.html#6106366">Encode</a></span><span class="op" id="6109042">(</span><span class="ident" id="6109043"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109044">.</span><span class="ident" id="6109045">out</span><span class="op" id="6109048">[</span><span class="num" id="6109049">0</span><span class="op" id="6109050">:</span><span class="op" id="6109051">]</span><span class="op" id="6109052">,</span>&nbsp;<span class="ident" id="6109054"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109055">.</span><span class="ident" id="6109056">buf</span><span class="op" id="6109059">[</span><span class="num" id="6109060">0</span><span class="op" id="6109061">:</span><span class="ident" id="6109062"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109063">.</span><span class="ident" id="6109064">nbuf</span><span class="op" id="6109068">]</span><span class="op" id="6109069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6109073"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109074">.</span><span class="ident" id="6109075">nbuf</span>&nbsp;<span class="op" id="6109080">=</span>&nbsp;<span class="num" id="6109082">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6109086">_</span><span class="op" id="6109087">,</span>&nbsp;<span class="ident" id="6109089"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109090">.</span><span class="ident" id="6109091">err</span>&nbsp;<span class="op" id="6109095">=</span>&nbsp;<span class="ident" id="6109097"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109098">.</span><span class="ident" id="6109099">w</span><span class="op" id="6109100">.</span><span class="ident" id="6109101">Write</span><span class="op" id="6109106">(</span><span class="ident" id="6109107"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109108">.</span><span class="ident" id="6109109">out</span><span class="op" id="6109112">[</span><span class="num" id="6109113">0</span><span class="op" id="6109114">:</span><span class="ident" id="6109115"><a href="/encoding/ascii85/ascii85.go.html#6109028">nout</a></span><span class="op" id="6109119">]</span><span class="op" id="6109120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6109123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6109126">return</span>&nbsp;<span class="ident" id="6109133"><a href="/encoding/ascii85/ascii85.go.html#6108908">e</a></span><span class="op" id="6109134">.</span><span class="ident" id="6109135">err</span><br>
<span class="lineno"></span><span class="op" id="6109139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="comment" id="6109142">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Decoder<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6109161">type</span>&nbsp;<span class="ident" id="6109166">CorruptInputError</span>&nbsp;<span class="ident" id="6109184">int64</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="6109191">func</span>&nbsp;<span class="op" id="6109196">(</span><span class="ident" id="6109197">e</span>&nbsp;<span class="ident" id="6109199"><a href="/encoding/ascii85/ascii85.go.html#6109166">CorruptInputError</a></span><span class="op" id="6109216">)</span>&nbsp;<span class="ident" id="6109218">Error</span><span class="op" id="6109223">(</span><span class="op" id="6109224">)</span>&nbsp;<span class="builtintype" id="6109226">string</span>&nbsp;<span class="op" id="6109233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6109236">return</span>&nbsp;<span class="string" id="6109243">&#34;illegal&nbsp;ascii85&nbsp;data&nbsp;at&nbsp;input&nbsp;byte&nbsp;&#34;</span>&nbsp;<span class="op" id="6109281">+</span>&nbsp;<span class="ident" id="6109283"><a href="/encoding/ascii85/ascii85.go.html#6105905">strconv</a></span><span class="op" id="6109290">.</span><span class="ident" id="6109291">FormatInt</span><span class="op" id="6109300">(</span><span class="ident" id="6109301">int64</span><span class="op" id="6109306">(</span><span class="ident" id="6109307"><a href="/encoding/ascii85/ascii85.go.html#6109197">e</a></span><span class="op" id="6109308">)</span><span class="op" id="6109309">,</span>&nbsp;<span class="num" id="6109311">10</span><span class="op" id="6109313">)</span><br>
<span class="lineno"></span><span class="op" id="6109315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span><span class="comment" id="6109318">//&nbsp;Decode&nbsp;decodes&nbsp;src&nbsp;into&nbsp;dst,&nbsp;returning&nbsp;both&nbsp;the&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="6109376">//&nbsp;of&nbsp;bytes&nbsp;written&nbsp;to&nbsp;dst&nbsp;and&nbsp;the&nbsp;number&nbsp;consumed&nbsp;from&nbsp;src.</span><br>
<span class="lineno"></span><span class="comment" id="6109437">//&nbsp;If&nbsp;src&nbsp;contains&nbsp;invalid&nbsp;ascii85&nbsp;data,&nbsp;Decode&nbsp;will&nbsp;return&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6109501">//&nbsp;number&nbsp;of&nbsp;bytes&nbsp;successfully&nbsp;written&nbsp;and&nbsp;a&nbsp;CorruptInputError.</span><br>
<span class="lineno"></span><span class="comment" id="6109566">//&nbsp;Decode&nbsp;ignores&nbsp;space&nbsp;and&nbsp;control&nbsp;characters&nbsp;in&nbsp;src.</span><br>
<span class="lineno">180</span><span class="comment" id="6109621">//&nbsp;Often,&nbsp;ascii85-encoded&nbsp;data&nbsp;is&nbsp;wrapped&nbsp;in&nbsp;&lt;~&nbsp;and&nbsp;~&gt;&nbsp;symbols.</span><br>
<span class="lineno"></span><span class="comment" id="6109685">//&nbsp;Decode&nbsp;expects&nbsp;these&nbsp;to&nbsp;have&nbsp;been&nbsp;stripped&nbsp;by&nbsp;the&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="6109746">//</span><br>
<span class="lineno"></span><span class="comment" id="6109749">//&nbsp;If&nbsp;flush&nbsp;is&nbsp;true,&nbsp;Decode&nbsp;assumes&nbsp;that&nbsp;src&nbsp;represents&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6109809">//&nbsp;end&nbsp;of&nbsp;the&nbsp;input&nbsp;stream&nbsp;and&nbsp;processes&nbsp;it&nbsp;completely&nbsp;rather</span><br>
<span class="lineno">185</span><span class="comment" id="6109871">//&nbsp;than&nbsp;wait&nbsp;for&nbsp;the&nbsp;completion&nbsp;of&nbsp;another&nbsp;32-bit&nbsp;block.</span><br>
<span class="lineno"></span><span class="comment" id="6109928">//</span><br>
<span class="lineno"></span><span class="comment" id="6109931">//&nbsp;NewDecoder&nbsp;wraps&nbsp;an&nbsp;io.Reader&nbsp;interface&nbsp;around&nbsp;Decode.</span><br>
<span class="lineno"></span><span class="comment" id="6109989">//</span><br>
<span class="lineno"></span><span class="keyword" id="6109992">func</span>&nbsp;<span class="ident" id="6109997">Decode</span><span class="op" id="6110003">(</span><span class="ident" id="6110004">dst</span><span class="op" id="6110007">,</span>&nbsp;<span class="ident" id="6110009">src</span>&nbsp;<span class="op" id="6110013">[</span><span class="op" id="6110014">]</span><span class="builtintype" id="6110015">byte</span><span class="op" id="6110019">,</span>&nbsp;<span class="ident" id="6110021">flush</span>&nbsp;<span class="builtintype" id="6110027">bool</span><span class="op" id="6110031">)</span>&nbsp;<span class="op" id="6110033">(</span><span class="ident" id="6110034">ndst</span><span class="op" id="6110038">,</span>&nbsp;<span class="ident" id="6110040">nsrc</span>&nbsp;<span class="builtintype" id="6110045">int</span><span class="op" id="6110048">,</span>&nbsp;<span class="ident" id="6110050">err</span>&nbsp;<span class="builtintype" id="6110054">error</span><span class="op" id="6110059">)</span>&nbsp;<span class="op" id="6110061">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110064">var</span>&nbsp;<span class="ident" id="6110068">v</span>&nbsp;<span class="builtintype" id="6110070">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110078">var</span>&nbsp;<span class="ident" id="6110082">nb</span>&nbsp;<span class="builtintype" id="6110085">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110090">for</span>&nbsp;<span class="ident" id="6110094">i</span><span class="op" id="6110095">,</span>&nbsp;<span class="ident" id="6110097">b</span>&nbsp;<span class="op" id="6110099">:=</span>&nbsp;<span class="keyword" id="6110102">range</span>&nbsp;<span class="ident" id="6110108"><a href="/encoding/ascii85/ascii85.go.html#6110009">src</a></span>&nbsp;<span class="op" id="6110112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110116">if</span>&nbsp;<span class="builtinfunc" id="6110119">len</span><span class="op" id="6110122">(</span><span class="ident" id="6110123"><a href="/encoding/ascii85/ascii85.go.html#6110004">dst</a></span><span class="op" id="6110126">)</span><span class="op" id="6110127">-</span><span class="ident" id="6110128"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span>&nbsp;<span class="op" id="6110133">&lt;</span>&nbsp;<span class="num" id="6110135">4</span>&nbsp;<span class="op" id="6110137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110142">return</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6110151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110155">switch</span>&nbsp;<span class="op" id="6110162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110166">case</span>&nbsp;<span class="ident" id="6110171"><a href="/encoding/ascii85/ascii85.go.html#6110097">b</a></span>&nbsp;<span class="op" id="6110173">&lt;=</span>&nbsp;<span class="string" id="6110176">&#39;&nbsp;&#39;</span><span class="op" id="6110179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110184">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110195">case</span>&nbsp;<span class="ident" id="6110200"><a href="/encoding/ascii85/ascii85.go.html#6110097">b</a></span>&nbsp;<span class="op" id="6110202">==</span>&nbsp;<span class="string" id="6110205">&#39;z&#39;</span>&nbsp;<span class="op" id="6110209">&amp;&amp;</span>&nbsp;<span class="ident" id="6110212"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span>&nbsp;<span class="op" id="6110215">==</span>&nbsp;<span class="num" id="6110218">0</span><span class="op" id="6110219">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110224"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span>&nbsp;<span class="op" id="6110227">=</span>&nbsp;<span class="num" id="6110229">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110234"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6110236">=</span>&nbsp;<span class="num" id="6110238">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110242">case</span>&nbsp;<span class="string" id="6110247">&#39;!&#39;</span>&nbsp;<span class="op" id="6110251">&lt;=</span>&nbsp;<span class="ident" id="6110254"><a href="/encoding/ascii85/ascii85.go.html#6110097">b</a></span>&nbsp;<span class="op" id="6110256">&amp;&amp;</span>&nbsp;<span class="ident" id="6110259"><a href="/encoding/ascii85/ascii85.go.html#6110097">b</a></span>&nbsp;<span class="op" id="6110261">&lt;=</span>&nbsp;<span class="string" id="6110264">&#39;u&#39;</span><span class="op" id="6110267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110272"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6110274">=</span>&nbsp;<span class="ident" id="6110276"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span><span class="op" id="6110277">*</span><span class="num" id="6110278">85</span>&nbsp;<span class="op" id="6110281">+</span>&nbsp;<span class="builtintype" id="6110283">uint32</span><span class="op" id="6110289">(</span><span class="ident" id="6110290"><a href="/encoding/ascii85/ascii85.go.html#6110097">b</a></span><span class="op" id="6110291">-</span><span class="string" id="6110292">&#39;!&#39;</span><span class="op" id="6110295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110300"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span><span class="op" id="6110302">++</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110307">default</span><span class="op" id="6110314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110319">return</span>&nbsp;<span class="num" id="6110326">0</span><span class="op" id="6110327">,</span>&nbsp;<span class="num" id="6110329">0</span><span class="op" id="6110330">,</span>&nbsp;<span class="ident" id="6110332"><a href="/encoding/ascii85/ascii85.go.html#6109166">CorruptInputError</a></span><span class="op" id="6110349">(</span><span class="ident" id="6110350"><a href="/encoding/ascii85/ascii85.go.html#6110094">i</a></span><span class="op" id="6110351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6110355">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110359">if</span>&nbsp;<span class="ident" id="6110362"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span>&nbsp;<span class="op" id="6110365">==</span>&nbsp;<span class="num" id="6110368">5</span>&nbsp;<span class="op" id="6110370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110375"><a href="/encoding/ascii85/ascii85.go.html#6110040">nsrc</a></span>&nbsp;<span class="op" id="6110380">=</span>&nbsp;<span class="ident" id="6110382"><a href="/encoding/ascii85/ascii85.go.html#6110094">i</a></span>&nbsp;<span class="op" id="6110384">+</span>&nbsp;<span class="num" id="6110386">1</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110391"><a href="/encoding/ascii85/ascii85.go.html#6110004">dst</a></span><span class="op" id="6110394">[</span><span class="ident" id="6110395"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span><span class="op" id="6110399">]</span>&nbsp;<span class="op" id="6110401">=</span>&nbsp;<span class="builtintype" id="6110403">byte</span><span class="op" id="6110407">(</span><span class="ident" id="6110408"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6110410">&gt;&gt;</span>&nbsp;<span class="num" id="6110413">24</span><span class="op" id="6110415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110420"><a href="/encoding/ascii85/ascii85.go.html#6110004">dst</a></span><span class="op" id="6110423">[</span><span class="ident" id="6110424"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span><span class="op" id="6110428">+</span><span class="num" id="6110429">1</span><span class="op" id="6110430">]</span>&nbsp;<span class="op" id="6110432">=</span>&nbsp;<span class="builtintype" id="6110434">byte</span><span class="op" id="6110438">(</span><span class="ident" id="6110439"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6110441">&gt;&gt;</span>&nbsp;<span class="num" id="6110444">16</span><span class="op" id="6110446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110451"><a href="/encoding/ascii85/ascii85.go.html#6110004">dst</a></span><span class="op" id="6110454">[</span><span class="ident" id="6110455"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span><span class="op" id="6110459">+</span><span class="num" id="6110460">2</span><span class="op" id="6110461">]</span>&nbsp;<span class="op" id="6110463">=</span>&nbsp;<span class="builtintype" id="6110465">byte</span><span class="op" id="6110469">(</span><span class="ident" id="6110470"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6110472">&gt;&gt;</span>&nbsp;<span class="num" id="6110475">8</span><span class="op" id="6110476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110481"><a href="/encoding/ascii85/ascii85.go.html#6110004">dst</a></span><span class="op" id="6110484">[</span><span class="ident" id="6110485"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span><span class="op" id="6110489">+</span><span class="num" id="6110490">3</span><span class="op" id="6110491">]</span>&nbsp;<span class="op" id="6110493">=</span>&nbsp;<span class="builtintype" id="6110495">byte</span><span class="op" id="6110499">(</span><span class="ident" id="6110500"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span><span class="op" id="6110501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110506"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span>&nbsp;<span class="op" id="6110511">+=</span>&nbsp;<span class="num" id="6110514">4</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110519"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span>&nbsp;<span class="op" id="6110522">=</span>&nbsp;<span class="num" id="6110524">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110529"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6110531">=</span>&nbsp;<span class="num" id="6110533">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6110537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6110540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110543">if</span>&nbsp;<span class="ident" id="6110546"><a href="/encoding/ascii85/ascii85.go.html#6110021">flush</a></span>&nbsp;<span class="op" id="6110552">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6110556"><a href="/encoding/ascii85/ascii85.go.html#6110040">nsrc</a></span>&nbsp;<span class="op" id="6110561">=</span>&nbsp;<span class="builtinfunc" id="6110563">len</span><span class="op" id="6110566">(</span><span class="ident" id="6110567"><a href="/encoding/ascii85/ascii85.go.html#6110009">src</a></span><span class="op" id="6110570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110574">if</span>&nbsp;<span class="ident" id="6110577"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span>&nbsp;<span class="op" id="6110580">&gt;</span>&nbsp;<span class="num" id="6110582">0</span>&nbsp;<span class="op" id="6110584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6110589">//&nbsp;The&nbsp;number&nbsp;of&nbsp;output&nbsp;bytes&nbsp;in&nbsp;the&nbsp;last&nbsp;fragment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6110643">//&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;leftover&nbsp;input&nbsp;bytes&nbsp;-&nbsp;1:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6110692">//&nbsp;the&nbsp;extra&nbsp;byte&nbsp;provides&nbsp;enough&nbsp;bits&nbsp;to&nbsp;cover</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6110743">//&nbsp;the&nbsp;inefficiency&nbsp;of&nbsp;the&nbsp;encoding&nbsp;for&nbsp;the&nbsp;block.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110797">if</span>&nbsp;<span class="ident" id="6110800"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span>&nbsp;<span class="op" id="6110803">==</span>&nbsp;<span class="num" id="6110806">1</span>&nbsp;<span class="op" id="6110808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110814">return</span>&nbsp;<span class="num" id="6110821">0</span><span class="op" id="6110822">,</span>&nbsp;<span class="num" id="6110824">0</span><span class="op" id="6110825">,</span>&nbsp;<span class="ident" id="6110827"><a href="/encoding/ascii85/ascii85.go.html#6109166">CorruptInputError</a></span><span class="op" id="6110844">(</span><span class="builtinfunc" id="6110845">len</span><span class="op" id="6110848">(</span><span class="ident" id="6110849"><a href="/encoding/ascii85/ascii85.go.html#6110009">src</a></span><span class="op" id="6110852">)</span><span class="op" id="6110853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6110858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6110863">for</span>&nbsp;<span class="ident" id="6110867">i</span>&nbsp;<span class="op" id="6110869">:=</span>&nbsp;<span class="ident" id="6110872"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span><span class="op" id="6110874">;</span>&nbsp;<span class="ident" id="6110876"><a href="/encoding/ascii85/ascii85.go.html#6110867">i</a></span>&nbsp;<span class="op" id="6110878">&lt;</span>&nbsp;<span class="num" id="6110880">5</span><span class="op" id="6110881">;</span>&nbsp;<span class="ident" id="6110883"><a href="/encoding/ascii85/ascii85.go.html#6110867">i</a></span><span class="op" id="6110884">++</span>&nbsp;<span class="op" id="6110887">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6110893">//&nbsp;The&nbsp;short&nbsp;encoding&nbsp;truncated&nbsp;the&nbsp;output&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6110947">//&nbsp;We&nbsp;have&nbsp;to&nbsp;assume&nbsp;the&nbsp;worst&nbsp;case&nbsp;values&nbsp;(digit&nbsp;84)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6111005">//&nbsp;in&nbsp;order&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;top&nbsp;bits&nbsp;are&nbsp;correct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111062"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6111064">=</span>&nbsp;<span class="ident" id="6111066"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span><span class="op" id="6111067">*</span><span class="num" id="6111068">85</span>&nbsp;<span class="op" id="6111071">+</span>&nbsp;<span class="num" id="6111073">84</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6111079">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111084">for</span>&nbsp;<span class="ident" id="6111088">i</span>&nbsp;<span class="op" id="6111090">:=</span>&nbsp;<span class="num" id="6111093">0</span><span class="op" id="6111094">;</span>&nbsp;<span class="ident" id="6111096"><a href="/encoding/ascii85/ascii85.go.html#6111088">i</a></span>&nbsp;<span class="op" id="6111098">&lt;</span>&nbsp;<span class="ident" id="6111100"><a href="/encoding/ascii85/ascii85.go.html#6110082">nb</a></span><span class="op" id="6111102">-</span><span class="num" id="6111103">1</span><span class="op" id="6111104">;</span>&nbsp;<span class="ident" id="6111106"><a href="/encoding/ascii85/ascii85.go.html#6111088">i</a></span><span class="op" id="6111107">++</span>&nbsp;<span class="op" id="6111110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111116"><a href="/encoding/ascii85/ascii85.go.html#6110004">dst</a></span><span class="op" id="6111119">[</span><span class="ident" id="6111120"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span><span class="op" id="6111124">]</span>&nbsp;<span class="op" id="6111126">=</span>&nbsp;<span class="builtintype" id="6111128">byte</span><span class="op" id="6111132">(</span><span class="ident" id="6111133"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6111135">&gt;&gt;</span>&nbsp;<span class="num" id="6111138">24</span><span class="op" id="6111140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111146"><a href="/encoding/ascii85/ascii85.go.html#6110068">v</a></span>&nbsp;<span class="op" id="6111148">&lt;&lt;=</span>&nbsp;<span class="num" id="6111152">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111158"><a href="/encoding/ascii85/ascii85.go.html#6110034">ndst</a></span><span class="op" id="6111162">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6111168">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6111172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6111175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111178">return</span><br>
<span class="lineno"></span><span class="op" id="6111185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="6111188">//&nbsp;NewDecoder&nbsp;constructs&nbsp;a&nbsp;new&nbsp;ascii85&nbsp;stream&nbsp;decoder.</span><br>
<span class="lineno"></span><span class="keyword" id="6111243">func</span>&nbsp;<span class="ident" id="6111248">NewDecoder</span><span class="op" id="6111258">(</span><span class="ident" id="6111259">r</span>&nbsp;<span class="ident" id="6111261"><a href="/encoding/ascii85/ascii85.go.html#6105899">io</a></span><span class="op" id="6111263">.</span><span class="ident" id="6111264">Reader</span><span class="op" id="6111270">)</span>&nbsp;<span class="ident" id="6111272"><a href="/encoding/ascii85/ascii85.go.html#6105899">io</a></span><span class="op" id="6111274">.</span><span class="ident" id="6111275">Reader</span>&nbsp;<span class="op" id="6111282">{</span>&nbsp;<span class="keyword" id="6111284">return</span>&nbsp;<span class="op" id="6111291">&amp;</span><span class="ident" id="6111292"><a href="/encoding/ascii85/ascii85.go.html#6111314">decoder</a></span><span class="op" id="6111299">{</span><span class="ident" id="6111300">r</span><span class="op" id="6111301">:</span>&nbsp;<span class="ident" id="6111303"><a href="/encoding/ascii85/ascii85.go.html#6111259">r</a></span><span class="op" id="6111304">}</span>&nbsp;<span class="op" id="6111306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6111309">type</span>&nbsp;<span class="ident" id="6111314">decoder</span>&nbsp;<span class="keyword" id="6111322">struct</span>&nbsp;<span class="op" id="6111329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111332">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6111340">error</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111347">readErr</span>&nbsp;<span class="builtintype" id="6111355">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111362">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6111370"><a href="/encoding/ascii85/ascii85.go.html#6105899">io</a></span><span class="op" id="6111372">.</span><span class="ident" id="6111373">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111381">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6111389">[</span><span class="num" id="6111390">1024</span><span class="op" id="6111394">]</span><span class="builtintype" id="6111395">byte</span>&nbsp;<span class="comment" id="6111400">//&nbsp;leftover&nbsp;input</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111419">nbuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6111427">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111432">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6111440">[</span><span class="op" id="6111441">]</span><span class="builtintype" id="6111442">byte</span>&nbsp;<span class="comment" id="6111447">//&nbsp;leftover&nbsp;decoded&nbsp;output</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111475">outbuf</span>&nbsp;&nbsp;<span class="op" id="6111483">[</span><span class="num" id="6111484">1024</span><span class="op" id="6111488">]</span><span class="builtintype" id="6111489">byte</span><br>
<span class="lineno"></span><span class="op" id="6111494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6111497">func</span>&nbsp;<span class="op" id="6111502">(</span><span class="ident" id="6111503">d</span>&nbsp;<span class="op" id="6111505">*</span><span class="ident" id="6111506"><a href="/encoding/ascii85/ascii85.go.html#6111314">decoder</a></span><span class="op" id="6111513">)</span>&nbsp;<span class="ident" id="6111515">Read</span><span class="op" id="6111519">(</span><span class="ident" id="6111520">p</span>&nbsp;<span class="op" id="6111522">[</span><span class="op" id="6111523">]</span><span class="builtintype" id="6111524">byte</span><span class="op" id="6111528">)</span>&nbsp;<span class="op" id="6111530">(</span><span class="ident" id="6111531">n</span>&nbsp;<span class="builtintype" id="6111533">int</span><span class="op" id="6111536">,</span>&nbsp;<span class="ident" id="6111538">err</span>&nbsp;<span class="builtintype" id="6111542">error</span><span class="op" id="6111547">)</span>&nbsp;<span class="op" id="6111549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111552">if</span>&nbsp;<span class="builtinfunc" id="6111555">len</span><span class="op" id="6111558">(</span><span class="ident" id="6111559"><a href="/encoding/ascii85/ascii85.go.html#6111520">p</a></span><span class="op" id="6111560">)</span>&nbsp;<span class="op" id="6111562">==</span>&nbsp;<span class="num" id="6111565">0</span>&nbsp;<span class="op" id="6111567">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111571">return</span>&nbsp;<span class="num" id="6111578">0</span><span class="op" id="6111579">,</span>&nbsp;<span class="ident" id="6111581">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6111586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111589">if</span>&nbsp;<span class="ident" id="6111592"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111593">.</span><span class="ident" id="6111594">err</span>&nbsp;<span class="op" id="6111598">!=</span>&nbsp;<span class="ident" id="6111601">nil</span>&nbsp;<span class="op" id="6111605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111609">return</span>&nbsp;<span class="num" id="6111616">0</span><span class="op" id="6111617">,</span>&nbsp;<span class="ident" id="6111619"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111620">.</span><span class="ident" id="6111621">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6111626">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111630">for</span>&nbsp;<span class="op" id="6111634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6111638">//&nbsp;Copy&nbsp;leftover&nbsp;output&nbsp;from&nbsp;last&nbsp;decode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111682">if</span>&nbsp;<span class="builtinfunc" id="6111685">len</span><span class="op" id="6111688">(</span><span class="ident" id="6111689"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111690">.</span><span class="ident" id="6111691">out</span><span class="op" id="6111694">)</span>&nbsp;<span class="op" id="6111696">&gt;</span>&nbsp;<span class="num" id="6111698">0</span>&nbsp;<span class="op" id="6111700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111705"><a href="/encoding/ascii85/ascii85.go.html#6111531">n</a></span>&nbsp;<span class="op" id="6111707">=</span>&nbsp;<span class="builtinfunc" id="6111709">copy</span><span class="op" id="6111713">(</span><span class="ident" id="6111714"><a href="/encoding/ascii85/ascii85.go.html#6111520">p</a></span><span class="op" id="6111715">,</span>&nbsp;<span class="ident" id="6111717"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111718">.</span><span class="ident" id="6111719">out</span><span class="op" id="6111722">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111727"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111728">.</span><span class="ident" id="6111729">out</span>&nbsp;<span class="op" id="6111733">=</span>&nbsp;<span class="ident" id="6111735"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111736">.</span><span class="ident" id="6111737">out</span><span class="op" id="6111740">[</span><span class="ident" id="6111741"><a href="/encoding/ascii85/ascii85.go.html#6111531">n</a></span><span class="op" id="6111742">:</span><span class="op" id="6111743">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111748">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6111757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6111762">//&nbsp;Decode&nbsp;leftover&nbsp;input&nbsp;from&nbsp;last&nbsp;read.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111805">var</span>&nbsp;<span class="ident" id="6111809">nn</span><span class="op" id="6111811">,</span>&nbsp;<span class="ident" id="6111813">nsrc</span><span class="op" id="6111817">,</span>&nbsp;<span class="ident" id="6111819">ndst</span>&nbsp;<span class="builtintype" id="6111824">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111830">if</span>&nbsp;<span class="ident" id="6111833"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111834">.</span><span class="ident" id="6111835">nbuf</span>&nbsp;<span class="op" id="6111840">&gt;</span>&nbsp;<span class="num" id="6111842">0</span>&nbsp;<span class="op" id="6111844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111849"><a href="/encoding/ascii85/ascii85.go.html#6111819">ndst</a></span><span class="op" id="6111853">,</span>&nbsp;<span class="ident" id="6111855"><a href="/encoding/ascii85/ascii85.go.html#6111813">nsrc</a></span><span class="op" id="6111859">,</span>&nbsp;<span class="ident" id="6111861"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111862">.</span><span class="ident" id="6111863">err</span>&nbsp;<span class="op" id="6111867">=</span>&nbsp;<span class="ident" id="6111869"><a href="/encoding/ascii85/ascii85.go.html#6109997">Decode</a></span><span class="op" id="6111875">(</span><span class="ident" id="6111876"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111877">.</span><span class="ident" id="6111878">outbuf</span><span class="op" id="6111884">[</span><span class="num" id="6111885">0</span><span class="op" id="6111886">:</span><span class="op" id="6111887">]</span><span class="op" id="6111888">,</span>&nbsp;<span class="ident" id="6111890"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111891">.</span><span class="ident" id="6111892">buf</span><span class="op" id="6111895">[</span><span class="num" id="6111896">0</span><span class="op" id="6111897">:</span><span class="ident" id="6111898"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111899">.</span><span class="ident" id="6111900">nbuf</span><span class="op" id="6111904">]</span><span class="op" id="6111905">,</span>&nbsp;<span class="ident" id="6111907"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111908">.</span><span class="ident" id="6111909">readErr</span>&nbsp;<span class="op" id="6111917">!=</span>&nbsp;<span class="ident" id="6111920">nil</span><span class="op" id="6111923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6111928">if</span>&nbsp;<span class="ident" id="6111931"><a href="/encoding/ascii85/ascii85.go.html#6111819">ndst</a></span>&nbsp;<span class="op" id="6111936">&gt;</span>&nbsp;<span class="num" id="6111938">0</span>&nbsp;<span class="op" id="6111940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111946"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111947">.</span><span class="ident" id="6111948">out</span>&nbsp;<span class="op" id="6111952">=</span>&nbsp;<span class="ident" id="6111954"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111955">.</span><span class="ident" id="6111956">outbuf</span><span class="op" id="6111962">[</span><span class="num" id="6111963">0</span><span class="op" id="6111964">:</span><span class="ident" id="6111965"><a href="/encoding/ascii85/ascii85.go.html#6111819">ndst</a></span><span class="op" id="6111969">]</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6111975"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111976">.</span><span class="ident" id="6111977">nbuf</span>&nbsp;<span class="op" id="6111982">=</span>&nbsp;<span class="builtinfunc" id="6111984">copy</span><span class="op" id="6111988">(</span><span class="ident" id="6111989"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6111990">.</span><span class="ident" id="6111991">buf</span><span class="op" id="6111994">[</span><span class="num" id="6111995">0</span><span class="op" id="6111996">:</span><span class="op" id="6111997">]</span><span class="op" id="6111998">,</span>&nbsp;<span class="ident" id="6112000"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112001">.</span><span class="ident" id="6112002">buf</span><span class="op" id="6112005">[</span><span class="ident" id="6112006"><a href="/encoding/ascii85/ascii85.go.html#6111813">nsrc</a></span><span class="op" id="6112010">:</span><span class="ident" id="6112011"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112012">.</span><span class="ident" id="6112013">nbuf</span><span class="op" id="6112017">]</span><span class="op" id="6112018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112024">continue</span>&nbsp;<span class="comment" id="6112033">//&nbsp;copy&nbsp;out&nbsp;and&nbsp;return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112064">if</span>&nbsp;<span class="ident" id="6112067"><a href="/encoding/ascii85/ascii85.go.html#6111819">ndst</a></span>&nbsp;<span class="op" id="6112072">==</span>&nbsp;<span class="num" id="6112075">0</span>&nbsp;<span class="op" id="6112077">&amp;&amp;</span>&nbsp;<span class="ident" id="6112080"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112081">.</span><span class="ident" id="6112082">err</span>&nbsp;<span class="op" id="6112086">==</span>&nbsp;<span class="ident" id="6112089">nil</span>&nbsp;<span class="op" id="6112093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6112099">//&nbsp;Special&nbsp;case:&nbsp;input&nbsp;buffer&nbsp;is&nbsp;mostly&nbsp;filled&nbsp;with&nbsp;non-data&nbsp;bytes.</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6112171">//&nbsp;Filter&nbsp;out&nbsp;such&nbsp;bytes&nbsp;to&nbsp;make&nbsp;room&nbsp;for&nbsp;more&nbsp;input.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6112229">off</span>&nbsp;<span class="op" id="6112233">:=</span>&nbsp;<span class="num" id="6112236">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112242">for</span>&nbsp;<span class="ident" id="6112246">i</span>&nbsp;<span class="op" id="6112248">:=</span>&nbsp;<span class="num" id="6112251">0</span><span class="op" id="6112252">;</span>&nbsp;<span class="ident" id="6112254"><a href="/encoding/ascii85/ascii85.go.html#6112246">i</a></span>&nbsp;<span class="op" id="6112256">&lt;</span>&nbsp;<span class="ident" id="6112258"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112259">.</span><span class="ident" id="6112260">nbuf</span><span class="op" id="6112264">;</span>&nbsp;<span class="ident" id="6112266"><a href="/encoding/ascii85/ascii85.go.html#6112246">i</a></span><span class="op" id="6112267">++</span>&nbsp;<span class="op" id="6112270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112277">if</span>&nbsp;<span class="ident" id="6112280"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112281">.</span><span class="ident" id="6112282">buf</span><span class="op" id="6112285">[</span><span class="ident" id="6112286"><a href="/encoding/ascii85/ascii85.go.html#6112246">i</a></span><span class="op" id="6112287">]</span>&nbsp;<span class="op" id="6112289">&gt;</span>&nbsp;<span class="string" id="6112291">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6112295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6112303"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112304">.</span><span class="ident" id="6112305">buf</span><span class="op" id="6112308">[</span><span class="ident" id="6112309"><a href="/encoding/ascii85/ascii85.go.html#6112229">off</a></span><span class="op" id="6112312">]</span>&nbsp;<span class="op" id="6112314">=</span>&nbsp;<span class="ident" id="6112316"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112317">.</span><span class="ident" id="6112318">buf</span><span class="op" id="6112321">[</span><span class="ident" id="6112322"><a href="/encoding/ascii85/ascii85.go.html#6112246">i</a></span><span class="op" id="6112323">]</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6112331"><a href="/encoding/ascii85/ascii85.go.html#6112229">off</a></span><span class="op" id="6112334">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6112354"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112355">.</span><span class="ident" id="6112356">nbuf</span>&nbsp;<span class="op" id="6112361">=</span>&nbsp;<span class="ident" id="6112363"><a href="/encoding/ascii85/ascii85.go.html#6112229">off</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112370">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112374">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6112379">//&nbsp;Out&nbsp;of&nbsp;input,&nbsp;out&nbsp;of&nbsp;decoded&nbsp;output.&nbsp;&nbsp;Check&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112436">if</span>&nbsp;<span class="ident" id="6112439"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112440">.</span><span class="ident" id="6112441">err</span>&nbsp;<span class="op" id="6112445">!=</span>&nbsp;<span class="ident" id="6112448">nil</span>&nbsp;<span class="op" id="6112452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112457">return</span>&nbsp;<span class="num" id="6112464">0</span><span class="op" id="6112465">,</span>&nbsp;<span class="ident" id="6112467"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112468">.</span><span class="ident" id="6112469">err</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112479">if</span>&nbsp;<span class="ident" id="6112482"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112483">.</span><span class="ident" id="6112484">readErr</span>&nbsp;<span class="op" id="6112492">!=</span>&nbsp;<span class="ident" id="6112495">nil</span>&nbsp;<span class="op" id="6112499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6112504"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112505">.</span><span class="ident" id="6112506">err</span>&nbsp;<span class="op" id="6112510">=</span>&nbsp;<span class="ident" id="6112512"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112513">.</span><span class="ident" id="6112514">readErr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6112525">return</span>&nbsp;<span class="num" id="6112532">0</span><span class="op" id="6112533">,</span>&nbsp;<span class="ident" id="6112535"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112536">.</span><span class="ident" id="6112537">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112543">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6112548">//&nbsp;Read&nbsp;more&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6112569"><a href="/encoding/ascii85/ascii85.go.html#6111809">nn</a></span><span class="op" id="6112571">,</span>&nbsp;<span class="ident" id="6112573"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112574">.</span><span class="ident" id="6112575">readErr</span>&nbsp;<span class="op" id="6112583">=</span>&nbsp;<span class="ident" id="6112585"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112586">.</span><span class="ident" id="6112587">r</span><span class="op" id="6112588">.</span><span class="ident" id="6112589">Read</span><span class="op" id="6112593">(</span><span class="ident" id="6112594"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112595">.</span><span class="ident" id="6112596">buf</span><span class="op" id="6112599">[</span><span class="ident" id="6112600"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112601">.</span><span class="ident" id="6112602">nbuf</span><span class="op" id="6112606">:</span><span class="op" id="6112607">]</span><span class="op" id="6112608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6112612"><a href="/encoding/ascii85/ascii85.go.html#6111503">d</a></span><span class="op" id="6112613">.</span><span class="ident" id="6112614">nbuf</span>&nbsp;<span class="op" id="6112619">+=</span>&nbsp;<span class="ident" id="6112622"><a href="/encoding/ascii85/ascii85.go.html#6111809">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6112626">}</span><br>
<span class="lineno">310</span><span class="op" id="6112628">}</span>
</div>
</body>
</html>
