<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html" class="current">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7148437">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7148492">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7148546">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7148597">//&nbsp;This&nbsp;test&nbsp;tests&nbsp;some&nbsp;internals&nbsp;of&nbsp;the&nbsp;flate&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="7148653">//&nbsp;The&nbsp;tests&nbsp;in&nbsp;package&nbsp;compress/gzip&nbsp;serve&nbsp;as&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="7148704">//&nbsp;end-to-end&nbsp;test&nbsp;of&nbsp;the&nbsp;decompressor.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7148745">package</span>&nbsp;<span class="ident" id="7148753">flate</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7148760">import</span>&nbsp;<span class="op" id="7148767">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7148770">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7148779">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7148789">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7148792">func</span>&nbsp;<span class="ident" id="7148797">TestUncompressedSource</span><span class="op" id="7148819">(</span><span class="ident" id="7148820">t</span>&nbsp;<span class="op" id="7148822">*</span><span class="ident" id="7148823">testing</span><span class="op" id="7148830">.</span><span class="ident" id="7148831">T</span><span class="op" id="7148832">)</span>&nbsp;<span class="op" id="7148834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7148837">decoder</span>&nbsp;<span class="op" id="7148845">:=</span>&nbsp;<span class="ident" id="7148848">NewReader</span><span class="op" id="7148857">(</span><span class="ident" id="7148858">bytes</span><span class="op" id="7148863">.</span><span class="ident" id="7148864">NewReader</span><span class="op" id="7148873">(</span><span class="op" id="7148874">[</span><span class="op" id="7148875">]</span><span class="builtintype" id="7148876">byte</span><span class="op" id="7148880">{</span><span class="num" id="7148881">0x01</span><span class="op" id="7148885">,</span>&nbsp;<span class="num" id="7148887">0x01</span><span class="op" id="7148891">,</span>&nbsp;<span class="num" id="7148893">0x00</span><span class="op" id="7148897">,</span>&nbsp;<span class="num" id="7148899">0xfe</span><span class="op" id="7148903">,</span>&nbsp;<span class="num" id="7148905">0xff</span><span class="op" id="7148909">,</span>&nbsp;<span class="num" id="7148911">0x11</span><span class="op" id="7148915">}</span><span class="op" id="7148916">)</span><span class="op" id="7148917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7148920">output</span>&nbsp;<span class="op" id="7148927">:=</span>&nbsp;<span class="builtinfunc" id="7148930">make</span><span class="op" id="7148934">(</span><span class="op" id="7148935">[</span><span class="op" id="7148936">]</span><span class="builtintype" id="7148937">byte</span><span class="op" id="7148941">,</span>&nbsp;<span class="num" id="7148943">1</span><span class="op" id="7148944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7148947">n</span><span class="op" id="7148948">,</span>&nbsp;<span class="builtintype" id="7148950">error</span>&nbsp;<span class="op" id="7148956">:=</span>&nbsp;<span class="ident" id="7148959">decoder</span><span class="op" id="7148966">.</span><span class="ident" id="7148967">Read</span><span class="op" id="7148971">(</span><span class="ident" id="7148972">output</span><span class="op" id="7148978">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7148981">if</span>&nbsp;<span class="ident" id="7148984">n</span>&nbsp;<span class="op" id="7148986">!=</span>&nbsp;<span class="num" id="7148989">1</span>&nbsp;<span class="op" id="7148991">||</span>&nbsp;<span class="builtintype" id="7148994">error</span>&nbsp;<span class="op" id="7149000">!=</span>&nbsp;<span class="ident" id="7149003">nil</span>&nbsp;<span class="op" id="7149007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149011">t</span><span class="op" id="7149012">.</span><span class="ident" id="7149013">Fatalf</span><span class="op" id="7149019">(</span><span class="string" id="7149020">&#34;decoder.Read()&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;1,&nbsp;nil&#34;</span><span class="op" id="7149058">,</span>&nbsp;<span class="ident" id="7149060">n</span><span class="op" id="7149061">,</span>&nbsp;<span class="builtintype" id="7149063">error</span><span class="op" id="7149068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7149071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7149074">if</span>&nbsp;<span class="ident" id="7149077">output</span><span class="op" id="7149083">[</span><span class="num" id="7149084">0</span><span class="op" id="7149085">]</span>&nbsp;<span class="op" id="7149087">!=</span>&nbsp;<span class="num" id="7149090">0x11</span>&nbsp;<span class="op" id="7149095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149099">t</span><span class="op" id="7149100">.</span><span class="ident" id="7149101">Errorf</span><span class="op" id="7149107">(</span><span class="string" id="7149108">&#34;output[0]&nbsp;=&nbsp;%x,&nbsp;want&nbsp;0x11&#34;</span><span class="op" id="7149135">,</span>&nbsp;<span class="ident" id="7149137">output</span><span class="op" id="7149143">[</span><span class="num" id="7149144">0</span><span class="op" id="7149145">]</span><span class="op" id="7149146">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7149149">}</span><br>
<span class="lineno"></span><span class="op" id="7149151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7149154">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="7149194">func</span>&nbsp;<span class="ident" id="7149199">TestIssue5915</span><span class="op" id="7149212">(</span><span class="ident" id="7149213">t</span>&nbsp;<span class="op" id="7149215">*</span><span class="ident" id="7149216">testing</span><span class="op" id="7149223">.</span><span class="ident" id="7149224">T</span><span class="op" id="7149225">)</span>&nbsp;<span class="op" id="7149227">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149230">bits</span>&nbsp;<span class="op" id="7149235">:=</span>&nbsp;<span class="op" id="7149238">[</span><span class="op" id="7149239">]</span><span class="builtintype" id="7149240">int</span><span class="op" id="7149243">{</span><span class="num" id="7149244">4</span><span class="op" id="7149245">,</span>&nbsp;<span class="num" id="7149247">0</span><span class="op" id="7149248">,</span>&nbsp;<span class="num" id="7149250">0</span><span class="op" id="7149251">,</span>&nbsp;<span class="num" id="7149253">6</span><span class="op" id="7149254">,</span>&nbsp;<span class="num" id="7149256">4</span><span class="op" id="7149257">,</span>&nbsp;<span class="num" id="7149259">3</span><span class="op" id="7149260">,</span>&nbsp;<span class="num" id="7149262">2</span><span class="op" id="7149263">,</span>&nbsp;<span class="num" id="7149265">3</span><span class="op" id="7149266">,</span>&nbsp;<span class="num" id="7149268">3</span><span class="op" id="7149269">,</span>&nbsp;<span class="num" id="7149271">4</span><span class="op" id="7149272">,</span>&nbsp;<span class="num" id="7149274">4</span><span class="op" id="7149275">,</span>&nbsp;<span class="num" id="7149277">5</span><span class="op" id="7149278">,</span>&nbsp;<span class="num" id="7149280">0</span><span class="op" id="7149281">,</span>&nbsp;<span class="num" id="7149283">0</span><span class="op" id="7149284">,</span>&nbsp;<span class="num" id="7149286">0</span><span class="op" id="7149287">,</span>&nbsp;<span class="num" id="7149289">0</span><span class="op" id="7149290">,</span>&nbsp;<span class="num" id="7149292">5</span><span class="op" id="7149293">,</span>&nbsp;<span class="num" id="7149295">5</span><span class="op" id="7149296">,</span>&nbsp;<span class="num" id="7149298">6</span><span class="op" id="7149299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7149303">0</span><span class="op" id="7149304">,</span>&nbsp;<span class="num" id="7149306">0</span><span class="op" id="7149307">,</span>&nbsp;<span class="num" id="7149309">0</span><span class="op" id="7149310">,</span>&nbsp;<span class="num" id="7149312">0</span><span class="op" id="7149313">,</span>&nbsp;<span class="num" id="7149315">0</span><span class="op" id="7149316">,</span>&nbsp;<span class="num" id="7149318">0</span><span class="op" id="7149319">,</span>&nbsp;<span class="num" id="7149321">0</span><span class="op" id="7149322">,</span>&nbsp;<span class="num" id="7149324">0</span><span class="op" id="7149325">,</span>&nbsp;<span class="num" id="7149327">0</span><span class="op" id="7149328">,</span>&nbsp;<span class="num" id="7149330">0</span><span class="op" id="7149331">,</span>&nbsp;<span class="num" id="7149333">11</span><span class="op" id="7149335">,</span>&nbsp;<span class="num" id="7149337">0</span><span class="op" id="7149338">,</span>&nbsp;<span class="num" id="7149340">0</span><span class="op" id="7149341">,</span>&nbsp;<span class="num" id="7149343">0</span><span class="op" id="7149344">,</span>&nbsp;<span class="num" id="7149346">0</span><span class="op" id="7149347">,</span>&nbsp;<span class="num" id="7149349">0</span><span class="op" id="7149350">,</span>&nbsp;<span class="num" id="7149352">0</span><span class="op" id="7149353">,</span>&nbsp;<span class="num" id="7149355">0</span><span class="op" id="7149356">,</span>&nbsp;<span class="num" id="7149358">0</span><span class="op" id="7149359">,</span>&nbsp;<span class="num" id="7149361">0</span><span class="op" id="7149362">,</span>&nbsp;<span class="num" id="7149364">0</span><span class="op" id="7149365">,</span>&nbsp;<span class="num" id="7149367">0</span><span class="op" id="7149368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7149372">0</span><span class="op" id="7149373">,</span>&nbsp;<span class="num" id="7149375">0</span><span class="op" id="7149376">,</span>&nbsp;<span class="num" id="7149378">0</span><span class="op" id="7149379">,</span>&nbsp;<span class="num" id="7149381">0</span><span class="op" id="7149382">,</span>&nbsp;<span class="num" id="7149384">0</span><span class="op" id="7149385">,</span>&nbsp;<span class="num" id="7149387">0</span><span class="op" id="7149388">,</span>&nbsp;<span class="num" id="7149390">0</span><span class="op" id="7149391">,</span>&nbsp;<span class="num" id="7149393">0</span><span class="op" id="7149394">,</span>&nbsp;<span class="num" id="7149396">0</span><span class="op" id="7149397">,</span>&nbsp;<span class="num" id="7149399">0</span><span class="op" id="7149400">,</span>&nbsp;<span class="num" id="7149402">7</span><span class="op" id="7149403">,</span>&nbsp;<span class="num" id="7149405">8</span><span class="op" id="7149406">,</span>&nbsp;<span class="num" id="7149408">6</span><span class="op" id="7149409">,</span>&nbsp;<span class="num" id="7149411">0</span><span class="op" id="7149412">,</span>&nbsp;<span class="num" id="7149414">11</span><span class="op" id="7149416">,</span>&nbsp;<span class="num" id="7149418">0</span><span class="op" id="7149419">,</span>&nbsp;<span class="num" id="7149421">8</span><span class="op" id="7149422">,</span>&nbsp;<span class="num" id="7149424">0</span><span class="op" id="7149425">,</span>&nbsp;<span class="num" id="7149427">6</span><span class="op" id="7149428">,</span>&nbsp;<span class="num" id="7149430">6</span><span class="op" id="7149431">,</span>&nbsp;<span class="num" id="7149433">10</span><span class="op" id="7149435">,</span>&nbsp;<span class="num" id="7149437">8</span><span class="op" id="7149438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149441">h</span>&nbsp;<span class="op" id="7149443">:=</span>&nbsp;<span class="builtinfunc" id="7149446">new</span><span class="op" id="7149449">(</span><span class="ident" id="7149450">huffmanDecoder</span><span class="op" id="7149464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149467">ok</span>&nbsp;<span class="op" id="7149470">:=</span>&nbsp;<span class="ident" id="7149473">h</span><span class="op" id="7149474">.</span><span class="ident" id="7149475">init</span><span class="op" id="7149479">(</span><span class="ident" id="7149480">bits</span><span class="op" id="7149484">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7149487">if</span>&nbsp;<span class="ident" id="7149490">ok</span>&nbsp;<span class="op" id="7149493">==</span>&nbsp;<span class="builtintype" id="7149496">true</span>&nbsp;<span class="op" id="7149501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149505">t</span><span class="op" id="7149506">.</span><span class="ident" id="7149507">Fatalf</span><span class="op" id="7149513">(</span><span class="string" id="7149514">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad,&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="7149570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7149573">}</span><br>
<span class="lineno"></span><span class="op" id="7149575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="7149578">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="7149618">func</span>&nbsp;<span class="ident" id="7149623">TestIssue5962</span><span class="op" id="7149636">(</span><span class="ident" id="7149637">t</span>&nbsp;<span class="op" id="7149639">*</span><span class="ident" id="7149640">testing</span><span class="op" id="7149647">.</span><span class="ident" id="7149648">T</span><span class="op" id="7149649">)</span>&nbsp;<span class="op" id="7149651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149654">bits</span>&nbsp;<span class="op" id="7149659">:=</span>&nbsp;<span class="op" id="7149662">[</span><span class="op" id="7149663">]</span><span class="builtintype" id="7149664">int</span><span class="op" id="7149667">{</span><span class="num" id="7149668">4</span><span class="op" id="7149669">,</span>&nbsp;<span class="num" id="7149671">0</span><span class="op" id="7149672">,</span>&nbsp;<span class="num" id="7149674">0</span><span class="op" id="7149675">,</span>&nbsp;<span class="num" id="7149677">6</span><span class="op" id="7149678">,</span>&nbsp;<span class="num" id="7149680">4</span><span class="op" id="7149681">,</span>&nbsp;<span class="num" id="7149683">3</span><span class="op" id="7149684">,</span>&nbsp;<span class="num" id="7149686">2</span><span class="op" id="7149687">,</span>&nbsp;<span class="num" id="7149689">3</span><span class="op" id="7149690">,</span>&nbsp;<span class="num" id="7149692">3</span><span class="op" id="7149693">,</span>&nbsp;<span class="num" id="7149695">4</span><span class="op" id="7149696">,</span>&nbsp;<span class="num" id="7149698">4</span><span class="op" id="7149699">,</span>&nbsp;<span class="num" id="7149701">5</span><span class="op" id="7149702">,</span>&nbsp;<span class="num" id="7149704">0</span><span class="op" id="7149705">,</span>&nbsp;<span class="num" id="7149707">0</span><span class="op" id="7149708">,</span>&nbsp;<span class="num" id="7149710">0</span><span class="op" id="7149711">,</span>&nbsp;<span class="num" id="7149713">0</span><span class="op" id="7149714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7149718">5</span><span class="op" id="7149719">,</span>&nbsp;<span class="num" id="7149721">5</span><span class="op" id="7149722">,</span>&nbsp;<span class="num" id="7149724">6</span><span class="op" id="7149725">,</span>&nbsp;<span class="num" id="7149727">0</span><span class="op" id="7149728">,</span>&nbsp;<span class="num" id="7149730">0</span><span class="op" id="7149731">,</span>&nbsp;<span class="num" id="7149733">0</span><span class="op" id="7149734">,</span>&nbsp;<span class="num" id="7149736">0</span><span class="op" id="7149737">,</span>&nbsp;<span class="num" id="7149739">0</span><span class="op" id="7149740">,</span>&nbsp;<span class="num" id="7149742">0</span><span class="op" id="7149743">,</span>&nbsp;<span class="num" id="7149745">0</span><span class="op" id="7149746">,</span>&nbsp;<span class="num" id="7149748">0</span><span class="op" id="7149749">,</span>&nbsp;<span class="num" id="7149751">0</span><span class="op" id="7149752">,</span>&nbsp;<span class="num" id="7149754">0</span><span class="op" id="7149755">,</span>&nbsp;<span class="num" id="7149757">11</span><span class="op" id="7149759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149762">h</span>&nbsp;<span class="op" id="7149764">:=</span>&nbsp;<span class="builtinfunc" id="7149767">new</span><span class="op" id="7149770">(</span><span class="ident" id="7149771">huffmanDecoder</span><span class="op" id="7149785">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149788">ok</span>&nbsp;<span class="op" id="7149791">:=</span>&nbsp;<span class="ident" id="7149794">h</span><span class="op" id="7149795">.</span><span class="ident" id="7149796">init</span><span class="op" id="7149800">(</span><span class="ident" id="7149801">bits</span><span class="op" id="7149805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7149808">if</span>&nbsp;<span class="ident" id="7149811">ok</span>&nbsp;<span class="op" id="7149814">==</span>&nbsp;<span class="builtintype" id="7149817">true</span>&nbsp;<span class="op" id="7149822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149826">t</span><span class="op" id="7149827">.</span><span class="ident" id="7149828">Fatalf</span><span class="op" id="7149834">(</span><span class="string" id="7149835">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad,&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="7149891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7149894">}</span><br>
<span class="lineno"></span><span class="op" id="7149896">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="7149899">//&nbsp;The&nbsp;following&nbsp;test&nbsp;should&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="7149939">func</span>&nbsp;<span class="ident" id="7149944">TestIssue6255</span><span class="op" id="7149957">(</span><span class="ident" id="7149958">t</span>&nbsp;<span class="op" id="7149960">*</span><span class="ident" id="7149961">testing</span><span class="op" id="7149968">.</span><span class="ident" id="7149969">T</span><span class="op" id="7149970">)</span>&nbsp;<span class="op" id="7149972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7149975">bits1</span>&nbsp;<span class="op" id="7149981">:=</span>&nbsp;<span class="op" id="7149984">[</span><span class="op" id="7149985">]</span><span class="builtintype" id="7149986">int</span><span class="op" id="7149989">{</span><span class="num" id="7149990">1</span><span class="op" id="7149991">,</span>&nbsp;<span class="num" id="7149993">2</span><span class="op" id="7149994">,</span>&nbsp;<span class="num" id="7149996">3</span><span class="op" id="7149997">,</span>&nbsp;<span class="num" id="7149999">4</span><span class="op" id="7150000">,</span>&nbsp;<span class="num" id="7150002">5</span><span class="op" id="7150003">,</span>&nbsp;<span class="num" id="7150005">6</span><span class="op" id="7150006">,</span>&nbsp;<span class="num" id="7150008">7</span><span class="op" id="7150009">,</span>&nbsp;<span class="num" id="7150011">8</span><span class="op" id="7150012">,</span>&nbsp;<span class="num" id="7150014">9</span><span class="op" id="7150015">,</span>&nbsp;<span class="num" id="7150017">10</span><span class="op" id="7150019">,</span>&nbsp;<span class="num" id="7150021">11</span><span class="op" id="7150023">,</span>&nbsp;<span class="num" id="7150025">11</span><span class="op" id="7150027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150030">bits2</span>&nbsp;<span class="op" id="7150036">:=</span>&nbsp;<span class="op" id="7150039">[</span><span class="op" id="7150040">]</span><span class="builtintype" id="7150041">int</span><span class="op" id="7150044">{</span><span class="num" id="7150045">11</span><span class="op" id="7150047">,</span>&nbsp;<span class="num" id="7150049">13</span><span class="op" id="7150051">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150054">h</span>&nbsp;<span class="op" id="7150056">:=</span>&nbsp;<span class="builtinfunc" id="7150059">new</span><span class="op" id="7150062">(</span><span class="ident" id="7150063">huffmanDecoder</span><span class="op" id="7150077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150080">if</span>&nbsp;<span class="op" id="7150083">!</span><span class="ident" id="7150084">h</span><span class="op" id="7150085">.</span><span class="ident" id="7150086">init</span><span class="op" id="7150090">(</span><span class="ident" id="7150091">bits1</span><span class="op" id="7150096">)</span>&nbsp;<span class="op" id="7150098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150102">t</span><span class="op" id="7150103">.</span><span class="ident" id="7150104">Fatalf</span><span class="op" id="7150110">(</span><span class="string" id="7150111">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;good&nbsp;and&nbsp;should&nbsp;succeed.&#34;</span><span class="op" id="7150163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7150166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7150169">if</span>&nbsp;<span class="ident" id="7150172">h</span><span class="op" id="7150173">.</span><span class="ident" id="7150174">init</span><span class="op" id="7150178">(</span><span class="ident" id="7150179">bits2</span><span class="op" id="7150184">)</span>&nbsp;<span class="op" id="7150186">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7150190">t</span><span class="op" id="7150191">.</span><span class="ident" id="7150192">Fatalf</span><span class="op" id="7150198">(</span><span class="string" id="7150199">&#34;Given&nbsp;sequence&nbsp;of&nbsp;bits&nbsp;is&nbsp;bad&nbsp;and&nbsp;should&nbsp;not&nbsp;succeed.&#34;</span><span class="op" id="7150254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7150257">}</span><br>
<span class="lineno"></span><span class="op" id="7150259">}</span>
</div>
</body>
</html>
