<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6972885">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6972940">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6972994">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6973045">package</span>&nbsp;<span class="ident" id="6973053">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6973059">import</span>&nbsp;<span class="op" id="6973066">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973069">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973078">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973091">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973102">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973113">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973124">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6973131">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6973134">var</span>&nbsp;<span class="ident" id="6973138">parseTests</span>&nbsp;<span class="op" id="6973149">=</span>&nbsp;<span class="op" id="6973151">[</span><span class="op" id="6973152">]</span><span class="keyword" id="6973153">struct</span>&nbsp;<span class="op" id="6973160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6973163">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6973170">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6973178">header</span>&nbsp;<span class="ident" id="6973185"><a href="/net/mail/message.go.html#6317188">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6973193">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6973200">string</span><br>
<span class="lineno">20</span><span class="op" id="6973207">}</span><span class="op" id="6973208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6973211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6973215">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6973245">in</span><span class="op" id="6973247">:</span>&nbsp;<span class="string" id="6973249">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="6973475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6973479">header</span><span class="op" id="6973485">:</span>&nbsp;<span class="ident" id="6973487"><a href="/net/mail/message.go.html#6317188">Header</a></span><span class="op" id="6973493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973498">&#34;From&#34;</span><span class="op" id="6973504">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973512">[</span><span class="op" id="6973513">]</span><span class="builtintype" id="6973514">string</span><span class="op" id="6973520">{</span><span class="string" id="6973521">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="6973554">}</span><span class="op" id="6973555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973560">&#34;To&#34;</span><span class="op" id="6973564">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973574">[</span><span class="op" id="6973575">]</span><span class="builtintype" id="6973576">string</span><span class="op" id="6973582">{</span><span class="string" id="6973583">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="6973614">}</span><span class="op" id="6973615">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973620">&#34;Subject&#34;</span><span class="op" id="6973629">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973634">[</span><span class="op" id="6973635">]</span><span class="builtintype" id="6973636">string</span><span class="op" id="6973642">{</span><span class="string" id="6973643">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="6973657">}</span><span class="op" id="6973658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973663">&#34;Date&#34;</span><span class="op" id="6973669">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6973677">[</span><span class="op" id="6973678">]</span><span class="builtintype" id="6973679">string</span><span class="op" id="6973685">{</span><span class="string" id="6973686">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6973719">}</span><span class="op" id="6973720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6973725">&#34;Message-Id&#34;</span><span class="op" id="6973737">:</span>&nbsp;<span class="op" id="6973739">[</span><span class="op" id="6973740">]</span><span class="builtintype" id="6973741">string</span><span class="op" id="6973747">{</span><span class="string" id="6973748">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="6973778">}</span><span class="op" id="6973779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6973783">}</span><span class="op" id="6973784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6973788">body</span><span class="op" id="6973792">:</span>&nbsp;<span class="string" id="6973794">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="6973850">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6973853">}</span><span class="op" id="6973854">,</span><br>
<span class="lineno"></span><span class="op" id="6973856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6973859">func</span>&nbsp;<span class="ident" id="6973864">TestParsing</span><span class="op" id="6973875">(</span><span class="ident" id="6973876">t</span>&nbsp;<span class="op" id="6973878">*</span><span class="ident" id="6973879"><a href="/net/mail/message_test.go.html#6973113">testing</a></span><span class="op" id="6973886">.</span><span class="ident" id="6973887">T</span><span class="op" id="6973888">)</span>&nbsp;<span class="op" id="6973890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6973893">for</span>&nbsp;<span class="ident" id="6973897">i</span><span class="op" id="6973898">,</span>&nbsp;<span class="ident" id="6973900">test</span>&nbsp;<span class="op" id="6973905">:=</span>&nbsp;<span class="keyword" id="6973908">range</span>&nbsp;<span class="ident" id="6973914"><a href="/net/mail/message_test.go.html#6973138">parseTests</a></span>&nbsp;<span class="op" id="6973925">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6973929">msg</span><span class="op" id="6973932">,</span>&nbsp;<span class="ident" id="6973934">err</span>&nbsp;<span class="op" id="6973938">:=</span>&nbsp;<span class="ident" id="6973941"><a href="/net/mail/message.go.html#6315797">ReadMessage</a></span><span class="op" id="6973952">(</span><span class="ident" id="6973953"><a href="/net/mail/message_test.go.html#6973069">bytes</a></span><span class="op" id="6973958">.</span><span class="ident" id="6973959">NewBuffer</span><span class="op" id="6973968">(</span><span class="op" id="6973969">[</span><span class="op" id="6973970">]</span><span class="builtintype" id="6973971">byte</span><span class="op" id="6973975">(</span><span class="ident" id="6973976"><a href="/net/mail/message_test.go.html#6973900">test</a></span><span class="op" id="6973980">.</span><span class="ident" id="6973981">in</span><span class="op" id="6973983">)</span><span class="op" id="6973984">)</span><span class="op" id="6973985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6973989">if</span>&nbsp;<span class="ident" id="6973992"><a href="/net/mail/message_test.go.html#6973934">err</a></span>&nbsp;<span class="op" id="6973996">!=</span>&nbsp;<span class="ident" id="6973999">nil</span>&nbsp;<span class="op" id="6974003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974008"><a href="/net/mail/message_test.go.html#6973876">t</a></span><span class="op" id="6974009">.</span><span class="ident" id="6974010">Errorf</span><span class="op" id="6974016">(</span><span class="string" id="6974017">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="6974055">,</span>&nbsp;<span class="ident" id="6974057"><a href="/net/mail/message_test.go.html#6973897">i</a></span><span class="op" id="6974058">,</span>&nbsp;<span class="ident" id="6974060"><a href="/net/mail/message_test.go.html#6973934">err</a></span><span class="op" id="6974063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974068">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974079">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974083">if</span>&nbsp;<span class="op" id="6974086">!</span><span class="ident" id="6974087"><a href="/net/mail/message_test.go.html#6974550">headerEq</a></span><span class="op" id="6974095">(</span><span class="ident" id="6974096"><a href="/net/mail/message_test.go.html#6973929">msg</a></span><span class="op" id="6974099">.</span><span class="ident" id="6974100">Header</span><span class="op" id="6974106">,</span>&nbsp;<span class="ident" id="6974108"><a href="/net/mail/message_test.go.html#6973900">test</a></span><span class="op" id="6974112">.</span><span class="ident" id="6974113">header</span><span class="op" id="6974119">)</span>&nbsp;<span class="op" id="6974121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974126"><a href="/net/mail/message_test.go.html#6973876">t</a></span><span class="op" id="6974127">.</span><span class="ident" id="6974128">Errorf</span><span class="op" id="6974134">(</span><span class="string" id="6974135">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6974204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974210"><a href="/net/mail/message_test.go.html#6973897">i</a></span><span class="op" id="6974211">,</span>&nbsp;<span class="ident" id="6974213"><a href="/net/mail/message_test.go.html#6973929">msg</a></span><span class="op" id="6974216">.</span><span class="ident" id="6974217">Header</span><span class="op" id="6974223">,</span>&nbsp;<span class="ident" id="6974225"><a href="/net/mail/message_test.go.html#6973900">test</a></span><span class="op" id="6974229">.</span><span class="ident" id="6974230">header</span><span class="op" id="6974236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974244">body</span><span class="op" id="6974248">,</span>&nbsp;<span class="ident" id="6974250"><a href="/net/mail/message_test.go.html#6973934">err</a></span>&nbsp;<span class="op" id="6974254">:=</span>&nbsp;<span class="ident" id="6974257"><a href="/net/mail/message_test.go.html#6973078">ioutil</a></span><span class="op" id="6974263">.</span><span class="ident" id="6974264">ReadAll</span><span class="op" id="6974271">(</span><span class="ident" id="6974272"><a href="/net/mail/message_test.go.html#6973929">msg</a></span><span class="op" id="6974275">.</span><span class="ident" id="6974276">Body</span><span class="op" id="6974280">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974284">if</span>&nbsp;<span class="ident" id="6974287"><a href="/net/mail/message_test.go.html#6973934">err</a></span>&nbsp;<span class="op" id="6974291">!=</span>&nbsp;<span class="ident" id="6974294">nil</span>&nbsp;<span class="op" id="6974298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974303"><a href="/net/mail/message_test.go.html#6973876">t</a></span><span class="op" id="6974304">.</span><span class="ident" id="6974305">Errorf</span><span class="op" id="6974311">(</span><span class="string" id="6974312">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="6974347">,</span>&nbsp;<span class="ident" id="6974349"><a href="/net/mail/message_test.go.html#6973897">i</a></span><span class="op" id="6974350">,</span>&nbsp;<span class="ident" id="6974352"><a href="/net/mail/message_test.go.html#6973934">err</a></span><span class="op" id="6974355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974360">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974375">bodyStr</span>&nbsp;<span class="op" id="6974383">:=</span>&nbsp;<span class="builtintype" id="6974386">string</span><span class="op" id="6974392">(</span><span class="ident" id="6974393"><a href="/net/mail/message_test.go.html#6974244">body</a></span><span class="op" id="6974397">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974401">if</span>&nbsp;<span class="ident" id="6974404"><a href="/net/mail/message_test.go.html#6974375">bodyStr</a></span>&nbsp;<span class="op" id="6974412">!=</span>&nbsp;<span class="ident" id="6974415"><a href="/net/mail/message_test.go.html#6973900">test</a></span><span class="op" id="6974419">.</span><span class="ident" id="6974420">body</span>&nbsp;<span class="op" id="6974425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974430"><a href="/net/mail/message_test.go.html#6973876">t</a></span><span class="op" id="6974431">.</span><span class="ident" id="6974432">Errorf</span><span class="op" id="6974438">(</span><span class="string" id="6974439">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6974506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974512"><a href="/net/mail/message_test.go.html#6973897">i</a></span><span class="op" id="6974513">,</span>&nbsp;<span class="ident" id="6974515"><a href="/net/mail/message_test.go.html#6974375">bodyStr</a></span><span class="op" id="6974522">,</span>&nbsp;<span class="ident" id="6974524"><a href="/net/mail/message_test.go.html#6973900">test</a></span><span class="op" id="6974528">.</span><span class="ident" id="6974529">body</span><span class="op" id="6974533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974537">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974540">}</span><br>
<span class="lineno">65</span><span class="op" id="6974542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6974545">func</span>&nbsp;<span class="ident" id="6974550">headerEq</span><span class="op" id="6974558">(</span><span class="ident" id="6974559">a</span><span class="op" id="6974560">,</span>&nbsp;<span class="ident" id="6974562">b</span>&nbsp;<span class="ident" id="6974564"><a href="/net/mail/message.go.html#6317188">Header</a></span><span class="op" id="6974570">)</span>&nbsp;<span class="builtintype" id="6974572">bool</span>&nbsp;<span class="op" id="6974577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974580">if</span>&nbsp;<span class="builtinfunc" id="6974583">len</span><span class="op" id="6974586">(</span><span class="ident" id="6974587"><a href="/net/mail/message_test.go.html#6974559">a</a></span><span class="op" id="6974588">)</span>&nbsp;<span class="op" id="6974590">!=</span>&nbsp;<span class="builtinfunc" id="6974593">len</span><span class="op" id="6974596">(</span><span class="ident" id="6974597"><a href="/net/mail/message_test.go.html#6974562">b</a></span><span class="op" id="6974598">)</span>&nbsp;<span class="op" id="6974600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974604">return</span>&nbsp;<span class="builtintype" id="6974611">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974621">for</span>&nbsp;<span class="ident" id="6974625">k</span><span class="op" id="6974626">,</span>&nbsp;<span class="ident" id="6974628">as</span>&nbsp;<span class="op" id="6974631">:=</span>&nbsp;<span class="keyword" id="6974634">range</span>&nbsp;<span class="ident" id="6974640"><a href="/net/mail/message_test.go.html#6974559">a</a></span>&nbsp;<span class="op" id="6974642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974646">bs</span><span class="op" id="6974648">,</span>&nbsp;<span class="ident" id="6974650">ok</span>&nbsp;<span class="op" id="6974653">:=</span>&nbsp;<span class="ident" id="6974656"><a href="/net/mail/message_test.go.html#6974562">b</a></span><span class="op" id="6974657">[</span><span class="ident" id="6974658"><a href="/net/mail/message_test.go.html#6974625">k</a></span><span class="op" id="6974659">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974663">if</span>&nbsp;<span class="op" id="6974666">!</span><span class="ident" id="6974667"><a href="/net/mail/message_test.go.html#6974650">ok</a></span>&nbsp;<span class="op" id="6974670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974675">return</span>&nbsp;<span class="builtintype" id="6974682">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974694">if</span>&nbsp;<span class="op" id="6974697">!</span><span class="ident" id="6974698"><a href="/net/mail/message_test.go.html#6973091">reflect</a></span><span class="op" id="6974705">.</span><span class="ident" id="6974706">DeepEqual</span><span class="op" id="6974715">(</span><span class="ident" id="6974716"><a href="/net/mail/message_test.go.html#6974628">as</a></span><span class="op" id="6974718">,</span>&nbsp;<span class="ident" id="6974720"><a href="/net/mail/message_test.go.html#6974646">bs</a></span><span class="op" id="6974722">)</span>&nbsp;<span class="op" id="6974724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974729">return</span>&nbsp;<span class="builtintype" id="6974736">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974747">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6974750">return</span>&nbsp;<span class="builtintype" id="6974757">true</span><br>
<span class="lineno"></span><span class="op" id="6974762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6974765">func</span>&nbsp;<span class="ident" id="6974770">TestDateParsing</span><span class="op" id="6974785">(</span><span class="ident" id="6974786">t</span>&nbsp;<span class="op" id="6974788">*</span><span class="ident" id="6974789"><a href="/net/mail/message_test.go.html#6973113">testing</a></span><span class="op" id="6974796">.</span><span class="ident" id="6974797">T</span><span class="op" id="6974798">)</span>&nbsp;<span class="op" id="6974800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974803">tests</span>&nbsp;<span class="op" id="6974809">:=</span>&nbsp;<span class="op" id="6974812">[</span><span class="op" id="6974813">]</span><span class="keyword" id="6974814">struct</span>&nbsp;<span class="op" id="6974821">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974825">dateStr</span>&nbsp;<span class="builtintype" id="6974833">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974842">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6974850"><a href="/net/mail/message_test.go.html#6973124">time</a></span><span class="op" id="6974854">.</span><span class="ident" id="6974855">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974861">}</span><span class="op" id="6974862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6974866">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6974896">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6974901">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6974934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6974939"><a href="/net/mail/message_test.go.html#6973124">time</a></span><span class="op" id="6974943">.</span><span class="ident" id="6974944">Date</span><span class="op" id="6974948">(</span><span class="num" id="6974949">1997</span><span class="op" id="6974953">,</span>&nbsp;<span class="num" id="6974955">11</span><span class="op" id="6974957">,</span>&nbsp;<span class="num" id="6974959">21</span><span class="op" id="6974961">,</span>&nbsp;<span class="num" id="6974963">9</span><span class="op" id="6974964">,</span>&nbsp;<span class="num" id="6974966">55</span><span class="op" id="6974968">,</span>&nbsp;<span class="num" id="6974970">6</span><span class="op" id="6974971">,</span>&nbsp;<span class="num" id="6974973">0</span><span class="op" id="6974974">,</span>&nbsp;<span class="ident" id="6974976"><a href="/net/mail/message_test.go.html#6973124">time</a></span><span class="op" id="6974980">.</span><span class="ident" id="6974981">FixedZone</span><span class="op" id="6974990">(</span><span class="string" id="6974991">&#34;&#34;</span><span class="op" id="6974993">,</span>&nbsp;<span class="op" id="6974995">-</span><span class="num" id="6974996">6</span><span class="op" id="6974997">*</span><span class="num" id="6974998">60</span><span class="op" id="6975000">*</span><span class="num" id="6975001">60</span><span class="op" id="6975003">)</span><span class="op" id="6975004">)</span><span class="op" id="6975005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975009">}</span><span class="op" id="6975010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6975014">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6975043">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6975068">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="6975092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975097"><a href="/net/mail/message_test.go.html#6973124">time</a></span><span class="op" id="6975101">.</span><span class="ident" id="6975102">Date</span><span class="op" id="6975106">(</span><span class="num" id="6975107">1997</span><span class="op" id="6975111">,</span>&nbsp;<span class="num" id="6975113">11</span><span class="op" id="6975115">,</span>&nbsp;<span class="num" id="6975117">21</span><span class="op" id="6975119">,</span>&nbsp;<span class="num" id="6975121">9</span><span class="op" id="6975122">,</span>&nbsp;<span class="num" id="6975124">55</span><span class="op" id="6975126">,</span>&nbsp;<span class="num" id="6975128">6</span><span class="op" id="6975129">,</span>&nbsp;<span class="num" id="6975131">0</span><span class="op" id="6975132">,</span>&nbsp;<span class="ident" id="6975134"><a href="/net/mail/message_test.go.html#6973124">time</a></span><span class="op" id="6975138">.</span><span class="ident" id="6975139">FixedZone</span><span class="op" id="6975148">(</span><span class="string" id="6975149">&#34;GMT&#34;</span><span class="op" id="6975154">,</span>&nbsp;<span class="num" id="6975156">0</span><span class="op" id="6975157">)</span><span class="op" id="6975158">)</span><span class="op" id="6975159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975163">}</span><span class="op" id="6975164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6975168">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6975227">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="6975266">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975271"><a href="/net/mail/message_test.go.html#6973124">time</a></span><span class="op" id="6975275">.</span><span class="ident" id="6975276">Date</span><span class="op" id="6975280">(</span><span class="num" id="6975281">1997</span><span class="op" id="6975285">,</span>&nbsp;<span class="num" id="6975287">11</span><span class="op" id="6975289">,</span>&nbsp;<span class="num" id="6975291">21</span><span class="op" id="6975293">,</span>&nbsp;<span class="num" id="6975295">9</span><span class="op" id="6975296">,</span>&nbsp;<span class="num" id="6975298">55</span><span class="op" id="6975300">,</span>&nbsp;<span class="num" id="6975302">6</span><span class="op" id="6975303">,</span>&nbsp;<span class="num" id="6975305">0</span><span class="op" id="6975306">,</span>&nbsp;<span class="ident" id="6975308"><a href="/net/mail/message_test.go.html#6973124">time</a></span><span class="op" id="6975312">.</span><span class="ident" id="6975313">FixedZone</span><span class="op" id="6975322">(</span><span class="string" id="6975323">&#34;&#34;</span><span class="op" id="6975325">,</span>&nbsp;<span class="op" id="6975327">-</span><span class="num" id="6975328">6</span><span class="op" id="6975329">*</span><span class="num" id="6975330">60</span><span class="op" id="6975332">*</span><span class="num" id="6975333">60</span><span class="op" id="6975335">)</span><span class="op" id="6975336">)</span><span class="op" id="6975337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975341">}</span><span class="op" id="6975342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975345">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6975348">for</span>&nbsp;<span class="ident" id="6975352">_</span><span class="op" id="6975353">,</span>&nbsp;<span class="ident" id="6975355">test</span>&nbsp;<span class="op" id="6975360">:=</span>&nbsp;<span class="keyword" id="6975363">range</span>&nbsp;<span class="ident" id="6975369"><a href="/net/mail/message_test.go.html#6974803">tests</a></span>&nbsp;<span class="op" id="6975375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975379">hdr</span>&nbsp;<span class="op" id="6975383">:=</span>&nbsp;<span class="ident" id="6975386"><a href="/net/mail/message.go.html#6317188">Header</a></span><span class="op" id="6975392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6975397">&#34;Date&#34;</span><span class="op" id="6975403">:</span>&nbsp;<span class="op" id="6975405">[</span><span class="op" id="6975406">]</span><span class="builtintype" id="6975407">string</span><span class="op" id="6975413">{</span><span class="ident" id="6975414"><a href="/net/mail/message_test.go.html#6975355">test</a></span><span class="op" id="6975418">.</span><span class="ident" id="6975419">dateStr</span><span class="op" id="6975426">}</span><span class="op" id="6975427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975435">date</span><span class="op" id="6975439">,</span>&nbsp;<span class="ident" id="6975441">err</span>&nbsp;<span class="op" id="6975445">:=</span>&nbsp;<span class="ident" id="6975448"><a href="/net/mail/message_test.go.html#6975379">hdr</a></span><span class="op" id="6975451">.</span><span class="ident" id="6975452">Date</span><span class="op" id="6975456">(</span><span class="op" id="6975457">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6975461">if</span>&nbsp;<span class="ident" id="6975464"><a href="/net/mail/message_test.go.html#6975441">err</a></span>&nbsp;<span class="op" id="6975468">!=</span>&nbsp;<span class="ident" id="6975471">nil</span>&nbsp;<span class="op" id="6975475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975480"><a href="/net/mail/message_test.go.html#6974786">t</a></span><span class="op" id="6975481">.</span><span class="ident" id="6975482">Errorf</span><span class="op" id="6975488">(</span><span class="string" id="6975489">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6975512">,</span>&nbsp;<span class="ident" id="6975514"><a href="/net/mail/message_test.go.html#6975355">test</a></span><span class="op" id="6975518">.</span><span class="ident" id="6975519">dateStr</span><span class="op" id="6975526">,</span>&nbsp;<span class="ident" id="6975528"><a href="/net/mail/message_test.go.html#6975441">err</a></span><span class="op" id="6975531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6975536">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6975551">if</span>&nbsp;<span class="op" id="6975554">!</span><span class="ident" id="6975555"><a href="/net/mail/message_test.go.html#6975435">date</a></span><span class="op" id="6975559">.</span><span class="ident" id="6975560">Equal</span><span class="op" id="6975565">(</span><span class="ident" id="6975566"><a href="/net/mail/message_test.go.html#6975355">test</a></span><span class="op" id="6975570">.</span><span class="ident" id="6975571">exp</span><span class="op" id="6975574">)</span>&nbsp;<span class="op" id="6975576">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975581"><a href="/net/mail/message_test.go.html#6974786">t</a></span><span class="op" id="6975582">.</span><span class="ident" id="6975583">Errorf</span><span class="op" id="6975589">(</span><span class="string" id="6975590">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6975622">,</span>&nbsp;<span class="ident" id="6975624"><a href="/net/mail/message_test.go.html#6975355">test</a></span><span class="op" id="6975628">.</span><span class="ident" id="6975629">dateStr</span><span class="op" id="6975636">,</span>&nbsp;<span class="ident" id="6975638"><a href="/net/mail/message_test.go.html#6975435">date</a></span><span class="op" id="6975642">,</span>&nbsp;<span class="ident" id="6975644"><a href="/net/mail/message_test.go.html#6975355">test</a></span><span class="op" id="6975648">.</span><span class="ident" id="6975649">exp</span><span class="op" id="6975652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975659">}</span><br>
<span class="lineno"></span><span class="op" id="6975661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6975664">func</span>&nbsp;<span class="ident" id="6975669">TestAddressParsingError</span><span class="op" id="6975692">(</span><span class="ident" id="6975693">t</span>&nbsp;<span class="op" id="6975695">*</span><span class="ident" id="6975696"><a href="/net/mail/message_test.go.html#6973113">testing</a></span><span class="op" id="6975703">.</span><span class="ident" id="6975704">T</span><span class="op" id="6975705">)</span>&nbsp;<span class="op" id="6975707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6975710">const</span>&nbsp;<span class="ident" id="6975716">txt</span>&nbsp;<span class="op" id="6975720">=</span>&nbsp;<span class="string" id="6975722">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975782">_</span><span class="op" id="6975783">,</span>&nbsp;<span class="ident" id="6975785">err</span>&nbsp;<span class="op" id="6975789">:=</span>&nbsp;<span class="ident" id="6975792"><a href="/net/mail/message.go.html#6318279">ParseAddress</a></span><span class="op" id="6975804">(</span><span class="ident" id="6975805"><a href="/net/mail/message_test.go.html#6975716">txt</a></span><span class="op" id="6975808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6975811">if</span>&nbsp;<span class="ident" id="6975814"><a href="/net/mail/message_test.go.html#6975785">err</a></span>&nbsp;<span class="op" id="6975818">==</span>&nbsp;<span class="ident" id="6975821">nil</span>&nbsp;<span class="op" id="6975825">||</span>&nbsp;<span class="op" id="6975828">!</span><span class="ident" id="6975829"><a href="/net/mail/message_test.go.html#6973102">strings</a></span><span class="op" id="6975836">.</span><span class="ident" id="6975837">Contains</span><span class="op" id="6975845">(</span><span class="ident" id="6975846"><a href="/net/mail/message_test.go.html#6975785">err</a></span><span class="op" id="6975849">.</span><span class="ident" id="6975850">Error</span><span class="op" id="6975855">(</span><span class="op" id="6975856">)</span><span class="op" id="6975857">,</span>&nbsp;<span class="string" id="6975859">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6975882">)</span>&nbsp;<span class="op" id="6975884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6975888"><a href="/net/mail/message_test.go.html#6975693">t</a></span><span class="op" id="6975889">.</span><span class="ident" id="6975890">Errorf</span><span class="op" id="6975896">(</span><span class="string" id="6975897">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="6975962">,</span>&nbsp;<span class="ident" id="6975964"><a href="/net/mail/message_test.go.html#6975716">txt</a></span><span class="op" id="6975967">,</span>&nbsp;<span class="ident" id="6975969"><a href="/net/mail/message_test.go.html#6975785">err</a></span><span class="op" id="6975972">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6975975">}</span><br>
<span class="lineno"></span><span class="op" id="6975977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6975980">func</span>&nbsp;<span class="ident" id="6975985">TestAddressParsing</span><span class="op" id="6976003">(</span><span class="ident" id="6976004">t</span>&nbsp;<span class="op" id="6976006">*</span><span class="ident" id="6976007"><a href="/net/mail/message_test.go.html#6973113">testing</a></span><span class="op" id="6976014">.</span><span class="ident" id="6976015">T</span><span class="op" id="6976016">)</span>&nbsp;<span class="op" id="6976018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976021">tests</span>&nbsp;<span class="op" id="6976027">:=</span>&nbsp;<span class="op" id="6976030">[</span><span class="op" id="6976031">]</span><span class="keyword" id="6976032">struct</span>&nbsp;<span class="op" id="6976039">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976043">addrsStr</span>&nbsp;<span class="builtintype" id="6976052">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976061">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6976070">[</span><span class="op" id="6976071">]</span><span class="op" id="6976072">*</span><span class="ident" id="6976073"><a href="/net/mail/message.go.html#6318104">Address</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976082">}</span><span class="op" id="6976083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6976087">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976105">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6976110">`jdoe@machine.example`</span><span class="op" id="6976132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976137">[</span><span class="op" id="6976138">]</span><span class="op" id="6976139">*</span><span class="ident" id="6976140"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6976147">{</span><span class="op" id="6976148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976154">Address</span><span class="op" id="6976161">:</span>&nbsp;<span class="string" id="6976163">&#34;jdoe@machine.example&#34;</span><span class="op" id="6976185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976190">}</span><span class="op" id="6976191">}</span><span class="op" id="6976192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976196">}</span><span class="op" id="6976197">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6976201">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6976236">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="6976269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976274">[</span><span class="op" id="6976275">]</span><span class="op" id="6976276">*</span><span class="ident" id="6976277"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6976284">{</span><span class="op" id="6976285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976291">Name</span><span class="op" id="6976295">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6976300">&#34;John&nbsp;Doe&#34;</span><span class="op" id="6976310">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976316">Address</span><span class="op" id="6976323">:</span>&nbsp;<span class="string" id="6976325">&#34;jdoe@machine.example&#34;</span><span class="op" id="6976347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976352">}</span><span class="op" id="6976353">}</span><span class="op" id="6976354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976358">}</span><span class="op" id="6976359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6976363">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976393">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6976398">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="6976443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976448">[</span><span class="op" id="6976449">]</span><span class="op" id="6976450">*</span><span class="ident" id="6976451"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6976458">{</span><span class="op" id="6976459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976465">Name</span><span class="op" id="6976469">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6976474">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="6976489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976495">Address</span><span class="op" id="6976502">:</span>&nbsp;<span class="string" id="6976504">&#34;john.q.public@example.com&#34;</span><span class="op" id="6976531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976536">}</span><span class="op" id="6976537">}</span><span class="op" id="6976538">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976542">}</span><span class="op" id="6976543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6976552">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="6976615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976620">[</span><span class="op" id="6976621">]</span><span class="op" id="6976622">*</span><span class="ident" id="6976623"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6976630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976636">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976643">Name</span><span class="op" id="6976647">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6976652">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="6976664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976671">Address</span><span class="op" id="6976678">:</span>&nbsp;<span class="string" id="6976680">&#34;mary@x.test&#34;</span><span class="op" id="6976693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976699">}</span><span class="op" id="6976700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976713">Address</span><span class="op" id="6976720">:</span>&nbsp;<span class="string" id="6976722">&#34;jdoe@example.org&#34;</span><span class="op" id="6976740">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976746">}</span><span class="op" id="6976747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976760">Name</span><span class="op" id="6976764">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6976769">&#34;Who?&#34;</span><span class="op" id="6976775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976782">Address</span><span class="op" id="6976789">:</span>&nbsp;<span class="string" id="6976791">&#34;one@y.test&#34;</span><span class="op" id="6976803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976809">}</span><span class="op" id="6976810">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976815">}</span><span class="op" id="6976816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976820">}</span><span class="op" id="6976821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6976830">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="6976895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976900">[</span><span class="op" id="6976901">]</span><span class="op" id="6976902">*</span><span class="ident" id="6976903"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6976910">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976923">Address</span><span class="op" id="6976930">:</span>&nbsp;<span class="string" id="6976932">&#34;boss@nil.test&#34;</span><span class="op" id="6976947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976953">}</span><span class="op" id="6976954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6976960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6976967">Name</span><span class="op" id="6976971">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6976976">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="6976994">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977001">Address</span><span class="op" id="6977008">:</span>&nbsp;<span class="string" id="6977010">&#34;sysservices@example.net&#34;</span><span class="op" id="6977035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977041">}</span><span class="op" id="6977042">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977047">}</span><span class="op" id="6977048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977052">}</span><span class="op" id="6977053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6977057">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6977087">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6977126">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6977177">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6977226">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977231">[</span><span class="op" id="6977232">]</span><span class="op" id="6977233">*</span><span class="ident" id="6977234"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6977241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977254">Name</span><span class="op" id="6977258">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6977263">`Jrg&nbsp;Doe`</span><span class="op" id="6977274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977281">Address</span><span class="op" id="6977288">:</span>&nbsp;<span class="string" id="6977290">&#34;joerg@example.com&#34;</span><span class="op" id="6977309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977315">}</span><span class="op" id="6977316">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977321">}</span><span class="op" id="6977322">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977326">}</span><span class="op" id="6977327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6977331">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6977396">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6977443">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977448">[</span><span class="op" id="6977449">]</span><span class="op" id="6977450">*</span><span class="ident" id="6977451"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6977458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977471">Name</span><span class="op" id="6977475">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6977480">`Jorg&nbsp;Doe`</span><span class="op" id="6977490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977497">Address</span><span class="op" id="6977504">:</span>&nbsp;<span class="string" id="6977506">&#34;joerg@example.com&#34;</span><span class="op" id="6977525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977531">}</span><span class="op" id="6977532">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977537">}</span><span class="op" id="6977538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977542">}</span><span class="op" id="6977543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6977547">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977588">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6977593">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6977640">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977645">[</span><span class="op" id="6977646">]</span><span class="op" id="6977647">*</span><span class="ident" id="6977648"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6977655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977668">Name</span><span class="op" id="6977672">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6977677">`Jrg&nbsp;Doe`</span><span class="op" id="6977688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977695">Address</span><span class="op" id="6977702">:</span>&nbsp;<span class="string" id="6977704">&#34;joerg@example.com&#34;</span><span class="op" id="6977723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977729">}</span><span class="op" id="6977730">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977735">}</span><span class="op" id="6977736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977740">}</span><span class="op" id="6977741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6977745">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6977776">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="6977832">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977837">[</span><span class="op" id="6977838">]</span><span class="op" id="6977839">*</span><span class="ident" id="6977840"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6977847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977860">Name</span><span class="op" id="6977864">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6977869">`Andr&nbsp;Pirard`</span><span class="op" id="6977884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6977891">Address</span><span class="op" id="6977898">:</span>&nbsp;<span class="string" id="6977900">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="6977922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977928">}</span><span class="op" id="6977929">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977934">}</span><span class="op" id="6977935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6977939">}</span><span class="op" id="6977940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6977944">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6978013">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6978060">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978065">[</span><span class="op" id="6978066">]</span><span class="op" id="6978067">*</span><span class="ident" id="6978068"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6978075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978088">Name</span><span class="op" id="6978092">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6978097">`Jrg`</span><span class="op" id="6978104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978111">Address</span><span class="op" id="6978118">:</span>&nbsp;<span class="string" id="6978120">&#34;joerg@example.com&#34;</span><span class="op" id="6978139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978145">}</span><span class="op" id="6978146">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978151">}</span><span class="op" id="6978152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978156">}</span><span class="op" id="6978157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6978161">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6978225">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6978267">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978272">[</span><span class="op" id="6978273">]</span><span class="op" id="6978274">*</span><span class="ident" id="6978275"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6978282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978295">Name</span><span class="op" id="6978299">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6978304">`Jrg`</span><span class="op" id="6978311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978318">Address</span><span class="op" id="6978325">:</span>&nbsp;<span class="string" id="6978327">&#34;joerg@example.com&#34;</span><span class="op" id="6978346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978352">}</span><span class="op" id="6978353">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978358">}</span><span class="op" id="6978359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978363">}</span><span class="op" id="6978364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6978368">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6978426">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="6978457">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978462">[</span><span class="op" id="6978463">]</span><span class="op" id="6978464">*</span><span class="ident" id="6978465"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6978472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978485">Name</span><span class="op" id="6978489">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6978494">`Asem&nbsp;H.`</span><span class="op" id="6978503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978510">Address</span><span class="op" id="6978517">:</span>&nbsp;<span class="string" id="6978519">&#34;noreply@example.com&#34;</span><span class="op" id="6978540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978546">}</span><span class="op" id="6978547">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978552">}</span><span class="op" id="6978553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978557">}</span><span class="op" id="6978558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978561">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6978564">for</span>&nbsp;<span class="ident" id="6978568">_</span><span class="op" id="6978569">,</span>&nbsp;<span class="ident" id="6978571">test</span>&nbsp;<span class="op" id="6978576">:=</span>&nbsp;<span class="keyword" id="6978579">range</span>&nbsp;<span class="ident" id="6978585"><a href="/net/mail/message_test.go.html#6976021">tests</a></span>&nbsp;<span class="op" id="6978591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6978595">if</span>&nbsp;<span class="builtinfunc" id="6978598">len</span><span class="op" id="6978601">(</span><span class="ident" id="6978602"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6978606">.</span><span class="ident" id="6978607">exp</span><span class="op" id="6978610">)</span>&nbsp;<span class="op" id="6978612">==</span>&nbsp;<span class="num" id="6978615">1</span>&nbsp;<span class="op" id="6978617">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978622">addr</span><span class="op" id="6978626">,</span>&nbsp;<span class="ident" id="6978628">err</span>&nbsp;<span class="op" id="6978632">:=</span>&nbsp;<span class="ident" id="6978635"><a href="/net/mail/message.go.html#6318279">ParseAddress</a></span><span class="op" id="6978647">(</span><span class="ident" id="6978648"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6978652">.</span><span class="ident" id="6978653">addrsStr</span><span class="op" id="6978661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6978666">if</span>&nbsp;<span class="ident" id="6978669"><a href="/net/mail/message_test.go.html#6978628">err</a></span>&nbsp;<span class="op" id="6978673">!=</span>&nbsp;<span class="ident" id="6978676">nil</span>&nbsp;<span class="op" id="6978680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978686"><a href="/net/mail/message_test.go.html#6976004">t</a></span><span class="op" id="6978687">.</span><span class="ident" id="6978688">Errorf</span><span class="op" id="6978694">(</span><span class="string" id="6978695">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6978727">,</span>&nbsp;<span class="ident" id="6978729"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6978733">.</span><span class="ident" id="6978734">addrsStr</span><span class="op" id="6978742">,</span>&nbsp;<span class="ident" id="6978744"><a href="/net/mail/message_test.go.html#6978628">err</a></span><span class="op" id="6978747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6978753">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978765">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6978770">if</span>&nbsp;<span class="op" id="6978773">!</span><span class="ident" id="6978774"><a href="/net/mail/message_test.go.html#6973091">reflect</a></span><span class="op" id="6978781">.</span><span class="ident" id="6978782">DeepEqual</span><span class="op" id="6978791">(</span><span class="op" id="6978792">[</span><span class="op" id="6978793">]</span><span class="op" id="6978794">*</span><span class="ident" id="6978795"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6978802">{</span><span class="ident" id="6978803"><a href="/net/mail/message_test.go.html#6978622">addr</a></span><span class="op" id="6978807">}</span><span class="op" id="6978808">,</span>&nbsp;<span class="ident" id="6978810"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6978814">.</span><span class="ident" id="6978815">exp</span><span class="op" id="6978818">)</span>&nbsp;<span class="op" id="6978820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978826"><a href="/net/mail/message_test.go.html#6976004">t</a></span><span class="op" id="6978827">.</span><span class="ident" id="6978828">Errorf</span><span class="op" id="6978834">(</span><span class="string" id="6978835">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6978876">,</span>&nbsp;<span class="ident" id="6978878"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6978882">.</span><span class="ident" id="6978883">addrsStr</span><span class="op" id="6978891">,</span>&nbsp;<span class="ident" id="6978893"><a href="/net/mail/message_test.go.html#6978622">addr</a></span><span class="op" id="6978897">,</span>&nbsp;<span class="ident" id="6978899"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6978903">.</span><span class="ident" id="6978904">exp</span><span class="op" id="6978907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6978916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978921">addrs</span><span class="op" id="6978926">,</span>&nbsp;<span class="ident" id="6978928">err</span>&nbsp;<span class="op" id="6978932">:=</span>&nbsp;<span class="ident" id="6978935"><a href="/net/mail/message.go.html#6318450">ParseAddressList</a></span><span class="op" id="6978951">(</span><span class="ident" id="6978952"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6978956">.</span><span class="ident" id="6978957">addrsStr</span><span class="op" id="6978965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6978969">if</span>&nbsp;<span class="ident" id="6978972"><a href="/net/mail/message_test.go.html#6978928">err</a></span>&nbsp;<span class="op" id="6978976">!=</span>&nbsp;<span class="ident" id="6978979">nil</span>&nbsp;<span class="op" id="6978983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6978988"><a href="/net/mail/message_test.go.html#6976004">t</a></span><span class="op" id="6978989">.</span><span class="ident" id="6978990">Errorf</span><span class="op" id="6978996">(</span><span class="string" id="6978997">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6979027">,</span>&nbsp;<span class="ident" id="6979029"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6979033">.</span><span class="ident" id="6979034">addrsStr</span><span class="op" id="6979042">,</span>&nbsp;<span class="ident" id="6979044"><a href="/net/mail/message_test.go.html#6978928">err</a></span><span class="op" id="6979047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6979052">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979063">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6979067">if</span>&nbsp;<span class="op" id="6979070">!</span><span class="ident" id="6979071"><a href="/net/mail/message_test.go.html#6973091">reflect</a></span><span class="op" id="6979078">.</span><span class="ident" id="6979079">DeepEqual</span><span class="op" id="6979088">(</span><span class="ident" id="6979089"><a href="/net/mail/message_test.go.html#6978921">addrs</a></span><span class="op" id="6979094">,</span>&nbsp;<span class="ident" id="6979096"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6979100">.</span><span class="ident" id="6979101">exp</span><span class="op" id="6979104">)</span>&nbsp;<span class="op" id="6979106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6979111"><a href="/net/mail/message_test.go.html#6976004">t</a></span><span class="op" id="6979112">.</span><span class="ident" id="6979113">Errorf</span><span class="op" id="6979119">(</span><span class="string" id="6979120">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6979159">,</span>&nbsp;<span class="ident" id="6979161"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6979165">.</span><span class="ident" id="6979166">addrsStr</span><span class="op" id="6979174">,</span>&nbsp;<span class="ident" id="6979176"><a href="/net/mail/message_test.go.html#6978921">addrs</a></span><span class="op" id="6979181">,</span>&nbsp;<span class="ident" id="6979183"><a href="/net/mail/message_test.go.html#6978571">test</a></span><span class="op" id="6979187">.</span><span class="ident" id="6979188">exp</span><span class="op" id="6979191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979198">}</span><br>
<span class="lineno"></span><span class="op" id="6979200">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6979203">func</span>&nbsp;<span class="ident" id="6979208">TestAddressFormatting</span><span class="op" id="6979229">(</span><span class="ident" id="6979230">t</span>&nbsp;<span class="op" id="6979232">*</span><span class="ident" id="6979233"><a href="/net/mail/message_test.go.html#6973113">testing</a></span><span class="op" id="6979240">.</span><span class="ident" id="6979241">T</span><span class="op" id="6979242">)</span>&nbsp;<span class="op" id="6979244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6979247">tests</span>&nbsp;<span class="op" id="6979253">:=</span>&nbsp;<span class="op" id="6979256">[</span><span class="op" id="6979257">]</span><span class="keyword" id="6979258">struct</span>&nbsp;<span class="op" id="6979265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6979269">addr</span>&nbsp;<span class="op" id="6979274">*</span><span class="ident" id="6979275"><a href="/net/mail/message.go.html#6318104">Address</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6979285">exp</span>&nbsp;&nbsp;<span class="builtintype" id="6979290">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979298">}</span><span class="op" id="6979299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979308">&amp;</span><span class="ident" id="6979309"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6979316">{</span><span class="ident" id="6979317">Address</span><span class="op" id="6979324">:</span>&nbsp;<span class="string" id="6979326">&#34;bob@example.com&#34;</span><span class="op" id="6979343">}</span><span class="op" id="6979344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6979349">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="6979368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979372">}</span><span class="op" id="6979373">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979382">&amp;</span><span class="ident" id="6979383"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6979390">{</span><span class="ident" id="6979391">Name</span><span class="op" id="6979395">:</span>&nbsp;<span class="string" id="6979397">&#34;Bob&#34;</span><span class="op" id="6979402">,</span>&nbsp;<span class="ident" id="6979404">Address</span><span class="op" id="6979411">:</span>&nbsp;<span class="string" id="6979413">&#34;bob@example.com&#34;</span><span class="op" id="6979430">}</span><span class="op" id="6979431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6979436">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6979461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979465">}</span><span class="op" id="6979466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979470">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6979475">//&nbsp;note&nbsp;the&nbsp;&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979512">&amp;</span><span class="ident" id="6979513"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6979520">{</span><span class="ident" id="6979521">Name</span><span class="op" id="6979525">:</span>&nbsp;<span class="string" id="6979527">&#34;Bb&#34;</span><span class="op" id="6979533">,</span>&nbsp;<span class="ident" id="6979535">Address</span><span class="op" id="6979542">:</span>&nbsp;<span class="string" id="6979544">&#34;bob@example.com&#34;</span><span class="op" id="6979561">}</span><span class="op" id="6979562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6979567">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6979607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979611">}</span><span class="op" id="6979612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979616">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979621">&amp;</span><span class="ident" id="6979622"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6979629">{</span><span class="ident" id="6979630">Name</span><span class="op" id="6979634">:</span>&nbsp;<span class="string" id="6979636">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="6979646">,</span>&nbsp;<span class="ident" id="6979648">Address</span><span class="op" id="6979655">:</span>&nbsp;<span class="string" id="6979657">&#34;bob@example.com&#34;</span><span class="op" id="6979674">}</span><span class="op" id="6979675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6979680">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6979710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979714">}</span><span class="op" id="6979715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979724">&amp;</span><span class="ident" id="6979725"><a href="/net/mail/message.go.html#6318104">Address</a></span><span class="op" id="6979732">{</span><span class="ident" id="6979733">Name</span><span class="op" id="6979737">:</span>&nbsp;<span class="string" id="6979739">&#34;Bb&nbsp;Jacb&#34;</span><span class="op" id="6979752">,</span>&nbsp;<span class="ident" id="6979754">Address</span><span class="op" id="6979761">:</span>&nbsp;<span class="string" id="6979763">&#34;bob@example.com&#34;</span><span class="op" id="6979780">}</span><span class="op" id="6979781">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6979786">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6979837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979841">}</span><span class="op" id="6979842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6979845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6979848">for</span>&nbsp;<span class="ident" id="6979852">_</span><span class="op" id="6979853">,</span>&nbsp;<span class="ident" id="6979855">test</span>&nbsp;<span class="op" id="6979860">:=</span>&nbsp;<span class="keyword" id="6979863">range</span>&nbsp;<span class="ident" id="6979869"><a href="/net/mail/message_test.go.html#6979247">tests</a></span>&nbsp;<span class="op" id="6979875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6979879">s</span>&nbsp;<span class="op" id="6979881">:=</span>&nbsp;<span class="ident" id="6979884"><a href="/net/mail/message_test.go.html#6979855">test</a></span><span class="op" id="6979888">.</span><span class="ident" id="6979889">addr</span><span class="op" id="6979893">.</span><span class="ident" id="6979894">String</span><span class="op" id="6979900">(</span><span class="op" id="6979901">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6979905">if</span>&nbsp;<span class="ident" id="6979908"><a href="/net/mail/message_test.go.html#6979879">s</a></span>&nbsp;<span class="op" id="6979910">!=</span>&nbsp;<span class="ident" id="6979913"><a href="/net/mail/message_test.go.html#6979855">test</a></span><span class="op" id="6979917">.</span><span class="ident" id="6979918">exp</span>&nbsp;<span class="op" id="6979922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6979927"><a href="/net/mail/message_test.go.html#6979230">t</a></span><span class="op" id="6979928">.</span><span class="ident" id="6979929">Errorf</span><span class="op" id="6979935">(</span><span class="string" id="6979936">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6979971">,</span>&nbsp;<span class="op" id="6979973">*</span><span class="ident" id="6979974"><a href="/net/mail/message_test.go.html#6979855">test</a></span><span class="op" id="6979978">.</span><span class="ident" id="6979979">addr</span><span class="op" id="6979983">,</span>&nbsp;<span class="ident" id="6979985"><a href="/net/mail/message_test.go.html#6979879">s</a></span><span class="op" id="6979986">,</span>&nbsp;<span class="ident" id="6979988"><a href="/net/mail/message_test.go.html#6979855">test</a></span><span class="op" id="6979992">.</span><span class="ident" id="6979993">exp</span><span class="op" id="6979996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6980000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6980003">}</span><br>
<span class="lineno"></span><span class="op" id="6980005">}</span>
</div>
</body>
</html>
