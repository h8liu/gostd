<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7003587">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7003642">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7003696">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7003747">package</span>&nbsp;<span class="ident" id="7003755">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7003763">import</span>&nbsp;<span class="op" id="7003770">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7003773">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7003779">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7003789">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7003792">func</span>&nbsp;<span class="ident" id="7003797">checkSize</span><span class="op" id="7003806">(</span><span class="ident" id="7003807">t</span>&nbsp;<span class="op" id="7003809">*</span><span class="ident" id="7003810">testing</span><span class="op" id="7003817">.</span><span class="ident" id="7003818">T</span><span class="op" id="7003819">,</span>&nbsp;<span class="ident" id="7003821">path</span>&nbsp;<span class="builtintype" id="7003826">string</span><span class="op" id="7003832">,</span>&nbsp;<span class="ident" id="7003834">size</span>&nbsp;<span class="ident" id="7003839">int64</span><span class="op" id="7003844">)</span>&nbsp;<span class="op" id="7003846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7003849">dir</span><span class="op" id="7003852">,</span>&nbsp;<span class="ident" id="7003854">err</span>&nbsp;<span class="op" id="7003858">:=</span>&nbsp;<span class="ident" id="7003861">os</span><span class="op" id="7003863">.</span><span class="ident" id="7003864">Stat</span><span class="op" id="7003868">(</span><span class="ident" id="7003869">path</span><span class="op" id="7003873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7003876">if</span>&nbsp;<span class="ident" id="7003879">err</span>&nbsp;<span class="op" id="7003883">!=</span>&nbsp;<span class="ident" id="7003886">nil</span>&nbsp;<span class="op" id="7003890">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7003894">t</span><span class="op" id="7003895">.</span><span class="ident" id="7003896">Fatalf</span><span class="op" id="7003902">(</span><span class="string" id="7003903">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="7003938">,</span>&nbsp;<span class="ident" id="7003940">path</span><span class="op" id="7003944">,</span>&nbsp;<span class="ident" id="7003946">size</span><span class="op" id="7003950">,</span>&nbsp;<span class="ident" id="7003952">err</span><span class="op" id="7003955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7003958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7003961">if</span>&nbsp;<span class="ident" id="7003964">dir</span><span class="op" id="7003967">.</span><span class="ident" id="7003968">Size</span><span class="op" id="7003972">(</span><span class="op" id="7003973">)</span>&nbsp;<span class="op" id="7003975">!=</span>&nbsp;<span class="ident" id="7003978">size</span>&nbsp;<span class="op" id="7003983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7003987">t</span><span class="op" id="7003988">.</span><span class="ident" id="7003989">Errorf</span><span class="op" id="7003995">(</span><span class="string" id="7003996">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7004022">,</span>&nbsp;<span class="ident" id="7004024">path</span><span class="op" id="7004028">,</span>&nbsp;<span class="ident" id="7004030">dir</span><span class="op" id="7004033">.</span><span class="ident" id="7004034">Size</span><span class="op" id="7004038">(</span><span class="op" id="7004039">)</span><span class="op" id="7004040">,</span>&nbsp;<span class="ident" id="7004042">size</span><span class="op" id="7004046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7004049">}</span><br>
<span class="lineno">20</span><span class="op" id="7004051">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7004054">func</span>&nbsp;<span class="ident" id="7004059">TestReadFile</span><span class="op" id="7004071">(</span><span class="ident" id="7004072">t</span>&nbsp;<span class="op" id="7004074">*</span><span class="ident" id="7004075">testing</span><span class="op" id="7004082">.</span><span class="ident" id="7004083">T</span><span class="op" id="7004084">)</span>&nbsp;<span class="op" id="7004086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004089">filename</span>&nbsp;<span class="op" id="7004098">:=</span>&nbsp;<span class="string" id="7004101">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004120">contents</span><span class="op" id="7004128">,</span>&nbsp;<span class="ident" id="7004130">err</span>&nbsp;<span class="op" id="7004134">:=</span>&nbsp;<span class="ident" id="7004137">ReadFile</span><span class="op" id="7004145">(</span><span class="ident" id="7004146">filename</span><span class="op" id="7004154">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7004157">if</span>&nbsp;<span class="ident" id="7004160">err</span>&nbsp;<span class="op" id="7004164">==</span>&nbsp;<span class="ident" id="7004167">nil</span>&nbsp;<span class="op" id="7004171">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004175">t</span><span class="op" id="7004176">.</span><span class="ident" id="7004177">Fatalf</span><span class="op" id="7004183">(</span><span class="string" id="7004184">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7004225">,</span>&nbsp;<span class="ident" id="7004227">filename</span><span class="op" id="7004235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7004238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004242">filename</span>&nbsp;<span class="op" id="7004251">=</span>&nbsp;<span class="string" id="7004253">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004271">contents</span><span class="op" id="7004279">,</span>&nbsp;<span class="ident" id="7004281">err</span>&nbsp;<span class="op" id="7004285">=</span>&nbsp;<span class="ident" id="7004287">ReadFile</span><span class="op" id="7004295">(</span><span class="ident" id="7004296">filename</span><span class="op" id="7004304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7004307">if</span>&nbsp;<span class="ident" id="7004310">err</span>&nbsp;<span class="op" id="7004314">!=</span>&nbsp;<span class="ident" id="7004317">nil</span>&nbsp;<span class="op" id="7004321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004325">t</span><span class="op" id="7004326">.</span><span class="ident" id="7004327">Fatalf</span><span class="op" id="7004333">(</span><span class="string" id="7004334">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7004351">,</span>&nbsp;<span class="ident" id="7004353">filename</span><span class="op" id="7004361">,</span>&nbsp;<span class="ident" id="7004363">err</span><span class="op" id="7004366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7004369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004373">checkSize</span><span class="op" id="7004382">(</span><span class="ident" id="7004383">t</span><span class="op" id="7004384">,</span>&nbsp;<span class="ident" id="7004386">filename</span><span class="op" id="7004394">,</span>&nbsp;<span class="ident" id="7004396">int64</span><span class="op" id="7004401">(</span><span class="builtinfunc" id="7004402">len</span><span class="op" id="7004405">(</span><span class="ident" id="7004406">contents</span><span class="op" id="7004414">)</span><span class="op" id="7004415">)</span><span class="op" id="7004416">)</span><br>
<span class="lineno"></span><span class="op" id="7004418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7004421">func</span>&nbsp;<span class="ident" id="7004426">TestWriteFile</span><span class="op" id="7004439">(</span><span class="ident" id="7004440">t</span>&nbsp;<span class="op" id="7004442">*</span><span class="ident" id="7004443">testing</span><span class="op" id="7004450">.</span><span class="ident" id="7004451">T</span><span class="op" id="7004452">)</span>&nbsp;<span class="op" id="7004454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004457">f</span><span class="op" id="7004458">,</span>&nbsp;<span class="ident" id="7004460">err</span>&nbsp;<span class="op" id="7004464">:=</span>&nbsp;<span class="ident" id="7004467">TempFile</span><span class="op" id="7004475">(</span><span class="string" id="7004476">&#34;&#34;</span><span class="op" id="7004478">,</span>&nbsp;<span class="string" id="7004480">&#34;ioutil-test&#34;</span><span class="op" id="7004493">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7004496">if</span>&nbsp;<span class="ident" id="7004499">err</span>&nbsp;<span class="op" id="7004503">!=</span>&nbsp;<span class="ident" id="7004506">nil</span>&nbsp;<span class="op" id="7004510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004514">t</span><span class="op" id="7004515">.</span><span class="ident" id="7004516">Fatal</span><span class="op" id="7004521">(</span><span class="ident" id="7004522">err</span><span class="op" id="7004525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7004528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004531">filename</span>&nbsp;<span class="op" id="7004540">:=</span>&nbsp;<span class="ident" id="7004543">f</span><span class="op" id="7004544">.</span><span class="ident" id="7004545">Name</span><span class="op" id="7004549">(</span><span class="op" id="7004550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004553">data</span>&nbsp;<span class="op" id="7004558">:=</span>&nbsp;<span class="string" id="7004561">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="7004631">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7004635">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="7004708">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7004712">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7004786">if</span>&nbsp;<span class="ident" id="7004789">err</span>&nbsp;<span class="op" id="7004793">:=</span>&nbsp;<span class="ident" id="7004796">WriteFile</span><span class="op" id="7004805">(</span><span class="ident" id="7004806">filename</span><span class="op" id="7004814">,</span>&nbsp;<span class="op" id="7004816">[</span><span class="op" id="7004817">]</span><span class="builtintype" id="7004818">byte</span><span class="op" id="7004822">(</span><span class="ident" id="7004823">data</span><span class="op" id="7004827">)</span><span class="op" id="7004828">,</span>&nbsp;<span class="num" id="7004830">0644</span><span class="op" id="7004834">)</span><span class="op" id="7004835">;</span>&nbsp;<span class="ident" id="7004837">err</span>&nbsp;<span class="op" id="7004841">!=</span>&nbsp;<span class="ident" id="7004844">nil</span>&nbsp;<span class="op" id="7004848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004852">t</span><span class="op" id="7004853">.</span><span class="ident" id="7004854">Fatalf</span><span class="op" id="7004860">(</span><span class="string" id="7004861">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7004879">,</span>&nbsp;<span class="ident" id="7004881">filename</span><span class="op" id="7004889">,</span>&nbsp;<span class="ident" id="7004891">err</span><span class="op" id="7004894">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7004897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004901">contents</span><span class="op" id="7004909">,</span>&nbsp;<span class="ident" id="7004911">err</span>&nbsp;<span class="op" id="7004915">:=</span>&nbsp;<span class="ident" id="7004918">ReadFile</span><span class="op" id="7004926">(</span><span class="ident" id="7004927">filename</span><span class="op" id="7004935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7004938">if</span>&nbsp;<span class="ident" id="7004941">err</span>&nbsp;<span class="op" id="7004945">!=</span>&nbsp;<span class="ident" id="7004948">nil</span>&nbsp;<span class="op" id="7004952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7004956">t</span><span class="op" id="7004957">.</span><span class="ident" id="7004958">Fatalf</span><span class="op" id="7004964">(</span><span class="string" id="7004965">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7004982">,</span>&nbsp;<span class="ident" id="7004984">filename</span><span class="op" id="7004992">,</span>&nbsp;<span class="ident" id="7004994">err</span><span class="op" id="7004997">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005004">if</span>&nbsp;<span class="builtintype" id="7005007">string</span><span class="op" id="7005013">(</span><span class="ident" id="7005014">contents</span><span class="op" id="7005022">)</span>&nbsp;<span class="op" id="7005024">!=</span>&nbsp;<span class="ident" id="7005027">data</span>&nbsp;<span class="op" id="7005032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005036">t</span><span class="op" id="7005037">.</span><span class="ident" id="7005038">Fatalf</span><span class="op" id="7005044">(</span><span class="string" id="7005045">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="7005075">,</span>&nbsp;<span class="builtintype" id="7005077">string</span><span class="op" id="7005083">(</span><span class="ident" id="7005084">contents</span><span class="op" id="7005092">)</span><span class="op" id="7005093">,</span>&nbsp;<span class="ident" id="7005095">data</span><span class="op" id="7005099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005102">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7005106">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005118">f</span><span class="op" id="7005119">.</span><span class="ident" id="7005120">Close</span><span class="op" id="7005125">(</span><span class="op" id="7005126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005129">os</span><span class="op" id="7005131">.</span><span class="ident" id="7005132">Remove</span><span class="op" id="7005138">(</span><span class="ident" id="7005139">filename</span><span class="op" id="7005147">)</span>&nbsp;<span class="comment" id="7005149">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="7005165">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7005168">func</span>&nbsp;<span class="ident" id="7005173">TestReadDir</span><span class="op" id="7005184">(</span><span class="ident" id="7005185">t</span>&nbsp;<span class="op" id="7005187">*</span><span class="ident" id="7005188">testing</span><span class="op" id="7005195">.</span><span class="ident" id="7005196">T</span><span class="op" id="7005197">)</span>&nbsp;<span class="op" id="7005199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005202">dirname</span>&nbsp;<span class="op" id="7005210">:=</span>&nbsp;<span class="string" id="7005213">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005232">_</span><span class="op" id="7005233">,</span>&nbsp;<span class="ident" id="7005235">err</span>&nbsp;<span class="op" id="7005239">:=</span>&nbsp;<span class="ident" id="7005242">ReadDir</span><span class="op" id="7005249">(</span><span class="ident" id="7005250">dirname</span><span class="op" id="7005257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005260">if</span>&nbsp;<span class="ident" id="7005263">err</span>&nbsp;<span class="op" id="7005267">==</span>&nbsp;<span class="ident" id="7005270">nil</span>&nbsp;<span class="op" id="7005274">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005278">t</span><span class="op" id="7005279">.</span><span class="ident" id="7005280">Fatalf</span><span class="op" id="7005286">(</span><span class="string" id="7005287">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7005327">,</span>&nbsp;<span class="ident" id="7005329">dirname</span><span class="op" id="7005336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005339">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005343">dirname</span>&nbsp;<span class="op" id="7005351">=</span>&nbsp;<span class="string" id="7005353">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005359">list</span><span class="op" id="7005363">,</span>&nbsp;<span class="ident" id="7005365">err</span>&nbsp;<span class="op" id="7005369">:=</span>&nbsp;<span class="ident" id="7005372">ReadDir</span><span class="op" id="7005379">(</span><span class="ident" id="7005380">dirname</span><span class="op" id="7005387">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005390">if</span>&nbsp;<span class="ident" id="7005393">err</span>&nbsp;<span class="op" id="7005397">!=</span>&nbsp;<span class="ident" id="7005400">nil</span>&nbsp;<span class="op" id="7005404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005408">t</span><span class="op" id="7005409">.</span><span class="ident" id="7005410">Fatalf</span><span class="op" id="7005416">(</span><span class="string" id="7005417">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7005433">,</span>&nbsp;<span class="ident" id="7005435">dirname</span><span class="op" id="7005442">,</span>&nbsp;<span class="ident" id="7005444">err</span><span class="op" id="7005447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005450">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005454">foundFile</span>&nbsp;<span class="op" id="7005464">:=</span>&nbsp;<span class="builtintype" id="7005467">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005474">foundSubDir</span>&nbsp;<span class="op" id="7005486">:=</span>&nbsp;<span class="builtintype" id="7005489">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005496">for</span>&nbsp;<span class="ident" id="7005500">_</span><span class="op" id="7005501">,</span>&nbsp;<span class="ident" id="7005503">dir</span>&nbsp;<span class="op" id="7005507">:=</span>&nbsp;<span class="keyword" id="7005510">range</span>&nbsp;<span class="ident" id="7005516">list</span>&nbsp;<span class="op" id="7005521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005525">switch</span>&nbsp;<span class="op" id="7005532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005536">case</span>&nbsp;<span class="op" id="7005541">!</span><span class="ident" id="7005542">dir</span><span class="op" id="7005545">.</span><span class="ident" id="7005546">IsDir</span><span class="op" id="7005551">(</span><span class="op" id="7005552">)</span>&nbsp;<span class="op" id="7005554">&amp;&amp;</span>&nbsp;<span class="ident" id="7005557">dir</span><span class="op" id="7005560">.</span><span class="ident" id="7005561">Name</span><span class="op" id="7005565">(</span><span class="op" id="7005566">)</span>&nbsp;<span class="op" id="7005568">==</span>&nbsp;<span class="string" id="7005571">&#34;io_test.go&#34;</span><span class="op" id="7005583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005588">foundFile</span>&nbsp;<span class="op" id="7005598">=</span>&nbsp;<span class="builtintype" id="7005600">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005607">case</span>&nbsp;<span class="ident" id="7005612">dir</span><span class="op" id="7005615">.</span><span class="ident" id="7005616">IsDir</span><span class="op" id="7005621">(</span><span class="op" id="7005622">)</span>&nbsp;<span class="op" id="7005624">&amp;&amp;</span>&nbsp;<span class="ident" id="7005627">dir</span><span class="op" id="7005630">.</span><span class="ident" id="7005631">Name</span><span class="op" id="7005635">(</span><span class="op" id="7005636">)</span>&nbsp;<span class="op" id="7005638">==</span>&nbsp;<span class="string" id="7005641">&#34;ioutil&#34;</span><span class="op" id="7005649">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005654">foundSubDir</span>&nbsp;<span class="op" id="7005666">=</span>&nbsp;<span class="builtintype" id="7005668">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005678">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005681">if</span>&nbsp;<span class="op" id="7005684">!</span><span class="ident" id="7005685">foundFile</span>&nbsp;<span class="op" id="7005695">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005699">t</span><span class="op" id="7005700">.</span><span class="ident" id="7005701">Fatalf</span><span class="op" id="7005707">(</span><span class="string" id="7005708">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="7005747">,</span>&nbsp;<span class="ident" id="7005749">dirname</span><span class="op" id="7005756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7005762">if</span>&nbsp;<span class="op" id="7005765">!</span><span class="ident" id="7005766">foundSubDir</span>&nbsp;<span class="op" id="7005778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7005782">t</span><span class="op" id="7005783">.</span><span class="ident" id="7005784">Fatalf</span><span class="op" id="7005790">(</span><span class="string" id="7005791">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="7005831">,</span>&nbsp;<span class="ident" id="7005833">dirname</span><span class="op" id="7005840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7005843">}</span><br>
<span class="lineno">95</span><span class="op" id="7005845">}</span>
</div>
</body>
</html>
