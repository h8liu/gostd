<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html" class="current">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4523529">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4523585">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4523639">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4523690">package</span>&nbsp;<span class="ident" id="4523698">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4523706">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="4523731">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="4523799">import</span>&nbsp;<span class="op" id="4523806">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4523809">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4523818">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4523829">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4523840">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="4523850">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4523853">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="4523912">type</span>&nbsp;<span class="ident" id="4523917">Regexp</span>&nbsp;<span class="keyword" id="4523924">struct</span>&nbsp;<span class="op" id="4523931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4523934">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4523943">Op</span>&nbsp;<span class="comment" id="4523946">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4523959">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4523968">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4523975">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4523984">[</span><span class="op" id="4523985">]</span><span class="op" id="4523986">*</span><span class="ident" id="4523987">Regexp</span>&nbsp;&nbsp;<span class="comment" id="4523995">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524022">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4524031">[</span><span class="num" id="4524032">1</span><span class="op" id="4524033">]</span><span class="op" id="4524034">*</span><span class="ident" id="4524035">Regexp</span>&nbsp;<span class="comment" id="4524042">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524068">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4524077">[</span><span class="op" id="4524078">]</span><span class="builtintype" id="4524079">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524088">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524134">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4524143">[</span><span class="num" id="4524144">2</span><span class="op" id="4524145">]</span><span class="builtintype" id="4524146">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524154">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524181">Min</span><span class="op" id="4524184">,</span>&nbsp;<span class="ident" id="4524186">Max</span>&nbsp;<span class="builtintype" id="4524190">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524201">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524227">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4524236">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524247">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524282">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4524291">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524302">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="4524335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4524338">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="4524388">type</span>&nbsp;<span class="ident" id="4524393">Op</span>&nbsp;<span class="builtintype" id="4524396">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4524403">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="4524477">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="4524542">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4524599">const</span>&nbsp;<span class="op" id="4524605">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524608">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4524625">Op</span>&nbsp;<span class="op" id="4524628">=</span>&nbsp;<span class="num" id="4524630">1</span>&nbsp;<span class="op" id="4524632">+</span>&nbsp;<span class="ident" id="4524634">iota</span>&nbsp;<span class="comment" id="4524639">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524662">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524693">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524718">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524749">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524776">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524807">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524856">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524887">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524928">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4524959">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4524985">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525016">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525062">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525093">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525133">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525164">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525210">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525241">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525281">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525312">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525343">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525374">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525409">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525440">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525503">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525534">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525572">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525603">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525640">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525671">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525708">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525739">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525814">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525845">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4525879">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4525910">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="4525941">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4525944">const</span>&nbsp;<span class="ident" id="4525950">opPseudo</span>&nbsp;<span class="ident" id="4525959">Op</span>&nbsp;<span class="op" id="4525962">=</span>&nbsp;<span class="num" id="4525964">128</span>&nbsp;<span class="comment" id="4525968">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="4525995">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="4526054">func</span>&nbsp;<span class="op" id="4526059">(</span><span class="ident" id="4526060">x</span>&nbsp;<span class="op" id="4526062">*</span><span class="ident" id="4526063">Regexp</span><span class="op" id="4526069">)</span>&nbsp;<span class="ident" id="4526071">Equal</span><span class="op" id="4526076">(</span><span class="ident" id="4526077">y</span>&nbsp;<span class="op" id="4526079">*</span><span class="ident" id="4526080">Regexp</span><span class="op" id="4526086">)</span>&nbsp;<span class="builtintype" id="4526088">bool</span>&nbsp;<span class="op" id="4526093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526096">if</span>&nbsp;<span class="ident" id="4526099">x</span>&nbsp;<span class="op" id="4526101">==</span>&nbsp;<span class="ident" id="4526104">nil</span>&nbsp;<span class="op" id="4526108">||</span>&nbsp;<span class="ident" id="4526111">y</span>&nbsp;<span class="op" id="4526113">==</span>&nbsp;<span class="ident" id="4526116">nil</span>&nbsp;<span class="op" id="4526120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526124">return</span>&nbsp;<span class="ident" id="4526131">x</span>&nbsp;<span class="op" id="4526133">==</span>&nbsp;<span class="ident" id="4526136">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526142">if</span>&nbsp;<span class="ident" id="4526145">x</span><span class="op" id="4526146">.</span><span class="ident" id="4526147">Op</span>&nbsp;<span class="op" id="4526150">!=</span>&nbsp;<span class="ident" id="4526153">y</span><span class="op" id="4526154">.</span><span class="ident" id="4526155">Op</span>&nbsp;<span class="op" id="4526158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526162">return</span>&nbsp;<span class="builtintype" id="4526169">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526179">switch</span>&nbsp;<span class="ident" id="4526186">x</span><span class="op" id="4526187">.</span><span class="ident" id="4526188">Op</span>&nbsp;<span class="op" id="4526191">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526194">case</span>&nbsp;<span class="ident" id="4526199">OpEndText</span><span class="op" id="4526208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4526212">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526268">if</span>&nbsp;<span class="ident" id="4526271">x</span><span class="op" id="4526272">.</span><span class="ident" id="4526273">Flags</span><span class="op" id="4526278">&amp;</span><span class="ident" id="4526279">WasDollar</span>&nbsp;<span class="op" id="4526289">!=</span>&nbsp;<span class="ident" id="4526292">y</span><span class="op" id="4526293">.</span><span class="ident" id="4526294">Flags</span><span class="op" id="4526299">&amp;</span><span class="ident" id="4526300">WasDollar</span>&nbsp;<span class="op" id="4526310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526315">return</span>&nbsp;<span class="builtintype" id="4526322">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526330">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526334">case</span>&nbsp;<span class="ident" id="4526339">OpLiteral</span><span class="op" id="4526348">,</span>&nbsp;<span class="ident" id="4526350">OpCharClass</span><span class="op" id="4526361">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526365">if</span>&nbsp;<span class="builtinfunc" id="4526368">len</span><span class="op" id="4526371">(</span><span class="ident" id="4526372">x</span><span class="op" id="4526373">.</span><span class="ident" id="4526374">Rune</span><span class="op" id="4526378">)</span>&nbsp;<span class="op" id="4526380">!=</span>&nbsp;<span class="builtinfunc" id="4526383">len</span><span class="op" id="4526386">(</span><span class="ident" id="4526387">y</span><span class="op" id="4526388">.</span><span class="ident" id="4526389">Rune</span><span class="op" id="4526393">)</span>&nbsp;<span class="op" id="4526395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526400">return</span>&nbsp;<span class="builtintype" id="4526407">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526415">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526419">for</span>&nbsp;<span class="ident" id="4526423">i</span><span class="op" id="4526424">,</span>&nbsp;<span class="ident" id="4526426">r</span>&nbsp;<span class="op" id="4526428">:=</span>&nbsp;<span class="keyword" id="4526431">range</span>&nbsp;<span class="ident" id="4526437">x</span><span class="op" id="4526438">.</span><span class="ident" id="4526439">Rune</span>&nbsp;<span class="op" id="4526444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526449">if</span>&nbsp;<span class="ident" id="4526452">r</span>&nbsp;<span class="op" id="4526454">!=</span>&nbsp;<span class="ident" id="4526457">y</span><span class="op" id="4526458">.</span><span class="ident" id="4526459">Rune</span><span class="op" id="4526463">[</span><span class="ident" id="4526464">i</span><span class="op" id="4526465">]</span>&nbsp;<span class="op" id="4526467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526473">return</span>&nbsp;<span class="builtintype" id="4526480">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526493">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526497">case</span>&nbsp;<span class="ident" id="4526502">OpAlternate</span><span class="op" id="4526513">,</span>&nbsp;<span class="ident" id="4526515">OpConcat</span><span class="op" id="4526523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526527">if</span>&nbsp;<span class="builtinfunc" id="4526530">len</span><span class="op" id="4526533">(</span><span class="ident" id="4526534">x</span><span class="op" id="4526535">.</span><span class="ident" id="4526536">Sub</span><span class="op" id="4526539">)</span>&nbsp;<span class="op" id="4526541">!=</span>&nbsp;<span class="builtinfunc" id="4526544">len</span><span class="op" id="4526547">(</span><span class="ident" id="4526548">y</span><span class="op" id="4526549">.</span><span class="ident" id="4526550">Sub</span><span class="op" id="4526553">)</span>&nbsp;<span class="op" id="4526555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526560">return</span>&nbsp;<span class="builtintype" id="4526567">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526575">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526579">for</span>&nbsp;<span class="ident" id="4526583">i</span><span class="op" id="4526584">,</span>&nbsp;<span class="ident" id="4526586">sub</span>&nbsp;<span class="op" id="4526590">:=</span>&nbsp;<span class="keyword" id="4526593">range</span>&nbsp;<span class="ident" id="4526599">x</span><span class="op" id="4526600">.</span><span class="ident" id="4526601">Sub</span>&nbsp;<span class="op" id="4526605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526610">if</span>&nbsp;<span class="op" id="4526613">!</span><span class="ident" id="4526614">sub</span><span class="op" id="4526617">.</span><span class="ident" id="4526618">Equal</span><span class="op" id="4526623">(</span><span class="ident" id="4526624">y</span><span class="op" id="4526625">.</span><span class="ident" id="4526626">Sub</span><span class="op" id="4526629">[</span><span class="ident" id="4526630">i</span><span class="op" id="4526631">]</span><span class="op" id="4526632">)</span>&nbsp;<span class="op" id="4526634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526640">return</span>&nbsp;<span class="builtintype" id="4526647">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526660">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526664">case</span>&nbsp;<span class="ident" id="4526669">OpStar</span><span class="op" id="4526675">,</span>&nbsp;<span class="ident" id="4526677">OpPlus</span><span class="op" id="4526683">,</span>&nbsp;<span class="ident" id="4526685">OpQuest</span><span class="op" id="4526692">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526696">if</span>&nbsp;<span class="ident" id="4526699">x</span><span class="op" id="4526700">.</span><span class="ident" id="4526701">Flags</span><span class="op" id="4526706">&amp;</span><span class="ident" id="4526707">NonGreedy</span>&nbsp;<span class="op" id="4526717">!=</span>&nbsp;<span class="ident" id="4526720">y</span><span class="op" id="4526721">.</span><span class="ident" id="4526722">Flags</span><span class="op" id="4526727">&amp;</span><span class="ident" id="4526728">NonGreedy</span>&nbsp;<span class="op" id="4526738">||</span>&nbsp;<span class="op" id="4526741">!</span><span class="ident" id="4526742">x</span><span class="op" id="4526743">.</span><span class="ident" id="4526744">Sub</span><span class="op" id="4526747">[</span><span class="num" id="4526748">0</span><span class="op" id="4526749">]</span><span class="op" id="4526750">.</span><span class="ident" id="4526751">Equal</span><span class="op" id="4526756">(</span><span class="ident" id="4526757">y</span><span class="op" id="4526758">.</span><span class="ident" id="4526759">Sub</span><span class="op" id="4526762">[</span><span class="num" id="4526763">0</span><span class="op" id="4526764">]</span><span class="op" id="4526765">)</span>&nbsp;<span class="op" id="4526767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526772">return</span>&nbsp;<span class="builtintype" id="4526779">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526787">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526791">case</span>&nbsp;<span class="ident" id="4526796">OpRepeat</span><span class="op" id="4526804">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526808">if</span>&nbsp;<span class="ident" id="4526811">x</span><span class="op" id="4526812">.</span><span class="ident" id="4526813">Flags</span><span class="op" id="4526818">&amp;</span><span class="ident" id="4526819">NonGreedy</span>&nbsp;<span class="op" id="4526829">!=</span>&nbsp;<span class="ident" id="4526832">y</span><span class="op" id="4526833">.</span><span class="ident" id="4526834">Flags</span><span class="op" id="4526839">&amp;</span><span class="ident" id="4526840">NonGreedy</span>&nbsp;<span class="op" id="4526850">||</span>&nbsp;<span class="ident" id="4526853">x</span><span class="op" id="4526854">.</span><span class="ident" id="4526855">Min</span>&nbsp;<span class="op" id="4526859">!=</span>&nbsp;<span class="ident" id="4526862">y</span><span class="op" id="4526863">.</span><span class="ident" id="4526864">Min</span>&nbsp;<span class="op" id="4526868">||</span>&nbsp;<span class="ident" id="4526871">x</span><span class="op" id="4526872">.</span><span class="ident" id="4526873">Max</span>&nbsp;<span class="op" id="4526877">!=</span>&nbsp;<span class="ident" id="4526880">y</span><span class="op" id="4526881">.</span><span class="ident" id="4526882">Max</span>&nbsp;<span class="op" id="4526886">||</span>&nbsp;<span class="op" id="4526889">!</span><span class="ident" id="4526890">x</span><span class="op" id="4526891">.</span><span class="ident" id="4526892">Sub</span><span class="op" id="4526895">[</span><span class="num" id="4526896">0</span><span class="op" id="4526897">]</span><span class="op" id="4526898">.</span><span class="ident" id="4526899">Equal</span><span class="op" id="4526904">(</span><span class="ident" id="4526905">y</span><span class="op" id="4526906">.</span><span class="ident" id="4526907">Sub</span><span class="op" id="4526910">[</span><span class="num" id="4526911">0</span><span class="op" id="4526912">]</span><span class="op" id="4526913">)</span>&nbsp;<span class="op" id="4526915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526920">return</span>&nbsp;<span class="builtintype" id="4526927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4526935">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526939">case</span>&nbsp;<span class="ident" id="4526944">OpCapture</span><span class="op" id="4526953">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4526957">if</span>&nbsp;<span class="ident" id="4526960">x</span><span class="op" id="4526961">.</span><span class="ident" id="4526962">Cap</span>&nbsp;<span class="op" id="4526966">!=</span>&nbsp;<span class="ident" id="4526969">y</span><span class="op" id="4526970">.</span><span class="ident" id="4526971">Cap</span>&nbsp;<span class="op" id="4526975">||</span>&nbsp;<span class="ident" id="4526978">x</span><span class="op" id="4526979">.</span><span class="ident" id="4526980">Name</span>&nbsp;<span class="op" id="4526985">!=</span>&nbsp;<span class="ident" id="4526988">y</span><span class="op" id="4526989">.</span><span class="ident" id="4526990">Name</span>&nbsp;<span class="op" id="4526995">||</span>&nbsp;<span class="op" id="4526998">!</span><span class="ident" id="4526999">x</span><span class="op" id="4527000">.</span><span class="ident" id="4527001">Sub</span><span class="op" id="4527004">[</span><span class="num" id="4527005">0</span><span class="op" id="4527006">]</span><span class="op" id="4527007">.</span><span class="ident" id="4527008">Equal</span><span class="op" id="4527013">(</span><span class="ident" id="4527014">y</span><span class="op" id="4527015">.</span><span class="ident" id="4527016">Sub</span><span class="op" id="4527019">[</span><span class="num" id="4527020">0</span><span class="op" id="4527021">]</span><span class="op" id="4527022">)</span>&nbsp;<span class="op" id="4527024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527029">return</span>&nbsp;<span class="builtintype" id="4527036">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4527044">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4527047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527050">return</span>&nbsp;<span class="builtintype" id="4527057">true</span><br>
<span class="lineno"></span><span class="op" id="4527062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4527065">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="4527139">func</span>&nbsp;<span class="ident" id="4527144">writeRegexp</span><span class="op" id="4527155">(</span><span class="ident" id="4527156">b</span>&nbsp;<span class="op" id="4527158">*</span><span class="ident" id="4527159">bytes</span><span class="op" id="4527164">.</span><span class="ident" id="4527165">Buffer</span><span class="op" id="4527171">,</span>&nbsp;<span class="ident" id="4527173">re</span>&nbsp;<span class="op" id="4527176">*</span><span class="ident" id="4527177">Regexp</span><span class="op" id="4527183">)</span>&nbsp;<span class="op" id="4527185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527188">switch</span>&nbsp;<span class="ident" id="4527195">re</span><span class="op" id="4527197">.</span><span class="ident" id="4527198">Op</span>&nbsp;<span class="op" id="4527201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527204">default</span><span class="op" id="4527211">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527215">b</span><span class="op" id="4527216">.</span><span class="ident" id="4527217">WriteString</span><span class="op" id="4527228">(</span><span class="string" id="4527229">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="4527243">+</span>&nbsp;<span class="ident" id="4527245">strconv</span><span class="op" id="4527252">.</span><span class="ident" id="4527253">Itoa</span><span class="op" id="4527257">(</span><span class="builtintype" id="4527258">int</span><span class="op" id="4527261">(</span><span class="ident" id="4527262">re</span><span class="op" id="4527264">.</span><span class="ident" id="4527265">Op</span><span class="op" id="4527267">)</span><span class="op" id="4527268">)</span>&nbsp;<span class="op" id="4527270">+</span>&nbsp;<span class="string" id="4527272">&#34;&gt;&#34;</span><span class="op" id="4527275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527278">case</span>&nbsp;<span class="ident" id="4527283">OpNoMatch</span><span class="op" id="4527292">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527296">b</span><span class="op" id="4527297">.</span><span class="ident" id="4527298">WriteString</span><span class="op" id="4527309">(</span><span class="string" id="4527310">`[^\x00-\x{10FFFF}]`</span><span class="op" id="4527330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527333">case</span>&nbsp;<span class="ident" id="4527338">OpEmptyMatch</span><span class="op" id="4527350">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527354">b</span><span class="op" id="4527355">.</span><span class="ident" id="4527356">WriteString</span><span class="op" id="4527367">(</span><span class="string" id="4527368">`(?:)`</span><span class="op" id="4527374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527377">case</span>&nbsp;<span class="ident" id="4527382">OpLiteral</span><span class="op" id="4527391">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527395">if</span>&nbsp;<span class="ident" id="4527398">re</span><span class="op" id="4527400">.</span><span class="ident" id="4527401">Flags</span><span class="op" id="4527406">&amp;</span><span class="ident" id="4527407">FoldCase</span>&nbsp;<span class="op" id="4527416">!=</span>&nbsp;<span class="num" id="4527419">0</span>&nbsp;<span class="op" id="4527421">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527426">b</span><span class="op" id="4527427">.</span><span class="ident" id="4527428">WriteString</span><span class="op" id="4527439">(</span><span class="string" id="4527440">`(?i:`</span><span class="op" id="4527446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4527450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527454">for</span>&nbsp;<span class="ident" id="4527458">_</span><span class="op" id="4527459">,</span>&nbsp;<span class="ident" id="4527461">r</span>&nbsp;<span class="op" id="4527463">:=</span>&nbsp;<span class="keyword" id="4527466">range</span>&nbsp;<span class="ident" id="4527472">re</span><span class="op" id="4527474">.</span><span class="ident" id="4527475">Rune</span>&nbsp;<span class="op" id="4527480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527485">escape</span><span class="op" id="4527491">(</span><span class="ident" id="4527492">b</span><span class="op" id="4527493">,</span>&nbsp;<span class="ident" id="4527495">r</span><span class="op" id="4527496">,</span>&nbsp;<span class="builtintype" id="4527498">false</span><span class="op" id="4527503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4527507">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527511">if</span>&nbsp;<span class="ident" id="4527514">re</span><span class="op" id="4527516">.</span><span class="ident" id="4527517">Flags</span><span class="op" id="4527522">&amp;</span><span class="ident" id="4527523">FoldCase</span>&nbsp;<span class="op" id="4527532">!=</span>&nbsp;<span class="num" id="4527535">0</span>&nbsp;<span class="op" id="4527537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527542">b</span><span class="op" id="4527543">.</span><span class="ident" id="4527544">WriteString</span><span class="op" id="4527555">(</span><span class="string" id="4527556">`)`</span><span class="op" id="4527559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4527563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527566">case</span>&nbsp;<span class="ident" id="4527571">OpCharClass</span><span class="op" id="4527582">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527586">if</span>&nbsp;<span class="builtinfunc" id="4527589">len</span><span class="op" id="4527592">(</span><span class="ident" id="4527593">re</span><span class="op" id="4527595">.</span><span class="ident" id="4527596">Rune</span><span class="op" id="4527600">)</span><span class="op" id="4527601">%</span><span class="num" id="4527602">2</span>&nbsp;<span class="op" id="4527604">!=</span>&nbsp;<span class="num" id="4527607">0</span>&nbsp;<span class="op" id="4527609">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527614">b</span><span class="op" id="4527615">.</span><span class="ident" id="4527616">WriteString</span><span class="op" id="4527627">(</span><span class="string" id="4527628">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="4527650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527655">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4527663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527667">b</span><span class="op" id="4527668">.</span><span class="ident" id="4527669">WriteRune</span><span class="op" id="4527678">(</span><span class="string" id="4527679">&#39;[&#39;</span><span class="op" id="4527682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527686">if</span>&nbsp;<span class="builtinfunc" id="4527689">len</span><span class="op" id="4527692">(</span><span class="ident" id="4527693">re</span><span class="op" id="4527695">.</span><span class="ident" id="4527696">Rune</span><span class="op" id="4527700">)</span>&nbsp;<span class="op" id="4527702">==</span>&nbsp;<span class="num" id="4527705">0</span>&nbsp;<span class="op" id="4527707">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527712">b</span><span class="op" id="4527713">.</span><span class="ident" id="4527714">WriteString</span><span class="op" id="4527725">(</span><span class="string" id="4527726">`^\x00-\x{10FFFF}`</span><span class="op" id="4527744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4527748">}</span>&nbsp;<span class="keyword" id="4527750">else</span>&nbsp;<span class="keyword" id="4527755">if</span>&nbsp;<span class="ident" id="4527758">re</span><span class="op" id="4527760">.</span><span class="ident" id="4527761">Rune</span><span class="op" id="4527765">[</span><span class="num" id="4527766">0</span><span class="op" id="4527767">]</span>&nbsp;<span class="op" id="4527769">==</span>&nbsp;<span class="num" id="4527772">0</span>&nbsp;<span class="op" id="4527774">&amp;&amp;</span>&nbsp;<span class="ident" id="4527777">re</span><span class="op" id="4527779">.</span><span class="ident" id="4527780">Rune</span><span class="op" id="4527784">[</span><span class="builtinfunc" id="4527785">len</span><span class="op" id="4527788">(</span><span class="ident" id="4527789">re</span><span class="op" id="4527791">.</span><span class="ident" id="4527792">Rune</span><span class="op" id="4527796">)</span><span class="op" id="4527797">-</span><span class="num" id="4527798">1</span><span class="op" id="4527799">]</span>&nbsp;<span class="op" id="4527801">==</span>&nbsp;<span class="ident" id="4527804">unicode</span><span class="op" id="4527811">.</span><span class="ident" id="4527812">MaxRune</span>&nbsp;<span class="op" id="4527820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4527825">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4527882">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527904">b</span><span class="op" id="4527905">.</span><span class="ident" id="4527906">WriteRune</span><span class="op" id="4527915">(</span><span class="string" id="4527916">&#39;^&#39;</span><span class="op" id="4527919">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4527924">for</span>&nbsp;<span class="ident" id="4527928">i</span>&nbsp;<span class="op" id="4527930">:=</span>&nbsp;<span class="num" id="4527933">1</span><span class="op" id="4527934">;</span>&nbsp;<span class="ident" id="4527936">i</span>&nbsp;<span class="op" id="4527938">&lt;</span>&nbsp;<span class="builtinfunc" id="4527940">len</span><span class="op" id="4527943">(</span><span class="ident" id="4527944">re</span><span class="op" id="4527946">.</span><span class="ident" id="4527947">Rune</span><span class="op" id="4527951">)</span><span class="op" id="4527952">-</span><span class="num" id="4527953">1</span><span class="op" id="4527954">;</span>&nbsp;<span class="ident" id="4527956">i</span>&nbsp;<span class="op" id="4527958">+=</span>&nbsp;<span class="num" id="4527961">2</span>&nbsp;<span class="op" id="4527963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4527969">lo</span><span class="op" id="4527971">,</span>&nbsp;<span class="ident" id="4527973">hi</span>&nbsp;<span class="op" id="4527976">:=</span>&nbsp;<span class="ident" id="4527979">re</span><span class="op" id="4527981">.</span><span class="ident" id="4527982">Rune</span><span class="op" id="4527986">[</span><span class="ident" id="4527987">i</span><span class="op" id="4527988">]</span><span class="op" id="4527989">+</span><span class="num" id="4527990">1</span><span class="op" id="4527991">,</span>&nbsp;<span class="ident" id="4527993">re</span><span class="op" id="4527995">.</span><span class="ident" id="4527996">Rune</span><span class="op" id="4528000">[</span><span class="ident" id="4528001">i</span><span class="op" id="4528002">+</span><span class="num" id="4528003">1</span><span class="op" id="4528004">]</span><span class="op" id="4528005">-</span><span class="num" id="4528006">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528012">escape</span><span class="op" id="4528018">(</span><span class="ident" id="4528019">b</span><span class="op" id="4528020">,</span>&nbsp;<span class="ident" id="4528022">lo</span><span class="op" id="4528024">,</span>&nbsp;<span class="ident" id="4528026">lo</span>&nbsp;<span class="op" id="4528029">==</span>&nbsp;<span class="string" id="4528032">&#39;-&#39;</span><span class="op" id="4528035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528041">if</span>&nbsp;<span class="ident" id="4528044">lo</span>&nbsp;<span class="op" id="4528047">!=</span>&nbsp;<span class="ident" id="4528050">hi</span>&nbsp;<span class="op" id="4528053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528060">b</span><span class="op" id="4528061">.</span><span class="ident" id="4528062">WriteRune</span><span class="op" id="4528071">(</span><span class="string" id="4528072">&#39;-&#39;</span><span class="op" id="4528075">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528082">escape</span><span class="op" id="4528088">(</span><span class="ident" id="4528089">b</span><span class="op" id="4528090">,</span>&nbsp;<span class="ident" id="4528092">hi</span><span class="op" id="4528094">,</span>&nbsp;<span class="ident" id="4528096">hi</span>&nbsp;<span class="op" id="4528099">==</span>&nbsp;<span class="string" id="4528102">&#39;-&#39;</span><span class="op" id="4528105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528120">}</span>&nbsp;<span class="keyword" id="4528122">else</span>&nbsp;<span class="op" id="4528127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528132">for</span>&nbsp;<span class="ident" id="4528136">i</span>&nbsp;<span class="op" id="4528138">:=</span>&nbsp;<span class="num" id="4528141">0</span><span class="op" id="4528142">;</span>&nbsp;<span class="ident" id="4528144">i</span>&nbsp;<span class="op" id="4528146">&lt;</span>&nbsp;<span class="builtinfunc" id="4528148">len</span><span class="op" id="4528151">(</span><span class="ident" id="4528152">re</span><span class="op" id="4528154">.</span><span class="ident" id="4528155">Rune</span><span class="op" id="4528159">)</span><span class="op" id="4528160">;</span>&nbsp;<span class="ident" id="4528162">i</span>&nbsp;<span class="op" id="4528164">+=</span>&nbsp;<span class="num" id="4528167">2</span>&nbsp;<span class="op" id="4528169">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528175">lo</span><span class="op" id="4528177">,</span>&nbsp;<span class="ident" id="4528179">hi</span>&nbsp;<span class="op" id="4528182">:=</span>&nbsp;<span class="ident" id="4528185">re</span><span class="op" id="4528187">.</span><span class="ident" id="4528188">Rune</span><span class="op" id="4528192">[</span><span class="ident" id="4528193">i</span><span class="op" id="4528194">]</span><span class="op" id="4528195">,</span>&nbsp;<span class="ident" id="4528197">re</span><span class="op" id="4528199">.</span><span class="ident" id="4528200">Rune</span><span class="op" id="4528204">[</span><span class="ident" id="4528205">i</span><span class="op" id="4528206">+</span><span class="num" id="4528207">1</span><span class="op" id="4528208">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528214">escape</span><span class="op" id="4528220">(</span><span class="ident" id="4528221">b</span><span class="op" id="4528222">,</span>&nbsp;<span class="ident" id="4528224">lo</span><span class="op" id="4528226">,</span>&nbsp;<span class="ident" id="4528228">lo</span>&nbsp;<span class="op" id="4528231">==</span>&nbsp;<span class="string" id="4528234">&#39;-&#39;</span><span class="op" id="4528237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528243">if</span>&nbsp;<span class="ident" id="4528246">lo</span>&nbsp;<span class="op" id="4528249">!=</span>&nbsp;<span class="ident" id="4528252">hi</span>&nbsp;<span class="op" id="4528255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528262">b</span><span class="op" id="4528263">.</span><span class="ident" id="4528264">WriteRune</span><span class="op" id="4528273">(</span><span class="string" id="4528274">&#39;-&#39;</span><span class="op" id="4528277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528284">escape</span><span class="op" id="4528290">(</span><span class="ident" id="4528291">b</span><span class="op" id="4528292">,</span>&nbsp;<span class="ident" id="4528294">hi</span><span class="op" id="4528296">,</span>&nbsp;<span class="ident" id="4528298">hi</span>&nbsp;<span class="op" id="4528301">==</span>&nbsp;<span class="string" id="4528304">&#39;-&#39;</span><span class="op" id="4528307">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528326">b</span><span class="op" id="4528327">.</span><span class="ident" id="4528328">WriteRune</span><span class="op" id="4528337">(</span><span class="string" id="4528338">&#39;]&#39;</span><span class="op" id="4528341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528344">case</span>&nbsp;<span class="ident" id="4528349">OpAnyCharNotNL</span><span class="op" id="4528363">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528367">b</span><span class="op" id="4528368">.</span><span class="ident" id="4528369">WriteString</span><span class="op" id="4528380">(</span><span class="string" id="4528381">`(?-s:.)`</span><span class="op" id="4528390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528393">case</span>&nbsp;<span class="ident" id="4528398">OpAnyChar</span><span class="op" id="4528407">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528411">b</span><span class="op" id="4528412">.</span><span class="ident" id="4528413">WriteString</span><span class="op" id="4528424">(</span><span class="string" id="4528425">`(?s:.)`</span><span class="op" id="4528433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528436">case</span>&nbsp;<span class="ident" id="4528441">OpBeginLine</span><span class="op" id="4528452">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528456">b</span><span class="op" id="4528457">.</span><span class="ident" id="4528458">WriteRune</span><span class="op" id="4528467">(</span><span class="string" id="4528468">&#39;^&#39;</span><span class="op" id="4528471">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528474">case</span>&nbsp;<span class="ident" id="4528479">OpEndLine</span><span class="op" id="4528488">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528492">b</span><span class="op" id="4528493">.</span><span class="ident" id="4528494">WriteRune</span><span class="op" id="4528503">(</span><span class="string" id="4528504">&#39;$&#39;</span><span class="op" id="4528507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528510">case</span>&nbsp;<span class="ident" id="4528515">OpBeginText</span><span class="op" id="4528526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528530">b</span><span class="op" id="4528531">.</span><span class="ident" id="4528532">WriteString</span><span class="op" id="4528543">(</span><span class="string" id="4528544">`\A`</span><span class="op" id="4528548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528551">case</span>&nbsp;<span class="ident" id="4528556">OpEndText</span><span class="op" id="4528565">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528569">if</span>&nbsp;<span class="ident" id="4528572">re</span><span class="op" id="4528574">.</span><span class="ident" id="4528575">Flags</span><span class="op" id="4528580">&amp;</span><span class="ident" id="4528581">WasDollar</span>&nbsp;<span class="op" id="4528591">!=</span>&nbsp;<span class="num" id="4528594">0</span>&nbsp;<span class="op" id="4528596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528601">b</span><span class="op" id="4528602">.</span><span class="ident" id="4528603">WriteString</span><span class="op" id="4528614">(</span><span class="string" id="4528615">`(?-m:$)`</span><span class="op" id="4528624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528628">}</span>&nbsp;<span class="keyword" id="4528630">else</span>&nbsp;<span class="op" id="4528635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528640">b</span><span class="op" id="4528641">.</span><span class="ident" id="4528642">WriteString</span><span class="op" id="4528653">(</span><span class="string" id="4528654">`\z`</span><span class="op" id="4528658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528662">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528665">case</span>&nbsp;<span class="ident" id="4528670">OpWordBoundary</span><span class="op" id="4528684">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528688">b</span><span class="op" id="4528689">.</span><span class="ident" id="4528690">WriteString</span><span class="op" id="4528701">(</span><span class="string" id="4528702">`\b`</span><span class="op" id="4528706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528709">case</span>&nbsp;<span class="ident" id="4528714">OpNoWordBoundary</span><span class="op" id="4528730">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528734">b</span><span class="op" id="4528735">.</span><span class="ident" id="4528736">WriteString</span><span class="op" id="4528747">(</span><span class="string" id="4528748">`\B`</span><span class="op" id="4528752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528755">case</span>&nbsp;<span class="ident" id="4528760">OpCapture</span><span class="op" id="4528769">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528773">if</span>&nbsp;<span class="ident" id="4528776">re</span><span class="op" id="4528778">.</span><span class="ident" id="4528779">Name</span>&nbsp;<span class="op" id="4528784">!=</span>&nbsp;<span class="string" id="4528787">&#34;&#34;</span>&nbsp;<span class="op" id="4528790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528795">b</span><span class="op" id="4528796">.</span><span class="ident" id="4528797">WriteString</span><span class="op" id="4528808">(</span><span class="string" id="4528809">`(?P&lt;`</span><span class="op" id="4528815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528820">b</span><span class="op" id="4528821">.</span><span class="ident" id="4528822">WriteString</span><span class="op" id="4528833">(</span><span class="ident" id="4528834">re</span><span class="op" id="4528836">.</span><span class="ident" id="4528837">Name</span><span class="op" id="4528841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528846">b</span><span class="op" id="4528847">.</span><span class="ident" id="4528848">WriteRune</span><span class="op" id="4528857">(</span><span class="string" id="4528858">&#39;&gt;&#39;</span><span class="op" id="4528861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528865">}</span>&nbsp;<span class="keyword" id="4528867">else</span>&nbsp;<span class="op" id="4528872">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528877">b</span><span class="op" id="4528878">.</span><span class="ident" id="4528879">WriteRune</span><span class="op" id="4528888">(</span><span class="string" id="4528889">&#39;(&#39;</span><span class="op" id="4528892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528900">if</span>&nbsp;<span class="ident" id="4528903">re</span><span class="op" id="4528905">.</span><span class="ident" id="4528906">Sub</span><span class="op" id="4528909">[</span><span class="num" id="4528910">0</span><span class="op" id="4528911">]</span><span class="op" id="4528912">.</span><span class="ident" id="4528913">Op</span>&nbsp;<span class="op" id="4528916">!=</span>&nbsp;<span class="ident" id="4528919">OpEmptyMatch</span>&nbsp;<span class="op" id="4528932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528937">writeRegexp</span><span class="op" id="4528948">(</span><span class="ident" id="4528949">b</span><span class="op" id="4528950">,</span>&nbsp;<span class="ident" id="4528952">re</span><span class="op" id="4528954">.</span><span class="ident" id="4528955">Sub</span><span class="op" id="4528958">[</span><span class="num" id="4528959">0</span><span class="op" id="4528960">]</span><span class="op" id="4528961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4528965">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4528969">b</span><span class="op" id="4528970">.</span><span class="ident" id="4528971">WriteRune</span><span class="op" id="4528980">(</span><span class="string" id="4528981">&#39;)&#39;</span><span class="op" id="4528984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4528987">case</span>&nbsp;<span class="ident" id="4528992">OpStar</span><span class="op" id="4528998">,</span>&nbsp;<span class="ident" id="4529000">OpPlus</span><span class="op" id="4529006">,</span>&nbsp;<span class="ident" id="4529008">OpQuest</span><span class="op" id="4529015">,</span>&nbsp;<span class="ident" id="4529017">OpRepeat</span><span class="op" id="4529025">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529029">if</span>&nbsp;<span class="ident" id="4529032">sub</span>&nbsp;<span class="op" id="4529036">:=</span>&nbsp;<span class="ident" id="4529039">re</span><span class="op" id="4529041">.</span><span class="ident" id="4529042">Sub</span><span class="op" id="4529045">[</span><span class="num" id="4529046">0</span><span class="op" id="4529047">]</span><span class="op" id="4529048">;</span>&nbsp;<span class="ident" id="4529050">sub</span><span class="op" id="4529053">.</span><span class="ident" id="4529054">Op</span>&nbsp;<span class="op" id="4529057">&gt;</span>&nbsp;<span class="ident" id="4529059">OpCapture</span>&nbsp;<span class="op" id="4529069">||</span>&nbsp;<span class="ident" id="4529072">sub</span><span class="op" id="4529075">.</span><span class="ident" id="4529076">Op</span>&nbsp;<span class="op" id="4529079">==</span>&nbsp;<span class="ident" id="4529082">OpLiteral</span>&nbsp;<span class="op" id="4529092">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4529095">len</span><span class="op" id="4529098">(</span><span class="ident" id="4529099">sub</span><span class="op" id="4529102">.</span><span class="ident" id="4529103">Rune</span><span class="op" id="4529107">)</span>&nbsp;<span class="op" id="4529109">&gt;</span>&nbsp;<span class="num" id="4529111">1</span>&nbsp;<span class="op" id="4529113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529118">b</span><span class="op" id="4529119">.</span><span class="ident" id="4529120">WriteString</span><span class="op" id="4529131">(</span><span class="string" id="4529132">`(?:`</span><span class="op" id="4529137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529142">writeRegexp</span><span class="op" id="4529153">(</span><span class="ident" id="4529154">b</span><span class="op" id="4529155">,</span>&nbsp;<span class="ident" id="4529157">sub</span><span class="op" id="4529160">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529165">b</span><span class="op" id="4529166">.</span><span class="ident" id="4529167">WriteString</span><span class="op" id="4529178">(</span><span class="string" id="4529179">`)`</span><span class="op" id="4529182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529186">}</span>&nbsp;<span class="keyword" id="4529188">else</span>&nbsp;<span class="op" id="4529193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529198">writeRegexp</span><span class="op" id="4529209">(</span><span class="ident" id="4529210">b</span><span class="op" id="4529211">,</span>&nbsp;<span class="ident" id="4529213">sub</span><span class="op" id="4529216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529224">switch</span>&nbsp;<span class="ident" id="4529231">re</span><span class="op" id="4529233">.</span><span class="ident" id="4529234">Op</span>&nbsp;<span class="op" id="4529237">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529241">case</span>&nbsp;<span class="ident" id="4529246">OpStar</span><span class="op" id="4529252">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529257">b</span><span class="op" id="4529258">.</span><span class="ident" id="4529259">WriteRune</span><span class="op" id="4529268">(</span><span class="string" id="4529269">&#39;*&#39;</span><span class="op" id="4529272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529276">case</span>&nbsp;<span class="ident" id="4529281">OpPlus</span><span class="op" id="4529287">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529292">b</span><span class="op" id="4529293">.</span><span class="ident" id="4529294">WriteRune</span><span class="op" id="4529303">(</span><span class="string" id="4529304">&#39;+&#39;</span><span class="op" id="4529307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529311">case</span>&nbsp;<span class="ident" id="4529316">OpQuest</span><span class="op" id="4529323">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529328">b</span><span class="op" id="4529329">.</span><span class="ident" id="4529330">WriteRune</span><span class="op" id="4529339">(</span><span class="string" id="4529340">&#39;?&#39;</span><span class="op" id="4529343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529347">case</span>&nbsp;<span class="ident" id="4529352">OpRepeat</span><span class="op" id="4529360">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529365">b</span><span class="op" id="4529366">.</span><span class="ident" id="4529367">WriteRune</span><span class="op" id="4529376">(</span><span class="string" id="4529377">&#39;{&#39;</span><span class="op" id="4529380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529385">b</span><span class="op" id="4529386">.</span><span class="ident" id="4529387">WriteString</span><span class="op" id="4529398">(</span><span class="ident" id="4529399">strconv</span><span class="op" id="4529406">.</span><span class="ident" id="4529407">Itoa</span><span class="op" id="4529411">(</span><span class="ident" id="4529412">re</span><span class="op" id="4529414">.</span><span class="ident" id="4529415">Min</span><span class="op" id="4529418">)</span><span class="op" id="4529419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529424">if</span>&nbsp;<span class="ident" id="4529427">re</span><span class="op" id="4529429">.</span><span class="ident" id="4529430">Max</span>&nbsp;<span class="op" id="4529434">!=</span>&nbsp;<span class="ident" id="4529437">re</span><span class="op" id="4529439">.</span><span class="ident" id="4529440">Min</span>&nbsp;<span class="op" id="4529444">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529450">b</span><span class="op" id="4529451">.</span><span class="ident" id="4529452">WriteRune</span><span class="op" id="4529461">(</span><span class="string" id="4529462">&#39;,&#39;</span><span class="op" id="4529465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529471">if</span>&nbsp;<span class="ident" id="4529474">re</span><span class="op" id="4529476">.</span><span class="ident" id="4529477">Max</span>&nbsp;<span class="op" id="4529481">&gt;=</span>&nbsp;<span class="num" id="4529484">0</span>&nbsp;<span class="op" id="4529486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529493">b</span><span class="op" id="4529494">.</span><span class="ident" id="4529495">WriteString</span><span class="op" id="4529506">(</span><span class="ident" id="4529507">strconv</span><span class="op" id="4529514">.</span><span class="ident" id="4529515">Itoa</span><span class="op" id="4529519">(</span><span class="ident" id="4529520">re</span><span class="op" id="4529522">.</span><span class="ident" id="4529523">Max</span><span class="op" id="4529526">)</span><span class="op" id="4529527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529538">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529543">b</span><span class="op" id="4529544">.</span><span class="ident" id="4529545">WriteRune</span><span class="op" id="4529554">(</span><span class="string" id="4529555">&#39;}&#39;</span><span class="op" id="4529558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529566">if</span>&nbsp;<span class="ident" id="4529569">re</span><span class="op" id="4529571">.</span><span class="ident" id="4529572">Flags</span><span class="op" id="4529577">&amp;</span><span class="ident" id="4529578">NonGreedy</span>&nbsp;<span class="op" id="4529588">!=</span>&nbsp;<span class="num" id="4529591">0</span>&nbsp;<span class="op" id="4529593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529598">b</span><span class="op" id="4529599">.</span><span class="ident" id="4529600">WriteRune</span><span class="op" id="4529609">(</span><span class="string" id="4529610">&#39;?&#39;</span><span class="op" id="4529613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529617">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529620">case</span>&nbsp;<span class="ident" id="4529625">OpConcat</span><span class="op" id="4529633">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529637">for</span>&nbsp;<span class="ident" id="4529641">_</span><span class="op" id="4529642">,</span>&nbsp;<span class="ident" id="4529644">sub</span>&nbsp;<span class="op" id="4529648">:=</span>&nbsp;<span class="keyword" id="4529651">range</span>&nbsp;<span class="ident" id="4529657">re</span><span class="op" id="4529659">.</span><span class="ident" id="4529660">Sub</span>&nbsp;<span class="op" id="4529664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529669">if</span>&nbsp;<span class="ident" id="4529672">sub</span><span class="op" id="4529675">.</span><span class="ident" id="4529676">Op</span>&nbsp;<span class="op" id="4529679">==</span>&nbsp;<span class="ident" id="4529682">OpAlternate</span>&nbsp;<span class="op" id="4529694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529700">b</span><span class="op" id="4529701">.</span><span class="ident" id="4529702">WriteString</span><span class="op" id="4529713">(</span><span class="string" id="4529714">`(?:`</span><span class="op" id="4529719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529725">writeRegexp</span><span class="op" id="4529736">(</span><span class="ident" id="4529737">b</span><span class="op" id="4529738">,</span>&nbsp;<span class="ident" id="4529740">sub</span><span class="op" id="4529743">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529749">b</span><span class="op" id="4529750">.</span><span class="ident" id="4529751">WriteString</span><span class="op" id="4529762">(</span><span class="string" id="4529763">`)`</span><span class="op" id="4529766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529771">}</span>&nbsp;<span class="keyword" id="4529773">else</span>&nbsp;<span class="op" id="4529778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529784">writeRegexp</span><span class="op" id="4529795">(</span><span class="ident" id="4529796">b</span><span class="op" id="4529797">,</span>&nbsp;<span class="ident" id="4529799">sub</span><span class="op" id="4529802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529811">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529814">case</span>&nbsp;<span class="ident" id="4529819">OpAlternate</span><span class="op" id="4529830">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529834">for</span>&nbsp;<span class="ident" id="4529838">i</span><span class="op" id="4529839">,</span>&nbsp;<span class="ident" id="4529841">sub</span>&nbsp;<span class="op" id="4529845">:=</span>&nbsp;<span class="keyword" id="4529848">range</span>&nbsp;<span class="ident" id="4529854">re</span><span class="op" id="4529856">.</span><span class="ident" id="4529857">Sub</span>&nbsp;<span class="op" id="4529861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529866">if</span>&nbsp;<span class="ident" id="4529869">i</span>&nbsp;<span class="op" id="4529871">&gt;</span>&nbsp;<span class="num" id="4529873">0</span>&nbsp;<span class="op" id="4529875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529881">b</span><span class="op" id="4529882">.</span><span class="ident" id="4529883">WriteRune</span><span class="op" id="4529892">(</span><span class="string" id="4529893">&#39;|&#39;</span><span class="op" id="4529896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529901">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529906">writeRegexp</span><span class="op" id="4529917">(</span><span class="ident" id="4529918">b</span><span class="op" id="4529919">,</span>&nbsp;<span class="ident" id="4529921">sub</span><span class="op" id="4529924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4529931">}</span><br>
<span class="lineno"></span><span class="op" id="4529933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="4529936">func</span>&nbsp;<span class="op" id="4529941">(</span><span class="ident" id="4529942">re</span>&nbsp;<span class="op" id="4529945">*</span><span class="ident" id="4529946">Regexp</span><span class="op" id="4529952">)</span>&nbsp;<span class="ident" id="4529954">String</span><span class="op" id="4529960">(</span><span class="op" id="4529961">)</span>&nbsp;<span class="builtintype" id="4529963">string</span>&nbsp;<span class="op" id="4529970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4529973">var</span>&nbsp;<span class="ident" id="4529977">b</span>&nbsp;<span class="ident" id="4529979">bytes</span><span class="op" id="4529984">.</span><span class="ident" id="4529985">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4529993">writeRegexp</span><span class="op" id="4530004">(</span><span class="op" id="4530005">&amp;</span><span class="ident" id="4530006">b</span><span class="op" id="4530007">,</span>&nbsp;<span class="ident" id="4530009">re</span><span class="op" id="4530011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530014">return</span>&nbsp;<span class="ident" id="4530021">b</span><span class="op" id="4530022">.</span><span class="ident" id="4530023">String</span><span class="op" id="4530029">(</span><span class="op" id="4530030">)</span><br>
<span class="lineno"></span><span class="op" id="4530032">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="4530035">const</span>&nbsp;<span class="ident" id="4530041">meta</span>&nbsp;<span class="op" id="4530046">=</span>&nbsp;<span class="string" id="4530048">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4530066">func</span>&nbsp;<span class="ident" id="4530071">escape</span><span class="op" id="4530077">(</span><span class="ident" id="4530078">b</span>&nbsp;<span class="op" id="4530080">*</span><span class="ident" id="4530081">bytes</span><span class="op" id="4530086">.</span><span class="ident" id="4530087">Buffer</span><span class="op" id="4530093">,</span>&nbsp;<span class="ident" id="4530095">r</span>&nbsp;<span class="builtintype" id="4530097">rune</span><span class="op" id="4530101">,</span>&nbsp;<span class="ident" id="4530103">force</span>&nbsp;<span class="builtintype" id="4530109">bool</span><span class="op" id="4530113">)</span>&nbsp;<span class="op" id="4530115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530118">if</span>&nbsp;<span class="ident" id="4530121">unicode</span><span class="op" id="4530128">.</span><span class="ident" id="4530129">IsPrint</span><span class="op" id="4530136">(</span><span class="ident" id="4530137">r</span><span class="op" id="4530138">)</span>&nbsp;<span class="op" id="4530140">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530144">if</span>&nbsp;<span class="ident" id="4530147">strings</span><span class="op" id="4530154">.</span><span class="ident" id="4530155">IndexRune</span><span class="op" id="4530164">(</span><span class="ident" id="4530165">meta</span><span class="op" id="4530169">,</span>&nbsp;<span class="ident" id="4530171">r</span><span class="op" id="4530172">)</span>&nbsp;<span class="op" id="4530174">&gt;=</span>&nbsp;<span class="num" id="4530177">0</span>&nbsp;<span class="op" id="4530179">||</span>&nbsp;<span class="ident" id="4530182">force</span>&nbsp;<span class="op" id="4530188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530193">b</span><span class="op" id="4530194">.</span><span class="ident" id="4530195">WriteRune</span><span class="op" id="4530204">(</span><span class="string" id="4530205">&#39;\\&#39;</span><span class="op" id="4530209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530217">b</span><span class="op" id="4530218">.</span><span class="ident" id="4530219">WriteRune</span><span class="op" id="4530228">(</span><span class="ident" id="4530229">r</span><span class="op" id="4530230">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530234">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530246">switch</span>&nbsp;<span class="ident" id="4530253">r</span>&nbsp;<span class="op" id="4530255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530258">case</span>&nbsp;<span class="string" id="4530263">&#39;\a&#39;</span><span class="op" id="4530267">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530271">b</span><span class="op" id="4530272">.</span><span class="ident" id="4530273">WriteString</span><span class="op" id="4530284">(</span><span class="string" id="4530285">`\a`</span><span class="op" id="4530289">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530292">case</span>&nbsp;<span class="string" id="4530297">&#39;\f&#39;</span><span class="op" id="4530301">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530305">b</span><span class="op" id="4530306">.</span><span class="ident" id="4530307">WriteString</span><span class="op" id="4530318">(</span><span class="string" id="4530319">`\f`</span><span class="op" id="4530323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530326">case</span>&nbsp;<span class="string" id="4530331">&#39;\n&#39;</span><span class="op" id="4530335">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530339">b</span><span class="op" id="4530340">.</span><span class="ident" id="4530341">WriteString</span><span class="op" id="4530352">(</span><span class="string" id="4530353">`\n`</span><span class="op" id="4530357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530360">case</span>&nbsp;<span class="string" id="4530365">&#39;\r&#39;</span><span class="op" id="4530369">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530373">b</span><span class="op" id="4530374">.</span><span class="ident" id="4530375">WriteString</span><span class="op" id="4530386">(</span><span class="string" id="4530387">`\r`</span><span class="op" id="4530391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530394">case</span>&nbsp;<span class="string" id="4530399">&#39;\t&#39;</span><span class="op" id="4530403">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530407">b</span><span class="op" id="4530408">.</span><span class="ident" id="4530409">WriteString</span><span class="op" id="4530420">(</span><span class="string" id="4530421">`\t`</span><span class="op" id="4530425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530428">case</span>&nbsp;<span class="string" id="4530433">&#39;\v&#39;</span><span class="op" id="4530437">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530441">b</span><span class="op" id="4530442">.</span><span class="ident" id="4530443">WriteString</span><span class="op" id="4530454">(</span><span class="string" id="4530455">`\v`</span><span class="op" id="4530459">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530462">default</span><span class="op" id="4530469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530473">if</span>&nbsp;<span class="ident" id="4530476">r</span>&nbsp;<span class="op" id="4530478">&lt;</span>&nbsp;<span class="num" id="4530480">0x100</span>&nbsp;<span class="op" id="4530486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530491">b</span><span class="op" id="4530492">.</span><span class="ident" id="4530493">WriteString</span><span class="op" id="4530504">(</span><span class="string" id="4530505">`\x`</span><span class="op" id="4530509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530514">s</span>&nbsp;<span class="op" id="4530516">:=</span>&nbsp;<span class="ident" id="4530519">strconv</span><span class="op" id="4530526">.</span><span class="ident" id="4530527">FormatInt</span><span class="op" id="4530536">(</span><span class="ident" id="4530537">int64</span><span class="op" id="4530542">(</span><span class="ident" id="4530543">r</span><span class="op" id="4530544">)</span><span class="op" id="4530545">,</span>&nbsp;<span class="num" id="4530547">16</span><span class="op" id="4530549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530554">if</span>&nbsp;<span class="builtinfunc" id="4530557">len</span><span class="op" id="4530560">(</span><span class="ident" id="4530561">s</span><span class="op" id="4530562">)</span>&nbsp;<span class="op" id="4530564">==</span>&nbsp;<span class="num" id="4530567">1</span>&nbsp;<span class="op" id="4530569">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530575">b</span><span class="op" id="4530576">.</span><span class="ident" id="4530577">WriteRune</span><span class="op" id="4530586">(</span><span class="string" id="4530587">&#39;0&#39;</span><span class="op" id="4530590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530600">b</span><span class="op" id="4530601">.</span><span class="ident" id="4530602">WriteString</span><span class="op" id="4530613">(</span><span class="ident" id="4530614">s</span><span class="op" id="4530615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530620">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530628">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530632">b</span><span class="op" id="4530633">.</span><span class="ident" id="4530634">WriteString</span><span class="op" id="4530645">(</span><span class="string" id="4530646">`\x{`</span><span class="op" id="4530651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530655">b</span><span class="op" id="4530656">.</span><span class="ident" id="4530657">WriteString</span><span class="op" id="4530668">(</span><span class="ident" id="4530669">strconv</span><span class="op" id="4530676">.</span><span class="ident" id="4530677">FormatInt</span><span class="op" id="4530686">(</span><span class="ident" id="4530687">int64</span><span class="op" id="4530692">(</span><span class="ident" id="4530693">r</span><span class="op" id="4530694">)</span><span class="op" id="4530695">,</span>&nbsp;<span class="num" id="4530697">16</span><span class="op" id="4530699">)</span><span class="op" id="4530700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530704">b</span><span class="op" id="4530705">.</span><span class="ident" id="4530706">WriteString</span><span class="op" id="4530717">(</span><span class="string" id="4530718">`}`</span><span class="op" id="4530721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530724">}</span><br>
<span class="lineno"></span><span class="op" id="4530726">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="4530729">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="4530791">func</span>&nbsp;<span class="op" id="4530796">(</span><span class="ident" id="4530797">re</span>&nbsp;<span class="op" id="4530800">*</span><span class="ident" id="4530801">Regexp</span><span class="op" id="4530807">)</span>&nbsp;<span class="ident" id="4530809">MaxCap</span><span class="op" id="4530815">(</span><span class="op" id="4530816">)</span>&nbsp;<span class="builtintype" id="4530818">int</span>&nbsp;<span class="op" id="4530822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530825">m</span>&nbsp;<span class="op" id="4530827">:=</span>&nbsp;<span class="num" id="4530830">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530833">if</span>&nbsp;<span class="ident" id="4530836">re</span><span class="op" id="4530838">.</span><span class="ident" id="4530839">Op</span>&nbsp;<span class="op" id="4530842">==</span>&nbsp;<span class="ident" id="4530845">OpCapture</span>&nbsp;<span class="op" id="4530855">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530859">m</span>&nbsp;<span class="op" id="4530861">=</span>&nbsp;<span class="ident" id="4530863">re</span><span class="op" id="4530865">.</span><span class="ident" id="4530866">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530874">for</span>&nbsp;<span class="ident" id="4530878">_</span><span class="op" id="4530879">,</span>&nbsp;<span class="ident" id="4530881">sub</span>&nbsp;<span class="op" id="4530885">:=</span>&nbsp;<span class="keyword" id="4530888">range</span>&nbsp;<span class="ident" id="4530894">re</span><span class="op" id="4530896">.</span><span class="ident" id="4530897">Sub</span>&nbsp;<span class="op" id="4530901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530905">if</span>&nbsp;<span class="ident" id="4530908">n</span>&nbsp;<span class="op" id="4530910">:=</span>&nbsp;<span class="ident" id="4530913">sub</span><span class="op" id="4530916">.</span><span class="ident" id="4530917">MaxCap</span><span class="op" id="4530923">(</span><span class="op" id="4530924">)</span><span class="op" id="4530925">;</span>&nbsp;<span class="ident" id="4530927">m</span>&nbsp;<span class="op" id="4530929">&lt;</span>&nbsp;<span class="ident" id="4530931">n</span>&nbsp;<span class="op" id="4530933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4530938">m</span>&nbsp;<span class="op" id="4530940">=</span>&nbsp;<span class="ident" id="4530942">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4530949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4530952">return</span>&nbsp;<span class="ident" id="4530959">m</span><br>
<span class="lineno"></span><span class="op" id="4530961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="4530964">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="4531032">func</span>&nbsp;<span class="op" id="4531037">(</span><span class="ident" id="4531038">re</span>&nbsp;<span class="op" id="4531041">*</span><span class="ident" id="4531042">Regexp</span><span class="op" id="4531048">)</span>&nbsp;<span class="ident" id="4531050">CapNames</span><span class="op" id="4531058">(</span><span class="op" id="4531059">)</span>&nbsp;<span class="op" id="4531061">[</span><span class="op" id="4531062">]</span><span class="builtintype" id="4531063">string</span>&nbsp;<span class="op" id="4531070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4531073">names</span>&nbsp;<span class="op" id="4531079">:=</span>&nbsp;<span class="builtinfunc" id="4531082">make</span><span class="op" id="4531086">(</span><span class="op" id="4531087">[</span><span class="op" id="4531088">]</span><span class="builtintype" id="4531089">string</span><span class="op" id="4531095">,</span>&nbsp;<span class="ident" id="4531097">re</span><span class="op" id="4531099">.</span><span class="ident" id="4531100">MaxCap</span><span class="op" id="4531106">(</span><span class="op" id="4531107">)</span><span class="op" id="4531108">+</span><span class="num" id="4531109">1</span><span class="op" id="4531110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4531113">re</span><span class="op" id="4531115">.</span><span class="ident" id="4531116">capNames</span><span class="op" id="4531124">(</span><span class="ident" id="4531125">names</span><span class="op" id="4531130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4531133">return</span>&nbsp;<span class="ident" id="4531140">names</span><br>
<span class="lineno">310</span><span class="op" id="4531146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4531149">func</span>&nbsp;<span class="op" id="4531154">(</span><span class="ident" id="4531155">re</span>&nbsp;<span class="op" id="4531158">*</span><span class="ident" id="4531159">Regexp</span><span class="op" id="4531165">)</span>&nbsp;<span class="ident" id="4531167">capNames</span><span class="op" id="4531175">(</span><span class="ident" id="4531176">names</span>&nbsp;<span class="op" id="4531182">[</span><span class="op" id="4531183">]</span><span class="builtintype" id="4531184">string</span><span class="op" id="4531190">)</span>&nbsp;<span class="op" id="4531192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4531195">if</span>&nbsp;<span class="ident" id="4531198">re</span><span class="op" id="4531200">.</span><span class="ident" id="4531201">Op</span>&nbsp;<span class="op" id="4531204">==</span>&nbsp;<span class="ident" id="4531207">OpCapture</span>&nbsp;<span class="op" id="4531217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4531221">names</span><span class="op" id="4531226">[</span><span class="ident" id="4531227">re</span><span class="op" id="4531229">.</span><span class="ident" id="4531230">Cap</span><span class="op" id="4531233">]</span>&nbsp;<span class="op" id="4531235">=</span>&nbsp;<span class="ident" id="4531237">re</span><span class="op" id="4531239">.</span><span class="ident" id="4531240">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4531246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4531249">for</span>&nbsp;<span class="ident" id="4531253">_</span><span class="op" id="4531254">,</span>&nbsp;<span class="ident" id="4531256">sub</span>&nbsp;<span class="op" id="4531260">:=</span>&nbsp;<span class="keyword" id="4531263">range</span>&nbsp;<span class="ident" id="4531269">re</span><span class="op" id="4531271">.</span><span class="ident" id="4531272">Sub</span>&nbsp;<span class="op" id="4531276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4531280">sub</span><span class="op" id="4531283">.</span><span class="ident" id="4531284">capNames</span><span class="op" id="4531292">(</span><span class="ident" id="4531293">names</span><span class="op" id="4531298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4531301">}</span><br>
<span class="lineno"></span><span class="op" id="4531303">}</span>
</div>
</body>
</html>
