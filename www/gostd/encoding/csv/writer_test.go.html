<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/csv</h2>
<ul>
<li><a href="/gostd/encoding/csv/reader.go.html">reader.go</a></li>
<li><a href="/gostd/encoding/csv/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/encoding/csv/writer.go.html">writer.go</a></li>
<li><a href="/gostd/encoding/csv/writer_test.go.html" class="current">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7103792">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7103847">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7103901">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7103952">package</span>&nbsp;<span class="ident" id="7103960">csv</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7103965">import</span>&nbsp;<span class="op" id="7103972">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7103975">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7103984">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7103994">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7104004">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7104007">var</span>&nbsp;<span class="ident" id="7104011">writeTests</span>&nbsp;<span class="op" id="7104022">=</span>&nbsp;<span class="op" id="7104024">[</span><span class="op" id="7104025">]</span><span class="keyword" id="7104026">struct</span>&nbsp;<span class="op" id="7104033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7104036">Input</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7104044">[</span><span class="op" id="7104045">]</span><span class="op" id="7104046">[</span><span class="op" id="7104047">]</span><span class="builtintype" id="7104048">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7104056">Output</span>&nbsp;&nbsp;<span class="builtintype" id="7104064">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7104072">UseCRLF</span>&nbsp;<span class="builtintype" id="7104080">bool</span><br>
<span class="lineno"></span><span class="op" id="7104085">}</span><span class="op" id="7104086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104089">{</span><span class="ident" id="7104090">Input</span><span class="op" id="7104095">:</span>&nbsp;<span class="op" id="7104097">[</span><span class="op" id="7104098">]</span><span class="op" id="7104099">[</span><span class="op" id="7104100">]</span><span class="builtintype" id="7104101">string</span><span class="op" id="7104107">{</span><span class="op" id="7104108">{</span><span class="string" id="7104109">&#34;abc&#34;</span><span class="op" id="7104114">}</span><span class="op" id="7104115">}</span><span class="op" id="7104116">,</span>&nbsp;<span class="ident" id="7104118">Output</span><span class="op" id="7104124">:</span>&nbsp;<span class="string" id="7104126">&#34;abc\n&#34;</span><span class="op" id="7104133">}</span><span class="op" id="7104134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104137">{</span><span class="ident" id="7104138">Input</span><span class="op" id="7104143">:</span>&nbsp;<span class="op" id="7104145">[</span><span class="op" id="7104146">]</span><span class="op" id="7104147">[</span><span class="op" id="7104148">]</span><span class="builtintype" id="7104149">string</span><span class="op" id="7104155">{</span><span class="op" id="7104156">{</span><span class="string" id="7104157">&#34;abc&#34;</span><span class="op" id="7104162">}</span><span class="op" id="7104163">}</span><span class="op" id="7104164">,</span>&nbsp;<span class="ident" id="7104166">Output</span><span class="op" id="7104172">:</span>&nbsp;<span class="string" id="7104174">&#34;abc\r\n&#34;</span><span class="op" id="7104183">,</span>&nbsp;<span class="ident" id="7104185">UseCRLF</span><span class="op" id="7104192">:</span>&nbsp;<span class="builtintype" id="7104194">true</span><span class="op" id="7104198">}</span><span class="op" id="7104199">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104202">{</span><span class="ident" id="7104203">Input</span><span class="op" id="7104208">:</span>&nbsp;<span class="op" id="7104210">[</span><span class="op" id="7104211">]</span><span class="op" id="7104212">[</span><span class="op" id="7104213">]</span><span class="builtintype" id="7104214">string</span><span class="op" id="7104220">{</span><span class="op" id="7104221">{</span><span class="string" id="7104222">`&#34;abc&#34;`</span><span class="op" id="7104229">}</span><span class="op" id="7104230">}</span><span class="op" id="7104231">,</span>&nbsp;<span class="ident" id="7104233">Output</span><span class="op" id="7104239">:</span>&nbsp;<span class="string" id="7104241">`&#34;&#34;&#34;abc&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7104253">+</span>&nbsp;<span class="string" id="7104255">&#34;\n&#34;</span><span class="op" id="7104259">}</span><span class="op" id="7104260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104263">{</span><span class="ident" id="7104264">Input</span><span class="op" id="7104269">:</span>&nbsp;<span class="op" id="7104271">[</span><span class="op" id="7104272">]</span><span class="op" id="7104273">[</span><span class="op" id="7104274">]</span><span class="builtintype" id="7104275">string</span><span class="op" id="7104281">{</span><span class="op" id="7104282">{</span><span class="string" id="7104283">`a&#34;b`</span><span class="op" id="7104288">}</span><span class="op" id="7104289">}</span><span class="op" id="7104290">,</span>&nbsp;<span class="ident" id="7104292">Output</span><span class="op" id="7104298">:</span>&nbsp;<span class="string" id="7104300">`&#34;a&#34;&#34;b&#34;`</span>&nbsp;<span class="op" id="7104309">+</span>&nbsp;<span class="string" id="7104311">&#34;\n&#34;</span><span class="op" id="7104315">}</span><span class="op" id="7104316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104319">{</span><span class="ident" id="7104320">Input</span><span class="op" id="7104325">:</span>&nbsp;<span class="op" id="7104327">[</span><span class="op" id="7104328">]</span><span class="op" id="7104329">[</span><span class="op" id="7104330">]</span><span class="builtintype" id="7104331">string</span><span class="op" id="7104337">{</span><span class="op" id="7104338">{</span><span class="string" id="7104339">`&#34;a&#34;b&#34;`</span><span class="op" id="7104346">}</span><span class="op" id="7104347">}</span><span class="op" id="7104348">,</span>&nbsp;<span class="ident" id="7104350">Output</span><span class="op" id="7104356">:</span>&nbsp;<span class="string" id="7104358">`&#34;&#34;&#34;a&#34;&#34;b&#34;&#34;&#34;`</span>&nbsp;<span class="op" id="7104371">+</span>&nbsp;<span class="string" id="7104373">&#34;\n&#34;</span><span class="op" id="7104377">}</span><span class="op" id="7104378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104381">{</span><span class="ident" id="7104382">Input</span><span class="op" id="7104387">:</span>&nbsp;<span class="op" id="7104389">[</span><span class="op" id="7104390">]</span><span class="op" id="7104391">[</span><span class="op" id="7104392">]</span><span class="builtintype" id="7104393">string</span><span class="op" id="7104399">{</span><span class="op" id="7104400">{</span><span class="string" id="7104401">&#34;&nbsp;abc&#34;</span><span class="op" id="7104407">}</span><span class="op" id="7104408">}</span><span class="op" id="7104409">,</span>&nbsp;<span class="ident" id="7104411">Output</span><span class="op" id="7104417">:</span>&nbsp;<span class="string" id="7104419">`&#34;&nbsp;abc&#34;`</span>&nbsp;<span class="op" id="7104428">+</span>&nbsp;<span class="string" id="7104430">&#34;\n&#34;</span><span class="op" id="7104434">}</span><span class="op" id="7104435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104438">{</span><span class="ident" id="7104439">Input</span><span class="op" id="7104444">:</span>&nbsp;<span class="op" id="7104446">[</span><span class="op" id="7104447">]</span><span class="op" id="7104448">[</span><span class="op" id="7104449">]</span><span class="builtintype" id="7104450">string</span><span class="op" id="7104456">{</span><span class="op" id="7104457">{</span><span class="string" id="7104458">&#34;abc,def&#34;</span><span class="op" id="7104467">}</span><span class="op" id="7104468">}</span><span class="op" id="7104469">,</span>&nbsp;<span class="ident" id="7104471">Output</span><span class="op" id="7104477">:</span>&nbsp;<span class="string" id="7104479">`&#34;abc,def&#34;`</span>&nbsp;<span class="op" id="7104491">+</span>&nbsp;<span class="string" id="7104493">&#34;\n&#34;</span><span class="op" id="7104497">}</span><span class="op" id="7104498">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104501">{</span><span class="ident" id="7104502">Input</span><span class="op" id="7104507">:</span>&nbsp;<span class="op" id="7104509">[</span><span class="op" id="7104510">]</span><span class="op" id="7104511">[</span><span class="op" id="7104512">]</span><span class="builtintype" id="7104513">string</span><span class="op" id="7104519">{</span><span class="op" id="7104520">{</span><span class="string" id="7104521">&#34;abc&#34;</span><span class="op" id="7104526">,</span>&nbsp;<span class="string" id="7104528">&#34;def&#34;</span><span class="op" id="7104533">}</span><span class="op" id="7104534">}</span><span class="op" id="7104535">,</span>&nbsp;<span class="ident" id="7104537">Output</span><span class="op" id="7104543">:</span>&nbsp;<span class="string" id="7104545">&#34;abc,def\n&#34;</span><span class="op" id="7104556">}</span><span class="op" id="7104557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104560">{</span><span class="ident" id="7104561">Input</span><span class="op" id="7104566">:</span>&nbsp;<span class="op" id="7104568">[</span><span class="op" id="7104569">]</span><span class="op" id="7104570">[</span><span class="op" id="7104571">]</span><span class="builtintype" id="7104572">string</span><span class="op" id="7104578">{</span><span class="op" id="7104579">{</span><span class="string" id="7104580">&#34;abc&#34;</span><span class="op" id="7104585">}</span><span class="op" id="7104586">,</span>&nbsp;<span class="op" id="7104588">{</span><span class="string" id="7104589">&#34;def&#34;</span><span class="op" id="7104594">}</span><span class="op" id="7104595">}</span><span class="op" id="7104596">,</span>&nbsp;<span class="ident" id="7104598">Output</span><span class="op" id="7104604">:</span>&nbsp;<span class="string" id="7104606">&#34;abc\ndef\n&#34;</span><span class="op" id="7104618">}</span><span class="op" id="7104619">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104622">{</span><span class="ident" id="7104623">Input</span><span class="op" id="7104628">:</span>&nbsp;<span class="op" id="7104630">[</span><span class="op" id="7104631">]</span><span class="op" id="7104632">[</span><span class="op" id="7104633">]</span><span class="builtintype" id="7104634">string</span><span class="op" id="7104640">{</span><span class="op" id="7104641">{</span><span class="string" id="7104642">&#34;abc\ndef&#34;</span><span class="op" id="7104652">}</span><span class="op" id="7104653">}</span><span class="op" id="7104654">,</span>&nbsp;<span class="ident" id="7104656">Output</span><span class="op" id="7104662">:</span>&nbsp;<span class="string" id="7104664">&#34;\&#34;abc\ndef\&#34;\n&#34;</span><span class="op" id="7104680">}</span><span class="op" id="7104681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104684">{</span><span class="ident" id="7104685">Input</span><span class="op" id="7104690">:</span>&nbsp;<span class="op" id="7104692">[</span><span class="op" id="7104693">]</span><span class="op" id="7104694">[</span><span class="op" id="7104695">]</span><span class="builtintype" id="7104696">string</span><span class="op" id="7104702">{</span><span class="op" id="7104703">{</span><span class="string" id="7104704">&#34;abc\ndef&#34;</span><span class="op" id="7104714">}</span><span class="op" id="7104715">}</span><span class="op" id="7104716">,</span>&nbsp;<span class="ident" id="7104718">Output</span><span class="op" id="7104724">:</span>&nbsp;<span class="string" id="7104726">&#34;\&#34;abc\r\ndef\&#34;\r\n&#34;</span><span class="op" id="7104746">,</span>&nbsp;<span class="ident" id="7104748">UseCRLF</span><span class="op" id="7104755">:</span>&nbsp;<span class="builtintype" id="7104757">true</span><span class="op" id="7104761">}</span><span class="op" id="7104762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104765">{</span><span class="ident" id="7104766">Input</span><span class="op" id="7104771">:</span>&nbsp;<span class="op" id="7104773">[</span><span class="op" id="7104774">]</span><span class="op" id="7104775">[</span><span class="op" id="7104776">]</span><span class="builtintype" id="7104777">string</span><span class="op" id="7104783">{</span><span class="op" id="7104784">{</span><span class="string" id="7104785">&#34;abc\rdef&#34;</span><span class="op" id="7104795">}</span><span class="op" id="7104796">}</span><span class="op" id="7104797">,</span>&nbsp;<span class="ident" id="7104799">Output</span><span class="op" id="7104805">:</span>&nbsp;<span class="string" id="7104807">&#34;\&#34;abcdef\&#34;\r\n&#34;</span><span class="op" id="7104823">,</span>&nbsp;<span class="ident" id="7104825">UseCRLF</span><span class="op" id="7104832">:</span>&nbsp;<span class="builtintype" id="7104834">true</span><span class="op" id="7104838">}</span><span class="op" id="7104839">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104842">{</span><span class="ident" id="7104843">Input</span><span class="op" id="7104848">:</span>&nbsp;<span class="op" id="7104850">[</span><span class="op" id="7104851">]</span><span class="op" id="7104852">[</span><span class="op" id="7104853">]</span><span class="builtintype" id="7104854">string</span><span class="op" id="7104860">{</span><span class="op" id="7104861">{</span><span class="string" id="7104862">&#34;abc\rdef&#34;</span><span class="op" id="7104872">}</span><span class="op" id="7104873">}</span><span class="op" id="7104874">,</span>&nbsp;<span class="ident" id="7104876">Output</span><span class="op" id="7104882">:</span>&nbsp;<span class="string" id="7104884">&#34;\&#34;abc\rdef\&#34;\n&#34;</span><span class="op" id="7104900">,</span>&nbsp;<span class="ident" id="7104902">UseCRLF</span><span class="op" id="7104909">:</span>&nbsp;<span class="builtintype" id="7104911">false</span><span class="op" id="7104916">}</span><span class="op" id="7104917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104920">{</span><span class="ident" id="7104921">Input</span><span class="op" id="7104926">:</span>&nbsp;<span class="op" id="7104928">[</span><span class="op" id="7104929">]</span><span class="op" id="7104930">[</span><span class="op" id="7104931">]</span><span class="builtintype" id="7104932">string</span><span class="op" id="7104938">{</span><span class="op" id="7104939">{</span><span class="string" id="7104940">&#34;&#34;</span><span class="op" id="7104942">}</span><span class="op" id="7104943">}</span><span class="op" id="7104944">,</span>&nbsp;<span class="ident" id="7104946">Output</span><span class="op" id="7104952">:</span>&nbsp;<span class="string" id="7104954">&#34;\n&#34;</span><span class="op" id="7104958">}</span><span class="op" id="7104959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7104962">{</span><span class="ident" id="7104963">Input</span><span class="op" id="7104968">:</span>&nbsp;<span class="op" id="7104970">[</span><span class="op" id="7104971">]</span><span class="op" id="7104972">[</span><span class="op" id="7104973">]</span><span class="builtintype" id="7104974">string</span><span class="op" id="7104980">{</span><span class="op" id="7104981">{</span><span class="string" id="7104982">&#34;&#34;</span><span class="op" id="7104984">,</span>&nbsp;<span class="string" id="7104986">&#34;&#34;</span><span class="op" id="7104988">}</span><span class="op" id="7104989">}</span><span class="op" id="7104990">,</span>&nbsp;<span class="ident" id="7104992">Output</span><span class="op" id="7104998">:</span>&nbsp;<span class="string" id="7105000">&#34;,\n&#34;</span><span class="op" id="7105005">}</span><span class="op" id="7105006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105009">{</span><span class="ident" id="7105010">Input</span><span class="op" id="7105015">:</span>&nbsp;<span class="op" id="7105017">[</span><span class="op" id="7105018">]</span><span class="op" id="7105019">[</span><span class="op" id="7105020">]</span><span class="builtintype" id="7105021">string</span><span class="op" id="7105027">{</span><span class="op" id="7105028">{</span><span class="string" id="7105029">&#34;&#34;</span><span class="op" id="7105031">,</span>&nbsp;<span class="string" id="7105033">&#34;&#34;</span><span class="op" id="7105035">,</span>&nbsp;<span class="string" id="7105037">&#34;&#34;</span><span class="op" id="7105039">}</span><span class="op" id="7105040">}</span><span class="op" id="7105041">,</span>&nbsp;<span class="ident" id="7105043">Output</span><span class="op" id="7105049">:</span>&nbsp;<span class="string" id="7105051">&#34;,,\n&#34;</span><span class="op" id="7105057">}</span><span class="op" id="7105058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105061">{</span><span class="ident" id="7105062">Input</span><span class="op" id="7105067">:</span>&nbsp;<span class="op" id="7105069">[</span><span class="op" id="7105070">]</span><span class="op" id="7105071">[</span><span class="op" id="7105072">]</span><span class="builtintype" id="7105073">string</span><span class="op" id="7105079">{</span><span class="op" id="7105080">{</span><span class="string" id="7105081">&#34;&#34;</span><span class="op" id="7105083">,</span>&nbsp;<span class="string" id="7105085">&#34;&#34;</span><span class="op" id="7105087">,</span>&nbsp;<span class="string" id="7105089">&#34;a&#34;</span><span class="op" id="7105092">}</span><span class="op" id="7105093">}</span><span class="op" id="7105094">,</span>&nbsp;<span class="ident" id="7105096">Output</span><span class="op" id="7105102">:</span>&nbsp;<span class="string" id="7105104">&#34;,,a\n&#34;</span><span class="op" id="7105111">}</span><span class="op" id="7105112">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105115">{</span><span class="ident" id="7105116">Input</span><span class="op" id="7105121">:</span>&nbsp;<span class="op" id="7105123">[</span><span class="op" id="7105124">]</span><span class="op" id="7105125">[</span><span class="op" id="7105126">]</span><span class="builtintype" id="7105127">string</span><span class="op" id="7105133">{</span><span class="op" id="7105134">{</span><span class="string" id="7105135">&#34;&#34;</span><span class="op" id="7105137">,</span>&nbsp;<span class="string" id="7105139">&#34;a&#34;</span><span class="op" id="7105142">,</span>&nbsp;<span class="string" id="7105144">&#34;&#34;</span><span class="op" id="7105146">}</span><span class="op" id="7105147">}</span><span class="op" id="7105148">,</span>&nbsp;<span class="ident" id="7105150">Output</span><span class="op" id="7105156">:</span>&nbsp;<span class="string" id="7105158">&#34;,a,\n&#34;</span><span class="op" id="7105165">}</span><span class="op" id="7105166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105169">{</span><span class="ident" id="7105170">Input</span><span class="op" id="7105175">:</span>&nbsp;<span class="op" id="7105177">[</span><span class="op" id="7105178">]</span><span class="op" id="7105179">[</span><span class="op" id="7105180">]</span><span class="builtintype" id="7105181">string</span><span class="op" id="7105187">{</span><span class="op" id="7105188">{</span><span class="string" id="7105189">&#34;&#34;</span><span class="op" id="7105191">,</span>&nbsp;<span class="string" id="7105193">&#34;a&#34;</span><span class="op" id="7105196">,</span>&nbsp;<span class="string" id="7105198">&#34;a&#34;</span><span class="op" id="7105201">}</span><span class="op" id="7105202">}</span><span class="op" id="7105203">,</span>&nbsp;<span class="ident" id="7105205">Output</span><span class="op" id="7105211">:</span>&nbsp;<span class="string" id="7105213">&#34;,a,a\n&#34;</span><span class="op" id="7105221">}</span><span class="op" id="7105222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105225">{</span><span class="ident" id="7105226">Input</span><span class="op" id="7105231">:</span>&nbsp;<span class="op" id="7105233">[</span><span class="op" id="7105234">]</span><span class="op" id="7105235">[</span><span class="op" id="7105236">]</span><span class="builtintype" id="7105237">string</span><span class="op" id="7105243">{</span><span class="op" id="7105244">{</span><span class="string" id="7105245">&#34;a&#34;</span><span class="op" id="7105248">,</span>&nbsp;<span class="string" id="7105250">&#34;&#34;</span><span class="op" id="7105252">,</span>&nbsp;<span class="string" id="7105254">&#34;&#34;</span><span class="op" id="7105256">}</span><span class="op" id="7105257">}</span><span class="op" id="7105258">,</span>&nbsp;<span class="ident" id="7105260">Output</span><span class="op" id="7105266">:</span>&nbsp;<span class="string" id="7105268">&#34;a,,\n&#34;</span><span class="op" id="7105275">}</span><span class="op" id="7105276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105279">{</span><span class="ident" id="7105280">Input</span><span class="op" id="7105285">:</span>&nbsp;<span class="op" id="7105287">[</span><span class="op" id="7105288">]</span><span class="op" id="7105289">[</span><span class="op" id="7105290">]</span><span class="builtintype" id="7105291">string</span><span class="op" id="7105297">{</span><span class="op" id="7105298">{</span><span class="string" id="7105299">&#34;a&#34;</span><span class="op" id="7105302">,</span>&nbsp;<span class="string" id="7105304">&#34;&#34;</span><span class="op" id="7105306">,</span>&nbsp;<span class="string" id="7105308">&#34;a&#34;</span><span class="op" id="7105311">}</span><span class="op" id="7105312">}</span><span class="op" id="7105313">,</span>&nbsp;<span class="ident" id="7105315">Output</span><span class="op" id="7105321">:</span>&nbsp;<span class="string" id="7105323">&#34;a,,a\n&#34;</span><span class="op" id="7105331">}</span><span class="op" id="7105332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105335">{</span><span class="ident" id="7105336">Input</span><span class="op" id="7105341">:</span>&nbsp;<span class="op" id="7105343">[</span><span class="op" id="7105344">]</span><span class="op" id="7105345">[</span><span class="op" id="7105346">]</span><span class="builtintype" id="7105347">string</span><span class="op" id="7105353">{</span><span class="op" id="7105354">{</span><span class="string" id="7105355">&#34;a&#34;</span><span class="op" id="7105358">,</span>&nbsp;<span class="string" id="7105360">&#34;a&#34;</span><span class="op" id="7105363">,</span>&nbsp;<span class="string" id="7105365">&#34;&#34;</span><span class="op" id="7105367">}</span><span class="op" id="7105368">}</span><span class="op" id="7105369">,</span>&nbsp;<span class="ident" id="7105371">Output</span><span class="op" id="7105377">:</span>&nbsp;<span class="string" id="7105379">&#34;a,a,\n&#34;</span><span class="op" id="7105387">}</span><span class="op" id="7105388">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105391">{</span><span class="ident" id="7105392">Input</span><span class="op" id="7105397">:</span>&nbsp;<span class="op" id="7105399">[</span><span class="op" id="7105400">]</span><span class="op" id="7105401">[</span><span class="op" id="7105402">]</span><span class="builtintype" id="7105403">string</span><span class="op" id="7105409">{</span><span class="op" id="7105410">{</span><span class="string" id="7105411">&#34;a&#34;</span><span class="op" id="7105414">,</span>&nbsp;<span class="string" id="7105416">&#34;a&#34;</span><span class="op" id="7105419">,</span>&nbsp;<span class="string" id="7105421">&#34;a&#34;</span><span class="op" id="7105424">}</span><span class="op" id="7105425">}</span><span class="op" id="7105426">,</span>&nbsp;<span class="ident" id="7105428">Output</span><span class="op" id="7105434">:</span>&nbsp;<span class="string" id="7105436">&#34;a,a,a\n&#34;</span><span class="op" id="7105445">}</span><span class="op" id="7105446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105449">{</span><span class="ident" id="7105450">Input</span><span class="op" id="7105455">:</span>&nbsp;<span class="op" id="7105457">[</span><span class="op" id="7105458">]</span><span class="op" id="7105459">[</span><span class="op" id="7105460">]</span><span class="builtintype" id="7105461">string</span><span class="op" id="7105467">{</span><span class="op" id="7105468">{</span><span class="string" id="7105469">`\.`</span><span class="op" id="7105473">}</span><span class="op" id="7105474">}</span><span class="op" id="7105475">,</span>&nbsp;<span class="ident" id="7105477">Output</span><span class="op" id="7105483">:</span>&nbsp;<span class="string" id="7105485">&#34;\&#34;\\.\&#34;\n&#34;</span><span class="op" id="7105496">}</span><span class="op" id="7105497">,</span><br>
<span class="lineno"></span><span class="op" id="7105499">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7105502">func</span>&nbsp;<span class="ident" id="7105507">TestWrite</span><span class="op" id="7105516">(</span><span class="ident" id="7105517">t</span>&nbsp;<span class="op" id="7105519">*</span><span class="ident" id="7105520">testing</span><span class="op" id="7105527">.</span><span class="ident" id="7105528">T</span><span class="op" id="7105529">)</span>&nbsp;<span class="op" id="7105531">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7105534">for</span>&nbsp;<span class="ident" id="7105538">n</span><span class="op" id="7105539">,</span>&nbsp;<span class="ident" id="7105541">tt</span>&nbsp;<span class="op" id="7105544">:=</span>&nbsp;<span class="keyword" id="7105547">range</span>&nbsp;<span class="ident" id="7105553">writeTests</span>&nbsp;<span class="op" id="7105564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105568">b</span>&nbsp;<span class="op" id="7105570">:=</span>&nbsp;<span class="op" id="7105573">&amp;</span><span class="ident" id="7105574">bytes</span><span class="op" id="7105579">.</span><span class="ident" id="7105580">Buffer</span><span class="op" id="7105586">{</span><span class="op" id="7105587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105591">f</span>&nbsp;<span class="op" id="7105593">:=</span>&nbsp;<span class="ident" id="7105596">NewWriter</span><span class="op" id="7105605">(</span><span class="ident" id="7105606">b</span><span class="op" id="7105607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105611">f</span><span class="op" id="7105612">.</span><span class="ident" id="7105613">UseCRLF</span>&nbsp;<span class="op" id="7105621">=</span>&nbsp;<span class="ident" id="7105623">tt</span><span class="op" id="7105625">.</span><span class="ident" id="7105626">UseCRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105636">err</span>&nbsp;<span class="op" id="7105640">:=</span>&nbsp;<span class="ident" id="7105643">f</span><span class="op" id="7105644">.</span><span class="ident" id="7105645">WriteAll</span><span class="op" id="7105653">(</span><span class="ident" id="7105654">tt</span><span class="op" id="7105656">.</span><span class="ident" id="7105657">Input</span><span class="op" id="7105662">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7105666">if</span>&nbsp;<span class="ident" id="7105669">err</span>&nbsp;<span class="op" id="7105673">!=</span>&nbsp;<span class="builtintype" id="7105676">nil</span>&nbsp;<span class="op" id="7105680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105685">t</span><span class="op" id="7105686">.</span><span class="ident" id="7105687">Errorf</span><span class="op" id="7105693">(</span><span class="string" id="7105694">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7105718">,</span>&nbsp;<span class="ident" id="7105720">err</span><span class="op" id="7105723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105731">out</span>&nbsp;<span class="op" id="7105735">:=</span>&nbsp;<span class="ident" id="7105738">b</span><span class="op" id="7105739">.</span><span class="ident" id="7105740">String</span><span class="op" id="7105746">(</span><span class="op" id="7105747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7105751">if</span>&nbsp;<span class="ident" id="7105754">out</span>&nbsp;<span class="op" id="7105758">!=</span>&nbsp;<span class="ident" id="7105761">tt</span><span class="op" id="7105763">.</span><span class="ident" id="7105764">Output</span>&nbsp;<span class="op" id="7105771">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105776">t</span><span class="op" id="7105777">.</span><span class="ident" id="7105778">Errorf</span><span class="op" id="7105784">(</span><span class="string" id="7105785">&#34;#%d:&nbsp;out=%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7105806">,</span>&nbsp;<span class="ident" id="7105808">n</span><span class="op" id="7105809">,</span>&nbsp;<span class="ident" id="7105811">out</span><span class="op" id="7105814">,</span>&nbsp;<span class="ident" id="7105816">tt</span><span class="op" id="7105818">.</span><span class="ident" id="7105819">Output</span><span class="op" id="7105825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7105832">}</span><br>
<span class="lineno"></span><span class="op" id="7105834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7105837">type</span>&nbsp;<span class="ident" id="7105842">errorWriter</span>&nbsp;<span class="keyword" id="7105854">struct</span><span class="op" id="7105860">{</span><span class="op" id="7105861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7105864">func</span>&nbsp;<span class="op" id="7105869">(</span><span class="ident" id="7105870">e</span>&nbsp;<span class="ident" id="7105872">errorWriter</span><span class="op" id="7105883">)</span>&nbsp;<span class="ident" id="7105885">Write</span><span class="op" id="7105890">(</span><span class="ident" id="7105891">b</span>&nbsp;<span class="op" id="7105893">[</span><span class="op" id="7105894">]</span><span class="builtintype" id="7105895">byte</span><span class="op" id="7105899">)</span>&nbsp;<span class="op" id="7105901">(</span><span class="builtintype" id="7105902">int</span><span class="op" id="7105905">,</span>&nbsp;<span class="builtintype" id="7105907">error</span><span class="op" id="7105912">)</span>&nbsp;<span class="op" id="7105914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7105917">return</span>&nbsp;<span class="num" id="7105924">0</span><span class="op" id="7105925">,</span>&nbsp;<span class="ident" id="7105927">errors</span><span class="op" id="7105933">.</span><span class="ident" id="7105934">New</span><span class="op" id="7105937">(</span><span class="string" id="7105938">&#34;Test&#34;</span><span class="op" id="7105944">)</span><br>
<span class="lineno"></span><span class="op" id="7105946">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7105949">func</span>&nbsp;<span class="ident" id="7105954">TestError</span><span class="op" id="7105963">(</span><span class="ident" id="7105964">t</span>&nbsp;<span class="op" id="7105966">*</span><span class="ident" id="7105967">testing</span><span class="op" id="7105974">.</span><span class="ident" id="7105975">T</span><span class="op" id="7105976">)</span>&nbsp;<span class="op" id="7105978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7105981">b</span>&nbsp;<span class="op" id="7105983">:=</span>&nbsp;<span class="op" id="7105986">&amp;</span><span class="ident" id="7105987">bytes</span><span class="op" id="7105992">.</span><span class="ident" id="7105993">Buffer</span><span class="op" id="7105999">{</span><span class="op" id="7106000">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106003">f</span>&nbsp;<span class="op" id="7106005">:=</span>&nbsp;<span class="ident" id="7106008">NewWriter</span><span class="op" id="7106017">(</span><span class="ident" id="7106018">b</span><span class="op" id="7106019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106022">f</span><span class="op" id="7106023">.</span><span class="ident" id="7106024">Write</span><span class="op" id="7106029">(</span><span class="op" id="7106030">[</span><span class="op" id="7106031">]</span><span class="builtintype" id="7106032">string</span><span class="op" id="7106038">{</span><span class="string" id="7106039">&#34;abc&#34;</span><span class="op" id="7106044">}</span><span class="op" id="7106045">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106048">f</span><span class="op" id="7106049">.</span><span class="ident" id="7106050">Flush</span><span class="op" id="7106055">(</span><span class="op" id="7106056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106059">err</span>&nbsp;<span class="op" id="7106063">:=</span>&nbsp;<span class="ident" id="7106066">f</span><span class="op" id="7106067">.</span><span class="ident" id="7106068">Error</span><span class="op" id="7106073">(</span><span class="op" id="7106074">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7106078">if</span>&nbsp;<span class="ident" id="7106081">err</span>&nbsp;<span class="op" id="7106085">!=</span>&nbsp;<span class="builtintype" id="7106088">nil</span>&nbsp;<span class="op" id="7106092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106096">t</span><span class="op" id="7106097">.</span><span class="ident" id="7106098">Errorf</span><span class="op" id="7106104">(</span><span class="string" id="7106105">&#34;Unexpected&nbsp;error:&nbsp;%s\n&#34;</span><span class="op" id="7106129">,</span>&nbsp;<span class="ident" id="7106131">err</span><span class="op" id="7106134">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7106137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106141">f</span>&nbsp;<span class="op" id="7106143">=</span>&nbsp;<span class="ident" id="7106145">NewWriter</span><span class="op" id="7106154">(</span><span class="ident" id="7106155">errorWriter</span><span class="op" id="7106166">{</span><span class="op" id="7106167">}</span><span class="op" id="7106168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106171">f</span><span class="op" id="7106172">.</span><span class="ident" id="7106173">Write</span><span class="op" id="7106178">(</span><span class="op" id="7106179">[</span><span class="op" id="7106180">]</span><span class="builtintype" id="7106181">string</span><span class="op" id="7106187">{</span><span class="string" id="7106188">&#34;abc&#34;</span><span class="op" id="7106193">}</span><span class="op" id="7106194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106197">f</span><span class="op" id="7106198">.</span><span class="ident" id="7106199">Flush</span><span class="op" id="7106204">(</span><span class="op" id="7106205">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106208">err</span>&nbsp;<span class="op" id="7106212">=</span>&nbsp;<span class="ident" id="7106214">f</span><span class="op" id="7106215">.</span><span class="ident" id="7106216">Error</span><span class="op" id="7106221">(</span><span class="op" id="7106222">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7106226">if</span>&nbsp;<span class="ident" id="7106229">err</span>&nbsp;<span class="op" id="7106233">==</span>&nbsp;<span class="builtintype" id="7106236">nil</span>&nbsp;<span class="op" id="7106240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7106244">t</span><span class="op" id="7106245">.</span><span class="ident" id="7106246">Error</span><span class="op" id="7106251">(</span><span class="string" id="7106252">&#34;Error&nbsp;should&nbsp;not&nbsp;be&nbsp;nil&#34;</span><span class="op" id="7106277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7106280">}</span><br>
<span class="lineno">85</span><span class="op" id="7106282">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
