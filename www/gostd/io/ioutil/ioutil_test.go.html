<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6888983">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6889038">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6889092">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6889143">package</span>&nbsp;<span class="ident" id="6889151">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889159">import</span>&nbsp;<span class="op" id="6889166">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6889169">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6889175">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6889185">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889188">func</span>&nbsp;<span class="ident" id="6889193">checkSize</span><span class="op" id="6889202">(</span><span class="ident" id="6889203">t</span>&nbsp;<span class="op" id="6889205">*</span><span class="ident" id="6889206">testing</span><span class="op" id="6889213">.</span><span class="ident" id="6889214">T</span><span class="op" id="6889215">,</span>&nbsp;<span class="ident" id="6889217">path</span>&nbsp;<span class="builtintype" id="6889222">string</span><span class="op" id="6889228">,</span>&nbsp;<span class="ident" id="6889230">size</span>&nbsp;<span class="ident" id="6889235">int64</span><span class="op" id="6889240">)</span>&nbsp;<span class="op" id="6889242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889245">dir</span><span class="op" id="6889248">,</span>&nbsp;<span class="ident" id="6889250">err</span>&nbsp;<span class="op" id="6889254">:=</span>&nbsp;<span class="ident" id="6889257">os</span><span class="op" id="6889259">.</span><span class="ident" id="6889260">Stat</span><span class="op" id="6889264">(</span><span class="ident" id="6889265">path</span><span class="op" id="6889269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889272">if</span>&nbsp;<span class="ident" id="6889275">err</span>&nbsp;<span class="op" id="6889279">!=</span>&nbsp;<span class="ident" id="6889282">nil</span>&nbsp;<span class="op" id="6889286">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889290">t</span><span class="op" id="6889291">.</span><span class="ident" id="6889292">Fatalf</span><span class="op" id="6889298">(</span><span class="string" id="6889299">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="6889334">,</span>&nbsp;<span class="ident" id="6889336">path</span><span class="op" id="6889340">,</span>&nbsp;<span class="ident" id="6889342">size</span><span class="op" id="6889346">,</span>&nbsp;<span class="ident" id="6889348">err</span><span class="op" id="6889351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889357">if</span>&nbsp;<span class="ident" id="6889360">dir</span><span class="op" id="6889363">.</span><span class="ident" id="6889364">Size</span><span class="op" id="6889368">(</span><span class="op" id="6889369">)</span>&nbsp;<span class="op" id="6889371">!=</span>&nbsp;<span class="ident" id="6889374">size</span>&nbsp;<span class="op" id="6889379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889383">t</span><span class="op" id="6889384">.</span><span class="ident" id="6889385">Errorf</span><span class="op" id="6889391">(</span><span class="string" id="6889392">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6889418">,</span>&nbsp;<span class="ident" id="6889420">path</span><span class="op" id="6889424">,</span>&nbsp;<span class="ident" id="6889426">dir</span><span class="op" id="6889429">.</span><span class="ident" id="6889430">Size</span><span class="op" id="6889434">(</span><span class="op" id="6889435">)</span><span class="op" id="6889436">,</span>&nbsp;<span class="ident" id="6889438">size</span><span class="op" id="6889442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889445">}</span><br>
<span class="lineno">20</span><span class="op" id="6889447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889450">func</span>&nbsp;<span class="ident" id="6889455">TestReadFile</span><span class="op" id="6889467">(</span><span class="ident" id="6889468">t</span>&nbsp;<span class="op" id="6889470">*</span><span class="ident" id="6889471">testing</span><span class="op" id="6889478">.</span><span class="ident" id="6889479">T</span><span class="op" id="6889480">)</span>&nbsp;<span class="op" id="6889482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889485">filename</span>&nbsp;<span class="op" id="6889494">:=</span>&nbsp;<span class="string" id="6889497">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889516">contents</span><span class="op" id="6889524">,</span>&nbsp;<span class="ident" id="6889526">err</span>&nbsp;<span class="op" id="6889530">:=</span>&nbsp;<span class="ident" id="6889533">ReadFile</span><span class="op" id="6889541">(</span><span class="ident" id="6889542">filename</span><span class="op" id="6889550">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889553">if</span>&nbsp;<span class="ident" id="6889556">err</span>&nbsp;<span class="op" id="6889560">==</span>&nbsp;<span class="ident" id="6889563">nil</span>&nbsp;<span class="op" id="6889567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889571">t</span><span class="op" id="6889572">.</span><span class="ident" id="6889573">Fatalf</span><span class="op" id="6889579">(</span><span class="string" id="6889580">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="6889621">,</span>&nbsp;<span class="ident" id="6889623">filename</span><span class="op" id="6889631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889638">filename</span>&nbsp;<span class="op" id="6889647">=</span>&nbsp;<span class="string" id="6889649">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889667">contents</span><span class="op" id="6889675">,</span>&nbsp;<span class="ident" id="6889677">err</span>&nbsp;<span class="op" id="6889681">=</span>&nbsp;<span class="ident" id="6889683">ReadFile</span><span class="op" id="6889691">(</span><span class="ident" id="6889692">filename</span><span class="op" id="6889700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889703">if</span>&nbsp;<span class="ident" id="6889706">err</span>&nbsp;<span class="op" id="6889710">!=</span>&nbsp;<span class="ident" id="6889713">nil</span>&nbsp;<span class="op" id="6889717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889721">t</span><span class="op" id="6889722">.</span><span class="ident" id="6889723">Fatalf</span><span class="op" id="6889729">(</span><span class="string" id="6889730">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6889747">,</span>&nbsp;<span class="ident" id="6889749">filename</span><span class="op" id="6889757">,</span>&nbsp;<span class="ident" id="6889759">err</span><span class="op" id="6889762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889769">checkSize</span><span class="op" id="6889778">(</span><span class="ident" id="6889779">t</span><span class="op" id="6889780">,</span>&nbsp;<span class="ident" id="6889782">filename</span><span class="op" id="6889790">,</span>&nbsp;<span class="ident" id="6889792">int64</span><span class="op" id="6889797">(</span><span class="builtinfunc" id="6889798">len</span><span class="op" id="6889801">(</span><span class="ident" id="6889802">contents</span><span class="op" id="6889810">)</span><span class="op" id="6889811">)</span><span class="op" id="6889812">)</span><br>
<span class="lineno"></span><span class="op" id="6889814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6889817">func</span>&nbsp;<span class="ident" id="6889822">TestWriteFile</span><span class="op" id="6889835">(</span><span class="ident" id="6889836">t</span>&nbsp;<span class="op" id="6889838">*</span><span class="ident" id="6889839">testing</span><span class="op" id="6889846">.</span><span class="ident" id="6889847">T</span><span class="op" id="6889848">)</span>&nbsp;<span class="op" id="6889850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889853">f</span><span class="op" id="6889854">,</span>&nbsp;<span class="ident" id="6889856">err</span>&nbsp;<span class="op" id="6889860">:=</span>&nbsp;<span class="ident" id="6889863">TempFile</span><span class="op" id="6889871">(</span><span class="string" id="6889872">&#34;&#34;</span><span class="op" id="6889874">,</span>&nbsp;<span class="string" id="6889876">&#34;ioutil-test&#34;</span><span class="op" id="6889889">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6889892">if</span>&nbsp;<span class="ident" id="6889895">err</span>&nbsp;<span class="op" id="6889899">!=</span>&nbsp;<span class="ident" id="6889902">nil</span>&nbsp;<span class="op" id="6889906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889910">t</span><span class="op" id="6889911">.</span><span class="ident" id="6889912">Fatal</span><span class="op" id="6889917">(</span><span class="ident" id="6889918">err</span><span class="op" id="6889921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6889924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889927">filename</span>&nbsp;<span class="op" id="6889936">:=</span>&nbsp;<span class="ident" id="6889939">f</span><span class="op" id="6889940">.</span><span class="ident" id="6889941">Name</span><span class="op" id="6889945">(</span><span class="op" id="6889946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6889949">data</span>&nbsp;<span class="op" id="6889954">:=</span>&nbsp;<span class="string" id="6889957">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="6890027">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6890031">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="6890104">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6890108">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890182">if</span>&nbsp;<span class="ident" id="6890185">err</span>&nbsp;<span class="op" id="6890189">:=</span>&nbsp;<span class="ident" id="6890192">WriteFile</span><span class="op" id="6890201">(</span><span class="ident" id="6890202">filename</span><span class="op" id="6890210">,</span>&nbsp;<span class="op" id="6890212">[</span><span class="op" id="6890213">]</span><span class="builtintype" id="6890214">byte</span><span class="op" id="6890218">(</span><span class="ident" id="6890219">data</span><span class="op" id="6890223">)</span><span class="op" id="6890224">,</span>&nbsp;<span class="num" id="6890226">0644</span><span class="op" id="6890230">)</span><span class="op" id="6890231">;</span>&nbsp;<span class="ident" id="6890233">err</span>&nbsp;<span class="op" id="6890237">!=</span>&nbsp;<span class="ident" id="6890240">nil</span>&nbsp;<span class="op" id="6890244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890248">t</span><span class="op" id="6890249">.</span><span class="ident" id="6890250">Fatalf</span><span class="op" id="6890256">(</span><span class="string" id="6890257">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6890275">,</span>&nbsp;<span class="ident" id="6890277">filename</span><span class="op" id="6890285">,</span>&nbsp;<span class="ident" id="6890287">err</span><span class="op" id="6890290">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890297">contents</span><span class="op" id="6890305">,</span>&nbsp;<span class="ident" id="6890307">err</span>&nbsp;<span class="op" id="6890311">:=</span>&nbsp;<span class="ident" id="6890314">ReadFile</span><span class="op" id="6890322">(</span><span class="ident" id="6890323">filename</span><span class="op" id="6890331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890334">if</span>&nbsp;<span class="ident" id="6890337">err</span>&nbsp;<span class="op" id="6890341">!=</span>&nbsp;<span class="ident" id="6890344">nil</span>&nbsp;<span class="op" id="6890348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890352">t</span><span class="op" id="6890353">.</span><span class="ident" id="6890354">Fatalf</span><span class="op" id="6890360">(</span><span class="string" id="6890361">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6890378">,</span>&nbsp;<span class="ident" id="6890380">filename</span><span class="op" id="6890388">,</span>&nbsp;<span class="ident" id="6890390">err</span><span class="op" id="6890393">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890400">if</span>&nbsp;<span class="builtintype" id="6890403">string</span><span class="op" id="6890409">(</span><span class="ident" id="6890410">contents</span><span class="op" id="6890418">)</span>&nbsp;<span class="op" id="6890420">!=</span>&nbsp;<span class="ident" id="6890423">data</span>&nbsp;<span class="op" id="6890428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890432">t</span><span class="op" id="6890433">.</span><span class="ident" id="6890434">Fatalf</span><span class="op" id="6890440">(</span><span class="string" id="6890441">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="6890471">,</span>&nbsp;<span class="builtintype" id="6890473">string</span><span class="op" id="6890479">(</span><span class="ident" id="6890480">contents</span><span class="op" id="6890488">)</span><span class="op" id="6890489">,</span>&nbsp;<span class="ident" id="6890491">data</span><span class="op" id="6890495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890498">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6890502">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890514">f</span><span class="op" id="6890515">.</span><span class="ident" id="6890516">Close</span><span class="op" id="6890521">(</span><span class="op" id="6890522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890525">os</span><span class="op" id="6890527">.</span><span class="ident" id="6890528">Remove</span><span class="op" id="6890534">(</span><span class="ident" id="6890535">filename</span><span class="op" id="6890543">)</span>&nbsp;<span class="comment" id="6890545">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="6890561">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6890564">func</span>&nbsp;<span class="ident" id="6890569">TestReadDir</span><span class="op" id="6890580">(</span><span class="ident" id="6890581">t</span>&nbsp;<span class="op" id="6890583">*</span><span class="ident" id="6890584">testing</span><span class="op" id="6890591">.</span><span class="ident" id="6890592">T</span><span class="op" id="6890593">)</span>&nbsp;<span class="op" id="6890595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890598">dirname</span>&nbsp;<span class="op" id="6890606">:=</span>&nbsp;<span class="string" id="6890609">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890628">_</span><span class="op" id="6890629">,</span>&nbsp;<span class="ident" id="6890631">err</span>&nbsp;<span class="op" id="6890635">:=</span>&nbsp;<span class="ident" id="6890638">ReadDir</span><span class="op" id="6890645">(</span><span class="ident" id="6890646">dirname</span><span class="op" id="6890653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890656">if</span>&nbsp;<span class="ident" id="6890659">err</span>&nbsp;<span class="op" id="6890663">==</span>&nbsp;<span class="ident" id="6890666">nil</span>&nbsp;<span class="op" id="6890670">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890674">t</span><span class="op" id="6890675">.</span><span class="ident" id="6890676">Fatalf</span><span class="op" id="6890682">(</span><span class="string" id="6890683">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="6890723">,</span>&nbsp;<span class="ident" id="6890725">dirname</span><span class="op" id="6890732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890739">dirname</span>&nbsp;<span class="op" id="6890747">=</span>&nbsp;<span class="string" id="6890749">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890755">list</span><span class="op" id="6890759">,</span>&nbsp;<span class="ident" id="6890761">err</span>&nbsp;<span class="op" id="6890765">:=</span>&nbsp;<span class="ident" id="6890768">ReadDir</span><span class="op" id="6890775">(</span><span class="ident" id="6890776">dirname</span><span class="op" id="6890783">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890786">if</span>&nbsp;<span class="ident" id="6890789">err</span>&nbsp;<span class="op" id="6890793">!=</span>&nbsp;<span class="ident" id="6890796">nil</span>&nbsp;<span class="op" id="6890800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890804">t</span><span class="op" id="6890805">.</span><span class="ident" id="6890806">Fatalf</span><span class="op" id="6890812">(</span><span class="string" id="6890813">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="6890829">,</span>&nbsp;<span class="ident" id="6890831">dirname</span><span class="op" id="6890838">,</span>&nbsp;<span class="ident" id="6890840">err</span><span class="op" id="6890843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6890846">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890850">foundFile</span>&nbsp;<span class="op" id="6890860">:=</span>&nbsp;<span class="builtintype" id="6890863">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890870">foundSubDir</span>&nbsp;<span class="op" id="6890882">:=</span>&nbsp;<span class="builtintype" id="6890885">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890892">for</span>&nbsp;<span class="ident" id="6890896">_</span><span class="op" id="6890897">,</span>&nbsp;<span class="ident" id="6890899">dir</span>&nbsp;<span class="op" id="6890903">:=</span>&nbsp;<span class="keyword" id="6890906">range</span>&nbsp;<span class="ident" id="6890912">list</span>&nbsp;<span class="op" id="6890917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890921">switch</span>&nbsp;<span class="op" id="6890928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6890932">case</span>&nbsp;<span class="op" id="6890937">!</span><span class="ident" id="6890938">dir</span><span class="op" id="6890941">.</span><span class="ident" id="6890942">IsDir</span><span class="op" id="6890947">(</span><span class="op" id="6890948">)</span>&nbsp;<span class="op" id="6890950">&amp;&amp;</span>&nbsp;<span class="ident" id="6890953">dir</span><span class="op" id="6890956">.</span><span class="ident" id="6890957">Name</span><span class="op" id="6890961">(</span><span class="op" id="6890962">)</span>&nbsp;<span class="op" id="6890964">==</span>&nbsp;<span class="string" id="6890967">&#34;io_test.go&#34;</span><span class="op" id="6890979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6890984">foundFile</span>&nbsp;<span class="op" id="6890994">=</span>&nbsp;<span class="builtintype" id="6890996">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891003">case</span>&nbsp;<span class="ident" id="6891008">dir</span><span class="op" id="6891011">.</span><span class="ident" id="6891012">IsDir</span><span class="op" id="6891017">(</span><span class="op" id="6891018">)</span>&nbsp;<span class="op" id="6891020">&amp;&amp;</span>&nbsp;<span class="ident" id="6891023">dir</span><span class="op" id="6891026">.</span><span class="ident" id="6891027">Name</span><span class="op" id="6891031">(</span><span class="op" id="6891032">)</span>&nbsp;<span class="op" id="6891034">==</span>&nbsp;<span class="string" id="6891037">&#34;ioutil&#34;</span><span class="op" id="6891045">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891050">foundSubDir</span>&nbsp;<span class="op" id="6891062">=</span>&nbsp;<span class="builtintype" id="6891064">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891077">if</span>&nbsp;<span class="op" id="6891080">!</span><span class="ident" id="6891081">foundFile</span>&nbsp;<span class="op" id="6891091">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891095">t</span><span class="op" id="6891096">.</span><span class="ident" id="6891097">Fatalf</span><span class="op" id="6891103">(</span><span class="string" id="6891104">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="6891143">,</span>&nbsp;<span class="ident" id="6891145">dirname</span><span class="op" id="6891152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6891158">if</span>&nbsp;<span class="op" id="6891161">!</span><span class="ident" id="6891162">foundSubDir</span>&nbsp;<span class="op" id="6891174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6891178">t</span><span class="op" id="6891179">.</span><span class="ident" id="6891180">Fatalf</span><span class="op" id="6891186">(</span><span class="string" id="6891187">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="6891227">,</span>&nbsp;<span class="ident" id="6891229">dirname</span><span class="op" id="6891236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6891239">}</span><br>
<span class="lineno">95</span><span class="op" id="6891241">}</span>
</div>
</body>
</html>
