<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html" class="current">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7187903">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7187959">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7188013">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7188064">package</span>&nbsp;<span class="ident" id="7188072">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7188080">import</span>&nbsp;<span class="string" id="7188087">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7188098">var</span>&nbsp;<span class="ident" id="7188102">simplifyTests</span>&nbsp;<span class="op" id="7188116">=</span>&nbsp;<span class="op" id="7188118">[</span><span class="op" id="7188119">]</span><span class="keyword" id="7188120">struct</span>&nbsp;<span class="op" id="7188127">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188130">Regexp</span>&nbsp;<span class="builtintype" id="7188137">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7188145">Simple</span>&nbsp;<span class="builtintype" id="7188152">string</span><br>
<span class="lineno"></span><span class="op" id="7188159">}</span><span class="op" id="7188160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7188163">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188193">{</span><span class="string" id="7188194">`a`</span><span class="op" id="7188197">,</span>&nbsp;<span class="string" id="7188199">`a`</span><span class="op" id="7188202">}</span><span class="op" id="7188203">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188206">{</span><span class="string" id="7188207">`ab`</span><span class="op" id="7188211">,</span>&nbsp;<span class="string" id="7188213">`ab`</span><span class="op" id="7188217">}</span><span class="op" id="7188218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188221">{</span><span class="string" id="7188222">`a|b`</span><span class="op" id="7188227">,</span>&nbsp;<span class="string" id="7188229">`[a-b]`</span><span class="op" id="7188236">}</span><span class="op" id="7188237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188240">{</span><span class="string" id="7188241">`ab|cd`</span><span class="op" id="7188248">,</span>&nbsp;<span class="string" id="7188250">`ab|cd`</span><span class="op" id="7188257">}</span><span class="op" id="7188258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188261">{</span><span class="string" id="7188262">`(ab)*`</span><span class="op" id="7188269">,</span>&nbsp;<span class="string" id="7188271">`(ab)*`</span><span class="op" id="7188278">}</span><span class="op" id="7188279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188282">{</span><span class="string" id="7188283">`(ab)+`</span><span class="op" id="7188290">,</span>&nbsp;<span class="string" id="7188292">`(ab)+`</span><span class="op" id="7188299">}</span><span class="op" id="7188300">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188303">{</span><span class="string" id="7188304">`(ab)?`</span><span class="op" id="7188311">,</span>&nbsp;<span class="string" id="7188313">`(ab)?`</span><span class="op" id="7188320">}</span><span class="op" id="7188321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188324">{</span><span class="string" id="7188325">`.`</span><span class="op" id="7188328">,</span>&nbsp;<span class="string" id="7188330">`(?s:.)`</span><span class="op" id="7188338">}</span><span class="op" id="7188339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188342">{</span><span class="string" id="7188343">`^`</span><span class="op" id="7188346">,</span>&nbsp;<span class="string" id="7188348">`^`</span><span class="op" id="7188351">}</span><span class="op" id="7188352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188355">{</span><span class="string" id="7188356">`$`</span><span class="op" id="7188359">,</span>&nbsp;<span class="string" id="7188361">`$`</span><span class="op" id="7188364">}</span><span class="op" id="7188365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188368">{</span><span class="string" id="7188369">`[ac]`</span><span class="op" id="7188375">,</span>&nbsp;<span class="string" id="7188377">`[ac]`</span><span class="op" id="7188383">}</span><span class="op" id="7188384">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188387">{</span><span class="string" id="7188388">`[^ac]`</span><span class="op" id="7188395">,</span>&nbsp;<span class="string" id="7188397">`[^ac]`</span><span class="op" id="7188404">}</span><span class="op" id="7188405">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7188409">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188437">{</span><span class="string" id="7188438">`[[:alnum:]]`</span><span class="op" id="7188451">,</span>&nbsp;<span class="string" id="7188453">`[0-9A-Za-z]`</span><span class="op" id="7188466">}</span><span class="op" id="7188467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188470">{</span><span class="string" id="7188471">`[[:alpha:]]`</span><span class="op" id="7188484">,</span>&nbsp;<span class="string" id="7188486">`[A-Za-z]`</span><span class="op" id="7188496">}</span><span class="op" id="7188497">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188500">{</span><span class="string" id="7188501">`[[:blank:]]`</span><span class="op" id="7188514">,</span>&nbsp;<span class="string" id="7188516">`[\t&nbsp;]`</span><span class="op" id="7188523">}</span><span class="op" id="7188524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188527">{</span><span class="string" id="7188528">`[[:cntrl:]]`</span><span class="op" id="7188541">,</span>&nbsp;<span class="string" id="7188543">`[\x00-\x1f\x7f]`</span><span class="op" id="7188560">}</span><span class="op" id="7188561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188564">{</span><span class="string" id="7188565">`[[:digit:]]`</span><span class="op" id="7188578">,</span>&nbsp;<span class="string" id="7188580">`[0-9]`</span><span class="op" id="7188587">}</span><span class="op" id="7188588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188591">{</span><span class="string" id="7188592">`[[:graph:]]`</span><span class="op" id="7188605">,</span>&nbsp;<span class="string" id="7188607">`[!-~]`</span><span class="op" id="7188614">}</span><span class="op" id="7188615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188618">{</span><span class="string" id="7188619">`[[:lower:]]`</span><span class="op" id="7188632">,</span>&nbsp;<span class="string" id="7188634">`[a-z]`</span><span class="op" id="7188641">}</span><span class="op" id="7188642">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188645">{</span><span class="string" id="7188646">`[[:print:]]`</span><span class="op" id="7188659">,</span>&nbsp;<span class="string" id="7188661">`[&nbsp;-~]`</span><span class="op" id="7188668">}</span><span class="op" id="7188669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188672">{</span><span class="string" id="7188673">`[[:punct:]]`</span><span class="op" id="7188686">,</span>&nbsp;<span class="string" id="7188688">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7188708">}</span><span class="op" id="7188709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188712">{</span><span class="string" id="7188713">`[[:space:]]`</span><span class="op" id="7188726">,</span>&nbsp;<span class="string" id="7188728">`[\t-\r&nbsp;]`</span><span class="op" id="7188738">}</span><span class="op" id="7188739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188742">{</span><span class="string" id="7188743">`[[:upper:]]`</span><span class="op" id="7188756">,</span>&nbsp;<span class="string" id="7188758">`[A-Z]`</span><span class="op" id="7188765">}</span><span class="op" id="7188766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188769">{</span><span class="string" id="7188770">`[[:xdigit:]]`</span><span class="op" id="7188784">,</span>&nbsp;<span class="string" id="7188786">`[0-9A-Fa-f]`</span><span class="op" id="7188799">}</span><span class="op" id="7188800">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7188804">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188831">{</span><span class="string" id="7188832">`\d`</span><span class="op" id="7188836">,</span>&nbsp;<span class="string" id="7188838">`[0-9]`</span><span class="op" id="7188845">}</span><span class="op" id="7188846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188849">{</span><span class="string" id="7188850">`\s`</span><span class="op" id="7188854">,</span>&nbsp;<span class="string" id="7188856">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7188871">}</span><span class="op" id="7188872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188875">{</span><span class="string" id="7188876">`\w`</span><span class="op" id="7188880">,</span>&nbsp;<span class="string" id="7188882">`[0-9A-Z_a-z]`</span><span class="op" id="7188896">}</span><span class="op" id="7188897">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188900">{</span><span class="string" id="7188901">`\D`</span><span class="op" id="7188905">,</span>&nbsp;<span class="string" id="7188907">`[^0-9]`</span><span class="op" id="7188915">}</span><span class="op" id="7188916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188919">{</span><span class="string" id="7188920">`\S`</span><span class="op" id="7188924">,</span>&nbsp;<span class="string" id="7188926">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7188942">}</span><span class="op" id="7188943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188946">{</span><span class="string" id="7188947">`\W`</span><span class="op" id="7188951">,</span>&nbsp;<span class="string" id="7188953">`[^0-9A-Z_a-z]`</span><span class="op" id="7188968">}</span><span class="op" id="7188969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188972">{</span><span class="string" id="7188973">`[\d]`</span><span class="op" id="7188979">,</span>&nbsp;<span class="string" id="7188981">`[0-9]`</span><span class="op" id="7188988">}</span><span class="op" id="7188989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7188992">{</span><span class="string" id="7188993">`[\s]`</span><span class="op" id="7188999">,</span>&nbsp;<span class="string" id="7189001">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7189016">}</span><span class="op" id="7189017">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189020">{</span><span class="string" id="7189021">`[\w]`</span><span class="op" id="7189027">,</span>&nbsp;<span class="string" id="7189029">`[0-9A-Z_a-z]`</span><span class="op" id="7189043">}</span><span class="op" id="7189044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189047">{</span><span class="string" id="7189048">`[\D]`</span><span class="op" id="7189054">,</span>&nbsp;<span class="string" id="7189056">`[^0-9]`</span><span class="op" id="7189064">}</span><span class="op" id="7189065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189068">{</span><span class="string" id="7189069">`[\S]`</span><span class="op" id="7189075">,</span>&nbsp;<span class="string" id="7189077">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7189093">}</span><span class="op" id="7189094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189097">{</span><span class="string" id="7189098">`[\W]`</span><span class="op" id="7189104">,</span>&nbsp;<span class="string" id="7189106">`[^0-9A-Z_a-z]`</span><span class="op" id="7189121">}</span><span class="op" id="7189122">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189126">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189148">{</span><span class="string" id="7189149">`a{1}`</span><span class="op" id="7189155">,</span>&nbsp;<span class="string" id="7189157">`a`</span><span class="op" id="7189160">}</span><span class="op" id="7189161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189164">{</span><span class="string" id="7189165">`a{2}`</span><span class="op" id="7189171">,</span>&nbsp;<span class="string" id="7189173">`aa`</span><span class="op" id="7189177">}</span><span class="op" id="7189178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189181">{</span><span class="string" id="7189182">`a{5}`</span><span class="op" id="7189188">,</span>&nbsp;<span class="string" id="7189190">`aaaaa`</span><span class="op" id="7189197">}</span><span class="op" id="7189198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189201">{</span><span class="string" id="7189202">`a{0,1}`</span><span class="op" id="7189210">,</span>&nbsp;<span class="string" id="7189212">`a?`</span><span class="op" id="7189216">}</span><span class="op" id="7189217">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189220">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189283">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189339">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189416">{</span><span class="string" id="7189417">`(a){0,2}`</span><span class="op" id="7189427">,</span>&nbsp;<span class="string" id="7189429">`(?:(a)(a)?)?`</span><span class="op" id="7189443">}</span><span class="op" id="7189444">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189468">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189485">{</span><span class="string" id="7189486">`(a){0,4}`</span><span class="op" id="7189496">,</span>&nbsp;<span class="string" id="7189498">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7189528">}</span><span class="op" id="7189529">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189537">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189558">{</span><span class="string" id="7189559">`(a){2,6}`</span><span class="op" id="7189569">,</span>&nbsp;<span class="string" id="7189571">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7189607">}</span><span class="op" id="7189608">,</span>&nbsp;<span class="comment" id="7189610">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189631">{</span><span class="string" id="7189632">`a{0,2}`</span><span class="op" id="7189640">,</span>&nbsp;<span class="string" id="7189642">`(?:aa?)?`</span><span class="op" id="7189652">}</span><span class="op" id="7189653">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189683">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189700">{</span><span class="string" id="7189701">`a{0,4}`</span><span class="op" id="7189709">,</span>&nbsp;<span class="string" id="7189711">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7189733">}</span><span class="op" id="7189734">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189752">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189773">{</span><span class="string" id="7189774">`a{2,6}`</span><span class="op" id="7189782">,</span>&nbsp;<span class="string" id="7189784">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7189808">}</span><span class="op" id="7189809">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189825">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189846">{</span><span class="string" id="7189847">`a{0,}`</span><span class="op" id="7189854">,</span>&nbsp;<span class="string" id="7189856">`a*`</span><span class="op" id="7189860">}</span><span class="op" id="7189861">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189864">{</span><span class="string" id="7189865">`a{1,}`</span><span class="op" id="7189872">,</span>&nbsp;<span class="string" id="7189874">`a+`</span><span class="op" id="7189878">}</span><span class="op" id="7189879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189882">{</span><span class="string" id="7189883">`a{2,}`</span><span class="op" id="7189890">,</span>&nbsp;<span class="string" id="7189892">`aa+`</span><span class="op" id="7189897">}</span><span class="op" id="7189898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189901">{</span><span class="string" id="7189902">`a{5,}`</span><span class="op" id="7189909">,</span>&nbsp;<span class="string" id="7189911">`aaaaa+`</span><span class="op" id="7189919">}</span><span class="op" id="7189920">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7189924">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7189974">{</span><span class="string" id="7189975">`(?:a{1,}){1,}`</span><span class="op" id="7189990">,</span>&nbsp;<span class="string" id="7189992">`a+`</span><span class="op" id="7189996">}</span><span class="op" id="7189997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190000">{</span><span class="string" id="7190001">`(a{1,}b{1,})`</span><span class="op" id="7190015">,</span>&nbsp;<span class="string" id="7190017">`(a+b+)`</span><span class="op" id="7190025">}</span><span class="op" id="7190026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190029">{</span><span class="string" id="7190030">`a{1,}|b{1,}`</span><span class="op" id="7190043">,</span>&nbsp;<span class="string" id="7190045">`a+|b+`</span><span class="op" id="7190052">}</span><span class="op" id="7190053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190056">{</span><span class="string" id="7190057">`(?:a{1,})*`</span><span class="op" id="7190069">,</span>&nbsp;<span class="string" id="7190071">`(?:a+)*`</span><span class="op" id="7190080">}</span><span class="op" id="7190081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190084">{</span><span class="string" id="7190085">`(?:a{1,})+`</span><span class="op" id="7190097">,</span>&nbsp;<span class="string" id="7190099">`a+`</span><span class="op" id="7190103">}</span><span class="op" id="7190104">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190107">{</span><span class="string" id="7190108">`(?:a{1,})?`</span><span class="op" id="7190120">,</span>&nbsp;<span class="string" id="7190122">`(?:a+)?`</span><span class="op" id="7190131">}</span><span class="op" id="7190132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190135">{</span><span class="string" id="7190136">``</span><span class="op" id="7190138">,</span>&nbsp;<span class="string" id="7190140">`(?:)`</span><span class="op" id="7190146">}</span><span class="op" id="7190147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190150">{</span><span class="string" id="7190151">`a{0}`</span><span class="op" id="7190157">,</span>&nbsp;<span class="string" id="7190159">`(?:)`</span><span class="op" id="7190165">}</span><span class="op" id="7190166">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7190170">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190205">{</span><span class="string" id="7190206">`[ab]`</span><span class="op" id="7190212">,</span>&nbsp;<span class="string" id="7190214">`[a-b]`</span><span class="op" id="7190221">}</span><span class="op" id="7190222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190225">{</span><span class="string" id="7190226">`[a-za-za-z]`</span><span class="op" id="7190239">,</span>&nbsp;<span class="string" id="7190241">`[a-z]`</span><span class="op" id="7190248">}</span><span class="op" id="7190249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190252">{</span><span class="string" id="7190253">`[A-Za-zA-Za-z]`</span><span class="op" id="7190269">,</span>&nbsp;<span class="string" id="7190271">`[A-Za-z]`</span><span class="op" id="7190281">}</span><span class="op" id="7190282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190285">{</span><span class="string" id="7190286">`[ABCDEFGH]`</span><span class="op" id="7190298">,</span>&nbsp;<span class="string" id="7190300">`[A-H]`</span><span class="op" id="7190307">}</span><span class="op" id="7190308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190311">{</span><span class="string" id="7190312">`[AB-CD-EF-GH]`</span><span class="op" id="7190327">,</span>&nbsp;<span class="string" id="7190329">`[A-H]`</span><span class="op" id="7190336">}</span><span class="op" id="7190337">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190340">{</span><span class="string" id="7190341">`[W-ZP-XE-R]`</span><span class="op" id="7190354">,</span>&nbsp;<span class="string" id="7190356">`[E-Z]`</span><span class="op" id="7190363">}</span><span class="op" id="7190364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190367">{</span><span class="string" id="7190368">`[a-ee-gg-m]`</span><span class="op" id="7190381">,</span>&nbsp;<span class="string" id="7190383">`[a-m]`</span><span class="op" id="7190390">}</span><span class="op" id="7190391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190394">{</span><span class="string" id="7190395">`[a-ea-ha-m]`</span><span class="op" id="7190408">,</span>&nbsp;<span class="string" id="7190410">`[a-m]`</span><span class="op" id="7190417">}</span><span class="op" id="7190418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190421">{</span><span class="string" id="7190422">`[a-ma-ha-e]`</span><span class="op" id="7190435">,</span>&nbsp;<span class="string" id="7190437">`[a-m]`</span><span class="op" id="7190444">}</span><span class="op" id="7190445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190448">{</span><span class="string" id="7190449">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7190465">,</span>&nbsp;<span class="string" id="7190467">`[&nbsp;-~]`</span><span class="op" id="7190474">}</span><span class="op" id="7190475">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7190479">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190507">{</span><span class="string" id="7190508">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7190532">,</span>&nbsp;<span class="string" id="7190534">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7190554">}</span><span class="op" id="7190555">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7190559">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190586">{</span><span class="string" id="7190587">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7190610">,</span>&nbsp;<span class="string" id="7190612">`(?s:.)`</span><span class="op" id="7190620">}</span><span class="op" id="7190621">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7190625">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190651">{</span><span class="string" id="7190652">`(?i)A`</span><span class="op" id="7190659">,</span>&nbsp;<span class="string" id="7190661">`(?i:A)`</span><span class="op" id="7190669">}</span><span class="op" id="7190670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190673">{</span><span class="string" id="7190674">`(?i)a`</span><span class="op" id="7190681">,</span>&nbsp;<span class="string" id="7190683">`(?i:A)`</span><span class="op" id="7190691">}</span><span class="op" id="7190692">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190695">{</span><span class="string" id="7190696">`(?i)[A]`</span><span class="op" id="7190705">,</span>&nbsp;<span class="string" id="7190707">`(?i:A)`</span><span class="op" id="7190715">}</span><span class="op" id="7190716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190719">{</span><span class="string" id="7190720">`(?i)[a]`</span><span class="op" id="7190729">,</span>&nbsp;<span class="string" id="7190731">`(?i:A)`</span><span class="op" id="7190739">}</span><span class="op" id="7190740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190743">{</span><span class="string" id="7190744">`(?i)K`</span><span class="op" id="7190751">,</span>&nbsp;<span class="string" id="7190753">`(?i:K)`</span><span class="op" id="7190761">}</span><span class="op" id="7190762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190765">{</span><span class="string" id="7190766">`(?i)k`</span><span class="op" id="7190773">,</span>&nbsp;<span class="string" id="7190775">`(?i:K)`</span><span class="op" id="7190783">}</span><span class="op" id="7190784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190787">{</span><span class="string" id="7190788">`(?i)\x{212a}`</span><span class="op" id="7190802">,</span>&nbsp;<span class="string" id="7190804">&#34;(?i:K)&#34;</span><span class="op" id="7190812">}</span><span class="op" id="7190813">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190816">{</span><span class="string" id="7190817">`(?i)[K]`</span><span class="op" id="7190826">,</span>&nbsp;<span class="string" id="7190828">&#34;[Kk\u212A]&#34;</span><span class="op" id="7190840">}</span><span class="op" id="7190841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190844">{</span><span class="string" id="7190845">`(?i)[k]`</span><span class="op" id="7190854">,</span>&nbsp;<span class="string" id="7190856">&#34;[Kk\u212A]&#34;</span><span class="op" id="7190868">}</span><span class="op" id="7190869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190872">{</span><span class="string" id="7190873">`(?i)[\x{212a}]`</span><span class="op" id="7190889">,</span>&nbsp;<span class="string" id="7190891">&#34;[Kk\u212A]&#34;</span><span class="op" id="7190903">}</span><span class="op" id="7190904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190907">{</span><span class="string" id="7190908">`(?i)[a-z]`</span><span class="op" id="7190919">,</span>&nbsp;<span class="string" id="7190921">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7190943">}</span><span class="op" id="7190944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190947">{</span><span class="string" id="7190948">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7190969">,</span>&nbsp;<span class="string" id="7190971">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7190987">}</span><span class="op" id="7190988">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7190991">{</span><span class="string" id="7190992">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7191015">,</span>&nbsp;<span class="string" id="7191017">`(?s:.)`</span><span class="op" id="7191025">}</span><span class="op" id="7191026">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7191030">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7191072">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7191134">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7191193">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7191255">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7191318">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191369">{</span><span class="string" id="7191370">`(a|b|)`</span><span class="op" id="7191378">,</span>&nbsp;<span class="string" id="7191380">`([a-b]|(?:))`</span><span class="op" id="7191394">}</span><span class="op" id="7191395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191398">{</span><span class="string" id="7191399">`(|)`</span><span class="op" id="7191404">,</span>&nbsp;<span class="string" id="7191406">`()`</span><span class="op" id="7191410">}</span><span class="op" id="7191411">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191414">{</span><span class="string" id="7191415">`a()`</span><span class="op" id="7191420">,</span>&nbsp;<span class="string" id="7191422">`a()`</span><span class="op" id="7191427">}</span><span class="op" id="7191428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191431">{</span><span class="string" id="7191432">`(()|())`</span><span class="op" id="7191441">,</span>&nbsp;<span class="string" id="7191443">`(()|())`</span><span class="op" id="7191452">}</span><span class="op" id="7191453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191456">{</span><span class="string" id="7191457">`(a|)`</span><span class="op" id="7191463">,</span>&nbsp;<span class="string" id="7191465">`(a|(?:))`</span><span class="op" id="7191475">}</span><span class="op" id="7191476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191479">{</span><span class="string" id="7191480">`ab()cd()`</span><span class="op" id="7191490">,</span>&nbsp;<span class="string" id="7191492">`ab()cd()`</span><span class="op" id="7191502">}</span><span class="op" id="7191503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191506">{</span><span class="string" id="7191507">`()`</span><span class="op" id="7191511">,</span>&nbsp;<span class="string" id="7191513">`()`</span><span class="op" id="7191517">}</span><span class="op" id="7191518">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191521">{</span><span class="string" id="7191522">`()*`</span><span class="op" id="7191527">,</span>&nbsp;<span class="string" id="7191529">`()*`</span><span class="op" id="7191534">}</span><span class="op" id="7191535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191538">{</span><span class="string" id="7191539">`()+`</span><span class="op" id="7191544">,</span>&nbsp;<span class="string" id="7191546">`()+`</span><span class="op" id="7191551">}</span><span class="op" id="7191552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191555">{</span><span class="string" id="7191556">`()?`</span><span class="op" id="7191561">,</span>&nbsp;<span class="string" id="7191563">`()?`</span><span class="op" id="7191568">}</span><span class="op" id="7191569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191572">{</span><span class="string" id="7191573">`(){0}`</span><span class="op" id="7191580">,</span>&nbsp;<span class="string" id="7191582">`(?:)`</span><span class="op" id="7191588">}</span><span class="op" id="7191589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191592">{</span><span class="string" id="7191593">`(){1}`</span><span class="op" id="7191600">,</span>&nbsp;<span class="string" id="7191602">`()`</span><span class="op" id="7191606">}</span><span class="op" id="7191607">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191610">{</span><span class="string" id="7191611">`(){1,}`</span><span class="op" id="7191619">,</span>&nbsp;<span class="string" id="7191621">`()+`</span><span class="op" id="7191626">}</span><span class="op" id="7191627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191630">{</span><span class="string" id="7191631">`(){0,2}`</span><span class="op" id="7191640">,</span>&nbsp;<span class="string" id="7191642">`(?:()()?)?`</span><span class="op" id="7191654">}</span><span class="op" id="7191655">,</span><br>
<span class="lineno"></span><span class="op" id="7191657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7191660">func</span>&nbsp;<span class="ident" id="7191665">TestSimplify</span><span class="op" id="7191677">(</span><span class="ident" id="7191678">t</span>&nbsp;<span class="op" id="7191680">*</span><span class="ident" id="7191681">testing</span><span class="op" id="7191688">.</span><span class="ident" id="7191689">T</span><span class="op" id="7191690">)</span>&nbsp;<span class="op" id="7191692">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7191695">for</span>&nbsp;<span class="ident" id="7191699">_</span><span class="op" id="7191700">,</span>&nbsp;<span class="ident" id="7191702">tt</span>&nbsp;<span class="op" id="7191705">:=</span>&nbsp;<span class="keyword" id="7191708">range</span>&nbsp;<span class="ident" id="7191714">simplifyTests</span>&nbsp;<span class="op" id="7191728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7191732">re</span><span class="op" id="7191734">,</span>&nbsp;<span class="ident" id="7191736">err</span>&nbsp;<span class="op" id="7191740">:=</span>&nbsp;<span class="ident" id="7191743">Parse</span><span class="op" id="7191748">(</span><span class="ident" id="7191749">tt</span><span class="op" id="7191751">.</span><span class="ident" id="7191752">Regexp</span><span class="op" id="7191758">,</span>&nbsp;<span class="ident" id="7191760">MatchNL</span><span class="op" id="7191767">|</span><span class="ident" id="7191768">Perl</span><span class="op" id="7191772">&amp;^</span><span class="ident" id="7191774">OneLine</span><span class="op" id="7191781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7191785">if</span>&nbsp;<span class="ident" id="7191788">err</span>&nbsp;<span class="op" id="7191792">!=</span>&nbsp;<span class="ident" id="7191795">nil</span>&nbsp;<span class="op" id="7191799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7191804">t</span><span class="op" id="7191805">.</span><span class="ident" id="7191806">Errorf</span><span class="op" id="7191812">(</span><span class="string" id="7191813">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7191836">,</span>&nbsp;<span class="ident" id="7191838">tt</span><span class="op" id="7191840">.</span><span class="ident" id="7191841">Regexp</span><span class="op" id="7191847">,</span>&nbsp;<span class="ident" id="7191849">err</span><span class="op" id="7191852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7191857">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7191872">s</span>&nbsp;<span class="op" id="7191874">:=</span>&nbsp;<span class="ident" id="7191877">re</span><span class="op" id="7191879">.</span><span class="ident" id="7191880">Simplify</span><span class="op" id="7191888">(</span><span class="op" id="7191889">)</span><span class="op" id="7191890">.</span><span class="ident" id="7191891">String</span><span class="op" id="7191897">(</span><span class="op" id="7191898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7191902">if</span>&nbsp;<span class="ident" id="7191905">s</span>&nbsp;<span class="op" id="7191907">!=</span>&nbsp;<span class="ident" id="7191910">tt</span><span class="op" id="7191912">.</span><span class="ident" id="7191913">Simple</span>&nbsp;<span class="op" id="7191920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7191925">t</span><span class="op" id="7191926">.</span><span class="ident" id="7191927">Errorf</span><span class="op" id="7191933">(</span><span class="string" id="7191934">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7191965">,</span>&nbsp;<span class="ident" id="7191967">tt</span><span class="op" id="7191969">.</span><span class="ident" id="7191970">Regexp</span><span class="op" id="7191976">,</span>&nbsp;<span class="ident" id="7191978">s</span><span class="op" id="7191979">,</span>&nbsp;<span class="ident" id="7191981">tt</span><span class="op" id="7191983">.</span><span class="ident" id="7191984">Simple</span><span class="op" id="7191990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191994">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7191997">}</span><br>
<span class="lineno"></span><span class="op" id="7191999">}</span>
</div>
</body>
</html>
