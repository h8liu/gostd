<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1600821">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;authors&nbsp;of&nbsp;this&nbsp;software&nbsp;are&nbsp;Rob&nbsp;Pike&nbsp;and&nbsp;Ken&nbsp;Thompson.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;(c)&nbsp;2002&nbsp;by&nbsp;Lucent&nbsp;Technologies.<br>
<span class="lineno"></span>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Portions&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.<br>
<span class="lineno">5</span>&nbsp;*&nbsp;Permission&nbsp;to&nbsp;use,&nbsp;copy,&nbsp;modify,&nbsp;and&nbsp;distribute&nbsp;this&nbsp;software&nbsp;for&nbsp;any<br>
<span class="lineno"></span>&nbsp;*&nbsp;purpose&nbsp;without&nbsp;fee&nbsp;is&nbsp;hereby&nbsp;granted,&nbsp;provided&nbsp;that&nbsp;this&nbsp;entire&nbsp;notice<br>
<span class="lineno"></span>&nbsp;*&nbsp;is&nbsp;included&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;any&nbsp;software&nbsp;which&nbsp;is&nbsp;or&nbsp;includes&nbsp;a&nbsp;copy<br>
<span class="lineno"></span>&nbsp;*&nbsp;or&nbsp;modification&nbsp;of&nbsp;this&nbsp;software&nbsp;and&nbsp;in&nbsp;all&nbsp;copies&nbsp;of&nbsp;the&nbsp;supporting<br>
<span class="lineno"></span>&nbsp;*&nbsp;documentation&nbsp;for&nbsp;such&nbsp;software.<br>
<span class="lineno">10</span>&nbsp;*&nbsp;THIS&nbsp;SOFTWARE&nbsp;IS&nbsp;BEING&nbsp;PROVIDED&nbsp;&#34;AS&nbsp;IS&#34;,&nbsp;WITHOUT&nbsp;ANY&nbsp;EXPRESS&nbsp;OR&nbsp;IMPLIED<br>
<span class="lineno"></span>&nbsp;*&nbsp;WARRANTY.&nbsp;&nbsp;IN&nbsp;PARTICULAR,&nbsp;NEITHER&nbsp;THE&nbsp;AUTHORS&nbsp;NOR&nbsp;LUCENT&nbsp;TECHNOLOGIES&nbsp;MAKE&nbsp;ANY<br>
<span class="lineno"></span>&nbsp;*&nbsp;REPRESENTATION&nbsp;OR&nbsp;WARRANTY&nbsp;OF&nbsp;ANY&nbsp;KIND&nbsp;CONCERNING&nbsp;THE&nbsp;MERCHANTABILITY<br>
<span class="lineno"></span>&nbsp;*&nbsp;OF&nbsp;THIS&nbsp;SOFTWARE&nbsp;OR&nbsp;ITS&nbsp;FITNESS&nbsp;FOR&nbsp;ANY&nbsp;PARTICULAR&nbsp;PURPOSE.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="1601650">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;code&nbsp;is&nbsp;copied,&nbsp;with&nbsp;slight&nbsp;editing&nbsp;due&nbsp;to&nbsp;type&nbsp;differences,<br>
<span class="lineno"></span>&nbsp;*&nbsp;from&nbsp;a&nbsp;subset&nbsp;of&nbsp;../lib9/utf/rune.c<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="1601766">package</span>&nbsp;<span class="ident" id="1601774">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1601783">const</span>&nbsp;<span class="op" id="1601789">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601792">bit1</span>&nbsp;<span class="op" id="1601797">=</span>&nbsp;<span class="num" id="1601799">7</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601802">bitx</span>&nbsp;<span class="op" id="1601807">=</span>&nbsp;<span class="num" id="1601809">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601812">bit2</span>&nbsp;<span class="op" id="1601817">=</span>&nbsp;<span class="num" id="1601819">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601822">bit3</span>&nbsp;<span class="op" id="1601827">=</span>&nbsp;<span class="num" id="1601829">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601832">bit4</span>&nbsp;<span class="op" id="1601837">=</span>&nbsp;<span class="num" id="1601839">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601842">bit5</span>&nbsp;<span class="op" id="1601847">=</span>&nbsp;<span class="num" id="1601849">2</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601853">t1</span>&nbsp;<span class="op" id="1601856">=</span>&nbsp;<span class="op" id="1601858">(</span><span class="op" id="1601859">(</span><span class="num" id="1601860">1</span>&nbsp;<span class="op" id="1601862">&lt;&lt;</span>&nbsp;<span class="op" id="1601865">(</span><span class="ident" id="1601866">bit1</span>&nbsp;<span class="op" id="1601871">+</span>&nbsp;<span class="num" id="1601873">1</span><span class="op" id="1601874">)</span><span class="op" id="1601875">)</span>&nbsp;<span class="op" id="1601877">-</span>&nbsp;<span class="num" id="1601879">1</span><span class="op" id="1601880">)</span>&nbsp;<span class="op" id="1601882">^</span>&nbsp;<span class="num" id="1601884">0xFF</span>&nbsp;<span class="comment" id="1601889">/*&nbsp;0000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601906">tx</span>&nbsp;<span class="op" id="1601909">=</span>&nbsp;<span class="op" id="1601911">(</span><span class="op" id="1601912">(</span><span class="num" id="1601913">1</span>&nbsp;<span class="op" id="1601915">&lt;&lt;</span>&nbsp;<span class="op" id="1601918">(</span><span class="ident" id="1601919">bitx</span>&nbsp;<span class="op" id="1601924">+</span>&nbsp;<span class="num" id="1601926">1</span><span class="op" id="1601927">)</span><span class="op" id="1601928">)</span>&nbsp;<span class="op" id="1601930">-</span>&nbsp;<span class="num" id="1601932">1</span><span class="op" id="1601933">)</span>&nbsp;<span class="op" id="1601935">^</span>&nbsp;<span class="num" id="1601937">0xFF</span>&nbsp;<span class="comment" id="1601942">/*&nbsp;1000&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1601959">t2</span>&nbsp;<span class="op" id="1601962">=</span>&nbsp;<span class="op" id="1601964">(</span><span class="op" id="1601965">(</span><span class="num" id="1601966">1</span>&nbsp;<span class="op" id="1601968">&lt;&lt;</span>&nbsp;<span class="op" id="1601971">(</span><span class="ident" id="1601972">bit2</span>&nbsp;<span class="op" id="1601977">+</span>&nbsp;<span class="num" id="1601979">1</span><span class="op" id="1601980">)</span><span class="op" id="1601981">)</span>&nbsp;<span class="op" id="1601983">-</span>&nbsp;<span class="num" id="1601985">1</span><span class="op" id="1601986">)</span>&nbsp;<span class="op" id="1601988">^</span>&nbsp;<span class="num" id="1601990">0xFF</span>&nbsp;<span class="comment" id="1601995">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602012">t3</span>&nbsp;<span class="op" id="1602015">=</span>&nbsp;<span class="op" id="1602017">(</span><span class="op" id="1602018">(</span><span class="num" id="1602019">1</span>&nbsp;<span class="op" id="1602021">&lt;&lt;</span>&nbsp;<span class="op" id="1602024">(</span><span class="ident" id="1602025">bit3</span>&nbsp;<span class="op" id="1602030">+</span>&nbsp;<span class="num" id="1602032">1</span><span class="op" id="1602033">)</span><span class="op" id="1602034">)</span>&nbsp;<span class="op" id="1602036">-</span>&nbsp;<span class="num" id="1602038">1</span><span class="op" id="1602039">)</span>&nbsp;<span class="op" id="1602041">^</span>&nbsp;<span class="num" id="1602043">0xFF</span>&nbsp;<span class="comment" id="1602048">/*&nbsp;1110&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602065">t4</span>&nbsp;<span class="op" id="1602068">=</span>&nbsp;<span class="op" id="1602070">(</span><span class="op" id="1602071">(</span><span class="num" id="1602072">1</span>&nbsp;<span class="op" id="1602074">&lt;&lt;</span>&nbsp;<span class="op" id="1602077">(</span><span class="ident" id="1602078">bit4</span>&nbsp;<span class="op" id="1602083">+</span>&nbsp;<span class="num" id="1602085">1</span><span class="op" id="1602086">)</span><span class="op" id="1602087">)</span>&nbsp;<span class="op" id="1602089">-</span>&nbsp;<span class="num" id="1602091">1</span><span class="op" id="1602092">)</span>&nbsp;<span class="op" id="1602094">^</span>&nbsp;<span class="num" id="1602096">0xFF</span>&nbsp;<span class="comment" id="1602101">/*&nbsp;1111&nbsp;0000&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602118">t5</span>&nbsp;<span class="op" id="1602121">=</span>&nbsp;<span class="op" id="1602123">(</span><span class="op" id="1602124">(</span><span class="num" id="1602125">1</span>&nbsp;<span class="op" id="1602127">&lt;&lt;</span>&nbsp;<span class="op" id="1602130">(</span><span class="ident" id="1602131">bit5</span>&nbsp;<span class="op" id="1602136">+</span>&nbsp;<span class="num" id="1602138">1</span><span class="op" id="1602139">)</span><span class="op" id="1602140">)</span>&nbsp;<span class="op" id="1602142">-</span>&nbsp;<span class="num" id="1602144">1</span><span class="op" id="1602145">)</span>&nbsp;<span class="op" id="1602147">^</span>&nbsp;<span class="num" id="1602149">0xFF</span>&nbsp;<span class="comment" id="1602154">/*&nbsp;1111&nbsp;1000&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602172">rune1</span>&nbsp;<span class="op" id="1602178">=</span>&nbsp;<span class="op" id="1602180">(</span><span class="num" id="1602181">1</span>&nbsp;<span class="op" id="1602183">&lt;&lt;</span>&nbsp;<span class="op" id="1602186">(</span><span class="ident" id="1602187">bit1</span>&nbsp;<span class="op" id="1602192">+</span>&nbsp;<span class="num" id="1602194">0</span><span class="op" id="1602195">*</span><span class="ident" id="1602196">bitx</span><span class="op" id="1602200">)</span><span class="op" id="1602201">)</span>&nbsp;<span class="op" id="1602203">-</span>&nbsp;<span class="num" id="1602205">1</span>&nbsp;<span class="comment" id="1602207">/*&nbsp;0000&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602234">rune2</span>&nbsp;<span class="op" id="1602240">=</span>&nbsp;<span class="op" id="1602242">(</span><span class="num" id="1602243">1</span>&nbsp;<span class="op" id="1602245">&lt;&lt;</span>&nbsp;<span class="op" id="1602248">(</span><span class="ident" id="1602249">bit2</span>&nbsp;<span class="op" id="1602254">+</span>&nbsp;<span class="num" id="1602256">1</span><span class="op" id="1602257">*</span><span class="ident" id="1602258">bitx</span><span class="op" id="1602262">)</span><span class="op" id="1602263">)</span>&nbsp;<span class="op" id="1602265">-</span>&nbsp;<span class="num" id="1602267">1</span>&nbsp;<span class="comment" id="1602269">/*&nbsp;0000&nbsp;0111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602296">rune3</span>&nbsp;<span class="op" id="1602302">=</span>&nbsp;<span class="op" id="1602304">(</span><span class="num" id="1602305">1</span>&nbsp;<span class="op" id="1602307">&lt;&lt;</span>&nbsp;<span class="op" id="1602310">(</span><span class="ident" id="1602311">bit3</span>&nbsp;<span class="op" id="1602316">+</span>&nbsp;<span class="num" id="1602318">2</span><span class="op" id="1602319">*</span><span class="ident" id="1602320">bitx</span><span class="op" id="1602324">)</span><span class="op" id="1602325">)</span>&nbsp;<span class="op" id="1602327">-</span>&nbsp;<span class="num" id="1602329">1</span>&nbsp;<span class="comment" id="1602331">/*&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602358">rune4</span>&nbsp;<span class="op" id="1602364">=</span>&nbsp;<span class="op" id="1602366">(</span><span class="num" id="1602367">1</span>&nbsp;<span class="op" id="1602369">&lt;&lt;</span>&nbsp;<span class="op" id="1602372">(</span><span class="ident" id="1602373">bit4</span>&nbsp;<span class="op" id="1602378">+</span>&nbsp;<span class="num" id="1602380">3</span><span class="op" id="1602381">*</span><span class="ident" id="1602382">bitx</span><span class="op" id="1602386">)</span><span class="op" id="1602387">)</span>&nbsp;<span class="op" id="1602389">-</span>&nbsp;<span class="num" id="1602391">1</span>&nbsp;<span class="comment" id="1602393">/*&nbsp;0001&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602431">maskx</span>&nbsp;<span class="op" id="1602437">=</span>&nbsp;<span class="op" id="1602439">(</span><span class="num" id="1602440">1</span>&nbsp;<span class="op" id="1602442">&lt;&lt;</span>&nbsp;<span class="ident" id="1602445">bitx</span><span class="op" id="1602449">)</span>&nbsp;<span class="op" id="1602451">-</span>&nbsp;<span class="num" id="1602453">1</span>&nbsp;<span class="comment" id="1602455">/*&nbsp;0011&nbsp;1111&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602472">testx</span>&nbsp;<span class="op" id="1602478">=</span>&nbsp;<span class="ident" id="1602480">maskx</span>&nbsp;<span class="op" id="1602486">^</span>&nbsp;<span class="num" id="1602488">0xFF</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1602496">/*&nbsp;1100&nbsp;0000&nbsp;*/</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602514">runeerror</span>&nbsp;<span class="op" id="1602524">=</span>&nbsp;<span class="num" id="1602526">0xFFFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602534">runeself</span>&nbsp;&nbsp;<span class="op" id="1602544">=</span>&nbsp;<span class="num" id="1602546">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602553">surrogateMin</span>&nbsp;<span class="op" id="1602566">=</span>&nbsp;<span class="num" id="1602568">0xD800</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602576">surrogateMax</span>&nbsp;<span class="op" id="1602589">=</span>&nbsp;<span class="num" id="1602591">0xDFFF</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602600">bad</span>&nbsp;<span class="op" id="1602604">=</span>&nbsp;<span class="ident" id="1602606">runeerror</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1602618">runemax</span>&nbsp;<span class="op" id="1602626">=</span>&nbsp;<span class="num" id="1602628">0x10FFFF</span>&nbsp;<span class="comment" id="1602637">/*&nbsp;maximum&nbsp;rune&nbsp;value&nbsp;*/</span><br>
<span class="lineno">55</span><span class="op" id="1602662">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1602665">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Modified&nbsp;by&nbsp;Wei-Hwa&nbsp;Huang,&nbsp;Google&nbsp;Inc.,&nbsp;on&nbsp;2004-09-24<br>
<span class="lineno"></span>&nbsp;*&nbsp;This&nbsp;is&nbsp;a&nbsp;slower&nbsp;but&nbsp;&#34;safe&#34;&nbsp;version&nbsp;of&nbsp;the&nbsp;old&nbsp;chartorune<br>
<span class="lineno">60</span>&nbsp;*&nbsp;that&nbsp;works&nbsp;on&nbsp;strings&nbsp;that&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;null-terminated.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;If&nbsp;you&nbsp;know&nbsp;for&nbsp;sure&nbsp;that&nbsp;your&nbsp;string&nbsp;is&nbsp;null-terminated,<br>
<span class="lineno"></span>&nbsp;*&nbsp;chartorune&nbsp;will&nbsp;be&nbsp;a&nbsp;bit&nbsp;faster.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno">65</span>&nbsp;*&nbsp;It&nbsp;is&nbsp;guaranteed&nbsp;not&nbsp;to&nbsp;attempt&nbsp;to&nbsp;access&nbsp;&#34;length&#34;<br>
<span class="lineno"></span>&nbsp;*&nbsp;past&nbsp;the&nbsp;incoming&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is&nbsp;to&nbsp;avoid<br>
<span class="lineno"></span>&nbsp;*&nbsp;possible&nbsp;access&nbsp;violations.&nbsp;&nbsp;If&nbsp;the&nbsp;string&nbsp;appears&nbsp;to&nbsp;be<br>
<span class="lineno"></span>&nbsp;*&nbsp;well-formed&nbsp;but&nbsp;incomplete&nbsp;(i.e.,&nbsp;to&nbsp;get&nbsp;the&nbsp;whole&nbsp;Rune<br>
<span class="lineno"></span>&nbsp;*&nbsp;we&#39;d&nbsp;need&nbsp;to&nbsp;read&nbsp;past&nbsp;str+length)&nbsp;then&nbsp;we&#39;ll&nbsp;set&nbsp;the&nbsp;Rune<br>
<span class="lineno">70</span>&nbsp;*&nbsp;to&nbsp;Bad&nbsp;and&nbsp;return&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Note&nbsp;that&nbsp;if&nbsp;we&nbsp;have&nbsp;decoding&nbsp;problems&nbsp;for&nbsp;other<br>
<span class="lineno"></span>&nbsp;*&nbsp;reasons,&nbsp;we&nbsp;return&nbsp;1&nbsp;instead&nbsp;of&nbsp;0.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno">75</span><span class="keyword" id="1603360">func</span>&nbsp;<span class="ident" id="1603365">charntorune</span><span class="op" id="1603376">(</span><span class="ident" id="1603377">s</span>&nbsp;<span class="builtintype" id="1603379">string</span><span class="op" id="1603385">)</span>&nbsp;<span class="op" id="1603387">(</span><span class="builtintype" id="1603388">rune</span><span class="op" id="1603392">,</span>&nbsp;<span class="builtintype" id="1603394">int</span><span class="op" id="1603397">)</span>&nbsp;<span class="op" id="1603399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1603402">/*&nbsp;When&nbsp;we&#39;re&nbsp;not&nbsp;allowed&nbsp;to&nbsp;read&nbsp;anything&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603449">if</span>&nbsp;<span class="builtinfunc" id="1603452">len</span><span class="op" id="1603455">(</span><span class="ident" id="1603456">s</span><span class="op" id="1603457">)</span>&nbsp;<span class="op" id="1603459">&lt;=</span>&nbsp;<span class="num" id="1603462">0</span>&nbsp;<span class="op" id="1603464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603468">return</span>&nbsp;<span class="ident" id="1603475">bad</span><span class="op" id="1603478">,</span>&nbsp;<span class="num" id="1603480">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603483">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1603487">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence&nbsp;(7-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;T1<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603559">c</span>&nbsp;<span class="op" id="1603561">:=</span>&nbsp;<span class="ident" id="1603564">s</span><span class="op" id="1603565">[</span><span class="num" id="1603566">0</span><span class="op" id="1603567">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603570">if</span>&nbsp;<span class="ident" id="1603573">c</span>&nbsp;<span class="op" id="1603575">&lt;</span>&nbsp;<span class="ident" id="1603577">tx</span>&nbsp;<span class="op" id="1603580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603584">return</span>&nbsp;<span class="builtintype" id="1603591">rune</span><span class="op" id="1603595">(</span><span class="ident" id="1603596">c</span><span class="op" id="1603597">)</span><span class="op" id="1603598">,</span>&nbsp;<span class="num" id="1603600">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1603607">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;one&nbsp;character&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603665">if</span>&nbsp;<span class="builtinfunc" id="1603668">len</span><span class="op" id="1603671">(</span><span class="ident" id="1603672">s</span><span class="op" id="1603673">)</span>&nbsp;<span class="op" id="1603675">&lt;=</span>&nbsp;<span class="num" id="1603678">1</span>&nbsp;<span class="op" id="1603680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603684">return</span>&nbsp;<span class="ident" id="1603691">bad</span><span class="op" id="1603694">,</span>&nbsp;<span class="num" id="1603696">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1603703">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence&nbsp;(11-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603777">c1</span>&nbsp;<span class="op" id="1603780">:=</span>&nbsp;<span class="ident" id="1603783">s</span><span class="op" id="1603784">[</span><span class="num" id="1603785">1</span><span class="op" id="1603786">]</span>&nbsp;<span class="op" id="1603788">^</span>&nbsp;<span class="ident" id="1603790">tx</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603794">if</span>&nbsp;<span class="op" id="1603797">(</span><span class="ident" id="1603798">c1</span>&nbsp;<span class="op" id="1603801">&amp;</span>&nbsp;<span class="ident" id="1603803">testx</span><span class="op" id="1603808">)</span>&nbsp;<span class="op" id="1603810">!=</span>&nbsp;<span class="num" id="1603813">0</span>&nbsp;<span class="op" id="1603815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603819">return</span>&nbsp;<span class="ident" id="1603826">bad</span><span class="op" id="1603829">,</span>&nbsp;<span class="num" id="1603831">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603837">if</span>&nbsp;<span class="ident" id="1603840">c</span>&nbsp;<span class="op" id="1603842">&lt;</span>&nbsp;<span class="ident" id="1603844">t3</span>&nbsp;<span class="op" id="1603847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603851">if</span>&nbsp;<span class="ident" id="1603854">c</span>&nbsp;<span class="op" id="1603856">&lt;</span>&nbsp;<span class="ident" id="1603858">t2</span>&nbsp;<span class="op" id="1603861">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603866">return</span>&nbsp;<span class="ident" id="1603873">bad</span><span class="op" id="1603876">,</span>&nbsp;<span class="num" id="1603878">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1603886">l</span>&nbsp;<span class="op" id="1603888">:=</span>&nbsp;<span class="op" id="1603891">(</span><span class="op" id="1603892">(</span><span class="builtintype" id="1603893">rune</span><span class="op" id="1603897">(</span><span class="ident" id="1603898">c</span><span class="op" id="1603899">)</span>&nbsp;<span class="op" id="1603901">&lt;&lt;</span>&nbsp;<span class="ident" id="1603904">bitx</span><span class="op" id="1603908">)</span>&nbsp;<span class="op" id="1603910">|</span>&nbsp;<span class="builtintype" id="1603912">rune</span><span class="op" id="1603916">(</span><span class="ident" id="1603917">c1</span><span class="op" id="1603919">)</span><span class="op" id="1603920">)</span>&nbsp;<span class="op" id="1603922">&amp;</span>&nbsp;<span class="ident" id="1603924">rune2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603932">if</span>&nbsp;<span class="ident" id="1603935">l</span>&nbsp;<span class="op" id="1603937">&lt;=</span>&nbsp;<span class="ident" id="1603940">rune1</span>&nbsp;<span class="op" id="1603946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603951">return</span>&nbsp;<span class="ident" id="1603958">bad</span><span class="op" id="1603961">,</span>&nbsp;<span class="num" id="1603963">1</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1603971">return</span>&nbsp;<span class="ident" id="1603978">l</span><span class="op" id="1603979">,</span>&nbsp;<span class="num" id="1603981">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1603984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1603988">//&nbsp;If&nbsp;we&nbsp;can&#39;t&nbsp;read&nbsp;more&nbsp;than&nbsp;two&nbsp;characters&nbsp;we&nbsp;must&nbsp;stop</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604047">if</span>&nbsp;<span class="builtinfunc" id="1604050">len</span><span class="op" id="1604053">(</span><span class="ident" id="1604054">s</span><span class="op" id="1604055">)</span>&nbsp;<span class="op" id="1604057">&lt;=</span>&nbsp;<span class="num" id="1604060">2</span>&nbsp;<span class="op" id="1604062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604066">return</span>&nbsp;<span class="ident" id="1604073">bad</span><span class="op" id="1604076">,</span>&nbsp;<span class="num" id="1604078">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1604085">/*<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence&nbsp;(16-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1604164">c2</span>&nbsp;<span class="op" id="1604167">:=</span>&nbsp;<span class="ident" id="1604170">s</span><span class="op" id="1604171">[</span><span class="num" id="1604172">2</span><span class="op" id="1604173">]</span>&nbsp;<span class="op" id="1604175">^</span>&nbsp;<span class="ident" id="1604177">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604181">if</span>&nbsp;<span class="op" id="1604184">(</span><span class="ident" id="1604185">c2</span>&nbsp;<span class="op" id="1604188">&amp;</span>&nbsp;<span class="ident" id="1604190">testx</span><span class="op" id="1604195">)</span>&nbsp;<span class="op" id="1604197">!=</span>&nbsp;<span class="num" id="1604200">0</span>&nbsp;<span class="op" id="1604202">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604206">return</span>&nbsp;<span class="ident" id="1604213">bad</span><span class="op" id="1604216">,</span>&nbsp;<span class="num" id="1604218">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604221">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604224">if</span>&nbsp;<span class="ident" id="1604227">c</span>&nbsp;<span class="op" id="1604229">&lt;</span>&nbsp;<span class="ident" id="1604231">t4</span>&nbsp;<span class="op" id="1604234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1604238">l</span>&nbsp;<span class="op" id="1604240">:=</span>&nbsp;<span class="op" id="1604243">(</span><span class="op" id="1604244">(</span><span class="op" id="1604245">(</span><span class="op" id="1604246">(</span><span class="builtintype" id="1604247">rune</span><span class="op" id="1604251">(</span><span class="ident" id="1604252">c</span><span class="op" id="1604253">)</span>&nbsp;<span class="op" id="1604255">&lt;&lt;</span>&nbsp;<span class="ident" id="1604258">bitx</span><span class="op" id="1604262">)</span>&nbsp;<span class="op" id="1604264">|</span>&nbsp;<span class="builtintype" id="1604266">rune</span><span class="op" id="1604270">(</span><span class="ident" id="1604271">c1</span><span class="op" id="1604273">)</span><span class="op" id="1604274">)</span>&nbsp;<span class="op" id="1604276">&lt;&lt;</span>&nbsp;<span class="ident" id="1604279">bitx</span><span class="op" id="1604283">)</span>&nbsp;<span class="op" id="1604285">|</span>&nbsp;<span class="builtintype" id="1604287">rune</span><span class="op" id="1604291">(</span><span class="ident" id="1604292">c2</span><span class="op" id="1604294">)</span><span class="op" id="1604295">)</span>&nbsp;<span class="op" id="1604297">&amp;</span>&nbsp;<span class="ident" id="1604299">rune3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604307">if</span>&nbsp;<span class="ident" id="1604310">l</span>&nbsp;<span class="op" id="1604312">&lt;=</span>&nbsp;<span class="ident" id="1604315">rune2</span>&nbsp;<span class="op" id="1604321">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604326">return</span>&nbsp;<span class="ident" id="1604333">bad</span><span class="op" id="1604336">,</span>&nbsp;<span class="num" id="1604338">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604346">if</span>&nbsp;<span class="ident" id="1604349">surrogateMin</span>&nbsp;<span class="op" id="1604362">&lt;=</span>&nbsp;<span class="ident" id="1604365">l</span>&nbsp;<span class="op" id="1604367">&amp;&amp;</span>&nbsp;<span class="ident" id="1604370">l</span>&nbsp;<span class="op" id="1604372">&lt;=</span>&nbsp;<span class="ident" id="1604375">surrogateMax</span>&nbsp;<span class="op" id="1604388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604393">return</span>&nbsp;<span class="ident" id="1604400">bad</span><span class="op" id="1604403">,</span>&nbsp;<span class="num" id="1604405">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604409">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604413">return</span>&nbsp;<span class="ident" id="1604420">l</span><span class="op" id="1604421">,</span>&nbsp;<span class="num" id="1604423">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604430">if</span>&nbsp;<span class="builtinfunc" id="1604433">len</span><span class="op" id="1604436">(</span><span class="ident" id="1604437">s</span><span class="op" id="1604438">)</span>&nbsp;<span class="op" id="1604440">&lt;=</span>&nbsp;<span class="num" id="1604443">3</span>&nbsp;<span class="op" id="1604445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604449">return</span>&nbsp;<span class="ident" id="1604456">bad</span><span class="op" id="1604459">,</span>&nbsp;<span class="num" id="1604461">1</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1604468">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1604552">c3</span>&nbsp;<span class="op" id="1604555">:=</span>&nbsp;<span class="ident" id="1604558">s</span><span class="op" id="1604559">[</span><span class="num" id="1604560">3</span><span class="op" id="1604561">]</span>&nbsp;<span class="op" id="1604563">^</span>&nbsp;<span class="ident" id="1604565">tx</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604569">if</span>&nbsp;<span class="op" id="1604572">(</span><span class="ident" id="1604573">c3</span>&nbsp;<span class="op" id="1604576">&amp;</span>&nbsp;<span class="ident" id="1604578">testx</span><span class="op" id="1604583">)</span>&nbsp;<span class="op" id="1604585">!=</span>&nbsp;<span class="num" id="1604588">0</span>&nbsp;<span class="op" id="1604590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604594">return</span>&nbsp;<span class="ident" id="1604601">bad</span><span class="op" id="1604604">,</span>&nbsp;<span class="num" id="1604606">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604609">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604612">if</span>&nbsp;<span class="ident" id="1604615">c</span>&nbsp;<span class="op" id="1604617">&lt;</span>&nbsp;<span class="ident" id="1604619">t5</span>&nbsp;<span class="op" id="1604622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1604626">l</span>&nbsp;<span class="op" id="1604628">:=</span>&nbsp;<span class="op" id="1604631">(</span><span class="op" id="1604632">(</span><span class="op" id="1604633">(</span><span class="op" id="1604634">(</span><span class="op" id="1604635">(</span><span class="op" id="1604636">(</span><span class="builtintype" id="1604637">rune</span><span class="op" id="1604641">(</span><span class="ident" id="1604642">c</span><span class="op" id="1604643">)</span>&nbsp;<span class="op" id="1604645">&lt;&lt;</span>&nbsp;<span class="ident" id="1604648">bitx</span><span class="op" id="1604652">)</span>&nbsp;<span class="op" id="1604654">|</span>&nbsp;<span class="builtintype" id="1604656">rune</span><span class="op" id="1604660">(</span><span class="ident" id="1604661">c1</span><span class="op" id="1604663">)</span><span class="op" id="1604664">)</span>&nbsp;<span class="op" id="1604666">&lt;&lt;</span>&nbsp;<span class="ident" id="1604669">bitx</span><span class="op" id="1604673">)</span>&nbsp;<span class="op" id="1604675">|</span>&nbsp;<span class="builtintype" id="1604677">rune</span><span class="op" id="1604681">(</span><span class="ident" id="1604682">c2</span><span class="op" id="1604684">)</span><span class="op" id="1604685">)</span>&nbsp;<span class="op" id="1604687">&lt;&lt;</span>&nbsp;<span class="ident" id="1604690">bitx</span><span class="op" id="1604694">)</span>&nbsp;<span class="op" id="1604696">|</span>&nbsp;<span class="builtintype" id="1604698">rune</span><span class="op" id="1604702">(</span><span class="ident" id="1604703">c3</span><span class="op" id="1604705">)</span><span class="op" id="1604706">)</span>&nbsp;<span class="op" id="1604708">&amp;</span>&nbsp;<span class="ident" id="1604710">rune4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604718">if</span>&nbsp;<span class="ident" id="1604721">l</span>&nbsp;<span class="op" id="1604723">&lt;=</span>&nbsp;<span class="ident" id="1604726">rune3</span>&nbsp;<span class="op" id="1604732">||</span>&nbsp;<span class="ident" id="1604735">l</span>&nbsp;<span class="op" id="1604737">&gt;</span>&nbsp;<span class="ident" id="1604739">runemax</span>&nbsp;<span class="op" id="1604747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604752">return</span>&nbsp;<span class="ident" id="1604759">bad</span><span class="op" id="1604762">,</span>&nbsp;<span class="num" id="1604764">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604768">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604772">return</span>&nbsp;<span class="ident" id="1604779">l</span><span class="op" id="1604780">,</span>&nbsp;<span class="num" id="1604782">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1604785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1604789">//&nbsp;Support&nbsp;for&nbsp;5-byte&nbsp;or&nbsp;longer&nbsp;UTF-8&nbsp;would&nbsp;go&nbsp;here,&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1604847">//&nbsp;since&nbsp;we&nbsp;don&#39;t&nbsp;have&nbsp;that,&nbsp;we&#39;ll&nbsp;just&nbsp;return&nbsp;bad.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1604900">return</span>&nbsp;<span class="ident" id="1604907">bad</span><span class="op" id="1604910">,</span>&nbsp;<span class="num" id="1604912">1</span><br>
<span class="lineno"></span><span class="op" id="1604914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1604917">//&nbsp;runetochar&nbsp;converts&nbsp;r&nbsp;to&nbsp;bytes&nbsp;and&nbsp;writes&nbsp;the&nbsp;result&nbsp;to&nbsp;str.</span><br>
<span class="lineno"></span><span class="comment" id="1604981">//&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;generated.</span><br>
<span class="lineno">165</span><span class="keyword" id="1605023">func</span>&nbsp;<span class="ident" id="1605028">runetochar</span><span class="op" id="1605038">(</span><span class="ident" id="1605039">str</span>&nbsp;<span class="op" id="1605043">[</span><span class="op" id="1605044">]</span><span class="builtintype" id="1605045">byte</span><span class="op" id="1605049">,</span>&nbsp;<span class="ident" id="1605051">r</span>&nbsp;<span class="builtintype" id="1605053">rune</span><span class="op" id="1605057">)</span>&nbsp;<span class="builtintype" id="1605059">int</span>&nbsp;<span class="op" id="1605063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1605066">/*&nbsp;runes&nbsp;are&nbsp;signed,&nbsp;so&nbsp;convert&nbsp;to&nbsp;unsigned&nbsp;for&nbsp;range&nbsp;check.&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605131">c</span>&nbsp;<span class="op" id="1605133">:=</span>&nbsp;<span class="builtintype" id="1605136">uint32</span><span class="op" id="1605142">(</span><span class="ident" id="1605143">r</span><span class="op" id="1605144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1605147">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;one&nbsp;character&nbsp;sequence<br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp00000-0007F&nbsp;=&gt;&nbsp;00-7F<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605208">if</span>&nbsp;<span class="ident" id="1605211">c</span>&nbsp;<span class="op" id="1605213">&lt;=</span>&nbsp;<span class="ident" id="1605216">rune1</span>&nbsp;<span class="op" id="1605222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605226">str</span><span class="op" id="1605229">[</span><span class="num" id="1605230">0</span><span class="op" id="1605231">]</span>&nbsp;<span class="op" id="1605233">=</span>&nbsp;<span class="builtintype" id="1605235">byte</span><span class="op" id="1605239">(</span><span class="ident" id="1605240">c</span><span class="op" id="1605241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605245">return</span>&nbsp;<span class="num" id="1605252">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605255">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1605258">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;two&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0080-07FF&nbsp;=&gt;&nbsp;t2&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605317">if</span>&nbsp;<span class="ident" id="1605320">c</span>&nbsp;<span class="op" id="1605322">&lt;=</span>&nbsp;<span class="ident" id="1605325">rune2</span>&nbsp;<span class="op" id="1605331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605335">str</span><span class="op" id="1605338">[</span><span class="num" id="1605339">0</span><span class="op" id="1605340">]</span>&nbsp;<span class="op" id="1605342">=</span>&nbsp;<span class="builtintype" id="1605344">byte</span><span class="op" id="1605348">(</span><span class="ident" id="1605349">t2</span>&nbsp;<span class="op" id="1605352">|</span>&nbsp;<span class="op" id="1605354">(</span><span class="ident" id="1605355">c</span>&nbsp;<span class="op" id="1605357">&gt;&gt;</span>&nbsp;<span class="op" id="1605360">(</span><span class="num" id="1605361">1</span>&nbsp;<span class="op" id="1605363">*</span>&nbsp;<span class="ident" id="1605365">bitx</span><span class="op" id="1605369">)</span><span class="op" id="1605370">)</span><span class="op" id="1605371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605375">str</span><span class="op" id="1605378">[</span><span class="num" id="1605379">1</span><span class="op" id="1605380">]</span>&nbsp;<span class="op" id="1605382">=</span>&nbsp;<span class="builtintype" id="1605384">byte</span><span class="op" id="1605388">(</span><span class="ident" id="1605389">tx</span>&nbsp;<span class="op" id="1605392">|</span>&nbsp;<span class="op" id="1605394">(</span><span class="ident" id="1605395">c</span>&nbsp;<span class="op" id="1605397">&amp;</span>&nbsp;<span class="ident" id="1605399">maskx</span><span class="op" id="1605404">)</span><span class="op" id="1605405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605409">return</span>&nbsp;<span class="num" id="1605416">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605419">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1605423">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;If&nbsp;the&nbsp;rune&nbsp;is&nbsp;out&nbsp;of&nbsp;range&nbsp;or&nbsp;a&nbsp;surrogate&nbsp;half,&nbsp;convert&nbsp;it&nbsp;to&nbsp;the&nbsp;error&nbsp;rune.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Do&nbsp;this&nbsp;test&nbsp;here&nbsp;because&nbsp;the&nbsp;error&nbsp;rune&nbsp;encodes&nbsp;to&nbsp;three&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;Doing&nbsp;it&nbsp;earlier&nbsp;would&nbsp;duplicate&nbsp;work,&nbsp;since&nbsp;an&nbsp;out&nbsp;of&nbsp;range<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;rune&nbsp;wouldn&#39;t&nbsp;have&nbsp;fit&nbsp;in&nbsp;one&nbsp;or&nbsp;two&nbsp;bytes.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605697">if</span>&nbsp;<span class="ident" id="1605700">c</span>&nbsp;<span class="op" id="1605702">&gt;</span>&nbsp;<span class="ident" id="1605704">runemax</span>&nbsp;<span class="op" id="1605712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605716">c</span>&nbsp;<span class="op" id="1605718">=</span>&nbsp;<span class="ident" id="1605720">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605731">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605734">if</span>&nbsp;<span class="ident" id="1605737">surrogateMin</span>&nbsp;<span class="op" id="1605750">&lt;=</span>&nbsp;<span class="ident" id="1605753">c</span>&nbsp;<span class="op" id="1605755">&amp;&amp;</span>&nbsp;<span class="ident" id="1605758">c</span>&nbsp;<span class="op" id="1605760">&lt;=</span>&nbsp;<span class="ident" id="1605763">surrogateMax</span>&nbsp;<span class="op" id="1605776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605780">c</span>&nbsp;<span class="op" id="1605782">=</span>&nbsp;<span class="ident" id="1605784">runeerror</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1605795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1605799">/*<br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;three&nbsp;character&nbsp;sequence<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp0800-FFFF&nbsp;=&gt;&nbsp;t3&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1605863">if</span>&nbsp;<span class="ident" id="1605866">c</span>&nbsp;<span class="op" id="1605868">&lt;=</span>&nbsp;<span class="ident" id="1605871">rune3</span>&nbsp;<span class="op" id="1605877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605881">str</span><span class="op" id="1605884">[</span><span class="num" id="1605885">0</span><span class="op" id="1605886">]</span>&nbsp;<span class="op" id="1605888">=</span>&nbsp;<span class="builtintype" id="1605890">byte</span><span class="op" id="1605894">(</span><span class="ident" id="1605895">t3</span>&nbsp;<span class="op" id="1605898">|</span>&nbsp;<span class="op" id="1605900">(</span><span class="ident" id="1605901">c</span>&nbsp;<span class="op" id="1605903">&gt;&gt;</span>&nbsp;<span class="op" id="1605906">(</span><span class="num" id="1605907">2</span>&nbsp;<span class="op" id="1605909">*</span>&nbsp;<span class="ident" id="1605911">bitx</span><span class="op" id="1605915">)</span><span class="op" id="1605916">)</span><span class="op" id="1605917">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605921">str</span><span class="op" id="1605924">[</span><span class="num" id="1605925">1</span><span class="op" id="1605926">]</span>&nbsp;<span class="op" id="1605928">=</span>&nbsp;<span class="builtintype" id="1605930">byte</span><span class="op" id="1605934">(</span><span class="ident" id="1605935">tx</span>&nbsp;<span class="op" id="1605938">|</span>&nbsp;<span class="op" id="1605940">(</span><span class="op" id="1605941">(</span><span class="ident" id="1605942">c</span>&nbsp;<span class="op" id="1605944">&gt;&gt;</span>&nbsp;<span class="op" id="1605947">(</span><span class="num" id="1605948">1</span>&nbsp;<span class="op" id="1605950">*</span>&nbsp;<span class="ident" id="1605952">bitx</span><span class="op" id="1605956">)</span><span class="op" id="1605957">)</span>&nbsp;<span class="op" id="1605959">&amp;</span>&nbsp;<span class="ident" id="1605961">maskx</span><span class="op" id="1605966">)</span><span class="op" id="1605967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1605971">str</span><span class="op" id="1605974">[</span><span class="num" id="1605975">2</span><span class="op" id="1605976">]</span>&nbsp;<span class="op" id="1605978">=</span>&nbsp;<span class="builtintype" id="1605980">byte</span><span class="op" id="1605984">(</span><span class="ident" id="1605985">tx</span>&nbsp;<span class="op" id="1605988">|</span>&nbsp;<span class="op" id="1605990">(</span><span class="ident" id="1605991">c</span>&nbsp;<span class="op" id="1605993">&amp;</span>&nbsp;<span class="ident" id="1605995">maskx</span><span class="op" id="1606000">)</span><span class="op" id="1606001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1606005">return</span>&nbsp;<span class="num" id="1606012">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1606015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1606019">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;four&nbsp;character&nbsp;sequence&nbsp;(21-bit&nbsp;value)<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10000-1FFFFF&nbsp;=&gt;&nbsp;t4&nbsp;tx&nbsp;tx&nbsp;tx<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606107">str</span><span class="op" id="1606110">[</span><span class="num" id="1606111">0</span><span class="op" id="1606112">]</span>&nbsp;<span class="op" id="1606114">=</span>&nbsp;<span class="builtintype" id="1606116">byte</span><span class="op" id="1606120">(</span><span class="ident" id="1606121">t4</span>&nbsp;<span class="op" id="1606124">|</span>&nbsp;<span class="op" id="1606126">(</span><span class="ident" id="1606127">c</span>&nbsp;<span class="op" id="1606129">&gt;&gt;</span>&nbsp;<span class="op" id="1606132">(</span><span class="num" id="1606133">3</span>&nbsp;<span class="op" id="1606135">*</span>&nbsp;<span class="ident" id="1606137">bitx</span><span class="op" id="1606141">)</span><span class="op" id="1606142">)</span><span class="op" id="1606143">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606146">str</span><span class="op" id="1606149">[</span><span class="num" id="1606150">1</span><span class="op" id="1606151">]</span>&nbsp;<span class="op" id="1606153">=</span>&nbsp;<span class="builtintype" id="1606155">byte</span><span class="op" id="1606159">(</span><span class="ident" id="1606160">tx</span>&nbsp;<span class="op" id="1606163">|</span>&nbsp;<span class="op" id="1606165">(</span><span class="op" id="1606166">(</span><span class="ident" id="1606167">c</span>&nbsp;<span class="op" id="1606169">&gt;&gt;</span>&nbsp;<span class="op" id="1606172">(</span><span class="num" id="1606173">2</span>&nbsp;<span class="op" id="1606175">*</span>&nbsp;<span class="ident" id="1606177">bitx</span><span class="op" id="1606181">)</span><span class="op" id="1606182">)</span>&nbsp;<span class="op" id="1606184">&amp;</span>&nbsp;<span class="ident" id="1606186">maskx</span><span class="op" id="1606191">)</span><span class="op" id="1606192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606195">str</span><span class="op" id="1606198">[</span><span class="num" id="1606199">2</span><span class="op" id="1606200">]</span>&nbsp;<span class="op" id="1606202">=</span>&nbsp;<span class="builtintype" id="1606204">byte</span><span class="op" id="1606208">(</span><span class="ident" id="1606209">tx</span>&nbsp;<span class="op" id="1606212">|</span>&nbsp;<span class="op" id="1606214">(</span><span class="op" id="1606215">(</span><span class="ident" id="1606216">c</span>&nbsp;<span class="op" id="1606218">&gt;&gt;</span>&nbsp;<span class="op" id="1606221">(</span><span class="num" id="1606222">1</span>&nbsp;<span class="op" id="1606224">*</span>&nbsp;<span class="ident" id="1606226">bitx</span><span class="op" id="1606230">)</span><span class="op" id="1606231">)</span>&nbsp;<span class="op" id="1606233">&amp;</span>&nbsp;<span class="ident" id="1606235">maskx</span><span class="op" id="1606240">)</span><span class="op" id="1606241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1606244">str</span><span class="op" id="1606247">[</span><span class="num" id="1606248">3</span><span class="op" id="1606249">]</span>&nbsp;<span class="op" id="1606251">=</span>&nbsp;<span class="builtintype" id="1606253">byte</span><span class="op" id="1606257">(</span><span class="ident" id="1606258">tx</span>&nbsp;<span class="op" id="1606261">|</span>&nbsp;<span class="op" id="1606263">(</span><span class="ident" id="1606264">c</span>&nbsp;<span class="op" id="1606266">&amp;</span>&nbsp;<span class="ident" id="1606268">maskx</span><span class="op" id="1606273">)</span><span class="op" id="1606274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1606277">return</span>&nbsp;<span class="num" id="1606284">4</span><br>
<span class="lineno"></span><span class="op" id="1606286">}</span>
</div>
</body>
</html>
