<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>crypto/cipher</h2>
<ul>
<li><a href="/gostd/crypto/cipher/benchmark_test.go.html">benchmark_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc.go.html">cbc.go</a></li>
<li><a href="/gostd/crypto/cipher/cbc_aes_test.go.html">cbc_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb.go.html">cfb.go</a></li>
<li><a href="/gostd/crypto/cipher/cfb_test.go.html">cfb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher.go.html">cipher.go</a></li>
<li><a href="/gostd/crypto/cipher/cipher_test.go.html">cipher_test.go</a></li>
<li><a href="/gostd/crypto/cipher/common_test.go.html">common_test.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr.go.html">ctr.go</a></li>
<li><a href="/gostd/crypto/cipher/ctr_aes_test.go.html">ctr_aes_test.go</a></li>
<li><a href="/gostd/crypto/cipher/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm.go.html">gcm.go</a></li>
<li><a href="/gostd/crypto/cipher/gcm_test.go.html">gcm_test.go</a></li>
<li><a href="/gostd/crypto/cipher/io.go.html">io.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb.go.html">ofb.go</a></li>
<li><a href="/gostd/crypto/cipher/ofb_test.go.html">ofb_test.go</a></li>
<li><a href="/gostd/crypto/cipher/xor.go.html">xor.go</a></li>
<li><a href="/gostd/crypto/cipher/xor_test.go.html" class="current">xor_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7177039">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7177094">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7177148">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7177199">package</span>&nbsp;<span class="ident" id="7177207">cipher</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7177215">import</span>&nbsp;<span class="op" id="7177222">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7177225">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7177234">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7177244">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7177247">func</span>&nbsp;<span class="ident" id="7177252">TestXOR</span><span class="op" id="7177259">(</span><span class="ident" id="7177260">t</span>&nbsp;<span class="op" id="7177262">*</span><span class="ident" id="7177263">testing</span><span class="op" id="7177270">.</span><span class="ident" id="7177271">T</span><span class="op" id="7177272">)</span>&nbsp;<span class="op" id="7177274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7177277">for</span>&nbsp;<span class="ident" id="7177281">alignP</span>&nbsp;<span class="op" id="7177288">:=</span>&nbsp;<span class="num" id="7177291">0</span><span class="op" id="7177292">;</span>&nbsp;<span class="ident" id="7177294">alignP</span>&nbsp;<span class="op" id="7177301">&lt;</span>&nbsp;<span class="num" id="7177303">2</span><span class="op" id="7177304">;</span>&nbsp;<span class="ident" id="7177306">alignP</span><span class="op" id="7177312">++</span>&nbsp;<span class="op" id="7177315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7177319">for</span>&nbsp;<span class="ident" id="7177323">alignQ</span>&nbsp;<span class="op" id="7177330">:=</span>&nbsp;<span class="num" id="7177333">0</span><span class="op" id="7177334">;</span>&nbsp;<span class="ident" id="7177336">alignQ</span>&nbsp;<span class="op" id="7177343">&lt;</span>&nbsp;<span class="num" id="7177345">2</span><span class="op" id="7177346">;</span>&nbsp;<span class="ident" id="7177348">alignQ</span><span class="op" id="7177354">++</span>&nbsp;<span class="op" id="7177357">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7177362">for</span>&nbsp;<span class="ident" id="7177366">alignD</span>&nbsp;<span class="op" id="7177373">:=</span>&nbsp;<span class="num" id="7177376">0</span><span class="op" id="7177377">;</span>&nbsp;<span class="ident" id="7177379">alignD</span>&nbsp;<span class="op" id="7177386">&lt;</span>&nbsp;<span class="num" id="7177388">2</span><span class="op" id="7177389">;</span>&nbsp;<span class="ident" id="7177391">alignD</span><span class="op" id="7177397">++</span>&nbsp;<span class="op" id="7177400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7177406">p</span>&nbsp;<span class="op" id="7177408">:=</span>&nbsp;<span class="builtinfunc" id="7177411">make</span><span class="op" id="7177415">(</span><span class="op" id="7177416">[</span><span class="op" id="7177417">]</span><span class="builtintype" id="7177418">byte</span><span class="op" id="7177422">,</span>&nbsp;<span class="num" id="7177424">1024</span><span class="op" id="7177428">)</span><span class="op" id="7177429">[</span><span class="ident" id="7177430">alignP</span><span class="op" id="7177436">:</span><span class="op" id="7177437">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7177443">q</span>&nbsp;<span class="op" id="7177445">:=</span>&nbsp;<span class="builtinfunc" id="7177448">make</span><span class="op" id="7177452">(</span><span class="op" id="7177453">[</span><span class="op" id="7177454">]</span><span class="builtintype" id="7177455">byte</span><span class="op" id="7177459">,</span>&nbsp;<span class="num" id="7177461">1024</span><span class="op" id="7177465">)</span><span class="op" id="7177466">[</span><span class="ident" id="7177467">alignQ</span><span class="op" id="7177473">:</span><span class="op" id="7177474">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7177480">d1</span>&nbsp;<span class="op" id="7177483">:=</span>&nbsp;<span class="builtinfunc" id="7177486">make</span><span class="op" id="7177490">(</span><span class="op" id="7177491">[</span><span class="op" id="7177492">]</span><span class="builtintype" id="7177493">byte</span><span class="op" id="7177497">,</span>&nbsp;<span class="num" id="7177499">1024</span><span class="op" id="7177503">+</span><span class="ident" id="7177504">alignD</span><span class="op" id="7177510">)</span><span class="op" id="7177511">[</span><span class="ident" id="7177512">alignD</span><span class="op" id="7177518">:</span><span class="op" id="7177519">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7177525">d2</span>&nbsp;<span class="op" id="7177528">:=</span>&nbsp;<span class="builtinfunc" id="7177531">make</span><span class="op" id="7177535">(</span><span class="op" id="7177536">[</span><span class="op" id="7177537">]</span><span class="builtintype" id="7177538">byte</span><span class="op" id="7177542">,</span>&nbsp;<span class="num" id="7177544">1024</span><span class="op" id="7177548">+</span><span class="ident" id="7177549">alignD</span><span class="op" id="7177555">)</span><span class="op" id="7177556">[</span><span class="ident" id="7177557">alignD</span><span class="op" id="7177563">:</span><span class="op" id="7177564">]</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7177570">xorBytes</span><span class="op" id="7177578">(</span><span class="ident" id="7177579">d1</span><span class="op" id="7177581">,</span>&nbsp;<span class="ident" id="7177583">p</span><span class="op" id="7177584">,</span>&nbsp;<span class="ident" id="7177586">q</span><span class="op" id="7177587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7177593">safeXORBytes</span><span class="op" id="7177605">(</span><span class="ident" id="7177606">d2</span><span class="op" id="7177608">,</span>&nbsp;<span class="ident" id="7177610">p</span><span class="op" id="7177611">,</span>&nbsp;<span class="ident" id="7177613">q</span><span class="op" id="7177614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7177620">if</span>&nbsp;<span class="ident" id="7177623">bytes</span><span class="op" id="7177628">.</span><span class="ident" id="7177629">Compare</span><span class="op" id="7177636">(</span><span class="ident" id="7177637">d1</span><span class="op" id="7177639">,</span>&nbsp;<span class="ident" id="7177641">d2</span><span class="op" id="7177643">)</span>&nbsp;<span class="op" id="7177645">!=</span>&nbsp;<span class="num" id="7177648">0</span>&nbsp;<span class="op" id="7177650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7177657">t</span><span class="op" id="7177658">.</span><span class="ident" id="7177659">Error</span><span class="op" id="7177664">(</span><span class="string" id="7177665">&#34;not&nbsp;equal&#34;</span><span class="op" id="7177676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7177682">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7177687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7177691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7177694">}</span><br>
<span class="lineno"></span><span class="op" id="7177696">}</span>
</div>
</body>
</html>
