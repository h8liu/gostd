<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6963869">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6963924">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6963978">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6964029">package</span>&nbsp;<span class="ident" id="6964037">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6964048">import</span>&nbsp;<span class="op" id="6964055">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964058">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964067">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964076">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964086">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964094">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964101">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964107">&#34;os/exec&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964118">&#34;regexp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964128">&#34;sort&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964136">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964147">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964158">&#34;time&#34;</span><br>
<span class="lineno">20</span><span class="op" id="6964165">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6964168">func</span>&nbsp;<span class="ident" id="6964173">TestQuotedPrintable</span><span class="op" id="6964192">(</span><span class="ident" id="6964193">t</span>&nbsp;<span class="op" id="6964195">*</span><span class="ident" id="6964196"><a href="/mime/multipart/quotedprintable_test.go.html#6964147">testing</a></span><span class="op" id="6964203">.</span><span class="ident" id="6964204">T</span><span class="op" id="6964205">)</span>&nbsp;<span class="op" id="6964207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6964210">tests</span>&nbsp;<span class="op" id="6964216">:=</span>&nbsp;<span class="op" id="6964219">[</span><span class="op" id="6964220">]</span><span class="keyword" id="6964221">struct</span>&nbsp;<span class="op" id="6964228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6964232">in</span><span class="op" id="6964234">,</span>&nbsp;<span class="ident" id="6964236">want</span>&nbsp;<span class="builtintype" id="6964241">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6964250">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6964259">interface</span><span class="op" id="6964268">{</span><span class="op" id="6964269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964272">}</span><span class="op" id="6964273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964277">{</span><span class="ident" id="6964278">in</span><span class="op" id="6964280">:</span>&nbsp;<span class="string" id="6964282">&#34;&#34;</span><span class="op" id="6964284">,</span>&nbsp;<span class="ident" id="6964286">want</span><span class="op" id="6964290">:</span>&nbsp;<span class="string" id="6964292">&#34;&#34;</span><span class="op" id="6964294">}</span><span class="op" id="6964295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964299">{</span><span class="ident" id="6964300">in</span><span class="op" id="6964302">:</span>&nbsp;<span class="string" id="6964304">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6964313">,</span>&nbsp;<span class="ident" id="6964315">want</span><span class="op" id="6964319">:</span>&nbsp;<span class="string" id="6964321">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6964330">}</span><span class="op" id="6964331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964335">{</span><span class="ident" id="6964336">in</span><span class="op" id="6964338">:</span>&nbsp;<span class="string" id="6964340">&#34;foo&nbsp;bar=3D&#34;</span><span class="op" id="6964352">,</span>&nbsp;<span class="ident" id="6964354">want</span><span class="op" id="6964358">:</span>&nbsp;<span class="string" id="6964360">&#34;foo&nbsp;bar=&#34;</span><span class="op" id="6964370">}</span><span class="op" id="6964371">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964375">{</span><span class="ident" id="6964376">in</span><span class="op" id="6964378">:</span>&nbsp;<span class="string" id="6964380">&#34;foo&nbsp;bar=\n&#34;</span><span class="op" id="6964392">,</span>&nbsp;<span class="ident" id="6964394">want</span><span class="op" id="6964398">:</span>&nbsp;<span class="string" id="6964400">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6964409">}</span><span class="op" id="6964410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964414">{</span><span class="ident" id="6964415">in</span><span class="op" id="6964417">:</span>&nbsp;<span class="string" id="6964419">&#34;foo&nbsp;bar\n&#34;</span><span class="op" id="6964430">,</span>&nbsp;<span class="ident" id="6964432">want</span><span class="op" id="6964436">:</span>&nbsp;<span class="string" id="6964438">&#34;foo&nbsp;bar\n&#34;</span><span class="op" id="6964449">}</span><span class="op" id="6964450">,</span>&nbsp;<span class="comment" id="6964452">//&nbsp;somewhat&nbsp;lax.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964471">{</span><span class="ident" id="6964472">in</span><span class="op" id="6964474">:</span>&nbsp;<span class="string" id="6964476">&#34;foo&nbsp;bar=0&#34;</span><span class="op" id="6964487">,</span>&nbsp;<span class="ident" id="6964489">want</span><span class="op" id="6964493">:</span>&nbsp;<span class="string" id="6964495">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6964504">,</span>&nbsp;<span class="ident" id="6964506">err</span><span class="op" id="6964509">:</span>&nbsp;<span class="ident" id="6964511"><a href="/mime/multipart/quotedprintable_test.go.html#6964101">io</a></span><span class="op" id="6964513">.</span><span class="ident" id="6964514">ErrUnexpectedEOF</span><span class="op" id="6964530">}</span><span class="op" id="6964531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964535">{</span><span class="ident" id="6964536">in</span><span class="op" id="6964538">:</span>&nbsp;<span class="string" id="6964540">&#34;foo&nbsp;bar=ab&#34;</span><span class="op" id="6964552">,</span>&nbsp;<span class="ident" id="6964554">want</span><span class="op" id="6964558">:</span>&nbsp;<span class="string" id="6964560">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6964569">,</span>&nbsp;<span class="ident" id="6964571">err</span><span class="op" id="6964574">:</span>&nbsp;<span class="string" id="6964576">&#34;multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x61&#34;</span><span class="op" id="6964627">}</span><span class="op" id="6964628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964632">{</span><span class="ident" id="6964633">in</span><span class="op" id="6964635">:</span>&nbsp;<span class="string" id="6964637">&#34;foo&nbsp;bar=0D=0A&#34;</span><span class="op" id="6964652">,</span>&nbsp;<span class="ident" id="6964654">want</span><span class="op" id="6964658">:</span>&nbsp;<span class="string" id="6964660">&#34;foo&nbsp;bar\r\n&#34;</span><span class="op" id="6964673">}</span><span class="op" id="6964674">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964678">{</span><span class="ident" id="6964679">in</span><span class="op" id="6964681">:</span>&nbsp;<span class="string" id="6964683">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n&nbsp;C&nbsp;&#34;</span><span class="op" id="6964704">,</span>&nbsp;<span class="ident" id="6964706">want</span><span class="op" id="6964710">:</span>&nbsp;<span class="string" id="6964712">&#34;&nbsp;A&nbsp;B\r\n&nbsp;C&#34;</span><span class="op" id="6964724">}</span><span class="op" id="6964725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964729">{</span><span class="ident" id="6964730">in</span><span class="op" id="6964732">:</span>&nbsp;<span class="string" id="6964734">&#34;&nbsp;A&nbsp;B&nbsp;=\r\n&nbsp;C&nbsp;&#34;</span><span class="op" id="6964749">,</span>&nbsp;<span class="ident" id="6964751">want</span><span class="op" id="6964755">:</span>&nbsp;<span class="string" id="6964757">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;C&#34;</span><span class="op" id="6964766">}</span><span class="op" id="6964767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964771">{</span><span class="ident" id="6964772">in</span><span class="op" id="6964774">:</span>&nbsp;<span class="string" id="6964776">&#34;&nbsp;A&nbsp;B&nbsp;=\n&nbsp;C&nbsp;&#34;</span><span class="op" id="6964789">,</span>&nbsp;<span class="ident" id="6964791">want</span><span class="op" id="6964795">:</span>&nbsp;<span class="string" id="6964797">&#34;&nbsp;A&nbsp;B&nbsp;&nbsp;C&#34;</span><span class="op" id="6964806">}</span><span class="op" id="6964807">,</span>&nbsp;<span class="comment" id="6964809">//&nbsp;lax.&nbsp;treating&nbsp;LF&nbsp;as&nbsp;CRLF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964839">{</span><span class="ident" id="6964840">in</span><span class="op" id="6964842">:</span>&nbsp;<span class="string" id="6964844">&#34;foo=\nbar&#34;</span><span class="op" id="6964855">,</span>&nbsp;<span class="ident" id="6964857">want</span><span class="op" id="6964861">:</span>&nbsp;<span class="string" id="6964863">&#34;foobar&#34;</span><span class="op" id="6964871">}</span><span class="op" id="6964872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964876">{</span><span class="ident" id="6964877">in</span><span class="op" id="6964879">:</span>&nbsp;<span class="string" id="6964881">&#34;foo\x00bar&#34;</span><span class="op" id="6964893">,</span>&nbsp;<span class="ident" id="6964895">want</span><span class="op" id="6964899">:</span>&nbsp;<span class="string" id="6964901">&#34;foo&#34;</span><span class="op" id="6964906">,</span>&nbsp;<span class="ident" id="6964908">err</span><span class="op" id="6964911">:</span>&nbsp;<span class="string" id="6964913">&#34;multipart:&nbsp;invalid&nbsp;unescaped&nbsp;byte&nbsp;0x00&nbsp;in&nbsp;quoted-printable&nbsp;body&#34;</span><span class="op" id="6964978">}</span><span class="op" id="6964979">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6964983">{</span><span class="ident" id="6964984">in</span><span class="op" id="6964986">:</span>&nbsp;<span class="string" id="6964988">&#34;foo&nbsp;bar\xff&#34;</span><span class="op" id="6965001">,</span>&nbsp;<span class="ident" id="6965003">want</span><span class="op" id="6965007">:</span>&nbsp;<span class="string" id="6965009">&#34;foo&nbsp;bar&#34;</span><span class="op" id="6965018">,</span>&nbsp;<span class="ident" id="6965020">err</span><span class="op" id="6965023">:</span>&nbsp;<span class="string" id="6965025">&#34;multipart:&nbsp;invalid&nbsp;unescaped&nbsp;byte&nbsp;0xff&nbsp;in&nbsp;quoted-printable&nbsp;body&#34;</span><span class="op" id="6965090">}</span><span class="op" id="6965091">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965096">//&nbsp;Equal&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965113">{</span><span class="ident" id="6965114">in</span><span class="op" id="6965116">:</span>&nbsp;<span class="string" id="6965118">&#34;=3D30\n&#34;</span><span class="op" id="6965127">,</span>&nbsp;<span class="ident" id="6965129">want</span><span class="op" id="6965133">:</span>&nbsp;<span class="string" id="6965135">&#34;=30\n&#34;</span><span class="op" id="6965142">}</span><span class="op" id="6965143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965147">{</span><span class="ident" id="6965148">in</span><span class="op" id="6965150">:</span>&nbsp;<span class="string" id="6965152">&#34;=00=FF0=\n&#34;</span><span class="op" id="6965164">,</span>&nbsp;<span class="ident" id="6965166">want</span><span class="op" id="6965170">:</span>&nbsp;<span class="string" id="6965172">&#34;\x00\xff0&#34;</span><span class="op" id="6965183">}</span><span class="op" id="6965184">,</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965189">//&nbsp;Trailing&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965214">{</span><span class="ident" id="6965215">in</span><span class="op" id="6965217">:</span>&nbsp;<span class="string" id="6965219">&#34;foo&nbsp;&nbsp;\n&#34;</span><span class="op" id="6965228">,</span>&nbsp;<span class="ident" id="6965230">want</span><span class="op" id="6965234">:</span>&nbsp;<span class="string" id="6965236">&#34;foo\n&#34;</span><span class="op" id="6965243">}</span><span class="op" id="6965244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965248">{</span><span class="ident" id="6965249">in</span><span class="op" id="6965251">:</span>&nbsp;<span class="string" id="6965253">&#34;foo&nbsp;&nbsp;\n\nfoo&nbsp;=\n\nfoo=20\n\n&#34;</span><span class="op" id="6965283">,</span>&nbsp;<span class="ident" id="6965285">want</span><span class="op" id="6965289">:</span>&nbsp;<span class="string" id="6965291">&#34;foo\n\nfoo&nbsp;\nfoo&nbsp;\n\n&#34;</span><span class="op" id="6965314">}</span><span class="op" id="6965315">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965320">//&nbsp;Tests&nbsp;that&nbsp;we&nbsp;allow&nbsp;bare&nbsp;\n&nbsp;and&nbsp;\r&nbsp;through,&nbsp;despite&nbsp;it&nbsp;being&nbsp;strictly</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965395">//&nbsp;not&nbsp;permitted&nbsp;per&nbsp;RFC&nbsp;2045,&nbsp;Section&nbsp;6.7&nbsp;Page&nbsp;22&nbsp;bullet&nbsp;(4).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965460">{</span><span class="ident" id="6965461">in</span><span class="op" id="6965463">:</span>&nbsp;<span class="string" id="6965465">&#34;foo\nbar&#34;</span><span class="op" id="6965475">,</span>&nbsp;<span class="ident" id="6965477">want</span><span class="op" id="6965481">:</span>&nbsp;<span class="string" id="6965483">&#34;foo\nbar&#34;</span><span class="op" id="6965493">}</span><span class="op" id="6965494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965498">{</span><span class="ident" id="6965499">in</span><span class="op" id="6965501">:</span>&nbsp;<span class="string" id="6965503">&#34;foo\rbar&#34;</span><span class="op" id="6965513">,</span>&nbsp;<span class="ident" id="6965515">want</span><span class="op" id="6965519">:</span>&nbsp;<span class="string" id="6965521">&#34;foo\rbar&#34;</span><span class="op" id="6965531">}</span><span class="op" id="6965532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965536">{</span><span class="ident" id="6965537">in</span><span class="op" id="6965539">:</span>&nbsp;<span class="string" id="6965541">&#34;foo\r\nbar&#34;</span><span class="op" id="6965553">,</span>&nbsp;<span class="ident" id="6965555">want</span><span class="op" id="6965559">:</span>&nbsp;<span class="string" id="6965561">&#34;foo\r\nbar&#34;</span><span class="op" id="6965573">}</span><span class="op" id="6965574">,</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965579">//&nbsp;Different&nbsp;types&nbsp;of&nbsp;soft&nbsp;line-breaks.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965621">{</span><span class="ident" id="6965622">in</span><span class="op" id="6965624">:</span>&nbsp;<span class="string" id="6965626">&#34;foo=\r\nbar&#34;</span><span class="op" id="6965639">,</span>&nbsp;<span class="ident" id="6965641">want</span><span class="op" id="6965645">:</span>&nbsp;<span class="string" id="6965647">&#34;foobar&#34;</span><span class="op" id="6965655">}</span><span class="op" id="6965656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965660">{</span><span class="ident" id="6965661">in</span><span class="op" id="6965663">:</span>&nbsp;<span class="string" id="6965665">&#34;foo=\nbar&#34;</span><span class="op" id="6965676">,</span>&nbsp;<span class="ident" id="6965678">want</span><span class="op" id="6965682">:</span>&nbsp;<span class="string" id="6965684">&#34;foobar&#34;</span><span class="op" id="6965692">}</span><span class="op" id="6965693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965697">{</span><span class="ident" id="6965698">in</span><span class="op" id="6965700">:</span>&nbsp;<span class="string" id="6965702">&#34;foo=\rbar&#34;</span><span class="op" id="6965713">,</span>&nbsp;<span class="ident" id="6965715">want</span><span class="op" id="6965719">:</span>&nbsp;<span class="string" id="6965721">&#34;foo&#34;</span><span class="op" id="6965726">,</span>&nbsp;<span class="ident" id="6965728">err</span><span class="op" id="6965731">:</span>&nbsp;<span class="string" id="6965733">&#34;multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0d&#34;</span><span class="op" id="6965784">}</span><span class="op" id="6965785">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965789">{</span><span class="ident" id="6965790">in</span><span class="op" id="6965792">:</span>&nbsp;<span class="string" id="6965794">&#34;foo=\r\r\r&nbsp;\nbar&#34;</span><span class="op" id="6965812">,</span>&nbsp;<span class="ident" id="6965814">want</span><span class="op" id="6965818">:</span>&nbsp;<span class="string" id="6965820">&#34;foo&#34;</span><span class="op" id="6965825">,</span>&nbsp;<span class="ident" id="6965827">err</span><span class="op" id="6965830">:</span>&nbsp;<span class="string" id="6965832">`multipart:&nbsp;invalid&nbsp;bytes&nbsp;after&nbsp;=:&nbsp;&#34;\r\r\r&nbsp;\n&#34;`</span><span class="op" id="6965879">}</span><span class="op" id="6965880">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965885">//&nbsp;Example&nbsp;from&nbsp;RFC&nbsp;2045:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965913">{</span><span class="ident" id="6965914">in</span><span class="op" id="6965916">:</span>&nbsp;<span class="string" id="6965918">&#34;Now&#39;s&nbsp;the&nbsp;time&nbsp;=\n&#34;</span>&nbsp;<span class="op" id="6965939">+</span>&nbsp;<span class="string" id="6965941">&#34;for&nbsp;all&nbsp;folk&nbsp;to&nbsp;come=\n&#34;</span>&nbsp;<span class="op" id="6965967">+</span>&nbsp;<span class="string" id="6965969">&#34;&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&nbsp;country.&#34;</span><span class="op" id="6966000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966005">want</span><span class="op" id="6966009">:</span>&nbsp;<span class="string" id="6966011">&#34;Now&#39;s&nbsp;the&nbsp;time&nbsp;for&nbsp;all&nbsp;folk&nbsp;to&nbsp;come&nbsp;to&nbsp;the&nbsp;aid&nbsp;of&nbsp;their&nbsp;country.&#34;</span><span class="op" id="6966077">}</span><span class="op" id="6966078">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966084">for</span>&nbsp;<span class="ident" id="6966088">_</span><span class="op" id="6966089">,</span>&nbsp;<span class="ident" id="6966091">tt</span>&nbsp;<span class="op" id="6966094">:=</span>&nbsp;<span class="keyword" id="6966097">range</span>&nbsp;<span class="ident" id="6966103"><a href="/mime/multipart/quotedprintable_test.go.html#6964210">tests</a></span>&nbsp;<span class="op" id="6966109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966113">var</span>&nbsp;<span class="ident" id="6966117">buf</span>&nbsp;<span class="ident" id="6966121"><a href="/mime/multipart/quotedprintable_test.go.html#6964067">bytes</a></span><span class="op" id="6966126">.</span><span class="ident" id="6966127">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966136">_</span><span class="op" id="6966137">,</span>&nbsp;<span class="ident" id="6966139">err</span>&nbsp;<span class="op" id="6966143">:=</span>&nbsp;<span class="ident" id="6966146"><a href="/mime/multipart/quotedprintable_test.go.html#6964101">io</a></span><span class="op" id="6966148">.</span><span class="ident" id="6966149">Copy</span><span class="op" id="6966153">(</span><span class="op" id="6966154">&amp;</span><span class="ident" id="6966155"><a href="/mime/multipart/quotedprintable_test.go.html#6966117">buf</a></span><span class="op" id="6966158">,</span>&nbsp;<span class="ident" id="6966160"><a href="/mime/multipart/quotedprintable.go.html#3618918">newQuotedPrintableReader</a></span><span class="op" id="6966184">(</span><span class="ident" id="6966185"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6966192">.</span><span class="ident" id="6966193">NewReader</span><span class="op" id="6966202">(</span><span class="ident" id="6966203"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966205">.</span><span class="ident" id="6966206">in</span><span class="op" id="6966208">)</span><span class="op" id="6966209">)</span><span class="op" id="6966210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966214">if</span>&nbsp;<span class="ident" id="6966217">got</span>&nbsp;<span class="op" id="6966221">:=</span>&nbsp;<span class="ident" id="6966224"><a href="/mime/multipart/quotedprintable_test.go.html#6966117">buf</a></span><span class="op" id="6966227">.</span><span class="ident" id="6966228">String</span><span class="op" id="6966234">(</span><span class="op" id="6966235">)</span><span class="op" id="6966236">;</span>&nbsp;<span class="ident" id="6966238"><a href="/mime/multipart/quotedprintable_test.go.html#6966217">got</a></span>&nbsp;<span class="op" id="6966242">!=</span>&nbsp;<span class="ident" id="6966245"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966247">.</span><span class="ident" id="6966248">want</span>&nbsp;<span class="op" id="6966253">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966258"><a href="/mime/multipart/quotedprintable_test.go.html#6964193">t</a></span><span class="op" id="6966259">.</span><span class="ident" id="6966260">Errorf</span><span class="op" id="6966266">(</span><span class="string" id="6966267">&#34;for&nbsp;%q,&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6966292">,</span>&nbsp;<span class="ident" id="6966294"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966296">.</span><span class="ident" id="6966297">in</span><span class="op" id="6966299">,</span>&nbsp;<span class="ident" id="6966301"><a href="/mime/multipart/quotedprintable_test.go.html#6966217">got</a></span><span class="op" id="6966304">,</span>&nbsp;<span class="ident" id="6966306"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966308">.</span><span class="ident" id="6966309">want</span><span class="op" id="6966313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966321">switch</span>&nbsp;<span class="ident" id="6966328">verr</span>&nbsp;<span class="op" id="6966333">:=</span>&nbsp;<span class="ident" id="6966336"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966338">.</span><span class="ident" id="6966339">err</span><span class="op" id="6966342">.</span><span class="op" id="6966343">(</span><span class="keyword" id="6966344">type</span><span class="op" id="6966348">)</span>&nbsp;<span class="op" id="6966350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966354">case</span>&nbsp;<span class="ident" id="6966359">nil</span><span class="op" id="6966362">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966367">if</span>&nbsp;<span class="ident" id="6966370"><a href="/mime/multipart/quotedprintable_test.go.html#6966139">err</a></span>&nbsp;<span class="op" id="6966374">!=</span>&nbsp;<span class="ident" id="6966377">nil</span>&nbsp;<span class="op" id="6966381">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966387"><a href="/mime/multipart/quotedprintable_test.go.html#6964193">t</a></span><span class="op" id="6966388">.</span><span class="ident" id="6966389">Errorf</span><span class="op" id="6966395">(</span><span class="string" id="6966396">&#34;for&nbsp;%q,&nbsp;got&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="6966430">,</span>&nbsp;<span class="ident" id="6966432"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966434">.</span><span class="ident" id="6966435">in</span><span class="op" id="6966437">,</span>&nbsp;<span class="ident" id="6966439"><a href="/mime/multipart/quotedprintable_test.go.html#6966139">err</a></span><span class="op" id="6966442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966451">case</span>&nbsp;<span class="builtintype" id="6966456">string</span><span class="op" id="6966462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966467">if</span>&nbsp;<span class="ident" id="6966470">got</span>&nbsp;<span class="op" id="6966474">:=</span>&nbsp;<span class="ident" id="6966477"><a href="/mime/multipart/quotedprintable_test.go.html#6964094">fmt</a></span><span class="op" id="6966480">.</span><span class="ident" id="6966481">Sprint</span><span class="op" id="6966487">(</span><span class="ident" id="6966488"><a href="/mime/multipart/quotedprintable_test.go.html#6966139">err</a></span><span class="op" id="6966491">)</span><span class="op" id="6966492">;</span>&nbsp;<span class="ident" id="6966494"><a href="/mime/multipart/quotedprintable_test.go.html#6966470">got</a></span>&nbsp;<span class="op" id="6966498">!=</span>&nbsp;<span class="ident" id="6966501"><a href="/mime/multipart/quotedprintable_test.go.html#6966328">verr</a></span>&nbsp;<span class="op" id="6966506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966512"><a href="/mime/multipart/quotedprintable_test.go.html#6964193">t</a></span><span class="op" id="6966513">.</span><span class="ident" id="6966514">Errorf</span><span class="op" id="6966520">(</span><span class="string" id="6966521">&#34;for&nbsp;%q,&nbsp;got&nbsp;error&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6966552">,</span>&nbsp;<span class="ident" id="6966554"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966556">.</span><span class="ident" id="6966557">in</span><span class="op" id="6966559">,</span>&nbsp;<span class="ident" id="6966561"><a href="/mime/multipart/quotedprintable_test.go.html#6966470">got</a></span><span class="op" id="6966564">,</span>&nbsp;<span class="ident" id="6966566"><a href="/mime/multipart/quotedprintable_test.go.html#6966328">verr</a></span><span class="op" id="6966570">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966579">case</span>&nbsp;<span class="builtintype" id="6966584">error</span><span class="op" id="6966589">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966594">if</span>&nbsp;<span class="ident" id="6966597"><a href="/mime/multipart/quotedprintable_test.go.html#6966139">err</a></span>&nbsp;<span class="op" id="6966601">!=</span>&nbsp;<span class="ident" id="6966604"><a href="/mime/multipart/quotedprintable_test.go.html#6966328">verr</a></span>&nbsp;<span class="op" id="6966609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966615"><a href="/mime/multipart/quotedprintable_test.go.html#6964193">t</a></span><span class="op" id="6966616">.</span><span class="ident" id="6966617">Errorf</span><span class="op" id="6966623">(</span><span class="string" id="6966624">&#34;for&nbsp;%q,&nbsp;got&nbsp;error&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6966655">,</span>&nbsp;<span class="ident" id="6966657"><a href="/mime/multipart/quotedprintable_test.go.html#6966091">tt</a></span><span class="op" id="6966659">.</span><span class="ident" id="6966660">in</span><span class="op" id="6966662">,</span>&nbsp;<span class="ident" id="6966664"><a href="/mime/multipart/quotedprintable_test.go.html#6966139">err</a></span><span class="op" id="6966667">,</span>&nbsp;<span class="ident" id="6966669"><a href="/mime/multipart/quotedprintable_test.go.html#6966328">verr</a></span><span class="op" id="6966673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966678">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="op" id="6966688">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6966691">func</span>&nbsp;<span class="ident" id="6966696">everySequence</span><span class="op" id="6966709">(</span><span class="ident" id="6966710">base</span><span class="op" id="6966714">,</span>&nbsp;<span class="ident" id="6966716">alpha</span>&nbsp;<span class="builtintype" id="6966722">string</span><span class="op" id="6966728">,</span>&nbsp;<span class="ident" id="6966730">length</span>&nbsp;<span class="builtintype" id="6966737">int</span><span class="op" id="6966740">,</span>&nbsp;<span class="ident" id="6966742">fn</span>&nbsp;<span class="keyword" id="6966745">func</span><span class="op" id="6966749">(</span><span class="builtintype" id="6966750">string</span><span class="op" id="6966756">)</span><span class="op" id="6966757">)</span>&nbsp;<span class="op" id="6966759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966762">if</span>&nbsp;<span class="builtinfunc" id="6966765">len</span><span class="op" id="6966768">(</span><span class="ident" id="6966769"><a href="/mime/multipart/quotedprintable_test.go.html#6966710">base</a></span><span class="op" id="6966773">)</span>&nbsp;<span class="op" id="6966775">==</span>&nbsp;<span class="ident" id="6966778"><a href="/mime/multipart/quotedprintable_test.go.html#6966730">length</a></span>&nbsp;<span class="op" id="6966785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966789"><a href="/mime/multipart/quotedprintable_test.go.html#6966742">fn</a></span><span class="op" id="6966791">(</span><span class="ident" id="6966792"><a href="/mime/multipart/quotedprintable_test.go.html#6966710">base</a></span><span class="op" id="6966796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966800">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966808">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966811">for</span>&nbsp;<span class="ident" id="6966815">i</span>&nbsp;<span class="op" id="6966817">:=</span>&nbsp;<span class="num" id="6966820">0</span><span class="op" id="6966821">;</span>&nbsp;<span class="ident" id="6966823"><a href="/mime/multipart/quotedprintable_test.go.html#6966815">i</a></span>&nbsp;<span class="op" id="6966825">&lt;</span>&nbsp;<span class="builtinfunc" id="6966827">len</span><span class="op" id="6966830">(</span><span class="ident" id="6966831"><a href="/mime/multipart/quotedprintable_test.go.html#6966716">alpha</a></span><span class="op" id="6966836">)</span><span class="op" id="6966837">;</span>&nbsp;<span class="ident" id="6966839"><a href="/mime/multipart/quotedprintable_test.go.html#6966815">i</a></span><span class="op" id="6966840">++</span>&nbsp;<span class="op" id="6966843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966847"><a href="/mime/multipart/quotedprintable_test.go.html#6966696">everySequence</a></span><span class="op" id="6966860">(</span><span class="ident" id="6966861"><a href="/mime/multipart/quotedprintable_test.go.html#6966710">base</a></span><span class="op" id="6966865">+</span><span class="ident" id="6966866"><a href="/mime/multipart/quotedprintable_test.go.html#6966716">alpha</a></span><span class="op" id="6966871">[</span><span class="ident" id="6966872"><a href="/mime/multipart/quotedprintable_test.go.html#6966815">i</a></span><span class="op" id="6966873">:</span><span class="ident" id="6966874"><a href="/mime/multipart/quotedprintable_test.go.html#6966815">i</a></span><span class="op" id="6966875">+</span><span class="num" id="6966876">1</span><span class="op" id="6966877">]</span><span class="op" id="6966878">,</span>&nbsp;<span class="ident" id="6966880"><a href="/mime/multipart/quotedprintable_test.go.html#6966716">alpha</a></span><span class="op" id="6966885">,</span>&nbsp;<span class="ident" id="6966887"><a href="/mime/multipart/quotedprintable_test.go.html#6966730">length</a></span><span class="op" id="6966893">,</span>&nbsp;<span class="ident" id="6966895"><a href="/mime/multipart/quotedprintable_test.go.html#6966742">fn</a></span><span class="op" id="6966897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966900">}</span><br>
<span class="lineno"></span><span class="op" id="6966902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="6966905">var</span>&nbsp;<span class="ident" id="6966909">useQprint</span>&nbsp;<span class="op" id="6966919">=</span>&nbsp;<span class="ident" id="6966921"><a href="/mime/multipart/quotedprintable_test.go.html#6964086">flag</a></span><span class="op" id="6966925">.</span><span class="ident" id="6966926">Bool</span><span class="op" id="6966930">(</span><span class="string" id="6966931">&#34;qprint&#34;</span><span class="op" id="6966939">,</span>&nbsp;<span class="builtintype" id="6966941">false</span><span class="op" id="6966946">,</span>&nbsp;<span class="string" id="6966948">&#34;Compare&nbsp;against&nbsp;the&nbsp;&#39;qprint&#39;&nbsp;program.&#34;</span><span class="op" id="6966987">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6966990">var</span>&nbsp;<span class="ident" id="6966994">badSoftRx</span>&nbsp;<span class="op" id="6967004">=</span>&nbsp;<span class="ident" id="6967006"><a href="/mime/multipart/quotedprintable_test.go.html#6964118">regexp</a></span><span class="op" id="6967012">.</span><span class="ident" id="6967013">MustCompile</span><span class="op" id="6967024">(</span><span class="string" id="6967025">`=([^\r\n]+?\n)|([^\r\n]+$)|(\r$)|(\r[^\n]+\n)|(&nbsp;\r\n)`</span><span class="op" id="6967080">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6967083">func</span>&nbsp;<span class="ident" id="6967088">TestQPExhaustive</span><span class="op" id="6967104">(</span><span class="ident" id="6967105">t</span>&nbsp;<span class="op" id="6967107">*</span><span class="ident" id="6967108"><a href="/mime/multipart/quotedprintable_test.go.html#6964147">testing</a></span><span class="op" id="6967115">.</span><span class="ident" id="6967116">T</span><span class="op" id="6967117">)</span>&nbsp;<span class="op" id="6967119">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967122">if</span>&nbsp;<span class="op" id="6967125">*</span><span class="ident" id="6967126"><a href="/mime/multipart/quotedprintable_test.go.html#6966909">useQprint</a></span>&nbsp;<span class="op" id="6967136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967140">_</span><span class="op" id="6967141">,</span>&nbsp;<span class="ident" id="6967143">err</span>&nbsp;<span class="op" id="6967147">:=</span>&nbsp;<span class="ident" id="6967150"><a href="/mime/multipart/quotedprintable_test.go.html#6964107">exec</a></span><span class="op" id="6967154">.</span><span class="ident" id="6967155">LookPath</span><span class="op" id="6967163">(</span><span class="string" id="6967164">&#34;qprint&#34;</span><span class="op" id="6967172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967176">if</span>&nbsp;<span class="ident" id="6967179"><a href="/mime/multipart/quotedprintable_test.go.html#6967143">err</a></span>&nbsp;<span class="op" id="6967183">!=</span>&nbsp;<span class="ident" id="6967186">nil</span>&nbsp;<span class="op" id="6967190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967195"><a href="/mime/multipart/quotedprintable_test.go.html#6967105">t</a></span><span class="op" id="6967196">.</span><span class="ident" id="6967197">Fatalf</span><span class="op" id="6967203">(</span><span class="string" id="6967204">&#34;Error&nbsp;looking&nbsp;for&nbsp;qprint:&nbsp;%v&#34;</span><span class="op" id="6967234">,</span>&nbsp;<span class="ident" id="6967236"><a href="/mime/multipart/quotedprintable_test.go.html#6967143">err</a></span><span class="op" id="6967239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967243">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967250">var</span>&nbsp;<span class="ident" id="6967254">buf</span>&nbsp;<span class="ident" id="6967258"><a href="/mime/multipart/quotedprintable_test.go.html#6964067">bytes</a></span><span class="op" id="6967263">.</span><span class="ident" id="6967264">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967272">res</span>&nbsp;<span class="op" id="6967276">:=</span>&nbsp;<span class="builtinfunc" id="6967279">make</span><span class="op" id="6967283">(</span><span class="keyword" id="6967284">map</span><span class="op" id="6967287">[</span><span class="builtintype" id="6967288">string</span><span class="op" id="6967294">]</span><span class="builtintype" id="6967295">int</span><span class="op" id="6967298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967301"><a href="/mime/multipart/quotedprintable_test.go.html#6966696">everySequence</a></span><span class="op" id="6967314">(</span><span class="string" id="6967315">&#34;&#34;</span><span class="op" id="6967317">,</span>&nbsp;<span class="string" id="6967319">&#34;0A&nbsp;\r\n=&#34;</span><span class="op" id="6967329">,</span>&nbsp;<span class="num" id="6967331">6</span><span class="op" id="6967332">,</span>&nbsp;<span class="keyword" id="6967334">func</span><span class="op" id="6967338">(</span><span class="ident" id="6967339">s</span>&nbsp;<span class="builtintype" id="6967341">string</span><span class="op" id="6967347">)</span>&nbsp;<span class="op" id="6967349">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967353">if</span>&nbsp;<span class="ident" id="6967356"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967363">.</span><span class="ident" id="6967364">HasSuffix</span><span class="op" id="6967373">(</span><span class="ident" id="6967374"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967375">,</span>&nbsp;<span class="string" id="6967377">&#34;=&#34;</span><span class="op" id="6967380">)</span>&nbsp;<span class="op" id="6967382">||</span>&nbsp;<span class="ident" id="6967385"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967392">.</span><span class="ident" id="6967393">Contains</span><span class="op" id="6967401">(</span><span class="ident" id="6967402"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967403">,</span>&nbsp;<span class="string" id="6967405">&#34;==&#34;</span><span class="op" id="6967409">)</span>&nbsp;<span class="op" id="6967411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967416">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967429"><a href="/mime/multipart/quotedprintable_test.go.html#6967254">buf</a></span><span class="op" id="6967432">.</span><span class="ident" id="6967433">Reset</span><span class="op" id="6967438">(</span><span class="op" id="6967439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967443">_</span><span class="op" id="6967444">,</span>&nbsp;<span class="ident" id="6967446">err</span>&nbsp;<span class="op" id="6967450">:=</span>&nbsp;<span class="ident" id="6967453"><a href="/mime/multipart/quotedprintable_test.go.html#6964101">io</a></span><span class="op" id="6967455">.</span><span class="ident" id="6967456">Copy</span><span class="op" id="6967460">(</span><span class="op" id="6967461">&amp;</span><span class="ident" id="6967462"><a href="/mime/multipart/quotedprintable_test.go.html#6967254">buf</a></span><span class="op" id="6967465">,</span>&nbsp;<span class="ident" id="6967467"><a href="/mime/multipart/quotedprintable.go.html#3618918">newQuotedPrintableReader</a></span><span class="op" id="6967491">(</span><span class="ident" id="6967492"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967499">.</span><span class="ident" id="6967500">NewReader</span><span class="op" id="6967509">(</span><span class="ident" id="6967510"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967511">)</span><span class="op" id="6967512">)</span><span class="op" id="6967513">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967517">if</span>&nbsp;<span class="ident" id="6967520"><a href="/mime/multipart/quotedprintable_test.go.html#6967446">err</a></span>&nbsp;<span class="op" id="6967524">!=</span>&nbsp;<span class="ident" id="6967527">nil</span>&nbsp;<span class="op" id="6967531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967536">errStr</span>&nbsp;<span class="op" id="6967543">:=</span>&nbsp;<span class="ident" id="6967546"><a href="/mime/multipart/quotedprintable_test.go.html#6967446">err</a></span><span class="op" id="6967549">.</span><span class="ident" id="6967550">Error</span><span class="op" id="6967555">(</span><span class="op" id="6967556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967561">if</span>&nbsp;<span class="ident" id="6967564"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967571">.</span><span class="ident" id="6967572">Contains</span><span class="op" id="6967580">(</span><span class="ident" id="6967581"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6967587">,</span>&nbsp;<span class="string" id="6967589">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=:&#34;</span><span class="op" id="6967613">)</span>&nbsp;<span class="op" id="6967615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967621"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span>&nbsp;<span class="op" id="6967628">=</span>&nbsp;<span class="string" id="6967630">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967657">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967662"><a href="/mime/multipart/quotedprintable_test.go.html#6967272">res</a></span><span class="op" id="6967665">[</span><span class="ident" id="6967666"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6967672">]</span><span class="op" id="6967673">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967679">if</span>&nbsp;<span class="ident" id="6967682"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967689">.</span><span class="ident" id="6967690">Contains</span><span class="op" id="6967698">(</span><span class="ident" id="6967699"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6967705">,</span>&nbsp;<span class="string" id="6967707">&#34;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;&#34;</span><span class="op" id="6967743">)</span>&nbsp;<span class="op" id="6967745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967751">if</span>&nbsp;<span class="ident" id="6967754"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967761">.</span><span class="ident" id="6967762">HasSuffix</span><span class="op" id="6967771">(</span><span class="ident" id="6967772"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6967778">,</span>&nbsp;<span class="string" id="6967780">&#34;0x20&#34;</span><span class="op" id="6967786">)</span>&nbsp;<span class="op" id="6967788">&amp;&amp;</span>&nbsp;<span class="op" id="6967791">(</span><span class="ident" id="6967792"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967799">.</span><span class="ident" id="6967800">Contains</span><span class="op" id="6967808">(</span><span class="ident" id="6967809"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967810">,</span>&nbsp;<span class="string" id="6967812">&#34;=0&nbsp;&#34;</span><span class="op" id="6967817">)</span>&nbsp;<span class="op" id="6967819">||</span>&nbsp;<span class="ident" id="6967822"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967829">.</span><span class="ident" id="6967830">Contains</span><span class="op" id="6967838">(</span><span class="ident" id="6967839"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967840">,</span>&nbsp;<span class="string" id="6967842">&#34;=A&nbsp;&#34;</span><span class="op" id="6967847">)</span>&nbsp;<span class="op" id="6967849">||</span>&nbsp;<span class="ident" id="6967852"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967859">.</span><span class="ident" id="6967860">Contains</span><span class="op" id="6967868">(</span><span class="ident" id="6967869"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967870">,</span>&nbsp;<span class="string" id="6967872">&#34;=&nbsp;&#34;</span><span class="op" id="6967876">)</span><span class="op" id="6967877">)</span>&nbsp;<span class="op" id="6967879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967886">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967897">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967903">if</span>&nbsp;<span class="ident" id="6967906"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967913">.</span><span class="ident" id="6967914">HasSuffix</span><span class="op" id="6967923">(</span><span class="ident" id="6967924"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6967930">,</span>&nbsp;<span class="string" id="6967932">&#34;0x3d&#34;</span><span class="op" id="6967938">)</span>&nbsp;<span class="op" id="6967940">&amp;&amp;</span>&nbsp;<span class="op" id="6967943">(</span><span class="ident" id="6967944"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967951">.</span><span class="ident" id="6967952">Contains</span><span class="op" id="6967960">(</span><span class="ident" id="6967961"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967962">,</span>&nbsp;<span class="string" id="6967964">&#34;=0=&#34;</span><span class="op" id="6967969">)</span>&nbsp;<span class="op" id="6967971">||</span>&nbsp;<span class="ident" id="6967974"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6967981">.</span><span class="ident" id="6967982">Contains</span><span class="op" id="6967990">(</span><span class="ident" id="6967991"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6967992">,</span>&nbsp;<span class="string" id="6967994">&#34;=A=&#34;</span><span class="op" id="6967999">)</span><span class="op" id="6968000">)</span>&nbsp;<span class="op" id="6968002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968009">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968026">if</span>&nbsp;<span class="ident" id="6968029"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6968036">.</span><span class="ident" id="6968037">HasSuffix</span><span class="op" id="6968046">(</span><span class="ident" id="6968047"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6968053">,</span>&nbsp;<span class="string" id="6968055">&#34;0x0a&#34;</span><span class="op" id="6968061">)</span>&nbsp;<span class="op" id="6968063">||</span>&nbsp;<span class="ident" id="6968066"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6968073">.</span><span class="ident" id="6968074">HasSuffix</span><span class="op" id="6968083">(</span><span class="ident" id="6968084"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6968090">,</span>&nbsp;<span class="string" id="6968092">&#34;0x0d&#34;</span><span class="op" id="6968098">)</span>&nbsp;<span class="op" id="6968100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6968107">//&nbsp;bunch&nbsp;of&nbsp;cases;&nbsp;since&nbsp;whitespace&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;a&nbsp;line&nbsp;before&nbsp;\n&nbsp;is&nbsp;removed.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968191">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968212">if</span>&nbsp;<span class="ident" id="6968215"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6968222">.</span><span class="ident" id="6968223">Contains</span><span class="op" id="6968231">(</span><span class="ident" id="6968232"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span><span class="op" id="6968238">,</span>&nbsp;<span class="string" id="6968240">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="6968256">)</span>&nbsp;<span class="op" id="6968258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968264">return</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968279">if</span>&nbsp;<span class="ident" id="6968282"><a href="/mime/multipart/quotedprintable_test.go.html#6967536">errStr</a></span>&nbsp;<span class="op" id="6968289">==</span>&nbsp;<span class="string" id="6968292">&#34;invalid&nbsp;bytes&nbsp;after&nbsp;=&#34;</span>&nbsp;<span class="op" id="6968316">&amp;&amp;</span>&nbsp;<span class="ident" id="6968319"><a href="/mime/multipart/quotedprintable_test.go.html#6966994">badSoftRx</a></span><span class="op" id="6968328">.</span><span class="ident" id="6968329">MatchString</span><span class="op" id="6968340">(</span><span class="ident" id="6968341"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6968342">)</span>&nbsp;<span class="op" id="6968344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968350">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968365"><a href="/mime/multipart/quotedprintable_test.go.html#6967105">t</a></span><span class="op" id="6968366">.</span><span class="ident" id="6968367">Errorf</span><span class="op" id="6968373">(</span><span class="string" id="6968374">&#34;decode(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6968391">,</span>&nbsp;<span class="ident" id="6968393"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6968394">,</span>&nbsp;<span class="ident" id="6968396"><a href="/mime/multipart/quotedprintable_test.go.html#6967446">err</a></span><span class="op" id="6968399">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968404">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968417">if</span>&nbsp;<span class="op" id="6968420">*</span><span class="ident" id="6968421"><a href="/mime/multipart/quotedprintable_test.go.html#6966909">useQprint</a></span>&nbsp;<span class="op" id="6968431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968436">cmd</span>&nbsp;<span class="op" id="6968440">:=</span>&nbsp;<span class="ident" id="6968443"><a href="/mime/multipart/quotedprintable_test.go.html#6964107">exec</a></span><span class="op" id="6968447">.</span><span class="ident" id="6968448">Command</span><span class="op" id="6968455">(</span><span class="string" id="6968456">&#34;qprint&#34;</span><span class="op" id="6968464">,</span>&nbsp;<span class="string" id="6968466">&#34;-d&#34;</span><span class="op" id="6968470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968475"><a href="/mime/multipart/quotedprintable_test.go.html#6968436">cmd</a></span><span class="op" id="6968478">.</span><span class="ident" id="6968479">Stdin</span>&nbsp;<span class="op" id="6968485">=</span>&nbsp;<span class="ident" id="6968487"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6968494">.</span><span class="ident" id="6968495">NewReader</span><span class="op" id="6968504">(</span><span class="ident" id="6968505"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6968506">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968511">stderr</span><span class="op" id="6968517">,</span>&nbsp;<span class="ident" id="6968519">err</span>&nbsp;<span class="op" id="6968523">:=</span>&nbsp;<span class="ident" id="6968526"><a href="/mime/multipart/quotedprintable_test.go.html#6968436">cmd</a></span><span class="op" id="6968529">.</span><span class="ident" id="6968530">StderrPipe</span><span class="op" id="6968540">(</span><span class="op" id="6968541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968546">if</span>&nbsp;<span class="ident" id="6968549"><a href="/mime/multipart/quotedprintable_test.go.html#6968519">err</a></span>&nbsp;<span class="op" id="6968553">!=</span>&nbsp;<span class="ident" id="6968556">nil</span>&nbsp;<span class="op" id="6968560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6968566">panic</span><span class="op" id="6968571">(</span><span class="ident" id="6968572"><a href="/mime/multipart/quotedprintable_test.go.html#6968519">err</a></span><span class="op" id="6968575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968585">qpres</span>&nbsp;<span class="op" id="6968591">:=</span>&nbsp;<span class="builtinfunc" id="6968594">make</span><span class="op" id="6968598">(</span><span class="keyword" id="6968599">chan</span>&nbsp;<span class="keyword" id="6968604">interface</span><span class="op" id="6968613">{</span><span class="op" id="6968614">}</span><span class="op" id="6968615">,</span>&nbsp;<span class="num" id="6968617">2</span><span class="op" id="6968618">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968623">go</span>&nbsp;<span class="keyword" id="6968626">func</span><span class="op" id="6968630">(</span><span class="op" id="6968631">)</span>&nbsp;<span class="op" id="6968633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968639">br</span>&nbsp;<span class="op" id="6968642">:=</span>&nbsp;<span class="ident" id="6968645"><a href="/mime/multipart/quotedprintable_test.go.html#6964058">bufio</a></span><span class="op" id="6968650">.</span><span class="ident" id="6968651">NewReader</span><span class="op" id="6968660">(</span><span class="ident" id="6968661"><a href="/mime/multipart/quotedprintable_test.go.html#6968511">stderr</a></span><span class="op" id="6968667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968673">s</span><span class="op" id="6968674">,</span>&nbsp;<span class="ident" id="6968676">_</span>&nbsp;<span class="op" id="6968678">:=</span>&nbsp;<span class="ident" id="6968681"><a href="/mime/multipart/quotedprintable_test.go.html#6968639">br</a></span><span class="op" id="6968683">.</span><span class="ident" id="6968684">ReadString</span><span class="op" id="6968694">(</span><span class="string" id="6968695">&#39;\n&#39;</span><span class="op" id="6968699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968705">if</span>&nbsp;<span class="ident" id="6968708"><a href="/mime/multipart/quotedprintable_test.go.html#6968673">s</a></span>&nbsp;<span class="op" id="6968710">!=</span>&nbsp;<span class="string" id="6968713">&#34;&#34;</span>&nbsp;<span class="op" id="6968716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968723"><a href="/mime/multipart/quotedprintable_test.go.html#6968585">qpres</a></span>&nbsp;<span class="op" id="6968729">&lt;-</span>&nbsp;<span class="ident" id="6968732"><a href="/mime/multipart/quotedprintable_test.go.html#6964076">errors</a></span><span class="op" id="6968738">.</span><span class="ident" id="6968739">New</span><span class="op" id="6968742">(</span><span class="ident" id="6968743"><a href="/mime/multipart/quotedprintable_test.go.html#6968673">s</a></span><span class="op" id="6968744">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968751">if</span>&nbsp;<span class="ident" id="6968754"><a href="/mime/multipart/quotedprintable_test.go.html#6968436">cmd</a></span><span class="op" id="6968757">.</span><span class="ident" id="6968758">Process</span>&nbsp;<span class="op" id="6968766">!=</span>&nbsp;<span class="ident" id="6968769">nil</span>&nbsp;<span class="op" id="6968773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6968781">//&nbsp;It&nbsp;can&nbsp;get&nbsp;stuck&nbsp;on&nbsp;invalid&nbsp;input,&nbsp;like:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6968831">//&nbsp;echo&nbsp;-n&nbsp;&#34;0000=&nbsp;&#34;&nbsp;|&nbsp;qprint&nbsp;-d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968869"><a href="/mime/multipart/quotedprintable_test.go.html#6968436">cmd</a></span><span class="op" id="6968872">.</span><span class="ident" id="6968873">Process</span><span class="op" id="6968880">.</span><span class="ident" id="6968881">Kill</span><span class="op" id="6968885">(</span><span class="op" id="6968886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968893">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968904">}</span><span class="op" id="6968905">(</span><span class="op" id="6968906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968911">go</span>&nbsp;<span class="keyword" id="6968914">func</span><span class="op" id="6968918">(</span><span class="op" id="6968919">)</span>&nbsp;<span class="op" id="6968921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968927">want</span><span class="op" id="6968931">,</span>&nbsp;<span class="ident" id="6968933">err</span>&nbsp;<span class="op" id="6968937">:=</span>&nbsp;<span class="ident" id="6968940"><a href="/mime/multipart/quotedprintable_test.go.html#6968436">cmd</a></span><span class="op" id="6968943">.</span><span class="ident" id="6968944">Output</span><span class="op" id="6968950">(</span><span class="op" id="6968951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968957">if</span>&nbsp;<span class="ident" id="6968960"><a href="/mime/multipart/quotedprintable_test.go.html#6968933">err</a></span>&nbsp;<span class="op" id="6968964">==</span>&nbsp;<span class="ident" id="6968967">nil</span>&nbsp;<span class="op" id="6968971">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968978"><a href="/mime/multipart/quotedprintable_test.go.html#6968585">qpres</a></span>&nbsp;<span class="op" id="6968984">&lt;-</span>&nbsp;<span class="ident" id="6968987"><a href="/mime/multipart/quotedprintable_test.go.html#6968927">want</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969001">}</span><span class="op" id="6969002">(</span><span class="op" id="6969003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969008">select</span>&nbsp;<span class="op" id="6969015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969020">case</span>&nbsp;<span class="ident" id="6969025">got</span>&nbsp;<span class="op" id="6969029">:=</span>&nbsp;<span class="op" id="6969032">&lt;-</span><span class="ident" id="6969034"><a href="/mime/multipart/quotedprintable_test.go.html#6968585">qpres</a></span><span class="op" id="6969039">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969045">if</span>&nbsp;<span class="ident" id="6969048">want</span><span class="op" id="6969052">,</span>&nbsp;<span class="ident" id="6969054">ok</span>&nbsp;<span class="op" id="6969057">:=</span>&nbsp;<span class="ident" id="6969060"><a href="/mime/multipart/quotedprintable_test.go.html#6969025">got</a></span><span class="op" id="6969063">.</span><span class="op" id="6969064">(</span><span class="op" id="6969065">[</span><span class="op" id="6969066">]</span><span class="builtintype" id="6969067">byte</span><span class="op" id="6969071">)</span><span class="op" id="6969072">;</span>&nbsp;<span class="ident" id="6969074"><a href="/mime/multipart/quotedprintable_test.go.html#6969054">ok</a></span>&nbsp;<span class="op" id="6969077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969084">if</span>&nbsp;<span class="builtintype" id="6969087">string</span><span class="op" id="6969093">(</span><span class="ident" id="6969094"><a href="/mime/multipart/quotedprintable_test.go.html#6969048">want</a></span><span class="op" id="6969098">)</span>&nbsp;<span class="op" id="6969100">!=</span>&nbsp;<span class="ident" id="6969103"><a href="/mime/multipart/quotedprintable_test.go.html#6967254">buf</a></span><span class="op" id="6969106">.</span><span class="ident" id="6969107">String</span><span class="op" id="6969113">(</span><span class="op" id="6969114">)</span>&nbsp;<span class="op" id="6969116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969124"><a href="/mime/multipart/quotedprintable_test.go.html#6967105">t</a></span><span class="op" id="6969125">.</span><span class="ident" id="6969126">Errorf</span><span class="op" id="6969132">(</span><span class="string" id="6969133">&#34;go&nbsp;decode(%q)&nbsp;=&nbsp;%q;&nbsp;qprint&nbsp;=&nbsp;%q&#34;</span><span class="op" id="6969166">,</span>&nbsp;<span class="ident" id="6969168"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6969169">,</span>&nbsp;<span class="ident" id="6969171"><a href="/mime/multipart/quotedprintable_test.go.html#6969048">want</a></span><span class="op" id="6969175">,</span>&nbsp;<span class="ident" id="6969177"><a href="/mime/multipart/quotedprintable_test.go.html#6967254">buf</a></span><span class="op" id="6969180">.</span><span class="ident" id="6969181">String</span><span class="op" id="6969187">(</span><span class="op" id="6969188">)</span><span class="op" id="6969189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969202">}</span>&nbsp;<span class="keyword" id="6969204">else</span>&nbsp;<span class="op" id="6969209">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969216"><a href="/mime/multipart/quotedprintable_test.go.html#6967105">t</a></span><span class="op" id="6969217">.</span><span class="ident" id="6969218">Logf</span><span class="op" id="6969222">(</span><span class="string" id="6969223">&#34;qprint&nbsp;-d(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6969243">,</span>&nbsp;<span class="ident" id="6969245"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6969246">,</span>&nbsp;<span class="ident" id="6969248"><a href="/mime/multipart/quotedprintable_test.go.html#6969025">got</a></span><span class="op" id="6969251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969262">case</span>&nbsp;<span class="op" id="6969267">&lt;-</span><span class="ident" id="6969269"><a href="/mime/multipart/quotedprintable_test.go.html#6964158">time</a></span><span class="op" id="6969273">.</span><span class="ident" id="6969274">After</span><span class="op" id="6969279">(</span><span class="num" id="6969280">5</span>&nbsp;<span class="op" id="6969282">*</span>&nbsp;<span class="ident" id="6969284"><a href="/mime/multipart/quotedprintable_test.go.html#6964158">time</a></span><span class="op" id="6969288">.</span><span class="ident" id="6969289">Second</span><span class="op" id="6969295">)</span><span class="op" id="6969296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969302"><a href="/mime/multipart/quotedprintable_test.go.html#6967105">t</a></span><span class="op" id="6969303">.</span><span class="ident" id="6969304">Logf</span><span class="op" id="6969308">(</span><span class="string" id="6969309">&#34;qprint&nbsp;timeout&nbsp;on&nbsp;%q&#34;</span><span class="op" id="6969331">,</span>&nbsp;<span class="ident" id="6969333"><a href="/mime/multipart/quotedprintable_test.go.html#6967339">s</a></span><span class="op" id="6969334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969339">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969347"><a href="/mime/multipart/quotedprintable_test.go.html#6967272">res</a></span><span class="op" id="6969350">[</span><span class="string" id="6969351">&#34;OK&#34;</span><span class="op" id="6969355">]</span><span class="op" id="6969356">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969360">}</span><span class="op" id="6969361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969364">var</span>&nbsp;<span class="ident" id="6969368">outcomes</span>&nbsp;<span class="op" id="6969377">[</span><span class="op" id="6969378">]</span><span class="builtintype" id="6969379">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969387">for</span>&nbsp;<span class="ident" id="6969391">k</span><span class="op" id="6969392">,</span>&nbsp;<span class="ident" id="6969394">v</span>&nbsp;<span class="op" id="6969396">:=</span>&nbsp;<span class="keyword" id="6969399">range</span>&nbsp;<span class="ident" id="6969405"><a href="/mime/multipart/quotedprintable_test.go.html#6967272">res</a></span>&nbsp;<span class="op" id="6969409">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969413"><a href="/mime/multipart/quotedprintable_test.go.html#6969368">outcomes</a></span>&nbsp;<span class="op" id="6969422">=</span>&nbsp;<span class="builtinfunc" id="6969424">append</span><span class="op" id="6969430">(</span><span class="ident" id="6969431"><a href="/mime/multipart/quotedprintable_test.go.html#6969368">outcomes</a></span><span class="op" id="6969439">,</span>&nbsp;<span class="ident" id="6969441"><a href="/mime/multipart/quotedprintable_test.go.html#6964094">fmt</a></span><span class="op" id="6969444">.</span><span class="ident" id="6969445">Sprintf</span><span class="op" id="6969452">(</span><span class="string" id="6969453">&#34;%v:&nbsp;%d&#34;</span><span class="op" id="6969461">,</span>&nbsp;<span class="ident" id="6969463"><a href="/mime/multipart/quotedprintable_test.go.html#6969391">k</a></span><span class="op" id="6969464">,</span>&nbsp;<span class="ident" id="6969466"><a href="/mime/multipart/quotedprintable_test.go.html#6969394">v</a></span><span class="op" id="6969467">)</span><span class="op" id="6969468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969474"><a href="/mime/multipart/quotedprintable_test.go.html#6964128">sort</a></span><span class="op" id="6969478">.</span><span class="ident" id="6969479">Strings</span><span class="op" id="6969486">(</span><span class="ident" id="6969487"><a href="/mime/multipart/quotedprintable_test.go.html#6969368">outcomes</a></span><span class="op" id="6969495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969498">got</span>&nbsp;<span class="op" id="6969502">:=</span>&nbsp;<span class="ident" id="6969505"><a href="/mime/multipart/quotedprintable_test.go.html#6964136">strings</a></span><span class="op" id="6969512">.</span><span class="ident" id="6969513">Join</span><span class="op" id="6969517">(</span><span class="ident" id="6969518"><a href="/mime/multipart/quotedprintable_test.go.html#6969368">outcomes</a></span><span class="op" id="6969526">,</span>&nbsp;<span class="string" id="6969528">&#34;\n&#34;</span><span class="op" id="6969532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969535">want</span>&nbsp;<span class="op" id="6969540">:=</span>&nbsp;<span class="string" id="6969543">`OK:&nbsp;21576<br>
<span class="lineno">195</span>invalid&nbsp;bytes&nbsp;after&nbsp;=:&nbsp;3397<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0a:&nbsp;1400<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x0d:&nbsp;2700<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x20:&nbsp;2490<br>
<span class="lineno"></span>multipart:&nbsp;invalid&nbsp;quoted-printable&nbsp;hex&nbsp;byte&nbsp;0x3d:&nbsp;440<br>
<span class="lineno">200</span>unexpected&nbsp;EOF:&nbsp;3122`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969828">if</span>&nbsp;<span class="ident" id="6969831"><a href="/mime/multipart/quotedprintable_test.go.html#6969498">got</a></span>&nbsp;<span class="op" id="6969835">!=</span>&nbsp;<span class="ident" id="6969838"><a href="/mime/multipart/quotedprintable_test.go.html#6969535">want</a></span>&nbsp;<span class="op" id="6969843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969847"><a href="/mime/multipart/quotedprintable_test.go.html#6967105">t</a></span><span class="op" id="6969848">.</span><span class="ident" id="6969849">Errorf</span><span class="op" id="6969855">(</span><span class="string" id="6969856">&#34;Got:\n%s\nWant:\n%s&#34;</span><span class="op" id="6969877">,</span>&nbsp;<span class="ident" id="6969879"><a href="/mime/multipart/quotedprintable_test.go.html#6969498">got</a></span><span class="op" id="6969882">,</span>&nbsp;<span class="ident" id="6969884"><a href="/mime/multipart/quotedprintable_test.go.html#6969535">want</a></span><span class="op" id="6969888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969891">}</span><br>
<span class="lineno"></span><span class="op" id="6969893">}</span>
</div>
</body>
</html>
