<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5910415">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5910470">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5910524">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5910575">//&nbsp;This&nbsp;file&nbsp;contains&nbsp;printing&nbsp;support&nbsp;for&nbsp;ASTs.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910625">package</span>&nbsp;<span class="ident" id="5910633">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5910638">import</span>&nbsp;<span class="op" id="5910645">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5910648">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5910655">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5910667">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5910673">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5910679">&#34;reflect&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5910689">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5910692">//&nbsp;A&nbsp;FieldFilter&nbsp;may&nbsp;be&nbsp;provided&nbsp;to&nbsp;Fprint&nbsp;to&nbsp;control&nbsp;the&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="5910758">type</span>&nbsp;<span class="ident" id="5910763">FieldFilter</span>&nbsp;<span class="keyword" id="5910775">func</span><span class="op" id="5910779">(</span><span class="ident" id="5910780">name</span>&nbsp;<span class="builtintype" id="5910785">string</span><span class="op" id="5910791">,</span>&nbsp;<span class="ident" id="5910793">value</span>&nbsp;<span class="ident" id="5910799"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5910806">.</span><span class="ident" id="5910807">Value</span><span class="op" id="5910812">)</span>&nbsp;<span class="builtintype" id="5910814">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="5910820">//&nbsp;NotNilFilter&nbsp;returns&nbsp;true&nbsp;for&nbsp;field&nbsp;values&nbsp;that&nbsp;are&nbsp;not&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="5910884">//&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="5910915">func</span>&nbsp;<span class="ident" id="5910920">NotNilFilter</span><span class="op" id="5910932">(</span><span class="ident" id="5910933">_</span>&nbsp;<span class="builtintype" id="5910935">string</span><span class="op" id="5910941">,</span>&nbsp;<span class="ident" id="5910943">v</span>&nbsp;<span class="ident" id="5910945"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5910952">.</span><span class="ident" id="5910953">Value</span><span class="op" id="5910958">)</span>&nbsp;<span class="builtintype" id="5910960">bool</span>&nbsp;<span class="op" id="5910965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910968">switch</span>&nbsp;<span class="ident" id="5910975"><a href="/go/ast/print.go.html#5910943">v</a></span><span class="op" id="5910976">.</span><span class="ident" id="5910977">Kind</span><span class="op" id="5910981">(</span><span class="op" id="5910982">)</span>&nbsp;<span class="op" id="5910984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5910987">case</span>&nbsp;<span class="ident" id="5910992"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5910999">.</span><span class="ident" id="5911000">Chan</span><span class="op" id="5911004">,</span>&nbsp;<span class="ident" id="5911006"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5911013">.</span><span class="ident" id="5911014">Func</span><span class="op" id="5911018">,</span>&nbsp;<span class="ident" id="5911020"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5911027">.</span><span class="ident" id="5911028">Interface</span><span class="op" id="5911037">,</span>&nbsp;<span class="ident" id="5911039"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5911046">.</span><span class="ident" id="5911047">Map</span><span class="op" id="5911050">,</span>&nbsp;<span class="ident" id="5911052"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5911059">.</span><span class="ident" id="5911060">Ptr</span><span class="op" id="5911063">,</span>&nbsp;<span class="ident" id="5911065"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5911072">.</span><span class="ident" id="5911073">Slice</span><span class="op" id="5911078">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5911082">return</span>&nbsp;<span class="op" id="5911089">!</span><span class="ident" id="5911090"><a href="/go/ast/print.go.html#5910943">v</a></span><span class="op" id="5911091">.</span><span class="ident" id="5911092">IsNil</span><span class="op" id="5911097">(</span><span class="op" id="5911098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5911101">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5911104">return</span>&nbsp;<span class="ident" id="5911111">true</span><br>
<span class="lineno"></span><span class="op" id="5911116">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5911119">//&nbsp;Fprint&nbsp;prints&nbsp;the&nbsp;(sub-)tree&nbsp;starting&nbsp;at&nbsp;AST&nbsp;node&nbsp;x&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="5911180">//&nbsp;If&nbsp;fset&nbsp;!=&nbsp;nil,&nbsp;position&nbsp;information&nbsp;is&nbsp;interpreted&nbsp;relative</span><br>
<span class="lineno"></span><span class="comment" id="5911244">//&nbsp;to&nbsp;that&nbsp;file&nbsp;set.&nbsp;Otherwise&nbsp;positions&nbsp;are&nbsp;printed&nbsp;as&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="5911308">//&nbsp;values&nbsp;(file&nbsp;set&nbsp;specific&nbsp;offsets).</span><br>
<span class="lineno"></span><span class="comment" id="5911347">//</span><br>
<span class="lineno">35</span><span class="comment" id="5911350">//&nbsp;A&nbsp;non-nil&nbsp;FieldFilter&nbsp;f&nbsp;may&nbsp;be&nbsp;provided&nbsp;to&nbsp;control&nbsp;the&nbsp;output:</span><br>
<span class="lineno"></span><span class="comment" id="5911416">//&nbsp;struct&nbsp;fields&nbsp;for&nbsp;which&nbsp;f(fieldname,&nbsp;fieldvalue)&nbsp;is&nbsp;true&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="5911480">//&nbsp;printed;&nbsp;all&nbsp;others&nbsp;are&nbsp;filtered&nbsp;from&nbsp;the&nbsp;output.&nbsp;Unexported</span><br>
<span class="lineno"></span><span class="comment" id="5911544">//&nbsp;struct&nbsp;fields&nbsp;are&nbsp;never&nbsp;printed.</span><br>
<span class="lineno"></span><span class="comment" id="5911580">//</span><br>
<span class="lineno">40</span><span class="keyword" id="5911583">func</span>&nbsp;<span class="ident" id="5911588">Fprint</span><span class="op" id="5911594">(</span><span class="ident" id="5911595">w</span>&nbsp;<span class="ident" id="5911597"><a href="/go/ast/print.go.html#5910667">io</a></span><span class="op" id="5911599">.</span><span class="ident" id="5911600">Writer</span><span class="op" id="5911606">,</span>&nbsp;<span class="ident" id="5911608">fset</span>&nbsp;<span class="op" id="5911613">*</span><span class="ident" id="5911614"><a href="/go/ast/print.go.html#5910655">token</a></span><span class="op" id="5911619">.</span><span class="ident" id="5911620">FileSet</span><span class="op" id="5911627">,</span>&nbsp;<span class="ident" id="5911629">x</span>&nbsp;<span class="keyword" id="5911631">interface</span><span class="op" id="5911640">{</span><span class="op" id="5911641">}</span><span class="op" id="5911642">,</span>&nbsp;<span class="ident" id="5911644">f</span>&nbsp;<span class="ident" id="5911646"><a href="/go/ast/print.go.html#5910763">FieldFilter</a></span><span class="op" id="5911657">)</span>&nbsp;<span class="op" id="5911659">(</span><span class="ident" id="5911660">err</span>&nbsp;<span class="builtintype" id="5911664">error</span><span class="op" id="5911669">)</span>&nbsp;<span class="op" id="5911671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5911674">//&nbsp;setup&nbsp;printer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5911692">p</span>&nbsp;<span class="op" id="5911694">:=</span>&nbsp;<span class="ident" id="5911697"><a href="/go/ast/print.go.html#5912364">printer</a></span><span class="op" id="5911704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5911708">output</span><span class="op" id="5911714">:</span>&nbsp;<span class="ident" id="5911716"><a href="/go/ast/print.go.html#5911595">w</a></span><span class="op" id="5911717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5911721">fset</span><span class="op" id="5911725">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5911729"><a href="/go/ast/print.go.html#5911608">fset</a></span><span class="op" id="5911733">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5911737">filter</span><span class="op" id="5911743">:</span>&nbsp;<span class="ident" id="5911745"><a href="/go/ast/print.go.html#5911644">f</a></span><span class="op" id="5911746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5911750">ptrmap</span><span class="op" id="5911756">:</span>&nbsp;<span class="builtinfunc" id="5911758">make</span><span class="op" id="5911762">(</span><span class="keyword" id="5911763">map</span><span class="op" id="5911766">[</span><span class="keyword" id="5911767">interface</span><span class="op" id="5911776">{</span><span class="op" id="5911777">}</span><span class="op" id="5911778">]</span><span class="builtintype" id="5911779">int</span><span class="op" id="5911782">)</span><span class="op" id="5911783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5911787">last</span><span class="op" id="5911791">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="5911795">&#39;\n&#39;</span><span class="op" id="5911799">,</span>&nbsp;<span class="comment" id="5911801">//&nbsp;force&nbsp;printing&nbsp;of&nbsp;line&nbsp;number&nbsp;on&nbsp;first&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5911849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5911853">//&nbsp;install&nbsp;error&nbsp;handler</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5911879">defer</span>&nbsp;<span class="keyword" id="5911885">func</span><span class="op" id="5911889">(</span><span class="op" id="5911890">)</span>&nbsp;<span class="op" id="5911892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5911896">if</span>&nbsp;<span class="ident" id="5911899">e</span>&nbsp;<span class="op" id="5911901">:=</span>&nbsp;<span class="builtinfunc" id="5911904">recover</span><span class="op" id="5911911">(</span><span class="op" id="5911912">)</span><span class="op" id="5911913">;</span>&nbsp;<span class="ident" id="5911915"><a href="/go/ast/print.go.html#5911899">e</a></span>&nbsp;<span class="op" id="5911917">!=</span>&nbsp;<span class="ident" id="5911920">nil</span>&nbsp;<span class="op" id="5911924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5911929"><a href="/go/ast/print.go.html#5911660">err</a></span>&nbsp;<span class="op" id="5911933">=</span>&nbsp;<span class="ident" id="5911935"><a href="/go/ast/print.go.html#5911899">e</a></span><span class="op" id="5911936">.</span><span class="op" id="5911937">(</span><span class="ident" id="5911938"><a href="/go/ast/print.go.html#5913414">localError</a></span><span class="op" id="5911948">)</span><span class="op" id="5911949">.</span><span class="ident" id="5911950">err</span>&nbsp;<span class="comment" id="5911954">//&nbsp;re-panics&nbsp;if&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;localError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5911994">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5911997">}</span><span class="op" id="5911998">(</span><span class="op" id="5911999">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5912003">//&nbsp;print&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912015">if</span>&nbsp;<span class="ident" id="5912018"><a href="/go/ast/print.go.html#5911629">x</a></span>&nbsp;<span class="op" id="5912020">==</span>&nbsp;<span class="ident" id="5912023">nil</span>&nbsp;<span class="op" id="5912027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912031"><a href="/go/ast/print.go.html#5911692">p</a></span><span class="op" id="5912032">.</span><span class="ident" id="5912033">printf</span><span class="op" id="5912039">(</span><span class="string" id="5912040">&#34;nil\n&#34;</span><span class="op" id="5912047">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912051">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5912059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912062"><a href="/go/ast/print.go.html#5911692">p</a></span><span class="op" id="5912063">.</span><span class="builtinfunc" id="5912064">print</span><span class="op" id="5912069">(</span><span class="ident" id="5912070"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5912077">.</span><span class="ident" id="5912078">ValueOf</span><span class="op" id="5912085">(</span><span class="ident" id="5912086"><a href="/go/ast/print.go.html#5911629">x</a></span><span class="op" id="5912087">)</span><span class="op" id="5912088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912091"><a href="/go/ast/print.go.html#5911692">p</a></span><span class="op" id="5912092">.</span><span class="ident" id="5912093">printf</span><span class="op" id="5912099">(</span><span class="string" id="5912100">&#34;\n&#34;</span><span class="op" id="5912104">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912108">return</span><br>
<span class="lineno"></span><span class="op" id="5912115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5912118">//&nbsp;Print&nbsp;prints&nbsp;x&nbsp;to&nbsp;standard&nbsp;output,&nbsp;skipping&nbsp;nil&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="5912177">//&nbsp;Print(fset,&nbsp;x)&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;Fprint(os.Stdout,&nbsp;fset,&nbsp;x,&nbsp;NotNilFilter).</span><br>
<span class="lineno">70</span><span class="keyword" id="5912252">func</span>&nbsp;<span class="ident" id="5912257">Print</span><span class="op" id="5912262">(</span><span class="ident" id="5912263">fset</span>&nbsp;<span class="op" id="5912268">*</span><span class="ident" id="5912269"><a href="/go/ast/print.go.html#5910655">token</a></span><span class="op" id="5912274">.</span><span class="ident" id="5912275">FileSet</span><span class="op" id="5912282">,</span>&nbsp;<span class="ident" id="5912284">x</span>&nbsp;<span class="keyword" id="5912286">interface</span><span class="op" id="5912295">{</span><span class="op" id="5912296">}</span><span class="op" id="5912297">)</span>&nbsp;<span class="builtintype" id="5912299">error</span>&nbsp;<span class="op" id="5912305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912308">return</span>&nbsp;<span class="ident" id="5912315"><a href="/go/ast/print.go.html#5911588">Fprint</a></span><span class="op" id="5912321">(</span><span class="ident" id="5912322"><a href="/go/ast/print.go.html#5910673">os</a></span><span class="op" id="5912324">.</span><span class="ident" id="5912325">Stdout</span><span class="op" id="5912331">,</span>&nbsp;<span class="ident" id="5912333"><a href="/go/ast/print.go.html#5912263">fset</a></span><span class="op" id="5912337">,</span>&nbsp;<span class="ident" id="5912339"><a href="/go/ast/print.go.html#5912284">x</a></span><span class="op" id="5912340">,</span>&nbsp;<span class="ident" id="5912342"><a href="/go/ast/print.go.html#5910920">NotNilFilter</a></span><span class="op" id="5912354">)</span><br>
<span class="lineno"></span><span class="op" id="5912356">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5912359">type</span>&nbsp;<span class="ident" id="5912364">printer</span>&nbsp;<span class="keyword" id="5912372">struct</span>&nbsp;<span class="op" id="5912379">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912382">output</span>&nbsp;<span class="ident" id="5912389"><a href="/go/ast/print.go.html#5910667">io</a></span><span class="op" id="5912391">.</span><span class="ident" id="5912392">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912400">fset</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5912407">*</span><span class="ident" id="5912408"><a href="/go/ast/print.go.html#5910655">token</a></span><span class="op" id="5912413">.</span><span class="ident" id="5912414">FileSet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912423">filter</span>&nbsp;<span class="ident" id="5912430"><a href="/go/ast/print.go.html#5910763">FieldFilter</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912443">ptrmap</span>&nbsp;<span class="keyword" id="5912450">map</span><span class="op" id="5912453">[</span><span class="keyword" id="5912454">interface</span><span class="op" id="5912463">{</span><span class="op" id="5912464">}</span><span class="op" id="5912465">]</span><span class="builtintype" id="5912466">int</span>&nbsp;<span class="comment" id="5912470">//&nbsp;*T&nbsp;-&gt;&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912492">indent</span>&nbsp;<span class="builtintype" id="5912499">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5912519">//&nbsp;current&nbsp;indentation&nbsp;level</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912549">last</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5912556">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5912576">//&nbsp;the&nbsp;last&nbsp;byte&nbsp;processed&nbsp;by&nbsp;Write</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912613">line</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5912620">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5912640">//&nbsp;current&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span><span class="op" id="5912663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5912666">var</span>&nbsp;<span class="ident" id="5912670">indent</span>&nbsp;<span class="op" id="5912677">=</span>&nbsp;<span class="op" id="5912679">[</span><span class="op" id="5912680">]</span><span class="builtintype" id="5912681">byte</span><span class="op" id="5912685">(</span><span class="string" id="5912686">&#34;.&nbsp;&nbsp;&#34;</span><span class="op" id="5912691">)</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="5912694">func</span>&nbsp;<span class="op" id="5912699">(</span><span class="ident" id="5912700">p</span>&nbsp;<span class="op" id="5912702">*</span><span class="ident" id="5912703"><a href="/go/ast/print.go.html#5912364">printer</a></span><span class="op" id="5912710">)</span>&nbsp;<span class="ident" id="5912712">Write</span><span class="op" id="5912717">(</span><span class="ident" id="5912718">data</span>&nbsp;<span class="op" id="5912723">[</span><span class="op" id="5912724">]</span><span class="builtintype" id="5912725">byte</span><span class="op" id="5912729">)</span>&nbsp;<span class="op" id="5912731">(</span><span class="ident" id="5912732">n</span>&nbsp;<span class="builtintype" id="5912734">int</span><span class="op" id="5912737">,</span>&nbsp;<span class="ident" id="5912739">err</span>&nbsp;<span class="builtintype" id="5912743">error</span><span class="op" id="5912748">)</span>&nbsp;<span class="op" id="5912750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912753">var</span>&nbsp;<span class="ident" id="5912757">m</span>&nbsp;<span class="builtintype" id="5912759">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912764">for</span>&nbsp;<span class="ident" id="5912768">i</span><span class="op" id="5912769">,</span>&nbsp;<span class="ident" id="5912771">b</span>&nbsp;<span class="op" id="5912773">:=</span>&nbsp;<span class="keyword" id="5912776">range</span>&nbsp;<span class="ident" id="5912782"><a href="/go/ast/print.go.html#5912718">data</a></span>&nbsp;<span class="op" id="5912787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5912791">//&nbsp;invariant:&nbsp;data[0:n]&nbsp;has&nbsp;been&nbsp;written</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912834">if</span>&nbsp;<span class="ident" id="5912837"><a href="/go/ast/print.go.html#5912771">b</a></span>&nbsp;<span class="op" id="5912839">==</span>&nbsp;<span class="string" id="5912842">&#39;\n&#39;</span>&nbsp;<span class="op" id="5912847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912852"><a href="/go/ast/print.go.html#5912757">m</a></span><span class="op" id="5912853">,</span>&nbsp;<span class="ident" id="5912855"><a href="/go/ast/print.go.html#5912739">err</a></span>&nbsp;<span class="op" id="5912859">=</span>&nbsp;<span class="ident" id="5912861"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5912862">.</span><span class="ident" id="5912863">output</span><span class="op" id="5912869">.</span><span class="ident" id="5912870">Write</span><span class="op" id="5912875">(</span><span class="ident" id="5912876"><a href="/go/ast/print.go.html#5912718">data</a></span><span class="op" id="5912880">[</span><span class="ident" id="5912881"><a href="/go/ast/print.go.html#5912732">n</a></span>&nbsp;<span class="op" id="5912883">:</span>&nbsp;<span class="ident" id="5912885"><a href="/go/ast/print.go.html#5912768">i</a></span><span class="op" id="5912886">+</span><span class="num" id="5912887">1</span><span class="op" id="5912888">]</span><span class="op" id="5912889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912894"><a href="/go/ast/print.go.html#5912732">n</a></span>&nbsp;<span class="op" id="5912896">+=</span>&nbsp;<span class="ident" id="5912899"><a href="/go/ast/print.go.html#5912757">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912904">if</span>&nbsp;<span class="ident" id="5912907"><a href="/go/ast/print.go.html#5912739">err</a></span>&nbsp;<span class="op" id="5912911">!=</span>&nbsp;<span class="ident" id="5912914">nil</span>&nbsp;<span class="op" id="5912918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5912924">return</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5912934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912939"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5912940">.</span><span class="ident" id="5912941">line</span><span class="op" id="5912945">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5912950">}</span>&nbsp;<span class="keyword" id="5912952">else</span>&nbsp;<span class="keyword" id="5912957">if</span>&nbsp;<span class="ident" id="5912960"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5912961">.</span><span class="ident" id="5912962">last</span>&nbsp;<span class="op" id="5912967">==</span>&nbsp;<span class="string" id="5912970">&#39;\n&#39;</span>&nbsp;<span class="op" id="5912975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5912980">_</span><span class="op" id="5912981">,</span>&nbsp;<span class="ident" id="5912983"><a href="/go/ast/print.go.html#5912739">err</a></span>&nbsp;<span class="op" id="5912987">=</span>&nbsp;<span class="ident" id="5912989"><a href="/go/ast/print.go.html#5910648">fmt</a></span><span class="op" id="5912992">.</span><span class="ident" id="5912993">Fprintf</span><span class="op" id="5913000">(</span><span class="ident" id="5913001"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5913002">.</span><span class="ident" id="5913003">output</span><span class="op" id="5913009">,</span>&nbsp;<span class="string" id="5913011">&#34;%6d&nbsp;&nbsp;&#34;</span><span class="op" id="5913018">,</span>&nbsp;<span class="ident" id="5913020"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5913021">.</span><span class="ident" id="5913022">line</span><span class="op" id="5913026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913031">if</span>&nbsp;<span class="ident" id="5913034"><a href="/go/ast/print.go.html#5912739">err</a></span>&nbsp;<span class="op" id="5913038">!=</span>&nbsp;<span class="ident" id="5913041">nil</span>&nbsp;<span class="op" id="5913045">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913051">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5913061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913066">for</span>&nbsp;<span class="ident" id="5913070">j</span>&nbsp;<span class="op" id="5913072">:=</span>&nbsp;<span class="ident" id="5913075"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5913076">.</span><span class="ident" id="5913077">indent</span><span class="op" id="5913083">;</span>&nbsp;<span class="ident" id="5913085"><a href="/go/ast/print.go.html#5913070">j</a></span>&nbsp;<span class="op" id="5913087">&gt;</span>&nbsp;<span class="num" id="5913089">0</span><span class="op" id="5913090">;</span>&nbsp;<span class="ident" id="5913092"><a href="/go/ast/print.go.html#5913070">j</a></span><span class="op" id="5913093">--</span>&nbsp;<span class="op" id="5913096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5913102">_</span><span class="op" id="5913103">,</span>&nbsp;<span class="ident" id="5913105"><a href="/go/ast/print.go.html#5912739">err</a></span>&nbsp;<span class="op" id="5913109">=</span>&nbsp;<span class="ident" id="5913111"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5913112">.</span><span class="ident" id="5913113">output</span><span class="op" id="5913119">.</span><span class="ident" id="5913120">Write</span><span class="op" id="5913125">(</span><span class="ident" id="5913126"><a href="/go/ast/print.go.html#5912670">indent</a></span><span class="op" id="5913132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913138">if</span>&nbsp;<span class="ident" id="5913141"><a href="/go/ast/print.go.html#5912739">err</a></span>&nbsp;<span class="op" id="5913145">!=</span>&nbsp;<span class="ident" id="5913148">nil</span>&nbsp;<span class="op" id="5913152">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913159">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5913170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5913175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5913179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5913183"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5913184">.</span><span class="ident" id="5913185">last</span>&nbsp;<span class="op" id="5913190">=</span>&nbsp;<span class="ident" id="5913192"><a href="/go/ast/print.go.html#5912771">b</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5913195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913198">if</span>&nbsp;<span class="builtinfunc" id="5913201">len</span><span class="op" id="5913204">(</span><span class="ident" id="5913205"><a href="/go/ast/print.go.html#5912718">data</a></span><span class="op" id="5913209">)</span>&nbsp;<span class="op" id="5913211">&gt;</span>&nbsp;<span class="ident" id="5913213"><a href="/go/ast/print.go.html#5912732">n</a></span>&nbsp;<span class="op" id="5913215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5913219"><a href="/go/ast/print.go.html#5912757">m</a></span><span class="op" id="5913220">,</span>&nbsp;<span class="ident" id="5913222"><a href="/go/ast/print.go.html#5912739">err</a></span>&nbsp;<span class="op" id="5913226">=</span>&nbsp;<span class="ident" id="5913228"><a href="/go/ast/print.go.html#5912700">p</a></span><span class="op" id="5913229">.</span><span class="ident" id="5913230">output</span><span class="op" id="5913236">.</span><span class="ident" id="5913237">Write</span><span class="op" id="5913242">(</span><span class="ident" id="5913243"><a href="/go/ast/print.go.html#5912718">data</a></span><span class="op" id="5913247">[</span><span class="ident" id="5913248"><a href="/go/ast/print.go.html#5912732">n</a></span><span class="op" id="5913249">:</span><span class="op" id="5913250">]</span><span class="op" id="5913251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5913255"><a href="/go/ast/print.go.html#5912732">n</a></span>&nbsp;<span class="op" id="5913257">+=</span>&nbsp;<span class="ident" id="5913260"><a href="/go/ast/print.go.html#5912757">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5913263">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913266">return</span><br>
<span class="lineno"></span><span class="op" id="5913273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5913276">//&nbsp;localError&nbsp;wraps&nbsp;locally&nbsp;caught&nbsp;errors&nbsp;so&nbsp;we&nbsp;can&nbsp;distinguish</span><br>
<span class="lineno"></span><span class="comment" id="5913340">//&nbsp;them&nbsp;from&nbsp;genuine&nbsp;panics&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;return&nbsp;as&nbsp;errors.</span><br>
<span class="lineno">120</span><span class="keyword" id="5913409">type</span>&nbsp;<span class="ident" id="5913414">localError</span>&nbsp;<span class="keyword" id="5913425">struct</span>&nbsp;<span class="op" id="5913432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5913435">err</span>&nbsp;<span class="builtintype" id="5913439">error</span><br>
<span class="lineno"></span><span class="op" id="5913445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5913448">//&nbsp;printf&nbsp;is&nbsp;a&nbsp;convenience&nbsp;wrapper&nbsp;that&nbsp;takes&nbsp;care&nbsp;of&nbsp;print&nbsp;errors.</span><br>
<span class="lineno">125</span><span class="keyword" id="5913516">func</span>&nbsp;<span class="op" id="5913521">(</span><span class="ident" id="5913522">p</span>&nbsp;<span class="op" id="5913524">*</span><span class="ident" id="5913525"><a href="/go/ast/print.go.html#5912364">printer</a></span><span class="op" id="5913532">)</span>&nbsp;<span class="ident" id="5913534">printf</span><span class="op" id="5913540">(</span><span class="ident" id="5913541">format</span>&nbsp;<span class="builtintype" id="5913548">string</span><span class="op" id="5913554">,</span>&nbsp;<span class="ident" id="5913556">args</span>&nbsp;<span class="op" id="5913561">...</span><span class="keyword" id="5913564">interface</span><span class="op" id="5913573">{</span><span class="op" id="5913574">}</span><span class="op" id="5913575">)</span>&nbsp;<span class="op" id="5913577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5913580">if</span>&nbsp;<span class="ident" id="5913583">_</span><span class="op" id="5913584">,</span>&nbsp;<span class="ident" id="5913586">err</span>&nbsp;<span class="op" id="5913590">:=</span>&nbsp;<span class="ident" id="5913593"><a href="/go/ast/print.go.html#5910648">fmt</a></span><span class="op" id="5913596">.</span><span class="ident" id="5913597">Fprintf</span><span class="op" id="5913604">(</span><span class="ident" id="5913605"><a href="/go/ast/print.go.html#5913522">p</a></span><span class="op" id="5913606">,</span>&nbsp;<span class="ident" id="5913608"><a href="/go/ast/print.go.html#5913541">format</a></span><span class="op" id="5913614">,</span>&nbsp;<span class="ident" id="5913616"><a href="/go/ast/print.go.html#5913556">args</a></span><span class="op" id="5913620">...</span><span class="op" id="5913623">)</span><span class="op" id="5913624">;</span>&nbsp;<span class="ident" id="5913626"><a href="/go/ast/print.go.html#5913586">err</a></span>&nbsp;<span class="op" id="5913630">!=</span>&nbsp;<span class="ident" id="5913633">nil</span>&nbsp;<span class="op" id="5913637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5913641">panic</span><span class="op" id="5913646">(</span><span class="ident" id="5913647"><a href="/go/ast/print.go.html#5913414">localError</a></span><span class="op" id="5913657">{</span><span class="ident" id="5913658"><a href="/go/ast/print.go.html#5913586">err</a></span><span class="op" id="5913661">}</span><span class="op" id="5913662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5913665">}</span><br>
<span class="lineno"></span><span class="op" id="5913667">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="5913670">//&nbsp;Implementation&nbsp;note:&nbsp;Print&nbsp;is&nbsp;written&nbsp;for&nbsp;AST&nbsp;nodes&nbsp;but&nbsp;could&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5913738">//&nbsp;used&nbsp;to&nbsp;print&nbsp;arbitrary&nbsp;data&nbsp;structures;&nbsp;such&nbsp;a&nbsp;version&nbsp;should</span><br>
<span class="lineno"></span><span class="comment" id="5913804">//&nbsp;probably&nbsp;be&nbsp;in&nbsp;a&nbsp;different&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="5913843">//</span><br>
<span class="lineno">135</span><span class="comment" id="5913846">//&nbsp;Note:&nbsp;This&nbsp;code&nbsp;detects&nbsp;(some)&nbsp;cycles&nbsp;created&nbsp;via&nbsp;pointers&nbsp;but</span><br>
<span class="lineno"></span><span class="comment" id="5913912">//&nbsp;not&nbsp;cycles&nbsp;that&nbsp;are&nbsp;created&nbsp;via&nbsp;slices&nbsp;or&nbsp;maps&nbsp;containing&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5913977">//&nbsp;same&nbsp;slice&nbsp;or&nbsp;map.&nbsp;Code&nbsp;for&nbsp;general&nbsp;data&nbsp;structures&nbsp;probably</span><br>
<span class="lineno"></span><span class="comment" id="5914041">//&nbsp;should&nbsp;catch&nbsp;those&nbsp;as&nbsp;well.</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="5914073">func</span>&nbsp;<span class="op" id="5914078">(</span><span class="ident" id="5914079">p</span>&nbsp;<span class="op" id="5914081">*</span><span class="ident" id="5914082"><a href="/go/ast/print.go.html#5912364">printer</a></span><span class="op" id="5914089">)</span>&nbsp;<span class="builtinfunc" id="5914091">print</span><span class="op" id="5914096">(</span><span class="ident" id="5914097">x</span>&nbsp;<span class="ident" id="5914099"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5914106">.</span><span class="ident" id="5914107">Value</span><span class="op" id="5914112">)</span>&nbsp;<span class="op" id="5914114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914117">if</span>&nbsp;<span class="op" id="5914120">!</span><span class="ident" id="5914121"><a href="/go/ast/print.go.html#5910920">NotNilFilter</a></span><span class="op" id="5914133">(</span><span class="string" id="5914134">&#34;&#34;</span><span class="op" id="5914136">,</span>&nbsp;<span class="ident" id="5914138"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914139">)</span>&nbsp;<span class="op" id="5914141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914145"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914146">.</span><span class="ident" id="5914147">printf</span><span class="op" id="5914153">(</span><span class="string" id="5914154">&#34;nil&#34;</span><span class="op" id="5914159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914163">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5914171">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914175">switch</span>&nbsp;<span class="ident" id="5914182"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914183">.</span><span class="ident" id="5914184">Kind</span><span class="op" id="5914188">(</span><span class="op" id="5914189">)</span>&nbsp;<span class="op" id="5914191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914194">case</span>&nbsp;<span class="ident" id="5914199"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5914206">.</span><span class="ident" id="5914207">Interface</span><span class="op" id="5914216">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914220"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914221">.</span><span class="builtinfunc" id="5914222">print</span><span class="op" id="5914227">(</span><span class="ident" id="5914228"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914229">.</span><span class="ident" id="5914230">Elem</span><span class="op" id="5914234">(</span><span class="op" id="5914235">)</span><span class="op" id="5914236">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914240">case</span>&nbsp;<span class="ident" id="5914245"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5914252">.</span><span class="ident" id="5914253">Map</span><span class="op" id="5914256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914260"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914261">.</span><span class="ident" id="5914262">printf</span><span class="op" id="5914268">(</span><span class="string" id="5914269">&#34;%s&nbsp;(len&nbsp;=&nbsp;%d)&nbsp;{&#34;</span><span class="op" id="5914286">,</span>&nbsp;<span class="ident" id="5914288"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914289">.</span><span class="ident" id="5914290">Type</span><span class="op" id="5914294">(</span><span class="op" id="5914295">)</span><span class="op" id="5914296">,</span>&nbsp;<span class="ident" id="5914298"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914299">.</span><span class="ident" id="5914300">Len</span><span class="op" id="5914303">(</span><span class="op" id="5914304">)</span><span class="op" id="5914305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914309">if</span>&nbsp;<span class="ident" id="5914312"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914313">.</span><span class="ident" id="5914314">Len</span><span class="op" id="5914317">(</span><span class="op" id="5914318">)</span>&nbsp;<span class="op" id="5914320">&gt;</span>&nbsp;<span class="num" id="5914322">0</span>&nbsp;<span class="op" id="5914324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914329"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914330">.</span><span class="ident" id="5914331">indent</span><span class="op" id="5914337">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914343"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914344">.</span><span class="ident" id="5914345">printf</span><span class="op" id="5914351">(</span><span class="string" id="5914352">&#34;\n&#34;</span><span class="op" id="5914356">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914361">for</span>&nbsp;<span class="ident" id="5914365">_</span><span class="op" id="5914366">,</span>&nbsp;<span class="ident" id="5914368">key</span>&nbsp;<span class="op" id="5914372">:=</span>&nbsp;<span class="keyword" id="5914375">range</span>&nbsp;<span class="ident" id="5914381"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914382">.</span><span class="ident" id="5914383">MapKeys</span><span class="op" id="5914390">(</span><span class="op" id="5914391">)</span>&nbsp;<span class="op" id="5914393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914399"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914400">.</span><span class="builtinfunc" id="5914401">print</span><span class="op" id="5914406">(</span><span class="ident" id="5914407"><a href="/go/ast/print.go.html#5914368">key</a></span><span class="op" id="5914410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914416"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914417">.</span><span class="ident" id="5914418">printf</span><span class="op" id="5914424">(</span><span class="string" id="5914425">&#34;:&nbsp;&#34;</span><span class="op" id="5914429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914435"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914436">.</span><span class="builtinfunc" id="5914437">print</span><span class="op" id="5914442">(</span><span class="ident" id="5914443"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914444">.</span><span class="ident" id="5914445">MapIndex</span><span class="op" id="5914453">(</span><span class="ident" id="5914454"><a href="/go/ast/print.go.html#5914368">key</a></span><span class="op" id="5914457">)</span><span class="op" id="5914458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914464"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914465">.</span><span class="ident" id="5914466">printf</span><span class="op" id="5914472">(</span><span class="string" id="5914473">&#34;\n&#34;</span><span class="op" id="5914477">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5914482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914487"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914488">.</span><span class="ident" id="5914489">indent</span><span class="op" id="5914495">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5914500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914504"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914505">.</span><span class="ident" id="5914506">printf</span><span class="op" id="5914512">(</span><span class="string" id="5914513">&#34;}&#34;</span><span class="op" id="5914516">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914520">case</span>&nbsp;<span class="ident" id="5914525"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5914532">.</span><span class="ident" id="5914533">Ptr</span><span class="op" id="5914536">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914540"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914541">.</span><span class="ident" id="5914542">printf</span><span class="op" id="5914548">(</span><span class="string" id="5914549">&#34;*&#34;</span><span class="op" id="5914552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5914556">//&nbsp;type-checked&nbsp;ASTs&nbsp;may&nbsp;contain&nbsp;cycles&nbsp;-&nbsp;use&nbsp;ptrmap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5914611">//&nbsp;to&nbsp;keep&nbsp;track&nbsp;of&nbsp;objects&nbsp;that&nbsp;have&nbsp;been&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5914664">//&nbsp;already&nbsp;and&nbsp;print&nbsp;the&nbsp;respective&nbsp;line&nbsp;number&nbsp;instead</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914722">ptr</span>&nbsp;<span class="op" id="5914726">:=</span>&nbsp;<span class="ident" id="5914729"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914730">.</span><span class="ident" id="5914731">Interface</span><span class="op" id="5914740">(</span><span class="op" id="5914741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914745">if</span>&nbsp;<span class="ident" id="5914748">line</span><span class="op" id="5914752">,</span>&nbsp;<span class="ident" id="5914754">exists</span>&nbsp;<span class="op" id="5914761">:=</span>&nbsp;<span class="ident" id="5914764"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914765">.</span><span class="ident" id="5914766">ptrmap</span><span class="op" id="5914772">[</span><span class="ident" id="5914773"><a href="/go/ast/print.go.html#5914722">ptr</a></span><span class="op" id="5914776">]</span><span class="op" id="5914777">;</span>&nbsp;<span class="ident" id="5914779"><a href="/go/ast/print.go.html#5914754">exists</a></span>&nbsp;<span class="op" id="5914786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914791"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914792">.</span><span class="ident" id="5914793">printf</span><span class="op" id="5914799">(</span><span class="string" id="5914800">&#34;(obj&nbsp;@&nbsp;%d)&#34;</span><span class="op" id="5914812">,</span>&nbsp;<span class="ident" id="5914814"><a href="/go/ast/print.go.html#5914748">line</a></span><span class="op" id="5914818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5914822">}</span>&nbsp;<span class="keyword" id="5914824">else</span>&nbsp;<span class="op" id="5914829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914834"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914835">.</span><span class="ident" id="5914836">ptrmap</span><span class="op" id="5914842">[</span><span class="ident" id="5914843"><a href="/go/ast/print.go.html#5914722">ptr</a></span><span class="op" id="5914846">]</span>&nbsp;<span class="op" id="5914848">=</span>&nbsp;<span class="ident" id="5914850"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914851">.</span><span class="ident" id="5914852">line</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914860"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914861">.</span><span class="builtinfunc" id="5914862">print</span><span class="op" id="5914867">(</span><span class="ident" id="5914868"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914869">.</span><span class="ident" id="5914870">Elem</span><span class="op" id="5914874">(</span><span class="op" id="5914875">)</span><span class="op" id="5914876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5914880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914884">case</span>&nbsp;<span class="ident" id="5914889"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5914896">.</span><span class="ident" id="5914897">Array</span><span class="op" id="5914902">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914906"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914907">.</span><span class="ident" id="5914908">printf</span><span class="op" id="5914914">(</span><span class="string" id="5914915">&#34;%s&nbsp;{&#34;</span><span class="op" id="5914921">,</span>&nbsp;<span class="ident" id="5914923"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914924">.</span><span class="ident" id="5914925">Type</span><span class="op" id="5914929">(</span><span class="op" id="5914930">)</span><span class="op" id="5914931">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914935">if</span>&nbsp;<span class="ident" id="5914938"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5914939">.</span><span class="ident" id="5914940">Len</span><span class="op" id="5914943">(</span><span class="op" id="5914944">)</span>&nbsp;<span class="op" id="5914946">&gt;</span>&nbsp;<span class="num" id="5914948">0</span>&nbsp;<span class="op" id="5914950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914955"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914956">.</span><span class="ident" id="5914957">indent</span><span class="op" id="5914963">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5914969"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5914970">.</span><span class="ident" id="5914971">printf</span><span class="op" id="5914977">(</span><span class="string" id="5914978">&#34;\n&#34;</span><span class="op" id="5914982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5914987">for</span>&nbsp;<span class="ident" id="5914991">i</span><span class="op" id="5914992">,</span>&nbsp;<span class="ident" id="5914994">n</span>&nbsp;<span class="op" id="5914996">:=</span>&nbsp;<span class="num" id="5914999">0</span><span class="op" id="5915000">,</span>&nbsp;<span class="ident" id="5915002"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915003">.</span><span class="ident" id="5915004">Len</span><span class="op" id="5915007">(</span><span class="op" id="5915008">)</span><span class="op" id="5915009">;</span>&nbsp;<span class="ident" id="5915011"><a href="/go/ast/print.go.html#5914991">i</a></span>&nbsp;<span class="op" id="5915013">&lt;</span>&nbsp;<span class="ident" id="5915015"><a href="/go/ast/print.go.html#5914994">n</a></span><span class="op" id="5915016">;</span>&nbsp;<span class="ident" id="5915018"><a href="/go/ast/print.go.html#5914991">i</a></span><span class="op" id="5915019">++</span>&nbsp;<span class="op" id="5915022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915028"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915029">.</span><span class="ident" id="5915030">printf</span><span class="op" id="5915036">(</span><span class="string" id="5915037">&#34;%d:&nbsp;&#34;</span><span class="op" id="5915043">,</span>&nbsp;<span class="ident" id="5915045"><a href="/go/ast/print.go.html#5914991">i</a></span><span class="op" id="5915046">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915052"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915053">.</span><span class="builtinfunc" id="5915054">print</span><span class="op" id="5915059">(</span><span class="ident" id="5915060"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915061">.</span><span class="ident" id="5915062">Index</span><span class="op" id="5915067">(</span><span class="ident" id="5915068"><a href="/go/ast/print.go.html#5914991">i</a></span><span class="op" id="5915069">)</span><span class="op" id="5915070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915076"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915077">.</span><span class="ident" id="5915078">printf</span><span class="op" id="5915084">(</span><span class="string" id="5915085">&#34;\n&#34;</span><span class="op" id="5915089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915094">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915099"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915100">.</span><span class="ident" id="5915101">indent</span><span class="op" id="5915107">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915112">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915116"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915117">.</span><span class="ident" id="5915118">printf</span><span class="op" id="5915124">(</span><span class="string" id="5915125">&#34;}&#34;</span><span class="op" id="5915128">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915132">case</span>&nbsp;<span class="ident" id="5915137"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5915144">.</span><span class="ident" id="5915145">Slice</span><span class="op" id="5915150">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915154">if</span>&nbsp;<span class="ident" id="5915157">s</span><span class="op" id="5915158">,</span>&nbsp;<span class="ident" id="5915160">ok</span>&nbsp;<span class="op" id="5915163">:=</span>&nbsp;<span class="ident" id="5915166"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915167">.</span><span class="ident" id="5915168">Interface</span><span class="op" id="5915177">(</span><span class="op" id="5915178">)</span><span class="op" id="5915179">.</span><span class="op" id="5915180">(</span><span class="op" id="5915181">[</span><span class="op" id="5915182">]</span><span class="builtintype" id="5915183">byte</span><span class="op" id="5915187">)</span><span class="op" id="5915188">;</span>&nbsp;<span class="ident" id="5915190"><a href="/go/ast/print.go.html#5915160">ok</a></span>&nbsp;<span class="op" id="5915193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915198"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915199">.</span><span class="ident" id="5915200">printf</span><span class="op" id="5915206">(</span><span class="string" id="5915207">&#34;%#q&#34;</span><span class="op" id="5915212">,</span>&nbsp;<span class="ident" id="5915214"><a href="/go/ast/print.go.html#5915157">s</a></span><span class="op" id="5915215">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915220">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915233"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915234">.</span><span class="ident" id="5915235">printf</span><span class="op" id="5915241">(</span><span class="string" id="5915242">&#34;%s&nbsp;(len&nbsp;=&nbsp;%d)&nbsp;{&#34;</span><span class="op" id="5915259">,</span>&nbsp;<span class="ident" id="5915261"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915262">.</span><span class="ident" id="5915263">Type</span><span class="op" id="5915267">(</span><span class="op" id="5915268">)</span><span class="op" id="5915269">,</span>&nbsp;<span class="ident" id="5915271"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915272">.</span><span class="ident" id="5915273">Len</span><span class="op" id="5915276">(</span><span class="op" id="5915277">)</span><span class="op" id="5915278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915282">if</span>&nbsp;<span class="ident" id="5915285"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915286">.</span><span class="ident" id="5915287">Len</span><span class="op" id="5915290">(</span><span class="op" id="5915291">)</span>&nbsp;<span class="op" id="5915293">&gt;</span>&nbsp;<span class="num" id="5915295">0</span>&nbsp;<span class="op" id="5915297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915302"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915303">.</span><span class="ident" id="5915304">indent</span><span class="op" id="5915310">++</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915316"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915317">.</span><span class="ident" id="5915318">printf</span><span class="op" id="5915324">(</span><span class="string" id="5915325">&#34;\n&#34;</span><span class="op" id="5915329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915334">for</span>&nbsp;<span class="ident" id="5915338">i</span><span class="op" id="5915339">,</span>&nbsp;<span class="ident" id="5915341">n</span>&nbsp;<span class="op" id="5915343">:=</span>&nbsp;<span class="num" id="5915346">0</span><span class="op" id="5915347">,</span>&nbsp;<span class="ident" id="5915349"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915350">.</span><span class="ident" id="5915351">Len</span><span class="op" id="5915354">(</span><span class="op" id="5915355">)</span><span class="op" id="5915356">;</span>&nbsp;<span class="ident" id="5915358"><a href="/go/ast/print.go.html#5915338">i</a></span>&nbsp;<span class="op" id="5915360">&lt;</span>&nbsp;<span class="ident" id="5915362"><a href="/go/ast/print.go.html#5915341">n</a></span><span class="op" id="5915363">;</span>&nbsp;<span class="ident" id="5915365"><a href="/go/ast/print.go.html#5915338">i</a></span><span class="op" id="5915366">++</span>&nbsp;<span class="op" id="5915369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915375"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915376">.</span><span class="ident" id="5915377">printf</span><span class="op" id="5915383">(</span><span class="string" id="5915384">&#34;%d:&nbsp;&#34;</span><span class="op" id="5915390">,</span>&nbsp;<span class="ident" id="5915392"><a href="/go/ast/print.go.html#5915338">i</a></span><span class="op" id="5915393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915399"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915400">.</span><span class="builtinfunc" id="5915401">print</span><span class="op" id="5915406">(</span><span class="ident" id="5915407"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915408">.</span><span class="ident" id="5915409">Index</span><span class="op" id="5915414">(</span><span class="ident" id="5915415"><a href="/go/ast/print.go.html#5915338">i</a></span><span class="op" id="5915416">)</span><span class="op" id="5915417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915423"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915424">.</span><span class="ident" id="5915425">printf</span><span class="op" id="5915431">(</span><span class="string" id="5915432">&#34;\n&#34;</span><span class="op" id="5915436">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915446"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915447">.</span><span class="ident" id="5915448">indent</span><span class="op" id="5915454">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915463"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915464">.</span><span class="ident" id="5915465">printf</span><span class="op" id="5915471">(</span><span class="string" id="5915472">&#34;}&#34;</span><span class="op" id="5915475">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915479">case</span>&nbsp;<span class="ident" id="5915484"><a href="/go/ast/print.go.html#5910679">reflect</a></span><span class="op" id="5915491">.</span><span class="ident" id="5915492">Struct</span><span class="op" id="5915498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915502">t</span>&nbsp;<span class="op" id="5915504">:=</span>&nbsp;<span class="ident" id="5915507"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915508">.</span><span class="ident" id="5915509">Type</span><span class="op" id="5915513">(</span><span class="op" id="5915514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915518"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915519">.</span><span class="ident" id="5915520">printf</span><span class="op" id="5915526">(</span><span class="string" id="5915527">&#34;%s&nbsp;{&#34;</span><span class="op" id="5915533">,</span>&nbsp;<span class="ident" id="5915535"><a href="/go/ast/print.go.html#5915502">t</a></span><span class="op" id="5915536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915540"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915541">.</span><span class="ident" id="5915542">indent</span><span class="op" id="5915548">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915553">first</span>&nbsp;<span class="op" id="5915559">:=</span>&nbsp;<span class="ident" id="5915562">true</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915569">for</span>&nbsp;<span class="ident" id="5915573">i</span><span class="op" id="5915574">,</span>&nbsp;<span class="ident" id="5915576">n</span>&nbsp;<span class="op" id="5915578">:=</span>&nbsp;<span class="num" id="5915581">0</span><span class="op" id="5915582">,</span>&nbsp;<span class="ident" id="5915584"><a href="/go/ast/print.go.html#5915502">t</a></span><span class="op" id="5915585">.</span><span class="ident" id="5915586">NumField</span><span class="op" id="5915594">(</span><span class="op" id="5915595">)</span><span class="op" id="5915596">;</span>&nbsp;<span class="ident" id="5915598"><a href="/go/ast/print.go.html#5915573">i</a></span>&nbsp;<span class="op" id="5915600">&lt;</span>&nbsp;<span class="ident" id="5915602"><a href="/go/ast/print.go.html#5915576">n</a></span><span class="op" id="5915603">;</span>&nbsp;<span class="ident" id="5915605"><a href="/go/ast/print.go.html#5915573">i</a></span><span class="op" id="5915606">++</span>&nbsp;<span class="op" id="5915609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5915614">//&nbsp;exclude&nbsp;non-exported&nbsp;fields&nbsp;because&nbsp;their</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5915662">//&nbsp;values&nbsp;cannot&nbsp;be&nbsp;accessed&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915709">if</span>&nbsp;<span class="ident" id="5915712">name</span>&nbsp;<span class="op" id="5915717">:=</span>&nbsp;<span class="ident" id="5915720"><a href="/go/ast/print.go.html#5915502">t</a></span><span class="op" id="5915721">.</span><span class="ident" id="5915722">Field</span><span class="op" id="5915727">(</span><span class="ident" id="5915728"><a href="/go/ast/print.go.html#5915573">i</a></span><span class="op" id="5915729">)</span><span class="op" id="5915730">.</span><span class="ident" id="5915731">Name</span><span class="op" id="5915735">;</span>&nbsp;<span class="ident" id="5915737"><a href="/go/ast/ast.go.html#5868844">IsExported</a></span><span class="op" id="5915747">(</span><span class="ident" id="5915748"><a href="/go/ast/print.go.html#5915712">name</a></span><span class="op" id="5915752">)</span>&nbsp;<span class="op" id="5915754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915760">value</span>&nbsp;<span class="op" id="5915766">:=</span>&nbsp;<span class="ident" id="5915769"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5915770">.</span><span class="ident" id="5915771">Field</span><span class="op" id="5915776">(</span><span class="ident" id="5915777"><a href="/go/ast/print.go.html#5915573">i</a></span><span class="op" id="5915778">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915784">if</span>&nbsp;<span class="ident" id="5915787"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915788">.</span><span class="ident" id="5915789">filter</span>&nbsp;<span class="op" id="5915796">==</span>&nbsp;<span class="ident" id="5915799">nil</span>&nbsp;<span class="op" id="5915803">||</span>&nbsp;<span class="ident" id="5915806"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915807">.</span><span class="ident" id="5915808">filter</span><span class="op" id="5915814">(</span><span class="ident" id="5915815"><a href="/go/ast/print.go.html#5915712">name</a></span><span class="op" id="5915819">,</span>&nbsp;<span class="ident" id="5915821"><a href="/go/ast/print.go.html#5915760">value</a></span><span class="op" id="5915826">)</span>&nbsp;<span class="op" id="5915828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5915835">if</span>&nbsp;<span class="ident" id="5915838"><a href="/go/ast/print.go.html#5915553">first</a></span>&nbsp;<span class="op" id="5915844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915852"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915853">.</span><span class="ident" id="5915854">printf</span><span class="op" id="5915860">(</span><span class="string" id="5915861">&#34;\n&#34;</span><span class="op" id="5915865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915873"><a href="/go/ast/print.go.html#5915553">first</a></span>&nbsp;<span class="op" id="5915879">=</span>&nbsp;<span class="ident" id="5915881">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915892">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915899"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915900">.</span><span class="ident" id="5915901">printf</span><span class="op" id="5915907">(</span><span class="string" id="5915908">&#34;%s:&nbsp;&#34;</span><span class="op" id="5915914">,</span>&nbsp;<span class="ident" id="5915916"><a href="/go/ast/print.go.html#5915712">name</a></span><span class="op" id="5915920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915927"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915928">.</span><span class="builtinfunc" id="5915929">print</span><span class="op" id="5915934">(</span><span class="ident" id="5915935"><a href="/go/ast/print.go.html#5915760">value</a></span><span class="op" id="5915940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915947"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915948">.</span><span class="ident" id="5915949">printf</span><span class="op" id="5915955">(</span><span class="string" id="5915956">&#34;\n&#34;</span><span class="op" id="5915960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915971">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5915975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915979"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915980">.</span><span class="ident" id="5915981">indent</span><span class="op" id="5915987">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5915992"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5915993">.</span><span class="ident" id="5915994">printf</span><span class="op" id="5916000">(</span><span class="string" id="5916001">&#34;}&#34;</span><span class="op" id="5916004">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5916008">default</span><span class="op" id="5916015">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5916019">v</span>&nbsp;<span class="op" id="5916021">:=</span>&nbsp;<span class="ident" id="5916024"><a href="/go/ast/print.go.html#5914097">x</a></span><span class="op" id="5916025">.</span><span class="ident" id="5916026">Interface</span><span class="op" id="5916035">(</span><span class="op" id="5916036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5916040">switch</span>&nbsp;<span class="ident" id="5916047">v</span>&nbsp;<span class="op" id="5916049">:=</span>&nbsp;<span class="ident" id="5916052"><a href="/go/ast/print.go.html#5916019">v</a></span><span class="op" id="5916053">.</span><span class="op" id="5916054">(</span><span class="keyword" id="5916055">type</span><span class="op" id="5916059">)</span>&nbsp;<span class="op" id="5916061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5916065">case</span>&nbsp;<span class="builtintype" id="5916070">string</span><span class="op" id="5916076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5916081">//&nbsp;print&nbsp;strings&nbsp;in&nbsp;quotes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5916111"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5916112">.</span><span class="ident" id="5916113">printf</span><span class="op" id="5916119">(</span><span class="string" id="5916120">&#34;%q&#34;</span><span class="op" id="5916124">,</span>&nbsp;<span class="ident" id="5916126"><a href="/go/ast/print.go.html#5916047">v</a></span><span class="op" id="5916127">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5916132">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5916141">case</span>&nbsp;<span class="ident" id="5916146"><a href="/go/ast/print.go.html#5910655">token</a></span><span class="op" id="5916151">.</span><span class="ident" id="5916152">Pos</span><span class="op" id="5916155">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5916160">//&nbsp;position&nbsp;values&nbsp;can&nbsp;be&nbsp;printed&nbsp;nicely&nbsp;if&nbsp;we&nbsp;have&nbsp;a&nbsp;file&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5916226">if</span>&nbsp;<span class="ident" id="5916229"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5916230">.</span><span class="ident" id="5916231">fset</span>&nbsp;<span class="op" id="5916236">!=</span>&nbsp;<span class="ident" id="5916239">nil</span>&nbsp;<span class="op" id="5916243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5916249"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5916250">.</span><span class="ident" id="5916251">printf</span><span class="op" id="5916257">(</span><span class="string" id="5916258">&#34;%s&#34;</span><span class="op" id="5916262">,</span>&nbsp;<span class="ident" id="5916264"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5916265">.</span><span class="ident" id="5916266">fset</span><span class="op" id="5916270">.</span><span class="ident" id="5916271">Position</span><span class="op" id="5916279">(</span><span class="ident" id="5916280"><a href="/go/ast/print.go.html#5916047">v</a></span><span class="op" id="5916281">)</span><span class="op" id="5916282">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5916288">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5916298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5916302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5916306">//&nbsp;default</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5916319"><a href="/go/ast/print.go.html#5914079">p</a></span><span class="op" id="5916320">.</span><span class="ident" id="5916321">printf</span><span class="op" id="5916327">(</span><span class="string" id="5916328">&#34;%v&#34;</span><span class="op" id="5916332">,</span>&nbsp;<span class="ident" id="5916334"><a href="/go/ast/print.go.html#5916019">v</a></span><span class="op" id="5916335">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5916338">}</span><br>
<span class="lineno"></span><span class="op" id="5916340">}</span>
</div>
</body>
</html>
