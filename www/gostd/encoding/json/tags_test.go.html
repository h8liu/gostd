<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html" class="current">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6902228">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6902284">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6902338">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6902389">package</span>&nbsp;<span class="ident" id="6902397">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6902403">import</span>&nbsp;<span class="op" id="6902410">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6902413">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6902423">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6902426">func</span>&nbsp;<span class="ident" id="6902431">TestTagParsing</span><span class="op" id="6902445">(</span><span class="ident" id="6902446">t</span>&nbsp;<span class="op" id="6902448">*</span><span class="ident" id="6902449">testing</span><span class="op" id="6902456">.</span><span class="ident" id="6902457">T</span><span class="op" id="6902458">)</span>&nbsp;<span class="op" id="6902460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6902463">name</span><span class="op" id="6902467">,</span>&nbsp;<span class="ident" id="6902469">opts</span>&nbsp;<span class="op" id="6902474">:=</span>&nbsp;<span class="ident" id="6902477">parseTag</span><span class="op" id="6902485">(</span><span class="string" id="6902486">&#34;field,foobar,foo&#34;</span><span class="op" id="6902504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6902507">if</span>&nbsp;<span class="ident" id="6902510">name</span>&nbsp;<span class="op" id="6902515">!=</span>&nbsp;<span class="string" id="6902518">&#34;field&#34;</span>&nbsp;<span class="op" id="6902526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6902530">t</span><span class="op" id="6902531">.</span><span class="ident" id="6902532">Fatalf</span><span class="op" id="6902538">(</span><span class="string" id="6902539">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="6902562">,</span>&nbsp;<span class="ident" id="6902564">name</span><span class="op" id="6902568">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6902574">for</span>&nbsp;<span class="ident" id="6902578">_</span><span class="op" id="6902579">,</span>&nbsp;<span class="ident" id="6902581">tt</span>&nbsp;<span class="op" id="6902584">:=</span>&nbsp;<span class="keyword" id="6902587">range</span>&nbsp;<span class="op" id="6902593">[</span><span class="op" id="6902594">]</span><span class="keyword" id="6902595">struct</span>&nbsp;<span class="op" id="6902602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6902606">opt</span>&nbsp;&nbsp;<span class="builtintype" id="6902611">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6902620">want</span>&nbsp;<span class="builtintype" id="6902625">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902631">}</span><span class="op" id="6902632">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902636">{</span><span class="string" id="6902637">&#34;foobar&#34;</span><span class="op" id="6902645">,</span>&nbsp;<span class="builtintype" id="6902647">true</span><span class="op" id="6902651">}</span><span class="op" id="6902652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902656">{</span><span class="string" id="6902657">&#34;foo&#34;</span><span class="op" id="6902662">,</span>&nbsp;<span class="builtintype" id="6902664">true</span><span class="op" id="6902668">}</span><span class="op" id="6902669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902673">{</span><span class="string" id="6902674">&#34;bar&#34;</span><span class="op" id="6902679">,</span>&nbsp;<span class="builtintype" id="6902681">false</span><span class="op" id="6902686">}</span><span class="op" id="6902687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902690">}</span>&nbsp;<span class="op" id="6902692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6902696">if</span>&nbsp;<span class="ident" id="6902699">opts</span><span class="op" id="6902703">.</span><span class="ident" id="6902704">Contains</span><span class="op" id="6902712">(</span><span class="ident" id="6902713">tt</span><span class="op" id="6902715">.</span><span class="ident" id="6902716">opt</span><span class="op" id="6902719">)</span>&nbsp;<span class="op" id="6902721">!=</span>&nbsp;<span class="ident" id="6902724">tt</span><span class="op" id="6902726">.</span><span class="ident" id="6902727">want</span>&nbsp;<span class="op" id="6902732">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6902737">t</span><span class="op" id="6902738">.</span><span class="ident" id="6902739">Errorf</span><span class="op" id="6902745">(</span><span class="string" id="6902746">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6902765">,</span>&nbsp;<span class="ident" id="6902767">tt</span><span class="op" id="6902769">.</span><span class="ident" id="6902770">opt</span><span class="op" id="6902773">,</span>&nbsp;<span class="op" id="6902775">!</span><span class="ident" id="6902776">tt</span><span class="op" id="6902778">.</span><span class="ident" id="6902779">want</span><span class="op" id="6902783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6902790">}</span><br>
<span class="lineno"></span><span class="op" id="6902792">}</span>
</div>
</body>
</html>
