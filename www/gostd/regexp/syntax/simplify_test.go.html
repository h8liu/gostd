<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6780397">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6780453">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6780507">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6780558">package</span>&nbsp;<span class="ident" id="6780566">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6780574">import</span>&nbsp;<span class="string" id="6780581">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6780592">var</span>&nbsp;<span class="ident" id="6780596">simplifyTests</span>&nbsp;<span class="op" id="6780610">=</span>&nbsp;<span class="op" id="6780612">[</span><span class="op" id="6780613">]</span><span class="keyword" id="6780614">struct</span>&nbsp;<span class="op" id="6780621">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780624">Regexp</span>&nbsp;<span class="builtintype" id="6780631">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6780639">Simple</span>&nbsp;<span class="builtintype" id="6780646">string</span><br>
<span class="lineno"></span><span class="op" id="6780653">}</span><span class="op" id="6780654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6780657">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780687">{</span><span class="string" id="6780688">`a`</span><span class="op" id="6780691">,</span>&nbsp;<span class="string" id="6780693">`a`</span><span class="op" id="6780696">}</span><span class="op" id="6780697">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780700">{</span><span class="string" id="6780701">`ab`</span><span class="op" id="6780705">,</span>&nbsp;<span class="string" id="6780707">`ab`</span><span class="op" id="6780711">}</span><span class="op" id="6780712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780715">{</span><span class="string" id="6780716">`a|b`</span><span class="op" id="6780721">,</span>&nbsp;<span class="string" id="6780723">`[a-b]`</span><span class="op" id="6780730">}</span><span class="op" id="6780731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780734">{</span><span class="string" id="6780735">`ab|cd`</span><span class="op" id="6780742">,</span>&nbsp;<span class="string" id="6780744">`ab|cd`</span><span class="op" id="6780751">}</span><span class="op" id="6780752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780755">{</span><span class="string" id="6780756">`(ab)*`</span><span class="op" id="6780763">,</span>&nbsp;<span class="string" id="6780765">`(ab)*`</span><span class="op" id="6780772">}</span><span class="op" id="6780773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780776">{</span><span class="string" id="6780777">`(ab)+`</span><span class="op" id="6780784">,</span>&nbsp;<span class="string" id="6780786">`(ab)+`</span><span class="op" id="6780793">}</span><span class="op" id="6780794">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780797">{</span><span class="string" id="6780798">`(ab)?`</span><span class="op" id="6780805">,</span>&nbsp;<span class="string" id="6780807">`(ab)?`</span><span class="op" id="6780814">}</span><span class="op" id="6780815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780818">{</span><span class="string" id="6780819">`.`</span><span class="op" id="6780822">,</span>&nbsp;<span class="string" id="6780824">`(?s:.)`</span><span class="op" id="6780832">}</span><span class="op" id="6780833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780836">{</span><span class="string" id="6780837">`^`</span><span class="op" id="6780840">,</span>&nbsp;<span class="string" id="6780842">`^`</span><span class="op" id="6780845">}</span><span class="op" id="6780846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780849">{</span><span class="string" id="6780850">`$`</span><span class="op" id="6780853">,</span>&nbsp;<span class="string" id="6780855">`$`</span><span class="op" id="6780858">}</span><span class="op" id="6780859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780862">{</span><span class="string" id="6780863">`[ac]`</span><span class="op" id="6780869">,</span>&nbsp;<span class="string" id="6780871">`[ac]`</span><span class="op" id="6780877">}</span><span class="op" id="6780878">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780881">{</span><span class="string" id="6780882">`[^ac]`</span><span class="op" id="6780889">,</span>&nbsp;<span class="string" id="6780891">`[^ac]`</span><span class="op" id="6780898">}</span><span class="op" id="6780899">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6780903">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780931">{</span><span class="string" id="6780932">`[[:alnum:]]`</span><span class="op" id="6780945">,</span>&nbsp;<span class="string" id="6780947">`[0-9A-Za-z]`</span><span class="op" id="6780960">}</span><span class="op" id="6780961">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780964">{</span><span class="string" id="6780965">`[[:alpha:]]`</span><span class="op" id="6780978">,</span>&nbsp;<span class="string" id="6780980">`[A-Za-z]`</span><span class="op" id="6780990">}</span><span class="op" id="6780991">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6780994">{</span><span class="string" id="6780995">`[[:blank:]]`</span><span class="op" id="6781008">,</span>&nbsp;<span class="string" id="6781010">`[\t&nbsp;]`</span><span class="op" id="6781017">}</span><span class="op" id="6781018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781021">{</span><span class="string" id="6781022">`[[:cntrl:]]`</span><span class="op" id="6781035">,</span>&nbsp;<span class="string" id="6781037">`[\x00-\x1f\x7f]`</span><span class="op" id="6781054">}</span><span class="op" id="6781055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781058">{</span><span class="string" id="6781059">`[[:digit:]]`</span><span class="op" id="6781072">,</span>&nbsp;<span class="string" id="6781074">`[0-9]`</span><span class="op" id="6781081">}</span><span class="op" id="6781082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781085">{</span><span class="string" id="6781086">`[[:graph:]]`</span><span class="op" id="6781099">,</span>&nbsp;<span class="string" id="6781101">`[!-~]`</span><span class="op" id="6781108">}</span><span class="op" id="6781109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781112">{</span><span class="string" id="6781113">`[[:lower:]]`</span><span class="op" id="6781126">,</span>&nbsp;<span class="string" id="6781128">`[a-z]`</span><span class="op" id="6781135">}</span><span class="op" id="6781136">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781139">{</span><span class="string" id="6781140">`[[:print:]]`</span><span class="op" id="6781153">,</span>&nbsp;<span class="string" id="6781155">`[&nbsp;-~]`</span><span class="op" id="6781162">}</span><span class="op" id="6781163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781166">{</span><span class="string" id="6781167">`[[:punct:]]`</span><span class="op" id="6781180">,</span>&nbsp;<span class="string" id="6781182">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="6781202">}</span><span class="op" id="6781203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781206">{</span><span class="string" id="6781207">`[[:space:]]`</span><span class="op" id="6781220">,</span>&nbsp;<span class="string" id="6781222">`[\t-\r&nbsp;]`</span><span class="op" id="6781232">}</span><span class="op" id="6781233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781236">{</span><span class="string" id="6781237">`[[:upper:]]`</span><span class="op" id="6781250">,</span>&nbsp;<span class="string" id="6781252">`[A-Z]`</span><span class="op" id="6781259">}</span><span class="op" id="6781260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781263">{</span><span class="string" id="6781264">`[[:xdigit:]]`</span><span class="op" id="6781278">,</span>&nbsp;<span class="string" id="6781280">`[0-9A-Fa-f]`</span><span class="op" id="6781293">}</span><span class="op" id="6781294">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6781298">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781325">{</span><span class="string" id="6781326">`\d`</span><span class="op" id="6781330">,</span>&nbsp;<span class="string" id="6781332">`[0-9]`</span><span class="op" id="6781339">}</span><span class="op" id="6781340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781343">{</span><span class="string" id="6781344">`\s`</span><span class="op" id="6781348">,</span>&nbsp;<span class="string" id="6781350">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="6781365">}</span><span class="op" id="6781366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781369">{</span><span class="string" id="6781370">`\w`</span><span class="op" id="6781374">,</span>&nbsp;<span class="string" id="6781376">`[0-9A-Z_a-z]`</span><span class="op" id="6781390">}</span><span class="op" id="6781391">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781394">{</span><span class="string" id="6781395">`\D`</span><span class="op" id="6781399">,</span>&nbsp;<span class="string" id="6781401">`[^0-9]`</span><span class="op" id="6781409">}</span><span class="op" id="6781410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781413">{</span><span class="string" id="6781414">`\S`</span><span class="op" id="6781418">,</span>&nbsp;<span class="string" id="6781420">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="6781436">}</span><span class="op" id="6781437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781440">{</span><span class="string" id="6781441">`\W`</span><span class="op" id="6781445">,</span>&nbsp;<span class="string" id="6781447">`[^0-9A-Z_a-z]`</span><span class="op" id="6781462">}</span><span class="op" id="6781463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781466">{</span><span class="string" id="6781467">`[\d]`</span><span class="op" id="6781473">,</span>&nbsp;<span class="string" id="6781475">`[0-9]`</span><span class="op" id="6781482">}</span><span class="op" id="6781483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781486">{</span><span class="string" id="6781487">`[\s]`</span><span class="op" id="6781493">,</span>&nbsp;<span class="string" id="6781495">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="6781510">}</span><span class="op" id="6781511">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781514">{</span><span class="string" id="6781515">`[\w]`</span><span class="op" id="6781521">,</span>&nbsp;<span class="string" id="6781523">`[0-9A-Z_a-z]`</span><span class="op" id="6781537">}</span><span class="op" id="6781538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781541">{</span><span class="string" id="6781542">`[\D]`</span><span class="op" id="6781548">,</span>&nbsp;<span class="string" id="6781550">`[^0-9]`</span><span class="op" id="6781558">}</span><span class="op" id="6781559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781562">{</span><span class="string" id="6781563">`[\S]`</span><span class="op" id="6781569">,</span>&nbsp;<span class="string" id="6781571">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="6781587">}</span><span class="op" id="6781588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781591">{</span><span class="string" id="6781592">`[\W]`</span><span class="op" id="6781598">,</span>&nbsp;<span class="string" id="6781600">`[^0-9A-Z_a-z]`</span><span class="op" id="6781615">}</span><span class="op" id="6781616">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6781620">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781642">{</span><span class="string" id="6781643">`a{1}`</span><span class="op" id="6781649">,</span>&nbsp;<span class="string" id="6781651">`a`</span><span class="op" id="6781654">}</span><span class="op" id="6781655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781658">{</span><span class="string" id="6781659">`a{2}`</span><span class="op" id="6781665">,</span>&nbsp;<span class="string" id="6781667">`aa`</span><span class="op" id="6781671">}</span><span class="op" id="6781672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781675">{</span><span class="string" id="6781676">`a{5}`</span><span class="op" id="6781682">,</span>&nbsp;<span class="string" id="6781684">`aaaaa`</span><span class="op" id="6781691">}</span><span class="op" id="6781692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781695">{</span><span class="string" id="6781696">`a{0,1}`</span><span class="op" id="6781704">,</span>&nbsp;<span class="string" id="6781706">`a?`</span><span class="op" id="6781710">}</span><span class="op" id="6781711">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6781714">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6781777">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6781833">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781910">{</span><span class="string" id="6781911">`(a){0,2}`</span><span class="op" id="6781921">,</span>&nbsp;<span class="string" id="6781923">`(?:(a)(a)?)?`</span><span class="op" id="6781937">}</span><span class="op" id="6781938">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6781962">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6781979">{</span><span class="string" id="6781980">`(a){0,4}`</span><span class="op" id="6781990">,</span>&nbsp;<span class="string" id="6781992">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="6782022">}</span><span class="op" id="6782023">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6782031">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782052">{</span><span class="string" id="6782053">`(a){2,6}`</span><span class="op" id="6782063">,</span>&nbsp;<span class="string" id="6782065">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="6782101">}</span><span class="op" id="6782102">,</span>&nbsp;<span class="comment" id="6782104">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782125">{</span><span class="string" id="6782126">`a{0,2}`</span><span class="op" id="6782134">,</span>&nbsp;<span class="string" id="6782136">`(?:aa?)?`</span><span class="op" id="6782146">}</span><span class="op" id="6782147">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6782177">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782194">{</span><span class="string" id="6782195">`a{0,4}`</span><span class="op" id="6782203">,</span>&nbsp;<span class="string" id="6782205">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="6782227">}</span><span class="op" id="6782228">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6782246">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782267">{</span><span class="string" id="6782268">`a{2,6}`</span><span class="op" id="6782276">,</span>&nbsp;<span class="string" id="6782278">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="6782302">}</span><span class="op" id="6782303">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6782319">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782340">{</span><span class="string" id="6782341">`a{0,}`</span><span class="op" id="6782348">,</span>&nbsp;<span class="string" id="6782350">`a*`</span><span class="op" id="6782354">}</span><span class="op" id="6782355">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782358">{</span><span class="string" id="6782359">`a{1,}`</span><span class="op" id="6782366">,</span>&nbsp;<span class="string" id="6782368">`a+`</span><span class="op" id="6782372">}</span><span class="op" id="6782373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782376">{</span><span class="string" id="6782377">`a{2,}`</span><span class="op" id="6782384">,</span>&nbsp;<span class="string" id="6782386">`aa+`</span><span class="op" id="6782391">}</span><span class="op" id="6782392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782395">{</span><span class="string" id="6782396">`a{5,}`</span><span class="op" id="6782403">,</span>&nbsp;<span class="string" id="6782405">`aaaaa+`</span><span class="op" id="6782413">}</span><span class="op" id="6782414">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6782418">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782468">{</span><span class="string" id="6782469">`(?:a{1,}){1,}`</span><span class="op" id="6782484">,</span>&nbsp;<span class="string" id="6782486">`a+`</span><span class="op" id="6782490">}</span><span class="op" id="6782491">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782494">{</span><span class="string" id="6782495">`(a{1,}b{1,})`</span><span class="op" id="6782509">,</span>&nbsp;<span class="string" id="6782511">`(a+b+)`</span><span class="op" id="6782519">}</span><span class="op" id="6782520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782523">{</span><span class="string" id="6782524">`a{1,}|b{1,}`</span><span class="op" id="6782537">,</span>&nbsp;<span class="string" id="6782539">`a+|b+`</span><span class="op" id="6782546">}</span><span class="op" id="6782547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782550">{</span><span class="string" id="6782551">`(?:a{1,})*`</span><span class="op" id="6782563">,</span>&nbsp;<span class="string" id="6782565">`(?:a+)*`</span><span class="op" id="6782574">}</span><span class="op" id="6782575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782578">{</span><span class="string" id="6782579">`(?:a{1,})+`</span><span class="op" id="6782591">,</span>&nbsp;<span class="string" id="6782593">`a+`</span><span class="op" id="6782597">}</span><span class="op" id="6782598">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782601">{</span><span class="string" id="6782602">`(?:a{1,})?`</span><span class="op" id="6782614">,</span>&nbsp;<span class="string" id="6782616">`(?:a+)?`</span><span class="op" id="6782625">}</span><span class="op" id="6782626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782629">{</span><span class="string" id="6782630">``</span><span class="op" id="6782632">,</span>&nbsp;<span class="string" id="6782634">`(?:)`</span><span class="op" id="6782640">}</span><span class="op" id="6782641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782644">{</span><span class="string" id="6782645">`a{0}`</span><span class="op" id="6782651">,</span>&nbsp;<span class="string" id="6782653">`(?:)`</span><span class="op" id="6782659">}</span><span class="op" id="6782660">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6782664">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782699">{</span><span class="string" id="6782700">`[ab]`</span><span class="op" id="6782706">,</span>&nbsp;<span class="string" id="6782708">`[a-b]`</span><span class="op" id="6782715">}</span><span class="op" id="6782716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782719">{</span><span class="string" id="6782720">`[a-za-za-z]`</span><span class="op" id="6782733">,</span>&nbsp;<span class="string" id="6782735">`[a-z]`</span><span class="op" id="6782742">}</span><span class="op" id="6782743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782746">{</span><span class="string" id="6782747">`[A-Za-zA-Za-z]`</span><span class="op" id="6782763">,</span>&nbsp;<span class="string" id="6782765">`[A-Za-z]`</span><span class="op" id="6782775">}</span><span class="op" id="6782776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782779">{</span><span class="string" id="6782780">`[ABCDEFGH]`</span><span class="op" id="6782792">,</span>&nbsp;<span class="string" id="6782794">`[A-H]`</span><span class="op" id="6782801">}</span><span class="op" id="6782802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782805">{</span><span class="string" id="6782806">`[AB-CD-EF-GH]`</span><span class="op" id="6782821">,</span>&nbsp;<span class="string" id="6782823">`[A-H]`</span><span class="op" id="6782830">}</span><span class="op" id="6782831">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782834">{</span><span class="string" id="6782835">`[W-ZP-XE-R]`</span><span class="op" id="6782848">,</span>&nbsp;<span class="string" id="6782850">`[E-Z]`</span><span class="op" id="6782857">}</span><span class="op" id="6782858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782861">{</span><span class="string" id="6782862">`[a-ee-gg-m]`</span><span class="op" id="6782875">,</span>&nbsp;<span class="string" id="6782877">`[a-m]`</span><span class="op" id="6782884">}</span><span class="op" id="6782885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782888">{</span><span class="string" id="6782889">`[a-ea-ha-m]`</span><span class="op" id="6782902">,</span>&nbsp;<span class="string" id="6782904">`[a-m]`</span><span class="op" id="6782911">}</span><span class="op" id="6782912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782915">{</span><span class="string" id="6782916">`[a-ma-ha-e]`</span><span class="op" id="6782929">,</span>&nbsp;<span class="string" id="6782931">`[a-m]`</span><span class="op" id="6782938">}</span><span class="op" id="6782939">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6782942">{</span><span class="string" id="6782943">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="6782959">,</span>&nbsp;<span class="string" id="6782961">`[&nbsp;-~]`</span><span class="op" id="6782968">}</span><span class="op" id="6782969">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6782973">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783001">{</span><span class="string" id="6783002">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="6783026">,</span>&nbsp;<span class="string" id="6783028">`[^\x00-\x{10FFFF}]`</span><span class="op" id="6783048">}</span><span class="op" id="6783049">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783053">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783080">{</span><span class="string" id="6783081">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="6783104">,</span>&nbsp;<span class="string" id="6783106">`(?s:.)`</span><span class="op" id="6783114">}</span><span class="op" id="6783115">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783119">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783145">{</span><span class="string" id="6783146">`(?i)A`</span><span class="op" id="6783153">,</span>&nbsp;<span class="string" id="6783155">`(?i:A)`</span><span class="op" id="6783163">}</span><span class="op" id="6783164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783167">{</span><span class="string" id="6783168">`(?i)a`</span><span class="op" id="6783175">,</span>&nbsp;<span class="string" id="6783177">`(?i:A)`</span><span class="op" id="6783185">}</span><span class="op" id="6783186">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783189">{</span><span class="string" id="6783190">`(?i)[A]`</span><span class="op" id="6783199">,</span>&nbsp;<span class="string" id="6783201">`(?i:A)`</span><span class="op" id="6783209">}</span><span class="op" id="6783210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783213">{</span><span class="string" id="6783214">`(?i)[a]`</span><span class="op" id="6783223">,</span>&nbsp;<span class="string" id="6783225">`(?i:A)`</span><span class="op" id="6783233">}</span><span class="op" id="6783234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783237">{</span><span class="string" id="6783238">`(?i)K`</span><span class="op" id="6783245">,</span>&nbsp;<span class="string" id="6783247">`(?i:K)`</span><span class="op" id="6783255">}</span><span class="op" id="6783256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783259">{</span><span class="string" id="6783260">`(?i)k`</span><span class="op" id="6783267">,</span>&nbsp;<span class="string" id="6783269">`(?i:K)`</span><span class="op" id="6783277">}</span><span class="op" id="6783278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783281">{</span><span class="string" id="6783282">`(?i)\x{212a}`</span><span class="op" id="6783296">,</span>&nbsp;<span class="string" id="6783298">&#34;(?i:K)&#34;</span><span class="op" id="6783306">}</span><span class="op" id="6783307">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783310">{</span><span class="string" id="6783311">`(?i)[K]`</span><span class="op" id="6783320">,</span>&nbsp;<span class="string" id="6783322">&#34;[Kk\u212A]&#34;</span><span class="op" id="6783334">}</span><span class="op" id="6783335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783338">{</span><span class="string" id="6783339">`(?i)[k]`</span><span class="op" id="6783348">,</span>&nbsp;<span class="string" id="6783350">&#34;[Kk\u212A]&#34;</span><span class="op" id="6783362">}</span><span class="op" id="6783363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783366">{</span><span class="string" id="6783367">`(?i)[\x{212a}]`</span><span class="op" id="6783383">,</span>&nbsp;<span class="string" id="6783385">&#34;[Kk\u212A]&#34;</span><span class="op" id="6783397">}</span><span class="op" id="6783398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783401">{</span><span class="string" id="6783402">`(?i)[a-z]`</span><span class="op" id="6783413">,</span>&nbsp;<span class="string" id="6783415">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="6783437">}</span><span class="op" id="6783438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783441">{</span><span class="string" id="6783442">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="6783463">,</span>&nbsp;<span class="string" id="6783465">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="6783481">}</span><span class="op" id="6783482">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783485">{</span><span class="string" id="6783486">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="6783509">,</span>&nbsp;<span class="string" id="6783511">`(?s:.)`</span><span class="op" id="6783519">}</span><span class="op" id="6783520">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783524">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783566">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783628">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783687">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783749">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6783812">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783863">{</span><span class="string" id="6783864">`(a|b|)`</span><span class="op" id="6783872">,</span>&nbsp;<span class="string" id="6783874">`([a-b]|(?:))`</span><span class="op" id="6783888">}</span><span class="op" id="6783889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783892">{</span><span class="string" id="6783893">`(|)`</span><span class="op" id="6783898">,</span>&nbsp;<span class="string" id="6783900">`()`</span><span class="op" id="6783904">}</span><span class="op" id="6783905">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783908">{</span><span class="string" id="6783909">`a()`</span><span class="op" id="6783914">,</span>&nbsp;<span class="string" id="6783916">`a()`</span><span class="op" id="6783921">}</span><span class="op" id="6783922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783925">{</span><span class="string" id="6783926">`(()|())`</span><span class="op" id="6783935">,</span>&nbsp;<span class="string" id="6783937">`(()|())`</span><span class="op" id="6783946">}</span><span class="op" id="6783947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783950">{</span><span class="string" id="6783951">`(a|)`</span><span class="op" id="6783957">,</span>&nbsp;<span class="string" id="6783959">`(a|(?:))`</span><span class="op" id="6783969">}</span><span class="op" id="6783970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6783973">{</span><span class="string" id="6783974">`ab()cd()`</span><span class="op" id="6783984">,</span>&nbsp;<span class="string" id="6783986">`ab()cd()`</span><span class="op" id="6783996">}</span><span class="op" id="6783997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784000">{</span><span class="string" id="6784001">`()`</span><span class="op" id="6784005">,</span>&nbsp;<span class="string" id="6784007">`()`</span><span class="op" id="6784011">}</span><span class="op" id="6784012">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784015">{</span><span class="string" id="6784016">`()*`</span><span class="op" id="6784021">,</span>&nbsp;<span class="string" id="6784023">`()*`</span><span class="op" id="6784028">}</span><span class="op" id="6784029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784032">{</span><span class="string" id="6784033">`()+`</span><span class="op" id="6784038">,</span>&nbsp;<span class="string" id="6784040">`()+`</span><span class="op" id="6784045">}</span><span class="op" id="6784046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784049">{</span><span class="string" id="6784050">`()?`</span><span class="op" id="6784055">,</span>&nbsp;<span class="string" id="6784057">`()?`</span><span class="op" id="6784062">}</span><span class="op" id="6784063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784066">{</span><span class="string" id="6784067">`(){0}`</span><span class="op" id="6784074">,</span>&nbsp;<span class="string" id="6784076">`(?:)`</span><span class="op" id="6784082">}</span><span class="op" id="6784083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784086">{</span><span class="string" id="6784087">`(){1}`</span><span class="op" id="6784094">,</span>&nbsp;<span class="string" id="6784096">`()`</span><span class="op" id="6784100">}</span><span class="op" id="6784101">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784104">{</span><span class="string" id="6784105">`(){1,}`</span><span class="op" id="6784113">,</span>&nbsp;<span class="string" id="6784115">`()+`</span><span class="op" id="6784120">}</span><span class="op" id="6784121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784124">{</span><span class="string" id="6784125">`(){0,2}`</span><span class="op" id="6784134">,</span>&nbsp;<span class="string" id="6784136">`(?:()()?)?`</span><span class="op" id="6784148">}</span><span class="op" id="6784149">,</span><br>
<span class="lineno"></span><span class="op" id="6784151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6784154">func</span>&nbsp;<span class="ident" id="6784159">TestSimplify</span><span class="op" id="6784171">(</span><span class="ident" id="6784172">t</span>&nbsp;<span class="op" id="6784174">*</span><span class="ident" id="6784175">testing</span><span class="op" id="6784182">.</span><span class="ident" id="6784183">T</span><span class="op" id="6784184">)</span>&nbsp;<span class="op" id="6784186">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6784189">for</span>&nbsp;<span class="ident" id="6784193">_</span><span class="op" id="6784194">,</span>&nbsp;<span class="ident" id="6784196">tt</span>&nbsp;<span class="op" id="6784199">:=</span>&nbsp;<span class="keyword" id="6784202">range</span>&nbsp;<span class="ident" id="6784208">simplifyTests</span>&nbsp;<span class="op" id="6784222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6784226">re</span><span class="op" id="6784228">,</span>&nbsp;<span class="ident" id="6784230">err</span>&nbsp;<span class="op" id="6784234">:=</span>&nbsp;<span class="ident" id="6784237">Parse</span><span class="op" id="6784242">(</span><span class="ident" id="6784243">tt</span><span class="op" id="6784245">.</span><span class="ident" id="6784246">Regexp</span><span class="op" id="6784252">,</span>&nbsp;<span class="ident" id="6784254">MatchNL</span><span class="op" id="6784261">|</span><span class="ident" id="6784262">Perl</span><span class="op" id="6784266">&amp;^</span><span class="ident" id="6784268">OneLine</span><span class="op" id="6784275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6784279">if</span>&nbsp;<span class="ident" id="6784282">err</span>&nbsp;<span class="op" id="6784286">!=</span>&nbsp;<span class="ident" id="6784289">nil</span>&nbsp;<span class="op" id="6784293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6784298">t</span><span class="op" id="6784299">.</span><span class="ident" id="6784300">Errorf</span><span class="op" id="6784306">(</span><span class="string" id="6784307">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="6784330">,</span>&nbsp;<span class="ident" id="6784332">tt</span><span class="op" id="6784334">.</span><span class="ident" id="6784335">Regexp</span><span class="op" id="6784341">,</span>&nbsp;<span class="ident" id="6784343">err</span><span class="op" id="6784346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6784351">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784362">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6784366">s</span>&nbsp;<span class="op" id="6784368">:=</span>&nbsp;<span class="ident" id="6784371">re</span><span class="op" id="6784373">.</span><span class="ident" id="6784374">Simplify</span><span class="op" id="6784382">(</span><span class="op" id="6784383">)</span><span class="op" id="6784384">.</span><span class="ident" id="6784385">String</span><span class="op" id="6784391">(</span><span class="op" id="6784392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6784396">if</span>&nbsp;<span class="ident" id="6784399">s</span>&nbsp;<span class="op" id="6784401">!=</span>&nbsp;<span class="ident" id="6784404">tt</span><span class="op" id="6784406">.</span><span class="ident" id="6784407">Simple</span>&nbsp;<span class="op" id="6784414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6784419">t</span><span class="op" id="6784420">.</span><span class="ident" id="6784421">Errorf</span><span class="op" id="6784427">(</span><span class="string" id="6784428">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="6784459">,</span>&nbsp;<span class="ident" id="6784461">tt</span><span class="op" id="6784463">.</span><span class="ident" id="6784464">Regexp</span><span class="op" id="6784470">,</span>&nbsp;<span class="ident" id="6784472">s</span><span class="op" id="6784473">,</span>&nbsp;<span class="ident" id="6784475">tt</span><span class="op" id="6784477">.</span><span class="ident" id="6784478">Simple</span><span class="op" id="6784484">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784488">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784491">}</span><br>
<span class="lineno"></span><span class="op" id="6784493">}</span>
</div>
</body>
</html>
