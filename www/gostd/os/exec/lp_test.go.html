<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7417152">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7417207">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7417261">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7417312">package</span>&nbsp;<span class="ident" id="7417320">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7417326">import</span>&nbsp;<span class="op" id="7417333">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7417336">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7417346">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7417349">var</span>&nbsp;<span class="ident" id="7417353">nonExistentPaths</span>&nbsp;<span class="op" id="7417370">=</span>&nbsp;<span class="op" id="7417372">[</span><span class="op" id="7417373">]</span><span class="builtintype" id="7417374">string</span><span class="op" id="7417380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7417383">&#34;some-non-existent-path&#34;</span><span class="op" id="7417407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7417410">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7417437">,</span><br>
<span class="lineno"></span><span class="op" id="7417439">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7417442">func</span>&nbsp;<span class="ident" id="7417447">TestLookPathNotFound</span><span class="op" id="7417467">(</span><span class="ident" id="7417468">t</span>&nbsp;<span class="op" id="7417470">*</span><span class="ident" id="7417471">testing</span><span class="op" id="7417478">.</span><span class="ident" id="7417479">T</span><span class="op" id="7417480">)</span>&nbsp;<span class="op" id="7417482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417485">for</span>&nbsp;<span class="ident" id="7417489">_</span><span class="op" id="7417490">,</span>&nbsp;<span class="ident" id="7417492">name</span>&nbsp;<span class="op" id="7417497">:=</span>&nbsp;<span class="keyword" id="7417500">range</span>&nbsp;<span class="ident" id="7417506">nonExistentPaths</span>&nbsp;<span class="op" id="7417523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417527">path</span><span class="op" id="7417531">,</span>&nbsp;<span class="ident" id="7417533">err</span>&nbsp;<span class="op" id="7417537">:=</span>&nbsp;<span class="ident" id="7417540">LookPath</span><span class="op" id="7417548">(</span><span class="ident" id="7417549">name</span><span class="op" id="7417553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417557">if</span>&nbsp;<span class="ident" id="7417560">err</span>&nbsp;<span class="op" id="7417564">==</span>&nbsp;<span class="ident" id="7417567">nil</span>&nbsp;<span class="op" id="7417571">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417576">t</span><span class="op" id="7417577">.</span><span class="ident" id="7417578">Fatalf</span><span class="op" id="7417584">(</span><span class="string" id="7417585">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7417613">,</span>&nbsp;<span class="ident" id="7417615">name</span><span class="op" id="7417619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417627">if</span>&nbsp;<span class="ident" id="7417630">path</span>&nbsp;<span class="op" id="7417635">!=</span>&nbsp;<span class="string" id="7417638">&#34;&#34;</span>&nbsp;<span class="op" id="7417641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417646">t</span><span class="op" id="7417647">.</span><span class="ident" id="7417648">Fatalf</span><span class="op" id="7417654">(</span><span class="string" id="7417655">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7417692">,</span>&nbsp;<span class="ident" id="7417694">path</span><span class="op" id="7417698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417702">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417706">perr</span><span class="op" id="7417710">,</span>&nbsp;<span class="ident" id="7417712">ok</span>&nbsp;<span class="op" id="7417715">:=</span>&nbsp;<span class="ident" id="7417718">err</span><span class="op" id="7417721">.</span><span class="op" id="7417722">(</span><span class="op" id="7417723">*</span><span class="ident" id="7417724">Error</span><span class="op" id="7417729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417733">if</span>&nbsp;<span class="op" id="7417736">!</span><span class="ident" id="7417737">ok</span>&nbsp;<span class="op" id="7417740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417745">t</span><span class="op" id="7417746">.</span><span class="ident" id="7417747">Fatal</span><span class="op" id="7417752">(</span><span class="string" id="7417753">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7417790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7417798">if</span>&nbsp;<span class="ident" id="7417801">perr</span><span class="op" id="7417805">.</span><span class="ident" id="7417806">Name</span>&nbsp;<span class="op" id="7417811">!=</span>&nbsp;<span class="ident" id="7417814">name</span>&nbsp;<span class="op" id="7417819">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7417824">t</span><span class="op" id="7417825">.</span><span class="ident" id="7417826">Fatalf</span><span class="op" id="7417832">(</span><span class="string" id="7417833">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7417861">,</span>&nbsp;<span class="ident" id="7417863">name</span><span class="op" id="7417867">,</span>&nbsp;<span class="ident" id="7417869">perr</span><span class="op" id="7417873">.</span><span class="ident" id="7417874">Name</span><span class="op" id="7417878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7417885">}</span><br>
<span class="lineno"></span><span class="op" id="7417887">}</span>
</div>
</body>
</html>
