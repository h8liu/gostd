<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html" class="current">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4849010">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4849065">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4849119">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4849170">package</span>&nbsp;<span class="ident" id="4849178">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4849183">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;Some&nbsp;HTML&nbsp;presented&nbsp;at&nbsp;http://machine:port/debug/rpc<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;Lists&nbsp;services,&nbsp;their&nbsp;methods,&nbsp;and&nbsp;some&nbsp;statistics,&nbsp;still&nbsp;rudimentary.<br>
<span class="lineno">10</span>*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4849316">import</span>&nbsp;<span class="op" id="4849323">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4849326">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4849333">&#34;html/template&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4849350">&#34;net/http&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="4849362">&#34;sort&#34;</span><br>
<span class="lineno"></span><span class="op" id="4849369">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4849372">const</span>&nbsp;<span class="ident" id="4849378">debugText</span>&nbsp;<span class="op" id="4849388">=</span>&nbsp;<span class="string" id="4849390">`&lt;html&gt;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Services&lt;/title&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;{{range&nbsp;.}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;Service&nbsp;{{.Name}}<br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&nbsp;align=center&gt;Method&lt;/th&gt;&lt;th&nbsp;align=center&gt;Calls&lt;/th&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{range&nbsp;.Method}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;align=left&nbsp;font=fixed&gt;{{.Name}}({{.Type.ArgType}},&nbsp;{{.Type.ReplyType}})&nbsp;error&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;align=center&gt;{{.Type.NumCalls}}&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4849764">var</span>&nbsp;<span class="ident" id="4849768">debug</span>&nbsp;<span class="op" id="4849774">=</span>&nbsp;<span class="ident" id="4849776">template</span><span class="op" id="4849784">.</span><span class="ident" id="4849785">Must</span><span class="op" id="4849789">(</span><span class="ident" id="4849790">template</span><span class="op" id="4849798">.</span><span class="ident" id="4849799">New</span><span class="op" id="4849802">(</span><span class="string" id="4849803">&#34;RPC&nbsp;debug&#34;</span><span class="op" id="4849814">)</span><span class="op" id="4849815">.</span><span class="ident" id="4849816">Parse</span><span class="op" id="4849821">(</span><span class="ident" id="4849822">debugText</span><span class="op" id="4849831">)</span><span class="op" id="4849832">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="4849835">//&nbsp;If&nbsp;set,&nbsp;print&nbsp;log&nbsp;statements&nbsp;for&nbsp;internal&nbsp;and&nbsp;I/O&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="4849896">var</span>&nbsp;<span class="ident" id="4849900">debugLog</span>&nbsp;<span class="op" id="4849909">=</span>&nbsp;<span class="builtintype" id="4849911">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4849918">type</span>&nbsp;<span class="ident" id="4849923">debugMethod</span>&nbsp;<span class="keyword" id="4849935">struct</span>&nbsp;<span class="op" id="4849942">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849945">Type</span>&nbsp;<span class="op" id="4849950">*</span><span class="ident" id="4849951">methodType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4849963">Name</span>&nbsp;<span class="builtintype" id="4849968">string</span><br>
<span class="lineno"></span><span class="op" id="4849975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4849978">type</span>&nbsp;<span class="ident" id="4849983">methodArray</span>&nbsp;<span class="op" id="4849995">[</span><span class="op" id="4849996">]</span><span class="ident" id="4849997">debugMethod</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="4850010">type</span>&nbsp;<span class="ident" id="4850015">debugService</span>&nbsp;<span class="keyword" id="4850028">struct</span>&nbsp;<span class="op" id="4850035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850038">Service</span>&nbsp;<span class="op" id="4850046">*</span><span class="ident" id="4850047">service</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850056">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4850064">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850072">Method</span>&nbsp;&nbsp;<span class="ident" id="4850080">methodArray</span><br>
<span class="lineno">55</span><span class="op" id="4850092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4850095">type</span>&nbsp;<span class="ident" id="4850100">serviceArray</span>&nbsp;<span class="op" id="4850113">[</span><span class="op" id="4850114">]</span><span class="ident" id="4850115">debugService</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4850129">func</span>&nbsp;<span class="op" id="4850134">(</span><span class="ident" id="4850135">s</span>&nbsp;<span class="ident" id="4850137">serviceArray</span><span class="op" id="4850149">)</span>&nbsp;<span class="ident" id="4850151">Len</span><span class="op" id="4850154">(</span><span class="op" id="4850155">)</span>&nbsp;<span class="builtintype" id="4850157">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850171">{</span>&nbsp;<span class="keyword" id="4850173">return</span>&nbsp;<span class="builtinfunc" id="4850180">len</span><span class="op" id="4850183">(</span><span class="ident" id="4850184">s</span><span class="op" id="4850185">)</span>&nbsp;<span class="op" id="4850187">}</span><br>
<span class="lineno">60</span><span class="keyword" id="4850189">func</span>&nbsp;<span class="op" id="4850194">(</span><span class="ident" id="4850195">s</span>&nbsp;<span class="ident" id="4850197">serviceArray</span><span class="op" id="4850209">)</span>&nbsp;<span class="ident" id="4850211">Less</span><span class="op" id="4850215">(</span><span class="ident" id="4850216">i</span><span class="op" id="4850217">,</span>&nbsp;<span class="ident" id="4850219">j</span>&nbsp;<span class="builtintype" id="4850221">int</span><span class="op" id="4850224">)</span>&nbsp;<span class="builtintype" id="4850226">bool</span>&nbsp;<span class="op" id="4850231">{</span>&nbsp;<span class="keyword" id="4850233">return</span>&nbsp;<span class="ident" id="4850240">s</span><span class="op" id="4850241">[</span><span class="ident" id="4850242">i</span><span class="op" id="4850243">]</span><span class="op" id="4850244">.</span><span class="ident" id="4850245">Name</span>&nbsp;<span class="op" id="4850250">&lt;</span>&nbsp;<span class="ident" id="4850252">s</span><span class="op" id="4850253">[</span><span class="ident" id="4850254">j</span><span class="op" id="4850255">]</span><span class="op" id="4850256">.</span><span class="ident" id="4850257">Name</span>&nbsp;<span class="op" id="4850262">}</span><br>
<span class="lineno"></span><span class="keyword" id="4850264">func</span>&nbsp;<span class="op" id="4850269">(</span><span class="ident" id="4850270">s</span>&nbsp;<span class="ident" id="4850272">serviceArray</span><span class="op" id="4850284">)</span>&nbsp;<span class="ident" id="4850286">Swap</span><span class="op" id="4850290">(</span><span class="ident" id="4850291">i</span><span class="op" id="4850292">,</span>&nbsp;<span class="ident" id="4850294">j</span>&nbsp;<span class="builtintype" id="4850296">int</span><span class="op" id="4850299">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850306">{</span>&nbsp;<span class="ident" id="4850308">s</span><span class="op" id="4850309">[</span><span class="ident" id="4850310">i</span><span class="op" id="4850311">]</span><span class="op" id="4850312">,</span>&nbsp;<span class="ident" id="4850314">s</span><span class="op" id="4850315">[</span><span class="ident" id="4850316">j</span><span class="op" id="4850317">]</span>&nbsp;<span class="op" id="4850319">=</span>&nbsp;<span class="ident" id="4850321">s</span><span class="op" id="4850322">[</span><span class="ident" id="4850323">j</span><span class="op" id="4850324">]</span><span class="op" id="4850325">,</span>&nbsp;<span class="ident" id="4850327">s</span><span class="op" id="4850328">[</span><span class="ident" id="4850329">i</span><span class="op" id="4850330">]</span>&nbsp;<span class="op" id="4850332">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4850335">func</span>&nbsp;<span class="op" id="4850340">(</span><span class="ident" id="4850341">m</span>&nbsp;<span class="ident" id="4850343">methodArray</span><span class="op" id="4850354">)</span>&nbsp;<span class="ident" id="4850356">Len</span><span class="op" id="4850359">(</span><span class="op" id="4850360">)</span>&nbsp;<span class="builtintype" id="4850362">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850376">{</span>&nbsp;<span class="keyword" id="4850378">return</span>&nbsp;<span class="builtinfunc" id="4850385">len</span><span class="op" id="4850388">(</span><span class="ident" id="4850389">m</span><span class="op" id="4850390">)</span>&nbsp;<span class="op" id="4850392">}</span><br>
<span class="lineno"></span><span class="keyword" id="4850394">func</span>&nbsp;<span class="op" id="4850399">(</span><span class="ident" id="4850400">m</span>&nbsp;<span class="ident" id="4850402">methodArray</span><span class="op" id="4850413">)</span>&nbsp;<span class="ident" id="4850415">Less</span><span class="op" id="4850419">(</span><span class="ident" id="4850420">i</span><span class="op" id="4850421">,</span>&nbsp;<span class="ident" id="4850423">j</span>&nbsp;<span class="builtintype" id="4850425">int</span><span class="op" id="4850428">)</span>&nbsp;<span class="builtintype" id="4850430">bool</span>&nbsp;<span class="op" id="4850435">{</span>&nbsp;<span class="keyword" id="4850437">return</span>&nbsp;<span class="ident" id="4850444">m</span><span class="op" id="4850445">[</span><span class="ident" id="4850446">i</span><span class="op" id="4850447">]</span><span class="op" id="4850448">.</span><span class="ident" id="4850449">Name</span>&nbsp;<span class="op" id="4850454">&lt;</span>&nbsp;<span class="ident" id="4850456">m</span><span class="op" id="4850457">[</span><span class="ident" id="4850458">j</span><span class="op" id="4850459">]</span><span class="op" id="4850460">.</span><span class="ident" id="4850461">Name</span>&nbsp;<span class="op" id="4850466">}</span><br>
<span class="lineno">65</span><span class="keyword" id="4850468">func</span>&nbsp;<span class="op" id="4850473">(</span><span class="ident" id="4850474">m</span>&nbsp;<span class="ident" id="4850476">methodArray</span><span class="op" id="4850487">)</span>&nbsp;<span class="ident" id="4850489">Swap</span><span class="op" id="4850493">(</span><span class="ident" id="4850494">i</span><span class="op" id="4850495">,</span>&nbsp;<span class="ident" id="4850497">j</span>&nbsp;<span class="builtintype" id="4850499">int</span><span class="op" id="4850502">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850509">{</span>&nbsp;<span class="ident" id="4850511">m</span><span class="op" id="4850512">[</span><span class="ident" id="4850513">i</span><span class="op" id="4850514">]</span><span class="op" id="4850515">,</span>&nbsp;<span class="ident" id="4850517">m</span><span class="op" id="4850518">[</span><span class="ident" id="4850519">j</span><span class="op" id="4850520">]</span>&nbsp;<span class="op" id="4850522">=</span>&nbsp;<span class="ident" id="4850524">m</span><span class="op" id="4850525">[</span><span class="ident" id="4850526">j</span><span class="op" id="4850527">]</span><span class="op" id="4850528">,</span>&nbsp;<span class="ident" id="4850530">m</span><span class="op" id="4850531">[</span><span class="ident" id="4850532">i</span><span class="op" id="4850533">]</span>&nbsp;<span class="op" id="4850535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4850538">type</span>&nbsp;<span class="ident" id="4850543">debugHTTP</span>&nbsp;<span class="keyword" id="4850553">struct</span>&nbsp;<span class="op" id="4850560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4850563">*</span><span class="ident" id="4850564">Server</span><br>
<span class="lineno"></span><span class="op" id="4850571">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="4850574">//&nbsp;Runs&nbsp;at&nbsp;/debug/rpc</span><br>
<span class="lineno"></span><span class="keyword" id="4850596">func</span>&nbsp;<span class="op" id="4850601">(</span><span class="ident" id="4850602">server</span>&nbsp;<span class="ident" id="4850609">debugHTTP</span><span class="op" id="4850618">)</span>&nbsp;<span class="ident" id="4850620">ServeHTTP</span><span class="op" id="4850629">(</span><span class="ident" id="4850630">w</span>&nbsp;<span class="ident" id="4850632">http</span><span class="op" id="4850636">.</span><span class="ident" id="4850637">ResponseWriter</span><span class="op" id="4850651">,</span>&nbsp;<span class="ident" id="4850653">req</span>&nbsp;<span class="op" id="4850657">*</span><span class="ident" id="4850658">http</span><span class="op" id="4850662">.</span><span class="ident" id="4850663">Request</span><span class="op" id="4850670">)</span>&nbsp;<span class="op" id="4850672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4850675">//&nbsp;Build&nbsp;a&nbsp;sorted&nbsp;version&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4850715">var</span>&nbsp;<span class="ident" id="4850719">services</span>&nbsp;<span class="op" id="4850728">=</span>&nbsp;<span class="builtinfunc" id="4850730">make</span><span class="op" id="4850734">(</span><span class="ident" id="4850735">serviceArray</span><span class="op" id="4850747">,</span>&nbsp;<span class="builtinfunc" id="4850749">len</span><span class="op" id="4850752">(</span><span class="ident" id="4850753">server</span><span class="op" id="4850759">.</span><span class="ident" id="4850760">serviceMap</span><span class="op" id="4850770">)</span><span class="op" id="4850771">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850774">i</span>&nbsp;<span class="op" id="4850776">:=</span>&nbsp;<span class="num" id="4850779">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850782">server</span><span class="op" id="4850788">.</span><span class="ident" id="4850789">mu</span><span class="op" id="4850791">.</span><span class="ident" id="4850792">Lock</span><span class="op" id="4850796">(</span><span class="op" id="4850797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4850800">for</span>&nbsp;<span class="ident" id="4850804">sname</span><span class="op" id="4850809">,</span>&nbsp;<span class="ident" id="4850811">service</span>&nbsp;<span class="op" id="4850819">:=</span>&nbsp;<span class="keyword" id="4850822">range</span>&nbsp;<span class="ident" id="4850828">server</span><span class="op" id="4850834">.</span><span class="ident" id="4850835">serviceMap</span>&nbsp;<span class="op" id="4850846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850850">services</span><span class="op" id="4850858">[</span><span class="ident" id="4850859">i</span><span class="op" id="4850860">]</span>&nbsp;<span class="op" id="4850862">=</span>&nbsp;<span class="ident" id="4850864">debugService</span><span class="op" id="4850876">{</span><span class="ident" id="4850877">service</span><span class="op" id="4850884">,</span>&nbsp;<span class="ident" id="4850886">sname</span><span class="op" id="4850891">,</span>&nbsp;<span class="builtinfunc" id="4850893">make</span><span class="op" id="4850897">(</span><span class="ident" id="4850898">methodArray</span><span class="op" id="4850909">,</span>&nbsp;<span class="builtinfunc" id="4850911">len</span><span class="op" id="4850914">(</span><span class="ident" id="4850915">service</span><span class="op" id="4850922">.</span><span class="ident" id="4850923">method</span><span class="op" id="4850929">)</span><span class="op" id="4850930">)</span><span class="op" id="4850931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850935">j</span>&nbsp;<span class="op" id="4850937">:=</span>&nbsp;<span class="num" id="4850940">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4850944">for</span>&nbsp;<span class="ident" id="4850948">mname</span><span class="op" id="4850953">,</span>&nbsp;<span class="ident" id="4850955">method</span>&nbsp;<span class="op" id="4850962">:=</span>&nbsp;<span class="keyword" id="4850965">range</span>&nbsp;<span class="ident" id="4850971">service</span><span class="op" id="4850978">.</span><span class="ident" id="4850979">method</span>&nbsp;<span class="op" id="4850986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4850991">services</span><span class="op" id="4850999">[</span><span class="ident" id="4851000">i</span><span class="op" id="4851001">]</span><span class="op" id="4851002">.</span><span class="ident" id="4851003">Method</span><span class="op" id="4851009">[</span><span class="ident" id="4851010">j</span><span class="op" id="4851011">]</span>&nbsp;<span class="op" id="4851013">=</span>&nbsp;<span class="ident" id="4851015">debugMethod</span><span class="op" id="4851026">{</span><span class="ident" id="4851027">method</span><span class="op" id="4851033">,</span>&nbsp;<span class="ident" id="4851035">mname</span><span class="op" id="4851040">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851045">j</span><span class="op" id="4851046">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4851051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851055">sort</span><span class="op" id="4851059">.</span><span class="ident" id="4851060">Sort</span><span class="op" id="4851064">(</span><span class="ident" id="4851065">services</span><span class="op" id="4851073">[</span><span class="ident" id="4851074">i</span><span class="op" id="4851075">]</span><span class="op" id="4851076">.</span><span class="ident" id="4851077">Method</span><span class="op" id="4851083">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851087">i</span><span class="op" id="4851088">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4851092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851095">server</span><span class="op" id="4851101">.</span><span class="ident" id="4851102">mu</span><span class="op" id="4851104">.</span><span class="ident" id="4851105">Unlock</span><span class="op" id="4851111">(</span><span class="op" id="4851112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851115">sort</span><span class="op" id="4851119">.</span><span class="ident" id="4851120">Sort</span><span class="op" id="4851124">(</span><span class="ident" id="4851125">services</span><span class="op" id="4851133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851136">err</span>&nbsp;<span class="op" id="4851140">:=</span>&nbsp;<span class="ident" id="4851143">debug</span><span class="op" id="4851148">.</span><span class="ident" id="4851149">Execute</span><span class="op" id="4851156">(</span><span class="ident" id="4851157">w</span><span class="op" id="4851158">,</span>&nbsp;<span class="ident" id="4851160">services</span><span class="op" id="4851168">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="4851171">if</span>&nbsp;<span class="ident" id="4851174">err</span>&nbsp;<span class="op" id="4851178">!=</span>&nbsp;<span class="ident" id="4851181">nil</span>&nbsp;<span class="op" id="4851185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4851189">fmt</span><span class="op" id="4851192">.</span><span class="ident" id="4851193">Fprintln</span><span class="op" id="4851201">(</span><span class="ident" id="4851202">w</span><span class="op" id="4851203">,</span>&nbsp;<span class="string" id="4851205">&#34;rpc:&nbsp;error&nbsp;executing&nbsp;template:&#34;</span><span class="op" id="4851237">,</span>&nbsp;<span class="ident" id="4851239">err</span><span class="op" id="4851242">.</span><span class="ident" id="4851243">Error</span><span class="op" id="4851248">(</span><span class="op" id="4851249">)</span><span class="op" id="4851250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4851253">}</span><br>
<span class="lineno"></span><span class="op" id="4851255">}</span>
</div>
</body>
</html>
