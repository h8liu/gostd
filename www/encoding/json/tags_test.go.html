<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6728906">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6728962">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6729016">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6729067">package</span>&nbsp;<span class="ident" id="6729075">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6729081">import</span>&nbsp;<span class="op" id="6729088">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6729091">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6729101">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6729104">func</span>&nbsp;<span class="ident" id="6729109">TestTagParsing</span><span class="op" id="6729123">(</span><span class="ident" id="6729124">t</span>&nbsp;<span class="op" id="6729126">*</span><span class="ident" id="6729127"><a href="/encoding/json/tags_test.go.html#6729091">testing</a></span><span class="op" id="6729134">.</span><span class="ident" id="6729135">T</span><span class="op" id="6729136">)</span>&nbsp;<span class="op" id="6729138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729141">name</span><span class="op" id="6729145">,</span>&nbsp;<span class="ident" id="6729147">opts</span>&nbsp;<span class="op" id="6729152">:=</span>&nbsp;<span class="ident" id="6729155"><a href="/encoding/json/tags.go.html#4807658">parseTag</a></span><span class="op" id="6729163">(</span><span class="string" id="6729164">&#34;field,foobar,foo&#34;</span><span class="op" id="6729182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729185">if</span>&nbsp;<span class="ident" id="6729188"><a href="/encoding/json/tags_test.go.html#6729141">name</a></span>&nbsp;<span class="op" id="6729193">!=</span>&nbsp;<span class="string" id="6729196">&#34;field&#34;</span>&nbsp;<span class="op" id="6729204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729208"><a href="/encoding/json/tags_test.go.html#6729124">t</a></span><span class="op" id="6729209">.</span><span class="ident" id="6729210">Fatalf</span><span class="op" id="6729216">(</span><span class="string" id="6729217">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="6729240">,</span>&nbsp;<span class="ident" id="6729242"><a href="/encoding/json/tags_test.go.html#6729141">name</a></span><span class="op" id="6729246">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729252">for</span>&nbsp;<span class="ident" id="6729256">_</span><span class="op" id="6729257">,</span>&nbsp;<span class="ident" id="6729259">tt</span>&nbsp;<span class="op" id="6729262">:=</span>&nbsp;<span class="keyword" id="6729265">range</span>&nbsp;<span class="op" id="6729271">[</span><span class="op" id="6729272">]</span><span class="keyword" id="6729273">struct</span>&nbsp;<span class="op" id="6729280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729284">opt</span>&nbsp;&nbsp;<span class="builtintype" id="6729289">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729298">want</span>&nbsp;<span class="builtintype" id="6729303">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729309">}</span><span class="op" id="6729310">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729314">{</span><span class="string" id="6729315">&#34;foobar&#34;</span><span class="op" id="6729323">,</span>&nbsp;<span class="builtintype" id="6729325">true</span><span class="op" id="6729329">}</span><span class="op" id="6729330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729334">{</span><span class="string" id="6729335">&#34;foo&#34;</span><span class="op" id="6729340">,</span>&nbsp;<span class="builtintype" id="6729342">true</span><span class="op" id="6729346">}</span><span class="op" id="6729347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729351">{</span><span class="string" id="6729352">&#34;bar&#34;</span><span class="op" id="6729357">,</span>&nbsp;<span class="builtintype" id="6729359">false</span><span class="op" id="6729364">}</span><span class="op" id="6729365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729368">}</span>&nbsp;<span class="op" id="6729370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6729374">if</span>&nbsp;<span class="ident" id="6729377"><a href="/encoding/json/tags_test.go.html#6729147">opts</a></span><span class="op" id="6729381">.</span><span class="ident" id="6729382">Contains</span><span class="op" id="6729390">(</span><span class="ident" id="6729391"><a href="/encoding/json/tags_test.go.html#6729259">tt</a></span><span class="op" id="6729393">.</span><span class="ident" id="6729394">opt</span><span class="op" id="6729397">)</span>&nbsp;<span class="op" id="6729399">!=</span>&nbsp;<span class="ident" id="6729402"><a href="/encoding/json/tags_test.go.html#6729259">tt</a></span><span class="op" id="6729404">.</span><span class="ident" id="6729405">want</span>&nbsp;<span class="op" id="6729410">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6729415"><a href="/encoding/json/tags_test.go.html#6729124">t</a></span><span class="op" id="6729416">.</span><span class="ident" id="6729417">Errorf</span><span class="op" id="6729423">(</span><span class="string" id="6729424">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="6729443">,</span>&nbsp;<span class="ident" id="6729445"><a href="/encoding/json/tags_test.go.html#6729259">tt</a></span><span class="op" id="6729447">.</span><span class="ident" id="6729448">opt</span><span class="op" id="6729451">,</span>&nbsp;<span class="op" id="6729453">!</span><span class="ident" id="6729454"><a href="/encoding/json/tags_test.go.html#6729259">tt</a></span><span class="op" id="6729456">.</span><span class="ident" id="6729457">want</span><span class="op" id="6729461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729465">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6729468">}</span><br>
<span class="lineno"></span><span class="op" id="6729470">}</span>
</div>
</body>
</html>
