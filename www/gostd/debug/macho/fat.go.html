<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6027323">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6027379">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6027433">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6027484">package</span>&nbsp;<span class="ident" id="6027492">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6027499">import</span>&nbsp;<span class="op" id="6027506">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6027509">&#34;encoding/binary&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6027528">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6027535">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6027541">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="6027546">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6027549">//&nbsp;A&nbsp;FatFile&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;universal&nbsp;binary&nbsp;that&nbsp;contains&nbsp;at&nbsp;least&nbsp;one&nbsp;architecture.</span><br>
<span class="lineno">15</span><span class="keyword" id="6027632">type</span>&nbsp;<span class="ident" id="6027637">FatFile</span>&nbsp;<span class="keyword" id="6027645">struct</span>&nbsp;<span class="op" id="6027652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027655">Magic</span>&nbsp;&nbsp;<span class="builtintype" id="6027662">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027670">Arches</span>&nbsp;<span class="op" id="6027677">[</span><span class="op" id="6027678">]</span><span class="ident" id="6027679">FatArch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027688">closer</span>&nbsp;<span class="ident" id="6027695">io</span><span class="op" id="6027697">.</span><span class="ident" id="6027698">Closer</span><br>
<span class="lineno"></span><span class="op" id="6027705">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="6027708">//&nbsp;A&nbsp;FatArchHeader&nbsp;represents&nbsp;a&nbsp;fat&nbsp;header&nbsp;for&nbsp;a&nbsp;specific&nbsp;image&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="keyword" id="6027786">type</span>&nbsp;<span class="ident" id="6027791">FatArchHeader</span>&nbsp;<span class="keyword" id="6027805">struct</span>&nbsp;<span class="op" id="6027812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027815">Cpu</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6027822">Cpu</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027827">SubCpu</span>&nbsp;<span class="builtintype" id="6027834">uint32</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027842">Offset</span>&nbsp;<span class="builtintype" id="6027849">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027857">Size</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6027864">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027872">Align</span>&nbsp;&nbsp;<span class="builtintype" id="6027879">uint32</span><br>
<span class="lineno"></span><span class="op" id="6027886">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="6027889">const</span>&nbsp;<span class="ident" id="6027895">fatArchHeaderSize</span>&nbsp;<span class="op" id="6027913">=</span>&nbsp;<span class="num" id="6027915">5</span>&nbsp;<span class="op" id="6027917">*</span>&nbsp;<span class="num" id="6027919">4</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6027922">//&nbsp;A&nbsp;FatArch&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;File&nbsp;inside&nbsp;a&nbsp;FatFile.</span><br>
<span class="lineno"></span><span class="keyword" id="6027970">type</span>&nbsp;<span class="ident" id="6027975">FatArch</span>&nbsp;<span class="keyword" id="6027983">struct</span>&nbsp;<span class="op" id="6027990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6027993">FatArchHeader</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6028008">*</span><span class="ident" id="6028009">File</span><br>
<span class="lineno"></span><span class="op" id="6028014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6028017">//&nbsp;ErrNotFat&nbsp;is&nbsp;returned&nbsp;from&nbsp;NewFatFile&nbsp;or&nbsp;OpenFat&nbsp;when&nbsp;the&nbsp;file&nbsp;is&nbsp;not&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6028092">//&nbsp;universal&nbsp;binary&nbsp;but&nbsp;may&nbsp;be&nbsp;a&nbsp;thin&nbsp;binary,&nbsp;based&nbsp;on&nbsp;its&nbsp;magic&nbsp;number.</span><br>
<span class="lineno">40</span><span class="keyword" id="6028165">var</span>&nbsp;<span class="ident" id="6028169">ErrNotFat</span>&nbsp;<span class="op" id="6028179">=</span>&nbsp;<span class="op" id="6028181">&amp;</span><span class="ident" id="6028182">FormatError</span><span class="op" id="6028193">{</span><span class="num" id="6028194">0</span><span class="op" id="6028195">,</span>&nbsp;<span class="string" id="6028197">&#34;not&nbsp;a&nbsp;fat&nbsp;Mach-O&nbsp;file&#34;</span><span class="op" id="6028220">,</span>&nbsp;<span class="ident" id="6028222">nil</span><span class="op" id="6028225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6028228">//&nbsp;NewFatFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;FatFile&nbsp;for&nbsp;accessing&nbsp;all&nbsp;the&nbsp;Mach-O&nbsp;images&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="6028305">//&nbsp;universal&nbsp;binary.&nbsp;The&nbsp;Mach-O&nbsp;binary&nbsp;is&nbsp;expected&nbsp;to&nbsp;start&nbsp;at&nbsp;position&nbsp;0&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="6028382">//&nbsp;the&nbsp;ReaderAt.</span><br>
<span class="lineno">45</span><span class="keyword" id="6028399">func</span>&nbsp;<span class="ident" id="6028404">NewFatFile</span><span class="op" id="6028414">(</span><span class="ident" id="6028415">r</span>&nbsp;<span class="ident" id="6028417">io</span><span class="op" id="6028419">.</span><span class="ident" id="6028420">ReaderAt</span><span class="op" id="6028428">)</span>&nbsp;<span class="op" id="6028430">(</span><span class="op" id="6028431">*</span><span class="ident" id="6028432">FatFile</span><span class="op" id="6028439">,</span>&nbsp;<span class="builtintype" id="6028441">error</span><span class="op" id="6028446">)</span>&nbsp;<span class="op" id="6028448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6028451">var</span>&nbsp;<span class="ident" id="6028455">ff</span>&nbsp;<span class="ident" id="6028458">FatFile</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6028467">sr</span>&nbsp;<span class="op" id="6028470">:=</span>&nbsp;<span class="ident" id="6028473">io</span><span class="op" id="6028475">.</span><span class="ident" id="6028476">NewSectionReader</span><span class="op" id="6028492">(</span><span class="ident" id="6028493">r</span><span class="op" id="6028494">,</span>&nbsp;<span class="num" id="6028496">0</span><span class="op" id="6028497">,</span>&nbsp;<span class="num" id="6028499">1</span><span class="op" id="6028500">&lt;&lt;</span><span class="num" id="6028502">63</span><span class="op" id="6028504">-</span><span class="num" id="6028505">1</span><span class="op" id="6028506">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6028510">//&nbsp;Read&nbsp;the&nbsp;fat_header&nbsp;struct,&nbsp;which&nbsp;is&nbsp;always&nbsp;in&nbsp;big&nbsp;endian.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6028573">//&nbsp;Start&nbsp;with&nbsp;the&nbsp;magic&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6028606">err</span>&nbsp;<span class="op" id="6028610">:=</span>&nbsp;<span class="ident" id="6028613">binary</span><span class="op" id="6028619">.</span><span class="ident" id="6028620">Read</span><span class="op" id="6028624">(</span><span class="ident" id="6028625">sr</span><span class="op" id="6028627">,</span>&nbsp;<span class="ident" id="6028629">binary</span><span class="op" id="6028635">.</span><span class="ident" id="6028636">BigEndian</span><span class="op" id="6028645">,</span>&nbsp;<span class="op" id="6028647">&amp;</span><span class="ident" id="6028648">ff</span><span class="op" id="6028650">.</span><span class="ident" id="6028651">Magic</span><span class="op" id="6028656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6028659">if</span>&nbsp;<span class="ident" id="6028662">err</span>&nbsp;<span class="op" id="6028666">!=</span>&nbsp;<span class="ident" id="6028669">nil</span>&nbsp;<span class="op" id="6028673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6028677">return</span>&nbsp;<span class="ident" id="6028684">nil</span><span class="op" id="6028687">,</span>&nbsp;<span class="op" id="6028689">&amp;</span><span class="ident" id="6028690">FormatError</span><span class="op" id="6028701">{</span><span class="num" id="6028702">0</span><span class="op" id="6028703">,</span>&nbsp;<span class="string" id="6028705">&#34;error&nbsp;reading&nbsp;magic&nbsp;number&#34;</span><span class="op" id="6028733">,</span>&nbsp;<span class="ident" id="6028735">nil</span><span class="op" id="6028738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6028741">}</span>&nbsp;<span class="keyword" id="6028743">else</span>&nbsp;<span class="keyword" id="6028748">if</span>&nbsp;<span class="ident" id="6028751">ff</span><span class="op" id="6028753">.</span><span class="ident" id="6028754">Magic</span>&nbsp;<span class="op" id="6028760">!=</span>&nbsp;<span class="ident" id="6028763">MagicFat</span>&nbsp;<span class="op" id="6028772">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6028776">//&nbsp;See&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;Mach-O&nbsp;file&nbsp;via&nbsp;its&nbsp;magic&nbsp;number.&nbsp;The&nbsp;magic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6028842">//&nbsp;must&nbsp;be&nbsp;converted&nbsp;to&nbsp;little&nbsp;endian&nbsp;first&nbsp;though.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6028896">var</span>&nbsp;<span class="ident" id="6028900">buf</span>&nbsp;<span class="op" id="6028904">[</span><span class="num" id="6028905">4</span><span class="op" id="6028906">]</span><span class="builtintype" id="6028907">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6028914">binary</span><span class="op" id="6028920">.</span><span class="ident" id="6028921">BigEndian</span><span class="op" id="6028930">.</span><span class="ident" id="6028931">PutUint32</span><span class="op" id="6028940">(</span><span class="ident" id="6028941">buf</span><span class="op" id="6028944">[</span><span class="op" id="6028945">:</span><span class="op" id="6028946">]</span><span class="op" id="6028947">,</span>&nbsp;<span class="ident" id="6028949">ff</span><span class="op" id="6028951">.</span><span class="ident" id="6028952">Magic</span><span class="op" id="6028957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6028961">leMagic</span>&nbsp;<span class="op" id="6028969">:=</span>&nbsp;<span class="ident" id="6028972">binary</span><span class="op" id="6028978">.</span><span class="ident" id="6028979">LittleEndian</span><span class="op" id="6028991">.</span><span class="ident" id="6028992">Uint32</span><span class="op" id="6028998">(</span><span class="ident" id="6028999">buf</span><span class="op" id="6029002">[</span><span class="op" id="6029003">:</span><span class="op" id="6029004">]</span><span class="op" id="6029005">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029009">if</span>&nbsp;<span class="ident" id="6029012">leMagic</span>&nbsp;<span class="op" id="6029020">==</span>&nbsp;<span class="ident" id="6029023">Magic32</span>&nbsp;<span class="op" id="6029031">||</span>&nbsp;<span class="ident" id="6029034">leMagic</span>&nbsp;<span class="op" id="6029042">==</span>&nbsp;<span class="ident" id="6029045">Magic64</span>&nbsp;<span class="op" id="6029053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029058">return</span>&nbsp;<span class="ident" id="6029065">nil</span><span class="op" id="6029068">,</span>&nbsp;<span class="ident" id="6029070">ErrNotFat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6029082">}</span>&nbsp;<span class="keyword" id="6029084">else</span>&nbsp;<span class="op" id="6029089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029094">return</span>&nbsp;<span class="ident" id="6029101">nil</span><span class="op" id="6029104">,</span>&nbsp;<span class="op" id="6029106">&amp;</span><span class="ident" id="6029107">FormatError</span><span class="op" id="6029118">{</span><span class="num" id="6029119">0</span><span class="op" id="6029120">,</span>&nbsp;<span class="string" id="6029122">&#34;invalid&nbsp;magic&nbsp;number&#34;</span><span class="op" id="6029144">,</span>&nbsp;<span class="ident" id="6029146">nil</span><span class="op" id="6029149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6029153">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6029156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6029159">offset</span>&nbsp;<span class="op" id="6029166">:=</span>&nbsp;<span class="ident" id="6029169">int64</span><span class="op" id="6029174">(</span><span class="num" id="6029175">4</span><span class="op" id="6029176">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6029180">//&nbsp;Read&nbsp;the&nbsp;number&nbsp;of&nbsp;FatArchHeaders&nbsp;that&nbsp;come&nbsp;after&nbsp;the&nbsp;fat_header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029250">var</span>&nbsp;<span class="ident" id="6029254">narch</span>&nbsp;<span class="builtintype" id="6029260">uint32</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6029268">err</span>&nbsp;<span class="op" id="6029272">=</span>&nbsp;<span class="ident" id="6029274">binary</span><span class="op" id="6029280">.</span><span class="ident" id="6029281">Read</span><span class="op" id="6029285">(</span><span class="ident" id="6029286">sr</span><span class="op" id="6029288">,</span>&nbsp;<span class="ident" id="6029290">binary</span><span class="op" id="6029296">.</span><span class="ident" id="6029297">BigEndian</span><span class="op" id="6029306">,</span>&nbsp;<span class="op" id="6029308">&amp;</span><span class="ident" id="6029309">narch</span><span class="op" id="6029314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029317">if</span>&nbsp;<span class="ident" id="6029320">err</span>&nbsp;<span class="op" id="6029324">!=</span>&nbsp;<span class="ident" id="6029327">nil</span>&nbsp;<span class="op" id="6029331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029335">return</span>&nbsp;<span class="ident" id="6029342">nil</span><span class="op" id="6029345">,</span>&nbsp;<span class="op" id="6029347">&amp;</span><span class="ident" id="6029348">FormatError</span><span class="op" id="6029359">{</span><span class="ident" id="6029360">offset</span><span class="op" id="6029366">,</span>&nbsp;<span class="string" id="6029368">&#34;invalid&nbsp;fat_header&#34;</span><span class="op" id="6029388">,</span>&nbsp;<span class="ident" id="6029390">nil</span><span class="op" id="6029393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6029396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6029399">offset</span>&nbsp;<span class="op" id="6029406">+=</span>&nbsp;<span class="num" id="6029409">4</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029413">if</span>&nbsp;<span class="ident" id="6029416">narch</span>&nbsp;<span class="op" id="6029422">&lt;</span>&nbsp;<span class="num" id="6029424">1</span>&nbsp;<span class="op" id="6029426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029430">return</span>&nbsp;<span class="ident" id="6029437">nil</span><span class="op" id="6029440">,</span>&nbsp;<span class="op" id="6029442">&amp;</span><span class="ident" id="6029443">FormatError</span><span class="op" id="6029454">{</span><span class="ident" id="6029455">offset</span><span class="op" id="6029461">,</span>&nbsp;<span class="string" id="6029463">&#34;file&nbsp;contains&nbsp;no&nbsp;images&#34;</span><span class="op" id="6029488">,</span>&nbsp;<span class="ident" id="6029490">nil</span><span class="op" id="6029493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6029496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6029500">//&nbsp;Combine&nbsp;the&nbsp;Cpu&nbsp;and&nbsp;SubCpu&nbsp;(both&nbsp;uint32)&nbsp;into&nbsp;a&nbsp;uint64&nbsp;to&nbsp;make&nbsp;sure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6029572">//&nbsp;there&nbsp;are&nbsp;not&nbsp;duplicate&nbsp;architectures.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6029615">seenArches</span>&nbsp;<span class="op" id="6029626">:=</span>&nbsp;<span class="builtinfunc" id="6029629">make</span><span class="op" id="6029633">(</span><span class="keyword" id="6029634">map</span><span class="op" id="6029637">[</span><span class="ident" id="6029638">uint64</span><span class="op" id="6029644">]</span><span class="builtintype" id="6029645">bool</span><span class="op" id="6029649">,</span>&nbsp;<span class="ident" id="6029651">narch</span><span class="op" id="6029656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6029659">//&nbsp;Make&nbsp;sure&nbsp;that&nbsp;all&nbsp;images&nbsp;are&nbsp;for&nbsp;the&nbsp;same&nbsp;MH_&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029716">var</span>&nbsp;<span class="ident" id="6029720">machoType</span>&nbsp;<span class="ident" id="6029730">Type</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6029737">//&nbsp;Following&nbsp;the&nbsp;fat_header&nbsp;comes&nbsp;narch&nbsp;fat_arch&nbsp;structs&nbsp;that&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6029806">//&nbsp;Mach-O&nbsp;images&nbsp;further&nbsp;in&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6029845">ff</span><span class="op" id="6029847">.</span><span class="ident" id="6029848">Arches</span>&nbsp;<span class="op" id="6029855">=</span>&nbsp;<span class="builtinfunc" id="6029857">make</span><span class="op" id="6029861">(</span><span class="op" id="6029862">[</span><span class="op" id="6029863">]</span><span class="ident" id="6029864">FatArch</span><span class="op" id="6029871">,</span>&nbsp;<span class="ident" id="6029873">narch</span><span class="op" id="6029878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6029881">for</span>&nbsp;<span class="ident" id="6029885">i</span>&nbsp;<span class="op" id="6029887">:=</span>&nbsp;<span class="builtintype" id="6029890">uint32</span><span class="op" id="6029896">(</span><span class="num" id="6029897">0</span><span class="op" id="6029898">)</span><span class="op" id="6029899">;</span>&nbsp;<span class="ident" id="6029901">i</span>&nbsp;<span class="op" id="6029903">&lt;</span>&nbsp;<span class="ident" id="6029905">narch</span><span class="op" id="6029910">;</span>&nbsp;<span class="ident" id="6029912">i</span><span class="op" id="6029913">++</span>&nbsp;<span class="op" id="6029916">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6029920">fa</span>&nbsp;<span class="op" id="6029923">:=</span>&nbsp;<span class="op" id="6029926">&amp;</span><span class="ident" id="6029927">ff</span><span class="op" id="6029929">.</span><span class="ident" id="6029930">Arches</span><span class="op" id="6029936">[</span><span class="ident" id="6029937">i</span><span class="op" id="6029938">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6029942">err</span>&nbsp;<span class="op" id="6029946">=</span>&nbsp;<span class="ident" id="6029948">binary</span><span class="op" id="6029954">.</span><span class="ident" id="6029955">Read</span><span class="op" id="6029959">(</span><span class="ident" id="6029960">sr</span><span class="op" id="6029962">,</span>&nbsp;<span class="ident" id="6029964">binary</span><span class="op" id="6029970">.</span><span class="ident" id="6029971">BigEndian</span><span class="op" id="6029980">,</span>&nbsp;<span class="op" id="6029982">&amp;</span><span class="ident" id="6029983">fa</span><span class="op" id="6029985">.</span><span class="ident" id="6029986">FatArchHeader</span><span class="op" id="6029999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030003">if</span>&nbsp;<span class="ident" id="6030006">err</span>&nbsp;<span class="op" id="6030010">!=</span>&nbsp;<span class="ident" id="6030013">nil</span>&nbsp;<span class="op" id="6030017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030022">return</span>&nbsp;<span class="ident" id="6030029">nil</span><span class="op" id="6030032">,</span>&nbsp;<span class="op" id="6030034">&amp;</span><span class="ident" id="6030035">FormatError</span><span class="op" id="6030046">{</span><span class="ident" id="6030047">offset</span><span class="op" id="6030053">,</span>&nbsp;<span class="string" id="6030055">&#34;invalid&nbsp;fat_arch&nbsp;header&#34;</span><span class="op" id="6030080">,</span>&nbsp;<span class="ident" id="6030082">nil</span><span class="op" id="6030085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6030089">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6030093">offset</span>&nbsp;<span class="op" id="6030100">+=</span>&nbsp;<span class="ident" id="6030103">fatArchHeaderSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6030124">fr</span>&nbsp;<span class="op" id="6030127">:=</span>&nbsp;<span class="ident" id="6030130">io</span><span class="op" id="6030132">.</span><span class="ident" id="6030133">NewSectionReader</span><span class="op" id="6030149">(</span><span class="ident" id="6030150">r</span><span class="op" id="6030151">,</span>&nbsp;<span class="ident" id="6030153">int64</span><span class="op" id="6030158">(</span><span class="ident" id="6030159">fa</span><span class="op" id="6030161">.</span><span class="ident" id="6030162">Offset</span><span class="op" id="6030168">)</span><span class="op" id="6030169">,</span>&nbsp;<span class="ident" id="6030171">int64</span><span class="op" id="6030176">(</span><span class="ident" id="6030177">fa</span><span class="op" id="6030179">.</span><span class="ident" id="6030180">Size</span><span class="op" id="6030184">)</span><span class="op" id="6030185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6030189">fa</span><span class="op" id="6030191">.</span><span class="ident" id="6030192">File</span><span class="op" id="6030196">,</span>&nbsp;<span class="ident" id="6030198">err</span>&nbsp;<span class="op" id="6030202">=</span>&nbsp;<span class="ident" id="6030204">NewFile</span><span class="op" id="6030211">(</span><span class="ident" id="6030212">fr</span><span class="op" id="6030214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030218">if</span>&nbsp;<span class="ident" id="6030221">err</span>&nbsp;<span class="op" id="6030225">!=</span>&nbsp;<span class="ident" id="6030228">nil</span>&nbsp;<span class="op" id="6030232">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030237">return</span>&nbsp;<span class="ident" id="6030244">nil</span><span class="op" id="6030247">,</span>&nbsp;<span class="ident" id="6030249">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6030255">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6030260">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;architecture&nbsp;for&nbsp;this&nbsp;image&nbsp;is&nbsp;not&nbsp;duplicate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6030325">seenArch</span>&nbsp;<span class="op" id="6030334">:=</span>&nbsp;<span class="op" id="6030337">(</span><span class="ident" id="6030338">uint64</span><span class="op" id="6030344">(</span><span class="ident" id="6030345">fa</span><span class="op" id="6030347">.</span><span class="ident" id="6030348">Cpu</span><span class="op" id="6030351">)</span>&nbsp;<span class="op" id="6030353">&lt;&lt;</span>&nbsp;<span class="num" id="6030356">32</span><span class="op" id="6030358">)</span>&nbsp;<span class="op" id="6030360">|</span>&nbsp;<span class="ident" id="6030362">uint64</span><span class="op" id="6030368">(</span><span class="ident" id="6030369">fa</span><span class="op" id="6030371">.</span><span class="ident" id="6030372">SubCpu</span><span class="op" id="6030378">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030382">if</span>&nbsp;<span class="ident" id="6030385">o</span><span class="op" id="6030386">,</span>&nbsp;<span class="ident" id="6030388">k</span>&nbsp;<span class="op" id="6030390">:=</span>&nbsp;<span class="ident" id="6030393">seenArches</span><span class="op" id="6030403">[</span><span class="ident" id="6030404">seenArch</span><span class="op" id="6030412">]</span><span class="op" id="6030413">;</span>&nbsp;<span class="ident" id="6030415">o</span>&nbsp;<span class="op" id="6030417">||</span>&nbsp;<span class="ident" id="6030420">k</span>&nbsp;<span class="op" id="6030422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030427">return</span>&nbsp;<span class="ident" id="6030434">nil</span><span class="op" id="6030437">,</span>&nbsp;<span class="op" id="6030439">&amp;</span><span class="ident" id="6030440">FormatError</span><span class="op" id="6030451">{</span><span class="ident" id="6030452">offset</span><span class="op" id="6030458">,</span>&nbsp;<span class="ident" id="6030460">fmt</span><span class="op" id="6030463">.</span><span class="ident" id="6030464">Sprintf</span><span class="op" id="6030471">(</span><span class="string" id="6030472">&#34;duplicate&nbsp;architecture&nbsp;cpu=%v,&nbsp;subcpu=%#x&#34;</span><span class="op" id="6030515">,</span>&nbsp;<span class="ident" id="6030517">fa</span><span class="op" id="6030519">.</span><span class="ident" id="6030520">Cpu</span><span class="op" id="6030523">,</span>&nbsp;<span class="ident" id="6030525">fa</span><span class="op" id="6030527">.</span><span class="ident" id="6030528">SubCpu</span><span class="op" id="6030534">)</span><span class="op" id="6030535">,</span>&nbsp;<span class="ident" id="6030537">nil</span><span class="op" id="6030540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6030544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6030548">seenArches</span><span class="op" id="6030558">[</span><span class="ident" id="6030559">seenArch</span><span class="op" id="6030567">]</span>&nbsp;<span class="op" id="6030569">=</span>&nbsp;<span class="builtintype" id="6030571">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6030579">//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;Mach-O&nbsp;type&nbsp;matches&nbsp;that&nbsp;of&nbsp;the&nbsp;first&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030643">if</span>&nbsp;<span class="ident" id="6030646">i</span>&nbsp;<span class="op" id="6030648">==</span>&nbsp;<span class="num" id="6030651">0</span>&nbsp;<span class="op" id="6030653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6030658">machoType</span>&nbsp;<span class="op" id="6030668">=</span>&nbsp;<span class="ident" id="6030670">fa</span><span class="op" id="6030672">.</span><span class="ident" id="6030673">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6030680">}</span>&nbsp;<span class="keyword" id="6030682">else</span>&nbsp;<span class="op" id="6030687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030692">if</span>&nbsp;<span class="ident" id="6030695">fa</span><span class="op" id="6030697">.</span><span class="ident" id="6030698">Type</span>&nbsp;<span class="op" id="6030703">!=</span>&nbsp;<span class="ident" id="6030706">machoType</span>&nbsp;<span class="op" id="6030716">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030722">return</span>&nbsp;<span class="ident" id="6030729">nil</span><span class="op" id="6030732">,</span>&nbsp;<span class="op" id="6030734">&amp;</span><span class="ident" id="6030735">FormatError</span><span class="op" id="6030746">{</span><span class="ident" id="6030747">offset</span><span class="op" id="6030753">,</span>&nbsp;<span class="ident" id="6030755">fmt</span><span class="op" id="6030758">.</span><span class="ident" id="6030759">Sprintf</span><span class="op" id="6030766">(</span><span class="string" id="6030767">&#34;Mach-O&nbsp;type&nbsp;for&nbsp;architecture&nbsp;#%d&nbsp;(type=%#x)&nbsp;does&nbsp;not&nbsp;match&nbsp;first&nbsp;(type=%#x)&#34;</span><span class="op" id="6030844">,</span>&nbsp;<span class="ident" id="6030846">i</span><span class="op" id="6030847">,</span>&nbsp;<span class="ident" id="6030849">fa</span><span class="op" id="6030851">.</span><span class="ident" id="6030852">Type</span><span class="op" id="6030856">,</span>&nbsp;<span class="ident" id="6030858">machoType</span><span class="op" id="6030867">)</span><span class="op" id="6030868">,</span>&nbsp;<span class="ident" id="6030870">nil</span><span class="op" id="6030873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6030878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6030882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6030885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6030889">return</span>&nbsp;<span class="op" id="6030896">&amp;</span><span class="ident" id="6030897">ff</span><span class="op" id="6030899">,</span>&nbsp;<span class="ident" id="6030901">nil</span><br>
<span class="lineno"></span><span class="op" id="6030905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6030908">//&nbsp;OpenFat&nbsp;opens&nbsp;the&nbsp;named&nbsp;file&nbsp;using&nbsp;os.Open&nbsp;and&nbsp;prepares&nbsp;it&nbsp;for&nbsp;use&nbsp;as&nbsp;a&nbsp;Mach-O</span><br>
<span class="lineno"></span><span class="comment" id="6030990">//&nbsp;universal&nbsp;binary.</span><br>
<span class="lineno">125</span><span class="keyword" id="6031011">func</span>&nbsp;<span class="ident" id="6031016">OpenFat</span><span class="op" id="6031023">(</span><span class="ident" id="6031024">name</span>&nbsp;<span class="builtintype" id="6031029">string</span><span class="op" id="6031035">)</span>&nbsp;<span class="op" id="6031037">(</span><span class="ident" id="6031038">ff</span>&nbsp;<span class="op" id="6031041">*</span><span class="ident" id="6031042">FatFile</span><span class="op" id="6031049">,</span>&nbsp;<span class="ident" id="6031051">err</span>&nbsp;<span class="builtintype" id="6031055">error</span><span class="op" id="6031060">)</span>&nbsp;<span class="op" id="6031062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6031065">f</span><span class="op" id="6031066">,</span>&nbsp;<span class="ident" id="6031068">err</span>&nbsp;<span class="op" id="6031072">:=</span>&nbsp;<span class="ident" id="6031075">os</span><span class="op" id="6031077">.</span><span class="ident" id="6031078">Open</span><span class="op" id="6031082">(</span><span class="ident" id="6031083">name</span><span class="op" id="6031087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031090">if</span>&nbsp;<span class="ident" id="6031093">err</span>&nbsp;<span class="op" id="6031097">!=</span>&nbsp;<span class="ident" id="6031100">nil</span>&nbsp;<span class="op" id="6031104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031108">return</span>&nbsp;<span class="ident" id="6031115">nil</span><span class="op" id="6031118">,</span>&nbsp;<span class="ident" id="6031120">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6031125">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6031128">ff</span><span class="op" id="6031130">,</span>&nbsp;<span class="ident" id="6031132">err</span>&nbsp;<span class="op" id="6031136">=</span>&nbsp;<span class="ident" id="6031138">NewFatFile</span><span class="op" id="6031148">(</span><span class="ident" id="6031149">f</span><span class="op" id="6031150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031153">if</span>&nbsp;<span class="ident" id="6031156">err</span>&nbsp;<span class="op" id="6031160">!=</span>&nbsp;<span class="ident" id="6031163">nil</span>&nbsp;<span class="op" id="6031167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6031171">f</span><span class="op" id="6031172">.</span><span class="ident" id="6031173">Close</span><span class="op" id="6031178">(</span><span class="op" id="6031179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031183">return</span>&nbsp;<span class="ident" id="6031190">nil</span><span class="op" id="6031193">,</span>&nbsp;<span class="ident" id="6031195">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6031200">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6031203">ff</span><span class="op" id="6031205">.</span><span class="ident" id="6031206">closer</span>&nbsp;<span class="op" id="6031213">=</span>&nbsp;<span class="ident" id="6031215">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031218">return</span><br>
<span class="lineno"></span><span class="op" id="6031225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6031228">func</span>&nbsp;<span class="op" id="6031233">(</span><span class="ident" id="6031234">ff</span>&nbsp;<span class="op" id="6031237">*</span><span class="ident" id="6031238">FatFile</span><span class="op" id="6031245">)</span>&nbsp;<span class="ident" id="6031247">Close</span><span class="op" id="6031252">(</span><span class="op" id="6031253">)</span>&nbsp;<span class="builtintype" id="6031255">error</span>&nbsp;<span class="op" id="6031261">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031264">var</span>&nbsp;<span class="ident" id="6031268">err</span>&nbsp;<span class="builtintype" id="6031272">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031279">if</span>&nbsp;<span class="ident" id="6031282">ff</span><span class="op" id="6031284">.</span><span class="ident" id="6031285">closer</span>&nbsp;<span class="op" id="6031292">!=</span>&nbsp;<span class="ident" id="6031295">nil</span>&nbsp;<span class="op" id="6031299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6031303">err</span>&nbsp;<span class="op" id="6031307">=</span>&nbsp;<span class="ident" id="6031309">ff</span><span class="op" id="6031311">.</span><span class="ident" id="6031312">closer</span><span class="op" id="6031318">.</span><span class="ident" id="6031319">Close</span><span class="op" id="6031324">(</span><span class="op" id="6031325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6031329">ff</span><span class="op" id="6031331">.</span><span class="ident" id="6031332">closer</span>&nbsp;<span class="op" id="6031339">=</span>&nbsp;<span class="ident" id="6031341">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6031346">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6031349">return</span>&nbsp;<span class="ident" id="6031356">err</span><br>
<span class="lineno"></span><span class="op" id="6031360">}</span>
</div>
</body>
</html>
