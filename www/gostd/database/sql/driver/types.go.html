<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5561571">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5561626">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5561680">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5561731">package</span>&nbsp;<span class="ident" id="5561739">driver</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5561747">import</span>&nbsp;<span class="op" id="5561754">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5561757">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5561764">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5561775">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5561786">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="5561793">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5561796">//&nbsp;ValueConverter&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;ConvertValue&nbsp;method.</span><br>
<span class="lineno">15</span><span class="comment" id="5561866">//</span><br>
<span class="lineno"></span><span class="comment" id="5561869">//&nbsp;Various&nbsp;implementations&nbsp;of&nbsp;ValueConverter&nbsp;are&nbsp;provided&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5561934">//&nbsp;driver&nbsp;package&nbsp;to&nbsp;provide&nbsp;consistent&nbsp;implementations&nbsp;of&nbsp;conversions</span><br>
<span class="lineno"></span><span class="comment" id="5562005">//&nbsp;between&nbsp;drivers.&nbsp;&nbsp;The&nbsp;ValueConverters&nbsp;have&nbsp;several&nbsp;uses:</span><br>
<span class="lineno"></span><span class="comment" id="5562065">//</span><br>
<span class="lineno">20</span><span class="comment" id="5562068">//&nbsp;&nbsp;*&nbsp;converting&nbsp;from&nbsp;the&nbsp;Value&nbsp;types&nbsp;as&nbsp;provided&nbsp;by&nbsp;the&nbsp;sql&nbsp;package</span><br>
<span class="lineno"></span><span class="comment" id="5562137">//&nbsp;&nbsp;&nbsp;&nbsp;into&nbsp;a&nbsp;database&nbsp;table&#39;s&nbsp;specific&nbsp;column&nbsp;type&nbsp;and&nbsp;making&nbsp;sure&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="5562207">//&nbsp;&nbsp;&nbsp;&nbsp;fits,&nbsp;such&nbsp;as&nbsp;making&nbsp;sure&nbsp;a&nbsp;particular&nbsp;int64&nbsp;fits&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5562268">//&nbsp;&nbsp;&nbsp;&nbsp;table&#39;s&nbsp;uint16&nbsp;column.</span><br>
<span class="lineno"></span><span class="comment" id="5562297">//</span><br>
<span class="lineno">25</span><span class="comment" id="5562300">//&nbsp;&nbsp;*&nbsp;converting&nbsp;a&nbsp;value&nbsp;as&nbsp;given&nbsp;from&nbsp;the&nbsp;database&nbsp;into&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5562368">//&nbsp;&nbsp;&nbsp;&nbsp;driver&nbsp;Value&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="5562394">//</span><br>
<span class="lineno"></span><span class="comment" id="5562397">//&nbsp;&nbsp;*&nbsp;by&nbsp;the&nbsp;sql&nbsp;package,&nbsp;for&nbsp;converting&nbsp;from&nbsp;a&nbsp;driver&#39;s&nbsp;Value&nbsp;type</span><br>
<span class="lineno"></span><span class="comment" id="5562465">//&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;a&nbsp;user&#39;s&nbsp;type&nbsp;in&nbsp;a&nbsp;scan.</span><br>
<span class="lineno">30</span><span class="keyword" id="5562499">type</span>&nbsp;<span class="ident" id="5562504">ValueConverter</span>&nbsp;<span class="keyword" id="5562519">interface</span>&nbsp;<span class="op" id="5562529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5562532">//&nbsp;ConvertValue&nbsp;converts&nbsp;a&nbsp;value&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5562585">ConvertValue</span><span class="op" id="5562597">(</span><span class="ident" id="5562598">v</span>&nbsp;<span class="keyword" id="5562600">interface</span><span class="op" id="5562609">{</span><span class="op" id="5562610">}</span><span class="op" id="5562611">)</span>&nbsp;<span class="op" id="5562613">(</span><span class="ident" id="5562614">Value</span><span class="op" id="5562619">,</span>&nbsp;<span class="builtintype" id="5562621">error</span><span class="op" id="5562626">)</span><br>
<span class="lineno"></span><span class="op" id="5562628">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="comment" id="5562631">//&nbsp;Valuer&nbsp;is&nbsp;the&nbsp;interface&nbsp;providing&nbsp;the&nbsp;Value&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="5562686">//</span><br>
<span class="lineno"></span><span class="comment" id="5562689">//&nbsp;Types&nbsp;implementing&nbsp;Valuer&nbsp;interface&nbsp;are&nbsp;able&nbsp;to&nbsp;convert</span><br>
<span class="lineno"></span><span class="comment" id="5562748">//&nbsp;themselves&nbsp;to&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span><span class="keyword" id="5562781">type</span>&nbsp;<span class="ident" id="5562786">Valuer</span>&nbsp;<span class="keyword" id="5562793">interface</span>&nbsp;<span class="op" id="5562803">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5562806">//&nbsp;Value&nbsp;returns&nbsp;a&nbsp;driver&nbsp;Value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5562840">Value</span><span class="op" id="5562845">(</span><span class="op" id="5562846">)</span>&nbsp;<span class="op" id="5562848">(</span><span class="ident" id="5562849">Value</span><span class="op" id="5562854">,</span>&nbsp;<span class="builtintype" id="5562856">error</span><span class="op" id="5562861">)</span><br>
<span class="lineno"></span><span class="op" id="5562863">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5562866">//&nbsp;Bool&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;bools.</span><br>
<span class="lineno">45</span><span class="comment" id="5562931">//</span><br>
<span class="lineno"></span><span class="comment" id="5562934">//&nbsp;The&nbsp;conversion&nbsp;rules&nbsp;are:</span><br>
<span class="lineno"></span><span class="comment" id="5562963">//&nbsp;&nbsp;-&nbsp;booleans&nbsp;are&nbsp;returned&nbsp;unchanged</span><br>
<span class="lineno"></span><span class="comment" id="5563001">//&nbsp;&nbsp;-&nbsp;for&nbsp;integer&nbsp;types,</span><br>
<span class="lineno"></span><span class="comment" id="5563026">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;is&nbsp;true</span><br>
<span class="lineno">50</span><span class="comment" id="5563045">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;is&nbsp;false,</span><br>
<span class="lineno"></span><span class="comment" id="5563066">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;integers&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="5563103">//&nbsp;&nbsp;-&nbsp;for&nbsp;strings&nbsp;and&nbsp;[]byte,&nbsp;same&nbsp;rules&nbsp;as&nbsp;strconv.ParseBool</span><br>
<span class="lineno"></span><span class="comment" id="5563165">//&nbsp;&nbsp;-&nbsp;all&nbsp;other&nbsp;types&nbsp;are&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="5563200">var</span>&nbsp;<span class="ident" id="5563204">Bool</span>&nbsp;<span class="ident" id="5563209">boolType</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5563219">type</span>&nbsp;<span class="ident" id="5563224">boolType</span>&nbsp;<span class="keyword" id="5563233">struct</span><span class="op" id="5563239">{</span><span class="op" id="5563240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5563243">var</span>&nbsp;<span class="ident" id="5563247">_</span>&nbsp;<span class="ident" id="5563249">ValueConverter</span>&nbsp;<span class="op" id="5563264">=</span>&nbsp;<span class="ident" id="5563266">boolType</span><span class="op" id="5563274">{</span><span class="op" id="5563275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5563278">func</span>&nbsp;<span class="op" id="5563283">(</span><span class="ident" id="5563284">boolType</span><span class="op" id="5563292">)</span>&nbsp;<span class="ident" id="5563294">String</span><span class="op" id="5563300">(</span><span class="op" id="5563301">)</span>&nbsp;<span class="builtintype" id="5563303">string</span>&nbsp;<span class="op" id="5563310">{</span>&nbsp;<span class="keyword" id="5563312">return</span>&nbsp;<span class="string" id="5563319">&#34;Bool&#34;</span>&nbsp;<span class="op" id="5563326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5563329">func</span>&nbsp;<span class="op" id="5563334">(</span><span class="ident" id="5563335">boolType</span><span class="op" id="5563343">)</span>&nbsp;<span class="ident" id="5563345">ConvertValue</span><span class="op" id="5563357">(</span><span class="ident" id="5563358">src</span>&nbsp;<span class="keyword" id="5563362">interface</span><span class="op" id="5563371">{</span><span class="op" id="5563372">}</span><span class="op" id="5563373">)</span>&nbsp;<span class="op" id="5563375">(</span><span class="ident" id="5563376">Value</span><span class="op" id="5563381">,</span>&nbsp;<span class="builtintype" id="5563383">error</span><span class="op" id="5563388">)</span>&nbsp;<span class="op" id="5563390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563393">switch</span>&nbsp;<span class="ident" id="5563400">s</span>&nbsp;<span class="op" id="5563402">:=</span>&nbsp;<span class="ident" id="5563405">src</span><span class="op" id="5563408">.</span><span class="op" id="5563409">(</span><span class="keyword" id="5563410">type</span><span class="op" id="5563414">)</span>&nbsp;<span class="op" id="5563416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563419">case</span>&nbsp;<span class="builtintype" id="5563424">bool</span><span class="op" id="5563428">:</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563432">return</span>&nbsp;<span class="ident" id="5563439">s</span><span class="op" id="5563440">,</span>&nbsp;<span class="ident" id="5563442">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563447">case</span>&nbsp;<span class="builtintype" id="5563452">string</span><span class="op" id="5563458">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5563462">b</span><span class="op" id="5563463">,</span>&nbsp;<span class="ident" id="5563465">err</span>&nbsp;<span class="op" id="5563469">:=</span>&nbsp;<span class="ident" id="5563472">strconv</span><span class="op" id="5563479">.</span><span class="ident" id="5563480">ParseBool</span><span class="op" id="5563489">(</span><span class="ident" id="5563490">s</span><span class="op" id="5563491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563495">if</span>&nbsp;<span class="ident" id="5563498">err</span>&nbsp;<span class="op" id="5563502">!=</span>&nbsp;<span class="ident" id="5563505">nil</span>&nbsp;<span class="op" id="5563509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563514">return</span>&nbsp;<span class="ident" id="5563521">nil</span><span class="op" id="5563524">,</span>&nbsp;<span class="ident" id="5563526">fmt</span><span class="op" id="5563529">.</span><span class="ident" id="5563530">Errorf</span><span class="op" id="5563536">(</span><span class="string" id="5563537">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5563585">,</span>&nbsp;<span class="ident" id="5563587">s</span><span class="op" id="5563588">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5563592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563596">return</span>&nbsp;<span class="ident" id="5563603">b</span><span class="op" id="5563604">,</span>&nbsp;<span class="ident" id="5563606">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563611">case</span>&nbsp;<span class="op" id="5563616">[</span><span class="op" id="5563617">]</span><span class="builtintype" id="5563618">byte</span><span class="op" id="5563622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5563626">b</span><span class="op" id="5563627">,</span>&nbsp;<span class="ident" id="5563629">err</span>&nbsp;<span class="op" id="5563633">:=</span>&nbsp;<span class="ident" id="5563636">strconv</span><span class="op" id="5563643">.</span><span class="ident" id="5563644">ParseBool</span><span class="op" id="5563653">(</span><span class="builtintype" id="5563654">string</span><span class="op" id="5563660">(</span><span class="ident" id="5563661">s</span><span class="op" id="5563662">)</span><span class="op" id="5563663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563667">if</span>&nbsp;<span class="ident" id="5563670">err</span>&nbsp;<span class="op" id="5563674">!=</span>&nbsp;<span class="ident" id="5563677">nil</span>&nbsp;<span class="op" id="5563681">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563686">return</span>&nbsp;<span class="ident" id="5563693">nil</span><span class="op" id="5563696">,</span>&nbsp;<span class="ident" id="5563698">fmt</span><span class="op" id="5563701">.</span><span class="ident" id="5563702">Errorf</span><span class="op" id="5563708">(</span><span class="string" id="5563709">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%q&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5563757">,</span>&nbsp;<span class="ident" id="5563759">s</span><span class="op" id="5563760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5563764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563768">return</span>&nbsp;<span class="ident" id="5563775">b</span><span class="op" id="5563776">,</span>&nbsp;<span class="ident" id="5563778">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5563783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5563787">sv</span>&nbsp;<span class="op" id="5563790">:=</span>&nbsp;<span class="ident" id="5563793">reflect</span><span class="op" id="5563800">.</span><span class="ident" id="5563801">ValueOf</span><span class="op" id="5563808">(</span><span class="ident" id="5563809">src</span><span class="op" id="5563812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563815">switch</span>&nbsp;<span class="ident" id="5563822">sv</span><span class="op" id="5563824">.</span><span class="ident" id="5563825">Kind</span><span class="op" id="5563829">(</span><span class="op" id="5563830">)</span>&nbsp;<span class="op" id="5563832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563835">case</span>&nbsp;<span class="ident" id="5563840">reflect</span><span class="op" id="5563847">.</span><span class="ident" id="5563848">Int</span><span class="op" id="5563851">,</span>&nbsp;<span class="ident" id="5563853">reflect</span><span class="op" id="5563860">.</span><span class="ident" id="5563861">Int8</span><span class="op" id="5563865">,</span>&nbsp;<span class="ident" id="5563867">reflect</span><span class="op" id="5563874">.</span><span class="ident" id="5563875">Int16</span><span class="op" id="5563880">,</span>&nbsp;<span class="ident" id="5563882">reflect</span><span class="op" id="5563889">.</span><span class="ident" id="5563890">Int32</span><span class="op" id="5563895">,</span>&nbsp;<span class="ident" id="5563897">reflect</span><span class="op" id="5563904">.</span><span class="ident" id="5563905">Int64</span><span class="op" id="5563910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5563914">iv</span>&nbsp;<span class="op" id="5563917">:=</span>&nbsp;<span class="ident" id="5563920">sv</span><span class="op" id="5563922">.</span><span class="ident" id="5563923">Int</span><span class="op" id="5563926">(</span><span class="op" id="5563927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563931">if</span>&nbsp;<span class="ident" id="5563934">iv</span>&nbsp;<span class="op" id="5563937">==</span>&nbsp;<span class="num" id="5563940">1</span>&nbsp;<span class="op" id="5563942">||</span>&nbsp;<span class="ident" id="5563945">iv</span>&nbsp;<span class="op" id="5563948">==</span>&nbsp;<span class="num" id="5563951">0</span>&nbsp;<span class="op" id="5563953">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563958">return</span>&nbsp;<span class="ident" id="5563965">iv</span>&nbsp;<span class="op" id="5563968">==</span>&nbsp;<span class="num" id="5563971">1</span><span class="op" id="5563972">,</span>&nbsp;<span class="ident" id="5563974">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5563980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5563984">return</span>&nbsp;<span class="ident" id="5563991">nil</span><span class="op" id="5563994">,</span>&nbsp;<span class="ident" id="5563996">fmt</span><span class="op" id="5563999">.</span><span class="ident" id="5564000">Errorf</span><span class="op" id="5564006">(</span><span class="string" id="5564007">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5564055">,</span>&nbsp;<span class="ident" id="5564057">iv</span><span class="op" id="5564059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564062">case</span>&nbsp;<span class="ident" id="5564067">reflect</span><span class="op" id="5564074">.</span><span class="ident" id="5564075">Uint</span><span class="op" id="5564079">,</span>&nbsp;<span class="ident" id="5564081">reflect</span><span class="op" id="5564088">.</span><span class="ident" id="5564089">Uint8</span><span class="op" id="5564094">,</span>&nbsp;<span class="ident" id="5564096">reflect</span><span class="op" id="5564103">.</span><span class="ident" id="5564104">Uint16</span><span class="op" id="5564110">,</span>&nbsp;<span class="ident" id="5564112">reflect</span><span class="op" id="5564119">.</span><span class="ident" id="5564120">Uint32</span><span class="op" id="5564126">,</span>&nbsp;<span class="ident" id="5564128">reflect</span><span class="op" id="5564135">.</span><span class="ident" id="5564136">Uint64</span><span class="op" id="5564142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5564146">uv</span>&nbsp;<span class="op" id="5564149">:=</span>&nbsp;<span class="ident" id="5564152">sv</span><span class="op" id="5564154">.</span><span class="ident" id="5564155">Uint</span><span class="op" id="5564159">(</span><span class="op" id="5564160">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564164">if</span>&nbsp;<span class="ident" id="5564167">uv</span>&nbsp;<span class="op" id="5564170">==</span>&nbsp;<span class="num" id="5564173">1</span>&nbsp;<span class="op" id="5564175">||</span>&nbsp;<span class="ident" id="5564178">uv</span>&nbsp;<span class="op" id="5564181">==</span>&nbsp;<span class="num" id="5564184">0</span>&nbsp;<span class="op" id="5564186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564191">return</span>&nbsp;<span class="ident" id="5564198">uv</span>&nbsp;<span class="op" id="5564201">==</span>&nbsp;<span class="num" id="5564204">1</span><span class="op" id="5564205">,</span>&nbsp;<span class="ident" id="5564207">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5564213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564217">return</span>&nbsp;<span class="ident" id="5564224">nil</span><span class="op" id="5564227">,</span>&nbsp;<span class="ident" id="5564229">fmt</span><span class="op" id="5564232">.</span><span class="ident" id="5564233">Errorf</span><span class="op" id="5564239">(</span><span class="string" id="5564240">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%d&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5564288">,</span>&nbsp;<span class="ident" id="5564290">uv</span><span class="op" id="5564292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5564295">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564299">return</span>&nbsp;<span class="ident" id="5564306">nil</span><span class="op" id="5564309">,</span>&nbsp;<span class="ident" id="5564311">fmt</span><span class="op" id="5564314">.</span><span class="ident" id="5564315">Errorf</span><span class="op" id="5564321">(</span><span class="string" id="5564322">&#34;sql/driver:&nbsp;couldn&#39;t&nbsp;convert&nbsp;%v&nbsp;(%T)&nbsp;into&nbsp;type&nbsp;bool&#34;</span><span class="op" id="5564375">,</span>&nbsp;<span class="ident" id="5564377">src</span><span class="op" id="5564380">,</span>&nbsp;<span class="ident" id="5564382">src</span><span class="op" id="5564385">)</span><br>
<span class="lineno"></span><span class="op" id="5564387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5564390">//&nbsp;Int32&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;input&nbsp;values&nbsp;to&nbsp;int64,</span><br>
<span class="lineno">100</span><span class="comment" id="5564456">//&nbsp;respecting&nbsp;the&nbsp;limits&nbsp;of&nbsp;an&nbsp;int32&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="5564500">var</span>&nbsp;<span class="ident" id="5564504">Int32</span>&nbsp;<span class="ident" id="5564510">int32Type</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5564521">type</span>&nbsp;<span class="ident" id="5564526">int32Type</span>&nbsp;<span class="keyword" id="5564536">struct</span><span class="op" id="5564542">{</span><span class="op" id="5564543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="5564546">var</span>&nbsp;<span class="ident" id="5564550">_</span>&nbsp;<span class="ident" id="5564552">ValueConverter</span>&nbsp;<span class="op" id="5564567">=</span>&nbsp;<span class="ident" id="5564569">int32Type</span><span class="op" id="5564578">{</span><span class="op" id="5564579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5564582">func</span>&nbsp;<span class="op" id="5564587">(</span><span class="ident" id="5564588">int32Type</span><span class="op" id="5564597">)</span>&nbsp;<span class="ident" id="5564599">ConvertValue</span><span class="op" id="5564611">(</span><span class="ident" id="5564612">v</span>&nbsp;<span class="keyword" id="5564614">interface</span><span class="op" id="5564623">{</span><span class="op" id="5564624">}</span><span class="op" id="5564625">)</span>&nbsp;<span class="op" id="5564627">(</span><span class="ident" id="5564628">Value</span><span class="op" id="5564633">,</span>&nbsp;<span class="builtintype" id="5564635">error</span><span class="op" id="5564640">)</span>&nbsp;<span class="op" id="5564642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5564645">rv</span>&nbsp;<span class="op" id="5564648">:=</span>&nbsp;<span class="ident" id="5564651">reflect</span><span class="op" id="5564658">.</span><span class="ident" id="5564659">ValueOf</span><span class="op" id="5564666">(</span><span class="ident" id="5564667">v</span><span class="op" id="5564668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564671">switch</span>&nbsp;<span class="ident" id="5564678">rv</span><span class="op" id="5564680">.</span><span class="ident" id="5564681">Kind</span><span class="op" id="5564685">(</span><span class="op" id="5564686">)</span>&nbsp;<span class="op" id="5564688">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564691">case</span>&nbsp;<span class="ident" id="5564696">reflect</span><span class="op" id="5564703">.</span><span class="ident" id="5564704">Int</span><span class="op" id="5564707">,</span>&nbsp;<span class="ident" id="5564709">reflect</span><span class="op" id="5564716">.</span><span class="ident" id="5564717">Int8</span><span class="op" id="5564721">,</span>&nbsp;<span class="ident" id="5564723">reflect</span><span class="op" id="5564730">.</span><span class="ident" id="5564731">Int16</span><span class="op" id="5564736">,</span>&nbsp;<span class="ident" id="5564738">reflect</span><span class="op" id="5564745">.</span><span class="ident" id="5564746">Int32</span><span class="op" id="5564751">,</span>&nbsp;<span class="ident" id="5564753">reflect</span><span class="op" id="5564760">.</span><span class="ident" id="5564761">Int64</span><span class="op" id="5564766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5564770">i64</span>&nbsp;<span class="op" id="5564774">:=</span>&nbsp;<span class="ident" id="5564777">rv</span><span class="op" id="5564779">.</span><span class="ident" id="5564780">Int</span><span class="op" id="5564783">(</span><span class="op" id="5564784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564788">if</span>&nbsp;<span class="ident" id="5564791">i64</span>&nbsp;<span class="op" id="5564795">&gt;</span>&nbsp;<span class="op" id="5564797">(</span><span class="num" id="5564798">1</span><span class="op" id="5564799">&lt;&lt;</span><span class="num" id="5564801">31</span><span class="op" id="5564803">)</span><span class="op" id="5564804">-</span><span class="num" id="5564805">1</span>&nbsp;<span class="op" id="5564807">||</span>&nbsp;<span class="ident" id="5564810">i64</span>&nbsp;<span class="op" id="5564814">&lt;</span>&nbsp;<span class="op" id="5564816">-</span><span class="op" id="5564817">(</span><span class="num" id="5564818">1</span><span class="op" id="5564819">&lt;&lt;</span><span class="num" id="5564821">31</span><span class="op" id="5564823">)</span>&nbsp;<span class="op" id="5564825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564830">return</span>&nbsp;<span class="ident" id="5564837">nil</span><span class="op" id="5564840">,</span>&nbsp;<span class="ident" id="5564842">fmt</span><span class="op" id="5564845">.</span><span class="ident" id="5564846">Errorf</span><span class="op" id="5564852">(</span><span class="string" id="5564853">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5564891">,</span>&nbsp;<span class="ident" id="5564893">v</span><span class="op" id="5564894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5564898">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564902">return</span>&nbsp;<span class="ident" id="5564909">i64</span><span class="op" id="5564912">,</span>&nbsp;<span class="ident" id="5564914">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5564919">case</span>&nbsp;<span class="ident" id="5564924">reflect</span><span class="op" id="5564931">.</span><span class="ident" id="5564932">Uint</span><span class="op" id="5564936">,</span>&nbsp;<span class="ident" id="5564938">reflect</span><span class="op" id="5564945">.</span><span class="ident" id="5564946">Uint8</span><span class="op" id="5564951">,</span>&nbsp;<span class="ident" id="5564953">reflect</span><span class="op" id="5564960">.</span><span class="ident" id="5564961">Uint16</span><span class="op" id="5564967">,</span>&nbsp;<span class="ident" id="5564969">reflect</span><span class="op" id="5564976">.</span><span class="ident" id="5564977">Uint32</span><span class="op" id="5564983">,</span>&nbsp;<span class="ident" id="5564985">reflect</span><span class="op" id="5564992">.</span><span class="ident" id="5564993">Uint64</span><span class="op" id="5564999">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5565003">u64</span>&nbsp;<span class="op" id="5565007">:=</span>&nbsp;<span class="ident" id="5565010">rv</span><span class="op" id="5565012">.</span><span class="ident" id="5565013">Uint</span><span class="op" id="5565017">(</span><span class="op" id="5565018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565022">if</span>&nbsp;<span class="ident" id="5565025">u64</span>&nbsp;<span class="op" id="5565029">&gt;</span>&nbsp;<span class="op" id="5565031">(</span><span class="num" id="5565032">1</span><span class="op" id="5565033">&lt;&lt;</span><span class="num" id="5565035">31</span><span class="op" id="5565037">)</span><span class="op" id="5565038">-</span><span class="num" id="5565039">1</span>&nbsp;<span class="op" id="5565041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565046">return</span>&nbsp;<span class="ident" id="5565053">nil</span><span class="op" id="5565056">,</span>&nbsp;<span class="ident" id="5565058">fmt</span><span class="op" id="5565061">.</span><span class="ident" id="5565062">Errorf</span><span class="op" id="5565068">(</span><span class="string" id="5565069">&#34;sql/driver:&nbsp;value&nbsp;%d&nbsp;overflows&nbsp;int32&#34;</span><span class="op" id="5565107">,</span>&nbsp;<span class="ident" id="5565109">v</span><span class="op" id="5565110">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5565114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565118">return</span>&nbsp;<span class="ident" id="5565125">int64</span><span class="op" id="5565130">(</span><span class="ident" id="5565131">u64</span><span class="op" id="5565134">)</span><span class="op" id="5565135">,</span>&nbsp;<span class="ident" id="5565137">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565142">case</span>&nbsp;<span class="ident" id="5565147">reflect</span><span class="op" id="5565154">.</span><span class="ident" id="5565155">String</span><span class="op" id="5565161">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5565165">i</span><span class="op" id="5565166">,</span>&nbsp;<span class="ident" id="5565168">err</span>&nbsp;<span class="op" id="5565172">:=</span>&nbsp;<span class="ident" id="5565175">strconv</span><span class="op" id="5565182">.</span><span class="ident" id="5565183">Atoi</span><span class="op" id="5565187">(</span><span class="ident" id="5565188">rv</span><span class="op" id="5565190">.</span><span class="ident" id="5565191">String</span><span class="op" id="5565197">(</span><span class="op" id="5565198">)</span><span class="op" id="5565199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565203">if</span>&nbsp;<span class="ident" id="5565206">err</span>&nbsp;<span class="op" id="5565210">!=</span>&nbsp;<span class="ident" id="5565213">nil</span>&nbsp;<span class="op" id="5565217">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565222">return</span>&nbsp;<span class="ident" id="5565229">nil</span><span class="op" id="5565232">,</span>&nbsp;<span class="ident" id="5565234">fmt</span><span class="op" id="5565237">.</span><span class="ident" id="5565238">Errorf</span><span class="op" id="5565244">(</span><span class="string" id="5565245">&#34;sql/driver:&nbsp;value&nbsp;%q&nbsp;can&#39;t&nbsp;be&nbsp;converted&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5565295">,</span>&nbsp;<span class="ident" id="5565297">v</span><span class="op" id="5565298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5565302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565306">return</span>&nbsp;<span class="ident" id="5565313">int64</span><span class="op" id="5565318">(</span><span class="ident" id="5565319">i</span><span class="op" id="5565320">)</span><span class="op" id="5565321">,</span>&nbsp;<span class="ident" id="5565323">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5565328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565331">return</span>&nbsp;<span class="ident" id="5565338">nil</span><span class="op" id="5565341">,</span>&nbsp;<span class="ident" id="5565343">fmt</span><span class="op" id="5565346">.</span><span class="ident" id="5565347">Errorf</span><span class="op" id="5565353">(</span><span class="string" id="5565354">&#34;sql/driver:&nbsp;unsupported&nbsp;value&nbsp;%v&nbsp;(type&nbsp;%T)&nbsp;converting&nbsp;to&nbsp;int32&#34;</span><span class="op" id="5565418">,</span>&nbsp;<span class="ident" id="5565420">v</span><span class="op" id="5565421">,</span>&nbsp;<span class="ident" id="5565423">v</span><span class="op" id="5565424">)</span><br>
<span class="lineno">130</span><span class="op" id="5565426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5565429">//&nbsp;String&nbsp;is&nbsp;a&nbsp;ValueConverter&nbsp;that&nbsp;converts&nbsp;its&nbsp;input&nbsp;to&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="5565496">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;already&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte,&nbsp;it&#39;s&nbsp;unchanged.</span><br>
<span class="lineno"></span><span class="comment" id="5565559">//&nbsp;If&nbsp;the&nbsp;value&nbsp;is&nbsp;of&nbsp;another&nbsp;type,&nbsp;conversion&nbsp;to&nbsp;string&nbsp;is&nbsp;done</span><br>
<span class="lineno">135</span><span class="comment" id="5565624">//&nbsp;with&nbsp;fmt.Sprintf(&#34;%v&#34;,&nbsp;v).</span><br>
<span class="lineno"></span><span class="keyword" id="5565654">var</span>&nbsp;<span class="ident" id="5565658">String</span>&nbsp;<span class="ident" id="5565665">stringType</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5565677">type</span>&nbsp;<span class="ident" id="5565682">stringType</span>&nbsp;<span class="keyword" id="5565693">struct</span><span class="op" id="5565699">{</span><span class="op" id="5565700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="5565703">func</span>&nbsp;<span class="op" id="5565708">(</span><span class="ident" id="5565709">stringType</span><span class="op" id="5565719">)</span>&nbsp;<span class="ident" id="5565721">ConvertValue</span><span class="op" id="5565733">(</span><span class="ident" id="5565734">v</span>&nbsp;<span class="keyword" id="5565736">interface</span><span class="op" id="5565745">{</span><span class="op" id="5565746">}</span><span class="op" id="5565747">)</span>&nbsp;<span class="op" id="5565749">(</span><span class="ident" id="5565750">Value</span><span class="op" id="5565755">,</span>&nbsp;<span class="builtintype" id="5565757">error</span><span class="op" id="5565762">)</span>&nbsp;<span class="op" id="5565764">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565767">switch</span>&nbsp;<span class="ident" id="5565774">v</span><span class="op" id="5565775">.</span><span class="op" id="5565776">(</span><span class="keyword" id="5565777">type</span><span class="op" id="5565781">)</span>&nbsp;<span class="op" id="5565783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565786">case</span>&nbsp;<span class="builtintype" id="5565791">string</span><span class="op" id="5565797">,</span>&nbsp;<span class="op" id="5565799">[</span><span class="op" id="5565800">]</span><span class="builtintype" id="5565801">byte</span><span class="op" id="5565805">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565809">return</span>&nbsp;<span class="ident" id="5565816">v</span><span class="op" id="5565817">,</span>&nbsp;<span class="ident" id="5565819">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5565824">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5565827">return</span>&nbsp;<span class="ident" id="5565834">fmt</span><span class="op" id="5565837">.</span><span class="ident" id="5565838">Sprintf</span><span class="op" id="5565845">(</span><span class="string" id="5565846">&#34;%v&#34;</span><span class="op" id="5565850">,</span>&nbsp;<span class="ident" id="5565852">v</span><span class="op" id="5565853">)</span><span class="op" id="5565854">,</span>&nbsp;<span class="ident" id="5565856">nil</span><br>
<span class="lineno"></span><span class="op" id="5565860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5565863">//&nbsp;Null&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;allowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5565928">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno">150</span><span class="keyword" id="5565990">type</span>&nbsp;<span class="ident" id="5565995">Null</span>&nbsp;<span class="keyword" id="5566000">struct</span>&nbsp;<span class="op" id="5566007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5566010">Converter</span>&nbsp;<span class="ident" id="5566020">ValueConverter</span><br>
<span class="lineno"></span><span class="op" id="5566035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5566038">func</span>&nbsp;<span class="op" id="5566043">(</span><span class="ident" id="5566044">n</span>&nbsp;<span class="ident" id="5566046">Null</span><span class="op" id="5566050">)</span>&nbsp;<span class="ident" id="5566052">ConvertValue</span><span class="op" id="5566064">(</span><span class="ident" id="5566065">v</span>&nbsp;<span class="keyword" id="5566067">interface</span><span class="op" id="5566076">{</span><span class="op" id="5566077">}</span><span class="op" id="5566078">)</span>&nbsp;<span class="op" id="5566080">(</span><span class="ident" id="5566081">Value</span><span class="op" id="5566086">,</span>&nbsp;<span class="builtintype" id="5566088">error</span><span class="op" id="5566093">)</span>&nbsp;<span class="op" id="5566095">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566098">if</span>&nbsp;<span class="ident" id="5566101">v</span>&nbsp;<span class="op" id="5566103">==</span>&nbsp;<span class="ident" id="5566106">nil</span>&nbsp;<span class="op" id="5566110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566114">return</span>&nbsp;<span class="ident" id="5566121">nil</span><span class="op" id="5566124">,</span>&nbsp;<span class="ident" id="5566126">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5566131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566134">return</span>&nbsp;<span class="ident" id="5566141">n</span><span class="op" id="5566142">.</span><span class="ident" id="5566143">Converter</span><span class="op" id="5566152">.</span><span class="ident" id="5566153">ConvertValue</span><span class="op" id="5566165">(</span><span class="ident" id="5566166">v</span><span class="op" id="5566167">)</span><br>
<span class="lineno"></span><span class="op" id="5566169">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="comment" id="5566172">//&nbsp;NotNull&nbsp;is&nbsp;a&nbsp;type&nbsp;that&nbsp;implements&nbsp;ValueConverter&nbsp;by&nbsp;disallowing&nbsp;nil</span><br>
<span class="lineno"></span><span class="comment" id="5566243">//&nbsp;values&nbsp;but&nbsp;otherwise&nbsp;delegating&nbsp;to&nbsp;another&nbsp;ValueConverter.</span><br>
<span class="lineno"></span><span class="keyword" id="5566305">type</span>&nbsp;<span class="ident" id="5566310">NotNull</span>&nbsp;<span class="keyword" id="5566318">struct</span>&nbsp;<span class="op" id="5566325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5566328">Converter</span>&nbsp;<span class="ident" id="5566338">ValueConverter</span><br>
<span class="lineno">165</span><span class="op" id="5566353">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5566356">func</span>&nbsp;<span class="op" id="5566361">(</span><span class="ident" id="5566362">n</span>&nbsp;<span class="ident" id="5566364">NotNull</span><span class="op" id="5566371">)</span>&nbsp;<span class="ident" id="5566373">ConvertValue</span><span class="op" id="5566385">(</span><span class="ident" id="5566386">v</span>&nbsp;<span class="keyword" id="5566388">interface</span><span class="op" id="5566397">{</span><span class="op" id="5566398">}</span><span class="op" id="5566399">)</span>&nbsp;<span class="op" id="5566401">(</span><span class="ident" id="5566402">Value</span><span class="op" id="5566407">,</span>&nbsp;<span class="builtintype" id="5566409">error</span><span class="op" id="5566414">)</span>&nbsp;<span class="op" id="5566416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566419">if</span>&nbsp;<span class="ident" id="5566422">v</span>&nbsp;<span class="op" id="5566424">==</span>&nbsp;<span class="ident" id="5566427">nil</span>&nbsp;<span class="op" id="5566431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566435">return</span>&nbsp;<span class="ident" id="5566442">nil</span><span class="op" id="5566445">,</span>&nbsp;<span class="ident" id="5566447">fmt</span><span class="op" id="5566450">.</span><span class="ident" id="5566451">Errorf</span><span class="op" id="5566457">(</span><span class="string" id="5566458">&#34;nil&nbsp;value&nbsp;not&nbsp;allowed&#34;</span><span class="op" id="5566481">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5566484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566487">return</span>&nbsp;<span class="ident" id="5566494">n</span><span class="op" id="5566495">.</span><span class="ident" id="5566496">Converter</span><span class="op" id="5566505">.</span><span class="ident" id="5566506">ConvertValue</span><span class="op" id="5566518">(</span><span class="ident" id="5566519">v</span><span class="op" id="5566520">)</span><br>
<span class="lineno"></span><span class="op" id="5566522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5566525">//&nbsp;IsValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;parameter&nbsp;type.</span><br>
<span class="lineno">175</span><span class="comment" id="5566587">//&nbsp;Unlike&nbsp;IsScanValue,&nbsp;IsValue&nbsp;permits&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5566643">func</span>&nbsp;<span class="ident" id="5566648">IsValue</span><span class="op" id="5566655">(</span><span class="ident" id="5566656">v</span>&nbsp;<span class="keyword" id="5566658">interface</span><span class="op" id="5566667">{</span><span class="op" id="5566668">}</span><span class="op" id="5566669">)</span>&nbsp;<span class="builtintype" id="5566671">bool</span>&nbsp;<span class="op" id="5566676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566679">if</span>&nbsp;<span class="ident" id="5566682">IsScanValue</span><span class="op" id="5566693">(</span><span class="ident" id="5566694">v</span><span class="op" id="5566695">)</span>&nbsp;<span class="op" id="5566697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566701">return</span>&nbsp;<span class="builtintype" id="5566708">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5566714">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566717">if</span>&nbsp;<span class="ident" id="5566720">_</span><span class="op" id="5566721">,</span>&nbsp;<span class="ident" id="5566723">ok</span>&nbsp;<span class="op" id="5566726">:=</span>&nbsp;<span class="ident" id="5566729">v</span><span class="op" id="5566730">.</span><span class="op" id="5566731">(</span><span class="builtintype" id="5566732">string</span><span class="op" id="5566738">)</span><span class="op" id="5566739">;</span>&nbsp;<span class="ident" id="5566741">ok</span>&nbsp;<span class="op" id="5566744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566748">return</span>&nbsp;<span class="builtintype" id="5566755">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5566761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566764">return</span>&nbsp;<span class="builtintype" id="5566771">false</span><br>
<span class="lineno"></span><span class="op" id="5566777">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="comment" id="5566780">//&nbsp;IsScanValue&nbsp;reports&nbsp;whether&nbsp;v&nbsp;is&nbsp;a&nbsp;valid&nbsp;Value&nbsp;scan&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="5566841">//&nbsp;Unlike&nbsp;IsValue,&nbsp;IsScanValue&nbsp;does&nbsp;not&nbsp;permit&nbsp;the&nbsp;string&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="5566905">func</span>&nbsp;<span class="ident" id="5566910">IsScanValue</span><span class="op" id="5566921">(</span><span class="ident" id="5566922">v</span>&nbsp;<span class="keyword" id="5566924">interface</span><span class="op" id="5566933">{</span><span class="op" id="5566934">}</span><span class="op" id="5566935">)</span>&nbsp;<span class="builtintype" id="5566937">bool</span>&nbsp;<span class="op" id="5566942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566945">if</span>&nbsp;<span class="ident" id="5566948">v</span>&nbsp;<span class="op" id="5566950">==</span>&nbsp;<span class="ident" id="5566953">nil</span>&nbsp;<span class="op" id="5566957">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566961">return</span>&nbsp;<span class="builtintype" id="5566968">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5566974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566977">switch</span>&nbsp;<span class="ident" id="5566984">v</span><span class="op" id="5566985">.</span><span class="op" id="5566986">(</span><span class="keyword" id="5566987">type</span><span class="op" id="5566991">)</span>&nbsp;<span class="op" id="5566993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5566996">case</span>&nbsp;<span class="ident" id="5567001">int64</span><span class="op" id="5567006">,</span>&nbsp;<span class="builtintype" id="5567008">float64</span><span class="op" id="5567015">,</span>&nbsp;<span class="op" id="5567017">[</span><span class="op" id="5567018">]</span><span class="builtintype" id="5567019">byte</span><span class="op" id="5567023">,</span>&nbsp;<span class="builtintype" id="5567025">bool</span><span class="op" id="5567029">,</span>&nbsp;<span class="ident" id="5567031">time</span><span class="op" id="5567035">.</span><span class="ident" id="5567036">Time</span><span class="op" id="5567040">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567044">return</span>&nbsp;<span class="builtintype" id="5567051">true</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5567057">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567060">return</span>&nbsp;<span class="builtintype" id="5567067">false</span><br>
<span class="lineno"></span><span class="op" id="5567073">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5567076">//&nbsp;DefaultParameterConverter&nbsp;is&nbsp;the&nbsp;default&nbsp;implementation&nbsp;of</span><br>
<span class="lineno">200</span><span class="comment" id="5567138">//&nbsp;ValueConverter&nbsp;that&#39;s&nbsp;used&nbsp;when&nbsp;a&nbsp;Stmt&nbsp;doesn&#39;t&nbsp;implement</span><br>
<span class="lineno"></span><span class="comment" id="5567198">//&nbsp;ColumnConverter.</span><br>
<span class="lineno"></span><span class="comment" id="5567218">//</span><br>
<span class="lineno"></span><span class="comment" id="5567221">//&nbsp;DefaultParameterConverter&nbsp;returns&nbsp;the&nbsp;given&nbsp;value&nbsp;directly&nbsp;if</span><br>
<span class="lineno"></span><span class="comment" id="5567286">//&nbsp;IsValue(value).&nbsp;&nbsp;Otherwise&nbsp;integer&nbsp;type&nbsp;are&nbsp;converted&nbsp;to</span><br>
<span class="lineno">205</span><span class="comment" id="5567346">//&nbsp;int64,&nbsp;floats&nbsp;to&nbsp;float64,&nbsp;and&nbsp;strings&nbsp;to&nbsp;[]byte.&nbsp;&nbsp;Other&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="5567415">//&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="5567428">var</span>&nbsp;<span class="ident" id="5567432">DefaultParameterConverter</span>&nbsp;<span class="ident" id="5567458">defaultConverter</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5567476">type</span>&nbsp;<span class="ident" id="5567481">defaultConverter</span>&nbsp;<span class="keyword" id="5567498">struct</span><span class="op" id="5567504">{</span><span class="op" id="5567505">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="5567508">var</span>&nbsp;<span class="ident" id="5567512">_</span>&nbsp;<span class="ident" id="5567514">ValueConverter</span>&nbsp;<span class="op" id="5567529">=</span>&nbsp;<span class="ident" id="5567531">defaultConverter</span><span class="op" id="5567547">{</span><span class="op" id="5567548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5567551">func</span>&nbsp;<span class="op" id="5567556">(</span><span class="ident" id="5567557">defaultConverter</span><span class="op" id="5567573">)</span>&nbsp;<span class="ident" id="5567575">ConvertValue</span><span class="op" id="5567587">(</span><span class="ident" id="5567588">v</span>&nbsp;<span class="keyword" id="5567590">interface</span><span class="op" id="5567599">{</span><span class="op" id="5567600">}</span><span class="op" id="5567601">)</span>&nbsp;<span class="op" id="5567603">(</span><span class="ident" id="5567604">Value</span><span class="op" id="5567609">,</span>&nbsp;<span class="builtintype" id="5567611">error</span><span class="op" id="5567616">)</span>&nbsp;<span class="op" id="5567618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567621">if</span>&nbsp;<span class="ident" id="5567624">IsValue</span><span class="op" id="5567631">(</span><span class="ident" id="5567632">v</span><span class="op" id="5567633">)</span>&nbsp;<span class="op" id="5567635">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567639">return</span>&nbsp;<span class="ident" id="5567646">v</span><span class="op" id="5567647">,</span>&nbsp;<span class="ident" id="5567649">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5567654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567658">if</span>&nbsp;<span class="ident" id="5567661">svi</span><span class="op" id="5567664">,</span>&nbsp;<span class="ident" id="5567666">ok</span>&nbsp;<span class="op" id="5567669">:=</span>&nbsp;<span class="ident" id="5567672">v</span><span class="op" id="5567673">.</span><span class="op" id="5567674">(</span><span class="ident" id="5567675">Valuer</span><span class="op" id="5567681">)</span><span class="op" id="5567682">;</span>&nbsp;<span class="ident" id="5567684">ok</span>&nbsp;<span class="op" id="5567687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5567691">sv</span><span class="op" id="5567693">,</span>&nbsp;<span class="ident" id="5567695">err</span>&nbsp;<span class="op" id="5567699">:=</span>&nbsp;<span class="ident" id="5567702">svi</span><span class="op" id="5567705">.</span><span class="ident" id="5567706">Value</span><span class="op" id="5567711">(</span><span class="op" id="5567712">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567716">if</span>&nbsp;<span class="ident" id="5567719">err</span>&nbsp;<span class="op" id="5567723">!=</span>&nbsp;<span class="ident" id="5567726">nil</span>&nbsp;<span class="op" id="5567730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567735">return</span>&nbsp;<span class="ident" id="5567742">nil</span><span class="op" id="5567745">,</span>&nbsp;<span class="ident" id="5567747">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5567753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567757">if</span>&nbsp;<span class="op" id="5567760">!</span><span class="ident" id="5567761">IsValue</span><span class="op" id="5567768">(</span><span class="ident" id="5567769">sv</span><span class="op" id="5567771">)</span>&nbsp;<span class="op" id="5567773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567778">return</span>&nbsp;<span class="ident" id="5567785">nil</span><span class="op" id="5567788">,</span>&nbsp;<span class="ident" id="5567790">fmt</span><span class="op" id="5567793">.</span><span class="ident" id="5567794">Errorf</span><span class="op" id="5567800">(</span><span class="string" id="5567801">&#34;non-Value&nbsp;type&nbsp;%T&nbsp;returned&nbsp;from&nbsp;Value&#34;</span><span class="op" id="5567840">,</span>&nbsp;<span class="ident" id="5567842">sv</span><span class="op" id="5567844">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5567848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567852">return</span>&nbsp;<span class="ident" id="5567859">sv</span><span class="op" id="5567861">,</span>&nbsp;<span class="ident" id="5567863">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5567868">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5567872">rv</span>&nbsp;<span class="op" id="5567875">:=</span>&nbsp;<span class="ident" id="5567878">reflect</span><span class="op" id="5567885">.</span><span class="ident" id="5567886">ValueOf</span><span class="op" id="5567893">(</span><span class="ident" id="5567894">v</span><span class="op" id="5567895">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567898">switch</span>&nbsp;<span class="ident" id="5567905">rv</span><span class="op" id="5567907">.</span><span class="ident" id="5567908">Kind</span><span class="op" id="5567912">(</span><span class="op" id="5567913">)</span>&nbsp;<span class="op" id="5567915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567918">case</span>&nbsp;<span class="ident" id="5567923">reflect</span><span class="op" id="5567930">.</span><span class="ident" id="5567931">Ptr</span><span class="op" id="5567934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5567938">//&nbsp;indirect&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567961">if</span>&nbsp;<span class="ident" id="5567964">rv</span><span class="op" id="5567966">.</span><span class="ident" id="5567967">IsNil</span><span class="op" id="5567972">(</span><span class="op" id="5567973">)</span>&nbsp;<span class="op" id="5567975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5567980">return</span>&nbsp;<span class="ident" id="5567987">nil</span><span class="op" id="5567990">,</span>&nbsp;<span class="ident" id="5567992">nil</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5567998">}</span>&nbsp;<span class="keyword" id="5568000">else</span>&nbsp;<span class="op" id="5568005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568010">return</span>&nbsp;<span class="ident" id="5568017">defaultConverter</span><span class="op" id="5568033">{</span><span class="op" id="5568034">}</span><span class="op" id="5568035">.</span><span class="ident" id="5568036">ConvertValue</span><span class="op" id="5568048">(</span><span class="ident" id="5568049">rv</span><span class="op" id="5568051">.</span><span class="ident" id="5568052">Elem</span><span class="op" id="5568056">(</span><span class="op" id="5568057">)</span><span class="op" id="5568058">.</span><span class="ident" id="5568059">Interface</span><span class="op" id="5568068">(</span><span class="op" id="5568069">)</span><span class="op" id="5568070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5568074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568077">case</span>&nbsp;<span class="ident" id="5568082">reflect</span><span class="op" id="5568089">.</span><span class="ident" id="5568090">Int</span><span class="op" id="5568093">,</span>&nbsp;<span class="ident" id="5568095">reflect</span><span class="op" id="5568102">.</span><span class="ident" id="5568103">Int8</span><span class="op" id="5568107">,</span>&nbsp;<span class="ident" id="5568109">reflect</span><span class="op" id="5568116">.</span><span class="ident" id="5568117">Int16</span><span class="op" id="5568122">,</span>&nbsp;<span class="ident" id="5568124">reflect</span><span class="op" id="5568131">.</span><span class="ident" id="5568132">Int32</span><span class="op" id="5568137">,</span>&nbsp;<span class="ident" id="5568139">reflect</span><span class="op" id="5568146">.</span><span class="ident" id="5568147">Int64</span><span class="op" id="5568152">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568156">return</span>&nbsp;<span class="ident" id="5568163">rv</span><span class="op" id="5568165">.</span><span class="ident" id="5568166">Int</span><span class="op" id="5568169">(</span><span class="op" id="5568170">)</span><span class="op" id="5568171">,</span>&nbsp;<span class="ident" id="5568173">nil</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568178">case</span>&nbsp;<span class="ident" id="5568183">reflect</span><span class="op" id="5568190">.</span><span class="ident" id="5568191">Uint</span><span class="op" id="5568195">,</span>&nbsp;<span class="ident" id="5568197">reflect</span><span class="op" id="5568204">.</span><span class="ident" id="5568205">Uint8</span><span class="op" id="5568210">,</span>&nbsp;<span class="ident" id="5568212">reflect</span><span class="op" id="5568219">.</span><span class="ident" id="5568220">Uint16</span><span class="op" id="5568226">,</span>&nbsp;<span class="ident" id="5568228">reflect</span><span class="op" id="5568235">.</span><span class="ident" id="5568236">Uint32</span><span class="op" id="5568242">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568246">return</span>&nbsp;<span class="ident" id="5568253">int64</span><span class="op" id="5568258">(</span><span class="ident" id="5568259">rv</span><span class="op" id="5568261">.</span><span class="ident" id="5568262">Uint</span><span class="op" id="5568266">(</span><span class="op" id="5568267">)</span><span class="op" id="5568268">)</span><span class="op" id="5568269">,</span>&nbsp;<span class="ident" id="5568271">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568276">case</span>&nbsp;<span class="ident" id="5568281">reflect</span><span class="op" id="5568288">.</span><span class="ident" id="5568289">Uint64</span><span class="op" id="5568295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5568299">u64</span>&nbsp;<span class="op" id="5568303">:=</span>&nbsp;<span class="ident" id="5568306">rv</span><span class="op" id="5568308">.</span><span class="ident" id="5568309">Uint</span><span class="op" id="5568313">(</span><span class="op" id="5568314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568318">if</span>&nbsp;<span class="ident" id="5568321">u64</span>&nbsp;<span class="op" id="5568325">&gt;=</span>&nbsp;<span class="num" id="5568328">1</span><span class="op" id="5568329">&lt;&lt;</span><span class="num" id="5568331">63</span>&nbsp;<span class="op" id="5568334">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568339">return</span>&nbsp;<span class="ident" id="5568346">nil</span><span class="op" id="5568349">,</span>&nbsp;<span class="ident" id="5568351">fmt</span><span class="op" id="5568354">.</span><span class="ident" id="5568355">Errorf</span><span class="op" id="5568361">(</span><span class="string" id="5568362">&#34;uint64&nbsp;values&nbsp;with&nbsp;high&nbsp;bit&nbsp;set&nbsp;are&nbsp;not&nbsp;supported&#34;</span><span class="op" id="5568413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5568417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568421">return</span>&nbsp;<span class="ident" id="5568428">int64</span><span class="op" id="5568433">(</span><span class="ident" id="5568434">u64</span><span class="op" id="5568437">)</span><span class="op" id="5568438">,</span>&nbsp;<span class="ident" id="5568440">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568445">case</span>&nbsp;<span class="ident" id="5568450">reflect</span><span class="op" id="5568457">.</span><span class="ident" id="5568458">Float32</span><span class="op" id="5568465">,</span>&nbsp;<span class="ident" id="5568467">reflect</span><span class="op" id="5568474">.</span><span class="ident" id="5568475">Float64</span><span class="op" id="5568482">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568486">return</span>&nbsp;<span class="ident" id="5568493">rv</span><span class="op" id="5568495">.</span><span class="ident" id="5568496">Float</span><span class="op" id="5568501">(</span><span class="op" id="5568502">)</span><span class="op" id="5568503">,</span>&nbsp;<span class="ident" id="5568505">nil</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5568510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5568513">return</span>&nbsp;<span class="ident" id="5568520">nil</span><span class="op" id="5568523">,</span>&nbsp;<span class="ident" id="5568525">fmt</span><span class="op" id="5568528">.</span><span class="ident" id="5568529">Errorf</span><span class="op" id="5568535">(</span><span class="string" id="5568536">&#34;unsupported&nbsp;type&nbsp;%T,&nbsp;a&nbsp;%s&#34;</span><span class="op" id="5568563">,</span>&nbsp;<span class="ident" id="5568565">v</span><span class="op" id="5568566">,</span>&nbsp;<span class="ident" id="5568568">rv</span><span class="op" id="5568570">.</span><span class="ident" id="5568571">Kind</span><span class="op" id="5568575">(</span><span class="op" id="5568576">)</span><span class="op" id="5568577">)</span><br>
<span class="lineno"></span><span class="op" id="5568579">}</span>
</div>
</body>
</html>
