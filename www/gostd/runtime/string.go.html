<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html" class="current">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1697130">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1697185">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1697239">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1697290">package</span>&nbsp;<span class="ident" id="1697298">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1697307">import</span>&nbsp;<span class="op" id="1697314">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1697317">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="1697326">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1697329">func</span>&nbsp;<span class="ident" id="1697334">concatstrings</span><span class="op" id="1697347">(</span><span class="ident" id="1697348">a</span>&nbsp;<span class="op" id="1697350">[</span><span class="op" id="1697351">]</span><span class="builtintype" id="1697352">string</span><span class="op" id="1697358">)</span>&nbsp;<span class="builtintype" id="1697360">string</span>&nbsp;<span class="op" id="1697367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697370">idx</span>&nbsp;<span class="op" id="1697374">:=</span>&nbsp;<span class="num" id="1697377">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697380">l</span>&nbsp;<span class="op" id="1697382">:=</span>&nbsp;<span class="num" id="1697385">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697388">count</span>&nbsp;<span class="op" id="1697394">:=</span>&nbsp;<span class="num" id="1697397">0</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697400">for</span>&nbsp;<span class="ident" id="1697404">i</span><span class="op" id="1697405">,</span>&nbsp;<span class="ident" id="1697407">x</span>&nbsp;<span class="op" id="1697409">:=</span>&nbsp;<span class="keyword" id="1697412">range</span>&nbsp;<span class="ident" id="1697418">a</span>&nbsp;<span class="op" id="1697420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697424">n</span>&nbsp;<span class="op" id="1697426">:=</span>&nbsp;<span class="builtinfunc" id="1697429">len</span><span class="op" id="1697432">(</span><span class="ident" id="1697433">x</span><span class="op" id="1697434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697438">if</span>&nbsp;<span class="ident" id="1697441">n</span>&nbsp;<span class="op" id="1697443">==</span>&nbsp;<span class="num" id="1697446">0</span>&nbsp;<span class="op" id="1697448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697453">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697464">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697468">if</span>&nbsp;<span class="ident" id="1697471">l</span><span class="op" id="1697472">+</span><span class="ident" id="1697473">n</span>&nbsp;<span class="op" id="1697475">&lt;</span>&nbsp;<span class="ident" id="1697477">l</span>&nbsp;<span class="op" id="1697479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697484">gothrow</span><span class="op" id="1697491">(</span><span class="string" id="1697492">&#34;string&nbsp;concatenation&nbsp;too&nbsp;long&#34;</span><span class="op" id="1697523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697531">l</span>&nbsp;<span class="op" id="1697533">+=</span>&nbsp;<span class="ident" id="1697536">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697540">count</span><span class="op" id="1697545">++</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697550">idx</span>&nbsp;<span class="op" id="1697554">=</span>&nbsp;<span class="ident" id="1697556">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697562">if</span>&nbsp;<span class="ident" id="1697565">count</span>&nbsp;<span class="op" id="1697571">==</span>&nbsp;<span class="num" id="1697574">0</span>&nbsp;<span class="op" id="1697576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697580">return</span>&nbsp;<span class="string" id="1697587">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697591">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697594">if</span>&nbsp;<span class="ident" id="1697597">count</span>&nbsp;<span class="op" id="1697603">==</span>&nbsp;<span class="num" id="1697606">1</span>&nbsp;<span class="op" id="1697608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697612">return</span>&nbsp;<span class="ident" id="1697619">a</span><span class="op" id="1697620">[</span><span class="ident" id="1697621">idx</span><span class="op" id="1697624">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697627">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697630">s</span><span class="op" id="1697631">,</span>&nbsp;<span class="ident" id="1697633">b</span>&nbsp;<span class="op" id="1697635">:=</span>&nbsp;<span class="ident" id="1697638">rawstring</span><span class="op" id="1697647">(</span><span class="ident" id="1697648">l</span><span class="op" id="1697649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697652">l</span>&nbsp;<span class="op" id="1697654">=</span>&nbsp;<span class="num" id="1697656">0</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697659">for</span>&nbsp;<span class="ident" id="1697663">_</span><span class="op" id="1697664">,</span>&nbsp;<span class="ident" id="1697666">x</span>&nbsp;<span class="op" id="1697668">:=</span>&nbsp;<span class="keyword" id="1697671">range</span>&nbsp;<span class="ident" id="1697677">a</span>&nbsp;<span class="op" id="1697679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1697683">copy</span><span class="op" id="1697687">(</span><span class="ident" id="1697688">b</span><span class="op" id="1697689">[</span><span class="ident" id="1697690">l</span><span class="op" id="1697691">:</span><span class="op" id="1697692">]</span><span class="op" id="1697693">,</span>&nbsp;<span class="ident" id="1697695">x</span><span class="op" id="1697696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1697700">l</span>&nbsp;<span class="op" id="1697702">+=</span>&nbsp;<span class="builtinfunc" id="1697705">len</span><span class="op" id="1697708">(</span><span class="ident" id="1697709">x</span><span class="op" id="1697710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1697713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697716">return</span>&nbsp;<span class="ident" id="1697723">s</span><br>
<span class="lineno">40</span><span class="op" id="1697725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1697728">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1697741">func</span>&nbsp;<span class="ident" id="1697746">concatstring2</span><span class="op" id="1697759">(</span><span class="ident" id="1697760">a</span>&nbsp;<span class="op" id="1697762">[</span><span class="num" id="1697763">2</span><span class="op" id="1697764">]</span><span class="builtintype" id="1697765">string</span><span class="op" id="1697771">)</span>&nbsp;<span class="builtintype" id="1697773">string</span>&nbsp;<span class="op" id="1697780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697783">return</span>&nbsp;<span class="ident" id="1697790">concatstrings</span><span class="op" id="1697803">(</span><span class="ident" id="1697804">a</span><span class="op" id="1697805">[</span><span class="op" id="1697806">:</span><span class="op" id="1697807">]</span><span class="op" id="1697808">)</span><br>
<span class="lineno">45</span><span class="op" id="1697810">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1697813">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1697826">func</span>&nbsp;<span class="ident" id="1697831">concatstring3</span><span class="op" id="1697844">(</span><span class="ident" id="1697845">a</span>&nbsp;<span class="op" id="1697847">[</span><span class="num" id="1697848">3</span><span class="op" id="1697849">]</span><span class="builtintype" id="1697850">string</span><span class="op" id="1697856">)</span>&nbsp;<span class="builtintype" id="1697858">string</span>&nbsp;<span class="op" id="1697865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697868">return</span>&nbsp;<span class="ident" id="1697875">concatstrings</span><span class="op" id="1697888">(</span><span class="ident" id="1697889">a</span><span class="op" id="1697890">[</span><span class="op" id="1697891">:</span><span class="op" id="1697892">]</span><span class="op" id="1697893">)</span><br>
<span class="lineno">50</span><span class="op" id="1697895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1697898">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1697911">func</span>&nbsp;<span class="ident" id="1697916">concatstring4</span><span class="op" id="1697929">(</span><span class="ident" id="1697930">a</span>&nbsp;<span class="op" id="1697932">[</span><span class="num" id="1697933">4</span><span class="op" id="1697934">]</span><span class="builtintype" id="1697935">string</span><span class="op" id="1697941">)</span>&nbsp;<span class="builtintype" id="1697943">string</span>&nbsp;<span class="op" id="1697950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1697953">return</span>&nbsp;<span class="ident" id="1697960">concatstrings</span><span class="op" id="1697973">(</span><span class="ident" id="1697974">a</span><span class="op" id="1697975">[</span><span class="op" id="1697976">:</span><span class="op" id="1697977">]</span><span class="op" id="1697978">)</span><br>
<span class="lineno">55</span><span class="op" id="1697980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1697983">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1697996">func</span>&nbsp;<span class="ident" id="1698001">concatstring5</span><span class="op" id="1698014">(</span><span class="ident" id="1698015">a</span>&nbsp;<span class="op" id="1698017">[</span><span class="num" id="1698018">5</span><span class="op" id="1698019">]</span><span class="builtintype" id="1698020">string</span><span class="op" id="1698026">)</span>&nbsp;<span class="builtintype" id="1698028">string</span>&nbsp;<span class="op" id="1698035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1698038">return</span>&nbsp;<span class="ident" id="1698045">concatstrings</span><span class="op" id="1698058">(</span><span class="ident" id="1698059">a</span><span class="op" id="1698060">[</span><span class="op" id="1698061">:</span><span class="op" id="1698062">]</span><span class="op" id="1698063">)</span><br>
<span class="lineno">60</span><span class="op" id="1698065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1698068">func</span>&nbsp;<span class="ident" id="1698073">slicebytetostring</span><span class="op" id="1698090">(</span><span class="ident" id="1698091">b</span>&nbsp;<span class="op" id="1698093">[</span><span class="op" id="1698094">]</span><span class="builtintype" id="1698095">byte</span><span class="op" id="1698099">)</span>&nbsp;<span class="builtintype" id="1698101">string</span>&nbsp;<span class="op" id="1698108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1698111">if</span>&nbsp;<span class="ident" id="1698114">raceenabled</span>&nbsp;<span class="op" id="1698126">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1698129">len</span><span class="op" id="1698132">(</span><span class="ident" id="1698133">b</span><span class="op" id="1698134">)</span>&nbsp;<span class="op" id="1698136">&gt;</span>&nbsp;<span class="num" id="1698138">0</span>&nbsp;<span class="op" id="1698140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1698144">racereadrangepc</span><span class="op" id="1698159">(</span><span class="ident" id="1698160">unsafe</span><span class="op" id="1698166">.</span><span class="ident" id="1698167">Pointer</span><span class="op" id="1698174">(</span><span class="op" id="1698175">&amp;</span><span class="ident" id="1698176">b</span><span class="op" id="1698177">[</span><span class="num" id="1698178">0</span><span class="op" id="1698179">]</span><span class="op" id="1698180">)</span><span class="op" id="1698181">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1698186">uintptr</span><span class="op" id="1698193">(</span><span class="builtinfunc" id="1698194">len</span><span class="op" id="1698197">(</span><span class="ident" id="1698198">b</span><span class="op" id="1698199">)</span><span class="op" id="1698200">)</span><span class="op" id="1698201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1698206">getcallerpc</span><span class="op" id="1698217">(</span><span class="ident" id="1698218">unsafe</span><span class="op" id="1698224">.</span><span class="ident" id="1698225">Pointer</span><span class="op" id="1698232">(</span><span class="op" id="1698233">&amp;</span><span class="ident" id="1698234">b</span><span class="op" id="1698235">)</span><span class="op" id="1698236">)</span><span class="op" id="1698237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1698242">funcPC</span><span class="op" id="1698248">(</span><span class="ident" id="1698249">slicebytetostring</span><span class="op" id="1698266">)</span><span class="op" id="1698267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1698270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1698273">s</span><span class="op" id="1698274">,</span>&nbsp;<span class="ident" id="1698276">c</span>&nbsp;<span class="op" id="1698278">:=</span>&nbsp;<span class="ident" id="1698281">rawstring</span><span class="op" id="1698290">(</span><span class="builtinfunc" id="1698291">len</span><span class="op" id="1698294">(</span><span class="ident" id="1698295">b</span><span class="op" id="1698296">)</span><span class="op" id="1698297">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1698300">copy</span><span class="op" id="1698304">(</span><span class="ident" id="1698305">c</span><span class="op" id="1698306">,</span>&nbsp;<span class="ident" id="1698308">b</span><span class="op" id="1698309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1698312">return</span>&nbsp;<span class="ident" id="1698319">s</span><br>
<span class="lineno"></span><span class="op" id="1698321">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1698324">func</span>&nbsp;<span class="ident" id="1698329">slicebytetostringtmp</span><span class="op" id="1698349">(</span><span class="ident" id="1698350">b</span>&nbsp;<span class="op" id="1698352">[</span><span class="op" id="1698353">]</span><span class="builtintype" id="1698354">byte</span><span class="op" id="1698358">)</span>&nbsp;<span class="builtintype" id="1698360">string</span>&nbsp;<span class="op" id="1698367">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1698370">//&nbsp;Return&nbsp;a&nbsp;&#34;string&#34;&nbsp;referring&nbsp;to&nbsp;the&nbsp;actual&nbsp;[]byte&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1698430">//&nbsp;This&nbsp;is&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;internal&nbsp;compiler&nbsp;optimizations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1698490">//&nbsp;that&nbsp;know&nbsp;that&nbsp;the&nbsp;string&nbsp;form&nbsp;will&nbsp;be&nbsp;discarded&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1698550">//&nbsp;the&nbsp;calling&nbsp;goroutine&nbsp;could&nbsp;possibly&nbsp;modify&nbsp;the&nbsp;original</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1698611">//&nbsp;slice&nbsp;or&nbsp;synchronize&nbsp;with&nbsp;another&nbsp;goroutine.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1698660">//&nbsp;Today,&nbsp;the&nbsp;only&nbsp;such&nbsp;case&nbsp;is&nbsp;a&nbsp;m[string(k)]&nbsp;lookup&nbsp;where</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1698721">//&nbsp;m&nbsp;is&nbsp;a&nbsp;string-keyed&nbsp;map&nbsp;and&nbsp;k&nbsp;is&nbsp;a&nbsp;[]byte.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1698769">if</span>&nbsp;<span class="ident" id="1698772">raceenabled</span>&nbsp;<span class="op" id="1698784">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1698787">len</span><span class="op" id="1698790">(</span><span class="ident" id="1698791">b</span><span class="op" id="1698792">)</span>&nbsp;<span class="op" id="1698794">&gt;</span>&nbsp;<span class="num" id="1698796">0</span>&nbsp;<span class="op" id="1698798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1698802">racereadrangepc</span><span class="op" id="1698817">(</span><span class="ident" id="1698818">unsafe</span><span class="op" id="1698824">.</span><span class="ident" id="1698825">Pointer</span><span class="op" id="1698832">(</span><span class="op" id="1698833">&amp;</span><span class="ident" id="1698834">b</span><span class="op" id="1698835">[</span><span class="num" id="1698836">0</span><span class="op" id="1698837">]</span><span class="op" id="1698838">)</span><span class="op" id="1698839">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1698844">uintptr</span><span class="op" id="1698851">(</span><span class="builtinfunc" id="1698852">len</span><span class="op" id="1698855">(</span><span class="ident" id="1698856">b</span><span class="op" id="1698857">)</span><span class="op" id="1698858">)</span><span class="op" id="1698859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1698864">getcallerpc</span><span class="op" id="1698875">(</span><span class="ident" id="1698876">unsafe</span><span class="op" id="1698882">.</span><span class="ident" id="1698883">Pointer</span><span class="op" id="1698890">(</span><span class="op" id="1698891">&amp;</span><span class="ident" id="1698892">b</span><span class="op" id="1698893">)</span><span class="op" id="1698894">)</span><span class="op" id="1698895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1698900">funcPC</span><span class="op" id="1698906">(</span><span class="ident" id="1698907">slicebytetostringtmp</span><span class="op" id="1698927">)</span><span class="op" id="1698928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1698931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1698934">return</span>&nbsp;<span class="op" id="1698941">*</span><span class="op" id="1698942">(</span><span class="op" id="1698943">*</span><span class="builtintype" id="1698944">string</span><span class="op" id="1698950">)</span><span class="op" id="1698951">(</span><span class="ident" id="1698952">unsafe</span><span class="op" id="1698958">.</span><span class="ident" id="1698959">Pointer</span><span class="op" id="1698966">(</span><span class="op" id="1698967">&amp;</span><span class="ident" id="1698968">b</span><span class="op" id="1698969">)</span><span class="op" id="1698970">)</span><br>
<span class="lineno">90</span><span class="op" id="1698972">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1698975">func</span>&nbsp;<span class="ident" id="1698980">stringtoslicebyte</span><span class="op" id="1698997">(</span><span class="ident" id="1698998">s</span>&nbsp;<span class="builtintype" id="1699000">string</span><span class="op" id="1699006">)</span>&nbsp;<span class="op" id="1699008">[</span><span class="op" id="1699009">]</span><span class="builtintype" id="1699010">byte</span>&nbsp;<span class="op" id="1699015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699018">b</span>&nbsp;<span class="op" id="1699020">:=</span>&nbsp;<span class="ident" id="1699023">rawbyteslice</span><span class="op" id="1699035">(</span><span class="builtinfunc" id="1699036">len</span><span class="op" id="1699039">(</span><span class="ident" id="1699040">s</span><span class="op" id="1699041">)</span><span class="op" id="1699042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1699045">copy</span><span class="op" id="1699049">(</span><span class="ident" id="1699050">b</span><span class="op" id="1699051">,</span>&nbsp;<span class="ident" id="1699053">s</span><span class="op" id="1699054">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699057">return</span>&nbsp;<span class="ident" id="1699064">b</span><br>
<span class="lineno"></span><span class="op" id="1699066">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699069">func</span>&nbsp;<span class="ident" id="1699074">stringtoslicerune</span><span class="op" id="1699091">(</span><span class="ident" id="1699092">s</span>&nbsp;<span class="builtintype" id="1699094">string</span><span class="op" id="1699100">)</span>&nbsp;<span class="op" id="1699102">[</span><span class="op" id="1699103">]</span><span class="builtintype" id="1699104">rune</span>&nbsp;<span class="op" id="1699109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1699112">//&nbsp;two&nbsp;passes.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1699128">//&nbsp;unlike&nbsp;slicerunetostring,&nbsp;no&nbsp;race&nbsp;because&nbsp;strings&nbsp;are&nbsp;immutable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699197">n</span>&nbsp;<span class="op" id="1699199">:=</span>&nbsp;<span class="num" id="1699202">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699205">t</span>&nbsp;<span class="op" id="1699207">:=</span>&nbsp;<span class="ident" id="1699210">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699213">for</span>&nbsp;<span class="builtinfunc" id="1699217">len</span><span class="op" id="1699220">(</span><span class="ident" id="1699221">s</span><span class="op" id="1699222">)</span>&nbsp;<span class="op" id="1699224">&gt;</span>&nbsp;<span class="num" id="1699226">0</span>&nbsp;<span class="op" id="1699228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699232">_</span><span class="op" id="1699233">,</span>&nbsp;<span class="ident" id="1699235">k</span>&nbsp;<span class="op" id="1699237">:=</span>&nbsp;<span class="ident" id="1699240">charntorune</span><span class="op" id="1699251">(</span><span class="ident" id="1699252">s</span><span class="op" id="1699253">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699257">s</span>&nbsp;<span class="op" id="1699259">=</span>&nbsp;<span class="ident" id="1699261">s</span><span class="op" id="1699262">[</span><span class="ident" id="1699263">k</span><span class="op" id="1699264">:</span><span class="op" id="1699265">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699269">n</span><span class="op" id="1699270">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699277">a</span>&nbsp;<span class="op" id="1699279">:=</span>&nbsp;<span class="ident" id="1699282">rawruneslice</span><span class="op" id="1699294">(</span><span class="ident" id="1699295">n</span><span class="op" id="1699296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699299">n</span>&nbsp;<span class="op" id="1699301">=</span>&nbsp;<span class="num" id="1699303">0</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699306">for</span>&nbsp;<span class="builtinfunc" id="1699310">len</span><span class="op" id="1699313">(</span><span class="ident" id="1699314">t</span><span class="op" id="1699315">)</span>&nbsp;<span class="op" id="1699317">&gt;</span>&nbsp;<span class="num" id="1699319">0</span>&nbsp;<span class="op" id="1699321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699325">r</span><span class="op" id="1699326">,</span>&nbsp;<span class="ident" id="1699328">k</span>&nbsp;<span class="op" id="1699330">:=</span>&nbsp;<span class="ident" id="1699333">charntorune</span><span class="op" id="1699344">(</span><span class="ident" id="1699345">t</span><span class="op" id="1699346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699350">t</span>&nbsp;<span class="op" id="1699352">=</span>&nbsp;<span class="ident" id="1699354">t</span><span class="op" id="1699355">[</span><span class="ident" id="1699356">k</span><span class="op" id="1699357">:</span><span class="op" id="1699358">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699362">a</span><span class="op" id="1699363">[</span><span class="ident" id="1699364">n</span><span class="op" id="1699365">]</span>&nbsp;<span class="op" id="1699367">=</span>&nbsp;<span class="ident" id="1699369">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699373">n</span><span class="op" id="1699374">++</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699381">return</span>&nbsp;<span class="ident" id="1699388">a</span><br>
<span class="lineno"></span><span class="op" id="1699390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699393">func</span>&nbsp;<span class="ident" id="1699398">slicerunetostring</span><span class="op" id="1699415">(</span><span class="ident" id="1699416">a</span>&nbsp;<span class="op" id="1699418">[</span><span class="op" id="1699419">]</span><span class="builtintype" id="1699420">rune</span><span class="op" id="1699424">)</span>&nbsp;<span class="builtintype" id="1699426">string</span>&nbsp;<span class="op" id="1699433">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699436">if</span>&nbsp;<span class="ident" id="1699439">raceenabled</span>&nbsp;<span class="op" id="1699451">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="1699454">len</span><span class="op" id="1699457">(</span><span class="ident" id="1699458">a</span><span class="op" id="1699459">)</span>&nbsp;<span class="op" id="1699461">&gt;</span>&nbsp;<span class="num" id="1699463">0</span>&nbsp;<span class="op" id="1699465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699469">racereadrangepc</span><span class="op" id="1699484">(</span><span class="ident" id="1699485">unsafe</span><span class="op" id="1699491">.</span><span class="ident" id="1699492">Pointer</span><span class="op" id="1699499">(</span><span class="op" id="1699500">&amp;</span><span class="ident" id="1699501">a</span><span class="op" id="1699502">[</span><span class="num" id="1699503">0</span><span class="op" id="1699504">]</span><span class="op" id="1699505">)</span><span class="op" id="1699506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1699511">uintptr</span><span class="op" id="1699518">(</span><span class="builtinfunc" id="1699519">len</span><span class="op" id="1699522">(</span><span class="ident" id="1699523">a</span><span class="op" id="1699524">)</span><span class="op" id="1699525">)</span><span class="op" id="1699526">*</span><span class="ident" id="1699527">unsafe</span><span class="op" id="1699533">.</span><span class="ident" id="1699534">Sizeof</span><span class="op" id="1699540">(</span><span class="ident" id="1699541">a</span><span class="op" id="1699542">[</span><span class="num" id="1699543">0</span><span class="op" id="1699544">]</span><span class="op" id="1699545">)</span><span class="op" id="1699546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699551">getcallerpc</span><span class="op" id="1699562">(</span><span class="ident" id="1699563">unsafe</span><span class="op" id="1699569">.</span><span class="ident" id="1699570">Pointer</span><span class="op" id="1699577">(</span><span class="op" id="1699578">&amp;</span><span class="ident" id="1699579">a</span><span class="op" id="1699580">)</span><span class="op" id="1699581">)</span><span class="op" id="1699582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699587">funcPC</span><span class="op" id="1699593">(</span><span class="ident" id="1699594">slicerunetostring</span><span class="op" id="1699611">)</span><span class="op" id="1699612">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699618">var</span>&nbsp;<span class="ident" id="1699622">dum</span>&nbsp;<span class="op" id="1699626">[</span><span class="num" id="1699627">4</span><span class="op" id="1699628">]</span><span class="builtintype" id="1699629">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699635">size1</span>&nbsp;<span class="op" id="1699641">:=</span>&nbsp;<span class="num" id="1699644">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699647">for</span>&nbsp;<span class="ident" id="1699651">_</span><span class="op" id="1699652">,</span>&nbsp;<span class="ident" id="1699654">r</span>&nbsp;<span class="op" id="1699656">:=</span>&nbsp;<span class="keyword" id="1699659">range</span>&nbsp;<span class="ident" id="1699665">a</span>&nbsp;<span class="op" id="1699667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699671">size1</span>&nbsp;<span class="op" id="1699677">+=</span>&nbsp;<span class="ident" id="1699680">runetochar</span><span class="op" id="1699690">(</span><span class="ident" id="1699691">dum</span><span class="op" id="1699694">[</span><span class="op" id="1699695">:</span><span class="op" id="1699696">]</span><span class="op" id="1699697">,</span>&nbsp;<span class="ident" id="1699699">r</span><span class="op" id="1699700">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699703">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699706">s</span><span class="op" id="1699707">,</span>&nbsp;<span class="ident" id="1699709">b</span>&nbsp;<span class="op" id="1699711">:=</span>&nbsp;<span class="ident" id="1699714">rawstring</span><span class="op" id="1699723">(</span><span class="ident" id="1699724">size1</span>&nbsp;<span class="op" id="1699730">+</span>&nbsp;<span class="num" id="1699732">3</span><span class="op" id="1699733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699736">size2</span>&nbsp;<span class="op" id="1699742">:=</span>&nbsp;<span class="num" id="1699745">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699748">for</span>&nbsp;<span class="ident" id="1699752">_</span><span class="op" id="1699753">,</span>&nbsp;<span class="ident" id="1699755">r</span>&nbsp;<span class="op" id="1699757">:=</span>&nbsp;<span class="keyword" id="1699760">range</span>&nbsp;<span class="ident" id="1699766">a</span>&nbsp;<span class="op" id="1699768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1699772">//&nbsp;check&nbsp;for&nbsp;race</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699792">if</span>&nbsp;<span class="ident" id="1699795">size2</span>&nbsp;<span class="op" id="1699801">&gt;=</span>&nbsp;<span class="ident" id="1699804">size1</span>&nbsp;<span class="op" id="1699810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699815">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699827">size2</span>&nbsp;<span class="op" id="1699833">+=</span>&nbsp;<span class="ident" id="1699836">runetochar</span><span class="op" id="1699846">(</span><span class="ident" id="1699847">b</span><span class="op" id="1699848">[</span><span class="ident" id="1699849">size2</span><span class="op" id="1699854">:</span><span class="op" id="1699855">]</span><span class="op" id="1699856">,</span>&nbsp;<span class="ident" id="1699858">r</span><span class="op" id="1699859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1699862">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1699865">return</span>&nbsp;<span class="ident" id="1699872">s</span><span class="op" id="1699873">[</span><span class="op" id="1699874">:</span><span class="ident" id="1699875">size2</span><span class="op" id="1699880">]</span><br>
<span class="lineno"></span><span class="op" id="1699882">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699885">type</span>&nbsp;<span class="ident" id="1699890">stringStruct</span>&nbsp;<span class="keyword" id="1699903">struct</span>&nbsp;<span class="op" id="1699910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699913">str</span>&nbsp;<span class="ident" id="1699917">unsafe</span><span class="op" id="1699923">.</span><span class="ident" id="1699924">Pointer</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1699933">len</span>&nbsp;<span class="builtintype" id="1699937">int</span><br>
<span class="lineno"></span><span class="op" id="1699941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699944">func</span>&nbsp;<span class="ident" id="1699949">intstring</span><span class="op" id="1699958">(</span><span class="ident" id="1699959">v</span>&nbsp;<span class="ident" id="1699961">int64</span><span class="op" id="1699966">)</span>&nbsp;<span class="builtintype" id="1699968">string</span>&nbsp;<span class="op" id="1699975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1699978">s</span><span class="op" id="1699979">,</span>&nbsp;<span class="ident" id="1699981">b</span>&nbsp;<span class="op" id="1699983">:=</span>&nbsp;<span class="ident" id="1699986">rawstring</span><span class="op" id="1699995">(</span><span class="num" id="1699996">4</span><span class="op" id="1699997">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1700000">n</span>&nbsp;<span class="op" id="1700002">:=</span>&nbsp;<span class="ident" id="1700005">runetochar</span><span class="op" id="1700015">(</span><span class="ident" id="1700016">b</span><span class="op" id="1700017">,</span>&nbsp;<span class="builtintype" id="1700019">rune</span><span class="op" id="1700023">(</span><span class="ident" id="1700024">v</span><span class="op" id="1700025">)</span><span class="op" id="1700026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700029">return</span>&nbsp;<span class="ident" id="1700036">s</span><span class="op" id="1700037">[</span><span class="op" id="1700038">:</span><span class="ident" id="1700039">n</span><span class="op" id="1700040">]</span><br>
<span class="lineno"></span><span class="op" id="1700042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1700045">//&nbsp;stringiter&nbsp;returns&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno">155</span><span class="comment" id="1700089">//&nbsp;rune&nbsp;after&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k].</span><br>
<span class="lineno"></span><span class="keyword" id="1700133">func</span>&nbsp;<span class="ident" id="1700138">stringiter</span><span class="op" id="1700148">(</span><span class="ident" id="1700149">s</span>&nbsp;<span class="builtintype" id="1700151">string</span><span class="op" id="1700157">,</span>&nbsp;<span class="ident" id="1700159">k</span>&nbsp;<span class="builtintype" id="1700161">int</span><span class="op" id="1700164">)</span>&nbsp;<span class="builtintype" id="1700166">int</span>&nbsp;<span class="op" id="1700170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700173">if</span>&nbsp;<span class="ident" id="1700176">k</span>&nbsp;<span class="op" id="1700178">&gt;=</span>&nbsp;<span class="builtinfunc" id="1700181">len</span><span class="op" id="1700184">(</span><span class="ident" id="1700185">s</span><span class="op" id="1700186">)</span>&nbsp;<span class="op" id="1700188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1700192">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700219">return</span>&nbsp;<span class="num" id="1700226">0</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1700229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1700233">c</span>&nbsp;<span class="op" id="1700235">:=</span>&nbsp;<span class="ident" id="1700238">s</span><span class="op" id="1700239">[</span><span class="ident" id="1700240">k</span><span class="op" id="1700241">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700244">if</span>&nbsp;<span class="ident" id="1700247">c</span>&nbsp;<span class="op" id="1700249">&lt;</span>&nbsp;<span class="ident" id="1700251">runeself</span>&nbsp;<span class="op" id="1700260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700264">return</span>&nbsp;<span class="ident" id="1700271">k</span>&nbsp;<span class="op" id="1700273">+</span>&nbsp;<span class="num" id="1700275">1</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1700278">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1700282">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1700302">_</span><span class="op" id="1700303">,</span>&nbsp;<span class="ident" id="1700305">n</span>&nbsp;<span class="op" id="1700307">:=</span>&nbsp;<span class="ident" id="1700310">charntorune</span><span class="op" id="1700321">(</span><span class="ident" id="1700322">s</span><span class="op" id="1700323">[</span><span class="ident" id="1700324">k</span><span class="op" id="1700325">:</span><span class="op" id="1700326">]</span><span class="op" id="1700327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700330">return</span>&nbsp;<span class="ident" id="1700337">k</span>&nbsp;<span class="op" id="1700339">+</span>&nbsp;<span class="ident" id="1700341">n</span><br>
<span class="lineno">170</span><span class="op" id="1700343">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1700346">//&nbsp;stringiter2&nbsp;returns&nbsp;the&nbsp;rune&nbsp;that&nbsp;starts&nbsp;at&nbsp;s[k]</span><br>
<span class="lineno"></span><span class="comment" id="1700398">//&nbsp;and&nbsp;the&nbsp;index&nbsp;where&nbsp;the&nbsp;next&nbsp;rune&nbsp;starts.</span><br>
<span class="lineno"></span><span class="keyword" id="1700443">func</span>&nbsp;<span class="ident" id="1700448">stringiter2</span><span class="op" id="1700459">(</span><span class="ident" id="1700460">s</span>&nbsp;<span class="builtintype" id="1700462">string</span><span class="op" id="1700468">,</span>&nbsp;<span class="ident" id="1700470">k</span>&nbsp;<span class="builtintype" id="1700472">int</span><span class="op" id="1700475">)</span>&nbsp;<span class="op" id="1700477">(</span><span class="builtintype" id="1700478">int</span><span class="op" id="1700481">,</span>&nbsp;<span class="builtintype" id="1700483">rune</span><span class="op" id="1700487">)</span>&nbsp;<span class="op" id="1700489">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700492">if</span>&nbsp;<span class="ident" id="1700495">k</span>&nbsp;<span class="op" id="1700497">&gt;=</span>&nbsp;<span class="builtinfunc" id="1700500">len</span><span class="op" id="1700503">(</span><span class="ident" id="1700504">s</span><span class="op" id="1700505">)</span>&nbsp;<span class="op" id="1700507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1700511">//&nbsp;0&nbsp;is&nbsp;end&nbsp;of&nbsp;iteration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700538">return</span>&nbsp;<span class="num" id="1700545">0</span><span class="op" id="1700546">,</span>&nbsp;<span class="num" id="1700548">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1700551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1700555">c</span>&nbsp;<span class="op" id="1700557">:=</span>&nbsp;<span class="ident" id="1700560">s</span><span class="op" id="1700561">[</span><span class="ident" id="1700562">k</span><span class="op" id="1700563">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700566">if</span>&nbsp;<span class="ident" id="1700569">c</span>&nbsp;<span class="op" id="1700571">&lt;</span>&nbsp;<span class="ident" id="1700573">runeself</span>&nbsp;<span class="op" id="1700582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700586">return</span>&nbsp;<span class="ident" id="1700593">k</span>&nbsp;<span class="op" id="1700595">+</span>&nbsp;<span class="num" id="1700597">1</span><span class="op" id="1700598">,</span>&nbsp;<span class="builtintype" id="1700600">rune</span><span class="op" id="1700604">(</span><span class="ident" id="1700605">c</span><span class="op" id="1700606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1700609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1700613">//&nbsp;multi-char&nbsp;rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1700633">r</span><span class="op" id="1700634">,</span>&nbsp;<span class="ident" id="1700636">n</span>&nbsp;<span class="op" id="1700638">:=</span>&nbsp;<span class="ident" id="1700641">charntorune</span><span class="op" id="1700652">(</span><span class="ident" id="1700653">s</span><span class="op" id="1700654">[</span><span class="ident" id="1700655">k</span><span class="op" id="1700656">:</span><span class="op" id="1700657">]</span><span class="op" id="1700658">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1700661">return</span>&nbsp;<span class="ident" id="1700668">k</span>&nbsp;<span class="op" id="1700670">+</span>&nbsp;<span class="ident" id="1700672">n</span><span class="op" id="1700673">,</span>&nbsp;<span class="ident" id="1700675">r</span><br>
<span class="lineno"></span><span class="op" id="1700677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="1700680">//&nbsp;rawstring&nbsp;allocates&nbsp;storage&nbsp;for&nbsp;a&nbsp;new&nbsp;string.&nbsp;The&nbsp;returned</span><br>
<span class="lineno"></span><span class="comment" id="1700742">//&nbsp;string&nbsp;and&nbsp;byte&nbsp;slice&nbsp;both&nbsp;refer&nbsp;to&nbsp;the&nbsp;same&nbsp;storage.</span><br>
<span class="lineno"></span><span class="comment" id="1700799">//&nbsp;The&nbsp;storage&nbsp;is&nbsp;not&nbsp;zeroed.&nbsp;Callers&nbsp;should&nbsp;use</span><br>
<span class="lineno"></span><span class="comment" id="1700848">//&nbsp;b&nbsp;to&nbsp;set&nbsp;the&nbsp;string&nbsp;contents&nbsp;and&nbsp;then&nbsp;drop&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="1700897">func</span>&nbsp;<span class="ident" id="1700902">rawstring</span><span class="op" id="1700911">(</span><span class="ident" id="1700912">size</span>&nbsp;<span class="builtintype" id="1700917">int</span><span class="op" id="1700920">)</span>&nbsp;<span class="op" id="1700922">(</span><span class="ident" id="1700923">s</span>&nbsp;<span class="builtintype" id="1700925">string</span><span class="op" id="1700931">,</span>&nbsp;<span class="ident" id="1700933">b</span>&nbsp;<span class="op" id="1700935">[</span><span class="op" id="1700936">]</span><span class="builtintype" id="1700937">byte</span><span class="op" id="1700941">)</span>&nbsp;<span class="op" id="1700943">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1700946">p</span>&nbsp;<span class="op" id="1700948">:=</span>&nbsp;<span class="ident" id="1700951">mallocgc</span><span class="op" id="1700959">(</span><span class="builtintype" id="1700960">uintptr</span><span class="op" id="1700967">(</span><span class="ident" id="1700968">size</span><span class="op" id="1700972">)</span><span class="op" id="1700973">,</span>&nbsp;<span class="builtintype" id="1700975">nil</span><span class="op" id="1700978">,</span>&nbsp;<span class="ident" id="1700980">flagNoScan</span><span class="op" id="1700990">|</span><span class="ident" id="1700991">flagNoZero</span><span class="op" id="1701001">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701005">(</span><span class="op" id="1701006">*</span><span class="ident" id="1701007">stringStruct</span><span class="op" id="1701019">)</span><span class="op" id="1701020">(</span><span class="ident" id="1701021">unsafe</span><span class="op" id="1701027">.</span><span class="ident" id="1701028">Pointer</span><span class="op" id="1701035">(</span><span class="op" id="1701036">&amp;</span><span class="ident" id="1701037">s</span><span class="op" id="1701038">)</span><span class="op" id="1701039">)</span><span class="op" id="1701040">.</span><span class="ident" id="1701041">str</span>&nbsp;<span class="op" id="1701045">=</span>&nbsp;<span class="ident" id="1701047">p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701050">(</span><span class="op" id="1701051">*</span><span class="ident" id="1701052">stringStruct</span><span class="op" id="1701064">)</span><span class="op" id="1701065">(</span><span class="ident" id="1701066">unsafe</span><span class="op" id="1701072">.</span><span class="ident" id="1701073">Pointer</span><span class="op" id="1701080">(</span><span class="op" id="1701081">&amp;</span><span class="ident" id="1701082">s</span><span class="op" id="1701083">)</span><span class="op" id="1701084">)</span><span class="op" id="1701085">.</span><span class="builtinfunc" id="1701086">len</span>&nbsp;<span class="op" id="1701090">=</span>&nbsp;<span class="ident" id="1701092">size</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701099">(</span><span class="op" id="1701100">*</span><span class="ident" id="1701101">slice</span><span class="op" id="1701106">)</span><span class="op" id="1701107">(</span><span class="ident" id="1701108">unsafe</span><span class="op" id="1701114">.</span><span class="ident" id="1701115">Pointer</span><span class="op" id="1701122">(</span><span class="op" id="1701123">&amp;</span><span class="ident" id="1701124">b</span><span class="op" id="1701125">)</span><span class="op" id="1701126">)</span><span class="op" id="1701127">.</span><span class="ident" id="1701128">array</span>&nbsp;<span class="op" id="1701134">=</span>&nbsp;<span class="op" id="1701136">(</span><span class="op" id="1701137">*</span><span class="builtintype" id="1701138">uint8</span><span class="op" id="1701143">)</span><span class="op" id="1701144">(</span><span class="ident" id="1701145">p</span><span class="op" id="1701146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701149">(</span><span class="op" id="1701150">*</span><span class="ident" id="1701151">slice</span><span class="op" id="1701156">)</span><span class="op" id="1701157">(</span><span class="ident" id="1701158">unsafe</span><span class="op" id="1701164">.</span><span class="ident" id="1701165">Pointer</span><span class="op" id="1701172">(</span><span class="op" id="1701173">&amp;</span><span class="ident" id="1701174">b</span><span class="op" id="1701175">)</span><span class="op" id="1701176">)</span><span class="op" id="1701177">.</span><span class="builtinfunc" id="1701178">len</span>&nbsp;<span class="op" id="1701182">=</span>&nbsp;<span class="builtintype" id="1701184">uint</span><span class="op" id="1701188">(</span><span class="ident" id="1701189">size</span><span class="op" id="1701193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701196">(</span><span class="op" id="1701197">*</span><span class="ident" id="1701198">slice</span><span class="op" id="1701203">)</span><span class="op" id="1701204">(</span><span class="ident" id="1701205">unsafe</span><span class="op" id="1701211">.</span><span class="ident" id="1701212">Pointer</span><span class="op" id="1701219">(</span><span class="op" id="1701220">&amp;</span><span class="ident" id="1701221">b</span><span class="op" id="1701222">)</span><span class="op" id="1701223">)</span><span class="op" id="1701224">.</span><span class="builtinfunc" id="1701225">cap</span>&nbsp;<span class="op" id="1701229">=</span>&nbsp;<span class="builtintype" id="1701231">uint</span><span class="op" id="1701235">(</span><span class="ident" id="1701236">size</span><span class="op" id="1701240">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1701244">for</span>&nbsp;<span class="op" id="1701248">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1701252">ms</span>&nbsp;<span class="op" id="1701255">:=</span>&nbsp;<span class="ident" id="1701258">maxstring</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1701270">if</span>&nbsp;<span class="builtintype" id="1701273">uintptr</span><span class="op" id="1701280">(</span><span class="ident" id="1701281">size</span><span class="op" id="1701285">)</span>&nbsp;<span class="op" id="1701287">&lt;=</span>&nbsp;<span class="builtintype" id="1701290">uintptr</span><span class="op" id="1701297">(</span><span class="ident" id="1701298">ms</span><span class="op" id="1701300">)</span>&nbsp;<span class="op" id="1701302">||</span>&nbsp;<span class="ident" id="1701305">casuintptr</span><span class="op" id="1701315">(</span><span class="op" id="1701316">(</span><span class="op" id="1701317">*</span><span class="builtintype" id="1701318">uintptr</span><span class="op" id="1701325">)</span><span class="op" id="1701326">(</span><span class="ident" id="1701327">unsafe</span><span class="op" id="1701333">.</span><span class="ident" id="1701334">Pointer</span><span class="op" id="1701341">(</span><span class="op" id="1701342">&amp;</span><span class="ident" id="1701343">maxstring</span><span class="op" id="1701352">)</span><span class="op" id="1701353">)</span><span class="op" id="1701354">,</span>&nbsp;<span class="builtintype" id="1701356">uintptr</span><span class="op" id="1701363">(</span><span class="ident" id="1701364">ms</span><span class="op" id="1701366">)</span><span class="op" id="1701367">,</span>&nbsp;<span class="builtintype" id="1701369">uintptr</span><span class="op" id="1701376">(</span><span class="ident" id="1701377">size</span><span class="op" id="1701381">)</span><span class="op" id="1701382">)</span>&nbsp;<span class="op" id="1701384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1701389">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701401">}</span><br>
<span class="lineno">210</span><span class="op" id="1701403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1701406">//&nbsp;rawbyteslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;byte&nbsp;slice.&nbsp;The&nbsp;byte&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1701480">func</span>&nbsp;<span class="ident" id="1701485">rawbyteslice</span><span class="op" id="1701497">(</span><span class="ident" id="1701498">size</span>&nbsp;<span class="builtintype" id="1701503">int</span><span class="op" id="1701506">)</span>&nbsp;<span class="op" id="1701508">(</span><span class="ident" id="1701509">b</span>&nbsp;<span class="op" id="1701511">[</span><span class="op" id="1701512">]</span><span class="builtintype" id="1701513">byte</span><span class="op" id="1701517">)</span>&nbsp;<span class="op" id="1701519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1701522">cap</span>&nbsp;<span class="op" id="1701526">:=</span>&nbsp;<span class="ident" id="1701529">goroundupsize</span><span class="op" id="1701542">(</span><span class="builtintype" id="1701543">uintptr</span><span class="op" id="1701550">(</span><span class="ident" id="1701551">size</span><span class="op" id="1701555">)</span><span class="op" id="1701556">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1701559">p</span>&nbsp;<span class="op" id="1701561">:=</span>&nbsp;<span class="ident" id="1701564">mallocgc</span><span class="op" id="1701572">(</span><span class="builtinfunc" id="1701573">cap</span><span class="op" id="1701576">,</span>&nbsp;<span class="builtintype" id="1701578">nil</span><span class="op" id="1701581">,</span>&nbsp;<span class="ident" id="1701583">flagNoScan</span><span class="op" id="1701593">|</span><span class="ident" id="1701594">flagNoZero</span><span class="op" id="1701604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1701607">if</span>&nbsp;<span class="builtinfunc" id="1701610">cap</span>&nbsp;<span class="op" id="1701614">!=</span>&nbsp;<span class="builtintype" id="1701617">uintptr</span><span class="op" id="1701624">(</span><span class="ident" id="1701625">size</span><span class="op" id="1701629">)</span>&nbsp;<span class="op" id="1701631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1701635">memclr</span><span class="op" id="1701641">(</span><span class="ident" id="1701642">add</span><span class="op" id="1701645">(</span><span class="ident" id="1701646">p</span><span class="op" id="1701647">,</span>&nbsp;<span class="builtintype" id="1701649">uintptr</span><span class="op" id="1701656">(</span><span class="ident" id="1701657">size</span><span class="op" id="1701661">)</span><span class="op" id="1701662">)</span><span class="op" id="1701663">,</span>&nbsp;<span class="builtinfunc" id="1701665">cap</span><span class="op" id="1701668">-</span><span class="builtintype" id="1701669">uintptr</span><span class="op" id="1701676">(</span><span class="ident" id="1701677">size</span><span class="op" id="1701681">)</span><span class="op" id="1701682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701689">(</span><span class="op" id="1701690">*</span><span class="ident" id="1701691">slice</span><span class="op" id="1701696">)</span><span class="op" id="1701697">(</span><span class="ident" id="1701698">unsafe</span><span class="op" id="1701704">.</span><span class="ident" id="1701705">Pointer</span><span class="op" id="1701712">(</span><span class="op" id="1701713">&amp;</span><span class="ident" id="1701714">b</span><span class="op" id="1701715">)</span><span class="op" id="1701716">)</span><span class="op" id="1701717">.</span><span class="ident" id="1701718">array</span>&nbsp;<span class="op" id="1701724">=</span>&nbsp;<span class="op" id="1701726">(</span><span class="op" id="1701727">*</span><span class="builtintype" id="1701728">uint8</span><span class="op" id="1701733">)</span><span class="op" id="1701734">(</span><span class="ident" id="1701735">p</span><span class="op" id="1701736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701739">(</span><span class="op" id="1701740">*</span><span class="ident" id="1701741">slice</span><span class="op" id="1701746">)</span><span class="op" id="1701747">(</span><span class="ident" id="1701748">unsafe</span><span class="op" id="1701754">.</span><span class="ident" id="1701755">Pointer</span><span class="op" id="1701762">(</span><span class="op" id="1701763">&amp;</span><span class="ident" id="1701764">b</span><span class="op" id="1701765">)</span><span class="op" id="1701766">)</span><span class="op" id="1701767">.</span><span class="builtinfunc" id="1701768">len</span>&nbsp;<span class="op" id="1701772">=</span>&nbsp;<span class="builtintype" id="1701774">uint</span><span class="op" id="1701778">(</span><span class="ident" id="1701779">size</span><span class="op" id="1701783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1701786">(</span><span class="op" id="1701787">*</span><span class="ident" id="1701788">slice</span><span class="op" id="1701793">)</span><span class="op" id="1701794">(</span><span class="ident" id="1701795">unsafe</span><span class="op" id="1701801">.</span><span class="ident" id="1701802">Pointer</span><span class="op" id="1701809">(</span><span class="op" id="1701810">&amp;</span><span class="ident" id="1701811">b</span><span class="op" id="1701812">)</span><span class="op" id="1701813">)</span><span class="op" id="1701814">.</span><span class="builtinfunc" id="1701815">cap</span>&nbsp;<span class="op" id="1701819">=</span>&nbsp;<span class="builtintype" id="1701821">uint</span><span class="op" id="1701825">(</span><span class="builtinfunc" id="1701826">cap</span><span class="op" id="1701829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1701832">return</span><br>
<span class="lineno"></span><span class="op" id="1701839">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="comment" id="1701842">//&nbsp;rawruneslice&nbsp;allocates&nbsp;a&nbsp;new&nbsp;rune&nbsp;slice.&nbsp;The&nbsp;rune&nbsp;slice&nbsp;is&nbsp;not&nbsp;zeroed.</span><br>
<span class="lineno"></span><span class="keyword" id="1701916">func</span>&nbsp;<span class="ident" id="1701921">rawruneslice</span><span class="op" id="1701933">(</span><span class="ident" id="1701934">size</span>&nbsp;<span class="builtintype" id="1701939">int</span><span class="op" id="1701942">)</span>&nbsp;<span class="op" id="1701944">(</span><span class="ident" id="1701945">b</span>&nbsp;<span class="op" id="1701947">[</span><span class="op" id="1701948">]</span><span class="builtintype" id="1701949">rune</span><span class="op" id="1701953">)</span>&nbsp;<span class="op" id="1701955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1701958">if</span>&nbsp;<span class="builtintype" id="1701961">uintptr</span><span class="op" id="1701968">(</span><span class="ident" id="1701969">size</span><span class="op" id="1701973">)</span>&nbsp;<span class="op" id="1701975">&gt;</span>&nbsp;<span class="ident" id="1701977">maxmem</span><span class="op" id="1701983">/</span><span class="num" id="1701984">4</span>&nbsp;<span class="op" id="1701986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1701990">gothrow</span><span class="op" id="1701997">(</span><span class="string" id="1701998">&#34;out&nbsp;of&nbsp;memory&#34;</span><span class="op" id="1702013">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702019">mem</span>&nbsp;<span class="op" id="1702023">:=</span>&nbsp;<span class="ident" id="1702026">goroundupsize</span><span class="op" id="1702039">(</span><span class="builtintype" id="1702040">uintptr</span><span class="op" id="1702047">(</span><span class="ident" id="1702048">size</span><span class="op" id="1702052">)</span>&nbsp;<span class="op" id="1702054">*</span>&nbsp;<span class="num" id="1702056">4</span><span class="op" id="1702057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702060">p</span>&nbsp;<span class="op" id="1702062">:=</span>&nbsp;<span class="ident" id="1702065">mallocgc</span><span class="op" id="1702073">(</span><span class="ident" id="1702074">mem</span><span class="op" id="1702077">,</span>&nbsp;<span class="builtintype" id="1702079">nil</span><span class="op" id="1702082">,</span>&nbsp;<span class="ident" id="1702084">flagNoScan</span><span class="op" id="1702094">|</span><span class="ident" id="1702095">flagNoZero</span><span class="op" id="1702105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702108">if</span>&nbsp;<span class="ident" id="1702111">mem</span>&nbsp;<span class="op" id="1702115">!=</span>&nbsp;<span class="builtintype" id="1702118">uintptr</span><span class="op" id="1702125">(</span><span class="ident" id="1702126">size</span><span class="op" id="1702130">)</span><span class="op" id="1702131">*</span><span class="num" id="1702132">4</span>&nbsp;<span class="op" id="1702134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702138">memclr</span><span class="op" id="1702144">(</span><span class="ident" id="1702145">add</span><span class="op" id="1702148">(</span><span class="ident" id="1702149">p</span><span class="op" id="1702150">,</span>&nbsp;<span class="builtintype" id="1702152">uintptr</span><span class="op" id="1702159">(</span><span class="ident" id="1702160">size</span><span class="op" id="1702164">)</span><span class="op" id="1702165">*</span><span class="num" id="1702166">4</span><span class="op" id="1702167">)</span><span class="op" id="1702168">,</span>&nbsp;<span class="ident" id="1702170">mem</span><span class="op" id="1702173">-</span><span class="builtintype" id="1702174">uintptr</span><span class="op" id="1702181">(</span><span class="ident" id="1702182">size</span><span class="op" id="1702186">)</span><span class="op" id="1702187">*</span><span class="num" id="1702188">4</span><span class="op" id="1702189">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702196">(</span><span class="op" id="1702197">*</span><span class="ident" id="1702198">slice</span><span class="op" id="1702203">)</span><span class="op" id="1702204">(</span><span class="ident" id="1702205">unsafe</span><span class="op" id="1702211">.</span><span class="ident" id="1702212">Pointer</span><span class="op" id="1702219">(</span><span class="op" id="1702220">&amp;</span><span class="ident" id="1702221">b</span><span class="op" id="1702222">)</span><span class="op" id="1702223">)</span><span class="op" id="1702224">.</span><span class="ident" id="1702225">array</span>&nbsp;<span class="op" id="1702231">=</span>&nbsp;<span class="op" id="1702233">(</span><span class="op" id="1702234">*</span><span class="builtintype" id="1702235">uint8</span><span class="op" id="1702240">)</span><span class="op" id="1702241">(</span><span class="ident" id="1702242">p</span><span class="op" id="1702243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702246">(</span><span class="op" id="1702247">*</span><span class="ident" id="1702248">slice</span><span class="op" id="1702253">)</span><span class="op" id="1702254">(</span><span class="ident" id="1702255">unsafe</span><span class="op" id="1702261">.</span><span class="ident" id="1702262">Pointer</span><span class="op" id="1702269">(</span><span class="op" id="1702270">&amp;</span><span class="ident" id="1702271">b</span><span class="op" id="1702272">)</span><span class="op" id="1702273">)</span><span class="op" id="1702274">.</span><span class="builtinfunc" id="1702275">len</span>&nbsp;<span class="op" id="1702279">=</span>&nbsp;<span class="builtintype" id="1702281">uint</span><span class="op" id="1702285">(</span><span class="ident" id="1702286">size</span><span class="op" id="1702290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702293">(</span><span class="op" id="1702294">*</span><span class="ident" id="1702295">slice</span><span class="op" id="1702300">)</span><span class="op" id="1702301">(</span><span class="ident" id="1702302">unsafe</span><span class="op" id="1702308">.</span><span class="ident" id="1702309">Pointer</span><span class="op" id="1702316">(</span><span class="op" id="1702317">&amp;</span><span class="ident" id="1702318">b</span><span class="op" id="1702319">)</span><span class="op" id="1702320">)</span><span class="op" id="1702321">.</span><span class="builtinfunc" id="1702322">cap</span>&nbsp;<span class="op" id="1702326">=</span>&nbsp;<span class="builtintype" id="1702328">uint</span><span class="op" id="1702332">(</span><span class="ident" id="1702333">mem</span>&nbsp;<span class="op" id="1702337">/</span>&nbsp;<span class="num" id="1702339">4</span><span class="op" id="1702340">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702343">return</span><br>
<span class="lineno"></span><span class="op" id="1702350">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702353">//&nbsp;used&nbsp;by&nbsp;cmd/cgo</span><br>
<span class="lineno"></span><span class="keyword" id="1702372">func</span>&nbsp;<span class="ident" id="1702377">gobytes</span><span class="op" id="1702384">(</span><span class="ident" id="1702385">p</span>&nbsp;<span class="op" id="1702387">*</span><span class="builtintype" id="1702388">byte</span><span class="op" id="1702392">,</span>&nbsp;<span class="ident" id="1702394">n</span>&nbsp;<span class="builtintype" id="1702396">int</span><span class="op" id="1702399">)</span>&nbsp;<span class="op" id="1702401">[</span><span class="op" id="1702402">]</span><span class="builtintype" id="1702403">byte</span>&nbsp;<span class="op" id="1702408">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702411">if</span>&nbsp;<span class="ident" id="1702414">n</span>&nbsp;<span class="op" id="1702416">==</span>&nbsp;<span class="num" id="1702419">0</span>&nbsp;<span class="op" id="1702421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702425">return</span>&nbsp;<span class="builtinfunc" id="1702432">make</span><span class="op" id="1702436">(</span><span class="op" id="1702437">[</span><span class="op" id="1702438">]</span><span class="builtintype" id="1702439">byte</span><span class="op" id="1702443">,</span>&nbsp;<span class="num" id="1702445">0</span><span class="op" id="1702446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702452">x</span>&nbsp;<span class="op" id="1702454">:=</span>&nbsp;<span class="builtinfunc" id="1702457">make</span><span class="op" id="1702461">(</span><span class="op" id="1702462">[</span><span class="op" id="1702463">]</span><span class="builtintype" id="1702464">byte</span><span class="op" id="1702468">,</span>&nbsp;<span class="ident" id="1702470">n</span><span class="op" id="1702471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702474">memmove</span><span class="op" id="1702481">(</span><span class="ident" id="1702482">unsafe</span><span class="op" id="1702488">.</span><span class="ident" id="1702489">Pointer</span><span class="op" id="1702496">(</span><span class="op" id="1702497">&amp;</span><span class="ident" id="1702498">x</span><span class="op" id="1702499">[</span><span class="num" id="1702500">0</span><span class="op" id="1702501">]</span><span class="op" id="1702502">)</span><span class="op" id="1702503">,</span>&nbsp;<span class="ident" id="1702505">unsafe</span><span class="op" id="1702511">.</span><span class="ident" id="1702512">Pointer</span><span class="op" id="1702519">(</span><span class="ident" id="1702520">p</span><span class="op" id="1702521">)</span><span class="op" id="1702522">,</span>&nbsp;<span class="builtintype" id="1702524">uintptr</span><span class="op" id="1702531">(</span><span class="ident" id="1702532">n</span><span class="op" id="1702533">)</span><span class="op" id="1702534">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702537">return</span>&nbsp;<span class="ident" id="1702544">x</span><br>
<span class="lineno"></span><span class="op" id="1702546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1702549">func</span>&nbsp;<span class="ident" id="1702554">gostringsize</span><span class="op" id="1702566">(</span><span class="ident" id="1702567">n</span>&nbsp;<span class="builtintype" id="1702569">int</span><span class="op" id="1702572">)</span>&nbsp;<span class="builtintype" id="1702574">string</span>&nbsp;<span class="op" id="1702581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702584">s</span><span class="op" id="1702585">,</span>&nbsp;<span class="ident" id="1702587">_</span>&nbsp;<span class="op" id="1702589">:=</span>&nbsp;<span class="ident" id="1702592">rawstring</span><span class="op" id="1702601">(</span><span class="ident" id="1702602">n</span><span class="op" id="1702603">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702606">return</span>&nbsp;<span class="ident" id="1702613">s</span><br>
<span class="lineno"></span><span class="op" id="1702615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702618">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1702632">func</span>&nbsp;<span class="ident" id="1702637">findnull</span><span class="op" id="1702645">(</span><span class="op" id="1702646">*</span><span class="builtintype" id="1702647">byte</span><span class="op" id="1702651">)</span>&nbsp;<span class="builtintype" id="1702653">int</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="1702658">func</span>&nbsp;<span class="ident" id="1702663">gostring</span><span class="op" id="1702671">(</span><span class="ident" id="1702672">p</span>&nbsp;<span class="op" id="1702674">*</span><span class="builtintype" id="1702675">byte</span><span class="op" id="1702679">)</span>&nbsp;<span class="builtintype" id="1702681">string</span>&nbsp;<span class="op" id="1702688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702691">l</span>&nbsp;<span class="op" id="1702693">:=</span>&nbsp;<span class="ident" id="1702696">findnull</span><span class="op" id="1702704">(</span><span class="ident" id="1702705">p</span><span class="op" id="1702706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702709">if</span>&nbsp;<span class="ident" id="1702712">l</span>&nbsp;<span class="op" id="1702714">==</span>&nbsp;<span class="num" id="1702717">0</span>&nbsp;<span class="op" id="1702719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702723">return</span>&nbsp;<span class="string" id="1702730">&#34;&#34;</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702737">s</span><span class="op" id="1702738">,</span>&nbsp;<span class="ident" id="1702740">b</span>&nbsp;<span class="op" id="1702742">:=</span>&nbsp;<span class="ident" id="1702745">rawstring</span><span class="op" id="1702754">(</span><span class="ident" id="1702755">l</span><span class="op" id="1702756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702759">memmove</span><span class="op" id="1702766">(</span><span class="ident" id="1702767">unsafe</span><span class="op" id="1702773">.</span><span class="ident" id="1702774">Pointer</span><span class="op" id="1702781">(</span><span class="op" id="1702782">&amp;</span><span class="ident" id="1702783">b</span><span class="op" id="1702784">[</span><span class="num" id="1702785">0</span><span class="op" id="1702786">]</span><span class="op" id="1702787">)</span><span class="op" id="1702788">,</span>&nbsp;<span class="ident" id="1702790">unsafe</span><span class="op" id="1702796">.</span><span class="ident" id="1702797">Pointer</span><span class="op" id="1702804">(</span><span class="ident" id="1702805">p</span><span class="op" id="1702806">)</span><span class="op" id="1702807">,</span>&nbsp;<span class="builtintype" id="1702809">uintptr</span><span class="op" id="1702816">(</span><span class="ident" id="1702817">l</span><span class="op" id="1702818">)</span><span class="op" id="1702819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702822">return</span>&nbsp;<span class="ident" id="1702829">s</span><br>
<span class="lineno"></span><span class="op" id="1702831">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="1702834">func</span>&nbsp;<span class="ident" id="1702839">gostringn</span><span class="op" id="1702848">(</span><span class="ident" id="1702849">p</span>&nbsp;<span class="op" id="1702851">*</span><span class="builtintype" id="1702852">byte</span><span class="op" id="1702856">,</span>&nbsp;<span class="ident" id="1702858">l</span>&nbsp;<span class="builtintype" id="1702860">int</span><span class="op" id="1702863">)</span>&nbsp;<span class="builtintype" id="1702865">string</span>&nbsp;<span class="op" id="1702872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702875">if</span>&nbsp;<span class="ident" id="1702878">l</span>&nbsp;<span class="op" id="1702880">==</span>&nbsp;<span class="num" id="1702883">0</span>&nbsp;<span class="op" id="1702885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702889">return</span>&nbsp;<span class="string" id="1702896">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1702900">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702903">s</span><span class="op" id="1702904">,</span>&nbsp;<span class="ident" id="1702906">b</span>&nbsp;<span class="op" id="1702908">:=</span>&nbsp;<span class="ident" id="1702911">rawstring</span><span class="op" id="1702920">(</span><span class="ident" id="1702921">l</span><span class="op" id="1702922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1702925">memmove</span><span class="op" id="1702932">(</span><span class="ident" id="1702933">unsafe</span><span class="op" id="1702939">.</span><span class="ident" id="1702940">Pointer</span><span class="op" id="1702947">(</span><span class="op" id="1702948">&amp;</span><span class="ident" id="1702949">b</span><span class="op" id="1702950">[</span><span class="num" id="1702951">0</span><span class="op" id="1702952">]</span><span class="op" id="1702953">)</span><span class="op" id="1702954">,</span>&nbsp;<span class="ident" id="1702956">unsafe</span><span class="op" id="1702962">.</span><span class="ident" id="1702963">Pointer</span><span class="op" id="1702970">(</span><span class="ident" id="1702971">p</span><span class="op" id="1702972">)</span><span class="op" id="1702973">,</span>&nbsp;<span class="builtintype" id="1702975">uintptr</span><span class="op" id="1702982">(</span><span class="ident" id="1702983">l</span><span class="op" id="1702984">)</span><span class="op" id="1702985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1702988">return</span>&nbsp;<span class="ident" id="1702995">s</span><br>
<span class="lineno"></span><span class="op" id="1702997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="1703000">func</span>&nbsp;<span class="ident" id="1703005">index</span><span class="op" id="1703010">(</span><span class="ident" id="1703011">s</span><span class="op" id="1703012">,</span>&nbsp;<span class="ident" id="1703014">t</span>&nbsp;<span class="builtintype" id="1703016">string</span><span class="op" id="1703022">)</span>&nbsp;<span class="builtintype" id="1703024">int</span>&nbsp;<span class="op" id="1703028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703031">if</span>&nbsp;<span class="builtinfunc" id="1703034">len</span><span class="op" id="1703037">(</span><span class="ident" id="1703038">t</span><span class="op" id="1703039">)</span>&nbsp;<span class="op" id="1703041">==</span>&nbsp;<span class="num" id="1703044">0</span>&nbsp;<span class="op" id="1703046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703050">return</span>&nbsp;<span class="num" id="1703057">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1703060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703063">for</span>&nbsp;<span class="ident" id="1703067">i</span>&nbsp;<span class="op" id="1703069">:=</span>&nbsp;<span class="num" id="1703072">0</span><span class="op" id="1703073">;</span>&nbsp;<span class="ident" id="1703075">i</span>&nbsp;<span class="op" id="1703077">&lt;</span>&nbsp;<span class="builtinfunc" id="1703079">len</span><span class="op" id="1703082">(</span><span class="ident" id="1703083">s</span><span class="op" id="1703084">)</span><span class="op" id="1703085">;</span>&nbsp;<span class="ident" id="1703087">i</span><span class="op" id="1703088">++</span>&nbsp;<span class="op" id="1703091">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703095">if</span>&nbsp;<span class="ident" id="1703098">s</span><span class="op" id="1703099">[</span><span class="ident" id="1703100">i</span><span class="op" id="1703101">]</span>&nbsp;<span class="op" id="1703103">==</span>&nbsp;<span class="ident" id="1703106">t</span><span class="op" id="1703107">[</span><span class="num" id="1703108">0</span><span class="op" id="1703109">]</span>&nbsp;<span class="op" id="1703111">&amp;&amp;</span>&nbsp;<span class="ident" id="1703114">hasprefix</span><span class="op" id="1703123">(</span><span class="ident" id="1703124">s</span><span class="op" id="1703125">[</span><span class="ident" id="1703126">i</span><span class="op" id="1703127">:</span><span class="op" id="1703128">]</span><span class="op" id="1703129">,</span>&nbsp;<span class="ident" id="1703131">t</span><span class="op" id="1703132">)</span>&nbsp;<span class="op" id="1703134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703139">return</span>&nbsp;<span class="ident" id="1703146">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1703150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1703153">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703156">return</span>&nbsp;<span class="op" id="1703163">-</span><span class="num" id="1703164">1</span><br>
<span class="lineno">290</span><span class="op" id="1703166">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1703169">func</span>&nbsp;<span class="ident" id="1703174">contains</span><span class="op" id="1703182">(</span><span class="ident" id="1703183">s</span><span class="op" id="1703184">,</span>&nbsp;<span class="ident" id="1703186">t</span>&nbsp;<span class="builtintype" id="1703188">string</span><span class="op" id="1703194">)</span>&nbsp;<span class="builtintype" id="1703196">bool</span>&nbsp;<span class="op" id="1703201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703204">return</span>&nbsp;<span class="ident" id="1703211">index</span><span class="op" id="1703216">(</span><span class="ident" id="1703217">s</span><span class="op" id="1703218">,</span>&nbsp;<span class="ident" id="1703220">t</span><span class="op" id="1703221">)</span>&nbsp;<span class="op" id="1703223">&gt;=</span>&nbsp;<span class="num" id="1703226">0</span><br>
<span class="lineno"></span><span class="op" id="1703228">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="1703231">func</span>&nbsp;<span class="ident" id="1703236">hasprefix</span><span class="op" id="1703245">(</span><span class="ident" id="1703246">s</span><span class="op" id="1703247">,</span>&nbsp;<span class="ident" id="1703249">t</span>&nbsp;<span class="builtintype" id="1703251">string</span><span class="op" id="1703257">)</span>&nbsp;<span class="builtintype" id="1703259">bool</span>&nbsp;<span class="op" id="1703264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1703267">return</span>&nbsp;<span class="builtinfunc" id="1703274">len</span><span class="op" id="1703277">(</span><span class="ident" id="1703278">s</span><span class="op" id="1703279">)</span>&nbsp;<span class="op" id="1703281">&gt;=</span>&nbsp;<span class="builtinfunc" id="1703284">len</span><span class="op" id="1703287">(</span><span class="ident" id="1703288">t</span><span class="op" id="1703289">)</span>&nbsp;<span class="op" id="1703291">&amp;&amp;</span>&nbsp;<span class="ident" id="1703294">s</span><span class="op" id="1703295">[</span><span class="op" id="1703296">:</span><span class="builtinfunc" id="1703297">len</span><span class="op" id="1703300">(</span><span class="ident" id="1703301">t</span><span class="op" id="1703302">)</span><span class="op" id="1703303">]</span>&nbsp;<span class="op" id="1703305">==</span>&nbsp;<span class="ident" id="1703308">t</span><br>
<span class="lineno"></span><span class="op" id="1703310">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
