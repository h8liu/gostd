<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html" class="current">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8081109">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8081164">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8081218">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8081269">package</span>&nbsp;<span class="ident" id="8081277">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8081282">import</span>&nbsp;<span class="op" id="8081289">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081292">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081301">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081311">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081318">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081324">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081335">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081346">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081357">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8081368">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8081375">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8081378">type</span>&nbsp;<span class="ident" id="8081383">DriveType</span>&nbsp;<span class="builtintype" id="8081393">int</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="8081398">const</span>&nbsp;<span class="op" id="8081404">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081407">HyperDrive</span>&nbsp;<span class="ident" id="8081418">DriveType</span>&nbsp;<span class="op" id="8081428">=</span>&nbsp;<span class="ident" id="8081430">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081436">ImprobabilityDrive</span><br>
<span class="lineno"></span><span class="op" id="8081455">)</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="8081458">type</span>&nbsp;<span class="ident" id="8081463">Passenger</span>&nbsp;<span class="keyword" id="8081473">struct</span>&nbsp;<span class="op" id="8081480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081483">Name</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8081490">[</span><span class="op" id="8081491">]</span><span class="builtintype" id="8081492">string</span>&nbsp;<span class="string" id="8081499">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081513">Weight</span>&nbsp;<span class="builtintype" id="8081520">float32</span>&nbsp;&nbsp;<span class="string" id="8081529">`xml:&#34;weight&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8081544">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="8081547">type</span>&nbsp;<span class="ident" id="8081552">Ship</span>&nbsp;<span class="keyword" id="8081557">struct</span>&nbsp;<span class="op" id="8081564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081567">XMLName</span>&nbsp;<span class="keyword" id="8081575">struct</span><span class="op" id="8081581">{</span><span class="op" id="8081582">}</span>&nbsp;<span class="string" id="8081584">`xml:&#34;spaceship&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081604">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8081614">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8081627">`xml:&#34;name,attr&#34;`</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081646">Pilot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8081656">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8081669">`xml:&#34;pilot,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081689">Drive</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8081699">DriveType</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8081712">`xml:&#34;drive&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081727">Age</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8081737">uint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8081750">`xml:&#34;age&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081763">Passenger</span>&nbsp;<span class="op" id="8081773">[</span><span class="op" id="8081774">]</span><span class="op" id="8081775">*</span><span class="ident" id="8081776">Passenger</span>&nbsp;<span class="string" id="8081786">`xml:&#34;passenger&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081805">secret</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8081815">string</span><br>
<span class="lineno">40</span><span class="op" id="8081822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8081825">type</span>&nbsp;<span class="ident" id="8081830">NamedType</span>&nbsp;<span class="builtintype" id="8081840">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8081848">type</span>&nbsp;<span class="ident" id="8081853">Port</span>&nbsp;<span class="keyword" id="8081858">struct</span>&nbsp;<span class="op" id="8081865">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081868">XMLName</span>&nbsp;<span class="keyword" id="8081876">struct</span><span class="op" id="8081882">{</span><span class="op" id="8081883">}</span>&nbsp;<span class="string" id="8081885">`xml:&#34;port&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081899">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8081907">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8081916">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081945">Comment</span>&nbsp;<span class="builtintype" id="8081953">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8081962">`xml:&#34;,comment&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8081980">Number</span>&nbsp;&nbsp;<span class="builtintype" id="8081988">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8081997">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082015">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="8082018">type</span>&nbsp;<span class="ident" id="8082023">Domain</span>&nbsp;<span class="keyword" id="8082030">struct</span>&nbsp;<span class="op" id="8082037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082040">XMLName</span>&nbsp;<span class="keyword" id="8082048">struct</span><span class="op" id="8082054">{</span><span class="op" id="8082055">}</span>&nbsp;<span class="string" id="8082057">`xml:&#34;domain&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082073">Country</span>&nbsp;<span class="builtintype" id="8082081">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8082090">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082115">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8082123">[</span><span class="op" id="8082124">]</span><span class="builtintype" id="8082125">byte</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8082132">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082151">Comment</span>&nbsp;<span class="op" id="8082159">[</span><span class="op" id="8082160">]</span><span class="builtintype" id="8082161">byte</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8082168">`xml:&#34;,comment&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082185">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082188">type</span>&nbsp;<span class="ident" id="8082193">Book</span>&nbsp;<span class="keyword" id="8082198">struct</span>&nbsp;<span class="op" id="8082205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082208">XMLName</span>&nbsp;<span class="keyword" id="8082216">struct</span><span class="op" id="8082222">{</span><span class="op" id="8082223">}</span>&nbsp;<span class="string" id="8082225">`xml:&#34;book&#34;`</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082239">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8082247">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8082256">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082277">type</span>&nbsp;<span class="ident" id="8082282">Event</span>&nbsp;<span class="keyword" id="8082288">struct</span>&nbsp;<span class="op" id="8082295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082298">XMLName</span>&nbsp;<span class="keyword" id="8082306">struct</span><span class="op" id="8082312">{</span><span class="op" id="8082313">}</span>&nbsp;<span class="string" id="8082315">`xml:&#34;event&#34;`</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082330">Year</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8082338">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8082347">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082368">type</span>&nbsp;<span class="ident" id="8082373">Movie</span>&nbsp;<span class="keyword" id="8082379">struct</span>&nbsp;<span class="op" id="8082386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082389">XMLName</span>&nbsp;<span class="keyword" id="8082397">struct</span><span class="op" id="8082403">{</span><span class="op" id="8082404">}</span>&nbsp;<span class="string" id="8082406">`xml:&#34;movie&#34;`</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082421">Length</span>&nbsp;&nbsp;<span class="builtintype" id="8082429">uint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8082438">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082459">type</span>&nbsp;<span class="ident" id="8082464">Pi</span>&nbsp;<span class="keyword" id="8082467">struct</span>&nbsp;<span class="op" id="8082474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082477">XMLName</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8082491">struct</span><span class="op" id="8082497">{</span><span class="op" id="8082498">}</span>&nbsp;<span class="string" id="8082500">`xml:&#34;pi&#34;`</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082512">Approximation</span>&nbsp;<span class="builtintype" id="8082526">float32</span>&nbsp;&nbsp;<span class="string" id="8082535">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082553">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082556">type</span>&nbsp;<span class="ident" id="8082561">Universe</span>&nbsp;<span class="keyword" id="8082570">struct</span>&nbsp;<span class="op" id="8082577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082580">XMLName</span>&nbsp;<span class="keyword" id="8082588">struct</span><span class="op" id="8082594">{</span><span class="op" id="8082595">}</span>&nbsp;<span class="string" id="8082597">`xml:&#34;universe&#34;`</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082615">Visible</span>&nbsp;<span class="builtintype" id="8082623">float64</span>&nbsp;&nbsp;<span class="string" id="8082632">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082653">type</span>&nbsp;<span class="ident" id="8082658">Particle</span>&nbsp;<span class="keyword" id="8082667">struct</span>&nbsp;<span class="op" id="8082674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082677">XMLName</span>&nbsp;<span class="keyword" id="8082685">struct</span><span class="op" id="8082691">{</span><span class="op" id="8082692">}</span>&nbsp;<span class="string" id="8082694">`xml:&#34;particle&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082712">HasMass</span>&nbsp;<span class="builtintype" id="8082720">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8082729">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082750">type</span>&nbsp;<span class="ident" id="8082755">Departure</span>&nbsp;<span class="keyword" id="8082765">struct</span>&nbsp;<span class="op" id="8082772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082775">XMLName</span>&nbsp;<span class="keyword" id="8082783">struct</span><span class="op" id="8082789">{</span><span class="op" id="8082790">}</span>&nbsp;&nbsp;<span class="string" id="8082793">`xml:&#34;departure&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082812">When</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8082820">time</span><span class="op" id="8082824">.</span><span class="ident" id="8082825">Time</span>&nbsp;<span class="string" id="8082830">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8082848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8082851">type</span>&nbsp;<span class="ident" id="8082856">SecretAgent</span>&nbsp;<span class="keyword" id="8082868">struct</span>&nbsp;<span class="op" id="8082875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082878">XMLName</span>&nbsp;&nbsp;&nbsp;<span class="keyword" id="8082888">struct</span><span class="op" id="8082894">{</span><span class="op" id="8082895">}</span>&nbsp;<span class="string" id="8082897">`xml:&#34;agent&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082912">Handle</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8082922">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8082931">`xml:&#34;handle,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082952">Identity</span>&nbsp;&nbsp;<span class="builtintype" id="8082962">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8082970">Obfuscate</span>&nbsp;<span class="builtintype" id="8082980">string</span>&nbsp;<span class="string" id="8082987">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8083005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8083008">type</span>&nbsp;<span class="ident" id="8083013">NestedItems</span>&nbsp;<span class="keyword" id="8083025">struct</span>&nbsp;<span class="op" id="8083032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083035">XMLName</span>&nbsp;<span class="keyword" id="8083043">struct</span><span class="op" id="8083049">{</span><span class="op" id="8083050">}</span>&nbsp;<span class="string" id="8083052">`xml:&#34;result&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083068">Items</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8083076">[</span><span class="op" id="8083077">]</span><span class="builtintype" id="8083078">string</span>&nbsp;<span class="string" id="8083085">`xml:&#34;&gt;item&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083100">Item1</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8083108">[</span><span class="op" id="8083109">]</span><span class="builtintype" id="8083110">string</span>&nbsp;<span class="string" id="8083117">`xml:&#34;Items&gt;item1&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8083137">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="8083140">type</span>&nbsp;<span class="ident" id="8083145">NestedOrder</span>&nbsp;<span class="keyword" id="8083157">struct</span>&nbsp;<span class="op" id="8083164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083167">XMLName</span>&nbsp;<span class="keyword" id="8083175">struct</span><span class="op" id="8083181">{</span><span class="op" id="8083182">}</span>&nbsp;<span class="string" id="8083184">`xml:&#34;result&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083200">Field1</span>&nbsp;&nbsp;<span class="builtintype" id="8083208">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8083217">`xml:&#34;parent&gt;c&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083235">Field2</span>&nbsp;&nbsp;<span class="builtintype" id="8083243">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8083252">`xml:&#34;parent&gt;b&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083270">Field3</span>&nbsp;&nbsp;<span class="builtintype" id="8083278">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8083287">`xml:&#34;parent&gt;a&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8083304">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8083307">type</span>&nbsp;<span class="ident" id="8083312">MixedNested</span>&nbsp;<span class="keyword" id="8083324">struct</span>&nbsp;<span class="op" id="8083331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083334">XMLName</span>&nbsp;<span class="keyword" id="8083342">struct</span><span class="op" id="8083348">{</span><span class="op" id="8083349">}</span>&nbsp;<span class="string" id="8083351">`xml:&#34;result&#34;`</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083367">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8083375">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8083384">`xml:&#34;parent1&gt;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083403">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8083411">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8083420">`xml:&#34;b&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083431">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8083439">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8083448">`xml:&#34;parent1&gt;parent2&gt;c&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083475">D</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8083483">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8083492">`xml:&#34;parent1&gt;d&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8083510">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="keyword" id="8083513">type</span>&nbsp;<span class="ident" id="8083518">NilTest</span>&nbsp;<span class="keyword" id="8083526">struct</span>&nbsp;<span class="op" id="8083533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083536">A</span>&nbsp;<span class="keyword" id="8083538">interface</span><span class="op" id="8083547">{</span><span class="op" id="8083548">}</span>&nbsp;<span class="string" id="8083550">`xml:&#34;parent1&gt;parent2&gt;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083577">B</span>&nbsp;<span class="keyword" id="8083579">interface</span><span class="op" id="8083588">{</span><span class="op" id="8083589">}</span>&nbsp;<span class="string" id="8083591">`xml:&#34;parent1&gt;b&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083610">C</span>&nbsp;<span class="keyword" id="8083612">interface</span><span class="op" id="8083621">{</span><span class="op" id="8083622">}</span>&nbsp;<span class="string" id="8083624">`xml:&#34;parent1&gt;parent2&gt;c&#34;`</span><br>
<span class="lineno">125</span><span class="op" id="8083650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8083653">type</span>&nbsp;<span class="ident" id="8083658">Service</span>&nbsp;<span class="keyword" id="8083666">struct</span>&nbsp;<span class="op" id="8083673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083676">XMLName</span>&nbsp;<span class="keyword" id="8083684">struct</span><span class="op" id="8083690">{</span><span class="op" id="8083691">}</span>&nbsp;<span class="string" id="8083693">`xml:&#34;service&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083710">Domain</span>&nbsp;&nbsp;<span class="op" id="8083718">*</span><span class="ident" id="8083719">Domain</span>&nbsp;&nbsp;<span class="string" id="8083727">`xml:&#34;host&gt;domain&#34;`</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083748">Port</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8083756">*</span><span class="ident" id="8083757">Port</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8083765">`xml:&#34;host&gt;port&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083784">Extra1</span>&nbsp;&nbsp;<span class="keyword" id="8083792">interface</span><span class="op" id="8083801">{</span><span class="op" id="8083802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083805">Extra2</span>&nbsp;&nbsp;<span class="keyword" id="8083813">interface</span><span class="op" id="8083822">{</span><span class="op" id="8083823">}</span>&nbsp;<span class="string" id="8083825">`xml:&#34;host&gt;extra2&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8083845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="8083848">var</span>&nbsp;<span class="ident" id="8083852">nilStruct</span>&nbsp;<span class="op" id="8083862">*</span><span class="ident" id="8083863">Ship</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8083869">type</span>&nbsp;<span class="ident" id="8083874">EmbedA</span>&nbsp;<span class="keyword" id="8083881">struct</span>&nbsp;<span class="op" id="8083888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083891">EmbedC</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083899">EmbedB</span>&nbsp;<span class="ident" id="8083906">EmbedB</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083914">FieldA</span>&nbsp;<span class="builtintype" id="8083921">string</span><br>
<span class="lineno"></span><span class="op" id="8083928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8083931">type</span>&nbsp;<span class="ident" id="8083936">EmbedB</span>&nbsp;<span class="keyword" id="8083943">struct</span>&nbsp;<span class="op" id="8083950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8083953">FieldB</span>&nbsp;<span class="builtintype" id="8083960">string</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8083968">*</span><span class="ident" id="8083969">EmbedC</span><br>
<span class="lineno"></span><span class="op" id="8083976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8083979">type</span>&nbsp;<span class="ident" id="8083984">EmbedC</span>&nbsp;<span class="keyword" id="8083991">struct</span>&nbsp;<span class="op" id="8083998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084001">FieldA1</span>&nbsp;<span class="builtintype" id="8084009">string</span>&nbsp;<span class="string" id="8084016">`xml:&#34;FieldA&gt;A1&#34;`</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084035">FieldA2</span>&nbsp;<span class="builtintype" id="8084043">string</span>&nbsp;<span class="string" id="8084050">`xml:&#34;FieldA&gt;A2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084069">FieldB</span>&nbsp;&nbsp;<span class="builtintype" id="8084077">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084085">FieldC</span>&nbsp;&nbsp;<span class="builtintype" id="8084093">string</span><br>
<span class="lineno"></span><span class="op" id="8084100">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="8084103">type</span>&nbsp;<span class="ident" id="8084108">NameCasing</span>&nbsp;<span class="keyword" id="8084119">struct</span>&nbsp;<span class="op" id="8084126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084129">XMLName</span>&nbsp;<span class="keyword" id="8084137">struct</span><span class="op" id="8084143">{</span><span class="op" id="8084144">}</span>&nbsp;<span class="string" id="8084146">`xml:&#34;casing&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084162">Xy</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084170">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084178">XY</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084186">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084194">XyA</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084202">string</span>&nbsp;<span class="string" id="8084209">`xml:&#34;Xy,attr&#34;`</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084226">XYA</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084234">string</span>&nbsp;<span class="string" id="8084241">`xml:&#34;XY,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8084257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8084260">type</span>&nbsp;<span class="ident" id="8084265">NamePrecedence</span>&nbsp;<span class="keyword" id="8084280">struct</span>&nbsp;<span class="op" id="8084287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084290">XMLName</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8084302">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8084320">`xml:&#34;Parent&#34;`</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084336">FromTag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8084348">XMLNameWithoutTag</span>&nbsp;<span class="string" id="8084366">`xml:&#34;InTag&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084381">FromNameVal</span>&nbsp;<span class="ident" id="8084393">XMLNameWithoutTag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084412">FromNameTag</span>&nbsp;<span class="ident" id="8084424">XMLNameWithTag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084440">InFieldName</span>&nbsp;<span class="builtintype" id="8084452">string</span><br>
<span class="lineno"></span><span class="op" id="8084459">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="8084462">type</span>&nbsp;<span class="ident" id="8084467">XMLNameWithTag</span>&nbsp;<span class="keyword" id="8084482">struct</span>&nbsp;<span class="op" id="8084489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084492">XMLName</span>&nbsp;<span class="ident" id="8084500">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8084507">`xml:&#34;InXMLNameTag&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084529">Value</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084537">string</span>&nbsp;<span class="string" id="8084544">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8084562">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="8084565">type</span>&nbsp;<span class="ident" id="8084570">XMLNameWithoutTag</span>&nbsp;<span class="keyword" id="8084588">struct</span>&nbsp;<span class="op" id="8084595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084598">XMLName</span>&nbsp;<span class="ident" id="8084606">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084612">Value</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084620">string</span>&nbsp;<span class="string" id="8084627">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8084645">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="8084648">type</span>&nbsp;<span class="ident" id="8084653">NameInField</span>&nbsp;<span class="keyword" id="8084665">struct</span>&nbsp;<span class="op" id="8084672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084675">Foo</span>&nbsp;<span class="ident" id="8084679">Name</span>&nbsp;<span class="string" id="8084684">`xml:&#34;ns&nbsp;foo&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8084699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="8084702">type</span>&nbsp;<span class="ident" id="8084707">AttrTest</span>&nbsp;<span class="keyword" id="8084716">struct</span>&nbsp;<span class="op" id="8084723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084726">Int</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084732">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8084740">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084755">Named</span>&nbsp;<span class="builtintype" id="8084761">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8084769">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084787">Float</span>&nbsp;<span class="builtintype" id="8084793">float64</span>&nbsp;<span class="string" id="8084801">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084816">Uint8</span>&nbsp;<span class="builtintype" id="8084822">uint8</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8084830">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084845">Bool</span>&nbsp;&nbsp;<span class="builtintype" id="8084851">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8084859">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084874">Str</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084880">string</span>&nbsp;&nbsp;<span class="string" id="8084888">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084903">Bytes</span>&nbsp;<span class="op" id="8084909">[</span><span class="op" id="8084910">]</span><span class="builtintype" id="8084911">byte</span>&nbsp;&nbsp;<span class="string" id="8084917">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8084931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="8084934">type</span>&nbsp;<span class="ident" id="8084939">OmitAttrTest</span>&nbsp;<span class="keyword" id="8084952">struct</span>&nbsp;<span class="op" id="8084959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8084962">Int</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8084968">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8084976">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085001">Named</span>&nbsp;<span class="builtintype" id="8085007">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085015">`xml:&#34;int,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085043">Float</span>&nbsp;<span class="builtintype" id="8085049">float64</span>&nbsp;<span class="string" id="8085057">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085082">Uint8</span>&nbsp;<span class="builtintype" id="8085088">uint8</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8085096">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085121">Bool</span>&nbsp;&nbsp;<span class="builtintype" id="8085127">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085135">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085160">Str</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8085166">string</span>&nbsp;&nbsp;<span class="string" id="8085174">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085199">Bytes</span>&nbsp;<span class="op" id="8085205">[</span><span class="op" id="8085206">]</span><span class="builtintype" id="8085207">byte</span>&nbsp;&nbsp;<span class="string" id="8085213">`xml:&#34;,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8085237">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span><span class="keyword" id="8085240">type</span>&nbsp;<span class="ident" id="8085245">OmitFieldTest</span>&nbsp;<span class="keyword" id="8085259">struct</span>&nbsp;<span class="op" id="8085266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085269">Int</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8085275">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085289">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085309">Named</span>&nbsp;<span class="builtintype" id="8085315">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085329">`xml:&#34;int,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085352">Float</span>&nbsp;<span class="builtintype" id="8085358">float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085372">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085392">Uint8</span>&nbsp;<span class="builtintype" id="8085398">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085412">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085432">Bool</span>&nbsp;&nbsp;<span class="builtintype" id="8085438">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085452">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085472">Str</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8085478">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085492">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085512">Bytes</span>&nbsp;<span class="op" id="8085518">[</span><span class="op" id="8085519">]</span><span class="builtintype" id="8085520">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085532">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085552">Ptr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8085558">*</span><span class="ident" id="8085559">PresenceTest</span>&nbsp;<span class="string" id="8085572">`xml:&#34;,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8085591">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="8085594">type</span>&nbsp;<span class="ident" id="8085599">AnyTest</span>&nbsp;<span class="keyword" id="8085607">struct</span>&nbsp;<span class="op" id="8085614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085617">XMLName</span>&nbsp;&nbsp;<span class="keyword" id="8085626">struct</span><span class="op" id="8085632">{</span><span class="op" id="8085633">}</span>&nbsp;&nbsp;<span class="string" id="8085636">`xml:&#34;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085647">Nested</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8085656">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085666">`xml:&#34;nested&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085688">AnyField</span>&nbsp;<span class="ident" id="8085697">AnyHolder</span>&nbsp;<span class="string" id="8085707">`xml:&#34;,any&#34;`</span><br>
<span class="lineno">220</span><span class="op" id="8085720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8085723">type</span>&nbsp;<span class="ident" id="8085728">AnyOmitTest</span>&nbsp;<span class="keyword" id="8085740">struct</span>&nbsp;<span class="op" id="8085747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085750">XMLName</span>&nbsp;&nbsp;<span class="keyword" id="8085759">struct</span><span class="op" id="8085765">{</span><span class="op" id="8085766">}</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8085770">`xml:&#34;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085781">Nested</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8085790">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085801">`xml:&#34;nested&gt;value&#34;`</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085823">AnyField</span>&nbsp;<span class="op" id="8085832">*</span><span class="ident" id="8085833">AnyHolder</span>&nbsp;<span class="string" id="8085843">`xml:&#34;,any,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8085866">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8085869">type</span>&nbsp;<span class="ident" id="8085874">AnySliceTest</span>&nbsp;<span class="keyword" id="8085887">struct</span>&nbsp;<span class="op" id="8085894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085897">XMLName</span>&nbsp;&nbsp;<span class="keyword" id="8085906">struct</span><span class="op" id="8085912">{</span><span class="op" id="8085913">}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085918">`xml:&#34;a&#34;`</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085929">Nested</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8085938">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8085950">`xml:&#34;nested&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8085972">AnyField</span>&nbsp;<span class="op" id="8085981">[</span><span class="op" id="8085982">]</span><span class="ident" id="8085983">AnyHolder</span>&nbsp;<span class="string" id="8085993">`xml:&#34;,any&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8086006">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086009">type</span>&nbsp;<span class="ident" id="8086014">AnyHolder</span>&nbsp;<span class="keyword" id="8086024">struct</span>&nbsp;<span class="op" id="8086031">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086034">XMLName</span>&nbsp;<span class="ident" id="8086042">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086048">XML</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8086056">string</span>&nbsp;<span class="string" id="8086063">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8086081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086084">type</span>&nbsp;<span class="ident" id="8086089">RecurseA</span>&nbsp;<span class="keyword" id="8086098">struct</span>&nbsp;<span class="op" id="8086105">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086108">A</span>&nbsp;<span class="builtintype" id="8086110">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086118">B</span>&nbsp;<span class="op" id="8086120">*</span><span class="ident" id="8086121">RecurseB</span><br>
<span class="lineno"></span><span class="op" id="8086130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086133">type</span>&nbsp;<span class="ident" id="8086138">RecurseB</span>&nbsp;<span class="keyword" id="8086147">struct</span>&nbsp;<span class="op" id="8086154">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086157">A</span>&nbsp;<span class="op" id="8086159">*</span><span class="ident" id="8086160">RecurseA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086170">B</span>&nbsp;<span class="builtintype" id="8086172">string</span><br>
<span class="lineno"></span><span class="op" id="8086179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086182">type</span>&nbsp;<span class="ident" id="8086187">PresenceTest</span>&nbsp;<span class="keyword" id="8086200">struct</span>&nbsp;<span class="op" id="8086207">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086210">Exists</span>&nbsp;<span class="op" id="8086217">*</span><span class="keyword" id="8086218">struct</span><span class="op" id="8086224">{</span><span class="op" id="8086225">}</span><br>
<span class="lineno"></span><span class="op" id="8086227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086230">type</span>&nbsp;<span class="ident" id="8086235">IgnoreTest</span>&nbsp;<span class="keyword" id="8086246">struct</span>&nbsp;<span class="op" id="8086253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086256">PublicSecret</span>&nbsp;<span class="builtintype" id="8086269">string</span>&nbsp;<span class="string" id="8086276">`xml:&#34;-&#34;`</span><br>
<span class="lineno">255</span><span class="op" id="8086286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086289">type</span>&nbsp;<span class="ident" id="8086294">MyBytes</span>&nbsp;<span class="op" id="8086302">[</span><span class="op" id="8086303">]</span><span class="builtintype" id="8086304">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086310">type</span>&nbsp;<span class="ident" id="8086315">Data</span>&nbsp;<span class="keyword" id="8086320">struct</span>&nbsp;<span class="op" id="8086327">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086330">Bytes</span>&nbsp;&nbsp;<span class="op" id="8086337">[</span><span class="op" id="8086338">]</span><span class="builtintype" id="8086339">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086345">Attr</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8086352">[</span><span class="op" id="8086353">]</span><span class="builtintype" id="8086354">byte</span>&nbsp;<span class="string" id="8086359">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086374">Custom</span>&nbsp;<span class="ident" id="8086381">MyBytes</span><br>
<span class="lineno"></span><span class="op" id="8086389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="8086392">type</span>&nbsp;<span class="ident" id="8086397">Plain</span>&nbsp;<span class="keyword" id="8086403">struct</span>&nbsp;<span class="op" id="8086410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086413">V</span>&nbsp;<span class="keyword" id="8086415">interface</span><span class="op" id="8086424">{</span><span class="op" id="8086425">}</span><br>
<span class="lineno"></span><span class="op" id="8086427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086430">type</span>&nbsp;<span class="ident" id="8086435">MyInt</span>&nbsp;<span class="builtintype" id="8086441">int</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="keyword" id="8086446">type</span>&nbsp;<span class="ident" id="8086451">EmbedInt</span>&nbsp;<span class="keyword" id="8086460">struct</span>&nbsp;<span class="op" id="8086467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086470">MyInt</span><br>
<span class="lineno"></span><span class="op" id="8086476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">275</span><span class="keyword" id="8086479">type</span>&nbsp;<span class="ident" id="8086484">Strings</span>&nbsp;<span class="keyword" id="8086492">struct</span>&nbsp;<span class="op" id="8086499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086502">X</span>&nbsp;<span class="op" id="8086504">[</span><span class="op" id="8086505">]</span><span class="builtintype" id="8086506">string</span>&nbsp;<span class="string" id="8086513">`xml:&#34;A&gt;B,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8086535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086538">type</span>&nbsp;<span class="ident" id="8086543">PointerFieldsTest</span>&nbsp;<span class="keyword" id="8086561">struct</span>&nbsp;<span class="op" id="8086568">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086571">XMLName</span>&nbsp;&nbsp;<span class="ident" id="8086580">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8086588">`xml:&#34;dummy&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086603">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8086612">*</span><span class="builtintype" id="8086613">string</span>&nbsp;<span class="string" id="8086620">`xml:&#34;name,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086639">Age</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8086648">*</span><span class="builtintype" id="8086649">uint</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8086656">`xml:&#34;age,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086674">Empty</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8086683">*</span><span class="builtintype" id="8086684">string</span>&nbsp;<span class="string" id="8086691">`xml:&#34;empty,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086711">Contents</span>&nbsp;<span class="op" id="8086720">*</span><span class="builtintype" id="8086721">string</span>&nbsp;<span class="string" id="8086728">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno">285</span><span class="op" id="8086746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086749">type</span>&nbsp;<span class="ident" id="8086754">ChardataEmptyTest</span>&nbsp;<span class="keyword" id="8086772">struct</span>&nbsp;<span class="op" id="8086779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086782">XMLName</span>&nbsp;&nbsp;<span class="ident" id="8086791">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8086799">`xml:&#34;test&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8086813">Contents</span>&nbsp;<span class="op" id="8086822">*</span><span class="builtintype" id="8086823">string</span>&nbsp;<span class="string" id="8086830">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno">290</span><span class="op" id="8086848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086851">type</span>&nbsp;<span class="ident" id="8086856">MyMarshalerTest</span>&nbsp;<span class="keyword" id="8086872">struct</span>&nbsp;<span class="op" id="8086879">{</span><br>
<span class="lineno"></span><span class="op" id="8086881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="8086884">var</span>&nbsp;<span class="ident" id="8086888">_</span>&nbsp;<span class="ident" id="8086890">Marshaler</span>&nbsp;<span class="op" id="8086900">=</span>&nbsp;<span class="op" id="8086902">(</span><span class="op" id="8086903">*</span><span class="ident" id="8086904">MyMarshalerTest</span><span class="op" id="8086919">)</span><span class="op" id="8086920">(</span><span class="ident" id="8086921">nil</span><span class="op" id="8086924">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8086927">func</span>&nbsp;<span class="op" id="8086932">(</span><span class="ident" id="8086933">m</span>&nbsp;<span class="op" id="8086935">*</span><span class="ident" id="8086936">MyMarshalerTest</span><span class="op" id="8086951">)</span>&nbsp;<span class="ident" id="8086953">MarshalXML</span><span class="op" id="8086963">(</span><span class="ident" id="8086964">e</span>&nbsp;<span class="op" id="8086966">*</span><span class="ident" id="8086967">Encoder</span><span class="op" id="8086974">,</span>&nbsp;<span class="ident" id="8086976">start</span>&nbsp;<span class="ident" id="8086982">StartElement</span><span class="op" id="8086994">)</span>&nbsp;<span class="builtintype" id="8086996">error</span>&nbsp;<span class="op" id="8087002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087005">e</span><span class="op" id="8087006">.</span><span class="ident" id="8087007">EncodeToken</span><span class="op" id="8087018">(</span><span class="ident" id="8087019">start</span><span class="op" id="8087024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087027">e</span><span class="op" id="8087028">.</span><span class="ident" id="8087029">EncodeToken</span><span class="op" id="8087040">(</span><span class="ident" id="8087041">CharData</span><span class="op" id="8087049">(</span><span class="op" id="8087050">[</span><span class="op" id="8087051">]</span><span class="builtintype" id="8087052">byte</span><span class="op" id="8087056">(</span><span class="string" id="8087057">&#34;hello&nbsp;world&#34;</span><span class="op" id="8087070">)</span><span class="op" id="8087071">)</span><span class="op" id="8087072">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087075">e</span><span class="op" id="8087076">.</span><span class="ident" id="8087077">EncodeToken</span><span class="op" id="8087088">(</span><span class="ident" id="8087089">EndElement</span><span class="op" id="8087099">{</span><span class="ident" id="8087100">start</span><span class="op" id="8087105">.</span><span class="ident" id="8087106">Name</span><span class="op" id="8087110">}</span><span class="op" id="8087111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087114">return</span>&nbsp;<span class="ident" id="8087121">nil</span><br>
<span class="lineno"></span><span class="op" id="8087125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087128">type</span>&nbsp;<span class="ident" id="8087133">MyMarshalerAttrTest</span>&nbsp;<span class="keyword" id="8087153">struct</span>&nbsp;<span class="op" id="8087160">{</span><br>
<span class="lineno">305</span><span class="op" id="8087162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087165">var</span>&nbsp;<span class="ident" id="8087169">_</span>&nbsp;<span class="ident" id="8087171">MarshalerAttr</span>&nbsp;<span class="op" id="8087185">=</span>&nbsp;<span class="op" id="8087187">(</span><span class="op" id="8087188">*</span><span class="ident" id="8087189">MyMarshalerAttrTest</span><span class="op" id="8087208">)</span><span class="op" id="8087209">(</span><span class="ident" id="8087210">nil</span><span class="op" id="8087213">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087216">func</span>&nbsp;<span class="op" id="8087221">(</span><span class="ident" id="8087222">m</span>&nbsp;<span class="op" id="8087224">*</span><span class="ident" id="8087225">MyMarshalerAttrTest</span><span class="op" id="8087244">)</span>&nbsp;<span class="ident" id="8087246">MarshalXMLAttr</span><span class="op" id="8087260">(</span><span class="ident" id="8087261">name</span>&nbsp;<span class="ident" id="8087266">Name</span><span class="op" id="8087270">)</span>&nbsp;<span class="op" id="8087272">(</span><span class="ident" id="8087273">Attr</span><span class="op" id="8087277">,</span>&nbsp;<span class="builtintype" id="8087279">error</span><span class="op" id="8087284">)</span>&nbsp;<span class="op" id="8087286">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087289">return</span>&nbsp;<span class="ident" id="8087296">Attr</span><span class="op" id="8087300">{</span><span class="ident" id="8087301">name</span><span class="op" id="8087305">,</span>&nbsp;<span class="string" id="8087307">&#34;hello&nbsp;world&#34;</span><span class="op" id="8087320">}</span><span class="op" id="8087321">,</span>&nbsp;<span class="ident" id="8087323">nil</span><br>
<span class="lineno"></span><span class="op" id="8087327">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087330">type</span>&nbsp;<span class="ident" id="8087335">MarshalerStruct</span>&nbsp;<span class="keyword" id="8087351">struct</span>&nbsp;<span class="op" id="8087358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087361">Foo</span>&nbsp;<span class="ident" id="8087365">MyMarshalerAttrTest</span>&nbsp;<span class="string" id="8087385">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno">315</span><span class="op" id="8087399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087402">type</span>&nbsp;<span class="ident" id="8087407">InnerStruct</span>&nbsp;<span class="keyword" id="8087419">struct</span>&nbsp;<span class="op" id="8087426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087429">XMLName</span>&nbsp;<span class="ident" id="8087437">Name</span>&nbsp;<span class="string" id="8087442">`xml:&#34;testns&nbsp;outer&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8087463">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="keyword" id="8087466">type</span>&nbsp;<span class="ident" id="8087471">OuterStruct</span>&nbsp;<span class="keyword" id="8087483">struct</span>&nbsp;<span class="op" id="8087490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087493">InnerStruct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087506">IntAttr</span>&nbsp;<span class="builtintype" id="8087514">int</span>&nbsp;<span class="string" id="8087518">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8087535">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="8087538">type</span>&nbsp;<span class="ident" id="8087543">OuterNamedStruct</span>&nbsp;<span class="keyword" id="8087560">struct</span>&nbsp;<span class="op" id="8087567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087570">InnerStruct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087583">XMLName</span>&nbsp;<span class="ident" id="8087591">Name</span>&nbsp;<span class="string" id="8087596">`xml:&#34;outerns&nbsp;test&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087618">IntAttr</span>&nbsp;<span class="builtintype" id="8087626">int</span>&nbsp;&nbsp;<span class="string" id="8087631">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno">330</span><span class="op" id="8087648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087651">type</span>&nbsp;<span class="ident" id="8087656">OuterNamedOrderedStruct</span>&nbsp;<span class="keyword" id="8087680">struct</span>&nbsp;<span class="op" id="8087687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087690">XMLName</span>&nbsp;<span class="ident" id="8087698">Name</span>&nbsp;<span class="string" id="8087703">`xml:&#34;outerns&nbsp;test&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087725">InnerStruct</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087738">IntAttr</span>&nbsp;<span class="builtintype" id="8087746">int</span>&nbsp;<span class="string" id="8087750">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8087767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087770">type</span>&nbsp;<span class="ident" id="8087775">OuterOuterStruct</span>&nbsp;<span class="keyword" id="8087792">struct</span>&nbsp;<span class="op" id="8087799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087802">OuterStruct</span><br>
<span class="lineno">340</span><span class="op" id="8087814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8087817">func</span>&nbsp;<span class="ident" id="8087822">ifaceptr</span><span class="op" id="8087830">(</span><span class="ident" id="8087831">x</span>&nbsp;<span class="keyword" id="8087833">interface</span><span class="op" id="8087842">{</span><span class="op" id="8087843">}</span><span class="op" id="8087844">)</span>&nbsp;<span class="keyword" id="8087846">interface</span><span class="op" id="8087855">{</span><span class="op" id="8087856">}</span>&nbsp;<span class="op" id="8087858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8087861">return</span>&nbsp;<span class="op" id="8087868">&amp;</span><span class="ident" id="8087869">x</span><br>
<span class="lineno"></span><span class="op" id="8087871">}</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="8087874">var</span>&nbsp;<span class="op" id="8087878">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087881">nameAttr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8087894">=</span>&nbsp;<span class="string" id="8087896">&#34;Sarah&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087905">ageAttr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8087918">=</span>&nbsp;<span class="builtintype" id="8087920">uint</span><span class="op" id="8087924">(</span><span class="num" id="8087925">12</span><span class="op" id="8087927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8087930">contentsAttr</span>&nbsp;<span class="op" id="8087943">=</span>&nbsp;<span class="string" id="8087945">&#34;lorem&nbsp;ipsum&#34;</span><br>
<span class="lineno">350</span><span class="op" id="8087959">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8087962">//&nbsp;Unless&nbsp;explicitly&nbsp;stated&nbsp;as&nbsp;such&nbsp;(or&nbsp;*Plain),&nbsp;all&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8088022">//&nbsp;tests&nbsp;below&nbsp;are&nbsp;two-way&nbsp;tests.&nbsp;When&nbsp;introducing&nbsp;new&nbsp;tests,</span><br>
<span class="lineno"></span><span class="comment" id="8088084">//&nbsp;please&nbsp;try&nbsp;to&nbsp;make&nbsp;them&nbsp;two-way&nbsp;as&nbsp;well&nbsp;to&nbsp;ensure&nbsp;that</span><br>
<span class="lineno">355</span><span class="comment" id="8088142">//&nbsp;marshalling&nbsp;and&nbsp;unmarshalling&nbsp;are&nbsp;as&nbsp;symmetrical&nbsp;as&nbsp;feasible.</span><br>
<span class="lineno"></span><span class="keyword" id="8088207">var</span>&nbsp;<span class="ident" id="8088211">marshalTests</span>&nbsp;<span class="op" id="8088224">=</span>&nbsp;<span class="op" id="8088226">[</span><span class="op" id="8088227">]</span><span class="keyword" id="8088228">struct</span>&nbsp;<span class="op" id="8088235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088238">Value</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8088252">interface</span><span class="op" id="8088261">{</span><span class="op" id="8088262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088265">ExpectXML</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8088279">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088287">MarshalOnly</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8088301">bool</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8088307">UnmarshalOnly</span>&nbsp;<span class="builtintype" id="8088321">bool</span><br>
<span class="lineno"></span><span class="op" id="8088326">}</span><span class="op" id="8088327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8088330">//&nbsp;Test&nbsp;nil&nbsp;marshals&nbsp;to&nbsp;nothing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088363">{</span><span class="ident" id="8088364">Value</span><span class="op" id="8088369">:</span>&nbsp;<span class="ident" id="8088371">nil</span><span class="op" id="8088374">,</span>&nbsp;<span class="ident" id="8088376">ExpectXML</span><span class="op" id="8088385">:</span>&nbsp;<span class="string" id="8088387">``</span><span class="op" id="8088389">,</span>&nbsp;<span class="ident" id="8088391">MarshalOnly</span><span class="op" id="8088402">:</span>&nbsp;<span class="builtintype" id="8088404">true</span><span class="op" id="8088408">}</span><span class="op" id="8088409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088412">{</span><span class="ident" id="8088413">Value</span><span class="op" id="8088418">:</span>&nbsp;<span class="ident" id="8088420">nilStruct</span><span class="op" id="8088429">,</span>&nbsp;<span class="ident" id="8088431">ExpectXML</span><span class="op" id="8088440">:</span>&nbsp;<span class="string" id="8088442">``</span><span class="op" id="8088444">,</span>&nbsp;<span class="ident" id="8088446">MarshalOnly</span><span class="op" id="8088457">:</span>&nbsp;<span class="builtintype" id="8088459">true</span><span class="op" id="8088463">}</span><span class="op" id="8088464">,</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8088468">//&nbsp;Test&nbsp;value&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088489">{</span><span class="ident" id="8088490">Value</span><span class="op" id="8088495">:</span>&nbsp;<span class="op" id="8088497">&amp;</span><span class="ident" id="8088498">Plain</span><span class="op" id="8088503">{</span><span class="builtintype" id="8088504">true</span><span class="op" id="8088508">}</span><span class="op" id="8088509">,</span>&nbsp;<span class="ident" id="8088511">ExpectXML</span><span class="op" id="8088520">:</span>&nbsp;<span class="string" id="8088522">`&lt;Plain&gt;&lt;V&gt;true&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8088550">}</span><span class="op" id="8088551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088554">{</span><span class="ident" id="8088555">Value</span><span class="op" id="8088560">:</span>&nbsp;<span class="op" id="8088562">&amp;</span><span class="ident" id="8088563">Plain</span><span class="op" id="8088568">{</span><span class="builtintype" id="8088569">false</span><span class="op" id="8088574">}</span><span class="op" id="8088575">,</span>&nbsp;<span class="ident" id="8088577">ExpectXML</span><span class="op" id="8088586">:</span>&nbsp;<span class="string" id="8088588">`&lt;Plain&gt;&lt;V&gt;false&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8088617">}</span><span class="op" id="8088618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088621">{</span><span class="ident" id="8088622">Value</span><span class="op" id="8088627">:</span>&nbsp;<span class="op" id="8088629">&amp;</span><span class="ident" id="8088630">Plain</span><span class="op" id="8088635">{</span><span class="builtintype" id="8088636">int</span><span class="op" id="8088639">(</span><span class="num" id="8088640">42</span><span class="op" id="8088642">)</span><span class="op" id="8088643">}</span><span class="op" id="8088644">,</span>&nbsp;<span class="ident" id="8088646">ExpectXML</span><span class="op" id="8088655">:</span>&nbsp;<span class="string" id="8088657">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8088683">}</span><span class="op" id="8088684">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088687">{</span><span class="ident" id="8088688">Value</span><span class="op" id="8088693">:</span>&nbsp;<span class="op" id="8088695">&amp;</span><span class="ident" id="8088696">Plain</span><span class="op" id="8088701">{</span><span class="builtintype" id="8088702">int8</span><span class="op" id="8088706">(</span><span class="num" id="8088707">42</span><span class="op" id="8088709">)</span><span class="op" id="8088710">}</span><span class="op" id="8088711">,</span>&nbsp;<span class="ident" id="8088713">ExpectXML</span><span class="op" id="8088722">:</span>&nbsp;<span class="string" id="8088724">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8088750">}</span><span class="op" id="8088751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088754">{</span><span class="ident" id="8088755">Value</span><span class="op" id="8088760">:</span>&nbsp;<span class="op" id="8088762">&amp;</span><span class="ident" id="8088763">Plain</span><span class="op" id="8088768">{</span><span class="builtintype" id="8088769">int16</span><span class="op" id="8088774">(</span><span class="num" id="8088775">42</span><span class="op" id="8088777">)</span><span class="op" id="8088778">}</span><span class="op" id="8088779">,</span>&nbsp;<span class="ident" id="8088781">ExpectXML</span><span class="op" id="8088790">:</span>&nbsp;<span class="string" id="8088792">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8088818">}</span><span class="op" id="8088819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088822">{</span><span class="ident" id="8088823">Value</span><span class="op" id="8088828">:</span>&nbsp;<span class="op" id="8088830">&amp;</span><span class="ident" id="8088831">Plain</span><span class="op" id="8088836">{</span><span class="builtintype" id="8088837">int32</span><span class="op" id="8088842">(</span><span class="num" id="8088843">42</span><span class="op" id="8088845">)</span><span class="op" id="8088846">}</span><span class="op" id="8088847">,</span>&nbsp;<span class="ident" id="8088849">ExpectXML</span><span class="op" id="8088858">:</span>&nbsp;<span class="string" id="8088860">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8088886">}</span><span class="op" id="8088887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088890">{</span><span class="ident" id="8088891">Value</span><span class="op" id="8088896">:</span>&nbsp;<span class="op" id="8088898">&amp;</span><span class="ident" id="8088899">Plain</span><span class="op" id="8088904">{</span><span class="builtintype" id="8088905">uint</span><span class="op" id="8088909">(</span><span class="num" id="8088910">42</span><span class="op" id="8088912">)</span><span class="op" id="8088913">}</span><span class="op" id="8088914">,</span>&nbsp;<span class="ident" id="8088916">ExpectXML</span><span class="op" id="8088925">:</span>&nbsp;<span class="string" id="8088927">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8088953">}</span><span class="op" id="8088954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8088957">{</span><span class="ident" id="8088958">Value</span><span class="op" id="8088963">:</span>&nbsp;<span class="op" id="8088965">&amp;</span><span class="ident" id="8088966">Plain</span><span class="op" id="8088971">{</span><span class="builtintype" id="8088972">uint8</span><span class="op" id="8088977">(</span><span class="num" id="8088978">42</span><span class="op" id="8088980">)</span><span class="op" id="8088981">}</span><span class="op" id="8088982">,</span>&nbsp;<span class="ident" id="8088984">ExpectXML</span><span class="op" id="8088993">:</span>&nbsp;<span class="string" id="8088995">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089021">}</span><span class="op" id="8089022">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089025">{</span><span class="ident" id="8089026">Value</span><span class="op" id="8089031">:</span>&nbsp;<span class="op" id="8089033">&amp;</span><span class="ident" id="8089034">Plain</span><span class="op" id="8089039">{</span><span class="builtintype" id="8089040">uint16</span><span class="op" id="8089046">(</span><span class="num" id="8089047">42</span><span class="op" id="8089049">)</span><span class="op" id="8089050">}</span><span class="op" id="8089051">,</span>&nbsp;<span class="ident" id="8089053">ExpectXML</span><span class="op" id="8089062">:</span>&nbsp;<span class="string" id="8089064">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089090">}</span><span class="op" id="8089091">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089094">{</span><span class="ident" id="8089095">Value</span><span class="op" id="8089100">:</span>&nbsp;<span class="op" id="8089102">&amp;</span><span class="ident" id="8089103">Plain</span><span class="op" id="8089108">{</span><span class="builtintype" id="8089109">uint32</span><span class="op" id="8089115">(</span><span class="num" id="8089116">42</span><span class="op" id="8089118">)</span><span class="op" id="8089119">}</span><span class="op" id="8089120">,</span>&nbsp;<span class="ident" id="8089122">ExpectXML</span><span class="op" id="8089131">:</span>&nbsp;<span class="string" id="8089133">`&lt;Plain&gt;&lt;V&gt;42&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089159">}</span><span class="op" id="8089160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089163">{</span><span class="ident" id="8089164">Value</span><span class="op" id="8089169">:</span>&nbsp;<span class="op" id="8089171">&amp;</span><span class="ident" id="8089172">Plain</span><span class="op" id="8089177">{</span><span class="builtintype" id="8089178">float32</span><span class="op" id="8089185">(</span><span class="num" id="8089186">1.25</span><span class="op" id="8089190">)</span><span class="op" id="8089191">}</span><span class="op" id="8089192">,</span>&nbsp;<span class="ident" id="8089194">ExpectXML</span><span class="op" id="8089203">:</span>&nbsp;<span class="string" id="8089205">`&lt;Plain&gt;&lt;V&gt;1.25&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089233">}</span><span class="op" id="8089234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089237">{</span><span class="ident" id="8089238">Value</span><span class="op" id="8089243">:</span>&nbsp;<span class="op" id="8089245">&amp;</span><span class="ident" id="8089246">Plain</span><span class="op" id="8089251">{</span><span class="builtintype" id="8089252">float64</span><span class="op" id="8089259">(</span><span class="num" id="8089260">1.25</span><span class="op" id="8089264">)</span><span class="op" id="8089265">}</span><span class="op" id="8089266">,</span>&nbsp;<span class="ident" id="8089268">ExpectXML</span><span class="op" id="8089277">:</span>&nbsp;<span class="string" id="8089279">`&lt;Plain&gt;&lt;V&gt;1.25&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089307">}</span><span class="op" id="8089308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089311">{</span><span class="ident" id="8089312">Value</span><span class="op" id="8089317">:</span>&nbsp;<span class="op" id="8089319">&amp;</span><span class="ident" id="8089320">Plain</span><span class="op" id="8089325">{</span><span class="builtintype" id="8089326">uintptr</span><span class="op" id="8089333">(</span><span class="num" id="8089334">0xFFDD</span><span class="op" id="8089340">)</span><span class="op" id="8089341">}</span><span class="op" id="8089342">,</span>&nbsp;<span class="ident" id="8089344">ExpectXML</span><span class="op" id="8089353">:</span>&nbsp;<span class="string" id="8089355">`&lt;Plain&gt;&lt;V&gt;65501&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089384">}</span><span class="op" id="8089385">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089388">{</span><span class="ident" id="8089389">Value</span><span class="op" id="8089394">:</span>&nbsp;<span class="op" id="8089396">&amp;</span><span class="ident" id="8089397">Plain</span><span class="op" id="8089402">{</span><span class="string" id="8089403">&#34;gopher&#34;</span><span class="op" id="8089411">}</span><span class="op" id="8089412">,</span>&nbsp;<span class="ident" id="8089414">ExpectXML</span><span class="op" id="8089423">:</span>&nbsp;<span class="string" id="8089425">`&lt;Plain&gt;&lt;V&gt;gopher&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089455">}</span><span class="op" id="8089456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089459">{</span><span class="ident" id="8089460">Value</span><span class="op" id="8089465">:</span>&nbsp;<span class="op" id="8089467">&amp;</span><span class="ident" id="8089468">Plain</span><span class="op" id="8089473">{</span><span class="op" id="8089474">[</span><span class="op" id="8089475">]</span><span class="builtintype" id="8089476">byte</span><span class="op" id="8089480">(</span><span class="string" id="8089481">&#34;gopher&#34;</span><span class="op" id="8089489">)</span><span class="op" id="8089490">}</span><span class="op" id="8089491">,</span>&nbsp;<span class="ident" id="8089493">ExpectXML</span><span class="op" id="8089502">:</span>&nbsp;<span class="string" id="8089504">`&lt;Plain&gt;&lt;V&gt;gopher&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089534">}</span><span class="op" id="8089535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089538">{</span><span class="ident" id="8089539">Value</span><span class="op" id="8089544">:</span>&nbsp;<span class="op" id="8089546">&amp;</span><span class="ident" id="8089547">Plain</span><span class="op" id="8089552">{</span><span class="string" id="8089553">&#34;&lt;/&gt;&#34;</span><span class="op" id="8089558">}</span><span class="op" id="8089559">,</span>&nbsp;<span class="ident" id="8089561">ExpectXML</span><span class="op" id="8089570">:</span>&nbsp;<span class="string" id="8089572">`&lt;Plain&gt;&lt;V&gt;&amp;lt;/&amp;gt;&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089605">}</span><span class="op" id="8089606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089609">{</span><span class="ident" id="8089610">Value</span><span class="op" id="8089615">:</span>&nbsp;<span class="op" id="8089617">&amp;</span><span class="ident" id="8089618">Plain</span><span class="op" id="8089623">{</span><span class="op" id="8089624">[</span><span class="op" id="8089625">]</span><span class="builtintype" id="8089626">byte</span><span class="op" id="8089630">(</span><span class="string" id="8089631">&#34;&lt;/&gt;&#34;</span><span class="op" id="8089636">)</span><span class="op" id="8089637">}</span><span class="op" id="8089638">,</span>&nbsp;<span class="ident" id="8089640">ExpectXML</span><span class="op" id="8089649">:</span>&nbsp;<span class="string" id="8089651">`&lt;Plain&gt;&lt;V&gt;&amp;lt;/&amp;gt;&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089684">}</span><span class="op" id="8089685">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089688">{</span><span class="ident" id="8089689">Value</span><span class="op" id="8089694">:</span>&nbsp;<span class="op" id="8089696">&amp;</span><span class="ident" id="8089697">Plain</span><span class="op" id="8089702">{</span><span class="op" id="8089703">[</span><span class="num" id="8089704">3</span><span class="op" id="8089705">]</span><span class="builtintype" id="8089706">byte</span><span class="op" id="8089710">{</span><span class="string" id="8089711">&#39;&lt;&#39;</span><span class="op" id="8089714">,</span>&nbsp;<span class="string" id="8089716">&#39;/&#39;</span><span class="op" id="8089719">,</span>&nbsp;<span class="string" id="8089721">&#39;&gt;&#39;</span><span class="op" id="8089724">}</span><span class="op" id="8089725">}</span><span class="op" id="8089726">,</span>&nbsp;<span class="ident" id="8089728">ExpectXML</span><span class="op" id="8089737">:</span>&nbsp;<span class="string" id="8089739">`&lt;Plain&gt;&lt;V&gt;&amp;lt;/&amp;gt;&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089772">}</span><span class="op" id="8089773">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089776">{</span><span class="ident" id="8089777">Value</span><span class="op" id="8089782">:</span>&nbsp;<span class="op" id="8089784">&amp;</span><span class="ident" id="8089785">Plain</span><span class="op" id="8089790">{</span><span class="ident" id="8089791">NamedType</span><span class="op" id="8089800">(</span><span class="string" id="8089801">&#34;potato&#34;</span><span class="op" id="8089809">)</span><span class="op" id="8089810">}</span><span class="op" id="8089811">,</span>&nbsp;<span class="ident" id="8089813">ExpectXML</span><span class="op" id="8089822">:</span>&nbsp;<span class="string" id="8089824">`&lt;Plain&gt;&lt;V&gt;potato&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089854">}</span><span class="op" id="8089855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089858">{</span><span class="ident" id="8089859">Value</span><span class="op" id="8089864">:</span>&nbsp;<span class="op" id="8089866">&amp;</span><span class="ident" id="8089867">Plain</span><span class="op" id="8089872">{</span><span class="op" id="8089873">[</span><span class="op" id="8089874">]</span><span class="builtintype" id="8089875">int</span><span class="op" id="8089878">{</span><span class="num" id="8089879">1</span><span class="op" id="8089880">,</span>&nbsp;<span class="num" id="8089882">2</span><span class="op" id="8089883">,</span>&nbsp;<span class="num" id="8089885">3</span><span class="op" id="8089886">}</span><span class="op" id="8089887">}</span><span class="op" id="8089888">,</span>&nbsp;<span class="ident" id="8089890">ExpectXML</span><span class="op" id="8089899">:</span>&nbsp;<span class="string" id="8089901">`&lt;Plain&gt;&lt;V&gt;1&lt;/V&gt;&lt;V&gt;2&lt;/V&gt;&lt;V&gt;3&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8089942">}</span><span class="op" id="8089943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8089946">{</span><span class="ident" id="8089947">Value</span><span class="op" id="8089952">:</span>&nbsp;<span class="op" id="8089954">&amp;</span><span class="ident" id="8089955">Plain</span><span class="op" id="8089960">{</span><span class="op" id="8089961">[</span><span class="num" id="8089962">3</span><span class="op" id="8089963">]</span><span class="builtintype" id="8089964">int</span><span class="op" id="8089967">{</span><span class="num" id="8089968">1</span><span class="op" id="8089969">,</span>&nbsp;<span class="num" id="8089971">2</span><span class="op" id="8089972">,</span>&nbsp;<span class="num" id="8089974">3</span><span class="op" id="8089975">}</span><span class="op" id="8089976">}</span><span class="op" id="8089977">,</span>&nbsp;<span class="ident" id="8089979">ExpectXML</span><span class="op" id="8089988">:</span>&nbsp;<span class="string" id="8089990">`&lt;Plain&gt;&lt;V&gt;1&lt;/V&gt;&lt;V&gt;2&lt;/V&gt;&lt;V&gt;3&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8090031">}</span><span class="op" id="8090032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090035">{</span><span class="ident" id="8090036">Value</span><span class="op" id="8090041">:</span>&nbsp;<span class="ident" id="8090043">ifaceptr</span><span class="op" id="8090051">(</span><span class="builtintype" id="8090052">true</span><span class="op" id="8090056">)</span><span class="op" id="8090057">,</span>&nbsp;<span class="ident" id="8090059">MarshalOnly</span><span class="op" id="8090070">:</span>&nbsp;<span class="builtintype" id="8090072">true</span><span class="op" id="8090076">,</span>&nbsp;<span class="ident" id="8090078">ExpectXML</span><span class="op" id="8090087">:</span>&nbsp;<span class="string" id="8090089">`&lt;bool&gt;true&lt;/bool&gt;`</span><span class="op" id="8090108">}</span><span class="op" id="8090109">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8090113">//&nbsp;Test&nbsp;time.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090132">Value</span><span class="op" id="8090137">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090143">&amp;</span><span class="ident" id="8090144">Plain</span><span class="op" id="8090149">{</span><span class="ident" id="8090150">time</span><span class="op" id="8090154">.</span><span class="ident" id="8090155">Unix</span><span class="op" id="8090159">(</span><span class="num" id="8090160">1e9</span><span class="op" id="8090163">,</span>&nbsp;<span class="num" id="8090165">123456789</span><span class="op" id="8090174">)</span><span class="op" id="8090175">.</span><span class="ident" id="8090176">UTC</span><span class="op" id="8090179">(</span><span class="op" id="8090180">)</span><span class="op" id="8090181">}</span><span class="op" id="8090182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090186">ExpectXML</span><span class="op" id="8090195">:</span>&nbsp;<span class="string" id="8090197">`&lt;Plain&gt;&lt;V&gt;2001-09-09T01:46:40.123456789Z&lt;/V&gt;&lt;/Plain&gt;`</span><span class="op" id="8090251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090254">}</span><span class="op" id="8090255">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8090259">//&nbsp;A&nbsp;pointer&nbsp;to&nbsp;struct{}&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;test&nbsp;for&nbsp;an&nbsp;element&#39;s&nbsp;presence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090336">Value</span><span class="op" id="8090341">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090347">&amp;</span><span class="ident" id="8090348">PresenceTest</span><span class="op" id="8090360">{</span><span class="builtinfunc" id="8090361">new</span><span class="op" id="8090364">(</span><span class="keyword" id="8090365">struct</span><span class="op" id="8090371">{</span><span class="op" id="8090372">}</span><span class="op" id="8090373">)</span><span class="op" id="8090374">}</span><span class="op" id="8090375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090379">ExpectXML</span><span class="op" id="8090388">:</span>&nbsp;<span class="string" id="8090390">`&lt;PresenceTest&gt;&lt;Exists&gt;&lt;/Exists&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="8090438">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090441">}</span><span class="op" id="8090442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090449">Value</span><span class="op" id="8090454">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090460">&amp;</span><span class="ident" id="8090461">PresenceTest</span><span class="op" id="8090473">{</span><span class="op" id="8090474">}</span><span class="op" id="8090475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090479">ExpectXML</span><span class="op" id="8090488">:</span>&nbsp;<span class="string" id="8090490">`&lt;PresenceTest&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="8090521">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090524">}</span><span class="op" id="8090525">,</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8090529">//&nbsp;A&nbsp;pointer&nbsp;to&nbsp;struct{}&nbsp;may&nbsp;be&nbsp;used&nbsp;to&nbsp;test&nbsp;for&nbsp;an&nbsp;element&#39;s&nbsp;presence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090606">Value</span><span class="op" id="8090611">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090617">&amp;</span><span class="ident" id="8090618">PresenceTest</span><span class="op" id="8090630">{</span><span class="builtinfunc" id="8090631">new</span><span class="op" id="8090634">(</span><span class="keyword" id="8090635">struct</span><span class="op" id="8090641">{</span><span class="op" id="8090642">}</span><span class="op" id="8090643">)</span><span class="op" id="8090644">}</span><span class="op" id="8090645">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090649">ExpectXML</span><span class="op" id="8090658">:</span>&nbsp;<span class="string" id="8090660">`&lt;PresenceTest&gt;&lt;Exists&gt;&lt;/Exists&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="8090708">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090711">}</span><span class="op" id="8090712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090719">Value</span><span class="op" id="8090724">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090730">&amp;</span><span class="ident" id="8090731">PresenceTest</span><span class="op" id="8090743">{</span><span class="op" id="8090744">}</span><span class="op" id="8090745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090749">ExpectXML</span><span class="op" id="8090758">:</span>&nbsp;<span class="string" id="8090760">`&lt;PresenceTest&gt;&lt;/PresenceTest&gt;`</span><span class="op" id="8090791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090794">}</span><span class="op" id="8090795">,</span><br>
<span class="lineno">415</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8090799">//&nbsp;A&nbsp;[]byte&nbsp;field&nbsp;is&nbsp;only&nbsp;nil&nbsp;if&nbsp;the&nbsp;element&nbsp;was&nbsp;not&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090864">Value</span><span class="op" id="8090869">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090879">&amp;</span><span class="ident" id="8090880">Data</span><span class="op" id="8090884">{</span><span class="op" id="8090885">}</span><span class="op" id="8090886">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090890">ExpectXML</span><span class="op" id="8090899">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8090905">`&lt;Data&gt;&lt;/Data&gt;`</span><span class="op" id="8090920">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090924">UnmarshalOnly</span><span class="op" id="8090937">:</span>&nbsp;<span class="builtintype" id="8090939">true</span><span class="op" id="8090943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090946">}</span><span class="op" id="8090947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8090950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8090954">Value</span><span class="op" id="8090959">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8090969">&amp;</span><span class="ident" id="8090970">Data</span><span class="op" id="8090974">{</span><span class="ident" id="8090975">Bytes</span><span class="op" id="8090980">:</span>&nbsp;<span class="op" id="8090982">[</span><span class="op" id="8090983">]</span><span class="builtintype" id="8090984">byte</span><span class="op" id="8090988">{</span><span class="op" id="8090989">}</span><span class="op" id="8090990">,</span>&nbsp;<span class="ident" id="8090992">Custom</span><span class="op" id="8090998">:</span>&nbsp;<span class="ident" id="8091000">MyBytes</span><span class="op" id="8091007">{</span><span class="op" id="8091008">}</span><span class="op" id="8091009">,</span>&nbsp;<span class="ident" id="8091011">Attr</span><span class="op" id="8091015">:</span>&nbsp;<span class="op" id="8091017">[</span><span class="op" id="8091018">]</span><span class="builtintype" id="8091019">byte</span><span class="op" id="8091023">{</span><span class="op" id="8091024">}</span><span class="op" id="8091025">}</span><span class="op" id="8091026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091030">ExpectXML</span><span class="op" id="8091039">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8091045">`&lt;Data&nbsp;Attr=&#34;&#34;&gt;&lt;Bytes&gt;&lt;/Bytes&gt;&lt;Custom&gt;&lt;/Custom&gt;&lt;/Data&gt;`</span><span class="op" id="8091100">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091104">UnmarshalOnly</span><span class="op" id="8091117">:</span>&nbsp;<span class="builtintype" id="8091119">true</span><span class="op" id="8091123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091126">}</span><span class="op" id="8091127">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8091131">//&nbsp;Check&nbsp;that&nbsp;[]byte&nbsp;works,&nbsp;including&nbsp;named&nbsp;[]byte&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091190">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091194">Value</span><span class="op" id="8091199">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8091205">&amp;</span><span class="ident" id="8091206">Data</span><span class="op" id="8091210">{</span><span class="ident" id="8091211">Bytes</span><span class="op" id="8091216">:</span>&nbsp;<span class="op" id="8091218">[</span><span class="op" id="8091219">]</span><span class="builtintype" id="8091220">byte</span><span class="op" id="8091224">(</span><span class="string" id="8091225">&#34;ab&#34;</span><span class="op" id="8091229">)</span><span class="op" id="8091230">,</span>&nbsp;<span class="ident" id="8091232">Custom</span><span class="op" id="8091238">:</span>&nbsp;<span class="ident" id="8091240">MyBytes</span><span class="op" id="8091247">(</span><span class="string" id="8091248">&#34;cd&#34;</span><span class="op" id="8091252">)</span><span class="op" id="8091253">,</span>&nbsp;<span class="ident" id="8091255">Attr</span><span class="op" id="8091259">:</span>&nbsp;<span class="op" id="8091261">[</span><span class="op" id="8091262">]</span><span class="builtintype" id="8091263">byte</span><span class="op" id="8091267">{</span><span class="string" id="8091268">&#39;v&#39;</span><span class="op" id="8091271">}</span><span class="op" id="8091272">}</span><span class="op" id="8091273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091277">ExpectXML</span><span class="op" id="8091286">:</span>&nbsp;<span class="string" id="8091288">`&lt;Data&nbsp;Attr=&#34;v&#34;&gt;&lt;Bytes&gt;ab&lt;/Bytes&gt;&lt;Custom&gt;cd&lt;/Custom&gt;&lt;/Data&gt;`</span><span class="op" id="8091348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091351">}</span><span class="op" id="8091352">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8091356">//&nbsp;Test&nbsp;innerxml</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091378">Value</span><span class="op" id="8091383">:</span>&nbsp;<span class="op" id="8091385">&amp;</span><span class="ident" id="8091386">SecretAgent</span><span class="op" id="8091397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091402">Handle</span><span class="op" id="8091408">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8091413">&#34;007&#34;</span><span class="op" id="8091418">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091423">Identity</span><span class="op" id="8091431">:</span>&nbsp;&nbsp;<span class="string" id="8091434">&#34;James&nbsp;Bond&#34;</span><span class="op" id="8091446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091451">Obfuscate</span><span class="op" id="8091460">:</span>&nbsp;<span class="string" id="8091462">&#34;&lt;redacted/&gt;&#34;</span><span class="op" id="8091475">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091479">}</span><span class="op" id="8091480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091484">ExpectXML</span><span class="op" id="8091493">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8091497">`&lt;agent&nbsp;handle=&#34;007&#34;&gt;&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;&lt;/agent&gt;`</span><span class="op" id="8091569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091573">MarshalOnly</span><span class="op" id="8091584">:</span>&nbsp;<span class="builtintype" id="8091586">true</span><span class="op" id="8091590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091593">}</span><span class="op" id="8091594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091597">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091601">Value</span><span class="op" id="8091606">:</span>&nbsp;<span class="op" id="8091608">&amp;</span><span class="ident" id="8091609">SecretAgent</span><span class="op" id="8091620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091625">Handle</span><span class="op" id="8091631">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8091636">&#34;007&#34;</span><span class="op" id="8091641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091646">Identity</span><span class="op" id="8091654">:</span>&nbsp;&nbsp;<span class="string" id="8091657">&#34;James&nbsp;Bond&#34;</span><span class="op" id="8091669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091674">Obfuscate</span><span class="op" id="8091683">:</span>&nbsp;<span class="string" id="8091685">&#34;&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;&#34;</span><span class="op" id="8091729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091733">}</span><span class="op" id="8091734">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091738">ExpectXML</span><span class="op" id="8091747">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8091753">`&lt;agent&nbsp;handle=&#34;007&#34;&gt;&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;&lt;/agent&gt;`</span><span class="op" id="8091825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8091829">UnmarshalOnly</span><span class="op" id="8091842">:</span>&nbsp;<span class="builtintype" id="8091844">true</span><span class="op" id="8091848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091851">}</span><span class="op" id="8091852">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8091856">//&nbsp;Test&nbsp;structs</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091873">{</span><span class="ident" id="8091874">Value</span><span class="op" id="8091879">:</span>&nbsp;<span class="op" id="8091881">&amp;</span><span class="ident" id="8091882">Port</span><span class="op" id="8091886">{</span><span class="ident" id="8091887">Type</span><span class="op" id="8091891">:</span>&nbsp;<span class="string" id="8091893">&#34;ssl&#34;</span><span class="op" id="8091898">,</span>&nbsp;<span class="ident" id="8091900">Number</span><span class="op" id="8091906">:</span>&nbsp;<span class="string" id="8091908">&#34;443&#34;</span><span class="op" id="8091913">}</span><span class="op" id="8091914">,</span>&nbsp;<span class="ident" id="8091916">ExpectXML</span><span class="op" id="8091925">:</span>&nbsp;<span class="string" id="8091927">`&lt;port&nbsp;type=&#34;ssl&#34;&gt;443&lt;/port&gt;`</span><span class="op" id="8091956">}</span><span class="op" id="8091957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8091960">{</span><span class="ident" id="8091961">Value</span><span class="op" id="8091966">:</span>&nbsp;<span class="op" id="8091968">&amp;</span><span class="ident" id="8091969">Port</span><span class="op" id="8091973">{</span><span class="ident" id="8091974">Number</span><span class="op" id="8091980">:</span>&nbsp;<span class="string" id="8091982">&#34;443&#34;</span><span class="op" id="8091987">}</span><span class="op" id="8091988">,</span>&nbsp;<span class="ident" id="8091990">ExpectXML</span><span class="op" id="8091999">:</span>&nbsp;<span class="string" id="8092001">`&lt;port&gt;443&lt;/port&gt;`</span><span class="op" id="8092019">}</span><span class="op" id="8092020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092023">{</span><span class="ident" id="8092024">Value</span><span class="op" id="8092029">:</span>&nbsp;<span class="op" id="8092031">&amp;</span><span class="ident" id="8092032">Port</span><span class="op" id="8092036">{</span><span class="ident" id="8092037">Type</span><span class="op" id="8092041">:</span>&nbsp;<span class="string" id="8092043">&#34;&lt;unix&gt;&#34;</span><span class="op" id="8092051">}</span><span class="op" id="8092052">,</span>&nbsp;<span class="ident" id="8092054">ExpectXML</span><span class="op" id="8092063">:</span>&nbsp;<span class="string" id="8092065">`&lt;port&nbsp;type=&#34;&amp;lt;unix&amp;gt;&#34;&gt;&lt;/port&gt;`</span><span class="op" id="8092100">}</span><span class="op" id="8092101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092104">{</span><span class="ident" id="8092105">Value</span><span class="op" id="8092110">:</span>&nbsp;<span class="op" id="8092112">&amp;</span><span class="ident" id="8092113">Port</span><span class="op" id="8092117">{</span><span class="ident" id="8092118">Number</span><span class="op" id="8092124">:</span>&nbsp;<span class="string" id="8092126">&#34;443&#34;</span><span class="op" id="8092131">,</span>&nbsp;<span class="ident" id="8092133">Comment</span><span class="op" id="8092140">:</span>&nbsp;<span class="string" id="8092142">&#34;https&#34;</span><span class="op" id="8092149">}</span><span class="op" id="8092150">,</span>&nbsp;<span class="ident" id="8092152">ExpectXML</span><span class="op" id="8092161">:</span>&nbsp;<span class="string" id="8092163">`&lt;port&gt;&lt;!--https--&gt;443&lt;/port&gt;`</span><span class="op" id="8092193">}</span><span class="op" id="8092194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092197">{</span><span class="ident" id="8092198">Value</span><span class="op" id="8092203">:</span>&nbsp;<span class="op" id="8092205">&amp;</span><span class="ident" id="8092206">Port</span><span class="op" id="8092210">{</span><span class="ident" id="8092211">Number</span><span class="op" id="8092217">:</span>&nbsp;<span class="string" id="8092219">&#34;443&#34;</span><span class="op" id="8092224">,</span>&nbsp;<span class="ident" id="8092226">Comment</span><span class="op" id="8092233">:</span>&nbsp;<span class="string" id="8092235">&#34;add&nbsp;space-&#34;</span><span class="op" id="8092247">}</span><span class="op" id="8092248">,</span>&nbsp;<span class="ident" id="8092250">ExpectXML</span><span class="op" id="8092259">:</span>&nbsp;<span class="string" id="8092261">`&lt;port&gt;&lt;!--add&nbsp;space-&nbsp;--&gt;443&lt;/port&gt;`</span><span class="op" id="8092297">,</span>&nbsp;<span class="ident" id="8092299">MarshalOnly</span><span class="op" id="8092310">:</span>&nbsp;<span class="builtintype" id="8092312">true</span><span class="op" id="8092316">}</span><span class="op" id="8092317">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092320">{</span><span class="ident" id="8092321">Value</span><span class="op" id="8092326">:</span>&nbsp;<span class="op" id="8092328">&amp;</span><span class="ident" id="8092329">Domain</span><span class="op" id="8092335">{</span><span class="ident" id="8092336">Name</span><span class="op" id="8092340">:</span>&nbsp;<span class="op" id="8092342">[</span><span class="op" id="8092343">]</span><span class="builtintype" id="8092344">byte</span><span class="op" id="8092348">(</span><span class="string" id="8092349">&#34;google.com&amp;friends&#34;</span><span class="op" id="8092369">)</span><span class="op" id="8092370">}</span><span class="op" id="8092371">,</span>&nbsp;<span class="ident" id="8092373">ExpectXML</span><span class="op" id="8092382">:</span>&nbsp;<span class="string" id="8092384">`&lt;domain&gt;google.com&amp;amp;friends&lt;/domain&gt;`</span><span class="op" id="8092425">}</span><span class="op" id="8092426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092429">{</span><span class="ident" id="8092430">Value</span><span class="op" id="8092435">:</span>&nbsp;<span class="op" id="8092437">&amp;</span><span class="ident" id="8092438">Domain</span><span class="op" id="8092444">{</span><span class="ident" id="8092445">Name</span><span class="op" id="8092449">:</span>&nbsp;<span class="op" id="8092451">[</span><span class="op" id="8092452">]</span><span class="builtintype" id="8092453">byte</span><span class="op" id="8092457">(</span><span class="string" id="8092458">&#34;google.com&#34;</span><span class="op" id="8092470">)</span><span class="op" id="8092471">,</span>&nbsp;<span class="ident" id="8092473">Comment</span><span class="op" id="8092480">:</span>&nbsp;<span class="op" id="8092482">[</span><span class="op" id="8092483">]</span><span class="builtintype" id="8092484">byte</span><span class="op" id="8092488">(</span><span class="string" id="8092489">&#34;&nbsp;&amp;friends&nbsp;&#34;</span><span class="op" id="8092501">)</span><span class="op" id="8092502">}</span><span class="op" id="8092503">,</span>&nbsp;<span class="ident" id="8092505">ExpectXML</span><span class="op" id="8092514">:</span>&nbsp;<span class="string" id="8092516">`&lt;domain&gt;google.com&lt;!--&nbsp;&amp;friends&nbsp;--&gt;&lt;/domain&gt;`</span><span class="op" id="8092562">}</span><span class="op" id="8092563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092566">{</span><span class="ident" id="8092567">Value</span><span class="op" id="8092572">:</span>&nbsp;<span class="op" id="8092574">&amp;</span><span class="ident" id="8092575">Book</span><span class="op" id="8092579">{</span><span class="ident" id="8092580">Title</span><span class="op" id="8092585">:</span>&nbsp;<span class="string" id="8092587">&#34;Pride&nbsp;&amp;&nbsp;Prejudice&#34;</span><span class="op" id="8092606">}</span><span class="op" id="8092607">,</span>&nbsp;<span class="ident" id="8092609">ExpectXML</span><span class="op" id="8092618">:</span>&nbsp;<span class="string" id="8092620">`&lt;book&gt;Pride&nbsp;&amp;amp;&nbsp;Prejudice&lt;/book&gt;`</span><span class="op" id="8092656">}</span><span class="op" id="8092657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092660">{</span><span class="ident" id="8092661">Value</span><span class="op" id="8092666">:</span>&nbsp;<span class="op" id="8092668">&amp;</span><span class="ident" id="8092669">Event</span><span class="op" id="8092674">{</span><span class="ident" id="8092675">Year</span><span class="op" id="8092679">:</span>&nbsp;<span class="op" id="8092681">-</span><span class="num" id="8092682">3114</span><span class="op" id="8092686">}</span><span class="op" id="8092687">,</span>&nbsp;<span class="ident" id="8092689">ExpectXML</span><span class="op" id="8092698">:</span>&nbsp;<span class="string" id="8092700">`&lt;event&gt;-3114&lt;/event&gt;`</span><span class="op" id="8092722">}</span><span class="op" id="8092723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092726">{</span><span class="ident" id="8092727">Value</span><span class="op" id="8092732">:</span>&nbsp;<span class="op" id="8092734">&amp;</span><span class="ident" id="8092735">Movie</span><span class="op" id="8092740">{</span><span class="ident" id="8092741">Length</span><span class="op" id="8092747">:</span>&nbsp;<span class="num" id="8092749">13440</span><span class="op" id="8092754">}</span><span class="op" id="8092755">,</span>&nbsp;<span class="ident" id="8092757">ExpectXML</span><span class="op" id="8092766">:</span>&nbsp;<span class="string" id="8092768">`&lt;movie&gt;13440&lt;/movie&gt;`</span><span class="op" id="8092790">}</span><span class="op" id="8092791">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092794">{</span><span class="ident" id="8092795">Value</span><span class="op" id="8092800">:</span>&nbsp;<span class="op" id="8092802">&amp;</span><span class="ident" id="8092803">Pi</span><span class="op" id="8092805">{</span><span class="ident" id="8092806">Approximation</span><span class="op" id="8092819">:</span>&nbsp;<span class="num" id="8092821">3.14159265</span><span class="op" id="8092831">}</span><span class="op" id="8092832">,</span>&nbsp;<span class="ident" id="8092834">ExpectXML</span><span class="op" id="8092843">:</span>&nbsp;<span class="string" id="8092845">`&lt;pi&gt;3.1415927&lt;/pi&gt;`</span><span class="op" id="8092865">}</span><span class="op" id="8092866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092869">{</span><span class="ident" id="8092870">Value</span><span class="op" id="8092875">:</span>&nbsp;<span class="op" id="8092877">&amp;</span><span class="ident" id="8092878">Universe</span><span class="op" id="8092886">{</span><span class="ident" id="8092887">Visible</span><span class="op" id="8092894">:</span>&nbsp;<span class="num" id="8092896">9.3e13</span><span class="op" id="8092902">}</span><span class="op" id="8092903">,</span>&nbsp;<span class="ident" id="8092905">ExpectXML</span><span class="op" id="8092914">:</span>&nbsp;<span class="string" id="8092916">`&lt;universe&gt;9.3e+13&lt;/universe&gt;`</span><span class="op" id="8092946">}</span><span class="op" id="8092947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8092950">{</span><span class="ident" id="8092951">Value</span><span class="op" id="8092956">:</span>&nbsp;<span class="op" id="8092958">&amp;</span><span class="ident" id="8092959">Particle</span><span class="op" id="8092967">{</span><span class="ident" id="8092968">HasMass</span><span class="op" id="8092975">:</span>&nbsp;<span class="builtintype" id="8092977">true</span><span class="op" id="8092981">}</span><span class="op" id="8092982">,</span>&nbsp;<span class="ident" id="8092984">ExpectXML</span><span class="op" id="8092993">:</span>&nbsp;<span class="string" id="8092995">`&lt;particle&gt;true&lt;/particle&gt;`</span><span class="op" id="8093022">}</span><span class="op" id="8093023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093026">{</span><span class="ident" id="8093027">Value</span><span class="op" id="8093032">:</span>&nbsp;<span class="op" id="8093034">&amp;</span><span class="ident" id="8093035">Departure</span><span class="op" id="8093044">{</span><span class="ident" id="8093045">When</span><span class="op" id="8093049">:</span>&nbsp;<span class="ident" id="8093051">ParseTime</span><span class="op" id="8093060">(</span><span class="string" id="8093061">&#34;2013-01-09T00:15:00-09:00&#34;</span><span class="op" id="8093088">)</span><span class="op" id="8093089">}</span><span class="op" id="8093090">,</span>&nbsp;<span class="ident" id="8093092">ExpectXML</span><span class="op" id="8093101">:</span>&nbsp;<span class="string" id="8093103">`&lt;departure&gt;2013-01-09T00:15:00-09:00&lt;/departure&gt;`</span><span class="op" id="8093153">}</span><span class="op" id="8093154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093157">{</span><span class="ident" id="8093158">Value</span><span class="op" id="8093163">:</span>&nbsp;<span class="ident" id="8093165">atomValue</span><span class="op" id="8093174">,</span>&nbsp;<span class="ident" id="8093176">ExpectXML</span><span class="op" id="8093185">:</span>&nbsp;<span class="ident" id="8093187">atomXml</span><span class="op" id="8093194">}</span><span class="op" id="8093195">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093202">Value</span><span class="op" id="8093207">:</span>&nbsp;<span class="op" id="8093209">&amp;</span><span class="ident" id="8093210">Ship</span><span class="op" id="8093214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093219">Name</span><span class="op" id="8093223">:</span>&nbsp;&nbsp;<span class="string" id="8093226">&#34;Heart&nbsp;of&nbsp;Gold&#34;</span><span class="op" id="8093241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093246">Pilot</span><span class="op" id="8093251">:</span>&nbsp;<span class="string" id="8093253">&#34;Computer&#34;</span><span class="op" id="8093263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093268">Age</span><span class="op" id="8093271">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8093275">1</span><span class="op" id="8093276">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093281">Drive</span><span class="op" id="8093286">:</span>&nbsp;<span class="ident" id="8093288">ImprobabilityDrive</span><span class="op" id="8093306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093311">Passenger</span><span class="op" id="8093320">:</span>&nbsp;<span class="op" id="8093322">[</span><span class="op" id="8093323">]</span><span class="op" id="8093324">*</span><span class="ident" id="8093325">Passenger</span><span class="op" id="8093334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093347">Name</span><span class="op" id="8093351">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8093355">[</span><span class="op" id="8093356">]</span><span class="builtintype" id="8093357">string</span><span class="op" id="8093363">{</span><span class="string" id="8093364">&#34;Zaphod&#34;</span><span class="op" id="8093372">,</span>&nbsp;<span class="string" id="8093374">&#34;Beeblebrox&#34;</span><span class="op" id="8093386">}</span><span class="op" id="8093387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093394">Weight</span><span class="op" id="8093400">:</span>&nbsp;<span class="num" id="8093402">7.25</span><span class="op" id="8093406">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093412">}</span><span class="op" id="8093413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093426">Name</span><span class="op" id="8093430">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8093434">[</span><span class="op" id="8093435">]</span><span class="builtintype" id="8093436">string</span><span class="op" id="8093442">{</span><span class="string" id="8093443">&#34;Trisha&#34;</span><span class="op" id="8093451">,</span>&nbsp;<span class="string" id="8093453">&#34;McMillen&#34;</span><span class="op" id="8093463">}</span><span class="op" id="8093464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093471">Weight</span><span class="op" id="8093477">:</span>&nbsp;<span class="num" id="8093479">5.5</span><span class="op" id="8093482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093488">}</span><span class="op" id="8093489">,</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093502">Name</span><span class="op" id="8093506">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8093510">[</span><span class="op" id="8093511">]</span><span class="builtintype" id="8093512">string</span><span class="op" id="8093518">{</span><span class="string" id="8093519">&#34;Ford&#34;</span><span class="op" id="8093525">,</span>&nbsp;<span class="string" id="8093527">&#34;Prefect&#34;</span><span class="op" id="8093536">}</span><span class="op" id="8093537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093544">Weight</span><span class="op" id="8093550">:</span>&nbsp;<span class="num" id="8093552">7</span><span class="op" id="8093553">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093559">}</span><span class="op" id="8093560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093566">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093573">Name</span><span class="op" id="8093577">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8093581">[</span><span class="op" id="8093582">]</span><span class="builtintype" id="8093583">string</span><span class="op" id="8093589">{</span><span class="string" id="8093590">&#34;Arthur&#34;</span><span class="op" id="8093598">,</span>&nbsp;<span class="string" id="8093600">&#34;Dent&#34;</span><span class="op" id="8093606">}</span><span class="op" id="8093607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093614">Weight</span><span class="op" id="8093620">:</span>&nbsp;<span class="num" id="8093622">6.75</span><span class="op" id="8093626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093632">}</span><span class="op" id="8093633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093638">}</span><span class="op" id="8093639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8093643">}</span><span class="op" id="8093644">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8093648">ExpectXML</span><span class="op" id="8093657">:</span>&nbsp;<span class="string" id="8093659">`&lt;spaceship&nbsp;name=&#34;Heart&nbsp;of&nbsp;Gold&#34;&nbsp;pilot=&#34;Computer&#34;&gt;`</span>&nbsp;<span class="op" id="8093711">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093716">`&lt;drive&gt;`</span>&nbsp;<span class="op" id="8093726">+</span>&nbsp;<span class="ident" id="8093728">strconv</span><span class="op" id="8093735">.</span><span class="ident" id="8093736">Itoa</span><span class="op" id="8093740">(</span><span class="builtintype" id="8093741">int</span><span class="op" id="8093744">(</span><span class="ident" id="8093745">ImprobabilityDrive</span><span class="op" id="8093763">)</span><span class="op" id="8093764">)</span>&nbsp;<span class="op" id="8093766">+</span>&nbsp;<span class="string" id="8093768">`&lt;/drive&gt;`</span>&nbsp;<span class="op" id="8093779">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093784">`&lt;age&gt;1&lt;/age&gt;`</span>&nbsp;<span class="op" id="8093799">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093804">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="8093818">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093823">`&lt;name&gt;Zaphod&lt;/name&gt;`</span>&nbsp;<span class="op" id="8093845">+</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093850">`&lt;name&gt;Beeblebrox&lt;/name&gt;`</span>&nbsp;<span class="op" id="8093876">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093881">`&lt;weight&gt;7.25&lt;/weight&gt;`</span>&nbsp;<span class="op" id="8093905">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093910">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="8093925">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093930">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="8093944">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093949">`&lt;name&gt;Trisha&lt;/name&gt;`</span>&nbsp;<span class="op" id="8093971">+</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8093976">`&lt;name&gt;McMillen&lt;/name&gt;`</span>&nbsp;<span class="op" id="8094000">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094005">`&lt;weight&gt;5.5&lt;/weight&gt;`</span>&nbsp;<span class="op" id="8094028">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094033">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="8094048">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094053">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="8094067">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094072">`&lt;name&gt;Ford&lt;/name&gt;`</span>&nbsp;<span class="op" id="8094092">+</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094097">`&lt;name&gt;Prefect&lt;/name&gt;`</span>&nbsp;<span class="op" id="8094120">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094125">`&lt;weight&gt;7&lt;/weight&gt;`</span>&nbsp;<span class="op" id="8094146">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094151">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="8094166">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094171">`&lt;passenger&gt;`</span>&nbsp;<span class="op" id="8094185">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094190">`&lt;name&gt;Arthur&lt;/name&gt;`</span>&nbsp;<span class="op" id="8094212">+</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094217">`&lt;name&gt;Dent&lt;/name&gt;`</span>&nbsp;<span class="op" id="8094237">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094242">`&lt;weight&gt;6.75&lt;/weight&gt;`</span>&nbsp;<span class="op" id="8094266">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094271">`&lt;/passenger&gt;`</span>&nbsp;<span class="op" id="8094286">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094291">`&lt;/spaceship&gt;`</span><span class="op" id="8094305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094308">}</span><span class="op" id="8094309">,</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8094313">//&nbsp;Test&nbsp;a&gt;b</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094330">Value</span><span class="op" id="8094335">:</span>&nbsp;<span class="op" id="8094337">&amp;</span><span class="ident" id="8094338">NestedItems</span><span class="op" id="8094349">{</span><span class="ident" id="8094350">Items</span><span class="op" id="8094355">:</span>&nbsp;<span class="ident" id="8094357">nil</span><span class="op" id="8094360">,</span>&nbsp;<span class="ident" id="8094362">Item1</span><span class="op" id="8094367">:</span>&nbsp;<span class="ident" id="8094369">nil</span><span class="op" id="8094372">}</span><span class="op" id="8094373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094377">ExpectXML</span><span class="op" id="8094386">:</span>&nbsp;<span class="string" id="8094388">`&lt;result&gt;`</span>&nbsp;<span class="op" id="8094399">+</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094404">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="8094414">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094419">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="8094430">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094435">`&lt;/result&gt;`</span><span class="op" id="8094446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094449">}</span><span class="op" id="8094450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094453">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094457">Value</span><span class="op" id="8094462">:</span>&nbsp;<span class="op" id="8094464">&amp;</span><span class="ident" id="8094465">NestedItems</span><span class="op" id="8094476">{</span><span class="ident" id="8094477">Items</span><span class="op" id="8094482">:</span>&nbsp;<span class="op" id="8094484">[</span><span class="op" id="8094485">]</span><span class="builtintype" id="8094486">string</span><span class="op" id="8094492">{</span><span class="op" id="8094493">}</span><span class="op" id="8094494">,</span>&nbsp;<span class="ident" id="8094496">Item1</span><span class="op" id="8094501">:</span>&nbsp;<span class="op" id="8094503">[</span><span class="op" id="8094504">]</span><span class="builtintype" id="8094505">string</span><span class="op" id="8094511">{</span><span class="op" id="8094512">}</span><span class="op" id="8094513">}</span><span class="op" id="8094514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094518">ExpectXML</span><span class="op" id="8094527">:</span>&nbsp;<span class="string" id="8094529">`&lt;result&gt;`</span>&nbsp;<span class="op" id="8094540">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094545">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="8094555">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094560">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="8094571">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094576">`&lt;/result&gt;`</span><span class="op" id="8094587">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094591">MarshalOnly</span><span class="op" id="8094602">:</span>&nbsp;<span class="builtintype" id="8094604">true</span><span class="op" id="8094608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094611">}</span><span class="op" id="8094612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094619">Value</span><span class="op" id="8094624">:</span>&nbsp;<span class="op" id="8094626">&amp;</span><span class="ident" id="8094627">NestedItems</span><span class="op" id="8094638">{</span><span class="ident" id="8094639">Items</span><span class="op" id="8094644">:</span>&nbsp;<span class="ident" id="8094646">nil</span><span class="op" id="8094649">,</span>&nbsp;<span class="ident" id="8094651">Item1</span><span class="op" id="8094656">:</span>&nbsp;<span class="op" id="8094658">[</span><span class="op" id="8094659">]</span><span class="builtintype" id="8094660">string</span><span class="op" id="8094666">{</span><span class="string" id="8094667">&#34;A&#34;</span><span class="op" id="8094670">}</span><span class="op" id="8094671">}</span><span class="op" id="8094672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094676">ExpectXML</span><span class="op" id="8094685">:</span>&nbsp;<span class="string" id="8094687">`&lt;result&gt;`</span>&nbsp;<span class="op" id="8094698">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094703">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="8094713">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094718">`&lt;item1&gt;A&lt;/item1&gt;`</span>&nbsp;<span class="op" id="8094737">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094742">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="8094753">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094758">`&lt;/result&gt;`</span><span class="op" id="8094769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094772">}</span><span class="op" id="8094773">,</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094780">Value</span><span class="op" id="8094785">:</span>&nbsp;<span class="op" id="8094787">&amp;</span><span class="ident" id="8094788">NestedItems</span><span class="op" id="8094799">{</span><span class="ident" id="8094800">Items</span><span class="op" id="8094805">:</span>&nbsp;<span class="op" id="8094807">[</span><span class="op" id="8094808">]</span><span class="builtintype" id="8094809">string</span><span class="op" id="8094815">{</span><span class="string" id="8094816">&#34;A&#34;</span><span class="op" id="8094819">,</span>&nbsp;<span class="string" id="8094821">&#34;B&#34;</span><span class="op" id="8094824">}</span><span class="op" id="8094825">,</span>&nbsp;<span class="ident" id="8094827">Item1</span><span class="op" id="8094832">:</span>&nbsp;<span class="ident" id="8094834">nil</span><span class="op" id="8094837">}</span><span class="op" id="8094838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094842">ExpectXML</span><span class="op" id="8094851">:</span>&nbsp;<span class="string" id="8094853">`&lt;result&gt;`</span>&nbsp;<span class="op" id="8094864">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094869">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="8094879">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094884">`&lt;item&gt;A&lt;/item&gt;`</span>&nbsp;<span class="op" id="8094901">+</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094906">`&lt;item&gt;B&lt;/item&gt;`</span>&nbsp;<span class="op" id="8094923">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094928">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="8094939">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8094944">`&lt;/result&gt;`</span><span class="op" id="8094955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094958">}</span><span class="op" id="8094959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8094962">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8094966">Value</span><span class="op" id="8094971">:</span>&nbsp;<span class="op" id="8094973">&amp;</span><span class="ident" id="8094974">NestedItems</span><span class="op" id="8094985">{</span><span class="ident" id="8094986">Items</span><span class="op" id="8094991">:</span>&nbsp;<span class="op" id="8094993">[</span><span class="op" id="8094994">]</span><span class="builtintype" id="8094995">string</span><span class="op" id="8095001">{</span><span class="string" id="8095002">&#34;A&#34;</span><span class="op" id="8095005">,</span>&nbsp;<span class="string" id="8095007">&#34;B&#34;</span><span class="op" id="8095010">}</span><span class="op" id="8095011">,</span>&nbsp;<span class="ident" id="8095013">Item1</span><span class="op" id="8095018">:</span>&nbsp;<span class="op" id="8095020">[</span><span class="op" id="8095021">]</span><span class="builtintype" id="8095022">string</span><span class="op" id="8095028">{</span><span class="string" id="8095029">&#34;C&#34;</span><span class="op" id="8095032">}</span><span class="op" id="8095033">}</span><span class="op" id="8095034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095038">ExpectXML</span><span class="op" id="8095047">:</span>&nbsp;<span class="string" id="8095049">`&lt;result&gt;`</span>&nbsp;<span class="op" id="8095060">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095065">`&lt;Items&gt;`</span>&nbsp;<span class="op" id="8095075">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095080">`&lt;item&gt;A&lt;/item&gt;`</span>&nbsp;<span class="op" id="8095097">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095102">`&lt;item&gt;B&lt;/item&gt;`</span>&nbsp;<span class="op" id="8095119">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095124">`&lt;item1&gt;C&lt;/item1&gt;`</span>&nbsp;<span class="op" id="8095143">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095148">`&lt;/Items&gt;`</span>&nbsp;<span class="op" id="8095159">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095164">`&lt;/result&gt;`</span><span class="op" id="8095175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095178">}</span><span class="op" id="8095179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095182">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095186">Value</span><span class="op" id="8095191">:</span>&nbsp;<span class="op" id="8095193">&amp;</span><span class="ident" id="8095194">NestedOrder</span><span class="op" id="8095205">{</span><span class="ident" id="8095206">Field1</span><span class="op" id="8095212">:</span>&nbsp;<span class="string" id="8095214">&#34;C&#34;</span><span class="op" id="8095217">,</span>&nbsp;<span class="ident" id="8095219">Field2</span><span class="op" id="8095225">:</span>&nbsp;<span class="string" id="8095227">&#34;B&#34;</span><span class="op" id="8095230">,</span>&nbsp;<span class="ident" id="8095232">Field3</span><span class="op" id="8095238">:</span>&nbsp;<span class="string" id="8095240">&#34;A&#34;</span><span class="op" id="8095243">}</span><span class="op" id="8095244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095248">ExpectXML</span><span class="op" id="8095257">:</span>&nbsp;<span class="string" id="8095259">`&lt;result&gt;`</span>&nbsp;<span class="op" id="8095270">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095275">`&lt;parent&gt;`</span>&nbsp;<span class="op" id="8095286">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095291">`&lt;c&gt;C&lt;/c&gt;`</span>&nbsp;<span class="op" id="8095302">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095307">`&lt;b&gt;B&lt;/b&gt;`</span>&nbsp;<span class="op" id="8095318">+</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095323">`&lt;a&gt;A&lt;/a&gt;`</span>&nbsp;<span class="op" id="8095334">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095339">`&lt;/parent&gt;`</span>&nbsp;<span class="op" id="8095351">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095356">`&lt;/result&gt;`</span><span class="op" id="8095367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095370">}</span><span class="op" id="8095371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095374">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095378">Value</span><span class="op" id="8095383">:</span>&nbsp;<span class="op" id="8095385">&amp;</span><span class="ident" id="8095386">NilTest</span><span class="op" id="8095393">{</span><span class="ident" id="8095394">A</span><span class="op" id="8095395">:</span>&nbsp;<span class="string" id="8095397">&#34;A&#34;</span><span class="op" id="8095400">,</span>&nbsp;<span class="ident" id="8095402">B</span><span class="op" id="8095403">:</span>&nbsp;<span class="ident" id="8095405">nil</span><span class="op" id="8095408">,</span>&nbsp;<span class="ident" id="8095410">C</span><span class="op" id="8095411">:</span>&nbsp;<span class="string" id="8095413">&#34;C&#34;</span><span class="op" id="8095416">}</span><span class="op" id="8095417">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095421">ExpectXML</span><span class="op" id="8095430">:</span>&nbsp;<span class="string" id="8095432">`&lt;NilTest&gt;`</span>&nbsp;<span class="op" id="8095444">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095449">`&lt;parent1&gt;`</span>&nbsp;<span class="op" id="8095461">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095466">`&lt;parent2&gt;&lt;a&gt;A&lt;/a&gt;&lt;/parent2&gt;`</span>&nbsp;<span class="op" id="8095496">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095501">`&lt;parent2&gt;&lt;c&gt;C&lt;/c&gt;&lt;/parent2&gt;`</span>&nbsp;<span class="op" id="8095531">+</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095536">`&lt;/parent1&gt;`</span>&nbsp;<span class="op" id="8095549">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095554">`&lt;/NilTest&gt;`</span><span class="op" id="8095566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095570">MarshalOnly</span><span class="op" id="8095581">:</span>&nbsp;<span class="builtintype" id="8095583">true</span><span class="op" id="8095587">,</span>&nbsp;<span class="comment" id="8095589">//&nbsp;Uses&nbsp;interface{}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095610">}</span><span class="op" id="8095611">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095614">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095618">Value</span><span class="op" id="8095623">:</span>&nbsp;<span class="op" id="8095625">&amp;</span><span class="ident" id="8095626">MixedNested</span><span class="op" id="8095637">{</span><span class="ident" id="8095638">A</span><span class="op" id="8095639">:</span>&nbsp;<span class="string" id="8095641">&#34;A&#34;</span><span class="op" id="8095644">,</span>&nbsp;<span class="ident" id="8095646">B</span><span class="op" id="8095647">:</span>&nbsp;<span class="string" id="8095649">&#34;B&#34;</span><span class="op" id="8095652">,</span>&nbsp;<span class="ident" id="8095654">C</span><span class="op" id="8095655">:</span>&nbsp;<span class="string" id="8095657">&#34;C&#34;</span><span class="op" id="8095660">,</span>&nbsp;<span class="ident" id="8095662">D</span><span class="op" id="8095663">:</span>&nbsp;<span class="string" id="8095665">&#34;D&#34;</span><span class="op" id="8095668">}</span><span class="op" id="8095669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095673">ExpectXML</span><span class="op" id="8095682">:</span>&nbsp;<span class="string" id="8095684">`&lt;result&gt;`</span>&nbsp;<span class="op" id="8095695">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095700">`&lt;parent1&gt;&lt;a&gt;A&lt;/a&gt;&lt;/parent1&gt;`</span>&nbsp;<span class="op" id="8095730">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095735">`&lt;b&gt;B&lt;/b&gt;`</span>&nbsp;<span class="op" id="8095746">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095751">`&lt;parent1&gt;`</span>&nbsp;<span class="op" id="8095763">+</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095768">`&lt;parent2&gt;&lt;c&gt;C&lt;/c&gt;&lt;/parent2&gt;`</span>&nbsp;<span class="op" id="8095798">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095803">`&lt;d&gt;D&lt;/d&gt;`</span>&nbsp;<span class="op" id="8095814">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095819">`&lt;/parent1&gt;`</span>&nbsp;<span class="op" id="8095832">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8095837">`&lt;/result&gt;`</span><span class="op" id="8095848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095851">}</span><span class="op" id="8095852">,</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095859">Value</span><span class="op" id="8095864">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095870">&amp;</span><span class="ident" id="8095871">Service</span><span class="op" id="8095878">{</span><span class="ident" id="8095879">Port</span><span class="op" id="8095883">:</span>&nbsp;<span class="op" id="8095885">&amp;</span><span class="ident" id="8095886">Port</span><span class="op" id="8095890">{</span><span class="ident" id="8095891">Number</span><span class="op" id="8095897">:</span>&nbsp;<span class="string" id="8095899">&#34;80&#34;</span><span class="op" id="8095903">}</span><span class="op" id="8095904">}</span><span class="op" id="8095905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095909">ExpectXML</span><span class="op" id="8095918">:</span>&nbsp;<span class="string" id="8095920">`&lt;service&gt;&lt;host&gt;&lt;port&gt;80&lt;/port&gt;&lt;/host&gt;&lt;/service&gt;`</span><span class="op" id="8095969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095972">}</span><span class="op" id="8095973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8095976">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8095980">Value</span><span class="op" id="8095985">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8095991">&amp;</span><span class="ident" id="8095992">Service</span><span class="op" id="8095999">{</span><span class="op" id="8096000">}</span><span class="op" id="8096001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096005">ExpectXML</span><span class="op" id="8096014">:</span>&nbsp;<span class="string" id="8096016">`&lt;service&gt;&lt;/service&gt;`</span><span class="op" id="8096037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096040">}</span><span class="op" id="8096041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096048">Value</span><span class="op" id="8096053">:</span>&nbsp;<span class="op" id="8096055">&amp;</span><span class="ident" id="8096056">Service</span><span class="op" id="8096063">{</span><span class="ident" id="8096064">Port</span><span class="op" id="8096068">:</span>&nbsp;<span class="op" id="8096070">&amp;</span><span class="ident" id="8096071">Port</span><span class="op" id="8096075">{</span><span class="ident" id="8096076">Number</span><span class="op" id="8096082">:</span>&nbsp;<span class="string" id="8096084">&#34;80&#34;</span><span class="op" id="8096088">}</span><span class="op" id="8096089">,</span>&nbsp;<span class="ident" id="8096091">Extra1</span><span class="op" id="8096097">:</span>&nbsp;<span class="string" id="8096099">&#34;A&#34;</span><span class="op" id="8096102">,</span>&nbsp;<span class="ident" id="8096104">Extra2</span><span class="op" id="8096110">:</span>&nbsp;<span class="string" id="8096112">&#34;B&#34;</span><span class="op" id="8096115">}</span><span class="op" id="8096116">,</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096120">ExpectXML</span><span class="op" id="8096129">:</span>&nbsp;<span class="string" id="8096131">`&lt;service&gt;`</span>&nbsp;<span class="op" id="8096143">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096148">`&lt;host&gt;&lt;port&gt;80&lt;/port&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="8096179">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096184">`&lt;Extra1&gt;A&lt;/Extra1&gt;`</span>&nbsp;<span class="op" id="8096205">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096210">`&lt;host&gt;&lt;extra2&gt;B&lt;/extra2&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="8096244">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096249">`&lt;/service&gt;`</span><span class="op" id="8096261">,</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096265">MarshalOnly</span><span class="op" id="8096276">:</span>&nbsp;<span class="builtintype" id="8096278">true</span><span class="op" id="8096282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096285">}</span><span class="op" id="8096286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096293">Value</span><span class="op" id="8096298">:</span>&nbsp;<span class="op" id="8096300">&amp;</span><span class="ident" id="8096301">Service</span><span class="op" id="8096308">{</span><span class="ident" id="8096309">Port</span><span class="op" id="8096313">:</span>&nbsp;<span class="op" id="8096315">&amp;</span><span class="ident" id="8096316">Port</span><span class="op" id="8096320">{</span><span class="ident" id="8096321">Number</span><span class="op" id="8096327">:</span>&nbsp;<span class="string" id="8096329">&#34;80&#34;</span><span class="op" id="8096333">}</span><span class="op" id="8096334">,</span>&nbsp;<span class="ident" id="8096336">Extra2</span><span class="op" id="8096342">:</span>&nbsp;<span class="string" id="8096344">&#34;example&#34;</span><span class="op" id="8096353">}</span><span class="op" id="8096354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096358">ExpectXML</span><span class="op" id="8096367">:</span>&nbsp;<span class="string" id="8096369">`&lt;service&gt;`</span>&nbsp;<span class="op" id="8096381">+</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096386">`&lt;host&gt;&lt;port&gt;80&lt;/port&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="8096417">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096422">`&lt;host&gt;&lt;extra2&gt;example&lt;/extra2&gt;&lt;/host&gt;`</span>&nbsp;<span class="op" id="8096462">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096467">`&lt;/service&gt;`</span><span class="op" id="8096479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096483">MarshalOnly</span><span class="op" id="8096494">:</span>&nbsp;<span class="builtintype" id="8096496">true</span><span class="op" id="8096500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096503">}</span><span class="op" id="8096504">,</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8096508">//&nbsp;Test&nbsp;struct&nbsp;embedding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096538">Value</span><span class="op" id="8096543">:</span>&nbsp;<span class="op" id="8096545">&amp;</span><span class="ident" id="8096546">EmbedA</span><span class="op" id="8096552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096557">EmbedC</span><span class="op" id="8096563">:</span>&nbsp;<span class="ident" id="8096565">EmbedC</span><span class="op" id="8096571">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096577">FieldA1</span><span class="op" id="8096584">:</span>&nbsp;<span class="string" id="8096586">&#34;&#34;</span><span class="op" id="8096588">,</span>&nbsp;<span class="comment" id="8096590">//&nbsp;Shadowed&nbsp;by&nbsp;A.A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096613">FieldA2</span><span class="op" id="8096620">:</span>&nbsp;<span class="string" id="8096622">&#34;&#34;</span><span class="op" id="8096624">,</span>&nbsp;<span class="comment" id="8096626">//&nbsp;Shadowed&nbsp;by&nbsp;A.A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096649">FieldB</span><span class="op" id="8096655">:</span>&nbsp;&nbsp;<span class="string" id="8096658">&#34;A.C.B&#34;</span><span class="op" id="8096665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096671">FieldC</span><span class="op" id="8096677">:</span>&nbsp;&nbsp;<span class="string" id="8096680">&#34;A.C.C&#34;</span><span class="op" id="8096687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096692">}</span><span class="op" id="8096693">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096698">EmbedB</span><span class="op" id="8096704">:</span>&nbsp;<span class="ident" id="8096706">EmbedB</span><span class="op" id="8096712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096718">FieldB</span><span class="op" id="8096724">:</span>&nbsp;<span class="string" id="8096726">&#34;A.B.B&#34;</span><span class="op" id="8096733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096739">EmbedC</span><span class="op" id="8096745">:</span>&nbsp;<span class="op" id="8096747">&amp;</span><span class="ident" id="8096748">EmbedC</span><span class="op" id="8096754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096761">FieldA1</span><span class="op" id="8096768">:</span>&nbsp;<span class="string" id="8096770">&#34;A.B.C.A1&#34;</span><span class="op" id="8096780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096787">FieldA2</span><span class="op" id="8096794">:</span>&nbsp;<span class="string" id="8096796">&#34;A.B.C.A2&#34;</span><span class="op" id="8096806">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096813">FieldB</span><span class="op" id="8096819">:</span>&nbsp;&nbsp;<span class="string" id="8096822">&#34;&#34;</span><span class="op" id="8096824">,</span>&nbsp;<span class="comment" id="8096826">//&nbsp;Shadowed&nbsp;by&nbsp;A.B.B</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096852">FieldC</span><span class="op" id="8096858">:</span>&nbsp;&nbsp;<span class="string" id="8096861">&#34;A.B.C.C&#34;</span><span class="op" id="8096870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096876">}</span><span class="op" id="8096877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096882">}</span><span class="op" id="8096883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096888">FieldA</span><span class="op" id="8096894">:</span>&nbsp;<span class="string" id="8096896">&#34;A.A&#34;</span><span class="op" id="8096901">,</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8096905">}</span><span class="op" id="8096906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8096910">ExpectXML</span><span class="op" id="8096919">:</span>&nbsp;<span class="string" id="8096921">`&lt;EmbedA&gt;`</span>&nbsp;<span class="op" id="8096932">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096937">`&lt;FieldB&gt;A.C.B&lt;/FieldB&gt;`</span>&nbsp;<span class="op" id="8096962">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096967">`&lt;FieldC&gt;A.C.C&lt;/FieldC&gt;`</span>&nbsp;<span class="op" id="8096992">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8096997">`&lt;EmbedB&gt;`</span>&nbsp;<span class="op" id="8097008">+</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097013">`&lt;FieldB&gt;A.B.B&lt;/FieldB&gt;`</span>&nbsp;<span class="op" id="8097038">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097043">`&lt;FieldA&gt;`</span>&nbsp;<span class="op" id="8097054">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097059">`&lt;A1&gt;A.B.C.A1&lt;/A1&gt;`</span>&nbsp;<span class="op" id="8097079">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097084">`&lt;A2&gt;A.B.C.A2&lt;/A2&gt;`</span>&nbsp;<span class="op" id="8097104">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097109">`&lt;/FieldA&gt;`</span>&nbsp;<span class="op" id="8097121">+</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097126">`&lt;FieldC&gt;A.B.C.C&lt;/FieldC&gt;`</span>&nbsp;<span class="op" id="8097153">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097158">`&lt;/EmbedB&gt;`</span>&nbsp;<span class="op" id="8097170">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097175">`&lt;FieldA&gt;A.A&lt;/FieldA&gt;`</span>&nbsp;<span class="op" id="8097198">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097203">`&lt;/EmbedA&gt;`</span><span class="op" id="8097214">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097217">}</span><span class="op" id="8097218">,</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8097222">//&nbsp;Test&nbsp;that&nbsp;name&nbsp;casing&nbsp;matters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097260">Value</span><span class="op" id="8097265">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8097271">&amp;</span><span class="ident" id="8097272">NameCasing</span><span class="op" id="8097282">{</span><span class="ident" id="8097283">Xy</span><span class="op" id="8097285">:</span>&nbsp;<span class="string" id="8097287">&#34;mixed&#34;</span><span class="op" id="8097294">,</span>&nbsp;<span class="ident" id="8097296">XY</span><span class="op" id="8097298">:</span>&nbsp;<span class="string" id="8097300">&#34;upper&#34;</span><span class="op" id="8097307">,</span>&nbsp;<span class="ident" id="8097309">XyA</span><span class="op" id="8097312">:</span>&nbsp;<span class="string" id="8097314">&#34;mixedA&#34;</span><span class="op" id="8097322">,</span>&nbsp;<span class="ident" id="8097324">XYA</span><span class="op" id="8097327">:</span>&nbsp;<span class="string" id="8097329">&#34;upperA&#34;</span><span class="op" id="8097337">}</span><span class="op" id="8097338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097342">ExpectXML</span><span class="op" id="8097351">:</span>&nbsp;<span class="string" id="8097353">`&lt;casing&nbsp;Xy=&#34;mixedA&#34;&nbsp;XY=&#34;upperA&#34;&gt;&lt;Xy&gt;mixed&lt;/Xy&gt;&lt;XY&gt;upper&lt;/XY&gt;&lt;/casing&gt;`</span><span class="op" id="8097424">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097427">}</span><span class="op" id="8097428">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8097432">//&nbsp;Test&nbsp;the&nbsp;order&nbsp;in&nbsp;which&nbsp;the&nbsp;XML&nbsp;element&nbsp;name&nbsp;is&nbsp;chosen</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097495">Value</span><span class="op" id="8097500">:</span>&nbsp;<span class="op" id="8097502">&amp;</span><span class="ident" id="8097503">NamePrecedence</span><span class="op" id="8097517">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097522">FromTag</span><span class="op" id="8097529">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097535">XMLNameWithoutTag</span><span class="op" id="8097552">{</span><span class="ident" id="8097553">Value</span><span class="op" id="8097558">:</span>&nbsp;<span class="string" id="8097560">&#34;A&#34;</span><span class="op" id="8097563">}</span><span class="op" id="8097564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097569">FromNameVal</span><span class="op" id="8097580">:</span>&nbsp;<span class="ident" id="8097582">XMLNameWithoutTag</span><span class="op" id="8097599">{</span><span class="ident" id="8097600">XMLName</span><span class="op" id="8097607">:</span>&nbsp;<span class="ident" id="8097609">Name</span><span class="op" id="8097613">{</span><span class="ident" id="8097614">Local</span><span class="op" id="8097619">:</span>&nbsp;<span class="string" id="8097621">&#34;InXMLName&#34;</span><span class="op" id="8097632">}</span><span class="op" id="8097633">,</span>&nbsp;<span class="ident" id="8097635">Value</span><span class="op" id="8097640">:</span>&nbsp;<span class="string" id="8097642">&#34;B&#34;</span><span class="op" id="8097645">}</span><span class="op" id="8097646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097651">FromNameTag</span><span class="op" id="8097662">:</span>&nbsp;<span class="ident" id="8097664">XMLNameWithTag</span><span class="op" id="8097678">{</span><span class="ident" id="8097679">Value</span><span class="op" id="8097684">:</span>&nbsp;<span class="string" id="8097686">&#34;C&#34;</span><span class="op" id="8097689">}</span><span class="op" id="8097690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097695">InFieldName</span><span class="op" id="8097706">:</span>&nbsp;<span class="string" id="8097708">&#34;D&#34;</span><span class="op" id="8097711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097715">}</span><span class="op" id="8097716">,</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097720">ExpectXML</span><span class="op" id="8097729">:</span>&nbsp;<span class="string" id="8097731">`&lt;Parent&gt;`</span>&nbsp;<span class="op" id="8097742">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097747">`&lt;InTag&gt;A&lt;/InTag&gt;`</span>&nbsp;<span class="op" id="8097766">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097771">`&lt;InXMLName&gt;B&lt;/InXMLName&gt;`</span>&nbsp;<span class="op" id="8097798">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097803">`&lt;InXMLNameTag&gt;C&lt;/InXMLNameTag&gt;`</span>&nbsp;<span class="op" id="8097836">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097841">`&lt;InFieldName&gt;D&lt;/InFieldName&gt;`</span>&nbsp;<span class="op" id="8097872">+</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8097877">`&lt;/Parent&gt;`</span><span class="op" id="8097888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097892">MarshalOnly</span><span class="op" id="8097903">:</span>&nbsp;<span class="builtintype" id="8097905">true</span><span class="op" id="8097909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097912">}</span><span class="op" id="8097913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8097916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097920">Value</span><span class="op" id="8097925">:</span>&nbsp;<span class="op" id="8097927">&amp;</span><span class="ident" id="8097928">NamePrecedence</span><span class="op" id="8097942">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097947">XMLName</span><span class="op" id="8097954">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097960">Name</span><span class="op" id="8097964">{</span><span class="ident" id="8097965">Local</span><span class="op" id="8097970">:</span>&nbsp;<span class="string" id="8097972">&#34;Parent&#34;</span><span class="op" id="8097980">}</span><span class="op" id="8097981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8097986">FromTag</span><span class="op" id="8097993">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8097999">XMLNameWithoutTag</span><span class="op" id="8098016">{</span><span class="ident" id="8098017">XMLName</span><span class="op" id="8098024">:</span>&nbsp;<span class="ident" id="8098026">Name</span><span class="op" id="8098030">{</span><span class="ident" id="8098031">Local</span><span class="op" id="8098036">:</span>&nbsp;<span class="string" id="8098038">&#34;InTag&#34;</span><span class="op" id="8098045">}</span><span class="op" id="8098046">,</span>&nbsp;<span class="ident" id="8098048">Value</span><span class="op" id="8098053">:</span>&nbsp;<span class="string" id="8098055">&#34;A&#34;</span><span class="op" id="8098058">}</span><span class="op" id="8098059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098064">FromNameVal</span><span class="op" id="8098075">:</span>&nbsp;<span class="ident" id="8098077">XMLNameWithoutTag</span><span class="op" id="8098094">{</span><span class="ident" id="8098095">XMLName</span><span class="op" id="8098102">:</span>&nbsp;<span class="ident" id="8098104">Name</span><span class="op" id="8098108">{</span><span class="ident" id="8098109">Local</span><span class="op" id="8098114">:</span>&nbsp;<span class="string" id="8098116">&#34;FromNameVal&#34;</span><span class="op" id="8098129">}</span><span class="op" id="8098130">,</span>&nbsp;<span class="ident" id="8098132">Value</span><span class="op" id="8098137">:</span>&nbsp;<span class="string" id="8098139">&#34;B&#34;</span><span class="op" id="8098142">}</span><span class="op" id="8098143">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098148">FromNameTag</span><span class="op" id="8098159">:</span>&nbsp;<span class="ident" id="8098161">XMLNameWithTag</span><span class="op" id="8098175">{</span><span class="ident" id="8098176">XMLName</span><span class="op" id="8098183">:</span>&nbsp;<span class="ident" id="8098185">Name</span><span class="op" id="8098189">{</span><span class="ident" id="8098190">Local</span><span class="op" id="8098195">:</span>&nbsp;<span class="string" id="8098197">&#34;InXMLNameTag&#34;</span><span class="op" id="8098211">}</span><span class="op" id="8098212">,</span>&nbsp;<span class="ident" id="8098214">Value</span><span class="op" id="8098219">:</span>&nbsp;<span class="string" id="8098221">&#34;C&#34;</span><span class="op" id="8098224">}</span><span class="op" id="8098225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098230">InFieldName</span><span class="op" id="8098241">:</span>&nbsp;<span class="string" id="8098243">&#34;D&#34;</span><span class="op" id="8098246">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098250">}</span><span class="op" id="8098251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098255">ExpectXML</span><span class="op" id="8098264">:</span>&nbsp;<span class="string" id="8098266">`&lt;Parent&gt;`</span>&nbsp;<span class="op" id="8098277">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8098282">`&lt;InTag&gt;A&lt;/InTag&gt;`</span>&nbsp;<span class="op" id="8098301">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8098306">`&lt;FromNameVal&gt;B&lt;/FromNameVal&gt;`</span>&nbsp;<span class="op" id="8098337">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8098342">`&lt;InXMLNameTag&gt;C&lt;/InXMLNameTag&gt;`</span>&nbsp;<span class="op" id="8098375">+</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8098380">`&lt;InFieldName&gt;D&lt;/InFieldName&gt;`</span>&nbsp;<span class="op" id="8098411">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8098416">`&lt;/Parent&gt;`</span><span class="op" id="8098427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098431">UnmarshalOnly</span><span class="op" id="8098444">:</span>&nbsp;<span class="builtintype" id="8098446">true</span><span class="op" id="8098450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098453">}</span><span class="op" id="8098454">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8098458">//&nbsp;xml.Name&nbsp;works&nbsp;in&nbsp;a&nbsp;plain&nbsp;field&nbsp;as&nbsp;well.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098507">Value</span><span class="op" id="8098512">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098518">&amp;</span><span class="ident" id="8098519">NameInField</span><span class="op" id="8098530">{</span><span class="ident" id="8098531">Name</span><span class="op" id="8098535">{</span><span class="ident" id="8098536">Space</span><span class="op" id="8098541">:</span>&nbsp;<span class="string" id="8098543">&#34;ns&#34;</span><span class="op" id="8098547">,</span>&nbsp;<span class="ident" id="8098549">Local</span><span class="op" id="8098554">:</span>&nbsp;<span class="string" id="8098556">&#34;foo&#34;</span><span class="op" id="8098561">}</span><span class="op" id="8098562">}</span><span class="op" id="8098563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098567">ExpectXML</span><span class="op" id="8098576">:</span>&nbsp;<span class="string" id="8098578">`&lt;NameInField&gt;&lt;foo&nbsp;xmlns=&#34;ns&#34;&gt;&lt;/foo&gt;&lt;/NameInField&gt;`</span><span class="op" id="8098629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098632">}</span><span class="op" id="8098633">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098640">Value</span><span class="op" id="8098645">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098655">&amp;</span><span class="ident" id="8098656">NameInField</span><span class="op" id="8098667">{</span><span class="ident" id="8098668">Name</span><span class="op" id="8098672">{</span><span class="ident" id="8098673">Space</span><span class="op" id="8098678">:</span>&nbsp;<span class="string" id="8098680">&#34;ns&#34;</span><span class="op" id="8098684">,</span>&nbsp;<span class="ident" id="8098686">Local</span><span class="op" id="8098691">:</span>&nbsp;<span class="string" id="8098693">&#34;foo&#34;</span><span class="op" id="8098698">}</span><span class="op" id="8098699">}</span><span class="op" id="8098700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098704">ExpectXML</span><span class="op" id="8098713">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8098719">`&lt;NameInField&gt;&lt;foo&nbsp;xmlns=&#34;ns&#34;&gt;&lt;ignore&gt;&lt;/ignore&gt;&lt;/foo&gt;&lt;/NameInField&gt;`</span><span class="op" id="8098787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098791">UnmarshalOnly</span><span class="op" id="8098804">:</span>&nbsp;<span class="builtintype" id="8098806">true</span><span class="op" id="8098810">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098813">}</span><span class="op" id="8098814">,</span><br>
<span class="lineno">705</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8098818">//&nbsp;Marshaling&nbsp;zero&nbsp;xml.Name&nbsp;uses&nbsp;the&nbsp;tag&nbsp;or&nbsp;field&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098879">Value</span><span class="op" id="8098884">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8098892">&amp;</span><span class="ident" id="8098893">NameInField</span><span class="op" id="8098904">{</span><span class="op" id="8098905">}</span><span class="op" id="8098906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098910">ExpectXML</span><span class="op" id="8098919">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8098923">`&lt;NameInField&gt;&lt;foo&nbsp;xmlns=&#34;ns&#34;&gt;&lt;/foo&gt;&lt;/NameInField&gt;`</span><span class="op" id="8098974">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8098978">MarshalOnly</span><span class="op" id="8098989">:</span>&nbsp;<span class="builtintype" id="8098991">true</span><span class="op" id="8098995">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8098998">}</span><span class="op" id="8098999">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8099003">//&nbsp;Test&nbsp;attributes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099023">{</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099027">Value</span><span class="op" id="8099032">:</span>&nbsp;<span class="op" id="8099034">&amp;</span><span class="ident" id="8099035">AttrTest</span><span class="op" id="8099043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099048">Int</span><span class="op" id="8099051">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8099055">8</span><span class="op" id="8099056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099061">Named</span><span class="op" id="8099066">:</span>&nbsp;<span class="num" id="8099068">9</span><span class="op" id="8099069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099074">Float</span><span class="op" id="8099079">:</span>&nbsp;<span class="num" id="8099081">23.5</span><span class="op" id="8099085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099090">Uint8</span><span class="op" id="8099095">:</span>&nbsp;<span class="num" id="8099097">255</span><span class="op" id="8099100">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099105">Bool</span><span class="op" id="8099109">:</span>&nbsp;&nbsp;<span class="builtintype" id="8099112">true</span><span class="op" id="8099116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099121">Str</span><span class="op" id="8099124">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8099128">&#34;str&#34;</span><span class="op" id="8099133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099138">Bytes</span><span class="op" id="8099143">:</span>&nbsp;<span class="op" id="8099145">[</span><span class="op" id="8099146">]</span><span class="builtintype" id="8099147">byte</span><span class="op" id="8099151">(</span><span class="string" id="8099152">&#34;byt&#34;</span><span class="op" id="8099157">)</span><span class="op" id="8099158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099162">}</span><span class="op" id="8099163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099167">ExpectXML</span><span class="op" id="8099176">:</span>&nbsp;<span class="string" id="8099178">`&lt;AttrTest&nbsp;Int=&#34;8&#34;&nbsp;int=&#34;9&#34;&nbsp;Float=&#34;23.5&#34;&nbsp;Uint8=&#34;255&#34;`</span>&nbsp;<span class="op" id="8099231">+</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8099236">`&nbsp;Bool=&#34;true&#34;&nbsp;Str=&#34;str&#34;&nbsp;Bytes=&#34;byt&#34;&gt;&lt;/AttrTest&gt;`</span><span class="op" id="8099284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099287">}</span><span class="op" id="8099288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099295">Value</span><span class="op" id="8099300">:</span>&nbsp;<span class="op" id="8099302">&amp;</span><span class="ident" id="8099303">AttrTest</span><span class="op" id="8099311">{</span><span class="ident" id="8099312">Bytes</span><span class="op" id="8099317">:</span>&nbsp;<span class="op" id="8099319">[</span><span class="op" id="8099320">]</span><span class="builtintype" id="8099321">byte</span><span class="op" id="8099325">{</span><span class="op" id="8099326">}</span><span class="op" id="8099327">}</span><span class="op" id="8099328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099332">ExpectXML</span><span class="op" id="8099341">:</span>&nbsp;<span class="string" id="8099343">`&lt;AttrTest&nbsp;Int=&#34;0&#34;&nbsp;int=&#34;0&#34;&nbsp;Float=&#34;0&#34;&nbsp;Uint8=&#34;0&#34;`</span>&nbsp;<span class="op" id="8099391">+</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8099396">`&nbsp;Bool=&#34;false&#34;&nbsp;Str=&#34;&#34;&nbsp;Bytes=&#34;&#34;&gt;&lt;/AttrTest&gt;`</span><span class="op" id="8099439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099442">}</span><span class="op" id="8099443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099450">Value</span><span class="op" id="8099455">:</span>&nbsp;<span class="op" id="8099457">&amp;</span><span class="ident" id="8099458">OmitAttrTest</span><span class="op" id="8099470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099475">Int</span><span class="op" id="8099478">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8099482">8</span><span class="op" id="8099483">,</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099488">Named</span><span class="op" id="8099493">:</span>&nbsp;<span class="num" id="8099495">9</span><span class="op" id="8099496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099501">Float</span><span class="op" id="8099506">:</span>&nbsp;<span class="num" id="8099508">23.5</span><span class="op" id="8099512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099517">Uint8</span><span class="op" id="8099522">:</span>&nbsp;<span class="num" id="8099524">255</span><span class="op" id="8099527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099532">Bool</span><span class="op" id="8099536">:</span>&nbsp;&nbsp;<span class="builtintype" id="8099539">true</span><span class="op" id="8099543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099548">Str</span><span class="op" id="8099551">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8099555">&#34;str&#34;</span><span class="op" id="8099560">,</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099565">Bytes</span><span class="op" id="8099570">:</span>&nbsp;<span class="op" id="8099572">[</span><span class="op" id="8099573">]</span><span class="builtintype" id="8099574">byte</span><span class="op" id="8099578">(</span><span class="string" id="8099579">&#34;byt&#34;</span><span class="op" id="8099584">)</span><span class="op" id="8099585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099589">}</span><span class="op" id="8099590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099594">ExpectXML</span><span class="op" id="8099603">:</span>&nbsp;<span class="string" id="8099605">`&lt;OmitAttrTest&nbsp;Int=&#34;8&#34;&nbsp;int=&#34;9&#34;&nbsp;Float=&#34;23.5&#34;&nbsp;Uint8=&#34;255&#34;`</span>&nbsp;<span class="op" id="8099662">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8099667">`&nbsp;Bool=&#34;true&#34;&nbsp;Str=&#34;str&#34;&nbsp;Bytes=&#34;byt&#34;&gt;&lt;/OmitAttrTest&gt;`</span><span class="op" id="8099719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099722">}</span><span class="op" id="8099723">,</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099730">Value</span><span class="op" id="8099735">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8099741">&amp;</span><span class="ident" id="8099742">OmitAttrTest</span><span class="op" id="8099754">{</span><span class="op" id="8099755">}</span><span class="op" id="8099756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099760">ExpectXML</span><span class="op" id="8099769">:</span>&nbsp;<span class="string" id="8099771">`&lt;OmitAttrTest&gt;&lt;/OmitAttrTest&gt;`</span><span class="op" id="8099802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099805">}</span><span class="op" id="8099806">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8099810">//&nbsp;pointer&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8099829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099833">Value</span><span class="op" id="8099838">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8099846">&amp;</span><span class="ident" id="8099847">PointerFieldsTest</span><span class="op" id="8099864">{</span><span class="ident" id="8099865">Name</span><span class="op" id="8099869">:</span>&nbsp;<span class="op" id="8099871">&amp;</span><span class="ident" id="8099872">nameAttr</span><span class="op" id="8099880">,</span>&nbsp;<span class="ident" id="8099882">Age</span><span class="op" id="8099885">:</span>&nbsp;<span class="op" id="8099887">&amp;</span><span class="ident" id="8099888">ageAttr</span><span class="op" id="8099895">,</span>&nbsp;<span class="ident" id="8099897">Contents</span><span class="op" id="8099905">:</span>&nbsp;<span class="op" id="8099907">&amp;</span><span class="ident" id="8099908">contentsAttr</span><span class="op" id="8099920">}</span><span class="op" id="8099921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099925">ExpectXML</span><span class="op" id="8099934">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8099938">`&lt;dummy&nbsp;name=&#34;Sarah&#34;&nbsp;age=&#34;12&#34;&gt;lorem&nbsp;ipsum&lt;/dummy&gt;`</span><span class="op" id="8099988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8099992">MarshalOnly</span><span class="op" id="8100003">:</span>&nbsp;<span class="builtintype" id="8100005">true</span><span class="op" id="8100009">,</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100012">}</span><span class="op" id="8100013">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8100017">//&nbsp;empty&nbsp;chardata&nbsp;pointer&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100054">Value</span><span class="op" id="8100059">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100067">&amp;</span><span class="ident" id="8100068">ChardataEmptyTest</span><span class="op" id="8100085">{</span><span class="op" id="8100086">}</span><span class="op" id="8100087">,</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100091">ExpectXML</span><span class="op" id="8100100">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8100104">`&lt;test&gt;&lt;/test&gt;`</span><span class="op" id="8100119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100123">MarshalOnly</span><span class="op" id="8100134">:</span>&nbsp;<span class="builtintype" id="8100136">true</span><span class="op" id="8100140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100143">}</span><span class="op" id="8100144">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8100148">//&nbsp;omitempty&nbsp;on&nbsp;fields</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100176">Value</span><span class="op" id="8100181">:</span>&nbsp;<span class="op" id="8100183">&amp;</span><span class="ident" id="8100184">OmitFieldTest</span><span class="op" id="8100197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100202">Int</span><span class="op" id="8100205">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="8100209">8</span><span class="op" id="8100210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100215">Named</span><span class="op" id="8100220">:</span>&nbsp;<span class="num" id="8100222">9</span><span class="op" id="8100223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100228">Float</span><span class="op" id="8100233">:</span>&nbsp;<span class="num" id="8100235">23.5</span><span class="op" id="8100239">,</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100244">Uint8</span><span class="op" id="8100249">:</span>&nbsp;<span class="num" id="8100251">255</span><span class="op" id="8100254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100259">Bool</span><span class="op" id="8100263">:</span>&nbsp;&nbsp;<span class="builtintype" id="8100266">true</span><span class="op" id="8100270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100275">Str</span><span class="op" id="8100278">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8100282">&#34;str&#34;</span><span class="op" id="8100287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100292">Bytes</span><span class="op" id="8100297">:</span>&nbsp;<span class="op" id="8100299">[</span><span class="op" id="8100300">]</span><span class="builtintype" id="8100301">byte</span><span class="op" id="8100305">(</span><span class="string" id="8100306">&#34;byt&#34;</span><span class="op" id="8100311">)</span><span class="op" id="8100312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100317">Ptr</span><span class="op" id="8100320">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8100324">&amp;</span><span class="ident" id="8100325">PresenceTest</span><span class="op" id="8100337">{</span><span class="op" id="8100338">}</span><span class="op" id="8100339">,</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100343">}</span><span class="op" id="8100344">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100348">ExpectXML</span><span class="op" id="8100357">:</span>&nbsp;<span class="string" id="8100359">`&lt;OmitFieldTest&gt;`</span>&nbsp;<span class="op" id="8100377">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100382">`&lt;Int&gt;8&lt;/Int&gt;`</span>&nbsp;<span class="op" id="8100397">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100402">`&lt;int&gt;9&lt;/int&gt;`</span>&nbsp;<span class="op" id="8100417">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100422">`&lt;Float&gt;23.5&lt;/Float&gt;`</span>&nbsp;<span class="op" id="8100444">+</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100449">`&lt;Uint8&gt;255&lt;/Uint8&gt;`</span>&nbsp;<span class="op" id="8100470">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100475">`&lt;Bool&gt;true&lt;/Bool&gt;`</span>&nbsp;<span class="op" id="8100495">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100500">`&lt;Str&gt;str&lt;/Str&gt;`</span>&nbsp;<span class="op" id="8100517">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100522">`&lt;Bytes&gt;byt&lt;/Bytes&gt;`</span>&nbsp;<span class="op" id="8100543">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100548">`&lt;Ptr&gt;&lt;/Ptr&gt;`</span>&nbsp;<span class="op" id="8100562">+</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8100567">`&lt;/OmitFieldTest&gt;`</span><span class="op" id="8100585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100588">}</span><span class="op" id="8100589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100596">Value</span><span class="op" id="8100601">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8100607">&amp;</span><span class="ident" id="8100608">OmitFieldTest</span><span class="op" id="8100621">{</span><span class="op" id="8100622">}</span><span class="op" id="8100623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100627">ExpectXML</span><span class="op" id="8100636">:</span>&nbsp;<span class="string" id="8100638">`&lt;OmitFieldTest&gt;&lt;/OmitFieldTest&gt;`</span><span class="op" id="8100671">,</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100674">}</span><span class="op" id="8100675">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8100679">//&nbsp;Test&nbsp;&#34;,any&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100699">ExpectXML</span><span class="op" id="8100708">:</span>&nbsp;<span class="string" id="8100710">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;known&lt;/value&gt;&lt;/nested&gt;&lt;other&gt;&lt;sub&gt;unknown&lt;/sub&gt;&lt;/other&gt;&lt;/a&gt;`</span><span class="op" id="8100789">,</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100793">Value</span><span class="op" id="8100798">:</span>&nbsp;<span class="op" id="8100800">&amp;</span><span class="ident" id="8100801">AnyTest</span><span class="op" id="8100808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100813">Nested</span><span class="op" id="8100819">:</span>&nbsp;<span class="string" id="8100821">&#34;known&#34;</span><span class="op" id="8100828">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100833">AnyField</span><span class="op" id="8100841">:</span>&nbsp;<span class="ident" id="8100843">AnyHolder</span><span class="op" id="8100852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100858">XMLName</span><span class="op" id="8100865">:</span>&nbsp;<span class="ident" id="8100867">Name</span><span class="op" id="8100871">{</span><span class="ident" id="8100872">Local</span><span class="op" id="8100877">:</span>&nbsp;<span class="string" id="8100879">&#34;other&#34;</span><span class="op" id="8100886">}</span><span class="op" id="8100887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100893">XML</span><span class="op" id="8100896">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8100902">&#34;&lt;sub&gt;unknown&lt;/sub&gt;&#34;</span><span class="op" id="8100922">,</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100927">}</span><span class="op" id="8100928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100932">}</span><span class="op" id="8100933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100936">}</span><span class="op" id="8100937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8100940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100944">Value</span><span class="op" id="8100949">:</span>&nbsp;<span class="op" id="8100951">&amp;</span><span class="ident" id="8100952">AnyTest</span><span class="op" id="8100959">{</span><span class="ident" id="8100960">Nested</span><span class="op" id="8100966">:</span>&nbsp;<span class="string" id="8100968">&#34;known&#34;</span><span class="op" id="8100975">,</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8100980">AnyField</span><span class="op" id="8100988">:</span>&nbsp;<span class="ident" id="8100990">AnyHolder</span><span class="op" id="8100999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101005">XML</span><span class="op" id="8101008">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8101014">&#34;&lt;unknown/&gt;&#34;</span><span class="op" id="8101026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101032">XMLName</span><span class="op" id="8101039">:</span>&nbsp;<span class="ident" id="8101041">Name</span><span class="op" id="8101045">{</span><span class="ident" id="8101046">Local</span><span class="op" id="8101051">:</span>&nbsp;<span class="string" id="8101053">&#34;AnyField&#34;</span><span class="op" id="8101063">}</span><span class="op" id="8101064">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101069">}</span><span class="op" id="8101070">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101074">}</span><span class="op" id="8101075">,</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101079">ExpectXML</span><span class="op" id="8101088">:</span>&nbsp;<span class="string" id="8101090">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;known&lt;/value&gt;&lt;/nested&gt;&lt;AnyField&gt;&lt;unknown/&gt;&lt;/AnyField&gt;&lt;/a&gt;`</span><span class="op" id="8101167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101170">}</span><span class="op" id="8101171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101178">ExpectXML</span><span class="op" id="8101187">:</span>&nbsp;<span class="string" id="8101189">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;b&lt;/value&gt;&lt;/nested&gt;&lt;/a&gt;`</span><span class="op" id="8101231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101235">Value</span><span class="op" id="8101240">:</span>&nbsp;<span class="op" id="8101242">&amp;</span><span class="ident" id="8101243">AnyOmitTest</span><span class="op" id="8101254">{</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101259">Nested</span><span class="op" id="8101265">:</span>&nbsp;<span class="string" id="8101267">&#34;b&#34;</span><span class="op" id="8101270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101274">}</span><span class="op" id="8101275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101278">}</span><span class="op" id="8101279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101286">ExpectXML</span><span class="op" id="8101295">:</span>&nbsp;<span class="string" id="8101297">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;b&lt;/value&gt;&lt;/nested&gt;&lt;c&gt;&lt;d&gt;e&lt;/d&gt;&lt;/c&gt;&lt;g&nbsp;xmlns=&#34;f&#34;&gt;&lt;h&gt;i&lt;/h&gt;&lt;/g&gt;&lt;/a&gt;`</span><span class="op" id="8101379">,</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101383">Value</span><span class="op" id="8101388">:</span>&nbsp;<span class="op" id="8101390">&amp;</span><span class="ident" id="8101391">AnySliceTest</span><span class="op" id="8101403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101408">Nested</span><span class="op" id="8101414">:</span>&nbsp;<span class="string" id="8101416">&#34;b&#34;</span><span class="op" id="8101419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101424">AnyField</span><span class="op" id="8101432">:</span>&nbsp;<span class="op" id="8101434">[</span><span class="op" id="8101435">]</span><span class="ident" id="8101436">AnyHolder</span><span class="op" id="8101445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101458">XMLName</span><span class="op" id="8101465">:</span>&nbsp;<span class="ident" id="8101467">Name</span><span class="op" id="8101471">{</span><span class="ident" id="8101472">Local</span><span class="op" id="8101477">:</span>&nbsp;<span class="string" id="8101479">&#34;c&#34;</span><span class="op" id="8101482">}</span><span class="op" id="8101483">,</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101490">XML</span><span class="op" id="8101493">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8101499">&#34;&lt;d&gt;e&lt;/d&gt;&#34;</span><span class="op" id="8101509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101515">}</span><span class="op" id="8101516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101529">XMLName</span><span class="op" id="8101536">:</span>&nbsp;<span class="ident" id="8101538">Name</span><span class="op" id="8101542">{</span><span class="ident" id="8101543">Space</span><span class="op" id="8101548">:</span>&nbsp;<span class="string" id="8101550">&#34;f&#34;</span><span class="op" id="8101553">,</span>&nbsp;<span class="ident" id="8101555">Local</span><span class="op" id="8101560">:</span>&nbsp;<span class="string" id="8101562">&#34;g&#34;</span><span class="op" id="8101565">}</span><span class="op" id="8101566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101573">XML</span><span class="op" id="8101576">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8101582">&#34;&lt;h&gt;i&lt;/h&gt;&#34;</span><span class="op" id="8101592">,</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101598">}</span><span class="op" id="8101599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101604">}</span><span class="op" id="8101605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101609">}</span><span class="op" id="8101610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101613">}</span><span class="op" id="8101614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101617">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101621">ExpectXML</span><span class="op" id="8101630">:</span>&nbsp;<span class="string" id="8101632">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;b&lt;/value&gt;&lt;/nested&gt;&lt;/a&gt;`</span><span class="op" id="8101674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101678">Value</span><span class="op" id="8101683">:</span>&nbsp;<span class="op" id="8101685">&amp;</span><span class="ident" id="8101686">AnySliceTest</span><span class="op" id="8101698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101703">Nested</span><span class="op" id="8101709">:</span>&nbsp;<span class="string" id="8101711">&#34;b&#34;</span><span class="op" id="8101714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101718">}</span><span class="op" id="8101719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101722">}</span><span class="op" id="8101723">,</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8101727">//&nbsp;Test&nbsp;recursive&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101757">Value</span><span class="op" id="8101762">:</span>&nbsp;<span class="op" id="8101764">&amp;</span><span class="ident" id="8101765">RecurseA</span><span class="op" id="8101773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101778">A</span><span class="op" id="8101779">:</span>&nbsp;<span class="string" id="8101781">&#34;a1&#34;</span><span class="op" id="8101785">,</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101790">B</span><span class="op" id="8101791">:</span>&nbsp;<span class="op" id="8101793">&amp;</span><span class="ident" id="8101794">RecurseB</span><span class="op" id="8101802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101808">A</span><span class="op" id="8101809">:</span>&nbsp;<span class="op" id="8101811">&amp;</span><span class="ident" id="8101812">RecurseA</span><span class="op" id="8101820">{</span><span class="string" id="8101821">&#34;a2&#34;</span><span class="op" id="8101825">,</span>&nbsp;<span class="ident" id="8101827">nil</span><span class="op" id="8101830">}</span><span class="op" id="8101831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101837">B</span><span class="op" id="8101838">:</span>&nbsp;<span class="string" id="8101840">&#34;b1&#34;</span><span class="op" id="8101844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101849">}</span><span class="op" id="8101850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101854">}</span><span class="op" id="8101855">,</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101859">ExpectXML</span><span class="op" id="8101868">:</span>&nbsp;<span class="string" id="8101870">`&lt;RecurseA&gt;&lt;A&gt;a1&lt;/A&gt;&lt;B&gt;&lt;A&gt;&lt;A&gt;a2&lt;/A&gt;&lt;/A&gt;&lt;B&gt;b1&lt;/B&gt;&lt;/B&gt;&lt;/RecurseA&gt;`</span><span class="op" id="8101934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101937">}</span><span class="op" id="8101938">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8101942">//&nbsp;Test&nbsp;ignoring&nbsp;fields&nbsp;via&nbsp;&#34;-&#34;&nbsp;tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8101979">{</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8101983">ExpectXML</span><span class="op" id="8101992">:</span>&nbsp;<span class="string" id="8101994">`&lt;IgnoreTest&gt;&lt;/IgnoreTest&gt;`</span><span class="op" id="8102021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102025">Value</span><span class="op" id="8102030">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8102036">&amp;</span><span class="ident" id="8102037">IgnoreTest</span><span class="op" id="8102047">{</span><span class="op" id="8102048">}</span><span class="op" id="8102049">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102052">}</span><span class="op" id="8102053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102060">ExpectXML</span><span class="op" id="8102069">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8102073">`&lt;IgnoreTest&gt;&lt;/IgnoreTest&gt;`</span><span class="op" id="8102100">,</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102104">Value</span><span class="op" id="8102109">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8102117">&amp;</span><span class="ident" id="8102118">IgnoreTest</span><span class="op" id="8102128">{</span><span class="ident" id="8102129">PublicSecret</span><span class="op" id="8102141">:</span>&nbsp;<span class="string" id="8102143">&#34;can&#39;t&nbsp;tell&#34;</span><span class="op" id="8102155">}</span><span class="op" id="8102156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102160">MarshalOnly</span><span class="op" id="8102171">:</span>&nbsp;<span class="builtintype" id="8102173">true</span><span class="op" id="8102177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102180">}</span><span class="op" id="8102181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102188">ExpectXML</span><span class="op" id="8102197">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8102203">`&lt;IgnoreTest&gt;&lt;PublicSecret&gt;ignore&nbsp;me&lt;/PublicSecret&gt;&lt;/IgnoreTest&gt;`</span><span class="op" id="8102268">,</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102272">Value</span><span class="op" id="8102277">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8102287">&amp;</span><span class="ident" id="8102288">IgnoreTest</span><span class="op" id="8102298">{</span><span class="op" id="8102299">}</span><span class="op" id="8102300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102304">UnmarshalOnly</span><span class="op" id="8102317">:</span>&nbsp;<span class="builtintype" id="8102319">true</span><span class="op" id="8102323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102326">}</span><span class="op" id="8102327">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8102331">//&nbsp;Test&nbsp;escaping.</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102354">ExpectXML</span><span class="op" id="8102363">:</span>&nbsp;<span class="string" id="8102365">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;dquote:&nbsp;&amp;#34;;&nbsp;squote:&nbsp;&amp;#39;;&nbsp;ampersand:&nbsp;&amp;amp;;&nbsp;less:&nbsp;&amp;lt;;&nbsp;greater:&nbsp;&amp;gt;;&lt;/value&gt;&lt;/nested&gt;&lt;empty&gt;&lt;/empty&gt;&lt;/a&gt;`</span><span class="op" id="8102495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102499">Value</span><span class="op" id="8102504">:</span>&nbsp;<span class="op" id="8102506">&amp;</span><span class="ident" id="8102507">AnyTest</span><span class="op" id="8102514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102519">Nested</span><span class="op" id="8102525">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8102529">`dquote:&nbsp;&#34;;&nbsp;squote:&nbsp;&#39;;&nbsp;ampersand:&nbsp;&amp;;&nbsp;less:&nbsp;&lt;;&nbsp;greater:&nbsp;&gt;;`</span><span class="op" id="8102587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102592">AnyField</span><span class="op" id="8102600">:</span>&nbsp;<span class="ident" id="8102602">AnyHolder</span><span class="op" id="8102611">{</span><span class="ident" id="8102612">XMLName</span><span class="op" id="8102619">:</span>&nbsp;<span class="ident" id="8102621">Name</span><span class="op" id="8102625">{</span><span class="ident" id="8102626">Local</span><span class="op" id="8102631">:</span>&nbsp;<span class="string" id="8102633">&#34;empty&#34;</span><span class="op" id="8102640">}</span><span class="op" id="8102641">}</span><span class="op" id="8102642">,</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102646">}</span><span class="op" id="8102647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102650">}</span><span class="op" id="8102651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102658">ExpectXML</span><span class="op" id="8102667">:</span>&nbsp;<span class="string" id="8102669">`&lt;a&gt;&lt;nested&gt;&lt;value&gt;newline:&nbsp;&amp;#xA;;&nbsp;cr:&nbsp;&amp;#xD;;&nbsp;tab:&nbsp;&amp;#x9;;&lt;/value&gt;&lt;/nested&gt;&lt;AnyField&gt;&lt;/AnyField&gt;&lt;/a&gt;`</span><span class="op" id="8102769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102773">Value</span><span class="op" id="8102778">:</span>&nbsp;<span class="op" id="8102780">&amp;</span><span class="ident" id="8102781">AnyTest</span><span class="op" id="8102788">{</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102793">Nested</span><span class="op" id="8102799">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8102803">&#34;newline:&nbsp;\n;&nbsp;cr:&nbsp;\r;&nbsp;tab:&nbsp;\t;&#34;</span><span class="op" id="8102834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102839">AnyField</span><span class="op" id="8102847">:</span>&nbsp;<span class="ident" id="8102849">AnyHolder</span><span class="op" id="8102858">{</span><span class="ident" id="8102859">XMLName</span><span class="op" id="8102866">:</span>&nbsp;<span class="ident" id="8102868">Name</span><span class="op" id="8102872">{</span><span class="ident" id="8102873">Local</span><span class="op" id="8102878">:</span>&nbsp;<span class="string" id="8102880">&#34;AnyField&#34;</span><span class="op" id="8102890">}</span><span class="op" id="8102891">}</span><span class="op" id="8102892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102896">}</span><span class="op" id="8102897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102900">}</span><span class="op" id="8102901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8102904">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102908">ExpectXML</span><span class="op" id="8102917">:</span>&nbsp;<span class="string" id="8102919">&#34;&lt;a&gt;&lt;nested&gt;&lt;value&gt;1\r2\r\n3\n\r4\n5&lt;/value&gt;&lt;/nested&gt;&lt;/a&gt;&#34;</span><span class="op" id="8102977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8102981">Value</span><span class="op" id="8102986">:</span>&nbsp;<span class="op" id="8102988">&amp;</span><span class="ident" id="8102989">AnyTest</span><span class="op" id="8102996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103001">Nested</span><span class="op" id="8103007">:</span>&nbsp;<span class="string" id="8103009">&#34;1\n2\n3\n\n4\n5&#34;</span><span class="op" id="8103026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103030">}</span><span class="op" id="8103031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103035">UnmarshalOnly</span><span class="op" id="8103048">:</span>&nbsp;<span class="builtintype" id="8103050">true</span><span class="op" id="8103054">,</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103057">}</span><span class="op" id="8103058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103065">ExpectXML</span><span class="op" id="8103074">:</span>&nbsp;<span class="string" id="8103076">`&lt;EmbedInt&gt;&lt;MyInt&gt;42&lt;/MyInt&gt;&lt;/EmbedInt&gt;`</span><span class="op" id="8103116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103120">Value</span><span class="op" id="8103125">:</span>&nbsp;<span class="op" id="8103127">&amp;</span><span class="ident" id="8103128">EmbedInt</span><span class="op" id="8103136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103141">MyInt</span><span class="op" id="8103146">:</span>&nbsp;<span class="num" id="8103148">42</span><span class="op" id="8103150">,</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103154">}</span><span class="op" id="8103155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103158">}</span><span class="op" id="8103159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8103162">//&nbsp;Test&nbsp;omitempty&nbsp;with&nbsp;parent&nbsp;chain;&nbsp;see&nbsp;golang.org/issue/4168.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103231">ExpectXML</span><span class="op" id="8103240">:</span>&nbsp;<span class="string" id="8103242">`&lt;Strings&gt;&lt;A&gt;&lt;/A&gt;&lt;/Strings&gt;`</span><span class="op" id="8103270">,</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103274">Value</span><span class="op" id="8103279">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103285">&amp;</span><span class="ident" id="8103286">Strings</span><span class="op" id="8103293">{</span><span class="op" id="8103294">}</span><span class="op" id="8103295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103298">}</span><span class="op" id="8103299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8103302">//&nbsp;Custom&nbsp;marshalers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103329">ExpectXML</span><span class="op" id="8103338">:</span>&nbsp;<span class="string" id="8103340">`&lt;MyMarshalerTest&gt;hello&nbsp;world&lt;/MyMarshalerTest&gt;`</span><span class="op" id="8103388">,</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103392">Value</span><span class="op" id="8103397">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103403">&amp;</span><span class="ident" id="8103404">MyMarshalerTest</span><span class="op" id="8103419">{</span><span class="op" id="8103420">}</span><span class="op" id="8103421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103424">}</span><span class="op" id="8103425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103432">ExpectXML</span><span class="op" id="8103441">:</span>&nbsp;<span class="string" id="8103443">`&lt;MarshalerStruct&nbsp;Foo=&#34;hello&nbsp;world&#34;&gt;&lt;/MarshalerStruct&gt;`</span><span class="op" id="8103498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103502">Value</span><span class="op" id="8103507">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103513">&amp;</span><span class="ident" id="8103514">MarshalerStruct</span><span class="op" id="8103529">{</span><span class="op" id="8103530">}</span><span class="op" id="8103531">,</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103534">}</span><span class="op" id="8103535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103542">ExpectXML</span><span class="op" id="8103551">:</span>&nbsp;<span class="string" id="8103553">`&lt;outer&nbsp;xmlns=&#34;testns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/outer&gt;`</span><span class="op" id="8103594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103598">Value</span><span class="op" id="8103603">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103609">&amp;</span><span class="ident" id="8103610">OuterStruct</span><span class="op" id="8103621">{</span><span class="ident" id="8103622">IntAttr</span><span class="op" id="8103629">:</span>&nbsp;<span class="num" id="8103631">10</span><span class="op" id="8103633">}</span><span class="op" id="8103634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103637">}</span><span class="op" id="8103638">,</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103645">ExpectXML</span><span class="op" id="8103654">:</span>&nbsp;<span class="string" id="8103656">`&lt;test&nbsp;xmlns=&#34;outerns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/test&gt;`</span><span class="op" id="8103696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103700">Value</span><span class="op" id="8103705">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103711">&amp;</span><span class="ident" id="8103712">OuterNamedStruct</span><span class="op" id="8103728">{</span><span class="ident" id="8103729">XMLName</span><span class="op" id="8103736">:</span>&nbsp;<span class="ident" id="8103738">Name</span><span class="op" id="8103742">{</span><span class="ident" id="8103743">Space</span><span class="op" id="8103748">:</span>&nbsp;<span class="string" id="8103750">&#34;outerns&#34;</span><span class="op" id="8103759">,</span>&nbsp;<span class="ident" id="8103761">Local</span><span class="op" id="8103766">:</span>&nbsp;<span class="string" id="8103768">&#34;test&#34;</span><span class="op" id="8103774">}</span><span class="op" id="8103775">,</span>&nbsp;<span class="ident" id="8103777">IntAttr</span><span class="op" id="8103784">:</span>&nbsp;<span class="num" id="8103786">10</span><span class="op" id="8103788">}</span><span class="op" id="8103789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103792">}</span><span class="op" id="8103793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103796">{</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103800">ExpectXML</span><span class="op" id="8103809">:</span>&nbsp;<span class="string" id="8103811">`&lt;test&nbsp;xmlns=&#34;outerns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/test&gt;`</span><span class="op" id="8103851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103855">Value</span><span class="op" id="8103860">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8103866">&amp;</span><span class="ident" id="8103867">OuterNamedOrderedStruct</span><span class="op" id="8103890">{</span><span class="ident" id="8103891">XMLName</span><span class="op" id="8103898">:</span>&nbsp;<span class="ident" id="8103900">Name</span><span class="op" id="8103904">{</span><span class="ident" id="8103905">Space</span><span class="op" id="8103910">:</span>&nbsp;<span class="string" id="8103912">&#34;outerns&#34;</span><span class="op" id="8103921">,</span>&nbsp;<span class="ident" id="8103923">Local</span><span class="op" id="8103928">:</span>&nbsp;<span class="string" id="8103930">&#34;test&#34;</span><span class="op" id="8103936">}</span><span class="op" id="8103937">,</span>&nbsp;<span class="ident" id="8103939">IntAttr</span><span class="op" id="8103946">:</span>&nbsp;<span class="num" id="8103948">10</span><span class="op" id="8103950">}</span><span class="op" id="8103951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103954">}</span><span class="op" id="8103955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8103958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8103962">ExpectXML</span><span class="op" id="8103971">:</span>&nbsp;<span class="string" id="8103973">`&lt;outer&nbsp;xmlns=&#34;testns&#34;&nbsp;int=&#34;10&#34;&gt;&lt;/outer&gt;`</span><span class="op" id="8104014">,</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104018">Value</span><span class="op" id="8104023">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8104029">&amp;</span><span class="ident" id="8104030">OuterOuterStruct</span><span class="op" id="8104046">{</span><span class="ident" id="8104047">OuterStruct</span><span class="op" id="8104058">{</span><span class="ident" id="8104059">IntAttr</span><span class="op" id="8104066">:</span>&nbsp;<span class="num" id="8104068">10</span><span class="op" id="8104070">}</span><span class="op" id="8104071">}</span><span class="op" id="8104072">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104075">}</span><span class="op" id="8104076">,</span><br>
<span class="lineno"></span><span class="op" id="8104078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8104081">func</span>&nbsp;<span class="ident" id="8104086">TestMarshal</span><span class="op" id="8104097">(</span><span class="ident" id="8104098">t</span>&nbsp;<span class="op" id="8104100">*</span><span class="ident" id="8104101">testing</span><span class="op" id="8104108">.</span><span class="ident" id="8104109">T</span><span class="op" id="8104110">)</span>&nbsp;<span class="op" id="8104112">{</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104115">for</span>&nbsp;<span class="ident" id="8104119">idx</span><span class="op" id="8104122">,</span>&nbsp;<span class="ident" id="8104124">test</span>&nbsp;<span class="op" id="8104129">:=</span>&nbsp;<span class="keyword" id="8104132">range</span>&nbsp;<span class="ident" id="8104138">marshalTests</span>&nbsp;<span class="op" id="8104151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104155">if</span>&nbsp;<span class="ident" id="8104158">test</span><span class="op" id="8104162">.</span><span class="ident" id="8104163">UnmarshalOnly</span>&nbsp;<span class="op" id="8104177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104182">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104197">data</span><span class="op" id="8104201">,</span>&nbsp;<span class="ident" id="8104203">err</span>&nbsp;<span class="op" id="8104207">:=</span>&nbsp;<span class="ident" id="8104210">Marshal</span><span class="op" id="8104217">(</span><span class="ident" id="8104218">test</span><span class="op" id="8104222">.</span><span class="ident" id="8104223">Value</span><span class="op" id="8104228">)</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104232">if</span>&nbsp;<span class="ident" id="8104235">err</span>&nbsp;<span class="op" id="8104239">!=</span>&nbsp;<span class="ident" id="8104242">nil</span>&nbsp;<span class="op" id="8104246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104251">t</span><span class="op" id="8104252">.</span><span class="ident" id="8104253">Errorf</span><span class="op" id="8104259">(</span><span class="string" id="8104260">&#34;#%d:&nbsp;Error:&nbsp;%s&#34;</span><span class="op" id="8104276">,</span>&nbsp;<span class="ident" id="8104278">idx</span><span class="op" id="8104281">,</span>&nbsp;<span class="ident" id="8104283">err</span><span class="op" id="8104286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104291">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104306">if</span>&nbsp;<span class="ident" id="8104309">got</span><span class="op" id="8104312">,</span>&nbsp;<span class="ident" id="8104314">want</span>&nbsp;<span class="op" id="8104319">:=</span>&nbsp;<span class="builtintype" id="8104322">string</span><span class="op" id="8104328">(</span><span class="ident" id="8104329">data</span><span class="op" id="8104333">)</span><span class="op" id="8104334">,</span>&nbsp;<span class="ident" id="8104336">test</span><span class="op" id="8104340">.</span><span class="ident" id="8104341">ExpectXML</span><span class="op" id="8104350">;</span>&nbsp;<span class="ident" id="8104352">got</span>&nbsp;<span class="op" id="8104356">!=</span>&nbsp;<span class="ident" id="8104359">want</span>&nbsp;<span class="op" id="8104364">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8104369">if</span>&nbsp;<span class="ident" id="8104372">strings</span><span class="op" id="8104379">.</span><span class="ident" id="8104380">Contains</span><span class="op" id="8104388">(</span><span class="ident" id="8104389">want</span><span class="op" id="8104393">,</span>&nbsp;<span class="string" id="8104395">&#34;\n&#34;</span><span class="op" id="8104399">)</span>&nbsp;<span class="op" id="8104401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104407">t</span><span class="op" id="8104408">.</span><span class="ident" id="8104409">Errorf</span><span class="op" id="8104415">(</span><span class="string" id="8104416">&#34;#%d:&nbsp;marshal(%#v):\nHAVE:\n%s\nWANT:\n%s&#34;</span><span class="op" id="8104458">,</span>&nbsp;<span class="ident" id="8104460">idx</span><span class="op" id="8104463">,</span>&nbsp;<span class="ident" id="8104465">test</span><span class="op" id="8104469">.</span><span class="ident" id="8104470">Value</span><span class="op" id="8104475">,</span>&nbsp;<span class="ident" id="8104477">got</span><span class="op" id="8104480">,</span>&nbsp;<span class="ident" id="8104482">want</span><span class="op" id="8104486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104491">}</span>&nbsp;<span class="keyword" id="8104493">else</span>&nbsp;<span class="op" id="8104498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104504">t</span><span class="op" id="8104505">.</span><span class="ident" id="8104506">Errorf</span><span class="op" id="8104512">(</span><span class="string" id="8104513">&#34;#%d:&nbsp;marshal(%#v):\nhave&nbsp;%#q\nwant&nbsp;%#q&#34;</span><span class="op" id="8104553">,</span>&nbsp;<span class="ident" id="8104555">idx</span><span class="op" id="8104558">,</span>&nbsp;<span class="ident" id="8104560">test</span><span class="op" id="8104564">.</span><span class="ident" id="8104565">Value</span><span class="op" id="8104570">,</span>&nbsp;<span class="ident" id="8104572">got</span><span class="op" id="8104575">,</span>&nbsp;<span class="ident" id="8104577">want</span><span class="op" id="8104581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104586">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104593">}</span><br>
<span class="lineno"></span><span class="op" id="8104595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8104598">type</span>&nbsp;<span class="ident" id="8104603">AttrParent</span>&nbsp;<span class="keyword" id="8104614">struct</span>&nbsp;<span class="op" id="8104621">{</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104624">X</span>&nbsp;<span class="builtintype" id="8104626">string</span>&nbsp;<span class="string" id="8104633">`xml:&#34;X&gt;Y,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="8104650">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8104653">type</span>&nbsp;<span class="ident" id="8104658">BadAttr</span>&nbsp;<span class="keyword" id="8104666">struct</span>&nbsp;<span class="op" id="8104673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104676">Name</span>&nbsp;<span class="op" id="8104681">[</span><span class="op" id="8104682">]</span><span class="builtintype" id="8104683">string</span>&nbsp;<span class="string" id="8104690">`xml:&#34;name,attr&#34;`</span><br>
<span class="lineno">955</span><span class="op" id="8104708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8104711">var</span>&nbsp;<span class="ident" id="8104715">marshalErrorTests</span>&nbsp;<span class="op" id="8104733">=</span>&nbsp;<span class="op" id="8104735">[</span><span class="op" id="8104736">]</span><span class="keyword" id="8104737">struct</span>&nbsp;<span class="op" id="8104744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104747">Value</span>&nbsp;<span class="keyword" id="8104753">interface</span><span class="op" id="8104762">{</span><span class="op" id="8104763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104766">Err</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8104772">string</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104780">Kind</span>&nbsp;&nbsp;<span class="ident" id="8104786">reflect</span><span class="op" id="8104793">.</span><span class="ident" id="8104794">Kind</span><br>
<span class="lineno"></span><span class="op" id="8104799">}</span><span class="op" id="8104800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104807">Value</span><span class="op" id="8104812">:</span>&nbsp;<span class="builtinfunc" id="8104814">make</span><span class="op" id="8104818">(</span><span class="keyword" id="8104819">chan</span>&nbsp;<span class="builtintype" id="8104824">bool</span><span class="op" id="8104828">)</span><span class="op" id="8104829">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104833">Err</span><span class="op" id="8104836">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8104840">&#34;xml:&nbsp;unsupported&nbsp;type:&nbsp;chan&nbsp;bool&#34;</span><span class="op" id="8104874">,</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104878">Kind</span><span class="op" id="8104882">:</span>&nbsp;&nbsp;<span class="ident" id="8104885">reflect</span><span class="op" id="8104892">.</span><span class="ident" id="8104893">Chan</span><span class="op" id="8104897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104900">}</span><span class="op" id="8104901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8104904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8104908">Value</span><span class="op" id="8104913">:</span>&nbsp;<span class="keyword" id="8104915">map</span><span class="op" id="8104918">[</span><span class="builtintype" id="8104919">string</span><span class="op" id="8104925">]</span><span class="builtintype" id="8104926">string</span><span class="op" id="8104932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8104937">&#34;question&#34;</span><span class="op" id="8104947">:</span>&nbsp;<span class="string" id="8104949">&#34;What&nbsp;do&nbsp;you&nbsp;get&nbsp;when&nbsp;you&nbsp;multiply&nbsp;six&nbsp;by&nbsp;nine?&#34;</span><span class="op" id="8104997">,</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8105002">&#34;answer&#34;</span><span class="op" id="8105010">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8105014">&#34;42&#34;</span><span class="op" id="8105018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105022">}</span><span class="op" id="8105023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105027">Err</span><span class="op" id="8105030">:</span>&nbsp;&nbsp;<span class="string" id="8105033">&#34;xml:&nbsp;unsupported&nbsp;type:&nbsp;map[string]string&#34;</span><span class="op" id="8105075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105079">Kind</span><span class="op" id="8105083">:</span>&nbsp;<span class="ident" id="8105085">reflect</span><span class="op" id="8105092">.</span><span class="ident" id="8105093">Map</span><span class="op" id="8105096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105099">}</span><span class="op" id="8105100">,</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105107">Value</span><span class="op" id="8105112">:</span>&nbsp;<span class="keyword" id="8105114">map</span><span class="op" id="8105117">[</span><span class="op" id="8105118">*</span><span class="ident" id="8105119">Ship</span><span class="op" id="8105123">]</span><span class="builtintype" id="8105124">bool</span><span class="op" id="8105128">{</span><span class="ident" id="8105129">nil</span><span class="op" id="8105132">:</span>&nbsp;<span class="builtintype" id="8105134">false</span><span class="op" id="8105139">}</span><span class="op" id="8105140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105144">Err</span><span class="op" id="8105147">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8105151">&#34;xml:&nbsp;unsupported&nbsp;type:&nbsp;map[*xml.Ship]bool&#34;</span><span class="op" id="8105194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105198">Kind</span><span class="op" id="8105202">:</span>&nbsp;&nbsp;<span class="ident" id="8105205">reflect</span><span class="op" id="8105212">.</span><span class="ident" id="8105213">Map</span><span class="op" id="8105216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105219">}</span><span class="op" id="8105220">,</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105227">Value</span><span class="op" id="8105232">:</span>&nbsp;<span class="op" id="8105234">&amp;</span><span class="ident" id="8105235">Domain</span><span class="op" id="8105241">{</span><span class="ident" id="8105242">Comment</span><span class="op" id="8105249">:</span>&nbsp;<span class="op" id="8105251">[</span><span class="op" id="8105252">]</span><span class="builtintype" id="8105253">byte</span><span class="op" id="8105257">(</span><span class="string" id="8105258">&#34;f--bar&#34;</span><span class="op" id="8105266">)</span><span class="op" id="8105267">}</span><span class="op" id="8105268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105272">Err</span><span class="op" id="8105275">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8105279">`xml:&nbsp;comments&nbsp;must&nbsp;not&nbsp;contain&nbsp;&#34;--&#34;`</span><span class="op" id="8105316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105319">}</span><span class="op" id="8105320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8105323">//&nbsp;Reject&nbsp;parent&nbsp;chain&nbsp;with&nbsp;attr,&nbsp;never&nbsp;worked;&nbsp;see&nbsp;golang.org/issue/5033.</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105403">Value</span><span class="op" id="8105408">:</span>&nbsp;<span class="op" id="8105410">&amp;</span><span class="ident" id="8105411">AttrParent</span><span class="op" id="8105421">{</span><span class="op" id="8105422">}</span><span class="op" id="8105423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105427">Err</span><span class="op" id="8105430">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8105434">`xml:&nbsp;X&gt;Y&nbsp;chain&nbsp;not&nbsp;valid&nbsp;with&nbsp;attr&nbsp;flag`</span><span class="op" id="8105475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105478">}</span><span class="op" id="8105479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105482">{</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105486">Value</span><span class="op" id="8105491">:</span>&nbsp;<span class="ident" id="8105493">BadAttr</span><span class="op" id="8105500">{</span><span class="op" id="8105501">[</span><span class="op" id="8105502">]</span><span class="builtintype" id="8105503">string</span><span class="op" id="8105509">{</span><span class="string" id="8105510">&#34;X&#34;</span><span class="op" id="8105513">,</span>&nbsp;<span class="string" id="8105515">&#34;Y&#34;</span><span class="op" id="8105518">}</span><span class="op" id="8105519">}</span><span class="op" id="8105520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105524">Err</span><span class="op" id="8105527">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8105531">`xml:&nbsp;unsupported&nbsp;type:&nbsp;[]string`</span><span class="op" id="8105564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105567">}</span><span class="op" id="8105568">,</span><br>
<span class="lineno"></span><span class="op" id="8105570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">995</span><span class="keyword" id="8105573">var</span>&nbsp;<span class="ident" id="8105577">marshalIndentTests</span>&nbsp;<span class="op" id="8105596">=</span>&nbsp;<span class="op" id="8105598">[</span><span class="op" id="8105599">]</span><span class="keyword" id="8105600">struct</span>&nbsp;<span class="op" id="8105607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105610">Value</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8105620">interface</span><span class="op" id="8105629">{</span><span class="op" id="8105630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105633">Prefix</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8105643">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105651">Indent</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8105661">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105669">ExpectXML</span>&nbsp;<span class="builtintype" id="8105679">string</span><br>
<span class="lineno">1000</span><span class="op" id="8105686">}</span><span class="op" id="8105687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105694">Value</span><span class="op" id="8105699">:</span>&nbsp;<span class="op" id="8105701">&amp;</span><span class="ident" id="8105702">SecretAgent</span><span class="op" id="8105713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105718">Handle</span><span class="op" id="8105724">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8105729">&#34;007&#34;</span><span class="op" id="8105734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105739">Identity</span><span class="op" id="8105747">:</span>&nbsp;&nbsp;<span class="string" id="8105750">&#34;James&nbsp;Bond&#34;</span><span class="op" id="8105762">,</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105767">Obfuscate</span><span class="op" id="8105776">:</span>&nbsp;<span class="string" id="8105778">&#34;&lt;redacted/&gt;&#34;</span><span class="op" id="8105791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105795">}</span><span class="op" id="8105796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105800">Prefix</span><span class="op" id="8105806">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8105811">&#34;&#34;</span><span class="op" id="8105813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105817">Indent</span><span class="op" id="8105823">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8105828">&#34;\t&#34;</span><span class="op" id="8105832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8105836">ExpectXML</span><span class="op" id="8105845">:</span>&nbsp;<span class="ident" id="8105847">fmt</span><span class="op" id="8105850">.</span><span class="ident" id="8105851">Sprintf</span><span class="op" id="8105858">(</span><span class="string" id="8105859">&#34;&lt;agent&nbsp;handle=\&#34;007\&#34;&gt;\n\t&lt;Identity&gt;James&nbsp;Bond&lt;/Identity&gt;&lt;redacted/&gt;\n&lt;/agent&gt;&#34;</span><span class="op" id="8105939">)</span><span class="op" id="8105940">,</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8105943">}</span><span class="op" id="8105944">,</span><br>
<span class="lineno"></span><span class="op" id="8105946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8105949">func</span>&nbsp;<span class="ident" id="8105954">TestMarshalErrors</span><span class="op" id="8105971">(</span><span class="ident" id="8105972">t</span>&nbsp;<span class="op" id="8105974">*</span><span class="ident" id="8105975">testing</span><span class="op" id="8105982">.</span><span class="ident" id="8105983">T</span><span class="op" id="8105984">)</span>&nbsp;<span class="op" id="8105986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8105989">for</span>&nbsp;<span class="ident" id="8105993">idx</span><span class="op" id="8105996">,</span>&nbsp;<span class="ident" id="8105998">test</span>&nbsp;<span class="op" id="8106003">:=</span>&nbsp;<span class="keyword" id="8106006">range</span>&nbsp;<span class="ident" id="8106012">marshalErrorTests</span>&nbsp;<span class="op" id="8106030">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106034">data</span><span class="op" id="8106038">,</span>&nbsp;<span class="ident" id="8106040">err</span>&nbsp;<span class="op" id="8106044">:=</span>&nbsp;<span class="ident" id="8106047">Marshal</span><span class="op" id="8106054">(</span><span class="ident" id="8106055">test</span><span class="op" id="8106059">.</span><span class="ident" id="8106060">Value</span><span class="op" id="8106065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106069">if</span>&nbsp;<span class="ident" id="8106072">err</span>&nbsp;<span class="op" id="8106076">==</span>&nbsp;<span class="ident" id="8106079">nil</span>&nbsp;<span class="op" id="8106083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106088">t</span><span class="op" id="8106089">.</span><span class="ident" id="8106090">Errorf</span><span class="op" id="8106096">(</span><span class="string" id="8106097">&#34;#%d:&nbsp;marshal(%#v)&nbsp;=&nbsp;[success]&nbsp;%q,&nbsp;want&nbsp;error&nbsp;%v&#34;</span><span class="op" id="8106146">,</span>&nbsp;<span class="ident" id="8106148">idx</span><span class="op" id="8106151">,</span>&nbsp;<span class="ident" id="8106153">test</span><span class="op" id="8106157">.</span><span class="ident" id="8106158">Value</span><span class="op" id="8106163">,</span>&nbsp;<span class="ident" id="8106165">data</span><span class="op" id="8106169">,</span>&nbsp;<span class="ident" id="8106171">test</span><span class="op" id="8106175">.</span><span class="ident" id="8106176">Err</span><span class="op" id="8106179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106184">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106195">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106199">if</span>&nbsp;<span class="ident" id="8106202">err</span><span class="op" id="8106205">.</span><span class="ident" id="8106206">Error</span><span class="op" id="8106211">(</span><span class="op" id="8106212">)</span>&nbsp;<span class="op" id="8106214">!=</span>&nbsp;<span class="ident" id="8106217">test</span><span class="op" id="8106221">.</span><span class="ident" id="8106222">Err</span>&nbsp;<span class="op" id="8106226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106231">t</span><span class="op" id="8106232">.</span><span class="ident" id="8106233">Errorf</span><span class="op" id="8106239">(</span><span class="string" id="8106240">&#34;#%d:&nbsp;marshal(%#v)&nbsp;=&nbsp;[error]&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8106281">,</span>&nbsp;<span class="ident" id="8106283">idx</span><span class="op" id="8106286">,</span>&nbsp;<span class="ident" id="8106288">test</span><span class="op" id="8106292">.</span><span class="ident" id="8106293">Value</span><span class="op" id="8106298">,</span>&nbsp;<span class="ident" id="8106300">err</span><span class="op" id="8106303">,</span>&nbsp;<span class="ident" id="8106305">test</span><span class="op" id="8106309">.</span><span class="ident" id="8106310">Err</span><span class="op" id="8106313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106321">if</span>&nbsp;<span class="ident" id="8106324">test</span><span class="op" id="8106328">.</span><span class="ident" id="8106329">Kind</span>&nbsp;<span class="op" id="8106334">!=</span>&nbsp;<span class="ident" id="8106337">reflect</span><span class="op" id="8106344">.</span><span class="ident" id="8106345">Invalid</span>&nbsp;<span class="op" id="8106353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106358">if</span>&nbsp;<span class="ident" id="8106361">kind</span>&nbsp;<span class="op" id="8106366">:=</span>&nbsp;<span class="ident" id="8106369">err</span><span class="op" id="8106372">.</span><span class="op" id="8106373">(</span><span class="op" id="8106374">*</span><span class="ident" id="8106375">UnsupportedTypeError</span><span class="op" id="8106395">)</span><span class="op" id="8106396">.</span><span class="ident" id="8106397">Type</span><span class="op" id="8106401">.</span><span class="ident" id="8106402">Kind</span><span class="op" id="8106406">(</span><span class="op" id="8106407">)</span><span class="op" id="8106408">;</span>&nbsp;<span class="ident" id="8106410">kind</span>&nbsp;<span class="op" id="8106415">!=</span>&nbsp;<span class="ident" id="8106418">test</span><span class="op" id="8106422">.</span><span class="ident" id="8106423">Kind</span>&nbsp;<span class="op" id="8106428">{</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106434">t</span><span class="op" id="8106435">.</span><span class="ident" id="8106436">Errorf</span><span class="op" id="8106442">(</span><span class="string" id="8106443">&#34;#%d:&nbsp;marshal(%#v)&nbsp;=&nbsp;[error&nbsp;kind]&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8106489">,</span>&nbsp;<span class="ident" id="8106491">idx</span><span class="op" id="8106494">,</span>&nbsp;<span class="ident" id="8106496">test</span><span class="op" id="8106500">.</span><span class="ident" id="8106501">Value</span><span class="op" id="8106506">,</span>&nbsp;<span class="ident" id="8106508">kind</span><span class="op" id="8106512">,</span>&nbsp;<span class="ident" id="8106514">test</span><span class="op" id="8106518">.</span><span class="ident" id="8106519">Kind</span><span class="op" id="8106523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106535">}</span><br>
<span class="lineno"></span><span class="op" id="8106537">}</span><br>
<span class="lineno">1030</span><br>
<span class="lineno"></span><span class="comment" id="8106540">//&nbsp;Do&nbsp;invertibility&nbsp;testing&nbsp;on&nbsp;the&nbsp;various&nbsp;structures&nbsp;that&nbsp;we&nbsp;test</span><br>
<span class="lineno"></span><span class="keyword" id="8106607">func</span>&nbsp;<span class="ident" id="8106612">TestUnmarshal</span><span class="op" id="8106625">(</span><span class="ident" id="8106626">t</span>&nbsp;<span class="op" id="8106628">*</span><span class="ident" id="8106629">testing</span><span class="op" id="8106636">.</span><span class="ident" id="8106637">T</span><span class="op" id="8106638">)</span>&nbsp;<span class="op" id="8106640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106643">for</span>&nbsp;<span class="ident" id="8106647">i</span><span class="op" id="8106648">,</span>&nbsp;<span class="ident" id="8106650">test</span>&nbsp;<span class="op" id="8106655">:=</span>&nbsp;<span class="keyword" id="8106658">range</span>&nbsp;<span class="ident" id="8106664">marshalTests</span>&nbsp;<span class="op" id="8106677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106681">if</span>&nbsp;<span class="ident" id="8106684">test</span><span class="op" id="8106688">.</span><span class="ident" id="8106689">MarshalOnly</span>&nbsp;<span class="op" id="8106701">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106706">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106721">if</span>&nbsp;<span class="ident" id="8106724">_</span><span class="op" id="8106725">,</span>&nbsp;<span class="ident" id="8106727">ok</span>&nbsp;<span class="op" id="8106730">:=</span>&nbsp;<span class="ident" id="8106733">test</span><span class="op" id="8106737">.</span><span class="ident" id="8106738">Value</span><span class="op" id="8106743">.</span><span class="op" id="8106744">(</span><span class="op" id="8106745">*</span><span class="ident" id="8106746">Plain</span><span class="op" id="8106751">)</span><span class="op" id="8106752">;</span>&nbsp;<span class="ident" id="8106754">ok</span>&nbsp;<span class="op" id="8106757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106762">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8106773">}</span><br>
<span class="lineno">1040</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106778">vt</span>&nbsp;<span class="op" id="8106781">:=</span>&nbsp;<span class="ident" id="8106784">reflect</span><span class="op" id="8106791">.</span><span class="ident" id="8106792">TypeOf</span><span class="op" id="8106798">(</span><span class="ident" id="8106799">test</span><span class="op" id="8106803">.</span><span class="ident" id="8106804">Value</span><span class="op" id="8106809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106813">dest</span>&nbsp;<span class="op" id="8106818">:=</span>&nbsp;<span class="ident" id="8106821">reflect</span><span class="op" id="8106828">.</span><span class="ident" id="8106829">New</span><span class="op" id="8106832">(</span><span class="ident" id="8106833">vt</span><span class="op" id="8106835">.</span><span class="ident" id="8106836">Elem</span><span class="op" id="8106840">(</span><span class="op" id="8106841">)</span><span class="op" id="8106842">)</span><span class="op" id="8106843">.</span><span class="ident" id="8106844">Interface</span><span class="op" id="8106853">(</span><span class="op" id="8106854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106858">err</span>&nbsp;<span class="op" id="8106862">:=</span>&nbsp;<span class="ident" id="8106865">Unmarshal</span><span class="op" id="8106874">(</span><span class="op" id="8106875">[</span><span class="op" id="8106876">]</span><span class="builtintype" id="8106877">byte</span><span class="op" id="8106881">(</span><span class="ident" id="8106882">test</span><span class="op" id="8106886">.</span><span class="ident" id="8106887">ExpectXML</span><span class="op" id="8106896">)</span><span class="op" id="8106897">,</span>&nbsp;<span class="ident" id="8106899">dest</span><span class="op" id="8106903">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106908">switch</span>&nbsp;<span class="ident" id="8106915">fix</span>&nbsp;<span class="op" id="8106919">:=</span>&nbsp;<span class="ident" id="8106922">dest</span><span class="op" id="8106926">.</span><span class="op" id="8106927">(</span><span class="keyword" id="8106928">type</span><span class="op" id="8106932">)</span>&nbsp;<span class="op" id="8106934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106938">case</span>&nbsp;<span class="op" id="8106943">*</span><span class="ident" id="8106944">Feed</span><span class="op" id="8106948">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8106953">fix</span><span class="op" id="8106956">.</span><span class="ident" id="8106957">Author</span><span class="op" id="8106963">.</span><span class="ident" id="8106964">InnerXML</span>&nbsp;<span class="op" id="8106973">=</span>&nbsp;<span class="string" id="8106975">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8106981">for</span>&nbsp;<span class="ident" id="8106985">i</span>&nbsp;<span class="op" id="8106987">:=</span>&nbsp;<span class="keyword" id="8106990">range</span>&nbsp;<span class="ident" id="8106996">fix</span><span class="op" id="8106999">.</span><span class="ident" id="8107000">Entry</span>&nbsp;<span class="op" id="8107006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107012">fix</span><span class="op" id="8107015">.</span><span class="ident" id="8107016">Entry</span><span class="op" id="8107021">[</span><span class="ident" id="8107022">i</span><span class="op" id="8107023">]</span><span class="op" id="8107024">.</span><span class="ident" id="8107025">Author</span><span class="op" id="8107031">.</span><span class="ident" id="8107032">InnerXML</span>&nbsp;<span class="op" id="8107041">=</span>&nbsp;<span class="string" id="8107043">&#34;&#34;</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107058">if</span>&nbsp;<span class="ident" id="8107061">err</span>&nbsp;<span class="op" id="8107065">!=</span>&nbsp;<span class="ident" id="8107068">nil</span>&nbsp;<span class="op" id="8107072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107077">t</span><span class="op" id="8107078">.</span><span class="ident" id="8107079">Errorf</span><span class="op" id="8107085">(</span><span class="string" id="8107086">&#34;#%d:&nbsp;unexpected&nbsp;error:&nbsp;%#v&#34;</span><span class="op" id="8107114">,</span>&nbsp;<span class="ident" id="8107116">i</span><span class="op" id="8107117">,</span>&nbsp;<span class="ident" id="8107119">err</span><span class="op" id="8107122">)</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107126">}</span>&nbsp;<span class="keyword" id="8107128">else</span>&nbsp;<span class="keyword" id="8107133">if</span>&nbsp;<span class="ident" id="8107136">got</span><span class="op" id="8107139">,</span>&nbsp;<span class="ident" id="8107141">want</span>&nbsp;<span class="op" id="8107146">:=</span>&nbsp;<span class="ident" id="8107149">dest</span><span class="op" id="8107153">,</span>&nbsp;<span class="ident" id="8107155">test</span><span class="op" id="8107159">.</span><span class="ident" id="8107160">Value</span><span class="op" id="8107165">;</span>&nbsp;<span class="op" id="8107167">!</span><span class="ident" id="8107168">reflect</span><span class="op" id="8107175">.</span><span class="ident" id="8107176">DeepEqual</span><span class="op" id="8107185">(</span><span class="ident" id="8107186">got</span><span class="op" id="8107189">,</span>&nbsp;<span class="ident" id="8107191">want</span><span class="op" id="8107195">)</span>&nbsp;<span class="op" id="8107197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107202">t</span><span class="op" id="8107203">.</span><span class="ident" id="8107204">Errorf</span><span class="op" id="8107210">(</span><span class="string" id="8107211">&#34;#%d:&nbsp;unmarshal(%q):\nhave&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="8107252">,</span>&nbsp;<span class="ident" id="8107254">i</span><span class="op" id="8107255">,</span>&nbsp;<span class="ident" id="8107257">test</span><span class="op" id="8107261">.</span><span class="ident" id="8107262">ExpectXML</span><span class="op" id="8107271">,</span>&nbsp;<span class="ident" id="8107273">got</span><span class="op" id="8107276">,</span>&nbsp;<span class="ident" id="8107278">want</span><span class="op" id="8107282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107289">}</span><br>
<span class="lineno"></span><span class="op" id="8107291">}</span><br>
<span class="lineno">1060</span><br>
<span class="lineno"></span><span class="keyword" id="8107294">func</span>&nbsp;<span class="ident" id="8107299">TestMarshalIndent</span><span class="op" id="8107316">(</span><span class="ident" id="8107317">t</span>&nbsp;<span class="op" id="8107319">*</span><span class="ident" id="8107320">testing</span><span class="op" id="8107327">.</span><span class="ident" id="8107328">T</span><span class="op" id="8107329">)</span>&nbsp;<span class="op" id="8107331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107334">for</span>&nbsp;<span class="ident" id="8107338">i</span><span class="op" id="8107339">,</span>&nbsp;<span class="ident" id="8107341">test</span>&nbsp;<span class="op" id="8107346">:=</span>&nbsp;<span class="keyword" id="8107349">range</span>&nbsp;<span class="ident" id="8107355">marshalIndentTests</span>&nbsp;<span class="op" id="8107374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107378">data</span><span class="op" id="8107382">,</span>&nbsp;<span class="ident" id="8107384">err</span>&nbsp;<span class="op" id="8107388">:=</span>&nbsp;<span class="ident" id="8107391">MarshalIndent</span><span class="op" id="8107404">(</span><span class="ident" id="8107405">test</span><span class="op" id="8107409">.</span><span class="ident" id="8107410">Value</span><span class="op" id="8107415">,</span>&nbsp;<span class="ident" id="8107417">test</span><span class="op" id="8107421">.</span><span class="ident" id="8107422">Prefix</span><span class="op" id="8107428">,</span>&nbsp;<span class="ident" id="8107430">test</span><span class="op" id="8107434">.</span><span class="ident" id="8107435">Indent</span><span class="op" id="8107441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107445">if</span>&nbsp;<span class="ident" id="8107448">err</span>&nbsp;<span class="op" id="8107452">!=</span>&nbsp;<span class="ident" id="8107455">nil</span>&nbsp;<span class="op" id="8107459">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107464">t</span><span class="op" id="8107465">.</span><span class="ident" id="8107466">Errorf</span><span class="op" id="8107472">(</span><span class="string" id="8107473">&#34;#%d:&nbsp;Error:&nbsp;%s&#34;</span><span class="op" id="8107489">,</span>&nbsp;<span class="ident" id="8107491">i</span><span class="op" id="8107492">,</span>&nbsp;<span class="ident" id="8107494">err</span><span class="op" id="8107497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107502">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107513">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107517">if</span>&nbsp;<span class="ident" id="8107520">got</span><span class="op" id="8107523">,</span>&nbsp;<span class="ident" id="8107525">want</span>&nbsp;<span class="op" id="8107530">:=</span>&nbsp;<span class="builtintype" id="8107533">string</span><span class="op" id="8107539">(</span><span class="ident" id="8107540">data</span><span class="op" id="8107544">)</span><span class="op" id="8107545">,</span>&nbsp;<span class="ident" id="8107547">test</span><span class="op" id="8107551">.</span><span class="ident" id="8107552">ExpectXML</span><span class="op" id="8107561">;</span>&nbsp;<span class="ident" id="8107563">got</span>&nbsp;<span class="op" id="8107567">!=</span>&nbsp;<span class="ident" id="8107570">want</span>&nbsp;<span class="op" id="8107575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107580">t</span><span class="op" id="8107581">.</span><span class="ident" id="8107582">Errorf</span><span class="op" id="8107588">(</span><span class="string" id="8107589">&#34;#%d:&nbsp;MarshalIndent:\nGot:%s\nWant:\n%s&#34;</span><span class="op" id="8107629">,</span>&nbsp;<span class="ident" id="8107631">i</span><span class="op" id="8107632">,</span>&nbsp;<span class="ident" id="8107634">got</span><span class="op" id="8107637">,</span>&nbsp;<span class="ident" id="8107639">want</span><span class="op" id="8107643">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107650">}</span><br>
<span class="lineno"></span><span class="op" id="8107652">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8107655">type</span>&nbsp;<span class="ident" id="8107660">limitedBytesWriter</span>&nbsp;<span class="keyword" id="8107679">struct</span>&nbsp;<span class="op" id="8107686">{</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107689">w</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8107696">io</span><span class="op" id="8107698">.</span><span class="ident" id="8107699">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107707">remain</span>&nbsp;<span class="builtintype" id="8107714">int</span>&nbsp;<span class="comment" id="8107718">//&nbsp;until&nbsp;writes&nbsp;fail</span><br>
<span class="lineno"></span><span class="op" id="8107739">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8107742">func</span>&nbsp;<span class="op" id="8107747">(</span><span class="ident" id="8107748">lw</span>&nbsp;<span class="op" id="8107751">*</span><span class="ident" id="8107752">limitedBytesWriter</span><span class="op" id="8107770">)</span>&nbsp;<span class="ident" id="8107772">Write</span><span class="op" id="8107777">(</span><span class="ident" id="8107778">p</span>&nbsp;<span class="op" id="8107780">[</span><span class="op" id="8107781">]</span><span class="builtintype" id="8107782">byte</span><span class="op" id="8107786">)</span>&nbsp;<span class="op" id="8107788">(</span><span class="ident" id="8107789">n</span>&nbsp;<span class="builtintype" id="8107791">int</span><span class="op" id="8107794">,</span>&nbsp;<span class="ident" id="8107796">err</span>&nbsp;<span class="builtintype" id="8107800">error</span><span class="op" id="8107805">)</span>&nbsp;<span class="op" id="8107807">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107810">if</span>&nbsp;<span class="ident" id="8107813">lw</span><span class="op" id="8107815">.</span><span class="ident" id="8107816">remain</span>&nbsp;<span class="op" id="8107823">&lt;=</span>&nbsp;<span class="num" id="8107826">0</span>&nbsp;<span class="op" id="8107828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8107832">println</span><span class="op" id="8107839">(</span><span class="string" id="8107840">&#34;error&#34;</span><span class="op" id="8107847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107851">return</span>&nbsp;<span class="num" id="8107858">0</span><span class="op" id="8107859">,</span>&nbsp;<span class="ident" id="8107861">errors</span><span class="op" id="8107867">.</span><span class="ident" id="8107868">New</span><span class="op" id="8107871">(</span><span class="string" id="8107872">&#34;write&nbsp;limit&nbsp;hit&#34;</span><span class="op" id="8107889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8107892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107895">if</span>&nbsp;<span class="builtinfunc" id="8107898">len</span><span class="op" id="8107901">(</span><span class="ident" id="8107902">p</span><span class="op" id="8107903">)</span>&nbsp;<span class="op" id="8107905">&gt;</span>&nbsp;<span class="ident" id="8107907">lw</span><span class="op" id="8107909">.</span><span class="ident" id="8107910">remain</span>&nbsp;<span class="op" id="8107917">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107921">p</span>&nbsp;<span class="op" id="8107923">=</span>&nbsp;<span class="ident" id="8107925">p</span><span class="op" id="8107926">[</span><span class="op" id="8107927">:</span><span class="ident" id="8107928">lw</span><span class="op" id="8107930">.</span><span class="ident" id="8107931">remain</span><span class="op" id="8107937">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107941">n</span><span class="op" id="8107942">,</span>&nbsp;<span class="ident" id="8107944">_</span>&nbsp;<span class="op" id="8107946">=</span>&nbsp;<span class="ident" id="8107948">lw</span><span class="op" id="8107950">.</span><span class="ident" id="8107951">w</span><span class="op" id="8107952">.</span><span class="ident" id="8107953">Write</span><span class="op" id="8107958">(</span><span class="ident" id="8107959">p</span><span class="op" id="8107960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8107964">lw</span><span class="op" id="8107966">.</span><span class="ident" id="8107967">remain</span>&nbsp;<span class="op" id="8107974">=</span>&nbsp;<span class="num" id="8107976">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8107980">return</span>&nbsp;<span class="ident" id="8107987">n</span><span class="op" id="8107988">,</span>&nbsp;<span class="ident" id="8107990">errors</span><span class="op" id="8107996">.</span><span class="ident" id="8107997">New</span><span class="op" id="8108000">(</span><span class="string" id="8108001">&#34;write&nbsp;limit&nbsp;hit&#34;</span><span class="op" id="8108018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108021">}</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108024">n</span><span class="op" id="8108025">,</span>&nbsp;<span class="ident" id="8108027">err</span>&nbsp;<span class="op" id="8108031">=</span>&nbsp;<span class="ident" id="8108033">lw</span><span class="op" id="8108035">.</span><span class="ident" id="8108036">w</span><span class="op" id="8108037">.</span><span class="ident" id="8108038">Write</span><span class="op" id="8108043">(</span><span class="ident" id="8108044">p</span><span class="op" id="8108045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108048">lw</span><span class="op" id="8108050">.</span><span class="ident" id="8108051">remain</span>&nbsp;<span class="op" id="8108058">-=</span>&nbsp;<span class="ident" id="8108061">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108064">return</span>&nbsp;<span class="ident" id="8108071">n</span><span class="op" id="8108072">,</span>&nbsp;<span class="ident" id="8108074">err</span><br>
<span class="lineno"></span><span class="op" id="8108078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="keyword" id="8108081">func</span>&nbsp;<span class="ident" id="8108086">TestMarshalWriteErrors</span><span class="op" id="8108108">(</span><span class="ident" id="8108109">t</span>&nbsp;<span class="op" id="8108111">*</span><span class="ident" id="8108112">testing</span><span class="op" id="8108119">.</span><span class="ident" id="8108120">T</span><span class="op" id="8108121">)</span>&nbsp;<span class="op" id="8108123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108126">var</span>&nbsp;<span class="ident" id="8108130">buf</span>&nbsp;<span class="ident" id="8108134">bytes</span><span class="op" id="8108139">.</span><span class="ident" id="8108140">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108148">const</span>&nbsp;<span class="ident" id="8108154">writeCap</span>&nbsp;<span class="op" id="8108163">=</span>&nbsp;<span class="num" id="8108165">1024</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108171">w</span>&nbsp;<span class="op" id="8108173">:=</span>&nbsp;<span class="op" id="8108176">&amp;</span><span class="ident" id="8108177">limitedBytesWriter</span><span class="op" id="8108195">{</span><span class="op" id="8108196">&amp;</span><span class="ident" id="8108197">buf</span><span class="op" id="8108200">,</span>&nbsp;<span class="ident" id="8108202">writeCap</span><span class="op" id="8108210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108213">enc</span>&nbsp;<span class="op" id="8108217">:=</span>&nbsp;<span class="ident" id="8108220">NewEncoder</span><span class="op" id="8108230">(</span><span class="ident" id="8108231">w</span><span class="op" id="8108232">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108235">var</span>&nbsp;<span class="ident" id="8108239">err</span>&nbsp;<span class="builtintype" id="8108243">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108250">var</span>&nbsp;<span class="ident" id="8108254">i</span>&nbsp;<span class="builtintype" id="8108256">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108261">const</span>&nbsp;<span class="ident" id="8108267">n</span>&nbsp;<span class="op" id="8108269">=</span>&nbsp;<span class="num" id="8108271">4000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108277">for</span>&nbsp;<span class="ident" id="8108281">i</span>&nbsp;<span class="op" id="8108283">=</span>&nbsp;<span class="num" id="8108285">1</span><span class="op" id="8108286">;</span>&nbsp;<span class="ident" id="8108288">i</span>&nbsp;<span class="op" id="8108290">&lt;=</span>&nbsp;<span class="ident" id="8108293">n</span><span class="op" id="8108294">;</span>&nbsp;<span class="ident" id="8108296">i</span><span class="op" id="8108297">++</span>&nbsp;<span class="op" id="8108300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108304">err</span>&nbsp;<span class="op" id="8108308">=</span>&nbsp;<span class="ident" id="8108310">enc</span><span class="op" id="8108313">.</span><span class="ident" id="8108314">Encode</span><span class="op" id="8108320">(</span><span class="op" id="8108321">&amp;</span><span class="ident" id="8108322">Passenger</span><span class="op" id="8108331">{</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108336">Name</span><span class="op" id="8108340">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8108344">[</span><span class="op" id="8108345">]</span><span class="builtintype" id="8108346">string</span><span class="op" id="8108352">{</span><span class="string" id="8108353">&#34;Alice&#34;</span><span class="op" id="8108360">,</span>&nbsp;<span class="string" id="8108362">&#34;Bob&#34;</span><span class="op" id="8108367">}</span><span class="op" id="8108368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108373">Weight</span><span class="op" id="8108379">:</span>&nbsp;<span class="num" id="8108381">5</span><span class="op" id="8108382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108386">}</span><span class="op" id="8108387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108391">if</span>&nbsp;<span class="ident" id="8108394">err</span>&nbsp;<span class="op" id="8108398">!=</span>&nbsp;<span class="ident" id="8108401">nil</span>&nbsp;<span class="op" id="8108405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108410">break</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108424">if</span>&nbsp;<span class="ident" id="8108427">err</span>&nbsp;<span class="op" id="8108431">==</span>&nbsp;<span class="ident" id="8108434">nil</span>&nbsp;<span class="op" id="8108438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108442">t</span><span class="op" id="8108443">.</span><span class="ident" id="8108444">Error</span><span class="op" id="8108449">(</span><span class="string" id="8108450">&#34;expected&nbsp;an&nbsp;error&#34;</span><span class="op" id="8108469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108472">}</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108475">if</span>&nbsp;<span class="ident" id="8108478">i</span>&nbsp;<span class="op" id="8108480">==</span>&nbsp;<span class="ident" id="8108483">n</span>&nbsp;<span class="op" id="8108485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108489">t</span><span class="op" id="8108490">.</span><span class="ident" id="8108491">Errorf</span><span class="op" id="8108497">(</span><span class="string" id="8108498">&#34;expected&nbsp;to&nbsp;fail&nbsp;before&nbsp;the&nbsp;end&#34;</span><span class="op" id="8108531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108537">if</span>&nbsp;<span class="ident" id="8108540">buf</span><span class="op" id="8108543">.</span><span class="ident" id="8108544">Len</span><span class="op" id="8108547">(</span><span class="op" id="8108548">)</span>&nbsp;<span class="op" id="8108550">!=</span>&nbsp;<span class="ident" id="8108553">writeCap</span>&nbsp;<span class="op" id="8108562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108566">t</span><span class="op" id="8108567">.</span><span class="ident" id="8108568">Errorf</span><span class="op" id="8108574">(</span><span class="string" id="8108575">&#34;buf.Len()&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8108600">,</span>&nbsp;<span class="ident" id="8108602">buf</span><span class="op" id="8108605">.</span><span class="ident" id="8108606">Len</span><span class="op" id="8108609">(</span><span class="op" id="8108610">)</span><span class="op" id="8108611">,</span>&nbsp;<span class="ident" id="8108613">writeCap</span><span class="op" id="8108621">)</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108624">}</span><br>
<span class="lineno"></span><span class="op" id="8108626">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8108629">func</span>&nbsp;<span class="ident" id="8108634">TestMarshalWriteIOErrors</span><span class="op" id="8108658">(</span><span class="ident" id="8108659">t</span>&nbsp;<span class="op" id="8108661">*</span><span class="ident" id="8108662">testing</span><span class="op" id="8108669">.</span><span class="ident" id="8108670">T</span><span class="op" id="8108671">)</span>&nbsp;<span class="op" id="8108673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108676">enc</span>&nbsp;<span class="op" id="8108680">:=</span>&nbsp;<span class="ident" id="8108683">NewEncoder</span><span class="op" id="8108693">(</span><span class="ident" id="8108694">errWriter</span><span class="op" id="8108703">{</span><span class="op" id="8108704">}</span><span class="op" id="8108705">)</span><br>
<span class="lineno">1125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108709">expectErr</span>&nbsp;<span class="op" id="8108719">:=</span>&nbsp;<span class="string" id="8108722">&#34;unwritable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108736">err</span>&nbsp;<span class="op" id="8108740">:=</span>&nbsp;<span class="ident" id="8108743">enc</span><span class="op" id="8108746">.</span><span class="ident" id="8108747">Encode</span><span class="op" id="8108753">(</span><span class="op" id="8108754">&amp;</span><span class="ident" id="8108755">Passenger</span><span class="op" id="8108764">{</span><span class="op" id="8108765">}</span><span class="op" id="8108766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108769">if</span>&nbsp;<span class="ident" id="8108772">err</span>&nbsp;<span class="op" id="8108776">==</span>&nbsp;<span class="ident" id="8108779">nil</span>&nbsp;<span class="op" id="8108783">||</span>&nbsp;<span class="ident" id="8108786">err</span><span class="op" id="8108789">.</span><span class="ident" id="8108790">Error</span><span class="op" id="8108795">(</span><span class="op" id="8108796">)</span>&nbsp;<span class="op" id="8108798">!=</span>&nbsp;<span class="ident" id="8108801">expectErr</span>&nbsp;<span class="op" id="8108811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108815">t</span><span class="op" id="8108816">.</span><span class="ident" id="8108817">Errorf</span><span class="op" id="8108823">(</span><span class="string" id="8108824">&#34;EscapeTest&nbsp;=&nbsp;[error]&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8108858">,</span>&nbsp;<span class="ident" id="8108860">err</span><span class="op" id="8108863">,</span>&nbsp;<span class="ident" id="8108865">expectErr</span><span class="op" id="8108874">)</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8108877">}</span><br>
<span class="lineno"></span><span class="op" id="8108879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8108882">func</span>&nbsp;<span class="ident" id="8108887">TestMarshalFlush</span><span class="op" id="8108903">(</span><span class="ident" id="8108904">t</span>&nbsp;<span class="op" id="8108906">*</span><span class="ident" id="8108907">testing</span><span class="op" id="8108914">.</span><span class="ident" id="8108915">T</span><span class="op" id="8108916">)</span>&nbsp;<span class="op" id="8108918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108921">var</span>&nbsp;<span class="ident" id="8108925">buf</span>&nbsp;<span class="ident" id="8108929">bytes</span><span class="op" id="8108934">.</span><span class="ident" id="8108935">Buffer</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8108943">enc</span>&nbsp;<span class="op" id="8108947">:=</span>&nbsp;<span class="ident" id="8108950">NewEncoder</span><span class="op" id="8108960">(</span><span class="op" id="8108961">&amp;</span><span class="ident" id="8108962">buf</span><span class="op" id="8108965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8108968">if</span>&nbsp;<span class="ident" id="8108971">err</span>&nbsp;<span class="op" id="8108975">:=</span>&nbsp;<span class="ident" id="8108978">enc</span><span class="op" id="8108981">.</span><span class="ident" id="8108982">EncodeToken</span><span class="op" id="8108993">(</span><span class="ident" id="8108994">CharData</span><span class="op" id="8109002">(</span><span class="string" id="8109003">&#34;hello&nbsp;world&#34;</span><span class="op" id="8109016">)</span><span class="op" id="8109017">)</span><span class="op" id="8109018">;</span>&nbsp;<span class="ident" id="8109020">err</span>&nbsp;<span class="op" id="8109024">!=</span>&nbsp;<span class="ident" id="8109027">nil</span>&nbsp;<span class="op" id="8109031">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109035">t</span><span class="op" id="8109036">.</span><span class="ident" id="8109037">Fatalf</span><span class="op" id="8109043">(</span><span class="string" id="8109044">&#34;enc.EncodeToken:&nbsp;%v&#34;</span><span class="op" id="8109065">,</span>&nbsp;<span class="ident" id="8109067">err</span><span class="op" id="8109070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109076">if</span>&nbsp;<span class="ident" id="8109079">buf</span><span class="op" id="8109082">.</span><span class="ident" id="8109083">Len</span><span class="op" id="8109086">(</span><span class="op" id="8109087">)</span>&nbsp;<span class="op" id="8109089">&gt;</span>&nbsp;<span class="num" id="8109091">0</span>&nbsp;<span class="op" id="8109093">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109097">t</span><span class="op" id="8109098">.</span><span class="ident" id="8109099">Fatalf</span><span class="op" id="8109105">(</span><span class="string" id="8109106">&#34;enc.EncodeToken&nbsp;caused&nbsp;actual&nbsp;write:&nbsp;%q&#34;</span><span class="op" id="8109147">,</span>&nbsp;<span class="ident" id="8109149">buf</span><span class="op" id="8109152">.</span><span class="ident" id="8109153">Bytes</span><span class="op" id="8109158">(</span><span class="op" id="8109159">)</span><span class="op" id="8109160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109166">if</span>&nbsp;<span class="ident" id="8109169">err</span>&nbsp;<span class="op" id="8109173">:=</span>&nbsp;<span class="ident" id="8109176">enc</span><span class="op" id="8109179">.</span><span class="ident" id="8109180">Flush</span><span class="op" id="8109185">(</span><span class="op" id="8109186">)</span><span class="op" id="8109187">;</span>&nbsp;<span class="ident" id="8109189">err</span>&nbsp;<span class="op" id="8109193">!=</span>&nbsp;<span class="ident" id="8109196">nil</span>&nbsp;<span class="op" id="8109200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109204">t</span><span class="op" id="8109205">.</span><span class="ident" id="8109206">Fatalf</span><span class="op" id="8109212">(</span><span class="string" id="8109213">&#34;enc.Flush:&nbsp;%v&#34;</span><span class="op" id="8109228">,</span>&nbsp;<span class="ident" id="8109230">err</span><span class="op" id="8109233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109236">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109239">if</span>&nbsp;<span class="ident" id="8109242">buf</span><span class="op" id="8109245">.</span><span class="ident" id="8109246">String</span><span class="op" id="8109252">(</span><span class="op" id="8109253">)</span>&nbsp;<span class="op" id="8109255">!=</span>&nbsp;<span class="string" id="8109258">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="8109272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109276">t</span><span class="op" id="8109277">.</span><span class="ident" id="8109278">Fatalf</span><span class="op" id="8109284">(</span><span class="string" id="8109285">&#34;after&nbsp;enc.Flush,&nbsp;buf.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8109330">,</span>&nbsp;<span class="ident" id="8109332">buf</span><span class="op" id="8109335">.</span><span class="ident" id="8109336">String</span><span class="op" id="8109342">(</span><span class="op" id="8109343">)</span><span class="op" id="8109344">,</span>&nbsp;<span class="string" id="8109346">&#34;hello&nbsp;world&#34;</span><span class="op" id="8109359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109362">}</span><br>
<span class="lineno"></span><span class="op" id="8109364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1150</span><span class="keyword" id="8109367">func</span>&nbsp;<span class="ident" id="8109372">BenchmarkMarshal</span><span class="op" id="8109388">(</span><span class="ident" id="8109389">b</span>&nbsp;<span class="op" id="8109391">*</span><span class="ident" id="8109392">testing</span><span class="op" id="8109399">.</span><span class="ident" id="8109400">B</span><span class="op" id="8109401">)</span>&nbsp;<span class="op" id="8109403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109406">for</span>&nbsp;<span class="ident" id="8109410">i</span>&nbsp;<span class="op" id="8109412">:=</span>&nbsp;<span class="num" id="8109415">0</span><span class="op" id="8109416">;</span>&nbsp;<span class="ident" id="8109418">i</span>&nbsp;<span class="op" id="8109420">&lt;</span>&nbsp;<span class="ident" id="8109422">b</span><span class="op" id="8109423">.</span><span class="ident" id="8109424">N</span><span class="op" id="8109425">;</span>&nbsp;<span class="ident" id="8109427">i</span><span class="op" id="8109428">++</span>&nbsp;<span class="op" id="8109431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109435">Marshal</span><span class="op" id="8109442">(</span><span class="ident" id="8109443">atomValue</span><span class="op" id="8109452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109455">}</span><br>
<span class="lineno"></span><span class="op" id="8109457">}</span><br>
<span class="lineno">1155</span><br>
<span class="lineno"></span><span class="keyword" id="8109460">func</span>&nbsp;<span class="ident" id="8109465">BenchmarkUnmarshal</span><span class="op" id="8109483">(</span><span class="ident" id="8109484">b</span>&nbsp;<span class="op" id="8109486">*</span><span class="ident" id="8109487">testing</span><span class="op" id="8109494">.</span><span class="ident" id="8109495">B</span><span class="op" id="8109496">)</span>&nbsp;<span class="op" id="8109498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109501">xml</span>&nbsp;<span class="op" id="8109505">:=</span>&nbsp;<span class="op" id="8109508">[</span><span class="op" id="8109509">]</span><span class="builtintype" id="8109510">byte</span><span class="op" id="8109514">(</span><span class="ident" id="8109515">atomXml</span><span class="op" id="8109522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109525">for</span>&nbsp;<span class="ident" id="8109529">i</span>&nbsp;<span class="op" id="8109531">:=</span>&nbsp;<span class="num" id="8109534">0</span><span class="op" id="8109535">;</span>&nbsp;<span class="ident" id="8109537">i</span>&nbsp;<span class="op" id="8109539">&lt;</span>&nbsp;<span class="ident" id="8109541">b</span><span class="op" id="8109542">.</span><span class="ident" id="8109543">N</span><span class="op" id="8109544">;</span>&nbsp;<span class="ident" id="8109546">i</span><span class="op" id="8109547">++</span>&nbsp;<span class="op" id="8109550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109554">Unmarshal</span><span class="op" id="8109563">(</span><span class="ident" id="8109564">xml</span><span class="op" id="8109567">,</span>&nbsp;<span class="op" id="8109569">&amp;</span><span class="ident" id="8109570">Feed</span><span class="op" id="8109574">{</span><span class="op" id="8109575">}</span><span class="op" id="8109576">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109579">}</span><br>
<span class="lineno"></span><span class="op" id="8109581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8109584">//&nbsp;golang.org/issue/6556</span><br>
<span class="lineno"></span><span class="keyword" id="8109609">func</span>&nbsp;<span class="ident" id="8109614">TestStructPointerMarshal</span><span class="op" id="8109638">(</span><span class="ident" id="8109639">t</span>&nbsp;<span class="op" id="8109641">*</span><span class="ident" id="8109642">testing</span><span class="op" id="8109649">.</span><span class="ident" id="8109650">T</span><span class="op" id="8109651">)</span>&nbsp;<span class="op" id="8109653">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109656">type</span>&nbsp;<span class="ident" id="8109661">A</span>&nbsp;<span class="keyword" id="8109663">struct</span>&nbsp;<span class="op" id="8109670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109674">XMLName</span>&nbsp;<span class="builtintype" id="8109682">string</span>&nbsp;<span class="string" id="8109689">`xml:&#34;a&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109701">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8109709">[</span><span class="op" id="8109710">]</span><span class="keyword" id="8109711">interface</span><span class="op" id="8109720">{</span><span class="op" id="8109721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109727">type</span>&nbsp;<span class="ident" id="8109732">C</span>&nbsp;<span class="keyword" id="8109734">struct</span>&nbsp;<span class="op" id="8109741">{</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109745">XMLName</span>&nbsp;<span class="ident" id="8109753">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109760">Value</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8109768">string</span>&nbsp;<span class="string" id="8109775">`xml:&#34;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109794">a</span>&nbsp;<span class="op" id="8109796">:=</span>&nbsp;<span class="builtinfunc" id="8109799">new</span><span class="op" id="8109802">(</span><span class="ident" id="8109803">A</span><span class="op" id="8109804">)</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109807">a</span><span class="op" id="8109808">.</span><span class="ident" id="8109809">B</span>&nbsp;<span class="op" id="8109811">=</span>&nbsp;<span class="builtinfunc" id="8109813">append</span><span class="op" id="8109819">(</span><span class="ident" id="8109820">a</span><span class="op" id="8109821">.</span><span class="ident" id="8109822">B</span><span class="op" id="8109823">,</span>&nbsp;<span class="op" id="8109825">&amp;</span><span class="ident" id="8109826">C</span><span class="op" id="8109827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109831">XMLName</span><span class="op" id="8109838">:</span>&nbsp;<span class="ident" id="8109840">Name</span><span class="op" id="8109844">{</span><span class="ident" id="8109845">Local</span><span class="op" id="8109850">:</span>&nbsp;<span class="string" id="8109852">&#34;c&#34;</span><span class="op" id="8109855">}</span><span class="op" id="8109856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109860">Value</span><span class="op" id="8109865">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="8109869">&#34;x&#34;</span><span class="op" id="8109872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109875">}</span><span class="op" id="8109876">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109880">b</span><span class="op" id="8109881">,</span>&nbsp;<span class="ident" id="8109883">err</span>&nbsp;<span class="op" id="8109887">:=</span>&nbsp;<span class="ident" id="8109890">Marshal</span><span class="op" id="8109897">(</span><span class="ident" id="8109898">a</span><span class="op" id="8109899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109902">if</span>&nbsp;<span class="ident" id="8109905">err</span>&nbsp;<span class="op" id="8109909">!=</span>&nbsp;<span class="ident" id="8109912">nil</span>&nbsp;<span class="op" id="8109916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109920">t</span><span class="op" id="8109921">.</span><span class="ident" id="8109922">Fatal</span><span class="op" id="8109927">(</span><span class="ident" id="8109928">err</span><span class="op" id="8109931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8109934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8109937">if</span>&nbsp;<span class="ident" id="8109940">x</span>&nbsp;<span class="op" id="8109942">:=</span>&nbsp;<span class="builtintype" id="8109945">string</span><span class="op" id="8109951">(</span><span class="ident" id="8109952">b</span><span class="op" id="8109953">)</span><span class="op" id="8109954">;</span>&nbsp;<span class="ident" id="8109956">x</span>&nbsp;<span class="op" id="8109958">!=</span>&nbsp;<span class="string" id="8109961">&#34;&lt;a&gt;&lt;c&gt;&lt;value&gt;x&lt;/value&gt;&lt;/c&gt;&lt;/a&gt;&#34;</span>&nbsp;<span class="op" id="8109994">{</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8109998">t</span><span class="op" id="8109999">.</span><span class="ident" id="8110000">Fatal</span><span class="op" id="8110005">(</span><span class="ident" id="8110006">x</span><span class="op" id="8110007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110013">var</span>&nbsp;<span class="ident" id="8110017">v</span>&nbsp;<span class="ident" id="8110019">A</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110022">err</span>&nbsp;<span class="op" id="8110026">=</span>&nbsp;<span class="ident" id="8110028">Unmarshal</span><span class="op" id="8110037">(</span><span class="ident" id="8110038">b</span><span class="op" id="8110039">,</span>&nbsp;<span class="op" id="8110041">&amp;</span><span class="ident" id="8110042">v</span><span class="op" id="8110043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110046">if</span>&nbsp;<span class="ident" id="8110049">err</span>&nbsp;<span class="op" id="8110053">!=</span>&nbsp;<span class="ident" id="8110056">nil</span>&nbsp;<span class="op" id="8110060">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110064">t</span><span class="op" id="8110065">.</span><span class="ident" id="8110066">Fatal</span><span class="op" id="8110071">(</span><span class="ident" id="8110072">err</span><span class="op" id="8110075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110078">}</span><br>
<span class="lineno"></span><span class="op" id="8110080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8110083">var</span>&nbsp;<span class="ident" id="8110087">encodeTokenTests</span>&nbsp;<span class="op" id="8110104">=</span>&nbsp;<span class="op" id="8110106">[</span><span class="op" id="8110107">]</span><span class="keyword" id="8110108">struct</span>&nbsp;<span class="op" id="8110115">{</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110118">tok</span>&nbsp;&nbsp;<span class="ident" id="8110123">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110130">want</span>&nbsp;<span class="builtintype" id="8110135">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110143">ok</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8110148">bool</span><br>
<span class="lineno"></span><span class="op" id="8110153">}</span><span class="op" id="8110154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110157">{</span><span class="ident" id="8110158">StartElement</span><span class="op" id="8110170">{</span><span class="ident" id="8110171">Name</span><span class="op" id="8110175">{</span><span class="string" id="8110176">&#34;space&#34;</span><span class="op" id="8110183">,</span>&nbsp;<span class="string" id="8110185">&#34;local&#34;</span><span class="op" id="8110192">}</span><span class="op" id="8110193">,</span>&nbsp;<span class="ident" id="8110195">nil</span><span class="op" id="8110198">}</span><span class="op" id="8110199">,</span>&nbsp;<span class="string" id="8110201">&#34;&lt;local&nbsp;xmlns=\&#34;space\&#34;&gt;&#34;</span><span class="op" id="8110226">,</span>&nbsp;<span class="builtintype" id="8110228">true</span><span class="op" id="8110232">}</span><span class="op" id="8110233">,</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110236">{</span><span class="ident" id="8110237">StartElement</span><span class="op" id="8110249">{</span><span class="ident" id="8110250">Name</span><span class="op" id="8110254">{</span><span class="string" id="8110255">&#34;space&#34;</span><span class="op" id="8110262">,</span>&nbsp;<span class="string" id="8110264">&#34;&#34;</span><span class="op" id="8110266">}</span><span class="op" id="8110267">,</span>&nbsp;<span class="ident" id="8110269">nil</span><span class="op" id="8110272">}</span><span class="op" id="8110273">,</span>&nbsp;<span class="string" id="8110275">&#34;&#34;</span><span class="op" id="8110277">,</span>&nbsp;<span class="builtintype" id="8110279">false</span><span class="op" id="8110284">}</span><span class="op" id="8110285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110288">{</span><span class="ident" id="8110289">EndElement</span><span class="op" id="8110299">{</span><span class="ident" id="8110300">Name</span><span class="op" id="8110304">{</span><span class="string" id="8110305">&#34;space&#34;</span><span class="op" id="8110312">,</span>&nbsp;<span class="string" id="8110314">&#34;&#34;</span><span class="op" id="8110316">}</span><span class="op" id="8110317">}</span><span class="op" id="8110318">,</span>&nbsp;<span class="string" id="8110320">&#34;&#34;</span><span class="op" id="8110322">,</span>&nbsp;<span class="builtintype" id="8110324">false</span><span class="op" id="8110329">}</span><span class="op" id="8110330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110333">{</span><span class="ident" id="8110334">CharData</span><span class="op" id="8110342">(</span><span class="string" id="8110343">&#34;foo&#34;</span><span class="op" id="8110348">)</span><span class="op" id="8110349">,</span>&nbsp;<span class="string" id="8110351">&#34;foo&#34;</span><span class="op" id="8110356">,</span>&nbsp;<span class="builtintype" id="8110358">true</span><span class="op" id="8110362">}</span><span class="op" id="8110363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110366">{</span><span class="ident" id="8110367">Comment</span><span class="op" id="8110374">(</span><span class="string" id="8110375">&#34;foo&#34;</span><span class="op" id="8110380">)</span><span class="op" id="8110381">,</span>&nbsp;<span class="string" id="8110383">&#34;&lt;!--foo--&gt;&#34;</span><span class="op" id="8110395">,</span>&nbsp;<span class="builtintype" id="8110397">true</span><span class="op" id="8110401">}</span><span class="op" id="8110402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110405">{</span><span class="ident" id="8110406">Comment</span><span class="op" id="8110413">(</span><span class="string" id="8110414">&#34;foo--&gt;&#34;</span><span class="op" id="8110422">)</span><span class="op" id="8110423">,</span>&nbsp;<span class="string" id="8110425">&#34;&#34;</span><span class="op" id="8110427">,</span>&nbsp;<span class="builtintype" id="8110429">false</span><span class="op" id="8110434">}</span><span class="op" id="8110435">,</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110438">{</span><span class="ident" id="8110439">ProcInst</span><span class="op" id="8110447">{</span><span class="string" id="8110448">&#34;Target&#34;</span><span class="op" id="8110456">,</span>&nbsp;<span class="op" id="8110458">[</span><span class="op" id="8110459">]</span><span class="builtintype" id="8110460">byte</span><span class="op" id="8110464">(</span><span class="string" id="8110465">&#34;Instruction&#34;</span><span class="op" id="8110478">)</span><span class="op" id="8110479">}</span><span class="op" id="8110480">,</span>&nbsp;<span class="string" id="8110482">&#34;&lt;?Target&nbsp;Instruction?&gt;&#34;</span><span class="op" id="8110506">,</span>&nbsp;<span class="builtintype" id="8110508">true</span><span class="op" id="8110512">}</span><span class="op" id="8110513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110516">{</span><span class="ident" id="8110517">ProcInst</span><span class="op" id="8110525">{</span><span class="string" id="8110526">&#34;&#34;</span><span class="op" id="8110528">,</span>&nbsp;<span class="op" id="8110530">[</span><span class="op" id="8110531">]</span><span class="builtintype" id="8110532">byte</span><span class="op" id="8110536">(</span><span class="string" id="8110537">&#34;Instruction&#34;</span><span class="op" id="8110550">)</span><span class="op" id="8110551">}</span><span class="op" id="8110552">,</span>&nbsp;<span class="string" id="8110554">&#34;&#34;</span><span class="op" id="8110556">,</span>&nbsp;<span class="builtintype" id="8110558">false</span><span class="op" id="8110563">}</span><span class="op" id="8110564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110567">{</span><span class="ident" id="8110568">ProcInst</span><span class="op" id="8110576">{</span><span class="string" id="8110577">&#34;Target&#34;</span><span class="op" id="8110585">,</span>&nbsp;<span class="op" id="8110587">[</span><span class="op" id="8110588">]</span><span class="builtintype" id="8110589">byte</span><span class="op" id="8110593">(</span><span class="string" id="8110594">&#34;Instruction?&gt;&#34;</span><span class="op" id="8110609">)</span><span class="op" id="8110610">}</span><span class="op" id="8110611">,</span>&nbsp;<span class="string" id="8110613">&#34;&#34;</span><span class="op" id="8110615">,</span>&nbsp;<span class="builtintype" id="8110617">false</span><span class="op" id="8110622">}</span><span class="op" id="8110623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110626">{</span><span class="ident" id="8110627">Directive</span><span class="op" id="8110636">(</span><span class="string" id="8110637">&#34;foo&#34;</span><span class="op" id="8110642">)</span><span class="op" id="8110643">,</span>&nbsp;<span class="string" id="8110645">&#34;&lt;!foo&gt;&#34;</span><span class="op" id="8110653">,</span>&nbsp;<span class="builtintype" id="8110655">true</span><span class="op" id="8110659">}</span><span class="op" id="8110660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8110663">{</span><span class="ident" id="8110664">Directive</span><span class="op" id="8110673">(</span><span class="string" id="8110674">&#34;foo&gt;&#34;</span><span class="op" id="8110680">)</span><span class="op" id="8110681">,</span>&nbsp;<span class="string" id="8110683">&#34;&#34;</span><span class="op" id="8110685">,</span>&nbsp;<span class="builtintype" id="8110687">false</span><span class="op" id="8110692">}</span><span class="op" id="8110693">,</span><br>
<span class="lineno">1210</span><span class="op" id="8110695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8110698">func</span>&nbsp;<span class="ident" id="8110703">TestEncodeToken</span><span class="op" id="8110718">(</span><span class="ident" id="8110719">t</span>&nbsp;<span class="op" id="8110721">*</span><span class="ident" id="8110722">testing</span><span class="op" id="8110729">.</span><span class="ident" id="8110730">T</span><span class="op" id="8110731">)</span>&nbsp;<span class="op" id="8110733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110736">for</span>&nbsp;<span class="ident" id="8110740">_</span><span class="op" id="8110741">,</span>&nbsp;<span class="ident" id="8110743">tt</span>&nbsp;<span class="op" id="8110746">:=</span>&nbsp;<span class="keyword" id="8110749">range</span>&nbsp;<span class="ident" id="8110755">encodeTokenTests</span>&nbsp;<span class="op" id="8110772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110776">var</span>&nbsp;<span class="ident" id="8110780">buf</span>&nbsp;<span class="ident" id="8110784">bytes</span><span class="op" id="8110789">.</span><span class="ident" id="8110790">Buffer</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110799">enc</span>&nbsp;<span class="op" id="8110803">:=</span>&nbsp;<span class="ident" id="8110806">NewEncoder</span><span class="op" id="8110816">(</span><span class="op" id="8110817">&amp;</span><span class="ident" id="8110818">buf</span><span class="op" id="8110821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110825">err</span>&nbsp;<span class="op" id="8110829">:=</span>&nbsp;<span class="ident" id="8110832">enc</span><span class="op" id="8110835">.</span><span class="ident" id="8110836">EncodeToken</span><span class="op" id="8110847">(</span><span class="ident" id="8110848">tt</span><span class="op" id="8110850">.</span><span class="ident" id="8110851">tok</span><span class="op" id="8110854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110858">switch</span>&nbsp;<span class="op" id="8110865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110869">case</span>&nbsp;<span class="op" id="8110874">!</span><span class="ident" id="8110875">tt</span><span class="op" id="8110877">.</span><span class="ident" id="8110878">ok</span>&nbsp;<span class="op" id="8110881">&amp;&amp;</span>&nbsp;<span class="ident" id="8110884">err</span>&nbsp;<span class="op" id="8110888">==</span>&nbsp;<span class="ident" id="8110891">nil</span><span class="op" id="8110894">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110899">t</span><span class="op" id="8110900">.</span><span class="ident" id="8110901">Errorf</span><span class="op" id="8110907">(</span><span class="string" id="8110908">&#34;enc.EncodeToken(%#v):&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8110956">,</span>&nbsp;<span class="ident" id="8110958">tt</span><span class="op" id="8110960">.</span><span class="ident" id="8110961">tok</span><span class="op" id="8110964">)</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8110968">case</span>&nbsp;<span class="ident" id="8110973">tt</span><span class="op" id="8110975">.</span><span class="ident" id="8110976">ok</span>&nbsp;<span class="op" id="8110979">&amp;&amp;</span>&nbsp;<span class="ident" id="8110982">err</span>&nbsp;<span class="op" id="8110986">!=</span>&nbsp;<span class="ident" id="8110989">nil</span><span class="op" id="8110992">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8110997">t</span><span class="op" id="8110998">.</span><span class="ident" id="8110999">Fatalf</span><span class="op" id="8111005">(</span><span class="string" id="8111006">&#34;enc.EncodeToken:&nbsp;%v&#34;</span><span class="op" id="8111027">,</span>&nbsp;<span class="ident" id="8111029">err</span><span class="op" id="8111032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111036">case</span>&nbsp;<span class="op" id="8111041">!</span><span class="ident" id="8111042">tt</span><span class="op" id="8111044">.</span><span class="ident" id="8111045">ok</span>&nbsp;<span class="op" id="8111048">&amp;&amp;</span>&nbsp;<span class="ident" id="8111051">err</span>&nbsp;<span class="op" id="8111055">!=</span>&nbsp;<span class="ident" id="8111058">nil</span><span class="op" id="8111061">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8111066">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111095">}</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111099">if</span>&nbsp;<span class="ident" id="8111102">err</span>&nbsp;<span class="op" id="8111106">:=</span>&nbsp;<span class="ident" id="8111109">enc</span><span class="op" id="8111112">.</span><span class="ident" id="8111113">Flush</span><span class="op" id="8111118">(</span><span class="op" id="8111119">)</span><span class="op" id="8111120">;</span>&nbsp;<span class="ident" id="8111122">err</span>&nbsp;<span class="op" id="8111126">!=</span>&nbsp;<span class="ident" id="8111129">nil</span>&nbsp;<span class="op" id="8111133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111138">t</span><span class="op" id="8111139">.</span><span class="ident" id="8111140">Fatalf</span><span class="op" id="8111146">(</span><span class="string" id="8111147">&#34;enc.EncodeToken:&nbsp;%v&#34;</span><span class="op" id="8111168">,</span>&nbsp;<span class="ident" id="8111170">err</span><span class="op" id="8111173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111181">if</span>&nbsp;<span class="ident" id="8111184">got</span>&nbsp;<span class="op" id="8111188">:=</span>&nbsp;<span class="ident" id="8111191">buf</span><span class="op" id="8111194">.</span><span class="ident" id="8111195">String</span><span class="op" id="8111201">(</span><span class="op" id="8111202">)</span><span class="op" id="8111203">;</span>&nbsp;<span class="ident" id="8111205">got</span>&nbsp;<span class="op" id="8111209">!=</span>&nbsp;<span class="ident" id="8111212">tt</span><span class="op" id="8111214">.</span><span class="ident" id="8111215">want</span>&nbsp;<span class="op" id="8111220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111225">t</span><span class="op" id="8111226">.</span><span class="ident" id="8111227">Errorf</span><span class="op" id="8111233">(</span><span class="string" id="8111234">&#34;enc.EncodeToken&nbsp;=&nbsp;%s;&nbsp;want:&nbsp;%s&#34;</span><span class="op" id="8111266">,</span>&nbsp;<span class="ident" id="8111268">got</span><span class="op" id="8111271">,</span>&nbsp;<span class="ident" id="8111273">tt</span><span class="op" id="8111275">.</span><span class="ident" id="8111276">want</span><span class="op" id="8111280">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111287">}</span><br>
<span class="lineno"></span><span class="op" id="8111289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8111292">func</span>&nbsp;<span class="ident" id="8111297">TestProcInstEncodeToken</span><span class="op" id="8111320">(</span><span class="ident" id="8111321">t</span>&nbsp;<span class="op" id="8111323">*</span><span class="ident" id="8111324">testing</span><span class="op" id="8111331">.</span><span class="ident" id="8111332">T</span><span class="op" id="8111333">)</span>&nbsp;<span class="op" id="8111335">{</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111338">var</span>&nbsp;<span class="ident" id="8111342">buf</span>&nbsp;<span class="ident" id="8111346">bytes</span><span class="op" id="8111351">.</span><span class="ident" id="8111352">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111360">enc</span>&nbsp;<span class="op" id="8111364">:=</span>&nbsp;<span class="ident" id="8111367">NewEncoder</span><span class="op" id="8111377">(</span><span class="op" id="8111378">&amp;</span><span class="ident" id="8111379">buf</span><span class="op" id="8111382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111386">if</span>&nbsp;<span class="ident" id="8111389">err</span>&nbsp;<span class="op" id="8111393">:=</span>&nbsp;<span class="ident" id="8111396">enc</span><span class="op" id="8111399">.</span><span class="ident" id="8111400">EncodeToken</span><span class="op" id="8111411">(</span><span class="ident" id="8111412">ProcInst</span><span class="op" id="8111420">{</span><span class="string" id="8111421">&#34;xml&#34;</span><span class="op" id="8111426">,</span>&nbsp;<span class="op" id="8111428">[</span><span class="op" id="8111429">]</span><span class="builtintype" id="8111430">byte</span><span class="op" id="8111434">(</span><span class="string" id="8111435">&#34;Instruction&#34;</span><span class="op" id="8111448">)</span><span class="op" id="8111449">}</span><span class="op" id="8111450">)</span><span class="op" id="8111451">;</span>&nbsp;<span class="ident" id="8111453">err</span>&nbsp;<span class="op" id="8111457">!=</span>&nbsp;<span class="ident" id="8111460">nil</span>&nbsp;<span class="op" id="8111464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111468">t</span><span class="op" id="8111469">.</span><span class="ident" id="8111470">Fatalf</span><span class="op" id="8111476">(</span><span class="string" id="8111477">&#34;enc.EncodeToken:&nbsp;expected&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;encode&nbsp;xml&nbsp;target&nbsp;ProcInst&nbsp;as&nbsp;first&nbsp;token,&nbsp;%s&#34;</span><span class="op" id="8111564">,</span>&nbsp;<span class="ident" id="8111566">err</span><span class="op" id="8111569">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111576">if</span>&nbsp;<span class="ident" id="8111579">err</span>&nbsp;<span class="op" id="8111583">:=</span>&nbsp;<span class="ident" id="8111586">enc</span><span class="op" id="8111589">.</span><span class="ident" id="8111590">EncodeToken</span><span class="op" id="8111601">(</span><span class="ident" id="8111602">ProcInst</span><span class="op" id="8111610">{</span><span class="string" id="8111611">&#34;Target&#34;</span><span class="op" id="8111619">,</span>&nbsp;<span class="op" id="8111621">[</span><span class="op" id="8111622">]</span><span class="builtintype" id="8111623">byte</span><span class="op" id="8111627">(</span><span class="string" id="8111628">&#34;Instruction&#34;</span><span class="op" id="8111641">)</span><span class="op" id="8111642">}</span><span class="op" id="8111643">)</span><span class="op" id="8111644">;</span>&nbsp;<span class="ident" id="8111646">err</span>&nbsp;<span class="op" id="8111650">!=</span>&nbsp;<span class="ident" id="8111653">nil</span>&nbsp;<span class="op" id="8111657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111661">t</span><span class="op" id="8111662">.</span><span class="ident" id="8111663">Fatalf</span><span class="op" id="8111669">(</span><span class="string" id="8111670">&#34;enc.EncodeToken:&nbsp;expected&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;add&nbsp;non-xml&nbsp;target&nbsp;ProcInst&#34;</span><span class="op" id="8111739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111742">}</span><br>
<span class="lineno">1245</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111746">if</span>&nbsp;<span class="ident" id="8111749">err</span>&nbsp;<span class="op" id="8111753">:=</span>&nbsp;<span class="ident" id="8111756">enc</span><span class="op" id="8111759">.</span><span class="ident" id="8111760">EncodeToken</span><span class="op" id="8111771">(</span><span class="ident" id="8111772">ProcInst</span><span class="op" id="8111780">{</span><span class="string" id="8111781">&#34;xml&#34;</span><span class="op" id="8111786">,</span>&nbsp;<span class="op" id="8111788">[</span><span class="op" id="8111789">]</span><span class="builtintype" id="8111790">byte</span><span class="op" id="8111794">(</span><span class="string" id="8111795">&#34;Instruction&#34;</span><span class="op" id="8111808">)</span><span class="op" id="8111809">}</span><span class="op" id="8111810">)</span><span class="op" id="8111811">;</span>&nbsp;<span class="ident" id="8111813">err</span>&nbsp;<span class="op" id="8111817">==</span>&nbsp;<span class="ident" id="8111820">nil</span>&nbsp;<span class="op" id="8111824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8111828">t</span><span class="op" id="8111829">.</span><span class="ident" id="8111830">Fatalf</span><span class="op" id="8111836">(</span><span class="string" id="8111837">&#34;enc.EncodeToken:&nbsp;expected&nbsp;to&nbsp;not&nbsp;be&nbsp;allowed&nbsp;to&nbsp;encode&nbsp;xml&nbsp;target&nbsp;ProcInst&nbsp;when&nbsp;not&nbsp;first&nbsp;token&#34;</span><span class="op" id="8111933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8111936">}</span><br>
<span class="lineno"></span><span class="op" id="8111938">}</span><br>
<span class="lineno">1250</span><br>
<span class="lineno"></span><span class="keyword" id="8111941">func</span>&nbsp;<span class="ident" id="8111946">TestDecodeEncode</span><span class="op" id="8111962">(</span><span class="ident" id="8111963">t</span>&nbsp;<span class="op" id="8111965">*</span><span class="ident" id="8111966">testing</span><span class="op" id="8111973">.</span><span class="ident" id="8111974">T</span><span class="op" id="8111975">)</span>&nbsp;<span class="op" id="8111977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8111980">var</span>&nbsp;<span class="ident" id="8111984">in</span><span class="op" id="8111986">,</span>&nbsp;<span class="ident" id="8111988">out</span>&nbsp;<span class="ident" id="8111992">bytes</span><span class="op" id="8111997">.</span><span class="ident" id="8111998">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112006">in</span><span class="op" id="8112008">.</span><span class="ident" id="8112009">WriteString</span><span class="op" id="8112020">(</span><span class="string" id="8112021">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;?Target&nbsp;Instruction?&gt;<br>
<span class="lineno">1255</span>&lt;root&gt;<br>
<span class="lineno"></span>&lt;/root&gt;&nbsp;&nbsp;&nbsp;&nbsp<br>
<span class="lineno"></span>`</span><span class="op" id="8112101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112104">dec</span>&nbsp;<span class="op" id="8112108">:=</span>&nbsp;<span class="ident" id="8112111">NewDecoder</span><span class="op" id="8112121">(</span><span class="op" id="8112122">&amp;</span><span class="ident" id="8112123">in</span><span class="op" id="8112125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112128">enc</span>&nbsp;<span class="op" id="8112132">:=</span>&nbsp;<span class="ident" id="8112135">NewEncoder</span><span class="op" id="8112145">(</span><span class="op" id="8112146">&amp;</span><span class="ident" id="8112147">out</span><span class="op" id="8112150">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112153">for</span>&nbsp;<span class="ident" id="8112157">tok</span><span class="op" id="8112160">,</span>&nbsp;<span class="ident" id="8112162">err</span>&nbsp;<span class="op" id="8112166">:=</span>&nbsp;<span class="ident" id="8112169">dec</span><span class="op" id="8112172">.</span><span class="ident" id="8112173">Token</span><span class="op" id="8112178">(</span><span class="op" id="8112179">)</span><span class="op" id="8112180">;</span>&nbsp;<span class="ident" id="8112182">err</span>&nbsp;<span class="op" id="8112186">==</span>&nbsp;<span class="ident" id="8112189">nil</span><span class="op" id="8112192">;</span>&nbsp;<span class="ident" id="8112194">tok</span><span class="op" id="8112197">,</span>&nbsp;<span class="ident" id="8112199">err</span>&nbsp;<span class="op" id="8112203">=</span>&nbsp;<span class="ident" id="8112205">dec</span><span class="op" id="8112208">.</span><span class="ident" id="8112209">Token</span><span class="op" id="8112214">(</span><span class="op" id="8112215">)</span>&nbsp;<span class="op" id="8112217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112221">err</span>&nbsp;<span class="op" id="8112225">=</span>&nbsp;<span class="ident" id="8112227">enc</span><span class="op" id="8112230">.</span><span class="ident" id="8112231">EncodeToken</span><span class="op" id="8112242">(</span><span class="ident" id="8112243">tok</span><span class="op" id="8112246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8112250">if</span>&nbsp;<span class="ident" id="8112253">err</span>&nbsp;<span class="op" id="8112257">!=</span>&nbsp;<span class="ident" id="8112260">nil</span>&nbsp;<span class="op" id="8112264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8112269">t</span><span class="op" id="8112270">.</span><span class="ident" id="8112271">Fatalf</span><span class="op" id="8112277">(</span><span class="string" id="8112278">&#34;enc.EncodeToken:&nbsp;Unable&nbsp;to&nbsp;encode&nbsp;token&nbsp;(%#v),&nbsp;%v&#34;</span><span class="op" id="8112329">,</span>&nbsp;<span class="ident" id="8112331">tok</span><span class="op" id="8112334">,</span>&nbsp;<span class="ident" id="8112336">err</span><span class="op" id="8112339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112343">}</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8112346">}</span><br>
<span class="lineno"></span><span class="op" id="8112348">}</span>
</div>
</body>
</html>
