<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6670958">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6671013">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6671067">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6671118">package</span>&nbsp;<span class="ident" id="6671126">expvar</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671134">import</span>&nbsp;<span class="op" id="6671141">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671144">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671153">&#34;encoding/json&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671170">&#34;net/http/httptest&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671191">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6671202">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6671212">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="6671215">//&nbsp;RemoveAll&nbsp;removes&nbsp;all&nbsp;exported&nbsp;variables.</span><br>
<span class="lineno"></span><span class="comment" id="6671260">//&nbsp;This&nbsp;is&nbsp;for&nbsp;tests&nbsp;only.</span><br>
<span class="lineno"></span><span class="keyword" id="6671287">func</span>&nbsp;<span class="ident" id="6671292">RemoveAll</span><span class="op" id="6671301">(</span><span class="op" id="6671302">)</span>&nbsp;<span class="op" id="6671304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671307">mutex</span><span class="op" id="6671312">.</span><span class="ident" id="6671313">Lock</span><span class="op" id="6671317">(</span><span class="op" id="6671318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671321">defer</span>&nbsp;<span class="ident" id="6671327">mutex</span><span class="op" id="6671332">.</span><span class="ident" id="6671333">Unlock</span><span class="op" id="6671339">(</span><span class="op" id="6671340">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671343">vars</span>&nbsp;<span class="op" id="6671348">=</span>&nbsp;<span class="builtinfunc" id="6671350">make</span><span class="op" id="6671354">(</span><span class="keyword" id="6671355">map</span><span class="op" id="6671358">[</span><span class="builtintype" id="6671359">string</span><span class="op" id="6671365">]</span><span class="ident" id="6671366">Var</span><span class="op" id="6671369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671372">varKeys</span>&nbsp;<span class="op" id="6671380">=</span>&nbsp;<span class="ident" id="6671382">nil</span><br>
<span class="lineno"></span><span class="op" id="6671386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6671389">func</span>&nbsp;<span class="ident" id="6671394">TestInt</span><span class="op" id="6671401">(</span><span class="ident" id="6671402">t</span>&nbsp;<span class="op" id="6671404">*</span><span class="ident" id="6671405">testing</span><span class="op" id="6671412">.</span><span class="ident" id="6671413">T</span><span class="op" id="6671414">)</span>&nbsp;<span class="op" id="6671416">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671419">RemoveAll</span><span class="op" id="6671428">(</span><span class="op" id="6671429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671432">reqs</span>&nbsp;<span class="op" id="6671437">:=</span>&nbsp;<span class="ident" id="6671440">NewInt</span><span class="op" id="6671446">(</span><span class="string" id="6671447">&#34;requests&#34;</span><span class="op" id="6671457">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671460">if</span>&nbsp;<span class="ident" id="6671463">reqs</span><span class="op" id="6671467">.</span><span class="ident" id="6671468">i</span>&nbsp;<span class="op" id="6671470">!=</span>&nbsp;<span class="num" id="6671473">0</span>&nbsp;<span class="op" id="6671475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671479">t</span><span class="op" id="6671480">.</span><span class="ident" id="6671481">Errorf</span><span class="op" id="6671487">(</span><span class="string" id="6671488">&#34;reqs.i&nbsp;=&nbsp;%v,&nbsp;want&nbsp;0&#34;</span><span class="op" id="6671509">,</span>&nbsp;<span class="ident" id="6671511">reqs</span><span class="op" id="6671515">.</span><span class="ident" id="6671516">i</span><span class="op" id="6671517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671520">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671523">if</span>&nbsp;<span class="ident" id="6671526">reqs</span>&nbsp;<span class="op" id="6671531">!=</span>&nbsp;<span class="ident" id="6671534">Get</span><span class="op" id="6671537">(</span><span class="string" id="6671538">&#34;requests&#34;</span><span class="op" id="6671548">)</span><span class="op" id="6671549">.</span><span class="op" id="6671550">(</span><span class="op" id="6671551">*</span><span class="ident" id="6671552">Int</span><span class="op" id="6671555">)</span>&nbsp;<span class="op" id="6671557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671561">t</span><span class="op" id="6671562">.</span><span class="ident" id="6671563">Errorf</span><span class="op" id="6671569">(</span><span class="string" id="6671570">&#34;Get()&nbsp;failed.&#34;</span><span class="op" id="6671585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671592">reqs</span><span class="op" id="6671596">.</span><span class="ident" id="6671597">Add</span><span class="op" id="6671600">(</span><span class="num" id="6671601">1</span><span class="op" id="6671602">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671605">reqs</span><span class="op" id="6671609">.</span><span class="ident" id="6671610">Add</span><span class="op" id="6671613">(</span><span class="num" id="6671614">3</span><span class="op" id="6671615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671618">if</span>&nbsp;<span class="ident" id="6671621">reqs</span><span class="op" id="6671625">.</span><span class="ident" id="6671626">i</span>&nbsp;<span class="op" id="6671628">!=</span>&nbsp;<span class="num" id="6671631">4</span>&nbsp;<span class="op" id="6671633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671637">t</span><span class="op" id="6671638">.</span><span class="ident" id="6671639">Errorf</span><span class="op" id="6671645">(</span><span class="string" id="6671646">&#34;reqs.i&nbsp;=&nbsp;%v,&nbsp;want&nbsp;4&#34;</span><span class="op" id="6671667">,</span>&nbsp;<span class="ident" id="6671669">reqs</span><span class="op" id="6671673">.</span><span class="ident" id="6671674">i</span><span class="op" id="6671675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671682">if</span>&nbsp;<span class="ident" id="6671685">s</span>&nbsp;<span class="op" id="6671687">:=</span>&nbsp;<span class="ident" id="6671690">reqs</span><span class="op" id="6671694">.</span><span class="ident" id="6671695">String</span><span class="op" id="6671701">(</span><span class="op" id="6671702">)</span><span class="op" id="6671703">;</span>&nbsp;<span class="ident" id="6671705">s</span>&nbsp;<span class="op" id="6671707">!=</span>&nbsp;<span class="string" id="6671710">&#34;4&#34;</span>&nbsp;<span class="op" id="6671714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671718">t</span><span class="op" id="6671719">.</span><span class="ident" id="6671720">Errorf</span><span class="op" id="6671726">(</span><span class="string" id="6671727">&#34;reqs.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;4\&#34;&#34;</span><span class="op" id="6671759">,</span>&nbsp;<span class="ident" id="6671761">s</span><span class="op" id="6671762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671769">reqs</span><span class="op" id="6671773">.</span><span class="ident" id="6671774">Set</span><span class="op" id="6671777">(</span><span class="op" id="6671778">-</span><span class="num" id="6671779">2</span><span class="op" id="6671780">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671783">if</span>&nbsp;<span class="ident" id="6671786">reqs</span><span class="op" id="6671790">.</span><span class="ident" id="6671791">i</span>&nbsp;<span class="op" id="6671793">!=</span>&nbsp;<span class="op" id="6671796">-</span><span class="num" id="6671797">2</span>&nbsp;<span class="op" id="6671799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671803">t</span><span class="op" id="6671804">.</span><span class="ident" id="6671805">Errorf</span><span class="op" id="6671811">(</span><span class="string" id="6671812">&#34;reqs.i&nbsp;=&nbsp;%v,&nbsp;want&nbsp;-2&#34;</span><span class="op" id="6671834">,</span>&nbsp;<span class="ident" id="6671836">reqs</span><span class="op" id="6671840">.</span><span class="ident" id="6671841">i</span><span class="op" id="6671842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671845">}</span><br>
<span class="lineno"></span><span class="op" id="6671847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="6671850">func</span>&nbsp;<span class="ident" id="6671855">TestFloat</span><span class="op" id="6671864">(</span><span class="ident" id="6671865">t</span>&nbsp;<span class="op" id="6671867">*</span><span class="ident" id="6671868">testing</span><span class="op" id="6671875">.</span><span class="ident" id="6671876">T</span><span class="op" id="6671877">)</span>&nbsp;<span class="op" id="6671879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671882">RemoveAll</span><span class="op" id="6671891">(</span><span class="op" id="6671892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671895">reqs</span>&nbsp;<span class="op" id="6671900">:=</span>&nbsp;<span class="ident" id="6671903">NewFloat</span><span class="op" id="6671911">(</span><span class="string" id="6671912">&#34;requests-float&#34;</span><span class="op" id="6671928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671931">if</span>&nbsp;<span class="ident" id="6671934">reqs</span><span class="op" id="6671938">.</span><span class="ident" id="6671939">f</span>&nbsp;<span class="op" id="6671941">!=</span>&nbsp;<span class="num" id="6671944">0.0</span>&nbsp;<span class="op" id="6671948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6671952">t</span><span class="op" id="6671953">.</span><span class="ident" id="6671954">Errorf</span><span class="op" id="6671960">(</span><span class="string" id="6671961">&#34;reqs.f&nbsp;=&nbsp;%v,&nbsp;want&nbsp;0&#34;</span><span class="op" id="6671982">,</span>&nbsp;<span class="ident" id="6671984">reqs</span><span class="op" id="6671988">.</span><span class="ident" id="6671989">f</span><span class="op" id="6671990">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6671993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6671996">if</span>&nbsp;<span class="ident" id="6671999">reqs</span>&nbsp;<span class="op" id="6672004">!=</span>&nbsp;<span class="ident" id="6672007">Get</span><span class="op" id="6672010">(</span><span class="string" id="6672011">&#34;requests-float&#34;</span><span class="op" id="6672027">)</span><span class="op" id="6672028">.</span><span class="op" id="6672029">(</span><span class="op" id="6672030">*</span><span class="ident" id="6672031">Float</span><span class="op" id="6672036">)</span>&nbsp;<span class="op" id="6672038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672042">t</span><span class="op" id="6672043">.</span><span class="ident" id="6672044">Errorf</span><span class="op" id="6672050">(</span><span class="string" id="6672051">&#34;Get()&nbsp;failed.&#34;</span><span class="op" id="6672066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672073">reqs</span><span class="op" id="6672077">.</span><span class="ident" id="6672078">Add</span><span class="op" id="6672081">(</span><span class="num" id="6672082">1.5</span><span class="op" id="6672085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672088">reqs</span><span class="op" id="6672092">.</span><span class="ident" id="6672093">Add</span><span class="op" id="6672096">(</span><span class="num" id="6672097">1.25</span><span class="op" id="6672101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672104">if</span>&nbsp;<span class="ident" id="6672107">reqs</span><span class="op" id="6672111">.</span><span class="ident" id="6672112">f</span>&nbsp;<span class="op" id="6672114">!=</span>&nbsp;<span class="num" id="6672117">2.75</span>&nbsp;<span class="op" id="6672122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672126">t</span><span class="op" id="6672127">.</span><span class="ident" id="6672128">Errorf</span><span class="op" id="6672134">(</span><span class="string" id="6672135">&#34;reqs.f&nbsp;=&nbsp;%v,&nbsp;want&nbsp;2.75&#34;</span><span class="op" id="6672159">,</span>&nbsp;<span class="ident" id="6672161">reqs</span><span class="op" id="6672165">.</span><span class="ident" id="6672166">f</span><span class="op" id="6672167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672170">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672174">if</span>&nbsp;<span class="ident" id="6672177">s</span>&nbsp;<span class="op" id="6672179">:=</span>&nbsp;<span class="ident" id="6672182">reqs</span><span class="op" id="6672186">.</span><span class="ident" id="6672187">String</span><span class="op" id="6672193">(</span><span class="op" id="6672194">)</span><span class="op" id="6672195">;</span>&nbsp;<span class="ident" id="6672197">s</span>&nbsp;<span class="op" id="6672199">!=</span>&nbsp;<span class="string" id="6672202">&#34;2.75&#34;</span>&nbsp;<span class="op" id="6672209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672213">t</span><span class="op" id="6672214">.</span><span class="ident" id="6672215">Errorf</span><span class="op" id="6672221">(</span><span class="string" id="6672222">&#34;reqs.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;4.64\&#34;&#34;</span><span class="op" id="6672257">,</span>&nbsp;<span class="ident" id="6672259">s</span><span class="op" id="6672260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672267">reqs</span><span class="op" id="6672271">.</span><span class="ident" id="6672272">Add</span><span class="op" id="6672275">(</span><span class="op" id="6672276">-</span><span class="num" id="6672277">2</span><span class="op" id="6672278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672281">if</span>&nbsp;<span class="ident" id="6672284">reqs</span><span class="op" id="6672288">.</span><span class="ident" id="6672289">f</span>&nbsp;<span class="op" id="6672291">!=</span>&nbsp;<span class="num" id="6672294">0.75</span>&nbsp;<span class="op" id="6672299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672303">t</span><span class="op" id="6672304">.</span><span class="ident" id="6672305">Errorf</span><span class="op" id="6672311">(</span><span class="string" id="6672312">&#34;reqs.f&nbsp;=&nbsp;%v,&nbsp;want&nbsp;0.75&#34;</span><span class="op" id="6672336">,</span>&nbsp;<span class="ident" id="6672338">reqs</span><span class="op" id="6672342">.</span><span class="ident" id="6672343">f</span><span class="op" id="6672344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672347">}</span><br>
<span class="lineno"></span><span class="op" id="6672349">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="6672352">func</span>&nbsp;<span class="ident" id="6672357">TestString</span><span class="op" id="6672367">(</span><span class="ident" id="6672368">t</span>&nbsp;<span class="op" id="6672370">*</span><span class="ident" id="6672371">testing</span><span class="op" id="6672378">.</span><span class="ident" id="6672379">T</span><span class="op" id="6672380">)</span>&nbsp;<span class="op" id="6672382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672385">RemoveAll</span><span class="op" id="6672394">(</span><span class="op" id="6672395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672398">name</span>&nbsp;<span class="op" id="6672403">:=</span>&nbsp;<span class="ident" id="6672406">NewString</span><span class="op" id="6672415">(</span><span class="string" id="6672416">&#34;my-name&#34;</span><span class="op" id="6672425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672428">if</span>&nbsp;<span class="ident" id="6672431">name</span><span class="op" id="6672435">.</span><span class="ident" id="6672436">s</span>&nbsp;<span class="op" id="6672438">!=</span>&nbsp;<span class="string" id="6672441">&#34;&#34;</span>&nbsp;<span class="op" id="6672444">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672448">t</span><span class="op" id="6672449">.</span><span class="ident" id="6672450">Errorf</span><span class="op" id="6672456">(</span><span class="string" id="6672457">&#34;name.s&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;\&#34;&#34;</span><span class="op" id="6672481">,</span>&nbsp;<span class="ident" id="6672483">name</span><span class="op" id="6672487">.</span><span class="ident" id="6672488">s</span><span class="op" id="6672489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672496">name</span><span class="op" id="6672500">.</span><span class="ident" id="6672501">Set</span><span class="op" id="6672504">(</span><span class="string" id="6672505">&#34;Mike&#34;</span><span class="op" id="6672511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672514">if</span>&nbsp;<span class="ident" id="6672517">name</span><span class="op" id="6672521">.</span><span class="ident" id="6672522">s</span>&nbsp;<span class="op" id="6672524">!=</span>&nbsp;<span class="string" id="6672527">&#34;Mike&#34;</span>&nbsp;<span class="op" id="6672534">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672538">t</span><span class="op" id="6672539">.</span><span class="ident" id="6672540">Errorf</span><span class="op" id="6672546">(</span><span class="string" id="6672547">&#34;name.s&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;Mike\&#34;&#34;</span><span class="op" id="6672575">,</span>&nbsp;<span class="ident" id="6672577">name</span><span class="op" id="6672581">.</span><span class="ident" id="6672582">s</span><span class="op" id="6672583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672590">if</span>&nbsp;<span class="ident" id="6672593">s</span>&nbsp;<span class="op" id="6672595">:=</span>&nbsp;<span class="ident" id="6672598">name</span><span class="op" id="6672602">.</span><span class="ident" id="6672603">String</span><span class="op" id="6672609">(</span><span class="op" id="6672610">)</span><span class="op" id="6672611">;</span>&nbsp;<span class="ident" id="6672613">s</span>&nbsp;<span class="op" id="6672615">!=</span>&nbsp;<span class="string" id="6672618">&#34;\&#34;Mike\&#34;&#34;</span>&nbsp;<span class="op" id="6672629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672633">t</span><span class="op" id="6672634">.</span><span class="ident" id="6672635">Errorf</span><span class="op" id="6672641">(</span><span class="string" id="6672642">&#34;reqs.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;\&#34;\&#34;Mike\&#34;\&#34;&#34;</span><span class="op" id="6672681">,</span>&nbsp;<span class="ident" id="6672683">s</span><span class="op" id="6672684">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672687">}</span><br>
<span class="lineno"></span><span class="op" id="6672689">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6672692">func</span>&nbsp;<span class="ident" id="6672697">TestMapCounter</span><span class="op" id="6672711">(</span><span class="ident" id="6672712">t</span>&nbsp;<span class="op" id="6672714">*</span><span class="ident" id="6672715">testing</span><span class="op" id="6672722">.</span><span class="ident" id="6672723">T</span><span class="op" id="6672724">)</span>&nbsp;<span class="op" id="6672726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672729">RemoveAll</span><span class="op" id="6672738">(</span><span class="op" id="6672739">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672742">colors</span>&nbsp;<span class="op" id="6672749">:=</span>&nbsp;<span class="ident" id="6672752">NewMap</span><span class="op" id="6672758">(</span><span class="string" id="6672759">&#34;bike-shed-colors&#34;</span><span class="op" id="6672777">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672781">colors</span><span class="op" id="6672787">.</span><span class="ident" id="6672788">Add</span><span class="op" id="6672791">(</span><span class="string" id="6672792">&#34;red&#34;</span><span class="op" id="6672797">,</span>&nbsp;<span class="num" id="6672799">1</span><span class="op" id="6672800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672803">colors</span><span class="op" id="6672809">.</span><span class="ident" id="6672810">Add</span><span class="op" id="6672813">(</span><span class="string" id="6672814">&#34;red&#34;</span><span class="op" id="6672819">,</span>&nbsp;<span class="num" id="6672821">2</span><span class="op" id="6672822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672825">colors</span><span class="op" id="6672831">.</span><span class="ident" id="6672832">Add</span><span class="op" id="6672835">(</span><span class="string" id="6672836">&#34;blue&#34;</span><span class="op" id="6672842">,</span>&nbsp;<span class="num" id="6672844">4</span><span class="op" id="6672845">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672848">colors</span><span class="op" id="6672854">.</span><span class="ident" id="6672855">AddFloat</span><span class="op" id="6672863">(</span><span class="string" id="6672864">`green&nbsp;&#34;midori&#34;`</span><span class="op" id="6672880">,</span>&nbsp;<span class="num" id="6672882">4.125</span><span class="op" id="6672887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672890">if</span>&nbsp;<span class="ident" id="6672893">x</span>&nbsp;<span class="op" id="6672895">:=</span>&nbsp;<span class="ident" id="6672898">colors</span><span class="op" id="6672904">.</span><span class="ident" id="6672905">m</span><span class="op" id="6672906">[</span><span class="string" id="6672907">&#34;red&#34;</span><span class="op" id="6672912">]</span><span class="op" id="6672913">.</span><span class="op" id="6672914">(</span><span class="op" id="6672915">*</span><span class="ident" id="6672916">Int</span><span class="op" id="6672919">)</span><span class="op" id="6672920">.</span><span class="ident" id="6672921">i</span><span class="op" id="6672922">;</span>&nbsp;<span class="ident" id="6672924">x</span>&nbsp;<span class="op" id="6672926">!=</span>&nbsp;<span class="num" id="6672929">3</span>&nbsp;<span class="op" id="6672931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6672935">t</span><span class="op" id="6672936">.</span><span class="ident" id="6672937">Errorf</span><span class="op" id="6672943">(</span><span class="string" id="6672944">&#34;colors.m[\&#34;red\&#34;]&nbsp;=&nbsp;%v,&nbsp;want&nbsp;3&#34;</span><span class="op" id="6672976">,</span>&nbsp;<span class="ident" id="6672978">x</span><span class="op" id="6672979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6672982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6672985">if</span>&nbsp;<span class="ident" id="6672988">x</span>&nbsp;<span class="op" id="6672990">:=</span>&nbsp;<span class="ident" id="6672993">colors</span><span class="op" id="6672999">.</span><span class="ident" id="6673000">m</span><span class="op" id="6673001">[</span><span class="string" id="6673002">&#34;blue&#34;</span><span class="op" id="6673008">]</span><span class="op" id="6673009">.</span><span class="op" id="6673010">(</span><span class="op" id="6673011">*</span><span class="ident" id="6673012">Int</span><span class="op" id="6673015">)</span><span class="op" id="6673016">.</span><span class="ident" id="6673017">i</span><span class="op" id="6673018">;</span>&nbsp;<span class="ident" id="6673020">x</span>&nbsp;<span class="op" id="6673022">!=</span>&nbsp;<span class="num" id="6673025">4</span>&nbsp;<span class="op" id="6673027">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673031">t</span><span class="op" id="6673032">.</span><span class="ident" id="6673033">Errorf</span><span class="op" id="6673039">(</span><span class="string" id="6673040">&#34;colors.m[\&#34;blue\&#34;]&nbsp;=&nbsp;%v,&nbsp;want&nbsp;4&#34;</span><span class="op" id="6673073">,</span>&nbsp;<span class="ident" id="6673075">x</span><span class="op" id="6673076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673082">if</span>&nbsp;<span class="ident" id="6673085">x</span>&nbsp;<span class="op" id="6673087">:=</span>&nbsp;<span class="ident" id="6673090">colors</span><span class="op" id="6673096">.</span><span class="ident" id="6673097">m</span><span class="op" id="6673098">[</span><span class="string" id="6673099">`green&nbsp;&#34;midori&#34;`</span><span class="op" id="6673115">]</span><span class="op" id="6673116">.</span><span class="op" id="6673117">(</span><span class="op" id="6673118">*</span><span class="ident" id="6673119">Float</span><span class="op" id="6673124">)</span><span class="op" id="6673125">.</span><span class="ident" id="6673126">f</span><span class="op" id="6673127">;</span>&nbsp;<span class="ident" id="6673129">x</span>&nbsp;<span class="op" id="6673131">!=</span>&nbsp;<span class="num" id="6673134">4.125</span>&nbsp;<span class="op" id="6673140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673144">t</span><span class="op" id="6673145">.</span><span class="ident" id="6673146">Errorf</span><span class="op" id="6673152">(</span><span class="string" id="6673153">&#34;colors.m[`green&nbsp;\&#34;midori\&#34;]&nbsp;=&nbsp;%v,&nbsp;want&nbsp;3.14&#34;</span><span class="op" id="6673198">,</span>&nbsp;<span class="ident" id="6673200">x</span><span class="op" id="6673201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673204">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6673208">//&nbsp;colors.String()&nbsp;should&nbsp;be&nbsp;&#39;{&#34;red&#34;:3,&nbsp;&#34;blue&#34;:4}&#39;,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6673261">//&nbsp;though&nbsp;the&nbsp;order&nbsp;of&nbsp;red&nbsp;and&nbsp;blue&nbsp;could&nbsp;vary.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673310">s</span>&nbsp;<span class="op" id="6673312">:=</span>&nbsp;<span class="ident" id="6673315">colors</span><span class="op" id="6673321">.</span><span class="ident" id="6673322">String</span><span class="op" id="6673328">(</span><span class="op" id="6673329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673332">var</span>&nbsp;<span class="ident" id="6673336">j</span>&nbsp;<span class="keyword" id="6673338">interface</span><span class="op" id="6673347">{</span><span class="op" id="6673348">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673351">err</span>&nbsp;<span class="op" id="6673355">:=</span>&nbsp;<span class="ident" id="6673358">json</span><span class="op" id="6673362">.</span><span class="ident" id="6673363">Unmarshal</span><span class="op" id="6673372">(</span><span class="op" id="6673373">[</span><span class="op" id="6673374">]</span><span class="builtintype" id="6673375">byte</span><span class="op" id="6673379">(</span><span class="ident" id="6673380">s</span><span class="op" id="6673381">)</span><span class="op" id="6673382">,</span>&nbsp;<span class="op" id="6673384">&amp;</span><span class="ident" id="6673385">j</span><span class="op" id="6673386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673389">if</span>&nbsp;<span class="ident" id="6673392">err</span>&nbsp;<span class="op" id="6673396">!=</span>&nbsp;<span class="ident" id="6673399">nil</span>&nbsp;<span class="op" id="6673403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673407">t</span><span class="op" id="6673408">.</span><span class="ident" id="6673409">Errorf</span><span class="op" id="6673415">(</span><span class="string" id="6673416">&#34;colors.String()&nbsp;isn&#39;t&nbsp;valid&nbsp;JSON:&nbsp;%v&#34;</span><span class="op" id="6673454">,</span>&nbsp;<span class="ident" id="6673456">err</span><span class="op" id="6673459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673462">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673465">m</span><span class="op" id="6673466">,</span>&nbsp;<span class="ident" id="6673468">ok</span>&nbsp;<span class="op" id="6673471">:=</span>&nbsp;<span class="ident" id="6673474">j</span><span class="op" id="6673475">.</span><span class="op" id="6673476">(</span><span class="keyword" id="6673477">map</span><span class="op" id="6673480">[</span><span class="builtintype" id="6673481">string</span><span class="op" id="6673487">]</span><span class="keyword" id="6673488">interface</span><span class="op" id="6673497">{</span><span class="op" id="6673498">}</span><span class="op" id="6673499">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673502">if</span>&nbsp;<span class="op" id="6673505">!</span><span class="ident" id="6673506">ok</span>&nbsp;<span class="op" id="6673509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673513">t</span><span class="op" id="6673514">.</span><span class="ident" id="6673515">Error</span><span class="op" id="6673520">(</span><span class="string" id="6673521">&#34;colors.String()&nbsp;didn&#39;t&nbsp;produce&nbsp;a&nbsp;map.&#34;</span><span class="op" id="6673560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673563">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673566">red</span>&nbsp;<span class="op" id="6673570">:=</span>&nbsp;<span class="ident" id="6673573">m</span><span class="op" id="6673574">[</span><span class="string" id="6673575">&#34;red&#34;</span><span class="op" id="6673580">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673583">x</span><span class="op" id="6673584">,</span>&nbsp;<span class="ident" id="6673586">ok</span>&nbsp;<span class="op" id="6673589">:=</span>&nbsp;<span class="ident" id="6673592">red</span><span class="op" id="6673595">.</span><span class="op" id="6673596">(</span><span class="builtintype" id="6673597">float64</span><span class="op" id="6673604">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673607">if</span>&nbsp;<span class="op" id="6673610">!</span><span class="ident" id="6673611">ok</span>&nbsp;<span class="op" id="6673614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673618">t</span><span class="op" id="6673619">.</span><span class="ident" id="6673620">Error</span><span class="op" id="6673625">(</span><span class="string" id="6673626">&#34;red.Kind()&nbsp;is&nbsp;not&nbsp;a&nbsp;number.&#34;</span><span class="op" id="6673655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673661">if</span>&nbsp;<span class="ident" id="6673664">x</span>&nbsp;<span class="op" id="6673666">!=</span>&nbsp;<span class="num" id="6673669">3</span>&nbsp;<span class="op" id="6673671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673675">t</span><span class="op" id="6673676">.</span><span class="ident" id="6673677">Errorf</span><span class="op" id="6673683">(</span><span class="string" id="6673684">&#34;red&nbsp;=&nbsp;%v,&nbsp;want&nbsp;3&#34;</span><span class="op" id="6673702">,</span>&nbsp;<span class="ident" id="6673704">x</span><span class="op" id="6673705">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673708">}</span><br>
<span class="lineno"></span><span class="op" id="6673710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6673713">func</span>&nbsp;<span class="ident" id="6673718">TestFunc</span><span class="op" id="6673726">(</span><span class="ident" id="6673727">t</span>&nbsp;<span class="op" id="6673729">*</span><span class="ident" id="6673730">testing</span><span class="op" id="6673737">.</span><span class="ident" id="6673738">T</span><span class="op" id="6673739">)</span>&nbsp;<span class="op" id="6673741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673744">RemoveAll</span><span class="op" id="6673753">(</span><span class="op" id="6673754">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673757">var</span>&nbsp;<span class="ident" id="6673761">x</span>&nbsp;<span class="keyword" id="6673763">interface</span><span class="op" id="6673772">{</span><span class="op" id="6673773">}</span>&nbsp;<span class="op" id="6673775">=</span>&nbsp;<span class="op" id="6673777">[</span><span class="op" id="6673778">]</span><span class="builtintype" id="6673779">string</span><span class="op" id="6673785">{</span><span class="string" id="6673786">&#34;a&#34;</span><span class="op" id="6673789">,</span>&nbsp;<span class="string" id="6673791">&#34;b&#34;</span><span class="op" id="6673794">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673797">f</span>&nbsp;<span class="op" id="6673799">:=</span>&nbsp;<span class="ident" id="6673802">Func</span><span class="op" id="6673806">(</span><span class="keyword" id="6673807">func</span><span class="op" id="6673811">(</span><span class="op" id="6673812">)</span>&nbsp;<span class="keyword" id="6673814">interface</span><span class="op" id="6673823">{</span><span class="op" id="6673824">}</span>&nbsp;<span class="op" id="6673826">{</span>&nbsp;<span class="keyword" id="6673828">return</span>&nbsp;<span class="ident" id="6673835">x</span>&nbsp;<span class="op" id="6673837">}</span><span class="op" id="6673838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673841">if</span>&nbsp;<span class="ident" id="6673844">s</span><span class="op" id="6673845">,</span>&nbsp;<span class="ident" id="6673847">exp</span>&nbsp;<span class="op" id="6673851">:=</span>&nbsp;<span class="ident" id="6673854">f</span><span class="op" id="6673855">.</span><span class="ident" id="6673856">String</span><span class="op" id="6673862">(</span><span class="op" id="6673863">)</span><span class="op" id="6673864">,</span>&nbsp;<span class="string" id="6673866">`[&#34;a&#34;,&#34;b&#34;]`</span><span class="op" id="6673877">;</span>&nbsp;<span class="ident" id="6673879">s</span>&nbsp;<span class="op" id="6673881">!=</span>&nbsp;<span class="ident" id="6673884">exp</span>&nbsp;<span class="op" id="6673888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673892">t</span><span class="op" id="6673893">.</span><span class="ident" id="6673894">Errorf</span><span class="op" id="6673900">(</span><span class="string" id="6673901">`f.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q`</span><span class="op" id="6673927">,</span>&nbsp;<span class="ident" id="6673929">s</span><span class="op" id="6673930">,</span>&nbsp;<span class="ident" id="6673932">exp</span><span class="op" id="6673935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6673938">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673942">x</span>&nbsp;<span class="op" id="6673944">=</span>&nbsp;<span class="num" id="6673946">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6673950">if</span>&nbsp;<span class="ident" id="6673953">s</span><span class="op" id="6673954">,</span>&nbsp;<span class="ident" id="6673956">exp</span>&nbsp;<span class="op" id="6673960">:=</span>&nbsp;<span class="ident" id="6673963">f</span><span class="op" id="6673964">.</span><span class="ident" id="6673965">String</span><span class="op" id="6673971">(</span><span class="op" id="6673972">)</span><span class="op" id="6673973">,</span>&nbsp;<span class="string" id="6673975">`17`</span><span class="op" id="6673979">;</span>&nbsp;<span class="ident" id="6673981">s</span>&nbsp;<span class="op" id="6673983">!=</span>&nbsp;<span class="ident" id="6673986">exp</span>&nbsp;<span class="op" id="6673990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6673994">t</span><span class="op" id="6673995">.</span><span class="ident" id="6673996">Errorf</span><span class="op" id="6674002">(</span><span class="string" id="6674003">`f.String()&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q`</span><span class="op" id="6674029">,</span>&nbsp;<span class="ident" id="6674031">s</span><span class="op" id="6674032">,</span>&nbsp;<span class="ident" id="6674034">exp</span><span class="op" id="6674037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674040">}</span><br>
<span class="lineno">145</span><span class="op" id="6674042">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6674045">func</span>&nbsp;<span class="ident" id="6674050">TestHandler</span><span class="op" id="6674061">(</span><span class="ident" id="6674062">t</span>&nbsp;<span class="op" id="6674064">*</span><span class="ident" id="6674065">testing</span><span class="op" id="6674072">.</span><span class="ident" id="6674073">T</span><span class="op" id="6674074">)</span>&nbsp;<span class="op" id="6674076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674079">RemoveAll</span><span class="op" id="6674088">(</span><span class="op" id="6674089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674092">m</span>&nbsp;<span class="op" id="6674094">:=</span>&nbsp;<span class="ident" id="6674097">NewMap</span><span class="op" id="6674103">(</span><span class="string" id="6674104">&#34;map1&#34;</span><span class="op" id="6674110">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674113">m</span><span class="op" id="6674114">.</span><span class="ident" id="6674115">Add</span><span class="op" id="6674118">(</span><span class="string" id="6674119">&#34;a&#34;</span><span class="op" id="6674122">,</span>&nbsp;<span class="num" id="6674124">1</span><span class="op" id="6674125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674128">m</span><span class="op" id="6674129">.</span><span class="ident" id="6674130">Add</span><span class="op" id="6674133">(</span><span class="string" id="6674134">&#34;z&#34;</span><span class="op" id="6674137">,</span>&nbsp;<span class="num" id="6674139">2</span><span class="op" id="6674140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674143">m2</span>&nbsp;<span class="op" id="6674146">:=</span>&nbsp;<span class="ident" id="6674149">NewMap</span><span class="op" id="6674155">(</span><span class="string" id="6674156">&#34;map2&#34;</span><span class="op" id="6674162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674165">for</span>&nbsp;<span class="ident" id="6674169">i</span>&nbsp;<span class="op" id="6674171">:=</span>&nbsp;<span class="num" id="6674174">0</span><span class="op" id="6674175">;</span>&nbsp;<span class="ident" id="6674177">i</span>&nbsp;<span class="op" id="6674179">&lt;</span>&nbsp;<span class="num" id="6674181">9</span><span class="op" id="6674182">;</span>&nbsp;<span class="ident" id="6674184">i</span><span class="op" id="6674185">++</span>&nbsp;<span class="op" id="6674188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674192">m2</span><span class="op" id="6674194">.</span><span class="ident" id="6674195">Add</span><span class="op" id="6674198">(</span><span class="ident" id="6674199">strconv</span><span class="op" id="6674206">.</span><span class="ident" id="6674207">Itoa</span><span class="op" id="6674211">(</span><span class="ident" id="6674212">i</span><span class="op" id="6674213">)</span><span class="op" id="6674214">,</span>&nbsp;<span class="ident" id="6674216">int64</span><span class="op" id="6674221">(</span><span class="ident" id="6674222">i</span><span class="op" id="6674223">)</span><span class="op" id="6674224">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674230">rr</span>&nbsp;<span class="op" id="6674233">:=</span>&nbsp;<span class="ident" id="6674236">httptest</span><span class="op" id="6674244">.</span><span class="ident" id="6674245">NewRecorder</span><span class="op" id="6674256">(</span><span class="op" id="6674257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674260">rr</span><span class="op" id="6674262">.</span><span class="ident" id="6674263">Body</span>&nbsp;<span class="op" id="6674268">=</span>&nbsp;<span class="builtinfunc" id="6674270">new</span><span class="op" id="6674273">(</span><span class="ident" id="6674274">bytes</span><span class="op" id="6674279">.</span><span class="ident" id="6674280">Buffer</span><span class="op" id="6674286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674289">expvarHandler</span><span class="op" id="6674302">(</span><span class="ident" id="6674303">rr</span><span class="op" id="6674305">,</span>&nbsp;<span class="ident" id="6674307">nil</span><span class="op" id="6674310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674313">want</span>&nbsp;<span class="op" id="6674318">:=</span>&nbsp;<span class="string" id="6674321">`{<br>
<span class="lineno">160</span>&#34;map1&#34;:&nbsp;{&#34;a&#34;:&nbsp;1,&nbsp;&#34;z&#34;:&nbsp;2},<br>
<span class="lineno"></span>&#34;map2&#34;:&nbsp;{&#34;0&#34;:&nbsp;0,&nbsp;&#34;1&#34;:&nbsp;1,&nbsp;&#34;2&#34;:&nbsp;2,&nbsp;&#34;3&#34;:&nbsp;3,&nbsp;&#34;4&#34;:&nbsp;4,&nbsp;&#34;5&#34;:&nbsp;5,&nbsp;&#34;6&#34;:&nbsp;6,&nbsp;&#34;7&#34;:&nbsp;7,&nbsp;&#34;8&#34;:&nbsp;8}<br>
<span class="lineno"></span>}<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6674436">if</span>&nbsp;<span class="ident" id="6674439">got</span>&nbsp;<span class="op" id="6674443">:=</span>&nbsp;<span class="ident" id="6674446">rr</span><span class="op" id="6674448">.</span><span class="ident" id="6674449">Body</span><span class="op" id="6674453">.</span><span class="ident" id="6674454">String</span><span class="op" id="6674460">(</span><span class="op" id="6674461">)</span><span class="op" id="6674462">;</span>&nbsp;<span class="ident" id="6674464">got</span>&nbsp;<span class="op" id="6674468">!=</span>&nbsp;<span class="ident" id="6674471">want</span>&nbsp;<span class="op" id="6674476">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6674480">t</span><span class="op" id="6674481">.</span><span class="ident" id="6674482">Errorf</span><span class="op" id="6674488">(</span><span class="string" id="6674489">&#34;HTTP&nbsp;handler&nbsp;wrote:\n%s\nWant:\n%s&#34;</span><span class="op" id="6674525">,</span>&nbsp;<span class="ident" id="6674527">got</span><span class="op" id="6674530">,</span>&nbsp;<span class="ident" id="6674532">want</span><span class="op" id="6674536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6674539">}</span><br>
<span class="lineno"></span><span class="op" id="6674541">}</span>
</div>
</body>
</html>
