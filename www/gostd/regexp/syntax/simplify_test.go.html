<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html" class="current">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7764532">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7764588">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7764642">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7764693">package</span>&nbsp;<span class="ident" id="7764701">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7764709">import</span>&nbsp;<span class="string" id="7764716">&#34;testing&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7764727">var</span>&nbsp;<span class="ident" id="7764731">simplifyTests</span>&nbsp;<span class="op" id="7764745">=</span>&nbsp;<span class="op" id="7764747">[</span><span class="op" id="7764748">]</span><span class="keyword" id="7764749">struct</span>&nbsp;<span class="op" id="7764756">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7764759">Regexp</span>&nbsp;<span class="builtintype" id="7764766">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7764774">Simple</span>&nbsp;<span class="builtintype" id="7764781">string</span><br>
<span class="lineno"></span><span class="op" id="7764788">}</span><span class="op" id="7764789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7764792">//&nbsp;Already-simple&nbsp;constructs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764822">{</span><span class="string" id="7764823">`a`</span><span class="op" id="7764826">,</span>&nbsp;<span class="string" id="7764828">`a`</span><span class="op" id="7764831">}</span><span class="op" id="7764832">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764835">{</span><span class="string" id="7764836">`ab`</span><span class="op" id="7764840">,</span>&nbsp;<span class="string" id="7764842">`ab`</span><span class="op" id="7764846">}</span><span class="op" id="7764847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764850">{</span><span class="string" id="7764851">`a|b`</span><span class="op" id="7764856">,</span>&nbsp;<span class="string" id="7764858">`[a-b]`</span><span class="op" id="7764865">}</span><span class="op" id="7764866">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764869">{</span><span class="string" id="7764870">`ab|cd`</span><span class="op" id="7764877">,</span>&nbsp;<span class="string" id="7764879">`ab|cd`</span><span class="op" id="7764886">}</span><span class="op" id="7764887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764890">{</span><span class="string" id="7764891">`(ab)*`</span><span class="op" id="7764898">,</span>&nbsp;<span class="string" id="7764900">`(ab)*`</span><span class="op" id="7764907">}</span><span class="op" id="7764908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764911">{</span><span class="string" id="7764912">`(ab)+`</span><span class="op" id="7764919">,</span>&nbsp;<span class="string" id="7764921">`(ab)+`</span><span class="op" id="7764928">}</span><span class="op" id="7764929">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764932">{</span><span class="string" id="7764933">`(ab)?`</span><span class="op" id="7764940">,</span>&nbsp;<span class="string" id="7764942">`(ab)?`</span><span class="op" id="7764949">}</span><span class="op" id="7764950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764953">{</span><span class="string" id="7764954">`.`</span><span class="op" id="7764957">,</span>&nbsp;<span class="string" id="7764959">`(?s:.)`</span><span class="op" id="7764967">}</span><span class="op" id="7764968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764971">{</span><span class="string" id="7764972">`^`</span><span class="op" id="7764975">,</span>&nbsp;<span class="string" id="7764977">`^`</span><span class="op" id="7764980">}</span><span class="op" id="7764981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764984">{</span><span class="string" id="7764985">`$`</span><span class="op" id="7764988">,</span>&nbsp;<span class="string" id="7764990">`$`</span><span class="op" id="7764993">}</span><span class="op" id="7764994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7764997">{</span><span class="string" id="7764998">`[ac]`</span><span class="op" id="7765004">,</span>&nbsp;<span class="string" id="7765006">`[ac]`</span><span class="op" id="7765012">}</span><span class="op" id="7765013">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765016">{</span><span class="string" id="7765017">`[^ac]`</span><span class="op" id="7765024">,</span>&nbsp;<span class="string" id="7765026">`[^ac]`</span><span class="op" id="7765033">}</span><span class="op" id="7765034">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7765038">//&nbsp;Posix&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765066">{</span><span class="string" id="7765067">`[[:alnum:]]`</span><span class="op" id="7765080">,</span>&nbsp;<span class="string" id="7765082">`[0-9A-Za-z]`</span><span class="op" id="7765095">}</span><span class="op" id="7765096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765099">{</span><span class="string" id="7765100">`[[:alpha:]]`</span><span class="op" id="7765113">,</span>&nbsp;<span class="string" id="7765115">`[A-Za-z]`</span><span class="op" id="7765125">}</span><span class="op" id="7765126">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765129">{</span><span class="string" id="7765130">`[[:blank:]]`</span><span class="op" id="7765143">,</span>&nbsp;<span class="string" id="7765145">`[\t&nbsp;]`</span><span class="op" id="7765152">}</span><span class="op" id="7765153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765156">{</span><span class="string" id="7765157">`[[:cntrl:]]`</span><span class="op" id="7765170">,</span>&nbsp;<span class="string" id="7765172">`[\x00-\x1f\x7f]`</span><span class="op" id="7765189">}</span><span class="op" id="7765190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765193">{</span><span class="string" id="7765194">`[[:digit:]]`</span><span class="op" id="7765207">,</span>&nbsp;<span class="string" id="7765209">`[0-9]`</span><span class="op" id="7765216">}</span><span class="op" id="7765217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765220">{</span><span class="string" id="7765221">`[[:graph:]]`</span><span class="op" id="7765234">,</span>&nbsp;<span class="string" id="7765236">`[!-~]`</span><span class="op" id="7765243">}</span><span class="op" id="7765244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765247">{</span><span class="string" id="7765248">`[[:lower:]]`</span><span class="op" id="7765261">,</span>&nbsp;<span class="string" id="7765263">`[a-z]`</span><span class="op" id="7765270">}</span><span class="op" id="7765271">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765274">{</span><span class="string" id="7765275">`[[:print:]]`</span><span class="op" id="7765288">,</span>&nbsp;<span class="string" id="7765290">`[&nbsp;-~]`</span><span class="op" id="7765297">}</span><span class="op" id="7765298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765301">{</span><span class="string" id="7765302">`[[:punct:]]`</span><span class="op" id="7765315">,</span>&nbsp;<span class="string" id="7765317">&#34;[!-/:-@\\[-`\\{-~]&#34;</span><span class="op" id="7765337">}</span><span class="op" id="7765338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765341">{</span><span class="string" id="7765342">`[[:space:]]`</span><span class="op" id="7765355">,</span>&nbsp;<span class="string" id="7765357">`[\t-\r&nbsp;]`</span><span class="op" id="7765367">}</span><span class="op" id="7765368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765371">{</span><span class="string" id="7765372">`[[:upper:]]`</span><span class="op" id="7765385">,</span>&nbsp;<span class="string" id="7765387">`[A-Z]`</span><span class="op" id="7765394">}</span><span class="op" id="7765395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765398">{</span><span class="string" id="7765399">`[[:xdigit:]]`</span><span class="op" id="7765413">,</span>&nbsp;<span class="string" id="7765415">`[0-9A-Fa-f]`</span><span class="op" id="7765428">}</span><span class="op" id="7765429">,</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7765433">//&nbsp;Perl&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765460">{</span><span class="string" id="7765461">`\d`</span><span class="op" id="7765465">,</span>&nbsp;<span class="string" id="7765467">`[0-9]`</span><span class="op" id="7765474">}</span><span class="op" id="7765475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765478">{</span><span class="string" id="7765479">`\s`</span><span class="op" id="7765483">,</span>&nbsp;<span class="string" id="7765485">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7765500">}</span><span class="op" id="7765501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765504">{</span><span class="string" id="7765505">`\w`</span><span class="op" id="7765509">,</span>&nbsp;<span class="string" id="7765511">`[0-9A-Z_a-z]`</span><span class="op" id="7765525">}</span><span class="op" id="7765526">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765529">{</span><span class="string" id="7765530">`\D`</span><span class="op" id="7765534">,</span>&nbsp;<span class="string" id="7765536">`[^0-9]`</span><span class="op" id="7765544">}</span><span class="op" id="7765545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765548">{</span><span class="string" id="7765549">`\S`</span><span class="op" id="7765553">,</span>&nbsp;<span class="string" id="7765555">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7765571">}</span><span class="op" id="7765572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765575">{</span><span class="string" id="7765576">`\W`</span><span class="op" id="7765580">,</span>&nbsp;<span class="string" id="7765582">`[^0-9A-Z_a-z]`</span><span class="op" id="7765597">}</span><span class="op" id="7765598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765601">{</span><span class="string" id="7765602">`[\d]`</span><span class="op" id="7765608">,</span>&nbsp;<span class="string" id="7765610">`[0-9]`</span><span class="op" id="7765617">}</span><span class="op" id="7765618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765621">{</span><span class="string" id="7765622">`[\s]`</span><span class="op" id="7765628">,</span>&nbsp;<span class="string" id="7765630">`[\t-\n\f-\r&nbsp;]`</span><span class="op" id="7765645">}</span><span class="op" id="7765646">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765649">{</span><span class="string" id="7765650">`[\w]`</span><span class="op" id="7765656">,</span>&nbsp;<span class="string" id="7765658">`[0-9A-Z_a-z]`</span><span class="op" id="7765672">}</span><span class="op" id="7765673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765676">{</span><span class="string" id="7765677">`[\D]`</span><span class="op" id="7765683">,</span>&nbsp;<span class="string" id="7765685">`[^0-9]`</span><span class="op" id="7765693">}</span><span class="op" id="7765694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765697">{</span><span class="string" id="7765698">`[\S]`</span><span class="op" id="7765704">,</span>&nbsp;<span class="string" id="7765706">`[^\t-\n\f-\r&nbsp;]`</span><span class="op" id="7765722">}</span><span class="op" id="7765723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765726">{</span><span class="string" id="7765727">`[\W]`</span><span class="op" id="7765733">,</span>&nbsp;<span class="string" id="7765735">`[^0-9A-Z_a-z]`</span><span class="op" id="7765750">}</span><span class="op" id="7765751">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7765755">//&nbsp;Posix&nbsp;repetitions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765777">{</span><span class="string" id="7765778">`a{1}`</span><span class="op" id="7765784">,</span>&nbsp;<span class="string" id="7765786">`a`</span><span class="op" id="7765789">}</span><span class="op" id="7765790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765793">{</span><span class="string" id="7765794">`a{2}`</span><span class="op" id="7765800">,</span>&nbsp;<span class="string" id="7765802">`aa`</span><span class="op" id="7765806">}</span><span class="op" id="7765807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765810">{</span><span class="string" id="7765811">`a{5}`</span><span class="op" id="7765817">,</span>&nbsp;<span class="string" id="7765819">`aaaaa`</span><span class="op" id="7765826">}</span><span class="op" id="7765827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7765830">{</span><span class="string" id="7765831">`a{0,1}`</span><span class="op" id="7765839">,</span>&nbsp;<span class="string" id="7765841">`a?`</span><span class="op" id="7765845">}</span><span class="op" id="7765846">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7765849">//&nbsp;The&nbsp;next&nbsp;three&nbsp;are&nbsp;illegible&nbsp;because&nbsp;Simplify&nbsp;inserts&nbsp;(?:)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7765912">//&nbsp;parens&nbsp;instead&nbsp;of&nbsp;()&nbsp;parens&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;extra</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7765968">//&nbsp;captured&nbsp;subexpressions.&nbsp;&nbsp;The&nbsp;comments&nbsp;show&nbsp;a&nbsp;version&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766045">{</span><span class="string" id="7766046">`(a){0,2}`</span><span class="op" id="7766056">,</span>&nbsp;<span class="string" id="7766058">`(?:(a)(a)?)?`</span><span class="op" id="7766072">}</span><span class="op" id="7766073">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7766097">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766114">{</span><span class="string" id="7766115">`(a){0,4}`</span><span class="op" id="7766125">,</span>&nbsp;<span class="string" id="7766127">`(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7766157">}</span><span class="op" id="7766158">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7766166">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766187">{</span><span class="string" id="7766188">`(a){2,6}`</span><span class="op" id="7766198">,</span>&nbsp;<span class="string" id="7766200">`(a)(a)(?:(a)(?:(a)(?:(a)(a)?)?)?)?`</span><span class="op" id="7766236">}</span><span class="op" id="7766237">,</span>&nbsp;<span class="comment" id="7766239">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766260">{</span><span class="string" id="7766261">`a{0,2}`</span><span class="op" id="7766269">,</span>&nbsp;<span class="string" id="7766271">`(?:aa?)?`</span><span class="op" id="7766281">}</span><span class="op" id="7766282">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7766312">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(aa?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766329">{</span><span class="string" id="7766330">`a{0,4}`</span><span class="op" id="7766338">,</span>&nbsp;<span class="string" id="7766340">`(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7766362">}</span><span class="op" id="7766363">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7766381">//&nbsp;&nbsp;&nbsp;(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766402">{</span><span class="string" id="7766403">`a{2,6}`</span><span class="op" id="7766411">,</span>&nbsp;<span class="string" id="7766413">`aa(?:a(?:a(?:aa?)?)?)?`</span><span class="op" id="7766437">}</span><span class="op" id="7766438">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7766454">//&nbsp;aa(a(a(aa?)?)?)?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766475">{</span><span class="string" id="7766476">`a{0,}`</span><span class="op" id="7766483">,</span>&nbsp;<span class="string" id="7766485">`a*`</span><span class="op" id="7766489">}</span><span class="op" id="7766490">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766493">{</span><span class="string" id="7766494">`a{1,}`</span><span class="op" id="7766501">,</span>&nbsp;<span class="string" id="7766503">`a+`</span><span class="op" id="7766507">}</span><span class="op" id="7766508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766511">{</span><span class="string" id="7766512">`a{2,}`</span><span class="op" id="7766519">,</span>&nbsp;<span class="string" id="7766521">`aa+`</span><span class="op" id="7766526">}</span><span class="op" id="7766527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766530">{</span><span class="string" id="7766531">`a{5,}`</span><span class="op" id="7766538">,</span>&nbsp;<span class="string" id="7766540">`aaaaa+`</span><span class="op" id="7766548">}</span><span class="op" id="7766549">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7766553">//&nbsp;Test&nbsp;that&nbsp;operators&nbsp;simplify&nbsp;their&nbsp;arguments.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766603">{</span><span class="string" id="7766604">`(?:a{1,}){1,}`</span><span class="op" id="7766619">,</span>&nbsp;<span class="string" id="7766621">`a+`</span><span class="op" id="7766625">}</span><span class="op" id="7766626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766629">{</span><span class="string" id="7766630">`(a{1,}b{1,})`</span><span class="op" id="7766644">,</span>&nbsp;<span class="string" id="7766646">`(a+b+)`</span><span class="op" id="7766654">}</span><span class="op" id="7766655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766658">{</span><span class="string" id="7766659">`a{1,}|b{1,}`</span><span class="op" id="7766672">,</span>&nbsp;<span class="string" id="7766674">`a+|b+`</span><span class="op" id="7766681">}</span><span class="op" id="7766682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766685">{</span><span class="string" id="7766686">`(?:a{1,})*`</span><span class="op" id="7766698">,</span>&nbsp;<span class="string" id="7766700">`(?:a+)*`</span><span class="op" id="7766709">}</span><span class="op" id="7766710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766713">{</span><span class="string" id="7766714">`(?:a{1,})+`</span><span class="op" id="7766726">,</span>&nbsp;<span class="string" id="7766728">`a+`</span><span class="op" id="7766732">}</span><span class="op" id="7766733">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766736">{</span><span class="string" id="7766737">`(?:a{1,})?`</span><span class="op" id="7766749">,</span>&nbsp;<span class="string" id="7766751">`(?:a+)?`</span><span class="op" id="7766760">}</span><span class="op" id="7766761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766764">{</span><span class="string" id="7766765">``</span><span class="op" id="7766767">,</span>&nbsp;<span class="string" id="7766769">`(?:)`</span><span class="op" id="7766775">}</span><span class="op" id="7766776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766779">{</span><span class="string" id="7766780">`a{0}`</span><span class="op" id="7766786">,</span>&nbsp;<span class="string" id="7766788">`(?:)`</span><span class="op" id="7766794">}</span><span class="op" id="7766795">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7766799">//&nbsp;Character&nbsp;class&nbsp;simplification</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766834">{</span><span class="string" id="7766835">`[ab]`</span><span class="op" id="7766841">,</span>&nbsp;<span class="string" id="7766843">`[a-b]`</span><span class="op" id="7766850">}</span><span class="op" id="7766851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766854">{</span><span class="string" id="7766855">`[a-za-za-z]`</span><span class="op" id="7766868">,</span>&nbsp;<span class="string" id="7766870">`[a-z]`</span><span class="op" id="7766877">}</span><span class="op" id="7766878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766881">{</span><span class="string" id="7766882">`[A-Za-zA-Za-z]`</span><span class="op" id="7766898">,</span>&nbsp;<span class="string" id="7766900">`[A-Za-z]`</span><span class="op" id="7766910">}</span><span class="op" id="7766911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766914">{</span><span class="string" id="7766915">`[ABCDEFGH]`</span><span class="op" id="7766927">,</span>&nbsp;<span class="string" id="7766929">`[A-H]`</span><span class="op" id="7766936">}</span><span class="op" id="7766937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766940">{</span><span class="string" id="7766941">`[AB-CD-EF-GH]`</span><span class="op" id="7766956">,</span>&nbsp;<span class="string" id="7766958">`[A-H]`</span><span class="op" id="7766965">}</span><span class="op" id="7766966">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766969">{</span><span class="string" id="7766970">`[W-ZP-XE-R]`</span><span class="op" id="7766983">,</span>&nbsp;<span class="string" id="7766985">`[E-Z]`</span><span class="op" id="7766992">}</span><span class="op" id="7766993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7766996">{</span><span class="string" id="7766997">`[a-ee-gg-m]`</span><span class="op" id="7767010">,</span>&nbsp;<span class="string" id="7767012">`[a-m]`</span><span class="op" id="7767019">}</span><span class="op" id="7767020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767023">{</span><span class="string" id="7767024">`[a-ea-ha-m]`</span><span class="op" id="7767037">,</span>&nbsp;<span class="string" id="7767039">`[a-m]`</span><span class="op" id="7767046">}</span><span class="op" id="7767047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767050">{</span><span class="string" id="7767051">`[a-ma-ha-e]`</span><span class="op" id="7767064">,</span>&nbsp;<span class="string" id="7767066">`[a-m]`</span><span class="op" id="7767073">}</span><span class="op" id="7767074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767077">{</span><span class="string" id="7767078">`[a-zA-Z0-9&nbsp;-~]`</span><span class="op" id="7767094">,</span>&nbsp;<span class="string" id="7767096">`[&nbsp;-~]`</span><span class="op" id="7767103">}</span><span class="op" id="7767104">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767108">//&nbsp;Empty&nbsp;character&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767136">{</span><span class="string" id="7767137">`[^[:cntrl:][:^cntrl:]]`</span><span class="op" id="7767161">,</span>&nbsp;<span class="string" id="7767163">`[^\x00-\x{10FFFF}]`</span><span class="op" id="7767183">}</span><span class="op" id="7767184">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767188">//&nbsp;Full&nbsp;character&nbsp;classes</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767215">{</span><span class="string" id="7767216">`[[:cntrl:][:^cntrl:]]`</span><span class="op" id="7767239">,</span>&nbsp;<span class="string" id="7767241">`(?s:.)`</span><span class="op" id="7767249">}</span><span class="op" id="7767250">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767254">//&nbsp;Unicode&nbsp;case&nbsp;folding.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767280">{</span><span class="string" id="7767281">`(?i)A`</span><span class="op" id="7767288">,</span>&nbsp;<span class="string" id="7767290">`(?i:A)`</span><span class="op" id="7767298">}</span><span class="op" id="7767299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767302">{</span><span class="string" id="7767303">`(?i)a`</span><span class="op" id="7767310">,</span>&nbsp;<span class="string" id="7767312">`(?i:A)`</span><span class="op" id="7767320">}</span><span class="op" id="7767321">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767324">{</span><span class="string" id="7767325">`(?i)[A]`</span><span class="op" id="7767334">,</span>&nbsp;<span class="string" id="7767336">`(?i:A)`</span><span class="op" id="7767344">}</span><span class="op" id="7767345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767348">{</span><span class="string" id="7767349">`(?i)[a]`</span><span class="op" id="7767358">,</span>&nbsp;<span class="string" id="7767360">`(?i:A)`</span><span class="op" id="7767368">}</span><span class="op" id="7767369">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767372">{</span><span class="string" id="7767373">`(?i)K`</span><span class="op" id="7767380">,</span>&nbsp;<span class="string" id="7767382">`(?i:K)`</span><span class="op" id="7767390">}</span><span class="op" id="7767391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767394">{</span><span class="string" id="7767395">`(?i)k`</span><span class="op" id="7767402">,</span>&nbsp;<span class="string" id="7767404">`(?i:K)`</span><span class="op" id="7767412">}</span><span class="op" id="7767413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767416">{</span><span class="string" id="7767417">`(?i)\x{212a}`</span><span class="op" id="7767431">,</span>&nbsp;<span class="string" id="7767433">&#34;(?i:K)&#34;</span><span class="op" id="7767441">}</span><span class="op" id="7767442">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767445">{</span><span class="string" id="7767446">`(?i)[K]`</span><span class="op" id="7767455">,</span>&nbsp;<span class="string" id="7767457">&#34;[Kk\u212A]&#34;</span><span class="op" id="7767469">}</span><span class="op" id="7767470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767473">{</span><span class="string" id="7767474">`(?i)[k]`</span><span class="op" id="7767483">,</span>&nbsp;<span class="string" id="7767485">&#34;[Kk\u212A]&#34;</span><span class="op" id="7767497">}</span><span class="op" id="7767498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767501">{</span><span class="string" id="7767502">`(?i)[\x{212a}]`</span><span class="op" id="7767518">,</span>&nbsp;<span class="string" id="7767520">&#34;[Kk\u212A]&#34;</span><span class="op" id="7767532">}</span><span class="op" id="7767533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767536">{</span><span class="string" id="7767537">`(?i)[a-z]`</span><span class="op" id="7767548">,</span>&nbsp;<span class="string" id="7767550">&#34;[A-Za-z\u017F\u212A]&#34;</span><span class="op" id="7767572">}</span><span class="op" id="7767573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767576">{</span><span class="string" id="7767577">`(?i)[\x00-\x{FFFD}]`</span><span class="op" id="7767598">,</span>&nbsp;<span class="string" id="7767600">&#34;[\\x00-\uFFFD]&#34;</span><span class="op" id="7767616">}</span><span class="op" id="7767617">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767620">{</span><span class="string" id="7767621">`(?i)[\x00-\x{10FFFF}]`</span><span class="op" id="7767644">,</span>&nbsp;<span class="string" id="7767646">`(?s:.)`</span><span class="op" id="7767654">}</span><span class="op" id="7767655">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767659">//&nbsp;Empty&nbsp;string&nbsp;as&nbsp;a&nbsp;regular&nbsp;expression.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767701">//&nbsp;The&nbsp;empty&nbsp;string&nbsp;must&nbsp;be&nbsp;preserved&nbsp;inside&nbsp;parens&nbsp;in&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767763">//&nbsp;to&nbsp;make&nbsp;submatches&nbsp;work&nbsp;right,&nbsp;so&nbsp;these&nbsp;tests&nbsp;are&nbsp;less</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767822">//&nbsp;interesting&nbsp;than&nbsp;they&nbsp;might&nbsp;otherwise&nbsp;be.&nbsp;&nbsp;String&nbsp;inserts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767884">//&nbsp;explicit&nbsp;(?:)&nbsp;in&nbsp;place&nbsp;of&nbsp;non-parenthesized&nbsp;empty&nbsp;strings,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7767947">//&nbsp;to&nbsp;make&nbsp;them&nbsp;easier&nbsp;to&nbsp;spot&nbsp;for&nbsp;other&nbsp;parsers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7767998">{</span><span class="string" id="7767999">`(a|b|)`</span><span class="op" id="7768007">,</span>&nbsp;<span class="string" id="7768009">`([a-b]|(?:))`</span><span class="op" id="7768023">}</span><span class="op" id="7768024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768027">{</span><span class="string" id="7768028">`(|)`</span><span class="op" id="7768033">,</span>&nbsp;<span class="string" id="7768035">`()`</span><span class="op" id="7768039">}</span><span class="op" id="7768040">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768043">{</span><span class="string" id="7768044">`a()`</span><span class="op" id="7768049">,</span>&nbsp;<span class="string" id="7768051">`a()`</span><span class="op" id="7768056">}</span><span class="op" id="7768057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768060">{</span><span class="string" id="7768061">`(()|())`</span><span class="op" id="7768070">,</span>&nbsp;<span class="string" id="7768072">`(()|())`</span><span class="op" id="7768081">}</span><span class="op" id="7768082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768085">{</span><span class="string" id="7768086">`(a|)`</span><span class="op" id="7768092">,</span>&nbsp;<span class="string" id="7768094">`(a|(?:))`</span><span class="op" id="7768104">}</span><span class="op" id="7768105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768108">{</span><span class="string" id="7768109">`ab()cd()`</span><span class="op" id="7768119">,</span>&nbsp;<span class="string" id="7768121">`ab()cd()`</span><span class="op" id="7768131">}</span><span class="op" id="7768132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768135">{</span><span class="string" id="7768136">`()`</span><span class="op" id="7768140">,</span>&nbsp;<span class="string" id="7768142">`()`</span><span class="op" id="7768146">}</span><span class="op" id="7768147">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768150">{</span><span class="string" id="7768151">`()*`</span><span class="op" id="7768156">,</span>&nbsp;<span class="string" id="7768158">`()*`</span><span class="op" id="7768163">}</span><span class="op" id="7768164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768167">{</span><span class="string" id="7768168">`()+`</span><span class="op" id="7768173">,</span>&nbsp;<span class="string" id="7768175">`()+`</span><span class="op" id="7768180">}</span><span class="op" id="7768181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768184">{</span><span class="string" id="7768185">`()?`</span><span class="op" id="7768190">,</span>&nbsp;<span class="string" id="7768192">`()?`</span><span class="op" id="7768197">}</span><span class="op" id="7768198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768201">{</span><span class="string" id="7768202">`(){0}`</span><span class="op" id="7768209">,</span>&nbsp;<span class="string" id="7768211">`(?:)`</span><span class="op" id="7768217">}</span><span class="op" id="7768218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768221">{</span><span class="string" id="7768222">`(){1}`</span><span class="op" id="7768229">,</span>&nbsp;<span class="string" id="7768231">`()`</span><span class="op" id="7768235">}</span><span class="op" id="7768236">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768239">{</span><span class="string" id="7768240">`(){1,}`</span><span class="op" id="7768248">,</span>&nbsp;<span class="string" id="7768250">`()+`</span><span class="op" id="7768255">}</span><span class="op" id="7768256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768259">{</span><span class="string" id="7768260">`(){0,2}`</span><span class="op" id="7768269">,</span>&nbsp;<span class="string" id="7768271">`(?:()()?)?`</span><span class="op" id="7768283">}</span><span class="op" id="7768284">,</span><br>
<span class="lineno"></span><span class="op" id="7768286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7768289">func</span>&nbsp;<span class="ident" id="7768294">TestSimplify</span><span class="op" id="7768306">(</span><span class="ident" id="7768307">t</span>&nbsp;<span class="op" id="7768309">*</span><span class="ident" id="7768310">testing</span><span class="op" id="7768317">.</span><span class="ident" id="7768318">T</span><span class="op" id="7768319">)</span>&nbsp;<span class="op" id="7768321">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7768324">for</span>&nbsp;<span class="ident" id="7768328">_</span><span class="op" id="7768329">,</span>&nbsp;<span class="ident" id="7768331">tt</span>&nbsp;<span class="op" id="7768334">:=</span>&nbsp;<span class="keyword" id="7768337">range</span>&nbsp;<span class="ident" id="7768343">simplifyTests</span>&nbsp;<span class="op" id="7768357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7768361">re</span><span class="op" id="7768363">,</span>&nbsp;<span class="ident" id="7768365">err</span>&nbsp;<span class="op" id="7768369">:=</span>&nbsp;<span class="ident" id="7768372">Parse</span><span class="op" id="7768377">(</span><span class="ident" id="7768378">tt</span><span class="op" id="7768380">.</span><span class="ident" id="7768381">Regexp</span><span class="op" id="7768387">,</span>&nbsp;<span class="ident" id="7768389">MatchNL</span><span class="op" id="7768396">|</span><span class="ident" id="7768397">Perl</span><span class="op" id="7768401">&amp;^</span><span class="ident" id="7768403">OneLine</span><span class="op" id="7768410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7768414">if</span>&nbsp;<span class="ident" id="7768417">err</span>&nbsp;<span class="op" id="7768421">!=</span>&nbsp;<span class="builtintype" id="7768424">nil</span>&nbsp;<span class="op" id="7768428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7768433">t</span><span class="op" id="7768434">.</span><span class="ident" id="7768435">Errorf</span><span class="op" id="7768441">(</span><span class="string" id="7768442">&#34;Parse(%#q)&nbsp;=&nbsp;error&nbsp;%v&#34;</span><span class="op" id="7768465">,</span>&nbsp;<span class="ident" id="7768467">tt</span><span class="op" id="7768469">.</span><span class="ident" id="7768470">Regexp</span><span class="op" id="7768476">,</span>&nbsp;<span class="ident" id="7768478">err</span><span class="op" id="7768481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7768486">continue</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7768501">s</span>&nbsp;<span class="op" id="7768503">:=</span>&nbsp;<span class="ident" id="7768506">re</span><span class="op" id="7768508">.</span><span class="ident" id="7768509">Simplify</span><span class="op" id="7768517">(</span><span class="op" id="7768518">)</span><span class="op" id="7768519">.</span><span class="ident" id="7768520">String</span><span class="op" id="7768526">(</span><span class="op" id="7768527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7768531">if</span>&nbsp;<span class="ident" id="7768534">s</span>&nbsp;<span class="op" id="7768536">!=</span>&nbsp;<span class="ident" id="7768539">tt</span><span class="op" id="7768541">.</span><span class="ident" id="7768542">Simple</span>&nbsp;<span class="op" id="7768549">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7768554">t</span><span class="op" id="7768555">.</span><span class="ident" id="7768556">Errorf</span><span class="op" id="7768562">(</span><span class="string" id="7768563">&#34;Simplify(%#q)&nbsp;=&nbsp;%#q,&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7768594">,</span>&nbsp;<span class="ident" id="7768596">tt</span><span class="op" id="7768598">.</span><span class="ident" id="7768599">Regexp</span><span class="op" id="7768605">,</span>&nbsp;<span class="ident" id="7768607">s</span><span class="op" id="7768608">,</span>&nbsp;<span class="ident" id="7768610">tt</span><span class="op" id="7768612">.</span><span class="ident" id="7768613">Simple</span><span class="op" id="7768619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768623">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7768626">}</span><br>
<span class="lineno"></span><span class="op" id="7768628">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
