<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/asm8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/asm8/bare_func.go.html">bare_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_file.go.html">build_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_func.go.html">build_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_lib.go.html">build_lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_var.go.html">build_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/builder.go.html">builder.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/check_type.go.html">check_type.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_hex.go.html">data_hex.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_nums.go.html">data_nums.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_str.go.html">data_str.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/file.go.html">file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_decl.go.html">func_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_stmt.go.html">func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst.go.html">inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all.go.html">lex_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all_test.go.html">lex_all_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_comment.go.html">lex_comment.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_operand.go.html">lex_operand.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_string.go.html">lex_string.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lib.go.html">lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/package.go.html">package.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_arg.go.html">parse_arg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_file.go.html">parse_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func.go.html">parse_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_stmt.go.html">parse_func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_test.go.html">parse_func_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_inst.go.html">parse_inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_label.go.html">parse_label.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_reg.go.html">parse_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_sym.go.html">parse_sym.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var.go.html">parse_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var_stmt.go.html">parse_var_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parser.go.html">parser.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/single_file.go.html">single_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/stmt_lexer.go.html">stmt_lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_scope.go.html">sym_scope.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_table.go.html">sym_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/symbol.go.html">symbol.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/token.go.html">token.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_decl.go.html">var_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_stmt.go.html">var_stmt.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="4880249">package</span>&nbsp;<span class="ident" id="4880257">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4880263">import</span>&nbsp;<span class="op" id="4880270">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4880273">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4880295">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4880298">func</span>&nbsp;<span class="ident" id="4880303">parseFile</span><span class="op" id="4880312">(</span><span class="ident" id="4880313">p</span>&nbsp;<span class="op" id="4880315">*</span><span class="ident" id="4880316">parser</span><span class="op" id="4880322">)</span>&nbsp;<span class="op" id="4880324">*</span><span class="ident" id="4880325">file</span>&nbsp;<span class="op" id="4880330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4880333">ret</span>&nbsp;<span class="op" id="4880337">:=</span>&nbsp;<span class="builtinfunc" id="4880340">new</span><span class="op" id="4880343">(</span><span class="ident" id="4880344">file</span><span class="op" id="4880348">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880352">for</span>&nbsp;<span class="ident" id="4880356">p</span><span class="op" id="4880357">.</span><span class="ident" id="4880358">seeKeyword</span><span class="op" id="4880368">(</span><span class="string" id="4880369">&#34;import&#34;</span><span class="op" id="4880377">)</span>&nbsp;<span class="op" id="4880379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4880383">panic</span><span class="op" id="4880388">(</span><span class="string" id="4880389">&#34;todo&#34;</span><span class="op" id="4880395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880402">for</span>&nbsp;<span class="op" id="4880406">!</span><span class="ident" id="4880407">p</span><span class="op" id="4880408">.</span><span class="ident" id="4880409">see</span><span class="op" id="4880412">(</span><span class="ident" id="4880413">lex8</span><span class="op" id="4880417">.</span><span class="ident" id="4880418">EOF</span><span class="op" id="4880421">)</span>&nbsp;<span class="op" id="4880423">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880427">if</span>&nbsp;<span class="ident" id="4880430">p</span><span class="op" id="4880431">.</span><span class="ident" id="4880432">seeKeyword</span><span class="op" id="4880442">(</span><span class="string" id="4880443">&#34;func&#34;</span><span class="op" id="4880449">)</span>&nbsp;<span class="op" id="4880451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880456">if</span>&nbsp;<span class="ident" id="4880459">f</span>&nbsp;<span class="op" id="4880461">:=</span>&nbsp;<span class="ident" id="4880464">parseFunc</span><span class="op" id="4880473">(</span><span class="ident" id="4880474">p</span><span class="op" id="4880475">)</span><span class="op" id="4880476">;</span>&nbsp;<span class="ident" id="4880478">f</span>&nbsp;<span class="op" id="4880480">!=</span>&nbsp;<span class="ident" id="4880483">nil</span>&nbsp;<span class="op" id="4880487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4880493">ret</span><span class="op" id="4880496">.</span><span class="ident" id="4880497">Funcs</span>&nbsp;<span class="op" id="4880503">=</span>&nbsp;<span class="builtinfunc" id="4880505">append</span><span class="op" id="4880511">(</span><span class="ident" id="4880512">ret</span><span class="op" id="4880515">.</span><span class="ident" id="4880516">Funcs</span><span class="op" id="4880521">,</span>&nbsp;<span class="ident" id="4880523">f</span><span class="op" id="4880524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880533">}</span>&nbsp;<span class="keyword" id="4880535">else</span>&nbsp;<span class="keyword" id="4880540">if</span>&nbsp;<span class="ident" id="4880543">p</span><span class="op" id="4880544">.</span><span class="ident" id="4880545">seeKeyword</span><span class="op" id="4880555">(</span><span class="string" id="4880556">&#34;var&#34;</span><span class="op" id="4880561">)</span>&nbsp;<span class="op" id="4880563">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880568">if</span>&nbsp;<span class="ident" id="4880571">v</span>&nbsp;<span class="op" id="4880573">:=</span>&nbsp;<span class="ident" id="4880576">parseVar</span><span class="op" id="4880584">(</span><span class="ident" id="4880585">p</span><span class="op" id="4880586">)</span><span class="op" id="4880587">;</span>&nbsp;<span class="ident" id="4880589">v</span>&nbsp;<span class="op" id="4880591">!=</span>&nbsp;<span class="ident" id="4880594">nil</span>&nbsp;<span class="op" id="4880598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4880604">ret</span><span class="op" id="4880607">.</span><span class="ident" id="4880608">Vars</span>&nbsp;<span class="op" id="4880613">=</span>&nbsp;<span class="builtinfunc" id="4880615">append</span><span class="op" id="4880621">(</span><span class="ident" id="4880622">ret</span><span class="op" id="4880625">.</span><span class="ident" id="4880626">Vars</span><span class="op" id="4880630">,</span>&nbsp;<span class="ident" id="4880632">v</span><span class="op" id="4880633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880642">}</span>&nbsp;<span class="keyword" id="4880644">else</span>&nbsp;<span class="keyword" id="4880649">if</span>&nbsp;<span class="ident" id="4880652">p</span><span class="op" id="4880653">.</span><span class="ident" id="4880654">seeKeyword</span><span class="op" id="4880664">(</span><span class="string" id="4880665">&#34;const&#34;</span><span class="op" id="4880672">)</span>&nbsp;<span class="op" id="4880674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4880679">//&nbsp;TODO:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4880691">p</span><span class="op" id="4880692">.</span><span class="ident" id="4880693">err</span><span class="op" id="4880696">(</span><span class="ident" id="4880697">p</span><span class="op" id="4880698">.</span><span class="ident" id="4880699">t</span><span class="op" id="4880700">.</span><span class="ident" id="4880701">Pos</span><span class="op" id="4880704">,</span>&nbsp;<span class="string" id="4880706">&#34;const&nbsp;support&nbsp;not&nbsp;implemented&nbsp;yet&#34;</span><span class="op" id="4880741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4880746">p</span><span class="op" id="4880747">.</span><span class="ident" id="4880748">skipErrStmt</span><span class="op" id="4880759">(</span><span class="op" id="4880760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880764">}</span>&nbsp;<span class="keyword" id="4880766">else</span>&nbsp;<span class="op" id="4880771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4880776">p</span><span class="op" id="4880777">.</span><span class="ident" id="4880778">err</span><span class="op" id="4880781">(</span><span class="ident" id="4880782">p</span><span class="op" id="4880783">.</span><span class="ident" id="4880784">t</span><span class="op" id="4880785">.</span><span class="ident" id="4880786">Pos</span><span class="op" id="4880789">,</span>&nbsp;<span class="string" id="4880791">&#34;expect&nbsp;top-declaration:&nbsp;func,&nbsp;var&nbsp;or&nbsp;const&#34;</span><span class="op" id="4880835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880840">return</span>&nbsp;<span class="ident" id="4880847">nil</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4880858">p</span><span class="op" id="4880859">.</span><span class="ident" id="4880860">clearErr</span><span class="op" id="4880868">(</span><span class="op" id="4880869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4880872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4880876">return</span>&nbsp;<span class="ident" id="4880883">ret</span><br>
<span class="lineno"></span><span class="op" id="4880887">}</span>
</div>
</body>
</html>
