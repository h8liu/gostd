<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7851577">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7851632">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7851686">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7851737">package</span>&nbsp;<span class="ident" id="7851745">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7851750">import</span>&nbsp;<span class="op" id="7851757">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851760">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851769">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851779">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851787">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851795">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851808">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851819">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851830">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7851841">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7851848">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7851851">var</span>&nbsp;<span class="ident" id="7851855">doFuzzTests</span>&nbsp;<span class="op" id="7851867">=</span>&nbsp;<span class="ident" id="7851869">flag</span><span class="op" id="7851873">.</span><span class="ident" id="7851874">Bool</span><span class="op" id="7851878">(</span><span class="string" id="7851879">&#34;gob.fuzz&#34;</span><span class="op" id="7851889">,</span>&nbsp;<span class="builtintype" id="7851891">false</span><span class="op" id="7851896">,</span>&nbsp;<span class="string" id="7851898">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="7851949">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7851952">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="7852032">type</span>&nbsp;<span class="ident" id="7852037">EncodeT</span>&nbsp;<span class="keyword" id="7852045">struct</span>&nbsp;<span class="op" id="7852052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7852055">x</span>&nbsp;<span class="ident" id="7852057">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7852065">b</span>&nbsp;<span class="op" id="7852067">[</span><span class="op" id="7852068">]</span><span class="builtintype" id="7852069">byte</span><br>
<span class="lineno">25</span><span class="op" id="7852074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7852077">var</span>&nbsp;<span class="ident" id="7852081">encodeT</span>&nbsp;<span class="op" id="7852089">=</span>&nbsp;<span class="op" id="7852091">[</span><span class="op" id="7852092">]</span><span class="ident" id="7852093">EncodeT</span><span class="op" id="7852100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852103">{</span><span class="num" id="7852104">0x00</span><span class="op" id="7852108">,</span>&nbsp;<span class="op" id="7852110">[</span><span class="op" id="7852111">]</span><span class="builtintype" id="7852112">byte</span><span class="op" id="7852116">{</span><span class="num" id="7852117">0x00</span><span class="op" id="7852121">}</span><span class="op" id="7852122">}</span><span class="op" id="7852123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852126">{</span><span class="num" id="7852127">0x0F</span><span class="op" id="7852131">,</span>&nbsp;<span class="op" id="7852133">[</span><span class="op" id="7852134">]</span><span class="builtintype" id="7852135">byte</span><span class="op" id="7852139">{</span><span class="num" id="7852140">0x0F</span><span class="op" id="7852144">}</span><span class="op" id="7852145">}</span><span class="op" id="7852146">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852149">{</span><span class="num" id="7852150">0xFF</span><span class="op" id="7852154">,</span>&nbsp;<span class="op" id="7852156">[</span><span class="op" id="7852157">]</span><span class="builtintype" id="7852158">byte</span><span class="op" id="7852162">{</span><span class="num" id="7852163">0xFF</span><span class="op" id="7852167">,</span>&nbsp;<span class="num" id="7852169">0xFF</span><span class="op" id="7852173">}</span><span class="op" id="7852174">}</span><span class="op" id="7852175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852178">{</span><span class="num" id="7852179">0xFFFF</span><span class="op" id="7852185">,</span>&nbsp;<span class="op" id="7852187">[</span><span class="op" id="7852188">]</span><span class="builtintype" id="7852189">byte</span><span class="op" id="7852193">{</span><span class="num" id="7852194">0xFE</span><span class="op" id="7852198">,</span>&nbsp;<span class="num" id="7852200">0xFF</span><span class="op" id="7852204">,</span>&nbsp;<span class="num" id="7852206">0xFF</span><span class="op" id="7852210">}</span><span class="op" id="7852211">}</span><span class="op" id="7852212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852215">{</span><span class="num" id="7852216">0xFFFFFF</span><span class="op" id="7852224">,</span>&nbsp;<span class="op" id="7852226">[</span><span class="op" id="7852227">]</span><span class="builtintype" id="7852228">byte</span><span class="op" id="7852232">{</span><span class="num" id="7852233">0xFD</span><span class="op" id="7852237">,</span>&nbsp;<span class="num" id="7852239">0xFF</span><span class="op" id="7852243">,</span>&nbsp;<span class="num" id="7852245">0xFF</span><span class="op" id="7852249">,</span>&nbsp;<span class="num" id="7852251">0xFF</span><span class="op" id="7852255">}</span><span class="op" id="7852256">}</span><span class="op" id="7852257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852260">{</span><span class="num" id="7852261">0xFFFFFFFF</span><span class="op" id="7852271">,</span>&nbsp;<span class="op" id="7852273">[</span><span class="op" id="7852274">]</span><span class="builtintype" id="7852275">byte</span><span class="op" id="7852279">{</span><span class="num" id="7852280">0xFC</span><span class="op" id="7852284">,</span>&nbsp;<span class="num" id="7852286">0xFF</span><span class="op" id="7852290">,</span>&nbsp;<span class="num" id="7852292">0xFF</span><span class="op" id="7852296">,</span>&nbsp;<span class="num" id="7852298">0xFF</span><span class="op" id="7852302">,</span>&nbsp;<span class="num" id="7852304">0xFF</span><span class="op" id="7852308">}</span><span class="op" id="7852309">}</span><span class="op" id="7852310">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852313">{</span><span class="num" id="7852314">0xFFFFFFFFFF</span><span class="op" id="7852326">,</span>&nbsp;<span class="op" id="7852328">[</span><span class="op" id="7852329">]</span><span class="builtintype" id="7852330">byte</span><span class="op" id="7852334">{</span><span class="num" id="7852335">0xFB</span><span class="op" id="7852339">,</span>&nbsp;<span class="num" id="7852341">0xFF</span><span class="op" id="7852345">,</span>&nbsp;<span class="num" id="7852347">0xFF</span><span class="op" id="7852351">,</span>&nbsp;<span class="num" id="7852353">0xFF</span><span class="op" id="7852357">,</span>&nbsp;<span class="num" id="7852359">0xFF</span><span class="op" id="7852363">,</span>&nbsp;<span class="num" id="7852365">0xFF</span><span class="op" id="7852369">}</span><span class="op" id="7852370">}</span><span class="op" id="7852371">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852374">{</span><span class="num" id="7852375">0xFFFFFFFFFFFF</span><span class="op" id="7852389">,</span>&nbsp;<span class="op" id="7852391">[</span><span class="op" id="7852392">]</span><span class="builtintype" id="7852393">byte</span><span class="op" id="7852397">{</span><span class="num" id="7852398">0xFA</span><span class="op" id="7852402">,</span>&nbsp;<span class="num" id="7852404">0xFF</span><span class="op" id="7852408">,</span>&nbsp;<span class="num" id="7852410">0xFF</span><span class="op" id="7852414">,</span>&nbsp;<span class="num" id="7852416">0xFF</span><span class="op" id="7852420">,</span>&nbsp;<span class="num" id="7852422">0xFF</span><span class="op" id="7852426">,</span>&nbsp;<span class="num" id="7852428">0xFF</span><span class="op" id="7852432">,</span>&nbsp;<span class="num" id="7852434">0xFF</span><span class="op" id="7852438">}</span><span class="op" id="7852439">}</span><span class="op" id="7852440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852443">{</span><span class="num" id="7852444">0xFFFFFFFFFFFFFF</span><span class="op" id="7852460">,</span>&nbsp;<span class="op" id="7852462">[</span><span class="op" id="7852463">]</span><span class="builtintype" id="7852464">byte</span><span class="op" id="7852468">{</span><span class="num" id="7852469">0xF9</span><span class="op" id="7852473">,</span>&nbsp;<span class="num" id="7852475">0xFF</span><span class="op" id="7852479">,</span>&nbsp;<span class="num" id="7852481">0xFF</span><span class="op" id="7852485">,</span>&nbsp;<span class="num" id="7852487">0xFF</span><span class="op" id="7852491">,</span>&nbsp;<span class="num" id="7852493">0xFF</span><span class="op" id="7852497">,</span>&nbsp;<span class="num" id="7852499">0xFF</span><span class="op" id="7852503">,</span>&nbsp;<span class="num" id="7852505">0xFF</span><span class="op" id="7852509">,</span>&nbsp;<span class="num" id="7852511">0xFF</span><span class="op" id="7852515">}</span><span class="op" id="7852516">}</span><span class="op" id="7852517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852520">{</span><span class="num" id="7852521">0xFFFFFFFFFFFFFFFF</span><span class="op" id="7852539">,</span>&nbsp;<span class="op" id="7852541">[</span><span class="op" id="7852542">]</span><span class="builtintype" id="7852543">byte</span><span class="op" id="7852547">{</span><span class="num" id="7852548">0xF8</span><span class="op" id="7852552">,</span>&nbsp;<span class="num" id="7852554">0xFF</span><span class="op" id="7852558">,</span>&nbsp;<span class="num" id="7852560">0xFF</span><span class="op" id="7852564">,</span>&nbsp;<span class="num" id="7852566">0xFF</span><span class="op" id="7852570">,</span>&nbsp;<span class="num" id="7852572">0xFF</span><span class="op" id="7852576">,</span>&nbsp;<span class="num" id="7852578">0xFF</span><span class="op" id="7852582">,</span>&nbsp;<span class="num" id="7852584">0xFF</span><span class="op" id="7852588">,</span>&nbsp;<span class="num" id="7852590">0xFF</span><span class="op" id="7852594">,</span>&nbsp;<span class="num" id="7852596">0xFF</span><span class="op" id="7852600">}</span><span class="op" id="7852601">}</span><span class="op" id="7852602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852605">{</span><span class="num" id="7852606">0x1111</span><span class="op" id="7852612">,</span>&nbsp;<span class="op" id="7852614">[</span><span class="op" id="7852615">]</span><span class="builtintype" id="7852616">byte</span><span class="op" id="7852620">{</span><span class="num" id="7852621">0xFE</span><span class="op" id="7852625">,</span>&nbsp;<span class="num" id="7852627">0x11</span><span class="op" id="7852631">,</span>&nbsp;<span class="num" id="7852633">0x11</span><span class="op" id="7852637">}</span><span class="op" id="7852638">}</span><span class="op" id="7852639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852642">{</span><span class="num" id="7852643">0x1111111111111111</span><span class="op" id="7852661">,</span>&nbsp;<span class="op" id="7852663">[</span><span class="op" id="7852664">]</span><span class="builtintype" id="7852665">byte</span><span class="op" id="7852669">{</span><span class="num" id="7852670">0xF8</span><span class="op" id="7852674">,</span>&nbsp;<span class="num" id="7852676">0x11</span><span class="op" id="7852680">,</span>&nbsp;<span class="num" id="7852682">0x11</span><span class="op" id="7852686">,</span>&nbsp;<span class="num" id="7852688">0x11</span><span class="op" id="7852692">,</span>&nbsp;<span class="num" id="7852694">0x11</span><span class="op" id="7852698">,</span>&nbsp;<span class="num" id="7852700">0x11</span><span class="op" id="7852704">,</span>&nbsp;<span class="num" id="7852706">0x11</span><span class="op" id="7852710">,</span>&nbsp;<span class="num" id="7852712">0x11</span><span class="op" id="7852716">,</span>&nbsp;<span class="num" id="7852718">0x11</span><span class="op" id="7852722">}</span><span class="op" id="7852723">}</span><span class="op" id="7852724">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852727">{</span><span class="num" id="7852728">0x8888888888888888</span><span class="op" id="7852746">,</span>&nbsp;<span class="op" id="7852748">[</span><span class="op" id="7852749">]</span><span class="builtintype" id="7852750">byte</span><span class="op" id="7852754">{</span><span class="num" id="7852755">0xF8</span><span class="op" id="7852759">,</span>&nbsp;<span class="num" id="7852761">0x88</span><span class="op" id="7852765">,</span>&nbsp;<span class="num" id="7852767">0x88</span><span class="op" id="7852771">,</span>&nbsp;<span class="num" id="7852773">0x88</span><span class="op" id="7852777">,</span>&nbsp;<span class="num" id="7852779">0x88</span><span class="op" id="7852783">,</span>&nbsp;<span class="num" id="7852785">0x88</span><span class="op" id="7852789">,</span>&nbsp;<span class="num" id="7852791">0x88</span><span class="op" id="7852795">,</span>&nbsp;<span class="num" id="7852797">0x88</span><span class="op" id="7852801">,</span>&nbsp;<span class="num" id="7852803">0x88</span><span class="op" id="7852807">}</span><span class="op" id="7852808">}</span><span class="op" id="7852809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7852812">{</span><span class="num" id="7852813">1</span>&nbsp;<span class="op" id="7852815">&lt;&lt;</span>&nbsp;<span class="num" id="7852818">63</span><span class="op" id="7852820">,</span>&nbsp;<span class="op" id="7852822">[</span><span class="op" id="7852823">]</span><span class="builtintype" id="7852824">byte</span><span class="op" id="7852828">{</span><span class="num" id="7852829">0xF8</span><span class="op" id="7852833">,</span>&nbsp;<span class="num" id="7852835">0x80</span><span class="op" id="7852839">,</span>&nbsp;<span class="num" id="7852841">0x00</span><span class="op" id="7852845">,</span>&nbsp;<span class="num" id="7852847">0x00</span><span class="op" id="7852851">,</span>&nbsp;<span class="num" id="7852853">0x00</span><span class="op" id="7852857">,</span>&nbsp;<span class="num" id="7852859">0x00</span><span class="op" id="7852863">,</span>&nbsp;<span class="num" id="7852865">0x00</span><span class="op" id="7852869">,</span>&nbsp;<span class="num" id="7852871">0x00</span><span class="op" id="7852875">,</span>&nbsp;<span class="num" id="7852877">0x00</span><span class="op" id="7852881">}</span><span class="op" id="7852882">}</span><span class="op" id="7852883">,</span><br>
<span class="lineno"></span><span class="op" id="7852885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7852888">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="7852977">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="7853003">func</span>&nbsp;<span class="ident" id="7853008">testError</span><span class="op" id="7853017">(</span><span class="ident" id="7853018">t</span>&nbsp;<span class="op" id="7853020">*</span><span class="ident" id="7853021">testing</span><span class="op" id="7853028">.</span><span class="ident" id="7853029">T</span><span class="op" id="7853030">)</span>&nbsp;<span class="op" id="7853032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853035">if</span>&nbsp;<span class="ident" id="7853038">e</span>&nbsp;<span class="op" id="7853040">:=</span>&nbsp;<span class="builtinfunc" id="7853043">recover</span><span class="op" id="7853050">(</span><span class="op" id="7853051">)</span><span class="op" id="7853052">;</span>&nbsp;<span class="ident" id="7853054">e</span>&nbsp;<span class="op" id="7853056">!=</span>&nbsp;<span class="ident" id="7853059">nil</span>&nbsp;<span class="op" id="7853063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853067">t</span><span class="op" id="7853068">.</span><span class="ident" id="7853069">Error</span><span class="op" id="7853074">(</span><span class="ident" id="7853075">e</span><span class="op" id="7853076">.</span><span class="op" id="7853077">(</span><span class="ident" id="7853078">gobError</span><span class="op" id="7853086">)</span><span class="op" id="7853087">.</span><span class="ident" id="7853088">err</span><span class="op" id="7853091">)</span>&nbsp;<span class="comment" id="7853093">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853162">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853165">return</span><br>
<span class="lineno"></span><span class="op" id="7853172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7853175">func</span>&nbsp;<span class="ident" id="7853180">newDecBuffer</span><span class="op" id="7853192">(</span><span class="ident" id="7853193">data</span>&nbsp;<span class="op" id="7853198">[</span><span class="op" id="7853199">]</span><span class="builtintype" id="7853200">byte</span><span class="op" id="7853204">)</span>&nbsp;<span class="op" id="7853206">*</span><span class="ident" id="7853207">decBuffer</span>&nbsp;<span class="op" id="7853217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853220">return</span>&nbsp;<span class="op" id="7853227">&amp;</span><span class="ident" id="7853228">decBuffer</span><span class="op" id="7853237">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853241">data</span><span class="op" id="7853245">:</span>&nbsp;<span class="ident" id="7853247">data</span><span class="op" id="7853251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853254">}</span><br>
<span class="lineno"></span><span class="op" id="7853256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7853259">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="7853318">func</span>&nbsp;<span class="ident" id="7853323">TestUintCodec</span><span class="op" id="7853336">(</span><span class="ident" id="7853337">t</span>&nbsp;<span class="op" id="7853339">*</span><span class="ident" id="7853340">testing</span><span class="op" id="7853347">.</span><span class="ident" id="7853348">T</span><span class="op" id="7853349">)</span>&nbsp;<span class="op" id="7853351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853354">defer</span>&nbsp;<span class="ident" id="7853360">testError</span><span class="op" id="7853369">(</span><span class="ident" id="7853370">t</span><span class="op" id="7853371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853374">b</span>&nbsp;<span class="op" id="7853376">:=</span>&nbsp;<span class="builtinfunc" id="7853379">new</span><span class="op" id="7853382">(</span><span class="ident" id="7853383">encBuffer</span><span class="op" id="7853392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853395">encState</span>&nbsp;<span class="op" id="7853404">:=</span>&nbsp;<span class="ident" id="7853407">newEncoderState</span><span class="op" id="7853422">(</span><span class="ident" id="7853423">b</span><span class="op" id="7853424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853427">for</span>&nbsp;<span class="ident" id="7853431">_</span><span class="op" id="7853432">,</span>&nbsp;<span class="ident" id="7853434">tt</span>&nbsp;<span class="op" id="7853437">:=</span>&nbsp;<span class="keyword" id="7853440">range</span>&nbsp;<span class="ident" id="7853446">encodeT</span>&nbsp;<span class="op" id="7853454">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853458">b</span><span class="op" id="7853459">.</span><span class="ident" id="7853460">Reset</span><span class="op" id="7853465">(</span><span class="op" id="7853466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853470">encState</span><span class="op" id="7853478">.</span><span class="ident" id="7853479">encodeUint</span><span class="op" id="7853489">(</span><span class="ident" id="7853490">tt</span><span class="op" id="7853492">.</span><span class="ident" id="7853493">x</span><span class="op" id="7853494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853498">if</span>&nbsp;<span class="op" id="7853501">!</span><span class="ident" id="7853502">bytes</span><span class="op" id="7853507">.</span><span class="ident" id="7853508">Equal</span><span class="op" id="7853513">(</span><span class="ident" id="7853514">tt</span><span class="op" id="7853516">.</span><span class="ident" id="7853517">b</span><span class="op" id="7853518">,</span>&nbsp;<span class="ident" id="7853520">b</span><span class="op" id="7853521">.</span><span class="ident" id="7853522">Bytes</span><span class="op" id="7853527">(</span><span class="op" id="7853528">)</span><span class="op" id="7853529">)</span>&nbsp;<span class="op" id="7853531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853536">t</span><span class="op" id="7853537">.</span><span class="ident" id="7853538">Errorf</span><span class="op" id="7853544">(</span><span class="string" id="7853545">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7853591">,</span>&nbsp;<span class="ident" id="7853593">tt</span><span class="op" id="7853595">.</span><span class="ident" id="7853596">x</span><span class="op" id="7853597">,</span>&nbsp;<span class="ident" id="7853599">tt</span><span class="op" id="7853601">.</span><span class="ident" id="7853602">b</span><span class="op" id="7853603">,</span>&nbsp;<span class="ident" id="7853605">b</span><span class="op" id="7853606">.</span><span class="ident" id="7853607">Bytes</span><span class="op" id="7853612">(</span><span class="op" id="7853613">)</span><span class="op" id="7853614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853618">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853624">for</span>&nbsp;<span class="ident" id="7853628">u</span>&nbsp;<span class="op" id="7853630">:=</span>&nbsp;<span class="ident" id="7853633">uint64</span><span class="op" id="7853639">(</span><span class="num" id="7853640">0</span><span class="op" id="7853641">)</span><span class="op" id="7853642">;</span>&nbsp;<span class="op" id="7853644">;</span>&nbsp;<span class="ident" id="7853646">u</span>&nbsp;<span class="op" id="7853648">=</span>&nbsp;<span class="op" id="7853650">(</span><span class="ident" id="7853651">u</span>&nbsp;<span class="op" id="7853653">+</span>&nbsp;<span class="num" id="7853655">1</span><span class="op" id="7853656">)</span>&nbsp;<span class="op" id="7853658">*</span>&nbsp;<span class="num" id="7853660">7</span>&nbsp;<span class="op" id="7853662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853666">b</span><span class="op" id="7853667">.</span><span class="ident" id="7853668">Reset</span><span class="op" id="7853673">(</span><span class="op" id="7853674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853678">encState</span><span class="op" id="7853686">.</span><span class="ident" id="7853687">encodeUint</span><span class="op" id="7853697">(</span><span class="ident" id="7853698">u</span><span class="op" id="7853699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853703">decState</span>&nbsp;<span class="op" id="7853712">:=</span>&nbsp;<span class="ident" id="7853715">newDecodeState</span><span class="op" id="7853729">(</span><span class="ident" id="7853730">newDecBuffer</span><span class="op" id="7853742">(</span><span class="ident" id="7853743">b</span><span class="op" id="7853744">.</span><span class="ident" id="7853745">Bytes</span><span class="op" id="7853750">(</span><span class="op" id="7853751">)</span><span class="op" id="7853752">)</span><span class="op" id="7853753">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853757">v</span>&nbsp;<span class="op" id="7853759">:=</span>&nbsp;<span class="ident" id="7853762">decState</span><span class="op" id="7853770">.</span><span class="ident" id="7853771">decodeUint</span><span class="op" id="7853781">(</span><span class="op" id="7853782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853786">if</span>&nbsp;<span class="ident" id="7853789">u</span>&nbsp;<span class="op" id="7853791">!=</span>&nbsp;<span class="ident" id="7853794">v</span>&nbsp;<span class="op" id="7853796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853801">t</span><span class="op" id="7853802">.</span><span class="ident" id="7853803">Errorf</span><span class="op" id="7853809">(</span><span class="string" id="7853810">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="7853848">,</span>&nbsp;<span class="ident" id="7853850">u</span><span class="op" id="7853851">,</span>&nbsp;<span class="ident" id="7853853">v</span><span class="op" id="7853854">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853858">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853862">if</span>&nbsp;<span class="ident" id="7853865">u</span><span class="op" id="7853866">&amp;</span><span class="op" id="7853867">(</span><span class="num" id="7853868">1</span><span class="op" id="7853869">&lt;&lt;</span><span class="num" id="7853871">63</span><span class="op" id="7853873">)</span>&nbsp;<span class="op" id="7853875">!=</span>&nbsp;<span class="num" id="7853878">0</span>&nbsp;<span class="op" id="7853880">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853885">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7853896">}</span><br>
<span class="lineno"></span><span class="op" id="7853898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="7853901">func</span>&nbsp;<span class="ident" id="7853906">verifyInt</span><span class="op" id="7853915">(</span><span class="ident" id="7853916">i</span>&nbsp;<span class="ident" id="7853918">int64</span><span class="op" id="7853923">,</span>&nbsp;<span class="ident" id="7853925">t</span>&nbsp;<span class="op" id="7853927">*</span><span class="ident" id="7853928">testing</span><span class="op" id="7853935">.</span><span class="ident" id="7853936">T</span><span class="op" id="7853937">)</span>&nbsp;<span class="op" id="7853939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853942">defer</span>&nbsp;<span class="ident" id="7853948">testError</span><span class="op" id="7853957">(</span><span class="ident" id="7853958">t</span><span class="op" id="7853959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7853962">var</span>&nbsp;<span class="ident" id="7853966">b</span>&nbsp;<span class="op" id="7853968">=</span>&nbsp;<span class="builtinfunc" id="7853970">new</span><span class="op" id="7853973">(</span><span class="ident" id="7853974">encBuffer</span><span class="op" id="7853983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7853986">encState</span>&nbsp;<span class="op" id="7853995">:=</span>&nbsp;<span class="ident" id="7853998">newEncoderState</span><span class="op" id="7854013">(</span><span class="ident" id="7854014">b</span><span class="op" id="7854015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854018">encState</span><span class="op" id="7854026">.</span><span class="ident" id="7854027">encodeInt</span><span class="op" id="7854036">(</span><span class="ident" id="7854037">i</span><span class="op" id="7854038">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854041">decState</span>&nbsp;<span class="op" id="7854050">:=</span>&nbsp;<span class="ident" id="7854053">newDecodeState</span><span class="op" id="7854067">(</span><span class="ident" id="7854068">newDecBuffer</span><span class="op" id="7854080">(</span><span class="ident" id="7854081">b</span><span class="op" id="7854082">.</span><span class="ident" id="7854083">Bytes</span><span class="op" id="7854088">(</span><span class="op" id="7854089">)</span><span class="op" id="7854090">)</span><span class="op" id="7854091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854094">decState</span><span class="op" id="7854102">.</span><span class="ident" id="7854103">buf</span>&nbsp;<span class="op" id="7854107">=</span>&nbsp;<span class="builtinfunc" id="7854109">make</span><span class="op" id="7854113">(</span><span class="op" id="7854114">[</span><span class="op" id="7854115">]</span><span class="builtintype" id="7854116">byte</span><span class="op" id="7854120">,</span>&nbsp;<span class="num" id="7854122">8</span><span class="op" id="7854123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854126">j</span>&nbsp;<span class="op" id="7854128">:=</span>&nbsp;<span class="ident" id="7854131">decState</span><span class="op" id="7854139">.</span><span class="ident" id="7854140">decodeInt</span><span class="op" id="7854149">(</span><span class="op" id="7854150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854153">if</span>&nbsp;<span class="ident" id="7854156">i</span>&nbsp;<span class="op" id="7854158">!=</span>&nbsp;<span class="ident" id="7854161">j</span>&nbsp;<span class="op" id="7854163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854167">t</span><span class="op" id="7854168">.</span><span class="ident" id="7854169">Errorf</span><span class="op" id="7854175">(</span><span class="string" id="7854176">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="7854214">,</span>&nbsp;<span class="ident" id="7854216">uint64</span><span class="op" id="7854222">(</span><span class="ident" id="7854223">i</span><span class="op" id="7854224">)</span><span class="op" id="7854225">,</span>&nbsp;<span class="ident" id="7854227">uint64</span><span class="op" id="7854233">(</span><span class="ident" id="7854234">j</span><span class="op" id="7854235">)</span><span class="op" id="7854236">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854239">}</span><br>
<span class="lineno"></span><span class="op" id="7854241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7854244">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="7854301">func</span>&nbsp;<span class="ident" id="7854306">TestIntCodec</span><span class="op" id="7854318">(</span><span class="ident" id="7854319">t</span>&nbsp;<span class="op" id="7854321">*</span><span class="ident" id="7854322">testing</span><span class="op" id="7854329">.</span><span class="ident" id="7854330">T</span><span class="op" id="7854331">)</span>&nbsp;<span class="op" id="7854333">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854336">for</span>&nbsp;<span class="ident" id="7854340">u</span>&nbsp;<span class="op" id="7854342">:=</span>&nbsp;<span class="ident" id="7854345">uint64</span><span class="op" id="7854351">(</span><span class="num" id="7854352">0</span><span class="op" id="7854353">)</span><span class="op" id="7854354">;</span>&nbsp;<span class="op" id="7854356">;</span>&nbsp;<span class="ident" id="7854358">u</span>&nbsp;<span class="op" id="7854360">=</span>&nbsp;<span class="op" id="7854362">(</span><span class="ident" id="7854363">u</span>&nbsp;<span class="op" id="7854365">+</span>&nbsp;<span class="num" id="7854367">1</span><span class="op" id="7854368">)</span>&nbsp;<span class="op" id="7854370">*</span>&nbsp;<span class="num" id="7854372">7</span>&nbsp;<span class="op" id="7854374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7854378">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854415">i</span>&nbsp;<span class="op" id="7854417">:=</span>&nbsp;<span class="ident" id="7854420">int64</span><span class="op" id="7854425">(</span><span class="ident" id="7854426">u</span><span class="op" id="7854427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854431">verifyInt</span><span class="op" id="7854440">(</span><span class="ident" id="7854441">i</span><span class="op" id="7854442">,</span>&nbsp;<span class="ident" id="7854444">t</span><span class="op" id="7854445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854449">verifyInt</span><span class="op" id="7854458">(</span><span class="op" id="7854459">-</span><span class="ident" id="7854460">i</span><span class="op" id="7854461">,</span>&nbsp;<span class="ident" id="7854463">t</span><span class="op" id="7854464">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854468">verifyInt</span><span class="op" id="7854477">(</span><span class="op" id="7854478">^</span><span class="ident" id="7854479">i</span><span class="op" id="7854480">,</span>&nbsp;<span class="ident" id="7854482">t</span><span class="op" id="7854483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854487">if</span>&nbsp;<span class="ident" id="7854490">u</span><span class="op" id="7854491">&amp;</span><span class="op" id="7854492">(</span><span class="num" id="7854493">1</span><span class="op" id="7854494">&lt;&lt;</span><span class="num" id="7854496">63</span><span class="op" id="7854498">)</span>&nbsp;<span class="op" id="7854500">!=</span>&nbsp;<span class="num" id="7854503">0</span>&nbsp;<span class="op" id="7854505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7854510">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7854521">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7854524">verifyInt</span><span class="op" id="7854533">(</span><span class="op" id="7854534">-</span><span class="num" id="7854535">1</span><span class="op" id="7854536">&lt;&lt;</span><span class="num" id="7854538">63</span><span class="op" id="7854540">,</span>&nbsp;<span class="ident" id="7854542">t</span><span class="op" id="7854543">)</span>&nbsp;<span class="comment" id="7854545">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="7854562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7854565">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7854626">var</span>&nbsp;<span class="ident" id="7854630">boolResult</span>&nbsp;<span class="op" id="7854641">=</span>&nbsp;<span class="op" id="7854643">[</span><span class="op" id="7854644">]</span><span class="builtintype" id="7854645">byte</span><span class="op" id="7854649">{</span><span class="num" id="7854650">0x07</span><span class="op" id="7854654">,</span>&nbsp;<span class="num" id="7854656">0x01</span><span class="op" id="7854660">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="7854663">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7854721">var</span>&nbsp;<span class="ident" id="7854725">signedResult</span>&nbsp;<span class="op" id="7854738">=</span>&nbsp;<span class="op" id="7854740">[</span><span class="op" id="7854741">]</span><span class="builtintype" id="7854742">byte</span><span class="op" id="7854746">{</span><span class="num" id="7854747">0x07</span><span class="op" id="7854751">,</span>&nbsp;<span class="num" id="7854753">2</span>&nbsp;<span class="op" id="7854755">*</span>&nbsp;<span class="num" id="7854757">17</span><span class="op" id="7854759">}</span><br>
<span class="lineno"></span><span class="keyword" id="7854761">var</span>&nbsp;<span class="ident" id="7854765">unsignedResult</span>&nbsp;<span class="op" id="7854780">=</span>&nbsp;<span class="op" id="7854782">[</span><span class="op" id="7854783">]</span><span class="builtintype" id="7854784">byte</span><span class="op" id="7854788">{</span><span class="num" id="7854789">0x07</span><span class="op" id="7854793">,</span>&nbsp;<span class="num" id="7854795">17</span><span class="op" id="7854797">}</span><br>
<span class="lineno"></span><span class="keyword" id="7854799">var</span>&nbsp;<span class="ident" id="7854803">floatResult</span>&nbsp;<span class="op" id="7854815">=</span>&nbsp;<span class="op" id="7854817">[</span><span class="op" id="7854818">]</span><span class="builtintype" id="7854819">byte</span><span class="op" id="7854823">{</span><span class="num" id="7854824">0x07</span><span class="op" id="7854828">,</span>&nbsp;<span class="num" id="7854830">0xFE</span><span class="op" id="7854834">,</span>&nbsp;<span class="num" id="7854836">0x31</span><span class="op" id="7854840">,</span>&nbsp;<span class="num" id="7854842">0x40</span><span class="op" id="7854846">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="7854849">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="7854911">var</span>&nbsp;<span class="ident" id="7854915">complexResult</span>&nbsp;<span class="op" id="7854929">=</span>&nbsp;<span class="op" id="7854931">[</span><span class="op" id="7854932">]</span><span class="builtintype" id="7854933">byte</span><span class="op" id="7854937">{</span><span class="num" id="7854938">0x07</span><span class="op" id="7854942">,</span>&nbsp;<span class="num" id="7854944">0xFE</span><span class="op" id="7854948">,</span>&nbsp;<span class="num" id="7854950">0x31</span><span class="op" id="7854954">,</span>&nbsp;<span class="num" id="7854956">0x40</span><span class="op" id="7854960">,</span>&nbsp;<span class="num" id="7854962">0xFE</span><span class="op" id="7854966">,</span>&nbsp;<span class="num" id="7854968">0x33</span><span class="op" id="7854972">,</span>&nbsp;<span class="num" id="7854974">0x40</span><span class="op" id="7854978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7854981">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="7855035">var</span>&nbsp;<span class="ident" id="7855039">bytesResult</span>&nbsp;<span class="op" id="7855051">=</span>&nbsp;<span class="op" id="7855053">[</span><span class="op" id="7855054">]</span><span class="builtintype" id="7855055">byte</span><span class="op" id="7855059">{</span><span class="num" id="7855060">0x07</span><span class="op" id="7855064">,</span>&nbsp;<span class="num" id="7855066">0x05</span><span class="op" id="7855070">,</span>&nbsp;<span class="string" id="7855072">&#39;h&#39;</span><span class="op" id="7855075">,</span>&nbsp;<span class="string" id="7855077">&#39;e&#39;</span><span class="op" id="7855080">,</span>&nbsp;<span class="string" id="7855082">&#39;l&#39;</span><span class="op" id="7855085">,</span>&nbsp;<span class="string" id="7855087">&#39;l&#39;</span><span class="op" id="7855090">,</span>&nbsp;<span class="string" id="7855092">&#39;o&#39;</span><span class="op" id="7855095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7855098">func</span>&nbsp;<span class="ident" id="7855103">newDecodeState</span><span class="op" id="7855117">(</span><span class="ident" id="7855118">buf</span>&nbsp;<span class="op" id="7855122">*</span><span class="ident" id="7855123">decBuffer</span><span class="op" id="7855132">)</span>&nbsp;<span class="op" id="7855134">*</span><span class="ident" id="7855135">decoderState</span>&nbsp;<span class="op" id="7855148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855151">d</span>&nbsp;<span class="op" id="7855153">:=</span>&nbsp;<span class="builtinfunc" id="7855156">new</span><span class="op" id="7855159">(</span><span class="ident" id="7855160">decoderState</span><span class="op" id="7855172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855175">d</span><span class="op" id="7855176">.</span><span class="ident" id="7855177">b</span>&nbsp;<span class="op" id="7855179">=</span>&nbsp;<span class="ident" id="7855181">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855186">d</span><span class="op" id="7855187">.</span><span class="ident" id="7855188">buf</span>&nbsp;<span class="op" id="7855192">=</span>&nbsp;<span class="builtinfunc" id="7855194">make</span><span class="op" id="7855198">(</span><span class="op" id="7855199">[</span><span class="op" id="7855200">]</span><span class="builtintype" id="7855201">byte</span><span class="op" id="7855205">,</span>&nbsp;<span class="ident" id="7855207">uint64Size</span><span class="op" id="7855217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855220">return</span>&nbsp;<span class="ident" id="7855227">d</span><br>
<span class="lineno"></span><span class="op" id="7855229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7855232">func</span>&nbsp;<span class="ident" id="7855237">newEncoderState</span><span class="op" id="7855252">(</span><span class="ident" id="7855253">b</span>&nbsp;<span class="op" id="7855255">*</span><span class="ident" id="7855256">encBuffer</span><span class="op" id="7855265">)</span>&nbsp;<span class="op" id="7855267">*</span><span class="ident" id="7855268">encoderState</span>&nbsp;<span class="op" id="7855281">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855284">b</span><span class="op" id="7855285">.</span><span class="ident" id="7855286">Reset</span><span class="op" id="7855291">(</span><span class="op" id="7855292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855295">state</span>&nbsp;<span class="op" id="7855301">:=</span>&nbsp;<span class="op" id="7855304">&amp;</span><span class="ident" id="7855305">encoderState</span><span class="op" id="7855317">{</span><span class="ident" id="7855318">enc</span><span class="op" id="7855321">:</span>&nbsp;<span class="ident" id="7855323">nil</span><span class="op" id="7855326">,</span>&nbsp;<span class="ident" id="7855328">b</span><span class="op" id="7855329">:</span>&nbsp;<span class="ident" id="7855331">b</span><span class="op" id="7855332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855335">state</span><span class="op" id="7855340">.</span><span class="ident" id="7855341">fieldnum</span>&nbsp;<span class="op" id="7855350">=</span>&nbsp;<span class="op" id="7855352">-</span><span class="num" id="7855353">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855356">return</span>&nbsp;<span class="ident" id="7855363">state</span><br>
<span class="lineno"></span><span class="op" id="7855369">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="7855372">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="7855416">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="7855499">func</span>&nbsp;<span class="ident" id="7855504">TestScalarEncInstructions</span><span class="op" id="7855529">(</span><span class="ident" id="7855530">t</span>&nbsp;<span class="op" id="7855532">*</span><span class="ident" id="7855533">testing</span><span class="op" id="7855540">.</span><span class="ident" id="7855541">T</span><span class="op" id="7855542">)</span>&nbsp;<span class="op" id="7855544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855547">var</span>&nbsp;<span class="ident" id="7855551">b</span>&nbsp;<span class="op" id="7855553">=</span>&nbsp;<span class="builtinfunc" id="7855555">new</span><span class="op" id="7855558">(</span><span class="ident" id="7855559">encBuffer</span><span class="op" id="7855568">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7855572">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855585">var</span>&nbsp;<span class="ident" id="7855589">data</span>&nbsp;<span class="builtintype" id="7855594">bool</span>&nbsp;<span class="op" id="7855599">=</span>&nbsp;<span class="builtintype" id="7855601">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855608">instr</span>&nbsp;<span class="op" id="7855614">:=</span>&nbsp;<span class="op" id="7855617">&amp;</span><span class="ident" id="7855618">encInstr</span><span class="op" id="7855626">{</span><span class="ident" id="7855627">encBool</span><span class="op" id="7855634">,</span>&nbsp;<span class="num" id="7855636">6</span><span class="op" id="7855637">,</span>&nbsp;<span class="ident" id="7855639">nil</span><span class="op" id="7855642">,</span>&nbsp;<span class="num" id="7855644">0</span><span class="op" id="7855645">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855649">state</span>&nbsp;<span class="op" id="7855655">:=</span>&nbsp;<span class="ident" id="7855658">newEncoderState</span><span class="op" id="7855673">(</span><span class="ident" id="7855674">b</span><span class="op" id="7855675">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855679">instr</span><span class="op" id="7855684">.</span><span class="ident" id="7855685">op</span><span class="op" id="7855687">(</span><span class="ident" id="7855688">instr</span><span class="op" id="7855693">,</span>&nbsp;<span class="ident" id="7855695">state</span><span class="op" id="7855700">,</span>&nbsp;<span class="ident" id="7855702">reflect</span><span class="op" id="7855709">.</span><span class="ident" id="7855710">ValueOf</span><span class="op" id="7855717">(</span><span class="ident" id="7855718">data</span><span class="op" id="7855722">)</span><span class="op" id="7855723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855727">if</span>&nbsp;<span class="op" id="7855730">!</span><span class="ident" id="7855731">bytes</span><span class="op" id="7855736">.</span><span class="ident" id="7855737">Equal</span><span class="op" id="7855742">(</span><span class="ident" id="7855743">boolResult</span><span class="op" id="7855753">,</span>&nbsp;<span class="ident" id="7855755">b</span><span class="op" id="7855756">.</span><span class="ident" id="7855757">Bytes</span><span class="op" id="7855762">(</span><span class="op" id="7855763">)</span><span class="op" id="7855764">)</span>&nbsp;<span class="op" id="7855766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855771">t</span><span class="op" id="7855772">.</span><span class="ident" id="7855773">Errorf</span><span class="op" id="7855779">(</span><span class="string" id="7855780">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7855825">,</span>&nbsp;<span class="ident" id="7855827">boolResult</span><span class="op" id="7855837">,</span>&nbsp;<span class="ident" id="7855839">b</span><span class="op" id="7855840">.</span><span class="ident" id="7855841">Bytes</span><span class="op" id="7855846">(</span><span class="op" id="7855847">)</span><span class="op" id="7855848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855852">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7855859">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7855867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855871">b</span><span class="op" id="7855872">.</span><span class="ident" id="7855873">Reset</span><span class="op" id="7855878">(</span><span class="op" id="7855879">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7855883">var</span>&nbsp;<span class="ident" id="7855887">data</span>&nbsp;<span class="builtintype" id="7855892">int</span>&nbsp;<span class="op" id="7855896">=</span>&nbsp;<span class="num" id="7855898">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855903">instr</span>&nbsp;<span class="op" id="7855909">:=</span>&nbsp;<span class="op" id="7855912">&amp;</span><span class="ident" id="7855913">encInstr</span><span class="op" id="7855921">{</span><span class="ident" id="7855922">encInt</span><span class="op" id="7855928">,</span>&nbsp;<span class="num" id="7855930">6</span><span class="op" id="7855931">,</span>&nbsp;<span class="ident" id="7855933">nil</span><span class="op" id="7855936">,</span>&nbsp;<span class="num" id="7855938">0</span><span class="op" id="7855939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855943">state</span>&nbsp;<span class="op" id="7855949">:=</span>&nbsp;<span class="ident" id="7855952">newEncoderState</span><span class="op" id="7855967">(</span><span class="ident" id="7855968">b</span><span class="op" id="7855969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7855973">instr</span><span class="op" id="7855978">.</span><span class="ident" id="7855979">op</span><span class="op" id="7855981">(</span><span class="ident" id="7855982">instr</span><span class="op" id="7855987">,</span>&nbsp;<span class="ident" id="7855989">state</span><span class="op" id="7855994">,</span>&nbsp;<span class="ident" id="7855996">reflect</span><span class="op" id="7856003">.</span><span class="ident" id="7856004">ValueOf</span><span class="op" id="7856011">(</span><span class="ident" id="7856012">data</span><span class="op" id="7856016">)</span><span class="op" id="7856017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856021">if</span>&nbsp;<span class="op" id="7856024">!</span><span class="ident" id="7856025">bytes</span><span class="op" id="7856030">.</span><span class="ident" id="7856031">Equal</span><span class="op" id="7856036">(</span><span class="ident" id="7856037">signedResult</span><span class="op" id="7856049">,</span>&nbsp;<span class="ident" id="7856051">b</span><span class="op" id="7856052">.</span><span class="ident" id="7856053">Bytes</span><span class="op" id="7856058">(</span><span class="op" id="7856059">)</span><span class="op" id="7856060">)</span>&nbsp;<span class="op" id="7856062">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856067">t</span><span class="op" id="7856068">.</span><span class="ident" id="7856069">Errorf</span><span class="op" id="7856075">(</span><span class="string" id="7856076">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7856120">,</span>&nbsp;<span class="ident" id="7856122">signedResult</span><span class="op" id="7856134">,</span>&nbsp;<span class="ident" id="7856136">b</span><span class="op" id="7856137">.</span><span class="ident" id="7856138">Bytes</span><span class="op" id="7856143">(</span><span class="op" id="7856144">)</span><span class="op" id="7856145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856149">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7856156">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856169">b</span><span class="op" id="7856170">.</span><span class="ident" id="7856171">Reset</span><span class="op" id="7856176">(</span><span class="op" id="7856177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856181">var</span>&nbsp;<span class="ident" id="7856185">data</span>&nbsp;<span class="builtintype" id="7856190">uint</span>&nbsp;<span class="op" id="7856195">=</span>&nbsp;<span class="num" id="7856197">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856202">instr</span>&nbsp;<span class="op" id="7856208">:=</span>&nbsp;<span class="op" id="7856211">&amp;</span><span class="ident" id="7856212">encInstr</span><span class="op" id="7856220">{</span><span class="ident" id="7856221">encUint</span><span class="op" id="7856228">,</span>&nbsp;<span class="num" id="7856230">6</span><span class="op" id="7856231">,</span>&nbsp;<span class="ident" id="7856233">nil</span><span class="op" id="7856236">,</span>&nbsp;<span class="num" id="7856238">0</span><span class="op" id="7856239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856243">state</span>&nbsp;<span class="op" id="7856249">:=</span>&nbsp;<span class="ident" id="7856252">newEncoderState</span><span class="op" id="7856267">(</span><span class="ident" id="7856268">b</span><span class="op" id="7856269">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856273">instr</span><span class="op" id="7856278">.</span><span class="ident" id="7856279">op</span><span class="op" id="7856281">(</span><span class="ident" id="7856282">instr</span><span class="op" id="7856287">,</span>&nbsp;<span class="ident" id="7856289">state</span><span class="op" id="7856294">,</span>&nbsp;<span class="ident" id="7856296">reflect</span><span class="op" id="7856303">.</span><span class="ident" id="7856304">ValueOf</span><span class="op" id="7856311">(</span><span class="ident" id="7856312">data</span><span class="op" id="7856316">)</span><span class="op" id="7856317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856321">if</span>&nbsp;<span class="op" id="7856324">!</span><span class="ident" id="7856325">bytes</span><span class="op" id="7856330">.</span><span class="ident" id="7856331">Equal</span><span class="op" id="7856336">(</span><span class="ident" id="7856337">unsignedResult</span><span class="op" id="7856351">,</span>&nbsp;<span class="ident" id="7856353">b</span><span class="op" id="7856354">.</span><span class="ident" id="7856355">Bytes</span><span class="op" id="7856360">(</span><span class="op" id="7856361">)</span><span class="op" id="7856362">)</span>&nbsp;<span class="op" id="7856364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856369">t</span><span class="op" id="7856370">.</span><span class="ident" id="7856371">Errorf</span><span class="op" id="7856377">(</span><span class="string" id="7856378">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7856423">,</span>&nbsp;<span class="ident" id="7856425">unsignedResult</span><span class="op" id="7856439">,</span>&nbsp;<span class="ident" id="7856441">b</span><span class="op" id="7856442">.</span><span class="ident" id="7856443">Bytes</span><span class="op" id="7856448">(</span><span class="op" id="7856449">)</span><span class="op" id="7856450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856457">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7856461">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856474">b</span><span class="op" id="7856475">.</span><span class="ident" id="7856476">Reset</span><span class="op" id="7856481">(</span><span class="op" id="7856482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856486">var</span>&nbsp;<span class="ident" id="7856490">data</span>&nbsp;<span class="builtintype" id="7856495">int8</span>&nbsp;<span class="op" id="7856500">=</span>&nbsp;<span class="num" id="7856502">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856507">instr</span>&nbsp;<span class="op" id="7856513">:=</span>&nbsp;<span class="op" id="7856516">&amp;</span><span class="ident" id="7856517">encInstr</span><span class="op" id="7856525">{</span><span class="ident" id="7856526">encInt</span><span class="op" id="7856532">,</span>&nbsp;<span class="num" id="7856534">6</span><span class="op" id="7856535">,</span>&nbsp;<span class="ident" id="7856537">nil</span><span class="op" id="7856540">,</span>&nbsp;<span class="num" id="7856542">0</span><span class="op" id="7856543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856547">state</span>&nbsp;<span class="op" id="7856553">:=</span>&nbsp;<span class="ident" id="7856556">newEncoderState</span><span class="op" id="7856571">(</span><span class="ident" id="7856572">b</span><span class="op" id="7856573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856577">instr</span><span class="op" id="7856582">.</span><span class="ident" id="7856583">op</span><span class="op" id="7856585">(</span><span class="ident" id="7856586">instr</span><span class="op" id="7856591">,</span>&nbsp;<span class="ident" id="7856593">state</span><span class="op" id="7856598">,</span>&nbsp;<span class="ident" id="7856600">reflect</span><span class="op" id="7856607">.</span><span class="ident" id="7856608">ValueOf</span><span class="op" id="7856615">(</span><span class="ident" id="7856616">data</span><span class="op" id="7856620">)</span><span class="op" id="7856621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856625">if</span>&nbsp;<span class="op" id="7856628">!</span><span class="ident" id="7856629">bytes</span><span class="op" id="7856634">.</span><span class="ident" id="7856635">Equal</span><span class="op" id="7856640">(</span><span class="ident" id="7856641">signedResult</span><span class="op" id="7856653">,</span>&nbsp;<span class="ident" id="7856655">b</span><span class="op" id="7856656">.</span><span class="ident" id="7856657">Bytes</span><span class="op" id="7856662">(</span><span class="op" id="7856663">)</span><span class="op" id="7856664">)</span>&nbsp;<span class="op" id="7856666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856671">t</span><span class="op" id="7856672">.</span><span class="ident" id="7856673">Errorf</span><span class="op" id="7856679">(</span><span class="string" id="7856680">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7856725">,</span>&nbsp;<span class="ident" id="7856727">signedResult</span><span class="op" id="7856739">,</span>&nbsp;<span class="ident" id="7856741">b</span><span class="op" id="7856742">.</span><span class="ident" id="7856743">Bytes</span><span class="op" id="7856748">(</span><span class="op" id="7856749">)</span><span class="op" id="7856750">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7856761">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7856771">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856775">b</span><span class="op" id="7856776">.</span><span class="ident" id="7856777">Reset</span><span class="op" id="7856782">(</span><span class="op" id="7856783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856787">var</span>&nbsp;<span class="ident" id="7856791">data</span>&nbsp;<span class="builtintype" id="7856796">uint8</span>&nbsp;<span class="op" id="7856802">=</span>&nbsp;<span class="num" id="7856804">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856809">instr</span>&nbsp;<span class="op" id="7856815">:=</span>&nbsp;<span class="op" id="7856818">&amp;</span><span class="ident" id="7856819">encInstr</span><span class="op" id="7856827">{</span><span class="ident" id="7856828">encUint</span><span class="op" id="7856835">,</span>&nbsp;<span class="num" id="7856837">6</span><span class="op" id="7856838">,</span>&nbsp;<span class="ident" id="7856840">nil</span><span class="op" id="7856843">,</span>&nbsp;<span class="num" id="7856845">0</span><span class="op" id="7856846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856850">state</span>&nbsp;<span class="op" id="7856856">:=</span>&nbsp;<span class="ident" id="7856859">newEncoderState</span><span class="op" id="7856874">(</span><span class="ident" id="7856875">b</span><span class="op" id="7856876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856880">instr</span><span class="op" id="7856885">.</span><span class="ident" id="7856886">op</span><span class="op" id="7856888">(</span><span class="ident" id="7856889">instr</span><span class="op" id="7856894">,</span>&nbsp;<span class="ident" id="7856896">state</span><span class="op" id="7856901">,</span>&nbsp;<span class="ident" id="7856903">reflect</span><span class="op" id="7856910">.</span><span class="ident" id="7856911">ValueOf</span><span class="op" id="7856918">(</span><span class="ident" id="7856919">data</span><span class="op" id="7856923">)</span><span class="op" id="7856924">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7856928">if</span>&nbsp;<span class="op" id="7856931">!</span><span class="ident" id="7856932">bytes</span><span class="op" id="7856937">.</span><span class="ident" id="7856938">Equal</span><span class="op" id="7856943">(</span><span class="ident" id="7856944">unsignedResult</span><span class="op" id="7856958">,</span>&nbsp;<span class="ident" id="7856960">b</span><span class="op" id="7856961">.</span><span class="ident" id="7856962">Bytes</span><span class="op" id="7856967">(</span><span class="op" id="7856968">)</span><span class="op" id="7856969">)</span>&nbsp;<span class="op" id="7856971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856976">t</span><span class="op" id="7856977">.</span><span class="ident" id="7856978">Errorf</span><span class="op" id="7856984">(</span><span class="string" id="7856985">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7857031">,</span>&nbsp;<span class="ident" id="7857033">unsignedResult</span><span class="op" id="7857047">,</span>&nbsp;<span class="ident" id="7857049">b</span><span class="op" id="7857050">.</span><span class="ident" id="7857051">Bytes</span><span class="op" id="7857056">(</span><span class="op" id="7857057">)</span><span class="op" id="7857058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857065">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7857069">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857083">b</span><span class="op" id="7857084">.</span><span class="ident" id="7857085">Reset</span><span class="op" id="7857090">(</span><span class="op" id="7857091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857095">var</span>&nbsp;<span class="ident" id="7857099">data</span>&nbsp;<span class="builtintype" id="7857104">int16</span>&nbsp;<span class="op" id="7857110">=</span>&nbsp;<span class="num" id="7857112">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857117">instr</span>&nbsp;<span class="op" id="7857123">:=</span>&nbsp;<span class="op" id="7857126">&amp;</span><span class="ident" id="7857127">encInstr</span><span class="op" id="7857135">{</span><span class="ident" id="7857136">encInt</span><span class="op" id="7857142">,</span>&nbsp;<span class="num" id="7857144">6</span><span class="op" id="7857145">,</span>&nbsp;<span class="ident" id="7857147">nil</span><span class="op" id="7857150">,</span>&nbsp;<span class="num" id="7857152">0</span><span class="op" id="7857153">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857157">state</span>&nbsp;<span class="op" id="7857163">:=</span>&nbsp;<span class="ident" id="7857166">newEncoderState</span><span class="op" id="7857181">(</span><span class="ident" id="7857182">b</span><span class="op" id="7857183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857187">instr</span><span class="op" id="7857192">.</span><span class="ident" id="7857193">op</span><span class="op" id="7857195">(</span><span class="ident" id="7857196">instr</span><span class="op" id="7857201">,</span>&nbsp;<span class="ident" id="7857203">state</span><span class="op" id="7857208">,</span>&nbsp;<span class="ident" id="7857210">reflect</span><span class="op" id="7857217">.</span><span class="ident" id="7857218">ValueOf</span><span class="op" id="7857225">(</span><span class="ident" id="7857226">data</span><span class="op" id="7857230">)</span><span class="op" id="7857231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857235">if</span>&nbsp;<span class="op" id="7857238">!</span><span class="ident" id="7857239">bytes</span><span class="op" id="7857244">.</span><span class="ident" id="7857245">Equal</span><span class="op" id="7857250">(</span><span class="ident" id="7857251">signedResult</span><span class="op" id="7857263">,</span>&nbsp;<span class="ident" id="7857265">b</span><span class="op" id="7857266">.</span><span class="ident" id="7857267">Bytes</span><span class="op" id="7857272">(</span><span class="op" id="7857273">)</span><span class="op" id="7857274">)</span>&nbsp;<span class="op" id="7857276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857281">t</span><span class="op" id="7857282">.</span><span class="ident" id="7857283">Errorf</span><span class="op" id="7857289">(</span><span class="string" id="7857290">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7857336">,</span>&nbsp;<span class="ident" id="7857338">signedResult</span><span class="op" id="7857350">,</span>&nbsp;<span class="ident" id="7857352">b</span><span class="op" id="7857353">.</span><span class="ident" id="7857354">Bytes</span><span class="op" id="7857359">(</span><span class="op" id="7857360">)</span><span class="op" id="7857361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857365">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7857372">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857387">b</span><span class="op" id="7857388">.</span><span class="ident" id="7857389">Reset</span><span class="op" id="7857394">(</span><span class="op" id="7857395">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857399">var</span>&nbsp;<span class="ident" id="7857403">data</span>&nbsp;<span class="builtintype" id="7857408">uint16</span>&nbsp;<span class="op" id="7857415">=</span>&nbsp;<span class="num" id="7857417">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857422">instr</span>&nbsp;<span class="op" id="7857428">:=</span>&nbsp;<span class="op" id="7857431">&amp;</span><span class="ident" id="7857432">encInstr</span><span class="op" id="7857440">{</span><span class="ident" id="7857441">encUint</span><span class="op" id="7857448">,</span>&nbsp;<span class="num" id="7857450">6</span><span class="op" id="7857451">,</span>&nbsp;<span class="ident" id="7857453">nil</span><span class="op" id="7857456">,</span>&nbsp;<span class="num" id="7857458">0</span><span class="op" id="7857459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857463">state</span>&nbsp;<span class="op" id="7857469">:=</span>&nbsp;<span class="ident" id="7857472">newEncoderState</span><span class="op" id="7857487">(</span><span class="ident" id="7857488">b</span><span class="op" id="7857489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857493">instr</span><span class="op" id="7857498">.</span><span class="ident" id="7857499">op</span><span class="op" id="7857501">(</span><span class="ident" id="7857502">instr</span><span class="op" id="7857507">,</span>&nbsp;<span class="ident" id="7857509">state</span><span class="op" id="7857514">,</span>&nbsp;<span class="ident" id="7857516">reflect</span><span class="op" id="7857523">.</span><span class="ident" id="7857524">ValueOf</span><span class="op" id="7857531">(</span><span class="ident" id="7857532">data</span><span class="op" id="7857536">)</span><span class="op" id="7857537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857541">if</span>&nbsp;<span class="op" id="7857544">!</span><span class="ident" id="7857545">bytes</span><span class="op" id="7857550">.</span><span class="ident" id="7857551">Equal</span><span class="op" id="7857556">(</span><span class="ident" id="7857557">unsignedResult</span><span class="op" id="7857571">,</span>&nbsp;<span class="ident" id="7857573">b</span><span class="op" id="7857574">.</span><span class="ident" id="7857575">Bytes</span><span class="op" id="7857580">(</span><span class="op" id="7857581">)</span><span class="op" id="7857582">)</span>&nbsp;<span class="op" id="7857584">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857589">t</span><span class="op" id="7857590">.</span><span class="ident" id="7857591">Errorf</span><span class="op" id="7857597">(</span><span class="string" id="7857598">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7857645">,</span>&nbsp;<span class="ident" id="7857647">unsignedResult</span><span class="op" id="7857661">,</span>&nbsp;<span class="ident" id="7857663">b</span><span class="op" id="7857664">.</span><span class="ident" id="7857665">Bytes</span><span class="op" id="7857670">(</span><span class="op" id="7857671">)</span><span class="op" id="7857672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7857683">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857697">b</span><span class="op" id="7857698">.</span><span class="ident" id="7857699">Reset</span><span class="op" id="7857704">(</span><span class="op" id="7857705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857709">var</span>&nbsp;<span class="ident" id="7857713">data</span>&nbsp;<span class="builtintype" id="7857718">int32</span>&nbsp;<span class="op" id="7857724">=</span>&nbsp;<span class="num" id="7857726">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857731">instr</span>&nbsp;<span class="op" id="7857737">:=</span>&nbsp;<span class="op" id="7857740">&amp;</span><span class="ident" id="7857741">encInstr</span><span class="op" id="7857749">{</span><span class="ident" id="7857750">encInt</span><span class="op" id="7857756">,</span>&nbsp;<span class="num" id="7857758">6</span><span class="op" id="7857759">,</span>&nbsp;<span class="ident" id="7857761">nil</span><span class="op" id="7857764">,</span>&nbsp;<span class="num" id="7857766">0</span><span class="op" id="7857767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857771">state</span>&nbsp;<span class="op" id="7857777">:=</span>&nbsp;<span class="ident" id="7857780">newEncoderState</span><span class="op" id="7857795">(</span><span class="ident" id="7857796">b</span><span class="op" id="7857797">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857801">instr</span><span class="op" id="7857806">.</span><span class="ident" id="7857807">op</span><span class="op" id="7857809">(</span><span class="ident" id="7857810">instr</span><span class="op" id="7857815">,</span>&nbsp;<span class="ident" id="7857817">state</span><span class="op" id="7857822">,</span>&nbsp;<span class="ident" id="7857824">reflect</span><span class="op" id="7857831">.</span><span class="ident" id="7857832">ValueOf</span><span class="op" id="7857839">(</span><span class="ident" id="7857840">data</span><span class="op" id="7857844">)</span><span class="op" id="7857845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7857849">if</span>&nbsp;<span class="op" id="7857852">!</span><span class="ident" id="7857853">bytes</span><span class="op" id="7857858">.</span><span class="ident" id="7857859">Equal</span><span class="op" id="7857864">(</span><span class="ident" id="7857865">signedResult</span><span class="op" id="7857877">,</span>&nbsp;<span class="ident" id="7857879">b</span><span class="op" id="7857880">.</span><span class="ident" id="7857881">Bytes</span><span class="op" id="7857886">(</span><span class="op" id="7857887">)</span><span class="op" id="7857888">)</span>&nbsp;<span class="op" id="7857890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857895">t</span><span class="op" id="7857896">.</span><span class="ident" id="7857897">Errorf</span><span class="op" id="7857903">(</span><span class="string" id="7857904">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7857950">,</span>&nbsp;<span class="ident" id="7857952">signedResult</span><span class="op" id="7857964">,</span>&nbsp;<span class="ident" id="7857966">b</span><span class="op" id="7857967">.</span><span class="ident" id="7857968">Bytes</span><span class="op" id="7857973">(</span><span class="op" id="7857974">)</span><span class="op" id="7857975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857982">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7857986">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7857997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858001">b</span><span class="op" id="7858002">.</span><span class="ident" id="7858003">Reset</span><span class="op" id="7858008">(</span><span class="op" id="7858009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7858013">var</span>&nbsp;<span class="ident" id="7858017">data</span>&nbsp;<span class="builtintype" id="7858022">uint32</span>&nbsp;<span class="op" id="7858029">=</span>&nbsp;<span class="num" id="7858031">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858036">instr</span>&nbsp;<span class="op" id="7858042">:=</span>&nbsp;<span class="op" id="7858045">&amp;</span><span class="ident" id="7858046">encInstr</span><span class="op" id="7858054">{</span><span class="ident" id="7858055">encUint</span><span class="op" id="7858062">,</span>&nbsp;<span class="num" id="7858064">6</span><span class="op" id="7858065">,</span>&nbsp;<span class="ident" id="7858067">nil</span><span class="op" id="7858070">,</span>&nbsp;<span class="num" id="7858072">0</span><span class="op" id="7858073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858077">state</span>&nbsp;<span class="op" id="7858083">:=</span>&nbsp;<span class="ident" id="7858086">newEncoderState</span><span class="op" id="7858101">(</span><span class="ident" id="7858102">b</span><span class="op" id="7858103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858107">instr</span><span class="op" id="7858112">.</span><span class="ident" id="7858113">op</span><span class="op" id="7858115">(</span><span class="ident" id="7858116">instr</span><span class="op" id="7858121">,</span>&nbsp;<span class="ident" id="7858123">state</span><span class="op" id="7858128">,</span>&nbsp;<span class="ident" id="7858130">reflect</span><span class="op" id="7858137">.</span><span class="ident" id="7858138">ValueOf</span><span class="op" id="7858145">(</span><span class="ident" id="7858146">data</span><span class="op" id="7858150">)</span><span class="op" id="7858151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7858155">if</span>&nbsp;<span class="op" id="7858158">!</span><span class="ident" id="7858159">bytes</span><span class="op" id="7858164">.</span><span class="ident" id="7858165">Equal</span><span class="op" id="7858170">(</span><span class="ident" id="7858171">unsignedResult</span><span class="op" id="7858185">,</span>&nbsp;<span class="ident" id="7858187">b</span><span class="op" id="7858188">.</span><span class="ident" id="7858189">Bytes</span><span class="op" id="7858194">(</span><span class="op" id="7858195">)</span><span class="op" id="7858196">)</span>&nbsp;<span class="op" id="7858198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858203">t</span><span class="op" id="7858204">.</span><span class="ident" id="7858205">Errorf</span><span class="op" id="7858211">(</span><span class="string" id="7858212">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7858259">,</span>&nbsp;<span class="ident" id="7858261">unsignedResult</span><span class="op" id="7858275">,</span>&nbsp;<span class="ident" id="7858277">b</span><span class="op" id="7858278">.</span><span class="ident" id="7858279">Bytes</span><span class="op" id="7858284">(</span><span class="op" id="7858285">)</span><span class="op" id="7858286">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7858297">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858307">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858311">b</span><span class="op" id="7858312">.</span><span class="ident" id="7858313">Reset</span><span class="op" id="7858318">(</span><span class="op" id="7858319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7858323">var</span>&nbsp;<span class="ident" id="7858327">data</span>&nbsp;<span class="ident" id="7858332">int64</span>&nbsp;<span class="op" id="7858338">=</span>&nbsp;<span class="num" id="7858340">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858345">instr</span>&nbsp;<span class="op" id="7858351">:=</span>&nbsp;<span class="op" id="7858354">&amp;</span><span class="ident" id="7858355">encInstr</span><span class="op" id="7858363">{</span><span class="ident" id="7858364">encInt</span><span class="op" id="7858370">,</span>&nbsp;<span class="num" id="7858372">6</span><span class="op" id="7858373">,</span>&nbsp;<span class="ident" id="7858375">nil</span><span class="op" id="7858378">,</span>&nbsp;<span class="num" id="7858380">0</span><span class="op" id="7858381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858385">state</span>&nbsp;<span class="op" id="7858391">:=</span>&nbsp;<span class="ident" id="7858394">newEncoderState</span><span class="op" id="7858409">(</span><span class="ident" id="7858410">b</span><span class="op" id="7858411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858415">instr</span><span class="op" id="7858420">.</span><span class="ident" id="7858421">op</span><span class="op" id="7858423">(</span><span class="ident" id="7858424">instr</span><span class="op" id="7858429">,</span>&nbsp;<span class="ident" id="7858431">state</span><span class="op" id="7858436">,</span>&nbsp;<span class="ident" id="7858438">reflect</span><span class="op" id="7858445">.</span><span class="ident" id="7858446">ValueOf</span><span class="op" id="7858453">(</span><span class="ident" id="7858454">data</span><span class="op" id="7858458">)</span><span class="op" id="7858459">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7858463">if</span>&nbsp;<span class="op" id="7858466">!</span><span class="ident" id="7858467">bytes</span><span class="op" id="7858472">.</span><span class="ident" id="7858473">Equal</span><span class="op" id="7858478">(</span><span class="ident" id="7858479">signedResult</span><span class="op" id="7858491">,</span>&nbsp;<span class="ident" id="7858493">b</span><span class="op" id="7858494">.</span><span class="ident" id="7858495">Bytes</span><span class="op" id="7858500">(</span><span class="op" id="7858501">)</span><span class="op" id="7858502">)</span>&nbsp;<span class="op" id="7858504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858509">t</span><span class="op" id="7858510">.</span><span class="ident" id="7858511">Errorf</span><span class="op" id="7858517">(</span><span class="string" id="7858518">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7858564">,</span>&nbsp;<span class="ident" id="7858566">signedResult</span><span class="op" id="7858578">,</span>&nbsp;<span class="ident" id="7858580">b</span><span class="op" id="7858581">.</span><span class="ident" id="7858582">Bytes</span><span class="op" id="7858587">(</span><span class="op" id="7858588">)</span><span class="op" id="7858589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7858600">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858615">b</span><span class="op" id="7858616">.</span><span class="ident" id="7858617">Reset</span><span class="op" id="7858622">(</span><span class="op" id="7858623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7858627">var</span>&nbsp;<span class="ident" id="7858631">data</span>&nbsp;<span class="ident" id="7858636">uint64</span>&nbsp;<span class="op" id="7858643">=</span>&nbsp;<span class="num" id="7858645">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858650">instr</span>&nbsp;<span class="op" id="7858656">:=</span>&nbsp;<span class="op" id="7858659">&amp;</span><span class="ident" id="7858660">encInstr</span><span class="op" id="7858668">{</span><span class="ident" id="7858669">encUint</span><span class="op" id="7858676">,</span>&nbsp;<span class="num" id="7858678">6</span><span class="op" id="7858679">,</span>&nbsp;<span class="ident" id="7858681">nil</span><span class="op" id="7858684">,</span>&nbsp;<span class="num" id="7858686">0</span><span class="op" id="7858687">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858691">state</span>&nbsp;<span class="op" id="7858697">:=</span>&nbsp;<span class="ident" id="7858700">newEncoderState</span><span class="op" id="7858715">(</span><span class="ident" id="7858716">b</span><span class="op" id="7858717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858721">instr</span><span class="op" id="7858726">.</span><span class="ident" id="7858727">op</span><span class="op" id="7858729">(</span><span class="ident" id="7858730">instr</span><span class="op" id="7858735">,</span>&nbsp;<span class="ident" id="7858737">state</span><span class="op" id="7858742">,</span>&nbsp;<span class="ident" id="7858744">reflect</span><span class="op" id="7858751">.</span><span class="ident" id="7858752">ValueOf</span><span class="op" id="7858759">(</span><span class="ident" id="7858760">data</span><span class="op" id="7858764">)</span><span class="op" id="7858765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7858769">if</span>&nbsp;<span class="op" id="7858772">!</span><span class="ident" id="7858773">bytes</span><span class="op" id="7858778">.</span><span class="ident" id="7858779">Equal</span><span class="op" id="7858784">(</span><span class="ident" id="7858785">unsignedResult</span><span class="op" id="7858799">,</span>&nbsp;<span class="ident" id="7858801">b</span><span class="op" id="7858802">.</span><span class="ident" id="7858803">Bytes</span><span class="op" id="7858808">(</span><span class="op" id="7858809">)</span><span class="op" id="7858810">)</span>&nbsp;<span class="op" id="7858812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858817">t</span><span class="op" id="7858818">.</span><span class="ident" id="7858819">Errorf</span><span class="op" id="7858825">(</span><span class="string" id="7858826">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7858873">,</span>&nbsp;<span class="ident" id="7858875">unsignedResult</span><span class="op" id="7858889">,</span>&nbsp;<span class="ident" id="7858891">b</span><span class="op" id="7858892">.</span><span class="ident" id="7858893">Bytes</span><span class="op" id="7858898">(</span><span class="op" id="7858899">)</span><span class="op" id="7858900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858904">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7858911">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7858923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858927">b</span><span class="op" id="7858928">.</span><span class="ident" id="7858929">Reset</span><span class="op" id="7858934">(</span><span class="op" id="7858935">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7858939">var</span>&nbsp;<span class="ident" id="7858943">data</span>&nbsp;<span class="builtintype" id="7858948">float32</span>&nbsp;<span class="op" id="7858956">=</span>&nbsp;<span class="num" id="7858958">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858963">instr</span>&nbsp;<span class="op" id="7858969">:=</span>&nbsp;<span class="op" id="7858972">&amp;</span><span class="ident" id="7858973">encInstr</span><span class="op" id="7858981">{</span><span class="ident" id="7858982">encFloat</span><span class="op" id="7858990">,</span>&nbsp;<span class="num" id="7858992">6</span><span class="op" id="7858993">,</span>&nbsp;<span class="ident" id="7858995">nil</span><span class="op" id="7858998">,</span>&nbsp;<span class="num" id="7859000">0</span><span class="op" id="7859001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859005">state</span>&nbsp;<span class="op" id="7859011">:=</span>&nbsp;<span class="ident" id="7859014">newEncoderState</span><span class="op" id="7859029">(</span><span class="ident" id="7859030">b</span><span class="op" id="7859031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859035">instr</span><span class="op" id="7859040">.</span><span class="ident" id="7859041">op</span><span class="op" id="7859043">(</span><span class="ident" id="7859044">instr</span><span class="op" id="7859049">,</span>&nbsp;<span class="ident" id="7859051">state</span><span class="op" id="7859056">,</span>&nbsp;<span class="ident" id="7859058">reflect</span><span class="op" id="7859065">.</span><span class="ident" id="7859066">ValueOf</span><span class="op" id="7859073">(</span><span class="ident" id="7859074">data</span><span class="op" id="7859078">)</span><span class="op" id="7859079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7859083">if</span>&nbsp;<span class="op" id="7859086">!</span><span class="ident" id="7859087">bytes</span><span class="op" id="7859092">.</span><span class="ident" id="7859093">Equal</span><span class="op" id="7859098">(</span><span class="ident" id="7859099">floatResult</span><span class="op" id="7859110">,</span>&nbsp;<span class="ident" id="7859112">b</span><span class="op" id="7859113">.</span><span class="ident" id="7859114">Bytes</span><span class="op" id="7859119">(</span><span class="op" id="7859120">)</span><span class="op" id="7859121">)</span>&nbsp;<span class="op" id="7859123">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859128">t</span><span class="op" id="7859129">.</span><span class="ident" id="7859130">Errorf</span><span class="op" id="7859136">(</span><span class="string" id="7859137">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7859185">,</span>&nbsp;<span class="ident" id="7859187">floatResult</span><span class="op" id="7859198">,</span>&nbsp;<span class="ident" id="7859200">b</span><span class="op" id="7859201">.</span><span class="ident" id="7859202">Bytes</span><span class="op" id="7859207">(</span><span class="op" id="7859208">)</span><span class="op" id="7859209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859216">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7859220">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859236">b</span><span class="op" id="7859237">.</span><span class="ident" id="7859238">Reset</span><span class="op" id="7859243">(</span><span class="op" id="7859244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7859248">var</span>&nbsp;<span class="ident" id="7859252">data</span>&nbsp;<span class="builtintype" id="7859257">float64</span>&nbsp;<span class="op" id="7859265">=</span>&nbsp;<span class="num" id="7859267">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859272">instr</span>&nbsp;<span class="op" id="7859278">:=</span>&nbsp;<span class="op" id="7859281">&amp;</span><span class="ident" id="7859282">encInstr</span><span class="op" id="7859290">{</span><span class="ident" id="7859291">encFloat</span><span class="op" id="7859299">,</span>&nbsp;<span class="num" id="7859301">6</span><span class="op" id="7859302">,</span>&nbsp;<span class="ident" id="7859304">nil</span><span class="op" id="7859307">,</span>&nbsp;<span class="num" id="7859309">0</span><span class="op" id="7859310">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859314">state</span>&nbsp;<span class="op" id="7859320">:=</span>&nbsp;<span class="ident" id="7859323">newEncoderState</span><span class="op" id="7859338">(</span><span class="ident" id="7859339">b</span><span class="op" id="7859340">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859344">instr</span><span class="op" id="7859349">.</span><span class="ident" id="7859350">op</span><span class="op" id="7859352">(</span><span class="ident" id="7859353">instr</span><span class="op" id="7859358">,</span>&nbsp;<span class="ident" id="7859360">state</span><span class="op" id="7859365">,</span>&nbsp;<span class="ident" id="7859367">reflect</span><span class="op" id="7859374">.</span><span class="ident" id="7859375">ValueOf</span><span class="op" id="7859382">(</span><span class="ident" id="7859383">data</span><span class="op" id="7859387">)</span><span class="op" id="7859388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7859392">if</span>&nbsp;<span class="op" id="7859395">!</span><span class="ident" id="7859396">bytes</span><span class="op" id="7859401">.</span><span class="ident" id="7859402">Equal</span><span class="op" id="7859407">(</span><span class="ident" id="7859408">floatResult</span><span class="op" id="7859419">,</span>&nbsp;<span class="ident" id="7859421">b</span><span class="op" id="7859422">.</span><span class="ident" id="7859423">Bytes</span><span class="op" id="7859428">(</span><span class="op" id="7859429">)</span><span class="op" id="7859430">)</span>&nbsp;<span class="op" id="7859432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859437">t</span><span class="op" id="7859438">.</span><span class="ident" id="7859439">Errorf</span><span class="op" id="7859445">(</span><span class="string" id="7859446">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7859494">,</span>&nbsp;<span class="ident" id="7859496">floatResult</span><span class="op" id="7859507">,</span>&nbsp;<span class="ident" id="7859509">b</span><span class="op" id="7859510">.</span><span class="ident" id="7859511">Bytes</span><span class="op" id="7859516">(</span><span class="op" id="7859517">)</span><span class="op" id="7859518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859525">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7859529">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859554">b</span><span class="op" id="7859555">.</span><span class="ident" id="7859556">Reset</span><span class="op" id="7859561">(</span><span class="op" id="7859562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859566">data</span>&nbsp;<span class="op" id="7859571">:=</span>&nbsp;<span class="op" id="7859574">[</span><span class="op" id="7859575">]</span><span class="builtintype" id="7859576">byte</span><span class="op" id="7859580">(</span><span class="string" id="7859581">&#34;hello&#34;</span><span class="op" id="7859588">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859592">instr</span>&nbsp;<span class="op" id="7859598">:=</span>&nbsp;<span class="op" id="7859601">&amp;</span><span class="ident" id="7859602">encInstr</span><span class="op" id="7859610">{</span><span class="ident" id="7859611">encUint8Array</span><span class="op" id="7859624">,</span>&nbsp;<span class="num" id="7859626">6</span><span class="op" id="7859627">,</span>&nbsp;<span class="ident" id="7859629">nil</span><span class="op" id="7859632">,</span>&nbsp;<span class="num" id="7859634">0</span><span class="op" id="7859635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859639">state</span>&nbsp;<span class="op" id="7859645">:=</span>&nbsp;<span class="ident" id="7859648">newEncoderState</span><span class="op" id="7859663">(</span><span class="ident" id="7859664">b</span><span class="op" id="7859665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859669">instr</span><span class="op" id="7859674">.</span><span class="ident" id="7859675">op</span><span class="op" id="7859677">(</span><span class="ident" id="7859678">instr</span><span class="op" id="7859683">,</span>&nbsp;<span class="ident" id="7859685">state</span><span class="op" id="7859690">,</span>&nbsp;<span class="ident" id="7859692">reflect</span><span class="op" id="7859699">.</span><span class="ident" id="7859700">ValueOf</span><span class="op" id="7859707">(</span><span class="ident" id="7859708">data</span><span class="op" id="7859712">)</span><span class="op" id="7859713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7859717">if</span>&nbsp;<span class="op" id="7859720">!</span><span class="ident" id="7859721">bytes</span><span class="op" id="7859726">.</span><span class="ident" id="7859727">Equal</span><span class="op" id="7859732">(</span><span class="ident" id="7859733">bytesResult</span><span class="op" id="7859744">,</span>&nbsp;<span class="ident" id="7859746">b</span><span class="op" id="7859747">.</span><span class="ident" id="7859748">Bytes</span><span class="op" id="7859753">(</span><span class="op" id="7859754">)</span><span class="op" id="7859755">)</span>&nbsp;<span class="op" id="7859757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859762">t</span><span class="op" id="7859763">.</span><span class="ident" id="7859764">Errorf</span><span class="op" id="7859770">(</span><span class="string" id="7859771">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7859817">,</span>&nbsp;<span class="ident" id="7859819">bytesResult</span><span class="op" id="7859830">,</span>&nbsp;<span class="ident" id="7859832">b</span><span class="op" id="7859833">.</span><span class="ident" id="7859834">Bytes</span><span class="op" id="7859839">(</span><span class="op" id="7859840">)</span><span class="op" id="7859841">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7859852">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7859863">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859867">b</span><span class="op" id="7859868">.</span><span class="ident" id="7859869">Reset</span><span class="op" id="7859874">(</span><span class="op" id="7859875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7859879">var</span>&nbsp;<span class="ident" id="7859883">data</span>&nbsp;<span class="builtintype" id="7859888">string</span>&nbsp;<span class="op" id="7859895">=</span>&nbsp;<span class="string" id="7859897">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859907">instr</span>&nbsp;<span class="op" id="7859913">:=</span>&nbsp;<span class="op" id="7859916">&amp;</span><span class="ident" id="7859917">encInstr</span><span class="op" id="7859925">{</span><span class="ident" id="7859926">encString</span><span class="op" id="7859935">,</span>&nbsp;<span class="num" id="7859937">6</span><span class="op" id="7859938">,</span>&nbsp;<span class="ident" id="7859940">nil</span><span class="op" id="7859943">,</span>&nbsp;<span class="num" id="7859945">0</span><span class="op" id="7859946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859950">state</span>&nbsp;<span class="op" id="7859956">:=</span>&nbsp;<span class="ident" id="7859959">newEncoderState</span><span class="op" id="7859974">(</span><span class="ident" id="7859975">b</span><span class="op" id="7859976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859980">instr</span><span class="op" id="7859985">.</span><span class="ident" id="7859986">op</span><span class="op" id="7859988">(</span><span class="ident" id="7859989">instr</span><span class="op" id="7859994">,</span>&nbsp;<span class="ident" id="7859996">state</span><span class="op" id="7860001">,</span>&nbsp;<span class="ident" id="7860003">reflect</span><span class="op" id="7860010">.</span><span class="ident" id="7860011">ValueOf</span><span class="op" id="7860018">(</span><span class="ident" id="7860019">data</span><span class="op" id="7860023">)</span><span class="op" id="7860024">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7860028">if</span>&nbsp;<span class="op" id="7860031">!</span><span class="ident" id="7860032">bytes</span><span class="op" id="7860037">.</span><span class="ident" id="7860038">Equal</span><span class="op" id="7860043">(</span><span class="ident" id="7860044">bytesResult</span><span class="op" id="7860055">,</span>&nbsp;<span class="ident" id="7860057">b</span><span class="op" id="7860058">.</span><span class="ident" id="7860059">Bytes</span><span class="op" id="7860064">(</span><span class="op" id="7860065">)</span><span class="op" id="7860066">)</span>&nbsp;<span class="op" id="7860068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860073">t</span><span class="op" id="7860074">.</span><span class="ident" id="7860075">Errorf</span><span class="op" id="7860081">(</span><span class="string" id="7860082">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="7860129">,</span>&nbsp;<span class="ident" id="7860131">bytesResult</span><span class="op" id="7860142">,</span>&nbsp;<span class="ident" id="7860144">b</span><span class="op" id="7860145">.</span><span class="ident" id="7860146">Bytes</span><span class="op" id="7860151">(</span><span class="op" id="7860152">)</span><span class="op" id="7860153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860160">}</span><br>
<span class="lineno"></span><span class="op" id="7860162">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="7860165">func</span>&nbsp;<span class="ident" id="7860170">execDec</span><span class="op" id="7860177">(</span><span class="ident" id="7860178">typ</span>&nbsp;<span class="builtintype" id="7860182">string</span><span class="op" id="7860188">,</span>&nbsp;<span class="ident" id="7860190">instr</span>&nbsp;<span class="op" id="7860196">*</span><span class="ident" id="7860197">decInstr</span><span class="op" id="7860205">,</span>&nbsp;<span class="ident" id="7860207">state</span>&nbsp;<span class="op" id="7860213">*</span><span class="ident" id="7860214">decoderState</span><span class="op" id="7860226">,</span>&nbsp;<span class="ident" id="7860228">t</span>&nbsp;<span class="op" id="7860230">*</span><span class="ident" id="7860231">testing</span><span class="op" id="7860238">.</span><span class="ident" id="7860239">T</span><span class="op" id="7860240">,</span>&nbsp;<span class="ident" id="7860242">value</span>&nbsp;<span class="ident" id="7860248">reflect</span><span class="op" id="7860255">.</span><span class="ident" id="7860256">Value</span><span class="op" id="7860261">)</span>&nbsp;<span class="op" id="7860263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7860266">defer</span>&nbsp;<span class="ident" id="7860272">testError</span><span class="op" id="7860281">(</span><span class="ident" id="7860282">t</span><span class="op" id="7860283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860286">v</span>&nbsp;<span class="op" id="7860288">:=</span>&nbsp;<span class="builtintype" id="7860291">int</span><span class="op" id="7860294">(</span><span class="ident" id="7860295">state</span><span class="op" id="7860300">.</span><span class="ident" id="7860301">decodeUint</span><span class="op" id="7860311">(</span><span class="op" id="7860312">)</span><span class="op" id="7860313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7860316">if</span>&nbsp;<span class="ident" id="7860319">v</span><span class="op" id="7860320">+</span><span class="ident" id="7860321">state</span><span class="op" id="7860326">.</span><span class="ident" id="7860327">fieldnum</span>&nbsp;<span class="op" id="7860336">!=</span>&nbsp;<span class="num" id="7860339">6</span>&nbsp;<span class="op" id="7860341">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860345">t</span><span class="op" id="7860346">.</span><span class="ident" id="7860347">Fatalf</span><span class="op" id="7860353">(</span><span class="string" id="7860354">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7860388">,</span>&nbsp;<span class="num" id="7860390">6</span><span class="op" id="7860391">,</span>&nbsp;<span class="ident" id="7860393">v</span><span class="op" id="7860394">+</span><span class="ident" id="7860395">state</span><span class="op" id="7860400">.</span><span class="ident" id="7860401">fieldnum</span><span class="op" id="7860409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860415">instr</span><span class="op" id="7860420">.</span><span class="ident" id="7860421">op</span><span class="op" id="7860423">(</span><span class="ident" id="7860424">instr</span><span class="op" id="7860429">,</span>&nbsp;<span class="ident" id="7860431">state</span><span class="op" id="7860436">,</span>&nbsp;<span class="ident" id="7860438">value</span><span class="op" id="7860443">.</span><span class="ident" id="7860444">Elem</span><span class="op" id="7860448">(</span><span class="op" id="7860449">)</span><span class="op" id="7860450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860453">state</span><span class="op" id="7860458">.</span><span class="ident" id="7860459">fieldnum</span>&nbsp;<span class="op" id="7860468">=</span>&nbsp;<span class="num" id="7860470">6</span><br>
<span class="lineno"></span><span class="op" id="7860472">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="7860475">func</span>&nbsp;<span class="ident" id="7860480">newDecodeStateFromData</span><span class="op" id="7860502">(</span><span class="ident" id="7860503">data</span>&nbsp;<span class="op" id="7860508">[</span><span class="op" id="7860509">]</span><span class="builtintype" id="7860510">byte</span><span class="op" id="7860514">)</span>&nbsp;<span class="op" id="7860516">*</span><span class="ident" id="7860517">decoderState</span>&nbsp;<span class="op" id="7860530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860533">b</span>&nbsp;<span class="op" id="7860535">:=</span>&nbsp;<span class="ident" id="7860538">newDecBuffer</span><span class="op" id="7860550">(</span><span class="ident" id="7860551">data</span><span class="op" id="7860555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860558">state</span>&nbsp;<span class="op" id="7860564">:=</span>&nbsp;<span class="ident" id="7860567">newDecodeState</span><span class="op" id="7860581">(</span><span class="ident" id="7860582">b</span><span class="op" id="7860583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860586">state</span><span class="op" id="7860591">.</span><span class="ident" id="7860592">fieldnum</span>&nbsp;<span class="op" id="7860601">=</span>&nbsp;<span class="op" id="7860603">-</span><span class="num" id="7860604">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7860607">return</span>&nbsp;<span class="ident" id="7860614">state</span><br>
<span class="lineno"></span><span class="op" id="7860620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7860623">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="7860667">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="7860750">func</span>&nbsp;<span class="ident" id="7860755">TestScalarDecInstructions</span><span class="op" id="7860780">(</span><span class="ident" id="7860781">t</span>&nbsp;<span class="op" id="7860783">*</span><span class="ident" id="7860784">testing</span><span class="op" id="7860791">.</span><span class="ident" id="7860792">T</span><span class="op" id="7860793">)</span>&nbsp;<span class="op" id="7860795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860798">ovfl</span>&nbsp;<span class="op" id="7860803">:=</span>&nbsp;<span class="ident" id="7860806">errors</span><span class="op" id="7860812">.</span><span class="ident" id="7860813">New</span><span class="op" id="7860816">(</span><span class="string" id="7860817">&#34;overflow&#34;</span><span class="op" id="7860827">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7860831">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7860840">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7860844">var</span>&nbsp;<span class="ident" id="7860848">data</span>&nbsp;<span class="builtintype" id="7860853">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860860">instr</span>&nbsp;<span class="op" id="7860866">:=</span>&nbsp;<span class="op" id="7860869">&amp;</span><span class="ident" id="7860870">decInstr</span><span class="op" id="7860878">{</span><span class="ident" id="7860879">decBool</span><span class="op" id="7860886">,</span>&nbsp;<span class="num" id="7860888">6</span><span class="op" id="7860889">,</span>&nbsp;<span class="ident" id="7860891">nil</span><span class="op" id="7860894">,</span>&nbsp;<span class="ident" id="7860896">ovfl</span><span class="op" id="7860900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860904">state</span>&nbsp;<span class="op" id="7860910">:=</span>&nbsp;<span class="ident" id="7860913">newDecodeStateFromData</span><span class="op" id="7860935">(</span><span class="ident" id="7860936">boolResult</span><span class="op" id="7860946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860950">execDec</span><span class="op" id="7860957">(</span><span class="string" id="7860958">&#34;bool&#34;</span><span class="op" id="7860964">,</span>&nbsp;<span class="ident" id="7860966">instr</span><span class="op" id="7860971">,</span>&nbsp;<span class="ident" id="7860973">state</span><span class="op" id="7860978">,</span>&nbsp;<span class="ident" id="7860980">t</span><span class="op" id="7860981">,</span>&nbsp;<span class="ident" id="7860983">reflect</span><span class="op" id="7860990">.</span><span class="ident" id="7860991">ValueOf</span><span class="op" id="7860998">(</span><span class="op" id="7860999">&amp;</span><span class="ident" id="7861000">data</span><span class="op" id="7861004">)</span><span class="op" id="7861005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861009">if</span>&nbsp;<span class="ident" id="7861012">data</span>&nbsp;<span class="op" id="7861017">!=</span>&nbsp;<span class="builtintype" id="7861020">true</span>&nbsp;<span class="op" id="7861025">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861030">t</span><span class="op" id="7861031">.</span><span class="ident" id="7861032">Errorf</span><span class="op" id="7861038">(</span><span class="string" id="7861039">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="7861061">,</span>&nbsp;<span class="ident" id="7861063">data</span><span class="op" id="7861067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7861077">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861085">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861089">var</span>&nbsp;<span class="ident" id="7861093">data</span>&nbsp;<span class="builtintype" id="7861098">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861104">instr</span>&nbsp;<span class="op" id="7861110">:=</span>&nbsp;<span class="op" id="7861113">&amp;</span><span class="ident" id="7861114">decInstr</span><span class="op" id="7861122">{</span><span class="ident" id="7861123">decOpTable</span><span class="op" id="7861133">[</span><span class="ident" id="7861134">reflect</span><span class="op" id="7861141">.</span><span class="ident" id="7861142">Int</span><span class="op" id="7861145">]</span><span class="op" id="7861146">,</span>&nbsp;<span class="num" id="7861148">6</span><span class="op" id="7861149">,</span>&nbsp;<span class="ident" id="7861151">nil</span><span class="op" id="7861154">,</span>&nbsp;<span class="ident" id="7861156">ovfl</span><span class="op" id="7861160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861164">state</span>&nbsp;<span class="op" id="7861170">:=</span>&nbsp;<span class="ident" id="7861173">newDecodeStateFromData</span><span class="op" id="7861195">(</span><span class="ident" id="7861196">signedResult</span><span class="op" id="7861208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861212">execDec</span><span class="op" id="7861219">(</span><span class="string" id="7861220">&#34;int&#34;</span><span class="op" id="7861225">,</span>&nbsp;<span class="ident" id="7861227">instr</span><span class="op" id="7861232">,</span>&nbsp;<span class="ident" id="7861234">state</span><span class="op" id="7861239">,</span>&nbsp;<span class="ident" id="7861241">t</span><span class="op" id="7861242">,</span>&nbsp;<span class="ident" id="7861244">reflect</span><span class="op" id="7861251">.</span><span class="ident" id="7861252">ValueOf</span><span class="op" id="7861259">(</span><span class="op" id="7861260">&amp;</span><span class="ident" id="7861261">data</span><span class="op" id="7861265">)</span><span class="op" id="7861266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861270">if</span>&nbsp;<span class="ident" id="7861273">data</span>&nbsp;<span class="op" id="7861278">!=</span>&nbsp;<span class="num" id="7861281">17</span>&nbsp;<span class="op" id="7861284">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861289">t</span><span class="op" id="7861290">.</span><span class="ident" id="7861291">Errorf</span><span class="op" id="7861297">(</span><span class="string" id="7861298">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7861317">,</span>&nbsp;<span class="ident" id="7861319">data</span><span class="op" id="7861323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7861334">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861347">var</span>&nbsp;<span class="ident" id="7861351">data</span>&nbsp;<span class="builtintype" id="7861356">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861363">instr</span>&nbsp;<span class="op" id="7861369">:=</span>&nbsp;<span class="op" id="7861372">&amp;</span><span class="ident" id="7861373">decInstr</span><span class="op" id="7861381">{</span><span class="ident" id="7861382">decOpTable</span><span class="op" id="7861392">[</span><span class="ident" id="7861393">reflect</span><span class="op" id="7861400">.</span><span class="ident" id="7861401">Uint</span><span class="op" id="7861405">]</span><span class="op" id="7861406">,</span>&nbsp;<span class="num" id="7861408">6</span><span class="op" id="7861409">,</span>&nbsp;<span class="ident" id="7861411">nil</span><span class="op" id="7861414">,</span>&nbsp;<span class="ident" id="7861416">ovfl</span><span class="op" id="7861420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861424">state</span>&nbsp;<span class="op" id="7861430">:=</span>&nbsp;<span class="ident" id="7861433">newDecodeStateFromData</span><span class="op" id="7861455">(</span><span class="ident" id="7861456">unsignedResult</span><span class="op" id="7861470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861474">execDec</span><span class="op" id="7861481">(</span><span class="string" id="7861482">&#34;uint&#34;</span><span class="op" id="7861488">,</span>&nbsp;<span class="ident" id="7861490">instr</span><span class="op" id="7861495">,</span>&nbsp;<span class="ident" id="7861497">state</span><span class="op" id="7861502">,</span>&nbsp;<span class="ident" id="7861504">t</span><span class="op" id="7861505">,</span>&nbsp;<span class="ident" id="7861507">reflect</span><span class="op" id="7861514">.</span><span class="ident" id="7861515">ValueOf</span><span class="op" id="7861522">(</span><span class="op" id="7861523">&amp;</span><span class="ident" id="7861524">data</span><span class="op" id="7861528">)</span><span class="op" id="7861529">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861533">if</span>&nbsp;<span class="ident" id="7861536">data</span>&nbsp;<span class="op" id="7861541">!=</span>&nbsp;<span class="num" id="7861544">17</span>&nbsp;<span class="op" id="7861547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861552">t</span><span class="op" id="7861553">.</span><span class="ident" id="7861554">Errorf</span><span class="op" id="7861560">(</span><span class="string" id="7861561">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7861581">,</span>&nbsp;<span class="ident" id="7861583">data</span><span class="op" id="7861587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7861598">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861611">var</span>&nbsp;<span class="ident" id="7861615">data</span>&nbsp;<span class="builtintype" id="7861620">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861627">instr</span>&nbsp;<span class="op" id="7861633">:=</span>&nbsp;<span class="op" id="7861636">&amp;</span><span class="ident" id="7861637">decInstr</span><span class="op" id="7861645">{</span><span class="ident" id="7861646">decInt8</span><span class="op" id="7861653">,</span>&nbsp;<span class="num" id="7861655">6</span><span class="op" id="7861656">,</span>&nbsp;<span class="ident" id="7861658">nil</span><span class="op" id="7861661">,</span>&nbsp;<span class="ident" id="7861663">ovfl</span><span class="op" id="7861667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861671">state</span>&nbsp;<span class="op" id="7861677">:=</span>&nbsp;<span class="ident" id="7861680">newDecodeStateFromData</span><span class="op" id="7861702">(</span><span class="ident" id="7861703">signedResult</span><span class="op" id="7861715">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861719">execDec</span><span class="op" id="7861726">(</span><span class="string" id="7861727">&#34;int8&#34;</span><span class="op" id="7861733">,</span>&nbsp;<span class="ident" id="7861735">instr</span><span class="op" id="7861740">,</span>&nbsp;<span class="ident" id="7861742">state</span><span class="op" id="7861747">,</span>&nbsp;<span class="ident" id="7861749">t</span><span class="op" id="7861750">,</span>&nbsp;<span class="ident" id="7861752">reflect</span><span class="op" id="7861759">.</span><span class="ident" id="7861760">ValueOf</span><span class="op" id="7861767">(</span><span class="op" id="7861768">&amp;</span><span class="ident" id="7861769">data</span><span class="op" id="7861773">)</span><span class="op" id="7861774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861778">if</span>&nbsp;<span class="ident" id="7861781">data</span>&nbsp;<span class="op" id="7861786">!=</span>&nbsp;<span class="num" id="7861789">17</span>&nbsp;<span class="op" id="7861792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861797">t</span><span class="op" id="7861798">.</span><span class="ident" id="7861799">Errorf</span><span class="op" id="7861805">(</span><span class="string" id="7861806">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7861826">,</span>&nbsp;<span class="ident" id="7861828">data</span><span class="op" id="7861832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861839">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7861843">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861857">var</span>&nbsp;<span class="ident" id="7861861">data</span>&nbsp;<span class="builtintype" id="7861866">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861874">instr</span>&nbsp;<span class="op" id="7861880">:=</span>&nbsp;<span class="op" id="7861883">&amp;</span><span class="ident" id="7861884">decInstr</span><span class="op" id="7861892">{</span><span class="ident" id="7861893">decUint8</span><span class="op" id="7861901">,</span>&nbsp;<span class="num" id="7861903">6</span><span class="op" id="7861904">,</span>&nbsp;<span class="ident" id="7861906">nil</span><span class="op" id="7861909">,</span>&nbsp;<span class="ident" id="7861911">ovfl</span><span class="op" id="7861915">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861919">state</span>&nbsp;<span class="op" id="7861925">:=</span>&nbsp;<span class="ident" id="7861928">newDecodeStateFromData</span><span class="op" id="7861950">(</span><span class="ident" id="7861951">unsignedResult</span><span class="op" id="7861965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861969">execDec</span><span class="op" id="7861976">(</span><span class="string" id="7861977">&#34;uint8&#34;</span><span class="op" id="7861984">,</span>&nbsp;<span class="ident" id="7861986">instr</span><span class="op" id="7861991">,</span>&nbsp;<span class="ident" id="7861993">state</span><span class="op" id="7861998">,</span>&nbsp;<span class="ident" id="7862000">t</span><span class="op" id="7862001">,</span>&nbsp;<span class="ident" id="7862003">reflect</span><span class="op" id="7862010">.</span><span class="ident" id="7862011">ValueOf</span><span class="op" id="7862018">(</span><span class="op" id="7862019">&amp;</span><span class="ident" id="7862020">data</span><span class="op" id="7862024">)</span><span class="op" id="7862025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862029">if</span>&nbsp;<span class="ident" id="7862032">data</span>&nbsp;<span class="op" id="7862037">!=</span>&nbsp;<span class="num" id="7862040">17</span>&nbsp;<span class="op" id="7862043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862048">t</span><span class="op" id="7862049">.</span><span class="ident" id="7862050">Errorf</span><span class="op" id="7862056">(</span><span class="string" id="7862057">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7862078">,</span>&nbsp;<span class="ident" id="7862080">data</span><span class="op" id="7862084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862088">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7862095">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862109">var</span>&nbsp;<span class="ident" id="7862113">data</span>&nbsp;<span class="builtintype" id="7862118">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862126">instr</span>&nbsp;<span class="op" id="7862132">:=</span>&nbsp;<span class="op" id="7862135">&amp;</span><span class="ident" id="7862136">decInstr</span><span class="op" id="7862144">{</span><span class="ident" id="7862145">decInt16</span><span class="op" id="7862153">,</span>&nbsp;<span class="num" id="7862155">6</span><span class="op" id="7862156">,</span>&nbsp;<span class="ident" id="7862158">nil</span><span class="op" id="7862161">,</span>&nbsp;<span class="ident" id="7862163">ovfl</span><span class="op" id="7862167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862171">state</span>&nbsp;<span class="op" id="7862177">:=</span>&nbsp;<span class="ident" id="7862180">newDecodeStateFromData</span><span class="op" id="7862202">(</span><span class="ident" id="7862203">signedResult</span><span class="op" id="7862215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862219">execDec</span><span class="op" id="7862226">(</span><span class="string" id="7862227">&#34;int16&#34;</span><span class="op" id="7862234">,</span>&nbsp;<span class="ident" id="7862236">instr</span><span class="op" id="7862241">,</span>&nbsp;<span class="ident" id="7862243">state</span><span class="op" id="7862248">,</span>&nbsp;<span class="ident" id="7862250">t</span><span class="op" id="7862251">,</span>&nbsp;<span class="ident" id="7862253">reflect</span><span class="op" id="7862260">.</span><span class="ident" id="7862261">ValueOf</span><span class="op" id="7862268">(</span><span class="op" id="7862269">&amp;</span><span class="ident" id="7862270">data</span><span class="op" id="7862274">)</span><span class="op" id="7862275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862279">if</span>&nbsp;<span class="ident" id="7862282">data</span>&nbsp;<span class="op" id="7862287">!=</span>&nbsp;<span class="num" id="7862290">17</span>&nbsp;<span class="op" id="7862293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862298">t</span><span class="op" id="7862299">.</span><span class="ident" id="7862300">Errorf</span><span class="op" id="7862306">(</span><span class="string" id="7862307">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7862328">,</span>&nbsp;<span class="ident" id="7862330">data</span><span class="op" id="7862334">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862341">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7862345">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862356">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862360">var</span>&nbsp;<span class="ident" id="7862364">data</span>&nbsp;<span class="builtintype" id="7862369">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862378">instr</span>&nbsp;<span class="op" id="7862384">:=</span>&nbsp;<span class="op" id="7862387">&amp;</span><span class="ident" id="7862388">decInstr</span><span class="op" id="7862396">{</span><span class="ident" id="7862397">decUint16</span><span class="op" id="7862406">,</span>&nbsp;<span class="num" id="7862408">6</span><span class="op" id="7862409">,</span>&nbsp;<span class="ident" id="7862411">nil</span><span class="op" id="7862414">,</span>&nbsp;<span class="ident" id="7862416">ovfl</span><span class="op" id="7862420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862424">state</span>&nbsp;<span class="op" id="7862430">:=</span>&nbsp;<span class="ident" id="7862433">newDecodeStateFromData</span><span class="op" id="7862455">(</span><span class="ident" id="7862456">unsignedResult</span><span class="op" id="7862470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862474">execDec</span><span class="op" id="7862481">(</span><span class="string" id="7862482">&#34;uint16&#34;</span><span class="op" id="7862490">,</span>&nbsp;<span class="ident" id="7862492">instr</span><span class="op" id="7862497">,</span>&nbsp;<span class="ident" id="7862499">state</span><span class="op" id="7862504">,</span>&nbsp;<span class="ident" id="7862506">t</span><span class="op" id="7862507">,</span>&nbsp;<span class="ident" id="7862509">reflect</span><span class="op" id="7862516">.</span><span class="ident" id="7862517">ValueOf</span><span class="op" id="7862524">(</span><span class="op" id="7862525">&amp;</span><span class="ident" id="7862526">data</span><span class="op" id="7862530">)</span><span class="op" id="7862531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862535">if</span>&nbsp;<span class="ident" id="7862538">data</span>&nbsp;<span class="op" id="7862543">!=</span>&nbsp;<span class="num" id="7862546">17</span>&nbsp;<span class="op" id="7862549">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862554">t</span><span class="op" id="7862555">.</span><span class="ident" id="7862556">Errorf</span><span class="op" id="7862562">(</span><span class="string" id="7862563">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7862585">,</span>&nbsp;<span class="ident" id="7862587">data</span><span class="op" id="7862591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7862602">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862616">var</span>&nbsp;<span class="ident" id="7862620">data</span>&nbsp;<span class="builtintype" id="7862625">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862633">instr</span>&nbsp;<span class="op" id="7862639">:=</span>&nbsp;<span class="op" id="7862642">&amp;</span><span class="ident" id="7862643">decInstr</span><span class="op" id="7862651">{</span><span class="ident" id="7862652">decInt32</span><span class="op" id="7862660">,</span>&nbsp;<span class="num" id="7862662">6</span><span class="op" id="7862663">,</span>&nbsp;<span class="ident" id="7862665">nil</span><span class="op" id="7862668">,</span>&nbsp;<span class="ident" id="7862670">ovfl</span><span class="op" id="7862674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862678">state</span>&nbsp;<span class="op" id="7862684">:=</span>&nbsp;<span class="ident" id="7862687">newDecodeStateFromData</span><span class="op" id="7862709">(</span><span class="ident" id="7862710">signedResult</span><span class="op" id="7862722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862726">execDec</span><span class="op" id="7862733">(</span><span class="string" id="7862734">&#34;int32&#34;</span><span class="op" id="7862741">,</span>&nbsp;<span class="ident" id="7862743">instr</span><span class="op" id="7862748">,</span>&nbsp;<span class="ident" id="7862750">state</span><span class="op" id="7862755">,</span>&nbsp;<span class="ident" id="7862757">t</span><span class="op" id="7862758">,</span>&nbsp;<span class="ident" id="7862760">reflect</span><span class="op" id="7862767">.</span><span class="ident" id="7862768">ValueOf</span><span class="op" id="7862775">(</span><span class="op" id="7862776">&amp;</span><span class="ident" id="7862777">data</span><span class="op" id="7862781">)</span><span class="op" id="7862782">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862786">if</span>&nbsp;<span class="ident" id="7862789">data</span>&nbsp;<span class="op" id="7862794">!=</span>&nbsp;<span class="num" id="7862797">17</span>&nbsp;<span class="op" id="7862800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862805">t</span><span class="op" id="7862806">.</span><span class="ident" id="7862807">Errorf</span><span class="op" id="7862813">(</span><span class="string" id="7862814">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7862835">,</span>&nbsp;<span class="ident" id="7862837">data</span><span class="op" id="7862841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7862852">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862867">var</span>&nbsp;<span class="ident" id="7862871">data</span>&nbsp;<span class="builtintype" id="7862876">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862885">instr</span>&nbsp;<span class="op" id="7862891">:=</span>&nbsp;<span class="op" id="7862894">&amp;</span><span class="ident" id="7862895">decInstr</span><span class="op" id="7862903">{</span><span class="ident" id="7862904">decUint32</span><span class="op" id="7862913">,</span>&nbsp;<span class="num" id="7862915">6</span><span class="op" id="7862916">,</span>&nbsp;<span class="ident" id="7862918">nil</span><span class="op" id="7862921">,</span>&nbsp;<span class="ident" id="7862923">ovfl</span><span class="op" id="7862927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862931">state</span>&nbsp;<span class="op" id="7862937">:=</span>&nbsp;<span class="ident" id="7862940">newDecodeStateFromData</span><span class="op" id="7862962">(</span><span class="ident" id="7862963">unsignedResult</span><span class="op" id="7862977">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862981">execDec</span><span class="op" id="7862988">(</span><span class="string" id="7862989">&#34;uint32&#34;</span><span class="op" id="7862997">,</span>&nbsp;<span class="ident" id="7862999">instr</span><span class="op" id="7863004">,</span>&nbsp;<span class="ident" id="7863006">state</span><span class="op" id="7863011">,</span>&nbsp;<span class="ident" id="7863013">t</span><span class="op" id="7863014">,</span>&nbsp;<span class="ident" id="7863016">reflect</span><span class="op" id="7863023">.</span><span class="ident" id="7863024">ValueOf</span><span class="op" id="7863031">(</span><span class="op" id="7863032">&amp;</span><span class="ident" id="7863033">data</span><span class="op" id="7863037">)</span><span class="op" id="7863038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863042">if</span>&nbsp;<span class="ident" id="7863045">data</span>&nbsp;<span class="op" id="7863050">!=</span>&nbsp;<span class="num" id="7863053">17</span>&nbsp;<span class="op" id="7863056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863061">t</span><span class="op" id="7863062">.</span><span class="ident" id="7863063">Errorf</span><span class="op" id="7863069">(</span><span class="string" id="7863070">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7863092">,</span>&nbsp;<span class="ident" id="7863094">data</span><span class="op" id="7863098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863105">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7863109">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863125">var</span>&nbsp;<span class="ident" id="7863129">data</span>&nbsp;<span class="builtintype" id="7863134">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863144">instr</span>&nbsp;<span class="op" id="7863150">:=</span>&nbsp;<span class="op" id="7863153">&amp;</span><span class="ident" id="7863154">decInstr</span><span class="op" id="7863162">{</span><span class="ident" id="7863163">decOpTable</span><span class="op" id="7863173">[</span><span class="ident" id="7863174">reflect</span><span class="op" id="7863181">.</span><span class="ident" id="7863182">Uintptr</span><span class="op" id="7863189">]</span><span class="op" id="7863190">,</span>&nbsp;<span class="num" id="7863192">6</span><span class="op" id="7863193">,</span>&nbsp;<span class="ident" id="7863195">nil</span><span class="op" id="7863198">,</span>&nbsp;<span class="ident" id="7863200">ovfl</span><span class="op" id="7863204">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863208">state</span>&nbsp;<span class="op" id="7863214">:=</span>&nbsp;<span class="ident" id="7863217">newDecodeStateFromData</span><span class="op" id="7863239">(</span><span class="ident" id="7863240">unsignedResult</span><span class="op" id="7863254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863258">execDec</span><span class="op" id="7863265">(</span><span class="string" id="7863266">&#34;uintptr&#34;</span><span class="op" id="7863275">,</span>&nbsp;<span class="ident" id="7863277">instr</span><span class="op" id="7863282">,</span>&nbsp;<span class="ident" id="7863284">state</span><span class="op" id="7863289">,</span>&nbsp;<span class="ident" id="7863291">t</span><span class="op" id="7863292">,</span>&nbsp;<span class="ident" id="7863294">reflect</span><span class="op" id="7863301">.</span><span class="ident" id="7863302">ValueOf</span><span class="op" id="7863309">(</span><span class="op" id="7863310">&amp;</span><span class="ident" id="7863311">data</span><span class="op" id="7863315">)</span><span class="op" id="7863316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863320">if</span>&nbsp;<span class="ident" id="7863323">data</span>&nbsp;<span class="op" id="7863328">!=</span>&nbsp;<span class="num" id="7863331">17</span>&nbsp;<span class="op" id="7863334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863339">t</span><span class="op" id="7863340">.</span><span class="ident" id="7863341">Errorf</span><span class="op" id="7863347">(</span><span class="string" id="7863348">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7863371">,</span>&nbsp;<span class="ident" id="7863373">data</span><span class="op" id="7863377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863381">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7863388">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863402">var</span>&nbsp;<span class="ident" id="7863406">data</span>&nbsp;<span class="ident" id="7863411">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863419">instr</span>&nbsp;<span class="op" id="7863425">:=</span>&nbsp;<span class="op" id="7863428">&amp;</span><span class="ident" id="7863429">decInstr</span><span class="op" id="7863437">{</span><span class="ident" id="7863438">decInt64</span><span class="op" id="7863446">,</span>&nbsp;<span class="num" id="7863448">6</span><span class="op" id="7863449">,</span>&nbsp;<span class="ident" id="7863451">nil</span><span class="op" id="7863454">,</span>&nbsp;<span class="ident" id="7863456">ovfl</span><span class="op" id="7863460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863464">state</span>&nbsp;<span class="op" id="7863470">:=</span>&nbsp;<span class="ident" id="7863473">newDecodeStateFromData</span><span class="op" id="7863495">(</span><span class="ident" id="7863496">signedResult</span><span class="op" id="7863508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863512">execDec</span><span class="op" id="7863519">(</span><span class="string" id="7863520">&#34;int64&#34;</span><span class="op" id="7863527">,</span>&nbsp;<span class="ident" id="7863529">instr</span><span class="op" id="7863534">,</span>&nbsp;<span class="ident" id="7863536">state</span><span class="op" id="7863541">,</span>&nbsp;<span class="ident" id="7863543">t</span><span class="op" id="7863544">,</span>&nbsp;<span class="ident" id="7863546">reflect</span><span class="op" id="7863553">.</span><span class="ident" id="7863554">ValueOf</span><span class="op" id="7863561">(</span><span class="op" id="7863562">&amp;</span><span class="ident" id="7863563">data</span><span class="op" id="7863567">)</span><span class="op" id="7863568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863572">if</span>&nbsp;<span class="ident" id="7863575">data</span>&nbsp;<span class="op" id="7863580">!=</span>&nbsp;<span class="num" id="7863583">17</span>&nbsp;<span class="op" id="7863586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863591">t</span><span class="op" id="7863592">.</span><span class="ident" id="7863593">Errorf</span><span class="op" id="7863599">(</span><span class="string" id="7863600">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7863621">,</span>&nbsp;<span class="ident" id="7863623">data</span><span class="op" id="7863627">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7863638">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863649">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863653">var</span>&nbsp;<span class="ident" id="7863657">data</span>&nbsp;<span class="ident" id="7863662">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863671">instr</span>&nbsp;<span class="op" id="7863677">:=</span>&nbsp;<span class="op" id="7863680">&amp;</span><span class="ident" id="7863681">decInstr</span><span class="op" id="7863689">{</span><span class="ident" id="7863690">decUint64</span><span class="op" id="7863699">,</span>&nbsp;<span class="num" id="7863701">6</span><span class="op" id="7863702">,</span>&nbsp;<span class="ident" id="7863704">nil</span><span class="op" id="7863707">,</span>&nbsp;<span class="ident" id="7863709">ovfl</span><span class="op" id="7863713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863717">state</span>&nbsp;<span class="op" id="7863723">:=</span>&nbsp;<span class="ident" id="7863726">newDecodeStateFromData</span><span class="op" id="7863748">(</span><span class="ident" id="7863749">unsignedResult</span><span class="op" id="7863763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863767">execDec</span><span class="op" id="7863774">(</span><span class="string" id="7863775">&#34;uint64&#34;</span><span class="op" id="7863783">,</span>&nbsp;<span class="ident" id="7863785">instr</span><span class="op" id="7863790">,</span>&nbsp;<span class="ident" id="7863792">state</span><span class="op" id="7863797">,</span>&nbsp;<span class="ident" id="7863799">t</span><span class="op" id="7863800">,</span>&nbsp;<span class="ident" id="7863802">reflect</span><span class="op" id="7863809">.</span><span class="ident" id="7863810">ValueOf</span><span class="op" id="7863817">(</span><span class="op" id="7863818">&amp;</span><span class="ident" id="7863819">data</span><span class="op" id="7863823">)</span><span class="op" id="7863824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863828">if</span>&nbsp;<span class="ident" id="7863831">data</span>&nbsp;<span class="op" id="7863836">!=</span>&nbsp;<span class="num" id="7863839">17</span>&nbsp;<span class="op" id="7863842">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863847">t</span><span class="op" id="7863848">.</span><span class="ident" id="7863849">Errorf</span><span class="op" id="7863855">(</span><span class="string" id="7863856">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7863878">,</span>&nbsp;<span class="ident" id="7863880">data</span><span class="op" id="7863884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7863895">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863911">var</span>&nbsp;<span class="ident" id="7863915">data</span>&nbsp;<span class="builtintype" id="7863920">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863930">instr</span>&nbsp;<span class="op" id="7863936">:=</span>&nbsp;<span class="op" id="7863939">&amp;</span><span class="ident" id="7863940">decInstr</span><span class="op" id="7863948">{</span><span class="ident" id="7863949">decFloat32</span><span class="op" id="7863959">,</span>&nbsp;<span class="num" id="7863961">6</span><span class="op" id="7863962">,</span>&nbsp;<span class="ident" id="7863964">nil</span><span class="op" id="7863967">,</span>&nbsp;<span class="ident" id="7863969">ovfl</span><span class="op" id="7863973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863977">state</span>&nbsp;<span class="op" id="7863983">:=</span>&nbsp;<span class="ident" id="7863986">newDecodeStateFromData</span><span class="op" id="7864008">(</span><span class="ident" id="7864009">floatResult</span><span class="op" id="7864020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864024">execDec</span><span class="op" id="7864031">(</span><span class="string" id="7864032">&#34;float32&#34;</span><span class="op" id="7864041">,</span>&nbsp;<span class="ident" id="7864043">instr</span><span class="op" id="7864048">,</span>&nbsp;<span class="ident" id="7864050">state</span><span class="op" id="7864055">,</span>&nbsp;<span class="ident" id="7864057">t</span><span class="op" id="7864058">,</span>&nbsp;<span class="ident" id="7864060">reflect</span><span class="op" id="7864067">.</span><span class="ident" id="7864068">ValueOf</span><span class="op" id="7864075">(</span><span class="op" id="7864076">&amp;</span><span class="ident" id="7864077">data</span><span class="op" id="7864081">)</span><span class="op" id="7864082">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864086">if</span>&nbsp;<span class="ident" id="7864089">data</span>&nbsp;<span class="op" id="7864094">!=</span>&nbsp;<span class="num" id="7864097">17</span>&nbsp;<span class="op" id="7864100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864105">t</span><span class="op" id="7864106">.</span><span class="ident" id="7864107">Errorf</span><span class="op" id="7864113">(</span><span class="string" id="7864114">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7864137">,</span>&nbsp;<span class="ident" id="7864139">data</span><span class="op" id="7864143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864147">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7864154">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864170">var</span>&nbsp;<span class="ident" id="7864174">data</span>&nbsp;<span class="builtintype" id="7864179">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864189">instr</span>&nbsp;<span class="op" id="7864195">:=</span>&nbsp;<span class="op" id="7864198">&amp;</span><span class="ident" id="7864199">decInstr</span><span class="op" id="7864207">{</span><span class="ident" id="7864208">decFloat64</span><span class="op" id="7864218">,</span>&nbsp;<span class="num" id="7864220">6</span><span class="op" id="7864221">,</span>&nbsp;<span class="ident" id="7864223">nil</span><span class="op" id="7864226">,</span>&nbsp;<span class="ident" id="7864228">ovfl</span><span class="op" id="7864232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864236">state</span>&nbsp;<span class="op" id="7864242">:=</span>&nbsp;<span class="ident" id="7864245">newDecodeStateFromData</span><span class="op" id="7864267">(</span><span class="ident" id="7864268">floatResult</span><span class="op" id="7864279">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864283">execDec</span><span class="op" id="7864290">(</span><span class="string" id="7864291">&#34;float64&#34;</span><span class="op" id="7864300">,</span>&nbsp;<span class="ident" id="7864302">instr</span><span class="op" id="7864307">,</span>&nbsp;<span class="ident" id="7864309">state</span><span class="op" id="7864314">,</span>&nbsp;<span class="ident" id="7864316">t</span><span class="op" id="7864317">,</span>&nbsp;<span class="ident" id="7864319">reflect</span><span class="op" id="7864326">.</span><span class="ident" id="7864327">ValueOf</span><span class="op" id="7864334">(</span><span class="op" id="7864335">&amp;</span><span class="ident" id="7864336">data</span><span class="op" id="7864340">)</span><span class="op" id="7864341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864345">if</span>&nbsp;<span class="ident" id="7864348">data</span>&nbsp;<span class="op" id="7864353">!=</span>&nbsp;<span class="num" id="7864356">17</span>&nbsp;<span class="op" id="7864359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864364">t</span><span class="op" id="7864365">.</span><span class="ident" id="7864366">Errorf</span><span class="op" id="7864372">(</span><span class="string" id="7864373">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="7864396">,</span>&nbsp;<span class="ident" id="7864398">data</span><span class="op" id="7864402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864409">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7864413">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864431">var</span>&nbsp;<span class="ident" id="7864435">data</span>&nbsp;<span class="builtintype" id="7864440">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864452">instr</span>&nbsp;<span class="op" id="7864458">:=</span>&nbsp;<span class="op" id="7864461">&amp;</span><span class="ident" id="7864462">decInstr</span><span class="op" id="7864470">{</span><span class="ident" id="7864471">decOpTable</span><span class="op" id="7864481">[</span><span class="ident" id="7864482">reflect</span><span class="op" id="7864489">.</span><span class="ident" id="7864490">Complex64</span><span class="op" id="7864499">]</span><span class="op" id="7864500">,</span>&nbsp;<span class="num" id="7864502">6</span><span class="op" id="7864503">,</span>&nbsp;<span class="ident" id="7864505">nil</span><span class="op" id="7864508">,</span>&nbsp;<span class="ident" id="7864510">ovfl</span><span class="op" id="7864514">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864518">state</span>&nbsp;<span class="op" id="7864524">:=</span>&nbsp;<span class="ident" id="7864527">newDecodeStateFromData</span><span class="op" id="7864549">(</span><span class="ident" id="7864550">complexResult</span><span class="op" id="7864563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864567">execDec</span><span class="op" id="7864574">(</span><span class="string" id="7864575">&#34;complex&#34;</span><span class="op" id="7864584">,</span>&nbsp;<span class="ident" id="7864586">instr</span><span class="op" id="7864591">,</span>&nbsp;<span class="ident" id="7864593">state</span><span class="op" id="7864598">,</span>&nbsp;<span class="ident" id="7864600">t</span><span class="op" id="7864601">,</span>&nbsp;<span class="ident" id="7864603">reflect</span><span class="op" id="7864610">.</span><span class="ident" id="7864611">ValueOf</span><span class="op" id="7864618">(</span><span class="op" id="7864619">&amp;</span><span class="ident" id="7864620">data</span><span class="op" id="7864624">)</span><span class="op" id="7864625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864629">if</span>&nbsp;<span class="ident" id="7864632">data</span>&nbsp;<span class="op" id="7864637">!=</span>&nbsp;<span class="num" id="7864640">17</span><span class="op" id="7864642">+</span><span class="num" id="7864643">19i</span>&nbsp;<span class="op" id="7864647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864652">t</span><span class="op" id="7864653">.</span><span class="ident" id="7864654">Errorf</span><span class="op" id="7864660">(</span><span class="string" id="7864661">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="7864688">,</span>&nbsp;<span class="ident" id="7864690">data</span><span class="op" id="7864694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864698">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7864705">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864724">var</span>&nbsp;<span class="ident" id="7864728">data</span>&nbsp;<span class="builtintype" id="7864733">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864746">instr</span>&nbsp;<span class="op" id="7864752">:=</span>&nbsp;<span class="op" id="7864755">&amp;</span><span class="ident" id="7864756">decInstr</span><span class="op" id="7864764">{</span><span class="ident" id="7864765">decOpTable</span><span class="op" id="7864775">[</span><span class="ident" id="7864776">reflect</span><span class="op" id="7864783">.</span><span class="ident" id="7864784">Complex128</span><span class="op" id="7864794">]</span><span class="op" id="7864795">,</span>&nbsp;<span class="num" id="7864797">6</span><span class="op" id="7864798">,</span>&nbsp;<span class="ident" id="7864800">nil</span><span class="op" id="7864803">,</span>&nbsp;<span class="ident" id="7864805">ovfl</span><span class="op" id="7864809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864813">state</span>&nbsp;<span class="op" id="7864819">:=</span>&nbsp;<span class="ident" id="7864822">newDecodeStateFromData</span><span class="op" id="7864844">(</span><span class="ident" id="7864845">complexResult</span><span class="op" id="7864858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864862">execDec</span><span class="op" id="7864869">(</span><span class="string" id="7864870">&#34;complex&#34;</span><span class="op" id="7864879">,</span>&nbsp;<span class="ident" id="7864881">instr</span><span class="op" id="7864886">,</span>&nbsp;<span class="ident" id="7864888">state</span><span class="op" id="7864893">,</span>&nbsp;<span class="ident" id="7864895">t</span><span class="op" id="7864896">,</span>&nbsp;<span class="ident" id="7864898">reflect</span><span class="op" id="7864905">.</span><span class="ident" id="7864906">ValueOf</span><span class="op" id="7864913">(</span><span class="op" id="7864914">&amp;</span><span class="ident" id="7864915">data</span><span class="op" id="7864919">)</span><span class="op" id="7864920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864924">if</span>&nbsp;<span class="ident" id="7864927">data</span>&nbsp;<span class="op" id="7864932">!=</span>&nbsp;<span class="num" id="7864935">17</span><span class="op" id="7864937">+</span><span class="num" id="7864938">19i</span>&nbsp;<span class="op" id="7864942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864947">t</span><span class="op" id="7864948">.</span><span class="ident" id="7864949">Errorf</span><span class="op" id="7864955">(</span><span class="string" id="7864956">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="7864983">,</span>&nbsp;<span class="ident" id="7864985">data</span><span class="op" id="7864989">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864993">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864996">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7865000">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865021">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865025">var</span>&nbsp;<span class="ident" id="7865029">data</span>&nbsp;<span class="op" id="7865034">[</span><span class="op" id="7865035">]</span><span class="builtintype" id="7865036">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865043">instr</span>&nbsp;<span class="op" id="7865049">:=</span>&nbsp;<span class="op" id="7865052">&amp;</span><span class="ident" id="7865053">decInstr</span><span class="op" id="7865061">{</span><span class="ident" id="7865062">decUint8Slice</span><span class="op" id="7865075">,</span>&nbsp;<span class="num" id="7865077">6</span><span class="op" id="7865078">,</span>&nbsp;<span class="ident" id="7865080">nil</span><span class="op" id="7865083">,</span>&nbsp;<span class="ident" id="7865085">ovfl</span><span class="op" id="7865089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865093">state</span>&nbsp;<span class="op" id="7865099">:=</span>&nbsp;<span class="ident" id="7865102">newDecodeStateFromData</span><span class="op" id="7865124">(</span><span class="ident" id="7865125">bytesResult</span><span class="op" id="7865136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865140">execDec</span><span class="op" id="7865147">(</span><span class="string" id="7865148">&#34;bytes&#34;</span><span class="op" id="7865155">,</span>&nbsp;<span class="ident" id="7865157">instr</span><span class="op" id="7865162">,</span>&nbsp;<span class="ident" id="7865164">state</span><span class="op" id="7865169">,</span>&nbsp;<span class="ident" id="7865171">t</span><span class="op" id="7865172">,</span>&nbsp;<span class="ident" id="7865174">reflect</span><span class="op" id="7865181">.</span><span class="ident" id="7865182">ValueOf</span><span class="op" id="7865189">(</span><span class="op" id="7865190">&amp;</span><span class="ident" id="7865191">data</span><span class="op" id="7865195">)</span><span class="op" id="7865196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865200">if</span>&nbsp;<span class="builtintype" id="7865203">string</span><span class="op" id="7865209">(</span><span class="ident" id="7865210">data</span><span class="op" id="7865214">)</span>&nbsp;<span class="op" id="7865216">!=</span>&nbsp;<span class="string" id="7865219">&#34;hello&#34;</span>&nbsp;<span class="op" id="7865227">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865232">t</span><span class="op" id="7865233">.</span><span class="ident" id="7865234">Errorf</span><span class="op" id="7865240">(</span><span class="string" id="7865241">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="7865267">,</span>&nbsp;<span class="builtintype" id="7865269">string</span><span class="op" id="7865275">(</span><span class="ident" id="7865276">data</span><span class="op" id="7865280">)</span><span class="op" id="7865281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7865292">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865307">var</span>&nbsp;<span class="ident" id="7865311">data</span>&nbsp;<span class="builtintype" id="7865316">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865325">instr</span>&nbsp;<span class="op" id="7865331">:=</span>&nbsp;<span class="op" id="7865334">&amp;</span><span class="ident" id="7865335">decInstr</span><span class="op" id="7865343">{</span><span class="ident" id="7865344">decString</span><span class="op" id="7865353">,</span>&nbsp;<span class="num" id="7865355">6</span><span class="op" id="7865356">,</span>&nbsp;<span class="ident" id="7865358">nil</span><span class="op" id="7865361">,</span>&nbsp;<span class="ident" id="7865363">ovfl</span><span class="op" id="7865367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865371">state</span>&nbsp;<span class="op" id="7865377">:=</span>&nbsp;<span class="ident" id="7865380">newDecodeStateFromData</span><span class="op" id="7865402">(</span><span class="ident" id="7865403">bytesResult</span><span class="op" id="7865414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865418">execDec</span><span class="op" id="7865425">(</span><span class="string" id="7865426">&#34;bytes&#34;</span><span class="op" id="7865433">,</span>&nbsp;<span class="ident" id="7865435">instr</span><span class="op" id="7865440">,</span>&nbsp;<span class="ident" id="7865442">state</span><span class="op" id="7865447">,</span>&nbsp;<span class="ident" id="7865449">t</span><span class="op" id="7865450">,</span>&nbsp;<span class="ident" id="7865452">reflect</span><span class="op" id="7865459">.</span><span class="ident" id="7865460">ValueOf</span><span class="op" id="7865467">(</span><span class="op" id="7865468">&amp;</span><span class="ident" id="7865469">data</span><span class="op" id="7865473">)</span><span class="op" id="7865474">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865478">if</span>&nbsp;<span class="ident" id="7865481">data</span>&nbsp;<span class="op" id="7865486">!=</span>&nbsp;<span class="string" id="7865489">&#34;hello&#34;</span>&nbsp;<span class="op" id="7865497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865502">t</span><span class="op" id="7865503">.</span><span class="ident" id="7865504">Errorf</span><span class="op" id="7865510">(</span><span class="string" id="7865511">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="7865537">,</span>&nbsp;<span class="ident" id="7865539">data</span><span class="op" id="7865543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865550">}</span><br>
<span class="lineno"></span><span class="op" id="7865552">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="7865555">func</span>&nbsp;<span class="ident" id="7865560">TestEndToEnd</span><span class="op" id="7865572">(</span><span class="ident" id="7865573">t</span>&nbsp;<span class="op" id="7865575">*</span><span class="ident" id="7865576">testing</span><span class="op" id="7865583">.</span><span class="ident" id="7865584">T</span><span class="op" id="7865585">)</span>&nbsp;<span class="op" id="7865587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865590">type</span>&nbsp;<span class="ident" id="7865595">T2</span>&nbsp;<span class="keyword" id="7865598">struct</span>&nbsp;<span class="op" id="7865605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865609">T</span>&nbsp;<span class="builtintype" id="7865611">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865619">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865622">s1</span>&nbsp;<span class="op" id="7865625">:=</span>&nbsp;<span class="string" id="7865628">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865639">s2</span>&nbsp;<span class="op" id="7865642">:=</span>&nbsp;<span class="string" id="7865645">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865656">type</span>&nbsp;<span class="ident" id="7865661">T1</span>&nbsp;<span class="keyword" id="7865664">struct</span>&nbsp;<span class="op" id="7865671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865675">A</span><span class="op" id="7865676">,</span>&nbsp;<span class="ident" id="7865678">B</span><span class="op" id="7865679">,</span>&nbsp;<span class="ident" id="7865681">C</span>&nbsp;&nbsp;<span class="builtintype" id="7865684">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865690">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7865699">map</span><span class="op" id="7865702">[</span><span class="builtintype" id="7865703">string</span><span class="op" id="7865709">]</span><span class="op" id="7865710">*</span><span class="builtintype" id="7865711">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865721">EmptyMap</span>&nbsp;<span class="keyword" id="7865730">map</span><span class="op" id="7865733">[</span><span class="builtintype" id="7865734">string</span><span class="op" id="7865740">]</span><span class="builtintype" id="7865741">int</span>&nbsp;<span class="comment" id="7865745">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865790">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865799">*</span><span class="op" id="7865800">[</span><span class="num" id="7865801">3</span><span class="op" id="7865802">]</span><span class="builtintype" id="7865803">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865813">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865822">*</span><span class="op" id="7865823">[</span><span class="num" id="7865824">2</span><span class="op" id="7865825">]</span><span class="builtintype" id="7865826">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865835">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7865844">*</span><span class="op" id="7865845">[</span><span class="op" id="7865846">]</span><span class="ident" id="7865847">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865855">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7865864">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865876">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7865885">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865894">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865903">[</span><span class="op" id="7865904">]</span><span class="builtintype" id="7865905">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865912">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7865921">*</span><span class="ident" id="7865922">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865929">pi</span>&nbsp;<span class="op" id="7865932">:=</span>&nbsp;<span class="num" id="7865935">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865944">e</span>&nbsp;<span class="op" id="7865946">:=</span>&nbsp;<span class="num" id="7865949">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865958">t1</span>&nbsp;<span class="op" id="7865961">:=</span>&nbsp;<span class="op" id="7865964">&amp;</span><span class="ident" id="7865965">T1</span><span class="op" id="7865967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865971">A</span><span class="op" id="7865972">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7865981">17</span><span class="op" id="7865983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865987">B</span><span class="op" id="7865988">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7865997">18</span><span class="op" id="7865999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866003">C</span><span class="op" id="7866004">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866013">-</span><span class="num" id="7866014">5</span><span class="op" id="7866015">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866019">M</span><span class="op" id="7866020">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7866029">map</span><span class="op" id="7866032">[</span><span class="builtintype" id="7866033">string</span><span class="op" id="7866039">]</span><span class="op" id="7866040">*</span><span class="builtintype" id="7866041">float64</span><span class="op" id="7866048">{</span><span class="string" id="7866049">&#34;pi&#34;</span><span class="op" id="7866053">:</span>&nbsp;<span class="op" id="7866055">&amp;</span><span class="ident" id="7866056">pi</span><span class="op" id="7866058">,</span>&nbsp;<span class="string" id="7866060">&#34;e&#34;</span><span class="op" id="7866063">:</span>&nbsp;<span class="op" id="7866065">&amp;</span><span class="ident" id="7866066">e</span><span class="op" id="7866067">}</span><span class="op" id="7866068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866072">EmptyMap</span><span class="op" id="7866080">:</span>&nbsp;<span class="builtinfunc" id="7866082">make</span><span class="op" id="7866086">(</span><span class="keyword" id="7866087">map</span><span class="op" id="7866090">[</span><span class="builtintype" id="7866091">string</span><span class="op" id="7866097">]</span><span class="builtintype" id="7866098">int</span><span class="op" id="7866101">)</span><span class="op" id="7866102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866106">N</span><span class="op" id="7866107">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866116">&amp;</span><span class="op" id="7866117">[</span><span class="num" id="7866118">3</span><span class="op" id="7866119">]</span><span class="builtintype" id="7866120">float64</span><span class="op" id="7866127">{</span><span class="num" id="7866128">1.5</span><span class="op" id="7866131">,</span>&nbsp;<span class="num" id="7866133">2.5</span><span class="op" id="7866136">,</span>&nbsp;<span class="num" id="7866138">3.5</span><span class="op" id="7866141">}</span><span class="op" id="7866142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866146">Strs</span><span class="op" id="7866150">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866156">&amp;</span><span class="op" id="7866157">[</span><span class="num" id="7866158">2</span><span class="op" id="7866159">]</span><span class="builtintype" id="7866160">string</span><span class="op" id="7866166">{</span><span class="ident" id="7866167">s1</span><span class="op" id="7866169">,</span>&nbsp;<span class="ident" id="7866171">s2</span><span class="op" id="7866173">}</span><span class="op" id="7866174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866178">Int64s</span><span class="op" id="7866184">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7866188">&amp;</span><span class="op" id="7866189">[</span><span class="op" id="7866190">]</span><span class="ident" id="7866191">int64</span><span class="op" id="7866196">{</span><span class="num" id="7866197">77</span><span class="op" id="7866199">,</span>&nbsp;<span class="num" id="7866201">89</span><span class="op" id="7866203">,</span>&nbsp;<span class="num" id="7866205">123412342134</span><span class="op" id="7866217">}</span><span class="op" id="7866218">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866222">RI</span><span class="op" id="7866224">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7866232">17</span>&nbsp;<span class="op" id="7866235">-</span>&nbsp;<span class="num" id="7866237">23i</span><span class="op" id="7866240">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866244">S</span><span class="op" id="7866245">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7866254">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="7866271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866275">Y</span><span class="op" id="7866276">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866285">[</span><span class="op" id="7866286">]</span><span class="builtintype" id="7866287">byte</span><span class="op" id="7866291">(</span><span class="string" id="7866292">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="7866307">)</span><span class="op" id="7866308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866312">T</span><span class="op" id="7866313">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866322">&amp;</span><span class="ident" id="7866323">T2</span><span class="op" id="7866325">{</span><span class="string" id="7866326">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="7866338">}</span><span class="op" id="7866339">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866342">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866345">b</span>&nbsp;<span class="op" id="7866347">:=</span>&nbsp;<span class="builtinfunc" id="7866350">new</span><span class="op" id="7866353">(</span><span class="ident" id="7866354">bytes</span><span class="op" id="7866359">.</span><span class="ident" id="7866360">Buffer</span><span class="op" id="7866366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866369">err</span>&nbsp;<span class="op" id="7866373">:=</span>&nbsp;<span class="ident" id="7866376">NewEncoder</span><span class="op" id="7866386">(</span><span class="ident" id="7866387">b</span><span class="op" id="7866388">)</span><span class="op" id="7866389">.</span><span class="ident" id="7866390">Encode</span><span class="op" id="7866396">(</span><span class="ident" id="7866397">t1</span><span class="op" id="7866399">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866402">if</span>&nbsp;<span class="ident" id="7866405">err</span>&nbsp;<span class="op" id="7866409">!=</span>&nbsp;<span class="ident" id="7866412">nil</span>&nbsp;<span class="op" id="7866416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866420">t</span><span class="op" id="7866421">.</span><span class="ident" id="7866422">Error</span><span class="op" id="7866427">(</span><span class="string" id="7866428">&#34;encode:&#34;</span><span class="op" id="7866437">,</span>&nbsp;<span class="ident" id="7866439">err</span><span class="op" id="7866442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866445">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866448">var</span>&nbsp;<span class="ident" id="7866452">_t1</span>&nbsp;<span class="ident" id="7866456">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866460">err</span>&nbsp;<span class="op" id="7866464">=</span>&nbsp;<span class="ident" id="7866466">NewDecoder</span><span class="op" id="7866476">(</span><span class="ident" id="7866477">b</span><span class="op" id="7866478">)</span><span class="op" id="7866479">.</span><span class="ident" id="7866480">Decode</span><span class="op" id="7866486">(</span><span class="op" id="7866487">&amp;</span><span class="ident" id="7866488">_t1</span><span class="op" id="7866491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866494">if</span>&nbsp;<span class="ident" id="7866497">err</span>&nbsp;<span class="op" id="7866501">!=</span>&nbsp;<span class="ident" id="7866504">nil</span>&nbsp;<span class="op" id="7866508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866512">t</span><span class="op" id="7866513">.</span><span class="ident" id="7866514">Fatal</span><span class="op" id="7866519">(</span><span class="string" id="7866520">&#34;decode:&#34;</span><span class="op" id="7866529">,</span>&nbsp;<span class="ident" id="7866531">err</span><span class="op" id="7866534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866537">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866540">if</span>&nbsp;<span class="op" id="7866543">!</span><span class="ident" id="7866544">reflect</span><span class="op" id="7866551">.</span><span class="ident" id="7866552">DeepEqual</span><span class="op" id="7866561">(</span><span class="ident" id="7866562">t1</span><span class="op" id="7866564">,</span>&nbsp;<span class="op" id="7866566">&amp;</span><span class="ident" id="7866567">_t1</span><span class="op" id="7866570">)</span>&nbsp;<span class="op" id="7866572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866576">t</span><span class="op" id="7866577">.</span><span class="ident" id="7866578">Errorf</span><span class="op" id="7866584">(</span><span class="string" id="7866585">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7866612">,</span>&nbsp;<span class="op" id="7866614">*</span><span class="ident" id="7866615">t1</span><span class="op" id="7866617">,</span>&nbsp;<span class="ident" id="7866619">_t1</span><span class="op" id="7866622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7866628">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866680">if</span>&nbsp;<span class="ident" id="7866683">t1</span><span class="op" id="7866685">.</span><span class="ident" id="7866686">EmptyMap</span>&nbsp;<span class="op" id="7866695">==</span>&nbsp;<span class="ident" id="7866698">nil</span>&nbsp;<span class="op" id="7866702">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866706">t</span><span class="op" id="7866707">.</span><span class="ident" id="7866708">Errorf</span><span class="op" id="7866714">(</span><span class="string" id="7866715">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="7866729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866732">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866735">if</span>&nbsp;<span class="ident" id="7866738">_t1</span><span class="op" id="7866741">.</span><span class="ident" id="7866742">EmptyMap</span>&nbsp;<span class="op" id="7866751">==</span>&nbsp;<span class="ident" id="7866754">nil</span>&nbsp;<span class="op" id="7866758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866762">t</span><span class="op" id="7866763">.</span><span class="ident" id="7866764">Errorf</span><span class="op" id="7866770">(</span><span class="string" id="7866771">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="7866789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866792">}</span><br>
<span class="lineno">600</span><span class="op" id="7866794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7866797">func</span>&nbsp;<span class="ident" id="7866802">TestOverflow</span><span class="op" id="7866814">(</span><span class="ident" id="7866815">t</span>&nbsp;<span class="op" id="7866817">*</span><span class="ident" id="7866818">testing</span><span class="op" id="7866825">.</span><span class="ident" id="7866826">T</span><span class="op" id="7866827">)</span>&nbsp;<span class="op" id="7866829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866832">type</span>&nbsp;<span class="ident" id="7866837">inputT</span>&nbsp;<span class="keyword" id="7866844">struct</span>&nbsp;<span class="op" id="7866851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866855">Maxi</span>&nbsp;<span class="ident" id="7866860">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866868">Mini</span>&nbsp;<span class="ident" id="7866873">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866881">Maxu</span>&nbsp;<span class="ident" id="7866886">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866895">Maxf</span>&nbsp;<span class="builtintype" id="7866900">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866910">Minf</span>&nbsp;<span class="builtintype" id="7866915">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866925">Maxc</span>&nbsp;<span class="builtintype" id="7866930">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866943">Minc</span>&nbsp;<span class="builtintype" id="7866948">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866963">var</span>&nbsp;<span class="ident" id="7866967">it</span>&nbsp;<span class="ident" id="7866970">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866978">var</span>&nbsp;<span class="ident" id="7866982">err</span>&nbsp;<span class="builtintype" id="7866986">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866993">b</span>&nbsp;<span class="op" id="7866995">:=</span>&nbsp;<span class="builtinfunc" id="7866998">new</span><span class="op" id="7867001">(</span><span class="ident" id="7867002">bytes</span><span class="op" id="7867007">.</span><span class="ident" id="7867008">Buffer</span><span class="op" id="7867014">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867017">enc</span>&nbsp;<span class="op" id="7867021">:=</span>&nbsp;<span class="ident" id="7867024">NewEncoder</span><span class="op" id="7867034">(</span><span class="ident" id="7867035">b</span><span class="op" id="7867036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867039">dec</span>&nbsp;<span class="op" id="7867043">:=</span>&nbsp;<span class="ident" id="7867046">NewDecoder</span><span class="op" id="7867056">(</span><span class="ident" id="7867057">b</span><span class="op" id="7867058">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7867062">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867071">b</span><span class="op" id="7867072">.</span><span class="ident" id="7867073">Reset</span><span class="op" id="7867078">(</span><span class="op" id="7867079">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867082">it</span>&nbsp;<span class="op" id="7867085">=</span>&nbsp;<span class="ident" id="7867087">inputT</span><span class="op" id="7867093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867097">Maxi</span><span class="op" id="7867101">:</span>&nbsp;<span class="ident" id="7867103">math</span><span class="op" id="7867107">.</span><span class="ident" id="7867108">MaxInt8</span>&nbsp;<span class="op" id="7867116">+</span>&nbsp;<span class="num" id="7867118">1</span><span class="op" id="7867119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867125">type</span>&nbsp;<span class="ident" id="7867130">outi8</span>&nbsp;<span class="keyword" id="7867136">struct</span>&nbsp;<span class="op" id="7867143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867147">Maxi</span>&nbsp;<span class="builtintype" id="7867152">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867159">Mini</span>&nbsp;<span class="builtintype" id="7867164">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867173">var</span>&nbsp;<span class="ident" id="7867177">o1</span>&nbsp;<span class="ident" id="7867180">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867187">enc</span><span class="op" id="7867190">.</span><span class="ident" id="7867191">Encode</span><span class="op" id="7867197">(</span><span class="ident" id="7867198">it</span><span class="op" id="7867200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867203">err</span>&nbsp;<span class="op" id="7867207">=</span>&nbsp;<span class="ident" id="7867209">dec</span><span class="op" id="7867212">.</span><span class="ident" id="7867213">Decode</span><span class="op" id="7867219">(</span><span class="op" id="7867220">&amp;</span><span class="ident" id="7867221">o1</span><span class="op" id="7867223">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867226">if</span>&nbsp;<span class="ident" id="7867229">err</span>&nbsp;<span class="op" id="7867233">==</span>&nbsp;<span class="ident" id="7867236">nil</span>&nbsp;<span class="op" id="7867240">||</span>&nbsp;<span class="ident" id="7867243">err</span><span class="op" id="7867246">.</span><span class="ident" id="7867247">Error</span><span class="op" id="7867252">(</span><span class="op" id="7867253">)</span>&nbsp;<span class="op" id="7867255">!=</span>&nbsp;<span class="string" id="7867258">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7867290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867294">t</span><span class="op" id="7867295">.</span><span class="ident" id="7867296">Error</span><span class="op" id="7867301">(</span><span class="string" id="7867302">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="7867334">,</span>&nbsp;<span class="ident" id="7867336">err</span><span class="op" id="7867339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867345">it</span>&nbsp;<span class="op" id="7867348">=</span>&nbsp;<span class="ident" id="7867350">inputT</span><span class="op" id="7867356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867360">Mini</span><span class="op" id="7867364">:</span>&nbsp;<span class="ident" id="7867366">math</span><span class="op" id="7867370">.</span><span class="ident" id="7867371">MinInt8</span>&nbsp;<span class="op" id="7867379">-</span>&nbsp;<span class="num" id="7867381">1</span><span class="op" id="7867382">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867388">b</span><span class="op" id="7867389">.</span><span class="ident" id="7867390">Reset</span><span class="op" id="7867395">(</span><span class="op" id="7867396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867399">enc</span><span class="op" id="7867402">.</span><span class="ident" id="7867403">Encode</span><span class="op" id="7867409">(</span><span class="ident" id="7867410">it</span><span class="op" id="7867412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867415">err</span>&nbsp;<span class="op" id="7867419">=</span>&nbsp;<span class="ident" id="7867421">dec</span><span class="op" id="7867424">.</span><span class="ident" id="7867425">Decode</span><span class="op" id="7867431">(</span><span class="op" id="7867432">&amp;</span><span class="ident" id="7867433">o1</span><span class="op" id="7867435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867438">if</span>&nbsp;<span class="ident" id="7867441">err</span>&nbsp;<span class="op" id="7867445">==</span>&nbsp;<span class="ident" id="7867448">nil</span>&nbsp;<span class="op" id="7867452">||</span>&nbsp;<span class="ident" id="7867455">err</span><span class="op" id="7867458">.</span><span class="ident" id="7867459">Error</span><span class="op" id="7867464">(</span><span class="op" id="7867465">)</span>&nbsp;<span class="op" id="7867467">!=</span>&nbsp;<span class="string" id="7867470">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7867502">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867506">t</span><span class="op" id="7867507">.</span><span class="ident" id="7867508">Error</span><span class="op" id="7867513">(</span><span class="string" id="7867514">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="7867547">,</span>&nbsp;<span class="ident" id="7867549">err</span><span class="op" id="7867552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867555">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7867559">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867569">b</span><span class="op" id="7867570">.</span><span class="ident" id="7867571">Reset</span><span class="op" id="7867576">(</span><span class="op" id="7867577">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867580">it</span>&nbsp;<span class="op" id="7867583">=</span>&nbsp;<span class="ident" id="7867585">inputT</span><span class="op" id="7867591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867595">Maxi</span><span class="op" id="7867599">:</span>&nbsp;<span class="ident" id="7867601">math</span><span class="op" id="7867605">.</span><span class="ident" id="7867606">MaxInt16</span>&nbsp;<span class="op" id="7867615">+</span>&nbsp;<span class="num" id="7867617">1</span><span class="op" id="7867618">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867624">type</span>&nbsp;<span class="ident" id="7867629">outi16</span>&nbsp;<span class="keyword" id="7867636">struct</span>&nbsp;<span class="op" id="7867643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867647">Maxi</span>&nbsp;<span class="builtintype" id="7867652">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867660">Mini</span>&nbsp;<span class="builtintype" id="7867665">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867675">var</span>&nbsp;<span class="ident" id="7867679">o2</span>&nbsp;<span class="ident" id="7867682">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867690">enc</span><span class="op" id="7867693">.</span><span class="ident" id="7867694">Encode</span><span class="op" id="7867700">(</span><span class="ident" id="7867701">it</span><span class="op" id="7867703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867706">err</span>&nbsp;<span class="op" id="7867710">=</span>&nbsp;<span class="ident" id="7867712">dec</span><span class="op" id="7867715">.</span><span class="ident" id="7867716">Decode</span><span class="op" id="7867722">(</span><span class="op" id="7867723">&amp;</span><span class="ident" id="7867724">o2</span><span class="op" id="7867726">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867729">if</span>&nbsp;<span class="ident" id="7867732">err</span>&nbsp;<span class="op" id="7867736">==</span>&nbsp;<span class="ident" id="7867739">nil</span>&nbsp;<span class="op" id="7867743">||</span>&nbsp;<span class="ident" id="7867746">err</span><span class="op" id="7867749">.</span><span class="ident" id="7867750">Error</span><span class="op" id="7867755">(</span><span class="op" id="7867756">)</span>&nbsp;<span class="op" id="7867758">!=</span>&nbsp;<span class="string" id="7867761">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7867793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867797">t</span><span class="op" id="7867798">.</span><span class="ident" id="7867799">Error</span><span class="op" id="7867804">(</span><span class="string" id="7867805">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="7867838">,</span>&nbsp;<span class="ident" id="7867840">err</span><span class="op" id="7867843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867849">it</span>&nbsp;<span class="op" id="7867852">=</span>&nbsp;<span class="ident" id="7867854">inputT</span><span class="op" id="7867860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867864">Mini</span><span class="op" id="7867868">:</span>&nbsp;<span class="ident" id="7867870">math</span><span class="op" id="7867874">.</span><span class="ident" id="7867875">MinInt16</span>&nbsp;<span class="op" id="7867884">-</span>&nbsp;<span class="num" id="7867886">1</span><span class="op" id="7867887">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867893">b</span><span class="op" id="7867894">.</span><span class="ident" id="7867895">Reset</span><span class="op" id="7867900">(</span><span class="op" id="7867901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867904">enc</span><span class="op" id="7867907">.</span><span class="ident" id="7867908">Encode</span><span class="op" id="7867914">(</span><span class="ident" id="7867915">it</span><span class="op" id="7867917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867920">err</span>&nbsp;<span class="op" id="7867924">=</span>&nbsp;<span class="ident" id="7867926">dec</span><span class="op" id="7867929">.</span><span class="ident" id="7867930">Decode</span><span class="op" id="7867936">(</span><span class="op" id="7867937">&amp;</span><span class="ident" id="7867938">o2</span><span class="op" id="7867940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867943">if</span>&nbsp;<span class="ident" id="7867946">err</span>&nbsp;<span class="op" id="7867950">==</span>&nbsp;<span class="ident" id="7867953">nil</span>&nbsp;<span class="op" id="7867957">||</span>&nbsp;<span class="ident" id="7867960">err</span><span class="op" id="7867963">.</span><span class="ident" id="7867964">Error</span><span class="op" id="7867969">(</span><span class="op" id="7867970">)</span>&nbsp;<span class="op" id="7867972">!=</span>&nbsp;<span class="string" id="7867975">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7868007">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868011">t</span><span class="op" id="7868012">.</span><span class="ident" id="7868013">Error</span><span class="op" id="7868018">(</span><span class="string" id="7868019">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="7868053">,</span>&nbsp;<span class="ident" id="7868055">err</span><span class="op" id="7868058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7868065">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868075">b</span><span class="op" id="7868076">.</span><span class="ident" id="7868077">Reset</span><span class="op" id="7868082">(</span><span class="op" id="7868083">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868086">it</span>&nbsp;<span class="op" id="7868089">=</span>&nbsp;<span class="ident" id="7868091">inputT</span><span class="op" id="7868097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868101">Maxi</span><span class="op" id="7868105">:</span>&nbsp;<span class="ident" id="7868107">math</span><span class="op" id="7868111">.</span><span class="ident" id="7868112">MaxInt32</span>&nbsp;<span class="op" id="7868121">+</span>&nbsp;<span class="num" id="7868123">1</span><span class="op" id="7868124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868130">type</span>&nbsp;<span class="ident" id="7868135">outi32</span>&nbsp;<span class="keyword" id="7868142">struct</span>&nbsp;<span class="op" id="7868149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868153">Maxi</span>&nbsp;<span class="builtintype" id="7868158">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868166">Mini</span>&nbsp;<span class="builtintype" id="7868171">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868181">var</span>&nbsp;<span class="ident" id="7868185">o3</span>&nbsp;<span class="ident" id="7868188">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868196">enc</span><span class="op" id="7868199">.</span><span class="ident" id="7868200">Encode</span><span class="op" id="7868206">(</span><span class="ident" id="7868207">it</span><span class="op" id="7868209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868212">err</span>&nbsp;<span class="op" id="7868216">=</span>&nbsp;<span class="ident" id="7868218">dec</span><span class="op" id="7868221">.</span><span class="ident" id="7868222">Decode</span><span class="op" id="7868228">(</span><span class="op" id="7868229">&amp;</span><span class="ident" id="7868230">o3</span><span class="op" id="7868232">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868235">if</span>&nbsp;<span class="ident" id="7868238">err</span>&nbsp;<span class="op" id="7868242">==</span>&nbsp;<span class="ident" id="7868245">nil</span>&nbsp;<span class="op" id="7868249">||</span>&nbsp;<span class="ident" id="7868252">err</span><span class="op" id="7868255">.</span><span class="ident" id="7868256">Error</span><span class="op" id="7868261">(</span><span class="op" id="7868262">)</span>&nbsp;<span class="op" id="7868264">!=</span>&nbsp;<span class="string" id="7868267">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7868299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868303">t</span><span class="op" id="7868304">.</span><span class="ident" id="7868305">Error</span><span class="op" id="7868310">(</span><span class="string" id="7868311">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="7868344">,</span>&nbsp;<span class="ident" id="7868346">err</span><span class="op" id="7868349">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868352">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868355">it</span>&nbsp;<span class="op" id="7868358">=</span>&nbsp;<span class="ident" id="7868360">inputT</span><span class="op" id="7868366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868370">Mini</span><span class="op" id="7868374">:</span>&nbsp;<span class="ident" id="7868376">math</span><span class="op" id="7868380">.</span><span class="ident" id="7868381">MinInt32</span>&nbsp;<span class="op" id="7868390">-</span>&nbsp;<span class="num" id="7868392">1</span><span class="op" id="7868393">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868399">b</span><span class="op" id="7868400">.</span><span class="ident" id="7868401">Reset</span><span class="op" id="7868406">(</span><span class="op" id="7868407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868410">enc</span><span class="op" id="7868413">.</span><span class="ident" id="7868414">Encode</span><span class="op" id="7868420">(</span><span class="ident" id="7868421">it</span><span class="op" id="7868423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868426">err</span>&nbsp;<span class="op" id="7868430">=</span>&nbsp;<span class="ident" id="7868432">dec</span><span class="op" id="7868435">.</span><span class="ident" id="7868436">Decode</span><span class="op" id="7868442">(</span><span class="op" id="7868443">&amp;</span><span class="ident" id="7868444">o3</span><span class="op" id="7868446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868449">if</span>&nbsp;<span class="ident" id="7868452">err</span>&nbsp;<span class="op" id="7868456">==</span>&nbsp;<span class="ident" id="7868459">nil</span>&nbsp;<span class="op" id="7868463">||</span>&nbsp;<span class="ident" id="7868466">err</span><span class="op" id="7868469">.</span><span class="ident" id="7868470">Error</span><span class="op" id="7868475">(</span><span class="op" id="7868476">)</span>&nbsp;<span class="op" id="7868478">!=</span>&nbsp;<span class="string" id="7868481">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7868513">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868517">t</span><span class="op" id="7868518">.</span><span class="ident" id="7868519">Error</span><span class="op" id="7868524">(</span><span class="string" id="7868525">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="7868559">,</span>&nbsp;<span class="ident" id="7868561">err</span><span class="op" id="7868564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7868571">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868581">b</span><span class="op" id="7868582">.</span><span class="ident" id="7868583">Reset</span><span class="op" id="7868588">(</span><span class="op" id="7868589">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868592">it</span>&nbsp;<span class="op" id="7868595">=</span>&nbsp;<span class="ident" id="7868597">inputT</span><span class="op" id="7868603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868607">Maxu</span><span class="op" id="7868611">:</span>&nbsp;<span class="ident" id="7868613">math</span><span class="op" id="7868617">.</span><span class="ident" id="7868618">MaxUint8</span>&nbsp;<span class="op" id="7868627">+</span>&nbsp;<span class="num" id="7868629">1</span><span class="op" id="7868630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868636">type</span>&nbsp;<span class="ident" id="7868641">outu8</span>&nbsp;<span class="keyword" id="7868647">struct</span>&nbsp;<span class="op" id="7868654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868658">Maxu</span>&nbsp;<span class="builtintype" id="7868663">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868670">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868673">var</span>&nbsp;<span class="ident" id="7868677">o4</span>&nbsp;<span class="ident" id="7868680">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868687">enc</span><span class="op" id="7868690">.</span><span class="ident" id="7868691">Encode</span><span class="op" id="7868697">(</span><span class="ident" id="7868698">it</span><span class="op" id="7868700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868703">err</span>&nbsp;<span class="op" id="7868707">=</span>&nbsp;<span class="ident" id="7868709">dec</span><span class="op" id="7868712">.</span><span class="ident" id="7868713">Decode</span><span class="op" id="7868719">(</span><span class="op" id="7868720">&amp;</span><span class="ident" id="7868721">o4</span><span class="op" id="7868723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868726">if</span>&nbsp;<span class="ident" id="7868729">err</span>&nbsp;<span class="op" id="7868733">==</span>&nbsp;<span class="ident" id="7868736">nil</span>&nbsp;<span class="op" id="7868740">||</span>&nbsp;<span class="ident" id="7868743">err</span><span class="op" id="7868746">.</span><span class="ident" id="7868747">Error</span><span class="op" id="7868752">(</span><span class="op" id="7868753">)</span>&nbsp;<span class="op" id="7868755">!=</span>&nbsp;<span class="string" id="7868758">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7868790">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868794">t</span><span class="op" id="7868795">.</span><span class="ident" id="7868796">Error</span><span class="op" id="7868801">(</span><span class="string" id="7868802">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="7868835">,</span>&nbsp;<span class="ident" id="7868837">err</span><span class="op" id="7868840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7868847">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868858">b</span><span class="op" id="7868859">.</span><span class="ident" id="7868860">Reset</span><span class="op" id="7868865">(</span><span class="op" id="7868866">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868869">it</span>&nbsp;<span class="op" id="7868872">=</span>&nbsp;<span class="ident" id="7868874">inputT</span><span class="op" id="7868880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868884">Maxu</span><span class="op" id="7868888">:</span>&nbsp;<span class="ident" id="7868890">math</span><span class="op" id="7868894">.</span><span class="ident" id="7868895">MaxUint16</span>&nbsp;<span class="op" id="7868905">+</span>&nbsp;<span class="num" id="7868907">1</span><span class="op" id="7868908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868911">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868914">type</span>&nbsp;<span class="ident" id="7868919">outu16</span>&nbsp;<span class="keyword" id="7868926">struct</span>&nbsp;<span class="op" id="7868933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868937">Maxu</span>&nbsp;<span class="builtintype" id="7868942">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868953">var</span>&nbsp;<span class="ident" id="7868957">o5</span>&nbsp;<span class="ident" id="7868960">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868968">enc</span><span class="op" id="7868971">.</span><span class="ident" id="7868972">Encode</span><span class="op" id="7868978">(</span><span class="ident" id="7868979">it</span><span class="op" id="7868981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868984">err</span>&nbsp;<span class="op" id="7868988">=</span>&nbsp;<span class="ident" id="7868990">dec</span><span class="op" id="7868993">.</span><span class="ident" id="7868994">Decode</span><span class="op" id="7869000">(</span><span class="op" id="7869001">&amp;</span><span class="ident" id="7869002">o5</span><span class="op" id="7869004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869007">if</span>&nbsp;<span class="ident" id="7869010">err</span>&nbsp;<span class="op" id="7869014">==</span>&nbsp;<span class="ident" id="7869017">nil</span>&nbsp;<span class="op" id="7869021">||</span>&nbsp;<span class="ident" id="7869024">err</span><span class="op" id="7869027">.</span><span class="ident" id="7869028">Error</span><span class="op" id="7869033">(</span><span class="op" id="7869034">)</span>&nbsp;<span class="op" id="7869036">!=</span>&nbsp;<span class="string" id="7869039">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7869071">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869075">t</span><span class="op" id="7869076">.</span><span class="ident" id="7869077">Error</span><span class="op" id="7869082">(</span><span class="string" id="7869083">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="7869117">,</span>&nbsp;<span class="ident" id="7869119">err</span><span class="op" id="7869122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7869129">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869140">b</span><span class="op" id="7869141">.</span><span class="ident" id="7869142">Reset</span><span class="op" id="7869147">(</span><span class="op" id="7869148">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869151">it</span>&nbsp;<span class="op" id="7869154">=</span>&nbsp;<span class="ident" id="7869156">inputT</span><span class="op" id="7869162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869166">Maxu</span><span class="op" id="7869170">:</span>&nbsp;<span class="ident" id="7869172">math</span><span class="op" id="7869176">.</span><span class="ident" id="7869177">MaxUint32</span>&nbsp;<span class="op" id="7869187">+</span>&nbsp;<span class="num" id="7869189">1</span><span class="op" id="7869190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869196">type</span>&nbsp;<span class="ident" id="7869201">outu32</span>&nbsp;<span class="keyword" id="7869208">struct</span>&nbsp;<span class="op" id="7869215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869219">Maxu</span>&nbsp;<span class="builtintype" id="7869224">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869235">var</span>&nbsp;<span class="ident" id="7869239">o6</span>&nbsp;<span class="ident" id="7869242">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869250">enc</span><span class="op" id="7869253">.</span><span class="ident" id="7869254">Encode</span><span class="op" id="7869260">(</span><span class="ident" id="7869261">it</span><span class="op" id="7869263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869266">err</span>&nbsp;<span class="op" id="7869270">=</span>&nbsp;<span class="ident" id="7869272">dec</span><span class="op" id="7869275">.</span><span class="ident" id="7869276">Decode</span><span class="op" id="7869282">(</span><span class="op" id="7869283">&amp;</span><span class="ident" id="7869284">o6</span><span class="op" id="7869286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869289">if</span>&nbsp;<span class="ident" id="7869292">err</span>&nbsp;<span class="op" id="7869296">==</span>&nbsp;<span class="ident" id="7869299">nil</span>&nbsp;<span class="op" id="7869303">||</span>&nbsp;<span class="ident" id="7869306">err</span><span class="op" id="7869309">.</span><span class="ident" id="7869310">Error</span><span class="op" id="7869315">(</span><span class="op" id="7869316">)</span>&nbsp;<span class="op" id="7869318">!=</span>&nbsp;<span class="string" id="7869321">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7869353">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869357">t</span><span class="op" id="7869358">.</span><span class="ident" id="7869359">Error</span><span class="op" id="7869364">(</span><span class="string" id="7869365">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="7869399">,</span>&nbsp;<span class="ident" id="7869401">err</span><span class="op" id="7869404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7869411">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869423">b</span><span class="op" id="7869424">.</span><span class="ident" id="7869425">Reset</span><span class="op" id="7869430">(</span><span class="op" id="7869431">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869434">it</span>&nbsp;<span class="op" id="7869437">=</span>&nbsp;<span class="ident" id="7869439">inputT</span><span class="op" id="7869445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869449">Maxf</span><span class="op" id="7869453">:</span>&nbsp;<span class="ident" id="7869455">math</span><span class="op" id="7869459">.</span><span class="ident" id="7869460">MaxFloat32</span>&nbsp;<span class="op" id="7869471">*</span>&nbsp;<span class="num" id="7869473">2</span><span class="op" id="7869474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869480">type</span>&nbsp;<span class="ident" id="7869485">outf32</span>&nbsp;<span class="keyword" id="7869492">struct</span>&nbsp;<span class="op" id="7869499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869503">Maxf</span>&nbsp;<span class="builtintype" id="7869508">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869518">Minf</span>&nbsp;<span class="builtintype" id="7869523">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869535">var</span>&nbsp;<span class="ident" id="7869539">o7</span>&nbsp;<span class="ident" id="7869542">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869550">enc</span><span class="op" id="7869553">.</span><span class="ident" id="7869554">Encode</span><span class="op" id="7869560">(</span><span class="ident" id="7869561">it</span><span class="op" id="7869563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869566">err</span>&nbsp;<span class="op" id="7869570">=</span>&nbsp;<span class="ident" id="7869572">dec</span><span class="op" id="7869575">.</span><span class="ident" id="7869576">Decode</span><span class="op" id="7869582">(</span><span class="op" id="7869583">&amp;</span><span class="ident" id="7869584">o7</span><span class="op" id="7869586">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869589">if</span>&nbsp;<span class="ident" id="7869592">err</span>&nbsp;<span class="op" id="7869596">==</span>&nbsp;<span class="ident" id="7869599">nil</span>&nbsp;<span class="op" id="7869603">||</span>&nbsp;<span class="ident" id="7869606">err</span><span class="op" id="7869609">.</span><span class="ident" id="7869610">Error</span><span class="op" id="7869615">(</span><span class="op" id="7869616">)</span>&nbsp;<span class="op" id="7869618">!=</span>&nbsp;<span class="string" id="7869621">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7869653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869657">t</span><span class="op" id="7869658">.</span><span class="ident" id="7869659">Error</span><span class="op" id="7869664">(</span><span class="string" id="7869665">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="7869700">,</span>&nbsp;<span class="ident" id="7869702">err</span><span class="op" id="7869705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7869712">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869726">b</span><span class="op" id="7869727">.</span><span class="ident" id="7869728">Reset</span><span class="op" id="7869733">(</span><span class="op" id="7869734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869737">it</span>&nbsp;<span class="op" id="7869740">=</span>&nbsp;<span class="ident" id="7869742">inputT</span><span class="op" id="7869748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869752">Maxc</span><span class="op" id="7869756">:</span>&nbsp;<span class="builtinfunc" id="7869758">complex</span><span class="op" id="7869765">(</span><span class="ident" id="7869766">math</span><span class="op" id="7869770">.</span><span class="ident" id="7869771">MaxFloat32</span><span class="op" id="7869781">*</span><span class="num" id="7869782">2</span><span class="op" id="7869783">,</span>&nbsp;<span class="ident" id="7869785">math</span><span class="op" id="7869789">.</span><span class="ident" id="7869790">MaxFloat32</span><span class="op" id="7869800">*</span><span class="num" id="7869801">2</span><span class="op" id="7869802">)</span><span class="op" id="7869803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869809">type</span>&nbsp;<span class="ident" id="7869814">outc64</span>&nbsp;<span class="keyword" id="7869821">struct</span>&nbsp;<span class="op" id="7869828">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869832">Maxc</span>&nbsp;<span class="builtintype" id="7869837">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869849">Minc</span>&nbsp;<span class="builtintype" id="7869854">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869868">var</span>&nbsp;<span class="ident" id="7869872">o8</span>&nbsp;<span class="ident" id="7869875">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869883">enc</span><span class="op" id="7869886">.</span><span class="ident" id="7869887">Encode</span><span class="op" id="7869893">(</span><span class="ident" id="7869894">it</span><span class="op" id="7869896">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869899">err</span>&nbsp;<span class="op" id="7869903">=</span>&nbsp;<span class="ident" id="7869905">dec</span><span class="op" id="7869908">.</span><span class="ident" id="7869909">Decode</span><span class="op" id="7869915">(</span><span class="op" id="7869916">&amp;</span><span class="ident" id="7869917">o8</span><span class="op" id="7869919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869922">if</span>&nbsp;<span class="ident" id="7869925">err</span>&nbsp;<span class="op" id="7869929">==</span>&nbsp;<span class="ident" id="7869932">nil</span>&nbsp;<span class="op" id="7869936">||</span>&nbsp;<span class="ident" id="7869939">err</span><span class="op" id="7869942">.</span><span class="ident" id="7869943">Error</span><span class="op" id="7869948">(</span><span class="op" id="7869949">)</span>&nbsp;<span class="op" id="7869951">!=</span>&nbsp;<span class="string" id="7869954">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="7869986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869990">t</span><span class="op" id="7869991">.</span><span class="ident" id="7869992">Error</span><span class="op" id="7869997">(</span><span class="string" id="7869998">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="7870035">,</span>&nbsp;<span class="ident" id="7870037">err</span><span class="op" id="7870040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870043">}</span><br>
<span class="lineno"></span><span class="op" id="7870045">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="7870048">func</span>&nbsp;<span class="ident" id="7870053">TestNesting</span><span class="op" id="7870064">(</span><span class="ident" id="7870065">t</span>&nbsp;<span class="op" id="7870067">*</span><span class="ident" id="7870068">testing</span><span class="op" id="7870075">.</span><span class="ident" id="7870076">T</span><span class="op" id="7870077">)</span>&nbsp;<span class="op" id="7870079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870082">type</span>&nbsp;<span class="ident" id="7870087">RT</span>&nbsp;<span class="keyword" id="7870090">struct</span>&nbsp;<span class="op" id="7870097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870101">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7870106">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870115">Next</span>&nbsp;<span class="op" id="7870120">*</span><span class="ident" id="7870121">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870128">rt</span>&nbsp;<span class="op" id="7870131">:=</span>&nbsp;<span class="builtinfunc" id="7870134">new</span><span class="op" id="7870137">(</span><span class="ident" id="7870138">RT</span><span class="op" id="7870140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870143">rt</span><span class="op" id="7870145">.</span><span class="ident" id="7870146">A</span>&nbsp;<span class="op" id="7870148">=</span>&nbsp;<span class="string" id="7870150">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870160">rt</span><span class="op" id="7870162">.</span><span class="ident" id="7870163">Next</span>&nbsp;<span class="op" id="7870168">=</span>&nbsp;<span class="builtinfunc" id="7870170">new</span><span class="op" id="7870173">(</span><span class="ident" id="7870174">RT</span><span class="op" id="7870176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870179">rt</span><span class="op" id="7870181">.</span><span class="ident" id="7870182">Next</span><span class="op" id="7870186">.</span><span class="ident" id="7870187">A</span>&nbsp;<span class="op" id="7870189">=</span>&nbsp;<span class="string" id="7870191">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870201">b</span>&nbsp;<span class="op" id="7870203">:=</span>&nbsp;<span class="builtinfunc" id="7870206">new</span><span class="op" id="7870209">(</span><span class="ident" id="7870210">bytes</span><span class="op" id="7870215">.</span><span class="ident" id="7870216">Buffer</span><span class="op" id="7870222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870225">NewEncoder</span><span class="op" id="7870235">(</span><span class="ident" id="7870236">b</span><span class="op" id="7870237">)</span><span class="op" id="7870238">.</span><span class="ident" id="7870239">Encode</span><span class="op" id="7870245">(</span><span class="ident" id="7870246">rt</span><span class="op" id="7870248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870251">var</span>&nbsp;<span class="ident" id="7870255">drt</span>&nbsp;<span class="ident" id="7870259">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870263">dec</span>&nbsp;<span class="op" id="7870267">:=</span>&nbsp;<span class="ident" id="7870270">NewDecoder</span><span class="op" id="7870280">(</span><span class="ident" id="7870281">b</span><span class="op" id="7870282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870285">err</span>&nbsp;<span class="op" id="7870289">:=</span>&nbsp;<span class="ident" id="7870292">dec</span><span class="op" id="7870295">.</span><span class="ident" id="7870296">Decode</span><span class="op" id="7870302">(</span><span class="op" id="7870303">&amp;</span><span class="ident" id="7870304">drt</span><span class="op" id="7870307">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870310">if</span>&nbsp;<span class="ident" id="7870313">err</span>&nbsp;<span class="op" id="7870317">!=</span>&nbsp;<span class="ident" id="7870320">nil</span>&nbsp;<span class="op" id="7870324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870328">t</span><span class="op" id="7870329">.</span><span class="ident" id="7870330">Fatal</span><span class="op" id="7870335">(</span><span class="string" id="7870336">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="7870352">,</span>&nbsp;<span class="ident" id="7870354">err</span><span class="op" id="7870357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870363">if</span>&nbsp;<span class="ident" id="7870366">drt</span><span class="op" id="7870369">.</span><span class="ident" id="7870370">A</span>&nbsp;<span class="op" id="7870372">!=</span>&nbsp;<span class="ident" id="7870375">rt</span><span class="op" id="7870377">.</span><span class="ident" id="7870378">A</span>&nbsp;<span class="op" id="7870380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870384">t</span><span class="op" id="7870385">.</span><span class="ident" id="7870386">Errorf</span><span class="op" id="7870392">(</span><span class="string" id="7870393">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7870429">,</span>&nbsp;<span class="op" id="7870431">*</span><span class="ident" id="7870432">rt</span><span class="op" id="7870434">,</span>&nbsp;<span class="ident" id="7870436">drt</span><span class="op" id="7870439">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870442">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870445">if</span>&nbsp;<span class="ident" id="7870448">drt</span><span class="op" id="7870451">.</span><span class="ident" id="7870452">Next</span>&nbsp;<span class="op" id="7870457">==</span>&nbsp;<span class="ident" id="7870460">nil</span>&nbsp;<span class="op" id="7870464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870468">t</span><span class="op" id="7870469">.</span><span class="ident" id="7870470">Errorf</span><span class="op" id="7870476">(</span><span class="string" id="7870477">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="7870504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870510">if</span>&nbsp;<span class="ident" id="7870513">drt</span><span class="op" id="7870516">.</span><span class="ident" id="7870517">Next</span><span class="op" id="7870521">.</span><span class="ident" id="7870522">A</span>&nbsp;<span class="op" id="7870524">!=</span>&nbsp;<span class="ident" id="7870527">rt</span><span class="op" id="7870529">.</span><span class="ident" id="7870530">Next</span><span class="op" id="7870534">.</span><span class="ident" id="7870535">A</span>&nbsp;<span class="op" id="7870537">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870541">t</span><span class="op" id="7870542">.</span><span class="ident" id="7870543">Errorf</span><span class="op" id="7870549">(</span><span class="string" id="7870550">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7870586">,</span>&nbsp;<span class="op" id="7870588">*</span><span class="ident" id="7870589">rt</span><span class="op" id="7870591">.</span><span class="ident" id="7870592">Next</span><span class="op" id="7870596">,</span>&nbsp;<span class="op" id="7870598">*</span><span class="ident" id="7870599">drt</span><span class="op" id="7870602">.</span><span class="ident" id="7870603">Next</span><span class="op" id="7870607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870610">}</span><br>
<span class="lineno"></span><span class="op" id="7870612">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7870615">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="7870688">type</span>&nbsp;<span class="ident" id="7870693">T0</span>&nbsp;<span class="keyword" id="7870696">struct</span>&nbsp;<span class="op" id="7870703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870706">A</span>&nbsp;<span class="builtintype" id="7870708">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870713">B</span>&nbsp;<span class="builtintype" id="7870715">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870720">C</span>&nbsp;<span class="builtintype" id="7870722">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870727">D</span>&nbsp;<span class="builtintype" id="7870729">int</span><br>
<span class="lineno">805</span><span class="op" id="7870733">}</span><br>
<span class="lineno"></span><span class="keyword" id="7870735">type</span>&nbsp;<span class="ident" id="7870740">T1</span>&nbsp;<span class="keyword" id="7870743">struct</span>&nbsp;<span class="op" id="7870750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870753">A</span>&nbsp;<span class="builtintype" id="7870755">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870760">B</span>&nbsp;<span class="op" id="7870762">*</span><span class="builtintype" id="7870763">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870768">C</span>&nbsp;<span class="op" id="7870770">*</span><span class="op" id="7870771">*</span><span class="builtintype" id="7870772">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870777">D</span>&nbsp;<span class="op" id="7870779">*</span><span class="op" id="7870780">*</span><span class="op" id="7870781">*</span><span class="builtintype" id="7870782">int</span><br>
<span class="lineno"></span><span class="op" id="7870786">}</span><br>
<span class="lineno"></span><span class="keyword" id="7870788">type</span>&nbsp;<span class="ident" id="7870793">T2</span>&nbsp;<span class="keyword" id="7870796">struct</span>&nbsp;<span class="op" id="7870803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870806">A</span>&nbsp;<span class="op" id="7870808">*</span><span class="op" id="7870809">*</span><span class="op" id="7870810">*</span><span class="builtintype" id="7870811">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870816">B</span>&nbsp;<span class="op" id="7870818">*</span><span class="op" id="7870819">*</span><span class="builtintype" id="7870820">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870825">C</span>&nbsp;<span class="op" id="7870827">*</span><span class="builtintype" id="7870828">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870833">D</span>&nbsp;<span class="builtintype" id="7870835">int</span><br>
<span class="lineno"></span><span class="op" id="7870839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7870842">func</span>&nbsp;<span class="ident" id="7870847">TestAutoIndirection</span><span class="op" id="7870866">(</span><span class="ident" id="7870867">t</span>&nbsp;<span class="op" id="7870869">*</span><span class="ident" id="7870870">testing</span><span class="op" id="7870877">.</span><span class="ident" id="7870878">T</span><span class="op" id="7870879">)</span>&nbsp;<span class="op" id="7870881">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7870884">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870914">var</span>&nbsp;<span class="ident" id="7870918">t1</span>&nbsp;<span class="ident" id="7870921">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870925">t1</span><span class="op" id="7870927">.</span><span class="ident" id="7870928">A</span>&nbsp;<span class="op" id="7870930">=</span>&nbsp;<span class="num" id="7870932">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870936">t1</span><span class="op" id="7870938">.</span><span class="ident" id="7870939">B</span>&nbsp;<span class="op" id="7870941">=</span>&nbsp;<span class="builtinfunc" id="7870943">new</span><span class="op" id="7870946">(</span><span class="builtintype" id="7870947">int</span><span class="op" id="7870950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870953">*</span><span class="ident" id="7870954">t1</span><span class="op" id="7870956">.</span><span class="ident" id="7870957">B</span>&nbsp;<span class="op" id="7870959">=</span>&nbsp;<span class="num" id="7870961">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870966">t1</span><span class="op" id="7870968">.</span><span class="ident" id="7870969">C</span>&nbsp;<span class="op" id="7870971">=</span>&nbsp;<span class="builtinfunc" id="7870973">new</span><span class="op" id="7870976">(</span><span class="op" id="7870977">*</span><span class="builtintype" id="7870978">int</span><span class="op" id="7870981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870984">*</span><span class="ident" id="7870985">t1</span><span class="op" id="7870987">.</span><span class="ident" id="7870988">C</span>&nbsp;<span class="op" id="7870990">=</span>&nbsp;<span class="builtinfunc" id="7870992">new</span><span class="op" id="7870995">(</span><span class="builtintype" id="7870996">int</span><span class="op" id="7870999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871002">*</span><span class="op" id="7871003">*</span><span class="ident" id="7871004">t1</span><span class="op" id="7871006">.</span><span class="ident" id="7871007">C</span>&nbsp;<span class="op" id="7871009">=</span>&nbsp;<span class="num" id="7871011">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871017">t1</span><span class="op" id="7871019">.</span><span class="ident" id="7871020">D</span>&nbsp;<span class="op" id="7871022">=</span>&nbsp;<span class="builtinfunc" id="7871024">new</span><span class="op" id="7871027">(</span><span class="op" id="7871028">*</span><span class="op" id="7871029">*</span><span class="builtintype" id="7871030">int</span><span class="op" id="7871033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871036">*</span><span class="ident" id="7871037">t1</span><span class="op" id="7871039">.</span><span class="ident" id="7871040">D</span>&nbsp;<span class="op" id="7871042">=</span>&nbsp;<span class="builtinfunc" id="7871044">new</span><span class="op" id="7871047">(</span><span class="op" id="7871048">*</span><span class="builtintype" id="7871049">int</span><span class="op" id="7871052">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871055">*</span><span class="op" id="7871056">*</span><span class="ident" id="7871057">t1</span><span class="op" id="7871059">.</span><span class="ident" id="7871060">D</span>&nbsp;<span class="op" id="7871062">=</span>&nbsp;<span class="builtinfunc" id="7871064">new</span><span class="op" id="7871067">(</span><span class="builtintype" id="7871068">int</span><span class="op" id="7871071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871074">*</span><span class="op" id="7871075">*</span><span class="op" id="7871076">*</span><span class="ident" id="7871077">t1</span><span class="op" id="7871079">.</span><span class="ident" id="7871080">D</span>&nbsp;<span class="op" id="7871082">=</span>&nbsp;<span class="num" id="7871084">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871091">b</span>&nbsp;<span class="op" id="7871093">:=</span>&nbsp;<span class="builtinfunc" id="7871096">new</span><span class="op" id="7871099">(</span><span class="ident" id="7871100">bytes</span><span class="op" id="7871105">.</span><span class="ident" id="7871106">Buffer</span><span class="op" id="7871112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871115">enc</span>&nbsp;<span class="op" id="7871119">:=</span>&nbsp;<span class="ident" id="7871122">NewEncoder</span><span class="op" id="7871132">(</span><span class="ident" id="7871133">b</span><span class="op" id="7871134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871137">enc</span><span class="op" id="7871140">.</span><span class="ident" id="7871141">Encode</span><span class="op" id="7871147">(</span><span class="ident" id="7871148">t1</span><span class="op" id="7871150">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871153">dec</span>&nbsp;<span class="op" id="7871157">:=</span>&nbsp;<span class="ident" id="7871160">NewDecoder</span><span class="op" id="7871170">(</span><span class="ident" id="7871171">b</span><span class="op" id="7871172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871175">var</span>&nbsp;<span class="ident" id="7871179">t0</span>&nbsp;<span class="ident" id="7871182">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871186">dec</span><span class="op" id="7871189">.</span><span class="ident" id="7871190">Decode</span><span class="op" id="7871196">(</span><span class="op" id="7871197">&amp;</span><span class="ident" id="7871198">t0</span><span class="op" id="7871200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871203">if</span>&nbsp;<span class="ident" id="7871206">t0</span><span class="op" id="7871208">.</span><span class="ident" id="7871209">A</span>&nbsp;<span class="op" id="7871211">!=</span>&nbsp;<span class="num" id="7871214">17</span>&nbsp;<span class="op" id="7871217">||</span>&nbsp;<span class="ident" id="7871220">t0</span><span class="op" id="7871222">.</span><span class="ident" id="7871223">B</span>&nbsp;<span class="op" id="7871225">!=</span>&nbsp;<span class="num" id="7871228">177</span>&nbsp;<span class="op" id="7871232">||</span>&nbsp;<span class="ident" id="7871235">t0</span><span class="op" id="7871237">.</span><span class="ident" id="7871238">C</span>&nbsp;<span class="op" id="7871240">!=</span>&nbsp;<span class="num" id="7871243">1777</span>&nbsp;<span class="op" id="7871248">||</span>&nbsp;<span class="ident" id="7871251">t0</span><span class="op" id="7871253">.</span><span class="ident" id="7871254">D</span>&nbsp;<span class="op" id="7871256">!=</span>&nbsp;<span class="num" id="7871259">17777</span>&nbsp;<span class="op" id="7871265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871269">t</span><span class="op" id="7871270">.</span><span class="ident" id="7871271">Errorf</span><span class="op" id="7871277">(</span><span class="string" id="7871278">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7871324">,</span>&nbsp;<span class="ident" id="7871326">t0</span><span class="op" id="7871328">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7871335">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871363">var</span>&nbsp;<span class="ident" id="7871367">t2</span>&nbsp;<span class="ident" id="7871370">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871374">t2</span><span class="op" id="7871376">.</span><span class="ident" id="7871377">D</span>&nbsp;<span class="op" id="7871379">=</span>&nbsp;<span class="num" id="7871381">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871388">t2</span><span class="op" id="7871390">.</span><span class="ident" id="7871391">C</span>&nbsp;<span class="op" id="7871393">=</span>&nbsp;<span class="builtinfunc" id="7871395">new</span><span class="op" id="7871398">(</span><span class="builtintype" id="7871399">int</span><span class="op" id="7871402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871405">*</span><span class="ident" id="7871406">t2</span><span class="op" id="7871408">.</span><span class="ident" id="7871409">C</span>&nbsp;<span class="op" id="7871411">=</span>&nbsp;<span class="num" id="7871413">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871419">t2</span><span class="op" id="7871421">.</span><span class="ident" id="7871422">B</span>&nbsp;<span class="op" id="7871424">=</span>&nbsp;<span class="builtinfunc" id="7871426">new</span><span class="op" id="7871429">(</span><span class="op" id="7871430">*</span><span class="builtintype" id="7871431">int</span><span class="op" id="7871434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871437">*</span><span class="ident" id="7871438">t2</span><span class="op" id="7871440">.</span><span class="ident" id="7871441">B</span>&nbsp;<span class="op" id="7871443">=</span>&nbsp;<span class="builtinfunc" id="7871445">new</span><span class="op" id="7871448">(</span><span class="builtintype" id="7871449">int</span><span class="op" id="7871452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871455">*</span><span class="op" id="7871456">*</span><span class="ident" id="7871457">t2</span><span class="op" id="7871459">.</span><span class="ident" id="7871460">B</span>&nbsp;<span class="op" id="7871462">=</span>&nbsp;<span class="num" id="7871464">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871469">t2</span><span class="op" id="7871471">.</span><span class="ident" id="7871472">A</span>&nbsp;<span class="op" id="7871474">=</span>&nbsp;<span class="builtinfunc" id="7871476">new</span><span class="op" id="7871479">(</span><span class="op" id="7871480">*</span><span class="op" id="7871481">*</span><span class="builtintype" id="7871482">int</span><span class="op" id="7871485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871488">*</span><span class="ident" id="7871489">t2</span><span class="op" id="7871491">.</span><span class="ident" id="7871492">A</span>&nbsp;<span class="op" id="7871494">=</span>&nbsp;<span class="builtinfunc" id="7871496">new</span><span class="op" id="7871499">(</span><span class="op" id="7871500">*</span><span class="builtintype" id="7871501">int</span><span class="op" id="7871504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871507">*</span><span class="op" id="7871508">*</span><span class="ident" id="7871509">t2</span><span class="op" id="7871511">.</span><span class="ident" id="7871512">A</span>&nbsp;<span class="op" id="7871514">=</span>&nbsp;<span class="builtinfunc" id="7871516">new</span><span class="op" id="7871519">(</span><span class="builtintype" id="7871520">int</span><span class="op" id="7871523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871526">*</span><span class="op" id="7871527">*</span><span class="op" id="7871528">*</span><span class="ident" id="7871529">t2</span><span class="op" id="7871531">.</span><span class="ident" id="7871532">A</span>&nbsp;<span class="op" id="7871534">=</span>&nbsp;<span class="num" id="7871536">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871540">b</span><span class="op" id="7871541">.</span><span class="ident" id="7871542">Reset</span><span class="op" id="7871547">(</span><span class="op" id="7871548">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871551">enc</span><span class="op" id="7871554">.</span><span class="ident" id="7871555">Encode</span><span class="op" id="7871561">(</span><span class="ident" id="7871562">t2</span><span class="op" id="7871564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871567">t0</span>&nbsp;<span class="op" id="7871570">=</span>&nbsp;<span class="ident" id="7871572">T0</span><span class="op" id="7871574">{</span><span class="op" id="7871575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871578">dec</span><span class="op" id="7871581">.</span><span class="ident" id="7871582">Decode</span><span class="op" id="7871588">(</span><span class="op" id="7871589">&amp;</span><span class="ident" id="7871590">t0</span><span class="op" id="7871592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871595">if</span>&nbsp;<span class="ident" id="7871598">t0</span><span class="op" id="7871600">.</span><span class="ident" id="7871601">A</span>&nbsp;<span class="op" id="7871603">!=</span>&nbsp;<span class="num" id="7871606">17</span>&nbsp;<span class="op" id="7871609">||</span>&nbsp;<span class="ident" id="7871612">t0</span><span class="op" id="7871614">.</span><span class="ident" id="7871615">B</span>&nbsp;<span class="op" id="7871617">!=</span>&nbsp;<span class="num" id="7871620">177</span>&nbsp;<span class="op" id="7871624">||</span>&nbsp;<span class="ident" id="7871627">t0</span><span class="op" id="7871629">.</span><span class="ident" id="7871630">C</span>&nbsp;<span class="op" id="7871632">!=</span>&nbsp;<span class="num" id="7871635">1777</span>&nbsp;<span class="op" id="7871640">||</span>&nbsp;<span class="ident" id="7871643">t0</span><span class="op" id="7871645">.</span><span class="ident" id="7871646">D</span>&nbsp;<span class="op" id="7871648">!=</span>&nbsp;<span class="num" id="7871651">17777</span>&nbsp;<span class="op" id="7871657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871661">t</span><span class="op" id="7871662">.</span><span class="ident" id="7871663">Errorf</span><span class="op" id="7871669">(</span><span class="string" id="7871670">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7871715">,</span>&nbsp;<span class="ident" id="7871717">t0</span><span class="op" id="7871719">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7871726">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871754">t0</span>&nbsp;<span class="op" id="7871757">=</span>&nbsp;<span class="ident" id="7871759">T0</span><span class="op" id="7871761">{</span><span class="num" id="7871762">17</span><span class="op" id="7871764">,</span>&nbsp;<span class="num" id="7871766">177</span><span class="op" id="7871769">,</span>&nbsp;<span class="num" id="7871771">1777</span><span class="op" id="7871775">,</span>&nbsp;<span class="num" id="7871777">17777</span><span class="op" id="7871782">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871785">b</span><span class="op" id="7871786">.</span><span class="ident" id="7871787">Reset</span><span class="op" id="7871792">(</span><span class="op" id="7871793">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871796">enc</span><span class="op" id="7871799">.</span><span class="ident" id="7871800">Encode</span><span class="op" id="7871806">(</span><span class="ident" id="7871807">t0</span><span class="op" id="7871809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871812">t1</span>&nbsp;<span class="op" id="7871815">=</span>&nbsp;<span class="ident" id="7871817">T1</span><span class="op" id="7871819">{</span><span class="op" id="7871820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871823">dec</span><span class="op" id="7871826">.</span><span class="ident" id="7871827">Decode</span><span class="op" id="7871833">(</span><span class="op" id="7871834">&amp;</span><span class="ident" id="7871835">t1</span><span class="op" id="7871837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871840">if</span>&nbsp;<span class="ident" id="7871843">t1</span><span class="op" id="7871845">.</span><span class="ident" id="7871846">A</span>&nbsp;<span class="op" id="7871848">!=</span>&nbsp;<span class="num" id="7871851">17</span>&nbsp;<span class="op" id="7871854">||</span>&nbsp;<span class="op" id="7871857">*</span><span class="ident" id="7871858">t1</span><span class="op" id="7871860">.</span><span class="ident" id="7871861">B</span>&nbsp;<span class="op" id="7871863">!=</span>&nbsp;<span class="num" id="7871866">177</span>&nbsp;<span class="op" id="7871870">||</span>&nbsp;<span class="op" id="7871873">*</span><span class="op" id="7871874">*</span><span class="ident" id="7871875">t1</span><span class="op" id="7871877">.</span><span class="ident" id="7871878">C</span>&nbsp;<span class="op" id="7871880">!=</span>&nbsp;<span class="num" id="7871883">1777</span>&nbsp;<span class="op" id="7871888">||</span>&nbsp;<span class="op" id="7871891">*</span><span class="op" id="7871892">*</span><span class="op" id="7871893">*</span><span class="ident" id="7871894">t1</span><span class="op" id="7871896">.</span><span class="ident" id="7871897">D</span>&nbsp;<span class="op" id="7871899">!=</span>&nbsp;<span class="num" id="7871902">17777</span>&nbsp;<span class="op" id="7871908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871912">t</span><span class="op" id="7871913">.</span><span class="ident" id="7871914">Errorf</span><span class="op" id="7871920">(</span><span class="string" id="7871921">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7871977">,</span>&nbsp;<span class="ident" id="7871979">t1</span><span class="op" id="7871981">.</span><span class="ident" id="7871982">A</span><span class="op" id="7871983">,</span>&nbsp;<span class="op" id="7871985">*</span><span class="ident" id="7871986">t1</span><span class="op" id="7871988">.</span><span class="ident" id="7871989">B</span><span class="op" id="7871990">,</span>&nbsp;<span class="op" id="7871992">*</span><span class="op" id="7871993">*</span><span class="ident" id="7871994">t1</span><span class="op" id="7871996">.</span><span class="ident" id="7871997">C</span><span class="op" id="7871998">,</span>&nbsp;<span class="op" id="7872000">*</span><span class="op" id="7872001">*</span><span class="op" id="7872002">*</span><span class="ident" id="7872003">t1</span><span class="op" id="7872005">.</span><span class="ident" id="7872006">D</span><span class="op" id="7872007">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872010">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7872014">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872042">b</span><span class="op" id="7872043">.</span><span class="ident" id="7872044">Reset</span><span class="op" id="7872049">(</span><span class="op" id="7872050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872053">enc</span><span class="op" id="7872056">.</span><span class="ident" id="7872057">Encode</span><span class="op" id="7872063">(</span><span class="ident" id="7872064">t0</span><span class="op" id="7872066">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872069">t2</span>&nbsp;<span class="op" id="7872072">=</span>&nbsp;<span class="ident" id="7872074">T2</span><span class="op" id="7872076">{</span><span class="op" id="7872077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872080">dec</span><span class="op" id="7872083">.</span><span class="ident" id="7872084">Decode</span><span class="op" id="7872090">(</span><span class="op" id="7872091">&amp;</span><span class="ident" id="7872092">t2</span><span class="op" id="7872094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872097">if</span>&nbsp;<span class="op" id="7872100">*</span><span class="op" id="7872101">*</span><span class="op" id="7872102">*</span><span class="ident" id="7872103">t2</span><span class="op" id="7872105">.</span><span class="ident" id="7872106">A</span>&nbsp;<span class="op" id="7872108">!=</span>&nbsp;<span class="num" id="7872111">17</span>&nbsp;<span class="op" id="7872114">||</span>&nbsp;<span class="op" id="7872117">*</span><span class="op" id="7872118">*</span><span class="ident" id="7872119">t2</span><span class="op" id="7872121">.</span><span class="ident" id="7872122">B</span>&nbsp;<span class="op" id="7872124">!=</span>&nbsp;<span class="num" id="7872127">177</span>&nbsp;<span class="op" id="7872131">||</span>&nbsp;<span class="op" id="7872134">*</span><span class="ident" id="7872135">t2</span><span class="op" id="7872137">.</span><span class="ident" id="7872138">C</span>&nbsp;<span class="op" id="7872140">!=</span>&nbsp;<span class="num" id="7872143">1777</span>&nbsp;<span class="op" id="7872148">||</span>&nbsp;<span class="ident" id="7872151">t2</span><span class="op" id="7872153">.</span><span class="ident" id="7872154">D</span>&nbsp;<span class="op" id="7872156">!=</span>&nbsp;<span class="num" id="7872159">17777</span>&nbsp;<span class="op" id="7872165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872169">t</span><span class="op" id="7872170">.</span><span class="ident" id="7872171">Errorf</span><span class="op" id="7872177">(</span><span class="string" id="7872178">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7872234">,</span>&nbsp;<span class="op" id="7872236">*</span><span class="op" id="7872237">*</span><span class="op" id="7872238">*</span><span class="ident" id="7872239">t2</span><span class="op" id="7872241">.</span><span class="ident" id="7872242">A</span><span class="op" id="7872243">,</span>&nbsp;<span class="op" id="7872245">*</span><span class="op" id="7872246">*</span><span class="ident" id="7872247">t2</span><span class="op" id="7872249">.</span><span class="ident" id="7872250">B</span><span class="op" id="7872251">,</span>&nbsp;<span class="op" id="7872253">*</span><span class="ident" id="7872254">t2</span><span class="op" id="7872256">.</span><span class="ident" id="7872257">C</span><span class="op" id="7872258">,</span>&nbsp;<span class="ident" id="7872260">t2</span><span class="op" id="7872262">.</span><span class="ident" id="7872263">D</span><span class="op" id="7872264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872267">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7872271">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872327">b</span><span class="op" id="7872328">.</span><span class="ident" id="7872329">Reset</span><span class="op" id="7872334">(</span><span class="op" id="7872335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872338">enc</span><span class="op" id="7872341">.</span><span class="ident" id="7872342">Encode</span><span class="op" id="7872348">(</span><span class="ident" id="7872349">t0</span><span class="op" id="7872351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872354">*</span><span class="op" id="7872355">*</span><span class="op" id="7872356">*</span><span class="ident" id="7872357">t2</span><span class="op" id="7872359">.</span><span class="ident" id="7872360">A</span>&nbsp;<span class="op" id="7872362">=</span>&nbsp;<span class="num" id="7872364">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872367">*</span><span class="op" id="7872368">*</span><span class="ident" id="7872369">t2</span><span class="op" id="7872371">.</span><span class="ident" id="7872372">B</span>&nbsp;<span class="op" id="7872374">=</span>&nbsp;<span class="num" id="7872376">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872379">*</span><span class="ident" id="7872380">t2</span><span class="op" id="7872382">.</span><span class="ident" id="7872383">C</span>&nbsp;<span class="op" id="7872385">=</span>&nbsp;<span class="num" id="7872387">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872390">t2</span><span class="op" id="7872392">.</span><span class="ident" id="7872393">D</span>&nbsp;<span class="op" id="7872395">=</span>&nbsp;<span class="num" id="7872397">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872400">dec</span><span class="op" id="7872403">.</span><span class="ident" id="7872404">Decode</span><span class="op" id="7872410">(</span><span class="op" id="7872411">&amp;</span><span class="ident" id="7872412">t2</span><span class="op" id="7872414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872417">if</span>&nbsp;<span class="op" id="7872420">*</span><span class="op" id="7872421">*</span><span class="op" id="7872422">*</span><span class="ident" id="7872423">t2</span><span class="op" id="7872425">.</span><span class="ident" id="7872426">A</span>&nbsp;<span class="op" id="7872428">!=</span>&nbsp;<span class="num" id="7872431">17</span>&nbsp;<span class="op" id="7872434">||</span>&nbsp;<span class="op" id="7872437">*</span><span class="op" id="7872438">*</span><span class="ident" id="7872439">t2</span><span class="op" id="7872441">.</span><span class="ident" id="7872442">B</span>&nbsp;<span class="op" id="7872444">!=</span>&nbsp;<span class="num" id="7872447">177</span>&nbsp;<span class="op" id="7872451">||</span>&nbsp;<span class="op" id="7872454">*</span><span class="ident" id="7872455">t2</span><span class="op" id="7872457">.</span><span class="ident" id="7872458">C</span>&nbsp;<span class="op" id="7872460">!=</span>&nbsp;<span class="num" id="7872463">1777</span>&nbsp;<span class="op" id="7872468">||</span>&nbsp;<span class="ident" id="7872471">t2</span><span class="op" id="7872473">.</span><span class="ident" id="7872474">D</span>&nbsp;<span class="op" id="7872476">!=</span>&nbsp;<span class="num" id="7872479">17777</span>&nbsp;<span class="op" id="7872485">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872489">t</span><span class="op" id="7872490">.</span><span class="ident" id="7872491">Errorf</span><span class="op" id="7872497">(</span><span class="string" id="7872498">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="7872554">,</span>&nbsp;<span class="op" id="7872556">*</span><span class="op" id="7872557">*</span><span class="op" id="7872558">*</span><span class="ident" id="7872559">t2</span><span class="op" id="7872561">.</span><span class="ident" id="7872562">A</span><span class="op" id="7872563">,</span>&nbsp;<span class="op" id="7872565">*</span><span class="op" id="7872566">*</span><span class="ident" id="7872567">t2</span><span class="op" id="7872569">.</span><span class="ident" id="7872570">B</span><span class="op" id="7872571">,</span>&nbsp;<span class="op" id="7872573">*</span><span class="ident" id="7872574">t2</span><span class="op" id="7872576">.</span><span class="ident" id="7872577">C</span><span class="op" id="7872578">,</span>&nbsp;<span class="ident" id="7872580">t2</span><span class="op" id="7872582">.</span><span class="ident" id="7872583">D</span><span class="op" id="7872584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872587">}</span><br>
<span class="lineno"></span><span class="op" id="7872589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7872592">type</span>&nbsp;<span class="ident" id="7872597">RT0</span>&nbsp;<span class="keyword" id="7872601">struct</span>&nbsp;<span class="op" id="7872608">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872611">A</span>&nbsp;<span class="builtintype" id="7872613">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872618">B</span>&nbsp;<span class="builtintype" id="7872620">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872628">C</span>&nbsp;<span class="builtintype" id="7872630">float64</span><br>
<span class="lineno"></span><span class="op" id="7872638">}</span><br>
<span class="lineno"></span><span class="keyword" id="7872640">type</span>&nbsp;<span class="ident" id="7872645">RT1</span>&nbsp;<span class="keyword" id="7872649">struct</span>&nbsp;<span class="op" id="7872656">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872659">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7872666">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872675">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7872682">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872690">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7872697">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872702">NotSet</span>&nbsp;<span class="builtintype" id="7872709">string</span><br>
<span class="lineno"></span><span class="op" id="7872716">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="7872719">func</span>&nbsp;<span class="ident" id="7872724">TestReorderedFields</span><span class="op" id="7872743">(</span><span class="ident" id="7872744">t</span>&nbsp;<span class="op" id="7872746">*</span><span class="ident" id="7872747">testing</span><span class="op" id="7872754">.</span><span class="ident" id="7872755">T</span><span class="op" id="7872756">)</span>&nbsp;<span class="op" id="7872758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872761">var</span>&nbsp;<span class="ident" id="7872765">rt0</span>&nbsp;<span class="ident" id="7872769">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872774">rt0</span><span class="op" id="7872777">.</span><span class="ident" id="7872778">A</span>&nbsp;<span class="op" id="7872780">=</span>&nbsp;<span class="num" id="7872782">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872786">rt0</span><span class="op" id="7872789">.</span><span class="ident" id="7872790">B</span>&nbsp;<span class="op" id="7872792">=</span>&nbsp;<span class="string" id="7872794">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872803">rt0</span><span class="op" id="7872806">.</span><span class="ident" id="7872807">C</span>&nbsp;<span class="op" id="7872809">=</span>&nbsp;<span class="num" id="7872811">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872820">b</span>&nbsp;<span class="op" id="7872822">:=</span>&nbsp;<span class="builtinfunc" id="7872825">new</span><span class="op" id="7872828">(</span><span class="ident" id="7872829">bytes</span><span class="op" id="7872834">.</span><span class="ident" id="7872835">Buffer</span><span class="op" id="7872841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872844">NewEncoder</span><span class="op" id="7872854">(</span><span class="ident" id="7872855">b</span><span class="op" id="7872856">)</span><span class="op" id="7872857">.</span><span class="ident" id="7872858">Encode</span><span class="op" id="7872864">(</span><span class="ident" id="7872865">rt0</span><span class="op" id="7872868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872871">dec</span>&nbsp;<span class="op" id="7872875">:=</span>&nbsp;<span class="ident" id="7872878">NewDecoder</span><span class="op" id="7872888">(</span><span class="ident" id="7872889">b</span><span class="op" id="7872890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872893">var</span>&nbsp;<span class="ident" id="7872897">rt1</span>&nbsp;<span class="ident" id="7872901">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7872906">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872947">err</span>&nbsp;<span class="op" id="7872951">:=</span>&nbsp;<span class="ident" id="7872954">dec</span><span class="op" id="7872957">.</span><span class="ident" id="7872958">Decode</span><span class="op" id="7872964">(</span><span class="op" id="7872965">&amp;</span><span class="ident" id="7872966">rt1</span><span class="op" id="7872969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872972">if</span>&nbsp;<span class="ident" id="7872975">err</span>&nbsp;<span class="op" id="7872979">!=</span>&nbsp;<span class="ident" id="7872982">nil</span>&nbsp;<span class="op" id="7872986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872990">t</span><span class="op" id="7872991">.</span><span class="ident" id="7872992">Fatal</span><span class="op" id="7872997">(</span><span class="string" id="7872998">&#34;decode&nbsp;error:&#34;</span><span class="op" id="7873013">,</span>&nbsp;<span class="ident" id="7873015">err</span><span class="op" id="7873018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873021">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873024">if</span>&nbsp;<span class="ident" id="7873027">rt0</span><span class="op" id="7873030">.</span><span class="ident" id="7873031">A</span>&nbsp;<span class="op" id="7873033">!=</span>&nbsp;<span class="ident" id="7873036">rt1</span><span class="op" id="7873039">.</span><span class="ident" id="7873040">A</span>&nbsp;<span class="op" id="7873042">||</span>&nbsp;<span class="ident" id="7873045">rt0</span><span class="op" id="7873048">.</span><span class="ident" id="7873049">B</span>&nbsp;<span class="op" id="7873051">!=</span>&nbsp;<span class="ident" id="7873054">rt1</span><span class="op" id="7873057">.</span><span class="ident" id="7873058">B</span>&nbsp;<span class="op" id="7873060">||</span>&nbsp;<span class="ident" id="7873063">rt0</span><span class="op" id="7873066">.</span><span class="ident" id="7873067">C</span>&nbsp;<span class="op" id="7873069">!=</span>&nbsp;<span class="ident" id="7873072">rt1</span><span class="op" id="7873075">.</span><span class="ident" id="7873076">C</span>&nbsp;<span class="op" id="7873078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873082">t</span><span class="op" id="7873083">.</span><span class="ident" id="7873084">Errorf</span><span class="op" id="7873090">(</span><span class="string" id="7873091">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7873122">,</span>&nbsp;<span class="ident" id="7873124">rt0</span><span class="op" id="7873127">,</span>&nbsp;<span class="ident" id="7873129">rt1</span><span class="op" id="7873132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873135">}</span><br>
<span class="lineno"></span><span class="op" id="7873137">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="7873140">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="7873204">type</span>&nbsp;<span class="ident" id="7873209">IT0</span>&nbsp;<span class="keyword" id="7873213">struct</span>&nbsp;<span class="op" id="7873220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873223">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7873232">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873239">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7873248">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873256">Ignore_d</span>&nbsp;<span class="op" id="7873265">[</span><span class="op" id="7873266">]</span><span class="builtintype" id="7873267">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873272">Ignore_e</span>&nbsp;<span class="op" id="7873281">[</span><span class="num" id="7873282">3</span><span class="op" id="7873283">]</span><span class="builtintype" id="7873284">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873293">Ignore_f</span>&nbsp;<span class="builtintype" id="7873302">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873308">Ignore_g</span>&nbsp;<span class="builtintype" id="7873317">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873325">Ignore_h</span>&nbsp;<span class="op" id="7873334">[</span><span class="op" id="7873335">]</span><span class="builtintype" id="7873336">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873342">Ignore_i</span>&nbsp;<span class="op" id="7873351">*</span><span class="ident" id="7873352">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873357">Ignore_m</span>&nbsp;<span class="keyword" id="7873366">map</span><span class="op" id="7873369">[</span><span class="builtintype" id="7873370">string</span><span class="op" id="7873376">]</span><span class="builtintype" id="7873377">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873382">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7873391">float64</span><br>
<span class="lineno"></span><span class="op" id="7873399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7873402">func</span>&nbsp;<span class="ident" id="7873407">TestIgnoredFields</span><span class="op" id="7873424">(</span><span class="ident" id="7873425">t</span>&nbsp;<span class="op" id="7873427">*</span><span class="ident" id="7873428">testing</span><span class="op" id="7873435">.</span><span class="ident" id="7873436">T</span><span class="op" id="7873437">)</span>&nbsp;<span class="op" id="7873439">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873442">var</span>&nbsp;<span class="ident" id="7873446">it0</span>&nbsp;<span class="ident" id="7873450">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873455">it0</span><span class="op" id="7873458">.</span><span class="ident" id="7873459">A</span>&nbsp;<span class="op" id="7873461">=</span>&nbsp;<span class="num" id="7873463">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873467">it0</span><span class="op" id="7873470">.</span><span class="ident" id="7873471">B</span>&nbsp;<span class="op" id="7873473">=</span>&nbsp;<span class="string" id="7873475">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873484">it0</span><span class="op" id="7873487">.</span><span class="ident" id="7873488">C</span>&nbsp;<span class="op" id="7873490">=</span>&nbsp;<span class="num" id="7873492">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873501">it0</span><span class="op" id="7873504">.</span><span class="ident" id="7873505">Ignore_d</span>&nbsp;<span class="op" id="7873514">=</span>&nbsp;<span class="op" id="7873516">[</span><span class="op" id="7873517">]</span><span class="builtintype" id="7873518">int</span><span class="op" id="7873521">{</span><span class="num" id="7873522">1</span><span class="op" id="7873523">,</span>&nbsp;<span class="num" id="7873525">2</span><span class="op" id="7873526">,</span>&nbsp;<span class="num" id="7873528">3</span><span class="op" id="7873529">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873532">it0</span><span class="op" id="7873535">.</span><span class="ident" id="7873536">Ignore_e</span><span class="op" id="7873544">[</span><span class="num" id="7873545">0</span><span class="op" id="7873546">]</span>&nbsp;<span class="op" id="7873548">=</span>&nbsp;<span class="num" id="7873550">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873555">it0</span><span class="op" id="7873558">.</span><span class="ident" id="7873559">Ignore_e</span><span class="op" id="7873567">[</span><span class="num" id="7873568">1</span><span class="op" id="7873569">]</span>&nbsp;<span class="op" id="7873571">=</span>&nbsp;<span class="num" id="7873573">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873578">it0</span><span class="op" id="7873581">.</span><span class="ident" id="7873582">Ignore_e</span><span class="op" id="7873590">[</span><span class="num" id="7873591">2</span><span class="op" id="7873592">]</span>&nbsp;<span class="op" id="7873594">=</span>&nbsp;<span class="num" id="7873596">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873601">it0</span><span class="op" id="7873604">.</span><span class="ident" id="7873605">Ignore_f</span>&nbsp;<span class="op" id="7873614">=</span>&nbsp;<span class="builtintype" id="7873616">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873622">it0</span><span class="op" id="7873625">.</span><span class="ident" id="7873626">Ignore_g</span>&nbsp;<span class="op" id="7873635">=</span>&nbsp;<span class="string" id="7873637">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873657">it0</span><span class="op" id="7873660">.</span><span class="ident" id="7873661">Ignore_h</span>&nbsp;<span class="op" id="7873670">=</span>&nbsp;<span class="op" id="7873672">[</span><span class="op" id="7873673">]</span><span class="builtintype" id="7873674">byte</span><span class="op" id="7873678">(</span><span class="string" id="7873679">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="7873695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873698">it0</span><span class="op" id="7873701">.</span><span class="ident" id="7873702">Ignore_i</span>&nbsp;<span class="op" id="7873711">=</span>&nbsp;<span class="op" id="7873713">&amp;</span><span class="ident" id="7873714">RT1</span><span class="op" id="7873717">{</span><span class="num" id="7873718">3.1</span><span class="op" id="7873721">,</span>&nbsp;<span class="string" id="7873723">&#34;hi&#34;</span><span class="op" id="7873727">,</span>&nbsp;<span class="num" id="7873729">7</span><span class="op" id="7873730">,</span>&nbsp;<span class="string" id="7873732">&#34;hello&#34;</span><span class="op" id="7873739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873742">it0</span><span class="op" id="7873745">.</span><span class="ident" id="7873746">Ignore_m</span>&nbsp;<span class="op" id="7873755">=</span>&nbsp;<span class="keyword" id="7873757">map</span><span class="op" id="7873760">[</span><span class="builtintype" id="7873761">string</span><span class="op" id="7873767">]</span><span class="builtintype" id="7873768">int</span><span class="op" id="7873771">{</span><span class="string" id="7873772">&#34;one&#34;</span><span class="op" id="7873777">:</span>&nbsp;<span class="num" id="7873779">1</span><span class="op" id="7873780">,</span>&nbsp;<span class="string" id="7873782">&#34;two&#34;</span><span class="op" id="7873787">:</span>&nbsp;<span class="num" id="7873789">2</span><span class="op" id="7873790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873794">b</span>&nbsp;<span class="op" id="7873796">:=</span>&nbsp;<span class="builtinfunc" id="7873799">new</span><span class="op" id="7873802">(</span><span class="ident" id="7873803">bytes</span><span class="op" id="7873808">.</span><span class="ident" id="7873809">Buffer</span><span class="op" id="7873815">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873818">NewEncoder</span><span class="op" id="7873828">(</span><span class="ident" id="7873829">b</span><span class="op" id="7873830">)</span><span class="op" id="7873831">.</span><span class="ident" id="7873832">Encode</span><span class="op" id="7873838">(</span><span class="ident" id="7873839">it0</span><span class="op" id="7873842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873845">dec</span>&nbsp;<span class="op" id="7873849">:=</span>&nbsp;<span class="ident" id="7873852">NewDecoder</span><span class="op" id="7873862">(</span><span class="ident" id="7873863">b</span><span class="op" id="7873864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873867">var</span>&nbsp;<span class="ident" id="7873871">rt1</span>&nbsp;<span class="ident" id="7873875">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7873880">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873921">err</span>&nbsp;<span class="op" id="7873925">:=</span>&nbsp;<span class="ident" id="7873928">dec</span><span class="op" id="7873931">.</span><span class="ident" id="7873932">Decode</span><span class="op" id="7873938">(</span><span class="op" id="7873939">&amp;</span><span class="ident" id="7873940">rt1</span><span class="op" id="7873943">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873946">if</span>&nbsp;<span class="ident" id="7873949">err</span>&nbsp;<span class="op" id="7873953">!=</span>&nbsp;<span class="ident" id="7873956">nil</span>&nbsp;<span class="op" id="7873960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873964">t</span><span class="op" id="7873965">.</span><span class="ident" id="7873966">Error</span><span class="op" id="7873971">(</span><span class="string" id="7873972">&#34;error:&nbsp;&#34;</span><span class="op" id="7873981">,</span>&nbsp;<span class="ident" id="7873983">err</span><span class="op" id="7873986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873992">if</span>&nbsp;<span class="builtintype" id="7873995">int</span><span class="op" id="7873998">(</span><span class="ident" id="7873999">it0</span><span class="op" id="7874002">.</span><span class="ident" id="7874003">A</span><span class="op" id="7874004">)</span>&nbsp;<span class="op" id="7874006">!=</span>&nbsp;<span class="ident" id="7874009">rt1</span><span class="op" id="7874012">.</span><span class="ident" id="7874013">A</span>&nbsp;<span class="op" id="7874015">||</span>&nbsp;<span class="ident" id="7874018">it0</span><span class="op" id="7874021">.</span><span class="ident" id="7874022">B</span>&nbsp;<span class="op" id="7874024">!=</span>&nbsp;<span class="ident" id="7874027">rt1</span><span class="op" id="7874030">.</span><span class="ident" id="7874031">B</span>&nbsp;<span class="op" id="7874033">||</span>&nbsp;<span class="ident" id="7874036">it0</span><span class="op" id="7874039">.</span><span class="ident" id="7874040">C</span>&nbsp;<span class="op" id="7874042">!=</span>&nbsp;<span class="ident" id="7874045">rt1</span><span class="op" id="7874048">.</span><span class="ident" id="7874049">C</span>&nbsp;<span class="op" id="7874051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874055">t</span><span class="op" id="7874056">.</span><span class="ident" id="7874057">Errorf</span><span class="op" id="7874063">(</span><span class="string" id="7874064">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7874095">,</span>&nbsp;<span class="ident" id="7874097">it0</span><span class="op" id="7874100">,</span>&nbsp;<span class="ident" id="7874102">rt1</span><span class="op" id="7874105">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874108">}</span><br>
<span class="lineno"></span><span class="op" id="7874110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874113">func</span>&nbsp;<span class="ident" id="7874118">TestBadRecursiveType</span><span class="op" id="7874138">(</span><span class="ident" id="7874139">t</span>&nbsp;<span class="op" id="7874141">*</span><span class="ident" id="7874142">testing</span><span class="op" id="7874149">.</span><span class="ident" id="7874150">T</span><span class="op" id="7874151">)</span>&nbsp;<span class="op" id="7874153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874156">type</span>&nbsp;<span class="ident" id="7874161">Rec</span>&nbsp;<span class="op" id="7874165">*</span><span class="op" id="7874166">*</span><span class="op" id="7874167">*</span><span class="ident" id="7874168">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874173">var</span>&nbsp;<span class="ident" id="7874177">rec</span>&nbsp;<span class="ident" id="7874181">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874186">b</span>&nbsp;<span class="op" id="7874188">:=</span>&nbsp;<span class="builtinfunc" id="7874191">new</span><span class="op" id="7874194">(</span><span class="ident" id="7874195">bytes</span><span class="op" id="7874200">.</span><span class="ident" id="7874201">Buffer</span><span class="op" id="7874207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874210">err</span>&nbsp;<span class="op" id="7874214">:=</span>&nbsp;<span class="ident" id="7874217">NewEncoder</span><span class="op" id="7874227">(</span><span class="ident" id="7874228">b</span><span class="op" id="7874229">)</span><span class="op" id="7874230">.</span><span class="ident" id="7874231">Encode</span><span class="op" id="7874237">(</span><span class="op" id="7874238">&amp;</span><span class="ident" id="7874239">rec</span><span class="op" id="7874242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874245">if</span>&nbsp;<span class="ident" id="7874248">err</span>&nbsp;<span class="op" id="7874252">==</span>&nbsp;<span class="ident" id="7874255">nil</span>&nbsp;<span class="op" id="7874259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874263">t</span><span class="op" id="7874264">.</span><span class="ident" id="7874265">Error</span><span class="op" id="7874270">(</span><span class="string" id="7874271">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7874297">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874300">}</span>&nbsp;<span class="keyword" id="7874302">else</span>&nbsp;<span class="keyword" id="7874307">if</span>&nbsp;<span class="ident" id="7874310">strings</span><span class="op" id="7874317">.</span><span class="ident" id="7874318">Index</span><span class="op" id="7874323">(</span><span class="ident" id="7874324">err</span><span class="op" id="7874327">.</span><span class="ident" id="7874328">Error</span><span class="op" id="7874333">(</span><span class="op" id="7874334">)</span><span class="op" id="7874335">,</span>&nbsp;<span class="string" id="7874337">&#34;recursive&#34;</span><span class="op" id="7874348">)</span>&nbsp;<span class="op" id="7874350">&lt;</span>&nbsp;<span class="num" id="7874352">0</span>&nbsp;<span class="op" id="7874354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874358">t</span><span class="op" id="7874359">.</span><span class="ident" id="7874360">Error</span><span class="op" id="7874365">(</span><span class="string" id="7874366">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7874402">,</span>&nbsp;<span class="ident" id="7874404">err</span><span class="op" id="7874407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7874413">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="7874505">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="7874508">type</span>&nbsp;<span class="ident" id="7874513">Indirect</span>&nbsp;<span class="keyword" id="7874522">struct</span>&nbsp;<span class="op" id="7874529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874532">A</span>&nbsp;<span class="op" id="7874534">*</span><span class="op" id="7874535">*</span><span class="op" id="7874536">*</span><span class="op" id="7874537">[</span><span class="num" id="7874538">3</span><span class="op" id="7874539">]</span><span class="builtintype" id="7874540">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874545">S</span>&nbsp;<span class="op" id="7874547">*</span><span class="op" id="7874548">*</span><span class="op" id="7874549">*</span><span class="op" id="7874550">[</span><span class="op" id="7874551">]</span><span class="builtintype" id="7874552">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874557">M</span>&nbsp;<span class="op" id="7874559">*</span><span class="op" id="7874560">*</span><span class="op" id="7874561">*</span><span class="op" id="7874562">*</span><span class="keyword" id="7874563">map</span><span class="op" id="7874566">[</span><span class="builtintype" id="7874567">string</span><span class="op" id="7874573">]</span><span class="builtintype" id="7874574">int</span><br>
<span class="lineno">985</span><span class="op" id="7874578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874581">type</span>&nbsp;<span class="ident" id="7874586">Direct</span>&nbsp;<span class="keyword" id="7874593">struct</span>&nbsp;<span class="op" id="7874600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874603">A</span>&nbsp;<span class="op" id="7874605">[</span><span class="num" id="7874606">3</span><span class="op" id="7874607">]</span><span class="builtintype" id="7874608">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874613">S</span>&nbsp;<span class="op" id="7874615">[</span><span class="op" id="7874616">]</span><span class="builtintype" id="7874617">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874622">M</span>&nbsp;<span class="keyword" id="7874624">map</span><span class="op" id="7874627">[</span><span class="builtintype" id="7874628">string</span><span class="op" id="7874634">]</span><span class="builtintype" id="7874635">int</span><br>
<span class="lineno"></span><span class="op" id="7874639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874642">func</span>&nbsp;<span class="ident" id="7874647">TestIndirectSliceMapArray</span><span class="op" id="7874672">(</span><span class="ident" id="7874673">t</span>&nbsp;<span class="op" id="7874675">*</span><span class="ident" id="7874676">testing</span><span class="op" id="7874683">.</span><span class="ident" id="7874684">T</span><span class="op" id="7874685">)</span>&nbsp;<span class="op" id="7874687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7874690">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874733">i</span>&nbsp;<span class="op" id="7874735">:=</span>&nbsp;<span class="builtinfunc" id="7874738">new</span><span class="op" id="7874741">(</span><span class="ident" id="7874742">Indirect</span><span class="op" id="7874750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874753">i</span><span class="op" id="7874754">.</span><span class="ident" id="7874755">A</span>&nbsp;<span class="op" id="7874757">=</span>&nbsp;<span class="builtinfunc" id="7874759">new</span><span class="op" id="7874762">(</span><span class="op" id="7874763">*</span><span class="op" id="7874764">*</span><span class="op" id="7874765">[</span><span class="num" id="7874766">3</span><span class="op" id="7874767">]</span><span class="builtintype" id="7874768">int</span><span class="op" id="7874771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874774">*</span><span class="ident" id="7874775">i</span><span class="op" id="7874776">.</span><span class="ident" id="7874777">A</span>&nbsp;<span class="op" id="7874779">=</span>&nbsp;<span class="builtinfunc" id="7874781">new</span><span class="op" id="7874784">(</span><span class="op" id="7874785">*</span><span class="op" id="7874786">[</span><span class="num" id="7874787">3</span><span class="op" id="7874788">]</span><span class="builtintype" id="7874789">int</span><span class="op" id="7874792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874795">*</span><span class="op" id="7874796">*</span><span class="ident" id="7874797">i</span><span class="op" id="7874798">.</span><span class="ident" id="7874799">A</span>&nbsp;<span class="op" id="7874801">=</span>&nbsp;<span class="builtinfunc" id="7874803">new</span><span class="op" id="7874806">(</span><span class="op" id="7874807">[</span><span class="num" id="7874808">3</span><span class="op" id="7874809">]</span><span class="builtintype" id="7874810">int</span><span class="op" id="7874813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874816">*</span><span class="op" id="7874817">*</span><span class="op" id="7874818">*</span><span class="ident" id="7874819">i</span><span class="op" id="7874820">.</span><span class="ident" id="7874821">A</span>&nbsp;<span class="op" id="7874823">=</span>&nbsp;<span class="op" id="7874825">[</span><span class="num" id="7874826">3</span><span class="op" id="7874827">]</span><span class="builtintype" id="7874828">int</span><span class="op" id="7874831">{</span><span class="num" id="7874832">1</span><span class="op" id="7874833">,</span>&nbsp;<span class="num" id="7874835">2</span><span class="op" id="7874836">,</span>&nbsp;<span class="num" id="7874838">3</span><span class="op" id="7874839">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874842">i</span><span class="op" id="7874843">.</span><span class="ident" id="7874844">S</span>&nbsp;<span class="op" id="7874846">=</span>&nbsp;<span class="builtinfunc" id="7874848">new</span><span class="op" id="7874851">(</span><span class="op" id="7874852">*</span><span class="op" id="7874853">*</span><span class="op" id="7874854">[</span><span class="op" id="7874855">]</span><span class="builtintype" id="7874856">int</span><span class="op" id="7874859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874862">*</span><span class="ident" id="7874863">i</span><span class="op" id="7874864">.</span><span class="ident" id="7874865">S</span>&nbsp;<span class="op" id="7874867">=</span>&nbsp;<span class="builtinfunc" id="7874869">new</span><span class="op" id="7874872">(</span><span class="op" id="7874873">*</span><span class="op" id="7874874">[</span><span class="op" id="7874875">]</span><span class="builtintype" id="7874876">int</span><span class="op" id="7874879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874882">*</span><span class="op" id="7874883">*</span><span class="ident" id="7874884">i</span><span class="op" id="7874885">.</span><span class="ident" id="7874886">S</span>&nbsp;<span class="op" id="7874888">=</span>&nbsp;<span class="builtinfunc" id="7874890">new</span><span class="op" id="7874893">(</span><span class="op" id="7874894">[</span><span class="op" id="7874895">]</span><span class="builtintype" id="7874896">int</span><span class="op" id="7874899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874902">*</span><span class="op" id="7874903">*</span><span class="op" id="7874904">*</span><span class="ident" id="7874905">i</span><span class="op" id="7874906">.</span><span class="ident" id="7874907">S</span>&nbsp;<span class="op" id="7874909">=</span>&nbsp;<span class="op" id="7874911">[</span><span class="op" id="7874912">]</span><span class="builtintype" id="7874913">int</span><span class="op" id="7874916">{</span><span class="num" id="7874917">4</span><span class="op" id="7874918">,</span>&nbsp;<span class="num" id="7874920">5</span><span class="op" id="7874921">,</span>&nbsp;<span class="num" id="7874923">6</span><span class="op" id="7874924">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874927">i</span><span class="op" id="7874928">.</span><span class="ident" id="7874929">M</span>&nbsp;<span class="op" id="7874931">=</span>&nbsp;<span class="builtinfunc" id="7874933">new</span><span class="op" id="7874936">(</span><span class="op" id="7874937">*</span><span class="op" id="7874938">*</span><span class="op" id="7874939">*</span><span class="keyword" id="7874940">map</span><span class="op" id="7874943">[</span><span class="builtintype" id="7874944">string</span><span class="op" id="7874950">]</span><span class="builtintype" id="7874951">int</span><span class="op" id="7874954">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874957">*</span><span class="ident" id="7874958">i</span><span class="op" id="7874959">.</span><span class="ident" id="7874960">M</span>&nbsp;<span class="op" id="7874962">=</span>&nbsp;<span class="builtinfunc" id="7874964">new</span><span class="op" id="7874967">(</span><span class="op" id="7874968">*</span><span class="op" id="7874969">*</span><span class="keyword" id="7874970">map</span><span class="op" id="7874973">[</span><span class="builtintype" id="7874974">string</span><span class="op" id="7874980">]</span><span class="builtintype" id="7874981">int</span><span class="op" id="7874984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874987">*</span><span class="op" id="7874988">*</span><span class="ident" id="7874989">i</span><span class="op" id="7874990">.</span><span class="ident" id="7874991">M</span>&nbsp;<span class="op" id="7874993">=</span>&nbsp;<span class="builtinfunc" id="7874995">new</span><span class="op" id="7874998">(</span><span class="op" id="7874999">*</span><span class="keyword" id="7875000">map</span><span class="op" id="7875003">[</span><span class="builtintype" id="7875004">string</span><span class="op" id="7875010">]</span><span class="builtintype" id="7875011">int</span><span class="op" id="7875014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875017">*</span><span class="op" id="7875018">*</span><span class="op" id="7875019">*</span><span class="ident" id="7875020">i</span><span class="op" id="7875021">.</span><span class="ident" id="7875022">M</span>&nbsp;<span class="op" id="7875024">=</span>&nbsp;<span class="builtinfunc" id="7875026">new</span><span class="op" id="7875029">(</span><span class="keyword" id="7875030">map</span><span class="op" id="7875033">[</span><span class="builtintype" id="7875034">string</span><span class="op" id="7875040">]</span><span class="builtintype" id="7875041">int</span><span class="op" id="7875044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875047">*</span><span class="op" id="7875048">*</span><span class="op" id="7875049">*</span><span class="op" id="7875050">*</span><span class="ident" id="7875051">i</span><span class="op" id="7875052">.</span><span class="ident" id="7875053">M</span>&nbsp;<span class="op" id="7875055">=</span>&nbsp;<span class="keyword" id="7875057">map</span><span class="op" id="7875060">[</span><span class="builtintype" id="7875061">string</span><span class="op" id="7875067">]</span><span class="builtintype" id="7875068">int</span><span class="op" id="7875071">{</span><span class="string" id="7875072">&#34;one&#34;</span><span class="op" id="7875077">:</span>&nbsp;<span class="num" id="7875079">1</span><span class="op" id="7875080">,</span>&nbsp;<span class="string" id="7875082">&#34;two&#34;</span><span class="op" id="7875087">:</span>&nbsp;<span class="num" id="7875089">2</span><span class="op" id="7875090">,</span>&nbsp;<span class="string" id="7875092">&#34;three&#34;</span><span class="op" id="7875099">:</span>&nbsp;<span class="num" id="7875101">3</span><span class="op" id="7875102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875105">b</span>&nbsp;<span class="op" id="7875107">:=</span>&nbsp;<span class="builtinfunc" id="7875110">new</span><span class="op" id="7875113">(</span><span class="ident" id="7875114">bytes</span><span class="op" id="7875119">.</span><span class="ident" id="7875120">Buffer</span><span class="op" id="7875126">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875129">NewEncoder</span><span class="op" id="7875139">(</span><span class="ident" id="7875140">b</span><span class="op" id="7875141">)</span><span class="op" id="7875142">.</span><span class="ident" id="7875143">Encode</span><span class="op" id="7875149">(</span><span class="ident" id="7875150">i</span><span class="op" id="7875151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875154">dec</span>&nbsp;<span class="op" id="7875158">:=</span>&nbsp;<span class="ident" id="7875161">NewDecoder</span><span class="op" id="7875171">(</span><span class="ident" id="7875172">b</span><span class="op" id="7875173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875176">var</span>&nbsp;<span class="ident" id="7875180">d</span>&nbsp;<span class="ident" id="7875182">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875190">err</span>&nbsp;<span class="op" id="7875194">:=</span>&nbsp;<span class="ident" id="7875197">dec</span><span class="op" id="7875200">.</span><span class="ident" id="7875201">Decode</span><span class="op" id="7875207">(</span><span class="op" id="7875208">&amp;</span><span class="ident" id="7875209">d</span><span class="op" id="7875210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875213">if</span>&nbsp;<span class="ident" id="7875216">err</span>&nbsp;<span class="op" id="7875220">!=</span>&nbsp;<span class="ident" id="7875223">nil</span>&nbsp;<span class="op" id="7875227">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875231">t</span><span class="op" id="7875232">.</span><span class="ident" id="7875233">Error</span><span class="op" id="7875238">(</span><span class="string" id="7875239">&#34;error:&nbsp;&#34;</span><span class="op" id="7875248">,</span>&nbsp;<span class="ident" id="7875250">err</span><span class="op" id="7875253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875259">if</span>&nbsp;<span class="builtinfunc" id="7875262">len</span><span class="op" id="7875265">(</span><span class="ident" id="7875266">d</span><span class="op" id="7875267">.</span><span class="ident" id="7875268">A</span><span class="op" id="7875269">)</span>&nbsp;<span class="op" id="7875271">!=</span>&nbsp;<span class="num" id="7875274">3</span>&nbsp;<span class="op" id="7875276">||</span>&nbsp;<span class="ident" id="7875279">d</span><span class="op" id="7875280">.</span><span class="ident" id="7875281">A</span><span class="op" id="7875282">[</span><span class="num" id="7875283">0</span><span class="op" id="7875284">]</span>&nbsp;<span class="op" id="7875286">!=</span>&nbsp;<span class="num" id="7875289">1</span>&nbsp;<span class="op" id="7875291">||</span>&nbsp;<span class="ident" id="7875294">d</span><span class="op" id="7875295">.</span><span class="ident" id="7875296">A</span><span class="op" id="7875297">[</span><span class="num" id="7875298">1</span><span class="op" id="7875299">]</span>&nbsp;<span class="op" id="7875301">!=</span>&nbsp;<span class="num" id="7875304">2</span>&nbsp;<span class="op" id="7875306">||</span>&nbsp;<span class="ident" id="7875309">d</span><span class="op" id="7875310">.</span><span class="ident" id="7875311">A</span><span class="op" id="7875312">[</span><span class="num" id="7875313">2</span><span class="op" id="7875314">]</span>&nbsp;<span class="op" id="7875316">!=</span>&nbsp;<span class="num" id="7875319">3</span>&nbsp;<span class="op" id="7875321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875325">t</span><span class="op" id="7875326">.</span><span class="ident" id="7875327">Errorf</span><span class="op" id="7875333">(</span><span class="string" id="7875334">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7875372">,</span>&nbsp;<span class="ident" id="7875374">d</span><span class="op" id="7875375">.</span><span class="ident" id="7875376">A</span><span class="op" id="7875377">,</span>&nbsp;<span class="op" id="7875379">*</span><span class="op" id="7875380">*</span><span class="op" id="7875381">*</span><span class="ident" id="7875382">i</span><span class="op" id="7875383">.</span><span class="ident" id="7875384">A</span><span class="op" id="7875385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875388">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875391">if</span>&nbsp;<span class="builtinfunc" id="7875394">len</span><span class="op" id="7875397">(</span><span class="ident" id="7875398">d</span><span class="op" id="7875399">.</span><span class="ident" id="7875400">S</span><span class="op" id="7875401">)</span>&nbsp;<span class="op" id="7875403">!=</span>&nbsp;<span class="num" id="7875406">3</span>&nbsp;<span class="op" id="7875408">||</span>&nbsp;<span class="ident" id="7875411">d</span><span class="op" id="7875412">.</span><span class="ident" id="7875413">S</span><span class="op" id="7875414">[</span><span class="num" id="7875415">0</span><span class="op" id="7875416">]</span>&nbsp;<span class="op" id="7875418">!=</span>&nbsp;<span class="num" id="7875421">4</span>&nbsp;<span class="op" id="7875423">||</span>&nbsp;<span class="ident" id="7875426">d</span><span class="op" id="7875427">.</span><span class="ident" id="7875428">S</span><span class="op" id="7875429">[</span><span class="num" id="7875430">1</span><span class="op" id="7875431">]</span>&nbsp;<span class="op" id="7875433">!=</span>&nbsp;<span class="num" id="7875436">5</span>&nbsp;<span class="op" id="7875438">||</span>&nbsp;<span class="ident" id="7875441">d</span><span class="op" id="7875442">.</span><span class="ident" id="7875443">S</span><span class="op" id="7875444">[</span><span class="num" id="7875445">2</span><span class="op" id="7875446">]</span>&nbsp;<span class="op" id="7875448">!=</span>&nbsp;<span class="num" id="7875451">6</span>&nbsp;<span class="op" id="7875453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875457">t</span><span class="op" id="7875458">.</span><span class="ident" id="7875459">Errorf</span><span class="op" id="7875465">(</span><span class="string" id="7875466">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7875504">,</span>&nbsp;<span class="ident" id="7875506">d</span><span class="op" id="7875507">.</span><span class="ident" id="7875508">S</span><span class="op" id="7875509">,</span>&nbsp;<span class="op" id="7875511">*</span><span class="op" id="7875512">*</span><span class="op" id="7875513">*</span><span class="ident" id="7875514">i</span><span class="op" id="7875515">.</span><span class="ident" id="7875516">S</span><span class="op" id="7875517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875523">if</span>&nbsp;<span class="builtinfunc" id="7875526">len</span><span class="op" id="7875529">(</span><span class="ident" id="7875530">d</span><span class="op" id="7875531">.</span><span class="ident" id="7875532">M</span><span class="op" id="7875533">)</span>&nbsp;<span class="op" id="7875535">!=</span>&nbsp;<span class="num" id="7875538">3</span>&nbsp;<span class="op" id="7875540">||</span>&nbsp;<span class="ident" id="7875543">d</span><span class="op" id="7875544">.</span><span class="ident" id="7875545">M</span><span class="op" id="7875546">[</span><span class="string" id="7875547">&#34;one&#34;</span><span class="op" id="7875552">]</span>&nbsp;<span class="op" id="7875554">!=</span>&nbsp;<span class="num" id="7875557">1</span>&nbsp;<span class="op" id="7875559">||</span>&nbsp;<span class="ident" id="7875562">d</span><span class="op" id="7875563">.</span><span class="ident" id="7875564">M</span><span class="op" id="7875565">[</span><span class="string" id="7875566">&#34;two&#34;</span><span class="op" id="7875571">]</span>&nbsp;<span class="op" id="7875573">!=</span>&nbsp;<span class="num" id="7875576">2</span>&nbsp;<span class="op" id="7875578">||</span>&nbsp;<span class="ident" id="7875581">d</span><span class="op" id="7875582">.</span><span class="ident" id="7875583">M</span><span class="op" id="7875584">[</span><span class="string" id="7875585">&#34;three&#34;</span><span class="op" id="7875592">]</span>&nbsp;<span class="op" id="7875594">!=</span>&nbsp;<span class="num" id="7875597">3</span>&nbsp;<span class="op" id="7875599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875603">t</span><span class="op" id="7875604">.</span><span class="ident" id="7875605">Errorf</span><span class="op" id="7875611">(</span><span class="string" id="7875612">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7875650">,</span>&nbsp;<span class="ident" id="7875652">d</span><span class="op" id="7875653">.</span><span class="ident" id="7875654">M</span><span class="op" id="7875655">,</span>&nbsp;<span class="op" id="7875657">*</span><span class="op" id="7875658">*</span><span class="op" id="7875659">*</span><span class="ident" id="7875660">i</span><span class="op" id="7875661">.</span><span class="ident" id="7875662">M</span><span class="op" id="7875663">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7875669">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875712">d</span><span class="op" id="7875713">.</span><span class="ident" id="7875714">A</span>&nbsp;<span class="op" id="7875716">=</span>&nbsp;<span class="op" id="7875718">[</span><span class="num" id="7875719">3</span><span class="op" id="7875720">]</span><span class="builtintype" id="7875721">int</span><span class="op" id="7875724">{</span><span class="num" id="7875725">11</span><span class="op" id="7875727">,</span>&nbsp;<span class="num" id="7875729">22</span><span class="op" id="7875731">,</span>&nbsp;<span class="num" id="7875733">33</span><span class="op" id="7875735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875738">d</span><span class="op" id="7875739">.</span><span class="ident" id="7875740">S</span>&nbsp;<span class="op" id="7875742">=</span>&nbsp;<span class="op" id="7875744">[</span><span class="op" id="7875745">]</span><span class="builtintype" id="7875746">int</span><span class="op" id="7875749">{</span><span class="num" id="7875750">44</span><span class="op" id="7875752">,</span>&nbsp;<span class="num" id="7875754">55</span><span class="op" id="7875756">,</span>&nbsp;<span class="num" id="7875758">66</span><span class="op" id="7875760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875763">d</span><span class="op" id="7875764">.</span><span class="ident" id="7875765">M</span>&nbsp;<span class="op" id="7875767">=</span>&nbsp;<span class="keyword" id="7875769">map</span><span class="op" id="7875772">[</span><span class="builtintype" id="7875773">string</span><span class="op" id="7875779">]</span><span class="builtintype" id="7875780">int</span><span class="op" id="7875783">{</span><span class="string" id="7875784">&#34;four&#34;</span><span class="op" id="7875790">:</span>&nbsp;<span class="num" id="7875792">4</span><span class="op" id="7875793">,</span>&nbsp;<span class="string" id="7875795">&#34;five&#34;</span><span class="op" id="7875801">:</span>&nbsp;<span class="num" id="7875803">5</span><span class="op" id="7875804">,</span>&nbsp;<span class="string" id="7875806">&#34;six&#34;</span><span class="op" id="7875811">:</span>&nbsp;<span class="num" id="7875813">6</span><span class="op" id="7875814">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875817">i</span>&nbsp;<span class="op" id="7875819">=</span>&nbsp;<span class="builtinfunc" id="7875821">new</span><span class="op" id="7875824">(</span><span class="ident" id="7875825">Indirect</span><span class="op" id="7875833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875836">b</span><span class="op" id="7875837">.</span><span class="ident" id="7875838">Reset</span><span class="op" id="7875843">(</span><span class="op" id="7875844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875847">NewEncoder</span><span class="op" id="7875857">(</span><span class="ident" id="7875858">b</span><span class="op" id="7875859">)</span><span class="op" id="7875860">.</span><span class="ident" id="7875861">Encode</span><span class="op" id="7875867">(</span><span class="ident" id="7875868">d</span><span class="op" id="7875869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875872">dec</span>&nbsp;<span class="op" id="7875876">=</span>&nbsp;<span class="ident" id="7875878">NewDecoder</span><span class="op" id="7875888">(</span><span class="ident" id="7875889">b</span><span class="op" id="7875890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875893">err</span>&nbsp;<span class="op" id="7875897">=</span>&nbsp;<span class="ident" id="7875899">dec</span><span class="op" id="7875902">.</span><span class="ident" id="7875903">Decode</span><span class="op" id="7875909">(</span><span class="op" id="7875910">&amp;</span><span class="ident" id="7875911">i</span><span class="op" id="7875912">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875915">if</span>&nbsp;<span class="ident" id="7875918">err</span>&nbsp;<span class="op" id="7875922">!=</span>&nbsp;<span class="ident" id="7875925">nil</span>&nbsp;<span class="op" id="7875929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875933">t</span><span class="op" id="7875934">.</span><span class="ident" id="7875935">Fatal</span><span class="op" id="7875940">(</span><span class="string" id="7875941">&#34;error:&nbsp;&#34;</span><span class="op" id="7875950">,</span>&nbsp;<span class="ident" id="7875952">err</span><span class="op" id="7875955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875961">if</span>&nbsp;<span class="builtinfunc" id="7875964">len</span><span class="op" id="7875967">(</span><span class="op" id="7875968">*</span><span class="op" id="7875969">*</span><span class="op" id="7875970">*</span><span class="ident" id="7875971">i</span><span class="op" id="7875972">.</span><span class="ident" id="7875973">A</span><span class="op" id="7875974">)</span>&nbsp;<span class="op" id="7875976">!=</span>&nbsp;<span class="num" id="7875979">3</span>&nbsp;<span class="op" id="7875981">||</span>&nbsp;<span class="op" id="7875984">(</span><span class="op" id="7875985">*</span><span class="op" id="7875986">*</span><span class="op" id="7875987">*</span><span class="ident" id="7875988">i</span><span class="op" id="7875989">.</span><span class="ident" id="7875990">A</span><span class="op" id="7875991">)</span><span class="op" id="7875992">[</span><span class="num" id="7875993">0</span><span class="op" id="7875994">]</span>&nbsp;<span class="op" id="7875996">!=</span>&nbsp;<span class="num" id="7875999">11</span>&nbsp;<span class="op" id="7876002">||</span>&nbsp;<span class="op" id="7876005">(</span><span class="op" id="7876006">*</span><span class="op" id="7876007">*</span><span class="op" id="7876008">*</span><span class="ident" id="7876009">i</span><span class="op" id="7876010">.</span><span class="ident" id="7876011">A</span><span class="op" id="7876012">)</span><span class="op" id="7876013">[</span><span class="num" id="7876014">1</span><span class="op" id="7876015">]</span>&nbsp;<span class="op" id="7876017">!=</span>&nbsp;<span class="num" id="7876020">22</span>&nbsp;<span class="op" id="7876023">||</span>&nbsp;<span class="op" id="7876026">(</span><span class="op" id="7876027">*</span><span class="op" id="7876028">*</span><span class="op" id="7876029">*</span><span class="ident" id="7876030">i</span><span class="op" id="7876031">.</span><span class="ident" id="7876032">A</span><span class="op" id="7876033">)</span><span class="op" id="7876034">[</span><span class="num" id="7876035">2</span><span class="op" id="7876036">]</span>&nbsp;<span class="op" id="7876038">!=</span>&nbsp;<span class="num" id="7876041">33</span>&nbsp;<span class="op" id="7876044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876048">t</span><span class="op" id="7876049">.</span><span class="ident" id="7876050">Errorf</span><span class="op" id="7876056">(</span><span class="string" id="7876057">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7876098">,</span>&nbsp;<span class="op" id="7876100">*</span><span class="op" id="7876101">*</span><span class="op" id="7876102">*</span><span class="ident" id="7876103">i</span><span class="op" id="7876104">.</span><span class="ident" id="7876105">A</span><span class="op" id="7876106">,</span>&nbsp;<span class="ident" id="7876108">d</span><span class="op" id="7876109">.</span><span class="ident" id="7876110">A</span><span class="op" id="7876111">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876117">if</span>&nbsp;<span class="builtinfunc" id="7876120">len</span><span class="op" id="7876123">(</span><span class="op" id="7876124">*</span><span class="op" id="7876125">*</span><span class="op" id="7876126">*</span><span class="ident" id="7876127">i</span><span class="op" id="7876128">.</span><span class="ident" id="7876129">S</span><span class="op" id="7876130">)</span>&nbsp;<span class="op" id="7876132">!=</span>&nbsp;<span class="num" id="7876135">3</span>&nbsp;<span class="op" id="7876137">||</span>&nbsp;<span class="op" id="7876140">(</span><span class="op" id="7876141">*</span><span class="op" id="7876142">*</span><span class="op" id="7876143">*</span><span class="ident" id="7876144">i</span><span class="op" id="7876145">.</span><span class="ident" id="7876146">S</span><span class="op" id="7876147">)</span><span class="op" id="7876148">[</span><span class="num" id="7876149">0</span><span class="op" id="7876150">]</span>&nbsp;<span class="op" id="7876152">!=</span>&nbsp;<span class="num" id="7876155">44</span>&nbsp;<span class="op" id="7876158">||</span>&nbsp;<span class="op" id="7876161">(</span><span class="op" id="7876162">*</span><span class="op" id="7876163">*</span><span class="op" id="7876164">*</span><span class="ident" id="7876165">i</span><span class="op" id="7876166">.</span><span class="ident" id="7876167">S</span><span class="op" id="7876168">)</span><span class="op" id="7876169">[</span><span class="num" id="7876170">1</span><span class="op" id="7876171">]</span>&nbsp;<span class="op" id="7876173">!=</span>&nbsp;<span class="num" id="7876176">55</span>&nbsp;<span class="op" id="7876179">||</span>&nbsp;<span class="op" id="7876182">(</span><span class="op" id="7876183">*</span><span class="op" id="7876184">*</span><span class="op" id="7876185">*</span><span class="ident" id="7876186">i</span><span class="op" id="7876187">.</span><span class="ident" id="7876188">S</span><span class="op" id="7876189">)</span><span class="op" id="7876190">[</span><span class="num" id="7876191">2</span><span class="op" id="7876192">]</span>&nbsp;<span class="op" id="7876194">!=</span>&nbsp;<span class="num" id="7876197">66</span>&nbsp;<span class="op" id="7876200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876204">t</span><span class="op" id="7876205">.</span><span class="ident" id="7876206">Errorf</span><span class="op" id="7876212">(</span><span class="string" id="7876213">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7876254">,</span>&nbsp;<span class="op" id="7876256">*</span><span class="op" id="7876257">*</span><span class="op" id="7876258">*</span><span class="ident" id="7876259">i</span><span class="op" id="7876260">.</span><span class="ident" id="7876261">S</span><span class="op" id="7876262">,</span>&nbsp;<span class="op" id="7876264">*</span><span class="op" id="7876265">*</span><span class="op" id="7876266">*</span><span class="ident" id="7876267">i</span><span class="op" id="7876268">.</span><span class="ident" id="7876269">S</span><span class="op" id="7876270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876273">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876276">if</span>&nbsp;<span class="builtinfunc" id="7876279">len</span><span class="op" id="7876282">(</span><span class="op" id="7876283">*</span><span class="op" id="7876284">*</span><span class="op" id="7876285">*</span><span class="op" id="7876286">*</span><span class="ident" id="7876287">i</span><span class="op" id="7876288">.</span><span class="ident" id="7876289">M</span><span class="op" id="7876290">)</span>&nbsp;<span class="op" id="7876292">!=</span>&nbsp;<span class="num" id="7876295">3</span>&nbsp;<span class="op" id="7876297">||</span>&nbsp;<span class="op" id="7876300">(</span><span class="op" id="7876301">*</span><span class="op" id="7876302">*</span><span class="op" id="7876303">*</span><span class="op" id="7876304">*</span><span class="ident" id="7876305">i</span><span class="op" id="7876306">.</span><span class="ident" id="7876307">M</span><span class="op" id="7876308">)</span><span class="op" id="7876309">[</span><span class="string" id="7876310">&#34;four&#34;</span><span class="op" id="7876316">]</span>&nbsp;<span class="op" id="7876318">!=</span>&nbsp;<span class="num" id="7876321">4</span>&nbsp;<span class="op" id="7876323">||</span>&nbsp;<span class="op" id="7876326">(</span><span class="op" id="7876327">*</span><span class="op" id="7876328">*</span><span class="op" id="7876329">*</span><span class="op" id="7876330">*</span><span class="ident" id="7876331">i</span><span class="op" id="7876332">.</span><span class="ident" id="7876333">M</span><span class="op" id="7876334">)</span><span class="op" id="7876335">[</span><span class="string" id="7876336">&#34;five&#34;</span><span class="op" id="7876342">]</span>&nbsp;<span class="op" id="7876344">!=</span>&nbsp;<span class="num" id="7876347">5</span>&nbsp;<span class="op" id="7876349">||</span>&nbsp;<span class="op" id="7876352">(</span><span class="op" id="7876353">*</span><span class="op" id="7876354">*</span><span class="op" id="7876355">*</span><span class="op" id="7876356">*</span><span class="ident" id="7876357">i</span><span class="op" id="7876358">.</span><span class="ident" id="7876359">M</span><span class="op" id="7876360">)</span><span class="op" id="7876361">[</span><span class="string" id="7876362">&#34;six&#34;</span><span class="op" id="7876367">]</span>&nbsp;<span class="op" id="7876369">!=</span>&nbsp;<span class="num" id="7876372">6</span>&nbsp;<span class="op" id="7876374">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876378">t</span><span class="op" id="7876379">.</span><span class="ident" id="7876380">Errorf</span><span class="op" id="7876386">(</span><span class="string" id="7876387">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="7876429">,</span>&nbsp;<span class="op" id="7876431">*</span><span class="op" id="7876432">*</span><span class="op" id="7876433">*</span><span class="op" id="7876434">*</span><span class="ident" id="7876435">i</span><span class="op" id="7876436">.</span><span class="ident" id="7876437">M</span><span class="op" id="7876438">,</span>&nbsp;<span class="ident" id="7876440">d</span><span class="op" id="7876441">.</span><span class="ident" id="7876442">M</span><span class="op" id="7876443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876446">}</span><br>
<span class="lineno"></span><span class="op" id="7876448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7876451">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="7876496">type</span>&nbsp;<span class="ident" id="7876501">Squarer</span>&nbsp;<span class="keyword" id="7876509">interface</span>&nbsp;<span class="op" id="7876519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876522">Square</span><span class="op" id="7876528">(</span><span class="op" id="7876529">)</span>&nbsp;<span class="builtintype" id="7876531">int</span><br>
<span class="lineno"></span><span class="op" id="7876535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876538">type</span>&nbsp;<span class="ident" id="7876543">Int</span>&nbsp;<span class="builtintype" id="7876547">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="7876552">func</span>&nbsp;<span class="op" id="7876557">(</span><span class="ident" id="7876558">i</span>&nbsp;<span class="ident" id="7876560">Int</span><span class="op" id="7876563">)</span>&nbsp;<span class="ident" id="7876565">Square</span><span class="op" id="7876571">(</span><span class="op" id="7876572">)</span>&nbsp;<span class="builtintype" id="7876574">int</span>&nbsp;<span class="op" id="7876578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876581">return</span>&nbsp;<span class="builtintype" id="7876588">int</span><span class="op" id="7876591">(</span><span class="ident" id="7876592">i</span>&nbsp;<span class="op" id="7876594">*</span>&nbsp;<span class="ident" id="7876596">i</span><span class="op" id="7876597">)</span><br>
<span class="lineno"></span><span class="op" id="7876599">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="7876602">type</span>&nbsp;<span class="ident" id="7876607">Float</span>&nbsp;<span class="builtintype" id="7876613">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876622">func</span>&nbsp;<span class="op" id="7876627">(</span><span class="ident" id="7876628">f</span>&nbsp;<span class="ident" id="7876630">Float</span><span class="op" id="7876635">)</span>&nbsp;<span class="ident" id="7876637">Square</span><span class="op" id="7876643">(</span><span class="op" id="7876644">)</span>&nbsp;<span class="builtintype" id="7876646">int</span>&nbsp;<span class="op" id="7876650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876653">return</span>&nbsp;<span class="builtintype" id="7876660">int</span><span class="op" id="7876663">(</span><span class="ident" id="7876664">f</span>&nbsp;<span class="op" id="7876666">*</span>&nbsp;<span class="ident" id="7876668">f</span><span class="op" id="7876669">)</span><br>
<span class="lineno"></span><span class="op" id="7876671">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="7876674">type</span>&nbsp;<span class="ident" id="7876679">Vector</span>&nbsp;<span class="op" id="7876686">[</span><span class="op" id="7876687">]</span><span class="builtintype" id="7876688">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7876693">func</span>&nbsp;<span class="op" id="7876698">(</span><span class="ident" id="7876699">v</span>&nbsp;<span class="ident" id="7876701">Vector</span><span class="op" id="7876707">)</span>&nbsp;<span class="ident" id="7876709">Square</span><span class="op" id="7876715">(</span><span class="op" id="7876716">)</span>&nbsp;<span class="builtintype" id="7876718">int</span>&nbsp;<span class="op" id="7876722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876725">sum</span>&nbsp;<span class="op" id="7876729">:=</span>&nbsp;<span class="num" id="7876732">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876735">for</span>&nbsp;<span class="ident" id="7876739">_</span><span class="op" id="7876740">,</span>&nbsp;<span class="ident" id="7876742">x</span>&nbsp;<span class="op" id="7876744">:=</span>&nbsp;<span class="keyword" id="7876747">range</span>&nbsp;<span class="ident" id="7876753">v</span>&nbsp;<span class="op" id="7876755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876759">sum</span>&nbsp;<span class="op" id="7876763">+=</span>&nbsp;<span class="ident" id="7876766">x</span>&nbsp;<span class="op" id="7876768">*</span>&nbsp;<span class="ident" id="7876770">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7876773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876776">return</span>&nbsp;<span class="ident" id="7876783">sum</span><br>
<span class="lineno"></span><span class="op" id="7876787">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="7876790">type</span>&nbsp;<span class="ident" id="7876795">Point</span>&nbsp;<span class="keyword" id="7876801">struct</span>&nbsp;<span class="op" id="7876808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876811">X</span><span class="op" id="7876812">,</span>&nbsp;<span class="ident" id="7876814">Y</span>&nbsp;<span class="builtintype" id="7876816">int</span><br>
<span class="lineno"></span><span class="op" id="7876820">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="7876823">func</span>&nbsp;<span class="op" id="7876828">(</span><span class="ident" id="7876829">p</span>&nbsp;<span class="ident" id="7876831">Point</span><span class="op" id="7876836">)</span>&nbsp;<span class="ident" id="7876838">Square</span><span class="op" id="7876844">(</span><span class="op" id="7876845">)</span>&nbsp;<span class="builtintype" id="7876847">int</span>&nbsp;<span class="op" id="7876851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7876854">return</span>&nbsp;<span class="ident" id="7876861">p</span><span class="op" id="7876862">.</span><span class="ident" id="7876863">X</span><span class="op" id="7876864">*</span><span class="ident" id="7876865">p</span><span class="op" id="7876866">.</span><span class="ident" id="7876867">X</span>&nbsp;<span class="op" id="7876869">+</span>&nbsp;<span class="ident" id="7876871">p</span><span class="op" id="7876872">.</span><span class="ident" id="7876873">Y</span><span class="op" id="7876874">*</span><span class="ident" id="7876875">p</span><span class="op" id="7876876">.</span><span class="ident" id="7876877">Y</span><br>
<span class="lineno"></span><span class="op" id="7876879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7876882">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="7876917">type</span>&nbsp;<span class="ident" id="7876922">InterfaceItem</span>&nbsp;<span class="keyword" id="7876936">struct</span>&nbsp;<span class="op" id="7876943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876946">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7876960">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876965">Sq1</span><span class="op" id="7876968">,</span>&nbsp;<span class="ident" id="7876970">Sq2</span><span class="op" id="7876973">,</span>&nbsp;<span class="ident" id="7876975">Sq3</span>&nbsp;<span class="ident" id="7876979">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7876988">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7877002">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877011">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7877025">[</span><span class="op" id="7877026">]</span><span class="ident" id="7877027">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="7877035">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7877038">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="7877076">type</span>&nbsp;<span class="ident" id="7877081">NoInterfaceItem</span>&nbsp;<span class="keyword" id="7877097">struct</span>&nbsp;<span class="op" id="7877104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877107">I</span>&nbsp;<span class="builtintype" id="7877109">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877114">F</span>&nbsp;<span class="builtintype" id="7877116">float64</span><br>
<span class="lineno"></span><span class="op" id="7877124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7877127">func</span>&nbsp;<span class="ident" id="7877132">TestInterface</span><span class="op" id="7877145">(</span><span class="ident" id="7877146">t</span>&nbsp;<span class="op" id="7877148">*</span><span class="ident" id="7877149">testing</span><span class="op" id="7877156">.</span><span class="ident" id="7877157">T</span><span class="op" id="7877158">)</span>&nbsp;<span class="op" id="7877160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877163">iVal</span>&nbsp;<span class="op" id="7877168">:=</span>&nbsp;<span class="ident" id="7877171">Int</span><span class="op" id="7877174">(</span><span class="num" id="7877175">3</span><span class="op" id="7877176">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877179">fVal</span>&nbsp;<span class="op" id="7877184">:=</span>&nbsp;<span class="ident" id="7877187">Float</span><span class="op" id="7877192">(</span><span class="num" id="7877193">5</span><span class="op" id="7877194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7877197">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7877280">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877315">vVal</span>&nbsp;<span class="op" id="7877320">:=</span>&nbsp;<span class="ident" id="7877323">Vector</span><span class="op" id="7877329">{</span><span class="num" id="7877330">1</span><span class="op" id="7877331">,</span>&nbsp;<span class="num" id="7877333">2</span><span class="op" id="7877334">,</span>&nbsp;<span class="num" id="7877336">3</span><span class="op" id="7877337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877340">b</span>&nbsp;<span class="op" id="7877342">:=</span>&nbsp;<span class="builtinfunc" id="7877345">new</span><span class="op" id="7877348">(</span><span class="ident" id="7877349">bytes</span><span class="op" id="7877354">.</span><span class="ident" id="7877355">Buffer</span><span class="op" id="7877361">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877364">item1</span>&nbsp;<span class="op" id="7877370">:=</span>&nbsp;<span class="op" id="7877373">&amp;</span><span class="ident" id="7877374">InterfaceItem</span><span class="op" id="7877387">{</span><span class="num" id="7877388">1</span><span class="op" id="7877389">,</span>&nbsp;<span class="ident" id="7877391">iVal</span><span class="op" id="7877395">,</span>&nbsp;<span class="ident" id="7877397">fVal</span><span class="op" id="7877401">,</span>&nbsp;<span class="ident" id="7877403">vVal</span><span class="op" id="7877407">,</span>&nbsp;<span class="num" id="7877409">11.5</span><span class="op" id="7877413">,</span>&nbsp;<span class="op" id="7877415">[</span><span class="op" id="7877416">]</span><span class="ident" id="7877417">Squarer</span><span class="op" id="7877424">{</span><span class="ident" id="7877425">iVal</span><span class="op" id="7877429">,</span>&nbsp;<span class="ident" id="7877431">fVal</span><span class="op" id="7877435">,</span>&nbsp;<span class="ident" id="7877437">nil</span><span class="op" id="7877440">,</span>&nbsp;<span class="ident" id="7877442">vVal</span><span class="op" id="7877446">}</span><span class="op" id="7877447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7877450">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877474">Register</span><span class="op" id="7877482">(</span><span class="ident" id="7877483">Int</span><span class="op" id="7877486">(</span><span class="num" id="7877487">0</span><span class="op" id="7877488">)</span><span class="op" id="7877489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877492">Register</span><span class="op" id="7877500">(</span><span class="ident" id="7877501">Float</span><span class="op" id="7877506">(</span><span class="num" id="7877507">0</span><span class="op" id="7877508">)</span><span class="op" id="7877509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877512">Register</span><span class="op" id="7877520">(</span><span class="ident" id="7877521">Vector</span><span class="op" id="7877527">{</span><span class="op" id="7877528">}</span><span class="op" id="7877529">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877532">err</span>&nbsp;<span class="op" id="7877536">:=</span>&nbsp;<span class="ident" id="7877539">NewEncoder</span><span class="op" id="7877549">(</span><span class="ident" id="7877550">b</span><span class="op" id="7877551">)</span><span class="op" id="7877552">.</span><span class="ident" id="7877553">Encode</span><span class="op" id="7877559">(</span><span class="ident" id="7877560">item1</span><span class="op" id="7877565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877568">if</span>&nbsp;<span class="ident" id="7877571">err</span>&nbsp;<span class="op" id="7877575">!=</span>&nbsp;<span class="ident" id="7877578">nil</span>&nbsp;<span class="op" id="7877582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877586">t</span><span class="op" id="7877587">.</span><span class="ident" id="7877588">Error</span><span class="op" id="7877593">(</span><span class="string" id="7877594">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7877625">,</span>&nbsp;<span class="ident" id="7877627">err</span><span class="op" id="7877630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877637">item2</span>&nbsp;<span class="op" id="7877643">:=</span>&nbsp;<span class="ident" id="7877646">InterfaceItem</span><span class="op" id="7877659">{</span><span class="op" id="7877660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877663">err</span>&nbsp;<span class="op" id="7877667">=</span>&nbsp;<span class="ident" id="7877669">NewDecoder</span><span class="op" id="7877679">(</span><span class="ident" id="7877680">b</span><span class="op" id="7877681">)</span><span class="op" id="7877682">.</span><span class="ident" id="7877683">Decode</span><span class="op" id="7877689">(</span><span class="op" id="7877690">&amp;</span><span class="ident" id="7877691">item2</span><span class="op" id="7877696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877699">if</span>&nbsp;<span class="ident" id="7877702">err</span>&nbsp;<span class="op" id="7877706">!=</span>&nbsp;<span class="ident" id="7877709">nil</span>&nbsp;<span class="op" id="7877713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877717">t</span><span class="op" id="7877718">.</span><span class="ident" id="7877719">Fatal</span><span class="op" id="7877724">(</span><span class="string" id="7877725">&#34;decode:&#34;</span><span class="op" id="7877734">,</span>&nbsp;<span class="ident" id="7877736">err</span><span class="op" id="7877739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877742">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877745">if</span>&nbsp;<span class="ident" id="7877748">item2</span><span class="op" id="7877753">.</span><span class="ident" id="7877754">I</span>&nbsp;<span class="op" id="7877756">!=</span>&nbsp;<span class="ident" id="7877759">item1</span><span class="op" id="7877764">.</span><span class="ident" id="7877765">I</span>&nbsp;<span class="op" id="7877767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877771">t</span><span class="op" id="7877772">.</span><span class="ident" id="7877773">Error</span><span class="op" id="7877778">(</span><span class="string" id="7877779">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7877816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877822">if</span>&nbsp;<span class="ident" id="7877825">item2</span><span class="op" id="7877830">.</span><span class="ident" id="7877831">Sq1</span>&nbsp;<span class="op" id="7877835">==</span>&nbsp;<span class="ident" id="7877838">nil</span>&nbsp;<span class="op" id="7877842">||</span>&nbsp;<span class="ident" id="7877845">item2</span><span class="op" id="7877850">.</span><span class="ident" id="7877851">Sq1</span><span class="op" id="7877854">.</span><span class="ident" id="7877855">Square</span><span class="op" id="7877861">(</span><span class="op" id="7877862">)</span>&nbsp;<span class="op" id="7877864">!=</span>&nbsp;<span class="ident" id="7877867">iVal</span><span class="op" id="7877871">.</span><span class="ident" id="7877872">Square</span><span class="op" id="7877878">(</span><span class="op" id="7877879">)</span>&nbsp;<span class="op" id="7877881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877885">t</span><span class="op" id="7877886">.</span><span class="ident" id="7877887">Error</span><span class="op" id="7877892">(</span><span class="string" id="7877893">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7877923">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7877926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7877929">if</span>&nbsp;<span class="ident" id="7877932">item2</span><span class="op" id="7877937">.</span><span class="ident" id="7877938">Sq2</span>&nbsp;<span class="op" id="7877942">==</span>&nbsp;<span class="ident" id="7877945">nil</span>&nbsp;<span class="op" id="7877949">||</span>&nbsp;<span class="ident" id="7877952">item2</span><span class="op" id="7877957">.</span><span class="ident" id="7877958">Sq2</span><span class="op" id="7877961">.</span><span class="ident" id="7877962">Square</span><span class="op" id="7877968">(</span><span class="op" id="7877969">)</span>&nbsp;<span class="op" id="7877971">!=</span>&nbsp;<span class="ident" id="7877974">fVal</span><span class="op" id="7877978">.</span><span class="ident" id="7877979">Square</span><span class="op" id="7877985">(</span><span class="op" id="7877986">)</span>&nbsp;<span class="op" id="7877988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7877992">t</span><span class="op" id="7877993">.</span><span class="ident" id="7877994">Error</span><span class="op" id="7877999">(</span><span class="string" id="7878000">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7878032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878035">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878038">if</span>&nbsp;<span class="ident" id="7878041">item2</span><span class="op" id="7878046">.</span><span class="ident" id="7878047">Sq3</span>&nbsp;<span class="op" id="7878051">==</span>&nbsp;<span class="ident" id="7878054">nil</span>&nbsp;<span class="op" id="7878058">||</span>&nbsp;<span class="ident" id="7878061">item2</span><span class="op" id="7878066">.</span><span class="ident" id="7878067">Sq3</span><span class="op" id="7878070">.</span><span class="ident" id="7878071">Square</span><span class="op" id="7878077">(</span><span class="op" id="7878078">)</span>&nbsp;<span class="op" id="7878080">!=</span>&nbsp;<span class="ident" id="7878083">vVal</span><span class="op" id="7878087">.</span><span class="ident" id="7878088">Square</span><span class="op" id="7878094">(</span><span class="op" id="7878095">)</span>&nbsp;<span class="op" id="7878097">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878101">t</span><span class="op" id="7878102">.</span><span class="ident" id="7878103">Error</span><span class="op" id="7878108">(</span><span class="string" id="7878109">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7878142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878148">if</span>&nbsp;<span class="ident" id="7878151">item2</span><span class="op" id="7878156">.</span><span class="ident" id="7878157">F</span>&nbsp;<span class="op" id="7878159">!=</span>&nbsp;<span class="ident" id="7878162">item1</span><span class="op" id="7878167">.</span><span class="ident" id="7878168">F</span>&nbsp;<span class="op" id="7878170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878174">t</span><span class="op" id="7878175">.</span><span class="ident" id="7878176">Error</span><span class="op" id="7878181">(</span><span class="string" id="7878182">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7878221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878224">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7878227">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878313">if</span>&nbsp;<span class="builtinfunc" id="7878316">len</span><span class="op" id="7878319">(</span><span class="ident" id="7878320">item1</span><span class="op" id="7878325">.</span><span class="ident" id="7878326">Sq</span><span class="op" id="7878328">)</span>&nbsp;<span class="op" id="7878330">!=</span>&nbsp;<span class="builtinfunc" id="7878333">len</span><span class="op" id="7878336">(</span><span class="ident" id="7878337">item2</span><span class="op" id="7878342">.</span><span class="ident" id="7878343">Sq</span><span class="op" id="7878345">)</span>&nbsp;<span class="op" id="7878347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878351">t</span><span class="op" id="7878352">.</span><span class="ident" id="7878353">Fatalf</span><span class="op" id="7878359">(</span><span class="string" id="7878360">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7878405">,</span>&nbsp;<span class="builtinfunc" id="7878407">len</span><span class="op" id="7878410">(</span><span class="ident" id="7878411">item2</span><span class="op" id="7878416">.</span><span class="ident" id="7878417">Sq</span><span class="op" id="7878419">)</span><span class="op" id="7878420">,</span>&nbsp;<span class="builtinfunc" id="7878422">len</span><span class="op" id="7878425">(</span><span class="ident" id="7878426">item1</span><span class="op" id="7878431">.</span><span class="ident" id="7878432">Sq</span><span class="op" id="7878434">)</span><span class="op" id="7878435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878441">for</span>&nbsp;<span class="ident" id="7878445">i</span><span class="op" id="7878446">,</span>&nbsp;<span class="ident" id="7878448">v1</span>&nbsp;<span class="op" id="7878451">:=</span>&nbsp;<span class="keyword" id="7878454">range</span>&nbsp;<span class="ident" id="7878460">item1</span><span class="op" id="7878465">.</span><span class="ident" id="7878466">Sq</span>&nbsp;<span class="op" id="7878469">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878473">v2</span>&nbsp;<span class="op" id="7878476">:=</span>&nbsp;<span class="ident" id="7878479">item2</span><span class="op" id="7878484">.</span><span class="ident" id="7878485">Sq</span><span class="op" id="7878487">[</span><span class="ident" id="7878488">i</span><span class="op" id="7878489">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878493">if</span>&nbsp;<span class="ident" id="7878496">v1</span>&nbsp;<span class="op" id="7878499">==</span>&nbsp;<span class="ident" id="7878502">nil</span>&nbsp;<span class="op" id="7878506">||</span>&nbsp;<span class="ident" id="7878509">v2</span>&nbsp;<span class="op" id="7878512">==</span>&nbsp;<span class="ident" id="7878515">nil</span>&nbsp;<span class="op" id="7878519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7878524">if</span>&nbsp;<span class="ident" id="7878527">v1</span>&nbsp;<span class="op" id="7878530">!=</span>&nbsp;<span class="ident" id="7878533">nil</span>&nbsp;<span class="op" id="7878537">||</span>&nbsp;<span class="ident" id="7878540">v2</span>&nbsp;<span class="op" id="7878543">!=</span>&nbsp;<span class="ident" id="7878546">nil</span>&nbsp;<span class="op" id="7878550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878556">t</span><span class="op" id="7878557">.</span><span class="ident" id="7878558">Errorf</span><span class="op" id="7878564">(</span><span class="string" id="7878565">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="7878592">,</span>&nbsp;<span class="ident" id="7878594">i</span><span class="op" id="7878595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878600">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878604">}</span>&nbsp;<span class="keyword" id="7878606">else</span>&nbsp;<span class="keyword" id="7878611">if</span>&nbsp;<span class="ident" id="7878614">v1</span><span class="op" id="7878616">.</span><span class="ident" id="7878617">Square</span><span class="op" id="7878623">(</span><span class="op" id="7878624">)</span>&nbsp;<span class="op" id="7878626">!=</span>&nbsp;<span class="ident" id="7878629">v2</span><span class="op" id="7878631">.</span><span class="ident" id="7878632">Square</span><span class="op" id="7878638">(</span><span class="op" id="7878639">)</span>&nbsp;<span class="op" id="7878641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878646">t</span><span class="op" id="7878647">.</span><span class="ident" id="7878648">Errorf</span><span class="op" id="7878654">(</span><span class="string" id="7878655">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="7878691">,</span>&nbsp;<span class="ident" id="7878693">i</span><span class="op" id="7878694">,</span>&nbsp;<span class="ident" id="7878696">v1</span><span class="op" id="7878698">,</span>&nbsp;<span class="ident" id="7878700">v2</span><span class="op" id="7878702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878706">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7878709">}</span><br>
<span class="lineno"></span><span class="op" id="7878711">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="7878714">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="7878770">type</span>&nbsp;<span class="ident" id="7878775">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="7878794">struct</span>&nbsp;<span class="op" id="7878801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878804">Int</span><span class="op" id="7878807">,</span>&nbsp;<span class="ident" id="7878809">Int8</span><span class="op" id="7878813">,</span>&nbsp;<span class="ident" id="7878815">Int16</span><span class="op" id="7878820">,</span>&nbsp;<span class="ident" id="7878822">Int32</span><span class="op" id="7878827">,</span>&nbsp;<span class="ident" id="7878829">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7878840">interface</span><span class="op" id="7878849">{</span><span class="op" id="7878850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878853">Uint</span><span class="op" id="7878857">,</span>&nbsp;<span class="ident" id="7878859">Uint8</span><span class="op" id="7878864">,</span>&nbsp;<span class="ident" id="7878866">Uint16</span><span class="op" id="7878872">,</span>&nbsp;<span class="ident" id="7878874">Uint32</span><span class="op" id="7878880">,</span>&nbsp;<span class="ident" id="7878882">Uint64</span>&nbsp;<span class="keyword" id="7878889">interface</span><span class="op" id="7878898">{</span><span class="op" id="7878899">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878902">Float32</span><span class="op" id="7878909">,</span>&nbsp;<span class="ident" id="7878911">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7878938">interface</span><span class="op" id="7878947">{</span><span class="op" id="7878948">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7878951">Complex64</span><span class="op" id="7878960">,</span>&nbsp;<span class="ident" id="7878962">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7878987">interface</span><span class="op" id="7878996">{</span><span class="op" id="7878997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879000">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7879036">interface</span><span class="op" id="7879045">{</span><span class="op" id="7879046">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879049">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7879085">interface</span><span class="op" id="7879094">{</span><span class="op" id="7879095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879098">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7879134">interface</span><span class="op" id="7879143">{</span><span class="op" id="7879144">}</span><br>
<span class="lineno">1160</span><span class="op" id="7879146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7879149">func</span>&nbsp;<span class="ident" id="7879154">TestInterfaceBasic</span><span class="op" id="7879172">(</span><span class="ident" id="7879173">t</span>&nbsp;<span class="op" id="7879175">*</span><span class="ident" id="7879176">testing</span><span class="op" id="7879183">.</span><span class="ident" id="7879184">T</span><span class="op" id="7879185">)</span>&nbsp;<span class="op" id="7879187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879190">b</span>&nbsp;<span class="op" id="7879192">:=</span>&nbsp;<span class="builtinfunc" id="7879195">new</span><span class="op" id="7879198">(</span><span class="ident" id="7879199">bytes</span><span class="op" id="7879204">.</span><span class="ident" id="7879205">Buffer</span><span class="op" id="7879211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879214">item1</span>&nbsp;<span class="op" id="7879220">:=</span>&nbsp;<span class="op" id="7879223">&amp;</span><span class="ident" id="7879224">BasicInterfaceItem</span><span class="op" id="7879242">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7879246">int</span><span class="op" id="7879249">(</span><span class="num" id="7879250">1</span><span class="op" id="7879251">)</span><span class="op" id="7879252">,</span>&nbsp;<span class="builtintype" id="7879254">int8</span><span class="op" id="7879258">(</span><span class="num" id="7879259">1</span><span class="op" id="7879260">)</span><span class="op" id="7879261">,</span>&nbsp;<span class="builtintype" id="7879263">int16</span><span class="op" id="7879268">(</span><span class="num" id="7879269">1</span><span class="op" id="7879270">)</span><span class="op" id="7879271">,</span>&nbsp;<span class="builtintype" id="7879273">int32</span><span class="op" id="7879278">(</span><span class="num" id="7879279">1</span><span class="op" id="7879280">)</span><span class="op" id="7879281">,</span>&nbsp;<span class="ident" id="7879283">int64</span><span class="op" id="7879288">(</span><span class="num" id="7879289">1</span><span class="op" id="7879290">)</span><span class="op" id="7879291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7879295">uint</span><span class="op" id="7879299">(</span><span class="num" id="7879300">1</span><span class="op" id="7879301">)</span><span class="op" id="7879302">,</span>&nbsp;<span class="builtintype" id="7879304">uint8</span><span class="op" id="7879309">(</span><span class="num" id="7879310">1</span><span class="op" id="7879311">)</span><span class="op" id="7879312">,</span>&nbsp;<span class="builtintype" id="7879314">uint16</span><span class="op" id="7879320">(</span><span class="num" id="7879321">1</span><span class="op" id="7879322">)</span><span class="op" id="7879323">,</span>&nbsp;<span class="builtintype" id="7879325">uint32</span><span class="op" id="7879331">(</span><span class="num" id="7879332">1</span><span class="op" id="7879333">)</span><span class="op" id="7879334">,</span>&nbsp;<span class="ident" id="7879336">uint64</span><span class="op" id="7879342">(</span><span class="num" id="7879343">1</span><span class="op" id="7879344">)</span><span class="op" id="7879345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7879349">float32</span><span class="op" id="7879356">(</span><span class="num" id="7879357">1</span><span class="op" id="7879358">)</span><span class="op" id="7879359">,</span>&nbsp;<span class="num" id="7879361">1.0</span><span class="op" id="7879364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7879368">complex64</span><span class="op" id="7879377">(</span><span class="num" id="7879378">1i</span><span class="op" id="7879380">)</span><span class="op" id="7879381">,</span>&nbsp;<span class="builtintype" id="7879383">complex128</span><span class="op" id="7879393">(</span><span class="num" id="7879394">1i</span><span class="op" id="7879396">)</span><span class="op" id="7879397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7879401">true</span><span class="op" id="7879405">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7879409">&#34;hello&#34;</span><span class="op" id="7879416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879420">[</span><span class="op" id="7879421">]</span><span class="builtintype" id="7879422">byte</span><span class="op" id="7879426">(</span><span class="string" id="7879427">&#34;sailor&#34;</span><span class="op" id="7879435">)</span><span class="op" id="7879436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879442">err</span>&nbsp;<span class="op" id="7879446">:=</span>&nbsp;<span class="ident" id="7879449">NewEncoder</span><span class="op" id="7879459">(</span><span class="ident" id="7879460">b</span><span class="op" id="7879461">)</span><span class="op" id="7879462">.</span><span class="ident" id="7879463">Encode</span><span class="op" id="7879469">(</span><span class="ident" id="7879470">item1</span><span class="op" id="7879475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879478">if</span>&nbsp;<span class="ident" id="7879481">err</span>&nbsp;<span class="op" id="7879485">!=</span>&nbsp;<span class="ident" id="7879488">nil</span>&nbsp;<span class="op" id="7879492">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879496">t</span><span class="op" id="7879497">.</span><span class="ident" id="7879498">Error</span><span class="op" id="7879503">(</span><span class="string" id="7879504">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7879535">,</span>&nbsp;<span class="ident" id="7879537">err</span><span class="op" id="7879540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879547">item2</span>&nbsp;<span class="op" id="7879553">:=</span>&nbsp;<span class="op" id="7879556">&amp;</span><span class="ident" id="7879557">BasicInterfaceItem</span><span class="op" id="7879575">{</span><span class="op" id="7879576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879579">err</span>&nbsp;<span class="op" id="7879583">=</span>&nbsp;<span class="ident" id="7879585">NewDecoder</span><span class="op" id="7879595">(</span><span class="ident" id="7879596">b</span><span class="op" id="7879597">)</span><span class="op" id="7879598">.</span><span class="ident" id="7879599">Decode</span><span class="op" id="7879605">(</span><span class="op" id="7879606">&amp;</span><span class="ident" id="7879607">item2</span><span class="op" id="7879612">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879615">if</span>&nbsp;<span class="ident" id="7879618">err</span>&nbsp;<span class="op" id="7879622">!=</span>&nbsp;<span class="ident" id="7879625">nil</span>&nbsp;<span class="op" id="7879629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879633">t</span><span class="op" id="7879634">.</span><span class="ident" id="7879635">Fatal</span><span class="op" id="7879640">(</span><span class="string" id="7879641">&#34;decode:&#34;</span><span class="op" id="7879650">,</span>&nbsp;<span class="ident" id="7879652">err</span><span class="op" id="7879655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879661">if</span>&nbsp;<span class="op" id="7879664">!</span><span class="ident" id="7879665">reflect</span><span class="op" id="7879672">.</span><span class="ident" id="7879673">DeepEqual</span><span class="op" id="7879682">(</span><span class="ident" id="7879683">item1</span><span class="op" id="7879688">,</span>&nbsp;<span class="ident" id="7879690">item2</span><span class="op" id="7879695">)</span>&nbsp;<span class="op" id="7879697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879701">t</span><span class="op" id="7879702">.</span><span class="ident" id="7879703">Errorf</span><span class="op" id="7879709">(</span><span class="string" id="7879710">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7879737">,</span>&nbsp;<span class="ident" id="7879739">item1</span><span class="op" id="7879744">,</span>&nbsp;<span class="ident" id="7879746">item2</span><span class="op" id="7879751">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7879757">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879800">if</span>&nbsp;<span class="ident" id="7879803">v</span><span class="op" id="7879804">,</span>&nbsp;<span class="ident" id="7879806">ok</span>&nbsp;<span class="op" id="7879809">:=</span>&nbsp;<span class="ident" id="7879812">item2</span><span class="op" id="7879817">.</span><span class="ident" id="7879818">Bool</span><span class="op" id="7879822">.</span><span class="op" id="7879823">(</span><span class="builtintype" id="7879824">bool</span><span class="op" id="7879828">)</span><span class="op" id="7879829">;</span>&nbsp;<span class="op" id="7879831">!</span><span class="ident" id="7879832">ok</span>&nbsp;<span class="op" id="7879835">||</span>&nbsp;<span class="op" id="7879838">!</span><span class="ident" id="7879839">v</span>&nbsp;<span class="op" id="7879841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879845">t</span><span class="op" id="7879846">.</span><span class="ident" id="7879847">Error</span><span class="op" id="7879852">(</span><span class="string" id="7879853">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="7879877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7879880">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7879883">if</span>&nbsp;<span class="ident" id="7879886">v</span><span class="op" id="7879887">,</span>&nbsp;<span class="ident" id="7879889">ok</span>&nbsp;<span class="op" id="7879892">:=</span>&nbsp;<span class="ident" id="7879895">item2</span><span class="op" id="7879900">.</span><span class="ident" id="7879901">String</span><span class="op" id="7879907">.</span><span class="op" id="7879908">(</span><span class="builtintype" id="7879909">string</span><span class="op" id="7879915">)</span><span class="op" id="7879916">;</span>&nbsp;<span class="op" id="7879918">!</span><span class="ident" id="7879919">ok</span>&nbsp;<span class="op" id="7879922">||</span>&nbsp;<span class="ident" id="7879925">v</span>&nbsp;<span class="op" id="7879927">!=</span>&nbsp;<span class="ident" id="7879930">item1</span><span class="op" id="7879935">.</span><span class="ident" id="7879936">String</span><span class="op" id="7879942">.</span><span class="op" id="7879943">(</span><span class="builtintype" id="7879944">string</span><span class="op" id="7879950">)</span>&nbsp;<span class="op" id="7879952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7879956">t</span><span class="op" id="7879957">.</span><span class="ident" id="7879958">Errorf</span><span class="op" id="7879964">(</span><span class="string" id="7879965">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="7879992">,</span>&nbsp;<span class="ident" id="7879994">item1</span><span class="op" id="7879999">.</span><span class="ident" id="7880000">String</span><span class="op" id="7880006">,</span>&nbsp;<span class="ident" id="7880008">v</span><span class="op" id="7880009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880012">}</span><br>
<span class="lineno"></span><span class="op" id="7880014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="7880017">type</span>&nbsp;<span class="ident" id="7880022">String</span>&nbsp;<span class="builtintype" id="7880029">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7880037">type</span>&nbsp;<span class="ident" id="7880042">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="7880059">struct</span>&nbsp;<span class="op" id="7880066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880069">Str1</span>&nbsp;<span class="keyword" id="7880074">interface</span><span class="op" id="7880083">{</span><span class="op" id="7880084">}</span>&nbsp;<span class="comment" id="7880086">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880096">Str2</span>&nbsp;<span class="keyword" id="7880101">interface</span><span class="op" id="7880110">{</span><span class="op" id="7880111">}</span>&nbsp;<span class="comment" id="7880113">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="7880124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7880127">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="7880174">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="7880224">func</span>&nbsp;<span class="ident" id="7880229">TestInterfacePointer</span><span class="op" id="7880249">(</span><span class="ident" id="7880250">t</span>&nbsp;<span class="op" id="7880252">*</span><span class="ident" id="7880253">testing</span><span class="op" id="7880260">.</span><span class="ident" id="7880261">T</span><span class="op" id="7880262">)</span>&nbsp;<span class="op" id="7880264">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880267">b</span>&nbsp;<span class="op" id="7880269">:=</span>&nbsp;<span class="builtinfunc" id="7880272">new</span><span class="op" id="7880275">(</span><span class="ident" id="7880276">bytes</span><span class="op" id="7880281">.</span><span class="ident" id="7880282">Buffer</span><span class="op" id="7880288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880291">str1</span>&nbsp;<span class="op" id="7880296">:=</span>&nbsp;<span class="string" id="7880299">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880308">str2</span>&nbsp;<span class="op" id="7880313">:=</span>&nbsp;<span class="ident" id="7880316">String</span><span class="op" id="7880322">(</span><span class="string" id="7880323">&#34;kiddo&#34;</span><span class="op" id="7880330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880333">item1</span>&nbsp;<span class="op" id="7880339">:=</span>&nbsp;<span class="op" id="7880342">&amp;</span><span class="ident" id="7880343">PtrInterfaceItem</span><span class="op" id="7880359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880363">&amp;</span><span class="ident" id="7880364">str1</span><span class="op" id="7880368">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880372">&amp;</span><span class="ident" id="7880373">str2</span><span class="op" id="7880377">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7880383">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880406">Register</span><span class="op" id="7880414">(</span><span class="ident" id="7880415">str2</span><span class="op" id="7880419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880422">err</span>&nbsp;<span class="op" id="7880426">:=</span>&nbsp;<span class="ident" id="7880429">NewEncoder</span><span class="op" id="7880439">(</span><span class="ident" id="7880440">b</span><span class="op" id="7880441">)</span><span class="op" id="7880442">.</span><span class="ident" id="7880443">Encode</span><span class="op" id="7880449">(</span><span class="ident" id="7880450">item1</span><span class="op" id="7880455">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880458">if</span>&nbsp;<span class="ident" id="7880461">err</span>&nbsp;<span class="op" id="7880465">!=</span>&nbsp;<span class="ident" id="7880468">nil</span>&nbsp;<span class="op" id="7880472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880476">t</span><span class="op" id="7880477">.</span><span class="ident" id="7880478">Error</span><span class="op" id="7880483">(</span><span class="string" id="7880484">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7880515">,</span>&nbsp;<span class="ident" id="7880517">err</span><span class="op" id="7880520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880527">item2</span>&nbsp;<span class="op" id="7880533">:=</span>&nbsp;<span class="op" id="7880536">&amp;</span><span class="ident" id="7880537">PtrInterfaceItem</span><span class="op" id="7880553">{</span><span class="op" id="7880554">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880557">err</span>&nbsp;<span class="op" id="7880561">=</span>&nbsp;<span class="ident" id="7880563">NewDecoder</span><span class="op" id="7880573">(</span><span class="ident" id="7880574">b</span><span class="op" id="7880575">)</span><span class="op" id="7880576">.</span><span class="ident" id="7880577">Decode</span><span class="op" id="7880583">(</span><span class="op" id="7880584">&amp;</span><span class="ident" id="7880585">item2</span><span class="op" id="7880590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880593">if</span>&nbsp;<span class="ident" id="7880596">err</span>&nbsp;<span class="op" id="7880600">!=</span>&nbsp;<span class="ident" id="7880603">nil</span>&nbsp;<span class="op" id="7880607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880611">t</span><span class="op" id="7880612">.</span><span class="ident" id="7880613">Fatal</span><span class="op" id="7880618">(</span><span class="string" id="7880619">&#34;decode:&#34;</span><span class="op" id="7880628">,</span>&nbsp;<span class="ident" id="7880630">err</span><span class="op" id="7880633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7880639">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880683">if</span>&nbsp;<span class="ident" id="7880686">v</span><span class="op" id="7880687">,</span>&nbsp;<span class="ident" id="7880689">ok</span>&nbsp;<span class="op" id="7880692">:=</span>&nbsp;<span class="ident" id="7880695">item2</span><span class="op" id="7880700">.</span><span class="ident" id="7880701">Str1</span><span class="op" id="7880705">.</span><span class="op" id="7880706">(</span><span class="builtintype" id="7880707">string</span><span class="op" id="7880713">)</span><span class="op" id="7880714">;</span>&nbsp;<span class="op" id="7880716">!</span><span class="ident" id="7880717">ok</span>&nbsp;<span class="op" id="7880720">||</span>&nbsp;<span class="ident" id="7880723">v</span>&nbsp;<span class="op" id="7880725">!=</span>&nbsp;<span class="ident" id="7880728">str1</span>&nbsp;<span class="op" id="7880733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880737">t</span><span class="op" id="7880738">.</span><span class="ident" id="7880739">Errorf</span><span class="op" id="7880745">(</span><span class="string" id="7880746">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="7880784">,</span>&nbsp;<span class="ident" id="7880786">v</span><span class="op" id="7880787">,</span>&nbsp;<span class="ident" id="7880789">str1</span><span class="op" id="7880793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7880799">if</span>&nbsp;<span class="ident" id="7880802">v</span><span class="op" id="7880803">,</span>&nbsp;<span class="ident" id="7880805">ok</span>&nbsp;<span class="op" id="7880808">:=</span>&nbsp;<span class="ident" id="7880811">item2</span><span class="op" id="7880816">.</span><span class="ident" id="7880817">Str2</span><span class="op" id="7880821">.</span><span class="op" id="7880822">(</span><span class="ident" id="7880823">String</span><span class="op" id="7880829">)</span><span class="op" id="7880830">;</span>&nbsp;<span class="op" id="7880832">!</span><span class="ident" id="7880833">ok</span>&nbsp;<span class="op" id="7880836">||</span>&nbsp;<span class="ident" id="7880839">v</span>&nbsp;<span class="op" id="7880841">!=</span>&nbsp;<span class="ident" id="7880844">str2</span>&nbsp;<span class="op" id="7880849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880853">t</span><span class="op" id="7880854">.</span><span class="ident" id="7880855">Errorf</span><span class="op" id="7880861">(</span><span class="string" id="7880862">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="7880907">,</span>&nbsp;<span class="ident" id="7880909">v</span><span class="op" id="7880910">,</span>&nbsp;<span class="ident" id="7880912">str2</span><span class="op" id="7880916">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7880919">}</span><br>
<span class="lineno"></span><span class="op" id="7880921">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7880924">func</span>&nbsp;<span class="ident" id="7880929">TestIgnoreInterface</span><span class="op" id="7880948">(</span><span class="ident" id="7880949">t</span>&nbsp;<span class="op" id="7880951">*</span><span class="ident" id="7880952">testing</span><span class="op" id="7880959">.</span><span class="ident" id="7880960">T</span><span class="op" id="7880961">)</span>&nbsp;<span class="op" id="7880963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880966">iVal</span>&nbsp;<span class="op" id="7880971">:=</span>&nbsp;<span class="ident" id="7880974">Int</span><span class="op" id="7880977">(</span><span class="num" id="7880978">3</span><span class="op" id="7880979">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7880982">fVal</span>&nbsp;<span class="op" id="7880987">:=</span>&nbsp;<span class="ident" id="7880990">Float</span><span class="op" id="7880995">(</span><span class="num" id="7880996">5</span><span class="op" id="7880997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7881000">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7881082">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881117">pVal</span>&nbsp;<span class="op" id="7881122">:=</span>&nbsp;<span class="ident" id="7881125">Point</span><span class="op" id="7881130">{</span><span class="num" id="7881131">2</span><span class="op" id="7881132">,</span>&nbsp;<span class="num" id="7881134">3</span><span class="op" id="7881135">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881138">b</span>&nbsp;<span class="op" id="7881140">:=</span>&nbsp;<span class="builtinfunc" id="7881143">new</span><span class="op" id="7881146">(</span><span class="ident" id="7881147">bytes</span><span class="op" id="7881152">.</span><span class="ident" id="7881153">Buffer</span><span class="op" id="7881159">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881162">item1</span>&nbsp;<span class="op" id="7881168">:=</span>&nbsp;<span class="op" id="7881171">&amp;</span><span class="ident" id="7881172">InterfaceItem</span><span class="op" id="7881185">{</span><span class="num" id="7881186">1</span><span class="op" id="7881187">,</span>&nbsp;<span class="ident" id="7881189">iVal</span><span class="op" id="7881193">,</span>&nbsp;<span class="ident" id="7881195">fVal</span><span class="op" id="7881199">,</span>&nbsp;<span class="ident" id="7881201">pVal</span><span class="op" id="7881205">,</span>&nbsp;<span class="num" id="7881207">11.5</span><span class="op" id="7881211">,</span>&nbsp;<span class="ident" id="7881213">nil</span><span class="op" id="7881216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7881219">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881243">Register</span><span class="op" id="7881251">(</span><span class="ident" id="7881252">Int</span><span class="op" id="7881255">(</span><span class="num" id="7881256">0</span><span class="op" id="7881257">)</span><span class="op" id="7881258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881261">Register</span><span class="op" id="7881269">(</span><span class="ident" id="7881270">Float</span><span class="op" id="7881275">(</span><span class="num" id="7881276">0</span><span class="op" id="7881277">)</span><span class="op" id="7881278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881281">Register</span><span class="op" id="7881289">(</span><span class="ident" id="7881290">Point</span><span class="op" id="7881295">{</span><span class="op" id="7881296">}</span><span class="op" id="7881297">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881300">err</span>&nbsp;<span class="op" id="7881304">:=</span>&nbsp;<span class="ident" id="7881307">NewEncoder</span><span class="op" id="7881317">(</span><span class="ident" id="7881318">b</span><span class="op" id="7881319">)</span><span class="op" id="7881320">.</span><span class="ident" id="7881321">Encode</span><span class="op" id="7881327">(</span><span class="ident" id="7881328">item1</span><span class="op" id="7881333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881336">if</span>&nbsp;<span class="ident" id="7881339">err</span>&nbsp;<span class="op" id="7881343">!=</span>&nbsp;<span class="ident" id="7881346">nil</span>&nbsp;<span class="op" id="7881350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881354">t</span><span class="op" id="7881355">.</span><span class="ident" id="7881356">Error</span><span class="op" id="7881361">(</span><span class="string" id="7881362">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="7881393">,</span>&nbsp;<span class="ident" id="7881395">err</span><span class="op" id="7881398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881405">item2</span>&nbsp;<span class="op" id="7881411">:=</span>&nbsp;<span class="ident" id="7881414">NoInterfaceItem</span><span class="op" id="7881429">{</span><span class="op" id="7881430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881433">err</span>&nbsp;<span class="op" id="7881437">=</span>&nbsp;<span class="ident" id="7881439">NewDecoder</span><span class="op" id="7881449">(</span><span class="ident" id="7881450">b</span><span class="op" id="7881451">)</span><span class="op" id="7881452">.</span><span class="ident" id="7881453">Decode</span><span class="op" id="7881459">(</span><span class="op" id="7881460">&amp;</span><span class="ident" id="7881461">item2</span><span class="op" id="7881466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881469">if</span>&nbsp;<span class="ident" id="7881472">err</span>&nbsp;<span class="op" id="7881476">!=</span>&nbsp;<span class="ident" id="7881479">nil</span>&nbsp;<span class="op" id="7881483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881487">t</span><span class="op" id="7881488">.</span><span class="ident" id="7881489">Fatal</span><span class="op" id="7881494">(</span><span class="string" id="7881495">&#34;decode:&#34;</span><span class="op" id="7881504">,</span>&nbsp;<span class="ident" id="7881506">err</span><span class="op" id="7881509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881512">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881515">if</span>&nbsp;<span class="ident" id="7881518">item2</span><span class="op" id="7881523">.</span><span class="ident" id="7881524">I</span>&nbsp;<span class="op" id="7881526">!=</span>&nbsp;<span class="ident" id="7881529">item1</span><span class="op" id="7881534">.</span><span class="ident" id="7881535">I</span>&nbsp;<span class="op" id="7881537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881541">t</span><span class="op" id="7881542">.</span><span class="ident" id="7881543">Error</span><span class="op" id="7881548">(</span><span class="string" id="7881549">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7881586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881592">if</span>&nbsp;<span class="ident" id="7881595">item2</span><span class="op" id="7881600">.</span><span class="ident" id="7881601">F</span>&nbsp;<span class="op" id="7881603">!=</span>&nbsp;<span class="ident" id="7881606">item2</span><span class="op" id="7881611">.</span><span class="ident" id="7881612">F</span>&nbsp;<span class="op" id="7881614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881618">t</span><span class="op" id="7881619">.</span><span class="ident" id="7881620">Error</span><span class="op" id="7881625">(</span><span class="string" id="7881626">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="7881665">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7881668">}</span><br>
<span class="lineno"></span><span class="op" id="7881670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7881673">type</span>&nbsp;<span class="ident" id="7881678">U</span>&nbsp;<span class="keyword" id="7881680">struct</span>&nbsp;<span class="op" id="7881687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881690">A</span>&nbsp;<span class="builtintype" id="7881692">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881697">B</span>&nbsp;<span class="builtintype" id="7881699">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881707">c</span>&nbsp;<span class="builtintype" id="7881709">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881718">D</span>&nbsp;<span class="builtintype" id="7881720">uint</span><br>
<span class="lineno"></span><span class="op" id="7881725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="7881728">func</span>&nbsp;<span class="ident" id="7881733">TestUnexportedFields</span><span class="op" id="7881753">(</span><span class="ident" id="7881754">t</span>&nbsp;<span class="op" id="7881756">*</span><span class="ident" id="7881757">testing</span><span class="op" id="7881764">.</span><span class="ident" id="7881765">T</span><span class="op" id="7881766">)</span>&nbsp;<span class="op" id="7881768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881771">var</span>&nbsp;<span class="ident" id="7881775">u0</span>&nbsp;<span class="ident" id="7881778">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881781">u0</span><span class="op" id="7881783">.</span><span class="ident" id="7881784">A</span>&nbsp;<span class="op" id="7881786">=</span>&nbsp;<span class="num" id="7881788">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881792">u0</span><span class="op" id="7881794">.</span><span class="ident" id="7881795">B</span>&nbsp;<span class="op" id="7881797">=</span>&nbsp;<span class="string" id="7881799">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881808">u0</span><span class="op" id="7881810">.</span><span class="ident" id="7881811">c</span>&nbsp;<span class="op" id="7881813">=</span>&nbsp;<span class="num" id="7881815">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881824">u0</span><span class="op" id="7881826">.</span><span class="ident" id="7881827">D</span>&nbsp;<span class="op" id="7881829">=</span>&nbsp;<span class="num" id="7881831">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881835">b</span>&nbsp;<span class="op" id="7881837">:=</span>&nbsp;<span class="builtinfunc" id="7881840">new</span><span class="op" id="7881843">(</span><span class="ident" id="7881844">bytes</span><span class="op" id="7881849">.</span><span class="ident" id="7881850">Buffer</span><span class="op" id="7881856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881859">NewEncoder</span><span class="op" id="7881869">(</span><span class="ident" id="7881870">b</span><span class="op" id="7881871">)</span><span class="op" id="7881872">.</span><span class="ident" id="7881873">Encode</span><span class="op" id="7881879">(</span><span class="ident" id="7881880">u0</span><span class="op" id="7881882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881885">dec</span>&nbsp;<span class="op" id="7881889">:=</span>&nbsp;<span class="ident" id="7881892">NewDecoder</span><span class="op" id="7881902">(</span><span class="ident" id="7881903">b</span><span class="op" id="7881904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881907">var</span>&nbsp;<span class="ident" id="7881911">u1</span>&nbsp;<span class="ident" id="7881914">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881917">u1</span><span class="op" id="7881919">.</span><span class="ident" id="7881920">c</span>&nbsp;<span class="op" id="7881922">=</span>&nbsp;<span class="num" id="7881924">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881931">err</span>&nbsp;<span class="op" id="7881935">:=</span>&nbsp;<span class="ident" id="7881938">dec</span><span class="op" id="7881941">.</span><span class="ident" id="7881942">Decode</span><span class="op" id="7881948">(</span><span class="op" id="7881949">&amp;</span><span class="ident" id="7881950">u1</span><span class="op" id="7881952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7881955">if</span>&nbsp;<span class="ident" id="7881958">err</span>&nbsp;<span class="op" id="7881962">!=</span>&nbsp;<span class="ident" id="7881965">nil</span>&nbsp;<span class="op" id="7881969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7881973">t</span><span class="op" id="7881974">.</span><span class="ident" id="7881975">Fatal</span><span class="op" id="7881980">(</span><span class="string" id="7881981">&#34;decode&nbsp;error:&#34;</span><span class="op" id="7881996">,</span>&nbsp;<span class="ident" id="7881998">err</span><span class="op" id="7882001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882004">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882007">if</span>&nbsp;<span class="ident" id="7882010">u0</span><span class="op" id="7882012">.</span><span class="ident" id="7882013">A</span>&nbsp;<span class="op" id="7882015">!=</span>&nbsp;<span class="ident" id="7882018">u0</span><span class="op" id="7882020">.</span><span class="ident" id="7882021">A</span>&nbsp;<span class="op" id="7882023">||</span>&nbsp;<span class="ident" id="7882026">u0</span><span class="op" id="7882028">.</span><span class="ident" id="7882029">B</span>&nbsp;<span class="op" id="7882031">!=</span>&nbsp;<span class="ident" id="7882034">u1</span><span class="op" id="7882036">.</span><span class="ident" id="7882037">B</span>&nbsp;<span class="op" id="7882039">||</span>&nbsp;<span class="ident" id="7882042">u0</span><span class="op" id="7882044">.</span><span class="ident" id="7882045">D</span>&nbsp;<span class="op" id="7882047">!=</span>&nbsp;<span class="ident" id="7882050">u1</span><span class="op" id="7882052">.</span><span class="ident" id="7882053">D</span>&nbsp;<span class="op" id="7882055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882059">t</span><span class="op" id="7882060">.</span><span class="ident" id="7882061">Errorf</span><span class="op" id="7882067">(</span><span class="string" id="7882068">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7882097">,</span>&nbsp;<span class="ident" id="7882099">u0</span><span class="op" id="7882101">,</span>&nbsp;<span class="ident" id="7882103">u1</span><span class="op" id="7882105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882111">if</span>&nbsp;<span class="ident" id="7882114">u1</span><span class="op" id="7882116">.</span><span class="ident" id="7882117">c</span>&nbsp;<span class="op" id="7882119">!=</span>&nbsp;<span class="num" id="7882122">1234.</span>&nbsp;<span class="op" id="7882128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882132">t</span><span class="op" id="7882133">.</span><span class="ident" id="7882134">Error</span><span class="op" id="7882139">(</span><span class="string" id="7882140">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="7882155">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882158">}</span><br>
<span class="lineno"></span><span class="op" id="7882160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7882163">var</span>&nbsp;<span class="ident" id="7882167">singletons</span>&nbsp;<span class="op" id="7882178">=</span>&nbsp;<span class="op" id="7882180">[</span><span class="op" id="7882181">]</span><span class="keyword" id="7882182">interface</span><span class="op" id="7882191">{</span><span class="op" id="7882192">}</span><span class="op" id="7882193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7882196">true</span><span class="op" id="7882200">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7882203">7</span><span class="op" id="7882204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7882207">3.2</span><span class="op" id="7882210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7882213">&#34;hello&#34;</span><span class="op" id="7882220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882223">[</span><span class="num" id="7882224">3</span><span class="op" id="7882225">]</span><span class="builtintype" id="7882226">int</span><span class="op" id="7882229">{</span><span class="num" id="7882230">11</span><span class="op" id="7882232">,</span>&nbsp;<span class="num" id="7882234">22</span><span class="op" id="7882236">,</span>&nbsp;<span class="num" id="7882238">33</span><span class="op" id="7882240">}</span><span class="op" id="7882241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882244">[</span><span class="op" id="7882245">]</span><span class="builtintype" id="7882246">float32</span><span class="op" id="7882253">{</span><span class="num" id="7882254">0.5</span><span class="op" id="7882257">,</span>&nbsp;<span class="num" id="7882259">0.25</span><span class="op" id="7882263">,</span>&nbsp;<span class="num" id="7882265">0.125</span><span class="op" id="7882270">}</span><span class="op" id="7882271">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882274">map</span><span class="op" id="7882277">[</span><span class="builtintype" id="7882278">string</span><span class="op" id="7882284">]</span><span class="builtintype" id="7882285">int</span><span class="op" id="7882288">{</span><span class="string" id="7882289">&#34;one&#34;</span><span class="op" id="7882294">:</span>&nbsp;<span class="num" id="7882296">1</span><span class="op" id="7882297">,</span>&nbsp;<span class="string" id="7882299">&#34;two&#34;</span><span class="op" id="7882304">:</span>&nbsp;<span class="num" id="7882306">2</span><span class="op" id="7882307">}</span><span class="op" id="7882308">,</span><br>
<span class="lineno"></span><span class="op" id="7882310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7882313">func</span>&nbsp;<span class="ident" id="7882318">TestDebugSingleton</span><span class="op" id="7882336">(</span><span class="ident" id="7882337">t</span>&nbsp;<span class="op" id="7882339">*</span><span class="ident" id="7882340">testing</span><span class="op" id="7882347">.</span><span class="ident" id="7882348">T</span><span class="op" id="7882349">)</span>&nbsp;<span class="op" id="7882351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882354">if</span>&nbsp;<span class="ident" id="7882357">debugFunc</span>&nbsp;<span class="op" id="7882367">==</span>&nbsp;<span class="ident" id="7882370">nil</span>&nbsp;<span class="op" id="7882374">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882378">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882389">b</span>&nbsp;<span class="op" id="7882391">:=</span>&nbsp;<span class="builtinfunc" id="7882394">new</span><span class="op" id="7882397">(</span><span class="ident" id="7882398">bytes</span><span class="op" id="7882403">.</span><span class="ident" id="7882404">Buffer</span><span class="op" id="7882410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7882413">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882479">for</span>&nbsp;<span class="ident" id="7882483">_</span><span class="op" id="7882484">,</span>&nbsp;<span class="ident" id="7882486">x</span>&nbsp;<span class="op" id="7882488">:=</span>&nbsp;<span class="keyword" id="7882491">range</span>&nbsp;<span class="ident" id="7882497">singletons</span>&nbsp;<span class="op" id="7882508">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882512">err</span>&nbsp;<span class="op" id="7882516">:=</span>&nbsp;<span class="ident" id="7882519">NewEncoder</span><span class="op" id="7882529">(</span><span class="ident" id="7882530">b</span><span class="op" id="7882531">)</span><span class="op" id="7882532">.</span><span class="ident" id="7882533">Encode</span><span class="op" id="7882539">(</span><span class="ident" id="7882540">x</span><span class="op" id="7882541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882545">if</span>&nbsp;<span class="ident" id="7882548">err</span>&nbsp;<span class="op" id="7882552">!=</span>&nbsp;<span class="ident" id="7882555">nil</span>&nbsp;<span class="op" id="7882559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882564">t</span><span class="op" id="7882565">.</span><span class="ident" id="7882566">Fatal</span><span class="op" id="7882571">(</span><span class="string" id="7882572">&#34;encode:&#34;</span><span class="op" id="7882581">,</span>&nbsp;<span class="ident" id="7882583">err</span><span class="op" id="7882586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7882593">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882596">debugFunc</span><span class="op" id="7882605">(</span><span class="ident" id="7882606">b</span><span class="op" id="7882607">)</span><br>
<span class="lineno"></span><span class="op" id="7882609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7882612">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="7882695">type</span>&nbsp;<span class="ident" id="7882700">OnTheFly</span>&nbsp;<span class="keyword" id="7882709">struct</span>&nbsp;<span class="op" id="7882716">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882719">A</span>&nbsp;<span class="builtintype" id="7882721">int</span><br>
<span class="lineno"></span><span class="op" id="7882725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7882728">type</span>&nbsp;<span class="ident" id="7882733">DT</span>&nbsp;<span class="keyword" id="7882736">struct</span>&nbsp;<span class="op" id="7882743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7882746">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882761">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7882767">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882772">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7882778">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882786">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7882792">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882801">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7882807">interface</span><span class="op" id="7882816">{</span><span class="op" id="7882817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882820">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7882826">interface</span><span class="op" id="7882835">{</span><span class="op" id="7882836">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882839">I_nil</span>&nbsp;<span class="keyword" id="7882845">interface</span><span class="op" id="7882854">{</span><span class="op" id="7882855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882858">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7882864">map</span><span class="op" id="7882867">[</span><span class="builtintype" id="7882868">string</span><span class="op" id="7882874">]</span><span class="builtintype" id="7882875">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882880">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7882886">[</span><span class="num" id="7882887">3</span><span class="op" id="7882888">]</span><span class="builtintype" id="7882889">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882894">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7882900">[</span><span class="op" id="7882901">]</span><span class="builtintype" id="7882902">string</span><br>
<span class="lineno"></span><span class="op" id="7882909">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="7882912">func</span>&nbsp;<span class="ident" id="7882917">newDT</span><span class="op" id="7882922">(</span><span class="op" id="7882923">)</span>&nbsp;<span class="ident" id="7882925">DT</span>&nbsp;<span class="op" id="7882928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7882931">var</span>&nbsp;<span class="ident" id="7882935">dt</span>&nbsp;<span class="ident" id="7882938">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882942">dt</span><span class="op" id="7882944">.</span><span class="ident" id="7882945">A</span>&nbsp;<span class="op" id="7882947">=</span>&nbsp;<span class="num" id="7882949">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882953">dt</span><span class="op" id="7882955">.</span><span class="ident" id="7882956">B</span>&nbsp;<span class="op" id="7882958">=</span>&nbsp;<span class="string" id="7882960">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882969">dt</span><span class="op" id="7882971">.</span><span class="ident" id="7882972">C</span>&nbsp;<span class="op" id="7882974">=</span>&nbsp;<span class="num" id="7882976">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7882985">dt</span><span class="op" id="7882987">.</span><span class="ident" id="7882988">I</span>&nbsp;<span class="op" id="7882990">=</span>&nbsp;<span class="num" id="7882992">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883000">dt</span><span class="op" id="7883002">.</span><span class="ident" id="7883003">J</span>&nbsp;<span class="op" id="7883005">=</span>&nbsp;<span class="ident" id="7883007">OnTheFly</span><span class="op" id="7883015">{</span><span class="num" id="7883016">3</span><span class="op" id="7883017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883020">dt</span><span class="op" id="7883022">.</span><span class="ident" id="7883023">I_nil</span>&nbsp;<span class="op" id="7883029">=</span>&nbsp;<span class="ident" id="7883031">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883036">dt</span><span class="op" id="7883038">.</span><span class="ident" id="7883039">M</span>&nbsp;<span class="op" id="7883041">=</span>&nbsp;<span class="keyword" id="7883043">map</span><span class="op" id="7883046">[</span><span class="builtintype" id="7883047">string</span><span class="op" id="7883053">]</span><span class="builtintype" id="7883054">int</span><span class="op" id="7883057">{</span><span class="string" id="7883058">&#34;one&#34;</span><span class="op" id="7883063">:</span>&nbsp;<span class="num" id="7883065">1</span><span class="op" id="7883066">,</span>&nbsp;<span class="string" id="7883068">&#34;two&#34;</span><span class="op" id="7883073">:</span>&nbsp;<span class="num" id="7883075">2</span><span class="op" id="7883076">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883079">dt</span><span class="op" id="7883081">.</span><span class="ident" id="7883082">T</span>&nbsp;<span class="op" id="7883084">=</span>&nbsp;<span class="op" id="7883086">[</span><span class="num" id="7883087">3</span><span class="op" id="7883088">]</span><span class="builtintype" id="7883089">int</span><span class="op" id="7883092">{</span><span class="num" id="7883093">11</span><span class="op" id="7883095">,</span>&nbsp;<span class="num" id="7883097">22</span><span class="op" id="7883099">,</span>&nbsp;<span class="num" id="7883101">33</span><span class="op" id="7883103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883106">dt</span><span class="op" id="7883108">.</span><span class="ident" id="7883109">S</span>&nbsp;<span class="op" id="7883111">=</span>&nbsp;<span class="op" id="7883113">[</span><span class="op" id="7883114">]</span><span class="builtintype" id="7883115">string</span><span class="op" id="7883121">{</span><span class="string" id="7883122">&#34;hi&#34;</span><span class="op" id="7883126">,</span>&nbsp;<span class="string" id="7883128">&#34;joe&#34;</span><span class="op" id="7883133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883136">return</span>&nbsp;<span class="ident" id="7883143">dt</span><br>
<span class="lineno"></span><span class="op" id="7883146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="7883149">func</span>&nbsp;<span class="ident" id="7883154">TestDebugStruct</span><span class="op" id="7883169">(</span><span class="ident" id="7883170">t</span>&nbsp;<span class="op" id="7883172">*</span><span class="ident" id="7883173">testing</span><span class="op" id="7883180">.</span><span class="ident" id="7883181">T</span><span class="op" id="7883182">)</span>&nbsp;<span class="op" id="7883184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883187">if</span>&nbsp;<span class="ident" id="7883190">debugFunc</span>&nbsp;<span class="op" id="7883200">==</span>&nbsp;<span class="ident" id="7883203">nil</span>&nbsp;<span class="op" id="7883207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883211">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883222">Register</span><span class="op" id="7883230">(</span><span class="ident" id="7883231">OnTheFly</span><span class="op" id="7883239">{</span><span class="op" id="7883240">}</span><span class="op" id="7883241">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883244">dt</span>&nbsp;<span class="op" id="7883247">:=</span>&nbsp;<span class="ident" id="7883250">newDT</span><span class="op" id="7883255">(</span><span class="op" id="7883256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883259">b</span>&nbsp;<span class="op" id="7883261">:=</span>&nbsp;<span class="builtinfunc" id="7883264">new</span><span class="op" id="7883267">(</span><span class="ident" id="7883268">bytes</span><span class="op" id="7883273">.</span><span class="ident" id="7883274">Buffer</span><span class="op" id="7883280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883283">err</span>&nbsp;<span class="op" id="7883287">:=</span>&nbsp;<span class="ident" id="7883290">NewEncoder</span><span class="op" id="7883300">(</span><span class="ident" id="7883301">b</span><span class="op" id="7883302">)</span><span class="op" id="7883303">.</span><span class="ident" id="7883304">Encode</span><span class="op" id="7883310">(</span><span class="ident" id="7883311">dt</span><span class="op" id="7883313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883316">if</span>&nbsp;<span class="ident" id="7883319">err</span>&nbsp;<span class="op" id="7883323">!=</span>&nbsp;<span class="ident" id="7883326">nil</span>&nbsp;<span class="op" id="7883330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883334">t</span><span class="op" id="7883335">.</span><span class="ident" id="7883336">Fatal</span><span class="op" id="7883341">(</span><span class="string" id="7883342">&#34;encode:&#34;</span><span class="op" id="7883351">,</span>&nbsp;<span class="ident" id="7883353">err</span><span class="op" id="7883356">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883362">debugBuffer</span>&nbsp;<span class="op" id="7883374">:=</span>&nbsp;<span class="ident" id="7883377">bytes</span><span class="op" id="7883382">.</span><span class="ident" id="7883383">NewBuffer</span><span class="op" id="7883392">(</span><span class="ident" id="7883393">b</span><span class="op" id="7883394">.</span><span class="ident" id="7883395">Bytes</span><span class="op" id="7883400">(</span><span class="op" id="7883401">)</span><span class="op" id="7883402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883405">dt2</span>&nbsp;<span class="op" id="7883409">:=</span>&nbsp;<span class="op" id="7883412">&amp;</span><span class="ident" id="7883413">DT</span><span class="op" id="7883415">{</span><span class="op" id="7883416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883419">err</span>&nbsp;<span class="op" id="7883423">=</span>&nbsp;<span class="ident" id="7883425">NewDecoder</span><span class="op" id="7883435">(</span><span class="ident" id="7883436">b</span><span class="op" id="7883437">)</span><span class="op" id="7883438">.</span><span class="ident" id="7883439">Decode</span><span class="op" id="7883445">(</span><span class="op" id="7883446">&amp;</span><span class="ident" id="7883447">dt2</span><span class="op" id="7883450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883453">if</span>&nbsp;<span class="ident" id="7883456">err</span>&nbsp;<span class="op" id="7883460">!=</span>&nbsp;<span class="ident" id="7883463">nil</span>&nbsp;<span class="op" id="7883467">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883471">t</span><span class="op" id="7883472">.</span><span class="ident" id="7883473">Error</span><span class="op" id="7883478">(</span><span class="string" id="7883479">&#34;decode:&#34;</span><span class="op" id="7883488">,</span>&nbsp;<span class="ident" id="7883490">err</span><span class="op" id="7883493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883499">debugFunc</span><span class="op" id="7883508">(</span><span class="ident" id="7883509">debugBuffer</span><span class="op" id="7883520">)</span><br>
<span class="lineno"></span><span class="op" id="7883522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="7883525">func</span>&nbsp;<span class="ident" id="7883530">encFuzzDec</span><span class="op" id="7883540">(</span><span class="ident" id="7883541">rng</span>&nbsp;<span class="op" id="7883545">*</span><span class="ident" id="7883546">rand</span><span class="op" id="7883550">.</span><span class="ident" id="7883551">Rand</span><span class="op" id="7883555">,</span>&nbsp;<span class="ident" id="7883557">in</span>&nbsp;<span class="keyword" id="7883560">interface</span><span class="op" id="7883569">{</span><span class="op" id="7883570">}</span><span class="op" id="7883571">)</span>&nbsp;<span class="builtintype" id="7883573">error</span>&nbsp;<span class="op" id="7883579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883582">buf</span>&nbsp;<span class="op" id="7883586">:=</span>&nbsp;<span class="builtinfunc" id="7883589">new</span><span class="op" id="7883592">(</span><span class="ident" id="7883593">bytes</span><span class="op" id="7883598">.</span><span class="ident" id="7883599">Buffer</span><span class="op" id="7883605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883608">enc</span>&nbsp;<span class="op" id="7883612">:=</span>&nbsp;<span class="ident" id="7883615">NewEncoder</span><span class="op" id="7883625">(</span><span class="ident" id="7883626">buf</span><span class="op" id="7883629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883632">if</span>&nbsp;<span class="ident" id="7883635">err</span>&nbsp;<span class="op" id="7883639">:=</span>&nbsp;<span class="ident" id="7883642">enc</span><span class="op" id="7883645">.</span><span class="ident" id="7883646">Encode</span><span class="op" id="7883652">(</span><span class="op" id="7883653">&amp;</span><span class="ident" id="7883654">in</span><span class="op" id="7883656">)</span><span class="op" id="7883657">;</span>&nbsp;<span class="ident" id="7883659">err</span>&nbsp;<span class="op" id="7883663">!=</span>&nbsp;<span class="ident" id="7883666">nil</span>&nbsp;<span class="op" id="7883670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883674">return</span>&nbsp;<span class="ident" id="7883681">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883690">b</span>&nbsp;<span class="op" id="7883692">:=</span>&nbsp;<span class="ident" id="7883695">buf</span><span class="op" id="7883698">.</span><span class="ident" id="7883699">Bytes</span><span class="op" id="7883704">(</span><span class="op" id="7883705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883708">for</span>&nbsp;<span class="ident" id="7883712">i</span><span class="op" id="7883713">,</span>&nbsp;<span class="ident" id="7883715">bi</span>&nbsp;<span class="op" id="7883718">:=</span>&nbsp;<span class="keyword" id="7883721">range</span>&nbsp;<span class="ident" id="7883727">b</span>&nbsp;<span class="op" id="7883729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883733">if</span>&nbsp;<span class="ident" id="7883736">rng</span><span class="op" id="7883739">.</span><span class="ident" id="7883740">Intn</span><span class="op" id="7883744">(</span><span class="num" id="7883745">10</span><span class="op" id="7883747">)</span>&nbsp;<span class="op" id="7883749">&lt;</span>&nbsp;<span class="num" id="7883751">3</span>&nbsp;<span class="op" id="7883753">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883758">b</span><span class="op" id="7883759">[</span><span class="ident" id="7883760">i</span><span class="op" id="7883761">]</span>&nbsp;<span class="op" id="7883763">=</span>&nbsp;<span class="ident" id="7883765">bi</span>&nbsp;<span class="op" id="7883768">+</span>&nbsp;<span class="builtintype" id="7883770">uint8</span><span class="op" id="7883775">(</span><span class="ident" id="7883776">rng</span><span class="op" id="7883779">.</span><span class="ident" id="7883780">Intn</span><span class="op" id="7883784">(</span><span class="num" id="7883785">256</span><span class="op" id="7883788">)</span><span class="op" id="7883789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7883800">dec</span>&nbsp;<span class="op" id="7883804">:=</span>&nbsp;<span class="ident" id="7883807">NewDecoder</span><span class="op" id="7883817">(</span><span class="ident" id="7883818">buf</span><span class="op" id="7883821">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883824">var</span>&nbsp;<span class="ident" id="7883828">e</span>&nbsp;<span class="keyword" id="7883830">interface</span><span class="op" id="7883839">{</span><span class="op" id="7883840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883843">if</span>&nbsp;<span class="ident" id="7883846">err</span>&nbsp;<span class="op" id="7883850">:=</span>&nbsp;<span class="ident" id="7883853">dec</span><span class="op" id="7883856">.</span><span class="ident" id="7883857">Decode</span><span class="op" id="7883863">(</span><span class="op" id="7883864">&amp;</span><span class="ident" id="7883865">e</span><span class="op" id="7883866">)</span><span class="op" id="7883867">;</span>&nbsp;<span class="ident" id="7883869">err</span>&nbsp;<span class="op" id="7883873">!=</span>&nbsp;<span class="ident" id="7883876">nil</span>&nbsp;<span class="op" id="7883880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883884">return</span>&nbsp;<span class="ident" id="7883891">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7883896">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7883899">return</span>&nbsp;<span class="ident" id="7883906">nil</span><br>
<span class="lineno">1390</span><span class="op" id="7883910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7883913">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="7883998">func</span>&nbsp;<span class="ident" id="7884003">TestFuzz</span><span class="op" id="7884011">(</span><span class="ident" id="7884012">t</span>&nbsp;<span class="op" id="7884014">*</span><span class="ident" id="7884015">testing</span><span class="op" id="7884022">.</span><span class="ident" id="7884023">T</span><span class="op" id="7884024">)</span>&nbsp;<span class="op" id="7884026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884029">if</span>&nbsp;<span class="op" id="7884032">!</span><span class="op" id="7884033">*</span><span class="ident" id="7884034">doFuzzTests</span>&nbsp;<span class="op" id="7884046">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884050">t</span><span class="op" id="7884051">.</span><span class="ident" id="7884052">Logf</span><span class="op" id="7884056">(</span><span class="string" id="7884057">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="7884097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884101">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884109">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7884113">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884137">input</span>&nbsp;<span class="op" id="7884143">:=</span>&nbsp;<span class="op" id="7884146">[</span><span class="op" id="7884147">]</span><span class="keyword" id="7884148">interface</span><span class="op" id="7884157">{</span><span class="op" id="7884158">}</span><span class="op" id="7884159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7884163">new</span><span class="op" id="7884166">(</span><span class="builtintype" id="7884167">int</span><span class="op" id="7884170">)</span><span class="op" id="7884171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7884175">new</span><span class="op" id="7884178">(</span><span class="builtintype" id="7884179">float32</span><span class="op" id="7884186">)</span><span class="op" id="7884187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7884191">new</span><span class="op" id="7884194">(</span><span class="builtintype" id="7884195">float64</span><span class="op" id="7884202">)</span><span class="op" id="7884203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7884207">new</span><span class="op" id="7884210">(</span><span class="builtintype" id="7884211">complex128</span><span class="op" id="7884221">)</span><span class="op" id="7884222">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884226">&amp;</span><span class="ident" id="7884227">ByteStruct</span><span class="op" id="7884237">{</span><span class="num" id="7884238">255</span><span class="op" id="7884241">}</span><span class="op" id="7884242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884246">&amp;</span><span class="ident" id="7884247">ArrayStruct</span><span class="op" id="7884258">{</span><span class="op" id="7884259">}</span><span class="op" id="7884260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884264">&amp;</span><span class="ident" id="7884265">StringStruct</span><span class="op" id="7884277">{</span><span class="string" id="7884278">&#34;hello&#34;</span><span class="op" id="7884285">}</span><span class="op" id="7884286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884290">&amp;</span><span class="ident" id="7884291">GobTest1</span><span class="op" id="7884299">{</span><span class="num" id="7884300">0</span><span class="op" id="7884301">,</span>&nbsp;<span class="op" id="7884303">&amp;</span><span class="ident" id="7884304">StringStruct</span><span class="op" id="7884316">{</span><span class="string" id="7884317">&#34;hello&#34;</span><span class="op" id="7884324">}</span><span class="op" id="7884325">}</span><span class="op" id="7884326">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884329">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884332">testFuzz</span><span class="op" id="7884340">(</span><span class="ident" id="7884341">t</span><span class="op" id="7884342">,</span>&nbsp;<span class="ident" id="7884344">time</span><span class="op" id="7884348">.</span><span class="ident" id="7884349">Now</span><span class="op" id="7884352">(</span><span class="op" id="7884353">)</span><span class="op" id="7884354">.</span><span class="ident" id="7884355">UnixNano</span><span class="op" id="7884363">(</span><span class="op" id="7884364">)</span><span class="op" id="7884365">,</span>&nbsp;<span class="num" id="7884367">100</span><span class="op" id="7884370">,</span>&nbsp;<span class="ident" id="7884372">input</span><span class="op" id="7884377">...</span><span class="op" id="7884380">)</span><br>
<span class="lineno"></span><span class="op" id="7884382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7884385">func</span>&nbsp;<span class="ident" id="7884390">TestFuzzRegressions</span><span class="op" id="7884409">(</span><span class="ident" id="7884410">t</span>&nbsp;<span class="op" id="7884412">*</span><span class="ident" id="7884413">testing</span><span class="op" id="7884420">.</span><span class="ident" id="7884421">T</span><span class="op" id="7884422">)</span>&nbsp;<span class="op" id="7884424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884427">if</span>&nbsp;<span class="op" id="7884430">!</span><span class="op" id="7884431">*</span><span class="ident" id="7884432">doFuzzTests</span>&nbsp;<span class="op" id="7884444">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884448">t</span><span class="op" id="7884449">.</span><span class="ident" id="7884450">Logf</span><span class="op" id="7884454">(</span><span class="string" id="7884455">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="7884495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884499">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7884511">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884569">testFuzz</span><span class="op" id="7884577">(</span><span class="ident" id="7884578">t</span><span class="op" id="7884579">,</span>&nbsp;<span class="num" id="7884581">1328492090837718000</span><span class="op" id="7884600">,</span>&nbsp;<span class="num" id="7884602">100</span><span class="op" id="7884605">,</span>&nbsp;<span class="builtinfunc" id="7884607">new</span><span class="op" id="7884610">(</span><span class="builtintype" id="7884611">float32</span><span class="op" id="7884618">)</span><span class="op" id="7884619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7884622">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7884672">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884715">testFuzz</span><span class="op" id="7884723">(</span><span class="ident" id="7884724">t</span><span class="op" id="7884725">,</span>&nbsp;<span class="num" id="7884727">1330522872628565000</span><span class="op" id="7884746">,</span>&nbsp;<span class="num" id="7884748">100</span><span class="op" id="7884751">,</span>&nbsp;<span class="builtinfunc" id="7884753">new</span><span class="op" id="7884756">(</span><span class="builtintype" id="7884757">int</span><span class="op" id="7884760">)</span><span class="op" id="7884761">)</span><br>
<span class="lineno"></span><span class="op" id="7884763">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="7884766">func</span>&nbsp;<span class="ident" id="7884771">testFuzz</span><span class="op" id="7884779">(</span><span class="ident" id="7884780">t</span>&nbsp;<span class="op" id="7884782">*</span><span class="ident" id="7884783">testing</span><span class="op" id="7884790">.</span><span class="ident" id="7884791">T</span><span class="op" id="7884792">,</span>&nbsp;<span class="ident" id="7884794">seed</span>&nbsp;<span class="ident" id="7884799">int64</span><span class="op" id="7884804">,</span>&nbsp;<span class="ident" id="7884806">n</span>&nbsp;<span class="builtintype" id="7884808">int</span><span class="op" id="7884811">,</span>&nbsp;<span class="ident" id="7884813">input</span>&nbsp;<span class="op" id="7884819">...</span><span class="keyword" id="7884822">interface</span><span class="op" id="7884831">{</span><span class="op" id="7884832">}</span><span class="op" id="7884833">)</span>&nbsp;<span class="op" id="7884835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884838">for</span>&nbsp;<span class="ident" id="7884842">_</span><span class="op" id="7884843">,</span>&nbsp;<span class="ident" id="7884845">e</span>&nbsp;<span class="op" id="7884847">:=</span>&nbsp;<span class="keyword" id="7884850">range</span>&nbsp;<span class="ident" id="7884856">input</span>&nbsp;<span class="op" id="7884862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884866">t</span><span class="op" id="7884867">.</span><span class="ident" id="7884868">Logf</span><span class="op" id="7884872">(</span><span class="string" id="7884873">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="7884892">,</span>&nbsp;<span class="ident" id="7884894">seed</span><span class="op" id="7884898">,</span>&nbsp;<span class="ident" id="7884900">n</span><span class="op" id="7884901">,</span>&nbsp;<span class="ident" id="7884903">e</span><span class="op" id="7884904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884908">rng</span>&nbsp;<span class="op" id="7884912">:=</span>&nbsp;<span class="ident" id="7884915">rand</span><span class="op" id="7884919">.</span><span class="ident" id="7884920">New</span><span class="op" id="7884923">(</span><span class="ident" id="7884924">rand</span><span class="op" id="7884928">.</span><span class="ident" id="7884929">NewSource</span><span class="op" id="7884938">(</span><span class="ident" id="7884939">seed</span><span class="op" id="7884943">)</span><span class="op" id="7884944">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7884948">for</span>&nbsp;<span class="ident" id="7884952">i</span>&nbsp;<span class="op" id="7884954">:=</span>&nbsp;<span class="num" id="7884957">0</span><span class="op" id="7884958">;</span>&nbsp;<span class="ident" id="7884960">i</span>&nbsp;<span class="op" id="7884962">&lt;</span>&nbsp;<span class="ident" id="7884964">n</span><span class="op" id="7884965">;</span>&nbsp;<span class="ident" id="7884967">i</span><span class="op" id="7884968">++</span>&nbsp;<span class="op" id="7884971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7884976">encFuzzDec</span><span class="op" id="7884986">(</span><span class="ident" id="7884987">rng</span><span class="op" id="7884990">,</span>&nbsp;<span class="ident" id="7884992">e</span><span class="op" id="7884993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7884997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885000">}</span><br>
<span class="lineno"></span><span class="op" id="7885002">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="7885005">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="7885066">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="7885102">func</span>&nbsp;<span class="ident" id="7885107">TestFuzzOneByte</span><span class="op" id="7885122">(</span><span class="ident" id="7885123">t</span>&nbsp;<span class="op" id="7885125">*</span><span class="ident" id="7885126">testing</span><span class="op" id="7885133">.</span><span class="ident" id="7885134">T</span><span class="op" id="7885135">)</span>&nbsp;<span class="op" id="7885137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885140">buf</span>&nbsp;<span class="op" id="7885144">:=</span>&nbsp;<span class="builtinfunc" id="7885147">new</span><span class="op" id="7885150">(</span><span class="ident" id="7885151">bytes</span><span class="op" id="7885156">.</span><span class="ident" id="7885157">Buffer</span><span class="op" id="7885163">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885166">Register</span><span class="op" id="7885174">(</span><span class="ident" id="7885175">OnTheFly</span><span class="op" id="7885183">{</span><span class="op" id="7885184">}</span><span class="op" id="7885185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885188">dt</span>&nbsp;<span class="op" id="7885191">:=</span>&nbsp;<span class="ident" id="7885194">newDT</span><span class="op" id="7885199">(</span><span class="op" id="7885200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885203">if</span>&nbsp;<span class="ident" id="7885206">err</span>&nbsp;<span class="op" id="7885210">:=</span>&nbsp;<span class="ident" id="7885213">NewEncoder</span><span class="op" id="7885223">(</span><span class="ident" id="7885224">buf</span><span class="op" id="7885227">)</span><span class="op" id="7885228">.</span><span class="ident" id="7885229">Encode</span><span class="op" id="7885235">(</span><span class="ident" id="7885236">dt</span><span class="op" id="7885238">)</span><span class="op" id="7885239">;</span>&nbsp;<span class="ident" id="7885241">err</span>&nbsp;<span class="op" id="7885245">!=</span>&nbsp;<span class="ident" id="7885248">nil</span>&nbsp;<span class="op" id="7885252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885256">t</span><span class="op" id="7885257">.</span><span class="ident" id="7885258">Fatal</span><span class="op" id="7885263">(</span><span class="ident" id="7885264">err</span><span class="op" id="7885267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885270">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885273">s</span>&nbsp;<span class="op" id="7885275">:=</span>&nbsp;<span class="ident" id="7885278">buf</span><span class="op" id="7885281">.</span><span class="ident" id="7885282">String</span><span class="op" id="7885288">(</span><span class="op" id="7885289">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885293">indices</span>&nbsp;<span class="op" id="7885301">:=</span>&nbsp;<span class="builtinfunc" id="7885304">make</span><span class="op" id="7885308">(</span><span class="op" id="7885309">[</span><span class="op" id="7885310">]</span><span class="builtintype" id="7885311">int</span><span class="op" id="7885314">,</span>&nbsp;<span class="num" id="7885316">0</span><span class="op" id="7885317">,</span>&nbsp;<span class="builtinfunc" id="7885319">len</span><span class="op" id="7885322">(</span><span class="ident" id="7885323">s</span><span class="op" id="7885324">)</span><span class="op" id="7885325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885328">for</span>&nbsp;<span class="ident" id="7885332">i</span>&nbsp;<span class="op" id="7885334">:=</span>&nbsp;<span class="num" id="7885337">0</span><span class="op" id="7885338">;</span>&nbsp;<span class="ident" id="7885340">i</span>&nbsp;<span class="op" id="7885342">&lt;</span>&nbsp;<span class="builtinfunc" id="7885344">len</span><span class="op" id="7885347">(</span><span class="ident" id="7885348">s</span><span class="op" id="7885349">)</span><span class="op" id="7885350">;</span>&nbsp;<span class="ident" id="7885352">i</span><span class="op" id="7885353">++</span>&nbsp;<span class="op" id="7885356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885360">switch</span>&nbsp;<span class="ident" id="7885367">i</span>&nbsp;<span class="op" id="7885369">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885373">case</span>&nbsp;<span class="num" id="7885378">14</span><span class="op" id="7885380">,</span>&nbsp;<span class="num" id="7885382">167</span><span class="op" id="7885385">,</span>&nbsp;<span class="num" id="7885387">231</span><span class="op" id="7885390">,</span>&nbsp;<span class="num" id="7885392">265</span><span class="op" id="7885395">:</span>&nbsp;<span class="comment" id="7885397">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885452">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885463">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885467">indices</span>&nbsp;<span class="op" id="7885475">=</span>&nbsp;<span class="builtinfunc" id="7885477">append</span><span class="op" id="7885483">(</span><span class="ident" id="7885484">indices</span><span class="op" id="7885491">,</span>&nbsp;<span class="ident" id="7885493">i</span><span class="op" id="7885494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885497">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885500">if</span>&nbsp;<span class="ident" id="7885503">testing</span><span class="op" id="7885510">.</span><span class="ident" id="7885511">Short</span><span class="op" id="7885516">(</span><span class="op" id="7885517">)</span>&nbsp;<span class="op" id="7885519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885523">indices</span>&nbsp;<span class="op" id="7885531">=</span>&nbsp;<span class="op" id="7885533">[</span><span class="op" id="7885534">]</span><span class="builtintype" id="7885535">int</span><span class="op" id="7885538">{</span><span class="num" id="7885539">1</span><span class="op" id="7885540">,</span>&nbsp;<span class="num" id="7885542">111</span><span class="op" id="7885545">,</span>&nbsp;<span class="num" id="7885547">178</span><span class="op" id="7885550">}</span>&nbsp;<span class="comment" id="7885552">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885578">for</span>&nbsp;<span class="ident" id="7885582">_</span><span class="op" id="7885583">,</span>&nbsp;<span class="ident" id="7885585">i</span>&nbsp;<span class="op" id="7885587">:=</span>&nbsp;<span class="keyword" id="7885590">range</span>&nbsp;<span class="ident" id="7885596">indices</span>&nbsp;<span class="op" id="7885604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885608">for</span>&nbsp;<span class="ident" id="7885612">j</span>&nbsp;<span class="op" id="7885614">:=</span>&nbsp;<span class="num" id="7885617">0</span><span class="op" id="7885618">;</span>&nbsp;<span class="ident" id="7885620">j</span>&nbsp;<span class="op" id="7885622">&lt;</span>&nbsp;<span class="num" id="7885624">256</span><span class="op" id="7885627">;</span>&nbsp;<span class="ident" id="7885629">j</span>&nbsp;<span class="op" id="7885631">+=</span>&nbsp;<span class="num" id="7885634">3</span>&nbsp;<span class="op" id="7885636">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885641">b</span>&nbsp;<span class="op" id="7885643">:=</span>&nbsp;<span class="op" id="7885646">[</span><span class="op" id="7885647">]</span><span class="builtintype" id="7885648">byte</span><span class="op" id="7885652">(</span><span class="ident" id="7885653">s</span><span class="op" id="7885654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885659">b</span><span class="op" id="7885660">[</span><span class="ident" id="7885661">i</span><span class="op" id="7885662">]</span>&nbsp;<span class="op" id="7885664">^=</span>&nbsp;<span class="builtintype" id="7885667">byte</span><span class="op" id="7885671">(</span><span class="ident" id="7885672">j</span><span class="op" id="7885673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885678">var</span>&nbsp;<span class="ident" id="7885682">e</span>&nbsp;<span class="ident" id="7885684">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885690">func</span><span class="op" id="7885694">(</span><span class="op" id="7885695">)</span>&nbsp;<span class="op" id="7885697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885703">defer</span>&nbsp;<span class="keyword" id="7885709">func</span><span class="op" id="7885713">(</span><span class="op" id="7885714">)</span>&nbsp;<span class="op" id="7885716">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7885723">if</span>&nbsp;<span class="ident" id="7885726">p</span>&nbsp;<span class="op" id="7885728">:=</span>&nbsp;<span class="builtinfunc" id="7885731">recover</span><span class="op" id="7885738">(</span><span class="op" id="7885739">)</span><span class="op" id="7885740">;</span>&nbsp;<span class="ident" id="7885742">p</span>&nbsp;<span class="op" id="7885744">!=</span>&nbsp;<span class="ident" id="7885747">nil</span>&nbsp;<span class="op" id="7885751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885759">t</span><span class="op" id="7885760">.</span><span class="ident" id="7885761">Errorf</span><span class="op" id="7885767">(</span><span class="string" id="7885768">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="7885793">,</span>&nbsp;<span class="ident" id="7885795">i</span><span class="op" id="7885796">,</span>&nbsp;<span class="ident" id="7885798">j</span><span class="op" id="7885799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7885807">panic</span><span class="op" id="7885812">(</span><span class="ident" id="7885813">p</span><span class="op" id="7885814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885827">}</span><span class="op" id="7885828">(</span><span class="op" id="7885829">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885835">err</span>&nbsp;<span class="op" id="7885839">:=</span>&nbsp;<span class="ident" id="7885842">NewDecoder</span><span class="op" id="7885852">(</span><span class="ident" id="7885853">bytes</span><span class="op" id="7885858">.</span><span class="ident" id="7885859">NewReader</span><span class="op" id="7885868">(</span><span class="ident" id="7885869">b</span><span class="op" id="7885870">)</span><span class="op" id="7885871">)</span><span class="op" id="7885872">.</span><span class="ident" id="7885873">Decode</span><span class="op" id="7885879">(</span><span class="op" id="7885880">&amp;</span><span class="ident" id="7885881">e</span><span class="op" id="7885882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7885888">_</span>&nbsp;<span class="op" id="7885890">=</span>&nbsp;<span class="ident" id="7885892">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885899">}</span><span class="op" id="7885900">(</span><span class="op" id="7885901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7885908">}</span><br>
<span class="lineno">1475</span><span class="op" id="7885910">}</span>
</div>
</body>
</html>
