<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1445425">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1445480">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1445534">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1445585">package</span>&nbsp;<span class="ident" id="1445593">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1445602">import</span>&nbsp;<span class="string" id="1445609">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1445619">//&nbsp;The&nbsp;Error&nbsp;interface&nbsp;identifies&nbsp;a&nbsp;run&nbsp;time&nbsp;error.</span><br>
<span class="lineno">10</span><span class="keyword" id="1445671">type</span>&nbsp;<span class="ident" id="1445676">Error</span>&nbsp;<span class="keyword" id="1445682">interface</span>&nbsp;<span class="op" id="1445692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="1445695">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1445703">//&nbsp;RuntimeError&nbsp;is&nbsp;a&nbsp;no-op&nbsp;function&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1445744">//&nbsp;serves&nbsp;to&nbsp;distinguish&nbsp;types&nbsp;that&nbsp;are&nbsp;runtime</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1445793">//&nbsp;errors&nbsp;from&nbsp;ordinary&nbsp;errors:&nbsp;a&nbsp;type&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1445838">//&nbsp;runtime&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;RuntimeError&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1445889">RuntimeError</span><span class="op" id="1445901">(</span><span class="op" id="1445902">)</span><br>
<span class="lineno"></span><span class="op" id="1445904">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1445907">//&nbsp;A&nbsp;TypeAssertionError&nbsp;explains&nbsp;a&nbsp;failed&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span><span class="keyword" id="1445965">type</span>&nbsp;<span class="ident" id="1445970">TypeAssertionError</span>&nbsp;<span class="keyword" id="1445989">struct</span>&nbsp;<span class="op" id="1445996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1445999">interfaceString</span>&nbsp;<span class="builtintype" id="1446015">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446023">concreteString</span>&nbsp;&nbsp;<span class="builtintype" id="1446039">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446047">assertedString</span>&nbsp;&nbsp;<span class="builtintype" id="1446063">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446071">missingMethod</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1446087">string</span>&nbsp;<span class="comment" id="1446094">//&nbsp;one&nbsp;method&nbsp;needed&nbsp;by&nbsp;Interface,&nbsp;missing&nbsp;from&nbsp;Concrete</span><br>
<span class="lineno"></span><span class="op" id="1446151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1446154">func</span>&nbsp;<span class="op" id="1446159">(</span><span class="op" id="1446160">*</span><span class="ident" id="1446161">TypeAssertionError</span><span class="op" id="1446179">)</span>&nbsp;<span class="ident" id="1446181">RuntimeError</span><span class="op" id="1446193">(</span><span class="op" id="1446194">)</span>&nbsp;<span class="op" id="1446196">{</span><span class="op" id="1446197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1446200">func</span>&nbsp;<span class="op" id="1446205">(</span><span class="ident" id="1446206">e</span>&nbsp;<span class="op" id="1446208">*</span><span class="ident" id="1446209">TypeAssertionError</span><span class="op" id="1446227">)</span>&nbsp;<span class="ident" id="1446229">Error</span><span class="op" id="1446234">(</span><span class="op" id="1446235">)</span>&nbsp;<span class="builtintype" id="1446237">string</span>&nbsp;<span class="op" id="1446244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446247">inter</span>&nbsp;<span class="op" id="1446253">:=</span>&nbsp;<span class="ident" id="1446256">e</span><span class="op" id="1446257">.</span><span class="ident" id="1446258">interfaceString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446275">if</span>&nbsp;<span class="ident" id="1446278">inter</span>&nbsp;<span class="op" id="1446284">==</span>&nbsp;<span class="string" id="1446287">&#34;&#34;</span>&nbsp;<span class="op" id="1446290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446294">inter</span>&nbsp;<span class="op" id="1446300">=</span>&nbsp;<span class="string" id="1446302">&#34;interface&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446315">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446318">if</span>&nbsp;<span class="ident" id="1446321">e</span><span class="op" id="1446322">.</span><span class="ident" id="1446323">concreteString</span>&nbsp;<span class="op" id="1446338">==</span>&nbsp;<span class="string" id="1446341">&#34;&#34;</span>&nbsp;<span class="op" id="1446344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446348">return</span>&nbsp;<span class="string" id="1446355">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1446380">+</span>&nbsp;<span class="ident" id="1446382">inter</span>&nbsp;<span class="op" id="1446388">+</span>&nbsp;<span class="string" id="1446390">&#34;&nbsp;is&nbsp;nil,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1446406">+</span>&nbsp;<span class="ident" id="1446408">e</span><span class="op" id="1446409">.</span><span class="ident" id="1446410">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446429">if</span>&nbsp;<span class="ident" id="1446432">e</span><span class="op" id="1446433">.</span><span class="ident" id="1446434">missingMethod</span>&nbsp;<span class="op" id="1446448">==</span>&nbsp;<span class="string" id="1446451">&#34;&#34;</span>&nbsp;<span class="op" id="1446454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446458">return</span>&nbsp;<span class="string" id="1446465">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1446490">+</span>&nbsp;<span class="ident" id="1446492">inter</span>&nbsp;<span class="op" id="1446498">+</span>&nbsp;<span class="string" id="1446500">&#34;&nbsp;is&nbsp;&#34;</span>&nbsp;<span class="op" id="1446507">+</span>&nbsp;<span class="ident" id="1446509">e</span><span class="op" id="1446510">.</span><span class="ident" id="1446511">concreteString</span>&nbsp;<span class="op" id="1446526">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1446531">&#34;,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1446540">+</span>&nbsp;<span class="ident" id="1446542">e</span><span class="op" id="1446543">.</span><span class="ident" id="1446544">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446563">return</span>&nbsp;<span class="string" id="1446570">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1446595">+</span>&nbsp;<span class="ident" id="1446597">e</span><span class="op" id="1446598">.</span><span class="ident" id="1446599">concreteString</span>&nbsp;<span class="op" id="1446614">+</span>&nbsp;<span class="string" id="1446616">&#34;&nbsp;is&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1446627">+</span>&nbsp;<span class="ident" id="1446629">e</span><span class="op" id="1446630">.</span><span class="ident" id="1446631">assertedString</span>&nbsp;<span class="op" id="1446646">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1446650">&#34;:&nbsp;missing&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1446670">+</span>&nbsp;<span class="ident" id="1446672">e</span><span class="op" id="1446673">.</span><span class="ident" id="1446674">missingMethod</span><br>
<span class="lineno"></span><span class="op" id="1446688">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1446691">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="keyword" id="1446714">func</span>&nbsp;<span class="ident" id="1446719">newTypeAssertionError</span><span class="op" id="1446740">(</span><span class="ident" id="1446741">ps1</span><span class="op" id="1446744">,</span>&nbsp;<span class="ident" id="1446746">ps2</span><span class="op" id="1446749">,</span>&nbsp;<span class="ident" id="1446751">ps3</span>&nbsp;<span class="op" id="1446755">*</span><span class="builtintype" id="1446756">string</span><span class="op" id="1446762">,</span>&nbsp;<span class="ident" id="1446764">pmeth</span>&nbsp;<span class="op" id="1446770">*</span><span class="builtintype" id="1446771">string</span><span class="op" id="1446777">,</span>&nbsp;<span class="ident" id="1446779">ret</span>&nbsp;<span class="op" id="1446783">*</span><span class="keyword" id="1446784">interface</span><span class="op" id="1446793">{</span><span class="op" id="1446794">}</span><span class="op" id="1446795">)</span>&nbsp;<span class="op" id="1446797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446800">var</span>&nbsp;<span class="ident" id="1446804">s1</span><span class="op" id="1446806">,</span>&nbsp;<span class="ident" id="1446808">s2</span><span class="op" id="1446810">,</span>&nbsp;<span class="ident" id="1446812">s3</span><span class="op" id="1446814">,</span>&nbsp;<span class="ident" id="1446816">meth</span>&nbsp;<span class="builtintype" id="1446821">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446830">if</span>&nbsp;<span class="ident" id="1446833">ps1</span>&nbsp;<span class="op" id="1446837">!=</span>&nbsp;<span class="ident" id="1446840">nil</span>&nbsp;<span class="op" id="1446844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446848">s1</span>&nbsp;<span class="op" id="1446851">=</span>&nbsp;<span class="op" id="1446853">*</span><span class="ident" id="1446854">ps1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446862">if</span>&nbsp;<span class="ident" id="1446865">ps2</span>&nbsp;<span class="op" id="1446869">!=</span>&nbsp;<span class="ident" id="1446872">nil</span>&nbsp;<span class="op" id="1446876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446880">s2</span>&nbsp;<span class="op" id="1446883">=</span>&nbsp;<span class="op" id="1446885">*</span><span class="ident" id="1446886">ps2</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446894">if</span>&nbsp;<span class="ident" id="1446897">ps3</span>&nbsp;<span class="op" id="1446901">!=</span>&nbsp;<span class="ident" id="1446904">nil</span>&nbsp;<span class="op" id="1446908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446912">s3</span>&nbsp;<span class="op" id="1446915">=</span>&nbsp;<span class="op" id="1446917">*</span><span class="ident" id="1446918">ps3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1446926">if</span>&nbsp;<span class="ident" id="1446929">pmeth</span>&nbsp;<span class="op" id="1446935">!=</span>&nbsp;<span class="ident" id="1446938">nil</span>&nbsp;<span class="op" id="1446942">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1446946">meth</span>&nbsp;<span class="op" id="1446951">=</span>&nbsp;<span class="op" id="1446953">*</span><span class="ident" id="1446954">pmeth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1446964">*</span><span class="ident" id="1446965">ret</span>&nbsp;<span class="op" id="1446969">=</span>&nbsp;<span class="op" id="1446971">&amp;</span><span class="ident" id="1446972">TypeAssertionError</span><span class="op" id="1446990">{</span><span class="ident" id="1446991">s1</span><span class="op" id="1446993">,</span>&nbsp;<span class="ident" id="1446995">s2</span><span class="op" id="1446997">,</span>&nbsp;<span class="ident" id="1446999">s3</span><span class="op" id="1447001">,</span>&nbsp;<span class="ident" id="1447003">meth</span><span class="op" id="1447007">}</span><br>
<span class="lineno"></span><span class="op" id="1447009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="1447012">//&nbsp;An&nbsp;errorString&nbsp;represents&nbsp;a&nbsp;runtime&nbsp;error&nbsp;described&nbsp;by&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1447087">type</span>&nbsp;<span class="ident" id="1447092">errorString</span>&nbsp;<span class="builtintype" id="1447104">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1447112">func</span>&nbsp;<span class="op" id="1447117">(</span><span class="ident" id="1447118">e</span>&nbsp;<span class="ident" id="1447120">errorString</span><span class="op" id="1447131">)</span>&nbsp;<span class="ident" id="1447133">RuntimeError</span><span class="op" id="1447145">(</span><span class="op" id="1447146">)</span>&nbsp;<span class="op" id="1447148">{</span><span class="op" id="1447149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1447152">func</span>&nbsp;<span class="op" id="1447157">(</span><span class="ident" id="1447158">e</span>&nbsp;<span class="ident" id="1447160">errorString</span><span class="op" id="1447171">)</span>&nbsp;<span class="ident" id="1447173">Error</span><span class="op" id="1447178">(</span><span class="op" id="1447179">)</span>&nbsp;<span class="builtintype" id="1447181">string</span>&nbsp;<span class="op" id="1447188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447191">return</span>&nbsp;<span class="string" id="1447198">&#34;runtime&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="1447216">+</span>&nbsp;<span class="builtintype" id="1447218">string</span><span class="op" id="1447224">(</span><span class="ident" id="1447225">e</span><span class="op" id="1447226">)</span><br>
<span class="lineno"></span><span class="op" id="1447228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1447231">type</span>&nbsp;<span class="ident" id="1447236">stringer</span>&nbsp;<span class="keyword" id="1447245">interface</span>&nbsp;<span class="op" id="1447255">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1447258">String</span><span class="op" id="1447264">(</span><span class="op" id="1447265">)</span>&nbsp;<span class="builtintype" id="1447267">string</span><br>
<span class="lineno"></span><span class="op" id="1447274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1447277">func</span>&nbsp;<span class="ident" id="1447282">typestring</span><span class="op" id="1447292">(</span><span class="ident" id="1447293">x</span>&nbsp;<span class="keyword" id="1447295">interface</span><span class="op" id="1447304">{</span><span class="op" id="1447305">}</span><span class="op" id="1447306">)</span>&nbsp;<span class="builtintype" id="1447308">string</span>&nbsp;<span class="op" id="1447315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1447318">e</span>&nbsp;<span class="op" id="1447320">:=</span>&nbsp;<span class="op" id="1447323">(</span><span class="op" id="1447324">*</span><span class="ident" id="1447325">eface</span><span class="op" id="1447330">)</span><span class="op" id="1447331">(</span><span class="ident" id="1447332">unsafe</span><span class="op" id="1447338">.</span><span class="ident" id="1447339">Pointer</span><span class="op" id="1447346">(</span><span class="op" id="1447347">&amp;</span><span class="ident" id="1447348">x</span><span class="op" id="1447349">)</span><span class="op" id="1447350">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447353">return</span>&nbsp;<span class="op" id="1447360">*</span><span class="ident" id="1447361">e</span><span class="op" id="1447362">.</span><span class="ident" id="1447363">_type</span><span class="op" id="1447368">.</span><span class="ident" id="1447369">_string</span><br>
<span class="lineno"></span><span class="op" id="1447377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1447380">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="comment" id="1447403">//&nbsp;Prints&nbsp;an&nbsp;argument&nbsp;passed&nbsp;to&nbsp;panic.</span><br>
<span class="lineno">85</span><span class="comment" id="1447442">//&nbsp;There&#39;s&nbsp;room&nbsp;for&nbsp;arbitrary&nbsp;complexity&nbsp;here,&nbsp;but&nbsp;we&nbsp;keep&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1447504">//&nbsp;simple&nbsp;and&nbsp;handle&nbsp;just&nbsp;a&nbsp;few&nbsp;important&nbsp;cases:&nbsp;int,&nbsp;string,&nbsp;and&nbsp;Stringer.</span><br>
<span class="lineno"></span><span class="keyword" id="1447580">func</span>&nbsp;<span class="ident" id="1447585">printany</span><span class="op" id="1447593">(</span><span class="ident" id="1447594">i</span>&nbsp;<span class="keyword" id="1447596">interface</span><span class="op" id="1447605">{</span><span class="op" id="1447606">}</span><span class="op" id="1447607">)</span>&nbsp;<span class="op" id="1447609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447612">switch</span>&nbsp;<span class="ident" id="1447619">v</span>&nbsp;<span class="op" id="1447621">:=</span>&nbsp;<span class="ident" id="1447624">i</span><span class="op" id="1447625">.</span><span class="op" id="1447626">(</span><span class="keyword" id="1447627">type</span><span class="op" id="1447631">)</span>&nbsp;<span class="op" id="1447633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447636">case</span>&nbsp;<span class="ident" id="1447641">nil</span><span class="op" id="1447644">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1447648">print</span><span class="op" id="1447653">(</span><span class="string" id="1447654">&#34;nil&#34;</span><span class="op" id="1447659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447662">case</span>&nbsp;<span class="ident" id="1447667">stringer</span><span class="op" id="1447675">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1447679">print</span><span class="op" id="1447684">(</span><span class="ident" id="1447685">v</span><span class="op" id="1447686">.</span><span class="ident" id="1447687">String</span><span class="op" id="1447693">(</span><span class="op" id="1447694">)</span><span class="op" id="1447695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447698">case</span>&nbsp;<span class="builtintype" id="1447703">error</span><span class="op" id="1447708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1447712">print</span><span class="op" id="1447717">(</span><span class="ident" id="1447718">v</span><span class="op" id="1447719">.</span><span class="ident" id="1447720">Error</span><span class="op" id="1447725">(</span><span class="op" id="1447726">)</span><span class="op" id="1447727">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447730">case</span>&nbsp;<span class="builtintype" id="1447735">int</span><span class="op" id="1447738">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1447742">print</span><span class="op" id="1447747">(</span><span class="ident" id="1447748">v</span><span class="op" id="1447749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447752">case</span>&nbsp;<span class="builtintype" id="1447757">string</span><span class="op" id="1447763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1447767">print</span><span class="op" id="1447772">(</span><span class="ident" id="1447773">v</span><span class="op" id="1447774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1447777">default</span><span class="op" id="1447784">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1447788">print</span><span class="op" id="1447793">(</span><span class="string" id="1447794">&#34;(&#34;</span><span class="op" id="1447797">,</span>&nbsp;<span class="ident" id="1447799">typestring</span><span class="op" id="1447809">(</span><span class="ident" id="1447810">i</span><span class="op" id="1447811">)</span><span class="op" id="1447812">,</span>&nbsp;<span class="string" id="1447814">&#34;)&nbsp;&#34;</span><span class="op" id="1447818">,</span>&nbsp;<span class="ident" id="1447820">i</span><span class="op" id="1447821">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1447824">}</span><br>
<span class="lineno"></span><span class="op" id="1447826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1447829">//&nbsp;called&nbsp;from&nbsp;generated&nbsp;code</span><br>
<span class="lineno">105</span><span class="keyword" id="1447859">func</span>&nbsp;<span class="ident" id="1447864">panicwrap</span><span class="op" id="1447873">(</span><span class="ident" id="1447874">pkg</span><span class="op" id="1447877">,</span>&nbsp;<span class="ident" id="1447879">typ</span><span class="op" id="1447882">,</span>&nbsp;<span class="ident" id="1447884">meth</span>&nbsp;<span class="builtintype" id="1447889">string</span><span class="op" id="1447895">)</span>&nbsp;<span class="op" id="1447897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="1447900">panic</span><span class="op" id="1447905">(</span><span class="string" id="1447906">&#34;value&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1447922">+</span>&nbsp;<span class="ident" id="1447924">pkg</span>&nbsp;<span class="op" id="1447928">+</span>&nbsp;<span class="string" id="1447930">&#34;.&#34;</span>&nbsp;<span class="op" id="1447934">+</span>&nbsp;<span class="ident" id="1447936">typ</span>&nbsp;<span class="op" id="1447940">+</span>&nbsp;<span class="string" id="1447942">&#34;.&#34;</span>&nbsp;<span class="op" id="1447946">+</span>&nbsp;<span class="ident" id="1447948">meth</span>&nbsp;<span class="op" id="1447953">+</span>&nbsp;<span class="string" id="1447955">&#34;&nbsp;called&nbsp;using&nbsp;nil&nbsp;*&#34;</span>&nbsp;<span class="op" id="1447977">+</span>&nbsp;<span class="ident" id="1447979">typ</span>&nbsp;<span class="op" id="1447983">+</span>&nbsp;<span class="string" id="1447985">&#34;&nbsp;pointer&#34;</span><span class="op" id="1447995">)</span><br>
<span class="lineno"></span><span class="op" id="1447997">}</span>
</div>
</body>
</html>
