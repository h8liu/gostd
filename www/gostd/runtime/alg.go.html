<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html" class="current">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1436656">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1436711">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1436765">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1436816">package</span>&nbsp;<span class="ident" id="1436824">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1436833">import</span>&nbsp;<span class="string" id="1436840">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1436850">const</span>&nbsp;<span class="op" id="1436856">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436859">c0</span>&nbsp;<span class="op" id="1436862">=</span>&nbsp;<span class="builtintype" id="1436864">uintptr</span><span class="op" id="1436871">(</span><span class="op" id="1436872">(</span><span class="num" id="1436873">8</span><span class="op" id="1436874">-</span><span class="ident" id="1436875">ptrSize</span><span class="op" id="1436882">)</span><span class="op" id="1436883">/</span><span class="num" id="1436884">4</span><span class="op" id="1436885">*</span><span class="num" id="1436886">2860486313</span>&nbsp;<span class="op" id="1436897">+</span>&nbsp;<span class="op" id="1436899">(</span><span class="ident" id="1436900">ptrSize</span><span class="op" id="1436907">-</span><span class="num" id="1436908">4</span><span class="op" id="1436909">)</span><span class="op" id="1436910">/</span><span class="num" id="1436911">4</span><span class="op" id="1436912">*</span><span class="num" id="1436913">33054211828000289</span><span class="op" id="1436930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436933">c1</span>&nbsp;<span class="op" id="1436936">=</span>&nbsp;<span class="builtintype" id="1436938">uintptr</span><span class="op" id="1436945">(</span><span class="op" id="1436946">(</span><span class="num" id="1436947">8</span><span class="op" id="1436948">-</span><span class="ident" id="1436949">ptrSize</span><span class="op" id="1436956">)</span><span class="op" id="1436957">/</span><span class="num" id="1436958">4</span><span class="op" id="1436959">*</span><span class="num" id="1436960">3267000013</span>&nbsp;<span class="op" id="1436971">+</span>&nbsp;<span class="op" id="1436973">(</span><span class="ident" id="1436974">ptrSize</span><span class="op" id="1436981">-</span><span class="num" id="1436982">4</span><span class="op" id="1436983">)</span><span class="op" id="1436984">/</span><span class="num" id="1436985">4</span><span class="op" id="1436986">*</span><span class="num" id="1436987">23344194077549503</span><span class="op" id="1437004">)</span><br>
<span class="lineno"></span><span class="op" id="1437006">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1437009">//&nbsp;type&nbsp;algorithms&nbsp;-&nbsp;known&nbsp;to&nbsp;compiler</span><br>
<span class="lineno">15</span><span class="keyword" id="1437048">const</span>&nbsp;<span class="op" id="1437054">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437057">alg_MEM</span>&nbsp;<span class="op" id="1437065">=</span>&nbsp;<span class="ident" id="1437067">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437073">alg_MEM0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437083">alg_MEM8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437093">alg_MEM16</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437104">alg_MEM32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437115">alg_MEM64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437126">alg_MEM128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437138">alg_NOEQ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437148">alg_NOEQ0</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437159">alg_NOEQ8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437170">alg_NOEQ16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437182">alg_NOEQ32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437194">alg_NOEQ64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437206">alg_NOEQ128</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437219">alg_STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437231">alg_INTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437242">alg_NILINTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437256">alg_SLICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437267">alg_FLOAT32</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437280">alg_FLOAT64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437293">alg_CPLX64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437305">alg_CPLX128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437318">alg_max</span><br>
<span class="lineno"></span><span class="op" id="1437326">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1437329">type</span>&nbsp;<span class="ident" id="1437334">typeAlg</span>&nbsp;<span class="keyword" id="1437342">struct</span>&nbsp;<span class="op" id="1437349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1437352">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1437398">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437438">hash</span>&nbsp;<span class="keyword" id="1437443">func</span><span class="op" id="1437447">(</span><span class="ident" id="1437448">unsafe</span><span class="op" id="1437454">.</span><span class="ident" id="1437455">Pointer</span><span class="op" id="1437462">,</span>&nbsp;<span class="builtintype" id="1437464">uintptr</span><span class="op" id="1437471">,</span>&nbsp;<span class="builtintype" id="1437473">uintptr</span><span class="op" id="1437480">)</span>&nbsp;<span class="builtintype" id="1437482">uintptr</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1437491">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1437539">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437591">equal</span>&nbsp;<span class="keyword" id="1437597">func</span><span class="op" id="1437601">(</span><span class="ident" id="1437602">unsafe</span><span class="op" id="1437608">.</span><span class="ident" id="1437609">Pointer</span><span class="op" id="1437616">,</span>&nbsp;<span class="ident" id="1437618">unsafe</span><span class="op" id="1437624">.</span><span class="ident" id="1437625">Pointer</span><span class="op" id="1437632">,</span>&nbsp;<span class="builtintype" id="1437634">uintptr</span><span class="op" id="1437641">)</span>&nbsp;<span class="builtintype" id="1437643">bool</span><br>
<span class="lineno"></span><span class="op" id="1437648">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="1437651">var</span>&nbsp;<span class="ident" id="1437655">algarray</span>&nbsp;<span class="op" id="1437664">=</span>&nbsp;<span class="op" id="1437666">[</span><span class="ident" id="1437667">alg_max</span><span class="op" id="1437674">]</span><span class="ident" id="1437675">typeAlg</span><span class="op" id="1437682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437685">alg_MEM</span><span class="op" id="1437692">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437699">{</span><span class="ident" id="1437700">memhash</span><span class="op" id="1437707">,</span>&nbsp;<span class="ident" id="1437709">memequal</span><span class="op" id="1437717">}</span><span class="op" id="1437718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437721">alg_MEM0</span><span class="op" id="1437729">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437735">{</span><span class="ident" id="1437736">memhash</span><span class="op" id="1437743">,</span>&nbsp;<span class="ident" id="1437745">memequal0</span><span class="op" id="1437754">}</span><span class="op" id="1437755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437758">alg_MEM8</span><span class="op" id="1437766">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437772">{</span><span class="ident" id="1437773">memhash</span><span class="op" id="1437780">,</span>&nbsp;<span class="ident" id="1437782">memequal8</span><span class="op" id="1437791">}</span><span class="op" id="1437792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437795">alg_MEM16</span><span class="op" id="1437804">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437809">{</span><span class="ident" id="1437810">memhash</span><span class="op" id="1437817">,</span>&nbsp;<span class="ident" id="1437819">memequal16</span><span class="op" id="1437829">}</span><span class="op" id="1437830">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437833">alg_MEM32</span><span class="op" id="1437842">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437847">{</span><span class="ident" id="1437848">memhash</span><span class="op" id="1437855">,</span>&nbsp;<span class="ident" id="1437857">memequal32</span><span class="op" id="1437867">}</span><span class="op" id="1437868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437871">alg_MEM64</span><span class="op" id="1437880">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437885">{</span><span class="ident" id="1437886">memhash</span><span class="op" id="1437893">,</span>&nbsp;<span class="ident" id="1437895">memequal64</span><span class="op" id="1437905">}</span><span class="op" id="1437906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437909">alg_MEM128</span><span class="op" id="1437919">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1437923">{</span><span class="ident" id="1437924">memhash</span><span class="op" id="1437931">,</span>&nbsp;<span class="ident" id="1437933">memequal128</span><span class="op" id="1437944">}</span><span class="op" id="1437945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437948">alg_NOEQ</span><span class="op" id="1437956">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437962">{</span><span class="builtintype" id="1437963">nil</span><span class="op" id="1437966">,</span>&nbsp;<span class="builtintype" id="1437968">nil</span><span class="op" id="1437971">}</span><span class="op" id="1437972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437975">alg_NOEQ0</span><span class="op" id="1437984">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437989">{</span><span class="builtintype" id="1437990">nil</span><span class="op" id="1437993">,</span>&nbsp;<span class="builtintype" id="1437995">nil</span><span class="op" id="1437998">}</span><span class="op" id="1437999">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438002">alg_NOEQ8</span><span class="op" id="1438011">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1438016">{</span><span class="builtintype" id="1438017">nil</span><span class="op" id="1438020">,</span>&nbsp;<span class="builtintype" id="1438022">nil</span><span class="op" id="1438025">}</span><span class="op" id="1438026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438029">alg_NOEQ16</span><span class="op" id="1438039">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1438043">{</span><span class="builtintype" id="1438044">nil</span><span class="op" id="1438047">,</span>&nbsp;<span class="builtintype" id="1438049">nil</span><span class="op" id="1438052">}</span><span class="op" id="1438053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438056">alg_NOEQ32</span><span class="op" id="1438066">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1438070">{</span><span class="builtintype" id="1438071">nil</span><span class="op" id="1438074">,</span>&nbsp;<span class="builtintype" id="1438076">nil</span><span class="op" id="1438079">}</span><span class="op" id="1438080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438083">alg_NOEQ64</span><span class="op" id="1438093">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1438097">{</span><span class="builtintype" id="1438098">nil</span><span class="op" id="1438101">,</span>&nbsp;<span class="builtintype" id="1438103">nil</span><span class="op" id="1438106">}</span><span class="op" id="1438107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438110">alg_NOEQ128</span><span class="op" id="1438121">:</span>&nbsp;&nbsp;<span class="op" id="1438124">{</span><span class="builtintype" id="1438125">nil</span><span class="op" id="1438128">,</span>&nbsp;<span class="builtintype" id="1438130">nil</span><span class="op" id="1438133">}</span><span class="op" id="1438134">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438137">alg_STRING</span><span class="op" id="1438147">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1438151">{</span><span class="ident" id="1438152">strhash</span><span class="op" id="1438159">,</span>&nbsp;<span class="ident" id="1438161">strequal</span><span class="op" id="1438169">}</span><span class="op" id="1438170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438173">alg_INTER</span><span class="op" id="1438182">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1438187">{</span><span class="ident" id="1438188">interhash</span><span class="op" id="1438197">,</span>&nbsp;<span class="ident" id="1438199">interequal</span><span class="op" id="1438209">}</span><span class="op" id="1438210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438213">alg_NILINTER</span><span class="op" id="1438225">:</span>&nbsp;<span class="op" id="1438227">{</span><span class="ident" id="1438228">nilinterhash</span><span class="op" id="1438240">,</span>&nbsp;<span class="ident" id="1438242">nilinterequal</span><span class="op" id="1438255">}</span><span class="op" id="1438256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438259">alg_SLICE</span><span class="op" id="1438268">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1438273">{</span><span class="builtintype" id="1438274">nil</span><span class="op" id="1438277">,</span>&nbsp;<span class="builtintype" id="1438279">nil</span><span class="op" id="1438282">}</span><span class="op" id="1438283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438286">alg_FLOAT32</span><span class="op" id="1438297">:</span>&nbsp;&nbsp;<span class="op" id="1438300">{</span><span class="ident" id="1438301">f32hash</span><span class="op" id="1438308">,</span>&nbsp;<span class="ident" id="1438310">f32equal</span><span class="op" id="1438318">}</span><span class="op" id="1438319">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438322">alg_FLOAT64</span><span class="op" id="1438333">:</span>&nbsp;&nbsp;<span class="op" id="1438336">{</span><span class="ident" id="1438337">f64hash</span><span class="op" id="1438344">,</span>&nbsp;<span class="ident" id="1438346">f64equal</span><span class="op" id="1438354">}</span><span class="op" id="1438355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438358">alg_CPLX64</span><span class="op" id="1438368">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1438372">{</span><span class="ident" id="1438373">c64hash</span><span class="op" id="1438380">,</span>&nbsp;<span class="ident" id="1438382">c64equal</span><span class="op" id="1438390">}</span><span class="op" id="1438391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438394">alg_CPLX128</span><span class="op" id="1438405">:</span>&nbsp;&nbsp;<span class="op" id="1438408">{</span><span class="ident" id="1438409">c128hash</span><span class="op" id="1438417">,</span>&nbsp;<span class="ident" id="1438419">c128equal</span><span class="op" id="1438428">}</span><span class="op" id="1438429">,</span><br>
<span class="lineno"></span><span class="op" id="1438431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1438434">const</span>&nbsp;<span class="ident" id="1438440">nacl</span>&nbsp;<span class="op" id="1438445">=</span>&nbsp;<span class="ident" id="1438447">GOOS</span>&nbsp;<span class="op" id="1438452">==</span>&nbsp;<span class="string" id="1438455">&#34;nacl&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1438463">var</span>&nbsp;<span class="ident" id="1438467">useAeshash</span>&nbsp;<span class="builtintype" id="1438478">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1438484">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">80</span><span class="keyword" id="1438498">func</span>&nbsp;<span class="ident" id="1438503">aeshash</span><span class="op" id="1438510">(</span><span class="ident" id="1438511">p</span>&nbsp;<span class="ident" id="1438513">unsafe</span><span class="op" id="1438519">.</span><span class="ident" id="1438520">Pointer</span><span class="op" id="1438527">,</span>&nbsp;<span class="ident" id="1438529">s</span><span class="op" id="1438530">,</span>&nbsp;<span class="ident" id="1438532">h</span>&nbsp;<span class="builtintype" id="1438534">uintptr</span><span class="op" id="1438541">)</span>&nbsp;<span class="builtintype" id="1438543">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1438551">func</span>&nbsp;<span class="ident" id="1438556">aeshash32</span><span class="op" id="1438565">(</span><span class="ident" id="1438566">p</span>&nbsp;<span class="ident" id="1438568">unsafe</span><span class="op" id="1438574">.</span><span class="ident" id="1438575">Pointer</span><span class="op" id="1438582">,</span>&nbsp;<span class="ident" id="1438584">s</span><span class="op" id="1438585">,</span>&nbsp;<span class="ident" id="1438587">h</span>&nbsp;<span class="builtintype" id="1438589">uintptr</span><span class="op" id="1438596">)</span>&nbsp;<span class="builtintype" id="1438598">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1438606">func</span>&nbsp;<span class="ident" id="1438611">aeshash64</span><span class="op" id="1438620">(</span><span class="ident" id="1438621">p</span>&nbsp;<span class="ident" id="1438623">unsafe</span><span class="op" id="1438629">.</span><span class="ident" id="1438630">Pointer</span><span class="op" id="1438637">,</span>&nbsp;<span class="ident" id="1438639">s</span><span class="op" id="1438640">,</span>&nbsp;<span class="ident" id="1438642">h</span>&nbsp;<span class="builtintype" id="1438644">uintptr</span><span class="op" id="1438651">)</span>&nbsp;<span class="builtintype" id="1438653">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1438661">func</span>&nbsp;<span class="ident" id="1438666">aeshashstr</span><span class="op" id="1438676">(</span><span class="ident" id="1438677">p</span>&nbsp;<span class="ident" id="1438679">unsafe</span><span class="op" id="1438685">.</span><span class="ident" id="1438686">Pointer</span><span class="op" id="1438693">,</span>&nbsp;<span class="ident" id="1438695">s</span><span class="op" id="1438696">,</span>&nbsp;<span class="ident" id="1438698">h</span>&nbsp;<span class="builtintype" id="1438700">uintptr</span><span class="op" id="1438707">)</span>&nbsp;<span class="builtintype" id="1438709">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1438718">func</span>&nbsp;<span class="ident" id="1438723">memhash</span><span class="op" id="1438730">(</span><span class="ident" id="1438731">p</span>&nbsp;<span class="ident" id="1438733">unsafe</span><span class="op" id="1438739">.</span><span class="ident" id="1438740">Pointer</span><span class="op" id="1438747">,</span>&nbsp;<span class="ident" id="1438749">s</span><span class="op" id="1438750">,</span>&nbsp;<span class="ident" id="1438752">h</span>&nbsp;<span class="builtintype" id="1438754">uintptr</span><span class="op" id="1438761">)</span>&nbsp;<span class="builtintype" id="1438763">uintptr</span>&nbsp;<span class="op" id="1438771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438774">if</span>&nbsp;<span class="op" id="1438777">!</span><span class="ident" id="1438778">nacl</span>&nbsp;<span class="op" id="1438783">&amp;&amp;</span>&nbsp;<span class="ident" id="1438786">useAeshash</span>&nbsp;<span class="op" id="1438797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438801">return</span>&nbsp;<span class="ident" id="1438808">aeshash</span><span class="op" id="1438815">(</span><span class="ident" id="1438816">p</span><span class="op" id="1438817">,</span>&nbsp;<span class="ident" id="1438819">s</span><span class="op" id="1438820">,</span>&nbsp;<span class="ident" id="1438822">h</span><span class="op" id="1438823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1438826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438830">h</span>&nbsp;<span class="op" id="1438832">^=</span>&nbsp;<span class="ident" id="1438835">c0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438839">for</span>&nbsp;<span class="ident" id="1438843">s</span>&nbsp;<span class="op" id="1438845">&gt;</span>&nbsp;<span class="num" id="1438847">0</span>&nbsp;<span class="op" id="1438849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438853">h</span>&nbsp;<span class="op" id="1438855">=</span>&nbsp;<span class="op" id="1438857">(</span><span class="ident" id="1438858">h</span>&nbsp;<span class="op" id="1438860">^</span>&nbsp;<span class="builtintype" id="1438862">uintptr</span><span class="op" id="1438869">(</span><span class="op" id="1438870">*</span><span class="op" id="1438871">(</span><span class="op" id="1438872">*</span><span class="builtintype" id="1438873">byte</span><span class="op" id="1438877">)</span><span class="op" id="1438878">(</span><span class="ident" id="1438879">p</span><span class="op" id="1438880">)</span><span class="op" id="1438881">)</span><span class="op" id="1438882">)</span>&nbsp;<span class="op" id="1438884">*</span>&nbsp;<span class="ident" id="1438886">c1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438891">p</span>&nbsp;<span class="op" id="1438893">=</span>&nbsp;<span class="ident" id="1438895">add</span><span class="op" id="1438898">(</span><span class="ident" id="1438899">p</span><span class="op" id="1438900">,</span>&nbsp;<span class="num" id="1438902">1</span><span class="op" id="1438903">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438907">s</span><span class="op" id="1438908">--</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1438912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438915">return</span>&nbsp;<span class="ident" id="1438922">h</span><br>
<span class="lineno"></span><span class="op" id="1438924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1438927">func</span>&nbsp;<span class="ident" id="1438932">strhash</span><span class="op" id="1438939">(</span><span class="ident" id="1438940">a</span>&nbsp;<span class="ident" id="1438942">unsafe</span><span class="op" id="1438948">.</span><span class="ident" id="1438949">Pointer</span><span class="op" id="1438956">,</span>&nbsp;<span class="ident" id="1438958">s</span><span class="op" id="1438959">,</span>&nbsp;<span class="ident" id="1438961">h</span>&nbsp;<span class="builtintype" id="1438963">uintptr</span><span class="op" id="1438970">)</span>&nbsp;<span class="builtintype" id="1438972">uintptr</span>&nbsp;<span class="op" id="1438980">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438983">return</span>&nbsp;<span class="ident" id="1438990">memhash</span><span class="op" id="1438997">(</span><span class="op" id="1438998">(</span><span class="op" id="1438999">*</span><span class="ident" id="1439000">stringStruct</span><span class="op" id="1439012">)</span><span class="op" id="1439013">(</span><span class="ident" id="1439014">a</span><span class="op" id="1439015">)</span><span class="op" id="1439016">.</span><span class="ident" id="1439017">str</span><span class="op" id="1439020">,</span>&nbsp;<span class="builtintype" id="1439022">uintptr</span><span class="op" id="1439029">(</span><span class="builtinfunc" id="1439030">len</span><span class="op" id="1439033">(</span><span class="op" id="1439034">*</span><span class="op" id="1439035">(</span><span class="op" id="1439036">*</span><span class="builtintype" id="1439037">string</span><span class="op" id="1439043">)</span><span class="op" id="1439044">(</span><span class="ident" id="1439045">a</span><span class="op" id="1439046">)</span><span class="op" id="1439047">)</span><span class="op" id="1439048">)</span><span class="op" id="1439049">,</span>&nbsp;<span class="ident" id="1439051">h</span><span class="op" id="1439052">)</span><br>
<span class="lineno"></span><span class="op" id="1439054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1439057">//&nbsp;NOTE:&nbsp;Because&nbsp;NaN&nbsp;!=&nbsp;NaN,&nbsp;a&nbsp;map&nbsp;can&nbsp;contain&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="1439108">//&nbsp;number&nbsp;of&nbsp;(mostly&nbsp;useless)&nbsp;entries&nbsp;keyed&nbsp;with&nbsp;NaNs.</span><br>
<span class="lineno">105</span><span class="comment" id="1439163">//&nbsp;To&nbsp;avoid&nbsp;long&nbsp;hash&nbsp;chains,&nbsp;we&nbsp;assign&nbsp;a&nbsp;random&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="1439219">//&nbsp;as&nbsp;the&nbsp;hash&nbsp;value&nbsp;for&nbsp;a&nbsp;NaN.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1439252">func</span>&nbsp;<span class="ident" id="1439257">f32hash</span><span class="op" id="1439264">(</span><span class="ident" id="1439265">p</span>&nbsp;<span class="ident" id="1439267">unsafe</span><span class="op" id="1439273">.</span><span class="ident" id="1439274">Pointer</span><span class="op" id="1439281">,</span>&nbsp;<span class="ident" id="1439283">s</span><span class="op" id="1439284">,</span>&nbsp;<span class="ident" id="1439286">h</span>&nbsp;<span class="builtintype" id="1439288">uintptr</span><span class="op" id="1439295">)</span>&nbsp;<span class="builtintype" id="1439297">uintptr</span>&nbsp;<span class="op" id="1439305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439308">f</span>&nbsp;<span class="op" id="1439310">:=</span>&nbsp;<span class="op" id="1439313">*</span><span class="op" id="1439314">(</span><span class="op" id="1439315">*</span><span class="builtintype" id="1439316">float32</span><span class="op" id="1439323">)</span><span class="op" id="1439324">(</span><span class="ident" id="1439325">p</span><span class="op" id="1439326">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439329">switch</span>&nbsp;<span class="op" id="1439336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439339">case</span>&nbsp;<span class="ident" id="1439344">f</span>&nbsp;<span class="op" id="1439346">==</span>&nbsp;<span class="num" id="1439349">0</span><span class="op" id="1439350">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439354">return</span>&nbsp;<span class="ident" id="1439361">c1</span>&nbsp;<span class="op" id="1439364">*</span>&nbsp;<span class="op" id="1439366">(</span><span class="ident" id="1439367">c0</span>&nbsp;<span class="op" id="1439370">^</span>&nbsp;<span class="ident" id="1439372">h</span><span class="op" id="1439373">)</span>&nbsp;<span class="comment" id="1439375">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439386">case</span>&nbsp;<span class="ident" id="1439391">f</span>&nbsp;<span class="op" id="1439393">!=</span>&nbsp;<span class="ident" id="1439396">f</span><span class="op" id="1439397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439401">return</span>&nbsp;<span class="ident" id="1439408">c1</span>&nbsp;<span class="op" id="1439411">*</span>&nbsp;<span class="op" id="1439413">(</span><span class="ident" id="1439414">c0</span>&nbsp;<span class="op" id="1439417">^</span>&nbsp;<span class="ident" id="1439419">h</span>&nbsp;<span class="op" id="1439421">^</span>&nbsp;<span class="builtintype" id="1439423">uintptr</span><span class="op" id="1439430">(</span><span class="ident" id="1439431">fastrand1</span><span class="op" id="1439440">(</span><span class="op" id="1439441">)</span><span class="op" id="1439442">)</span><span class="op" id="1439443">)</span>&nbsp;<span class="comment" id="1439445">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439465">default</span><span class="op" id="1439472">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439476">return</span>&nbsp;<span class="ident" id="1439483">memhash</span><span class="op" id="1439490">(</span><span class="ident" id="1439491">p</span><span class="op" id="1439492">,</span>&nbsp;<span class="num" id="1439494">4</span><span class="op" id="1439495">,</span>&nbsp;<span class="ident" id="1439497">h</span><span class="op" id="1439498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439501">}</span><br>
<span class="lineno"></span><span class="op" id="1439503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="1439506">func</span>&nbsp;<span class="ident" id="1439511">f64hash</span><span class="op" id="1439518">(</span><span class="ident" id="1439519">p</span>&nbsp;<span class="ident" id="1439521">unsafe</span><span class="op" id="1439527">.</span><span class="ident" id="1439528">Pointer</span><span class="op" id="1439535">,</span>&nbsp;<span class="ident" id="1439537">s</span><span class="op" id="1439538">,</span>&nbsp;<span class="ident" id="1439540">h</span>&nbsp;<span class="builtintype" id="1439542">uintptr</span><span class="op" id="1439549">)</span>&nbsp;<span class="builtintype" id="1439551">uintptr</span>&nbsp;<span class="op" id="1439559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439562">f</span>&nbsp;<span class="op" id="1439564">:=</span>&nbsp;<span class="op" id="1439567">*</span><span class="op" id="1439568">(</span><span class="op" id="1439569">*</span><span class="builtintype" id="1439570">float64</span><span class="op" id="1439577">)</span><span class="op" id="1439578">(</span><span class="ident" id="1439579">p</span><span class="op" id="1439580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439583">switch</span>&nbsp;<span class="op" id="1439590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439593">case</span>&nbsp;<span class="ident" id="1439598">f</span>&nbsp;<span class="op" id="1439600">==</span>&nbsp;<span class="num" id="1439603">0</span><span class="op" id="1439604">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439608">return</span>&nbsp;<span class="ident" id="1439615">c1</span>&nbsp;<span class="op" id="1439618">*</span>&nbsp;<span class="op" id="1439620">(</span><span class="ident" id="1439621">c0</span>&nbsp;<span class="op" id="1439624">^</span>&nbsp;<span class="ident" id="1439626">h</span><span class="op" id="1439627">)</span>&nbsp;<span class="comment" id="1439629">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439640">case</span>&nbsp;<span class="ident" id="1439645">f</span>&nbsp;<span class="op" id="1439647">!=</span>&nbsp;<span class="ident" id="1439650">f</span><span class="op" id="1439651">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439655">return</span>&nbsp;<span class="ident" id="1439662">c1</span>&nbsp;<span class="op" id="1439665">*</span>&nbsp;<span class="op" id="1439667">(</span><span class="ident" id="1439668">c0</span>&nbsp;<span class="op" id="1439671">^</span>&nbsp;<span class="ident" id="1439673">h</span>&nbsp;<span class="op" id="1439675">^</span>&nbsp;<span class="builtintype" id="1439677">uintptr</span><span class="op" id="1439684">(</span><span class="ident" id="1439685">fastrand1</span><span class="op" id="1439694">(</span><span class="op" id="1439695">)</span><span class="op" id="1439696">)</span><span class="op" id="1439697">)</span>&nbsp;<span class="comment" id="1439699">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439719">default</span><span class="op" id="1439726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439730">return</span>&nbsp;<span class="ident" id="1439737">memhash</span><span class="op" id="1439744">(</span><span class="ident" id="1439745">p</span><span class="op" id="1439746">,</span>&nbsp;<span class="num" id="1439748">8</span><span class="op" id="1439749">,</span>&nbsp;<span class="ident" id="1439751">h</span><span class="op" id="1439752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1439755">}</span><br>
<span class="lineno">130</span><span class="op" id="1439757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1439760">func</span>&nbsp;<span class="ident" id="1439765">c64hash</span><span class="op" id="1439772">(</span><span class="ident" id="1439773">p</span>&nbsp;<span class="ident" id="1439775">unsafe</span><span class="op" id="1439781">.</span><span class="ident" id="1439782">Pointer</span><span class="op" id="1439789">,</span>&nbsp;<span class="ident" id="1439791">s</span><span class="op" id="1439792">,</span>&nbsp;<span class="ident" id="1439794">h</span>&nbsp;<span class="builtintype" id="1439796">uintptr</span><span class="op" id="1439803">)</span>&nbsp;<span class="builtintype" id="1439805">uintptr</span>&nbsp;<span class="op" id="1439813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439816">x</span>&nbsp;<span class="op" id="1439818">:=</span>&nbsp;<span class="op" id="1439821">(</span><span class="op" id="1439822">*</span><span class="op" id="1439823">[</span><span class="num" id="1439824">2</span><span class="op" id="1439825">]</span><span class="builtintype" id="1439826">float32</span><span class="op" id="1439833">)</span><span class="op" id="1439834">(</span><span class="ident" id="1439835">p</span><span class="op" id="1439836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1439839">return</span>&nbsp;<span class="ident" id="1439846">f32hash</span><span class="op" id="1439853">(</span><span class="ident" id="1439854">unsafe</span><span class="op" id="1439860">.</span><span class="ident" id="1439861">Pointer</span><span class="op" id="1439868">(</span><span class="op" id="1439869">&amp;</span><span class="ident" id="1439870">x</span><span class="op" id="1439871">[</span><span class="num" id="1439872">1</span><span class="op" id="1439873">]</span><span class="op" id="1439874">)</span><span class="op" id="1439875">,</span>&nbsp;<span class="num" id="1439877">4</span><span class="op" id="1439878">,</span>&nbsp;<span class="ident" id="1439880">f32hash</span><span class="op" id="1439887">(</span><span class="ident" id="1439888">unsafe</span><span class="op" id="1439894">.</span><span class="ident" id="1439895">Pointer</span><span class="op" id="1439902">(</span><span class="op" id="1439903">&amp;</span><span class="ident" id="1439904">x</span><span class="op" id="1439905">[</span><span class="num" id="1439906">0</span><span class="op" id="1439907">]</span><span class="op" id="1439908">)</span><span class="op" id="1439909">,</span>&nbsp;<span class="num" id="1439911">4</span><span class="op" id="1439912">,</span>&nbsp;<span class="ident" id="1439914">h</span><span class="op" id="1439915">)</span><span class="op" id="1439916">)</span><br>
<span class="lineno">135</span><span class="op" id="1439918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1439921">func</span>&nbsp;<span class="ident" id="1439926">c128hash</span><span class="op" id="1439934">(</span><span class="ident" id="1439935">p</span>&nbsp;<span class="ident" id="1439937">unsafe</span><span class="op" id="1439943">.</span><span class="ident" id="1439944">Pointer</span><span class="op" id="1439951">,</span>&nbsp;<span class="ident" id="1439953">s</span><span class="op" id="1439954">,</span>&nbsp;<span class="ident" id="1439956">h</span>&nbsp;<span class="builtintype" id="1439958">uintptr</span><span class="op" id="1439965">)</span>&nbsp;<span class="builtintype" id="1439967">uintptr</span>&nbsp;<span class="op" id="1439975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1439978">x</span>&nbsp;<span class="op" id="1439980">:=</span>&nbsp;<span class="op" id="1439983">(</span><span class="op" id="1439984">*</span><span class="op" id="1439985">[</span><span class="num" id="1439986">2</span><span class="op" id="1439987">]</span><span class="builtintype" id="1439988">float64</span><span class="op" id="1439995">)</span><span class="op" id="1439996">(</span><span class="ident" id="1439997">p</span><span class="op" id="1439998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440001">return</span>&nbsp;<span class="ident" id="1440008">f64hash</span><span class="op" id="1440015">(</span><span class="ident" id="1440016">unsafe</span><span class="op" id="1440022">.</span><span class="ident" id="1440023">Pointer</span><span class="op" id="1440030">(</span><span class="op" id="1440031">&amp;</span><span class="ident" id="1440032">x</span><span class="op" id="1440033">[</span><span class="num" id="1440034">1</span><span class="op" id="1440035">]</span><span class="op" id="1440036">)</span><span class="op" id="1440037">,</span>&nbsp;<span class="num" id="1440039">8</span><span class="op" id="1440040">,</span>&nbsp;<span class="ident" id="1440042">f64hash</span><span class="op" id="1440049">(</span><span class="ident" id="1440050">unsafe</span><span class="op" id="1440056">.</span><span class="ident" id="1440057">Pointer</span><span class="op" id="1440064">(</span><span class="op" id="1440065">&amp;</span><span class="ident" id="1440066">x</span><span class="op" id="1440067">[</span><span class="num" id="1440068">0</span><span class="op" id="1440069">]</span><span class="op" id="1440070">)</span><span class="op" id="1440071">,</span>&nbsp;<span class="num" id="1440073">8</span><span class="op" id="1440074">,</span>&nbsp;<span class="ident" id="1440076">h</span><span class="op" id="1440077">)</span><span class="op" id="1440078">)</span><br>
<span class="lineno">140</span><span class="op" id="1440080">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1440083">func</span>&nbsp;<span class="ident" id="1440088">interhash</span><span class="op" id="1440097">(</span><span class="ident" id="1440098">p</span>&nbsp;<span class="ident" id="1440100">unsafe</span><span class="op" id="1440106">.</span><span class="ident" id="1440107">Pointer</span><span class="op" id="1440114">,</span>&nbsp;<span class="ident" id="1440116">s</span><span class="op" id="1440117">,</span>&nbsp;<span class="ident" id="1440119">h</span>&nbsp;<span class="builtintype" id="1440121">uintptr</span><span class="op" id="1440128">)</span>&nbsp;<span class="builtintype" id="1440130">uintptr</span>&nbsp;<span class="op" id="1440138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1440141">a</span>&nbsp;<span class="op" id="1440143">:=</span>&nbsp;<span class="op" id="1440146">(</span><span class="op" id="1440147">*</span><span class="ident" id="1440148">iface</span><span class="op" id="1440153">)</span><span class="op" id="1440154">(</span><span class="ident" id="1440155">p</span><span class="op" id="1440156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1440159">tab</span>&nbsp;<span class="op" id="1440163">:=</span>&nbsp;<span class="ident" id="1440166">a</span><span class="op" id="1440167">.</span><span class="ident" id="1440168">tab</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440173">if</span>&nbsp;<span class="ident" id="1440176">tab</span>&nbsp;<span class="op" id="1440180">==</span>&nbsp;<span class="builtintype" id="1440183">nil</span>&nbsp;<span class="op" id="1440187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440191">return</span>&nbsp;<span class="ident" id="1440198">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1440204">t</span>&nbsp;<span class="op" id="1440206">:=</span>&nbsp;<span class="ident" id="1440209">tab</span><span class="op" id="1440212">.</span><span class="ident" id="1440213">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1440220">fn</span>&nbsp;<span class="op" id="1440223">:=</span>&nbsp;<span class="ident" id="1440226">goalg</span><span class="op" id="1440231">(</span><span class="ident" id="1440232">t</span><span class="op" id="1440233">.</span><span class="ident" id="1440234">alg</span><span class="op" id="1440237">)</span><span class="op" id="1440238">.</span><span class="ident" id="1440239">hash</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440245">if</span>&nbsp;<span class="ident" id="1440248">fn</span>&nbsp;<span class="op" id="1440251">==</span>&nbsp;<span class="builtintype" id="1440254">nil</span>&nbsp;<span class="op" id="1440258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1440262">panic</span><span class="op" id="1440267">(</span><span class="ident" id="1440268">errorString</span><span class="op" id="1440279">(</span><span class="string" id="1440280">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1440307">+</span>&nbsp;<span class="op" id="1440309">*</span><span class="ident" id="1440310">t</span><span class="op" id="1440311">.</span><span class="ident" id="1440312">_string</span><span class="op" id="1440319">)</span><span class="op" id="1440320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440326">if</span>&nbsp;<span class="ident" id="1440329">isDirectIface</span><span class="op" id="1440342">(</span><span class="ident" id="1440343">t</span><span class="op" id="1440344">)</span>&nbsp;<span class="op" id="1440346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440350">return</span>&nbsp;<span class="ident" id="1440357">c1</span>&nbsp;<span class="op" id="1440360">*</span>&nbsp;<span class="ident" id="1440362">fn</span><span class="op" id="1440364">(</span><span class="ident" id="1440365">unsafe</span><span class="op" id="1440371">.</span><span class="ident" id="1440372">Pointer</span><span class="op" id="1440379">(</span><span class="op" id="1440380">&amp;</span><span class="ident" id="1440381">a</span><span class="op" id="1440382">.</span><span class="ident" id="1440383">data</span><span class="op" id="1440387">)</span><span class="op" id="1440388">,</span>&nbsp;<span class="builtintype" id="1440390">uintptr</span><span class="op" id="1440397">(</span><span class="ident" id="1440398">t</span><span class="op" id="1440399">.</span><span class="ident" id="1440400">size</span><span class="op" id="1440404">)</span><span class="op" id="1440405">,</span>&nbsp;<span class="ident" id="1440407">h</span><span class="op" id="1440408">^</span><span class="ident" id="1440409">c0</span><span class="op" id="1440411">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440414">}</span>&nbsp;<span class="keyword" id="1440416">else</span>&nbsp;<span class="op" id="1440421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440425">return</span>&nbsp;<span class="ident" id="1440432">c1</span>&nbsp;<span class="op" id="1440435">*</span>&nbsp;<span class="ident" id="1440437">fn</span><span class="op" id="1440439">(</span><span class="ident" id="1440440">a</span><span class="op" id="1440441">.</span><span class="ident" id="1440442">data</span><span class="op" id="1440446">,</span>&nbsp;<span class="builtintype" id="1440448">uintptr</span><span class="op" id="1440455">(</span><span class="ident" id="1440456">t</span><span class="op" id="1440457">.</span><span class="ident" id="1440458">size</span><span class="op" id="1440462">)</span><span class="op" id="1440463">,</span>&nbsp;<span class="ident" id="1440465">h</span><span class="op" id="1440466">^</span><span class="ident" id="1440467">c0</span><span class="op" id="1440469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440472">}</span><br>
<span class="lineno"></span><span class="op" id="1440474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="1440477">func</span>&nbsp;<span class="ident" id="1440482">nilinterhash</span><span class="op" id="1440494">(</span><span class="ident" id="1440495">p</span>&nbsp;<span class="ident" id="1440497">unsafe</span><span class="op" id="1440503">.</span><span class="ident" id="1440504">Pointer</span><span class="op" id="1440511">,</span>&nbsp;<span class="ident" id="1440513">s</span><span class="op" id="1440514">,</span>&nbsp;<span class="ident" id="1440516">h</span>&nbsp;<span class="builtintype" id="1440518">uintptr</span><span class="op" id="1440525">)</span>&nbsp;<span class="builtintype" id="1440527">uintptr</span>&nbsp;<span class="op" id="1440535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1440538">a</span>&nbsp;<span class="op" id="1440540">:=</span>&nbsp;<span class="op" id="1440543">(</span><span class="op" id="1440544">*</span><span class="ident" id="1440545">eface</span><span class="op" id="1440550">)</span><span class="op" id="1440551">(</span><span class="ident" id="1440552">p</span><span class="op" id="1440553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1440556">t</span>&nbsp;<span class="op" id="1440558">:=</span>&nbsp;<span class="ident" id="1440561">a</span><span class="op" id="1440562">.</span><span class="ident" id="1440563">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440570">if</span>&nbsp;<span class="ident" id="1440573">t</span>&nbsp;<span class="op" id="1440575">==</span>&nbsp;<span class="builtintype" id="1440578">nil</span>&nbsp;<span class="op" id="1440582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440586">return</span>&nbsp;<span class="ident" id="1440593">h</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440596">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1440599">fn</span>&nbsp;<span class="op" id="1440602">:=</span>&nbsp;<span class="ident" id="1440605">goalg</span><span class="op" id="1440610">(</span><span class="ident" id="1440611">t</span><span class="op" id="1440612">.</span><span class="ident" id="1440613">alg</span><span class="op" id="1440616">)</span><span class="op" id="1440617">.</span><span class="ident" id="1440618">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440624">if</span>&nbsp;<span class="ident" id="1440627">fn</span>&nbsp;<span class="op" id="1440630">==</span>&nbsp;<span class="builtintype" id="1440633">nil</span>&nbsp;<span class="op" id="1440637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1440641">panic</span><span class="op" id="1440646">(</span><span class="ident" id="1440647">errorString</span><span class="op" id="1440658">(</span><span class="string" id="1440659">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1440686">+</span>&nbsp;<span class="op" id="1440688">*</span><span class="ident" id="1440689">t</span><span class="op" id="1440690">.</span><span class="ident" id="1440691">_string</span><span class="op" id="1440698">)</span><span class="op" id="1440699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440702">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440705">if</span>&nbsp;<span class="ident" id="1440708">isDirectIface</span><span class="op" id="1440721">(</span><span class="ident" id="1440722">t</span><span class="op" id="1440723">)</span>&nbsp;<span class="op" id="1440725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440729">return</span>&nbsp;<span class="ident" id="1440736">c1</span>&nbsp;<span class="op" id="1440739">*</span>&nbsp;<span class="ident" id="1440741">fn</span><span class="op" id="1440743">(</span><span class="ident" id="1440744">unsafe</span><span class="op" id="1440750">.</span><span class="ident" id="1440751">Pointer</span><span class="op" id="1440758">(</span><span class="op" id="1440759">&amp;</span><span class="ident" id="1440760">a</span><span class="op" id="1440761">.</span><span class="ident" id="1440762">data</span><span class="op" id="1440766">)</span><span class="op" id="1440767">,</span>&nbsp;<span class="builtintype" id="1440769">uintptr</span><span class="op" id="1440776">(</span><span class="ident" id="1440777">t</span><span class="op" id="1440778">.</span><span class="ident" id="1440779">size</span><span class="op" id="1440783">)</span><span class="op" id="1440784">,</span>&nbsp;<span class="ident" id="1440786">h</span><span class="op" id="1440787">^</span><span class="ident" id="1440788">c0</span><span class="op" id="1440790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440793">}</span>&nbsp;<span class="keyword" id="1440795">else</span>&nbsp;<span class="op" id="1440800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440804">return</span>&nbsp;<span class="ident" id="1440811">c1</span>&nbsp;<span class="op" id="1440814">*</span>&nbsp;<span class="ident" id="1440816">fn</span><span class="op" id="1440818">(</span><span class="ident" id="1440819">a</span><span class="op" id="1440820">.</span><span class="ident" id="1440821">data</span><span class="op" id="1440825">,</span>&nbsp;<span class="builtintype" id="1440827">uintptr</span><span class="op" id="1440834">(</span><span class="ident" id="1440835">t</span><span class="op" id="1440836">.</span><span class="ident" id="1440837">size</span><span class="op" id="1440841">)</span><span class="op" id="1440842">,</span>&nbsp;<span class="ident" id="1440844">h</span><span class="op" id="1440845">^</span><span class="ident" id="1440846">c0</span><span class="op" id="1440848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440851">}</span><br>
<span class="lineno">175</span><span class="op" id="1440853">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1440856">func</span>&nbsp;<span class="ident" id="1440861">memequal</span><span class="op" id="1440869">(</span><span class="ident" id="1440870">p</span><span class="op" id="1440871">,</span>&nbsp;<span class="ident" id="1440873">q</span>&nbsp;<span class="ident" id="1440875">unsafe</span><span class="op" id="1440881">.</span><span class="ident" id="1440882">Pointer</span><span class="op" id="1440889">,</span>&nbsp;<span class="ident" id="1440891">size</span>&nbsp;<span class="builtintype" id="1440896">uintptr</span><span class="op" id="1440903">)</span>&nbsp;<span class="builtintype" id="1440905">bool</span>&nbsp;<span class="op" id="1440910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440913">if</span>&nbsp;<span class="ident" id="1440916">p</span>&nbsp;<span class="op" id="1440918">==</span>&nbsp;<span class="ident" id="1440921">q</span>&nbsp;<span class="op" id="1440923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440927">return</span>&nbsp;<span class="builtintype" id="1440934">true</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1440940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1440943">return</span>&nbsp;<span class="ident" id="1440950">memeq</span><span class="op" id="1440955">(</span><span class="ident" id="1440956">p</span><span class="op" id="1440957">,</span>&nbsp;<span class="ident" id="1440959">q</span><span class="op" id="1440960">,</span>&nbsp;<span class="ident" id="1440962">size</span><span class="op" id="1440966">)</span><br>
<span class="lineno"></span><span class="op" id="1440968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1440971">func</span>&nbsp;<span class="ident" id="1440976">memequal0</span><span class="op" id="1440985">(</span><span class="ident" id="1440986">p</span><span class="op" id="1440987">,</span>&nbsp;<span class="ident" id="1440989">q</span>&nbsp;<span class="ident" id="1440991">unsafe</span><span class="op" id="1440997">.</span><span class="ident" id="1440998">Pointer</span><span class="op" id="1441005">,</span>&nbsp;<span class="ident" id="1441007">size</span>&nbsp;<span class="builtintype" id="1441012">uintptr</span><span class="op" id="1441019">)</span>&nbsp;<span class="builtintype" id="1441021">bool</span>&nbsp;<span class="op" id="1441026">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441029">return</span>&nbsp;<span class="builtintype" id="1441036">true</span><br>
<span class="lineno"></span><span class="op" id="1441041">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441043">func</span>&nbsp;<span class="ident" id="1441048">memequal8</span><span class="op" id="1441057">(</span><span class="ident" id="1441058">p</span><span class="op" id="1441059">,</span>&nbsp;<span class="ident" id="1441061">q</span>&nbsp;<span class="ident" id="1441063">unsafe</span><span class="op" id="1441069">.</span><span class="ident" id="1441070">Pointer</span><span class="op" id="1441077">,</span>&nbsp;<span class="ident" id="1441079">size</span>&nbsp;<span class="builtintype" id="1441084">uintptr</span><span class="op" id="1441091">)</span>&nbsp;<span class="builtintype" id="1441093">bool</span>&nbsp;<span class="op" id="1441098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441101">return</span>&nbsp;<span class="op" id="1441108">*</span><span class="op" id="1441109">(</span><span class="op" id="1441110">*</span><span class="builtintype" id="1441111">int8</span><span class="op" id="1441115">)</span><span class="op" id="1441116">(</span><span class="ident" id="1441117">p</span><span class="op" id="1441118">)</span>&nbsp;<span class="op" id="1441120">==</span>&nbsp;<span class="op" id="1441123">*</span><span class="op" id="1441124">(</span><span class="op" id="1441125">*</span><span class="builtintype" id="1441126">int8</span><span class="op" id="1441130">)</span><span class="op" id="1441131">(</span><span class="ident" id="1441132">q</span><span class="op" id="1441133">)</span><br>
<span class="lineno"></span><span class="op" id="1441135">}</span><br>
<span class="lineno">190</span><span class="keyword" id="1441137">func</span>&nbsp;<span class="ident" id="1441142">memequal16</span><span class="op" id="1441152">(</span><span class="ident" id="1441153">p</span><span class="op" id="1441154">,</span>&nbsp;<span class="ident" id="1441156">q</span>&nbsp;<span class="ident" id="1441158">unsafe</span><span class="op" id="1441164">.</span><span class="ident" id="1441165">Pointer</span><span class="op" id="1441172">,</span>&nbsp;<span class="ident" id="1441174">size</span>&nbsp;<span class="builtintype" id="1441179">uintptr</span><span class="op" id="1441186">)</span>&nbsp;<span class="builtintype" id="1441188">bool</span>&nbsp;<span class="op" id="1441193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441196">return</span>&nbsp;<span class="op" id="1441203">*</span><span class="op" id="1441204">(</span><span class="op" id="1441205">*</span><span class="builtintype" id="1441206">int16</span><span class="op" id="1441211">)</span><span class="op" id="1441212">(</span><span class="ident" id="1441213">p</span><span class="op" id="1441214">)</span>&nbsp;<span class="op" id="1441216">==</span>&nbsp;<span class="op" id="1441219">*</span><span class="op" id="1441220">(</span><span class="op" id="1441221">*</span><span class="builtintype" id="1441222">int16</span><span class="op" id="1441227">)</span><span class="op" id="1441228">(</span><span class="ident" id="1441229">q</span><span class="op" id="1441230">)</span><br>
<span class="lineno"></span><span class="op" id="1441232">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441234">func</span>&nbsp;<span class="ident" id="1441239">memequal32</span><span class="op" id="1441249">(</span><span class="ident" id="1441250">p</span><span class="op" id="1441251">,</span>&nbsp;<span class="ident" id="1441253">q</span>&nbsp;<span class="ident" id="1441255">unsafe</span><span class="op" id="1441261">.</span><span class="ident" id="1441262">Pointer</span><span class="op" id="1441269">,</span>&nbsp;<span class="ident" id="1441271">size</span>&nbsp;<span class="builtintype" id="1441276">uintptr</span><span class="op" id="1441283">)</span>&nbsp;<span class="builtintype" id="1441285">bool</span>&nbsp;<span class="op" id="1441290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441293">return</span>&nbsp;<span class="op" id="1441300">*</span><span class="op" id="1441301">(</span><span class="op" id="1441302">*</span><span class="builtintype" id="1441303">int32</span><span class="op" id="1441308">)</span><span class="op" id="1441309">(</span><span class="ident" id="1441310">p</span><span class="op" id="1441311">)</span>&nbsp;<span class="op" id="1441313">==</span>&nbsp;<span class="op" id="1441316">*</span><span class="op" id="1441317">(</span><span class="op" id="1441318">*</span><span class="builtintype" id="1441319">int32</span><span class="op" id="1441324">)</span><span class="op" id="1441325">(</span><span class="ident" id="1441326">q</span><span class="op" id="1441327">)</span><br>
<span class="lineno">195</span><span class="op" id="1441329">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441331">func</span>&nbsp;<span class="ident" id="1441336">memequal64</span><span class="op" id="1441346">(</span><span class="ident" id="1441347">p</span><span class="op" id="1441348">,</span>&nbsp;<span class="ident" id="1441350">q</span>&nbsp;<span class="ident" id="1441352">unsafe</span><span class="op" id="1441358">.</span><span class="ident" id="1441359">Pointer</span><span class="op" id="1441366">,</span>&nbsp;<span class="ident" id="1441368">size</span>&nbsp;<span class="builtintype" id="1441373">uintptr</span><span class="op" id="1441380">)</span>&nbsp;<span class="builtintype" id="1441382">bool</span>&nbsp;<span class="op" id="1441387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441390">return</span>&nbsp;<span class="op" id="1441397">*</span><span class="op" id="1441398">(</span><span class="op" id="1441399">*</span><span class="ident" id="1441400">int64</span><span class="op" id="1441405">)</span><span class="op" id="1441406">(</span><span class="ident" id="1441407">p</span><span class="op" id="1441408">)</span>&nbsp;<span class="op" id="1441410">==</span>&nbsp;<span class="op" id="1441413">*</span><span class="op" id="1441414">(</span><span class="op" id="1441415">*</span><span class="ident" id="1441416">int64</span><span class="op" id="1441421">)</span><span class="op" id="1441422">(</span><span class="ident" id="1441423">q</span><span class="op" id="1441424">)</span><br>
<span class="lineno"></span><span class="op" id="1441426">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441428">func</span>&nbsp;<span class="ident" id="1441433">memequal128</span><span class="op" id="1441444">(</span><span class="ident" id="1441445">p</span><span class="op" id="1441446">,</span>&nbsp;<span class="ident" id="1441448">q</span>&nbsp;<span class="ident" id="1441450">unsafe</span><span class="op" id="1441456">.</span><span class="ident" id="1441457">Pointer</span><span class="op" id="1441464">,</span>&nbsp;<span class="ident" id="1441466">size</span>&nbsp;<span class="builtintype" id="1441471">uintptr</span><span class="op" id="1441478">)</span>&nbsp;<span class="builtintype" id="1441480">bool</span>&nbsp;<span class="op" id="1441485">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441488">return</span>&nbsp;<span class="op" id="1441495">*</span><span class="op" id="1441496">(</span><span class="op" id="1441497">*</span><span class="op" id="1441498">[</span><span class="num" id="1441499">2</span><span class="op" id="1441500">]</span><span class="ident" id="1441501">int64</span><span class="op" id="1441506">)</span><span class="op" id="1441507">(</span><span class="ident" id="1441508">p</span><span class="op" id="1441509">)</span>&nbsp;<span class="op" id="1441511">==</span>&nbsp;<span class="op" id="1441514">*</span><span class="op" id="1441515">(</span><span class="op" id="1441516">*</span><span class="op" id="1441517">[</span><span class="num" id="1441518">2</span><span class="op" id="1441519">]</span><span class="ident" id="1441520">int64</span><span class="op" id="1441525">)</span><span class="op" id="1441526">(</span><span class="ident" id="1441527">q</span><span class="op" id="1441528">)</span><br>
<span class="lineno"></span><span class="op" id="1441530">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441532">func</span>&nbsp;<span class="ident" id="1441537">f32equal</span><span class="op" id="1441545">(</span><span class="ident" id="1441546">p</span><span class="op" id="1441547">,</span>&nbsp;<span class="ident" id="1441549">q</span>&nbsp;<span class="ident" id="1441551">unsafe</span><span class="op" id="1441557">.</span><span class="ident" id="1441558">Pointer</span><span class="op" id="1441565">,</span>&nbsp;<span class="ident" id="1441567">size</span>&nbsp;<span class="builtintype" id="1441572">uintptr</span><span class="op" id="1441579">)</span>&nbsp;<span class="builtintype" id="1441581">bool</span>&nbsp;<span class="op" id="1441586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441589">return</span>&nbsp;<span class="op" id="1441596">*</span><span class="op" id="1441597">(</span><span class="op" id="1441598">*</span><span class="builtintype" id="1441599">float32</span><span class="op" id="1441606">)</span><span class="op" id="1441607">(</span><span class="ident" id="1441608">p</span><span class="op" id="1441609">)</span>&nbsp;<span class="op" id="1441611">==</span>&nbsp;<span class="op" id="1441614">*</span><span class="op" id="1441615">(</span><span class="op" id="1441616">*</span><span class="builtintype" id="1441617">float32</span><span class="op" id="1441624">)</span><span class="op" id="1441625">(</span><span class="ident" id="1441626">q</span><span class="op" id="1441627">)</span><br>
<span class="lineno"></span><span class="op" id="1441629">}</span><br>
<span class="lineno">205</span><span class="keyword" id="1441631">func</span>&nbsp;<span class="ident" id="1441636">f64equal</span><span class="op" id="1441644">(</span><span class="ident" id="1441645">p</span><span class="op" id="1441646">,</span>&nbsp;<span class="ident" id="1441648">q</span>&nbsp;<span class="ident" id="1441650">unsafe</span><span class="op" id="1441656">.</span><span class="ident" id="1441657">Pointer</span><span class="op" id="1441664">,</span>&nbsp;<span class="ident" id="1441666">size</span>&nbsp;<span class="builtintype" id="1441671">uintptr</span><span class="op" id="1441678">)</span>&nbsp;<span class="builtintype" id="1441680">bool</span>&nbsp;<span class="op" id="1441685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441688">return</span>&nbsp;<span class="op" id="1441695">*</span><span class="op" id="1441696">(</span><span class="op" id="1441697">*</span><span class="builtintype" id="1441698">float64</span><span class="op" id="1441705">)</span><span class="op" id="1441706">(</span><span class="ident" id="1441707">p</span><span class="op" id="1441708">)</span>&nbsp;<span class="op" id="1441710">==</span>&nbsp;<span class="op" id="1441713">*</span><span class="op" id="1441714">(</span><span class="op" id="1441715">*</span><span class="builtintype" id="1441716">float64</span><span class="op" id="1441723">)</span><span class="op" id="1441724">(</span><span class="ident" id="1441725">q</span><span class="op" id="1441726">)</span><br>
<span class="lineno"></span><span class="op" id="1441728">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441730">func</span>&nbsp;<span class="ident" id="1441735">c64equal</span><span class="op" id="1441743">(</span><span class="ident" id="1441744">p</span><span class="op" id="1441745">,</span>&nbsp;<span class="ident" id="1441747">q</span>&nbsp;<span class="ident" id="1441749">unsafe</span><span class="op" id="1441755">.</span><span class="ident" id="1441756">Pointer</span><span class="op" id="1441763">,</span>&nbsp;<span class="ident" id="1441765">size</span>&nbsp;<span class="builtintype" id="1441770">uintptr</span><span class="op" id="1441777">)</span>&nbsp;<span class="builtintype" id="1441779">bool</span>&nbsp;<span class="op" id="1441784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441787">return</span>&nbsp;<span class="op" id="1441794">*</span><span class="op" id="1441795">(</span><span class="op" id="1441796">*</span><span class="builtintype" id="1441797">complex64</span><span class="op" id="1441806">)</span><span class="op" id="1441807">(</span><span class="ident" id="1441808">p</span><span class="op" id="1441809">)</span>&nbsp;<span class="op" id="1441811">==</span>&nbsp;<span class="op" id="1441814">*</span><span class="op" id="1441815">(</span><span class="op" id="1441816">*</span><span class="builtintype" id="1441817">complex64</span><span class="op" id="1441826">)</span><span class="op" id="1441827">(</span><span class="ident" id="1441828">q</span><span class="op" id="1441829">)</span><br>
<span class="lineno">210</span><span class="op" id="1441831">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441833">func</span>&nbsp;<span class="ident" id="1441838">c128equal</span><span class="op" id="1441847">(</span><span class="ident" id="1441848">p</span><span class="op" id="1441849">,</span>&nbsp;<span class="ident" id="1441851">q</span>&nbsp;<span class="ident" id="1441853">unsafe</span><span class="op" id="1441859">.</span><span class="ident" id="1441860">Pointer</span><span class="op" id="1441867">,</span>&nbsp;<span class="ident" id="1441869">size</span>&nbsp;<span class="builtintype" id="1441874">uintptr</span><span class="op" id="1441881">)</span>&nbsp;<span class="builtintype" id="1441883">bool</span>&nbsp;<span class="op" id="1441888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441891">return</span>&nbsp;<span class="op" id="1441898">*</span><span class="op" id="1441899">(</span><span class="op" id="1441900">*</span><span class="builtintype" id="1441901">complex128</span><span class="op" id="1441911">)</span><span class="op" id="1441912">(</span><span class="ident" id="1441913">p</span><span class="op" id="1441914">)</span>&nbsp;<span class="op" id="1441916">==</span>&nbsp;<span class="op" id="1441919">*</span><span class="op" id="1441920">(</span><span class="op" id="1441921">*</span><span class="builtintype" id="1441922">complex128</span><span class="op" id="1441932">)</span><span class="op" id="1441933">(</span><span class="ident" id="1441934">q</span><span class="op" id="1441935">)</span><br>
<span class="lineno"></span><span class="op" id="1441937">}</span><br>
<span class="lineno"></span><span class="keyword" id="1441939">func</span>&nbsp;<span class="ident" id="1441944">strequal</span><span class="op" id="1441952">(</span><span class="ident" id="1441953">p</span><span class="op" id="1441954">,</span>&nbsp;<span class="ident" id="1441956">q</span>&nbsp;<span class="ident" id="1441958">unsafe</span><span class="op" id="1441964">.</span><span class="ident" id="1441965">Pointer</span><span class="op" id="1441972">,</span>&nbsp;<span class="ident" id="1441974">size</span>&nbsp;<span class="builtintype" id="1441979">uintptr</span><span class="op" id="1441986">)</span>&nbsp;<span class="builtintype" id="1441988">bool</span>&nbsp;<span class="op" id="1441993">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1441996">return</span>&nbsp;<span class="op" id="1442003">*</span><span class="op" id="1442004">(</span><span class="op" id="1442005">*</span><span class="builtintype" id="1442006">string</span><span class="op" id="1442012">)</span><span class="op" id="1442013">(</span><span class="ident" id="1442014">p</span><span class="op" id="1442015">)</span>&nbsp;<span class="op" id="1442017">==</span>&nbsp;<span class="op" id="1442020">*</span><span class="op" id="1442021">(</span><span class="op" id="1442022">*</span><span class="builtintype" id="1442023">string</span><span class="op" id="1442029">)</span><span class="op" id="1442030">(</span><span class="ident" id="1442031">q</span><span class="op" id="1442032">)</span><br>
<span class="lineno"></span><span class="op" id="1442034">}</span><br>
<span class="lineno"></span><span class="keyword" id="1442036">func</span>&nbsp;<span class="ident" id="1442041">interequal</span><span class="op" id="1442051">(</span><span class="ident" id="1442052">p</span><span class="op" id="1442053">,</span>&nbsp;<span class="ident" id="1442055">q</span>&nbsp;<span class="ident" id="1442057">unsafe</span><span class="op" id="1442063">.</span><span class="ident" id="1442064">Pointer</span><span class="op" id="1442071">,</span>&nbsp;<span class="ident" id="1442073">size</span>&nbsp;<span class="builtintype" id="1442078">uintptr</span><span class="op" id="1442085">)</span>&nbsp;<span class="builtintype" id="1442087">bool</span>&nbsp;<span class="op" id="1442092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442095">return</span>&nbsp;<span class="ident" id="1442102">ifaceeq</span><span class="op" id="1442109">(</span><span class="op" id="1442110">*</span><span class="op" id="1442111">(</span><span class="op" id="1442112">*</span><span class="keyword" id="1442113">interface</span>&nbsp;<span class="op" id="1442123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442127">f</span><span class="op" id="1442128">(</span><span class="op" id="1442129">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442132">}</span><span class="op" id="1442133">)</span><span class="op" id="1442134">(</span><span class="ident" id="1442135">p</span><span class="op" id="1442136">)</span><span class="op" id="1442137">,</span>&nbsp;<span class="op" id="1442139">*</span><span class="op" id="1442140">(</span><span class="op" id="1442141">*</span><span class="keyword" id="1442142">interface</span>&nbsp;<span class="op" id="1442152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442156">f</span><span class="op" id="1442157">(</span><span class="op" id="1442158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442161">}</span><span class="op" id="1442162">)</span><span class="op" id="1442163">(</span><span class="ident" id="1442164">q</span><span class="op" id="1442165">)</span><span class="op" id="1442166">)</span><br>
<span class="lineno"></span><span class="op" id="1442168">}</span><br>
<span class="lineno"></span><span class="keyword" id="1442170">func</span>&nbsp;<span class="ident" id="1442175">nilinterequal</span><span class="op" id="1442188">(</span><span class="ident" id="1442189">p</span><span class="op" id="1442190">,</span>&nbsp;<span class="ident" id="1442192">q</span>&nbsp;<span class="ident" id="1442194">unsafe</span><span class="op" id="1442200">.</span><span class="ident" id="1442201">Pointer</span><span class="op" id="1442208">,</span>&nbsp;<span class="ident" id="1442210">size</span>&nbsp;<span class="builtintype" id="1442215">uintptr</span><span class="op" id="1442222">)</span>&nbsp;<span class="builtintype" id="1442224">bool</span>&nbsp;<span class="op" id="1442229">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442232">return</span>&nbsp;<span class="ident" id="1442239">efaceeq</span><span class="op" id="1442246">(</span><span class="op" id="1442247">*</span><span class="op" id="1442248">(</span><span class="op" id="1442249">*</span><span class="keyword" id="1442250">interface</span><span class="op" id="1442259">{</span><span class="op" id="1442260">}</span><span class="op" id="1442261">)</span><span class="op" id="1442262">(</span><span class="ident" id="1442263">p</span><span class="op" id="1442264">)</span><span class="op" id="1442265">,</span>&nbsp;<span class="op" id="1442267">*</span><span class="op" id="1442268">(</span><span class="op" id="1442269">*</span><span class="keyword" id="1442270">interface</span><span class="op" id="1442279">{</span><span class="op" id="1442280">}</span><span class="op" id="1442281">)</span><span class="op" id="1442282">(</span><span class="ident" id="1442283">q</span><span class="op" id="1442284">)</span><span class="op" id="1442285">)</span><br>
<span class="lineno"></span><span class="op" id="1442287">}</span><br>
<span class="lineno"></span><span class="keyword" id="1442289">func</span>&nbsp;<span class="ident" id="1442294">efaceeq</span><span class="op" id="1442301">(</span><span class="ident" id="1442302">p</span><span class="op" id="1442303">,</span>&nbsp;<span class="ident" id="1442305">q</span>&nbsp;<span class="keyword" id="1442307">interface</span><span class="op" id="1442316">{</span><span class="op" id="1442317">}</span><span class="op" id="1442318">)</span>&nbsp;<span class="builtintype" id="1442320">bool</span>&nbsp;<span class="op" id="1442325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442328">x</span>&nbsp;<span class="op" id="1442330">:=</span>&nbsp;<span class="op" id="1442333">(</span><span class="op" id="1442334">*</span><span class="ident" id="1442335">eface</span><span class="op" id="1442340">)</span><span class="op" id="1442341">(</span><span class="ident" id="1442342">unsafe</span><span class="op" id="1442348">.</span><span class="ident" id="1442349">Pointer</span><span class="op" id="1442356">(</span><span class="op" id="1442357">&amp;</span><span class="ident" id="1442358">p</span><span class="op" id="1442359">)</span><span class="op" id="1442360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442363">y</span>&nbsp;<span class="op" id="1442365">:=</span>&nbsp;<span class="op" id="1442368">(</span><span class="op" id="1442369">*</span><span class="ident" id="1442370">eface</span><span class="op" id="1442375">)</span><span class="op" id="1442376">(</span><span class="ident" id="1442377">unsafe</span><span class="op" id="1442383">.</span><span class="ident" id="1442384">Pointer</span><span class="op" id="1442391">(</span><span class="op" id="1442392">&amp;</span><span class="ident" id="1442393">q</span><span class="op" id="1442394">)</span><span class="op" id="1442395">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442398">t</span>&nbsp;<span class="op" id="1442400">:=</span>&nbsp;<span class="ident" id="1442403">x</span><span class="op" id="1442404">.</span><span class="ident" id="1442405">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442412">if</span>&nbsp;<span class="ident" id="1442415">t</span>&nbsp;<span class="op" id="1442417">!=</span>&nbsp;<span class="ident" id="1442420">y</span><span class="op" id="1442421">.</span><span class="ident" id="1442422">_type</span>&nbsp;<span class="op" id="1442428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442432">return</span>&nbsp;<span class="builtintype" id="1442439">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442449">if</span>&nbsp;<span class="ident" id="1442452">t</span>&nbsp;<span class="op" id="1442454">==</span>&nbsp;<span class="builtintype" id="1442457">nil</span>&nbsp;<span class="op" id="1442461">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442465">return</span>&nbsp;<span class="builtintype" id="1442472">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442478">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442481">eq</span>&nbsp;<span class="op" id="1442484">:=</span>&nbsp;<span class="ident" id="1442487">goalg</span><span class="op" id="1442492">(</span><span class="ident" id="1442493">t</span><span class="op" id="1442494">.</span><span class="ident" id="1442495">alg</span><span class="op" id="1442498">)</span><span class="op" id="1442499">.</span><span class="ident" id="1442500">equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442507">if</span>&nbsp;<span class="ident" id="1442510">eq</span>&nbsp;<span class="op" id="1442513">==</span>&nbsp;<span class="builtintype" id="1442516">nil</span>&nbsp;<span class="op" id="1442520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1442524">panic</span><span class="op" id="1442529">(</span><span class="ident" id="1442530">errorString</span><span class="op" id="1442541">(</span><span class="string" id="1442542">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1442573">+</span>&nbsp;<span class="op" id="1442575">*</span><span class="ident" id="1442576">t</span><span class="op" id="1442577">.</span><span class="ident" id="1442578">_string</span><span class="op" id="1442585">)</span><span class="op" id="1442586">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442592">if</span>&nbsp;<span class="ident" id="1442595">isDirectIface</span><span class="op" id="1442608">(</span><span class="ident" id="1442609">t</span><span class="op" id="1442610">)</span>&nbsp;<span class="op" id="1442612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442616">return</span>&nbsp;<span class="ident" id="1442623">eq</span><span class="op" id="1442625">(</span><span class="ident" id="1442626">noescape</span><span class="op" id="1442634">(</span><span class="ident" id="1442635">unsafe</span><span class="op" id="1442641">.</span><span class="ident" id="1442642">Pointer</span><span class="op" id="1442649">(</span><span class="op" id="1442650">&amp;</span><span class="ident" id="1442651">x</span><span class="op" id="1442652">.</span><span class="ident" id="1442653">data</span><span class="op" id="1442657">)</span><span class="op" id="1442658">)</span><span class="op" id="1442659">,</span>&nbsp;<span class="ident" id="1442661">noescape</span><span class="op" id="1442669">(</span><span class="ident" id="1442670">unsafe</span><span class="op" id="1442676">.</span><span class="ident" id="1442677">Pointer</span><span class="op" id="1442684">(</span><span class="op" id="1442685">&amp;</span><span class="ident" id="1442686">y</span><span class="op" id="1442687">.</span><span class="ident" id="1442688">data</span><span class="op" id="1442692">)</span><span class="op" id="1442693">)</span><span class="op" id="1442694">,</span>&nbsp;<span class="builtintype" id="1442696">uintptr</span><span class="op" id="1442703">(</span><span class="ident" id="1442704">t</span><span class="op" id="1442705">.</span><span class="ident" id="1442706">size</span><span class="op" id="1442710">)</span><span class="op" id="1442711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442717">return</span>&nbsp;<span class="ident" id="1442724">eq</span><span class="op" id="1442726">(</span><span class="ident" id="1442727">x</span><span class="op" id="1442728">.</span><span class="ident" id="1442729">data</span><span class="op" id="1442733">,</span>&nbsp;<span class="ident" id="1442735">y</span><span class="op" id="1442736">.</span><span class="ident" id="1442737">data</span><span class="op" id="1442741">,</span>&nbsp;<span class="builtintype" id="1442743">uintptr</span><span class="op" id="1442750">(</span><span class="ident" id="1442751">t</span><span class="op" id="1442752">.</span><span class="ident" id="1442753">size</span><span class="op" id="1442757">)</span><span class="op" id="1442758">)</span><br>
<span class="lineno">245</span><span class="op" id="1442760">}</span><br>
<span class="lineno"></span><span class="keyword" id="1442762">func</span>&nbsp;<span class="ident" id="1442767">ifaceeq</span><span class="op" id="1442774">(</span><span class="ident" id="1442775">p</span><span class="op" id="1442776">,</span>&nbsp;<span class="ident" id="1442778">q</span>&nbsp;<span class="keyword" id="1442780">interface</span>&nbsp;<span class="op" id="1442790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442793">f</span><span class="op" id="1442794">(</span><span class="op" id="1442795">)</span><br>
<span class="lineno"></span><span class="op" id="1442797">}</span><span class="op" id="1442798">)</span>&nbsp;<span class="builtintype" id="1442800">bool</span>&nbsp;<span class="op" id="1442805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442808">x</span>&nbsp;<span class="op" id="1442810">:=</span>&nbsp;<span class="op" id="1442813">(</span><span class="op" id="1442814">*</span><span class="ident" id="1442815">iface</span><span class="op" id="1442820">)</span><span class="op" id="1442821">(</span><span class="ident" id="1442822">unsafe</span><span class="op" id="1442828">.</span><span class="ident" id="1442829">Pointer</span><span class="op" id="1442836">(</span><span class="op" id="1442837">&amp;</span><span class="ident" id="1442838">p</span><span class="op" id="1442839">)</span><span class="op" id="1442840">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442843">y</span>&nbsp;<span class="op" id="1442845">:=</span>&nbsp;<span class="op" id="1442848">(</span><span class="op" id="1442849">*</span><span class="ident" id="1442850">iface</span><span class="op" id="1442855">)</span><span class="op" id="1442856">(</span><span class="ident" id="1442857">unsafe</span><span class="op" id="1442863">.</span><span class="ident" id="1442864">Pointer</span><span class="op" id="1442871">(</span><span class="op" id="1442872">&amp;</span><span class="ident" id="1442873">q</span><span class="op" id="1442874">)</span><span class="op" id="1442875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442878">xtab</span>&nbsp;<span class="op" id="1442883">:=</span>&nbsp;<span class="ident" id="1442886">x</span><span class="op" id="1442887">.</span><span class="ident" id="1442888">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442893">if</span>&nbsp;<span class="ident" id="1442896">xtab</span>&nbsp;<span class="op" id="1442901">!=</span>&nbsp;<span class="ident" id="1442904">y</span><span class="op" id="1442905">.</span><span class="ident" id="1442906">tab</span>&nbsp;<span class="op" id="1442910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442914">return</span>&nbsp;<span class="builtintype" id="1442921">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442928">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442931">if</span>&nbsp;<span class="ident" id="1442934">xtab</span>&nbsp;<span class="op" id="1442939">==</span>&nbsp;<span class="builtintype" id="1442942">nil</span>&nbsp;<span class="op" id="1442946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1442950">return</span>&nbsp;<span class="builtintype" id="1442957">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1442963">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442966">t</span>&nbsp;<span class="op" id="1442968">:=</span>&nbsp;<span class="ident" id="1442971">xtab</span><span class="op" id="1442975">.</span><span class="ident" id="1442976">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1442983">eq</span>&nbsp;<span class="op" id="1442986">:=</span>&nbsp;<span class="ident" id="1442989">goalg</span><span class="op" id="1442994">(</span><span class="ident" id="1442995">t</span><span class="op" id="1442996">.</span><span class="ident" id="1442997">alg</span><span class="op" id="1443000">)</span><span class="op" id="1443001">.</span><span class="ident" id="1443002">equal</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443009">if</span>&nbsp;<span class="ident" id="1443012">eq</span>&nbsp;<span class="op" id="1443015">==</span>&nbsp;<span class="builtintype" id="1443018">nil</span>&nbsp;<span class="op" id="1443022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1443026">panic</span><span class="op" id="1443031">(</span><span class="ident" id="1443032">errorString</span><span class="op" id="1443043">(</span><span class="string" id="1443044">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1443075">+</span>&nbsp;<span class="op" id="1443077">*</span><span class="ident" id="1443078">t</span><span class="op" id="1443079">.</span><span class="ident" id="1443080">_string</span><span class="op" id="1443087">)</span><span class="op" id="1443088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1443091">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443094">if</span>&nbsp;<span class="ident" id="1443097">isDirectIface</span><span class="op" id="1443110">(</span><span class="ident" id="1443111">t</span><span class="op" id="1443112">)</span>&nbsp;<span class="op" id="1443114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443118">return</span>&nbsp;<span class="ident" id="1443125">eq</span><span class="op" id="1443127">(</span><span class="ident" id="1443128">noescape</span><span class="op" id="1443136">(</span><span class="ident" id="1443137">unsafe</span><span class="op" id="1443143">.</span><span class="ident" id="1443144">Pointer</span><span class="op" id="1443151">(</span><span class="op" id="1443152">&amp;</span><span class="ident" id="1443153">x</span><span class="op" id="1443154">.</span><span class="ident" id="1443155">data</span><span class="op" id="1443159">)</span><span class="op" id="1443160">)</span><span class="op" id="1443161">,</span>&nbsp;<span class="ident" id="1443163">noescape</span><span class="op" id="1443171">(</span><span class="ident" id="1443172">unsafe</span><span class="op" id="1443178">.</span><span class="ident" id="1443179">Pointer</span><span class="op" id="1443186">(</span><span class="op" id="1443187">&amp;</span><span class="ident" id="1443188">y</span><span class="op" id="1443189">.</span><span class="ident" id="1443190">data</span><span class="op" id="1443194">)</span><span class="op" id="1443195">)</span><span class="op" id="1443196">,</span>&nbsp;<span class="builtintype" id="1443198">uintptr</span><span class="op" id="1443205">(</span><span class="ident" id="1443206">t</span><span class="op" id="1443207">.</span><span class="ident" id="1443208">size</span><span class="op" id="1443212">)</span><span class="op" id="1443213">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1443216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443219">return</span>&nbsp;<span class="ident" id="1443226">eq</span><span class="op" id="1443228">(</span><span class="ident" id="1443229">x</span><span class="op" id="1443230">.</span><span class="ident" id="1443231">data</span><span class="op" id="1443235">,</span>&nbsp;<span class="ident" id="1443237">y</span><span class="op" id="1443238">.</span><span class="ident" id="1443239">data</span><span class="op" id="1443243">,</span>&nbsp;<span class="builtintype" id="1443245">uintptr</span><span class="op" id="1443252">(</span><span class="ident" id="1443253">t</span><span class="op" id="1443254">.</span><span class="ident" id="1443255">size</span><span class="op" id="1443259">)</span><span class="op" id="1443260">)</span><br>
<span class="lineno"></span><span class="op" id="1443262">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1443265">//&nbsp;Testing&nbsp;adapters&nbsp;for&nbsp;hash&nbsp;quality&nbsp;tests&nbsp;(see&nbsp;hash_test.go)</span><br>
<span class="lineno">270</span><span class="keyword" id="1443327">func</span>&nbsp;<span class="ident" id="1443332">haveGoodHash</span><span class="op" id="1443344">(</span><span class="op" id="1443345">)</span>&nbsp;<span class="builtintype" id="1443347">bool</span>&nbsp;<span class="op" id="1443352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443355">return</span>&nbsp;<span class="ident" id="1443362">useAeshash</span><br>
<span class="lineno"></span><span class="op" id="1443373">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1443376">func</span>&nbsp;<span class="ident" id="1443381">stringHash</span><span class="op" id="1443391">(</span><span class="ident" id="1443392">s</span>&nbsp;<span class="builtintype" id="1443394">string</span><span class="op" id="1443400">,</span>&nbsp;<span class="ident" id="1443402">seed</span>&nbsp;<span class="builtintype" id="1443407">uintptr</span><span class="op" id="1443414">)</span>&nbsp;<span class="builtintype" id="1443416">uintptr</span>&nbsp;<span class="op" id="1443424">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443427">return</span>&nbsp;<span class="ident" id="1443434">algarray</span><span class="op" id="1443442">[</span><span class="ident" id="1443443">alg_STRING</span><span class="op" id="1443453">]</span><span class="op" id="1443454">.</span><span class="ident" id="1443455">hash</span><span class="op" id="1443459">(</span><span class="ident" id="1443460">noescape</span><span class="op" id="1443468">(</span><span class="ident" id="1443469">unsafe</span><span class="op" id="1443475">.</span><span class="ident" id="1443476">Pointer</span><span class="op" id="1443483">(</span><span class="op" id="1443484">&amp;</span><span class="ident" id="1443485">s</span><span class="op" id="1443486">)</span><span class="op" id="1443487">)</span><span class="op" id="1443488">,</span>&nbsp;<span class="ident" id="1443490">unsafe</span><span class="op" id="1443496">.</span><span class="ident" id="1443497">Sizeof</span><span class="op" id="1443503">(</span><span class="ident" id="1443504">s</span><span class="op" id="1443505">)</span><span class="op" id="1443506">,</span>&nbsp;<span class="ident" id="1443508">seed</span><span class="op" id="1443512">)</span><br>
<span class="lineno"></span><span class="op" id="1443514">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1443517">func</span>&nbsp;<span class="ident" id="1443522">bytesHash</span><span class="op" id="1443531">(</span><span class="ident" id="1443532">b</span>&nbsp;<span class="op" id="1443534">[</span><span class="op" id="1443535">]</span><span class="builtintype" id="1443536">byte</span><span class="op" id="1443540">,</span>&nbsp;<span class="ident" id="1443542">seed</span>&nbsp;<span class="builtintype" id="1443547">uintptr</span><span class="op" id="1443554">)</span>&nbsp;<span class="builtintype" id="1443556">uintptr</span>&nbsp;<span class="op" id="1443564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1443567">s</span>&nbsp;<span class="op" id="1443569">:=</span>&nbsp;<span class="op" id="1443572">(</span><span class="op" id="1443573">*</span><span class="ident" id="1443574">sliceStruct</span><span class="op" id="1443585">)</span><span class="op" id="1443586">(</span><span class="ident" id="1443587">unsafe</span><span class="op" id="1443593">.</span><span class="ident" id="1443594">Pointer</span><span class="op" id="1443601">(</span><span class="op" id="1443602">&amp;</span><span class="ident" id="1443603">b</span><span class="op" id="1443604">)</span><span class="op" id="1443605">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443608">return</span>&nbsp;<span class="ident" id="1443615">algarray</span><span class="op" id="1443623">[</span><span class="ident" id="1443624">alg_MEM</span><span class="op" id="1443631">]</span><span class="op" id="1443632">.</span><span class="ident" id="1443633">hash</span><span class="op" id="1443637">(</span><span class="ident" id="1443638">s</span><span class="op" id="1443639">.</span><span class="ident" id="1443640">array</span><span class="op" id="1443645">,</span>&nbsp;<span class="builtintype" id="1443647">uintptr</span><span class="op" id="1443654">(</span><span class="ident" id="1443655">s</span><span class="op" id="1443656">.</span><span class="builtinfunc" id="1443657">len</span><span class="op" id="1443660">)</span><span class="op" id="1443661">,</span>&nbsp;<span class="ident" id="1443663">seed</span><span class="op" id="1443667">)</span><br>
<span class="lineno"></span><span class="op" id="1443669">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1443672">func</span>&nbsp;<span class="ident" id="1443677">int32Hash</span><span class="op" id="1443686">(</span><span class="ident" id="1443687">i</span>&nbsp;<span class="builtintype" id="1443689">uint32</span><span class="op" id="1443695">,</span>&nbsp;<span class="ident" id="1443697">seed</span>&nbsp;<span class="builtintype" id="1443702">uintptr</span><span class="op" id="1443709">)</span>&nbsp;<span class="builtintype" id="1443711">uintptr</span>&nbsp;<span class="op" id="1443719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443722">return</span>&nbsp;<span class="ident" id="1443729">algarray</span><span class="op" id="1443737">[</span><span class="ident" id="1443738">alg_MEM32</span><span class="op" id="1443747">]</span><span class="op" id="1443748">.</span><span class="ident" id="1443749">hash</span><span class="op" id="1443753">(</span><span class="ident" id="1443754">noescape</span><span class="op" id="1443762">(</span><span class="ident" id="1443763">unsafe</span><span class="op" id="1443769">.</span><span class="ident" id="1443770">Pointer</span><span class="op" id="1443777">(</span><span class="op" id="1443778">&amp;</span><span class="ident" id="1443779">i</span><span class="op" id="1443780">)</span><span class="op" id="1443781">)</span><span class="op" id="1443782">,</span>&nbsp;<span class="num" id="1443784">4</span><span class="op" id="1443785">,</span>&nbsp;<span class="ident" id="1443787">seed</span><span class="op" id="1443791">)</span><br>
<span class="lineno">285</span><span class="op" id="1443793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1443796">func</span>&nbsp;<span class="ident" id="1443801">int64Hash</span><span class="op" id="1443810">(</span><span class="ident" id="1443811">i</span>&nbsp;<span class="ident" id="1443813">uint64</span><span class="op" id="1443819">,</span>&nbsp;<span class="ident" id="1443821">seed</span>&nbsp;<span class="builtintype" id="1443826">uintptr</span><span class="op" id="1443833">)</span>&nbsp;<span class="builtintype" id="1443835">uintptr</span>&nbsp;<span class="op" id="1443843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443846">return</span>&nbsp;<span class="ident" id="1443853">algarray</span><span class="op" id="1443861">[</span><span class="ident" id="1443862">alg_MEM64</span><span class="op" id="1443871">]</span><span class="op" id="1443872">.</span><span class="ident" id="1443873">hash</span><span class="op" id="1443877">(</span><span class="ident" id="1443878">noescape</span><span class="op" id="1443886">(</span><span class="ident" id="1443887">unsafe</span><span class="op" id="1443893">.</span><span class="ident" id="1443894">Pointer</span><span class="op" id="1443901">(</span><span class="op" id="1443902">&amp;</span><span class="ident" id="1443903">i</span><span class="op" id="1443904">)</span><span class="op" id="1443905">)</span><span class="op" id="1443906">,</span>&nbsp;<span class="num" id="1443908">8</span><span class="op" id="1443909">,</span>&nbsp;<span class="ident" id="1443911">seed</span><span class="op" id="1443915">)</span><br>
<span class="lineno"></span><span class="op" id="1443917">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="1443920">func</span>&nbsp;<span class="ident" id="1443925">efaceHash</span><span class="op" id="1443934">(</span><span class="ident" id="1443935">i</span>&nbsp;<span class="keyword" id="1443937">interface</span><span class="op" id="1443946">{</span><span class="op" id="1443947">}</span><span class="op" id="1443948">,</span>&nbsp;<span class="ident" id="1443950">seed</span>&nbsp;<span class="builtintype" id="1443955">uintptr</span><span class="op" id="1443962">)</span>&nbsp;<span class="builtintype" id="1443964">uintptr</span>&nbsp;<span class="op" id="1443972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1443975">return</span>&nbsp;<span class="ident" id="1443982">algarray</span><span class="op" id="1443990">[</span><span class="ident" id="1443991">alg_NILINTER</span><span class="op" id="1444003">]</span><span class="op" id="1444004">.</span><span class="ident" id="1444005">hash</span><span class="op" id="1444009">(</span><span class="ident" id="1444010">noescape</span><span class="op" id="1444018">(</span><span class="ident" id="1444019">unsafe</span><span class="op" id="1444025">.</span><span class="ident" id="1444026">Pointer</span><span class="op" id="1444033">(</span><span class="op" id="1444034">&amp;</span><span class="ident" id="1444035">i</span><span class="op" id="1444036">)</span><span class="op" id="1444037">)</span><span class="op" id="1444038">,</span>&nbsp;<span class="ident" id="1444040">unsafe</span><span class="op" id="1444046">.</span><span class="ident" id="1444047">Sizeof</span><span class="op" id="1444053">(</span><span class="ident" id="1444054">i</span><span class="op" id="1444055">)</span><span class="op" id="1444056">,</span>&nbsp;<span class="ident" id="1444058">seed</span><span class="op" id="1444062">)</span><br>
<span class="lineno"></span><span class="op" id="1444064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="1444067">func</span>&nbsp;<span class="ident" id="1444072">ifaceHash</span><span class="op" id="1444081">(</span><span class="ident" id="1444082">i</span>&nbsp;<span class="keyword" id="1444084">interface</span>&nbsp;<span class="op" id="1444094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1444097">F</span><span class="op" id="1444098">(</span><span class="op" id="1444099">)</span><br>
<span class="lineno"></span><span class="op" id="1444101">}</span><span class="op" id="1444102">,</span>&nbsp;<span class="ident" id="1444104">seed</span>&nbsp;<span class="builtintype" id="1444109">uintptr</span><span class="op" id="1444116">)</span>&nbsp;<span class="builtintype" id="1444118">uintptr</span>&nbsp;<span class="op" id="1444126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1444129">return</span>&nbsp;<span class="ident" id="1444136">algarray</span><span class="op" id="1444144">[</span><span class="ident" id="1444145">alg_INTER</span><span class="op" id="1444154">]</span><span class="op" id="1444155">.</span><span class="ident" id="1444156">hash</span><span class="op" id="1444160">(</span><span class="ident" id="1444161">noescape</span><span class="op" id="1444169">(</span><span class="ident" id="1444170">unsafe</span><span class="op" id="1444176">.</span><span class="ident" id="1444177">Pointer</span><span class="op" id="1444184">(</span><span class="op" id="1444185">&amp;</span><span class="ident" id="1444186">i</span><span class="op" id="1444187">)</span><span class="op" id="1444188">)</span><span class="op" id="1444189">,</span>&nbsp;<span class="ident" id="1444191">unsafe</span><span class="op" id="1444197">.</span><span class="ident" id="1444198">Sizeof</span><span class="op" id="1444204">(</span><span class="ident" id="1444205">i</span><span class="op" id="1444206">)</span><span class="op" id="1444207">,</span>&nbsp;<span class="ident" id="1444209">seed</span><span class="op" id="1444213">)</span><br>
<span class="lineno"></span><span class="op" id="1444215">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1444218">//&nbsp;Testing&nbsp;adapter&nbsp;for&nbsp;memclr</span><br>
<span class="lineno"></span><span class="keyword" id="1444248">func</span>&nbsp;<span class="ident" id="1444253">memclrBytes</span><span class="op" id="1444264">(</span><span class="ident" id="1444265">b</span>&nbsp;<span class="op" id="1444267">[</span><span class="op" id="1444268">]</span><span class="builtintype" id="1444269">byte</span><span class="op" id="1444273">)</span>&nbsp;<span class="op" id="1444275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1444278">s</span>&nbsp;<span class="op" id="1444280">:=</span>&nbsp;<span class="op" id="1444283">(</span><span class="op" id="1444284">*</span><span class="ident" id="1444285">sliceStruct</span><span class="op" id="1444296">)</span><span class="op" id="1444297">(</span><span class="ident" id="1444298">unsafe</span><span class="op" id="1444304">.</span><span class="ident" id="1444305">Pointer</span><span class="op" id="1444312">(</span><span class="op" id="1444313">&amp;</span><span class="ident" id="1444314">b</span><span class="op" id="1444315">)</span><span class="op" id="1444316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1444319">memclr</span><span class="op" id="1444325">(</span><span class="ident" id="1444326">s</span><span class="op" id="1444327">.</span><span class="ident" id="1444328">array</span><span class="op" id="1444333">,</span>&nbsp;<span class="builtintype" id="1444335">uintptr</span><span class="op" id="1444342">(</span><span class="ident" id="1444343">s</span><span class="op" id="1444344">.</span><span class="builtinfunc" id="1444345">len</span><span class="op" id="1444348">)</span><span class="op" id="1444349">)</span><br>
<span class="lineno">305</span><span class="op" id="1444351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1444354">//&nbsp;TODO(dvyukov):&nbsp;remove&nbsp;when&nbsp;Type&nbsp;is&nbsp;converted&nbsp;to&nbsp;Go&nbsp;and&nbsp;contains&nbsp;*typeAlg.</span><br>
<span class="lineno"></span><span class="keyword" id="1444431">func</span>&nbsp;<span class="ident" id="1444436">goalg</span><span class="op" id="1444441">(</span><span class="ident" id="1444442">a</span>&nbsp;<span class="ident" id="1444444">unsafe</span><span class="op" id="1444450">.</span><span class="ident" id="1444451">Pointer</span><span class="op" id="1444458">)</span>&nbsp;<span class="op" id="1444460">*</span><span class="ident" id="1444461">typeAlg</span>&nbsp;<span class="op" id="1444469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1444472">return</span>&nbsp;<span class="op" id="1444479">(</span><span class="op" id="1444480">*</span><span class="ident" id="1444481">typeAlg</span><span class="op" id="1444488">)</span><span class="op" id="1444489">(</span><span class="ident" id="1444490">a</span><span class="op" id="1444491">)</span><br>
<span class="lineno">310</span><span class="op" id="1444493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1444496">//&nbsp;used&nbsp;in&nbsp;asm_{386,amd64}.s</span><br>
<span class="lineno"></span><span class="keyword" id="1444525">const</span>&nbsp;<span class="ident" id="1444531">hashRandomBytes</span>&nbsp;<span class="op" id="1444547">=</span>&nbsp;<span class="num" id="1444549">32</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1444553">var</span>&nbsp;<span class="ident" id="1444557">aeskeysched</span>&nbsp;<span class="op" id="1444569">[</span><span class="ident" id="1444570">hashRandomBytes</span><span class="op" id="1444585">]</span><span class="builtintype" id="1444586">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1444592">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1444606">func</span>&nbsp;<span class="ident" id="1444611">get_random_data</span><span class="op" id="1444626">(</span><span class="ident" id="1444627">rnd</span>&nbsp;<span class="op" id="1444631">*</span><span class="ident" id="1444632">unsafe</span><span class="op" id="1444638">.</span><span class="ident" id="1444639">Pointer</span><span class="op" id="1444646">,</span>&nbsp;<span class="ident" id="1444648">n</span>&nbsp;<span class="op" id="1444650">*</span><span class="builtintype" id="1444651">int32</span><span class="op" id="1444656">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1444659">func</span>&nbsp;<span class="ident" id="1444664">init</span><span class="op" id="1444668">(</span><span class="op" id="1444669">)</span>&nbsp;<span class="op" id="1444671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1444674">if</span>&nbsp;<span class="ident" id="1444677">theGoos</span>&nbsp;<span class="op" id="1444685">==</span>&nbsp;<span class="string" id="1444688">&#34;nacl&#34;</span>&nbsp;<span class="op" id="1444695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1444699">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1444707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1444711">//&nbsp;Install&nbsp;aes&nbsp;hash&nbsp;algorithm&nbsp;if&nbsp;we&nbsp;have&nbsp;the&nbsp;instructions&nbsp;we&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1444778">if</span>&nbsp;<span class="op" id="1444781">(</span><span class="ident" id="1444782">cpuid_ecx</span><span class="op" id="1444791">&amp;</span><span class="op" id="1444792">(</span><span class="num" id="1444793">1</span><span class="op" id="1444794">&lt;&lt;</span><span class="num" id="1444796">25</span><span class="op" id="1444798">)</span><span class="op" id="1444799">)</span>&nbsp;<span class="op" id="1444801">!=</span>&nbsp;<span class="num" id="1444804">0</span>&nbsp;<span class="op" id="1444806">&amp;&amp;</span>&nbsp;<span class="comment" id="1444809">//&nbsp;aes&nbsp;(aesenc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1444827">(</span><span class="ident" id="1444828">cpuid_ecx</span><span class="op" id="1444837">&amp;</span><span class="op" id="1444838">(</span><span class="num" id="1444839">1</span><span class="op" id="1444840">&lt;&lt;</span><span class="num" id="1444842">9</span><span class="op" id="1444843">)</span><span class="op" id="1444844">)</span>&nbsp;<span class="op" id="1444846">!=</span>&nbsp;<span class="num" id="1444849">0</span>&nbsp;<span class="op" id="1444851">&amp;&amp;</span>&nbsp;<span class="comment" id="1444854">//&nbsp;sse3&nbsp;(pshufb)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1444873">(</span><span class="ident" id="1444874">cpuid_ecx</span><span class="op" id="1444883">&amp;</span><span class="op" id="1444884">(</span><span class="num" id="1444885">1</span><span class="op" id="1444886">&lt;&lt;</span><span class="num" id="1444888">19</span><span class="op" id="1444890">)</span><span class="op" id="1444891">)</span>&nbsp;<span class="op" id="1444893">!=</span>&nbsp;<span class="num" id="1444896">0</span>&nbsp;<span class="op" id="1444898">{</span>&nbsp;<span class="comment" id="1444900">//&nbsp;sse4.1&nbsp;(pinsr{d,q})</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1444925">useAeshash</span>&nbsp;<span class="op" id="1444936">=</span>&nbsp;<span class="builtintype" id="1444938">true</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1444945">algarray</span><span class="op" id="1444953">[</span><span class="ident" id="1444954">alg_MEM</span><span class="op" id="1444961">]</span><span class="op" id="1444962">.</span><span class="ident" id="1444963">hash</span>&nbsp;<span class="op" id="1444968">=</span>&nbsp;<span class="ident" id="1444970">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1444980">algarray</span><span class="op" id="1444988">[</span><span class="ident" id="1444989">alg_MEM8</span><span class="op" id="1444997">]</span><span class="op" id="1444998">.</span><span class="ident" id="1444999">hash</span>&nbsp;<span class="op" id="1445004">=</span>&nbsp;<span class="ident" id="1445006">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445016">algarray</span><span class="op" id="1445024">[</span><span class="ident" id="1445025">alg_MEM16</span><span class="op" id="1445034">]</span><span class="op" id="1445035">.</span><span class="ident" id="1445036">hash</span>&nbsp;<span class="op" id="1445041">=</span>&nbsp;<span class="ident" id="1445043">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445053">algarray</span><span class="op" id="1445061">[</span><span class="ident" id="1445062">alg_MEM32</span><span class="op" id="1445071">]</span><span class="op" id="1445072">.</span><span class="ident" id="1445073">hash</span>&nbsp;<span class="op" id="1445078">=</span>&nbsp;<span class="ident" id="1445080">aeshash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445092">algarray</span><span class="op" id="1445100">[</span><span class="ident" id="1445101">alg_MEM64</span><span class="op" id="1445110">]</span><span class="op" id="1445111">.</span><span class="ident" id="1445112">hash</span>&nbsp;<span class="op" id="1445117">=</span>&nbsp;<span class="ident" id="1445119">aeshash64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445131">algarray</span><span class="op" id="1445139">[</span><span class="ident" id="1445140">alg_MEM128</span><span class="op" id="1445150">]</span><span class="op" id="1445151">.</span><span class="ident" id="1445152">hash</span>&nbsp;<span class="op" id="1445157">=</span>&nbsp;<span class="ident" id="1445159">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445169">algarray</span><span class="op" id="1445177">[</span><span class="ident" id="1445178">alg_STRING</span><span class="op" id="1445188">]</span><span class="op" id="1445189">.</span><span class="ident" id="1445190">hash</span>&nbsp;<span class="op" id="1445195">=</span>&nbsp;<span class="ident" id="1445197">aeshashstr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1445210">//&nbsp;Initialize&nbsp;with&nbsp;random&nbsp;data&nbsp;so&nbsp;hash&nbsp;collisions&nbsp;will&nbsp;be&nbsp;hard&nbsp;to&nbsp;engineer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1445288">var</span>&nbsp;<span class="ident" id="1445292">rnd</span>&nbsp;<span class="ident" id="1445296">unsafe</span><span class="op" id="1445302">.</span><span class="ident" id="1445303">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1445313">var</span>&nbsp;<span class="ident" id="1445317">n</span>&nbsp;<span class="builtintype" id="1445319">int32</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445327">get_random_data</span><span class="op" id="1445342">(</span><span class="op" id="1445343">&amp;</span><span class="ident" id="1445344">rnd</span><span class="op" id="1445347">,</span>&nbsp;<span class="op" id="1445349">&amp;</span><span class="ident" id="1445350">n</span><span class="op" id="1445351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1445355">if</span>&nbsp;<span class="ident" id="1445358">n</span>&nbsp;<span class="op" id="1445360">&gt;</span>&nbsp;<span class="ident" id="1445362">hashRandomBytes</span>&nbsp;<span class="op" id="1445378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445383">n</span>&nbsp;<span class="op" id="1445385">=</span>&nbsp;<span class="ident" id="1445387">hashRandomBytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1445405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445409">memmove</span><span class="op" id="1445416">(</span><span class="ident" id="1445417">unsafe</span><span class="op" id="1445423">.</span><span class="ident" id="1445424">Pointer</span><span class="op" id="1445431">(</span><span class="op" id="1445432">&amp;</span><span class="ident" id="1445433">aeskeysched</span><span class="op" id="1445444">[</span><span class="num" id="1445445">0</span><span class="op" id="1445446">]</span><span class="op" id="1445447">)</span><span class="op" id="1445448">,</span>&nbsp;<span class="ident" id="1445450">rnd</span><span class="op" id="1445453">,</span>&nbsp;<span class="builtintype" id="1445455">uintptr</span><span class="op" id="1445462">(</span><span class="ident" id="1445463">n</span><span class="op" id="1445464">)</span><span class="op" id="1445465">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1445469">if</span>&nbsp;<span class="ident" id="1445472">n</span>&nbsp;<span class="op" id="1445474">&lt;</span>&nbsp;<span class="ident" id="1445476">hashRandomBytes</span>&nbsp;<span class="op" id="1445492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1445497">//&nbsp;Not&nbsp;very&nbsp;random,&nbsp;but&nbsp;better&nbsp;than&nbsp;nothing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1445545">for</span>&nbsp;<span class="ident" id="1445549">t</span>&nbsp;<span class="op" id="1445551">:=</span>&nbsp;<span class="ident" id="1445554">nanotime</span><span class="op" id="1445562">(</span><span class="op" id="1445563">)</span><span class="op" id="1445564">;</span>&nbsp;<span class="ident" id="1445566">n</span>&nbsp;<span class="op" id="1445568">&lt;</span>&nbsp;<span class="ident" id="1445570">hashRandomBytes</span><span class="op" id="1445585">;</span>&nbsp;<span class="ident" id="1445587">n</span><span class="op" id="1445588">++</span>&nbsp;<span class="op" id="1445591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1445597">aeskeysched</span><span class="op" id="1445608">[</span><span class="ident" id="1445609">n</span><span class="op" id="1445610">]</span>&nbsp;<span class="op" id="1445612">=</span>&nbsp;<span class="builtintype" id="1445614">byte</span><span class="op" id="1445618">(</span><span class="ident" id="1445619">t</span>&nbsp;<span class="op" id="1445621">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1445624">uint</span><span class="op" id="1445628">(</span><span class="num" id="1445629">8</span><span class="op" id="1445630">*</span><span class="op" id="1445631">(</span><span class="ident" id="1445632">n</span><span class="op" id="1445633">%</span><span class="num" id="1445634">8</span><span class="op" id="1445635">)</span><span class="op" id="1445636">)</span><span class="op" id="1445637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1445642">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1445646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1445649">}</span><br>
<span class="lineno"></span><span class="op" id="1445651">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
