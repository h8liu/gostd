<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7133509">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7133564">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7133618">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7133669">package</span>&nbsp;<span class="ident" id="7133677">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7133683">import</span>&nbsp;<span class="op" id="7133690">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7133693">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7133703">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7133706">var</span>&nbsp;<span class="ident" id="7133710">nonExistentPaths</span>&nbsp;<span class="op" id="7133727">=</span>&nbsp;<span class="op" id="7133729">[</span><span class="op" id="7133730">]</span><span class="builtintype" id="7133731">string</span><span class="op" id="7133737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7133740">&#34;some-non-existent-path&#34;</span><span class="op" id="7133764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7133767">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7133794">,</span><br>
<span class="lineno"></span><span class="op" id="7133796">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7133799">func</span>&nbsp;<span class="ident" id="7133804">TestLookPathNotFound</span><span class="op" id="7133824">(</span><span class="ident" id="7133825">t</span>&nbsp;<span class="op" id="7133827">*</span><span class="ident" id="7133828">testing</span><span class="op" id="7133835">.</span><span class="ident" id="7133836">T</span><span class="op" id="7133837">)</span>&nbsp;<span class="op" id="7133839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133842">for</span>&nbsp;<span class="ident" id="7133846">_</span><span class="op" id="7133847">,</span>&nbsp;<span class="ident" id="7133849">name</span>&nbsp;<span class="op" id="7133854">:=</span>&nbsp;<span class="keyword" id="7133857">range</span>&nbsp;<span class="ident" id="7133863">nonExistentPaths</span>&nbsp;<span class="op" id="7133880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133884">path</span><span class="op" id="7133888">,</span>&nbsp;<span class="ident" id="7133890">err</span>&nbsp;<span class="op" id="7133894">:=</span>&nbsp;<span class="ident" id="7133897">LookPath</span><span class="op" id="7133905">(</span><span class="ident" id="7133906">name</span><span class="op" id="7133910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133914">if</span>&nbsp;<span class="ident" id="7133917">err</span>&nbsp;<span class="op" id="7133921">==</span>&nbsp;<span class="ident" id="7133924">nil</span>&nbsp;<span class="op" id="7133928">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7133933">t</span><span class="op" id="7133934">.</span><span class="ident" id="7133935">Fatalf</span><span class="op" id="7133941">(</span><span class="string" id="7133942">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7133970">,</span>&nbsp;<span class="ident" id="7133972">name</span><span class="op" id="7133976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7133980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7133984">if</span>&nbsp;<span class="ident" id="7133987">path</span>&nbsp;<span class="op" id="7133992">!=</span>&nbsp;<span class="string" id="7133995">&#34;&#34;</span>&nbsp;<span class="op" id="7133998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134003">t</span><span class="op" id="7134004">.</span><span class="ident" id="7134005">Fatalf</span><span class="op" id="7134011">(</span><span class="string" id="7134012">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7134049">,</span>&nbsp;<span class="ident" id="7134051">path</span><span class="op" id="7134055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7134059">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134063">perr</span><span class="op" id="7134067">,</span>&nbsp;<span class="ident" id="7134069">ok</span>&nbsp;<span class="op" id="7134072">:=</span>&nbsp;<span class="ident" id="7134075">err</span><span class="op" id="7134078">.</span><span class="op" id="7134079">(</span><span class="op" id="7134080">*</span><span class="ident" id="7134081">Error</span><span class="op" id="7134086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7134090">if</span>&nbsp;<span class="op" id="7134093">!</span><span class="ident" id="7134094">ok</span>&nbsp;<span class="op" id="7134097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134102">t</span><span class="op" id="7134103">.</span><span class="ident" id="7134104">Fatal</span><span class="op" id="7134109">(</span><span class="string" id="7134110">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7134147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7134151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7134155">if</span>&nbsp;<span class="ident" id="7134158">perr</span><span class="op" id="7134162">.</span><span class="ident" id="7134163">Name</span>&nbsp;<span class="op" id="7134168">!=</span>&nbsp;<span class="ident" id="7134171">name</span>&nbsp;<span class="op" id="7134176">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7134181">t</span><span class="op" id="7134182">.</span><span class="ident" id="7134183">Fatalf</span><span class="op" id="7134189">(</span><span class="string" id="7134190">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7134218">,</span>&nbsp;<span class="ident" id="7134220">name</span><span class="op" id="7134224">,</span>&nbsp;<span class="ident" id="7134226">perr</span><span class="op" id="7134230">.</span><span class="ident" id="7134231">Name</span><span class="op" id="7134235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7134239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7134242">}</span><br>
<span class="lineno"></span><span class="op" id="7134244">}</span>
</div>
</body>
</html>
