<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>fmt</h2>
<ul>
<li><a href="/gostd/fmt/doc.go.html">doc.go</a></li>
<li><a href="/gostd/fmt/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/fmt/fmt_test.go.html">fmt_test.go</a></li>
<li><a href="/gostd/fmt/format.go.html">format.go</a></li>
<li><a href="/gostd/fmt/print.go.html" class="current">print.go</a></li>
<li><a href="/gostd/fmt/scan.go.html">scan.go</a></li>
<li><a href="/gostd/fmt/scan_test.go.html">scan_test.go</a></li>
<li><a href="/gostd/fmt/stringer_test.go.html">stringer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2395757">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2395812">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2395866">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2395917">package</span>&nbsp;<span class="ident" id="2395925">fmt</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2395930">import</span>&nbsp;<span class="op" id="2395937">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2395940">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2395950">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2395956">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2395962">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2395973">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2395981">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2395996">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="2395999">//&nbsp;Some&nbsp;constants&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;bytes,&nbsp;to&nbsp;avoid&nbsp;string&nbsp;overhead.</span><br>
<span class="lineno"></span><span class="comment" id="2396065">//&nbsp;Needlessly&nbsp;fastidious,&nbsp;I&nbsp;suppose.</span><br>
<span class="lineno"></span><span class="keyword" id="2396102">var</span>&nbsp;<span class="op" id="2396106">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396109">commaSpaceBytes</span>&nbsp;&nbsp;<span class="op" id="2396126">=</span>&nbsp;<span class="op" id="2396128">[</span><span class="op" id="2396129">]</span><span class="builtintype" id="2396130">byte</span><span class="op" id="2396134">(</span><span class="string" id="2396135">&#34;,&nbsp;&#34;</span><span class="op" id="2396139">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396142">nilAngleBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396159">=</span>&nbsp;<span class="op" id="2396161">[</span><span class="op" id="2396162">]</span><span class="builtintype" id="2396163">byte</span><span class="op" id="2396167">(</span><span class="string" id="2396168">&#34;&lt;nil&gt;&#34;</span><span class="op" id="2396175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396178">nilParenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396195">=</span>&nbsp;<span class="op" id="2396197">[</span><span class="op" id="2396198">]</span><span class="builtintype" id="2396199">byte</span><span class="op" id="2396203">(</span><span class="string" id="2396204">&#34;(nil)&#34;</span><span class="op" id="2396211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396214">nilBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396231">=</span>&nbsp;<span class="op" id="2396233">[</span><span class="op" id="2396234">]</span><span class="builtintype" id="2396235">byte</span><span class="op" id="2396239">(</span><span class="string" id="2396240">&#34;nil&#34;</span><span class="op" id="2396245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396248">mapBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396265">=</span>&nbsp;<span class="op" id="2396267">[</span><span class="op" id="2396268">]</span><span class="builtintype" id="2396269">byte</span><span class="op" id="2396273">(</span><span class="string" id="2396274">&#34;map[&#34;</span><span class="op" id="2396280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396283">percentBangBytes</span>&nbsp;<span class="op" id="2396300">=</span>&nbsp;<span class="op" id="2396302">[</span><span class="op" id="2396303">]</span><span class="builtintype" id="2396304">byte</span><span class="op" id="2396308">(</span><span class="string" id="2396309">&#34;%!&#34;</span><span class="op" id="2396313">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396316">missingBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396333">=</span>&nbsp;<span class="op" id="2396335">[</span><span class="op" id="2396336">]</span><span class="builtintype" id="2396337">byte</span><span class="op" id="2396341">(</span><span class="string" id="2396342">&#34;(MISSING)&#34;</span><span class="op" id="2396353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396356">badIndexBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396373">=</span>&nbsp;<span class="op" id="2396375">[</span><span class="op" id="2396376">]</span><span class="builtintype" id="2396377">byte</span><span class="op" id="2396381">(</span><span class="string" id="2396382">&#34;(BADINDEX)&#34;</span><span class="op" id="2396394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396397">panicBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396414">=</span>&nbsp;<span class="op" id="2396416">[</span><span class="op" id="2396417">]</span><span class="builtintype" id="2396418">byte</span><span class="op" id="2396422">(</span><span class="string" id="2396423">&#34;(PANIC=&#34;</span><span class="op" id="2396432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396435">extraBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396452">=</span>&nbsp;<span class="op" id="2396454">[</span><span class="op" id="2396455">]</span><span class="builtintype" id="2396456">byte</span><span class="op" id="2396460">(</span><span class="string" id="2396461">&#34;%!(EXTRA&nbsp;&#34;</span><span class="op" id="2396472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396475">irparenBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396492">=</span>&nbsp;<span class="op" id="2396494">[</span><span class="op" id="2396495">]</span><span class="builtintype" id="2396496">byte</span><span class="op" id="2396500">(</span><span class="string" id="2396501">&#34;i)&#34;</span><span class="op" id="2396505">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396508">bytesBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396525">=</span>&nbsp;<span class="op" id="2396527">[</span><span class="op" id="2396528">]</span><span class="builtintype" id="2396529">byte</span><span class="op" id="2396533">(</span><span class="string" id="2396534">&#34;[]byte{&#34;</span><span class="op" id="2396543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396546">badWidthBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396563">=</span>&nbsp;<span class="op" id="2396565">[</span><span class="op" id="2396566">]</span><span class="builtintype" id="2396567">byte</span><span class="op" id="2396571">(</span><span class="string" id="2396572">&#34;%!(BADWIDTH)&#34;</span><span class="op" id="2396586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396589">badPrecBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396606">=</span>&nbsp;<span class="op" id="2396608">[</span><span class="op" id="2396609">]</span><span class="builtintype" id="2396610">byte</span><span class="op" id="2396614">(</span><span class="string" id="2396615">&#34;%!(BADPREC)&#34;</span><span class="op" id="2396628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396631">noVerbBytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2396648">=</span>&nbsp;<span class="op" id="2396650">[</span><span class="op" id="2396651">]</span><span class="builtintype" id="2396652">byte</span><span class="op" id="2396656">(</span><span class="string" id="2396657">&#34;%!(NOVERB)&#34;</span><span class="op" id="2396669">)</span><br>
<span class="lineno"></span><span class="op" id="2396671">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2396674">//&nbsp;State&nbsp;represents&nbsp;the&nbsp;printer&nbsp;state&nbsp;passed&nbsp;to&nbsp;custom&nbsp;formatters.</span><br>
<span class="lineno"></span><span class="comment" id="2396741">//&nbsp;It&nbsp;provides&nbsp;access&nbsp;to&nbsp;the&nbsp;io.Writer&nbsp;interface&nbsp;plus&nbsp;information&nbsp;about</span><br>
<span class="lineno"></span><span class="comment" id="2396813">//&nbsp;the&nbsp;flags&nbsp;and&nbsp;options&nbsp;for&nbsp;the&nbsp;operand&#39;s&nbsp;format&nbsp;specifier.</span><br>
<span class="lineno"></span><span class="keyword" id="2396874">type</span>&nbsp;<span class="ident" id="2396879">State</span>&nbsp;<span class="keyword" id="2396885">interface</span>&nbsp;<span class="op" id="2396895">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2396898">//&nbsp;Write&nbsp;is&nbsp;the&nbsp;function&nbsp;to&nbsp;call&nbsp;to&nbsp;emit&nbsp;formatted&nbsp;output&nbsp;to&nbsp;be&nbsp;printed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2396972">Write</span><span class="op" id="2396977">(</span><span class="ident" id="2396978">b</span>&nbsp;<span class="op" id="2396980">[</span><span class="op" id="2396981">]</span><span class="builtintype" id="2396982">byte</span><span class="op" id="2396986">)</span>&nbsp;<span class="op" id="2396988">(</span><span class="ident" id="2396989">ret</span>&nbsp;<span class="builtintype" id="2396993">int</span><span class="op" id="2396996">,</span>&nbsp;<span class="ident" id="2396998">err</span>&nbsp;<span class="builtintype" id="2397002">error</span><span class="op" id="2397007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2397010">//&nbsp;Width&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;width&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2397087">Width</span><span class="op" id="2397092">(</span><span class="op" id="2397093">)</span>&nbsp;<span class="op" id="2397095">(</span><span class="ident" id="2397096">wid</span>&nbsp;<span class="builtintype" id="2397100">int</span><span class="op" id="2397103">,</span>&nbsp;<span class="ident" id="2397105">ok</span>&nbsp;<span class="builtintype" id="2397108">bool</span><span class="op" id="2397112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2397115">//&nbsp;Precision&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;precision&nbsp;option&nbsp;and&nbsp;whether&nbsp;it&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2397200">Precision</span><span class="op" id="2397209">(</span><span class="op" id="2397210">)</span>&nbsp;<span class="op" id="2397212">(</span><span class="ident" id="2397213">prec</span>&nbsp;<span class="builtintype" id="2397218">int</span><span class="op" id="2397221">,</span>&nbsp;<span class="ident" id="2397223">ok</span>&nbsp;<span class="builtintype" id="2397226">bool</span><span class="op" id="2397230">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2397234">//&nbsp;Flag&nbsp;reports&nbsp;whether&nbsp;the&nbsp;flag&nbsp;c,&nbsp;a&nbsp;character,&nbsp;has&nbsp;been&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2397298">Flag</span><span class="op" id="2397302">(</span><span class="ident" id="2397303">c</span>&nbsp;<span class="builtintype" id="2397305">int</span><span class="op" id="2397308">)</span>&nbsp;<span class="builtintype" id="2397310">bool</span><br>
<span class="lineno"></span><span class="op" id="2397315">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="2397318">//&nbsp;Formatter&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;values&nbsp;with&nbsp;a&nbsp;custom&nbsp;formatter.</span><br>
<span class="lineno"></span><span class="comment" id="2397395">//&nbsp;The&nbsp;implementation&nbsp;of&nbsp;Format&nbsp;may&nbsp;call&nbsp;Sprint(f)&nbsp;or&nbsp;Fprint(f)&nbsp;etc.</span><br>
<span class="lineno"></span><span class="comment" id="2397464">//&nbsp;to&nbsp;generate&nbsp;its&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="2397491">type</span>&nbsp;<span class="ident" id="2397496">Formatter</span>&nbsp;<span class="keyword" id="2397506">interface</span>&nbsp;<span class="op" id="2397516">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2397519">Format</span><span class="op" id="2397525">(</span><span class="ident" id="2397526">f</span>&nbsp;<span class="ident" id="2397528">State</span><span class="op" id="2397533">,</span>&nbsp;<span class="ident" id="2397535">c</span>&nbsp;<span class="builtintype" id="2397537">rune</span><span class="op" id="2397541">)</span><br>
<span class="lineno"></span><span class="op" id="2397543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2397546">//&nbsp;Stringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;String&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2397612">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;``native&#39;&#39;&nbsp;format&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno">60</span><span class="comment" id="2397667">//&nbsp;The&nbsp;String&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno"></span><span class="comment" id="2397733">//&nbsp;to&nbsp;any&nbsp;format&nbsp;that&nbsp;accepts&nbsp;a&nbsp;string&nbsp;or&nbsp;to&nbsp;an&nbsp;unformatted&nbsp;printer</span><br>
<span class="lineno"></span><span class="comment" id="2397801">//&nbsp;such&nbsp;as&nbsp;Print.</span><br>
<span class="lineno"></span><span class="keyword" id="2397819">type</span>&nbsp;<span class="ident" id="2397824">Stringer</span>&nbsp;<span class="keyword" id="2397833">interface</span>&nbsp;<span class="op" id="2397843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2397846">String</span><span class="op" id="2397852">(</span><span class="op" id="2397853">)</span>&nbsp;<span class="builtintype" id="2397855">string</span><br>
<span class="lineno">65</span><span class="op" id="2397862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2397865">//&nbsp;GoStringer&nbsp;is&nbsp;implemented&nbsp;by&nbsp;any&nbsp;value&nbsp;that&nbsp;has&nbsp;a&nbsp;GoString&nbsp;method,</span><br>
<span class="lineno"></span><span class="comment" id="2397935">//&nbsp;which&nbsp;defines&nbsp;the&nbsp;Go&nbsp;syntax&nbsp;for&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2397982">//&nbsp;The&nbsp;GoString&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;print&nbsp;values&nbsp;passed&nbsp;as&nbsp;an&nbsp;operand</span><br>
<span class="lineno">70</span><span class="comment" id="2398050">//&nbsp;to&nbsp;a&nbsp;%#v&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2398070">type</span>&nbsp;<span class="ident" id="2398075">GoStringer</span>&nbsp;<span class="keyword" id="2398086">interface</span>&nbsp;<span class="op" id="2398096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398099">GoString</span><span class="op" id="2398107">(</span><span class="op" id="2398108">)</span>&nbsp;<span class="builtintype" id="2398110">string</span><br>
<span class="lineno"></span><span class="op" id="2398117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="2398120">//&nbsp;Use&nbsp;simple&nbsp;[]byte&nbsp;instead&nbsp;of&nbsp;bytes.Buffer&nbsp;to&nbsp;avoid&nbsp;large&nbsp;dependency.</span><br>
<span class="lineno"></span><span class="keyword" id="2398192">type</span>&nbsp;<span class="ident" id="2398197">buffer</span>&nbsp;<span class="op" id="2398204">[</span><span class="op" id="2398205">]</span><span class="builtintype" id="2398206">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2398212">func</span>&nbsp;<span class="op" id="2398217">(</span><span class="ident" id="2398218">b</span>&nbsp;<span class="op" id="2398220">*</span><span class="ident" id="2398221">buffer</span><span class="op" id="2398227">)</span>&nbsp;<span class="ident" id="2398229">Write</span><span class="op" id="2398234">(</span><span class="ident" id="2398235">p</span>&nbsp;<span class="op" id="2398237">[</span><span class="op" id="2398238">]</span><span class="builtintype" id="2398239">byte</span><span class="op" id="2398243">)</span>&nbsp;<span class="op" id="2398245">(</span><span class="ident" id="2398246">n</span>&nbsp;<span class="builtintype" id="2398248">int</span><span class="op" id="2398251">,</span>&nbsp;<span class="ident" id="2398253">err</span>&nbsp;<span class="builtintype" id="2398257">error</span><span class="op" id="2398262">)</span>&nbsp;<span class="op" id="2398264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2398267">*</span><span class="ident" id="2398268">b</span>&nbsp;<span class="op" id="2398270">=</span>&nbsp;<span class="builtinfunc" id="2398272">append</span><span class="op" id="2398278">(</span><span class="op" id="2398279">*</span><span class="ident" id="2398280">b</span><span class="op" id="2398281">,</span>&nbsp;<span class="ident" id="2398283">p</span><span class="op" id="2398284">...</span><span class="op" id="2398287">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2398290">return</span>&nbsp;<span class="builtinfunc" id="2398297">len</span><span class="op" id="2398300">(</span><span class="ident" id="2398301">p</span><span class="op" id="2398302">)</span><span class="op" id="2398303">,</span>&nbsp;<span class="builtintype" id="2398305">nil</span><br>
<span class="lineno"></span><span class="op" id="2398309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2398312">func</span>&nbsp;<span class="op" id="2398317">(</span><span class="ident" id="2398318">b</span>&nbsp;<span class="op" id="2398320">*</span><span class="ident" id="2398321">buffer</span><span class="op" id="2398327">)</span>&nbsp;<span class="ident" id="2398329">WriteString</span><span class="op" id="2398340">(</span><span class="ident" id="2398341">s</span>&nbsp;<span class="builtintype" id="2398343">string</span><span class="op" id="2398349">)</span>&nbsp;<span class="op" id="2398351">(</span><span class="ident" id="2398352">n</span>&nbsp;<span class="builtintype" id="2398354">int</span><span class="op" id="2398357">,</span>&nbsp;<span class="ident" id="2398359">err</span>&nbsp;<span class="builtintype" id="2398363">error</span><span class="op" id="2398368">)</span>&nbsp;<span class="op" id="2398370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2398373">*</span><span class="ident" id="2398374">b</span>&nbsp;<span class="op" id="2398376">=</span>&nbsp;<span class="builtinfunc" id="2398378">append</span><span class="op" id="2398384">(</span><span class="op" id="2398385">*</span><span class="ident" id="2398386">b</span><span class="op" id="2398387">,</span>&nbsp;<span class="ident" id="2398389">s</span><span class="op" id="2398390">...</span><span class="op" id="2398393">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2398396">return</span>&nbsp;<span class="builtinfunc" id="2398403">len</span><span class="op" id="2398406">(</span><span class="ident" id="2398407">s</span><span class="op" id="2398408">)</span><span class="op" id="2398409">,</span>&nbsp;<span class="builtintype" id="2398411">nil</span><br>
<span class="lineno"></span><span class="op" id="2398415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2398418">func</span>&nbsp;<span class="op" id="2398423">(</span><span class="ident" id="2398424">b</span>&nbsp;<span class="op" id="2398426">*</span><span class="ident" id="2398427">buffer</span><span class="op" id="2398433">)</span>&nbsp;<span class="ident" id="2398435">WriteByte</span><span class="op" id="2398444">(</span><span class="ident" id="2398445">c</span>&nbsp;<span class="builtintype" id="2398447">byte</span><span class="op" id="2398451">)</span>&nbsp;<span class="builtintype" id="2398453">error</span>&nbsp;<span class="op" id="2398459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2398462">*</span><span class="ident" id="2398463">b</span>&nbsp;<span class="op" id="2398465">=</span>&nbsp;<span class="builtinfunc" id="2398467">append</span><span class="op" id="2398473">(</span><span class="op" id="2398474">*</span><span class="ident" id="2398475">b</span><span class="op" id="2398476">,</span>&nbsp;<span class="ident" id="2398478">c</span><span class="op" id="2398479">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2398482">return</span>&nbsp;<span class="builtintype" id="2398489">nil</span><br>
<span class="lineno"></span><span class="op" id="2398493">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2398496">func</span>&nbsp;<span class="op" id="2398501">(</span><span class="ident" id="2398502">bp</span>&nbsp;<span class="op" id="2398505">*</span><span class="ident" id="2398506">buffer</span><span class="op" id="2398512">)</span>&nbsp;<span class="ident" id="2398514">WriteRune</span><span class="op" id="2398523">(</span><span class="ident" id="2398524">r</span>&nbsp;<span class="builtintype" id="2398526">rune</span><span class="op" id="2398530">)</span>&nbsp;<span class="builtintype" id="2398532">error</span>&nbsp;<span class="op" id="2398538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2398541">if</span>&nbsp;<span class="ident" id="2398544">r</span>&nbsp;<span class="op" id="2398546">&lt;</span>&nbsp;<span class="ident" id="2398548">utf8</span><span class="op" id="2398552">.</span><span class="ident" id="2398553">RuneSelf</span>&nbsp;<span class="op" id="2398562">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2398566">*</span><span class="ident" id="2398567">bp</span>&nbsp;<span class="op" id="2398570">=</span>&nbsp;<span class="builtinfunc" id="2398572">append</span><span class="op" id="2398578">(</span><span class="op" id="2398579">*</span><span class="ident" id="2398580">bp</span><span class="op" id="2398582">,</span>&nbsp;<span class="builtintype" id="2398584">byte</span><span class="op" id="2398588">(</span><span class="ident" id="2398589">r</span><span class="op" id="2398590">)</span><span class="op" id="2398591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2398595">return</span>&nbsp;<span class="builtintype" id="2398602">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2398607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398611">b</span>&nbsp;<span class="op" id="2398613">:=</span>&nbsp;<span class="op" id="2398616">*</span><span class="ident" id="2398617">bp</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398621">n</span>&nbsp;<span class="op" id="2398623">:=</span>&nbsp;<span class="builtinfunc" id="2398626">len</span><span class="op" id="2398629">(</span><span class="ident" id="2398630">b</span><span class="op" id="2398631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2398634">for</span>&nbsp;<span class="ident" id="2398638">n</span><span class="op" id="2398639">+</span><span class="ident" id="2398640">utf8</span><span class="op" id="2398644">.</span><span class="ident" id="2398645">UTFMax</span>&nbsp;<span class="op" id="2398652">&gt;</span>&nbsp;<span class="builtinfunc" id="2398654">cap</span><span class="op" id="2398657">(</span><span class="ident" id="2398658">b</span><span class="op" id="2398659">)</span>&nbsp;<span class="op" id="2398661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398665">b</span>&nbsp;<span class="op" id="2398667">=</span>&nbsp;<span class="builtinfunc" id="2398669">append</span><span class="op" id="2398675">(</span><span class="ident" id="2398676">b</span><span class="op" id="2398677">,</span>&nbsp;<span class="num" id="2398679">0</span><span class="op" id="2398680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2398683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398686">w</span>&nbsp;<span class="op" id="2398688">:=</span>&nbsp;<span class="ident" id="2398691">utf8</span><span class="op" id="2398695">.</span><span class="ident" id="2398696">EncodeRune</span><span class="op" id="2398706">(</span><span class="ident" id="2398707">b</span><span class="op" id="2398708">[</span><span class="ident" id="2398709">n</span><span class="op" id="2398710">:</span><span class="ident" id="2398711">n</span><span class="op" id="2398712">+</span><span class="ident" id="2398713">utf8</span><span class="op" id="2398717">.</span><span class="ident" id="2398718">UTFMax</span><span class="op" id="2398724">]</span><span class="op" id="2398725">,</span>&nbsp;<span class="ident" id="2398727">r</span><span class="op" id="2398728">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2398731">*</span><span class="ident" id="2398732">bp</span>&nbsp;<span class="op" id="2398735">=</span>&nbsp;<span class="ident" id="2398737">b</span><span class="op" id="2398738">[</span><span class="op" id="2398739">:</span><span class="ident" id="2398740">n</span><span class="op" id="2398741">+</span><span class="ident" id="2398742">w</span><span class="op" id="2398743">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2398746">return</span>&nbsp;<span class="builtintype" id="2398753">nil</span><br>
<span class="lineno"></span><span class="op" id="2398757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2398760">type</span>&nbsp;<span class="ident" id="2398765">pp</span>&nbsp;<span class="keyword" id="2398768">struct</span>&nbsp;<span class="op" id="2398775">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398778">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2398788">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398793">panicking</span>&nbsp;<span class="builtintype" id="2398803">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398809">erroring</span>&nbsp;&nbsp;<span class="builtintype" id="2398819">bool</span>&nbsp;<span class="comment" id="2398824">//&nbsp;printing&nbsp;an&nbsp;error&nbsp;condition</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398856">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398866">buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2398874">//&nbsp;arg&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;an&nbsp;interface{}.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2398925">arg</span>&nbsp;<span class="keyword" id="2398929">interface</span><span class="op" id="2398938">{</span><span class="op" id="2398939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2398942">//&nbsp;value&nbsp;holds&nbsp;the&nbsp;current&nbsp;item,&nbsp;as&nbsp;a&nbsp;reflect.Value,&nbsp;and&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2399008">//&nbsp;the&nbsp;zero&nbsp;Value&nbsp;if&nbsp;the&nbsp;item&nbsp;has&nbsp;not&nbsp;been&nbsp;reflected.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399063">value</span>&nbsp;<span class="ident" id="2399069">reflect</span><span class="op" id="2399076">.</span><span class="ident" id="2399077">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2399084">//&nbsp;reordered&nbsp;records&nbsp;whether&nbsp;the&nbsp;format&nbsp;string&nbsp;used&nbsp;argument&nbsp;reordering.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399158">reordered</span>&nbsp;<span class="builtintype" id="2399168">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2399174">//&nbsp;goodArgNum&nbsp;records&nbsp;whether&nbsp;the&nbsp;most&nbsp;recent&nbsp;reordering&nbsp;directive&nbsp;was&nbsp;valid.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399253">goodArgNum</span>&nbsp;<span class="builtintype" id="2399264">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399270">runeBuf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2399281">[</span><span class="ident" id="2399282">utf8</span><span class="op" id="2399286">.</span><span class="ident" id="2399287">UTFMax</span><span class="op" id="2399293">]</span><span class="builtintype" id="2399294">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399300">fmt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399311">fmt</span><br>
<span class="lineno">125</span><span class="op" id="2399315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2399318">var</span>&nbsp;<span class="ident" id="2399322">ppFree</span>&nbsp;<span class="op" id="2399329">=</span>&nbsp;<span class="ident" id="2399331">sync</span><span class="op" id="2399335">.</span><span class="ident" id="2399336">Pool</span><span class="op" id="2399340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399343">New</span><span class="op" id="2399346">:</span>&nbsp;<span class="keyword" id="2399348">func</span><span class="op" id="2399352">(</span><span class="op" id="2399353">)</span>&nbsp;<span class="keyword" id="2399355">interface</span><span class="op" id="2399364">{</span><span class="op" id="2399365">}</span>&nbsp;<span class="op" id="2399367">{</span>&nbsp;<span class="keyword" id="2399369">return</span>&nbsp;<span class="builtinfunc" id="2399376">new</span><span class="op" id="2399379">(</span><span class="ident" id="2399380">pp</span><span class="op" id="2399382">)</span>&nbsp;<span class="op" id="2399384">}</span><span class="op" id="2399385">,</span><br>
<span class="lineno"></span><span class="op" id="2399387">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="2399390">//&nbsp;newPrinter&nbsp;allocates&nbsp;a&nbsp;new&nbsp;pp&nbsp;struct&nbsp;or&nbsp;grabs&nbsp;a&nbsp;cached&nbsp;one.</span><br>
<span class="lineno"></span><span class="keyword" id="2399453">func</span>&nbsp;<span class="ident" id="2399458">newPrinter</span><span class="op" id="2399468">(</span><span class="op" id="2399469">)</span>&nbsp;<span class="op" id="2399471">*</span><span class="ident" id="2399472">pp</span>&nbsp;<span class="op" id="2399475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399478">p</span>&nbsp;<span class="op" id="2399480">:=</span>&nbsp;<span class="ident" id="2399483">ppFree</span><span class="op" id="2399489">.</span><span class="ident" id="2399490">Get</span><span class="op" id="2399493">(</span><span class="op" id="2399494">)</span><span class="op" id="2399495">.</span><span class="op" id="2399496">(</span><span class="op" id="2399497">*</span><span class="ident" id="2399498">pp</span><span class="op" id="2399500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399503">p</span><span class="op" id="2399504">.</span><span class="ident" id="2399505">panicking</span>&nbsp;<span class="op" id="2399515">=</span>&nbsp;<span class="builtintype" id="2399517">false</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399524">p</span><span class="op" id="2399525">.</span><span class="ident" id="2399526">erroring</span>&nbsp;<span class="op" id="2399535">=</span>&nbsp;<span class="builtintype" id="2399537">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399544">p</span><span class="op" id="2399545">.</span><span class="ident" id="2399546">fmt</span><span class="op" id="2399549">.</span><span class="ident" id="2399550">init</span><span class="op" id="2399554">(</span><span class="op" id="2399555">&amp;</span><span class="ident" id="2399556">p</span><span class="op" id="2399557">.</span><span class="ident" id="2399558">buf</span><span class="op" id="2399561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2399564">return</span>&nbsp;<span class="ident" id="2399571">p</span><br>
<span class="lineno"></span><span class="op" id="2399573">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="comment" id="2399576">//&nbsp;free&nbsp;saves&nbsp;used&nbsp;pp&nbsp;structs&nbsp;in&nbsp;ppFree;&nbsp;avoids&nbsp;an&nbsp;allocation&nbsp;per&nbsp;invocation.</span><br>
<span class="lineno"></span><span class="keyword" id="2399654">func</span>&nbsp;<span class="op" id="2399659">(</span><span class="ident" id="2399660">p</span>&nbsp;<span class="op" id="2399662">*</span><span class="ident" id="2399663">pp</span><span class="op" id="2399665">)</span>&nbsp;<span class="ident" id="2399667">free</span><span class="op" id="2399671">(</span><span class="op" id="2399672">)</span>&nbsp;<span class="op" id="2399674">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2399677">//&nbsp;Don&#39;t&nbsp;hold&nbsp;on&nbsp;to&nbsp;pp&nbsp;structs&nbsp;with&nbsp;large&nbsp;buffers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2399729">if</span>&nbsp;<span class="builtinfunc" id="2399732">cap</span><span class="op" id="2399735">(</span><span class="ident" id="2399736">p</span><span class="op" id="2399737">.</span><span class="ident" id="2399738">buf</span><span class="op" id="2399741">)</span>&nbsp;<span class="op" id="2399743">&gt;</span>&nbsp;<span class="num" id="2399745">1024</span>&nbsp;<span class="op" id="2399750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2399754">return</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2399762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399765">p</span><span class="op" id="2399766">.</span><span class="ident" id="2399767">buf</span>&nbsp;<span class="op" id="2399771">=</span>&nbsp;<span class="ident" id="2399773">p</span><span class="op" id="2399774">.</span><span class="ident" id="2399775">buf</span><span class="op" id="2399778">[</span><span class="op" id="2399779">:</span><span class="num" id="2399780">0</span><span class="op" id="2399781">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399784">p</span><span class="op" id="2399785">.</span><span class="ident" id="2399786">arg</span>&nbsp;<span class="op" id="2399790">=</span>&nbsp;<span class="builtintype" id="2399792">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399797">p</span><span class="op" id="2399798">.</span><span class="ident" id="2399799">value</span>&nbsp;<span class="op" id="2399805">=</span>&nbsp;<span class="ident" id="2399807">reflect</span><span class="op" id="2399814">.</span><span class="ident" id="2399815">Value</span><span class="op" id="2399820">{</span><span class="op" id="2399821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2399824">ppFree</span><span class="op" id="2399830">.</span><span class="ident" id="2399831">Put</span><span class="op" id="2399834">(</span><span class="ident" id="2399835">p</span><span class="op" id="2399836">)</span><br>
<span class="lineno">150</span><span class="op" id="2399838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2399841">func</span>&nbsp;<span class="op" id="2399846">(</span><span class="ident" id="2399847">p</span>&nbsp;<span class="op" id="2399849">*</span><span class="ident" id="2399850">pp</span><span class="op" id="2399852">)</span>&nbsp;<span class="ident" id="2399854">Width</span><span class="op" id="2399859">(</span><span class="op" id="2399860">)</span>&nbsp;<span class="op" id="2399862">(</span><span class="ident" id="2399863">wid</span>&nbsp;<span class="builtintype" id="2399867">int</span><span class="op" id="2399870">,</span>&nbsp;<span class="ident" id="2399872">ok</span>&nbsp;<span class="builtintype" id="2399875">bool</span><span class="op" id="2399879">)</span>&nbsp;<span class="op" id="2399881">{</span>&nbsp;<span class="keyword" id="2399883">return</span>&nbsp;<span class="ident" id="2399890">p</span><span class="op" id="2399891">.</span><span class="ident" id="2399892">fmt</span><span class="op" id="2399895">.</span><span class="ident" id="2399896">wid</span><span class="op" id="2399899">,</span>&nbsp;<span class="ident" id="2399901">p</span><span class="op" id="2399902">.</span><span class="ident" id="2399903">fmt</span><span class="op" id="2399906">.</span><span class="ident" id="2399907">widPresent</span>&nbsp;<span class="op" id="2399918">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2399921">func</span>&nbsp;<span class="op" id="2399926">(</span><span class="ident" id="2399927">p</span>&nbsp;<span class="op" id="2399929">*</span><span class="ident" id="2399930">pp</span><span class="op" id="2399932">)</span>&nbsp;<span class="ident" id="2399934">Precision</span><span class="op" id="2399943">(</span><span class="op" id="2399944">)</span>&nbsp;<span class="op" id="2399946">(</span><span class="ident" id="2399947">prec</span>&nbsp;<span class="builtintype" id="2399952">int</span><span class="op" id="2399955">,</span>&nbsp;<span class="ident" id="2399957">ok</span>&nbsp;<span class="builtintype" id="2399960">bool</span><span class="op" id="2399964">)</span>&nbsp;<span class="op" id="2399966">{</span>&nbsp;<span class="keyword" id="2399968">return</span>&nbsp;<span class="ident" id="2399975">p</span><span class="op" id="2399976">.</span><span class="ident" id="2399977">fmt</span><span class="op" id="2399980">.</span><span class="ident" id="2399981">prec</span><span class="op" id="2399985">,</span>&nbsp;<span class="ident" id="2399987">p</span><span class="op" id="2399988">.</span><span class="ident" id="2399989">fmt</span><span class="op" id="2399992">.</span><span class="ident" id="2399993">precPresent</span>&nbsp;<span class="op" id="2400005">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="2400008">func</span>&nbsp;<span class="op" id="2400013">(</span><span class="ident" id="2400014">p</span>&nbsp;<span class="op" id="2400016">*</span><span class="ident" id="2400017">pp</span><span class="op" id="2400019">)</span>&nbsp;<span class="ident" id="2400021">Flag</span><span class="op" id="2400025">(</span><span class="ident" id="2400026">b</span>&nbsp;<span class="builtintype" id="2400028">int</span><span class="op" id="2400031">)</span>&nbsp;<span class="builtintype" id="2400033">bool</span>&nbsp;<span class="op" id="2400038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400041">switch</span>&nbsp;<span class="ident" id="2400048">b</span>&nbsp;<span class="op" id="2400050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400053">case</span>&nbsp;<span class="string" id="2400058">&#39;-&#39;</span><span class="op" id="2400061">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400065">return</span>&nbsp;<span class="ident" id="2400072">p</span><span class="op" id="2400073">.</span><span class="ident" id="2400074">fmt</span><span class="op" id="2400077">.</span><span class="ident" id="2400078">minus</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400085">case</span>&nbsp;<span class="string" id="2400090">&#39;+&#39;</span><span class="op" id="2400093">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400097">return</span>&nbsp;<span class="ident" id="2400104">p</span><span class="op" id="2400105">.</span><span class="ident" id="2400106">fmt</span><span class="op" id="2400109">.</span><span class="ident" id="2400110">plus</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400116">case</span>&nbsp;<span class="string" id="2400121">&#39;#&#39;</span><span class="op" id="2400124">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400128">return</span>&nbsp;<span class="ident" id="2400135">p</span><span class="op" id="2400136">.</span><span class="ident" id="2400137">fmt</span><span class="op" id="2400140">.</span><span class="ident" id="2400141">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400148">case</span>&nbsp;<span class="string" id="2400153">&#39;&nbsp;&#39;</span><span class="op" id="2400156">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400160">return</span>&nbsp;<span class="ident" id="2400167">p</span><span class="op" id="2400168">.</span><span class="ident" id="2400169">fmt</span><span class="op" id="2400172">.</span><span class="ident" id="2400173">space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400180">case</span>&nbsp;<span class="string" id="2400185">&#39;0&#39;</span><span class="op" id="2400188">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400192">return</span>&nbsp;<span class="ident" id="2400199">p</span><span class="op" id="2400200">.</span><span class="ident" id="2400201">fmt</span><span class="op" id="2400204">.</span><span class="ident" id="2400205">zero</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2400211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400214">return</span>&nbsp;<span class="builtintype" id="2400221">false</span><br>
<span class="lineno">170</span><span class="op" id="2400227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2400230">func</span>&nbsp;<span class="op" id="2400235">(</span><span class="ident" id="2400236">p</span>&nbsp;<span class="op" id="2400238">*</span><span class="ident" id="2400239">pp</span><span class="op" id="2400241">)</span>&nbsp;<span class="ident" id="2400243">add</span><span class="op" id="2400246">(</span><span class="ident" id="2400247">c</span>&nbsp;<span class="builtintype" id="2400249">rune</span><span class="op" id="2400253">)</span>&nbsp;<span class="op" id="2400255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2400258">p</span><span class="op" id="2400259">.</span><span class="ident" id="2400260">buf</span><span class="op" id="2400263">.</span><span class="ident" id="2400264">WriteRune</span><span class="op" id="2400273">(</span><span class="ident" id="2400274">c</span><span class="op" id="2400275">)</span><br>
<span class="lineno"></span><span class="op" id="2400277">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="comment" id="2400280">//&nbsp;Implement&nbsp;Write&nbsp;so&nbsp;we&nbsp;can&nbsp;call&nbsp;Fprintf&nbsp;on&nbsp;a&nbsp;pp&nbsp;(through&nbsp;State),&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2400351">//&nbsp;recursive&nbsp;use&nbsp;in&nbsp;custom&nbsp;verbs.</span><br>
<span class="lineno"></span><span class="keyword" id="2400385">func</span>&nbsp;<span class="op" id="2400390">(</span><span class="ident" id="2400391">p</span>&nbsp;<span class="op" id="2400393">*</span><span class="ident" id="2400394">pp</span><span class="op" id="2400396">)</span>&nbsp;<span class="ident" id="2400398">Write</span><span class="op" id="2400403">(</span><span class="ident" id="2400404">b</span>&nbsp;<span class="op" id="2400406">[</span><span class="op" id="2400407">]</span><span class="builtintype" id="2400408">byte</span><span class="op" id="2400412">)</span>&nbsp;<span class="op" id="2400414">(</span><span class="ident" id="2400415">ret</span>&nbsp;<span class="builtintype" id="2400419">int</span><span class="op" id="2400422">,</span>&nbsp;<span class="ident" id="2400424">err</span>&nbsp;<span class="builtintype" id="2400428">error</span><span class="op" id="2400433">)</span>&nbsp;<span class="op" id="2400435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400438">return</span>&nbsp;<span class="ident" id="2400445">p</span><span class="op" id="2400446">.</span><span class="ident" id="2400447">buf</span><span class="op" id="2400450">.</span><span class="ident" id="2400451">Write</span><span class="op" id="2400456">(</span><span class="ident" id="2400457">b</span><span class="op" id="2400458">)</span><br>
<span class="lineno">180</span><span class="op" id="2400460">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2400463">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;f&#39;&nbsp;and&nbsp;take&nbsp;a&nbsp;format&nbsp;string.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2400519">//&nbsp;Fprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">185</span><span class="comment" id="2400587">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2400662">func</span>&nbsp;<span class="ident" id="2400667">Fprintf</span><span class="op" id="2400674">(</span><span class="ident" id="2400675">w</span>&nbsp;<span class="ident" id="2400677">io</span><span class="op" id="2400679">.</span><span class="ident" id="2400680">Writer</span><span class="op" id="2400686">,</span>&nbsp;<span class="ident" id="2400688">format</span>&nbsp;<span class="builtintype" id="2400695">string</span><span class="op" id="2400701">,</span>&nbsp;<span class="ident" id="2400703">a</span>&nbsp;<span class="op" id="2400705">...</span><span class="keyword" id="2400708">interface</span><span class="op" id="2400717">{</span><span class="op" id="2400718">}</span><span class="op" id="2400719">)</span>&nbsp;<span class="op" id="2400721">(</span><span class="ident" id="2400722">n</span>&nbsp;<span class="builtintype" id="2400724">int</span><span class="op" id="2400727">,</span>&nbsp;<span class="ident" id="2400729">err</span>&nbsp;<span class="builtintype" id="2400733">error</span><span class="op" id="2400738">)</span>&nbsp;<span class="op" id="2400740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2400743">p</span>&nbsp;<span class="op" id="2400745">:=</span>&nbsp;<span class="ident" id="2400748">newPrinter</span><span class="op" id="2400758">(</span><span class="op" id="2400759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2400762">p</span><span class="op" id="2400763">.</span><span class="ident" id="2400764">doPrintf</span><span class="op" id="2400772">(</span><span class="ident" id="2400773">format</span><span class="op" id="2400779">,</span>&nbsp;<span class="ident" id="2400781">a</span><span class="op" id="2400782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2400785">n</span><span class="op" id="2400786">,</span>&nbsp;<span class="ident" id="2400788">err</span>&nbsp;<span class="op" id="2400792">=</span>&nbsp;<span class="ident" id="2400794">w</span><span class="op" id="2400795">.</span><span class="ident" id="2400796">Write</span><span class="op" id="2400801">(</span><span class="ident" id="2400802">p</span><span class="op" id="2400803">.</span><span class="ident" id="2400804">buf</span><span class="op" id="2400807">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2400810">p</span><span class="op" id="2400811">.</span><span class="ident" id="2400812">free</span><span class="op" id="2400816">(</span><span class="op" id="2400817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2400820">return</span><br>
<span class="lineno"></span><span class="op" id="2400827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2400830">//&nbsp;Printf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno">195</span><span class="comment" id="2400911">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2400986">func</span>&nbsp;<span class="ident" id="2400991">Printf</span><span class="op" id="2400997">(</span><span class="ident" id="2400998">format</span>&nbsp;<span class="builtintype" id="2401005">string</span><span class="op" id="2401011">,</span>&nbsp;<span class="ident" id="2401013">a</span>&nbsp;<span class="op" id="2401015">...</span><span class="keyword" id="2401018">interface</span><span class="op" id="2401027">{</span><span class="op" id="2401028">}</span><span class="op" id="2401029">)</span>&nbsp;<span class="op" id="2401031">(</span><span class="ident" id="2401032">n</span>&nbsp;<span class="builtintype" id="2401034">int</span><span class="op" id="2401037">,</span>&nbsp;<span class="ident" id="2401039">err</span>&nbsp;<span class="builtintype" id="2401043">error</span><span class="op" id="2401048">)</span>&nbsp;<span class="op" id="2401050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2401053">return</span>&nbsp;<span class="ident" id="2401060">Fprintf</span><span class="op" id="2401067">(</span><span class="ident" id="2401068">os</span><span class="op" id="2401070">.</span><span class="ident" id="2401071">Stdout</span><span class="op" id="2401077">,</span>&nbsp;<span class="ident" id="2401079">format</span><span class="op" id="2401085">,</span>&nbsp;<span class="ident" id="2401087">a</span><span class="op" id="2401088">...</span><span class="op" id="2401091">)</span><br>
<span class="lineno"></span><span class="op" id="2401093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="2401096">//&nbsp;Sprintf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2401181">func</span>&nbsp;<span class="ident" id="2401186">Sprintf</span><span class="op" id="2401193">(</span><span class="ident" id="2401194">format</span>&nbsp;<span class="builtintype" id="2401201">string</span><span class="op" id="2401207">,</span>&nbsp;<span class="ident" id="2401209">a</span>&nbsp;<span class="op" id="2401211">...</span><span class="keyword" id="2401214">interface</span><span class="op" id="2401223">{</span><span class="op" id="2401224">}</span><span class="op" id="2401225">)</span>&nbsp;<span class="builtintype" id="2401227">string</span>&nbsp;<span class="op" id="2401234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401237">p</span>&nbsp;<span class="op" id="2401239">:=</span>&nbsp;<span class="ident" id="2401242">newPrinter</span><span class="op" id="2401252">(</span><span class="op" id="2401253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401256">p</span><span class="op" id="2401257">.</span><span class="ident" id="2401258">doPrintf</span><span class="op" id="2401266">(</span><span class="ident" id="2401267">format</span><span class="op" id="2401273">,</span>&nbsp;<span class="ident" id="2401275">a</span><span class="op" id="2401276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401279">s</span>&nbsp;<span class="op" id="2401281">:=</span>&nbsp;<span class="builtintype" id="2401284">string</span><span class="op" id="2401290">(</span><span class="ident" id="2401291">p</span><span class="op" id="2401292">.</span><span class="ident" id="2401293">buf</span><span class="op" id="2401296">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401299">p</span><span class="op" id="2401300">.</span><span class="ident" id="2401301">free</span><span class="op" id="2401305">(</span><span class="op" id="2401306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2401309">return</span>&nbsp;<span class="ident" id="2401316">s</span><br>
<span class="lineno"></span><span class="op" id="2401318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401321">//&nbsp;Errorf&nbsp;formats&nbsp;according&nbsp;to&nbsp;a&nbsp;format&nbsp;specifier&nbsp;and&nbsp;returns&nbsp;the&nbsp;string</span><br>
<span class="lineno">210</span><span class="comment" id="2401394">//&nbsp;as&nbsp;a&nbsp;value&nbsp;that&nbsp;satisfies&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="2401430">func</span>&nbsp;<span class="ident" id="2401435">Errorf</span><span class="op" id="2401441">(</span><span class="ident" id="2401442">format</span>&nbsp;<span class="builtintype" id="2401449">string</span><span class="op" id="2401455">,</span>&nbsp;<span class="ident" id="2401457">a</span>&nbsp;<span class="op" id="2401459">...</span><span class="keyword" id="2401462">interface</span><span class="op" id="2401471">{</span><span class="op" id="2401472">}</span><span class="op" id="2401473">)</span>&nbsp;<span class="builtintype" id="2401475">error</span>&nbsp;<span class="op" id="2401481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2401484">return</span>&nbsp;<span class="ident" id="2401491">errors</span><span class="op" id="2401497">.</span><span class="ident" id="2401498">New</span><span class="op" id="2401501">(</span><span class="ident" id="2401502">Sprintf</span><span class="op" id="2401509">(</span><span class="ident" id="2401510">format</span><span class="op" id="2401516">,</span>&nbsp;<span class="ident" id="2401518">a</span><span class="op" id="2401519">...</span><span class="op" id="2401522">)</span><span class="op" id="2401523">)</span><br>
<span class="lineno"></span><span class="op" id="2401525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="2401528">//&nbsp;These&nbsp;routines&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401575">//&nbsp;Fprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="2401653">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2401716">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno">220</span><span class="keyword" id="2401791">func</span>&nbsp;<span class="ident" id="2401796">Fprint</span><span class="op" id="2401802">(</span><span class="ident" id="2401803">w</span>&nbsp;<span class="ident" id="2401805">io</span><span class="op" id="2401807">.</span><span class="ident" id="2401808">Writer</span><span class="op" id="2401814">,</span>&nbsp;<span class="ident" id="2401816">a</span>&nbsp;<span class="op" id="2401818">...</span><span class="keyword" id="2401821">interface</span><span class="op" id="2401830">{</span><span class="op" id="2401831">}</span><span class="op" id="2401832">)</span>&nbsp;<span class="op" id="2401834">(</span><span class="ident" id="2401835">n</span>&nbsp;<span class="builtintype" id="2401837">int</span><span class="op" id="2401840">,</span>&nbsp;<span class="ident" id="2401842">err</span>&nbsp;<span class="builtintype" id="2401846">error</span><span class="op" id="2401851">)</span>&nbsp;<span class="op" id="2401853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401856">p</span>&nbsp;<span class="op" id="2401858">:=</span>&nbsp;<span class="ident" id="2401861">newPrinter</span><span class="op" id="2401871">(</span><span class="op" id="2401872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401875">p</span><span class="op" id="2401876">.</span><span class="ident" id="2401877">doPrint</span><span class="op" id="2401884">(</span><span class="ident" id="2401885">a</span><span class="op" id="2401886">,</span>&nbsp;<span class="builtintype" id="2401888">false</span><span class="op" id="2401893">,</span>&nbsp;<span class="builtintype" id="2401895">false</span><span class="op" id="2401900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401903">n</span><span class="op" id="2401904">,</span>&nbsp;<span class="ident" id="2401906">err</span>&nbsp;<span class="op" id="2401910">=</span>&nbsp;<span class="ident" id="2401912">w</span><span class="op" id="2401913">.</span><span class="ident" id="2401914">Write</span><span class="op" id="2401919">(</span><span class="ident" id="2401920">p</span><span class="op" id="2401921">.</span><span class="ident" id="2401922">buf</span><span class="op" id="2401925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2401928">p</span><span class="op" id="2401929">.</span><span class="ident" id="2401930">free</span><span class="op" id="2401934">(</span><span class="op" id="2401935">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2401938">return</span><br>
<span class="lineno"></span><span class="op" id="2401945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401948">//&nbsp;Print&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2402039">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno">230</span><span class="comment" id="2402102">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2402177">func</span>&nbsp;<span class="ident" id="2402182">Print</span><span class="op" id="2402187">(</span><span class="ident" id="2402188">a</span>&nbsp;<span class="op" id="2402190">...</span><span class="keyword" id="2402193">interface</span><span class="op" id="2402202">{</span><span class="op" id="2402203">}</span><span class="op" id="2402204">)</span>&nbsp;<span class="op" id="2402206">(</span><span class="ident" id="2402207">n</span>&nbsp;<span class="builtintype" id="2402209">int</span><span class="op" id="2402212">,</span>&nbsp;<span class="ident" id="2402214">err</span>&nbsp;<span class="builtintype" id="2402218">error</span><span class="op" id="2402223">)</span>&nbsp;<span class="op" id="2402225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2402228">return</span>&nbsp;<span class="ident" id="2402235">Fprint</span><span class="op" id="2402241">(</span><span class="ident" id="2402242">os</span><span class="op" id="2402244">.</span><span class="ident" id="2402245">Stdout</span><span class="op" id="2402251">,</span>&nbsp;<span class="ident" id="2402253">a</span><span class="op" id="2402254">...</span><span class="op" id="2402257">)</span><br>
<span class="lineno"></span><span class="op" id="2402259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="comment" id="2402262">//&nbsp;Sprint&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2402357">//&nbsp;Spaces&nbsp;are&nbsp;added&nbsp;between&nbsp;operands&nbsp;when&nbsp;neither&nbsp;is&nbsp;a&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="2402420">func</span>&nbsp;<span class="ident" id="2402425">Sprint</span><span class="op" id="2402431">(</span><span class="ident" id="2402432">a</span>&nbsp;<span class="op" id="2402434">...</span><span class="keyword" id="2402437">interface</span><span class="op" id="2402446">{</span><span class="op" id="2402447">}</span><span class="op" id="2402448">)</span>&nbsp;<span class="builtintype" id="2402450">string</span>&nbsp;<span class="op" id="2402457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2402460">p</span>&nbsp;<span class="op" id="2402462">:=</span>&nbsp;<span class="ident" id="2402465">newPrinter</span><span class="op" id="2402475">(</span><span class="op" id="2402476">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2402479">p</span><span class="op" id="2402480">.</span><span class="ident" id="2402481">doPrint</span><span class="op" id="2402488">(</span><span class="ident" id="2402489">a</span><span class="op" id="2402490">,</span>&nbsp;<span class="builtintype" id="2402492">false</span><span class="op" id="2402497">,</span>&nbsp;<span class="builtintype" id="2402499">false</span><span class="op" id="2402504">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2402507">s</span>&nbsp;<span class="op" id="2402509">:=</span>&nbsp;<span class="builtintype" id="2402512">string</span><span class="op" id="2402518">(</span><span class="ident" id="2402519">p</span><span class="op" id="2402520">.</span><span class="ident" id="2402521">buf</span><span class="op" id="2402524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2402527">p</span><span class="op" id="2402528">.</span><span class="ident" id="2402529">free</span><span class="op" id="2402533">(</span><span class="op" id="2402534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2402537">return</span>&nbsp;<span class="ident" id="2402544">s</span><br>
<span class="lineno"></span><span class="op" id="2402546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="comment" id="2402549">//&nbsp;These&nbsp;routines&nbsp;end&nbsp;in&nbsp;&#39;ln&#39;,&nbsp;do&nbsp;not&nbsp;take&nbsp;a&nbsp;format&nbsp;string,</span><br>
<span class="lineno"></span><span class="comment" id="2402609">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;between&nbsp;operands,&nbsp;and&nbsp;add&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span><span class="comment" id="2402666">//&nbsp;after&nbsp;the&nbsp;last&nbsp;operand.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2402694">//&nbsp;Fprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;w.</span><br>
<span class="lineno">250</span><span class="comment" id="2402774">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2402845">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2402920">func</span>&nbsp;<span class="ident" id="2402925">Fprintln</span><span class="op" id="2402933">(</span><span class="ident" id="2402934">w</span>&nbsp;<span class="ident" id="2402936">io</span><span class="op" id="2402938">.</span><span class="ident" id="2402939">Writer</span><span class="op" id="2402945">,</span>&nbsp;<span class="ident" id="2402947">a</span>&nbsp;<span class="op" id="2402949">...</span><span class="keyword" id="2402952">interface</span><span class="op" id="2402961">{</span><span class="op" id="2402962">}</span><span class="op" id="2402963">)</span>&nbsp;<span class="op" id="2402965">(</span><span class="ident" id="2402966">n</span>&nbsp;<span class="builtintype" id="2402968">int</span><span class="op" id="2402971">,</span>&nbsp;<span class="ident" id="2402973">err</span>&nbsp;<span class="builtintype" id="2402977">error</span><span class="op" id="2402982">)</span>&nbsp;<span class="op" id="2402984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2402987">p</span>&nbsp;<span class="op" id="2402989">:=</span>&nbsp;<span class="ident" id="2402992">newPrinter</span><span class="op" id="2403002">(</span><span class="op" id="2403003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403006">p</span><span class="op" id="2403007">.</span><span class="ident" id="2403008">doPrint</span><span class="op" id="2403015">(</span><span class="ident" id="2403016">a</span><span class="op" id="2403017">,</span>&nbsp;<span class="builtintype" id="2403019">true</span><span class="op" id="2403023">,</span>&nbsp;<span class="builtintype" id="2403025">true</span><span class="op" id="2403029">)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403032">n</span><span class="op" id="2403033">,</span>&nbsp;<span class="ident" id="2403035">err</span>&nbsp;<span class="op" id="2403039">=</span>&nbsp;<span class="ident" id="2403041">w</span><span class="op" id="2403042">.</span><span class="ident" id="2403043">Write</span><span class="op" id="2403048">(</span><span class="ident" id="2403049">p</span><span class="op" id="2403050">.</span><span class="ident" id="2403051">buf</span><span class="op" id="2403054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403057">p</span><span class="op" id="2403058">.</span><span class="ident" id="2403059">free</span><span class="op" id="2403063">(</span><span class="op" id="2403064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2403067">return</span><br>
<span class="lineno"></span><span class="op" id="2403074">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="2403077">//&nbsp;Println&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;writes&nbsp;to&nbsp;standard&nbsp;output.</span><br>
<span class="lineno"></span><span class="comment" id="2403170">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="comment" id="2403241">//&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;written&nbsp;and&nbsp;any&nbsp;write&nbsp;error&nbsp;encountered.</span><br>
<span class="lineno"></span><span class="keyword" id="2403316">func</span>&nbsp;<span class="ident" id="2403321">Println</span><span class="op" id="2403328">(</span><span class="ident" id="2403329">a</span>&nbsp;<span class="op" id="2403331">...</span><span class="keyword" id="2403334">interface</span><span class="op" id="2403343">{</span><span class="op" id="2403344">}</span><span class="op" id="2403345">)</span>&nbsp;<span class="op" id="2403347">(</span><span class="ident" id="2403348">n</span>&nbsp;<span class="builtintype" id="2403350">int</span><span class="op" id="2403353">,</span>&nbsp;<span class="ident" id="2403355">err</span>&nbsp;<span class="builtintype" id="2403359">error</span><span class="op" id="2403364">)</span>&nbsp;<span class="op" id="2403366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2403369">return</span>&nbsp;<span class="ident" id="2403376">Fprintln</span><span class="op" id="2403384">(</span><span class="ident" id="2403385">os</span><span class="op" id="2403387">.</span><span class="ident" id="2403388">Stdout</span><span class="op" id="2403394">,</span>&nbsp;<span class="ident" id="2403396">a</span><span class="op" id="2403397">...</span><span class="op" id="2403400">)</span><br>
<span class="lineno">265</span><span class="op" id="2403402">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2403405">//&nbsp;Sprintln&nbsp;formats&nbsp;using&nbsp;the&nbsp;default&nbsp;formats&nbsp;for&nbsp;its&nbsp;operands&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2403502">//&nbsp;Spaces&nbsp;are&nbsp;always&nbsp;added&nbsp;between&nbsp;operands&nbsp;and&nbsp;a&nbsp;newline&nbsp;is&nbsp;appended.</span><br>
<span class="lineno"></span><span class="keyword" id="2403573">func</span>&nbsp;<span class="ident" id="2403578">Sprintln</span><span class="op" id="2403586">(</span><span class="ident" id="2403587">a</span>&nbsp;<span class="op" id="2403589">...</span><span class="keyword" id="2403592">interface</span><span class="op" id="2403601">{</span><span class="op" id="2403602">}</span><span class="op" id="2403603">)</span>&nbsp;<span class="builtintype" id="2403605">string</span>&nbsp;<span class="op" id="2403612">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403615">p</span>&nbsp;<span class="op" id="2403617">:=</span>&nbsp;<span class="ident" id="2403620">newPrinter</span><span class="op" id="2403630">(</span><span class="op" id="2403631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403634">p</span><span class="op" id="2403635">.</span><span class="ident" id="2403636">doPrint</span><span class="op" id="2403643">(</span><span class="ident" id="2403644">a</span><span class="op" id="2403645">,</span>&nbsp;<span class="builtintype" id="2403647">true</span><span class="op" id="2403651">,</span>&nbsp;<span class="builtintype" id="2403653">true</span><span class="op" id="2403657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403660">s</span>&nbsp;<span class="op" id="2403662">:=</span>&nbsp;<span class="builtintype" id="2403665">string</span><span class="op" id="2403671">(</span><span class="ident" id="2403672">p</span><span class="op" id="2403673">.</span><span class="ident" id="2403674">buf</span><span class="op" id="2403677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403680">p</span><span class="op" id="2403681">.</span><span class="ident" id="2403682">free</span><span class="op" id="2403686">(</span><span class="op" id="2403687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2403690">return</span>&nbsp;<span class="ident" id="2403697">s</span><br>
<span class="lineno">275</span><span class="op" id="2403699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2403702">//&nbsp;getField&nbsp;gets&nbsp;the&nbsp;i&#39;th&nbsp;field&nbsp;of&nbsp;the&nbsp;struct&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="2403755">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;itself&nbsp;is&nbsp;an&nbsp;interface,&nbsp;return&nbsp;a&nbsp;value&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="2403817">//&nbsp;the&nbsp;thing&nbsp;inside&nbsp;the&nbsp;interface,&nbsp;not&nbsp;the&nbsp;interface&nbsp;itself.</span><br>
<span class="lineno">280</span><span class="keyword" id="2403878">func</span>&nbsp;<span class="ident" id="2403883">getField</span><span class="op" id="2403891">(</span><span class="ident" id="2403892">v</span>&nbsp;<span class="ident" id="2403894">reflect</span><span class="op" id="2403901">.</span><span class="ident" id="2403902">Value</span><span class="op" id="2403907">,</span>&nbsp;<span class="ident" id="2403909">i</span>&nbsp;<span class="builtintype" id="2403911">int</span><span class="op" id="2403914">)</span>&nbsp;<span class="ident" id="2403916">reflect</span><span class="op" id="2403923">.</span><span class="ident" id="2403924">Value</span>&nbsp;<span class="op" id="2403930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403933">val</span>&nbsp;<span class="op" id="2403937">:=</span>&nbsp;<span class="ident" id="2403940">v</span><span class="op" id="2403941">.</span><span class="ident" id="2403942">Field</span><span class="op" id="2403947">(</span><span class="ident" id="2403948">i</span><span class="op" id="2403949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2403952">if</span>&nbsp;<span class="ident" id="2403955">val</span><span class="op" id="2403958">.</span><span class="ident" id="2403959">Kind</span><span class="op" id="2403963">(</span><span class="op" id="2403964">)</span>&nbsp;<span class="op" id="2403966">==</span>&nbsp;<span class="ident" id="2403969">reflect</span><span class="op" id="2403976">.</span><span class="ident" id="2403977">Interface</span>&nbsp;<span class="op" id="2403987">&amp;&amp;</span>&nbsp;<span class="op" id="2403990">!</span><span class="ident" id="2403991">val</span><span class="op" id="2403994">.</span><span class="ident" id="2403995">IsNil</span><span class="op" id="2404000">(</span><span class="op" id="2404001">)</span>&nbsp;<span class="op" id="2404003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404007">val</span>&nbsp;<span class="op" id="2404011">=</span>&nbsp;<span class="ident" id="2404013">val</span><span class="op" id="2404016">.</span><span class="ident" id="2404017">Elem</span><span class="op" id="2404021">(</span><span class="op" id="2404022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404025">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404028">return</span>&nbsp;<span class="ident" id="2404035">val</span><br>
<span class="lineno"></span><span class="op" id="2404039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2404042">//&nbsp;parsenum&nbsp;converts&nbsp;ASCII&nbsp;to&nbsp;integer.&nbsp;&nbsp;num&nbsp;is&nbsp;0&nbsp;(and&nbsp;isnum&nbsp;is&nbsp;false)&nbsp;if&nbsp;no&nbsp;number&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2404134">func</span>&nbsp;<span class="ident" id="2404139">parsenum</span><span class="op" id="2404147">(</span><span class="ident" id="2404148">s</span>&nbsp;<span class="builtintype" id="2404150">string</span><span class="op" id="2404156">,</span>&nbsp;<span class="ident" id="2404158">start</span><span class="op" id="2404163">,</span>&nbsp;<span class="ident" id="2404165">end</span>&nbsp;<span class="builtintype" id="2404169">int</span><span class="op" id="2404172">)</span>&nbsp;<span class="op" id="2404174">(</span><span class="ident" id="2404175">num</span>&nbsp;<span class="builtintype" id="2404179">int</span><span class="op" id="2404182">,</span>&nbsp;<span class="ident" id="2404184">isnum</span>&nbsp;<span class="builtintype" id="2404190">bool</span><span class="op" id="2404194">,</span>&nbsp;<span class="ident" id="2404196">newi</span>&nbsp;<span class="builtintype" id="2404201">int</span><span class="op" id="2404204">)</span>&nbsp;<span class="op" id="2404206">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404209">if</span>&nbsp;<span class="ident" id="2404212">start</span>&nbsp;<span class="op" id="2404218">&gt;=</span>&nbsp;<span class="ident" id="2404221">end</span>&nbsp;<span class="op" id="2404225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404229">return</span>&nbsp;<span class="num" id="2404236">0</span><span class="op" id="2404237">,</span>&nbsp;<span class="builtintype" id="2404239">false</span><span class="op" id="2404244">,</span>&nbsp;<span class="ident" id="2404246">end</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404254">for</span>&nbsp;<span class="ident" id="2404258">newi</span>&nbsp;<span class="op" id="2404263">=</span>&nbsp;<span class="ident" id="2404265">start</span><span class="op" id="2404270">;</span>&nbsp;<span class="ident" id="2404272">newi</span>&nbsp;<span class="op" id="2404277">&lt;</span>&nbsp;<span class="ident" id="2404279">end</span>&nbsp;<span class="op" id="2404283">&amp;&amp;</span>&nbsp;<span class="string" id="2404286">&#39;0&#39;</span>&nbsp;<span class="op" id="2404290">&lt;=</span>&nbsp;<span class="ident" id="2404293">s</span><span class="op" id="2404294">[</span><span class="ident" id="2404295">newi</span><span class="op" id="2404299">]</span>&nbsp;<span class="op" id="2404301">&amp;&amp;</span>&nbsp;<span class="ident" id="2404304">s</span><span class="op" id="2404305">[</span><span class="ident" id="2404306">newi</span><span class="op" id="2404310">]</span>&nbsp;<span class="op" id="2404312">&lt;=</span>&nbsp;<span class="string" id="2404315">&#39;9&#39;</span><span class="op" id="2404318">;</span>&nbsp;<span class="ident" id="2404320">newi</span><span class="op" id="2404324">++</span>&nbsp;<span class="op" id="2404327">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404331">num</span>&nbsp;<span class="op" id="2404335">=</span>&nbsp;<span class="ident" id="2404337">num</span><span class="op" id="2404340">*</span><span class="num" id="2404341">10</span>&nbsp;<span class="op" id="2404344">+</span>&nbsp;<span class="builtintype" id="2404346">int</span><span class="op" id="2404349">(</span><span class="ident" id="2404350">s</span><span class="op" id="2404351">[</span><span class="ident" id="2404352">newi</span><span class="op" id="2404356">]</span><span class="op" id="2404357">-</span><span class="string" id="2404358">&#39;0&#39;</span><span class="op" id="2404361">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404365">isnum</span>&nbsp;<span class="op" id="2404371">=</span>&nbsp;<span class="builtintype" id="2404373">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404382">return</span><br>
<span class="lineno"></span><span class="op" id="2404389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="2404392">func</span>&nbsp;<span class="op" id="2404397">(</span><span class="ident" id="2404398">p</span>&nbsp;<span class="op" id="2404400">*</span><span class="ident" id="2404401">pp</span><span class="op" id="2404403">)</span>&nbsp;<span class="ident" id="2404405">unknownType</span><span class="op" id="2404416">(</span><span class="ident" id="2404417">v</span>&nbsp;<span class="ident" id="2404419">reflect</span><span class="op" id="2404426">.</span><span class="ident" id="2404427">Value</span><span class="op" id="2404432">)</span>&nbsp;<span class="op" id="2404434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404437">if</span>&nbsp;<span class="op" id="2404440">!</span><span class="ident" id="2404441">v</span><span class="op" id="2404442">.</span><span class="ident" id="2404443">IsValid</span><span class="op" id="2404450">(</span><span class="op" id="2404451">)</span>&nbsp;<span class="op" id="2404453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404457">p</span><span class="op" id="2404458">.</span><span class="ident" id="2404459">buf</span><span class="op" id="2404462">.</span><span class="ident" id="2404463">Write</span><span class="op" id="2404468">(</span><span class="ident" id="2404469">nilAngleBytes</span><span class="op" id="2404482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404486">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404494">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404497">p</span><span class="op" id="2404498">.</span><span class="ident" id="2404499">buf</span><span class="op" id="2404502">.</span><span class="ident" id="2404503">WriteByte</span><span class="op" id="2404512">(</span><span class="string" id="2404513">&#39;?&#39;</span><span class="op" id="2404516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404519">p</span><span class="op" id="2404520">.</span><span class="ident" id="2404521">buf</span><span class="op" id="2404524">.</span><span class="ident" id="2404525">WriteString</span><span class="op" id="2404536">(</span><span class="ident" id="2404537">v</span><span class="op" id="2404538">.</span><span class="ident" id="2404539">Type</span><span class="op" id="2404543">(</span><span class="op" id="2404544">)</span><span class="op" id="2404545">.</span><span class="ident" id="2404546">String</span><span class="op" id="2404552">(</span><span class="op" id="2404553">)</span><span class="op" id="2404554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404557">p</span><span class="op" id="2404558">.</span><span class="ident" id="2404559">buf</span><span class="op" id="2404562">.</span><span class="ident" id="2404563">WriteByte</span><span class="op" id="2404572">(</span><span class="string" id="2404573">&#39;?&#39;</span><span class="op" id="2404576">)</span><br>
<span class="lineno"></span><span class="op" id="2404578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="2404581">func</span>&nbsp;<span class="op" id="2404586">(</span><span class="ident" id="2404587">p</span>&nbsp;<span class="op" id="2404589">*</span><span class="ident" id="2404590">pp</span><span class="op" id="2404592">)</span>&nbsp;<span class="ident" id="2404594">badVerb</span><span class="op" id="2404601">(</span><span class="ident" id="2404602">verb</span>&nbsp;<span class="builtintype" id="2404607">rune</span><span class="op" id="2404611">)</span>&nbsp;<span class="op" id="2404613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404616">p</span><span class="op" id="2404617">.</span><span class="ident" id="2404618">erroring</span>&nbsp;<span class="op" id="2404627">=</span>&nbsp;<span class="builtintype" id="2404629">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404635">p</span><span class="op" id="2404636">.</span><span class="ident" id="2404637">add</span><span class="op" id="2404640">(</span><span class="string" id="2404641">&#39;%&#39;</span><span class="op" id="2404644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404647">p</span><span class="op" id="2404648">.</span><span class="ident" id="2404649">add</span><span class="op" id="2404652">(</span><span class="string" id="2404653">&#39;!&#39;</span><span class="op" id="2404656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404659">p</span><span class="op" id="2404660">.</span><span class="ident" id="2404661">add</span><span class="op" id="2404664">(</span><span class="ident" id="2404665">verb</span><span class="op" id="2404669">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404672">p</span><span class="op" id="2404673">.</span><span class="ident" id="2404674">add</span><span class="op" id="2404677">(</span><span class="string" id="2404678">&#39;(&#39;</span><span class="op" id="2404681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404684">switch</span>&nbsp;<span class="op" id="2404691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404694">case</span>&nbsp;<span class="ident" id="2404699">p</span><span class="op" id="2404700">.</span><span class="ident" id="2404701">arg</span>&nbsp;<span class="op" id="2404705">!=</span>&nbsp;<span class="builtintype" id="2404708">nil</span><span class="op" id="2404711">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404715">p</span><span class="op" id="2404716">.</span><span class="ident" id="2404717">buf</span><span class="op" id="2404720">.</span><span class="ident" id="2404721">WriteString</span><span class="op" id="2404732">(</span><span class="ident" id="2404733">reflect</span><span class="op" id="2404740">.</span><span class="ident" id="2404741">TypeOf</span><span class="op" id="2404747">(</span><span class="ident" id="2404748">p</span><span class="op" id="2404749">.</span><span class="ident" id="2404750">arg</span><span class="op" id="2404753">)</span><span class="op" id="2404754">.</span><span class="ident" id="2404755">String</span><span class="op" id="2404761">(</span><span class="op" id="2404762">)</span><span class="op" id="2404763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404767">p</span><span class="op" id="2404768">.</span><span class="ident" id="2404769">add</span><span class="op" id="2404772">(</span><span class="string" id="2404773">&#39;=&#39;</span><span class="op" id="2404776">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404780">p</span><span class="op" id="2404781">.</span><span class="ident" id="2404782">printArg</span><span class="op" id="2404790">(</span><span class="ident" id="2404791">p</span><span class="op" id="2404792">.</span><span class="ident" id="2404793">arg</span><span class="op" id="2404796">,</span>&nbsp;<span class="string" id="2404798">&#39;v&#39;</span><span class="op" id="2404801">,</span>&nbsp;<span class="num" id="2404803">0</span><span class="op" id="2404804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404807">case</span>&nbsp;<span class="ident" id="2404812">p</span><span class="op" id="2404813">.</span><span class="ident" id="2404814">value</span><span class="op" id="2404819">.</span><span class="ident" id="2404820">IsValid</span><span class="op" id="2404827">(</span><span class="op" id="2404828">)</span><span class="op" id="2404829">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404833">p</span><span class="op" id="2404834">.</span><span class="ident" id="2404835">buf</span><span class="op" id="2404838">.</span><span class="ident" id="2404839">WriteString</span><span class="op" id="2404850">(</span><span class="ident" id="2404851">p</span><span class="op" id="2404852">.</span><span class="ident" id="2404853">value</span><span class="op" id="2404858">.</span><span class="ident" id="2404859">Type</span><span class="op" id="2404863">(</span><span class="op" id="2404864">)</span><span class="op" id="2404865">.</span><span class="ident" id="2404866">String</span><span class="op" id="2404872">(</span><span class="op" id="2404873">)</span><span class="op" id="2404874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404878">p</span><span class="op" id="2404879">.</span><span class="ident" id="2404880">add</span><span class="op" id="2404883">(</span><span class="string" id="2404884">&#39;=&#39;</span><span class="op" id="2404887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404891">p</span><span class="op" id="2404892">.</span><span class="ident" id="2404893">printValue</span><span class="op" id="2404903">(</span><span class="ident" id="2404904">p</span><span class="op" id="2404905">.</span><span class="ident" id="2404906">value</span><span class="op" id="2404911">,</span>&nbsp;<span class="string" id="2404913">&#39;v&#39;</span><span class="op" id="2404916">,</span>&nbsp;<span class="num" id="2404918">0</span><span class="op" id="2404919">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2404922">default</span><span class="op" id="2404929">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404933">p</span><span class="op" id="2404934">.</span><span class="ident" id="2404935">buf</span><span class="op" id="2404938">.</span><span class="ident" id="2404939">Write</span><span class="op" id="2404944">(</span><span class="ident" id="2404945">nilAngleBytes</span><span class="op" id="2404958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404964">p</span><span class="op" id="2404965">.</span><span class="ident" id="2404966">add</span><span class="op" id="2404969">(</span><span class="string" id="2404970">&#39;)&#39;</span><span class="op" id="2404973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2404976">p</span><span class="op" id="2404977">.</span><span class="ident" id="2404978">erroring</span>&nbsp;<span class="op" id="2404987">=</span>&nbsp;<span class="builtintype" id="2404989">false</span><br>
<span class="lineno">330</span><span class="op" id="2404995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2404998">func</span>&nbsp;<span class="op" id="2405003">(</span><span class="ident" id="2405004">p</span>&nbsp;<span class="op" id="2405006">*</span><span class="ident" id="2405007">pp</span><span class="op" id="2405009">)</span>&nbsp;<span class="ident" id="2405011">fmtBool</span><span class="op" id="2405018">(</span><span class="ident" id="2405019">v</span>&nbsp;<span class="builtintype" id="2405021">bool</span><span class="op" id="2405025">,</span>&nbsp;<span class="ident" id="2405027">verb</span>&nbsp;<span class="builtintype" id="2405032">rune</span><span class="op" id="2405036">)</span>&nbsp;<span class="op" id="2405038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405041">switch</span>&nbsp;<span class="ident" id="2405048">verb</span>&nbsp;<span class="op" id="2405053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405056">case</span>&nbsp;<span class="string" id="2405061">&#39;t&#39;</span><span class="op" id="2405064">,</span>&nbsp;<span class="string" id="2405066">&#39;v&#39;</span><span class="op" id="2405069">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405073">p</span><span class="op" id="2405074">.</span><span class="ident" id="2405075">fmt</span><span class="op" id="2405078">.</span><span class="ident" id="2405079">fmt_boolean</span><span class="op" id="2405090">(</span><span class="ident" id="2405091">v</span><span class="op" id="2405092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405095">default</span><span class="op" id="2405102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405106">p</span><span class="op" id="2405107">.</span><span class="ident" id="2405108">badVerb</span><span class="op" id="2405115">(</span><span class="ident" id="2405116">verb</span><span class="op" id="2405120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405123">}</span><br>
<span class="lineno"></span><span class="op" id="2405125">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="comment" id="2405128">//&nbsp;fmtC&nbsp;formats&nbsp;a&nbsp;rune&nbsp;for&nbsp;the&nbsp;&#39;c&#39;&nbsp;format.</span><br>
<span class="lineno"></span><span class="keyword" id="2405171">func</span>&nbsp;<span class="op" id="2405176">(</span><span class="ident" id="2405177">p</span>&nbsp;<span class="op" id="2405179">*</span><span class="ident" id="2405180">pp</span><span class="op" id="2405182">)</span>&nbsp;<span class="ident" id="2405184">fmtC</span><span class="op" id="2405188">(</span><span class="ident" id="2405189">c</span>&nbsp;<span class="builtintype" id="2405191">int64</span><span class="op" id="2405196">)</span>&nbsp;<span class="op" id="2405198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405201">r</span>&nbsp;<span class="op" id="2405203">:=</span>&nbsp;<span class="builtintype" id="2405206">rune</span><span class="op" id="2405210">(</span><span class="ident" id="2405211">c</span><span class="op" id="2405212">)</span>&nbsp;<span class="comment" id="2405214">//&nbsp;Check&nbsp;for&nbsp;overflow.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405238">if</span>&nbsp;<span class="builtintype" id="2405241">int64</span><span class="op" id="2405246">(</span><span class="ident" id="2405247">r</span><span class="op" id="2405248">)</span>&nbsp;<span class="op" id="2405250">!=</span>&nbsp;<span class="ident" id="2405253">c</span>&nbsp;<span class="op" id="2405255">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405259">r</span>&nbsp;<span class="op" id="2405261">=</span>&nbsp;<span class="ident" id="2405263">utf8</span><span class="op" id="2405267">.</span><span class="ident" id="2405268">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405282">w</span>&nbsp;<span class="op" id="2405284">:=</span>&nbsp;<span class="ident" id="2405287">utf8</span><span class="op" id="2405291">.</span><span class="ident" id="2405292">EncodeRune</span><span class="op" id="2405302">(</span><span class="ident" id="2405303">p</span><span class="op" id="2405304">.</span><span class="ident" id="2405305">runeBuf</span><span class="op" id="2405312">[</span><span class="num" id="2405313">0</span><span class="op" id="2405314">:</span><span class="ident" id="2405315">utf8</span><span class="op" id="2405319">.</span><span class="ident" id="2405320">UTFMax</span><span class="op" id="2405326">]</span><span class="op" id="2405327">,</span>&nbsp;<span class="ident" id="2405329">r</span><span class="op" id="2405330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405333">p</span><span class="op" id="2405334">.</span><span class="ident" id="2405335">fmt</span><span class="op" id="2405338">.</span><span class="ident" id="2405339">pad</span><span class="op" id="2405342">(</span><span class="ident" id="2405343">p</span><span class="op" id="2405344">.</span><span class="ident" id="2405345">runeBuf</span><span class="op" id="2405352">[</span><span class="num" id="2405353">0</span><span class="op" id="2405354">:</span><span class="ident" id="2405355">w</span><span class="op" id="2405356">]</span><span class="op" id="2405357">)</span><br>
<span class="lineno"></span><span class="op" id="2405359">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="2405362">func</span>&nbsp;<span class="op" id="2405367">(</span><span class="ident" id="2405368">p</span>&nbsp;<span class="op" id="2405370">*</span><span class="ident" id="2405371">pp</span><span class="op" id="2405373">)</span>&nbsp;<span class="ident" id="2405375">fmtInt64</span><span class="op" id="2405383">(</span><span class="ident" id="2405384">v</span>&nbsp;<span class="builtintype" id="2405386">int64</span><span class="op" id="2405391">,</span>&nbsp;<span class="ident" id="2405393">verb</span>&nbsp;<span class="builtintype" id="2405398">rune</span><span class="op" id="2405402">)</span>&nbsp;<span class="op" id="2405404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405407">switch</span>&nbsp;<span class="ident" id="2405414">verb</span>&nbsp;<span class="op" id="2405419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405422">case</span>&nbsp;<span class="string" id="2405427">&#39;b&#39;</span><span class="op" id="2405430">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405434">p</span><span class="op" id="2405435">.</span><span class="ident" id="2405436">fmt</span><span class="op" id="2405439">.</span><span class="ident" id="2405440">integer</span><span class="op" id="2405447">(</span><span class="ident" id="2405448">v</span><span class="op" id="2405449">,</span>&nbsp;<span class="num" id="2405451">2</span><span class="op" id="2405452">,</span>&nbsp;<span class="ident" id="2405454">signed</span><span class="op" id="2405460">,</span>&nbsp;<span class="ident" id="2405462">ldigits</span><span class="op" id="2405469">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405472">case</span>&nbsp;<span class="string" id="2405477">&#39;c&#39;</span><span class="op" id="2405480">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405484">p</span><span class="op" id="2405485">.</span><span class="ident" id="2405486">fmtC</span><span class="op" id="2405490">(</span><span class="ident" id="2405491">v</span><span class="op" id="2405492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405495">case</span>&nbsp;<span class="string" id="2405500">&#39;d&#39;</span><span class="op" id="2405503">,</span>&nbsp;<span class="string" id="2405505">&#39;v&#39;</span><span class="op" id="2405508">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405512">p</span><span class="op" id="2405513">.</span><span class="ident" id="2405514">fmt</span><span class="op" id="2405517">.</span><span class="ident" id="2405518">integer</span><span class="op" id="2405525">(</span><span class="ident" id="2405526">v</span><span class="op" id="2405527">,</span>&nbsp;<span class="num" id="2405529">10</span><span class="op" id="2405531">,</span>&nbsp;<span class="ident" id="2405533">signed</span><span class="op" id="2405539">,</span>&nbsp;<span class="ident" id="2405541">ldigits</span><span class="op" id="2405548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405551">case</span>&nbsp;<span class="string" id="2405556">&#39;o&#39;</span><span class="op" id="2405559">:</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405563">p</span><span class="op" id="2405564">.</span><span class="ident" id="2405565">fmt</span><span class="op" id="2405568">.</span><span class="ident" id="2405569">integer</span><span class="op" id="2405576">(</span><span class="ident" id="2405577">v</span><span class="op" id="2405578">,</span>&nbsp;<span class="num" id="2405580">8</span><span class="op" id="2405581">,</span>&nbsp;<span class="ident" id="2405583">signed</span><span class="op" id="2405589">,</span>&nbsp;<span class="ident" id="2405591">ldigits</span><span class="op" id="2405598">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405601">case</span>&nbsp;<span class="string" id="2405606">&#39;q&#39;</span><span class="op" id="2405609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405613">if</span>&nbsp;<span class="num" id="2405616">0</span>&nbsp;<span class="op" id="2405618">&lt;=</span>&nbsp;<span class="ident" id="2405621">v</span>&nbsp;<span class="op" id="2405623">&amp;&amp;</span>&nbsp;<span class="ident" id="2405626">v</span>&nbsp;<span class="op" id="2405628">&lt;=</span>&nbsp;<span class="ident" id="2405631">utf8</span><span class="op" id="2405635">.</span><span class="ident" id="2405636">MaxRune</span>&nbsp;<span class="op" id="2405644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405649">p</span><span class="op" id="2405650">.</span><span class="ident" id="2405651">fmt</span><span class="op" id="2405654">.</span><span class="ident" id="2405655">fmt_qc</span><span class="op" id="2405661">(</span><span class="ident" id="2405662">v</span><span class="op" id="2405663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405667">}</span>&nbsp;<span class="keyword" id="2405669">else</span>&nbsp;<span class="op" id="2405674">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405679">p</span><span class="op" id="2405680">.</span><span class="ident" id="2405681">badVerb</span><span class="op" id="2405688">(</span><span class="ident" id="2405689">verb</span><span class="op" id="2405693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405700">case</span>&nbsp;<span class="string" id="2405705">&#39;x&#39;</span><span class="op" id="2405708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405712">p</span><span class="op" id="2405713">.</span><span class="ident" id="2405714">fmt</span><span class="op" id="2405717">.</span><span class="ident" id="2405718">integer</span><span class="op" id="2405725">(</span><span class="ident" id="2405726">v</span><span class="op" id="2405727">,</span>&nbsp;<span class="num" id="2405729">16</span><span class="op" id="2405731">,</span>&nbsp;<span class="ident" id="2405733">signed</span><span class="op" id="2405739">,</span>&nbsp;<span class="ident" id="2405741">ldigits</span><span class="op" id="2405748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405751">case</span>&nbsp;<span class="string" id="2405756">&#39;U&#39;</span><span class="op" id="2405759">:</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405763">p</span><span class="op" id="2405764">.</span><span class="ident" id="2405765">fmtUnicode</span><span class="op" id="2405775">(</span><span class="ident" id="2405776">v</span><span class="op" id="2405777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405780">case</span>&nbsp;<span class="string" id="2405785">&#39;X&#39;</span><span class="op" id="2405788">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405792">p</span><span class="op" id="2405793">.</span><span class="ident" id="2405794">fmt</span><span class="op" id="2405797">.</span><span class="ident" id="2405798">integer</span><span class="op" id="2405805">(</span><span class="ident" id="2405806">v</span><span class="op" id="2405807">,</span>&nbsp;<span class="num" id="2405809">16</span><span class="op" id="2405811">,</span>&nbsp;<span class="ident" id="2405813">signed</span><span class="op" id="2405819">,</span>&nbsp;<span class="ident" id="2405821">udigits</span><span class="op" id="2405828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2405831">default</span><span class="op" id="2405838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2405842">p</span><span class="op" id="2405843">.</span><span class="ident" id="2405844">badVerb</span><span class="op" id="2405851">(</span><span class="ident" id="2405852">verb</span><span class="op" id="2405856">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405859">}</span><br>
<span class="lineno"></span><span class="op" id="2405861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2405864">//&nbsp;fmt0x64&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;hexadecimal&nbsp;and&nbsp;prefixes&nbsp;it&nbsp;with&nbsp;0x&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="2405934">//&nbsp;not,&nbsp;as&nbsp;requested,&nbsp;by&nbsp;temporarily&nbsp;setting&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno">380</span><span class="keyword" id="2405995">func</span>&nbsp;<span class="op" id="2406000">(</span><span class="ident" id="2406001">p</span>&nbsp;<span class="op" id="2406003">*</span><span class="ident" id="2406004">pp</span><span class="op" id="2406006">)</span>&nbsp;<span class="ident" id="2406008">fmt0x64</span><span class="op" id="2406015">(</span><span class="ident" id="2406016">v</span>&nbsp;<span class="builtintype" id="2406018">uint64</span><span class="op" id="2406024">,</span>&nbsp;<span class="ident" id="2406026">leading0x</span>&nbsp;<span class="builtintype" id="2406036">bool</span><span class="op" id="2406040">)</span>&nbsp;<span class="op" id="2406042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406045">sharp</span>&nbsp;<span class="op" id="2406051">:=</span>&nbsp;<span class="ident" id="2406054">p</span><span class="op" id="2406055">.</span><span class="ident" id="2406056">fmt</span><span class="op" id="2406059">.</span><span class="ident" id="2406060">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406067">p</span><span class="op" id="2406068">.</span><span class="ident" id="2406069">fmt</span><span class="op" id="2406072">.</span><span class="ident" id="2406073">sharp</span>&nbsp;<span class="op" id="2406079">=</span>&nbsp;<span class="ident" id="2406081">leading0x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406092">p</span><span class="op" id="2406093">.</span><span class="ident" id="2406094">fmt</span><span class="op" id="2406097">.</span><span class="ident" id="2406098">integer</span><span class="op" id="2406105">(</span><span class="builtintype" id="2406106">int64</span><span class="op" id="2406111">(</span><span class="ident" id="2406112">v</span><span class="op" id="2406113">)</span><span class="op" id="2406114">,</span>&nbsp;<span class="num" id="2406116">16</span><span class="op" id="2406118">,</span>&nbsp;<span class="ident" id="2406120">unsigned</span><span class="op" id="2406128">,</span>&nbsp;<span class="ident" id="2406130">ldigits</span><span class="op" id="2406137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406140">p</span><span class="op" id="2406141">.</span><span class="ident" id="2406142">fmt</span><span class="op" id="2406145">.</span><span class="ident" id="2406146">sharp</span>&nbsp;<span class="op" id="2406152">=</span>&nbsp;<span class="ident" id="2406154">sharp</span><br>
<span class="lineno">385</span><span class="op" id="2406160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2406163">//&nbsp;fmtUnicode&nbsp;formats&nbsp;a&nbsp;uint64&nbsp;in&nbsp;U+1234&nbsp;form&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2406212">//&nbsp;temporarily&nbsp;turning&nbsp;on&nbsp;the&nbsp;unicode&nbsp;flag&nbsp;and&nbsp;tweaking&nbsp;the&nbsp;precision.</span><br>
<span class="lineno"></span><span class="keyword" id="2406283">func</span>&nbsp;<span class="op" id="2406288">(</span><span class="ident" id="2406289">p</span>&nbsp;<span class="op" id="2406291">*</span><span class="ident" id="2406292">pp</span><span class="op" id="2406294">)</span>&nbsp;<span class="ident" id="2406296">fmtUnicode</span><span class="op" id="2406306">(</span><span class="ident" id="2406307">v</span>&nbsp;<span class="builtintype" id="2406309">int64</span><span class="op" id="2406314">)</span>&nbsp;<span class="op" id="2406316">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406319">precPresent</span>&nbsp;<span class="op" id="2406331">:=</span>&nbsp;<span class="ident" id="2406334">p</span><span class="op" id="2406335">.</span><span class="ident" id="2406336">fmt</span><span class="op" id="2406339">.</span><span class="ident" id="2406340">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406353">sharp</span>&nbsp;<span class="op" id="2406359">:=</span>&nbsp;<span class="ident" id="2406362">p</span><span class="op" id="2406363">.</span><span class="ident" id="2406364">fmt</span><span class="op" id="2406367">.</span><span class="ident" id="2406368">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406375">p</span><span class="op" id="2406376">.</span><span class="ident" id="2406377">fmt</span><span class="op" id="2406380">.</span><span class="ident" id="2406381">sharp</span>&nbsp;<span class="op" id="2406387">=</span>&nbsp;<span class="builtintype" id="2406389">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406396">prec</span>&nbsp;<span class="op" id="2406401">:=</span>&nbsp;<span class="ident" id="2406404">p</span><span class="op" id="2406405">.</span><span class="ident" id="2406406">fmt</span><span class="op" id="2406409">.</span><span class="ident" id="2406410">prec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2406416">if</span>&nbsp;<span class="op" id="2406419">!</span><span class="ident" id="2406420">precPresent</span>&nbsp;<span class="op" id="2406432">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2406436">//&nbsp;If&nbsp;prec&nbsp;is&nbsp;already&nbsp;set,&nbsp;leave&nbsp;it&nbsp;alone;&nbsp;otherwise&nbsp;4&nbsp;is&nbsp;minimum.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406505">p</span><span class="op" id="2406506">.</span><span class="ident" id="2406507">fmt</span><span class="op" id="2406510">.</span><span class="ident" id="2406511">prec</span>&nbsp;<span class="op" id="2406516">=</span>&nbsp;<span class="num" id="2406518">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406522">p</span><span class="op" id="2406523">.</span><span class="ident" id="2406524">fmt</span><span class="op" id="2406527">.</span><span class="ident" id="2406528">precPresent</span>&nbsp;<span class="op" id="2406540">=</span>&nbsp;<span class="builtintype" id="2406542">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2406548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406551">p</span><span class="op" id="2406552">.</span><span class="ident" id="2406553">fmt</span><span class="op" id="2406556">.</span><span class="ident" id="2406557">unicode</span>&nbsp;<span class="op" id="2406565">=</span>&nbsp;<span class="builtintype" id="2406567">true</span>&nbsp;<span class="comment" id="2406572">//&nbsp;turn&nbsp;on&nbsp;U+</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406587">p</span><span class="op" id="2406588">.</span><span class="ident" id="2406589">fmt</span><span class="op" id="2406592">.</span><span class="ident" id="2406593">uniQuote</span>&nbsp;<span class="op" id="2406602">=</span>&nbsp;<span class="ident" id="2406604">sharp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406611">p</span><span class="op" id="2406612">.</span><span class="ident" id="2406613">fmt</span><span class="op" id="2406616">.</span><span class="ident" id="2406617">integer</span><span class="op" id="2406624">(</span><span class="builtintype" id="2406625">int64</span><span class="op" id="2406630">(</span><span class="ident" id="2406631">v</span><span class="op" id="2406632">)</span><span class="op" id="2406633">,</span>&nbsp;<span class="num" id="2406635">16</span><span class="op" id="2406637">,</span>&nbsp;<span class="ident" id="2406639">unsigned</span><span class="op" id="2406647">,</span>&nbsp;<span class="ident" id="2406649">udigits</span><span class="op" id="2406656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406659">p</span><span class="op" id="2406660">.</span><span class="ident" id="2406661">fmt</span><span class="op" id="2406664">.</span><span class="ident" id="2406665">unicode</span>&nbsp;<span class="op" id="2406673">=</span>&nbsp;<span class="builtintype" id="2406675">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406682">p</span><span class="op" id="2406683">.</span><span class="ident" id="2406684">fmt</span><span class="op" id="2406687">.</span><span class="ident" id="2406688">uniQuote</span>&nbsp;<span class="op" id="2406697">=</span>&nbsp;<span class="builtintype" id="2406699">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406706">p</span><span class="op" id="2406707">.</span><span class="ident" id="2406708">fmt</span><span class="op" id="2406711">.</span><span class="ident" id="2406712">prec</span>&nbsp;<span class="op" id="2406717">=</span>&nbsp;<span class="ident" id="2406719">prec</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406725">p</span><span class="op" id="2406726">.</span><span class="ident" id="2406727">fmt</span><span class="op" id="2406730">.</span><span class="ident" id="2406731">precPresent</span>&nbsp;<span class="op" id="2406743">=</span>&nbsp;<span class="ident" id="2406745">precPresent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406758">p</span><span class="op" id="2406759">.</span><span class="ident" id="2406760">fmt</span><span class="op" id="2406763">.</span><span class="ident" id="2406764">sharp</span>&nbsp;<span class="op" id="2406770">=</span>&nbsp;<span class="ident" id="2406772">sharp</span><br>
<span class="lineno"></span><span class="op" id="2406778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2406781">func</span>&nbsp;<span class="op" id="2406786">(</span><span class="ident" id="2406787">p</span>&nbsp;<span class="op" id="2406789">*</span><span class="ident" id="2406790">pp</span><span class="op" id="2406792">)</span>&nbsp;<span class="ident" id="2406794">fmtUint64</span><span class="op" id="2406803">(</span><span class="ident" id="2406804">v</span>&nbsp;<span class="builtintype" id="2406806">uint64</span><span class="op" id="2406812">,</span>&nbsp;<span class="ident" id="2406814">verb</span>&nbsp;<span class="builtintype" id="2406819">rune</span><span class="op" id="2406823">)</span>&nbsp;<span class="op" id="2406825">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2406828">switch</span>&nbsp;<span class="ident" id="2406835">verb</span>&nbsp;<span class="op" id="2406840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2406843">case</span>&nbsp;<span class="string" id="2406848">&#39;b&#39;</span><span class="op" id="2406851">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406855">p</span><span class="op" id="2406856">.</span><span class="ident" id="2406857">fmt</span><span class="op" id="2406860">.</span><span class="ident" id="2406861">integer</span><span class="op" id="2406868">(</span><span class="builtintype" id="2406869">int64</span><span class="op" id="2406874">(</span><span class="ident" id="2406875">v</span><span class="op" id="2406876">)</span><span class="op" id="2406877">,</span>&nbsp;<span class="num" id="2406879">2</span><span class="op" id="2406880">,</span>&nbsp;<span class="ident" id="2406882">unsigned</span><span class="op" id="2406890">,</span>&nbsp;<span class="ident" id="2406892">ldigits</span><span class="op" id="2406899">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2406902">case</span>&nbsp;<span class="string" id="2406907">&#39;c&#39;</span><span class="op" id="2406910">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406914">p</span><span class="op" id="2406915">.</span><span class="ident" id="2406916">fmtC</span><span class="op" id="2406920">(</span><span class="builtintype" id="2406921">int64</span><span class="op" id="2406926">(</span><span class="ident" id="2406927">v</span><span class="op" id="2406928">)</span><span class="op" id="2406929">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2406932">case</span>&nbsp;<span class="string" id="2406937">&#39;d&#39;</span><span class="op" id="2406940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2406944">p</span><span class="op" id="2406945">.</span><span class="ident" id="2406946">fmt</span><span class="op" id="2406949">.</span><span class="ident" id="2406950">integer</span><span class="op" id="2406957">(</span><span class="builtintype" id="2406958">int64</span><span class="op" id="2406963">(</span><span class="ident" id="2406964">v</span><span class="op" id="2406965">)</span><span class="op" id="2406966">,</span>&nbsp;<span class="num" id="2406968">10</span><span class="op" id="2406970">,</span>&nbsp;<span class="ident" id="2406972">unsigned</span><span class="op" id="2406980">,</span>&nbsp;<span class="ident" id="2406982">ldigits</span><span class="op" id="2406989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2406992">case</span>&nbsp;<span class="string" id="2406997">&#39;v&#39;</span><span class="op" id="2407000">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407004">if</span>&nbsp;<span class="ident" id="2407007">p</span><span class="op" id="2407008">.</span><span class="ident" id="2407009">fmt</span><span class="op" id="2407012">.</span><span class="ident" id="2407013">sharpV</span>&nbsp;<span class="op" id="2407020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407025">p</span><span class="op" id="2407026">.</span><span class="ident" id="2407027">fmt0x64</span><span class="op" id="2407034">(</span><span class="ident" id="2407035">v</span><span class="op" id="2407036">,</span>&nbsp;<span class="builtintype" id="2407038">true</span><span class="op" id="2407042">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2407046">}</span>&nbsp;<span class="keyword" id="2407048">else</span>&nbsp;<span class="op" id="2407053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407058">p</span><span class="op" id="2407059">.</span><span class="ident" id="2407060">fmt</span><span class="op" id="2407063">.</span><span class="ident" id="2407064">integer</span><span class="op" id="2407071">(</span><span class="builtintype" id="2407072">int64</span><span class="op" id="2407077">(</span><span class="ident" id="2407078">v</span><span class="op" id="2407079">)</span><span class="op" id="2407080">,</span>&nbsp;<span class="num" id="2407082">10</span><span class="op" id="2407084">,</span>&nbsp;<span class="ident" id="2407086">unsigned</span><span class="op" id="2407094">,</span>&nbsp;<span class="ident" id="2407096">ldigits</span><span class="op" id="2407103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2407107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407110">case</span>&nbsp;<span class="string" id="2407115">&#39;o&#39;</span><span class="op" id="2407118">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407122">p</span><span class="op" id="2407123">.</span><span class="ident" id="2407124">fmt</span><span class="op" id="2407127">.</span><span class="ident" id="2407128">integer</span><span class="op" id="2407135">(</span><span class="builtintype" id="2407136">int64</span><span class="op" id="2407141">(</span><span class="ident" id="2407142">v</span><span class="op" id="2407143">)</span><span class="op" id="2407144">,</span>&nbsp;<span class="num" id="2407146">8</span><span class="op" id="2407147">,</span>&nbsp;<span class="ident" id="2407149">unsigned</span><span class="op" id="2407157">,</span>&nbsp;<span class="ident" id="2407159">ldigits</span><span class="op" id="2407166">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407169">case</span>&nbsp;<span class="string" id="2407174">&#39;q&#39;</span><span class="op" id="2407177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407181">if</span>&nbsp;<span class="num" id="2407184">0</span>&nbsp;<span class="op" id="2407186">&lt;=</span>&nbsp;<span class="ident" id="2407189">v</span>&nbsp;<span class="op" id="2407191">&amp;&amp;</span>&nbsp;<span class="ident" id="2407194">v</span>&nbsp;<span class="op" id="2407196">&lt;=</span>&nbsp;<span class="ident" id="2407199">utf8</span><span class="op" id="2407203">.</span><span class="ident" id="2407204">MaxRune</span>&nbsp;<span class="op" id="2407212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407217">p</span><span class="op" id="2407218">.</span><span class="ident" id="2407219">fmt</span><span class="op" id="2407222">.</span><span class="ident" id="2407223">fmt_qc</span><span class="op" id="2407229">(</span><span class="builtintype" id="2407230">int64</span><span class="op" id="2407235">(</span><span class="ident" id="2407236">v</span><span class="op" id="2407237">)</span><span class="op" id="2407238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2407242">}</span>&nbsp;<span class="keyword" id="2407244">else</span>&nbsp;<span class="op" id="2407249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407254">p</span><span class="op" id="2407255">.</span><span class="ident" id="2407256">badVerb</span><span class="op" id="2407263">(</span><span class="ident" id="2407264">verb</span><span class="op" id="2407268">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2407272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407275">case</span>&nbsp;<span class="string" id="2407280">&#39;x&#39;</span><span class="op" id="2407283">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407287">p</span><span class="op" id="2407288">.</span><span class="ident" id="2407289">fmt</span><span class="op" id="2407292">.</span><span class="ident" id="2407293">integer</span><span class="op" id="2407300">(</span><span class="builtintype" id="2407301">int64</span><span class="op" id="2407306">(</span><span class="ident" id="2407307">v</span><span class="op" id="2407308">)</span><span class="op" id="2407309">,</span>&nbsp;<span class="num" id="2407311">16</span><span class="op" id="2407313">,</span>&nbsp;<span class="ident" id="2407315">unsigned</span><span class="op" id="2407323">,</span>&nbsp;<span class="ident" id="2407325">ldigits</span><span class="op" id="2407332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407335">case</span>&nbsp;<span class="string" id="2407340">&#39;X&#39;</span><span class="op" id="2407343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407347">p</span><span class="op" id="2407348">.</span><span class="ident" id="2407349">fmt</span><span class="op" id="2407352">.</span><span class="ident" id="2407353">integer</span><span class="op" id="2407360">(</span><span class="builtintype" id="2407361">int64</span><span class="op" id="2407366">(</span><span class="ident" id="2407367">v</span><span class="op" id="2407368">)</span><span class="op" id="2407369">,</span>&nbsp;<span class="num" id="2407371">16</span><span class="op" id="2407373">,</span>&nbsp;<span class="ident" id="2407375">unsigned</span><span class="op" id="2407383">,</span>&nbsp;<span class="ident" id="2407385">udigits</span><span class="op" id="2407392">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407395">case</span>&nbsp;<span class="string" id="2407400">&#39;U&#39;</span><span class="op" id="2407403">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407407">p</span><span class="op" id="2407408">.</span><span class="ident" id="2407409">fmtUnicode</span><span class="op" id="2407419">(</span><span class="builtintype" id="2407420">int64</span><span class="op" id="2407425">(</span><span class="ident" id="2407426">v</span><span class="op" id="2407427">)</span><span class="op" id="2407428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407431">default</span><span class="op" id="2407438">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407442">p</span><span class="op" id="2407443">.</span><span class="ident" id="2407444">badVerb</span><span class="op" id="2407451">(</span><span class="ident" id="2407452">verb</span><span class="op" id="2407456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2407459">}</span><br>
<span class="lineno">440</span><span class="op" id="2407461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2407464">func</span>&nbsp;<span class="op" id="2407469">(</span><span class="ident" id="2407470">p</span>&nbsp;<span class="op" id="2407472">*</span><span class="ident" id="2407473">pp</span><span class="op" id="2407475">)</span>&nbsp;<span class="ident" id="2407477">fmtFloat32</span><span class="op" id="2407487">(</span><span class="ident" id="2407488">v</span>&nbsp;<span class="builtintype" id="2407490">float32</span><span class="op" id="2407497">,</span>&nbsp;<span class="ident" id="2407499">verb</span>&nbsp;<span class="builtintype" id="2407504">rune</span><span class="op" id="2407508">)</span>&nbsp;<span class="op" id="2407510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407513">switch</span>&nbsp;<span class="ident" id="2407520">verb</span>&nbsp;<span class="op" id="2407525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407528">case</span>&nbsp;<span class="string" id="2407533">&#39;b&#39;</span><span class="op" id="2407536">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407540">p</span><span class="op" id="2407541">.</span><span class="ident" id="2407542">fmt</span><span class="op" id="2407545">.</span><span class="ident" id="2407546">fmt_fb32</span><span class="op" id="2407554">(</span><span class="ident" id="2407555">v</span><span class="op" id="2407556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407559">case</span>&nbsp;<span class="string" id="2407564">&#39;e&#39;</span><span class="op" id="2407567">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407571">p</span><span class="op" id="2407572">.</span><span class="ident" id="2407573">fmt</span><span class="op" id="2407576">.</span><span class="ident" id="2407577">fmt_e32</span><span class="op" id="2407584">(</span><span class="ident" id="2407585">v</span><span class="op" id="2407586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407589">case</span>&nbsp;<span class="string" id="2407594">&#39;E&#39;</span><span class="op" id="2407597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407601">p</span><span class="op" id="2407602">.</span><span class="ident" id="2407603">fmt</span><span class="op" id="2407606">.</span><span class="ident" id="2407607">fmt_E32</span><span class="op" id="2407614">(</span><span class="ident" id="2407615">v</span><span class="op" id="2407616">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407619">case</span>&nbsp;<span class="string" id="2407624">&#39;f&#39;</span><span class="op" id="2407627">,</span>&nbsp;<span class="string" id="2407629">&#39;F&#39;</span><span class="op" id="2407632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407636">p</span><span class="op" id="2407637">.</span><span class="ident" id="2407638">fmt</span><span class="op" id="2407641">.</span><span class="ident" id="2407642">fmt_f32</span><span class="op" id="2407649">(</span><span class="ident" id="2407650">v</span><span class="op" id="2407651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407654">case</span>&nbsp;<span class="string" id="2407659">&#39;g&#39;</span><span class="op" id="2407662">,</span>&nbsp;<span class="string" id="2407664">&#39;v&#39;</span><span class="op" id="2407667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407671">p</span><span class="op" id="2407672">.</span><span class="ident" id="2407673">fmt</span><span class="op" id="2407676">.</span><span class="ident" id="2407677">fmt_g32</span><span class="op" id="2407684">(</span><span class="ident" id="2407685">v</span><span class="op" id="2407686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407689">case</span>&nbsp;<span class="string" id="2407694">&#39;G&#39;</span><span class="op" id="2407697">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407701">p</span><span class="op" id="2407702">.</span><span class="ident" id="2407703">fmt</span><span class="op" id="2407706">.</span><span class="ident" id="2407707">fmt_G32</span><span class="op" id="2407714">(</span><span class="ident" id="2407715">v</span><span class="op" id="2407716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407719">default</span><span class="op" id="2407726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407730">p</span><span class="op" id="2407731">.</span><span class="ident" id="2407732">badVerb</span><span class="op" id="2407739">(</span><span class="ident" id="2407740">verb</span><span class="op" id="2407744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2407747">}</span><br>
<span class="lineno"></span><span class="op" id="2407749">}</span><br>
<span class="lineno">460</span><br>
<span class="lineno"></span><span class="keyword" id="2407752">func</span>&nbsp;<span class="op" id="2407757">(</span><span class="ident" id="2407758">p</span>&nbsp;<span class="op" id="2407760">*</span><span class="ident" id="2407761">pp</span><span class="op" id="2407763">)</span>&nbsp;<span class="ident" id="2407765">fmtFloat64</span><span class="op" id="2407775">(</span><span class="ident" id="2407776">v</span>&nbsp;<span class="builtintype" id="2407778">float64</span><span class="op" id="2407785">,</span>&nbsp;<span class="ident" id="2407787">verb</span>&nbsp;<span class="builtintype" id="2407792">rune</span><span class="op" id="2407796">)</span>&nbsp;<span class="op" id="2407798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407801">switch</span>&nbsp;<span class="ident" id="2407808">verb</span>&nbsp;<span class="op" id="2407813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407816">case</span>&nbsp;<span class="string" id="2407821">&#39;b&#39;</span><span class="op" id="2407824">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407828">p</span><span class="op" id="2407829">.</span><span class="ident" id="2407830">fmt</span><span class="op" id="2407833">.</span><span class="ident" id="2407834">fmt_fb64</span><span class="op" id="2407842">(</span><span class="ident" id="2407843">v</span><span class="op" id="2407844">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407847">case</span>&nbsp;<span class="string" id="2407852">&#39;e&#39;</span><span class="op" id="2407855">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407859">p</span><span class="op" id="2407860">.</span><span class="ident" id="2407861">fmt</span><span class="op" id="2407864">.</span><span class="ident" id="2407865">fmt_e64</span><span class="op" id="2407872">(</span><span class="ident" id="2407873">v</span><span class="op" id="2407874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407877">case</span>&nbsp;<span class="string" id="2407882">&#39;E&#39;</span><span class="op" id="2407885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407889">p</span><span class="op" id="2407890">.</span><span class="ident" id="2407891">fmt</span><span class="op" id="2407894">.</span><span class="ident" id="2407895">fmt_E64</span><span class="op" id="2407902">(</span><span class="ident" id="2407903">v</span><span class="op" id="2407904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407907">case</span>&nbsp;<span class="string" id="2407912">&#39;f&#39;</span><span class="op" id="2407915">,</span>&nbsp;<span class="string" id="2407917">&#39;F&#39;</span><span class="op" id="2407920">:</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407924">p</span><span class="op" id="2407925">.</span><span class="ident" id="2407926">fmt</span><span class="op" id="2407929">.</span><span class="ident" id="2407930">fmt_f64</span><span class="op" id="2407937">(</span><span class="ident" id="2407938">v</span><span class="op" id="2407939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407942">case</span>&nbsp;<span class="string" id="2407947">&#39;g&#39;</span><span class="op" id="2407950">,</span>&nbsp;<span class="string" id="2407952">&#39;v&#39;</span><span class="op" id="2407955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407959">p</span><span class="op" id="2407960">.</span><span class="ident" id="2407961">fmt</span><span class="op" id="2407964">.</span><span class="ident" id="2407965">fmt_g64</span><span class="op" id="2407972">(</span><span class="ident" id="2407973">v</span><span class="op" id="2407974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2407977">case</span>&nbsp;<span class="string" id="2407982">&#39;G&#39;</span><span class="op" id="2407985">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2407989">p</span><span class="op" id="2407990">.</span><span class="ident" id="2407991">fmt</span><span class="op" id="2407994">.</span><span class="ident" id="2407995">fmt_G64</span><span class="op" id="2408002">(</span><span class="ident" id="2408003">v</span><span class="op" id="2408004">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408007">default</span><span class="op" id="2408014">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408018">p</span><span class="op" id="2408019">.</span><span class="ident" id="2408020">badVerb</span><span class="op" id="2408027">(</span><span class="ident" id="2408028">verb</span><span class="op" id="2408032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2408035">}</span><br>
<span class="lineno"></span><span class="op" id="2408037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">480</span><span class="keyword" id="2408040">func</span>&nbsp;<span class="op" id="2408045">(</span><span class="ident" id="2408046">p</span>&nbsp;<span class="op" id="2408048">*</span><span class="ident" id="2408049">pp</span><span class="op" id="2408051">)</span>&nbsp;<span class="ident" id="2408053">fmtComplex64</span><span class="op" id="2408065">(</span><span class="ident" id="2408066">v</span>&nbsp;<span class="builtintype" id="2408068">complex64</span><span class="op" id="2408077">,</span>&nbsp;<span class="ident" id="2408079">verb</span>&nbsp;<span class="builtintype" id="2408084">rune</span><span class="op" id="2408088">)</span>&nbsp;<span class="op" id="2408090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408093">switch</span>&nbsp;<span class="ident" id="2408100">verb</span>&nbsp;<span class="op" id="2408105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408108">case</span>&nbsp;<span class="string" id="2408113">&#39;b&#39;</span><span class="op" id="2408116">,</span>&nbsp;<span class="string" id="2408118">&#39;e&#39;</span><span class="op" id="2408121">,</span>&nbsp;<span class="string" id="2408123">&#39;E&#39;</span><span class="op" id="2408126">,</span>&nbsp;<span class="string" id="2408128">&#39;f&#39;</span><span class="op" id="2408131">,</span>&nbsp;<span class="string" id="2408133">&#39;F&#39;</span><span class="op" id="2408136">,</span>&nbsp;<span class="string" id="2408138">&#39;g&#39;</span><span class="op" id="2408141">,</span>&nbsp;<span class="string" id="2408143">&#39;G&#39;</span><span class="op" id="2408146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408150">p</span><span class="op" id="2408151">.</span><span class="ident" id="2408152">fmt</span><span class="op" id="2408155">.</span><span class="ident" id="2408156">fmt_c64</span><span class="op" id="2408163">(</span><span class="ident" id="2408164">v</span><span class="op" id="2408165">,</span>&nbsp;<span class="ident" id="2408167">verb</span><span class="op" id="2408171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408174">case</span>&nbsp;<span class="string" id="2408179">&#39;v&#39;</span><span class="op" id="2408182">:</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408186">p</span><span class="op" id="2408187">.</span><span class="ident" id="2408188">fmt</span><span class="op" id="2408191">.</span><span class="ident" id="2408192">fmt_c64</span><span class="op" id="2408199">(</span><span class="ident" id="2408200">v</span><span class="op" id="2408201">,</span>&nbsp;<span class="string" id="2408203">&#39;g&#39;</span><span class="op" id="2408206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408209">default</span><span class="op" id="2408216">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408220">p</span><span class="op" id="2408221">.</span><span class="ident" id="2408222">badVerb</span><span class="op" id="2408229">(</span><span class="ident" id="2408230">verb</span><span class="op" id="2408234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2408237">}</span><br>
<span class="lineno"></span><span class="op" id="2408239">}</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span><span class="keyword" id="2408242">func</span>&nbsp;<span class="op" id="2408247">(</span><span class="ident" id="2408248">p</span>&nbsp;<span class="op" id="2408250">*</span><span class="ident" id="2408251">pp</span><span class="op" id="2408253">)</span>&nbsp;<span class="ident" id="2408255">fmtComplex128</span><span class="op" id="2408268">(</span><span class="ident" id="2408269">v</span>&nbsp;<span class="builtintype" id="2408271">complex128</span><span class="op" id="2408281">,</span>&nbsp;<span class="ident" id="2408283">verb</span>&nbsp;<span class="builtintype" id="2408288">rune</span><span class="op" id="2408292">)</span>&nbsp;<span class="op" id="2408294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408297">switch</span>&nbsp;<span class="ident" id="2408304">verb</span>&nbsp;<span class="op" id="2408309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408312">case</span>&nbsp;<span class="string" id="2408317">&#39;b&#39;</span><span class="op" id="2408320">,</span>&nbsp;<span class="string" id="2408322">&#39;e&#39;</span><span class="op" id="2408325">,</span>&nbsp;<span class="string" id="2408327">&#39;E&#39;</span><span class="op" id="2408330">,</span>&nbsp;<span class="string" id="2408332">&#39;f&#39;</span><span class="op" id="2408335">,</span>&nbsp;<span class="string" id="2408337">&#39;F&#39;</span><span class="op" id="2408340">,</span>&nbsp;<span class="string" id="2408342">&#39;g&#39;</span><span class="op" id="2408345">,</span>&nbsp;<span class="string" id="2408347">&#39;G&#39;</span><span class="op" id="2408350">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408354">p</span><span class="op" id="2408355">.</span><span class="ident" id="2408356">fmt</span><span class="op" id="2408359">.</span><span class="ident" id="2408360">fmt_c128</span><span class="op" id="2408368">(</span><span class="ident" id="2408369">v</span><span class="op" id="2408370">,</span>&nbsp;<span class="ident" id="2408372">verb</span><span class="op" id="2408376">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408379">case</span>&nbsp;<span class="string" id="2408384">&#39;v&#39;</span><span class="op" id="2408387">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408391">p</span><span class="op" id="2408392">.</span><span class="ident" id="2408393">fmt</span><span class="op" id="2408396">.</span><span class="ident" id="2408397">fmt_c128</span><span class="op" id="2408405">(</span><span class="ident" id="2408406">v</span><span class="op" id="2408407">,</span>&nbsp;<span class="string" id="2408409">&#39;g&#39;</span><span class="op" id="2408412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408415">default</span><span class="op" id="2408422">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408426">p</span><span class="op" id="2408427">.</span><span class="ident" id="2408428">badVerb</span><span class="op" id="2408435">(</span><span class="ident" id="2408436">verb</span><span class="op" id="2408440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2408443">}</span><br>
<span class="lineno">500</span><span class="op" id="2408445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408448">func</span>&nbsp;<span class="op" id="2408453">(</span><span class="ident" id="2408454">p</span>&nbsp;<span class="op" id="2408456">*</span><span class="ident" id="2408457">pp</span><span class="op" id="2408459">)</span>&nbsp;<span class="ident" id="2408461">fmtString</span><span class="op" id="2408470">(</span><span class="ident" id="2408471">v</span>&nbsp;<span class="builtintype" id="2408473">string</span><span class="op" id="2408479">,</span>&nbsp;<span class="ident" id="2408481">verb</span>&nbsp;<span class="builtintype" id="2408486">rune</span><span class="op" id="2408490">)</span>&nbsp;<span class="op" id="2408492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408495">switch</span>&nbsp;<span class="ident" id="2408502">verb</span>&nbsp;<span class="op" id="2408507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408510">case</span>&nbsp;<span class="string" id="2408515">&#39;v&#39;</span><span class="op" id="2408518">:</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408522">if</span>&nbsp;<span class="ident" id="2408525">p</span><span class="op" id="2408526">.</span><span class="ident" id="2408527">fmt</span><span class="op" id="2408530">.</span><span class="ident" id="2408531">sharpV</span>&nbsp;<span class="op" id="2408538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408543">p</span><span class="op" id="2408544">.</span><span class="ident" id="2408545">fmt</span><span class="op" id="2408548">.</span><span class="ident" id="2408549">fmt_q</span><span class="op" id="2408554">(</span><span class="ident" id="2408555">v</span><span class="op" id="2408556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2408560">}</span>&nbsp;<span class="keyword" id="2408562">else</span>&nbsp;<span class="op" id="2408567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408572">p</span><span class="op" id="2408573">.</span><span class="ident" id="2408574">fmt</span><span class="op" id="2408577">.</span><span class="ident" id="2408578">fmt_s</span><span class="op" id="2408583">(</span><span class="ident" id="2408584">v</span><span class="op" id="2408585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2408589">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408592">case</span>&nbsp;<span class="string" id="2408597">&#39;s&#39;</span><span class="op" id="2408600">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408604">p</span><span class="op" id="2408605">.</span><span class="ident" id="2408606">fmt</span><span class="op" id="2408609">.</span><span class="ident" id="2408610">fmt_s</span><span class="op" id="2408615">(</span><span class="ident" id="2408616">v</span><span class="op" id="2408617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408620">case</span>&nbsp;<span class="string" id="2408625">&#39;x&#39;</span><span class="op" id="2408628">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408632">p</span><span class="op" id="2408633">.</span><span class="ident" id="2408634">fmt</span><span class="op" id="2408637">.</span><span class="ident" id="2408638">fmt_sx</span><span class="op" id="2408644">(</span><span class="ident" id="2408645">v</span><span class="op" id="2408646">,</span>&nbsp;<span class="ident" id="2408648">ldigits</span><span class="op" id="2408655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408658">case</span>&nbsp;<span class="string" id="2408663">&#39;X&#39;</span><span class="op" id="2408666">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408670">p</span><span class="op" id="2408671">.</span><span class="ident" id="2408672">fmt</span><span class="op" id="2408675">.</span><span class="ident" id="2408676">fmt_sx</span><span class="op" id="2408682">(</span><span class="ident" id="2408683">v</span><span class="op" id="2408684">,</span>&nbsp;<span class="ident" id="2408686">udigits</span><span class="op" id="2408693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408696">case</span>&nbsp;<span class="string" id="2408701">&#39;q&#39;</span><span class="op" id="2408704">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408708">p</span><span class="op" id="2408709">.</span><span class="ident" id="2408710">fmt</span><span class="op" id="2408713">.</span><span class="ident" id="2408714">fmt_q</span><span class="op" id="2408719">(</span><span class="ident" id="2408720">v</span><span class="op" id="2408721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408724">default</span><span class="op" id="2408731">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408735">p</span><span class="op" id="2408736">.</span><span class="ident" id="2408737">badVerb</span><span class="op" id="2408744">(</span><span class="ident" id="2408745">verb</span><span class="op" id="2408749">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2408752">}</span><br>
<span class="lineno"></span><span class="op" id="2408754">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408757">func</span>&nbsp;<span class="op" id="2408762">(</span><span class="ident" id="2408763">p</span>&nbsp;<span class="op" id="2408765">*</span><span class="ident" id="2408766">pp</span><span class="op" id="2408768">)</span>&nbsp;<span class="ident" id="2408770">fmtBytes</span><span class="op" id="2408778">(</span><span class="ident" id="2408779">v</span>&nbsp;<span class="op" id="2408781">[</span><span class="op" id="2408782">]</span><span class="builtintype" id="2408783">byte</span><span class="op" id="2408787">,</span>&nbsp;<span class="ident" id="2408789">verb</span>&nbsp;<span class="builtintype" id="2408794">rune</span><span class="op" id="2408798">,</span>&nbsp;<span class="ident" id="2408800">typ</span>&nbsp;<span class="ident" id="2408804">reflect</span><span class="op" id="2408811">.</span><span class="ident" id="2408812">Type</span><span class="op" id="2408816">,</span>&nbsp;<span class="ident" id="2408818">depth</span>&nbsp;<span class="builtintype" id="2408824">int</span><span class="op" id="2408827">)</span>&nbsp;<span class="op" id="2408829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408832">if</span>&nbsp;<span class="ident" id="2408835">verb</span>&nbsp;<span class="op" id="2408840">==</span>&nbsp;<span class="string" id="2408843">&#39;v&#39;</span>&nbsp;<span class="op" id="2408847">||</span>&nbsp;<span class="ident" id="2408850">verb</span>&nbsp;<span class="op" id="2408855">==</span>&nbsp;<span class="string" id="2408858">&#39;d&#39;</span>&nbsp;<span class="op" id="2408862">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408866">if</span>&nbsp;<span class="ident" id="2408869">p</span><span class="op" id="2408870">.</span><span class="ident" id="2408871">fmt</span><span class="op" id="2408874">.</span><span class="ident" id="2408875">sharpV</span>&nbsp;<span class="op" id="2408882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408887">if</span>&nbsp;<span class="ident" id="2408890">v</span>&nbsp;<span class="op" id="2408892">==</span>&nbsp;<span class="builtintype" id="2408895">nil</span>&nbsp;<span class="op" id="2408899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2408905">if</span>&nbsp;<span class="ident" id="2408908">typ</span>&nbsp;<span class="op" id="2408912">==</span>&nbsp;<span class="builtintype" id="2408915">nil</span>&nbsp;<span class="op" id="2408919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408926">p</span><span class="op" id="2408927">.</span><span class="ident" id="2408928">buf</span><span class="op" id="2408931">.</span><span class="ident" id="2408932">WriteString</span><span class="op" id="2408943">(</span><span class="string" id="2408944">&#34;[]byte(nil)&#34;</span><span class="op" id="2408957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2408963">}</span>&nbsp;<span class="keyword" id="2408965">else</span>&nbsp;<span class="op" id="2408970">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2408977">p</span><span class="op" id="2408978">.</span><span class="ident" id="2408979">buf</span><span class="op" id="2408982">.</span><span class="ident" id="2408983">WriteString</span><span class="op" id="2408994">(</span><span class="ident" id="2408995">typ</span><span class="op" id="2408998">.</span><span class="ident" id="2408999">String</span><span class="op" id="2409005">(</span><span class="op" id="2409006">)</span><span class="op" id="2409007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409014">p</span><span class="op" id="2409015">.</span><span class="ident" id="2409016">buf</span><span class="op" id="2409019">.</span><span class="ident" id="2409020">Write</span><span class="op" id="2409025">(</span><span class="ident" id="2409026">nilParenBytes</span><span class="op" id="2409039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409045">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409051">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409061">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409066">if</span>&nbsp;<span class="ident" id="2409069">typ</span>&nbsp;<span class="op" id="2409073">==</span>&nbsp;<span class="builtintype" id="2409076">nil</span>&nbsp;<span class="op" id="2409080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409086">p</span><span class="op" id="2409087">.</span><span class="ident" id="2409088">buf</span><span class="op" id="2409091">.</span><span class="ident" id="2409092">Write</span><span class="op" id="2409097">(</span><span class="ident" id="2409098">bytesBytes</span><span class="op" id="2409108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409113">}</span>&nbsp;<span class="keyword" id="2409115">else</span>&nbsp;<span class="op" id="2409120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409126">p</span><span class="op" id="2409127">.</span><span class="ident" id="2409128">buf</span><span class="op" id="2409131">.</span><span class="ident" id="2409132">WriteString</span><span class="op" id="2409143">(</span><span class="ident" id="2409144">typ</span><span class="op" id="2409147">.</span><span class="ident" id="2409148">String</span><span class="op" id="2409154">(</span><span class="op" id="2409155">)</span><span class="op" id="2409156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409162">p</span><span class="op" id="2409163">.</span><span class="ident" id="2409164">buf</span><span class="op" id="2409167">.</span><span class="ident" id="2409168">WriteByte</span><span class="op" id="2409177">(</span><span class="string" id="2409178">&#39;{&#39;</span><span class="op" id="2409181">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409186">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409190">}</span>&nbsp;<span class="keyword" id="2409192">else</span>&nbsp;<span class="op" id="2409197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409202">p</span><span class="op" id="2409203">.</span><span class="ident" id="2409204">buf</span><span class="op" id="2409207">.</span><span class="ident" id="2409208">WriteByte</span><span class="op" id="2409217">(</span><span class="string" id="2409218">&#39;[&#39;</span><span class="op" id="2409221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409229">for</span>&nbsp;<span class="ident" id="2409233">i</span><span class="op" id="2409234">,</span>&nbsp;<span class="ident" id="2409236">c</span>&nbsp;<span class="op" id="2409238">:=</span>&nbsp;<span class="keyword" id="2409241">range</span>&nbsp;<span class="ident" id="2409247">v</span>&nbsp;<span class="op" id="2409249">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409254">if</span>&nbsp;<span class="ident" id="2409257">i</span>&nbsp;<span class="op" id="2409259">&gt;</span>&nbsp;<span class="num" id="2409261">0</span>&nbsp;<span class="op" id="2409263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409269">if</span>&nbsp;<span class="ident" id="2409272">p</span><span class="op" id="2409273">.</span><span class="ident" id="2409274">fmt</span><span class="op" id="2409277">.</span><span class="ident" id="2409278">sharpV</span>&nbsp;<span class="op" id="2409285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409292">p</span><span class="op" id="2409293">.</span><span class="ident" id="2409294">buf</span><span class="op" id="2409297">.</span><span class="ident" id="2409298">Write</span><span class="op" id="2409303">(</span><span class="ident" id="2409304">commaSpaceBytes</span><span class="op" id="2409319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409325">}</span>&nbsp;<span class="keyword" id="2409327">else</span>&nbsp;<span class="op" id="2409332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409339">p</span><span class="op" id="2409340">.</span><span class="ident" id="2409341">buf</span><span class="op" id="2409344">.</span><span class="ident" id="2409345">WriteByte</span><span class="op" id="2409354">(</span><span class="string" id="2409355">&#39;&nbsp;&#39;</span><span class="op" id="2409358">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409374">p</span><span class="op" id="2409375">.</span><span class="ident" id="2409376">printArg</span><span class="op" id="2409384">(</span><span class="ident" id="2409385">c</span><span class="op" id="2409386">,</span>&nbsp;<span class="string" id="2409388">&#39;v&#39;</span><span class="op" id="2409391">,</span>&nbsp;<span class="ident" id="2409393">depth</span><span class="op" id="2409398">+</span><span class="num" id="2409399">1</span><span class="op" id="2409400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409408">if</span>&nbsp;<span class="ident" id="2409411">p</span><span class="op" id="2409412">.</span><span class="ident" id="2409413">fmt</span><span class="op" id="2409416">.</span><span class="ident" id="2409417">sharpV</span>&nbsp;<span class="op" id="2409424">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409429">p</span><span class="op" id="2409430">.</span><span class="ident" id="2409431">buf</span><span class="op" id="2409434">.</span><span class="ident" id="2409435">WriteByte</span><span class="op" id="2409444">(</span><span class="string" id="2409445">&#39;}&#39;</span><span class="op" id="2409448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409452">}</span>&nbsp;<span class="keyword" id="2409454">else</span>&nbsp;<span class="op" id="2409459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409464">p</span><span class="op" id="2409465">.</span><span class="ident" id="2409466">buf</span><span class="op" id="2409469">.</span><span class="ident" id="2409470">WriteByte</span><span class="op" id="2409479">(</span><span class="string" id="2409480">&#39;]&#39;</span><span class="op" id="2409483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409491">return</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409502">switch</span>&nbsp;<span class="ident" id="2409509">verb</span>&nbsp;<span class="op" id="2409514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409517">case</span>&nbsp;<span class="string" id="2409522">&#39;s&#39;</span><span class="op" id="2409525">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409529">p</span><span class="op" id="2409530">.</span><span class="ident" id="2409531">fmt</span><span class="op" id="2409534">.</span><span class="ident" id="2409535">fmt_s</span><span class="op" id="2409540">(</span><span class="builtintype" id="2409541">string</span><span class="op" id="2409547">(</span><span class="ident" id="2409548">v</span><span class="op" id="2409549">)</span><span class="op" id="2409550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409553">case</span>&nbsp;<span class="string" id="2409558">&#39;x&#39;</span><span class="op" id="2409561">:</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409565">p</span><span class="op" id="2409566">.</span><span class="ident" id="2409567">fmt</span><span class="op" id="2409570">.</span><span class="ident" id="2409571">fmt_bx</span><span class="op" id="2409577">(</span><span class="ident" id="2409578">v</span><span class="op" id="2409579">,</span>&nbsp;<span class="ident" id="2409581">ldigits</span><span class="op" id="2409588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409591">case</span>&nbsp;<span class="string" id="2409596">&#39;X&#39;</span><span class="op" id="2409599">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409603">p</span><span class="op" id="2409604">.</span><span class="ident" id="2409605">fmt</span><span class="op" id="2409608">.</span><span class="ident" id="2409609">fmt_bx</span><span class="op" id="2409615">(</span><span class="ident" id="2409616">v</span><span class="op" id="2409617">,</span>&nbsp;<span class="ident" id="2409619">udigits</span><span class="op" id="2409626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409629">case</span>&nbsp;<span class="string" id="2409634">&#39;q&#39;</span><span class="op" id="2409637">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409641">p</span><span class="op" id="2409642">.</span><span class="ident" id="2409643">fmt</span><span class="op" id="2409646">.</span><span class="ident" id="2409647">fmt_q</span><span class="op" id="2409652">(</span><span class="builtintype" id="2409653">string</span><span class="op" id="2409659">(</span><span class="ident" id="2409660">v</span><span class="op" id="2409661">)</span><span class="op" id="2409662">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409665">default</span><span class="op" id="2409672">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409676">p</span><span class="op" id="2409677">.</span><span class="ident" id="2409678">badVerb</span><span class="op" id="2409685">(</span><span class="ident" id="2409686">verb</span><span class="op" id="2409690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409693">}</span><br>
<span class="lineno"></span><span class="op" id="2409695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">575</span><span class="keyword" id="2409698">func</span>&nbsp;<span class="op" id="2409703">(</span><span class="ident" id="2409704">p</span>&nbsp;<span class="op" id="2409706">*</span><span class="ident" id="2409707">pp</span><span class="op" id="2409709">)</span>&nbsp;<span class="ident" id="2409711">fmtPointer</span><span class="op" id="2409721">(</span><span class="ident" id="2409722">value</span>&nbsp;<span class="ident" id="2409728">reflect</span><span class="op" id="2409735">.</span><span class="ident" id="2409736">Value</span><span class="op" id="2409741">,</span>&nbsp;<span class="ident" id="2409743">verb</span>&nbsp;<span class="builtintype" id="2409748">rune</span><span class="op" id="2409752">)</span>&nbsp;<span class="op" id="2409754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409757">use0x64</span>&nbsp;<span class="op" id="2409765">:=</span>&nbsp;<span class="builtintype" id="2409768">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409774">switch</span>&nbsp;<span class="ident" id="2409781">verb</span>&nbsp;<span class="op" id="2409786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409789">case</span>&nbsp;<span class="string" id="2409794">&#39;p&#39;</span><span class="op" id="2409797">,</span>&nbsp;<span class="string" id="2409799">&#39;v&#39;</span><span class="op" id="2409802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2409806">//&nbsp;ok</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409813">case</span>&nbsp;<span class="string" id="2409818">&#39;b&#39;</span><span class="op" id="2409821">,</span>&nbsp;<span class="string" id="2409823">&#39;d&#39;</span><span class="op" id="2409826">,</span>&nbsp;<span class="string" id="2409828">&#39;o&#39;</span><span class="op" id="2409831">,</span>&nbsp;<span class="string" id="2409833">&#39;x&#39;</span><span class="op" id="2409836">,</span>&nbsp;<span class="string" id="2409838">&#39;X&#39;</span><span class="op" id="2409841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409845">use0x64</span>&nbsp;<span class="op" id="2409853">=</span>&nbsp;<span class="builtintype" id="2409855">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2409863">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409870">default</span><span class="op" id="2409877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2409881">p</span><span class="op" id="2409882">.</span><span class="ident" id="2409883">badVerb</span><span class="op" id="2409890">(</span><span class="ident" id="2409891">verb</span><span class="op" id="2409895">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409899">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2409907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409911">var</span>&nbsp;<span class="ident" id="2409915">u</span>&nbsp;<span class="builtintype" id="2409917">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409926">switch</span>&nbsp;<span class="ident" id="2409933">value</span><span class="op" id="2409938">.</span><span class="ident" id="2409939">Kind</span><span class="op" id="2409943">(</span><span class="op" id="2409944">)</span>&nbsp;<span class="op" id="2409946">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2409949">case</span>&nbsp;<span class="ident" id="2409954">reflect</span><span class="op" id="2409961">.</span><span class="ident" id="2409962">Chan</span><span class="op" id="2409966">,</span>&nbsp;<span class="ident" id="2409968">reflect</span><span class="op" id="2409975">.</span><span class="ident" id="2409976">Func</span><span class="op" id="2409980">,</span>&nbsp;<span class="ident" id="2409982">reflect</span><span class="op" id="2409989">.</span><span class="ident" id="2409990">Map</span><span class="op" id="2409993">,</span>&nbsp;<span class="ident" id="2409995">reflect</span><span class="op" id="2410002">.</span><span class="ident" id="2410003">Ptr</span><span class="op" id="2410006">,</span>&nbsp;<span class="ident" id="2410008">reflect</span><span class="op" id="2410015">.</span><span class="ident" id="2410016">Slice</span><span class="op" id="2410021">,</span>&nbsp;<span class="ident" id="2410023">reflect</span><span class="op" id="2410030">.</span><span class="ident" id="2410031">UnsafePointer</span><span class="op" id="2410044">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410048">u</span>&nbsp;<span class="op" id="2410050">=</span>&nbsp;<span class="ident" id="2410052">value</span><span class="op" id="2410057">.</span><span class="ident" id="2410058">Pointer</span><span class="op" id="2410065">(</span><span class="op" id="2410066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410069">default</span><span class="op" id="2410076">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410080">p</span><span class="op" id="2410081">.</span><span class="ident" id="2410082">badVerb</span><span class="op" id="2410089">(</span><span class="ident" id="2410090">verb</span><span class="op" id="2410094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410098">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410106">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410110">if</span>&nbsp;<span class="ident" id="2410113">p</span><span class="op" id="2410114">.</span><span class="ident" id="2410115">fmt</span><span class="op" id="2410118">.</span><span class="ident" id="2410119">sharpV</span>&nbsp;<span class="op" id="2410126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410130">p</span><span class="op" id="2410131">.</span><span class="ident" id="2410132">add</span><span class="op" id="2410135">(</span><span class="string" id="2410136">&#39;(&#39;</span><span class="op" id="2410139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410143">p</span><span class="op" id="2410144">.</span><span class="ident" id="2410145">buf</span><span class="op" id="2410148">.</span><span class="ident" id="2410149">WriteString</span><span class="op" id="2410160">(</span><span class="ident" id="2410161">value</span><span class="op" id="2410166">.</span><span class="ident" id="2410167">Type</span><span class="op" id="2410171">(</span><span class="op" id="2410172">)</span><span class="op" id="2410173">.</span><span class="ident" id="2410174">String</span><span class="op" id="2410180">(</span><span class="op" id="2410181">)</span><span class="op" id="2410182">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410186">p</span><span class="op" id="2410187">.</span><span class="ident" id="2410188">add</span><span class="op" id="2410191">(</span><span class="string" id="2410192">&#39;)&#39;</span><span class="op" id="2410195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410199">p</span><span class="op" id="2410200">.</span><span class="ident" id="2410201">add</span><span class="op" id="2410204">(</span><span class="string" id="2410205">&#39;(&#39;</span><span class="op" id="2410208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410212">if</span>&nbsp;<span class="ident" id="2410215">u</span>&nbsp;<span class="op" id="2410217">==</span>&nbsp;<span class="num" id="2410220">0</span>&nbsp;<span class="op" id="2410222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410227">p</span><span class="op" id="2410228">.</span><span class="ident" id="2410229">buf</span><span class="op" id="2410232">.</span><span class="ident" id="2410233">Write</span><span class="op" id="2410238">(</span><span class="ident" id="2410239">nilBytes</span><span class="op" id="2410247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410251">}</span>&nbsp;<span class="keyword" id="2410253">else</span>&nbsp;<span class="op" id="2410258">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410263">p</span><span class="op" id="2410264">.</span><span class="ident" id="2410265">fmt0x64</span><span class="op" id="2410272">(</span><span class="builtintype" id="2410273">uint64</span><span class="op" id="2410279">(</span><span class="ident" id="2410280">u</span><span class="op" id="2410281">)</span><span class="op" id="2410282">,</span>&nbsp;<span class="builtintype" id="2410284">true</span><span class="op" id="2410288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410296">p</span><span class="op" id="2410297">.</span><span class="ident" id="2410298">add</span><span class="op" id="2410301">(</span><span class="string" id="2410302">&#39;)&#39;</span><span class="op" id="2410305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410308">}</span>&nbsp;<span class="keyword" id="2410310">else</span>&nbsp;<span class="keyword" id="2410315">if</span>&nbsp;<span class="ident" id="2410318">verb</span>&nbsp;<span class="op" id="2410323">==</span>&nbsp;<span class="string" id="2410326">&#39;v&#39;</span>&nbsp;<span class="op" id="2410330">&amp;&amp;</span>&nbsp;<span class="ident" id="2410333">u</span>&nbsp;<span class="op" id="2410335">==</span>&nbsp;<span class="num" id="2410338">0</span>&nbsp;<span class="op" id="2410340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410344">p</span><span class="op" id="2410345">.</span><span class="ident" id="2410346">buf</span><span class="op" id="2410349">.</span><span class="ident" id="2410350">Write</span><span class="op" id="2410355">(</span><span class="ident" id="2410356">nilAngleBytes</span><span class="op" id="2410369">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410372">}</span>&nbsp;<span class="keyword" id="2410374">else</span>&nbsp;<span class="op" id="2410379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410383">if</span>&nbsp;<span class="ident" id="2410386">use0x64</span>&nbsp;<span class="op" id="2410394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410399">p</span><span class="op" id="2410400">.</span><span class="ident" id="2410401">fmt0x64</span><span class="op" id="2410408">(</span><span class="builtintype" id="2410409">uint64</span><span class="op" id="2410415">(</span><span class="ident" id="2410416">u</span><span class="op" id="2410417">)</span><span class="op" id="2410418">,</span>&nbsp;<span class="op" id="2410420">!</span><span class="ident" id="2410421">p</span><span class="op" id="2410422">.</span><span class="ident" id="2410423">fmt</span><span class="op" id="2410426">.</span><span class="ident" id="2410427">sharp</span><span class="op" id="2410432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410436">}</span>&nbsp;<span class="keyword" id="2410438">else</span>&nbsp;<span class="op" id="2410443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410448">p</span><span class="op" id="2410449">.</span><span class="ident" id="2410450">fmtUint64</span><span class="op" id="2410459">(</span><span class="builtintype" id="2410460">uint64</span><span class="op" id="2410466">(</span><span class="ident" id="2410467">u</span><span class="op" id="2410468">)</span><span class="op" id="2410469">,</span>&nbsp;<span class="ident" id="2410471">verb</span><span class="op" id="2410475">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410482">}</span><br>
<span class="lineno"></span><span class="op" id="2410484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2410487">var</span>&nbsp;<span class="op" id="2410491">(</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410494">intBits</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410506">=</span>&nbsp;<span class="ident" id="2410508">reflect</span><span class="op" id="2410515">.</span><span class="ident" id="2410516">TypeOf</span><span class="op" id="2410522">(</span><span class="num" id="2410523">0</span><span class="op" id="2410524">)</span><span class="op" id="2410525">.</span><span class="ident" id="2410526">Bits</span><span class="op" id="2410530">(</span><span class="op" id="2410531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410534">uintptrBits</span>&nbsp;<span class="op" id="2410546">=</span>&nbsp;<span class="ident" id="2410548">reflect</span><span class="op" id="2410555">.</span><span class="ident" id="2410556">TypeOf</span><span class="op" id="2410562">(</span><span class="builtintype" id="2410563">uintptr</span><span class="op" id="2410570">(</span><span class="num" id="2410571">0</span><span class="op" id="2410572">)</span><span class="op" id="2410573">)</span><span class="op" id="2410574">.</span><span class="ident" id="2410575">Bits</span><span class="op" id="2410579">(</span><span class="op" id="2410580">)</span><br>
<span class="lineno"></span><span class="op" id="2410582">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2410585">func</span>&nbsp;<span class="op" id="2410590">(</span><span class="ident" id="2410591">p</span>&nbsp;<span class="op" id="2410593">*</span><span class="ident" id="2410594">pp</span><span class="op" id="2410596">)</span>&nbsp;<span class="ident" id="2410598">catchPanic</span><span class="op" id="2410608">(</span><span class="ident" id="2410609">arg</span>&nbsp;<span class="keyword" id="2410613">interface</span><span class="op" id="2410622">{</span><span class="op" id="2410623">}</span><span class="op" id="2410624">,</span>&nbsp;<span class="ident" id="2410626">verb</span>&nbsp;<span class="builtintype" id="2410631">rune</span><span class="op" id="2410635">)</span>&nbsp;<span class="op" id="2410637">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410640">if</span>&nbsp;<span class="ident" id="2410643">err</span>&nbsp;<span class="op" id="2410647">:=</span>&nbsp;<span class="builtinfunc" id="2410650">recover</span><span class="op" id="2410657">(</span><span class="op" id="2410658">)</span><span class="op" id="2410659">;</span>&nbsp;<span class="ident" id="2410661">err</span>&nbsp;<span class="op" id="2410665">!=</span>&nbsp;<span class="builtintype" id="2410668">nil</span>&nbsp;<span class="op" id="2410672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2410676">//&nbsp;If&nbsp;it&#39;s&nbsp;a&nbsp;nil&nbsp;pointer,&nbsp;just&nbsp;say&nbsp;&#34;&lt;nil&gt;&#34;.&nbsp;The&nbsp;likeliest&nbsp;causes&nbsp;are&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2410749">//&nbsp;Stringer&nbsp;that&nbsp;fails&nbsp;to&nbsp;guard&nbsp;against&nbsp;nil&nbsp;or&nbsp;a&nbsp;nil&nbsp;pointer&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2410818">//&nbsp;value&nbsp;receiver,&nbsp;and&nbsp;in&nbsp;either&nbsp;case,&nbsp;&#34;&lt;nil&gt;&#34;&nbsp;is&nbsp;a&nbsp;nice&nbsp;result.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410885">if</span>&nbsp;<span class="ident" id="2410888">v</span>&nbsp;<span class="op" id="2410890">:=</span>&nbsp;<span class="ident" id="2410893">reflect</span><span class="op" id="2410900">.</span><span class="ident" id="2410901">ValueOf</span><span class="op" id="2410908">(</span><span class="ident" id="2410909">arg</span><span class="op" id="2410912">)</span><span class="op" id="2410913">;</span>&nbsp;<span class="ident" id="2410915">v</span><span class="op" id="2410916">.</span><span class="ident" id="2410917">Kind</span><span class="op" id="2410921">(</span><span class="op" id="2410922">)</span>&nbsp;<span class="op" id="2410924">==</span>&nbsp;<span class="ident" id="2410927">reflect</span><span class="op" id="2410934">.</span><span class="ident" id="2410935">Ptr</span>&nbsp;<span class="op" id="2410939">&amp;&amp;</span>&nbsp;<span class="ident" id="2410942">v</span><span class="op" id="2410943">.</span><span class="ident" id="2410944">IsNil</span><span class="op" id="2410949">(</span><span class="op" id="2410950">)</span>&nbsp;<span class="op" id="2410952">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2410957">p</span><span class="op" id="2410958">.</span><span class="ident" id="2410959">buf</span><span class="op" id="2410962">.</span><span class="ident" id="2410963">Write</span><span class="op" id="2410968">(</span><span class="ident" id="2410969">nilAngleBytes</span><span class="op" id="2410982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2410987">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2410996">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2411000">//&nbsp;Otherwise&nbsp;print&nbsp;a&nbsp;concise&nbsp;panic&nbsp;message.&nbsp;Most&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;panic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2411073">//&nbsp;value&nbsp;will&nbsp;print&nbsp;itself&nbsp;nicely.</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2411110">if</span>&nbsp;<span class="ident" id="2411113">p</span><span class="op" id="2411114">.</span><span class="ident" id="2411115">panicking</span>&nbsp;<span class="op" id="2411125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2411130">//&nbsp;Nested&nbsp;panics;&nbsp;the&nbsp;recursion&nbsp;in&nbsp;printArg&nbsp;cannot&nbsp;succeed.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="2411193">panic</span><span class="op" id="2411198">(</span><span class="ident" id="2411199">err</span><span class="op" id="2411202">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2411206">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411210">p</span><span class="op" id="2411211">.</span><span class="ident" id="2411212">fmt</span><span class="op" id="2411215">.</span><span class="ident" id="2411216">clearflags</span><span class="op" id="2411226">(</span><span class="op" id="2411227">)</span>&nbsp;<span class="comment" id="2411229">//&nbsp;We&nbsp;are&nbsp;done,&nbsp;and&nbsp;for&nbsp;this&nbsp;output&nbsp;we&nbsp;want&nbsp;default&nbsp;behavior.</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411293">p</span><span class="op" id="2411294">.</span><span class="ident" id="2411295">buf</span><span class="op" id="2411298">.</span><span class="ident" id="2411299">Write</span><span class="op" id="2411304">(</span><span class="ident" id="2411305">percentBangBytes</span><span class="op" id="2411321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411325">p</span><span class="op" id="2411326">.</span><span class="ident" id="2411327">add</span><span class="op" id="2411330">(</span><span class="ident" id="2411331">verb</span><span class="op" id="2411335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411339">p</span><span class="op" id="2411340">.</span><span class="ident" id="2411341">buf</span><span class="op" id="2411344">.</span><span class="ident" id="2411345">Write</span><span class="op" id="2411350">(</span><span class="ident" id="2411351">panicBytes</span><span class="op" id="2411361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411365">p</span><span class="op" id="2411366">.</span><span class="ident" id="2411367">panicking</span>&nbsp;<span class="op" id="2411377">=</span>&nbsp;<span class="builtintype" id="2411379">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411386">p</span><span class="op" id="2411387">.</span><span class="ident" id="2411388">printArg</span><span class="op" id="2411396">(</span><span class="ident" id="2411397">err</span><span class="op" id="2411400">,</span>&nbsp;<span class="string" id="2411402">&#39;v&#39;</span><span class="op" id="2411405">,</span>&nbsp;<span class="num" id="2411407">0</span><span class="op" id="2411408">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411412">p</span><span class="op" id="2411413">.</span><span class="ident" id="2411414">panicking</span>&nbsp;<span class="op" id="2411424">=</span>&nbsp;<span class="builtintype" id="2411426">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411434">p</span><span class="op" id="2411435">.</span><span class="ident" id="2411436">buf</span><span class="op" id="2411439">.</span><span class="ident" id="2411440">WriteByte</span><span class="op" id="2411449">(</span><span class="string" id="2411450">&#39;)&#39;</span><span class="op" id="2411453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2411456">}</span><br>
<span class="lineno"></span><span class="op" id="2411458">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">650</span><span class="comment" id="2411461">//&nbsp;clearSpecialFlags&nbsp;pushes&nbsp;%#v&nbsp;back&nbsp;into&nbsp;the&nbsp;regular&nbsp;flags&nbsp;and&nbsp;returns&nbsp;their&nbsp;old&nbsp;state.</span><br>
<span class="lineno"></span><span class="keyword" id="2411550">func</span>&nbsp;<span class="op" id="2411555">(</span><span class="ident" id="2411556">p</span>&nbsp;<span class="op" id="2411558">*</span><span class="ident" id="2411559">pp</span><span class="op" id="2411561">)</span>&nbsp;<span class="ident" id="2411563">clearSpecialFlags</span><span class="op" id="2411580">(</span><span class="op" id="2411581">)</span>&nbsp;<span class="op" id="2411583">(</span><span class="ident" id="2411584">plusV</span><span class="op" id="2411589">,</span>&nbsp;<span class="ident" id="2411591">sharpV</span>&nbsp;<span class="builtintype" id="2411598">bool</span><span class="op" id="2411602">)</span>&nbsp;<span class="op" id="2411604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411607">plusV</span>&nbsp;<span class="op" id="2411613">=</span>&nbsp;<span class="ident" id="2411615">p</span><span class="op" id="2411616">.</span><span class="ident" id="2411617">fmt</span><span class="op" id="2411620">.</span><span class="ident" id="2411621">plusV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2411628">if</span>&nbsp;<span class="ident" id="2411631">plusV</span>&nbsp;<span class="op" id="2411637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411641">p</span><span class="op" id="2411642">.</span><span class="ident" id="2411643">fmt</span><span class="op" id="2411646">.</span><span class="ident" id="2411647">plus</span>&nbsp;<span class="op" id="2411652">=</span>&nbsp;<span class="builtintype" id="2411654">true</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411661">p</span><span class="op" id="2411662">.</span><span class="ident" id="2411663">fmt</span><span class="op" id="2411666">.</span><span class="ident" id="2411667">plusV</span>&nbsp;<span class="op" id="2411673">=</span>&nbsp;<span class="builtintype" id="2411675">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2411682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411685">sharpV</span>&nbsp;<span class="op" id="2411692">=</span>&nbsp;<span class="ident" id="2411694">p</span><span class="op" id="2411695">.</span><span class="ident" id="2411696">fmt</span><span class="op" id="2411699">.</span><span class="ident" id="2411700">sharpV</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2411708">if</span>&nbsp;<span class="ident" id="2411711">sharpV</span>&nbsp;<span class="op" id="2411718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411722">p</span><span class="op" id="2411723">.</span><span class="ident" id="2411724">fmt</span><span class="op" id="2411727">.</span><span class="ident" id="2411728">sharp</span>&nbsp;<span class="op" id="2411734">=</span>&nbsp;<span class="builtintype" id="2411736">true</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411743">p</span><span class="op" id="2411744">.</span><span class="ident" id="2411745">fmt</span><span class="op" id="2411748">.</span><span class="ident" id="2411749">sharpV</span>&nbsp;<span class="op" id="2411756">=</span>&nbsp;<span class="builtintype" id="2411758">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2411765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2411768">return</span><br>
<span class="lineno"></span><span class="op" id="2411775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="comment" id="2411778">//&nbsp;restoreSpecialFlags,&nbsp;whose&nbsp;argument&nbsp;should&nbsp;be&nbsp;a&nbsp;call&nbsp;to&nbsp;clearSpecialFlags,</span><br>
<span class="lineno"></span><span class="comment" id="2411856">//&nbsp;restores&nbsp;the&nbsp;setting&nbsp;of&nbsp;the&nbsp;plusV&nbsp;and&nbsp;sharpV&nbsp;flags.</span><br>
<span class="lineno"></span><span class="keyword" id="2411911">func</span>&nbsp;<span class="op" id="2411916">(</span><span class="ident" id="2411917">p</span>&nbsp;<span class="op" id="2411919">*</span><span class="ident" id="2411920">pp</span><span class="op" id="2411922">)</span>&nbsp;<span class="ident" id="2411924">restoreSpecialFlags</span><span class="op" id="2411943">(</span><span class="ident" id="2411944">plusV</span><span class="op" id="2411949">,</span>&nbsp;<span class="ident" id="2411951">sharpV</span>&nbsp;<span class="builtintype" id="2411958">bool</span><span class="op" id="2411962">)</span>&nbsp;<span class="op" id="2411964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2411967">if</span>&nbsp;<span class="ident" id="2411970">plusV</span>&nbsp;<span class="op" id="2411976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2411980">p</span><span class="op" id="2411981">.</span><span class="ident" id="2411982">fmt</span><span class="op" id="2411985">.</span><span class="ident" id="2411986">plus</span>&nbsp;<span class="op" id="2411991">=</span>&nbsp;<span class="builtintype" id="2411993">false</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412001">p</span><span class="op" id="2412002">.</span><span class="ident" id="2412003">fmt</span><span class="op" id="2412006">.</span><span class="ident" id="2412007">plusV</span>&nbsp;<span class="op" id="2412013">=</span>&nbsp;<span class="builtintype" id="2412015">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2412021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412024">if</span>&nbsp;<span class="ident" id="2412027">sharpV</span>&nbsp;<span class="op" id="2412034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412038">p</span><span class="op" id="2412039">.</span><span class="ident" id="2412040">fmt</span><span class="op" id="2412043">.</span><span class="ident" id="2412044">sharp</span>&nbsp;<span class="op" id="2412050">=</span>&nbsp;<span class="builtintype" id="2412052">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412060">p</span><span class="op" id="2412061">.</span><span class="ident" id="2412062">fmt</span><span class="op" id="2412065">.</span><span class="ident" id="2412066">sharpV</span>&nbsp;<span class="op" id="2412073">=</span>&nbsp;<span class="builtintype" id="2412075">true</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2412081">}</span><br>
<span class="lineno"></span><span class="op" id="2412083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412086">func</span>&nbsp;<span class="op" id="2412091">(</span><span class="ident" id="2412092">p</span>&nbsp;<span class="op" id="2412094">*</span><span class="ident" id="2412095">pp</span><span class="op" id="2412097">)</span>&nbsp;<span class="ident" id="2412099">handleMethods</span><span class="op" id="2412112">(</span><span class="ident" id="2412113">verb</span>&nbsp;<span class="builtintype" id="2412118">rune</span><span class="op" id="2412122">,</span>&nbsp;<span class="ident" id="2412124">depth</span>&nbsp;<span class="builtintype" id="2412130">int</span><span class="op" id="2412133">)</span>&nbsp;<span class="op" id="2412135">(</span><span class="ident" id="2412136">handled</span>&nbsp;<span class="builtintype" id="2412144">bool</span><span class="op" id="2412148">)</span>&nbsp;<span class="op" id="2412150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412153">if</span>&nbsp;<span class="ident" id="2412156">p</span><span class="op" id="2412157">.</span><span class="ident" id="2412158">erroring</span>&nbsp;<span class="op" id="2412167">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412171">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2412179">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412182">//&nbsp;Is&nbsp;it&nbsp;a&nbsp;Formatter?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412205">if</span>&nbsp;<span class="ident" id="2412208">formatter</span><span class="op" id="2412217">,</span>&nbsp;<span class="ident" id="2412219">ok</span>&nbsp;<span class="op" id="2412222">:=</span>&nbsp;<span class="ident" id="2412225">p</span><span class="op" id="2412226">.</span><span class="ident" id="2412227">arg</span><span class="op" id="2412230">.</span><span class="op" id="2412231">(</span><span class="ident" id="2412232">Formatter</span><span class="op" id="2412241">)</span><span class="op" id="2412242">;</span>&nbsp;<span class="ident" id="2412244">ok</span>&nbsp;<span class="op" id="2412247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412251">handled</span>&nbsp;<span class="op" id="2412259">=</span>&nbsp;<span class="builtintype" id="2412261">true</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412268">defer</span>&nbsp;<span class="ident" id="2412274">p</span><span class="op" id="2412275">.</span><span class="ident" id="2412276">restoreSpecialFlags</span><span class="op" id="2412295">(</span><span class="ident" id="2412296">p</span><span class="op" id="2412297">.</span><span class="ident" id="2412298">clearSpecialFlags</span><span class="op" id="2412315">(</span><span class="op" id="2412316">)</span><span class="op" id="2412317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412321">defer</span>&nbsp;<span class="ident" id="2412327">p</span><span class="op" id="2412328">.</span><span class="ident" id="2412329">catchPanic</span><span class="op" id="2412339">(</span><span class="ident" id="2412340">p</span><span class="op" id="2412341">.</span><span class="ident" id="2412342">arg</span><span class="op" id="2412345">,</span>&nbsp;<span class="ident" id="2412347">verb</span><span class="op" id="2412351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412355">formatter</span><span class="op" id="2412364">.</span><span class="ident" id="2412365">Format</span><span class="op" id="2412371">(</span><span class="ident" id="2412372">p</span><span class="op" id="2412373">,</span>&nbsp;<span class="ident" id="2412375">verb</span><span class="op" id="2412379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412383">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2412391">}</span><br>
<span class="lineno">690</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412395">//&nbsp;If&nbsp;we&#39;re&nbsp;doing&nbsp;Go&nbsp;syntax&nbsp;and&nbsp;the&nbsp;argument&nbsp;knows&nbsp;how&nbsp;to&nbsp;supply&nbsp;it,&nbsp;take&nbsp;care&nbsp;of&nbsp;it&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412486">if</span>&nbsp;<span class="ident" id="2412489">p</span><span class="op" id="2412490">.</span><span class="ident" id="2412491">fmt</span><span class="op" id="2412494">.</span><span class="ident" id="2412495">sharpV</span>&nbsp;<span class="op" id="2412502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412506">if</span>&nbsp;<span class="ident" id="2412509">stringer</span><span class="op" id="2412517">,</span>&nbsp;<span class="ident" id="2412519">ok</span>&nbsp;<span class="op" id="2412522">:=</span>&nbsp;<span class="ident" id="2412525">p</span><span class="op" id="2412526">.</span><span class="ident" id="2412527">arg</span><span class="op" id="2412530">.</span><span class="op" id="2412531">(</span><span class="ident" id="2412532">GoStringer</span><span class="op" id="2412542">)</span><span class="op" id="2412543">;</span>&nbsp;<span class="ident" id="2412545">ok</span>&nbsp;<span class="op" id="2412548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412553">handled</span>&nbsp;<span class="op" id="2412561">=</span>&nbsp;<span class="builtintype" id="2412563">true</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412571">defer</span>&nbsp;<span class="ident" id="2412577">p</span><span class="op" id="2412578">.</span><span class="ident" id="2412579">catchPanic</span><span class="op" id="2412589">(</span><span class="ident" id="2412590">p</span><span class="op" id="2412591">.</span><span class="ident" id="2412592">arg</span><span class="op" id="2412595">,</span>&nbsp;<span class="ident" id="2412597">verb</span><span class="op" id="2412601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412606">//&nbsp;Print&nbsp;the&nbsp;result&nbsp;of&nbsp;GoString&nbsp;unadorned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2412652">p</span><span class="op" id="2412653">.</span><span class="ident" id="2412654">fmt</span><span class="op" id="2412657">.</span><span class="ident" id="2412658">fmt_s</span><span class="op" id="2412663">(</span><span class="ident" id="2412664">stringer</span><span class="op" id="2412672">.</span><span class="ident" id="2412673">GoString</span><span class="op" id="2412681">(</span><span class="op" id="2412682">)</span><span class="op" id="2412683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412688">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2412697">}</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2412700">}</span>&nbsp;<span class="keyword" id="2412702">else</span>&nbsp;<span class="op" id="2412707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412711">//&nbsp;If&nbsp;a&nbsp;string&nbsp;is&nbsp;acceptable&nbsp;according&nbsp;to&nbsp;the&nbsp;format,&nbsp;see&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412774">//&nbsp;the&nbsp;value&nbsp;satisfies&nbsp;one&nbsp;of&nbsp;the&nbsp;string-valued&nbsp;interfaces.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412836">//&nbsp;Println&nbsp;etc.&nbsp;set&nbsp;verb&nbsp;to&nbsp;%v,&nbsp;which&nbsp;is&nbsp;&#34;stringable&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412893">switch</span>&nbsp;<span class="ident" id="2412900">verb</span>&nbsp;<span class="op" id="2412905">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2412909">case</span>&nbsp;<span class="string" id="2412914">&#39;v&#39;</span><span class="op" id="2412917">,</span>&nbsp;<span class="string" id="2412919">&#39;s&#39;</span><span class="op" id="2412922">,</span>&nbsp;<span class="string" id="2412924">&#39;x&#39;</span><span class="op" id="2412927">,</span>&nbsp;<span class="string" id="2412929">&#39;X&#39;</span><span class="op" id="2412932">,</span>&nbsp;<span class="string" id="2412934">&#39;q&#39;</span><span class="op" id="2412937">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412942">//&nbsp;Is&nbsp;it&nbsp;an&nbsp;error&nbsp;or&nbsp;Stringer?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2412976">//&nbsp;The&nbsp;duplication&nbsp;in&nbsp;the&nbsp;bodies&nbsp;is&nbsp;necessary:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2413026">//&nbsp;setting&nbsp;handled&nbsp;and&nbsp;deferring&nbsp;catchPanic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2413073">//&nbsp;must&nbsp;happen&nbsp;before&nbsp;calling&nbsp;the&nbsp;method.</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413118">switch</span>&nbsp;<span class="ident" id="2413125">v</span>&nbsp;<span class="op" id="2413127">:=</span>&nbsp;<span class="ident" id="2413130">p</span><span class="op" id="2413131">.</span><span class="ident" id="2413132">arg</span><span class="op" id="2413135">.</span><span class="op" id="2413136">(</span><span class="keyword" id="2413137">type</span><span class="op" id="2413141">)</span>&nbsp;<span class="op" id="2413143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413148">case</span>&nbsp;<span class="builtintype" id="2413153">error</span><span class="op" id="2413158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413164">handled</span>&nbsp;<span class="op" id="2413172">=</span>&nbsp;<span class="builtintype" id="2413174">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413183">defer</span>&nbsp;<span class="ident" id="2413189">p</span><span class="op" id="2413190">.</span><span class="ident" id="2413191">catchPanic</span><span class="op" id="2413201">(</span><span class="ident" id="2413202">p</span><span class="op" id="2413203">.</span><span class="ident" id="2413204">arg</span><span class="op" id="2413207">,</span>&nbsp;<span class="ident" id="2413209">verb</span><span class="op" id="2413213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413219">p</span><span class="op" id="2413220">.</span><span class="ident" id="2413221">printArg</span><span class="op" id="2413229">(</span><span class="ident" id="2413230">v</span><span class="op" id="2413231">.</span><span class="ident" id="2413232">Error</span><span class="op" id="2413237">(</span><span class="op" id="2413238">)</span><span class="op" id="2413239">,</span>&nbsp;<span class="ident" id="2413241">verb</span><span class="op" id="2413245">,</span>&nbsp;<span class="ident" id="2413247">depth</span><span class="op" id="2413252">)</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413258">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413269">case</span>&nbsp;<span class="ident" id="2413274">Stringer</span><span class="op" id="2413282">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413288">handled</span>&nbsp;<span class="op" id="2413296">=</span>&nbsp;<span class="builtintype" id="2413298">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413307">defer</span>&nbsp;<span class="ident" id="2413313">p</span><span class="op" id="2413314">.</span><span class="ident" id="2413315">catchPanic</span><span class="op" id="2413325">(</span><span class="ident" id="2413326">p</span><span class="op" id="2413327">.</span><span class="ident" id="2413328">arg</span><span class="op" id="2413331">,</span>&nbsp;<span class="ident" id="2413333">verb</span><span class="op" id="2413337">)</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413343">p</span><span class="op" id="2413344">.</span><span class="ident" id="2413345">printArg</span><span class="op" id="2413353">(</span><span class="ident" id="2413354">v</span><span class="op" id="2413355">.</span><span class="ident" id="2413356">String</span><span class="op" id="2413362">(</span><span class="op" id="2413363">)</span><span class="op" id="2413364">,</span>&nbsp;<span class="ident" id="2413366">verb</span><span class="op" id="2413370">,</span>&nbsp;<span class="ident" id="2413372">depth</span><span class="op" id="2413377">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413383">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2413393">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2413397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2413400">}</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413403">return</span>&nbsp;<span class="builtintype" id="2413410">false</span><br>
<span class="lineno"></span><span class="op" id="2413416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2413419">func</span>&nbsp;<span class="op" id="2413424">(</span><span class="ident" id="2413425">p</span>&nbsp;<span class="op" id="2413427">*</span><span class="ident" id="2413428">pp</span><span class="op" id="2413430">)</span>&nbsp;<span class="ident" id="2413432">printArg</span><span class="op" id="2413440">(</span><span class="ident" id="2413441">arg</span>&nbsp;<span class="keyword" id="2413445">interface</span><span class="op" id="2413454">{</span><span class="op" id="2413455">}</span><span class="op" id="2413456">,</span>&nbsp;<span class="ident" id="2413458">verb</span>&nbsp;<span class="builtintype" id="2413463">rune</span><span class="op" id="2413467">,</span>&nbsp;<span class="ident" id="2413469">depth</span>&nbsp;<span class="builtintype" id="2413475">int</span><span class="op" id="2413478">)</span>&nbsp;<span class="op" id="2413480">(</span><span class="ident" id="2413481">wasString</span>&nbsp;<span class="builtintype" id="2413491">bool</span><span class="op" id="2413495">)</span>&nbsp;<span class="op" id="2413497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413500">p</span><span class="op" id="2413501">.</span><span class="ident" id="2413502">arg</span>&nbsp;<span class="op" id="2413506">=</span>&nbsp;<span class="ident" id="2413508">arg</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413513">p</span><span class="op" id="2413514">.</span><span class="ident" id="2413515">value</span>&nbsp;<span class="op" id="2413521">=</span>&nbsp;<span class="ident" id="2413523">reflect</span><span class="op" id="2413530">.</span><span class="ident" id="2413531">Value</span><span class="op" id="2413536">{</span><span class="op" id="2413537">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413541">if</span>&nbsp;<span class="ident" id="2413544">arg</span>&nbsp;<span class="op" id="2413548">==</span>&nbsp;<span class="builtintype" id="2413551">nil</span>&nbsp;<span class="op" id="2413555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413559">if</span>&nbsp;<span class="ident" id="2413562">verb</span>&nbsp;<span class="op" id="2413567">==</span>&nbsp;<span class="string" id="2413570">&#39;T&#39;</span>&nbsp;<span class="op" id="2413574">||</span>&nbsp;<span class="ident" id="2413577">verb</span>&nbsp;<span class="op" id="2413582">==</span>&nbsp;<span class="string" id="2413585">&#39;v&#39;</span>&nbsp;<span class="op" id="2413589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413594">p</span><span class="op" id="2413595">.</span><span class="ident" id="2413596">fmt</span><span class="op" id="2413599">.</span><span class="ident" id="2413600">pad</span><span class="op" id="2413603">(</span><span class="ident" id="2413604">nilAngleBytes</span><span class="op" id="2413617">)</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2413621">}</span>&nbsp;<span class="keyword" id="2413623">else</span>&nbsp;<span class="op" id="2413628">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413633">p</span><span class="op" id="2413634">.</span><span class="ident" id="2413635">badVerb</span><span class="op" id="2413642">(</span><span class="ident" id="2413643">verb</span><span class="op" id="2413647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2413651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413655">return</span>&nbsp;<span class="builtintype" id="2413662">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2413669">}</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2413673">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2413712">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413797">switch</span>&nbsp;<span class="ident" id="2413804">verb</span>&nbsp;<span class="op" id="2413809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413812">case</span>&nbsp;<span class="string" id="2413817">&#39;T&#39;</span><span class="op" id="2413820">:</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413824">p</span><span class="op" id="2413825">.</span><span class="ident" id="2413826">printArg</span><span class="op" id="2413834">(</span><span class="ident" id="2413835">reflect</span><span class="op" id="2413842">.</span><span class="ident" id="2413843">TypeOf</span><span class="op" id="2413849">(</span><span class="ident" id="2413850">arg</span><span class="op" id="2413853">)</span><span class="op" id="2413854">.</span><span class="ident" id="2413855">String</span><span class="op" id="2413861">(</span><span class="op" id="2413862">)</span><span class="op" id="2413863">,</span>&nbsp;<span class="string" id="2413865">&#39;s&#39;</span><span class="op" id="2413868">,</span>&nbsp;<span class="num" id="2413870">0</span><span class="op" id="2413871">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413875">return</span>&nbsp;<span class="builtintype" id="2413882">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413889">case</span>&nbsp;<span class="string" id="2413894">&#39;p&#39;</span><span class="op" id="2413897">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2413901">p</span><span class="op" id="2413902">.</span><span class="ident" id="2413903">fmtPointer</span><span class="op" id="2413913">(</span><span class="ident" id="2413914">reflect</span><span class="op" id="2413921">.</span><span class="ident" id="2413922">ValueOf</span><span class="op" id="2413929">(</span><span class="ident" id="2413930">arg</span><span class="op" id="2413933">)</span><span class="op" id="2413934">,</span>&nbsp;<span class="ident" id="2413936">verb</span><span class="op" id="2413940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2413944">return</span>&nbsp;<span class="builtintype" id="2413951">false</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2413958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2413962">//&nbsp;Some&nbsp;types&nbsp;can&nbsp;be&nbsp;done&nbsp;without&nbsp;reflection.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414009">switch</span>&nbsp;<span class="ident" id="2414016">f</span>&nbsp;<span class="op" id="2414018">:=</span>&nbsp;<span class="ident" id="2414021">arg</span><span class="op" id="2414024">.</span><span class="op" id="2414025">(</span><span class="keyword" id="2414026">type</span><span class="op" id="2414030">)</span>&nbsp;<span class="op" id="2414032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414035">case</span>&nbsp;<span class="builtintype" id="2414040">bool</span><span class="op" id="2414044">:</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414048">p</span><span class="op" id="2414049">.</span><span class="ident" id="2414050">fmtBool</span><span class="op" id="2414057">(</span><span class="ident" id="2414058">f</span><span class="op" id="2414059">,</span>&nbsp;<span class="ident" id="2414061">verb</span><span class="op" id="2414065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414068">case</span>&nbsp;<span class="builtintype" id="2414073">float32</span><span class="op" id="2414080">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414084">p</span><span class="op" id="2414085">.</span><span class="ident" id="2414086">fmtFloat32</span><span class="op" id="2414096">(</span><span class="ident" id="2414097">f</span><span class="op" id="2414098">,</span>&nbsp;<span class="ident" id="2414100">verb</span><span class="op" id="2414104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414107">case</span>&nbsp;<span class="builtintype" id="2414112">float64</span><span class="op" id="2414119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414123">p</span><span class="op" id="2414124">.</span><span class="ident" id="2414125">fmtFloat64</span><span class="op" id="2414135">(</span><span class="ident" id="2414136">f</span><span class="op" id="2414137">,</span>&nbsp;<span class="ident" id="2414139">verb</span><span class="op" id="2414143">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414146">case</span>&nbsp;<span class="builtintype" id="2414151">complex64</span><span class="op" id="2414160">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414164">p</span><span class="op" id="2414165">.</span><span class="ident" id="2414166">fmtComplex64</span><span class="op" id="2414178">(</span><span class="ident" id="2414179">f</span><span class="op" id="2414180">,</span>&nbsp;<span class="ident" id="2414182">verb</span><span class="op" id="2414186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414189">case</span>&nbsp;<span class="builtintype" id="2414194">complex128</span><span class="op" id="2414204">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414208">p</span><span class="op" id="2414209">.</span><span class="ident" id="2414210">fmtComplex128</span><span class="op" id="2414223">(</span><span class="ident" id="2414224">f</span><span class="op" id="2414225">,</span>&nbsp;<span class="ident" id="2414227">verb</span><span class="op" id="2414231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414234">case</span>&nbsp;<span class="builtintype" id="2414239">int</span><span class="op" id="2414242">:</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414246">p</span><span class="op" id="2414247">.</span><span class="ident" id="2414248">fmtInt64</span><span class="op" id="2414256">(</span><span class="builtintype" id="2414257">int64</span><span class="op" id="2414262">(</span><span class="ident" id="2414263">f</span><span class="op" id="2414264">)</span><span class="op" id="2414265">,</span>&nbsp;<span class="ident" id="2414267">verb</span><span class="op" id="2414271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414274">case</span>&nbsp;<span class="builtintype" id="2414279">int8</span><span class="op" id="2414283">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414287">p</span><span class="op" id="2414288">.</span><span class="ident" id="2414289">fmtInt64</span><span class="op" id="2414297">(</span><span class="builtintype" id="2414298">int64</span><span class="op" id="2414303">(</span><span class="ident" id="2414304">f</span><span class="op" id="2414305">)</span><span class="op" id="2414306">,</span>&nbsp;<span class="ident" id="2414308">verb</span><span class="op" id="2414312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414315">case</span>&nbsp;<span class="builtintype" id="2414320">int16</span><span class="op" id="2414325">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414329">p</span><span class="op" id="2414330">.</span><span class="ident" id="2414331">fmtInt64</span><span class="op" id="2414339">(</span><span class="builtintype" id="2414340">int64</span><span class="op" id="2414345">(</span><span class="ident" id="2414346">f</span><span class="op" id="2414347">)</span><span class="op" id="2414348">,</span>&nbsp;<span class="ident" id="2414350">verb</span><span class="op" id="2414354">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414357">case</span>&nbsp;<span class="builtintype" id="2414362">int32</span><span class="op" id="2414367">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414371">p</span><span class="op" id="2414372">.</span><span class="ident" id="2414373">fmtInt64</span><span class="op" id="2414381">(</span><span class="builtintype" id="2414382">int64</span><span class="op" id="2414387">(</span><span class="ident" id="2414388">f</span><span class="op" id="2414389">)</span><span class="op" id="2414390">,</span>&nbsp;<span class="ident" id="2414392">verb</span><span class="op" id="2414396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414399">case</span>&nbsp;<span class="builtintype" id="2414404">int64</span><span class="op" id="2414409">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414413">p</span><span class="op" id="2414414">.</span><span class="ident" id="2414415">fmtInt64</span><span class="op" id="2414423">(</span><span class="ident" id="2414424">f</span><span class="op" id="2414425">,</span>&nbsp;<span class="ident" id="2414427">verb</span><span class="op" id="2414431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414434">case</span>&nbsp;<span class="builtintype" id="2414439">uint</span><span class="op" id="2414443">:</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414447">p</span><span class="op" id="2414448">.</span><span class="ident" id="2414449">fmtUint64</span><span class="op" id="2414458">(</span><span class="builtintype" id="2414459">uint64</span><span class="op" id="2414465">(</span><span class="ident" id="2414466">f</span><span class="op" id="2414467">)</span><span class="op" id="2414468">,</span>&nbsp;<span class="ident" id="2414470">verb</span><span class="op" id="2414474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414477">case</span>&nbsp;<span class="builtintype" id="2414482">uint8</span><span class="op" id="2414487">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414491">p</span><span class="op" id="2414492">.</span><span class="ident" id="2414493">fmtUint64</span><span class="op" id="2414502">(</span><span class="builtintype" id="2414503">uint64</span><span class="op" id="2414509">(</span><span class="ident" id="2414510">f</span><span class="op" id="2414511">)</span><span class="op" id="2414512">,</span>&nbsp;<span class="ident" id="2414514">verb</span><span class="op" id="2414518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414521">case</span>&nbsp;<span class="builtintype" id="2414526">uint16</span><span class="op" id="2414532">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414536">p</span><span class="op" id="2414537">.</span><span class="ident" id="2414538">fmtUint64</span><span class="op" id="2414547">(</span><span class="builtintype" id="2414548">uint64</span><span class="op" id="2414554">(</span><span class="ident" id="2414555">f</span><span class="op" id="2414556">)</span><span class="op" id="2414557">,</span>&nbsp;<span class="ident" id="2414559">verb</span><span class="op" id="2414563">)</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414566">case</span>&nbsp;<span class="builtintype" id="2414571">uint32</span><span class="op" id="2414577">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414581">p</span><span class="op" id="2414582">.</span><span class="ident" id="2414583">fmtUint64</span><span class="op" id="2414592">(</span><span class="builtintype" id="2414593">uint64</span><span class="op" id="2414599">(</span><span class="ident" id="2414600">f</span><span class="op" id="2414601">)</span><span class="op" id="2414602">,</span>&nbsp;<span class="ident" id="2414604">verb</span><span class="op" id="2414608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414611">case</span>&nbsp;<span class="builtintype" id="2414616">uint64</span><span class="op" id="2414622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414626">p</span><span class="op" id="2414627">.</span><span class="ident" id="2414628">fmtUint64</span><span class="op" id="2414637">(</span><span class="ident" id="2414638">f</span><span class="op" id="2414639">,</span>&nbsp;<span class="ident" id="2414641">verb</span><span class="op" id="2414645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414648">case</span>&nbsp;<span class="builtintype" id="2414653">uintptr</span><span class="op" id="2414660">:</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414664">p</span><span class="op" id="2414665">.</span><span class="ident" id="2414666">fmtUint64</span><span class="op" id="2414675">(</span><span class="builtintype" id="2414676">uint64</span><span class="op" id="2414682">(</span><span class="ident" id="2414683">f</span><span class="op" id="2414684">)</span><span class="op" id="2414685">,</span>&nbsp;<span class="ident" id="2414687">verb</span><span class="op" id="2414691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414694">case</span>&nbsp;<span class="builtintype" id="2414699">string</span><span class="op" id="2414705">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414709">p</span><span class="op" id="2414710">.</span><span class="ident" id="2414711">fmtString</span><span class="op" id="2414720">(</span><span class="ident" id="2414721">f</span><span class="op" id="2414722">,</span>&nbsp;<span class="ident" id="2414724">verb</span><span class="op" id="2414728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414732">wasString</span>&nbsp;<span class="op" id="2414742">=</span>&nbsp;<span class="ident" id="2414744">verb</span>&nbsp;<span class="op" id="2414749">==</span>&nbsp;<span class="string" id="2414752">&#39;s&#39;</span>&nbsp;<span class="op" id="2414756">||</span>&nbsp;<span class="ident" id="2414759">verb</span>&nbsp;<span class="op" id="2414764">==</span>&nbsp;<span class="string" id="2414767">&#39;v&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414772">case</span>&nbsp;<span class="op" id="2414777">[</span><span class="op" id="2414778">]</span><span class="builtintype" id="2414779">byte</span><span class="op" id="2414783">:</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414787">p</span><span class="op" id="2414788">.</span><span class="ident" id="2414789">fmtBytes</span><span class="op" id="2414797">(</span><span class="ident" id="2414798">f</span><span class="op" id="2414799">,</span>&nbsp;<span class="ident" id="2414801">verb</span><span class="op" id="2414805">,</span>&nbsp;<span class="builtintype" id="2414807">nil</span><span class="op" id="2414810">,</span>&nbsp;<span class="ident" id="2414812">depth</span><span class="op" id="2414817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414821">wasString</span>&nbsp;<span class="op" id="2414831">=</span>&nbsp;<span class="ident" id="2414833">verb</span>&nbsp;<span class="op" id="2414838">==</span>&nbsp;<span class="string" id="2414841">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414846">default</span><span class="op" id="2414853">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2414857">//&nbsp;If&nbsp;the&nbsp;type&nbsp;is&nbsp;not&nbsp;simple,&nbsp;it&nbsp;might&nbsp;have&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414912">if</span>&nbsp;<span class="ident" id="2414915">handled</span>&nbsp;<span class="op" id="2414923">:=</span>&nbsp;<span class="ident" id="2414926">p</span><span class="op" id="2414927">.</span><span class="ident" id="2414928">handleMethods</span><span class="op" id="2414941">(</span><span class="ident" id="2414942">verb</span><span class="op" id="2414946">,</span>&nbsp;<span class="ident" id="2414948">depth</span><span class="op" id="2414953">)</span><span class="op" id="2414954">;</span>&nbsp;<span class="ident" id="2414956">handled</span>&nbsp;<span class="op" id="2414964">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2414969">return</span>&nbsp;<span class="builtintype" id="2414976">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2414984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2414988">//&nbsp;Need&nbsp;to&nbsp;use&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415016">return</span>&nbsp;<span class="ident" id="2415023">p</span><span class="op" id="2415024">.</span><span class="ident" id="2415025">printReflectValue</span><span class="op" id="2415042">(</span><span class="ident" id="2415043">reflect</span><span class="op" id="2415050">.</span><span class="ident" id="2415051">ValueOf</span><span class="op" id="2415058">(</span><span class="ident" id="2415059">arg</span><span class="op" id="2415062">)</span><span class="op" id="2415063">,</span>&nbsp;<span class="ident" id="2415065">verb</span><span class="op" id="2415069">,</span>&nbsp;<span class="ident" id="2415071">depth</span><span class="op" id="2415076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2415079">}</span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2415082">p</span><span class="op" id="2415083">.</span><span class="ident" id="2415084">arg</span>&nbsp;<span class="op" id="2415088">=</span>&nbsp;<span class="builtintype" id="2415090">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415095">return</span><br>
<span class="lineno"></span><span class="op" id="2415102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2415105">//&nbsp;printValue&nbsp;is&nbsp;like&nbsp;printArg&nbsp;but&nbsp;starts&nbsp;with&nbsp;a&nbsp;reflect&nbsp;value,&nbsp;not&nbsp;an&nbsp;interface{}&nbsp;value.</span><br>
<span class="lineno">805</span><span class="keyword" id="2415195">func</span>&nbsp;<span class="op" id="2415200">(</span><span class="ident" id="2415201">p</span>&nbsp;<span class="op" id="2415203">*</span><span class="ident" id="2415204">pp</span><span class="op" id="2415206">)</span>&nbsp;<span class="ident" id="2415208">printValue</span><span class="op" id="2415218">(</span><span class="ident" id="2415219">value</span>&nbsp;<span class="ident" id="2415225">reflect</span><span class="op" id="2415232">.</span><span class="ident" id="2415233">Value</span><span class="op" id="2415238">,</span>&nbsp;<span class="ident" id="2415240">verb</span>&nbsp;<span class="builtintype" id="2415245">rune</span><span class="op" id="2415249">,</span>&nbsp;<span class="ident" id="2415251">depth</span>&nbsp;<span class="builtintype" id="2415257">int</span><span class="op" id="2415260">)</span>&nbsp;<span class="op" id="2415262">(</span><span class="ident" id="2415263">wasString</span>&nbsp;<span class="builtintype" id="2415273">bool</span><span class="op" id="2415277">)</span>&nbsp;<span class="op" id="2415279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415282">if</span>&nbsp;<span class="op" id="2415285">!</span><span class="ident" id="2415286">value</span><span class="op" id="2415291">.</span><span class="ident" id="2415292">IsValid</span><span class="op" id="2415299">(</span><span class="op" id="2415300">)</span>&nbsp;<span class="op" id="2415302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415306">if</span>&nbsp;<span class="ident" id="2415309">verb</span>&nbsp;<span class="op" id="2415314">==</span>&nbsp;<span class="string" id="2415317">&#39;T&#39;</span>&nbsp;<span class="op" id="2415321">||</span>&nbsp;<span class="ident" id="2415324">verb</span>&nbsp;<span class="op" id="2415329">==</span>&nbsp;<span class="string" id="2415332">&#39;v&#39;</span>&nbsp;<span class="op" id="2415336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2415341">p</span><span class="op" id="2415342">.</span><span class="ident" id="2415343">buf</span><span class="op" id="2415346">.</span><span class="ident" id="2415347">Write</span><span class="op" id="2415352">(</span><span class="ident" id="2415353">nilAngleBytes</span><span class="op" id="2415366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2415370">}</span>&nbsp;<span class="keyword" id="2415372">else</span>&nbsp;<span class="op" id="2415377">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2415382">p</span><span class="op" id="2415383">.</span><span class="ident" id="2415384">badVerb</span><span class="op" id="2415391">(</span><span class="ident" id="2415392">verb</span><span class="op" id="2415396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2415400">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415404">return</span>&nbsp;<span class="builtintype" id="2415411">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2415418">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2415422">//&nbsp;Special&nbsp;processing&nbsp;considerations.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2415461">//&nbsp;%T&nbsp;(the&nbsp;value&#39;s&nbsp;type)&nbsp;and&nbsp;%p&nbsp;(its&nbsp;address)&nbsp;are&nbsp;special;&nbsp;we&nbsp;always&nbsp;do&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415546">switch</span>&nbsp;<span class="ident" id="2415553">verb</span>&nbsp;<span class="op" id="2415558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415561">case</span>&nbsp;<span class="string" id="2415566">&#39;T&#39;</span><span class="op" id="2415569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2415573">p</span><span class="op" id="2415574">.</span><span class="ident" id="2415575">printArg</span><span class="op" id="2415583">(</span><span class="ident" id="2415584">value</span><span class="op" id="2415589">.</span><span class="ident" id="2415590">Type</span><span class="op" id="2415594">(</span><span class="op" id="2415595">)</span><span class="op" id="2415596">.</span><span class="ident" id="2415597">String</span><span class="op" id="2415603">(</span><span class="op" id="2415604">)</span><span class="op" id="2415605">,</span>&nbsp;<span class="string" id="2415607">&#39;s&#39;</span><span class="op" id="2415610">,</span>&nbsp;<span class="num" id="2415612">0</span><span class="op" id="2415613">)</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415617">return</span>&nbsp;<span class="builtintype" id="2415624">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415631">case</span>&nbsp;<span class="string" id="2415636">&#39;p&#39;</span><span class="op" id="2415639">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2415643">p</span><span class="op" id="2415644">.</span><span class="ident" id="2415645">fmtPointer</span><span class="op" id="2415655">(</span><span class="ident" id="2415656">value</span><span class="op" id="2415661">,</span>&nbsp;<span class="ident" id="2415663">verb</span><span class="op" id="2415667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415671">return</span>&nbsp;<span class="builtintype" id="2415678">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2415685">}</span><br>
<span class="lineno">825</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2415689">//&nbsp;Handle&nbsp;values&nbsp;with&nbsp;special&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2415729">//&nbsp;Call&nbsp;always,&nbsp;even&nbsp;when&nbsp;arg&nbsp;==&nbsp;nil,&nbsp;because&nbsp;handleMethods&nbsp;clears&nbsp;p.fmt.plus&nbsp;for&nbsp;us.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2415816">p</span><span class="op" id="2415817">.</span><span class="ident" id="2415818">arg</span>&nbsp;<span class="op" id="2415822">=</span>&nbsp;<span class="builtintype" id="2415824">nil</span>&nbsp;<span class="comment" id="2415828">//&nbsp;Make&nbsp;sure&nbsp;it&#39;s&nbsp;cleared,&nbsp;for&nbsp;safety.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415868">if</span>&nbsp;<span class="ident" id="2415871">value</span><span class="op" id="2415876">.</span><span class="ident" id="2415877">CanInterface</span><span class="op" id="2415889">(</span><span class="op" id="2415890">)</span>&nbsp;<span class="op" id="2415892">{</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2415896">p</span><span class="op" id="2415897">.</span><span class="ident" id="2415898">arg</span>&nbsp;<span class="op" id="2415902">=</span>&nbsp;<span class="ident" id="2415904">value</span><span class="op" id="2415909">.</span><span class="ident" id="2415910">Interface</span><span class="op" id="2415919">(</span><span class="op" id="2415920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2415923">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415926">if</span>&nbsp;<span class="ident" id="2415929">handled</span>&nbsp;<span class="op" id="2415937">:=</span>&nbsp;<span class="ident" id="2415940">p</span><span class="op" id="2415941">.</span><span class="ident" id="2415942">handleMethods</span><span class="op" id="2415955">(</span><span class="ident" id="2415956">verb</span><span class="op" id="2415960">,</span>&nbsp;<span class="ident" id="2415962">depth</span><span class="op" id="2415967">)</span><span class="op" id="2415968">;</span>&nbsp;<span class="ident" id="2415970">handled</span>&nbsp;<span class="op" id="2415978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2415982">return</span>&nbsp;<span class="builtintype" id="2415989">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2415996">}</span><br>
<span class="lineno">835</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416000">return</span>&nbsp;<span class="ident" id="2416007">p</span><span class="op" id="2416008">.</span><span class="ident" id="2416009">printReflectValue</span><span class="op" id="2416026">(</span><span class="ident" id="2416027">value</span><span class="op" id="2416032">,</span>&nbsp;<span class="ident" id="2416034">verb</span><span class="op" id="2416038">,</span>&nbsp;<span class="ident" id="2416040">depth</span><span class="op" id="2416045">)</span><br>
<span class="lineno"></span><span class="op" id="2416047">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2416050">var</span>&nbsp;<span class="ident" id="2416054">byteType</span>&nbsp;<span class="op" id="2416063">=</span>&nbsp;<span class="ident" id="2416065">reflect</span><span class="op" id="2416072">.</span><span class="ident" id="2416073">TypeOf</span><span class="op" id="2416079">(</span><span class="builtintype" id="2416080">byte</span><span class="op" id="2416084">(</span><span class="num" id="2416085">0</span><span class="op" id="2416086">)</span><span class="op" id="2416087">)</span><br>
<span class="lineno">840</span><br>
<span class="lineno"></span><span class="comment" id="2416090">//&nbsp;printReflectValue&nbsp;is&nbsp;the&nbsp;fallback&nbsp;for&nbsp;both&nbsp;printArg&nbsp;and&nbsp;printValue.</span><br>
<span class="lineno"></span><span class="comment" id="2416161">//&nbsp;It&nbsp;uses&nbsp;reflect&nbsp;to&nbsp;print&nbsp;the&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2416200">func</span>&nbsp;<span class="op" id="2416205">(</span><span class="ident" id="2416206">p</span>&nbsp;<span class="op" id="2416208">*</span><span class="ident" id="2416209">pp</span><span class="op" id="2416211">)</span>&nbsp;<span class="ident" id="2416213">printReflectValue</span><span class="op" id="2416230">(</span><span class="ident" id="2416231">value</span>&nbsp;<span class="ident" id="2416237">reflect</span><span class="op" id="2416244">.</span><span class="ident" id="2416245">Value</span><span class="op" id="2416250">,</span>&nbsp;<span class="ident" id="2416252">verb</span>&nbsp;<span class="builtintype" id="2416257">rune</span><span class="op" id="2416261">,</span>&nbsp;<span class="ident" id="2416263">depth</span>&nbsp;<span class="builtintype" id="2416269">int</span><span class="op" id="2416272">)</span>&nbsp;<span class="op" id="2416274">(</span><span class="ident" id="2416275">wasString</span>&nbsp;<span class="builtintype" id="2416285">bool</span><span class="op" id="2416289">)</span>&nbsp;<span class="op" id="2416291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416294">oldValue</span>&nbsp;<span class="op" id="2416303">:=</span>&nbsp;<span class="ident" id="2416306">p</span><span class="op" id="2416307">.</span><span class="ident" id="2416308">value</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416315">p</span><span class="op" id="2416316">.</span><span class="ident" id="2416317">value</span>&nbsp;<span class="op" id="2416323">=</span>&nbsp;<span class="ident" id="2416325">value</span><br>
<span class="lineno"></span><span class="ident" id="2416331">BigSwitch</span><span class="op" id="2416340">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416343">switch</span>&nbsp;<span class="ident" id="2416350">f</span>&nbsp;<span class="op" id="2416352">:=</span>&nbsp;<span class="ident" id="2416355">value</span><span class="op" id="2416360">;</span>&nbsp;<span class="ident" id="2416362">f</span><span class="op" id="2416363">.</span><span class="ident" id="2416364">Kind</span><span class="op" id="2416368">(</span><span class="op" id="2416369">)</span>&nbsp;<span class="op" id="2416371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416374">case</span>&nbsp;<span class="ident" id="2416379">reflect</span><span class="op" id="2416386">.</span><span class="ident" id="2416387">Bool</span><span class="op" id="2416391">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416395">p</span><span class="op" id="2416396">.</span><span class="ident" id="2416397">fmtBool</span><span class="op" id="2416404">(</span><span class="ident" id="2416405">f</span><span class="op" id="2416406">.</span><span class="ident" id="2416407">Bool</span><span class="op" id="2416411">(</span><span class="op" id="2416412">)</span><span class="op" id="2416413">,</span>&nbsp;<span class="ident" id="2416415">verb</span><span class="op" id="2416419">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416422">case</span>&nbsp;<span class="ident" id="2416427">reflect</span><span class="op" id="2416434">.</span><span class="ident" id="2416435">Int</span><span class="op" id="2416438">,</span>&nbsp;<span class="ident" id="2416440">reflect</span><span class="op" id="2416447">.</span><span class="ident" id="2416448">Int8</span><span class="op" id="2416452">,</span>&nbsp;<span class="ident" id="2416454">reflect</span><span class="op" id="2416461">.</span><span class="ident" id="2416462">Int16</span><span class="op" id="2416467">,</span>&nbsp;<span class="ident" id="2416469">reflect</span><span class="op" id="2416476">.</span><span class="ident" id="2416477">Int32</span><span class="op" id="2416482">,</span>&nbsp;<span class="ident" id="2416484">reflect</span><span class="op" id="2416491">.</span><span class="ident" id="2416492">Int64</span><span class="op" id="2416497">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416501">p</span><span class="op" id="2416502">.</span><span class="ident" id="2416503">fmtInt64</span><span class="op" id="2416511">(</span><span class="ident" id="2416512">f</span><span class="op" id="2416513">.</span><span class="ident" id="2416514">Int</span><span class="op" id="2416517">(</span><span class="op" id="2416518">)</span><span class="op" id="2416519">,</span>&nbsp;<span class="ident" id="2416521">verb</span><span class="op" id="2416525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416528">case</span>&nbsp;<span class="ident" id="2416533">reflect</span><span class="op" id="2416540">.</span><span class="ident" id="2416541">Uint</span><span class="op" id="2416545">,</span>&nbsp;<span class="ident" id="2416547">reflect</span><span class="op" id="2416554">.</span><span class="ident" id="2416555">Uint8</span><span class="op" id="2416560">,</span>&nbsp;<span class="ident" id="2416562">reflect</span><span class="op" id="2416569">.</span><span class="ident" id="2416570">Uint16</span><span class="op" id="2416576">,</span>&nbsp;<span class="ident" id="2416578">reflect</span><span class="op" id="2416585">.</span><span class="ident" id="2416586">Uint32</span><span class="op" id="2416592">,</span>&nbsp;<span class="ident" id="2416594">reflect</span><span class="op" id="2416601">.</span><span class="ident" id="2416602">Uint64</span><span class="op" id="2416608">,</span>&nbsp;<span class="ident" id="2416610">reflect</span><span class="op" id="2416617">.</span><span class="ident" id="2416618">Uintptr</span><span class="op" id="2416625">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416629">p</span><span class="op" id="2416630">.</span><span class="ident" id="2416631">fmtUint64</span><span class="op" id="2416640">(</span><span class="ident" id="2416641">f</span><span class="op" id="2416642">.</span><span class="ident" id="2416643">Uint</span><span class="op" id="2416647">(</span><span class="op" id="2416648">)</span><span class="op" id="2416649">,</span>&nbsp;<span class="ident" id="2416651">verb</span><span class="op" id="2416655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416658">case</span>&nbsp;<span class="ident" id="2416663">reflect</span><span class="op" id="2416670">.</span><span class="ident" id="2416671">Float32</span><span class="op" id="2416678">,</span>&nbsp;<span class="ident" id="2416680">reflect</span><span class="op" id="2416687">.</span><span class="ident" id="2416688">Float64</span><span class="op" id="2416695">:</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416699">if</span>&nbsp;<span class="ident" id="2416702">f</span><span class="op" id="2416703">.</span><span class="ident" id="2416704">Type</span><span class="op" id="2416708">(</span><span class="op" id="2416709">)</span><span class="op" id="2416710">.</span><span class="ident" id="2416711">Size</span><span class="op" id="2416715">(</span><span class="op" id="2416716">)</span>&nbsp;<span class="op" id="2416718">==</span>&nbsp;<span class="num" id="2416721">4</span>&nbsp;<span class="op" id="2416723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416728">p</span><span class="op" id="2416729">.</span><span class="ident" id="2416730">fmtFloat32</span><span class="op" id="2416740">(</span><span class="builtintype" id="2416741">float32</span><span class="op" id="2416748">(</span><span class="ident" id="2416749">f</span><span class="op" id="2416750">.</span><span class="ident" id="2416751">Float</span><span class="op" id="2416756">(</span><span class="op" id="2416757">)</span><span class="op" id="2416758">)</span><span class="op" id="2416759">,</span>&nbsp;<span class="ident" id="2416761">verb</span><span class="op" id="2416765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2416769">}</span>&nbsp;<span class="keyword" id="2416771">else</span>&nbsp;<span class="op" id="2416776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416781">p</span><span class="op" id="2416782">.</span><span class="ident" id="2416783">fmtFloat64</span><span class="op" id="2416793">(</span><span class="ident" id="2416794">f</span><span class="op" id="2416795">.</span><span class="ident" id="2416796">Float</span><span class="op" id="2416801">(</span><span class="op" id="2416802">)</span><span class="op" id="2416803">,</span>&nbsp;<span class="ident" id="2416805">verb</span><span class="op" id="2416809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2416813">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416816">case</span>&nbsp;<span class="ident" id="2416821">reflect</span><span class="op" id="2416828">.</span><span class="ident" id="2416829">Complex64</span><span class="op" id="2416838">,</span>&nbsp;<span class="ident" id="2416840">reflect</span><span class="op" id="2416847">.</span><span class="ident" id="2416848">Complex128</span><span class="op" id="2416858">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416862">if</span>&nbsp;<span class="ident" id="2416865">f</span><span class="op" id="2416866">.</span><span class="ident" id="2416867">Type</span><span class="op" id="2416871">(</span><span class="op" id="2416872">)</span><span class="op" id="2416873">.</span><span class="ident" id="2416874">Size</span><span class="op" id="2416878">(</span><span class="op" id="2416879">)</span>&nbsp;<span class="op" id="2416881">==</span>&nbsp;<span class="num" id="2416884">8</span>&nbsp;<span class="op" id="2416886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416891">p</span><span class="op" id="2416892">.</span><span class="ident" id="2416893">fmtComplex64</span><span class="op" id="2416905">(</span><span class="builtintype" id="2416906">complex64</span><span class="op" id="2416915">(</span><span class="ident" id="2416916">f</span><span class="op" id="2416917">.</span><span class="ident" id="2416918">Complex</span><span class="op" id="2416925">(</span><span class="op" id="2416926">)</span><span class="op" id="2416927">)</span><span class="op" id="2416928">,</span>&nbsp;<span class="ident" id="2416930">verb</span><span class="op" id="2416934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2416938">}</span>&nbsp;<span class="keyword" id="2416940">else</span>&nbsp;<span class="op" id="2416945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2416950">p</span><span class="op" id="2416951">.</span><span class="ident" id="2416952">fmtComplex128</span><span class="op" id="2416965">(</span><span class="ident" id="2416966">f</span><span class="op" id="2416967">.</span><span class="ident" id="2416968">Complex</span><span class="op" id="2416975">(</span><span class="op" id="2416976">)</span><span class="op" id="2416977">,</span>&nbsp;<span class="ident" id="2416979">verb</span><span class="op" id="2416983">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2416987">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2416990">case</span>&nbsp;<span class="ident" id="2416995">reflect</span><span class="op" id="2417002">.</span><span class="ident" id="2417003">String</span><span class="op" id="2417009">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417013">p</span><span class="op" id="2417014">.</span><span class="ident" id="2417015">fmtString</span><span class="op" id="2417024">(</span><span class="ident" id="2417025">f</span><span class="op" id="2417026">.</span><span class="ident" id="2417027">String</span><span class="op" id="2417033">(</span><span class="op" id="2417034">)</span><span class="op" id="2417035">,</span>&nbsp;<span class="ident" id="2417037">verb</span><span class="op" id="2417041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417044">case</span>&nbsp;<span class="ident" id="2417049">reflect</span><span class="op" id="2417056">.</span><span class="ident" id="2417057">Map</span><span class="op" id="2417060">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417064">if</span>&nbsp;<span class="ident" id="2417067">p</span><span class="op" id="2417068">.</span><span class="ident" id="2417069">fmt</span><span class="op" id="2417072">.</span><span class="ident" id="2417073">sharpV</span>&nbsp;<span class="op" id="2417080">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417085">p</span><span class="op" id="2417086">.</span><span class="ident" id="2417087">buf</span><span class="op" id="2417090">.</span><span class="ident" id="2417091">WriteString</span><span class="op" id="2417102">(</span><span class="ident" id="2417103">f</span><span class="op" id="2417104">.</span><span class="ident" id="2417105">Type</span><span class="op" id="2417109">(</span><span class="op" id="2417110">)</span><span class="op" id="2417111">.</span><span class="ident" id="2417112">String</span><span class="op" id="2417118">(</span><span class="op" id="2417119">)</span><span class="op" id="2417120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417125">if</span>&nbsp;<span class="ident" id="2417128">f</span><span class="op" id="2417129">.</span><span class="ident" id="2417130">IsNil</span><span class="op" id="2417135">(</span><span class="op" id="2417136">)</span>&nbsp;<span class="op" id="2417138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417144">p</span><span class="op" id="2417145">.</span><span class="ident" id="2417146">buf</span><span class="op" id="2417149">.</span><span class="ident" id="2417150">WriteString</span><span class="op" id="2417161">(</span><span class="string" id="2417162">&#34;(nil)&#34;</span><span class="op" id="2417169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417175">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417184">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417189">p</span><span class="op" id="2417190">.</span><span class="ident" id="2417191">buf</span><span class="op" id="2417194">.</span><span class="ident" id="2417195">WriteByte</span><span class="op" id="2417204">(</span><span class="string" id="2417205">&#39;{&#39;</span><span class="op" id="2417208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417212">}</span>&nbsp;<span class="keyword" id="2417214">else</span>&nbsp;<span class="op" id="2417219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417224">p</span><span class="op" id="2417225">.</span><span class="ident" id="2417226">buf</span><span class="op" id="2417229">.</span><span class="ident" id="2417230">Write</span><span class="op" id="2417235">(</span><span class="ident" id="2417236">mapBytes</span><span class="op" id="2417244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417252">keys</span>&nbsp;<span class="op" id="2417257">:=</span>&nbsp;<span class="ident" id="2417260">f</span><span class="op" id="2417261">.</span><span class="ident" id="2417262">MapKeys</span><span class="op" id="2417269">(</span><span class="op" id="2417270">)</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417274">for</span>&nbsp;<span class="ident" id="2417278">i</span><span class="op" id="2417279">,</span>&nbsp;<span class="ident" id="2417281">key</span>&nbsp;<span class="op" id="2417285">:=</span>&nbsp;<span class="keyword" id="2417288">range</span>&nbsp;<span class="ident" id="2417294">keys</span>&nbsp;<span class="op" id="2417299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417304">if</span>&nbsp;<span class="ident" id="2417307">i</span>&nbsp;<span class="op" id="2417309">&gt;</span>&nbsp;<span class="num" id="2417311">0</span>&nbsp;<span class="op" id="2417313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417319">if</span>&nbsp;<span class="ident" id="2417322">p</span><span class="op" id="2417323">.</span><span class="ident" id="2417324">fmt</span><span class="op" id="2417327">.</span><span class="ident" id="2417328">sharpV</span>&nbsp;<span class="op" id="2417335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417342">p</span><span class="op" id="2417343">.</span><span class="ident" id="2417344">buf</span><span class="op" id="2417347">.</span><span class="ident" id="2417348">Write</span><span class="op" id="2417353">(</span><span class="ident" id="2417354">commaSpaceBytes</span><span class="op" id="2417369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417375">}</span>&nbsp;<span class="keyword" id="2417377">else</span>&nbsp;<span class="op" id="2417382">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417389">p</span><span class="op" id="2417390">.</span><span class="ident" id="2417391">buf</span><span class="op" id="2417394">.</span><span class="ident" id="2417395">WriteByte</span><span class="op" id="2417404">(</span><span class="string" id="2417405">&#39;&nbsp;&#39;</span><span class="op" id="2417408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417419">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417424">p</span><span class="op" id="2417425">.</span><span class="ident" id="2417426">printValue</span><span class="op" id="2417436">(</span><span class="ident" id="2417437">key</span><span class="op" id="2417440">,</span>&nbsp;<span class="ident" id="2417442">verb</span><span class="op" id="2417446">,</span>&nbsp;<span class="ident" id="2417448">depth</span><span class="op" id="2417453">+</span><span class="num" id="2417454">1</span><span class="op" id="2417455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417460">p</span><span class="op" id="2417461">.</span><span class="ident" id="2417462">buf</span><span class="op" id="2417465">.</span><span class="ident" id="2417466">WriteByte</span><span class="op" id="2417475">(</span><span class="string" id="2417476">&#39;:&#39;</span><span class="op" id="2417479">)</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417484">p</span><span class="op" id="2417485">.</span><span class="ident" id="2417486">printValue</span><span class="op" id="2417496">(</span><span class="ident" id="2417497">f</span><span class="op" id="2417498">.</span><span class="ident" id="2417499">MapIndex</span><span class="op" id="2417507">(</span><span class="ident" id="2417508">key</span><span class="op" id="2417511">)</span><span class="op" id="2417512">,</span>&nbsp;<span class="ident" id="2417514">verb</span><span class="op" id="2417518">,</span>&nbsp;<span class="ident" id="2417520">depth</span><span class="op" id="2417525">+</span><span class="num" id="2417526">1</span><span class="op" id="2417527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417535">if</span>&nbsp;<span class="ident" id="2417538">p</span><span class="op" id="2417539">.</span><span class="ident" id="2417540">fmt</span><span class="op" id="2417543">.</span><span class="ident" id="2417544">sharpV</span>&nbsp;<span class="op" id="2417551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417556">p</span><span class="op" id="2417557">.</span><span class="ident" id="2417558">buf</span><span class="op" id="2417561">.</span><span class="ident" id="2417562">WriteByte</span><span class="op" id="2417571">(</span><span class="string" id="2417572">&#39;}&#39;</span><span class="op" id="2417575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417579">}</span>&nbsp;<span class="keyword" id="2417581">else</span>&nbsp;<span class="op" id="2417586">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417591">p</span><span class="op" id="2417592">.</span><span class="ident" id="2417593">buf</span><span class="op" id="2417596">.</span><span class="ident" id="2417597">WriteByte</span><span class="op" id="2417606">(</span><span class="string" id="2417607">&#39;]&#39;</span><span class="op" id="2417610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417617">case</span>&nbsp;<span class="ident" id="2417622">reflect</span><span class="op" id="2417629">.</span><span class="ident" id="2417630">Struct</span><span class="op" id="2417636">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417640">if</span>&nbsp;<span class="ident" id="2417643">p</span><span class="op" id="2417644">.</span><span class="ident" id="2417645">fmt</span><span class="op" id="2417648">.</span><span class="ident" id="2417649">sharpV</span>&nbsp;<span class="op" id="2417656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417661">p</span><span class="op" id="2417662">.</span><span class="ident" id="2417663">buf</span><span class="op" id="2417666">.</span><span class="ident" id="2417667">WriteString</span><span class="op" id="2417678">(</span><span class="ident" id="2417679">value</span><span class="op" id="2417684">.</span><span class="ident" id="2417685">Type</span><span class="op" id="2417689">(</span><span class="op" id="2417690">)</span><span class="op" id="2417691">.</span><span class="ident" id="2417692">String</span><span class="op" id="2417698">(</span><span class="op" id="2417699">)</span><span class="op" id="2417700">)</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417708">p</span><span class="op" id="2417709">.</span><span class="ident" id="2417710">add</span><span class="op" id="2417713">(</span><span class="string" id="2417714">&#39;{&#39;</span><span class="op" id="2417717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417721">v</span>&nbsp;<span class="op" id="2417723">:=</span>&nbsp;<span class="ident" id="2417726">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417730">t</span>&nbsp;<span class="op" id="2417732">:=</span>&nbsp;<span class="ident" id="2417735">v</span><span class="op" id="2417736">.</span><span class="ident" id="2417737">Type</span><span class="op" id="2417741">(</span><span class="op" id="2417742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417746">for</span>&nbsp;<span class="ident" id="2417750">i</span>&nbsp;<span class="op" id="2417752">:=</span>&nbsp;<span class="num" id="2417755">0</span><span class="op" id="2417756">;</span>&nbsp;<span class="ident" id="2417758">i</span>&nbsp;<span class="op" id="2417760">&lt;</span>&nbsp;<span class="ident" id="2417762">v</span><span class="op" id="2417763">.</span><span class="ident" id="2417764">NumField</span><span class="op" id="2417772">(</span><span class="op" id="2417773">)</span><span class="op" id="2417774">;</span>&nbsp;<span class="ident" id="2417776">i</span><span class="op" id="2417777">++</span>&nbsp;<span class="op" id="2417780">{</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417785">if</span>&nbsp;<span class="ident" id="2417788">i</span>&nbsp;<span class="op" id="2417790">&gt;</span>&nbsp;<span class="num" id="2417792">0</span>&nbsp;<span class="op" id="2417794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417800">if</span>&nbsp;<span class="ident" id="2417803">p</span><span class="op" id="2417804">.</span><span class="ident" id="2417805">fmt</span><span class="op" id="2417808">.</span><span class="ident" id="2417809">sharpV</span>&nbsp;<span class="op" id="2417816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417823">p</span><span class="op" id="2417824">.</span><span class="ident" id="2417825">buf</span><span class="op" id="2417828">.</span><span class="ident" id="2417829">Write</span><span class="op" id="2417834">(</span><span class="ident" id="2417835">commaSpaceBytes</span><span class="op" id="2417850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417856">}</span>&nbsp;<span class="keyword" id="2417858">else</span>&nbsp;<span class="op" id="2417863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417870">p</span><span class="op" id="2417871">.</span><span class="ident" id="2417872">buf</span><span class="op" id="2417875">.</span><span class="ident" id="2417876">WriteByte</span><span class="op" id="2417885">(</span><span class="string" id="2417886">&#39;&nbsp;&#39;</span><span class="op" id="2417889">)</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417895">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2417900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417905">if</span>&nbsp;<span class="ident" id="2417908">p</span><span class="op" id="2417909">.</span><span class="ident" id="2417910">fmt</span><span class="op" id="2417913">.</span><span class="ident" id="2417914">plusV</span>&nbsp;<span class="op" id="2417920">||</span>&nbsp;<span class="ident" id="2417923">p</span><span class="op" id="2417924">.</span><span class="ident" id="2417925">fmt</span><span class="op" id="2417928">.</span><span class="ident" id="2417929">sharpV</span>&nbsp;<span class="op" id="2417936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2417942">if</span>&nbsp;<span class="ident" id="2417945">f</span>&nbsp;<span class="op" id="2417947">:=</span>&nbsp;<span class="ident" id="2417950">t</span><span class="op" id="2417951">.</span><span class="ident" id="2417952">Field</span><span class="op" id="2417957">(</span><span class="ident" id="2417958">i</span><span class="op" id="2417959">)</span><span class="op" id="2417960">;</span>&nbsp;<span class="ident" id="2417962">f</span><span class="op" id="2417963">.</span><span class="ident" id="2417964">Name</span>&nbsp;<span class="op" id="2417969">!=</span>&nbsp;<span class="string" id="2417972">&#34;&#34;</span>&nbsp;<span class="op" id="2417975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2417982">p</span><span class="op" id="2417983">.</span><span class="ident" id="2417984">buf</span><span class="op" id="2417987">.</span><span class="ident" id="2417988">WriteString</span><span class="op" id="2417999">(</span><span class="ident" id="2418000">f</span><span class="op" id="2418001">.</span><span class="ident" id="2418002">Name</span><span class="op" id="2418006">)</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418013">p</span><span class="op" id="2418014">.</span><span class="ident" id="2418015">buf</span><span class="op" id="2418018">.</span><span class="ident" id="2418019">WriteByte</span><span class="op" id="2418028">(</span><span class="string" id="2418029">&#39;:&#39;</span><span class="op" id="2418032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418038">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418043">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418048">p</span><span class="op" id="2418049">.</span><span class="ident" id="2418050">printValue</span><span class="op" id="2418060">(</span><span class="ident" id="2418061">getField</span><span class="op" id="2418069">(</span><span class="ident" id="2418070">v</span><span class="op" id="2418071">,</span>&nbsp;<span class="ident" id="2418073">i</span><span class="op" id="2418074">)</span><span class="op" id="2418075">,</span>&nbsp;<span class="ident" id="2418077">verb</span><span class="op" id="2418081">,</span>&nbsp;<span class="ident" id="2418083">depth</span><span class="op" id="2418088">+</span><span class="num" id="2418089">1</span><span class="op" id="2418090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418094">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418098">p</span><span class="op" id="2418099">.</span><span class="ident" id="2418100">buf</span><span class="op" id="2418103">.</span><span class="ident" id="2418104">WriteByte</span><span class="op" id="2418113">(</span><span class="string" id="2418114">&#39;}&#39;</span><span class="op" id="2418117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2418120">case</span>&nbsp;<span class="ident" id="2418125">reflect</span><span class="op" id="2418132">.</span><span class="ident" id="2418133">Interface</span><span class="op" id="2418142">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418146">value</span>&nbsp;<span class="op" id="2418152">:=</span>&nbsp;<span class="ident" id="2418155">f</span><span class="op" id="2418156">.</span><span class="ident" id="2418157">Elem</span><span class="op" id="2418161">(</span><span class="op" id="2418162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2418166">if</span>&nbsp;<span class="op" id="2418169">!</span><span class="ident" id="2418170">value</span><span class="op" id="2418175">.</span><span class="ident" id="2418176">IsValid</span><span class="op" id="2418183">(</span><span class="op" id="2418184">)</span>&nbsp;<span class="op" id="2418186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2418191">if</span>&nbsp;<span class="ident" id="2418194">p</span><span class="op" id="2418195">.</span><span class="ident" id="2418196">fmt</span><span class="op" id="2418199">.</span><span class="ident" id="2418200">sharpV</span>&nbsp;<span class="op" id="2418207">{</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418213">p</span><span class="op" id="2418214">.</span><span class="ident" id="2418215">buf</span><span class="op" id="2418218">.</span><span class="ident" id="2418219">WriteString</span><span class="op" id="2418230">(</span><span class="ident" id="2418231">f</span><span class="op" id="2418232">.</span><span class="ident" id="2418233">Type</span><span class="op" id="2418237">(</span><span class="op" id="2418238">)</span><span class="op" id="2418239">.</span><span class="ident" id="2418240">String</span><span class="op" id="2418246">(</span><span class="op" id="2418247">)</span><span class="op" id="2418248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418254">p</span><span class="op" id="2418255">.</span><span class="ident" id="2418256">buf</span><span class="op" id="2418259">.</span><span class="ident" id="2418260">Write</span><span class="op" id="2418265">(</span><span class="ident" id="2418266">nilParenBytes</span><span class="op" id="2418279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418284">}</span>&nbsp;<span class="keyword" id="2418286">else</span>&nbsp;<span class="op" id="2418291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418297">p</span><span class="op" id="2418298">.</span><span class="ident" id="2418299">buf</span><span class="op" id="2418302">.</span><span class="ident" id="2418303">Write</span><span class="op" id="2418308">(</span><span class="ident" id="2418309">nilAngleBytes</span><span class="op" id="2418322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418327">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418331">}</span>&nbsp;<span class="keyword" id="2418333">else</span>&nbsp;<span class="op" id="2418338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418343">wasString</span>&nbsp;<span class="op" id="2418353">=</span>&nbsp;<span class="ident" id="2418355">p</span><span class="op" id="2418356">.</span><span class="ident" id="2418357">printValue</span><span class="op" id="2418367">(</span><span class="ident" id="2418368">value</span><span class="op" id="2418373">,</span>&nbsp;<span class="ident" id="2418375">verb</span><span class="op" id="2418379">,</span>&nbsp;<span class="ident" id="2418381">depth</span><span class="op" id="2418386">+</span><span class="num" id="2418387">1</span><span class="op" id="2418388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418392">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2418395">case</span>&nbsp;<span class="ident" id="2418400">reflect</span><span class="op" id="2418407">.</span><span class="ident" id="2418408">Array</span><span class="op" id="2418413">,</span>&nbsp;<span class="ident" id="2418415">reflect</span><span class="op" id="2418422">.</span><span class="ident" id="2418423">Slice</span><span class="op" id="2418428">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418432">//&nbsp;Byte&nbsp;slices&nbsp;are&nbsp;special:</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418462">//&nbsp;-&nbsp;Handle&nbsp;[]byte&nbsp;(==&nbsp;[]uint8)&nbsp;with&nbsp;fmtBytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418511">//&nbsp;-&nbsp;Handle&nbsp;[]T,&nbsp;where&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;byte&nbsp;type,&nbsp;with&nbsp;fmtBytes&nbsp;only</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418579">//&nbsp;&nbsp;&nbsp;for&nbsp;the&nbsp;s,&nbsp;q,&nbsp;an&nbsp;x&nbsp;verbs.&nbsp;For&nbsp;other&nbsp;verbs,&nbsp;T&nbsp;might&nbsp;be&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418642">//&nbsp;&nbsp;&nbsp;Stringer,&nbsp;so&nbsp;we&nbsp;use&nbsp;printValue&nbsp;to&nbsp;print&nbsp;each&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2418703">if</span>&nbsp;<span class="ident" id="2418706">typ</span>&nbsp;<span class="op" id="2418710">:=</span>&nbsp;<span class="ident" id="2418713">f</span><span class="op" id="2418714">.</span><span class="ident" id="2418715">Type</span><span class="op" id="2418719">(</span><span class="op" id="2418720">)</span><span class="op" id="2418721">;</span>&nbsp;<span class="ident" id="2418723">typ</span><span class="op" id="2418726">.</span><span class="ident" id="2418727">Elem</span><span class="op" id="2418731">(</span><span class="op" id="2418732">)</span><span class="op" id="2418733">.</span><span class="ident" id="2418734">Kind</span><span class="op" id="2418738">(</span><span class="op" id="2418739">)</span>&nbsp;<span class="op" id="2418741">==</span>&nbsp;<span class="ident" id="2418744">reflect</span><span class="op" id="2418751">.</span><span class="ident" id="2418752">Uint8</span>&nbsp;<span class="op" id="2418758">&amp;&amp;</span>&nbsp;<span class="op" id="2418761">(</span><span class="ident" id="2418762">typ</span><span class="op" id="2418765">.</span><span class="ident" id="2418766">Elem</span><span class="op" id="2418770">(</span><span class="op" id="2418771">)</span>&nbsp;<span class="op" id="2418773">==</span>&nbsp;<span class="ident" id="2418776">byteType</span>&nbsp;<span class="op" id="2418785">||</span>&nbsp;<span class="ident" id="2418788">verb</span>&nbsp;<span class="op" id="2418793">==</span>&nbsp;<span class="string" id="2418796">&#39;s&#39;</span>&nbsp;<span class="op" id="2418800">||</span>&nbsp;<span class="ident" id="2418803">verb</span>&nbsp;<span class="op" id="2418808">==</span>&nbsp;<span class="string" id="2418811">&#39;q&#39;</span>&nbsp;<span class="op" id="2418815">||</span>&nbsp;<span class="ident" id="2418818">verb</span>&nbsp;<span class="op" id="2418823">==</span>&nbsp;<span class="string" id="2418826">&#39;x&#39;</span><span class="op" id="2418829">)</span>&nbsp;<span class="op" id="2418831">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2418836">var</span>&nbsp;<span class="ident" id="2418840">bytes</span>&nbsp;<span class="op" id="2418846">[</span><span class="op" id="2418847">]</span><span class="builtintype" id="2418848">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2418856">if</span>&nbsp;<span class="ident" id="2418859">f</span><span class="op" id="2418860">.</span><span class="ident" id="2418861">Kind</span><span class="op" id="2418865">(</span><span class="op" id="2418866">)</span>&nbsp;<span class="op" id="2418868">==</span>&nbsp;<span class="ident" id="2418871">reflect</span><span class="op" id="2418878">.</span><span class="ident" id="2418879">Slice</span>&nbsp;<span class="op" id="2418885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418891">bytes</span>&nbsp;<span class="op" id="2418897">=</span>&nbsp;<span class="ident" id="2418899">f</span><span class="op" id="2418900">.</span><span class="ident" id="2418901">Bytes</span><span class="op" id="2418906">(</span><span class="op" id="2418907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418912">}</span>&nbsp;<span class="keyword" id="2418914">else</span>&nbsp;<span class="keyword" id="2418919">if</span>&nbsp;<span class="ident" id="2418922">f</span><span class="op" id="2418923">.</span><span class="ident" id="2418924">CanAddr</span><span class="op" id="2418931">(</span><span class="op" id="2418932">)</span>&nbsp;<span class="op" id="2418934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2418940">bytes</span>&nbsp;<span class="op" id="2418946">=</span>&nbsp;<span class="ident" id="2418948">f</span><span class="op" id="2418949">.</span><span class="ident" id="2418950">Slice</span><span class="op" id="2418955">(</span><span class="num" id="2418956">0</span><span class="op" id="2418957">,</span>&nbsp;<span class="ident" id="2418959">f</span><span class="op" id="2418960">.</span><span class="ident" id="2418961">Len</span><span class="op" id="2418964">(</span><span class="op" id="2418965">)</span><span class="op" id="2418966">)</span><span class="op" id="2418967">.</span><span class="ident" id="2418968">Bytes</span><span class="op" id="2418973">(</span><span class="op" id="2418974">)</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2418979">}</span>&nbsp;<span class="keyword" id="2418981">else</span>&nbsp;<span class="op" id="2418986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2418992">//&nbsp;We&nbsp;have&nbsp;an&nbsp;array,&nbsp;but&nbsp;we&nbsp;cannot&nbsp;Slice()&nbsp;a&nbsp;non-addressable&nbsp;array,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2419064">//&nbsp;so&nbsp;we&nbsp;build&nbsp;a&nbsp;slice&nbsp;by&nbsp;hand.&nbsp;This&nbsp;is&nbsp;a&nbsp;rare&nbsp;case&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;nice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2419141">//&nbsp;if&nbsp;reflection&nbsp;could&nbsp;help&nbsp;a&nbsp;little&nbsp;more.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419188">bytes</span>&nbsp;<span class="op" id="2419194">=</span>&nbsp;<span class="builtinfunc" id="2419196">make</span><span class="op" id="2419200">(</span><span class="op" id="2419201">[</span><span class="op" id="2419202">]</span><span class="builtintype" id="2419203">byte</span><span class="op" id="2419207">,</span>&nbsp;<span class="ident" id="2419209">f</span><span class="op" id="2419210">.</span><span class="ident" id="2419211">Len</span><span class="op" id="2419214">(</span><span class="op" id="2419215">)</span><span class="op" id="2419216">)</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419222">for</span>&nbsp;<span class="ident" id="2419226">i</span>&nbsp;<span class="op" id="2419228">:=</span>&nbsp;<span class="keyword" id="2419231">range</span>&nbsp;<span class="ident" id="2419237">bytes</span>&nbsp;<span class="op" id="2419243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419250">bytes</span><span class="op" id="2419255">[</span><span class="ident" id="2419256">i</span><span class="op" id="2419257">]</span>&nbsp;<span class="op" id="2419259">=</span>&nbsp;<span class="builtintype" id="2419261">byte</span><span class="op" id="2419265">(</span><span class="ident" id="2419266">f</span><span class="op" id="2419267">.</span><span class="ident" id="2419268">Index</span><span class="op" id="2419273">(</span><span class="ident" id="2419274">i</span><span class="op" id="2419275">)</span><span class="op" id="2419276">.</span><span class="ident" id="2419277">Uint</span><span class="op" id="2419281">(</span><span class="op" id="2419282">)</span><span class="op" id="2419283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419299">p</span><span class="op" id="2419300">.</span><span class="ident" id="2419301">fmtBytes</span><span class="op" id="2419309">(</span><span class="ident" id="2419310">bytes</span><span class="op" id="2419315">,</span>&nbsp;<span class="ident" id="2419317">verb</span><span class="op" id="2419321">,</span>&nbsp;<span class="ident" id="2419323">typ</span><span class="op" id="2419326">,</span>&nbsp;<span class="ident" id="2419328">depth</span><span class="op" id="2419333">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419338">wasString</span>&nbsp;<span class="op" id="2419348">=</span>&nbsp;<span class="ident" id="2419350">verb</span>&nbsp;<span class="op" id="2419355">==</span>&nbsp;<span class="string" id="2419358">&#39;s&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419365">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419377">if</span>&nbsp;<span class="ident" id="2419380">p</span><span class="op" id="2419381">.</span><span class="ident" id="2419382">fmt</span><span class="op" id="2419385">.</span><span class="ident" id="2419386">sharpV</span>&nbsp;<span class="op" id="2419393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419398">p</span><span class="op" id="2419399">.</span><span class="ident" id="2419400">buf</span><span class="op" id="2419403">.</span><span class="ident" id="2419404">WriteString</span><span class="op" id="2419415">(</span><span class="ident" id="2419416">value</span><span class="op" id="2419421">.</span><span class="ident" id="2419422">Type</span><span class="op" id="2419426">(</span><span class="op" id="2419427">)</span><span class="op" id="2419428">.</span><span class="ident" id="2419429">String</span><span class="op" id="2419435">(</span><span class="op" id="2419436">)</span><span class="op" id="2419437">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419442">if</span>&nbsp;<span class="ident" id="2419445">f</span><span class="op" id="2419446">.</span><span class="ident" id="2419447">Kind</span><span class="op" id="2419451">(</span><span class="op" id="2419452">)</span>&nbsp;<span class="op" id="2419454">==</span>&nbsp;<span class="ident" id="2419457">reflect</span><span class="op" id="2419464">.</span><span class="ident" id="2419465">Slice</span>&nbsp;<span class="op" id="2419471">&amp;&amp;</span>&nbsp;<span class="ident" id="2419474">f</span><span class="op" id="2419475">.</span><span class="ident" id="2419476">IsNil</span><span class="op" id="2419481">(</span><span class="op" id="2419482">)</span>&nbsp;<span class="op" id="2419484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419490">p</span><span class="op" id="2419491">.</span><span class="ident" id="2419492">buf</span><span class="op" id="2419495">.</span><span class="ident" id="2419496">WriteString</span><span class="op" id="2419507">(</span><span class="string" id="2419508">&#34;(nil)&#34;</span><span class="op" id="2419515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419521">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419535">p</span><span class="op" id="2419536">.</span><span class="ident" id="2419537">buf</span><span class="op" id="2419540">.</span><span class="ident" id="2419541">WriteByte</span><span class="op" id="2419550">(</span><span class="string" id="2419551">&#39;{&#39;</span><span class="op" id="2419554">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419558">}</span>&nbsp;<span class="keyword" id="2419560">else</span>&nbsp;<span class="op" id="2419565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419570">p</span><span class="op" id="2419571">.</span><span class="ident" id="2419572">buf</span><span class="op" id="2419575">.</span><span class="ident" id="2419576">WriteByte</span><span class="op" id="2419585">(</span><span class="string" id="2419586">&#39;[&#39;</span><span class="op" id="2419589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419597">for</span>&nbsp;<span class="ident" id="2419601">i</span>&nbsp;<span class="op" id="2419603">:=</span>&nbsp;<span class="num" id="2419606">0</span><span class="op" id="2419607">;</span>&nbsp;<span class="ident" id="2419609">i</span>&nbsp;<span class="op" id="2419611">&lt;</span>&nbsp;<span class="ident" id="2419613">f</span><span class="op" id="2419614">.</span><span class="ident" id="2419615">Len</span><span class="op" id="2419618">(</span><span class="op" id="2419619">)</span><span class="op" id="2419620">;</span>&nbsp;<span class="ident" id="2419622">i</span><span class="op" id="2419623">++</span>&nbsp;<span class="op" id="2419626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419631">if</span>&nbsp;<span class="ident" id="2419634">i</span>&nbsp;<span class="op" id="2419636">&gt;</span>&nbsp;<span class="num" id="2419638">0</span>&nbsp;<span class="op" id="2419640">{</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419646">if</span>&nbsp;<span class="ident" id="2419649">p</span><span class="op" id="2419650">.</span><span class="ident" id="2419651">fmt</span><span class="op" id="2419654">.</span><span class="ident" id="2419655">sharpV</span>&nbsp;<span class="op" id="2419662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419669">p</span><span class="op" id="2419670">.</span><span class="ident" id="2419671">buf</span><span class="op" id="2419674">.</span><span class="ident" id="2419675">Write</span><span class="op" id="2419680">(</span><span class="ident" id="2419681">commaSpaceBytes</span><span class="op" id="2419696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419702">}</span>&nbsp;<span class="keyword" id="2419704">else</span>&nbsp;<span class="op" id="2419709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419716">p</span><span class="op" id="2419717">.</span><span class="ident" id="2419718">buf</span><span class="op" id="2419721">.</span><span class="ident" id="2419722">WriteByte</span><span class="op" id="2419731">(</span><span class="string" id="2419732">&#39;&nbsp;&#39;</span><span class="op" id="2419735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419741">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419751">p</span><span class="op" id="2419752">.</span><span class="ident" id="2419753">printValue</span><span class="op" id="2419763">(</span><span class="ident" id="2419764">f</span><span class="op" id="2419765">.</span><span class="ident" id="2419766">Index</span><span class="op" id="2419771">(</span><span class="ident" id="2419772">i</span><span class="op" id="2419773">)</span><span class="op" id="2419774">,</span>&nbsp;<span class="ident" id="2419776">verb</span><span class="op" id="2419780">,</span>&nbsp;<span class="ident" id="2419782">depth</span><span class="op" id="2419787">+</span><span class="num" id="2419788">1</span><span class="op" id="2419789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419797">if</span>&nbsp;<span class="ident" id="2419800">p</span><span class="op" id="2419801">.</span><span class="ident" id="2419802">fmt</span><span class="op" id="2419805">.</span><span class="ident" id="2419806">sharpV</span>&nbsp;<span class="op" id="2419813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419818">p</span><span class="op" id="2419819">.</span><span class="ident" id="2419820">buf</span><span class="op" id="2419823">.</span><span class="ident" id="2419824">WriteByte</span><span class="op" id="2419833">(</span><span class="string" id="2419834">&#39;}&#39;</span><span class="op" id="2419837">)</span><br>
<span class="lineno">980</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419841">}</span>&nbsp;<span class="keyword" id="2419843">else</span>&nbsp;<span class="op" id="2419848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419853">p</span><span class="op" id="2419854">.</span><span class="ident" id="2419855">buf</span><span class="op" id="2419858">.</span><span class="ident" id="2419859">WriteByte</span><span class="op" id="2419868">(</span><span class="string" id="2419869">&#39;]&#39;</span><span class="op" id="2419872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2419876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2419879">case</span>&nbsp;<span class="ident" id="2419884">reflect</span><span class="op" id="2419891">.</span><span class="ident" id="2419892">Ptr</span><span class="op" id="2419895">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2419899">v</span>&nbsp;<span class="op" id="2419901">:=</span>&nbsp;<span class="ident" id="2419904">f</span><span class="op" id="2419905">.</span><span class="ident" id="2419906">Pointer</span><span class="op" id="2419913">(</span><span class="op" id="2419914">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2419918">//&nbsp;pointer&nbsp;to&nbsp;array&nbsp;or&nbsp;slice&nbsp;or&nbsp;struct?&nbsp;&nbsp;ok&nbsp;at&nbsp;top&nbsp;level</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2419977">//&nbsp;but&nbsp;not&nbsp;embedded&nbsp;(avoid&nbsp;loops)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420013">if</span>&nbsp;<span class="ident" id="2420016">v</span>&nbsp;<span class="op" id="2420018">!=</span>&nbsp;<span class="num" id="2420021">0</span>&nbsp;<span class="op" id="2420023">&amp;&amp;</span>&nbsp;<span class="ident" id="2420026">depth</span>&nbsp;<span class="op" id="2420032">==</span>&nbsp;<span class="num" id="2420035">0</span>&nbsp;<span class="op" id="2420037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420042">switch</span>&nbsp;<span class="ident" id="2420049">a</span>&nbsp;<span class="op" id="2420051">:=</span>&nbsp;<span class="ident" id="2420054">f</span><span class="op" id="2420055">.</span><span class="ident" id="2420056">Elem</span><span class="op" id="2420060">(</span><span class="op" id="2420061">)</span><span class="op" id="2420062">;</span>&nbsp;<span class="ident" id="2420064">a</span><span class="op" id="2420065">.</span><span class="ident" id="2420066">Kind</span><span class="op" id="2420070">(</span><span class="op" id="2420071">)</span>&nbsp;<span class="op" id="2420073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420078">case</span>&nbsp;<span class="ident" id="2420083">reflect</span><span class="op" id="2420090">.</span><span class="ident" id="2420091">Array</span><span class="op" id="2420096">,</span>&nbsp;<span class="ident" id="2420098">reflect</span><span class="op" id="2420105">.</span><span class="ident" id="2420106">Slice</span><span class="op" id="2420111">:</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420117">p</span><span class="op" id="2420118">.</span><span class="ident" id="2420119">buf</span><span class="op" id="2420122">.</span><span class="ident" id="2420123">WriteByte</span><span class="op" id="2420132">(</span><span class="string" id="2420133">&#39;&amp;&#39;</span><span class="op" id="2420136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420142">p</span><span class="op" id="2420143">.</span><span class="ident" id="2420144">printValue</span><span class="op" id="2420154">(</span><span class="ident" id="2420155">a</span><span class="op" id="2420156">,</span>&nbsp;<span class="ident" id="2420158">verb</span><span class="op" id="2420162">,</span>&nbsp;<span class="ident" id="2420164">depth</span><span class="op" id="2420169">+</span><span class="num" id="2420170">1</span><span class="op" id="2420171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420177">break</span>&nbsp;<span class="ident" id="2420183">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420196">case</span>&nbsp;<span class="ident" id="2420201">reflect</span><span class="op" id="2420208">.</span><span class="ident" id="2420209">Struct</span><span class="op" id="2420215">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420221">p</span><span class="op" id="2420222">.</span><span class="ident" id="2420223">buf</span><span class="op" id="2420226">.</span><span class="ident" id="2420227">WriteByte</span><span class="op" id="2420236">(</span><span class="string" id="2420237">&#39;&amp;&#39;</span><span class="op" id="2420240">)</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420246">p</span><span class="op" id="2420247">.</span><span class="ident" id="2420248">printValue</span><span class="op" id="2420258">(</span><span class="ident" id="2420259">a</span><span class="op" id="2420260">,</span>&nbsp;<span class="ident" id="2420262">verb</span><span class="op" id="2420266">,</span>&nbsp;<span class="ident" id="2420268">depth</span><span class="op" id="2420273">+</span><span class="num" id="2420274">1</span><span class="op" id="2420275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420281">break</span>&nbsp;<span class="ident" id="2420287">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420300">case</span>&nbsp;<span class="ident" id="2420305">reflect</span><span class="op" id="2420312">.</span><span class="ident" id="2420313">Map</span><span class="op" id="2420316">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420322">p</span><span class="op" id="2420323">.</span><span class="ident" id="2420324">buf</span><span class="op" id="2420327">.</span><span class="ident" id="2420328">WriteByte</span><span class="op" id="2420337">(</span><span class="string" id="2420338">&#39;&amp;&#39;</span><span class="op" id="2420341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420347">p</span><span class="op" id="2420348">.</span><span class="ident" id="2420349">printValue</span><span class="op" id="2420359">(</span><span class="ident" id="2420360">a</span><span class="op" id="2420361">,</span>&nbsp;<span class="ident" id="2420363">verb</span><span class="op" id="2420367">,</span>&nbsp;<span class="ident" id="2420369">depth</span><span class="op" id="2420374">+</span><span class="num" id="2420375">1</span><span class="op" id="2420376">)</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420382">break</span>&nbsp;<span class="ident" id="2420388">BigSwitch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420409">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420422">case</span>&nbsp;<span class="ident" id="2420427">reflect</span><span class="op" id="2420434">.</span><span class="ident" id="2420435">Chan</span><span class="op" id="2420439">,</span>&nbsp;<span class="ident" id="2420441">reflect</span><span class="op" id="2420448">.</span><span class="ident" id="2420449">Func</span><span class="op" id="2420453">,</span>&nbsp;<span class="ident" id="2420455">reflect</span><span class="op" id="2420462">.</span><span class="ident" id="2420463">UnsafePointer</span><span class="op" id="2420476">:</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420480">p</span><span class="op" id="2420481">.</span><span class="ident" id="2420482">fmtPointer</span><span class="op" id="2420492">(</span><span class="ident" id="2420493">value</span><span class="op" id="2420498">,</span>&nbsp;<span class="ident" id="2420500">verb</span><span class="op" id="2420504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420507">default</span><span class="op" id="2420514">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420518">p</span><span class="op" id="2420519">.</span><span class="ident" id="2420520">unknownType</span><span class="op" id="2420531">(</span><span class="ident" id="2420532">f</span><span class="op" id="2420533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420539">p</span><span class="op" id="2420540">.</span><span class="ident" id="2420541">value</span>&nbsp;<span class="op" id="2420547">=</span>&nbsp;<span class="ident" id="2420549">oldValue</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420559">return</span>&nbsp;<span class="ident" id="2420566">wasString</span><br>
<span class="lineno"></span><span class="op" id="2420576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2420579">//&nbsp;intFromArg&nbsp;gets&nbsp;the&nbsp;argNumth&nbsp;element&nbsp;of&nbsp;a.&nbsp;On&nbsp;return,&nbsp;isInt&nbsp;reports&nbsp;whether&nbsp;the&nbsp;argument&nbsp;has&nbsp;type&nbsp;int.</span><br>
<span class="lineno"></span><span class="keyword" id="2420685">func</span>&nbsp;<span class="ident" id="2420690">intFromArg</span><span class="op" id="2420700">(</span><span class="ident" id="2420701">a</span>&nbsp;<span class="op" id="2420703">[</span><span class="op" id="2420704">]</span><span class="keyword" id="2420705">interface</span><span class="op" id="2420714">{</span><span class="op" id="2420715">}</span><span class="op" id="2420716">,</span>&nbsp;<span class="ident" id="2420718">argNum</span>&nbsp;<span class="builtintype" id="2420725">int</span><span class="op" id="2420728">)</span>&nbsp;<span class="op" id="2420730">(</span><span class="ident" id="2420731">num</span>&nbsp;<span class="builtintype" id="2420735">int</span><span class="op" id="2420738">,</span>&nbsp;<span class="ident" id="2420740">isInt</span>&nbsp;<span class="builtintype" id="2420746">bool</span><span class="op" id="2420750">,</span>&nbsp;<span class="ident" id="2420752">newArgNum</span>&nbsp;<span class="builtintype" id="2420762">int</span><span class="op" id="2420765">)</span>&nbsp;<span class="op" id="2420767">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420770">newArgNum</span>&nbsp;<span class="op" id="2420780">=</span>&nbsp;<span class="ident" id="2420782">argNum</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420790">if</span>&nbsp;<span class="ident" id="2420793">argNum</span>&nbsp;<span class="op" id="2420800">&lt;</span>&nbsp;<span class="builtinfunc" id="2420802">len</span><span class="op" id="2420805">(</span><span class="ident" id="2420806">a</span><span class="op" id="2420807">)</span>&nbsp;<span class="op" id="2420809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420813">num</span><span class="op" id="2420816">,</span>&nbsp;<span class="ident" id="2420818">isInt</span>&nbsp;<span class="op" id="2420824">=</span>&nbsp;<span class="ident" id="2420826">a</span><span class="op" id="2420827">[</span><span class="ident" id="2420828">argNum</span><span class="op" id="2420834">]</span><span class="op" id="2420835">.</span><span class="op" id="2420836">(</span><span class="builtintype" id="2420837">int</span><span class="op" id="2420840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2420844">newArgNum</span>&nbsp;<span class="op" id="2420854">=</span>&nbsp;<span class="ident" id="2420856">argNum</span>&nbsp;<span class="op" id="2420863">+</span>&nbsp;<span class="num" id="2420865">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2420868">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2420871">return</span><br>
<span class="lineno"></span><span class="op" id="2420878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2420881">//&nbsp;parseArgNumber&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;number,&nbsp;minus&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2420950">//&nbsp;(explicit&nbsp;argument&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;but&nbsp;we&nbsp;want&nbsp;zero-indexed).</span><br>
<span class="lineno">1025</span><span class="comment" id="2421023">//&nbsp;The&nbsp;opening&nbsp;bracket&nbsp;is&nbsp;known&nbsp;to&nbsp;be&nbsp;present&nbsp;at&nbsp;format[0].</span><br>
<span class="lineno"></span><span class="comment" id="2421083">//&nbsp;The&nbsp;returned&nbsp;values&nbsp;are&nbsp;the&nbsp;index,&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;to&nbsp;consume</span><br>
<span class="lineno"></span><span class="comment" id="2421152">//&nbsp;up&nbsp;to&nbsp;the&nbsp;closing&nbsp;paren,&nbsp;if&nbsp;present,&nbsp;and&nbsp;whether&nbsp;the&nbsp;number&nbsp;parsed</span><br>
<span class="lineno"></span><span class="comment" id="2421222">//&nbsp;ok.&nbsp;The&nbsp;bytes&nbsp;to&nbsp;consume&nbsp;will&nbsp;be&nbsp;1&nbsp;if&nbsp;no&nbsp;closing&nbsp;paren&nbsp;is&nbsp;present.</span><br>
<span class="lineno"></span><span class="keyword" id="2421292">func</span>&nbsp;<span class="ident" id="2421297">parseArgNumber</span><span class="op" id="2421311">(</span><span class="ident" id="2421312">format</span>&nbsp;<span class="builtintype" id="2421319">string</span><span class="op" id="2421325">)</span>&nbsp;<span class="op" id="2421327">(</span><span class="ident" id="2421328">index</span>&nbsp;<span class="builtintype" id="2421334">int</span><span class="op" id="2421337">,</span>&nbsp;<span class="ident" id="2421339">wid</span>&nbsp;<span class="builtintype" id="2421343">int</span><span class="op" id="2421346">,</span>&nbsp;<span class="ident" id="2421348">ok</span>&nbsp;<span class="builtintype" id="2421351">bool</span><span class="op" id="2421355">)</span>&nbsp;<span class="op" id="2421357">{</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2421360">//&nbsp;Find&nbsp;closing&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421386">for</span>&nbsp;<span class="ident" id="2421390">i</span>&nbsp;<span class="op" id="2421392">:=</span>&nbsp;<span class="num" id="2421395">1</span><span class="op" id="2421396">;</span>&nbsp;<span class="ident" id="2421398">i</span>&nbsp;<span class="op" id="2421400">&lt;</span>&nbsp;<span class="builtinfunc" id="2421402">len</span><span class="op" id="2421405">(</span><span class="ident" id="2421406">format</span><span class="op" id="2421412">)</span><span class="op" id="2421413">;</span>&nbsp;<span class="ident" id="2421415">i</span><span class="op" id="2421416">++</span>&nbsp;<span class="op" id="2421419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421423">if</span>&nbsp;<span class="ident" id="2421426">format</span><span class="op" id="2421432">[</span><span class="ident" id="2421433">i</span><span class="op" id="2421434">]</span>&nbsp;<span class="op" id="2421436">==</span>&nbsp;<span class="string" id="2421439">&#39;]&#39;</span>&nbsp;<span class="op" id="2421443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2421448">width</span><span class="op" id="2421453">,</span>&nbsp;<span class="ident" id="2421455">ok</span><span class="op" id="2421457">,</span>&nbsp;<span class="ident" id="2421459">newi</span>&nbsp;<span class="op" id="2421464">:=</span>&nbsp;<span class="ident" id="2421467">parsenum</span><span class="op" id="2421475">(</span><span class="ident" id="2421476">format</span><span class="op" id="2421482">,</span>&nbsp;<span class="num" id="2421484">1</span><span class="op" id="2421485">,</span>&nbsp;<span class="ident" id="2421487">i</span><span class="op" id="2421488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421493">if</span>&nbsp;<span class="op" id="2421496">!</span><span class="ident" id="2421497">ok</span>&nbsp;<span class="op" id="2421500">||</span>&nbsp;<span class="ident" id="2421503">newi</span>&nbsp;<span class="op" id="2421508">!=</span>&nbsp;<span class="ident" id="2421511">i</span>&nbsp;<span class="op" id="2421513">{</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421519">return</span>&nbsp;<span class="num" id="2421526">0</span><span class="op" id="2421527">,</span>&nbsp;<span class="ident" id="2421529">i</span>&nbsp;<span class="op" id="2421531">+</span>&nbsp;<span class="num" id="2421533">1</span><span class="op" id="2421534">,</span>&nbsp;<span class="builtintype" id="2421536">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2421545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421550">return</span>&nbsp;<span class="ident" id="2421557">width</span>&nbsp;<span class="op" id="2421563">-</span>&nbsp;<span class="num" id="2421565">1</span><span class="op" id="2421566">,</span>&nbsp;<span class="ident" id="2421568">i</span>&nbsp;<span class="op" id="2421570">+</span>&nbsp;<span class="num" id="2421572">1</span><span class="op" id="2421573">,</span>&nbsp;<span class="builtintype" id="2421575">true</span>&nbsp;<span class="comment" id="2421580">//&nbsp;arg&nbsp;numbers&nbsp;are&nbsp;one-indexed&nbsp;and&nbsp;skip&nbsp;paren.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2421629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2421632">}</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2421635">return</span>&nbsp;<span class="num" id="2421642">0</span><span class="op" id="2421643">,</span>&nbsp;<span class="num" id="2421645">1</span><span class="op" id="2421646">,</span>&nbsp;<span class="builtintype" id="2421648">false</span><br>
<span class="lineno"></span><span class="op" id="2421654">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2421657">//&nbsp;argNumber&nbsp;returns&nbsp;the&nbsp;next&nbsp;argument&nbsp;to&nbsp;evaluate,&nbsp;which&nbsp;is&nbsp;either&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;passed-in</span><br>
<span class="lineno"></span><span class="comment" id="2421752">//&nbsp;argNum&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;bracketed&nbsp;integer&nbsp;that&nbsp;begins&nbsp;format[i:].&nbsp;It&nbsp;also&nbsp;returns</span><br>
<span class="lineno">1045</span><span class="comment" id="2421840">//&nbsp;the&nbsp;new&nbsp;value&nbsp;of&nbsp;i,&nbsp;that&nbsp;is,&nbsp;the&nbsp;index&nbsp;of&nbsp;the&nbsp;next&nbsp;byte&nbsp;of&nbsp;the&nbsp;format&nbsp;to&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="2421925">func</span>&nbsp;<span class="op" id="2421930">(</span><span class="ident" id="2421931">p</span>&nbsp;<span class="op" id="2421933">*</span><span class="ident" id="2421934">pp</span><span class="op" id="2421936">)</span>&nbsp;<span class="ident" id="2421938">argNumber</span><span class="op" id="2421947">(</span><span class="ident" id="2421948">argNum</span>&nbsp;<span class="builtintype" id="2421955">int</span><span class="op" id="2421958">,</span>&nbsp;<span class="ident" id="2421960">format</span>&nbsp;<span class="builtintype" id="2421967">string</span><span class="op" id="2421973">,</span>&nbsp;<span class="ident" id="2421975">i</span>&nbsp;<span class="builtintype" id="2421977">int</span><span class="op" id="2421980">,</span>&nbsp;<span class="ident" id="2421982">numArgs</span>&nbsp;<span class="builtintype" id="2421990">int</span><span class="op" id="2421993">)</span>&nbsp;<span class="op" id="2421995">(</span><span class="ident" id="2421996">newArgNum</span><span class="op" id="2422005">,</span>&nbsp;<span class="ident" id="2422007">newi</span>&nbsp;<span class="builtintype" id="2422012">int</span><span class="op" id="2422015">,</span>&nbsp;<span class="ident" id="2422017">found</span>&nbsp;<span class="builtintype" id="2422023">bool</span><span class="op" id="2422027">)</span>&nbsp;<span class="op" id="2422029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422032">if</span>&nbsp;<span class="builtinfunc" id="2422035">len</span><span class="op" id="2422038">(</span><span class="ident" id="2422039">format</span><span class="op" id="2422045">)</span>&nbsp;<span class="op" id="2422047">&lt;=</span>&nbsp;<span class="ident" id="2422050">i</span>&nbsp;<span class="op" id="2422052">||</span>&nbsp;<span class="ident" id="2422055">format</span><span class="op" id="2422061">[</span><span class="ident" id="2422062">i</span><span class="op" id="2422063">]</span>&nbsp;<span class="op" id="2422065">!=</span>&nbsp;<span class="string" id="2422068">&#39;[&#39;</span>&nbsp;<span class="op" id="2422072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422076">return</span>&nbsp;<span class="ident" id="2422083">argNum</span><span class="op" id="2422089">,</span>&nbsp;<span class="ident" id="2422091">i</span><span class="op" id="2422092">,</span>&nbsp;<span class="builtintype" id="2422094">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2422101">}</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422104">p</span><span class="op" id="2422105">.</span><span class="ident" id="2422106">reordered</span>&nbsp;<span class="op" id="2422116">=</span>&nbsp;<span class="builtintype" id="2422118">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422124">index</span><span class="op" id="2422129">,</span>&nbsp;<span class="ident" id="2422131">wid</span><span class="op" id="2422134">,</span>&nbsp;<span class="ident" id="2422136">ok</span>&nbsp;<span class="op" id="2422139">:=</span>&nbsp;<span class="ident" id="2422142">parseArgNumber</span><span class="op" id="2422156">(</span><span class="ident" id="2422157">format</span><span class="op" id="2422163">[</span><span class="ident" id="2422164">i</span><span class="op" id="2422165">:</span><span class="op" id="2422166">]</span><span class="op" id="2422167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422170">if</span>&nbsp;<span class="ident" id="2422173">ok</span>&nbsp;<span class="op" id="2422176">&amp;&amp;</span>&nbsp;<span class="num" id="2422179">0</span>&nbsp;<span class="op" id="2422181">&lt;=</span>&nbsp;<span class="ident" id="2422184">index</span>&nbsp;<span class="op" id="2422190">&amp;&amp;</span>&nbsp;<span class="ident" id="2422193">index</span>&nbsp;<span class="op" id="2422199">&lt;</span>&nbsp;<span class="ident" id="2422201">numArgs</span>&nbsp;<span class="op" id="2422209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422213">return</span>&nbsp;<span class="ident" id="2422220">index</span><span class="op" id="2422225">,</span>&nbsp;<span class="ident" id="2422227">i</span>&nbsp;<span class="op" id="2422229">+</span>&nbsp;<span class="ident" id="2422231">wid</span><span class="op" id="2422234">,</span>&nbsp;<span class="builtintype" id="2422236">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2422242">}</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422245">p</span><span class="op" id="2422246">.</span><span class="ident" id="2422247">goodArgNum</span>&nbsp;<span class="op" id="2422258">=</span>&nbsp;<span class="builtintype" id="2422260">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422267">return</span>&nbsp;<span class="ident" id="2422274">argNum</span><span class="op" id="2422280">,</span>&nbsp;<span class="ident" id="2422282">i</span>&nbsp;<span class="op" id="2422284">+</span>&nbsp;<span class="ident" id="2422286">wid</span><span class="op" id="2422289">,</span>&nbsp;<span class="builtintype" id="2422291">true</span><br>
<span class="lineno"></span><span class="op" id="2422296">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2422299">func</span>&nbsp;<span class="op" id="2422304">(</span><span class="ident" id="2422305">p</span>&nbsp;<span class="op" id="2422307">*</span><span class="ident" id="2422308">pp</span><span class="op" id="2422310">)</span>&nbsp;<span class="ident" id="2422312">doPrintf</span><span class="op" id="2422320">(</span><span class="ident" id="2422321">format</span>&nbsp;<span class="builtintype" id="2422328">string</span><span class="op" id="2422334">,</span>&nbsp;<span class="ident" id="2422336">a</span>&nbsp;<span class="op" id="2422338">[</span><span class="op" id="2422339">]</span><span class="keyword" id="2422340">interface</span><span class="op" id="2422349">{</span><span class="op" id="2422350">}</span><span class="op" id="2422351">)</span>&nbsp;<span class="op" id="2422353">{</span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422356">end</span>&nbsp;<span class="op" id="2422360">:=</span>&nbsp;<span class="builtinfunc" id="2422363">len</span><span class="op" id="2422366">(</span><span class="ident" id="2422367">format</span><span class="op" id="2422373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422376">argNum</span>&nbsp;<span class="op" id="2422383">:=</span>&nbsp;<span class="num" id="2422386">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2422396">//&nbsp;we&nbsp;process&nbsp;one&nbsp;argument&nbsp;per&nbsp;non-trivial&nbsp;format</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422447">afterIndex</span>&nbsp;<span class="op" id="2422458">:=</span>&nbsp;<span class="builtintype" id="2422461">false</span>&nbsp;<span class="comment" id="2422467">//&nbsp;previous&nbsp;item&nbsp;in&nbsp;format&nbsp;was&nbsp;an&nbsp;index&nbsp;like&nbsp;[3].</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422518">p</span><span class="op" id="2422519">.</span><span class="ident" id="2422520">reordered</span>&nbsp;<span class="op" id="2422530">=</span>&nbsp;<span class="builtintype" id="2422532">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422539">for</span>&nbsp;<span class="ident" id="2422543">i</span>&nbsp;<span class="op" id="2422545">:=</span>&nbsp;<span class="num" id="2422548">0</span><span class="op" id="2422549">;</span>&nbsp;<span class="ident" id="2422551">i</span>&nbsp;<span class="op" id="2422553">&lt;</span>&nbsp;<span class="ident" id="2422555">end</span><span class="op" id="2422558">;</span>&nbsp;<span class="op" id="2422560">{</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422564">p</span><span class="op" id="2422565">.</span><span class="ident" id="2422566">goodArgNum</span>&nbsp;<span class="op" id="2422577">=</span>&nbsp;<span class="builtintype" id="2422579">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422586">lasti</span>&nbsp;<span class="op" id="2422592">:=</span>&nbsp;<span class="ident" id="2422595">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422599">for</span>&nbsp;<span class="ident" id="2422603">i</span>&nbsp;<span class="op" id="2422605">&lt;</span>&nbsp;<span class="ident" id="2422607">end</span>&nbsp;<span class="op" id="2422611">&amp;&amp;</span>&nbsp;<span class="ident" id="2422614">format</span><span class="op" id="2422620">[</span><span class="ident" id="2422621">i</span><span class="op" id="2422622">]</span>&nbsp;<span class="op" id="2422624">!=</span>&nbsp;<span class="string" id="2422627">&#39;%&#39;</span>&nbsp;<span class="op" id="2422631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422636">i</span><span class="op" id="2422637">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2422642">}</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422646">if</span>&nbsp;<span class="ident" id="2422649">i</span>&nbsp;<span class="op" id="2422651">&gt;</span>&nbsp;<span class="ident" id="2422653">lasti</span>&nbsp;<span class="op" id="2422659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422664">p</span><span class="op" id="2422665">.</span><span class="ident" id="2422666">buf</span><span class="op" id="2422669">.</span><span class="ident" id="2422670">WriteString</span><span class="op" id="2422681">(</span><span class="ident" id="2422682">format</span><span class="op" id="2422688">[</span><span class="ident" id="2422689">lasti</span><span class="op" id="2422694">:</span><span class="ident" id="2422695">i</span><span class="op" id="2422696">]</span><span class="op" id="2422697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2422701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422705">if</span>&nbsp;<span class="ident" id="2422708">i</span>&nbsp;<span class="op" id="2422710">&gt;=</span>&nbsp;<span class="ident" id="2422713">end</span>&nbsp;<span class="op" id="2422717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2422722">//&nbsp;done&nbsp;processing&nbsp;format&nbsp;string</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422758">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2422766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2422771">//&nbsp;Process&nbsp;one&nbsp;verb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422793">i</span><span class="op" id="2422794">++</span><br>
<span class="lineno">1080</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2422800">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;flags?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422823">p</span><span class="op" id="2422824">.</span><span class="ident" id="2422825">fmt</span><span class="op" id="2422828">.</span><span class="ident" id="2422829">clearflags</span><span class="op" id="2422839">(</span><span class="op" id="2422840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422843">F</span><span class="op" id="2422844">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422848">for</span>&nbsp;<span class="op" id="2422852">;</span>&nbsp;<span class="ident" id="2422854">i</span>&nbsp;<span class="op" id="2422856">&lt;</span>&nbsp;<span class="ident" id="2422858">end</span><span class="op" id="2422861">;</span>&nbsp;<span class="ident" id="2422863">i</span><span class="op" id="2422864">++</span>&nbsp;<span class="op" id="2422867">{</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422872">switch</span>&nbsp;<span class="ident" id="2422879">format</span><span class="op" id="2422885">[</span><span class="ident" id="2422886">i</span><span class="op" id="2422887">]</span>&nbsp;<span class="op" id="2422889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422894">case</span>&nbsp;<span class="string" id="2422899">&#39;#&#39;</span><span class="op" id="2422902">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422908">p</span><span class="op" id="2422909">.</span><span class="ident" id="2422910">fmt</span><span class="op" id="2422913">.</span><span class="ident" id="2422914">sharp</span>&nbsp;<span class="op" id="2422920">=</span>&nbsp;<span class="builtintype" id="2422922">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422930">case</span>&nbsp;<span class="string" id="2422935">&#39;0&#39;</span><span class="op" id="2422938">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422944">p</span><span class="op" id="2422945">.</span><span class="ident" id="2422946">fmt</span><span class="op" id="2422949">.</span><span class="ident" id="2422950">zero</span>&nbsp;<span class="op" id="2422955">=</span>&nbsp;<span class="builtintype" id="2422957">true</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2422965">case</span>&nbsp;<span class="string" id="2422970">&#39;+&#39;</span><span class="op" id="2422973">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2422979">p</span><span class="op" id="2422980">.</span><span class="ident" id="2422981">fmt</span><span class="op" id="2422984">.</span><span class="ident" id="2422985">plus</span>&nbsp;<span class="op" id="2422990">=</span>&nbsp;<span class="builtintype" id="2422992">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423000">case</span>&nbsp;<span class="string" id="2423005">&#39;-&#39;</span><span class="op" id="2423008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423014">p</span><span class="op" id="2423015">.</span><span class="ident" id="2423016">fmt</span><span class="op" id="2423019">.</span><span class="ident" id="2423020">minus</span>&nbsp;<span class="op" id="2423026">=</span>&nbsp;<span class="builtintype" id="2423028">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423036">case</span>&nbsp;<span class="string" id="2423041">&#39;&nbsp;&#39;</span><span class="op" id="2423044">:</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423050">p</span><span class="op" id="2423051">.</span><span class="ident" id="2423052">fmt</span><span class="op" id="2423055">.</span><span class="ident" id="2423056">space</span>&nbsp;<span class="op" id="2423062">=</span>&nbsp;<span class="builtintype" id="2423064">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423072">default</span><span class="op" id="2423079">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423085">break</span>&nbsp;<span class="ident" id="2423091">F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423100">}</span><br>
<span class="lineno">1100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2423105">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;an&nbsp;explicit&nbsp;argument&nbsp;index?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423149">argNum</span><span class="op" id="2423155">,</span>&nbsp;<span class="ident" id="2423157">i</span><span class="op" id="2423158">,</span>&nbsp;<span class="ident" id="2423160">afterIndex</span>&nbsp;<span class="op" id="2423171">=</span>&nbsp;<span class="ident" id="2423173">p</span><span class="op" id="2423174">.</span><span class="ident" id="2423175">argNumber</span><span class="op" id="2423184">(</span><span class="ident" id="2423185">argNum</span><span class="op" id="2423191">,</span>&nbsp;<span class="ident" id="2423193">format</span><span class="op" id="2423199">,</span>&nbsp;<span class="ident" id="2423201">i</span><span class="op" id="2423202">,</span>&nbsp;<span class="builtinfunc" id="2423204">len</span><span class="op" id="2423207">(</span><span class="ident" id="2423208">a</span><span class="op" id="2423209">)</span><span class="op" id="2423210">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2423215">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;width?</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423238">if</span>&nbsp;<span class="ident" id="2423241">i</span>&nbsp;<span class="op" id="2423243">&lt;</span>&nbsp;<span class="ident" id="2423245">end</span>&nbsp;<span class="op" id="2423249">&amp;&amp;</span>&nbsp;<span class="ident" id="2423252">format</span><span class="op" id="2423258">[</span><span class="ident" id="2423259">i</span><span class="op" id="2423260">]</span>&nbsp;<span class="op" id="2423262">==</span>&nbsp;<span class="string" id="2423265">&#39;*&#39;</span>&nbsp;<span class="op" id="2423269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423274">i</span><span class="op" id="2423275">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423281">p</span><span class="op" id="2423282">.</span><span class="ident" id="2423283">fmt</span><span class="op" id="2423286">.</span><span class="ident" id="2423287">wid</span><span class="op" id="2423290">,</span>&nbsp;<span class="ident" id="2423292">p</span><span class="op" id="2423293">.</span><span class="ident" id="2423294">fmt</span><span class="op" id="2423297">.</span><span class="ident" id="2423298">widPresent</span><span class="op" id="2423308">,</span>&nbsp;<span class="ident" id="2423310">argNum</span>&nbsp;<span class="op" id="2423317">=</span>&nbsp;<span class="ident" id="2423319">intFromArg</span><span class="op" id="2423329">(</span><span class="ident" id="2423330">a</span><span class="op" id="2423331">,</span>&nbsp;<span class="ident" id="2423333">argNum</span><span class="op" id="2423339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423344">if</span>&nbsp;<span class="op" id="2423347">!</span><span class="ident" id="2423348">p</span><span class="op" id="2423349">.</span><span class="ident" id="2423350">fmt</span><span class="op" id="2423353">.</span><span class="ident" id="2423354">widPresent</span>&nbsp;<span class="op" id="2423365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423371">p</span><span class="op" id="2423372">.</span><span class="ident" id="2423373">buf</span><span class="op" id="2423376">.</span><span class="ident" id="2423377">Write</span><span class="op" id="2423382">(</span><span class="ident" id="2423383">badWidthBytes</span><span class="op" id="2423396">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423406">afterIndex</span>&nbsp;<span class="op" id="2423417">=</span>&nbsp;<span class="builtintype" id="2423419">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423427">}</span>&nbsp;<span class="keyword" id="2423429">else</span>&nbsp;<span class="op" id="2423434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423439">p</span><span class="op" id="2423440">.</span><span class="ident" id="2423441">fmt</span><span class="op" id="2423444">.</span><span class="ident" id="2423445">wid</span><span class="op" id="2423448">,</span>&nbsp;<span class="ident" id="2423450">p</span><span class="op" id="2423451">.</span><span class="ident" id="2423452">fmt</span><span class="op" id="2423455">.</span><span class="ident" id="2423456">widPresent</span><span class="op" id="2423466">,</span>&nbsp;<span class="ident" id="2423468">i</span>&nbsp;<span class="op" id="2423470">=</span>&nbsp;<span class="ident" id="2423472">parsenum</span><span class="op" id="2423480">(</span><span class="ident" id="2423481">format</span><span class="op" id="2423487">,</span>&nbsp;<span class="ident" id="2423489">i</span><span class="op" id="2423490">,</span>&nbsp;<span class="ident" id="2423492">end</span><span class="op" id="2423495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423500">if</span>&nbsp;<span class="ident" id="2423503">afterIndex</span>&nbsp;<span class="op" id="2423514">&amp;&amp;</span>&nbsp;<span class="ident" id="2423517">p</span><span class="op" id="2423518">.</span><span class="ident" id="2423519">fmt</span><span class="op" id="2423522">.</span><span class="ident" id="2423523">widPresent</span>&nbsp;<span class="op" id="2423534">{</span>&nbsp;<span class="comment" id="2423536">//&nbsp;&#34;%[3]2d&#34;</span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423552">p</span><span class="op" id="2423553">.</span><span class="ident" id="2423554">goodArgNum</span>&nbsp;<span class="op" id="2423565">=</span>&nbsp;<span class="builtintype" id="2423567">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2423585">//&nbsp;Do&nbsp;we&nbsp;have&nbsp;precision?</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423612">if</span>&nbsp;<span class="ident" id="2423615">i</span><span class="op" id="2423616">+</span><span class="num" id="2423617">1</span>&nbsp;<span class="op" id="2423619">&lt;</span>&nbsp;<span class="ident" id="2423621">end</span>&nbsp;<span class="op" id="2423625">&amp;&amp;</span>&nbsp;<span class="ident" id="2423628">format</span><span class="op" id="2423634">[</span><span class="ident" id="2423635">i</span><span class="op" id="2423636">]</span>&nbsp;<span class="op" id="2423638">==</span>&nbsp;<span class="string" id="2423641">&#39;.&#39;</span>&nbsp;<span class="op" id="2423645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423650">i</span><span class="op" id="2423651">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423657">if</span>&nbsp;<span class="ident" id="2423660">afterIndex</span>&nbsp;<span class="op" id="2423671">{</span>&nbsp;<span class="comment" id="2423673">//&nbsp;&#34;%[3].2d&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423690">p</span><span class="op" id="2423691">.</span><span class="ident" id="2423692">goodArgNum</span>&nbsp;<span class="op" id="2423703">=</span>&nbsp;<span class="builtintype" id="2423705">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423714">}</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423719">argNum</span><span class="op" id="2423725">,</span>&nbsp;<span class="ident" id="2423727">i</span><span class="op" id="2423728">,</span>&nbsp;<span class="ident" id="2423730">afterIndex</span>&nbsp;<span class="op" id="2423741">=</span>&nbsp;<span class="ident" id="2423743">p</span><span class="op" id="2423744">.</span><span class="ident" id="2423745">argNumber</span><span class="op" id="2423754">(</span><span class="ident" id="2423755">argNum</span><span class="op" id="2423761">,</span>&nbsp;<span class="ident" id="2423763">format</span><span class="op" id="2423769">,</span>&nbsp;<span class="ident" id="2423771">i</span><span class="op" id="2423772">,</span>&nbsp;<span class="builtinfunc" id="2423774">len</span><span class="op" id="2423777">(</span><span class="ident" id="2423778">a</span><span class="op" id="2423779">)</span><span class="op" id="2423780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423785">if</span>&nbsp;<span class="ident" id="2423788">format</span><span class="op" id="2423794">[</span><span class="ident" id="2423795">i</span><span class="op" id="2423796">]</span>&nbsp;<span class="op" id="2423798">==</span>&nbsp;<span class="string" id="2423801">&#39;*&#39;</span>&nbsp;<span class="op" id="2423805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423811">i</span><span class="op" id="2423812">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423819">p</span><span class="op" id="2423820">.</span><span class="ident" id="2423821">fmt</span><span class="op" id="2423824">.</span><span class="ident" id="2423825">prec</span><span class="op" id="2423829">,</span>&nbsp;<span class="ident" id="2423831">p</span><span class="op" id="2423832">.</span><span class="ident" id="2423833">fmt</span><span class="op" id="2423836">.</span><span class="ident" id="2423837">precPresent</span><span class="op" id="2423848">,</span>&nbsp;<span class="ident" id="2423850">argNum</span>&nbsp;<span class="op" id="2423857">=</span>&nbsp;<span class="ident" id="2423859">intFromArg</span><span class="op" id="2423869">(</span><span class="ident" id="2423870">a</span><span class="op" id="2423871">,</span>&nbsp;<span class="ident" id="2423873">argNum</span><span class="op" id="2423879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2423885">if</span>&nbsp;<span class="op" id="2423888">!</span><span class="ident" id="2423889">p</span><span class="op" id="2423890">.</span><span class="ident" id="2423891">fmt</span><span class="op" id="2423894">.</span><span class="ident" id="2423895">precPresent</span>&nbsp;<span class="op" id="2423907">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423914">p</span><span class="op" id="2423915">.</span><span class="ident" id="2423916">buf</span><span class="op" id="2423919">.</span><span class="ident" id="2423920">Write</span><span class="op" id="2423925">(</span><span class="ident" id="2423926">badPrecBytes</span><span class="op" id="2423938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423950">afterIndex</span>&nbsp;<span class="op" id="2423961">=</span>&nbsp;<span class="builtintype" id="2423963">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2423972">}</span>&nbsp;<span class="keyword" id="2423974">else</span>&nbsp;<span class="op" id="2423979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2423985">p</span><span class="op" id="2423986">.</span><span class="ident" id="2423987">fmt</span><span class="op" id="2423990">.</span><span class="ident" id="2423991">prec</span><span class="op" id="2423995">,</span>&nbsp;<span class="ident" id="2423997">p</span><span class="op" id="2423998">.</span><span class="ident" id="2423999">fmt</span><span class="op" id="2424002">.</span><span class="ident" id="2424003">precPresent</span><span class="op" id="2424014">,</span>&nbsp;<span class="ident" id="2424016">i</span>&nbsp;<span class="op" id="2424018">=</span>&nbsp;<span class="ident" id="2424020">parsenum</span><span class="op" id="2424028">(</span><span class="ident" id="2424029">format</span><span class="op" id="2424035">,</span>&nbsp;<span class="ident" id="2424037">i</span><span class="op" id="2424038">,</span>&nbsp;<span class="ident" id="2424040">end</span><span class="op" id="2424043">)</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424049">if</span>&nbsp;<span class="op" id="2424052">!</span><span class="ident" id="2424053">p</span><span class="op" id="2424054">.</span><span class="ident" id="2424055">fmt</span><span class="op" id="2424058">.</span><span class="ident" id="2424059">precPresent</span>&nbsp;<span class="op" id="2424071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424078">p</span><span class="op" id="2424079">.</span><span class="ident" id="2424080">fmt</span><span class="op" id="2424083">.</span><span class="ident" id="2424084">prec</span>&nbsp;<span class="op" id="2424089">=</span>&nbsp;<span class="num" id="2424091">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424098">p</span><span class="op" id="2424099">.</span><span class="ident" id="2424100">fmt</span><span class="op" id="2424103">.</span><span class="ident" id="2424104">precPresent</span>&nbsp;<span class="op" id="2424116">=</span>&nbsp;<span class="builtintype" id="2424118">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424132">}</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424136">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424141">if</span>&nbsp;<span class="op" id="2424144">!</span><span class="ident" id="2424145">afterIndex</span>&nbsp;<span class="op" id="2424156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424161">argNum</span><span class="op" id="2424167">,</span>&nbsp;<span class="ident" id="2424169">i</span><span class="op" id="2424170">,</span>&nbsp;<span class="ident" id="2424172">afterIndex</span>&nbsp;<span class="op" id="2424183">=</span>&nbsp;<span class="ident" id="2424185">p</span><span class="op" id="2424186">.</span><span class="ident" id="2424187">argNumber</span><span class="op" id="2424196">(</span><span class="ident" id="2424197">argNum</span><span class="op" id="2424203">,</span>&nbsp;<span class="ident" id="2424205">format</span><span class="op" id="2424211">,</span>&nbsp;<span class="ident" id="2424213">i</span><span class="op" id="2424214">,</span>&nbsp;<span class="builtinfunc" id="2424216">len</span><span class="op" id="2424219">(</span><span class="ident" id="2424220">a</span><span class="op" id="2424221">)</span><span class="op" id="2424222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424226">}</span><br>
<span class="lineno">1145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424231">if</span>&nbsp;<span class="ident" id="2424234">i</span>&nbsp;<span class="op" id="2424236">&gt;=</span>&nbsp;<span class="ident" id="2424239">end</span>&nbsp;<span class="op" id="2424243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424248">p</span><span class="op" id="2424249">.</span><span class="ident" id="2424250">buf</span><span class="op" id="2424253">.</span><span class="ident" id="2424254">Write</span><span class="op" id="2424259">(</span><span class="ident" id="2424260">noVerbBytes</span><span class="op" id="2424271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424276">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424287">}</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424291">c</span><span class="op" id="2424292">,</span>&nbsp;<span class="ident" id="2424294">w</span>&nbsp;<span class="op" id="2424296">:=</span>&nbsp;<span class="ident" id="2424299">utf8</span><span class="op" id="2424303">.</span><span class="ident" id="2424304">DecodeRuneInString</span><span class="op" id="2424322">(</span><span class="ident" id="2424323">format</span><span class="op" id="2424329">[</span><span class="ident" id="2424330">i</span><span class="op" id="2424331">:</span><span class="op" id="2424332">]</span><span class="op" id="2424333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424337">i</span>&nbsp;<span class="op" id="2424339">+=</span>&nbsp;<span class="ident" id="2424342">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2424346">//&nbsp;percent&nbsp;is&nbsp;special&nbsp;-&nbsp;absorbs&nbsp;no&nbsp;operand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424391">if</span>&nbsp;<span class="ident" id="2424394">c</span>&nbsp;<span class="op" id="2424396">==</span>&nbsp;<span class="string" id="2424399">&#39;%&#39;</span>&nbsp;<span class="op" id="2424403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424408">p</span><span class="op" id="2424409">.</span><span class="ident" id="2424410">buf</span><span class="op" id="2424413">.</span><span class="ident" id="2424414">WriteByte</span><span class="op" id="2424423">(</span><span class="string" id="2424424">&#39;%&#39;</span><span class="op" id="2424427">)</span>&nbsp;<span class="comment" id="2424429">//&nbsp;We&nbsp;ignore&nbsp;width&nbsp;and&nbsp;prec.</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424461">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424476">if</span>&nbsp;<span class="op" id="2424479">!</span><span class="ident" id="2424480">p</span><span class="op" id="2424481">.</span><span class="ident" id="2424482">goodArgNum</span>&nbsp;<span class="op" id="2424493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424498">p</span><span class="op" id="2424499">.</span><span class="ident" id="2424500">buf</span><span class="op" id="2424503">.</span><span class="ident" id="2424504">Write</span><span class="op" id="2424509">(</span><span class="ident" id="2424510">percentBangBytes</span><span class="op" id="2424526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424531">p</span><span class="op" id="2424532">.</span><span class="ident" id="2424533">add</span><span class="op" id="2424536">(</span><span class="ident" id="2424537">c</span><span class="op" id="2424538">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424543">p</span><span class="op" id="2424544">.</span><span class="ident" id="2424545">buf</span><span class="op" id="2424548">.</span><span class="ident" id="2424549">Write</span><span class="op" id="2424554">(</span><span class="ident" id="2424555">badIndexBytes</span><span class="op" id="2424568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424573">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424584">}</span>&nbsp;<span class="keyword" id="2424586">else</span>&nbsp;<span class="keyword" id="2424591">if</span>&nbsp;<span class="ident" id="2424594">argNum</span>&nbsp;<span class="op" id="2424601">&gt;=</span>&nbsp;<span class="builtinfunc" id="2424604">len</span><span class="op" id="2424607">(</span><span class="ident" id="2424608">a</span><span class="op" id="2424609">)</span>&nbsp;<span class="op" id="2424611">{</span>&nbsp;<span class="comment" id="2424613">//&nbsp;out&nbsp;of&nbsp;operands</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424635">p</span><span class="op" id="2424636">.</span><span class="ident" id="2424637">buf</span><span class="op" id="2424640">.</span><span class="ident" id="2424641">Write</span><span class="op" id="2424646">(</span><span class="ident" id="2424647">percentBangBytes</span><span class="op" id="2424663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424668">p</span><span class="op" id="2424669">.</span><span class="ident" id="2424670">add</span><span class="op" id="2424673">(</span><span class="ident" id="2424674">c</span><span class="op" id="2424675">)</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424680">p</span><span class="op" id="2424681">.</span><span class="ident" id="2424682">buf</span><span class="op" id="2424685">.</span><span class="ident" id="2424686">Write</span><span class="op" id="2424691">(</span><span class="ident" id="2424692">missingBytes</span><span class="op" id="2424704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424709">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424720">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424724">arg</span>&nbsp;<span class="op" id="2424728">:=</span>&nbsp;<span class="ident" id="2424731">a</span><span class="op" id="2424732">[</span><span class="ident" id="2424733">argNum</span><span class="op" id="2424739">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424743">argNum</span><span class="op" id="2424749">++</span><br>
<span class="lineno">1170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424755">if</span>&nbsp;<span class="ident" id="2424758">c</span>&nbsp;<span class="op" id="2424760">==</span>&nbsp;<span class="string" id="2424763">&#39;v&#39;</span>&nbsp;<span class="op" id="2424767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424772">if</span>&nbsp;<span class="ident" id="2424775">p</span><span class="op" id="2424776">.</span><span class="ident" id="2424777">fmt</span><span class="op" id="2424780">.</span><span class="ident" id="2424781">sharp</span>&nbsp;<span class="op" id="2424787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2424793">//&nbsp;Go&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;sharp&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424861">p</span><span class="op" id="2424862">.</span><span class="ident" id="2424863">fmt</span><span class="op" id="2424866">.</span><span class="ident" id="2424867">sharp</span>&nbsp;<span class="op" id="2424873">=</span>&nbsp;<span class="builtintype" id="2424875">false</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2424885">p</span><span class="op" id="2424886">.</span><span class="ident" id="2424887">fmt</span><span class="op" id="2424890">.</span><span class="ident" id="2424891">sharpV</span>&nbsp;<span class="op" id="2424898">=</span>&nbsp;<span class="builtintype" id="2424900">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2424908">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2424913">if</span>&nbsp;<span class="ident" id="2424916">p</span><span class="op" id="2424917">.</span><span class="ident" id="2424918">fmt</span><span class="op" id="2424921">.</span><span class="ident" id="2424922">plus</span>&nbsp;<span class="op" id="2424927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2424933">//&nbsp;Struct-field&nbsp;syntax.&nbsp;Set&nbsp;the&nbsp;flag&nbsp;in&nbsp;the&nbsp;fmt&nbsp;and&nbsp;clear&nbsp;the&nbsp;plus&nbsp;flag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425010">p</span><span class="op" id="2425011">.</span><span class="ident" id="2425012">fmt</span><span class="op" id="2425015">.</span><span class="ident" id="2425016">plus</span>&nbsp;<span class="op" id="2425021">=</span>&nbsp;<span class="builtintype" id="2425023">false</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425033">p</span><span class="op" id="2425034">.</span><span class="ident" id="2425035">fmt</span><span class="op" id="2425038">.</span><span class="ident" id="2425039">plusV</span>&nbsp;<span class="op" id="2425045">=</span>&nbsp;<span class="builtintype" id="2425047">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425063">p</span><span class="op" id="2425064">.</span><span class="ident" id="2425065">printArg</span><span class="op" id="2425073">(</span><span class="ident" id="2425074">arg</span><span class="op" id="2425077">,</span>&nbsp;<span class="ident" id="2425079">c</span><span class="op" id="2425080">,</span>&nbsp;<span class="num" id="2425082">0</span><span class="op" id="2425083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425086">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2425090">//&nbsp;Check&nbsp;for&nbsp;extra&nbsp;arguments&nbsp;unless&nbsp;the&nbsp;call&nbsp;accessed&nbsp;the&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2425159">//&nbsp;out&nbsp;of&nbsp;order,&nbsp;in&nbsp;which&nbsp;case&nbsp;it&#39;s&nbsp;too&nbsp;expensive&nbsp;to&nbsp;detect&nbsp;if&nbsp;they&#39;ve&nbsp;all</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2425235">//&nbsp;been&nbsp;used&nbsp;and&nbsp;arguably&nbsp;OK&nbsp;if&nbsp;they&#39;re&nbsp;not.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425281">if</span>&nbsp;<span class="op" id="2425284">!</span><span class="ident" id="2425285">p</span><span class="op" id="2425286">.</span><span class="ident" id="2425287">reordered</span>&nbsp;<span class="op" id="2425297">&amp;&amp;</span>&nbsp;<span class="ident" id="2425300">argNum</span>&nbsp;<span class="op" id="2425307">&lt;</span>&nbsp;<span class="builtinfunc" id="2425309">len</span><span class="op" id="2425312">(</span><span class="ident" id="2425313">a</span><span class="op" id="2425314">)</span>&nbsp;<span class="op" id="2425316">{</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425320">p</span><span class="op" id="2425321">.</span><span class="ident" id="2425322">buf</span><span class="op" id="2425325">.</span><span class="ident" id="2425326">Write</span><span class="op" id="2425331">(</span><span class="ident" id="2425332">extraBytes</span><span class="op" id="2425342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425346">for</span>&nbsp;<span class="op" id="2425350">;</span>&nbsp;<span class="ident" id="2425352">argNum</span>&nbsp;<span class="op" id="2425359">&lt;</span>&nbsp;<span class="builtinfunc" id="2425361">len</span><span class="op" id="2425364">(</span><span class="ident" id="2425365">a</span><span class="op" id="2425366">)</span><span class="op" id="2425367">;</span>&nbsp;<span class="ident" id="2425369">argNum</span><span class="op" id="2425375">++</span>&nbsp;<span class="op" id="2425378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425383">arg</span>&nbsp;<span class="op" id="2425387">:=</span>&nbsp;<span class="ident" id="2425390">a</span><span class="op" id="2425391">[</span><span class="ident" id="2425392">argNum</span><span class="op" id="2425398">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425403">if</span>&nbsp;<span class="ident" id="2425406">arg</span>&nbsp;<span class="op" id="2425410">!=</span>&nbsp;<span class="builtintype" id="2425413">nil</span>&nbsp;<span class="op" id="2425417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425423">p</span><span class="op" id="2425424">.</span><span class="ident" id="2425425">buf</span><span class="op" id="2425428">.</span><span class="ident" id="2425429">WriteString</span><span class="op" id="2425440">(</span><span class="ident" id="2425441">reflect</span><span class="op" id="2425448">.</span><span class="ident" id="2425449">TypeOf</span><span class="op" id="2425455">(</span><span class="ident" id="2425456">arg</span><span class="op" id="2425459">)</span><span class="op" id="2425460">.</span><span class="ident" id="2425461">String</span><span class="op" id="2425467">(</span><span class="op" id="2425468">)</span><span class="op" id="2425469">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425475">p</span><span class="op" id="2425476">.</span><span class="ident" id="2425477">buf</span><span class="op" id="2425480">.</span><span class="ident" id="2425481">WriteByte</span><span class="op" id="2425490">(</span><span class="string" id="2425491">&#39;=&#39;</span><span class="op" id="2425494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425504">p</span><span class="op" id="2425505">.</span><span class="ident" id="2425506">printArg</span><span class="op" id="2425514">(</span><span class="ident" id="2425515">arg</span><span class="op" id="2425518">,</span>&nbsp;<span class="string" id="2425520">&#39;v&#39;</span><span class="op" id="2425523">,</span>&nbsp;<span class="num" id="2425525">0</span><span class="op" id="2425526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425531">if</span>&nbsp;<span class="ident" id="2425534">argNum</span><span class="op" id="2425540">+</span><span class="num" id="2425541">1</span>&nbsp;<span class="op" id="2425543">&lt;</span>&nbsp;<span class="builtinfunc" id="2425545">len</span><span class="op" id="2425548">(</span><span class="ident" id="2425549">a</span><span class="op" id="2425550">)</span>&nbsp;<span class="op" id="2425552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425558">p</span><span class="op" id="2425559">.</span><span class="ident" id="2425560">buf</span><span class="op" id="2425563">.</span><span class="ident" id="2425564">Write</span><span class="op" id="2425569">(</span><span class="ident" id="2425570">commaSpaceBytes</span><span class="op" id="2425585">)</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425598">p</span><span class="op" id="2425599">.</span><span class="ident" id="2425600">buf</span><span class="op" id="2425603">.</span><span class="ident" id="2425604">WriteByte</span><span class="op" id="2425613">(</span><span class="string" id="2425614">&#39;)&#39;</span><span class="op" id="2425617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2425620">}</span><br>
<span class="lineno"></span><span class="op" id="2425622">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span><span class="keyword" id="2425625">func</span>&nbsp;<span class="op" id="2425630">(</span><span class="ident" id="2425631">p</span>&nbsp;<span class="op" id="2425633">*</span><span class="ident" id="2425634">pp</span><span class="op" id="2425636">)</span>&nbsp;<span class="ident" id="2425638">doPrint</span><span class="op" id="2425645">(</span><span class="ident" id="2425646">a</span>&nbsp;<span class="op" id="2425648">[</span><span class="op" id="2425649">]</span><span class="keyword" id="2425650">interface</span><span class="op" id="2425659">{</span><span class="op" id="2425660">}</span><span class="op" id="2425661">,</span>&nbsp;<span class="ident" id="2425663">addspace</span><span class="op" id="2425671">,</span>&nbsp;<span class="ident" id="2425673">addnewline</span>&nbsp;<span class="builtintype" id="2425684">bool</span><span class="op" id="2425688">)</span>&nbsp;<span class="op" id="2425690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425693">prevString</span>&nbsp;<span class="op" id="2425704">:=</span>&nbsp;<span class="builtintype" id="2425707">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425714">for</span>&nbsp;<span class="ident" id="2425718">argNum</span>&nbsp;<span class="op" id="2425725">:=</span>&nbsp;<span class="num" id="2425728">0</span><span class="op" id="2425729">;</span>&nbsp;<span class="ident" id="2425731">argNum</span>&nbsp;<span class="op" id="2425738">&lt;</span>&nbsp;<span class="builtinfunc" id="2425740">len</span><span class="op" id="2425743">(</span><span class="ident" id="2425744">a</span><span class="op" id="2425745">)</span><span class="op" id="2425746">;</span>&nbsp;<span class="ident" id="2425748">argNum</span><span class="op" id="2425754">++</span>&nbsp;<span class="op" id="2425757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425761">p</span><span class="op" id="2425762">.</span><span class="ident" id="2425763">fmt</span><span class="op" id="2425766">.</span><span class="ident" id="2425767">clearflags</span><span class="op" id="2425777">(</span><span class="op" id="2425778">)</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2425782">//&nbsp;always&nbsp;add&nbsp;spaces&nbsp;if&nbsp;we&#39;re&nbsp;doing&nbsp;Println</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425828">arg</span>&nbsp;<span class="op" id="2425832">:=</span>&nbsp;<span class="ident" id="2425835">a</span><span class="op" id="2425836">[</span><span class="ident" id="2425837">argNum</span><span class="op" id="2425843">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425847">if</span>&nbsp;<span class="ident" id="2425850">argNum</span>&nbsp;<span class="op" id="2425857">&gt;</span>&nbsp;<span class="num" id="2425859">0</span>&nbsp;<span class="op" id="2425861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425866">isString</span>&nbsp;<span class="op" id="2425875">:=</span>&nbsp;<span class="ident" id="2425878">arg</span>&nbsp;<span class="op" id="2425882">!=</span>&nbsp;<span class="builtintype" id="2425885">nil</span>&nbsp;<span class="op" id="2425889">&amp;&amp;</span>&nbsp;<span class="ident" id="2425892">reflect</span><span class="op" id="2425899">.</span><span class="ident" id="2425900">TypeOf</span><span class="op" id="2425906">(</span><span class="ident" id="2425907">arg</span><span class="op" id="2425910">)</span><span class="op" id="2425911">.</span><span class="ident" id="2425912">Kind</span><span class="op" id="2425916">(</span><span class="op" id="2425917">)</span>&nbsp;<span class="op" id="2425919">==</span>&nbsp;<span class="ident" id="2425922">reflect</span><span class="op" id="2425929">.</span><span class="ident" id="2425930">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2425940">if</span>&nbsp;<span class="ident" id="2425943">addspace</span>&nbsp;<span class="op" id="2425952">||</span>&nbsp;<span class="op" id="2425955">!</span><span class="ident" id="2425956">isString</span>&nbsp;<span class="op" id="2425965">&amp;&amp;</span>&nbsp;<span class="op" id="2425968">!</span><span class="ident" id="2425969">prevString</span>&nbsp;<span class="op" id="2425980">{</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2425986">p</span><span class="op" id="2425987">.</span><span class="ident" id="2425988">buf</span><span class="op" id="2425991">.</span><span class="ident" id="2425992">WriteByte</span><span class="op" id="2426001">(</span><span class="string" id="2426002">&#39;&nbsp;&#39;</span><span class="op" id="2426005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426018">prevString</span>&nbsp;<span class="op" id="2426029">=</span>&nbsp;<span class="ident" id="2426031">p</span><span class="op" id="2426032">.</span><span class="ident" id="2426033">printArg</span><span class="op" id="2426041">(</span><span class="ident" id="2426042">arg</span><span class="op" id="2426045">,</span>&nbsp;<span class="string" id="2426047">&#39;v&#39;</span><span class="op" id="2426050">,</span>&nbsp;<span class="num" id="2426052">0</span><span class="op" id="2426053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426056">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2426059">if</span>&nbsp;<span class="ident" id="2426062">addnewline</span>&nbsp;<span class="op" id="2426073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2426077">p</span><span class="op" id="2426078">.</span><span class="ident" id="2426079">buf</span><span class="op" id="2426082">.</span><span class="ident" id="2426083">WriteByte</span><span class="op" id="2426092">(</span><span class="string" id="2426093">&#39;\n&#39;</span><span class="op" id="2426097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2426100">}</span><br>
<span class="lineno"></span><span class="op" id="2426102">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
