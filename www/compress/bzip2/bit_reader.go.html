<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5517006">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5517061">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5517115">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5517166">package</span>&nbsp;<span class="ident" id="5517174">bzip2</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5517181">import</span>&nbsp;<span class="op" id="5517188">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5517191">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5517200">&#34;io&#34;</span><br>
<span class="lineno">10</span><span class="op" id="5517205">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5517208">//&nbsp;bitReader&nbsp;wraps&nbsp;an&nbsp;io.Reader&nbsp;and&nbsp;provides&nbsp;the&nbsp;ability&nbsp;to&nbsp;read&nbsp;values,</span><br>
<span class="lineno"></span><span class="comment" id="5517281">//&nbsp;bit-by-bit,&nbsp;from&nbsp;it.&nbsp;Its&nbsp;Read*&nbsp;methods&nbsp;don&#39;t&nbsp;return&nbsp;the&nbsp;usual&nbsp;error</span><br>
<span class="lineno"></span><span class="comment" id="5517352">//&nbsp;because&nbsp;the&nbsp;error&nbsp;handling&nbsp;was&nbsp;verbose.&nbsp;Instead,&nbsp;any&nbsp;error&nbsp;is&nbsp;kept&nbsp;and&nbsp;can</span><br>
<span class="lineno">15</span><span class="comment" id="5517430">//&nbsp;be&nbsp;checked&nbsp;afterwards.</span><br>
<span class="lineno"></span><span class="keyword" id="5517456">type</span>&nbsp;<span class="ident" id="5517461">bitReader</span>&nbsp;<span class="keyword" id="5517471">struct</span>&nbsp;<span class="op" id="5517478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517481">r</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5517486"><a href="/compress/bzip2/bit_reader.go.html#5517200">io</a></span><span class="op" id="5517488">.</span><span class="ident" id="5517489">ByteReader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517501">n</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5517506">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517514">bits</span>&nbsp;<span class="builtintype" id="5517519">uint</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517525">err</span>&nbsp;&nbsp;<span class="builtintype" id="5517530">error</span><br>
<span class="lineno"></span><span class="op" id="5517536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5517539">//&nbsp;newBitReader&nbsp;returns&nbsp;a&nbsp;new&nbsp;bitReader&nbsp;reading&nbsp;from&nbsp;r.&nbsp;If&nbsp;r&nbsp;is&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="5517607">//&nbsp;already&nbsp;an&nbsp;io.ByteReader,&nbsp;it&nbsp;will&nbsp;be&nbsp;converted&nbsp;via&nbsp;a&nbsp;bufio.Reader.</span><br>
<span class="lineno">25</span><span class="keyword" id="5517677">func</span>&nbsp;<span class="ident" id="5517682">newBitReader</span><span class="op" id="5517694">(</span><span class="ident" id="5517695">r</span>&nbsp;<span class="ident" id="5517697"><a href="/compress/bzip2/bit_reader.go.html#5517200">io</a></span><span class="op" id="5517699">.</span><span class="ident" id="5517700">Reader</span><span class="op" id="5517706">)</span>&nbsp;<span class="ident" id="5517708"><a href="/compress/bzip2/bit_reader.go.html#5517461">bitReader</a></span>&nbsp;<span class="op" id="5517718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517721">byter</span><span class="op" id="5517726">,</span>&nbsp;<span class="ident" id="5517728">ok</span>&nbsp;<span class="op" id="5517731">:=</span>&nbsp;<span class="ident" id="5517734"><a href="/compress/bzip2/bit_reader.go.html#5517695">r</a></span><span class="op" id="5517735">.</span><span class="op" id="5517736">(</span><span class="ident" id="5517737"><a href="/compress/bzip2/bit_reader.go.html#5517200">io</a></span><span class="op" id="5517739">.</span><span class="ident" id="5517740">ByteReader</span><span class="op" id="5517750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517753">if</span>&nbsp;<span class="op" id="5517756">!</span><span class="ident" id="5517757"><a href="/compress/bzip2/bit_reader.go.html#5517728">ok</a></span>&nbsp;<span class="op" id="5517760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5517764"><a href="/compress/bzip2/bit_reader.go.html#5517721">byter</a></span>&nbsp;<span class="op" id="5517770">=</span>&nbsp;<span class="ident" id="5517772"><a href="/compress/bzip2/bit_reader.go.html#5517191">bufio</a></span><span class="op" id="5517777">.</span><span class="ident" id="5517778">NewReader</span><span class="op" id="5517787">(</span><span class="ident" id="5517788"><a href="/compress/bzip2/bit_reader.go.html#5517695">r</a></span><span class="op" id="5517789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5517792">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5517795">return</span>&nbsp;<span class="ident" id="5517802"><a href="/compress/bzip2/bit_reader.go.html#5517461">bitReader</a></span><span class="op" id="5517811">{</span><span class="ident" id="5517812">r</span><span class="op" id="5517813">:</span>&nbsp;<span class="ident" id="5517815"><a href="/compress/bzip2/bit_reader.go.html#5517721">byter</a></span><span class="op" id="5517820">}</span><br>
<span class="lineno"></span><span class="op" id="5517822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5517825">//&nbsp;ReadBits64&nbsp;reads&nbsp;the&nbsp;given&nbsp;number&nbsp;of&nbsp;bits&nbsp;and&nbsp;returns&nbsp;them&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5517894">//&nbsp;least-significant&nbsp;part&nbsp;of&nbsp;a&nbsp;uint64.&nbsp;In&nbsp;the&nbsp;event&nbsp;of&nbsp;an&nbsp;error,&nbsp;it&nbsp;returns&nbsp;0</span><br>
<span class="lineno">35</span><span class="comment" id="5517972">//&nbsp;and&nbsp;the&nbsp;error&nbsp;can&nbsp;be&nbsp;obtained&nbsp;by&nbsp;calling&nbsp;Err().</span><br>
<span class="lineno"></span><span class="keyword" id="5518023">func</span>&nbsp;<span class="op" id="5518028">(</span><span class="ident" id="5518029">br</span>&nbsp;<span class="op" id="5518032">*</span><span class="ident" id="5518033"><a href="/compress/bzip2/bit_reader.go.html#5517461">bitReader</a></span><span class="op" id="5518042">)</span>&nbsp;<span class="ident" id="5518044">ReadBits64</span><span class="op" id="5518054">(</span><span class="ident" id="5518055">bits</span>&nbsp;<span class="builtintype" id="5518060">uint</span><span class="op" id="5518064">)</span>&nbsp;<span class="op" id="5518066">(</span><span class="ident" id="5518067">n</span>&nbsp;<span class="ident" id="5518069">uint64</span><span class="op" id="5518075">)</span>&nbsp;<span class="op" id="5518077">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518080">for</span>&nbsp;<span class="ident" id="5518084"><a href="/compress/bzip2/bit_reader.go.html#5518055">bits</a></span>&nbsp;<span class="op" id="5518089">&gt;</span>&nbsp;<span class="ident" id="5518091"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518093">.</span><span class="ident" id="5518094">bits</span>&nbsp;<span class="op" id="5518099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518103">b</span><span class="op" id="5518104">,</span>&nbsp;<span class="ident" id="5518106">err</span>&nbsp;<span class="op" id="5518110">:=</span>&nbsp;<span class="ident" id="5518113"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518115">.</span><span class="ident" id="5518116">r</span><span class="op" id="5518117">.</span><span class="ident" id="5518118">ReadByte</span><span class="op" id="5518126">(</span><span class="op" id="5518127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518131">if</span>&nbsp;<span class="ident" id="5518134"><a href="/compress/bzip2/bit_reader.go.html#5518106">err</a></span>&nbsp;<span class="op" id="5518138">==</span>&nbsp;<span class="ident" id="5518141"><a href="/compress/bzip2/bit_reader.go.html#5517200">io</a></span><span class="op" id="5518143">.</span><span class="ident" id="5518144">EOF</span>&nbsp;<span class="op" id="5518148">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518153"><a href="/compress/bzip2/bit_reader.go.html#5518106">err</a></span>&nbsp;<span class="op" id="5518157">=</span>&nbsp;<span class="ident" id="5518159"><a href="/compress/bzip2/bit_reader.go.html#5517200">io</a></span><span class="op" id="5518161">.</span><span class="ident" id="5518162">ErrUnexpectedEOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518185">if</span>&nbsp;<span class="ident" id="5518188"><a href="/compress/bzip2/bit_reader.go.html#5518106">err</a></span>&nbsp;<span class="op" id="5518192">!=</span>&nbsp;<span class="ident" id="5518195">nil</span>&nbsp;<span class="op" id="5518199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518204"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518206">.</span><span class="ident" id="5518207">err</span>&nbsp;<span class="op" id="5518211">=</span>&nbsp;<span class="ident" id="5518213"><a href="/compress/bzip2/bit_reader.go.html#5518106">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518220">return</span>&nbsp;<span class="num" id="5518227">0</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518235"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518237">.</span><span class="ident" id="5518238">n</span>&nbsp;<span class="op" id="5518240">&lt;&lt;=</span>&nbsp;<span class="num" id="5518244">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518248"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518250">.</span><span class="ident" id="5518251">n</span>&nbsp;<span class="op" id="5518253">|=</span>&nbsp;<span class="ident" id="5518256">uint64</span><span class="op" id="5518262">(</span><span class="ident" id="5518263"><a href="/compress/bzip2/bit_reader.go.html#5518103">b</a></span><span class="op" id="5518264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518268"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518270">.</span><span class="ident" id="5518271">bits</span>&nbsp;<span class="op" id="5518276">+=</span>&nbsp;<span class="num" id="5518279">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5518282">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518286">//&nbsp;br.n&nbsp;looks&nbsp;like&nbsp;this&nbsp;(assuming&nbsp;that&nbsp;br.bits&nbsp;=&nbsp;14&nbsp;and&nbsp;bits&nbsp;=&nbsp;6):</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518354">//&nbsp;Bit:&nbsp;111111</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518370">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5432109876543210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518396">//</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518400">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(6&nbsp;bits,&nbsp;the&nbsp;desired&nbsp;output)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518441">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|-----|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518460">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518479">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0101101101001110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518505">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518531">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|------------|</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518557">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;br.bits&nbsp;(num&nbsp;valid&nbsp;bits)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518596">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518600">//&nbsp;This&nbsp;the&nbsp;next&nbsp;line&nbsp;right&nbsp;shifts&nbsp;the&nbsp;desired&nbsp;bits&nbsp;into&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5518662">//&nbsp;least-significant&nbsp;places&nbsp;and&nbsp;masks&nbsp;off&nbsp;anything&nbsp;above.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518721"><a href="/compress/bzip2/bit_reader.go.html#5518067">n</a></span>&nbsp;<span class="op" id="5518723">=</span>&nbsp;<span class="op" id="5518725">(</span><span class="ident" id="5518726"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518728">.</span><span class="ident" id="5518729">n</span>&nbsp;<span class="op" id="5518731">&gt;&gt;</span>&nbsp;<span class="op" id="5518734">(</span><span class="ident" id="5518735"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518737">.</span><span class="ident" id="5518738">bits</span>&nbsp;<span class="op" id="5518743">-</span>&nbsp;<span class="ident" id="5518745"><a href="/compress/bzip2/bit_reader.go.html#5518055">bits</a></span><span class="op" id="5518749">)</span><span class="op" id="5518750">)</span>&nbsp;<span class="op" id="5518752">&amp;</span>&nbsp;<span class="op" id="5518754">(</span><span class="op" id="5518755">(</span><span class="num" id="5518756">1</span>&nbsp;<span class="op" id="5518758">&lt;&lt;</span>&nbsp;<span class="ident" id="5518761"><a href="/compress/bzip2/bit_reader.go.html#5518055">bits</a></span><span class="op" id="5518765">)</span>&nbsp;<span class="op" id="5518767">-</span>&nbsp;<span class="num" id="5518769">1</span><span class="op" id="5518770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518773"><a href="/compress/bzip2/bit_reader.go.html#5518029">br</a></span><span class="op" id="5518775">.</span><span class="ident" id="5518776">bits</span>&nbsp;<span class="op" id="5518781">-=</span>&nbsp;<span class="ident" id="5518784"><a href="/compress/bzip2/bit_reader.go.html#5518055">bits</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518790">return</span><br>
<span class="lineno"></span><span class="op" id="5518797">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="5518800">func</span>&nbsp;<span class="op" id="5518805">(</span><span class="ident" id="5518806">br</span>&nbsp;<span class="op" id="5518809">*</span><span class="ident" id="5518810"><a href="/compress/bzip2/bit_reader.go.html#5517461">bitReader</a></span><span class="op" id="5518819">)</span>&nbsp;<span class="ident" id="5518821">ReadBits</span><span class="op" id="5518829">(</span><span class="ident" id="5518830">bits</span>&nbsp;<span class="builtintype" id="5518835">uint</span><span class="op" id="5518839">)</span>&nbsp;<span class="op" id="5518841">(</span><span class="ident" id="5518842">n</span>&nbsp;<span class="builtintype" id="5518844">int</span><span class="op" id="5518847">)</span>&nbsp;<span class="op" id="5518849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518852">n64</span>&nbsp;<span class="op" id="5518856">:=</span>&nbsp;<span class="ident" id="5518859"><a href="/compress/bzip2/bit_reader.go.html#5518806">br</a></span><span class="op" id="5518861">.</span><span class="ident" id="5518862">ReadBits64</span><span class="op" id="5518872">(</span><span class="ident" id="5518873"><a href="/compress/bzip2/bit_reader.go.html#5518830">bits</a></span><span class="op" id="5518877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518880">return</span>&nbsp;<span class="builtintype" id="5518887">int</span><span class="op" id="5518890">(</span><span class="ident" id="5518891"><a href="/compress/bzip2/bit_reader.go.html#5518852">n64</a></span><span class="op" id="5518894">)</span><br>
<span class="lineno"></span><span class="op" id="5518896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="5518899">func</span>&nbsp;<span class="op" id="5518904">(</span><span class="ident" id="5518905">br</span>&nbsp;<span class="op" id="5518908">*</span><span class="ident" id="5518909"><a href="/compress/bzip2/bit_reader.go.html#5517461">bitReader</a></span><span class="op" id="5518918">)</span>&nbsp;<span class="ident" id="5518920">ReadBit</span><span class="op" id="5518927">(</span><span class="op" id="5518928">)</span>&nbsp;<span class="builtintype" id="5518930">bool</span>&nbsp;<span class="op" id="5518935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5518938">n</span>&nbsp;<span class="op" id="5518940">:=</span>&nbsp;<span class="ident" id="5518943"><a href="/compress/bzip2/bit_reader.go.html#5518905">br</a></span><span class="op" id="5518945">.</span><span class="ident" id="5518946">ReadBits</span><span class="op" id="5518954">(</span><span class="num" id="5518955">1</span><span class="op" id="5518956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5518959">return</span>&nbsp;<span class="ident" id="5518966"><a href="/compress/bzip2/bit_reader.go.html#5518938">n</a></span>&nbsp;<span class="op" id="5518968">!=</span>&nbsp;<span class="num" id="5518971">0</span><br>
<span class="lineno"></span><span class="op" id="5518973">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5518976">func</span>&nbsp;<span class="op" id="5518981">(</span><span class="ident" id="5518982">br</span>&nbsp;<span class="op" id="5518985">*</span><span class="ident" id="5518986"><a href="/compress/bzip2/bit_reader.go.html#5517461">bitReader</a></span><span class="op" id="5518995">)</span>&nbsp;<span class="ident" id="5518997">TryReadBit</span><span class="op" id="5519007">(</span><span class="op" id="5519008">)</span>&nbsp;<span class="op" id="5519010">(</span><span class="ident" id="5519011">bit</span>&nbsp;<span class="builtintype" id="5519015">byte</span><span class="op" id="5519019">,</span>&nbsp;<span class="ident" id="5519021">ok</span>&nbsp;<span class="builtintype" id="5519024">bool</span><span class="op" id="5519028">)</span>&nbsp;<span class="op" id="5519030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519033">if</span>&nbsp;<span class="ident" id="5519036"><a href="/compress/bzip2/bit_reader.go.html#5518982">br</a></span><span class="op" id="5519038">.</span><span class="ident" id="5519039">bits</span>&nbsp;<span class="op" id="5519044">&gt;</span>&nbsp;<span class="num" id="5519046">0</span>&nbsp;<span class="op" id="5519048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5519052"><a href="/compress/bzip2/bit_reader.go.html#5518982">br</a></span><span class="op" id="5519054">.</span><span class="ident" id="5519055">bits</span><span class="op" id="5519059">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519064">return</span>&nbsp;<span class="builtintype" id="5519071">byte</span><span class="op" id="5519075">(</span><span class="ident" id="5519076"><a href="/compress/bzip2/bit_reader.go.html#5518982">br</a></span><span class="op" id="5519078">.</span><span class="ident" id="5519079">n</span><span class="op" id="5519080">&gt;&gt;</span><span class="ident" id="5519082"><a href="/compress/bzip2/bit_reader.go.html#5518982">br</a></span><span class="op" id="5519084">.</span><span class="ident" id="5519085">bits</span><span class="op" id="5519089">)</span>&nbsp;<span class="op" id="5519091">&amp;</span>&nbsp;<span class="num" id="5519093">1</span><span class="op" id="5519094">,</span>&nbsp;<span class="ident" id="5519096">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5519102">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519105">return</span>&nbsp;<span class="num" id="5519112">0</span><span class="op" id="5519113">,</span>&nbsp;<span class="ident" id="5519115">false</span><br>
<span class="lineno"></span><span class="op" id="5519121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5519124">func</span>&nbsp;<span class="op" id="5519129">(</span><span class="ident" id="5519130">br</span>&nbsp;<span class="op" id="5519133">*</span><span class="ident" id="5519134"><a href="/compress/bzip2/bit_reader.go.html#5517461">bitReader</a></span><span class="op" id="5519143">)</span>&nbsp;<span class="ident" id="5519145">Err</span><span class="op" id="5519148">(</span><span class="op" id="5519149">)</span>&nbsp;<span class="builtintype" id="5519151">error</span>&nbsp;<span class="op" id="5519157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5519160">return</span>&nbsp;<span class="ident" id="5519167"><a href="/compress/bzip2/bit_reader.go.html#5519130">br</a></span><span class="op" id="5519169">.</span><span class="ident" id="5519170">err</span><br>
<span class="lineno">90</span><span class="op" id="5519174">}</span>
</div>
</body>
</html>
