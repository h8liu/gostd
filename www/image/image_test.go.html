<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6987898">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6987953">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6988007">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6988058">package</span>&nbsp;<span class="ident" id="6988066">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6988073">import</span>&nbsp;<span class="op" id="6988080">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6988083">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6988098">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6988108">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6988111">type</span>&nbsp;<span class="ident" id="6988116">image</span>&nbsp;<span class="keyword" id="6988122">interface</span>&nbsp;<span class="op" id="6988132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988135"><a href="/image/image.go.html#3190140">Image</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988142">Opaque</span><span class="op" id="6988148">(</span><span class="op" id="6988149">)</span>&nbsp;<span class="builtintype" id="6988151">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988157">Set</span><span class="op" id="6988160">(</span><span class="builtintype" id="6988161">int</span><span class="op" id="6988164">,</span>&nbsp;<span class="builtintype" id="6988166">int</span><span class="op" id="6988169">,</span>&nbsp;<span class="ident" id="6988171"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6988176">.</span><span class="ident" id="6988177">Color</span><span class="op" id="6988182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988185">SubImage</span><span class="op" id="6988193">(</span><span class="ident" id="6988194"><a href="/image/geom.go.html#3185229">Rectangle</a></span><span class="op" id="6988203">)</span>&nbsp;<span class="ident" id="6988205"><a href="/image/image.go.html#3190140">Image</a></span><br>
<span class="lineno"></span><span class="op" id="6988211">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6988214">func</span>&nbsp;<span class="ident" id="6988219">cmp</span><span class="op" id="6988222">(</span><span class="ident" id="6988223">t</span>&nbsp;<span class="op" id="6988225">*</span><span class="ident" id="6988226"><a href="/image/image_test.go.html#6988098">testing</a></span><span class="op" id="6988233">.</span><span class="ident" id="6988234">T</span><span class="op" id="6988235">,</span>&nbsp;<span class="ident" id="6988237">cm</span>&nbsp;<span class="ident" id="6988240"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6988245">.</span><span class="ident" id="6988246">Model</span><span class="op" id="6988251">,</span>&nbsp;<span class="ident" id="6988253">c0</span><span class="op" id="6988255">,</span>&nbsp;<span class="ident" id="6988257">c1</span>&nbsp;<span class="ident" id="6988260"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6988265">.</span><span class="ident" id="6988266">Color</span><span class="op" id="6988271">)</span>&nbsp;<span class="builtintype" id="6988273">bool</span>&nbsp;<span class="op" id="6988278">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988281">r0</span><span class="op" id="6988283">,</span>&nbsp;<span class="ident" id="6988285">g0</span><span class="op" id="6988287">,</span>&nbsp;<span class="ident" id="6988289">b0</span><span class="op" id="6988291">,</span>&nbsp;<span class="ident" id="6988293">a0</span>&nbsp;<span class="op" id="6988296">:=</span>&nbsp;<span class="ident" id="6988299"><a href="/image/image_test.go.html#6988237">cm</a></span><span class="op" id="6988301">.</span><span class="ident" id="6988302">Convert</span><span class="op" id="6988309">(</span><span class="ident" id="6988310"><a href="/image/image_test.go.html#6988253">c0</a></span><span class="op" id="6988312">)</span><span class="op" id="6988313">.</span><span class="ident" id="6988314">RGBA</span><span class="op" id="6988318">(</span><span class="op" id="6988319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988322">r1</span><span class="op" id="6988324">,</span>&nbsp;<span class="ident" id="6988326">g1</span><span class="op" id="6988328">,</span>&nbsp;<span class="ident" id="6988330">b1</span><span class="op" id="6988332">,</span>&nbsp;<span class="ident" id="6988334">a1</span>&nbsp;<span class="op" id="6988337">:=</span>&nbsp;<span class="ident" id="6988340"><a href="/image/image_test.go.html#6988237">cm</a></span><span class="op" id="6988342">.</span><span class="ident" id="6988343">Convert</span><span class="op" id="6988350">(</span><span class="ident" id="6988351"><a href="/image/image_test.go.html#6988257">c1</a></span><span class="op" id="6988353">)</span><span class="op" id="6988354">.</span><span class="ident" id="6988355">RGBA</span><span class="op" id="6988359">(</span><span class="op" id="6988360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988363">return</span>&nbsp;<span class="ident" id="6988370"><a href="/image/image_test.go.html#6988281">r0</a></span>&nbsp;<span class="op" id="6988373">==</span>&nbsp;<span class="ident" id="6988376"><a href="/image/image_test.go.html#6988322">r1</a></span>&nbsp;<span class="op" id="6988379">&amp;&amp;</span>&nbsp;<span class="ident" id="6988382"><a href="/image/image_test.go.html#6988285">g0</a></span>&nbsp;<span class="op" id="6988385">==</span>&nbsp;<span class="ident" id="6988388"><a href="/image/image_test.go.html#6988326">g1</a></span>&nbsp;<span class="op" id="6988391">&amp;&amp;</span>&nbsp;<span class="ident" id="6988394"><a href="/image/image_test.go.html#6988289">b0</a></span>&nbsp;<span class="op" id="6988397">==</span>&nbsp;<span class="ident" id="6988400"><a href="/image/image_test.go.html#6988330">b1</a></span>&nbsp;<span class="op" id="6988403">&amp;&amp;</span>&nbsp;<span class="ident" id="6988406"><a href="/image/image_test.go.html#6988293">a0</a></span>&nbsp;<span class="op" id="6988409">==</span>&nbsp;<span class="ident" id="6988412"><a href="/image/image_test.go.html#6988334">a1</a></span><br>
<span class="lineno"></span><span class="op" id="6988415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6988418">func</span>&nbsp;<span class="ident" id="6988423">TestImage</span><span class="op" id="6988432">(</span><span class="ident" id="6988433">t</span>&nbsp;<span class="op" id="6988435">*</span><span class="ident" id="6988436"><a href="/image/image_test.go.html#6988098">testing</a></span><span class="op" id="6988443">.</span><span class="ident" id="6988444">T</span><span class="op" id="6988445">)</span>&nbsp;<span class="op" id="6988447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988450">testImage</span>&nbsp;<span class="op" id="6988460">:=</span>&nbsp;<span class="op" id="6988463">[</span><span class="op" id="6988464">]</span><span class="ident" id="6988465"><a href="/image/image_test.go.html#6988116">image</a></span><span class="op" id="6988470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988474"><a href="/image/image.go.html#3193459">NewRGBA</a></span><span class="op" id="6988481">(</span><span class="ident" id="6988482"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988486">(</span><span class="num" id="6988487">0</span><span class="op" id="6988488">,</span>&nbsp;<span class="num" id="6988490">0</span><span class="op" id="6988491">,</span>&nbsp;<span class="num" id="6988493">10</span><span class="op" id="6988495">,</span>&nbsp;<span class="num" id="6988497">10</span><span class="op" id="6988499">)</span><span class="op" id="6988500">)</span><span class="op" id="6988501">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988505"><a href="/image/image.go.html#3196501">NewRGBA64</a></span><span class="op" id="6988514">(</span><span class="ident" id="6988515"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988519">(</span><span class="num" id="6988520">0</span><span class="op" id="6988521">,</span>&nbsp;<span class="num" id="6988523">0</span><span class="op" id="6988524">,</span>&nbsp;<span class="num" id="6988526">10</span><span class="op" id="6988528">,</span>&nbsp;<span class="num" id="6988530">10</span><span class="op" id="6988532">)</span><span class="op" id="6988533">)</span><span class="op" id="6988534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988538"><a href="/image/image.go.html#3199037">NewNRGBA</a></span><span class="op" id="6988546">(</span><span class="ident" id="6988547"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988551">(</span><span class="num" id="6988552">0</span><span class="op" id="6988553">,</span>&nbsp;<span class="num" id="6988555">0</span><span class="op" id="6988556">,</span>&nbsp;<span class="num" id="6988558">10</span><span class="op" id="6988560">,</span>&nbsp;<span class="num" id="6988562">10</span><span class="op" id="6988564">)</span><span class="op" id="6988565">)</span><span class="op" id="6988566">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988570"><a href="/image/image.go.html#3202108">NewNRGBA64</a></span><span class="op" id="6988580">(</span><span class="ident" id="6988581"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988585">(</span><span class="num" id="6988586">0</span><span class="op" id="6988587">,</span>&nbsp;<span class="num" id="6988589">0</span><span class="op" id="6988590">,</span>&nbsp;<span class="num" id="6988592">10</span><span class="op" id="6988594">,</span>&nbsp;<span class="num" id="6988596">10</span><span class="op" id="6988598">)</span><span class="op" id="6988599">)</span><span class="op" id="6988600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988604"><a href="/image/image.go.html#3204475">NewAlpha</a></span><span class="op" id="6988612">(</span><span class="ident" id="6988613"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988617">(</span><span class="num" id="6988618">0</span><span class="op" id="6988619">,</span>&nbsp;<span class="num" id="6988621">0</span><span class="op" id="6988622">,</span>&nbsp;<span class="num" id="6988624">10</span><span class="op" id="6988626">,</span>&nbsp;<span class="num" id="6988628">10</span><span class="op" id="6988630">)</span><span class="op" id="6988631">)</span><span class="op" id="6988632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988636"><a href="/image/image.go.html#3207061">NewAlpha16</a></span><span class="op" id="6988646">(</span><span class="ident" id="6988647"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988651">(</span><span class="num" id="6988652">0</span><span class="op" id="6988653">,</span>&nbsp;<span class="num" id="6988655">0</span><span class="op" id="6988656">,</span>&nbsp;<span class="num" id="6988658">10</span><span class="op" id="6988660">,</span>&nbsp;<span class="num" id="6988662">10</span><span class="op" id="6988664">)</span><span class="op" id="6988665">)</span><span class="op" id="6988666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988670"><a href="/image/image.go.html#3209172">NewGray</a></span><span class="op" id="6988677">(</span><span class="ident" id="6988678"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988682">(</span><span class="num" id="6988683">0</span><span class="op" id="6988684">,</span>&nbsp;<span class="num" id="6988686">0</span><span class="op" id="6988687">,</span>&nbsp;<span class="num" id="6988689">10</span><span class="op" id="6988691">,</span>&nbsp;<span class="num" id="6988693">10</span><span class="op" id="6988695">)</span><span class="op" id="6988696">)</span><span class="op" id="6988697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988701"><a href="/image/image.go.html#3211470">NewGray16</a></span><span class="op" id="6988710">(</span><span class="ident" id="6988711"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988715">(</span><span class="num" id="6988716">0</span><span class="op" id="6988717">,</span>&nbsp;<span class="num" id="6988719">0</span><span class="op" id="6988720">,</span>&nbsp;<span class="num" id="6988722">10</span><span class="op" id="6988724">,</span>&nbsp;<span class="num" id="6988726">10</span><span class="op" id="6988728">)</span><span class="op" id="6988729">)</span><span class="op" id="6988730">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988734"><a href="/image/image.go.html#3214203">NewPaletted</a></span><span class="op" id="6988745">(</span><span class="ident" id="6988746"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988750">(</span><span class="num" id="6988751">0</span><span class="op" id="6988752">,</span>&nbsp;<span class="num" id="6988754">0</span><span class="op" id="6988755">,</span>&nbsp;<span class="num" id="6988757">10</span><span class="op" id="6988759">,</span>&nbsp;<span class="num" id="6988761">10</span><span class="op" id="6988763">)</span><span class="op" id="6988764">,</span>&nbsp;<span class="ident" id="6988766"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6988771">.</span><span class="ident" id="6988772">Palette</span><span class="op" id="6988779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988784"><a href="/image/names.go.html#3214766">Transparent</a></span><span class="op" id="6988795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988800"><a href="/image/names.go.html#3214855">Opaque</a></span><span class="op" id="6988806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988810">}</span><span class="op" id="6988811">)</span><span class="op" id="6988812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988815">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988818">for</span>&nbsp;<span class="ident" id="6988822">_</span><span class="op" id="6988823">,</span>&nbsp;<span class="ident" id="6988825">m</span>&nbsp;<span class="op" id="6988827">:=</span>&nbsp;<span class="keyword" id="6988830">range</span>&nbsp;<span class="ident" id="6988836"><a href="/image/image_test.go.html#6988450">testImage</a></span>&nbsp;<span class="op" id="6988846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988850">if</span>&nbsp;<span class="op" id="6988853">!</span><span class="ident" id="6988854"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988858">(</span><span class="num" id="6988859">0</span><span class="op" id="6988860">,</span>&nbsp;<span class="num" id="6988862">0</span><span class="op" id="6988863">,</span>&nbsp;<span class="num" id="6988865">10</span><span class="op" id="6988867">,</span>&nbsp;<span class="num" id="6988869">10</span><span class="op" id="6988871">)</span><span class="op" id="6988872">.</span><span class="ident" id="6988873">Eq</span><span class="op" id="6988875">(</span><span class="ident" id="6988876"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6988877">.</span><span class="ident" id="6988878">Bounds</span><span class="op" id="6988884">(</span><span class="op" id="6988885">)</span><span class="op" id="6988886">)</span>&nbsp;<span class="op" id="6988888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6988893"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6988894">.</span><span class="ident" id="6988895">Errorf</span><span class="op" id="6988901">(</span><span class="string" id="6988902">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6988930">,</span>&nbsp;<span class="ident" id="6988932"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6988933">,</span>&nbsp;<span class="ident" id="6988935"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6988939">(</span><span class="num" id="6988940">0</span><span class="op" id="6988941">,</span>&nbsp;<span class="num" id="6988943">0</span><span class="op" id="6988944">,</span>&nbsp;<span class="num" id="6988946">10</span><span class="op" id="6988948">,</span>&nbsp;<span class="num" id="6988950">10</span><span class="op" id="6988952">)</span><span class="op" id="6988953">,</span>&nbsp;<span class="ident" id="6988955"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6988956">.</span><span class="ident" id="6988957">Bounds</span><span class="op" id="6988963">(</span><span class="op" id="6988964">)</span><span class="op" id="6988965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988970">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6988981">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6988985">if</span>&nbsp;<span class="op" id="6988988">!</span><span class="ident" id="6988989"><a href="/image/image_test.go.html#6988219">cmp</a></span><span class="op" id="6988992">(</span><span class="ident" id="6988993"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6988994">,</span>&nbsp;<span class="ident" id="6988996"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6988997">.</span><span class="ident" id="6988998">ColorModel</span><span class="op" id="6989008">(</span><span class="op" id="6989009">)</span><span class="op" id="6989010">,</span>&nbsp;<span class="ident" id="6989012"><a href="/image/names.go.html#3214766">Transparent</a></span><span class="op" id="6989023">,</span>&nbsp;<span class="ident" id="6989025"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989026">.</span><span class="ident" id="6989027">At</span><span class="op" id="6989029">(</span><span class="num" id="6989030">6</span><span class="op" id="6989031">,</span>&nbsp;<span class="num" id="6989033">3</span><span class="op" id="6989034">)</span><span class="op" id="6989035">)</span>&nbsp;<span class="op" id="6989037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989042"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989043">.</span><span class="ident" id="6989044">Errorf</span><span class="op" id="6989050">(</span><span class="string" id="6989051">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6989093">,</span>&nbsp;<span class="ident" id="6989095"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989096">,</span>&nbsp;<span class="ident" id="6989098"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989099">.</span><span class="ident" id="6989100">At</span><span class="op" id="6989102">(</span><span class="num" id="6989103">6</span><span class="op" id="6989104">,</span>&nbsp;<span class="num" id="6989106">3</span><span class="op" id="6989107">)</span><span class="op" id="6989108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989113">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989128"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989129">.</span><span class="ident" id="6989130">Set</span><span class="op" id="6989133">(</span><span class="num" id="6989134">6</span><span class="op" id="6989135">,</span>&nbsp;<span class="num" id="6989137">3</span><span class="op" id="6989138">,</span>&nbsp;<span class="ident" id="6989140"><a href="/image/names.go.html#3214855">Opaque</a></span><span class="op" id="6989146">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989150">if</span>&nbsp;<span class="op" id="6989153">!</span><span class="ident" id="6989154"><a href="/image/image_test.go.html#6988219">cmp</a></span><span class="op" id="6989157">(</span><span class="ident" id="6989158"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989159">,</span>&nbsp;<span class="ident" id="6989161"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989162">.</span><span class="ident" id="6989163">ColorModel</span><span class="op" id="6989173">(</span><span class="op" id="6989174">)</span><span class="op" id="6989175">,</span>&nbsp;<span class="ident" id="6989177"><a href="/image/names.go.html#3214855">Opaque</a></span><span class="op" id="6989183">,</span>&nbsp;<span class="ident" id="6989185"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989186">.</span><span class="ident" id="6989187">At</span><span class="op" id="6989189">(</span><span class="num" id="6989190">6</span><span class="op" id="6989191">,</span>&nbsp;<span class="num" id="6989193">3</span><span class="op" id="6989194">)</span><span class="op" id="6989195">)</span>&nbsp;<span class="op" id="6989197">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989202"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989203">.</span><span class="ident" id="6989204">Errorf</span><span class="op" id="6989210">(</span><span class="string" id="6989211">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6989257">,</span>&nbsp;<span class="ident" id="6989259"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989260">,</span>&nbsp;<span class="ident" id="6989262"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989263">.</span><span class="ident" id="6989264">At</span><span class="op" id="6989266">(</span><span class="num" id="6989267">6</span><span class="op" id="6989268">,</span>&nbsp;<span class="num" id="6989270">3</span><span class="op" id="6989271">)</span><span class="op" id="6989272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989277">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989292">if</span>&nbsp;<span class="op" id="6989295">!</span><span class="ident" id="6989296"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989297">.</span><span class="ident" id="6989298">SubImage</span><span class="op" id="6989306">(</span><span class="ident" id="6989307"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6989311">(</span><span class="num" id="6989312">6</span><span class="op" id="6989313">,</span>&nbsp;<span class="num" id="6989315">3</span><span class="op" id="6989316">,</span>&nbsp;<span class="num" id="6989318">7</span><span class="op" id="6989319">,</span>&nbsp;<span class="num" id="6989321">4</span><span class="op" id="6989322">)</span><span class="op" id="6989323">)</span><span class="op" id="6989324">.</span><span class="op" id="6989325">(</span><span class="ident" id="6989326"><a href="/image/image_test.go.html#6988116">image</a></span><span class="op" id="6989331">)</span><span class="op" id="6989332">.</span><span class="ident" id="6989333">Opaque</span><span class="op" id="6989339">(</span><span class="op" id="6989340">)</span>&nbsp;<span class="op" id="6989342">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989347"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989348">.</span><span class="ident" id="6989349">Errorf</span><span class="op" id="6989355">(</span><span class="string" id="6989356">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="6989386">,</span>&nbsp;<span class="ident" id="6989388"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989394">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989409"><a href="/image/image_test.go.html#6988825">m</a></span>&nbsp;<span class="op" id="6989411">=</span>&nbsp;<span class="ident" id="6989413"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989414">.</span><span class="ident" id="6989415">SubImage</span><span class="op" id="6989423">(</span><span class="ident" id="6989424"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6989428">(</span><span class="num" id="6989429">3</span><span class="op" id="6989430">,</span>&nbsp;<span class="num" id="6989432">2</span><span class="op" id="6989433">,</span>&nbsp;<span class="num" id="6989435">9</span><span class="op" id="6989436">,</span>&nbsp;<span class="num" id="6989438">8</span><span class="op" id="6989439">)</span><span class="op" id="6989440">)</span><span class="op" id="6989441">.</span><span class="op" id="6989442">(</span><span class="ident" id="6989443"><a href="/image/image_test.go.html#6988116">image</a></span><span class="op" id="6989448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989452">if</span>&nbsp;<span class="op" id="6989455">!</span><span class="ident" id="6989456"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6989460">(</span><span class="num" id="6989461">3</span><span class="op" id="6989462">,</span>&nbsp;<span class="num" id="6989464">2</span><span class="op" id="6989465">,</span>&nbsp;<span class="num" id="6989467">9</span><span class="op" id="6989468">,</span>&nbsp;<span class="num" id="6989470">8</span><span class="op" id="6989471">)</span><span class="op" id="6989472">.</span><span class="ident" id="6989473">Eq</span><span class="op" id="6989475">(</span><span class="ident" id="6989476"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989477">.</span><span class="ident" id="6989478">Bounds</span><span class="op" id="6989484">(</span><span class="op" id="6989485">)</span><span class="op" id="6989486">)</span>&nbsp;<span class="op" id="6989488">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989493"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989494">.</span><span class="ident" id="6989495">Errorf</span><span class="op" id="6989501">(</span><span class="string" id="6989502">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6989540">,</span>&nbsp;<span class="ident" id="6989542"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989543">,</span>&nbsp;<span class="ident" id="6989545"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6989549">(</span><span class="num" id="6989550">3</span><span class="op" id="6989551">,</span>&nbsp;<span class="num" id="6989553">2</span><span class="op" id="6989554">,</span>&nbsp;<span class="num" id="6989556">9</span><span class="op" id="6989557">,</span>&nbsp;<span class="num" id="6989559">8</span><span class="op" id="6989560">)</span><span class="op" id="6989561">,</span>&nbsp;<span class="ident" id="6989563"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989564">.</span><span class="ident" id="6989565">Bounds</span><span class="op" id="6989571">(</span><span class="op" id="6989572">)</span><span class="op" id="6989573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989578">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989593">if</span>&nbsp;<span class="op" id="6989596">!</span><span class="ident" id="6989597"><a href="/image/image_test.go.html#6988219">cmp</a></span><span class="op" id="6989600">(</span><span class="ident" id="6989601"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989602">,</span>&nbsp;<span class="ident" id="6989604"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989605">.</span><span class="ident" id="6989606">ColorModel</span><span class="op" id="6989616">(</span><span class="op" id="6989617">)</span><span class="op" id="6989618">,</span>&nbsp;<span class="ident" id="6989620"><a href="/image/names.go.html#3214855">Opaque</a></span><span class="op" id="6989626">,</span>&nbsp;<span class="ident" id="6989628"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989629">.</span><span class="ident" id="6989630">At</span><span class="op" id="6989632">(</span><span class="num" id="6989633">6</span><span class="op" id="6989634">,</span>&nbsp;<span class="num" id="6989636">3</span><span class="op" id="6989637">)</span><span class="op" id="6989638">)</span>&nbsp;<span class="op" id="6989640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989645"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989646">.</span><span class="ident" id="6989647">Errorf</span><span class="op" id="6989653">(</span><span class="string" id="6989654">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6989710">,</span>&nbsp;<span class="ident" id="6989712"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989713">,</span>&nbsp;<span class="ident" id="6989715"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989716">.</span><span class="ident" id="6989717">At</span><span class="op" id="6989719">(</span><span class="num" id="6989720">6</span><span class="op" id="6989721">,</span>&nbsp;<span class="num" id="6989723">3</span><span class="op" id="6989724">)</span><span class="op" id="6989725">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989730">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989745">if</span>&nbsp;<span class="op" id="6989748">!</span><span class="ident" id="6989749"><a href="/image/image_test.go.html#6988219">cmp</a></span><span class="op" id="6989752">(</span><span class="ident" id="6989753"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989754">,</span>&nbsp;<span class="ident" id="6989756"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989757">.</span><span class="ident" id="6989758">ColorModel</span><span class="op" id="6989768">(</span><span class="op" id="6989769">)</span><span class="op" id="6989770">,</span>&nbsp;<span class="ident" id="6989772"><a href="/image/names.go.html#3214766">Transparent</a></span><span class="op" id="6989783">,</span>&nbsp;<span class="ident" id="6989785"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989786">.</span><span class="ident" id="6989787">At</span><span class="op" id="6989789">(</span><span class="num" id="6989790">3</span><span class="op" id="6989791">,</span>&nbsp;<span class="num" id="6989793">3</span><span class="op" id="6989794">)</span><span class="op" id="6989795">)</span>&nbsp;<span class="op" id="6989797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989802"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989803">.</span><span class="ident" id="6989804">Errorf</span><span class="op" id="6989810">(</span><span class="string" id="6989811">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6989863">,</span>&nbsp;<span class="ident" id="6989865"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989866">,</span>&nbsp;<span class="ident" id="6989868"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989869">.</span><span class="ident" id="6989870">At</span><span class="op" id="6989872">(</span><span class="num" id="6989873">3</span><span class="op" id="6989874">,</span>&nbsp;<span class="num" id="6989876">3</span><span class="op" id="6989877">)</span><span class="op" id="6989878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989883">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6989894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989898"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989899">.</span><span class="ident" id="6989900">Set</span><span class="op" id="6989903">(</span><span class="num" id="6989904">3</span><span class="op" id="6989905">,</span>&nbsp;<span class="num" id="6989907">3</span><span class="op" id="6989908">,</span>&nbsp;<span class="ident" id="6989910"><a href="/image/names.go.html#3214855">Opaque</a></span><span class="op" id="6989916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6989920">if</span>&nbsp;<span class="op" id="6989923">!</span><span class="ident" id="6989924"><a href="/image/image_test.go.html#6988219">cmp</a></span><span class="op" id="6989927">(</span><span class="ident" id="6989928"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989929">,</span>&nbsp;<span class="ident" id="6989931"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989932">.</span><span class="ident" id="6989933">ColorModel</span><span class="op" id="6989943">(</span><span class="op" id="6989944">)</span><span class="op" id="6989945">,</span>&nbsp;<span class="ident" id="6989947"><a href="/image/names.go.html#3214855">Opaque</a></span><span class="op" id="6989953">,</span>&nbsp;<span class="ident" id="6989955"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6989956">.</span><span class="ident" id="6989957">At</span><span class="op" id="6989959">(</span><span class="num" id="6989960">3</span><span class="op" id="6989961">,</span>&nbsp;<span class="num" id="6989963">3</span><span class="op" id="6989964">)</span><span class="op" id="6989965">)</span>&nbsp;<span class="op" id="6989967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6989972"><a href="/image/image_test.go.html#6988433">t</a></span><span class="op" id="6989973">.</span><span class="ident" id="6989974">Errorf</span><span class="op" id="6989980">(</span><span class="string" id="6989981">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="6990037">,</span>&nbsp;<span class="ident" id="6990039"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6990040">,</span>&nbsp;<span class="ident" id="6990042"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6990043">.</span><span class="ident" id="6990044">At</span><span class="op" id="6990046">(</span><span class="num" id="6990047">3</span><span class="op" id="6990048">,</span>&nbsp;<span class="num" id="6990050">3</span><span class="op" id="6990051">)</span><span class="op" id="6990052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6990057">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6990068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6990072">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990150"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6990151">.</span><span class="ident" id="6990152">SubImage</span><span class="op" id="6990160">(</span><span class="ident" id="6990161"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990165">(</span><span class="num" id="6990166">0</span><span class="op" id="6990167">,</span>&nbsp;<span class="num" id="6990169">0</span><span class="op" id="6990170">,</span>&nbsp;<span class="num" id="6990172">0</span><span class="op" id="6990173">,</span>&nbsp;<span class="num" id="6990175">0</span><span class="op" id="6990176">)</span><span class="op" id="6990177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990181"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6990182">.</span><span class="ident" id="6990183">SubImage</span><span class="op" id="6990191">(</span><span class="ident" id="6990192"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990196">(</span><span class="num" id="6990197">10</span><span class="op" id="6990199">,</span>&nbsp;<span class="num" id="6990201">0</span><span class="op" id="6990202">,</span>&nbsp;<span class="num" id="6990204">10</span><span class="op" id="6990206">,</span>&nbsp;<span class="num" id="6990208">0</span><span class="op" id="6990209">)</span><span class="op" id="6990210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990214"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6990215">.</span><span class="ident" id="6990216">SubImage</span><span class="op" id="6990224">(</span><span class="ident" id="6990225"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990229">(</span><span class="num" id="6990230">0</span><span class="op" id="6990231">,</span>&nbsp;<span class="num" id="6990233">10</span><span class="op" id="6990235">,</span>&nbsp;<span class="num" id="6990237">0</span><span class="op" id="6990238">,</span>&nbsp;<span class="num" id="6990240">10</span><span class="op" id="6990242">)</span><span class="op" id="6990243">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990247"><a href="/image/image_test.go.html#6988825">m</a></span><span class="op" id="6990248">.</span><span class="ident" id="6990249">SubImage</span><span class="op" id="6990257">(</span><span class="ident" id="6990258"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990262">(</span><span class="num" id="6990263">10</span><span class="op" id="6990265">,</span>&nbsp;<span class="num" id="6990267">10</span><span class="op" id="6990269">,</span>&nbsp;<span class="num" id="6990271">10</span><span class="op" id="6990273">,</span>&nbsp;<span class="num" id="6990275">10</span><span class="op" id="6990277">)</span><span class="op" id="6990278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6990281">}</span><br>
<span class="lineno"></span><span class="op" id="6990283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6990286">func</span>&nbsp;<span class="ident" id="6990291">Test16BitsPerColorChannel</span><span class="op" id="6990316">(</span><span class="ident" id="6990317">t</span>&nbsp;<span class="op" id="6990319">*</span><span class="ident" id="6990320"><a href="/image/image_test.go.html#6988098">testing</a></span><span class="op" id="6990327">.</span><span class="ident" id="6990328">T</span><span class="op" id="6990329">)</span>&nbsp;<span class="op" id="6990331">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990334">testColorModel</span>&nbsp;<span class="op" id="6990349">:=</span>&nbsp;<span class="op" id="6990352">[</span><span class="op" id="6990353">]</span><span class="ident" id="6990354"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6990359">.</span><span class="ident" id="6990360">Model</span><span class="op" id="6990365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990369"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6990374">.</span><span class="ident" id="6990375">RGBA64Model</span><span class="op" id="6990386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990390"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6990395">.</span><span class="ident" id="6990396">NRGBA64Model</span><span class="op" id="6990408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990412"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6990417">.</span><span class="ident" id="6990418">Alpha16Model</span><span class="op" id="6990430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990434"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6990439">.</span><span class="ident" id="6990440">Gray16Model</span><span class="op" id="6990451">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6990454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6990457">for</span>&nbsp;<span class="ident" id="6990461">_</span><span class="op" id="6990462">,</span>&nbsp;<span class="ident" id="6990464">cm</span>&nbsp;<span class="op" id="6990467">:=</span>&nbsp;<span class="keyword" id="6990470">range</span>&nbsp;<span class="ident" id="6990476"><a href="/image/image_test.go.html#6990334">testColorModel</a></span>&nbsp;<span class="op" id="6990491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990495">c</span>&nbsp;<span class="op" id="6990497">:=</span>&nbsp;<span class="ident" id="6990500"><a href="/image/image_test.go.html#6990464">cm</a></span><span class="op" id="6990502">.</span><span class="ident" id="6990503">Convert</span><span class="op" id="6990510">(</span><span class="ident" id="6990511"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6990516">.</span><span class="ident" id="6990517">RGBA64</span><span class="op" id="6990523">{</span><span class="num" id="6990524">0x1234</span><span class="op" id="6990530">,</span>&nbsp;<span class="num" id="6990532">0x1234</span><span class="op" id="6990538">,</span>&nbsp;<span class="num" id="6990540">0x1234</span><span class="op" id="6990546">,</span>&nbsp;<span class="num" id="6990548">0x1234</span><span class="op" id="6990554">}</span><span class="op" id="6990555">)</span>&nbsp;<span class="comment" id="6990557">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990583">r</span><span class="op" id="6990584">,</span>&nbsp;<span class="ident" id="6990586">_</span><span class="op" id="6990587">,</span>&nbsp;<span class="ident" id="6990589">_</span><span class="op" id="6990590">,</span>&nbsp;<span class="ident" id="6990592">_</span>&nbsp;<span class="op" id="6990594">:=</span>&nbsp;<span class="ident" id="6990597"><a href="/image/image_test.go.html#6990495">c</a></span><span class="op" id="6990598">.</span><span class="ident" id="6990599">RGBA</span><span class="op" id="6990603">(</span><span class="op" id="6990604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6990608">if</span>&nbsp;<span class="ident" id="6990611"><a href="/image/image_test.go.html#6990583">r</a></span>&nbsp;<span class="op" id="6990613">!=</span>&nbsp;<span class="num" id="6990616">0x1234</span>&nbsp;<span class="op" id="6990623">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990628"><a href="/image/image_test.go.html#6990317">t</a></span><span class="op" id="6990629">.</span><span class="ident" id="6990630">Errorf</span><span class="op" id="6990636">(</span><span class="string" id="6990637">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="6990675">,</span>&nbsp;<span class="ident" id="6990677"><a href="/image/image_test.go.html#6990495">c</a></span><span class="op" id="6990678">,</span>&nbsp;<span class="num" id="6990680">0x1234</span><span class="op" id="6990686">,</span>&nbsp;<span class="ident" id="6990688"><a href="/image/image_test.go.html#6990583">r</a></span><span class="op" id="6990689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6990694">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6990705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6990708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990711">testImage</span>&nbsp;<span class="op" id="6990721">:=</span>&nbsp;<span class="op" id="6990724">[</span><span class="op" id="6990725">]</span><span class="ident" id="6990726"><a href="/image/image_test.go.html#6988116">image</a></span><span class="op" id="6990731">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990735"><a href="/image/image.go.html#3196501">NewRGBA64</a></span><span class="op" id="6990744">(</span><span class="ident" id="6990745"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990749">(</span><span class="num" id="6990750">0</span><span class="op" id="6990751">,</span>&nbsp;<span class="num" id="6990753">0</span><span class="op" id="6990754">,</span>&nbsp;<span class="num" id="6990756">10</span><span class="op" id="6990758">,</span>&nbsp;<span class="num" id="6990760">10</span><span class="op" id="6990762">)</span><span class="op" id="6990763">)</span><span class="op" id="6990764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990768"><a href="/image/image.go.html#3202108">NewNRGBA64</a></span><span class="op" id="6990778">(</span><span class="ident" id="6990779"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990783">(</span><span class="num" id="6990784">0</span><span class="op" id="6990785">,</span>&nbsp;<span class="num" id="6990787">0</span><span class="op" id="6990788">,</span>&nbsp;<span class="num" id="6990790">10</span><span class="op" id="6990792">,</span>&nbsp;<span class="num" id="6990794">10</span><span class="op" id="6990796">)</span><span class="op" id="6990797">)</span><span class="op" id="6990798">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990802"><a href="/image/image.go.html#3207061">NewAlpha16</a></span><span class="op" id="6990812">(</span><span class="ident" id="6990813"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990817">(</span><span class="num" id="6990818">0</span><span class="op" id="6990819">,</span>&nbsp;<span class="num" id="6990821">0</span><span class="op" id="6990822">,</span>&nbsp;<span class="num" id="6990824">10</span><span class="op" id="6990826">,</span>&nbsp;<span class="num" id="6990828">10</span><span class="op" id="6990830">)</span><span class="op" id="6990831">)</span><span class="op" id="6990832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990836"><a href="/image/image.go.html#3211470">NewGray16</a></span><span class="op" id="6990845">(</span><span class="ident" id="6990846"><a href="/image/geom.go.html#3188685">Rect</a></span><span class="op" id="6990850">(</span><span class="num" id="6990851">0</span><span class="op" id="6990852">,</span>&nbsp;<span class="num" id="6990854">0</span><span class="op" id="6990855">,</span>&nbsp;<span class="num" id="6990857">10</span><span class="op" id="6990859">,</span>&nbsp;<span class="num" id="6990861">10</span><span class="op" id="6990863">)</span><span class="op" id="6990864">)</span><span class="op" id="6990865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6990868">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6990871">for</span>&nbsp;<span class="ident" id="6990875">_</span><span class="op" id="6990876">,</span>&nbsp;<span class="ident" id="6990878">m</span>&nbsp;<span class="op" id="6990880">:=</span>&nbsp;<span class="keyword" id="6990883">range</span>&nbsp;<span class="ident" id="6990889"><a href="/image/image_test.go.html#6990711">testImage</a></span>&nbsp;<span class="op" id="6990899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990903"><a href="/image/image_test.go.html#6990878">m</a></span><span class="op" id="6990904">.</span><span class="ident" id="6990905">Set</span><span class="op" id="6990908">(</span><span class="num" id="6990909">1</span><span class="op" id="6990910">,</span>&nbsp;<span class="num" id="6990912">2</span><span class="op" id="6990913">,</span>&nbsp;<span class="ident" id="6990915"><a href="/image/image_test.go.html#6988083">color</a></span><span class="op" id="6990920">.</span><span class="ident" id="6990921">NRGBA64</span><span class="op" id="6990928">{</span><span class="num" id="6990929">0xffff</span><span class="op" id="6990935">,</span>&nbsp;<span class="num" id="6990937">0xffff</span><span class="op" id="6990943">,</span>&nbsp;<span class="num" id="6990945">0xffff</span><span class="op" id="6990951">,</span>&nbsp;<span class="num" id="6990953">0x1357</span><span class="op" id="6990959">}</span><span class="op" id="6990960">)</span>&nbsp;<span class="comment" id="6990962">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6990992">r</span><span class="op" id="6990993">,</span>&nbsp;<span class="ident" id="6990995">_</span><span class="op" id="6990996">,</span>&nbsp;<span class="ident" id="6990998">_</span><span class="op" id="6990999">,</span>&nbsp;<span class="ident" id="6991001">_</span>&nbsp;<span class="op" id="6991003">:=</span>&nbsp;<span class="ident" id="6991006"><a href="/image/image_test.go.html#6990878">m</a></span><span class="op" id="6991007">.</span><span class="ident" id="6991008">At</span><span class="op" id="6991010">(</span><span class="num" id="6991011">1</span><span class="op" id="6991012">,</span>&nbsp;<span class="num" id="6991014">2</span><span class="op" id="6991015">)</span><span class="op" id="6991016">.</span><span class="ident" id="6991017">RGBA</span><span class="op" id="6991021">(</span><span class="op" id="6991022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6991026">if</span>&nbsp;<span class="ident" id="6991029"><a href="/image/image_test.go.html#6990992">r</a></span>&nbsp;<span class="op" id="6991031">!=</span>&nbsp;<span class="num" id="6991034">0x1357</span>&nbsp;<span class="op" id="6991041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6991046"><a href="/image/image_test.go.html#6990317">t</a></span><span class="op" id="6991047">.</span><span class="ident" id="6991048">Errorf</span><span class="op" id="6991054">(</span><span class="string" id="6991055">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="6991093">,</span>&nbsp;<span class="ident" id="6991095"><a href="/image/image_test.go.html#6990878">m</a></span><span class="op" id="6991096">,</span>&nbsp;<span class="num" id="6991098">0x1357</span><span class="op" id="6991104">,</span>&nbsp;<span class="ident" id="6991106"><a href="/image/image_test.go.html#6990992">r</a></span><span class="op" id="6991107">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6991112">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6991123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6991126">}</span><br>
<span class="lineno"></span><span class="op" id="6991128">}</span>
</div>
</body>
</html>
