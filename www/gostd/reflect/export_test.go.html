<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>reflect</h2>
<ul>
<li><a href="/gostd/reflect/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/reflect/deepequal.go.html">deepequal.go</a></li>
<li><a href="/gostd/reflect/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/reflect/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/reflect/makefunc.go.html">makefunc.go</a></li>
<li><a href="/gostd/reflect/set_test.go.html">set_test.go</a></li>
<li><a href="/gostd/reflect/tostring_test.go.html">tostring_test.go</a></li>
<li><a href="/gostd/reflect/type.go.html">type.go</a></li>
<li><a href="/gostd/reflect/value.go.html">value.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7416478">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7416534">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7416588">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7416639">package</span>&nbsp;<span class="ident" id="7416647">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7416656">//&nbsp;MakeRO&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;v&nbsp;with&nbsp;the&nbsp;read-only&nbsp;flag&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7416715">func</span>&nbsp;<span class="ident" id="7416720">MakeRO</span><span class="op" id="7416726">(</span><span class="ident" id="7416727">v</span>&nbsp;<span class="ident" id="7416729">Value</span><span class="op" id="7416734">)</span>&nbsp;<span class="ident" id="7416736">Value</span>&nbsp;<span class="op" id="7416742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7416745">v</span><span class="op" id="7416746">.</span><span class="ident" id="7416747">flag</span>&nbsp;<span class="op" id="7416752">|=</span>&nbsp;<span class="ident" id="7416755">flagRO</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7416763">return</span>&nbsp;<span class="ident" id="7416770">v</span><br>
<span class="lineno"></span><span class="op" id="7416772">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7416775">//&nbsp;IsRO&nbsp;reports&nbsp;whether&nbsp;v&#39;s&nbsp;read-only&nbsp;flag&nbsp;is&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="7416826">func</span>&nbsp;<span class="ident" id="7416831">IsRO</span><span class="op" id="7416835">(</span><span class="ident" id="7416836">v</span>&nbsp;<span class="ident" id="7416838">Value</span><span class="op" id="7416843">)</span>&nbsp;<span class="builtintype" id="7416845">bool</span>&nbsp;<span class="op" id="7416850">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7416853">return</span>&nbsp;<span class="ident" id="7416860">v</span><span class="op" id="7416861">.</span><span class="ident" id="7416862">flag</span><span class="op" id="7416866">&amp;</span><span class="ident" id="7416867">flagRO</span>&nbsp;<span class="op" id="7416874">!=</span>&nbsp;<span class="num" id="7416877">0</span><br>
<span class="lineno"></span><span class="op" id="7416879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7416882">var</span>&nbsp;<span class="ident" id="7416886">ArrayOf</span>&nbsp;<span class="op" id="7416894">=</span>&nbsp;<span class="ident" id="7416896">arrayOf</span><br>
<span class="lineno"></span><span class="keyword" id="7416904">var</span>&nbsp;<span class="ident" id="7416908">CallGC</span>&nbsp;<span class="op" id="7416915">=</span>&nbsp;<span class="op" id="7416917">&amp;</span><span class="ident" id="7416918">callGC</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7416926">const</span>&nbsp;<span class="ident" id="7416932">PtrSize</span>&nbsp;<span class="op" id="7416940">=</span>&nbsp;<span class="ident" id="7416942">ptrSize</span><br>
<span class="lineno"></span><span class="keyword" id="7416950">const</span>&nbsp;<span class="ident" id="7416956">BitsPointer</span>&nbsp;<span class="op" id="7416968">=</span>&nbsp;<span class="ident" id="7416970">bitsPointer</span><br>
<span class="lineno"></span><span class="keyword" id="7416982">const</span>&nbsp;<span class="ident" id="7416988">BitsScalar</span>&nbsp;<span class="op" id="7416999">=</span>&nbsp;<span class="ident" id="7417001">bitsScalar</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7417013">func</span>&nbsp;<span class="ident" id="7417018">FuncLayout</span><span class="op" id="7417028">(</span><span class="ident" id="7417029">t</span>&nbsp;<span class="ident" id="7417031">Type</span><span class="op" id="7417035">,</span>&nbsp;<span class="ident" id="7417037">rcvr</span>&nbsp;<span class="ident" id="7417042">Type</span><span class="op" id="7417046">)</span>&nbsp;<span class="op" id="7417048">(</span><span class="ident" id="7417049">frametype</span>&nbsp;<span class="ident" id="7417059">Type</span><span class="op" id="7417063">,</span>&nbsp;<span class="ident" id="7417065">argSize</span><span class="op" id="7417072">,</span>&nbsp;<span class="ident" id="7417074">retOffset</span>&nbsp;<span class="builtintype" id="7417084">uintptr</span><span class="op" id="7417091">,</span>&nbsp;<span class="ident" id="7417093">stack</span>&nbsp;<span class="op" id="7417099">[</span><span class="op" id="7417100">]</span><span class="builtintype" id="7417101">byte</span><span class="op" id="7417105">)</span>&nbsp;<span class="op" id="7417107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7417110">var</span>&nbsp;<span class="ident" id="7417114">ft</span>&nbsp;<span class="op" id="7417117">*</span><span class="ident" id="7417118">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7417125">var</span>&nbsp;<span class="ident" id="7417129">s</span>&nbsp;<span class="op" id="7417131">*</span><span class="ident" id="7417132">bitVector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7417143">if</span>&nbsp;<span class="ident" id="7417146">rcvr</span>&nbsp;<span class="op" id="7417151">!=</span>&nbsp;<span class="builtintype" id="7417154">nil</span>&nbsp;<span class="op" id="7417158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7417162">ft</span><span class="op" id="7417164">,</span>&nbsp;<span class="ident" id="7417166">argSize</span><span class="op" id="7417173">,</span>&nbsp;<span class="ident" id="7417175">retOffset</span><span class="op" id="7417184">,</span>&nbsp;<span class="ident" id="7417186">s</span>&nbsp;<span class="op" id="7417188">=</span>&nbsp;<span class="ident" id="7417190">funcLayout</span><span class="op" id="7417200">(</span><span class="ident" id="7417201">t</span><span class="op" id="7417202">.</span><span class="op" id="7417203">(</span><span class="op" id="7417204">*</span><span class="ident" id="7417205">rtype</span><span class="op" id="7417210">)</span><span class="op" id="7417211">,</span>&nbsp;<span class="ident" id="7417213">rcvr</span><span class="op" id="7417217">.</span><span class="op" id="7417218">(</span><span class="op" id="7417219">*</span><span class="ident" id="7417220">rtype</span><span class="op" id="7417225">)</span><span class="op" id="7417226">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7417229">}</span>&nbsp;<span class="keyword" id="7417231">else</span>&nbsp;<span class="op" id="7417236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7417240">ft</span><span class="op" id="7417242">,</span>&nbsp;<span class="ident" id="7417244">argSize</span><span class="op" id="7417251">,</span>&nbsp;<span class="ident" id="7417253">retOffset</span><span class="op" id="7417262">,</span>&nbsp;<span class="ident" id="7417264">s</span>&nbsp;<span class="op" id="7417266">=</span>&nbsp;<span class="ident" id="7417268">funcLayout</span><span class="op" id="7417278">(</span><span class="ident" id="7417279">t</span><span class="op" id="7417280">.</span><span class="op" id="7417281">(</span><span class="op" id="7417282">*</span><span class="ident" id="7417283">rtype</span><span class="op" id="7417288">)</span><span class="op" id="7417289">,</span>&nbsp;<span class="builtintype" id="7417291">nil</span><span class="op" id="7417294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7417297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7417300">frametype</span>&nbsp;<span class="op" id="7417310">=</span>&nbsp;<span class="ident" id="7417312">ft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7417316">for</span>&nbsp;<span class="ident" id="7417320">i</span>&nbsp;<span class="op" id="7417322">:=</span>&nbsp;<span class="builtintype" id="7417325">uint32</span><span class="op" id="7417331">(</span><span class="num" id="7417332">0</span><span class="op" id="7417333">)</span><span class="op" id="7417334">;</span>&nbsp;<span class="ident" id="7417336">i</span>&nbsp;<span class="op" id="7417338">&lt;</span>&nbsp;<span class="ident" id="7417340">s</span><span class="op" id="7417341">.</span><span class="ident" id="7417342">n</span><span class="op" id="7417343">;</span>&nbsp;<span class="ident" id="7417345">i</span>&nbsp;<span class="op" id="7417347">+=</span>&nbsp;<span class="num" id="7417350">2</span>&nbsp;<span class="op" id="7417352">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7417356">stack</span>&nbsp;<span class="op" id="7417362">=</span>&nbsp;<span class="builtinfunc" id="7417364">append</span><span class="op" id="7417370">(</span><span class="ident" id="7417371">stack</span><span class="op" id="7417376">,</span>&nbsp;<span class="ident" id="7417378">s</span><span class="op" id="7417379">.</span><span class="ident" id="7417380">data</span><span class="op" id="7417384">[</span><span class="ident" id="7417385">i</span><span class="op" id="7417386">/</span><span class="num" id="7417387">8</span><span class="op" id="7417388">]</span><span class="op" id="7417389">&gt;&gt;</span><span class="op" id="7417391">(</span><span class="ident" id="7417392">i</span><span class="op" id="7417393">%</span><span class="num" id="7417394">8</span><span class="op" id="7417395">)</span><span class="op" id="7417396">&amp;</span><span class="num" id="7417397">3</span><span class="op" id="7417398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7417401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7417404">return</span><br>
<span class="lineno"></span><span class="op" id="7417411">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
